const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-DWunEbPj.js","assets/projectEnvVariables-Dc7Ax8fr.js"])))=>i.map(i=>d[i]);
var Hie=Object.defineProperty;var zie=(t,e,r)=>e in t?Hie(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Kt=(t,e,r)=>zie(t,typeof e!="symbol"?e+"":e,r);import{g as qie}from"./projectEnvVariables-Dc7Ax8fr.js";function Uie(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const s=Object.getOwnPropertyDescriptor(n,a);s&&Object.defineProperty(t,a,s.get?s:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=r(a);fetch(a.href,s)}})();var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Kn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jk={exports:{}},jy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var j7;function Wie(){if(j7)return jy;j7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,s){var o=null;if(s!==void 0&&(o=""+s),a.key!==void 0&&(o=""+a.key),"key"in a){s={};for(var l in a)l!=="key"&&(s[l]=a[l])}else s=a;return a=s.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:s}}return jy.Fragment=e,jy.jsx=r,jy.jsxs=r,jy}var N7;function Vie(){return N7||(N7=1,Jk.exports=Wie()),Jk.exports}var i=Vie(),Xk={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S7;function Gie(){if(S7)return sn;S7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function p(K){return K===null||typeof K!="object"?null:(K=g&&K[g]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,b={};function N(K,U,X){this.props=K,this.context=U,this.refs=b,this.updater=X||v}N.prototype.isReactComponent={},N.prototype.setState=function(K,U){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,U,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function S(K,U,X){this.props=K,this.context=U,this.refs=b,this.updater=X||v}var A=S.prototype=new k;A.constructor=S,w(A,N.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function M(){}var R={H:null,A:null,T:null,S:null},L=Object.prototype.hasOwnProperty;function I(K,U,X){var Z=X.ref;return{$$typeof:t,type:K,key:U,ref:Z!==void 0?Z:null,props:X}}function B(K,U){return I(K.type,U,K.props)}function D(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function E(K){var U={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(X){return U[X]})}var H=/\/+/g;function V(K,U){return typeof K=="object"&&K!==null&&K.key!=null?E(""+K.key):U.toString(36)}function Y(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(M,M):(K.status="pending",K.then(function(U){K.status==="pending"&&(K.status="fulfilled",K.value=U)},function(U){K.status==="pending"&&(K.status="rejected",K.reason=U)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function W(K,U,X,Z,ne){var ue=typeof K;(ue==="undefined"||ue==="boolean")&&(K=null);var _e=!1;if(K===null)_e=!0;else switch(ue){case"bigint":case"string":case"number":_e=!0;break;case"object":switch(K.$$typeof){case t:case e:_e=!0;break;case f:return _e=K._init,W(_e(K._payload),U,X,Z,ne)}}if(_e)return ne=ne(K),_e=Z===""?"."+V(K,0):Z,_(ne)?(X="",_e!=null&&(X=_e.replace(H,"$&/")+"/"),W(ne,U,X,"",function(ke){return ke})):ne!=null&&(D(ne)&&(ne=B(ne,X+(ne.key==null||K&&K.key===ne.key?"":(""+ne.key).replace(H,"$&/")+"/")+_e)),U.push(ne)),1;_e=0;var Ne=Z===""?".":Z+":";if(_(K))for(var ge=0;ge<K.length;ge++)Z=K[ge],ue=Ne+V(Z,ge),_e+=W(Z,U,X,ue,ne);else if(ge=p(K),typeof ge=="function")for(K=ge.call(K),ge=0;!(Z=K.next()).done;)Z=Z.value,ue=Ne+V(Z,ge++),_e+=W(Z,U,X,ue,ne);else if(ue==="object"){if(typeof K.then=="function")return W(Y(K),U,X,Z,ne);throw U=String(K),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.")}return _e}function F(K,U,X){if(K==null)return K;var Z=[],ne=0;return W(K,Z,"","",function(ue){return U.call(X,ue,ne++)}),Z}function z(K){if(K._status===-1){var U=K._result;U=U(),U.then(function(X){(K._status===0||K._status===-1)&&(K._status=1,K._result=X)},function(X){(K._status===0||K._status===-1)&&(K._status=2,K._result=X)}),K._status===-1&&(K._status=0,K._result=U)}if(K._status===1)return K._result.default;throw K._result}var J=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var U=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(U))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},oe={map:F,forEach:function(K,U,X){F(K,function(){U.apply(this,arguments)},X)},count:function(K){var U=0;return F(K,function(){U++}),U},toArray:function(K){return F(K,function(U){return U})||[]},only:function(K){if(!D(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return sn.Activity=m,sn.Children=oe,sn.Component=N,sn.Fragment=r,sn.Profiler=a,sn.PureComponent=S,sn.StrictMode=n,sn.Suspense=c,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,sn.__COMPILER_RUNTIME={__proto__:null,c:function(K){return R.H.useMemoCache(K)}},sn.cache=function(K){return function(){return K.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(K,U,X){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Z=w({},K.props),ne=K.key;if(U!=null)for(ue in U.key!==void 0&&(ne=""+U.key),U)!L.call(U,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&U.ref===void 0||(Z[ue]=U[ue]);var ue=arguments.length-2;if(ue===1)Z.children=X;else if(1<ue){for(var _e=Array(ue),Ne=0;Ne<ue;Ne++)_e[Ne]=arguments[Ne+2];Z.children=_e}return I(K.type,ne,Z)},sn.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:s,_context:K},K},sn.createElement=function(K,U,X){var Z,ne={},ue=null;if(U!=null)for(Z in U.key!==void 0&&(ue=""+U.key),U)L.call(U,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ne[Z]=U[Z]);var _e=arguments.length-2;if(_e===1)ne.children=X;else if(1<_e){for(var Ne=Array(_e),ge=0;ge<_e;ge++)Ne[ge]=arguments[ge+2];ne.children=Ne}if(K&&K.defaultProps)for(Z in _e=K.defaultProps,_e)ne[Z]===void 0&&(ne[Z]=_e[Z]);return I(K,ue,ne)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(K){return{$$typeof:l,render:K}},sn.isValidElement=D,sn.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:z}},sn.memo=function(K,U){return{$$typeof:u,type:K,compare:U===void 0?null:U}},sn.startTransition=function(K){var U=R.T,X={};R.T=X;try{var Z=K(),ne=R.S;ne!==null&&ne(X,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(M,J)}catch(ue){J(ue)}finally{U!==null&&X.types!==null&&(U.types=X.types),R.T=U}},sn.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},sn.use=function(K){return R.H.use(K)},sn.useActionState=function(K,U,X){return R.H.useActionState(K,U,X)},sn.useCallback=function(K,U){return R.H.useCallback(K,U)},sn.useContext=function(K){return R.H.useContext(K)},sn.useDebugValue=function(){},sn.useDeferredValue=function(K,U){return R.H.useDeferredValue(K,U)},sn.useEffect=function(K,U){return R.H.useEffect(K,U)},sn.useEffectEvent=function(K){return R.H.useEffectEvent(K)},sn.useId=function(){return R.H.useId()},sn.useImperativeHandle=function(K,U,X){return R.H.useImperativeHandle(K,U,X)},sn.useInsertionEffect=function(K,U){return R.H.useInsertionEffect(K,U)},sn.useLayoutEffect=function(K,U){return R.H.useLayoutEffect(K,U)},sn.useMemo=function(K,U){return R.H.useMemo(K,U)},sn.useOptimistic=function(K,U){return R.H.useOptimistic(K,U)},sn.useReducer=function(K,U,X){return R.H.useReducer(K,U,X)},sn.useRef=function(K){return R.H.useRef(K)},sn.useState=function(K){return R.H.useState(K)},sn.useSyncExternalStore=function(K,U,X){return R.H.useSyncExternalStore(K,U,X)},sn.useTransition=function(){return R.H.useTransition()},sn.version="19.2.0",sn}var k7;function qv(){return k7||(k7=1,Xk.exports=Gie()),Xk.exports}var y=qv();const fe=Kn(y),K2=Uie({__proto__:null,default:fe},[y]);var Qk={exports:{}},Ny={},Zk={exports:{}},eC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var C7;function Yie(){return C7||(C7=1,(function(t){function e(W,F){var z=W.length;W.push(F);e:for(;0<z;){var J=z-1>>>1,oe=W[J];if(0<a(oe,F))W[J]=F,W[z]=oe,z=J;else break e}}function r(W){return W.length===0?null:W[0]}function n(W){if(W.length===0)return null;var F=W[0],z=W.pop();if(z!==F){W[0]=z;e:for(var J=0,oe=W.length,K=oe>>>1;J<K;){var U=2*(J+1)-1,X=W[U],Z=U+1,ne=W[Z];if(0>a(X,z))Z<oe&&0>a(ne,X)?(W[J]=ne,W[Z]=z,J=Z):(W[J]=X,W[U]=z,J=U);else if(Z<oe&&0>a(ne,z))W[J]=ne,W[Z]=z,J=Z;else break e}}return F}function a(W,F){var z=W.sortIndex-F.sortIndex;return z!==0?z:W.id-F.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],f=1,m=null,g=3,p=!1,v=!1,w=!1,b=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(W){for(var F=r(u);F!==null;){if(F.callback===null)n(u);else if(F.startTime<=W)n(u),F.sortIndex=F.expirationTime,e(c,F);else break;F=r(u)}}function _(W){if(w=!1,A(W),!v)if(r(c)!==null)v=!0,M||(M=!0,E());else{var F=r(u);F!==null&&Y(_,F.startTime-W)}}var M=!1,R=-1,L=5,I=-1;function B(){return b?!0:!(t.unstable_now()-I<L)}function D(){if(b=!1,M){var W=t.unstable_now();I=W;var F=!0;try{e:{v=!1,w&&(w=!1,k(R),R=-1),p=!0;var z=g;try{t:{for(A(W),m=r(c);m!==null&&!(m.expirationTime>W&&B());){var J=m.callback;if(typeof J=="function"){m.callback=null,g=m.priorityLevel;var oe=J(m.expirationTime<=W);if(W=t.unstable_now(),typeof oe=="function"){m.callback=oe,A(W),F=!0;break t}m===r(c)&&n(c),A(W)}else n(c);m=r(c)}if(m!==null)F=!0;else{var K=r(u);K!==null&&Y(_,K.startTime-W),F=!1}}break e}finally{m=null,g=z,p=!1}F=void 0}}finally{F?E():M=!1}}}var E;if(typeof S=="function")E=function(){S(D)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=D,E=function(){V.postMessage(null)}}else E=function(){N(D,0)};function Y(W,F){R=N(function(){W(t.unstable_now())},F)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(W){W.callback=null},t.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(W){switch(g){case 1:case 2:case 3:var F=3;break;default:F=g}var z=g;g=F;try{return W()}finally{g=z}},t.unstable_requestPaint=function(){b=!0},t.unstable_runWithPriority=function(W,F){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var z=g;g=W;try{return F()}finally{g=z}},t.unstable_scheduleCallback=function(W,F,z){var J=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?J+z:J):z=J,W){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=z+oe,W={id:f++,callback:F,priorityLevel:W,startTime:z,expirationTime:oe,sortIndex:-1},z>J?(W.sortIndex=z,e(u,W),r(c)===null&&W===r(u)&&(w?(k(R),R=-1):w=!0,Y(_,z-J))):(W.sortIndex=oe,e(c,W),v||p||(v=!0,M||(M=!0,E()))),W},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(W){var F=g;return function(){var z=g;g=F;try{return W.apply(this,arguments)}finally{g=z}}}})(eC)),eC}var _7;function Kie(){return _7||(_7=1,Zk.exports=Yie()),Zk.exports}var tC={exports:{}},ro={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A7;function Jie(){if(A7)return ro;A7=1;var t=qv();function e(c){var u="https://react.dev/errors/"+c;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function s(c,u,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:m==null?null:""+m,children:c,containerInfo:u,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,u){if(c==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ro.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ro.createPortal=function(c,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(c,u,null,f)},ro.flushSync=function(c){var u=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=u,n.p=f,n.d.f()}},ro.preconnect=function(c,u){typeof c=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(c,u))},ro.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ro.preinit=function(c,u){if(typeof c=="string"&&u&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,p=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(c,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:p}):f==="script"&&n.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:p,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ro.preinitModule=function(c,u){if(typeof c=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=l(u.as,u.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(c)},ro.preload=function(c,u){if(typeof c=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,m=l(f,u.crossOrigin);n.d.L(c,f,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ro.preloadModule=function(c,u){if(typeof c=="string")if(u){var f=l(u.as,u.crossOrigin);n.d.m(c,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(c)},ro.requestFormReset=function(c){n.d.r(c)},ro.unstable_batchedUpdates=function(c,u){return c(u)},ro.useFormState=function(c,u,f){return o.H.useFormState(c,u,f)},ro.useFormStatus=function(){return o.H.useHostTransitionStatus()},ro.version="19.2.0",ro}var T7;function FG(){if(T7)return tC.exports;T7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),tC.exports=Jie(),tC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M7;function Xie(){if(M7)return Ny;M7=1;var t=Kie(),e=qv(),r=FG();function n(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(d){return!(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)}function s(d){var h=d,x=d;if(d.alternate)for(;h.return;)h=h.return;else{d=h;do h=d,(h.flags&4098)!==0&&(x=h.return),d=h.return;while(d)}return h.tag===3?x:null}function o(d){if(d.tag===13){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function l(d){if(d.tag===31){var h=d.memoizedState;if(h===null&&(d=d.alternate,d!==null&&(h=d.memoizedState)),h!==null)return h.dehydrated}return null}function c(d){if(s(d)!==d)throw Error(n(188))}function u(d){var h=d.alternate;if(!h){if(h=s(d),h===null)throw Error(n(188));return h!==d?null:d}for(var x=d,j=h;;){var T=x.return;if(T===null)break;var $=T.alternate;if($===null){if(j=T.return,j!==null){x=j;continue}break}if(T.child===$.child){for($=T.child;$;){if($===x)return c(T),d;if($===j)return c(T),h;$=$.sibling}throw Error(n(188))}if(x.return!==j.return)x=T,j=$;else{for(var ee=!1,be=T.child;be;){if(be===x){ee=!0,x=T,j=$;break}if(be===j){ee=!0,j=T,x=$;break}be=be.sibling}if(!ee){for(be=$.child;be;){if(be===x){ee=!0,x=$,j=T;break}if(be===j){ee=!0,j=$,x=T;break}be=be.sibling}if(!ee)throw Error(n(189))}}if(x.alternate!==j)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?d:h}function f(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d;for(d=d.child;d!==null;){if(h=f(d),h!==null)return h;d=d.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),p=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),L=Symbol.for("react.lazy"),I=Symbol.for("react.activity"),B=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function E(d){return d===null||typeof d!="object"?null:(d=D&&d[D]||d["@@iterator"],typeof d=="function"?d:null)}var H=Symbol.for("react.client.reference");function V(d){if(d==null)return null;if(typeof d=="function")return d.$$typeof===H?null:d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case w:return"Fragment";case N:return"Profiler";case b:return"StrictMode";case _:return"Suspense";case M:return"SuspenseList";case I:return"Activity"}if(typeof d=="object")switch(d.$$typeof){case v:return"Portal";case S:return d.displayName||"Context";case k:return(d._context.displayName||"Context")+".Consumer";case A:var h=d.render;return d=d.displayName,d||(d=h.displayName||h.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case R:return h=d.displayName||null,h!==null?h:V(d.type)||"Memo";case L:h=d._payload,d=d._init;try{return V(d(h))}catch{}}return null}var Y=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},J=[],oe=-1;function K(d){return{current:d}}function U(d){0>oe||(d.current=J[oe],J[oe]=null,oe--)}function X(d,h){oe++,J[oe]=d.current,d.current=h}var Z=K(null),ne=K(null),ue=K(null),_e=K(null);function Ne(d,h){switch(X(ue,h),X(ne,d),X(Z,null),h.nodeType){case 9:case 11:d=(d=h.documentElement)&&(d=d.namespaceURI)?W8(d):0;break;default:if(d=h.tagName,h=h.namespaceURI)h=W8(h),d=V8(h,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}U(Z),X(Z,d)}function ge(){U(Z),U(ne),U(ue)}function ke(d){d.memoizedState!==null&&X(_e,d);var h=Z.current,x=V8(h,d.type);h!==x&&(X(ne,d),X(Z,x))}function ze(d){ne.current===d&&(U(Z),U(ne)),_e.current===d&&(U(_e),yy._currentValue=z)}var he,ye;function ae(d){if(he===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);he=h&&h[1]||"",ye=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+he+d+ye}var ie=!1;function dt(d,h){if(!d||ie)return"";ie=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(h){var Ft=function(){throw Error()};if(Object.defineProperty(Ft.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ft,[])}catch(St){var xt=St}Reflect.construct(d,[],Ft)}else{try{Ft.call()}catch(St){xt=St}d.call(Ft.prototype)}}else{try{throw Error()}catch(St){xt=St}(Ft=d())&&typeof Ft.catch=="function"&&Ft.catch(function(){})}}catch(St){if(St&&xt&&typeof St.stack=="string")return[St.stack,xt.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=j.DetermineComponentFrameRoot(),ee=$[0],be=$[1];if(ee&&be){var Be=ee.split(`
`),mt=be.split(`
`);for(T=j=0;j<Be.length&&!Be[j].includes("DetermineComponentFrameRoot");)j++;for(;T<mt.length&&!mt[T].includes("DetermineComponentFrameRoot");)T++;if(j===Be.length||T===mt.length)for(j=Be.length-1,T=mt.length-1;1<=j&&0<=T&&Be[j]!==mt[T];)T--;for(;1<=j&&0<=T;j--,T--)if(Be[j]!==mt[T]){if(j!==1||T!==1)do if(j--,T--,0>T||Be[j]!==mt[T]){var Ot=`
`+Be[j].replace(" at new "," at ");return d.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",d.displayName)),Ot}while(1<=j&&0<=T);break}}}finally{ie=!1,Error.prepareStackTrace=x}return(x=d?d.displayName||d.name:"")?ae(x):""}function ct(d,h){switch(d.tag){case 26:case 27:case 5:return ae(d.type);case 16:return ae("Lazy");case 13:return d.child!==h&&h!==null?ae("Suspense Fallback"):ae("Suspense");case 19:return ae("SuspenseList");case 0:case 15:return dt(d.type,!1);case 11:return dt(d.type.render,!1);case 1:return dt(d.type,!0);case 31:return ae("Activity");default:return""}}function Le(d){try{var h="",x=null;do h+=ct(d,x),x=d,d=d.return;while(d);return h}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var Qe=Object.prototype.hasOwnProperty,yt=t.unstable_scheduleCallback,bt=t.unstable_cancelCallback,It=t.unstable_shouldYield,At=t.unstable_requestPaint,Se=t.unstable_now,gt=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,Nt=t.unstable_UserBlockingPriority,kt=t.unstable_NormalPriority,De=t.unstable_LowPriority,vt=t.unstable_IdlePriority,Pe=t.log,$e=t.unstable_setDisableYieldValue,Ae=null,Ye=null;function tt(d){if(typeof Pe=="function"&&$e(d),Ye&&typeof Ye.setStrictMode=="function")try{Ye.setStrictMode(Ae,d)}catch{}}var ve=Math.clz32?Math.clz32:pt,pe=Math.log,We=Math.LN2;function pt(d){return d>>>=0,d===0?32:31-(pe(d)/We|0)|0}var Je=256,we=262144,te=4194304;function Oe(d){var h=d&42;if(h!==0)return h;switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return d&261888;case 262144:case 524288:case 1048576:case 2097152:return d&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return d&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return d}}function He(d,h,x){var j=d.pendingLanes;if(j===0)return 0;var T=0,$=d.suspendedLanes,ee=d.pingedLanes;d=d.warmLanes;var be=j&134217727;return be!==0?(j=be&~$,j!==0?T=Oe(j):(ee&=be,ee!==0?T=Oe(ee):x||(x=be&~d,x!==0&&(T=Oe(x))))):(be=j&~$,be!==0?T=Oe(be):ee!==0?T=Oe(ee):x||(x=j&~d,x!==0&&(T=Oe(x)))),T===0?0:h!==0&&h!==T&&(h&$)===0&&($=T&-T,x=h&-h,$>=x||$===32&&(x&4194048)!==0)?h:T}function Ze(d,h){return(d.pendingLanes&~(d.suspendedLanes&~d.pingedLanes)&h)===0}function ft(d,h){switch(d){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Re(){var d=te;return te<<=1,(te&62914560)===0&&(te=4194304),d}function Fe(d){for(var h=[],x=0;31>x;x++)h.push(d);return h}function Ue(d,h){d.pendingLanes|=h,h!==268435456&&(d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0)}function Lt(d,h,x,j,T,$){var ee=d.pendingLanes;d.pendingLanes=x,d.suspendedLanes=0,d.pingedLanes=0,d.warmLanes=0,d.expiredLanes&=x,d.entangledLanes&=x,d.errorRecoveryDisabledLanes&=x,d.shellSuspendCounter=0;var be=d.entanglements,Be=d.expirationTimes,mt=d.hiddenUpdates;for(x=ee&~x;0<x;){var Ot=31-ve(x),Ft=1<<Ot;be[Ot]=0,Be[Ot]=-1;var xt=mt[Ot];if(xt!==null)for(mt[Ot]=null,Ot=0;Ot<xt.length;Ot++){var St=xt[Ot];St!==null&&(St.lane&=-536870913)}x&=~Ft}j!==0&&zt(d,j,0),$!==0&&T===0&&d.tag!==0&&(d.suspendedLanes|=$&~(ee&~h))}function zt(d,h,x){d.pendingLanes|=h,d.suspendedLanes&=~h;var j=31-ve(h);d.entangledLanes|=h,d.entanglements[j]=d.entanglements[j]|1073741824|x&261930}function Ut(d,h){var x=d.entangledLanes|=h;for(d=d.entanglements;x;){var j=31-ve(x),T=1<<j;T&h|d[j]&h&&(d[j]|=h),x&=~T}}function st(d,h){var x=h&-h;return x=(x&42)!==0?1:jt(x),(x&(d.suspendedLanes|h))!==0?0:x}function jt(d){switch(d){case 2:d=1;break;case 8:d=4;break;case 32:d=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:d=128;break;case 268435456:d=134217728;break;default:d=0}return d}function Vt(d){return d&=-d,2<d?8<d?(d&134217727)!==0?32:268435456:8:2}function gr(){var d=F.p;return d!==0?d:(d=window.event,d===void 0?32:p7(d.type))}function fn(d,h){var x=F.p;try{return F.p=d,h()}finally{F.p=x}}var gn=Math.random().toString(36).slice(2),ar="__reactFiber$"+gn,Wr="__reactProps$"+gn,Kr="__reactContainer$"+gn,Zt="__reactEvents$"+gn,et="__reactListeners$"+gn,nt="__reactHandles$"+gn,Tt="__reactResources$"+gn,de="__reactMarker$"+gn;function Ke(d){delete d[ar],delete d[Wr],delete d[Zt],delete d[et],delete d[nt]}function wt(d){var h=d[ar];if(h)return h;for(var x=d.parentNode;x;){if(h=x[Kr]||x[ar]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(d=Z8(d);d!==null;){if(x=d[ar])return x;d=Z8(d)}return h}d=x,x=d.parentNode}return null}function or(d){if(d=d[ar]||d[Kr]){var h=d.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return d}return null}function Xr(d){var h=d.tag;if(h===5||h===26||h===27||h===6)return d.stateNode;throw Error(n(33))}function Mt(d){var h=d[Tt];return h||(h=d[Tt]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function rr(d){d[de]=!0}var Mr=new Set,jr={};function ur(d,h){Fr(d,h),Fr(d+"Capture",h)}function Fr(d,h){for(jr[d]=h,d=0;d<h.length;d++)Mr.add(h[d])}var pa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hr={},Fs={};function ga(d){return Qe.call(Fs,d)?!0:Qe.call(Hr,d)?!1:pa.test(d)?Fs[d]=!0:(Hr[d]=!0,!1)}function jn(d,h,x){if(ga(h))if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":d.removeAttribute(h);return;case"boolean":var j=h.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){d.removeAttribute(h);return}}d.setAttribute(h,""+x)}}function Tn(d,h,x){if(x===null)d.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(h);return}d.setAttribute(h,""+x)}}function en(d,h,x,j){if(j===null)d.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":d.removeAttribute(x);return}d.setAttributeNS(h,x,""+j)}}function In(d){switch(typeof d){case"bigint":case"boolean":case"number":case"string":case"undefined":return d;case"object":return d;default:return""}}function Cc(d){var h=d.type;return(d=d.nodeName)&&d.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Xs(d,h,x){var j=Object.getOwnPropertyDescriptor(d.constructor.prototype,h);if(!d.hasOwnProperty(h)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var T=j.get,$=j.set;return Object.defineProperty(d,h,{configurable:!0,get:function(){return T.call(this)},set:function(ee){x=""+ee,$.call(this,ee)}}),Object.defineProperty(d,h,{enumerable:j.enumerable}),{getValue:function(){return x},setValue:function(ee){x=""+ee},stopTracking:function(){d._valueTracker=null,delete d[h]}}}}function bo(d){if(!d._valueTracker){var h=Cc(d)?"checked":"value";d._valueTracker=Xs(d,h,""+d[h])}}function Qs(d){if(!d)return!1;var h=d._valueTracker;if(!h)return!0;var x=h.getValue(),j="";return d&&(j=Cc(d)?d.checked?"true":"false":d.value),d=j,d!==x?(h.setValue(d),!0):!1}function qo(d){if(d=d||(typeof document<"u"?document:void 0),typeof d>"u")return null;try{return d.activeElement||d.body}catch{return d.body}}var Ra=/[\n"\\]/g;function Wi(d){return d.replace(Ra,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function bd(d,h,x,j,T,$,ee,be){d.name="",ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?d.type=ee:d.removeAttribute("type"),h!=null?ee==="number"?(h===0&&d.value===""||d.value!=h)&&(d.value=""+In(h)):d.value!==""+In(h)&&(d.value=""+In(h)):ee!=="submit"&&ee!=="reset"||d.removeAttribute("value"),h!=null?vd(d,ee,In(h)):x!=null?vd(d,ee,In(x)):j!=null&&d.removeAttribute("value"),T==null&&$!=null&&(d.defaultChecked=!!$),T!=null&&(d.checked=T&&typeof T!="function"&&typeof T!="symbol"),be!=null&&typeof be!="function"&&typeof be!="symbol"&&typeof be!="boolean"?d.name=""+In(be):d.removeAttribute("name")}function Wf(d,h,x,j,T,$,ee,be){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(d.type=$),h!=null||x!=null){if(!($!=="submit"&&$!=="reset"||h!=null)){bo(d);return}x=x!=null?""+In(x):"",h=h!=null?""+In(h):x,be||h===d.value||(d.value=h),d.defaultValue=h}j=j??T,j=typeof j!="function"&&typeof j!="symbol"&&!!j,d.checked=be?d.checked:!!j,d.defaultChecked=!!j,ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"&&(d.name=ee),bo(d)}function vd(d,h,x){h==="number"&&qo(d.ownerDocument)===d||d.defaultValue===""+x||(d.defaultValue=""+x)}function as(d,h,x,j){if(d=d.options,h){h={};for(var T=0;T<x.length;T++)h["$"+x[T]]=!0;for(x=0;x<d.length;x++)T=h.hasOwnProperty("$"+d[x].value),d[x].selected!==T&&(d[x].selected=T),T&&j&&(d[x].defaultSelected=!0)}else{for(x=""+In(x),h=null,T=0;T<d.length;T++){if(d[T].value===x){d[T].selected=!0,j&&(d[T].defaultSelected=!0);return}h!==null||d[T].disabled||(h=d[T])}h!==null&&(h.selected=!0)}}function wd(d,h,x){if(h!=null&&(h=""+In(h),h!==d.value&&(d.value=h),x==null)){d.defaultValue!==h&&(d.defaultValue=h);return}d.defaultValue=x!=null?""+In(x):""}function se(d,h,x,j){if(h==null){if(j!=null){if(x!=null)throw Error(n(92));if(Y(j)){if(1<j.length)throw Error(n(93));j=j[0]}x=j}x==null&&(x=""),h=x}x=In(h),d.defaultValue=x,j=d.textContent,j===x&&j!==""&&j!==null&&(d.value=j),bo(d)}function re(d,h){if(h){var x=d.firstChild;if(x&&x===d.lastChild&&x.nodeType===3){x.nodeValue=h;return}}d.textContent=h}var Ie=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Qt(d,h,x){var j=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?d.setProperty(h,""):h==="float"?d.cssFloat="":d[h]="":j?d.setProperty(h,x):typeof x!="number"||x===0||Ie.has(h)?h==="float"?d.cssFloat=x:d[h]=(""+x).trim():d[h]=x+"px"}function cn(d,h,x){if(h!=null&&typeof h!="object")throw Error(n(62));if(d=d.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||h!=null&&h.hasOwnProperty(j)||(j.indexOf("--")===0?d.setProperty(j,""):j==="float"?d.cssFloat="":d[j]="");for(var T in h)j=h[T],h.hasOwnProperty(T)&&x[T]!==j&&Qt(d,T,j)}else for(var $ in h)h.hasOwnProperty($)&&Qt(d,$,h[$])}function xn(d){if(d.indexOf("-")===-1)return!1;switch(d){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var is=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ss=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Oi(d){return ss.test(""+d)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":d}function Ei(){}var Rl=null;function jd(d){return d=d.target||d.srcElement||window,d.correspondingUseElement&&(d=d.correspondingUseElement),d.nodeType===3?d.parentNode:d}var $r=null,yu=null;function Qp(d){var h=or(d);if(h&&(d=h.stateNode)){var x=d[Wr]||null;e:switch(d=h.stateNode,h.type){case"input":if(bd(d,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=d;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Wi(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var j=x[h];if(j!==d&&j.form===d.form){var T=j[Wr]||null;if(!T)throw Error(n(90));bd(j,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<x.length;h++)j=x[h],j.form===d.form&&Qs(j)}break e;case"textarea":wd(d,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&as(d,!!x.multiple,h,!1)}}}var ym=!1;function Zp(d,h,x){if(ym)return d(h,x);ym=!0;try{var j=d(h);return j}finally{if(ym=!1,($r!==null||yu!==null)&&(H1(),$r&&(h=$r,d=yu,yu=$r=null,Qp(h),d)))for(h=0;h<d.length;h++)Qp(d[h])}}function vo(d,h){var x=d.stateNode;if(x===null)return null;var j=x[Wr]||null;if(j===null)return null;x=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(d=d.type,j=!(d==="button"||d==="input"||d==="select"||d==="textarea")),d=!j;break e;default:d=!1}if(d)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var ls=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bm=!1;if(ls)try{var Nd={};Object.defineProperty(Nd,"passive",{get:function(){bm=!0}}),window.addEventListener("test",Nd,Nd),window.removeEventListener("test",Nd,Nd)}catch{bm=!1}var wo=null,Sd=null,Il=null;function kd(){if(Il)return Il;var d,h=Sd,x=h.length,j,T="value"in wo?wo.value:wo.textContent,$=T.length;for(d=0;d<x&&h[d]===T[d];d++);var ee=x-d;for(j=1;j<=ee&&h[x-j]===T[$-j];j++);return Il=T.slice(d,1<j?1-j:void 0)}function _c(d){var h=d.keyCode;return"charCode"in d?(d=d.charCode,d===0&&h===13&&(d=13)):d=h,d===10&&(d=13),32<=d||d===13?d:0}function Vf(){return!0}function Gf(){return!1}function Vi(d){function h(x,j,T,$,ee){this._reactName=x,this._targetInst=T,this.type=j,this.nativeEvent=$,this.target=ee,this.currentTarget=null;for(var be in d)d.hasOwnProperty(be)&&(x=d[be],this[be]=x?x($):$[be]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Vf:Gf,this.isPropagationStopped=Gf,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Vf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Vf)},persist:function(){},isPersistent:Vf}),h}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(d){return d.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Fl=Vi(jo),Ac=m({},jo,{view:0,detail:0}),Yf=Vi(Ac),Cd,Tc,bu,_d=m({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vr,button:0,buttons:0,relatedTarget:function(d){return d.relatedTarget===void 0?d.fromElement===d.srcElement?d.toElement:d.fromElement:d.relatedTarget},movementX:function(d){return"movementX"in d?d.movementX:(d!==bu&&(bu&&d.type==="mousemove"?(Cd=d.screenX-bu.screenX,Tc=d.screenY-bu.screenY):Tc=Cd=0,bu=d),Cd)},movementY:function(d){return"movementY"in d?d.movementY:Tc}}),$l=Vi(_d),Mc=m({},_d,{dataTransfer:0}),e0=Vi(Mc),t0=m({},Ac,{relatedTarget:0}),Oc=Vi(t0),r0=m({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),q=Vi(r0),le=m({},jo,{clipboardData:function(d){return"clipboardData"in d?d.clipboardData:window.clipboardData}}),Ee=Vi(le),qe=m({},jo,{data:0}),at=Vi(qe),Dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nr(d){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(d):(d=xr[d])?!!h[d]:!1}function Vr(){return Nr}var tn=m({},Ac,{key:function(d){if(d.key){var h=Dt[d.key]||d.key;if(h!=="Unidentified")return h}return d.type==="keypress"?(d=_c(d),d===13?"Enter":String.fromCharCode(d)):d.type==="keydown"||d.type==="keyup"?Bt[d.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vr,charCode:function(d){return d.type==="keypress"?_c(d):0},keyCode:function(d){return d.type==="keydown"||d.type==="keyup"?d.keyCode:0},which:function(d){return d.type==="keypress"?_c(d):d.type==="keydown"||d.type==="keyup"?d.keyCode:0}}),zn=Vi(tn),Ia=m({},_d,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ri=Vi(Ia),xa=m({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vr}),Di=Vi(xa),fi=m({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),cs=Vi(fi),Uo=m({},_d,{deltaX:function(d){return"deltaX"in d?d.deltaX:"wheelDeltaX"in d?-d.wheelDeltaX:0},deltaY:function(d){return"deltaY"in d?d.deltaY:"wheelDeltaY"in d?-d.wheelDeltaY:"wheelDelta"in d?-d.wheelDelta:0},deltaZ:0,deltaMode:0}),Zs=Vi(Uo),n0=m({},jo,{newState:0,oldState:0}),Kf=Vi(n0),Ad=[9,13,27,32],Bl=ls&&"CompositionEvent"in window,hl=null;ls&&"documentMode"in document&&(hl=document.documentMode);var Td=ls&&"TextEvent"in window&&!hl,vu=ls&&(!Bl||hl&&8<hl&&11>=hl),us=" ",wu=!1;function ju(d,h){switch(d){case"keyup":return Ad.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jf(d){return d=d.detail,typeof d=="object"&&"data"in d?d.data:null}var Hl=!1;function Ga(d,h){switch(d){case"compositionend":return Jf(h);case"keypress":return h.which!==32?null:(wu=!0,us);case"textInput":return d=h.data,d===us&&wu?null:d;default:return null}}function Ec(d,h){if(Hl)return d==="compositionend"||!Bl&&ju(d,h)?(d=kd(),Il=Sd=wo=null,Hl=!1,d):null;switch(d){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return vu&&h.locale!=="ko"?null:h.data;default:return null}}var Xf={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function vm(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h==="input"?!!Xf[d.type]:h==="textarea"}function No(d,h,x,j){$r?yu?yu.push(j):yu=[j]:$r=j,h=Y1(h,"onChange"),0<h.length&&(x=new Fl("onChange","change",null,x,j),d.push({event:x,listeners:h}))}var ml=null,Dc=null;function wm(d){$8(d,0)}function pl(d){var h=Xr(d);if(Qs(h))return d}function Nu(d,h){if(d==="change")return h}var eo=!1;if(ls){var $s;if(ls){var zl="oninput"in document;if(!zl){var ql=document.createElement("div");ql.setAttribute("oninput","return;"),zl=typeof ql.oninput=="function"}$s=zl}else $s=!1;eo=$s&&(!document.documentMode||9<document.documentMode)}function Pc(){ml&&(ml.detachEvent("onpropertychange",Qf),Dc=ml=null)}function Qf(d){if(d.propertyName==="value"&&pl(Dc)){var h=[];No(h,Dc,d,jd(d)),Zp(wm,h)}}function Zf(d,h,x){d==="focusin"?(Pc(),ml=h,Dc=x,ml.attachEvent("onpropertychange",Qf)):d==="focusout"&&Pc()}function ni(d){if(d==="selectionchange"||d==="keyup"||d==="keydown")return pl(Dc)}function a0(d,h){if(d==="click")return pl(h)}function Ul(d,h){if(d==="input"||d==="change")return pl(h)}function Wl(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var ds=typeof Object.is=="function"?Object.is:Wl;function Lc(d,h){if(ds(d,h))return!0;if(typeof d!="object"||d===null||typeof h!="object"||h===null)return!1;var x=Object.keys(d),j=Object.keys(h);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var T=x[j];if(!Qe.call(h,T)||!ds(d[T],h[T]))return!1}return!0}function eh(d){for(;d&&d.firstChild;)d=d.firstChild;return d}function th(d,h){var x=eh(d);d=0;for(var j;x;){if(x.nodeType===3){if(j=d+x.textContent.length,d<=h&&j>=h)return{node:x,offset:h-d};d=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=eh(x)}}function Rc(d,h){return d&&h?d===h?!0:d&&d.nodeType===3?!1:h&&h.nodeType===3?Rc(d,h.parentNode):"contains"in d?d.contains(h):d.compareDocumentPosition?!!(d.compareDocumentPosition(h)&16):!1:!1}function Ic(d){d=d!=null&&d.ownerDocument!=null&&d.ownerDocument.defaultView!=null?d.ownerDocument.defaultView:window;for(var h=qo(d.document);h instanceof d.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)d=h.contentWindow;else break;h=qo(d.document)}return h}function Vl(d){var h=d&&d.nodeName&&d.nodeName.toLowerCase();return h&&(h==="input"&&(d.type==="text"||d.type==="search"||d.type==="tel"||d.type==="url"||d.type==="password")||h==="textarea"||d.contentEditable==="true")}var Md=ls&&"documentMode"in document&&11>=document.documentMode,So=null,Fc=null,Ss=null,Wo=!1;function qn(d,h,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Wo||So==null||So!==qo(j)||(j=So,"selectionStart"in j&&Vl(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Ss&&Lc(Ss,j)||(Ss=j,j=Y1(Fc,"onSelect"),0<j.length&&(h=new Fl("onSelect","select",null,h,x),d.push({event:h,listeners:j}),h.target=So)))}function Ln(d,h){var x={};return x[d.toLowerCase()]=h.toLowerCase(),x["Webkit"+d]="webkit"+h,x["Moz"+d]="moz"+h,x}var ya={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},ai={},Gl={};ls&&(Gl=document.createElement("div").style,"AnimationEvent"in window||(delete ya.animationend.animation,delete ya.animationiteration.animation,delete ya.animationstart.animation),"TransitionEvent"in window||delete ya.transitionend.transition);function gl(d){if(ai[d])return ai[d];if(!ya[d])return d;var h=ya[d],x;for(x in h)if(h.hasOwnProperty(x)&&x in Gl)return ai[d]=h[x];return d}var Od=gl("animationend"),jm=gl("animationiteration"),Hx=gl("animationstart"),x1=gl("transitionrun"),y1=gl("transitionstart"),b1=gl("transitioncancel"),zx=gl("transitionend"),qx=new Map,Ed="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ed.push("scrollEnd");function Vo(d,h){qx.set(d,h),ur(h,[d])}var Nm=typeof reportError=="function"?reportError:function(d){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof d=="object"&&d!==null&&typeof d.message=="string"?String(d.message):String(d),error:d});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",d);return}console.error(d)},ko=[],Dd=0,i0=0;function Sm(){for(var d=Dd,h=i0=Dd=0;h<d;){var x=ko[h];ko[h++]=null;var j=ko[h];ko[h++]=null;var T=ko[h];ko[h++]=null;var $=ko[h];if(ko[h++]=null,j!==null&&T!==null){var ee=j.pending;ee===null?T.next=T:(T.next=ee.next,ee.next=T),j.pending=T}$!==0&&Cm(x,T,$)}}function km(d,h,x,j){ko[Dd++]=d,ko[Dd++]=h,ko[Dd++]=x,ko[Dd++]=j,i0|=j,d.lanes|=j,d=d.alternate,d!==null&&(d.lanes|=j)}function s0(d,h,x,j){return km(d,h,x,j),ks(d)}function $c(d,h){return km(d,null,null,h),ks(d)}function Cm(d,h,x){d.lanes|=x;var j=d.alternate;j!==null&&(j.lanes|=x);for(var T=!1,$=d.return;$!==null;)$.childLanes|=x,j=$.alternate,j!==null&&(j.childLanes|=x),$.tag===22&&(d=$.stateNode,d===null||d._visibility&1||(T=!0)),d=$,$=$.return;return d.tag===3?($=d.stateNode,T&&h!==null&&(T=31-ve(x),d=$.hiddenUpdates,j=d[T],j===null?d[T]=[h]:j.push(h),h.lane=x|536870912),$):null}function ks(d){if(50<dy)throw dy=0,vk=null,Error(n(185));for(var h=d.return;h!==null;)d=h,h=d.return;return d.tag===3?d.stateNode:null}var fs={};function o0(d,h,x,j){this.tag=d,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(d,h,x,j){return new o0(d,h,x,j)}function l0(d){return d=d.prototype,!(!d||!d.isReactComponent)}function Go(d,h){var x=d.alternate;return x===null?(x=Cs(d.tag,h,d.key,d.mode),x.elementType=d.elementType,x.type=d.type,x.stateNode=d.stateNode,x.alternate=d,d.alternate=x):(x.pendingProps=h,x.type=d.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=d.flags&65011712,x.childLanes=d.childLanes,x.lanes=d.lanes,x.child=d.child,x.memoizedProps=d.memoizedProps,x.memoizedState=d.memoizedState,x.updateQueue=d.updateQueue,h=d.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=d.sibling,x.index=d.index,x.ref=d.ref,x.refCleanup=d.refCleanup,x}function _m(d,h){d.flags&=65011714;var x=d.alternate;return x===null?(d.childLanes=0,d.lanes=h,d.child=null,d.subtreeFlags=0,d.memoizedProps=null,d.memoizedState=null,d.updateQueue=null,d.dependencies=null,d.stateNode=null):(d.childLanes=x.childLanes,d.lanes=x.lanes,d.child=x.child,d.subtreeFlags=0,d.deletions=null,d.memoizedProps=x.memoizedProps,d.memoizedState=x.memoizedState,d.updateQueue=x.updateQueue,d.type=x.type,h=x.dependencies,d.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),d}function rh(d,h,x,j,T,$){var ee=0;if(j=d,typeof d=="function")l0(d)&&(ee=1);else if(typeof d=="string")ee=Tie(d,x,Z.current)?26:d==="html"||d==="head"||d==="body"?27:5;else e:switch(d){case I:return d=Cs(31,x,h,T),d.elementType=I,d.lanes=$,d;case w:return Su(x.children,T,$,h);case b:ee=8,T|=24;break;case N:return d=Cs(12,x,h,T|2),d.elementType=N,d.lanes=$,d;case _:return d=Cs(13,x,h,T),d.elementType=_,d.lanes=$,d;case M:return d=Cs(19,x,h,T),d.elementType=M,d.lanes=$,d;default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case S:ee=10;break e;case k:ee=9;break e;case A:ee=11;break e;case R:ee=14;break e;case L:ee=16,j=null;break e}ee=29,x=Error(n(130,d===null?"null":typeof d,"")),j=null}return h=Cs(ee,x,h,T),h.elementType=d,h.type=j,h.lanes=$,h}function Su(d,h,x,j){return d=Cs(7,d,j,h),d.lanes=x,d}function Am(d,h,x){return d=Cs(6,d,null,h),d.lanes=x,d}function c0(d){var h=Cs(18,null,null,0);return h.stateNode=d,h}function nh(d,h,x){return h=Cs(4,d.children!==null?d.children:[],d.key,h),h.lanes=x,h.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},h}var u0=new WeakMap;function Yo(d,h){if(typeof d=="object"&&d!==null){var x=u0.get(d);return x!==void 0?x:(h={value:d,source:h,stack:Le(h)},u0.set(d,h),h)}return{value:d,source:h,stack:Le(h)}}var ah=[],Pd=0,d0=null,Tm=0,Ko=[],Jo=0,ku=null,Xo=1,Qo="";function Co(d,h){ah[Pd++]=Tm,ah[Pd++]=d0,d0=d,Tm=h}function v1(d,h,x){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=ku,ku=d;var j=Xo;d=Qo;var T=32-ve(j)-1;j&=~(1<<T),x+=1;var $=32-ve(h)+T;if(30<$){var ee=T-T%5;$=(j&(1<<ee)-1).toString(32),j>>=ee,T-=ee,Xo=1<<32-ve(h)+T|x<<T|j,Qo=$+d}else Xo=1<<$|x<<T|j,Qo=d}function Ux(d){d.return!==null&&(Co(d,1),v1(d,1,0))}function f0(d){for(;d===d0;)d0=ah[--Pd],ah[Pd]=null,Tm=ah[--Pd],ah[Pd]=null;for(;d===ku;)ku=Ko[--Jo],Ko[Jo]=null,Qo=Ko[--Jo],Ko[Jo]=null,Xo=Ko[--Jo],Ko[Jo]=null}function w1(d,h){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=ku,Xo=h.id,Qo=h.overflow,ku=d}var hs=null,ka=null,Nn=!1,Bs=null,Ya=!1,xl=Error(n(519));function Cu(d){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ih(Yo(h,d)),xl}function Wx(d){var h=d.stateNode,x=d.type,j=d.memoizedProps;switch(h[ar]=d,h[Wr]=j,x){case"dialog":kn("cancel",h),kn("close",h);break;case"iframe":case"object":case"embed":kn("load",h);break;case"video":case"audio":for(x=0;x<hy.length;x++)kn(hy[x],h);break;case"source":kn("error",h);break;case"img":case"image":case"link":kn("error",h),kn("load",h);break;case"details":kn("toggle",h);break;case"input":kn("invalid",h),Wf(h,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":kn("invalid",h);break;case"textarea":kn("invalid",h),se(h,j.value,j.defaultValue,j.children)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||j.suppressHydrationWarning===!0||q8(h.textContent,x)?(j.popover!=null&&(kn("beforetoggle",h),kn("toggle",h)),j.onScroll!=null&&kn("scroll",h),j.onScrollEnd!=null&&kn("scrollend",h),j.onClick!=null&&(h.onclick=Ei),h=!0):h=!1,h||Cu(d,!0)}function Bc(d){for(hs=d.return;hs;)switch(hs.tag){case 5:case 31:case 13:Ya=!1;return;case 27:case 3:Ya=!0;return;default:hs=hs.return}}function ms(d){if(d!==hs)return!1;if(!Nn)return Bc(d),Nn=!0,!1;var h=d.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=d.type,x=!(x!=="form"&&x!=="button")||Lk(d.type,d.memoizedProps)),x=!x),x&&ka&&Cu(d),Bc(d),h===13){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));ka=Q8(d)}else if(h===31){if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(317));ka=Q8(d)}else h===27?(h=ka,bh(d.type)?(d=Bk,Bk=null,ka=d):ka=h):ka=hs?Xl(d.stateNode.nextSibling):null;return!0}function Ld(){ka=hs=null,Nn=!1}function Vx(){var d=Bs;return d!==null&&(al===null?al=d:al.push.apply(al,d),Bs=null),d}function ih(d){Bs===null?Bs=[d]:Bs.push(d)}var h0=K(null),_u=null,Yl=null;function Au(d,h,x){X(h0,h._currentValue),h._currentValue=x}function Zo(d){d._currentValue=h0.current,U(h0)}function sh(d,h,x){for(;d!==null;){var j=d.alternate;if((d.childLanes&h)!==h?(d.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),d===x)break;d=d.return}}function Rd(d,h,x,j){var T=d.child;for(T!==null&&(T.return=d);T!==null;){var $=T.dependencies;if($!==null){var ee=T.child;$=$.firstContext;e:for(;$!==null;){var be=$;$=T;for(var Be=0;Be<h.length;Be++)if(be.context===h[Be]){$.lanes|=x,be=$.alternate,be!==null&&(be.lanes|=x),sh($.return,x,d),j||(ee=null);break e}$=be.next}}else if(T.tag===18){if(ee=T.return,ee===null)throw Error(n(341));ee.lanes|=x,$=ee.alternate,$!==null&&($.lanes|=x),sh(ee,x,d),ee=null}else ee=T.child;if(ee!==null)ee.return=T;else for(ee=T;ee!==null;){if(ee===d){ee=null;break}if(T=ee.sibling,T!==null){T.return=ee.return,ee=T;break}ee=ee.return}T=ee}}function Tu(d,h,x,j){d=null;for(var T=h,$=!1;T!==null;){if(!$){if((T.flags&524288)!==0)$=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var ee=T.alternate;if(ee===null)throw Error(n(387));if(ee=ee.memoizedProps,ee!==null){var be=T.type;ds(T.pendingProps.value,ee.value)||(d!==null?d.push(be):d=[be])}}else if(T===_e.current){if(ee=T.alternate,ee===null)throw Error(n(387));ee.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(d!==null?d.push(yy):d=[yy])}T=T.return}d!==null&&Rd(h,d,x,j),h.flags|=262144}function m0(d){for(d=d.firstContext;d!==null;){if(!ds(d.context._currentValue,d.memoizedValue))return!0;d=d.next}return!1}function Mu(d){_u=d,Yl=null,d=d.dependencies,d!==null&&(d.firstContext=null)}function ps(d){return j1(_u,d)}function p0(d,h){return _u===null&&Mu(d),j1(d,h)}function j1(d,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},Yl===null){if(d===null)throw Error(n(308));Yl=h,d.dependencies={lanes:0,firstContext:h},d.flags|=524288}else Yl=Yl.next=h;return x}var $S=typeof AbortController<"u"?AbortController:function(){var d=[],h=this.signal={aborted:!1,addEventListener:function(x,j){d.push(j)}};this.abort=function(){h.aborted=!0,d.forEach(function(x){return x()})}},BS=t.unstable_scheduleCallback,HS=t.unstable_NormalPriority,ii={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new $S,data:new Map,refCount:0}}function Mm(d){d.refCount--,d.refCount===0&&BS(HS,function(){d.controller.abort()})}var Om=null,g0=0,C=0,P=null;function G(d,h){if(Om===null){var x=Om=[];g0=0,C=Ck(),P={status:"pending",value:void 0,then:function(j){x.push(j)}}}return g0++,h.then(Q,Q),h}function Q(){if(--g0===0&&Om!==null){P!==null&&(P.status="fulfilled");var d=Om;Om=null,C=0,P=null;for(var h=0;h<d.length;h++)(0,d[h])()}}function ce(d,h){var x=[],j={status:"pending",value:null,reason:null,then:function(T){x.push(T)}};return d.then(function(){j.status="fulfilled",j.value=h;for(var T=0;T<x.length;T++)(0,x[T])(h)},function(T){for(j.status="rejected",j.reason=T,T=0;T<x.length;T++)(0,x[T])(void 0)}),j}var me=W.S;W.S=function(d,h){h8=Se(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&G(d,h),me!==null&&me(d,h)};var xe=K(null);function je(){var d=xe.current;return d!==null?d:_a.pooledCache}function Ce(d,h){h===null?X(xe,xe.current):X(xe,h.pool)}function Me(){var d=je();return d===null?null:{parent:ii._currentValue,pool:d}}var Ve=Error(n(460)),ut=Error(n(474)),Te=Error(n(542)),Xe={then:function(){}};function ot(d){return d=d.status,d==="fulfilled"||d==="rejected"}function _t(d,h,x){switch(x=d[x],x===void 0?d.push(h):x!==h&&(h.then(Ei,Ei),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Gt(d),d;default:if(typeof h.status=="string")h.then(Ei,Ei);else{if(d=_a,d!==null&&100<d.shellSuspendCounter)throw Error(n(482));d=h,d.status="pending",d.then(function(j){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=j}},function(j){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=j}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw d=h.reason,Gt(d),d}throw Ct=h,Ve}}function lt(d){try{var h=d._init;return h(d._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(Ct=x,Ve):x}}var Ct=null;function Pt(){if(Ct===null)throw Error(n(459));var d=Ct;return Ct=null,d}function Gt(d){if(d===Ve||d===Te)throw Error(n(483))}var $t=null,br=0;function dr(d){var h=br;return br+=1,$t===null&&($t=[]),_t($t,d,h)}function Qr(d,h){h=h.props.ref,d.ref=h!==void 0?h:null}function mr(d,h){throw h.$$typeof===g?Error(n(525)):(d=Object.prototype.toString.call(h),Error(n(31,d==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":d)))}function wn(d){function h(it,Ge){if(d){var ht=it.deletions;ht===null?(it.deletions=[Ge],it.flags|=16):ht.push(Ge)}}function x(it,Ge){if(!d)return null;for(;Ge!==null;)h(it,Ge),Ge=Ge.sibling;return null}function j(it){for(var Ge=new Map;it!==null;)it.key!==null?Ge.set(it.key,it):Ge.set(it.index,it),it=it.sibling;return Ge}function T(it,Ge){return it=Go(it,Ge),it.index=0,it.sibling=null,it}function $(it,Ge,ht){return it.index=ht,d?(ht=it.alternate,ht!==null?(ht=ht.index,ht<Ge?(it.flags|=67108866,Ge):ht):(it.flags|=67108866,Ge)):(it.flags|=1048576,Ge)}function ee(it){return d&&it.alternate===null&&(it.flags|=67108866),it}function be(it,Ge,ht,Rt){return Ge===null||Ge.tag!==6?(Ge=Am(ht,it.mode,Rt),Ge.return=it,Ge):(Ge=T(Ge,ht),Ge.return=it,Ge)}function Be(it,Ge,ht,Rt){var Dr=ht.type;return Dr===w?Ot(it,Ge,ht.props.children,Rt,ht.key):Ge!==null&&(Ge.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===L&&lt(Dr)===Ge.type)?(Ge=T(Ge,ht.props),Qr(Ge,ht),Ge.return=it,Ge):(Ge=rh(ht.type,ht.key,ht.props,null,it.mode,Rt),Qr(Ge,ht),Ge.return=it,Ge)}function mt(it,Ge,ht,Rt){return Ge===null||Ge.tag!==4||Ge.stateNode.containerInfo!==ht.containerInfo||Ge.stateNode.implementation!==ht.implementation?(Ge=nh(ht,it.mode,Rt),Ge.return=it,Ge):(Ge=T(Ge,ht.children||[]),Ge.return=it,Ge)}function Ot(it,Ge,ht,Rt,Dr){return Ge===null||Ge.tag!==7?(Ge=Su(ht,it.mode,Rt,Dr),Ge.return=it,Ge):(Ge=T(Ge,ht),Ge.return=it,Ge)}function Ft(it,Ge,ht){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number"||typeof Ge=="bigint")return Ge=Am(""+Ge,it.mode,ht),Ge.return=it,Ge;if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case p:return ht=rh(Ge.type,Ge.key,Ge.props,null,it.mode,ht),Qr(ht,Ge),ht.return=it,ht;case v:return Ge=nh(Ge,it.mode,ht),Ge.return=it,Ge;case L:return Ge=lt(Ge),Ft(it,Ge,ht)}if(Y(Ge)||E(Ge))return Ge=Su(Ge,it.mode,ht,null),Ge.return=it,Ge;if(typeof Ge.then=="function")return Ft(it,dr(Ge),ht);if(Ge.$$typeof===S)return Ft(it,p0(it,Ge),ht);mr(it,Ge)}return null}function xt(it,Ge,ht,Rt){var Dr=Ge!==null?Ge.key:null;if(typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint")return Dr!==null?null:be(it,Ge,""+ht,Rt);if(typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case p:return ht.key===Dr?Be(it,Ge,ht,Rt):null;case v:return ht.key===Dr?mt(it,Ge,ht,Rt):null;case L:return ht=lt(ht),xt(it,Ge,ht,Rt)}if(Y(ht)||E(ht))return Dr!==null?null:Ot(it,Ge,ht,Rt,null);if(typeof ht.then=="function")return xt(it,Ge,dr(ht),Rt);if(ht.$$typeof===S)return xt(it,Ge,p0(it,ht),Rt);mr(it,ht)}return null}function St(it,Ge,ht,Rt,Dr){if(typeof Rt=="string"&&Rt!==""||typeof Rt=="number"||typeof Rt=="bigint")return it=it.get(ht)||null,be(Ge,it,""+Rt,Dr);if(typeof Rt=="object"&&Rt!==null){switch(Rt.$$typeof){case p:return it=it.get(Rt.key===null?ht:Rt.key)||null,Be(Ge,it,Rt,Dr);case v:return it=it.get(Rt.key===null?ht:Rt.key)||null,mt(Ge,it,Rt,Dr);case L:return Rt=lt(Rt),St(it,Ge,ht,Rt,Dr)}if(Y(Rt)||E(Rt))return it=it.get(ht)||null,Ot(Ge,it,Rt,Dr,null);if(typeof Rt.then=="function")return St(it,Ge,ht,dr(Rt),Dr);if(Rt.$$typeof===S)return St(it,Ge,ht,p0(Ge,Rt),Dr);mr(Ge,Rt)}return null}function yr(it,Ge,ht,Rt){for(var Dr=null,Vn=null,Sr=Ge,dn=Ge=0,On=null;Sr!==null&&dn<ht.length;dn++){Sr.index>dn?(On=Sr,Sr=null):On=Sr.sibling;var Gn=xt(it,Sr,ht[dn],Rt);if(Gn===null){Sr===null&&(Sr=On);break}d&&Sr&&Gn.alternate===null&&h(it,Sr),Ge=$(Gn,Ge,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn,Sr=On}if(dn===ht.length)return x(it,Sr),Nn&&Co(it,dn),Dr;if(Sr===null){for(;dn<ht.length;dn++)Sr=Ft(it,ht[dn],Rt),Sr!==null&&(Ge=$(Sr,Ge,dn),Vn===null?Dr=Sr:Vn.sibling=Sr,Vn=Sr);return Nn&&Co(it,dn),Dr}for(Sr=j(Sr);dn<ht.length;dn++)On=St(Sr,it,dn,ht[dn],Rt),On!==null&&(d&&On.alternate!==null&&Sr.delete(On.key===null?dn:On.key),Ge=$(On,Ge,dn),Vn===null?Dr=On:Vn.sibling=On,Vn=On);return d&&Sr.forEach(function(Sh){return h(it,Sh)}),Nn&&Co(it,dn),Dr}function zr(it,Ge,ht,Rt){if(ht==null)throw Error(n(151));for(var Dr=null,Vn=null,Sr=Ge,dn=Ge=0,On=null,Gn=ht.next();Sr!==null&&!Gn.done;dn++,Gn=ht.next()){Sr.index>dn?(On=Sr,Sr=null):On=Sr.sibling;var Sh=xt(it,Sr,Gn.value,Rt);if(Sh===null){Sr===null&&(Sr=On);break}d&&Sr&&Sh.alternate===null&&h(it,Sr),Ge=$(Sh,Ge,dn),Vn===null?Dr=Sh:Vn.sibling=Sh,Vn=Sh,Sr=On}if(Gn.done)return x(it,Sr),Nn&&Co(it,dn),Dr;if(Sr===null){for(;!Gn.done;dn++,Gn=ht.next())Gn=Ft(it,Gn.value,Rt),Gn!==null&&(Ge=$(Gn,Ge,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn);return Nn&&Co(it,dn),Dr}for(Sr=j(Sr);!Gn.done;dn++,Gn=ht.next())Gn=St(Sr,it,dn,Gn.value,Rt),Gn!==null&&(d&&Gn.alternate!==null&&Sr.delete(Gn.key===null?dn:Gn.key),Ge=$(Gn,Ge,dn),Vn===null?Dr=Gn:Vn.sibling=Gn,Vn=Gn);return d&&Sr.forEach(function(Bie){return h(it,Bie)}),Nn&&Co(it,dn),Dr}function ja(it,Ge,ht,Rt){if(typeof ht=="object"&&ht!==null&&ht.type===w&&ht.key===null&&(ht=ht.props.children),typeof ht=="object"&&ht!==null){switch(ht.$$typeof){case p:e:{for(var Dr=ht.key;Ge!==null;){if(Ge.key===Dr){if(Dr=ht.type,Dr===w){if(Ge.tag===7){x(it,Ge.sibling),Rt=T(Ge,ht.props.children),Rt.return=it,it=Rt;break e}}else if(Ge.elementType===Dr||typeof Dr=="object"&&Dr!==null&&Dr.$$typeof===L&&lt(Dr)===Ge.type){x(it,Ge.sibling),Rt=T(Ge,ht.props),Qr(Rt,ht),Rt.return=it,it=Rt;break e}x(it,Ge);break}else h(it,Ge);Ge=Ge.sibling}ht.type===w?(Rt=Su(ht.props.children,it.mode,Rt,ht.key),Rt.return=it,it=Rt):(Rt=rh(ht.type,ht.key,ht.props,null,it.mode,Rt),Qr(Rt,ht),Rt.return=it,it=Rt)}return ee(it);case v:e:{for(Dr=ht.key;Ge!==null;){if(Ge.key===Dr)if(Ge.tag===4&&Ge.stateNode.containerInfo===ht.containerInfo&&Ge.stateNode.implementation===ht.implementation){x(it,Ge.sibling),Rt=T(Ge,ht.children||[]),Rt.return=it,it=Rt;break e}else{x(it,Ge);break}else h(it,Ge);Ge=Ge.sibling}Rt=nh(ht,it.mode,Rt),Rt.return=it,it=Rt}return ee(it);case L:return ht=lt(ht),ja(it,Ge,ht,Rt)}if(Y(ht))return yr(it,Ge,ht,Rt);if(E(ht)){if(Dr=E(ht),typeof Dr!="function")throw Error(n(150));return ht=Dr.call(ht),zr(it,Ge,ht,Rt)}if(typeof ht.then=="function")return ja(it,Ge,dr(ht),Rt);if(ht.$$typeof===S)return ja(it,Ge,p0(it,ht),Rt);mr(it,ht)}return typeof ht=="string"&&ht!==""||typeof ht=="number"||typeof ht=="bigint"?(ht=""+ht,Ge!==null&&Ge.tag===6?(x(it,Ge.sibling),Rt=T(Ge,ht),Rt.return=it,it=Rt):(x(it,Ge),Rt=Am(ht,it.mode,Rt),Rt.return=it,it=Rt),ee(it)):x(it,Ge)}return function(it,Ge,ht,Rt){try{br=0;var Dr=ja(it,Ge,ht,Rt);return $t=null,Dr}catch(Sr){if(Sr===Ve||Sr===Te)throw Sr;var Vn=Cs(29,Sr,null,it.mode);return Vn.lanes=Rt,Vn.return=it,Vn}finally{}}}var Ca=wn(!0),an=wn(!1),fr=!1;function tr(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Fa(d,h){d=d.updateQueue,h.updateQueue===d&&(h.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,callbacks:null})}function Br(d){return{lane:d,tag:0,payload:null,callback:null,next:null}}function ln(d,h,x){var j=d.updateQueue;if(j===null)return null;if(j=j.shared,(Qn&2)!==0){var T=j.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),j.pending=h,h=ks(d),Cm(d,null,x),h}return km(d,j,h,x),ks(d)}function Jn(d,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var j=h.lanes;j&=d.pendingLanes,x|=j,h.lanes=x,Ut(d,x)}}function Pi(d,h){var x=d.updateQueue,j=d.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var T=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var ee={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};$===null?T=$=ee:$=$.next=ee,x=x.next}while(x!==null);$===null?T=$=h:$=$.next=h}else T=$=h;x={baseState:j.baseState,firstBaseUpdate:T,lastBaseUpdate:$,shared:j.shared,callbacks:j.callbacks},d.updateQueue=x;return}d=x.lastBaseUpdate,d===null?x.firstBaseUpdate=h:d.next=h,x.lastBaseUpdate=h}var gs=!1;function ba(){if(gs){var d=P;if(d!==null)throw d}}function hi(d,h,x,j){gs=!1;var T=d.updateQueue;fr=!1;var $=T.firstBaseUpdate,ee=T.lastBaseUpdate,be=T.shared.pending;if(be!==null){T.shared.pending=null;var Be=be,mt=Be.next;Be.next=null,ee===null?$=mt:ee.next=mt,ee=Be;var Ot=d.alternate;Ot!==null&&(Ot=Ot.updateQueue,be=Ot.lastBaseUpdate,be!==ee&&(be===null?Ot.firstBaseUpdate=mt:be.next=mt,Ot.lastBaseUpdate=Be))}if($!==null){var Ft=T.baseState;ee=0,Ot=mt=Be=null,be=$;do{var xt=be.lane&-536870913,St=xt!==be.lane;if(St?(Mn&xt)===xt:(j&xt)===xt){xt!==0&&xt===C&&(gs=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:be.tag,payload:be.payload,callback:null,next:null});e:{var yr=d,zr=be;xt=h;var ja=x;switch(zr.tag){case 1:if(yr=zr.payload,typeof yr=="function"){Ft=yr.call(ja,Ft,xt);break e}Ft=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=zr.payload,xt=typeof yr=="function"?yr.call(ja,Ft,xt):yr,xt==null)break e;Ft=m({},Ft,xt);break e;case 2:fr=!0}}xt=be.callback,xt!==null&&(d.flags|=64,St&&(d.flags|=8192),St=T.callbacks,St===null?T.callbacks=[xt]:St.push(xt))}else St={lane:xt,tag:be.tag,payload:be.payload,callback:be.callback,next:null},Ot===null?(mt=Ot=St,Be=Ft):Ot=Ot.next=St,ee|=xt;if(be=be.next,be===null){if(be=T.shared.pending,be===null)break;St=be,be=St.next,St.next=null,T.lastBaseUpdate=St,T.shared.pending=null}}while(!0);Ot===null&&(Be=Ft),T.baseState=Be,T.firstBaseUpdate=mt,T.lastBaseUpdate=Ot,$===null&&(T.shared.lanes=0),mh|=ee,d.lanes=ee,d.memoizedState=Ft}}function _s(d,h){if(typeof d!="function")throw Error(n(191,d));d.call(h)}function mi(d,h){var x=d.callbacks;if(x!==null)for(d.callbacks=null,d=0;d<x.length;d++)_s(x[d],h)}var hn=K(null),Fn=K(0);function $a(d,h){d=Vd,X(Fn,d),X(hn,h),Vd=d|h.baseLanes}function Un(){X(Fn,Vd),X(hn,hn.current)}function Li(){Vd=Fn.current,U(hn),U(Fn)}var Ba=K(null),$n=null;function si(d){var h=d.alternate;X(Rn,Rn.current&1),X(Ba,d),$n===null&&(h===null||hn.current!==null||h.memoizedState!==null)&&($n=d)}function Xn(d){X(Rn,Rn.current),X(Ba,d),$n===null&&($n=d)}function pi(d){d.tag===22?(X(Rn,Rn.current),X(Ba,d),$n===null&&($n=d)):gi()}function gi(){X(Rn,Rn.current),X(Ba,Ba.current)}function la(d){U(Ba),$n===d&&($n=null),U(Rn)}var Rn=K(0);function As(d){for(var h=d;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||Fk(x)||$k(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Ka=0,Or=null,Er=null,Bn=null,to=!1,el=!1,Hs=!1,xi=0,Ou=0,Eu=null,x0=0;function va(){throw Error(n(321))}function Gx(d,h){if(h===null)return!1;for(var x=0;x<h.length&&x<d.length;x++)if(!ds(d[x],h[x]))return!1;return!0}function Yx(d,h,x,j,T,$){return Ka=$,Or=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,W.H=d===null||d.memoizedState===null?SL:KS,Hs=!1,$=x(j,T),Hs=!1,el&&($=Hc(h,x,j,T)),y0(d),$}function y0(d){W.H=ry;var h=Er!==null&&Er.next!==null;if(Ka=0,Bn=Er=Or=null,to=!1,Ou=0,Eu=null,h)throw Error(n(300));d===null||Yi||(d=d.dependencies,d!==null&&m0(d)&&(Yi=!0))}function Hc(d,h,x,j){Or=d;var T=0;do{if(el&&(Eu=null),Ou=0,el=!1,25<=T)throw Error(n(301));if(T+=1,Bn=Er=null,d.updateQueue!=null){var $=d.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}W.H=kL,$=h(x,j)}while(el);return $}function zS(){var d=W.H,h=d.useState()[0];return h=typeof h.then=="function"?Du(h):h,d=d.useState()[0],(Er!==null?Er.memoizedState:null)!==d&&(Or.flags|=1024),h}function Kx(){var d=xi!==0;return xi=0,d}function Jx(d,h,x){h.updateQueue=d.updateQueue,h.flags&=-2053,d.lanes&=~x}function b0(d){if(to){for(d=d.memoizedState;d!==null;){var h=d.queue;h!==null&&(h.pending=null),d=d.next}to=!1}Ka=0,Bn=Er=Or=null,el=!1,Ou=xi=0,Eu=null}function Gi(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Bn===null?Or.memoizedState=Bn=d:Bn=Bn.next=d,Bn}function Ja(){if(Er===null){var d=Or.alternate;d=d!==null?d.memoizedState:null}else d=Er.next;var h=Bn===null?Or.memoizedState:Bn.next;if(h!==null)Bn=h,Er=d;else{if(d===null)throw Or.alternate===null?Error(n(467)):Error(n(310));Er=d,d={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Bn===null?Or.memoizedState=Bn=d:Bn=Bn.next=d}return Bn}function Em(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Du(d){var h=Ou;return Ou+=1,Eu===null&&(Eu=[]),d=_t(Eu,d,h),h=Or,(Bn===null?h.memoizedState:Bn.next)===null&&(h=h.alternate,W.H=h===null||h.memoizedState===null?SL:KS),d}function lh(d){if(d!==null&&typeof d=="object"){if(typeof d.then=="function")return Du(d);if(d.$$typeof===S)return ps(d)}throw Error(n(438,String(d)))}function Id(d){var h=null,x=Or.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var j=Or.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(h={data:j.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Em(),Or.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(d),j=0;j<d;j++)x[j]=B;return h.index++,x}function Kl(d,h){return typeof h=="function"?h(d):h}function v0(d){var h=Ja();return ch(h,Er,d)}function ch(d,h,x){var j=d.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=x;var T=d.baseQueue,$=j.pending;if($!==null){if(T!==null){var ee=T.next;T.next=$.next,$.next=ee}h.baseQueue=T=$,j.pending=null}if($=d.baseState,T===null)d.memoizedState=$;else{h=T.next;var be=ee=null,Be=null,mt=h,Ot=!1;do{var Ft=mt.lane&-536870913;if(Ft!==mt.lane?(Mn&Ft)===Ft:(Ka&Ft)===Ft){var xt=mt.revertLane;if(xt===0)Be!==null&&(Be=Be.next={lane:0,revertLane:0,gesture:null,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null}),Ft===C&&(Ot=!0);else if((Ka&xt)===xt){mt=mt.next,xt===C&&(Ot=!0);continue}else Ft={lane:0,revertLane:mt.revertLane,gesture:null,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},Be===null?(be=Be=Ft,ee=$):Be=Be.next=Ft,Or.lanes|=xt,mh|=xt;Ft=mt.action,Hs&&x($,Ft),$=mt.hasEagerState?mt.eagerState:x($,Ft)}else xt={lane:Ft,revertLane:mt.revertLane,gesture:mt.gesture,action:mt.action,hasEagerState:mt.hasEagerState,eagerState:mt.eagerState,next:null},Be===null?(be=Be=xt,ee=$):Be=Be.next=xt,Or.lanes|=Ft,mh|=Ft;mt=mt.next}while(mt!==null&&mt!==h);if(Be===null?ee=$:Be.next=be,!ds($,d.memoizedState)&&(Yi=!0,Ot&&(x=P,x!==null)))throw x;d.memoizedState=$,d.baseState=ee,d.baseQueue=Be,j.lastRenderedState=$}return T===null&&(j.lanes=0),[d.memoizedState,j.dispatch]}function w0(d){var h=Ja(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=d;var j=x.dispatch,T=x.pending,$=h.memoizedState;if(T!==null){x.pending=null;var ee=T=T.next;do $=d($,ee.action),ee=ee.next;while(ee!==T);ds($,h.memoizedState)||(Yi=!0),h.memoizedState=$,h.baseQueue===null&&(h.baseState=$),x.lastRenderedState=$}return[$,j]}function j0(d,h,x){var j=Or,T=Ja(),$=Nn;if($){if(x===void 0)throw Error(n(407));x=x()}else x=h();var ee=!ds((Er||T).memoizedState,x);if(ee&&(T.memoizedState=x,Yi=!0),T=T.queue,qS(Qx.bind(null,j,T,d),[d]),T.getSnapshot!==h||ee||Bn!==null&&Bn.memoizedState.tag&1){if(j.flags|=2048,$d(9,{destroy:void 0},Xx.bind(null,j,T,x,h),null),_a===null)throw Error(n(349));$||(Ka&127)!==0||zc(j,h,x)}return x}function zc(d,h,x){d.flags|=16384,d={getSnapshot:h,value:x},h=Or.updateQueue,h===null?(h=Em(),Or.updateQueue=h,h.stores=[d]):(x=h.stores,x===null?h.stores=[d]:x.push(d))}function Xx(d,h,x,j){h.value=x,h.getSnapshot=j,N1(h)&&Zx(d)}function Qx(d,h,x){return x(function(){N1(h)&&Zx(d)})}function N1(d){var h=d.getSnapshot;d=d.value;try{var x=h();return!ds(d,x)}catch{return!0}}function Zx(d){var h=$c(d,2);h!==null&&il(h,d,2)}function Pu(d){var h=Gi();if(typeof d=="function"){var x=d;if(d=x(),Hs){tt(!0);try{x()}finally{tt(!1)}}}return h.memoizedState=h.baseState=d,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:d},h}function S1(d,h,x,j){return d.baseState=x,ch(d,Er,typeof j=="function"?j:Kl)}function k1(d,h,x,j,T){if(T1(d))throw Error(n(485));if(d=h.action,d!==null){var $={payload:T,action:d,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ee){$.listeners.push(ee)}};W.T!==null?x(!0):$.isTransition=!1,j($),x=h.pending,x===null?($.next=h.pending=$,C1(h,$)):($.next=x.next,h.pending=x.next=$)}}function C1(d,h){var x=h.action,j=h.payload,T=d.state;if(h.isTransition){var $=W.T,ee={};W.T=ee;try{var be=x(T,j),Be=W.S;Be!==null&&Be(ee,be),ey(d,h,be)}catch(mt){Fd(d,h,mt)}finally{$!==null&&ee.types!==null&&($.types=ee.types),W.T=$}}else try{$=x(T,j),ey(d,h,$)}catch(mt){Fd(d,h,mt)}}function ey(d,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){_1(d,h,j)},function(j){return Fd(d,h,j)}):_1(d,h,x)}function _1(d,h,x){h.status="fulfilled",h.value=x,N0(h),d.state=x,h=d.pending,h!==null&&(x=h.next,x===h?d.pending=null:(x=x.next,h.next=x,C1(d,x)))}function Fd(d,h,x){var j=d.pending;if(d.pending=null,j!==null){j=j.next;do h.status="rejected",h.reason=x,N0(h),h=h.next;while(h!==j)}d.action=null}function N0(d){d=d.listeners;for(var h=0;h<d.length;h++)(0,d[h])()}function Dm(d,h){return h}function Jl(d,h){if(Nn){var x=_a.formState;if(x!==null){e:{var j=Or;if(Nn){if(ka){t:{for(var T=ka,$=Ya;T.nodeType!==8;){if(!$){T=null;break t}if(T=Xl(T.nextSibling),T===null){T=null;break t}}$=T.data,T=$==="F!"||$==="F"?T:null}if(T){ka=Xl(T.nextSibling),j=T.data==="F!";break e}}Cu(j)}j=!1}j&&(h=x[0])}}return x=Gi(),x.memoizedState=x.baseState=h,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Dm,lastRenderedState:h},x.queue=j,x=wL.bind(null,Or,j),j.dispatch=x,j=Pu(!1),$=YS.bind(null,Or,!1,j.queue),j=Gi(),T={state:h,dispatch:null,action:d,pending:null},j.queue=T,x=k1.bind(null,Or,T,$,x),T.dispatch=x,j.memoizedState=d,[h,x,!1]}function qc(d){var h=Ja();return Uc(h,Er,d)}function Uc(d,h,x){if(h=ch(d,h,Dm)[0],d=v0(Kl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var j=Du(h)}catch(ee){throw ee===Ve?Te:ee}else j=h;h=Ja();var T=h.queue,$=T.dispatch;return x!==h.memoizedState&&(Or.flags|=2048,$d(9,{destroy:void 0},S0.bind(null,T,x),null)),[j,$,d]}function S0(d,h){d.action=h}function k0(d){var h=Ja(),x=Er;if(x!==null)return Uc(h,x,d);Ja(),h=h.memoizedState,x=Ja();var j=x.queue.dispatch;return x.memoizedState=d,[h,j,!1]}function $d(d,h,x,j){return d={tag:d,create:x,deps:j,inst:h,next:null},h=Or.updateQueue,h===null&&(h=Em(),Or.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=d.next=d:(j=x.next,x.next=d,d.next=j,h.lastEffect=d),d}function A1(){return Ja().memoizedState}function uh(d,h,x,j){var T=Gi();Or.flags|=d,T.memoizedState=$d(1|h,{destroy:void 0},x,j===void 0?null:j)}function dh(d,h,x,j){var T=Ja();j=j===void 0?null:j;var $=T.memoizedState.inst;Er!==null&&j!==null&&Gx(j,Er.memoizedState.deps)?T.memoizedState=$d(h,$,x,j):(Or.flags|=d,T.memoizedState=$d(1|h,$,x,j))}function oL(d,h){uh(8390656,8,d,h)}function qS(d,h){dh(2048,8,d,h)}function Pae(d){Or.flags|=4;var h=Or.updateQueue;if(h===null)h=Em(),Or.updateQueue=h,h.events=[d];else{var x=h.events;x===null?h.events=[d]:x.push(d)}}function lL(d){var h=Ja().memoizedState;return Pae({ref:h,nextImpl:d}),function(){if((Qn&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function cL(d,h){return dh(4,2,d,h)}function uL(d,h){return dh(4,4,d,h)}function dL(d,h){if(typeof h=="function"){d=d();var x=h(d);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return d=d(),h.current=d,function(){h.current=null}}function fL(d,h,x){x=x!=null?x.concat([d]):null,dh(4,4,dL.bind(null,h,d),x)}function US(){}function hL(d,h){var x=Ja();h=h===void 0?null:h;var j=x.memoizedState;return h!==null&&Gx(h,j[1])?j[0]:(x.memoizedState=[d,h],d)}function mL(d,h){var x=Ja();h=h===void 0?null:h;var j=x.memoizedState;if(h!==null&&Gx(h,j[1]))return j[0];if(j=d(),Hs){tt(!0);try{d()}finally{tt(!1)}}return x.memoizedState=[j,h],j}function WS(d,h,x){return x===void 0||(Ka&1073741824)!==0&&(Mn&261930)===0?d.memoizedState=h:(d.memoizedState=x,d=p8(),Or.lanes|=d,mh|=d,x)}function pL(d,h,x,j){return ds(x,h)?x:hn.current!==null?(d=WS(d,x,j),ds(d,h)||(Yi=!0),d):(Ka&42)===0||(Ka&1073741824)!==0&&(Mn&261930)===0?(Yi=!0,d.memoizedState=x):(d=p8(),Or.lanes|=d,mh|=d,h)}function gL(d,h,x,j,T){var $=F.p;F.p=$!==0&&8>$?$:8;var ee=W.T,be={};W.T=be,YS(d,!1,h,x);try{var Be=T(),mt=W.S;if(mt!==null&&mt(be,Be),Be!==null&&typeof Be=="object"&&typeof Be.then=="function"){var Ot=ce(Be,j);ty(d,h,Ot,vl(d))}else ty(d,h,j,vl(d))}catch(Ft){ty(d,h,{then:function(){},status:"rejected",reason:Ft},vl())}finally{F.p=$,ee!==null&&be.types!==null&&(ee.types=be.types),W.T=ee}}function Lae(){}function VS(d,h,x,j){if(d.tag!==5)throw Error(n(476));var T=xL(d).queue;gL(d,T,h,z,x===null?Lae:function(){return yL(d),x(j)})}function xL(d){var h=d.memoizedState;if(h!==null)return h;h={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:z},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Kl,lastRenderedState:x},next:null},d.memoizedState=h,d=d.alternate,d!==null&&(d.memoizedState=h),h}function yL(d){var h=xL(d);h.next===null&&(h=d.alternate.memoizedState),ty(d,h.next.queue,{},vl())}function GS(){return ps(yy)}function bL(){return Ja().memoizedState}function vL(){return Ja().memoizedState}function Rae(d){for(var h=d.return;h!==null;){switch(h.tag){case 24:case 3:var x=vl();d=Br(x);var j=ln(h,d,x);j!==null&&(il(j,h,x),Jn(j,h,x)),h={cache:oh()},d.payload=h;return}h=h.return}}function Iae(d,h,x){var j=vl();x={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},T1(d)?jL(h,x):(x=s0(d,h,x,j),x!==null&&(il(x,d,j),NL(x,h,j)))}function wL(d,h,x){var j=vl();ty(d,h,x,j)}function ty(d,h,x,j){var T={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(T1(d))jL(h,T);else{var $=d.alternate;if(d.lanes===0&&($===null||$.lanes===0)&&($=h.lastRenderedReducer,$!==null))try{var ee=h.lastRenderedState,be=$(ee,x);if(T.hasEagerState=!0,T.eagerState=be,ds(be,ee))return km(d,h,T,0),_a===null&&Sm(),!1}catch{}finally{}if(x=s0(d,h,T,j),x!==null)return il(x,d,j),NL(x,h,j),!0}return!1}function YS(d,h,x,j){if(j={lane:2,revertLane:Ck(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},T1(d)){if(h)throw Error(n(479))}else h=s0(d,x,j,2),h!==null&&il(h,d,2)}function T1(d){var h=d.alternate;return d===Or||h!==null&&h===Or}function jL(d,h){el=to=!0;var x=d.pending;x===null?h.next=h:(h.next=x.next,x.next=h),d.pending=h}function NL(d,h,x){if((x&4194048)!==0){var j=h.lanes;j&=d.pendingLanes,x|=j,h.lanes=x,Ut(d,x)}}var ry={readContext:ps,use:lh,useCallback:va,useContext:va,useEffect:va,useImperativeHandle:va,useLayoutEffect:va,useInsertionEffect:va,useMemo:va,useReducer:va,useRef:va,useState:va,useDebugValue:va,useDeferredValue:va,useTransition:va,useSyncExternalStore:va,useId:va,useHostTransitionStatus:va,useFormState:va,useActionState:va,useOptimistic:va,useMemoCache:va,useCacheRefresh:va};ry.useEffectEvent=va;var SL={readContext:ps,use:lh,useCallback:function(d,h){return Gi().memoizedState=[d,h===void 0?null:h],d},useContext:ps,useEffect:oL,useImperativeHandle:function(d,h,x){x=x!=null?x.concat([d]):null,uh(4194308,4,dL.bind(null,h,d),x)},useLayoutEffect:function(d,h){return uh(4194308,4,d,h)},useInsertionEffect:function(d,h){uh(4,2,d,h)},useMemo:function(d,h){var x=Gi();h=h===void 0?null:h;var j=d();if(Hs){tt(!0);try{d()}finally{tt(!1)}}return x.memoizedState=[j,h],j},useReducer:function(d,h,x){var j=Gi();if(x!==void 0){var T=x(h);if(Hs){tt(!0);try{x(h)}finally{tt(!1)}}}else T=h;return j.memoizedState=j.baseState=T,d={pending:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:T},j.queue=d,d=d.dispatch=Iae.bind(null,Or,d),[j.memoizedState,d]},useRef:function(d){var h=Gi();return d={current:d},h.memoizedState=d},useState:function(d){d=Pu(d);var h=d.queue,x=wL.bind(null,Or,h);return h.dispatch=x,[d.memoizedState,x]},useDebugValue:US,useDeferredValue:function(d,h){var x=Gi();return WS(x,d,h)},useTransition:function(){var d=Pu(!1);return d=gL.bind(null,Or,d.queue,!0,!1),Gi().memoizedState=d,[!1,d]},useSyncExternalStore:function(d,h,x){var j=Or,T=Gi();if(Nn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),_a===null)throw Error(n(349));(Mn&127)!==0||zc(j,h,x)}T.memoizedState=x;var $={value:x,getSnapshot:h};return T.queue=$,oL(Qx.bind(null,j,$,d),[d]),j.flags|=2048,$d(9,{destroy:void 0},Xx.bind(null,j,$,x,h),null),x},useId:function(){var d=Gi(),h=_a.identifierPrefix;if(Nn){var x=Qo,j=Xo;x=(j&~(1<<32-ve(j)-1)).toString(32)+x,h="_"+h+"R_"+x,x=xi++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=x0++,h="_"+h+"r_"+x.toString(32)+"_";return d.memoizedState=h},useHostTransitionStatus:GS,useFormState:Jl,useActionState:Jl,useOptimistic:function(d){var h=Gi();h.memoizedState=h.baseState=d;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=YS.bind(null,Or,!0,x),x.dispatch=h,[d,h]},useMemoCache:Id,useCacheRefresh:function(){return Gi().memoizedState=Rae.bind(null,Or)},useEffectEvent:function(d){var h=Gi(),x={impl:d};return h.memoizedState=x,function(){if((Qn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},KS={readContext:ps,use:lh,useCallback:hL,useContext:ps,useEffect:qS,useImperativeHandle:fL,useInsertionEffect:cL,useLayoutEffect:uL,useMemo:mL,useReducer:v0,useRef:A1,useState:function(){return v0(Kl)},useDebugValue:US,useDeferredValue:function(d,h){var x=Ja();return pL(x,Er.memoizedState,d,h)},useTransition:function(){var d=v0(Kl)[0],h=Ja().memoizedState;return[typeof d=="boolean"?d:Du(d),h]},useSyncExternalStore:j0,useId:bL,useHostTransitionStatus:GS,useFormState:qc,useActionState:qc,useOptimistic:function(d,h){var x=Ja();return S1(x,Er,d,h)},useMemoCache:Id,useCacheRefresh:vL};KS.useEffectEvent=lL;var kL={readContext:ps,use:lh,useCallback:hL,useContext:ps,useEffect:qS,useImperativeHandle:fL,useInsertionEffect:cL,useLayoutEffect:uL,useMemo:mL,useReducer:w0,useRef:A1,useState:function(){return w0(Kl)},useDebugValue:US,useDeferredValue:function(d,h){var x=Ja();return Er===null?WS(x,d,h):pL(x,Er.memoizedState,d,h)},useTransition:function(){var d=w0(Kl)[0],h=Ja().memoizedState;return[typeof d=="boolean"?d:Du(d),h]},useSyncExternalStore:j0,useId:bL,useHostTransitionStatus:GS,useFormState:k0,useActionState:k0,useOptimistic:function(d,h){var x=Ja();return Er!==null?S1(x,Er,d,h):(x.baseState=d,[d,x.queue.dispatch])},useMemoCache:Id,useCacheRefresh:vL};kL.useEffectEvent=lL;function JS(d,h,x,j){h=d.memoizedState,x=x(j,h),x=x==null?h:m({},h,x),d.memoizedState=x,d.lanes===0&&(d.updateQueue.baseState=x)}var XS={enqueueSetState:function(d,h,x){d=d._reactInternals;var j=vl(),T=Br(j);T.payload=h,x!=null&&(T.callback=x),h=ln(d,T,j),h!==null&&(il(h,d,j),Jn(h,d,j))},enqueueReplaceState:function(d,h,x){d=d._reactInternals;var j=vl(),T=Br(j);T.tag=1,T.payload=h,x!=null&&(T.callback=x),h=ln(d,T,j),h!==null&&(il(h,d,j),Jn(h,d,j))},enqueueForceUpdate:function(d,h){d=d._reactInternals;var x=vl(),j=Br(x);j.tag=2,h!=null&&(j.callback=h),h=ln(d,j,x),h!==null&&(il(h,d,x),Jn(h,d,x))}};function CL(d,h,x,j,T,$,ee){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(j,$,ee):h.prototype&&h.prototype.isPureReactComponent?!Lc(x,j)||!Lc(T,$):!0}function _L(d,h,x,j){d=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,j),h.state!==d&&XS.enqueueReplaceState(h,h.state,null)}function Pm(d,h){var x=h;if("ref"in h){x={};for(var j in h)j!=="ref"&&(x[j]=h[j])}if(d=d.defaultProps){x===h&&(x=m({},x));for(var T in d)x[T]===void 0&&(x[T]=d[T])}return x}function AL(d){Nm(d)}function TL(d){console.error(d)}function ML(d){Nm(d)}function M1(d,h){try{var x=d.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(j){setTimeout(function(){throw j})}}function OL(d,h,x){try{var j=d.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function QS(d,h,x){return x=Br(x),x.tag=3,x.payload={element:null},x.callback=function(){M1(d,h)},x}function EL(d){return d=Br(d),d.tag=3,d}function DL(d,h,x,j){var T=x.type.getDerivedStateFromError;if(typeof T=="function"){var $=j.value;d.payload=function(){return T($)},d.callback=function(){OL(h,x,j)}}var ee=x.stateNode;ee!==null&&typeof ee.componentDidCatch=="function"&&(d.callback=function(){OL(h,x,j),typeof T!="function"&&(ph===null?ph=new Set([this]):ph.add(this));var be=j.stack;this.componentDidCatch(j.value,{componentStack:be!==null?be:""})})}function Fae(d,h,x,j,T){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(h=x.alternate,h!==null&&Tu(h,x,T,!0),x=Ba.current,x!==null){switch(x.tag){case 31:case 13:return $n===null?z1():x.alternate===null&&yi===0&&(yi=3),x.flags&=-257,x.flags|=65536,x.lanes=T,j===Xe?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([j]):h.add(j),Nk(d,j,T)),!1;case 22:return x.flags|=65536,j===Xe?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([j]):x.add(j)),Nk(d,j,T)),!1}throw Error(n(435,x.tag))}return Nk(d,j,T),z1(),!1}if(Nn)return h=Ba.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,j!==xl&&(d=Error(n(422),{cause:j}),ih(Yo(d,x)))):(j!==xl&&(h=Error(n(423),{cause:j}),ih(Yo(h,x))),d=d.current.alternate,d.flags|=65536,T&=-T,d.lanes|=T,j=Yo(j,x),T=QS(d.stateNode,j,T),Pi(d,T),yi!==4&&(yi=2)),!1;var $=Error(n(520),{cause:j});if($=Yo($,x),uy===null?uy=[$]:uy.push($),yi!==4&&(yi=2),h===null)return!0;j=Yo(j,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,d=T&-T,x.lanes|=d,d=QS(x.stateNode,j,d),Pi(x,d),!1;case 1:if(h=x.type,$=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(ph===null||!ph.has($))))return x.flags|=65536,T&=-T,x.lanes|=T,T=EL(T),DL(T,d,x,j),Pi(x,T),!1}x=x.return}while(x!==null);return!1}var ZS=Error(n(461)),Yi=!1;function zs(d,h,x,j){h.child=d===null?an(h,null,x,j):Ca(h,d.child,x,j)}function PL(d,h,x,j,T){x=x.render;var $=h.ref;if("ref"in j){var ee={};for(var be in j)be!=="ref"&&(ee[be]=j[be])}else ee=j;return Mu(h),j=Yx(d,h,x,ee,$,T),be=Kx(),d!==null&&!Yi?(Jx(d,h,T),Bd(d,h,T)):(Nn&&be&&Ux(h),h.flags|=1,zs(d,h,j,T),h.child)}function LL(d,h,x,j,T){if(d===null){var $=x.type;return typeof $=="function"&&!l0($)&&$.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=$,RL(d,h,$,j,T)):(d=rh(x.type,null,j,h,h.mode,T),d.ref=h.ref,d.return=h,h.child=d)}if($=d.child,!ok(d,T)){var ee=$.memoizedProps;if(x=x.compare,x=x!==null?x:Lc,x(ee,j)&&d.ref===h.ref)return Bd(d,h,T)}return h.flags|=1,d=Go($,j),d.ref=h.ref,d.return=h,h.child=d}function RL(d,h,x,j,T){if(d!==null){var $=d.memoizedProps;if(Lc($,j)&&d.ref===h.ref)if(Yi=!1,h.pendingProps=j=$,ok(d,T))(d.flags&131072)!==0&&(Yi=!0);else return h.lanes=d.lanes,Bd(d,h,T)}return ek(d,h,x,j,T)}function IL(d,h,x,j){var T=j.children,$=d!==null?d.memoizedState:null;if(d===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((h.flags&128)!==0){if($=$!==null?$.baseLanes|x:x,d!==null){for(j=h.child=d.child,T=0;j!==null;)T=T|j.lanes|j.childLanes,j=j.sibling;j=T&~$}else j=0,h.child=null;return FL(d,h,$,x,j)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},d!==null&&Ce(h,$!==null?$.cachePool:null),$!==null?$a(h,$):Un(),pi(h);else return j=h.lanes=536870912,FL(d,h,$!==null?$.baseLanes|x:x,x,j)}else $!==null?(Ce(h,$.cachePool),$a(h,$),gi(),h.memoizedState=null):(d!==null&&Ce(h,null),Un(),gi());return zs(d,h,T,x),h.child}function ny(d,h){return d!==null&&d.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function FL(d,h,x,j,T){var $=je();return $=$===null?null:{parent:ii._currentValue,pool:$},h.memoizedState={baseLanes:x,cachePool:$},d!==null&&Ce(h,null),Un(),pi(h),d!==null&&Tu(d,h,j,!0),h.childLanes=T,null}function O1(d,h){return h=D1({mode:h.mode,children:h.children},d.mode),h.ref=d.ref,d.child=h,h.return=d,h}function $L(d,h,x){return Ca(h,d.child,null,x),d=O1(h,h.pendingProps),d.flags|=2,la(h),h.memoizedState=null,d}function $ae(d,h,x){var j=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,d===null){if(Nn){if(j.mode==="hidden")return d=O1(h,j),h.lanes=536870912,ny(null,d);if(Xn(h),(d=ka)?(d=X8(d,Ya),d=d!==null&&d.data==="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=c0(d),x.return=h,h.child=x,hs=h,ka=null)):d=null,d===null)throw Cu(h);return h.lanes=536870912,null}return O1(h,j)}var $=d.memoizedState;if($!==null){var ee=$.dehydrated;if(Xn(h),T)if(h.flags&256)h.flags&=-257,h=$L(d,h,x);else if(h.memoizedState!==null)h.child=d.child,h.flags|=128,h=null;else throw Error(n(558));else if(Yi||Tu(d,h,x,!1),T=(x&d.childLanes)!==0,Yi||T){if(j=_a,j!==null&&(ee=st(j,x),ee!==0&&ee!==$.retryLane))throw $.retryLane=ee,$c(d,ee),il(j,d,ee),ZS;z1(),h=$L(d,h,x)}else d=$.treeContext,ka=Xl(ee.nextSibling),hs=h,Nn=!0,Bs=null,Ya=!1,d!==null&&w1(h,d),h=O1(h,j),h.flags|=4096;return h}return d=Go(d.child,{mode:j.mode,children:j.children}),d.ref=h.ref,h.child=d,d.return=h,d}function E1(d,h){var x=h.ref;if(x===null)d!==null&&d.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(d===null||d.ref!==x)&&(h.flags|=4194816)}}function ek(d,h,x,j,T){return Mu(h),x=Yx(d,h,x,j,void 0,T),j=Kx(),d!==null&&!Yi?(Jx(d,h,T),Bd(d,h,T)):(Nn&&j&&Ux(h),h.flags|=1,zs(d,h,x,T),h.child)}function BL(d,h,x,j,T,$){return Mu(h),h.updateQueue=null,x=Hc(h,j,x,T),y0(d),j=Kx(),d!==null&&!Yi?(Jx(d,h,$),Bd(d,h,$)):(Nn&&j&&Ux(h),h.flags|=1,zs(d,h,x,$),h.child)}function HL(d,h,x,j,T){if(Mu(h),h.stateNode===null){var $=fs,ee=x.contextType;typeof ee=="object"&&ee!==null&&($=ps(ee)),$=new x(j,$),h.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=XS,h.stateNode=$,$._reactInternals=h,$=h.stateNode,$.props=j,$.state=h.memoizedState,$.refs={},tr(h),ee=x.contextType,$.context=typeof ee=="object"&&ee!==null?ps(ee):fs,$.state=h.memoizedState,ee=x.getDerivedStateFromProps,typeof ee=="function"&&(JS(h,x,ee,j),$.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(ee=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),ee!==$.state&&XS.enqueueReplaceState($,$.state,null),hi(h,j,$,T),ba(),$.state=h.memoizedState),typeof $.componentDidMount=="function"&&(h.flags|=4194308),j=!0}else if(d===null){$=h.stateNode;var be=h.memoizedProps,Be=Pm(x,be);$.props=Be;var mt=$.context,Ot=x.contextType;ee=fs,typeof Ot=="object"&&Ot!==null&&(ee=ps(Ot));var Ft=x.getDerivedStateFromProps;Ot=typeof Ft=="function"||typeof $.getSnapshotBeforeUpdate=="function",be=h.pendingProps!==be,Ot||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(be||mt!==ee)&&_L(h,$,j,ee),fr=!1;var xt=h.memoizedState;$.state=xt,hi(h,j,$,T),ba(),mt=h.memoizedState,be||xt!==mt||fr?(typeof Ft=="function"&&(JS(h,x,Ft,j),mt=h.memoizedState),(Be=fr||CL(h,x,Be,j,xt,mt,ee))?(Ot||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=mt),$.props=j,$.state=mt,$.context=ee,j=Be):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{$=h.stateNode,Fa(d,h),ee=h.memoizedProps,Ot=Pm(x,ee),$.props=Ot,Ft=h.pendingProps,xt=$.context,mt=x.contextType,Be=fs,typeof mt=="object"&&mt!==null&&(Be=ps(mt)),be=x.getDerivedStateFromProps,(mt=typeof be=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(ee!==Ft||xt!==Be)&&_L(h,$,j,Be),fr=!1,xt=h.memoizedState,$.state=xt,hi(h,j,$,T),ba();var St=h.memoizedState;ee!==Ft||xt!==St||fr||d!==null&&d.dependencies!==null&&m0(d.dependencies)?(typeof be=="function"&&(JS(h,x,be,j),St=h.memoizedState),(Ot=fr||CL(h,x,Ot,j,xt,St,Be)||d!==null&&d.dependencies!==null&&m0(d.dependencies))?(mt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(j,St,Be),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(j,St,Be)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=St),$.props=j,$.state=St,$.context=Be,j=Ot):(typeof $.componentDidUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||ee===d.memoizedProps&&xt===d.memoizedState||(h.flags|=1024),j=!1)}return $=j,E1(d,h),j=(h.flags&128)!==0,$||j?($=h.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:$.render(),h.flags|=1,d!==null&&j?(h.child=Ca(h,d.child,null,T),h.child=Ca(h,null,x,T)):zs(d,h,x,T),h.memoizedState=$.state,d=h.child):d=Bd(d,h,T),d}function zL(d,h,x,j){return Ld(),h.flags|=256,zs(d,h,x,j),h.child}var tk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function rk(d){return{baseLanes:d,cachePool:Me()}}function nk(d,h,x){return d=d!==null?d.childLanes&~x:0,h&&(d|=bl),d}function qL(d,h,x){var j=h.pendingProps,T=!1,$=(h.flags&128)!==0,ee;if((ee=$)||(ee=d!==null&&d.memoizedState===null?!1:(Rn.current&2)!==0),ee&&(T=!0,h.flags&=-129),ee=(h.flags&32)!==0,h.flags&=-33,d===null){if(Nn){if(T?si(h):gi(),(d=ka)?(d=X8(d,Ya),d=d!==null&&d.data!=="&"?d:null,d!==null&&(h.memoizedState={dehydrated:d,treeContext:ku!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=c0(d),x.return=h,h.child=x,hs=h,ka=null)):d=null,d===null)throw Cu(h);return $k(d)?h.lanes=32:h.lanes=536870912,null}var be=j.children;return j=j.fallback,T?(gi(),T=h.mode,be=D1({mode:"hidden",children:be},T),j=Su(j,T,x,null),be.return=h,j.return=h,be.sibling=j,h.child=be,j=h.child,j.memoizedState=rk(x),j.childLanes=nk(d,ee,x),h.memoizedState=tk,ny(null,j)):(si(h),ak(h,be))}var Be=d.memoizedState;if(Be!==null&&(be=Be.dehydrated,be!==null)){if($)h.flags&256?(si(h),h.flags&=-257,h=ik(d,h,x)):h.memoizedState!==null?(gi(),h.child=d.child,h.flags|=128,h=null):(gi(),be=j.fallback,T=h.mode,j=D1({mode:"visible",children:j.children},T),be=Su(be,T,x,null),be.flags|=2,j.return=h,be.return=h,j.sibling=be,h.child=j,Ca(h,d.child,null,x),j=h.child,j.memoizedState=rk(x),j.childLanes=nk(d,ee,x),h.memoizedState=tk,h=ny(null,j));else if(si(h),$k(be)){if(ee=be.nextSibling&&be.nextSibling.dataset,ee)var mt=ee.dgst;ee=mt,j=Error(n(419)),j.stack="",j.digest=ee,ih({value:j,source:null,stack:null}),h=ik(d,h,x)}else if(Yi||Tu(d,h,x,!1),ee=(x&d.childLanes)!==0,Yi||ee){if(ee=_a,ee!==null&&(j=st(ee,x),j!==0&&j!==Be.retryLane))throw Be.retryLane=j,$c(d,j),il(ee,d,j),ZS;Fk(be)||z1(),h=ik(d,h,x)}else Fk(be)?(h.flags|=192,h.child=d.child,h=null):(d=Be.treeContext,ka=Xl(be.nextSibling),hs=h,Nn=!0,Bs=null,Ya=!1,d!==null&&w1(h,d),h=ak(h,j.children),h.flags|=4096);return h}return T?(gi(),be=j.fallback,T=h.mode,Be=d.child,mt=Be.sibling,j=Go(Be,{mode:"hidden",children:j.children}),j.subtreeFlags=Be.subtreeFlags&65011712,mt!==null?be=Go(mt,be):(be=Su(be,T,x,null),be.flags|=2),be.return=h,j.return=h,j.sibling=be,h.child=j,ny(null,j),j=h.child,be=d.child.memoizedState,be===null?be=rk(x):(T=be.cachePool,T!==null?(Be=ii._currentValue,T=T.parent!==Be?{parent:Be,pool:Be}:T):T=Me(),be={baseLanes:be.baseLanes|x,cachePool:T}),j.memoizedState=be,j.childLanes=nk(d,ee,x),h.memoizedState=tk,ny(d.child,j)):(si(h),x=d.child,d=x.sibling,x=Go(x,{mode:"visible",children:j.children}),x.return=h,x.sibling=null,d!==null&&(ee=h.deletions,ee===null?(h.deletions=[d],h.flags|=16):ee.push(d)),h.child=x,h.memoizedState=null,x)}function ak(d,h){return h=D1({mode:"visible",children:h},d.mode),h.return=d,d.child=h}function D1(d,h){return d=Cs(22,d,null,h),d.lanes=0,d}function ik(d,h,x){return Ca(h,d.child,null,x),d=ak(h,h.pendingProps.children),d.flags|=2,h.memoizedState=null,d}function UL(d,h,x){d.lanes|=h;var j=d.alternate;j!==null&&(j.lanes|=h),sh(d.return,h,x)}function sk(d,h,x,j,T,$){var ee=d.memoizedState;ee===null?d.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:T,treeForkCount:$}:(ee.isBackwards=h,ee.rendering=null,ee.renderingStartTime=0,ee.last=j,ee.tail=x,ee.tailMode=T,ee.treeForkCount=$)}function WL(d,h,x){var j=h.pendingProps,T=j.revealOrder,$=j.tail;j=j.children;var ee=Rn.current,be=(ee&2)!==0;if(be?(ee=ee&1|2,h.flags|=128):ee&=1,X(Rn,ee),zs(d,h,j,x),j=Nn?Tm:0,!be&&d!==null&&(d.flags&128)!==0)e:for(d=h.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&UL(d,x,h);else if(d.tag===19)UL(d,x,h);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===h)break e;for(;d.sibling===null;){if(d.return===null||d.return===h)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}switch(T){case"forwards":for(x=h.child,T=null;x!==null;)d=x.alternate,d!==null&&As(d)===null&&(T=x),x=x.sibling;x=T,x===null?(T=h.child,h.child=null):(T=x.sibling,x.sibling=null),sk(h,!1,T,x,$,j);break;case"backwards":case"unstable_legacy-backwards":for(x=null,T=h.child,h.child=null;T!==null;){if(d=T.alternate,d!==null&&As(d)===null){h.child=T;break}d=T.sibling,T.sibling=x,x=T,T=d}sk(h,!0,x,null,$,j);break;case"together":sk(h,!1,null,null,void 0,j);break;default:h.memoizedState=null}return h.child}function Bd(d,h,x){if(d!==null&&(h.dependencies=d.dependencies),mh|=h.lanes,(x&h.childLanes)===0)if(d!==null){if(Tu(d,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(d!==null&&h.child!==d.child)throw Error(n(153));if(h.child!==null){for(d=h.child,x=Go(d,d.pendingProps),h.child=x,x.return=h;d.sibling!==null;)d=d.sibling,x=x.sibling=Go(d,d.pendingProps),x.return=h;x.sibling=null}return h.child}function ok(d,h){return(d.lanes&h)!==0?!0:(d=d.dependencies,!!(d!==null&&m0(d)))}function Bae(d,h,x){switch(h.tag){case 3:Ne(h,h.stateNode.containerInfo),Au(h,ii,d.memoizedState.cache),Ld();break;case 27:case 5:ke(h);break;case 4:Ne(h,h.stateNode.containerInfo);break;case 10:Au(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Xn(h),null;break;case 13:var j=h.memoizedState;if(j!==null)return j.dehydrated!==null?(si(h),h.flags|=128,null):(x&h.child.childLanes)!==0?qL(d,h,x):(si(h),d=Bd(d,h,x),d!==null?d.sibling:null);si(h);break;case 19:var T=(d.flags&128)!==0;if(j=(x&h.childLanes)!==0,j||(Tu(d,h,x,!1),j=(x&h.childLanes)!==0),T){if(j)return WL(d,h,x);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),X(Rn,Rn.current),j)break;return null;case 22:return h.lanes=0,IL(d,h,x,h.pendingProps);case 24:Au(h,ii,d.memoizedState.cache)}return Bd(d,h,x)}function VL(d,h,x){if(d!==null)if(d.memoizedProps!==h.pendingProps)Yi=!0;else{if(!ok(d,x)&&(h.flags&128)===0)return Yi=!1,Bae(d,h,x);Yi=(d.flags&131072)!==0}else Yi=!1,Nn&&(h.flags&1048576)!==0&&v1(h,Tm,h.index);switch(h.lanes=0,h.tag){case 16:e:{var j=h.pendingProps;if(d=lt(h.elementType),h.type=d,typeof d=="function")l0(d)?(j=Pm(d,j),h.tag=1,h=HL(null,h,d,j,x)):(h.tag=0,h=ek(null,h,d,j,x));else{if(d!=null){var T=d.$$typeof;if(T===A){h.tag=11,h=PL(null,h,d,j,x);break e}else if(T===R){h.tag=14,h=LL(null,h,d,j,x);break e}}throw h=V(d)||d,Error(n(306,h,""))}}return h;case 0:return ek(d,h,h.type,h.pendingProps,x);case 1:return j=h.type,T=Pm(j,h.pendingProps),HL(d,h,j,T,x);case 3:e:{if(Ne(h,h.stateNode.containerInfo),d===null)throw Error(n(387));j=h.pendingProps;var $=h.memoizedState;T=$.element,Fa(d,h),hi(h,j,null,x);var ee=h.memoizedState;if(j=ee.cache,Au(h,ii,j),j!==$.cache&&Rd(h,[ii],x,!0),ba(),j=ee.element,$.isDehydrated)if($={element:j,isDehydrated:!1,cache:ee.cache},h.updateQueue.baseState=$,h.memoizedState=$,h.flags&256){h=zL(d,h,j,x);break e}else if(j!==T){T=Yo(Error(n(424)),h),ih(T),h=zL(d,h,j,x);break e}else{switch(d=h.stateNode.containerInfo,d.nodeType){case 9:d=d.body;break;default:d=d.nodeName==="HTML"?d.ownerDocument.body:d}for(ka=Xl(d.firstChild),hs=h,Nn=!0,Bs=null,Ya=!0,x=an(h,null,j,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Ld(),j===T){h=Bd(d,h,x);break e}zs(d,h,j,x)}h=h.child}return h;case 26:return E1(d,h),d===null?(x=n7(h.type,null,h.pendingProps,null))?h.memoizedState=x:Nn||(x=h.type,d=h.pendingProps,j=K1(ue.current).createElement(x),j[ar]=h,j[Wr]=d,qs(j,x,d),rr(j),h.stateNode=j):h.memoizedState=n7(h.type,d.memoizedProps,h.pendingProps,d.memoizedState),null;case 27:return ke(h),d===null&&Nn&&(j=h.stateNode=e7(h.type,h.pendingProps,ue.current),hs=h,Ya=!0,T=ka,bh(h.type)?(Bk=T,ka=Xl(j.firstChild)):ka=T),zs(d,h,h.pendingProps.children,x),E1(d,h),d===null&&(h.flags|=4194304),h.child;case 5:return d===null&&Nn&&((T=j=ka)&&(j=gie(j,h.type,h.pendingProps,Ya),j!==null?(h.stateNode=j,hs=h,ka=Xl(j.firstChild),Ya=!1,T=!0):T=!1),T||Cu(h)),ke(h),T=h.type,$=h.pendingProps,ee=d!==null?d.memoizedProps:null,j=$.children,Lk(T,$)?j=null:ee!==null&&Lk(T,ee)&&(h.flags|=32),h.memoizedState!==null&&(T=Yx(d,h,zS,null,null,x),yy._currentValue=T),E1(d,h),zs(d,h,j,x),h.child;case 6:return d===null&&Nn&&((d=x=ka)&&(x=xie(x,h.pendingProps,Ya),x!==null?(h.stateNode=x,hs=h,ka=null,d=!0):d=!1),d||Cu(h)),null;case 13:return qL(d,h,x);case 4:return Ne(h,h.stateNode.containerInfo),j=h.pendingProps,d===null?h.child=Ca(h,null,j,x):zs(d,h,j,x),h.child;case 11:return PL(d,h,h.type,h.pendingProps,x);case 7:return zs(d,h,h.pendingProps,x),h.child;case 8:return zs(d,h,h.pendingProps.children,x),h.child;case 12:return zs(d,h,h.pendingProps.children,x),h.child;case 10:return j=h.pendingProps,Au(h,h.type,j.value),zs(d,h,j.children,x),h.child;case 9:return T=h.type._context,j=h.pendingProps.children,Mu(h),T=ps(T),j=j(T),h.flags|=1,zs(d,h,j,x),h.child;case 14:return LL(d,h,h.type,h.pendingProps,x);case 15:return RL(d,h,h.type,h.pendingProps,x);case 19:return WL(d,h,x);case 31:return $ae(d,h,x);case 22:return IL(d,h,x,h.pendingProps);case 24:return Mu(h),j=ps(ii),d===null?(T=je(),T===null&&(T=_a,$=oh(),T.pooledCache=$,$.refCount++,$!==null&&(T.pooledCacheLanes|=x),T=$),h.memoizedState={parent:j,cache:T},tr(h),Au(h,ii,T)):((d.lanes&x)!==0&&(Fa(d,h),hi(h,null,null,x),ba()),T=d.memoizedState,$=h.memoizedState,T.parent!==j?(T={parent:j,cache:j},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),Au(h,ii,j)):(j=$.cache,Au(h,ii,j),j!==T.cache&&Rd(h,[ii],x,!0))),zs(d,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Hd(d){d.flags|=4}function lk(d,h,x,j,T){if((h=(d.mode&32)!==0)&&(h=!1),h){if(d.flags|=16777216,(T&335544128)===T)if(d.stateNode.complete)d.flags|=8192;else if(b8())d.flags|=8192;else throw Ct=Xe,ut}else d.flags&=-16777217}function GL(d,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)d.flags&=-16777217;else if(d.flags|=16777216,!l7(h))if(b8())d.flags|=8192;else throw Ct=Xe,ut}function P1(d,h){h!==null&&(d.flags|=4),d.flags&16384&&(h=d.tag!==22?Re():536870912,d.lanes|=h,T0|=h)}function ay(d,h){if(!Nn)switch(d.tailMode){case"hidden":h=d.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?d.tail=null:x.sibling=null;break;case"collapsed":x=d.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?h||d.tail===null?d.tail=null:d.tail.sibling=null:j.sibling=null}}function Ha(d){var h=d.alternate!==null&&d.alternate.child===d.child,x=0,j=0;if(h)for(var T=d.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags&65011712,j|=T.flags&65011712,T.return=d,T=T.sibling;else for(T=d.child;T!==null;)x|=T.lanes|T.childLanes,j|=T.subtreeFlags,j|=T.flags,T.return=d,T=T.sibling;return d.subtreeFlags|=j,d.childLanes=x,h}function Hae(d,h,x){var j=h.pendingProps;switch(f0(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ha(h),null;case 1:return Ha(h),null;case 3:return x=h.stateNode,j=null,d!==null&&(j=d.memoizedState.cache),h.memoizedState.cache!==j&&(h.flags|=2048),Zo(ii),ge(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(d===null||d.child===null)&&(ms(h)?Hd(h):d===null||d.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Vx())),Ha(h),null;case 26:var T=h.type,$=h.memoizedState;return d===null?(Hd(h),$!==null?(Ha(h),GL(h,$)):(Ha(h),lk(h,T,null,j,x))):$?$!==d.memoizedState?(Hd(h),Ha(h),GL(h,$)):(Ha(h),h.flags&=-16777217):(d=d.memoizedProps,d!==j&&Hd(h),Ha(h),lk(h,T,d,j,x)),null;case 27:if(ze(h),x=ue.current,T=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Ha(h),null}d=Z.current,ms(h)?Wx(h):(d=e7(T,j,x),h.stateNode=d,Hd(h))}return Ha(h),null;case 5:if(ze(h),T=h.type,d!==null&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Ha(h),null}if($=Z.current,ms(h))Wx(h);else{var ee=K1(ue.current);switch($){case 1:$=ee.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:$=ee.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":$=ee.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":$=ee.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":$=ee.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof j.is=="string"?ee.createElement("select",{is:j.is}):ee.createElement("select"),j.multiple?$.multiple=!0:j.size&&($.size=j.size);break;default:$=typeof j.is=="string"?ee.createElement(T,{is:j.is}):ee.createElement(T)}}$[ar]=h,$[Wr]=j;e:for(ee=h.child;ee!==null;){if(ee.tag===5||ee.tag===6)$.appendChild(ee.stateNode);else if(ee.tag!==4&&ee.tag!==27&&ee.child!==null){ee.child.return=ee,ee=ee.child;continue}if(ee===h)break e;for(;ee.sibling===null;){if(ee.return===null||ee.return===h)break e;ee=ee.return}ee.sibling.return=ee.return,ee=ee.sibling}h.stateNode=$;e:switch(qs($,T,j),T){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&Hd(h)}}return Ha(h),lk(h,h.type,d===null?null:d.memoizedProps,h.pendingProps,x),null;case 6:if(d&&h.stateNode!=null)d.memoizedProps!==j&&Hd(h);else{if(typeof j!="string"&&h.stateNode===null)throw Error(n(166));if(d=ue.current,ms(h)){if(d=h.stateNode,x=h.memoizedProps,j=null,T=hs,T!==null)switch(T.tag){case 27:case 5:j=T.memoizedProps}d[ar]=h,d=!!(d.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||q8(d.nodeValue,x)),d||Cu(h,!0)}else d=K1(d).createTextNode(j),d[ar]=h,h.stateNode=d}return Ha(h),null;case 31:if(x=h.memoizedState,d===null||d.memoizedState!==null){if(j=ms(h),x!==null){if(d===null){if(!j)throw Error(n(318));if(d=h.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(n(557));d[ar]=h}else Ld(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ha(h),d=!1}else x=Vx(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=x),d=!0;if(!d)return h.flags&256?(la(h),h):(la(h),null);if((h.flags&128)!==0)throw Error(n(558))}return Ha(h),null;case 13:if(j=h.memoizedState,d===null||d.memoizedState!==null&&d.memoizedState.dehydrated!==null){if(T=ms(h),j!==null&&j.dehydrated!==null){if(d===null){if(!T)throw Error(n(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ar]=h}else Ld(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Ha(h),T=!1}else T=Vx(),d!==null&&d.memoizedState!==null&&(d.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?(la(h),h):(la(h),null)}return la(h),(h.flags&128)!==0?(h.lanes=x,h):(x=j!==null,d=d!==null&&d.memoizedState!==null,x&&(j=h.child,T=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(T=j.alternate.memoizedState.cachePool.pool),$=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&($=j.memoizedState.cachePool.pool),$!==T&&(j.flags|=2048)),x!==d&&x&&(h.child.flags|=8192),P1(h,h.updateQueue),Ha(h),null);case 4:return ge(),d===null&&Mk(h.stateNode.containerInfo),Ha(h),null;case 10:return Zo(h.type),Ha(h),null;case 19:if(U(Rn),j=h.memoizedState,j===null)return Ha(h),null;if(T=(h.flags&128)!==0,$=j.rendering,$===null)if(T)ay(j,!1);else{if(yi!==0||d!==null&&(d.flags&128)!==0)for(d=h.child;d!==null;){if($=As(d),$!==null){for(h.flags|=128,ay(j,!1),d=$.updateQueue,h.updateQueue=d,P1(h,d),h.subtreeFlags=0,d=x,x=h.child;x!==null;)_m(x,d),x=x.sibling;return X(Rn,Rn.current&1|2),Nn&&Co(h,j.treeForkCount),h.child}d=d.sibling}j.tail!==null&&Se()>$1&&(h.flags|=128,T=!0,ay(j,!1),h.lanes=4194304)}else{if(!T)if(d=As($),d!==null){if(h.flags|=128,T=!0,d=d.updateQueue,h.updateQueue=d,P1(h,d),ay(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!Nn)return Ha(h),null}else 2*Se()-j.renderingStartTime>$1&&x!==536870912&&(h.flags|=128,T=!0,ay(j,!1),h.lanes=4194304);j.isBackwards?($.sibling=h.child,h.child=$):(d=j.last,d!==null?d.sibling=$:h.child=$,j.last=$)}return j.tail!==null?(d=j.tail,j.rendering=d,j.tail=d.sibling,j.renderingStartTime=Se(),d.sibling=null,x=Rn.current,X(Rn,T?x&1|2:x&1),Nn&&Co(h,j.treeForkCount),d):(Ha(h),null);case 22:case 23:return la(h),Li(),j=h.memoizedState!==null,d!==null?d.memoizedState!==null!==j&&(h.flags|=8192):j&&(h.flags|=8192),j?(x&536870912)!==0&&(h.flags&128)===0&&(Ha(h),h.subtreeFlags&6&&(h.flags|=8192)):Ha(h),x=h.updateQueue,x!==null&&P1(h,x.retryQueue),x=null,d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),j=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),j!==x&&(h.flags|=2048),d!==null&&U(xe),null;case 24:return x=null,d!==null&&(x=d.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Zo(ii),Ha(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function zae(d,h){switch(f0(h),h.tag){case 1:return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 3:return Zo(ii),ge(),d=h.flags,(d&65536)!==0&&(d&128)===0?(h.flags=d&-65537|128,h):null;case 26:case 27:case 5:return ze(h),null;case 31:if(h.memoizedState!==null){if(la(h),h.alternate===null)throw Error(n(340));Ld()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 13:if(la(h),d=h.memoizedState,d!==null&&d.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Ld()}return d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 19:return U(Rn),null;case 4:return ge(),null;case 10:return Zo(h.type),null;case 22:case 23:return la(h),Li(),d!==null&&U(xe),d=h.flags,d&65536?(h.flags=d&-65537|128,h):null;case 24:return Zo(ii),null;case 25:return null;default:return null}}function YL(d,h){switch(f0(h),h.tag){case 3:Zo(ii),ge();break;case 26:case 27:case 5:ze(h);break;case 4:ge();break;case 31:h.memoizedState!==null&&la(h);break;case 13:la(h);break;case 19:U(Rn);break;case 10:Zo(h.type);break;case 22:case 23:la(h),Li(),d!==null&&U(xe);break;case 24:Zo(ii)}}function iy(d,h){try{var x=h.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var T=j.next;x=T;do{if((x.tag&d)===d){j=void 0;var $=x.create,ee=x.inst;j=$(),ee.destroy=j}x=x.next}while(x!==T)}}catch(be){ua(h,h.return,be)}}function fh(d,h,x){try{var j=h.updateQueue,T=j!==null?j.lastEffect:null;if(T!==null){var $=T.next;j=$;do{if((j.tag&d)===d){var ee=j.inst,be=ee.destroy;if(be!==void 0){ee.destroy=void 0,T=h;var Be=x,mt=be;try{mt()}catch(Ot){ua(T,Be,Ot)}}}j=j.next}while(j!==$)}}catch(Ot){ua(h,h.return,Ot)}}function KL(d){var h=d.updateQueue;if(h!==null){var x=d.stateNode;try{mi(h,x)}catch(j){ua(d,d.return,j)}}}function JL(d,h,x){x.props=Pm(d.type,d.memoizedProps),x.state=d.memoizedState;try{x.componentWillUnmount()}catch(j){ua(d,h,j)}}function sy(d,h){try{var x=d.ref;if(x!==null){switch(d.tag){case 26:case 27:case 5:var j=d.stateNode;break;case 30:j=d.stateNode;break;default:j=d.stateNode}typeof x=="function"?d.refCleanup=x(j):x.current=j}}catch(T){ua(d,h,T)}}function Lu(d,h){var x=d.ref,j=d.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(T){ua(d,h,T)}finally{d.refCleanup=null,d=d.alternate,d!=null&&(d.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(T){ua(d,h,T)}else x.current=null}function XL(d){var h=d.type,x=d.memoizedProps,j=d.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(T){ua(d,d.return,T)}}function ck(d,h,x){try{var j=d.stateNode;uie(j,d.type,x,h),j[Wr]=h}catch(T){ua(d,d.return,T)}}function QL(d){return d.tag===5||d.tag===3||d.tag===26||d.tag===27&&bh(d.type)||d.tag===4}function uk(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||QL(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.tag===27&&bh(d.type)||d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function dk(d,h,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(d,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(d),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Ei));else if(j!==4&&(j===27&&bh(d.type)&&(x=d.stateNode,h=null),d=d.child,d!==null))for(dk(d,h,x),d=d.sibling;d!==null;)dk(d,h,x),d=d.sibling}function L1(d,h,x){var j=d.tag;if(j===5||j===6)d=d.stateNode,h?x.insertBefore(d,h):x.appendChild(d);else if(j!==4&&(j===27&&bh(d.type)&&(x=d.stateNode),d=d.child,d!==null))for(L1(d,h,x),d=d.sibling;d!==null;)L1(d,h,x),d=d.sibling}function ZL(d){var h=d.stateNode,x=d.memoizedProps;try{for(var j=d.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);qs(h,j,x),h[ar]=d,h[Wr]=x}catch($){ua(d,d.return,$)}}var zd=!1,Ki=!1,fk=!1,e8=typeof WeakSet=="function"?WeakSet:Set,Ts=null;function qae(d,h){if(d=d.containerInfo,Dk=rw,d=Ic(d),Vl(d)){if("selectionStart"in d)var x={start:d.selectionStart,end:d.selectionEnd};else e:{x=(x=d.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var T=j.anchorOffset,$=j.focusNode;j=j.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var ee=0,be=-1,Be=-1,mt=0,Ot=0,Ft=d,xt=null;t:for(;;){for(var St;Ft!==x||T!==0&&Ft.nodeType!==3||(be=ee+T),Ft!==$||j!==0&&Ft.nodeType!==3||(Be=ee+j),Ft.nodeType===3&&(ee+=Ft.nodeValue.length),(St=Ft.firstChild)!==null;)xt=Ft,Ft=St;for(;;){if(Ft===d)break t;if(xt===x&&++mt===T&&(be=ee),xt===$&&++Ot===j&&(Be=ee),(St=Ft.nextSibling)!==null)break;Ft=xt,xt=Ft.parentNode}Ft=St}x=be===-1||Be===-1?null:{start:be,end:Be}}else x=null}x=x||{start:0,end:0}}else x=null;for(Pk={focusedElem:d,selectionRange:x},rw=!1,Ts=h;Ts!==null;)if(h=Ts,d=h.child,(h.subtreeFlags&1028)!==0&&d!==null)d.return=h,Ts=d;else for(;Ts!==null;){switch(h=Ts,$=h.alternate,d=h.flags,h.tag){case 0:if((d&4)!==0&&(d=h.updateQueue,d=d!==null?d.events:null,d!==null))for(x=0;x<d.length;x++)T=d[x],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((d&1024)!==0&&$!==null){d=void 0,x=h,T=$.memoizedProps,$=$.memoizedState,j=x.stateNode;try{var yr=Pm(x.type,T);d=j.getSnapshotBeforeUpdate(yr,$),j.__reactInternalSnapshotBeforeUpdate=d}catch(zr){ua(x,x.return,zr)}}break;case 3:if((d&1024)!==0){if(d=h.stateNode.containerInfo,x=d.nodeType,x===9)Ik(d);else if(x===1)switch(d.nodeName){case"HEAD":case"HTML":case"BODY":Ik(d);break;default:d.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((d&1024)!==0)throw Error(n(163))}if(d=h.sibling,d!==null){d.return=h.return,Ts=d;break}Ts=h.return}}function t8(d,h,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Ud(d,x),j&4&&iy(5,x);break;case 1:if(Ud(d,x),j&4)if(d=x.stateNode,h===null)try{d.componentDidMount()}catch(ee){ua(x,x.return,ee)}else{var T=Pm(x.type,h.memoizedProps);h=h.memoizedState;try{d.componentDidUpdate(T,h,d.__reactInternalSnapshotBeforeUpdate)}catch(ee){ua(x,x.return,ee)}}j&64&&KL(x),j&512&&sy(x,x.return);break;case 3:if(Ud(d,x),j&64&&(d=x.updateQueue,d!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{mi(d,h)}catch(ee){ua(x,x.return,ee)}}break;case 27:h===null&&j&4&&ZL(x);case 26:case 5:Ud(d,x),h===null&&j&4&&XL(x),j&512&&sy(x,x.return);break;case 12:Ud(d,x);break;case 31:Ud(d,x),j&4&&a8(d,x);break;case 13:Ud(d,x),j&4&&i8(d,x),j&64&&(d=x.memoizedState,d!==null&&(d=d.dehydrated,d!==null&&(x=Qae.bind(null,x),yie(d,x))));break;case 22:if(j=x.memoizedState!==null||zd,!j){h=h!==null&&h.memoizedState!==null||Ki,T=zd;var $=Ki;zd=j,(Ki=h)&&!$?Wd(d,x,(x.subtreeFlags&8772)!==0):Ud(d,x),zd=T,Ki=$}break;case 30:break;default:Ud(d,x)}}function r8(d){var h=d.alternate;h!==null&&(d.alternate=null,r8(h)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(h=d.stateNode,h!==null&&Ke(h)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}var Xa=null,tl=!1;function qd(d,h,x){for(x=x.child;x!==null;)n8(d,h,x),x=x.sibling}function n8(d,h,x){if(Ye&&typeof Ye.onCommitFiberUnmount=="function")try{Ye.onCommitFiberUnmount(Ae,x)}catch{}switch(x.tag){case 26:Ki||Lu(x,h),qd(d,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Ki||Lu(x,h);var j=Xa,T=tl;bh(x.type)&&(Xa=x.stateNode,tl=!1),qd(d,h,x),py(x.stateNode),Xa=j,tl=T;break;case 5:Ki||Lu(x,h);case 6:if(j=Xa,T=tl,Xa=null,qd(d,h,x),Xa=j,tl=T,Xa!==null)if(tl)try{(Xa.nodeType===9?Xa.body:Xa.nodeName==="HTML"?Xa.ownerDocument.body:Xa).removeChild(x.stateNode)}catch($){ua(x,h,$)}else try{Xa.removeChild(x.stateNode)}catch($){ua(x,h,$)}break;case 18:Xa!==null&&(tl?(d=Xa,K8(d.nodeType===9?d.body:d.nodeName==="HTML"?d.ownerDocument.body:d,x.stateNode),I0(d)):K8(Xa,x.stateNode));break;case 4:j=Xa,T=tl,Xa=x.stateNode.containerInfo,tl=!0,qd(d,h,x),Xa=j,tl=T;break;case 0:case 11:case 14:case 15:fh(2,x,h),Ki||fh(4,x,h),qd(d,h,x);break;case 1:Ki||(Lu(x,h),j=x.stateNode,typeof j.componentWillUnmount=="function"&&JL(x,h,j)),qd(d,h,x);break;case 21:qd(d,h,x);break;case 22:Ki=(j=Ki)||x.memoizedState!==null,qd(d,h,x),Ki=j;break;default:qd(d,h,x)}}function a8(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null))){d=d.dehydrated;try{I0(d)}catch(x){ua(h,h.return,x)}}}function i8(d,h){if(h.memoizedState===null&&(d=h.alternate,d!==null&&(d=d.memoizedState,d!==null&&(d=d.dehydrated,d!==null))))try{I0(d)}catch(x){ua(h,h.return,x)}}function Uae(d){switch(d.tag){case 31:case 13:case 19:var h=d.stateNode;return h===null&&(h=d.stateNode=new e8),h;case 22:return d=d.stateNode,h=d._retryCache,h===null&&(h=d._retryCache=new e8),h;default:throw Error(n(435,d.tag))}}function R1(d,h){var x=Uae(d);h.forEach(function(j){if(!x.has(j)){x.add(j);var T=Zae.bind(null,d,j);j.then(T,T)}})}function rl(d,h){var x=h.deletions;if(x!==null)for(var j=0;j<x.length;j++){var T=x[j],$=d,ee=h,be=ee;e:for(;be!==null;){switch(be.tag){case 27:if(bh(be.type)){Xa=be.stateNode,tl=!1;break e}break;case 5:Xa=be.stateNode,tl=!1;break e;case 3:case 4:Xa=be.stateNode.containerInfo,tl=!0;break e}be=be.return}if(Xa===null)throw Error(n(160));n8($,ee,T),Xa=null,tl=!1,$=T.alternate,$!==null&&($.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)s8(h,d),h=h.sibling}var Wc=null;function s8(d,h){var x=d.alternate,j=d.flags;switch(d.tag){case 0:case 11:case 14:case 15:rl(h,d),nl(d),j&4&&(fh(3,d,d.return),iy(3,d),fh(5,d,d.return));break;case 1:rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),j&64&&zd&&(d=d.updateQueue,d!==null&&(j=d.callbacks,j!==null&&(x=d.shared.hiddenCallbacks,d.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var T=Wc;if(rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),j&4){var $=x!==null?x.memoizedState:null;if(j=d.memoizedState,x===null)if(j===null)if(d.stateNode===null){e:{j=d.type,x=d.memoizedProps,T=T.ownerDocument||T;t:switch(j){case"title":$=T.getElementsByTagName("title")[0],(!$||$[de]||$[ar]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=T.createElement(j),T.head.insertBefore($,T.querySelector("head > title"))),qs($,j,x),$[ar]=d,rr($),j=$;break e;case"link":var ee=s7("link","href",T).get(j+(x.href||""));if(ee){for(var be=0;be<ee.length;be++)if($=ee[be],$.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&$.getAttribute("rel")===(x.rel==null?null:x.rel)&&$.getAttribute("title")===(x.title==null?null:x.title)&&$.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){ee.splice(be,1);break t}}$=T.createElement(j),qs($,j,x),T.head.appendChild($);break;case"meta":if(ee=s7("meta","content",T).get(j+(x.content||""))){for(be=0;be<ee.length;be++)if($=ee[be],$.getAttribute("content")===(x.content==null?null:""+x.content)&&$.getAttribute("name")===(x.name==null?null:x.name)&&$.getAttribute("property")===(x.property==null?null:x.property)&&$.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&$.getAttribute("charset")===(x.charSet==null?null:x.charSet)){ee.splice(be,1);break t}}$=T.createElement(j),qs($,j,x),T.head.appendChild($);break;default:throw Error(n(468,j))}$[ar]=d,rr($),j=$}d.stateNode=j}else o7(T,d.type,d.stateNode);else d.stateNode=i7(T,j,d.memoizedProps);else $!==j?($===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):$.count--,j===null?o7(T,d.type,d.stateNode):i7(T,j,d.memoizedProps)):j===null&&d.stateNode!==null&&ck(d,d.memoizedProps,x.memoizedProps)}break;case 27:rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),x!==null&&j&4&&ck(d,d.memoizedProps,x.memoizedProps);break;case 5:if(rl(h,d),nl(d),j&512&&(Ki||x===null||Lu(x,x.return)),d.flags&32){T=d.stateNode;try{re(T,"")}catch(yr){ua(d,d.return,yr)}}j&4&&d.stateNode!=null&&(T=d.memoizedProps,ck(d,T,x!==null?x.memoizedProps:T)),j&1024&&(fk=!0);break;case 6:if(rl(h,d),nl(d),j&4){if(d.stateNode===null)throw Error(n(162));j=d.memoizedProps,x=d.stateNode;try{x.nodeValue=j}catch(yr){ua(d,d.return,yr)}}break;case 3:if(Q1=null,T=Wc,Wc=J1(h.containerInfo),rl(h,d),Wc=T,nl(d),j&4&&x!==null&&x.memoizedState.isDehydrated)try{I0(h.containerInfo)}catch(yr){ua(d,d.return,yr)}fk&&(fk=!1,o8(d));break;case 4:j=Wc,Wc=J1(d.stateNode.containerInfo),rl(h,d),nl(d),Wc=j;break;case 12:rl(h,d),nl(d);break;case 31:rl(h,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,R1(d,j)));break;case 13:rl(h,d),nl(d),d.child.flags&8192&&d.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(F1=Se()),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,R1(d,j)));break;case 22:T=d.memoizedState!==null;var Be=x!==null&&x.memoizedState!==null,mt=zd,Ot=Ki;if(zd=mt||T,Ki=Ot||Be,rl(h,d),Ki=Ot,zd=mt,nl(d),j&8192)e:for(h=d.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(x===null||Be||zd||Ki||Lm(d)),x=null,h=d;;){if(h.tag===5||h.tag===26){if(x===null){Be=x=h;try{if($=Be.stateNode,T)ee=$.style,typeof ee.setProperty=="function"?ee.setProperty("display","none","important"):ee.display="none";else{be=Be.stateNode;var Ft=Be.memoizedProps.style,xt=Ft!=null&&Ft.hasOwnProperty("display")?Ft.display:null;be.style.display=xt==null||typeof xt=="boolean"?"":(""+xt).trim()}}catch(yr){ua(Be,Be.return,yr)}}}else if(h.tag===6){if(x===null){Be=h;try{Be.stateNode.nodeValue=T?"":Be.memoizedProps}catch(yr){ua(Be,Be.return,yr)}}}else if(h.tag===18){if(x===null){Be=h;try{var St=Be.stateNode;T?J8(St,!0):J8(Be.stateNode,!1)}catch(yr){ua(Be,Be.return,yr)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===d)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===d)break e;for(;h.sibling===null;){if(h.return===null||h.return===d)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}j&4&&(j=d.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,R1(d,x))));break;case 19:rl(h,d),nl(d),j&4&&(j=d.updateQueue,j!==null&&(d.updateQueue=null,R1(d,j)));break;case 30:break;case 21:break;default:rl(h,d),nl(d)}}function nl(d){var h=d.flags;if(h&2){try{for(var x,j=d.return;j!==null;){if(QL(j)){x=j;break}j=j.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var T=x.stateNode,$=uk(d);L1(d,$,T);break;case 5:var ee=x.stateNode;x.flags&32&&(re(ee,""),x.flags&=-33);var be=uk(d);L1(d,be,ee);break;case 3:case 4:var Be=x.stateNode.containerInfo,mt=uk(d);dk(d,mt,Be);break;default:throw Error(n(161))}}catch(Ot){ua(d,d.return,Ot)}d.flags&=-3}h&4096&&(d.flags&=-4097)}function o8(d){if(d.subtreeFlags&1024)for(d=d.child;d!==null;){var h=d;o8(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),d=d.sibling}}function Ud(d,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)t8(d,h.alternate,h),h=h.sibling}function Lm(d){for(d=d.child;d!==null;){var h=d;switch(h.tag){case 0:case 11:case 14:case 15:fh(4,h,h.return),Lm(h);break;case 1:Lu(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&JL(h,h.return,x),Lm(h);break;case 27:py(h.stateNode);case 26:case 5:Lu(h,h.return),Lm(h);break;case 22:h.memoizedState===null&&Lm(h);break;case 30:Lm(h);break;default:Lm(h)}d=d.sibling}}function Wd(d,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var j=h.alternate,T=d,$=h,ee=$.flags;switch($.tag){case 0:case 11:case 15:Wd(T,$,x),iy(4,$);break;case 1:if(Wd(T,$,x),j=$,T=j.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(mt){ua(j,j.return,mt)}if(j=$,T=j.updateQueue,T!==null){var be=j.stateNode;try{var Be=T.shared.hiddenCallbacks;if(Be!==null)for(T.shared.hiddenCallbacks=null,T=0;T<Be.length;T++)_s(Be[T],be)}catch(mt){ua(j,j.return,mt)}}x&&ee&64&&KL($),sy($,$.return);break;case 27:ZL($);case 26:case 5:Wd(T,$,x),x&&j===null&&ee&4&&XL($),sy($,$.return);break;case 12:Wd(T,$,x);break;case 31:Wd(T,$,x),x&&ee&4&&a8(T,$);break;case 13:Wd(T,$,x),x&&ee&4&&i8(T,$);break;case 22:$.memoizedState===null&&Wd(T,$,x),sy($,$.return);break;case 30:break;default:Wd(T,$,x)}h=h.sibling}}function hk(d,h){var x=null;d!==null&&d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(x=d.memoizedState.cachePool.pool),d=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(d=h.memoizedState.cachePool.pool),d!==x&&(d!=null&&d.refCount++,x!=null&&Mm(x))}function mk(d,h){d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Mm(d))}function Vc(d,h,x,j){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)l8(d,h,x,j),h=h.sibling}function l8(d,h,x,j){var T=h.flags;switch(h.tag){case 0:case 11:case 15:Vc(d,h,x,j),T&2048&&iy(9,h);break;case 1:Vc(d,h,x,j);break;case 3:Vc(d,h,x,j),T&2048&&(d=null,h.alternate!==null&&(d=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==d&&(h.refCount++,d!=null&&Mm(d)));break;case 12:if(T&2048){Vc(d,h,x,j),d=h.stateNode;try{var $=h.memoizedProps,ee=$.id,be=$.onPostCommit;typeof be=="function"&&be(ee,h.alternate===null?"mount":"update",d.passiveEffectDuration,-0)}catch(Be){ua(h,h.return,Be)}}else Vc(d,h,x,j);break;case 31:Vc(d,h,x,j);break;case 13:Vc(d,h,x,j);break;case 23:break;case 22:$=h.stateNode,ee=h.alternate,h.memoizedState!==null?$._visibility&2?Vc(d,h,x,j):oy(d,h):$._visibility&2?Vc(d,h,x,j):($._visibility|=2,C0(d,h,x,j,(h.subtreeFlags&10256)!==0||!1)),T&2048&&hk(ee,h);break;case 24:Vc(d,h,x,j),T&2048&&mk(h.alternate,h);break;default:Vc(d,h,x,j)}}function C0(d,h,x,j,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var $=d,ee=h,be=x,Be=j,mt=ee.flags;switch(ee.tag){case 0:case 11:case 15:C0($,ee,be,Be,T),iy(8,ee);break;case 23:break;case 22:var Ot=ee.stateNode;ee.memoizedState!==null?Ot._visibility&2?C0($,ee,be,Be,T):oy($,ee):(Ot._visibility|=2,C0($,ee,be,Be,T)),T&&mt&2048&&hk(ee.alternate,ee);break;case 24:C0($,ee,be,Be,T),T&&mt&2048&&mk(ee.alternate,ee);break;default:C0($,ee,be,Be,T)}h=h.sibling}}function oy(d,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=d,j=h,T=j.flags;switch(j.tag){case 22:oy(x,j),T&2048&&hk(j.alternate,j);break;case 24:oy(x,j),T&2048&&mk(j.alternate,j);break;default:oy(x,j)}h=h.sibling}}var ly=8192;function _0(d,h,x){if(d.subtreeFlags&ly)for(d=d.child;d!==null;)c8(d,h,x),d=d.sibling}function c8(d,h,x){switch(d.tag){case 26:_0(d,h,x),d.flags&ly&&d.memoizedState!==null&&Mie(x,Wc,d.memoizedState,d.memoizedProps);break;case 5:_0(d,h,x);break;case 3:case 4:var j=Wc;Wc=J1(d.stateNode.containerInfo),_0(d,h,x),Wc=j;break;case 22:d.memoizedState===null&&(j=d.alternate,j!==null&&j.memoizedState!==null?(j=ly,ly=16777216,_0(d,h,x),ly=j):_0(d,h,x));break;default:_0(d,h,x)}}function u8(d){var h=d.alternate;if(h!==null&&(d=h.child,d!==null)){h.child=null;do h=d.sibling,d.sibling=null,d=h;while(d!==null)}}function cy(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];Ts=j,f8(j,d)}u8(d)}if(d.subtreeFlags&10256)for(d=d.child;d!==null;)d8(d),d=d.sibling}function d8(d){switch(d.tag){case 0:case 11:case 15:cy(d),d.flags&2048&&fh(9,d,d.return);break;case 3:cy(d);break;case 12:cy(d);break;case 22:var h=d.stateNode;d.memoizedState!==null&&h._visibility&2&&(d.return===null||d.return.tag!==13)?(h._visibility&=-3,I1(d)):cy(d);break;default:cy(d)}}function I1(d){var h=d.deletions;if((d.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];Ts=j,f8(j,d)}u8(d)}for(d=d.child;d!==null;){switch(h=d,h.tag){case 0:case 11:case 15:fh(8,h,h.return),I1(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,I1(h));break;default:I1(h)}d=d.sibling}}function f8(d,h){for(;Ts!==null;){var x=Ts;switch(x.tag){case 0:case 11:case 15:fh(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Mm(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,Ts=j;else e:for(x=d;Ts!==null;){j=Ts;var T=j.sibling,$=j.return;if(r8(j),j===x){Ts=null;break e}if(T!==null){T.return=$,Ts=T;break e}Ts=$}}}var Wae={getCacheForType:function(d){var h=ps(ii),x=h.data.get(d);return x===void 0&&(x=d(),h.data.set(d,x)),x},cacheSignal:function(){return ps(ii).controller.signal}},Vae=typeof WeakMap=="function"?WeakMap:Map,Qn=0,_a=null,Sn=null,Mn=0,ca=0,yl=null,hh=!1,A0=!1,pk=!1,Vd=0,yi=0,mh=0,Rm=0,gk=0,bl=0,T0=0,uy=null,al=null,xk=!1,F1=0,h8=0,$1=1/0,B1=null,ph=null,xs=0,gh=null,M0=null,Gd=0,yk=0,bk=null,m8=null,dy=0,vk=null;function vl(){return(Qn&2)!==0&&Mn!==0?Mn&-Mn:W.T!==null?Ck():gr()}function p8(){if(bl===0)if((Mn&536870912)===0||Nn){var d=we;we<<=1,(we&3932160)===0&&(we=262144),bl=d}else bl=536870912;return d=Ba.current,d!==null&&(d.flags|=32),bl}function il(d,h,x){(d===_a&&(ca===2||ca===9)||d.cancelPendingCommit!==null)&&(O0(d,0),xh(d,Mn,bl,!1)),Ue(d,x),((Qn&2)===0||d!==_a)&&(d===_a&&((Qn&2)===0&&(Rm|=x),yi===4&&xh(d,Mn,bl,!1)),Ru(d))}function g8(d,h,x){if((Qn&6)!==0)throw Error(n(327));var j=!x&&(h&127)===0&&(h&d.expiredLanes)===0||Ze(d,h),T=j?Kae(d,h):jk(d,h,!0),$=j;do{if(T===0){A0&&!j&&xh(d,h,0,!1);break}else{if(x=d.current.alternate,$&&!Gae(x)){T=jk(d,h,!1),$=!1;continue}if(T===2){if($=h,d.errorRecoveryDisabledLanes&$)var ee=0;else ee=d.pendingLanes&-536870913,ee=ee!==0?ee:ee&536870912?536870912:0;if(ee!==0){h=ee;e:{var be=d;T=uy;var Be=be.current.memoizedState.isDehydrated;if(Be&&(O0(be,ee).flags|=256),ee=jk(be,ee,!1),ee!==2){if(pk&&!Be){be.errorRecoveryDisabledLanes|=$,Rm|=$,T=4;break e}$=al,al=T,$!==null&&(al===null?al=$:al.push.apply(al,$))}T=ee}if($=!1,T!==2)continue}}if(T===1){O0(d,0),xh(d,h,0,!0);break}e:{switch(j=d,$=T,$){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:xh(j,h,bl,!hh);break e;case 2:al=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(T=F1+300-Se(),10<T)){if(xh(j,h,bl,!hh),He(j,0,!0)!==0)break e;Gd=h,j.timeoutHandle=G8(x8.bind(null,j,x,al,B1,xk,h,bl,Rm,T0,hh,$,"Throttled",-0,0),T);break e}x8(j,x,al,B1,xk,h,bl,Rm,T0,hh,$,null,-0,0)}}break}while(!0);Ru(d)}function x8(d,h,x,j,T,$,ee,be,Be,mt,Ot,Ft,xt,St){if(d.timeoutHandle=-1,Ft=h.subtreeFlags,Ft&8192||(Ft&16785408)===16785408){Ft={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ei},c8(h,$,Ft);var yr=($&62914560)===$?F1-Se():($&4194048)===$?h8-Se():0;if(yr=Oie(Ft,yr),yr!==null){Gd=$,d.cancelPendingCommit=yr(k8.bind(null,d,h,$,x,j,T,ee,be,Be,Ot,Ft,null,xt,St)),xh(d,$,ee,!mt);return}}k8(d,h,$,x,j,T,ee,be,Be)}function Gae(d){for(var h=d;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var T=x[j],$=T.getSnapshot;T=T.value;try{if(!ds($(),T))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===d)break;for(;h.sibling===null;){if(h.return===null||h.return===d)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function xh(d,h,x,j){h&=~gk,h&=~Rm,d.suspendedLanes|=h,d.pingedLanes&=~h,j&&(d.warmLanes|=h),j=d.expirationTimes;for(var T=h;0<T;){var $=31-ve(T),ee=1<<$;j[$]=-1,T&=~ee}x!==0&&zt(d,x,h)}function H1(){return(Qn&6)===0?(fy(0),!1):!0}function wk(){if(Sn!==null){if(ca===0)var d=Sn.return;else d=Sn,Yl=_u=null,b0(d),$t=null,br=0,d=Sn;for(;d!==null;)YL(d.alternate,d),d=d.return;Sn=null}}function O0(d,h){var x=d.timeoutHandle;x!==-1&&(d.timeoutHandle=-1,hie(x)),x=d.cancelPendingCommit,x!==null&&(d.cancelPendingCommit=null,x()),Gd=0,wk(),_a=d,Sn=x=Go(d.current,null),Mn=h,ca=0,yl=null,hh=!1,A0=Ze(d,h),pk=!1,T0=bl=gk=Rm=mh=yi=0,al=uy=null,xk=!1,(h&8)!==0&&(h|=h&32);var j=d.entangledLanes;if(j!==0)for(d=d.entanglements,j&=h;0<j;){var T=31-ve(j),$=1<<T;h|=d[T],j&=~$}return Vd=h,Sm(),x}function y8(d,h){Or=null,W.H=ry,h===Ve||h===Te?(h=Pt(),ca=3):h===ut?(h=Pt(),ca=4):ca=h===ZS?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,yl=h,Sn===null&&(yi=1,M1(d,Yo(h,d.current)))}function b8(){var d=Ba.current;return d===null?!0:(Mn&4194048)===Mn?$n===null:(Mn&62914560)===Mn||(Mn&536870912)!==0?d===$n:!1}function v8(){var d=W.H;return W.H=ry,d===null?ry:d}function w8(){var d=W.A;return W.A=Wae,d}function z1(){yi=4,hh||(Mn&4194048)!==Mn&&Ba.current!==null||(A0=!0),(mh&134217727)===0&&(Rm&134217727)===0||_a===null||xh(_a,Mn,bl,!1)}function jk(d,h,x){var j=Qn;Qn|=2;var T=v8(),$=w8();(_a!==d||Mn!==h)&&(B1=null,O0(d,h)),h=!1;var ee=yi;e:do try{if(ca!==0&&Sn!==null){var be=Sn,Be=yl;switch(ca){case 8:wk(),ee=6;break e;case 3:case 2:case 9:case 6:Ba.current===null&&(h=!0);var mt=ca;if(ca=0,yl=null,E0(d,be,Be,mt),x&&A0){ee=0;break e}break;default:mt=ca,ca=0,yl=null,E0(d,be,Be,mt)}}Yae(),ee=yi;break}catch(Ot){y8(d,Ot)}while(!0);return h&&d.shellSuspendCounter++,Yl=_u=null,Qn=j,W.H=T,W.A=$,Sn===null&&(_a=null,Mn=0,Sm()),ee}function Yae(){for(;Sn!==null;)j8(Sn)}function Kae(d,h){var x=Qn;Qn|=2;var j=v8(),T=w8();_a!==d||Mn!==h?(B1=null,$1=Se()+500,O0(d,h)):A0=Ze(d,h);e:do try{if(ca!==0&&Sn!==null){h=Sn;var $=yl;t:switch(ca){case 1:ca=0,yl=null,E0(d,h,$,1);break;case 2:case 9:if(ot($)){ca=0,yl=null,N8(h);break}h=function(){ca!==2&&ca!==9||_a!==d||(ca=7),Ru(d)},$.then(h,h);break e;case 3:ca=7;break e;case 4:ca=5;break e;case 7:ot($)?(ca=0,yl=null,N8(h)):(ca=0,yl=null,E0(d,h,$,7));break;case 5:var ee=null;switch(Sn.tag){case 26:ee=Sn.memoizedState;case 5:case 27:var be=Sn;if(ee?l7(ee):be.stateNode.complete){ca=0,yl=null;var Be=be.sibling;if(Be!==null)Sn=Be;else{var mt=be.return;mt!==null?(Sn=mt,q1(mt)):Sn=null}break t}}ca=0,yl=null,E0(d,h,$,5);break;case 6:ca=0,yl=null,E0(d,h,$,6);break;case 8:wk(),yi=6;break e;default:throw Error(n(462))}}Jae();break}catch(Ot){y8(d,Ot)}while(!0);return Yl=_u=null,W.H=j,W.A=T,Qn=x,Sn!==null?0:(_a=null,Mn=0,Sm(),yi)}function Jae(){for(;Sn!==null&&!It();)j8(Sn)}function j8(d){var h=VL(d.alternate,d,Vd);d.memoizedProps=d.pendingProps,h===null?q1(d):Sn=h}function N8(d){var h=d,x=h.alternate;switch(h.tag){case 15:case 0:h=BL(x,h,h.pendingProps,h.type,void 0,Mn);break;case 11:h=BL(x,h,h.pendingProps,h.type.render,h.ref,Mn);break;case 5:b0(h);default:YL(x,h),h=Sn=_m(h,Vd),h=VL(x,h,Vd)}d.memoizedProps=d.pendingProps,h===null?q1(d):Sn=h}function E0(d,h,x,j){Yl=_u=null,b0(h),$t=null,br=0;var T=h.return;try{if(Fae(d,T,h,x,Mn)){yi=1,M1(d,Yo(x,d.current)),Sn=null;return}}catch($){if(T!==null)throw Sn=T,$;yi=1,M1(d,Yo(x,d.current)),Sn=null;return}h.flags&32768?(Nn||j===1?d=!0:A0||(Mn&536870912)!==0?d=!1:(hh=d=!0,(j===2||j===9||j===3||j===6)&&(j=Ba.current,j!==null&&j.tag===13&&(j.flags|=16384))),S8(h,d)):q1(h)}function q1(d){var h=d;do{if((h.flags&32768)!==0){S8(h,hh);return}d=h.return;var x=Hae(h.alternate,h,Vd);if(x!==null){Sn=x;return}if(h=h.sibling,h!==null){Sn=h;return}Sn=h=d}while(h!==null);yi===0&&(yi=5)}function S8(d,h){do{var x=zae(d.alternate,d);if(x!==null){x.flags&=32767,Sn=x;return}if(x=d.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(d=d.sibling,d!==null)){Sn=d;return}Sn=d=x}while(d!==null);yi=6,Sn=null}function k8(d,h,x,j,T,$,ee,be,Be){d.cancelPendingCommit=null;do U1();while(xs!==0);if((Qn&6)!==0)throw Error(n(327));if(h!==null){if(h===d.current)throw Error(n(177));if($=h.lanes|h.childLanes,$|=i0,Lt(d,x,$,ee,be,Be),d===_a&&(Sn=_a=null,Mn=0),M0=h,gh=d,Gd=x,yk=$,bk=T,m8=j,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(d.callbackNode=null,d.callbackPriority=0,eie(kt,function(){return M8(),null})):(d.callbackNode=null,d.callbackPriority=0),j=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||j){j=W.T,W.T=null,T=F.p,F.p=2,ee=Qn,Qn|=4;try{qae(d,h,x)}finally{Qn=ee,F.p=T,W.T=j}}xs=1,C8(),_8(),A8()}}function C8(){if(xs===1){xs=0;var d=gh,h=M0,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=W.T,W.T=null;var j=F.p;F.p=2;var T=Qn;Qn|=4;try{s8(h,d);var $=Pk,ee=Ic(d.containerInfo),be=$.focusedElem,Be=$.selectionRange;if(ee!==be&&be&&be.ownerDocument&&Rc(be.ownerDocument.documentElement,be)){if(Be!==null&&Vl(be)){var mt=Be.start,Ot=Be.end;if(Ot===void 0&&(Ot=mt),"selectionStart"in be)be.selectionStart=mt,be.selectionEnd=Math.min(Ot,be.value.length);else{var Ft=be.ownerDocument||document,xt=Ft&&Ft.defaultView||window;if(xt.getSelection){var St=xt.getSelection(),yr=be.textContent.length,zr=Math.min(Be.start,yr),ja=Be.end===void 0?zr:Math.min(Be.end,yr);!St.extend&&zr>ja&&(ee=ja,ja=zr,zr=ee);var it=th(be,zr),Ge=th(be,ja);if(it&&Ge&&(St.rangeCount!==1||St.anchorNode!==it.node||St.anchorOffset!==it.offset||St.focusNode!==Ge.node||St.focusOffset!==Ge.offset)){var ht=Ft.createRange();ht.setStart(it.node,it.offset),St.removeAllRanges(),zr>ja?(St.addRange(ht),St.extend(Ge.node,Ge.offset)):(ht.setEnd(Ge.node,Ge.offset),St.addRange(ht))}}}}for(Ft=[],St=be;St=St.parentNode;)St.nodeType===1&&Ft.push({element:St,left:St.scrollLeft,top:St.scrollTop});for(typeof be.focus=="function"&&be.focus(),be=0;be<Ft.length;be++){var Rt=Ft[be];Rt.element.scrollLeft=Rt.left,Rt.element.scrollTop=Rt.top}}rw=!!Dk,Pk=Dk=null}finally{Qn=T,F.p=j,W.T=x}}d.current=h,xs=2}}function _8(){if(xs===2){xs=0;var d=gh,h=M0,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=W.T,W.T=null;var j=F.p;F.p=2;var T=Qn;Qn|=4;try{t8(d,h.alternate,h)}finally{Qn=T,F.p=j,W.T=x}}xs=3}}function A8(){if(xs===4||xs===3){xs=0,At();var d=gh,h=M0,x=Gd,j=m8;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?xs=5:(xs=0,M0=gh=null,T8(d,d.pendingLanes));var T=d.pendingLanes;if(T===0&&(ph=null),Vt(x),h=h.stateNode,Ye&&typeof Ye.onCommitFiberRoot=="function")try{Ye.onCommitFiberRoot(Ae,h,void 0,(h.current.flags&128)===128)}catch{}if(j!==null){h=W.T,T=F.p,F.p=2,W.T=null;try{for(var $=d.onRecoverableError,ee=0;ee<j.length;ee++){var be=j[ee];$(be.value,{componentStack:be.stack})}}finally{W.T=h,F.p=T}}(Gd&3)!==0&&U1(),Ru(d),T=d.pendingLanes,(x&261930)!==0&&(T&42)!==0?d===vk?dy++:(dy=0,vk=d):dy=0,fy(0)}}function T8(d,h){(d.pooledCacheLanes&=h)===0&&(h=d.pooledCache,h!=null&&(d.pooledCache=null,Mm(h)))}function U1(){return C8(),_8(),A8(),M8()}function M8(){if(xs!==5)return!1;var d=gh,h=yk;yk=0;var x=Vt(Gd),j=W.T,T=F.p;try{F.p=32>x?32:x,W.T=null,x=bk,bk=null;var $=gh,ee=Gd;if(xs=0,M0=gh=null,Gd=0,(Qn&6)!==0)throw Error(n(331));var be=Qn;if(Qn|=4,d8($.current),l8($,$.current,ee,x),Qn=be,fy(0,!1),Ye&&typeof Ye.onPostCommitFiberRoot=="function")try{Ye.onPostCommitFiberRoot(Ae,$)}catch{}return!0}finally{F.p=T,W.T=j,T8(d,h)}}function O8(d,h,x){h=Yo(x,h),h=QS(d.stateNode,h,2),d=ln(d,h,2),d!==null&&(Ue(d,2),Ru(d))}function ua(d,h,x){if(d.tag===3)O8(d,d,x);else for(;h!==null;){if(h.tag===3){O8(h,d,x);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(ph===null||!ph.has(j))){d=Yo(x,d),x=EL(2),j=ln(h,x,2),j!==null&&(DL(x,j,h,d),Ue(j,2),Ru(j));break}}h=h.return}}function Nk(d,h,x){var j=d.pingCache;if(j===null){j=d.pingCache=new Vae;var T=new Set;j.set(h,T)}else T=j.get(h),T===void 0&&(T=new Set,j.set(h,T));T.has(x)||(pk=!0,T.add(x),d=Xae.bind(null,d,h,x),h.then(d,d))}function Xae(d,h,x){var j=d.pingCache;j!==null&&j.delete(h),d.pingedLanes|=d.suspendedLanes&x,d.warmLanes&=~x,_a===d&&(Mn&x)===x&&(yi===4||yi===3&&(Mn&62914560)===Mn&&300>Se()-F1?(Qn&2)===0&&O0(d,0):gk|=x,T0===Mn&&(T0=0)),Ru(d)}function E8(d,h){h===0&&(h=Re()),d=$c(d,h),d!==null&&(Ue(d,h),Ru(d))}function Qae(d){var h=d.memoizedState,x=0;h!==null&&(x=h.retryLane),E8(d,x)}function Zae(d,h){var x=0;switch(d.tag){case 31:case 13:var j=d.stateNode,T=d.memoizedState;T!==null&&(x=T.retryLane);break;case 19:j=d.stateNode;break;case 22:j=d.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(h),E8(d,x)}function eie(d,h){return yt(d,h)}var W1=null,D0=null,Sk=!1,V1=!1,kk=!1,yh=0;function Ru(d){d!==D0&&d.next===null&&(D0===null?W1=D0=d:D0=D0.next=d),V1=!0,Sk||(Sk=!0,rie())}function fy(d,h){if(!kk&&V1){kk=!0;do for(var x=!1,j=W1;j!==null;){if(d!==0){var T=j.pendingLanes;if(T===0)var $=0;else{var ee=j.suspendedLanes,be=j.pingedLanes;$=(1<<31-ve(42|d)+1)-1,$&=T&~(ee&~be),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(x=!0,R8(j,$))}else $=Mn,$=He(j,j===_a?$:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),($&3)===0||Ze(j,$)||(x=!0,R8(j,$));j=j.next}while(x);kk=!1}}function tie(){D8()}function D8(){V1=Sk=!1;var d=0;yh!==0&&fie()&&(d=yh);for(var h=Se(),x=null,j=W1;j!==null;){var T=j.next,$=P8(j,h);$===0?(j.next=null,x===null?W1=T:x.next=T,T===null&&(D0=x)):(x=j,(d!==0||($&3)!==0)&&(V1=!0)),j=T}xs!==0&&xs!==5||fy(d),yh!==0&&(yh=0)}function P8(d,h){for(var x=d.suspendedLanes,j=d.pingedLanes,T=d.expirationTimes,$=d.pendingLanes&-62914561;0<$;){var ee=31-ve($),be=1<<ee,Be=T[ee];Be===-1?((be&x)===0||(be&j)!==0)&&(T[ee]=ft(be,h)):Be<=h&&(d.expiredLanes|=be),$&=~be}if(h=_a,x=Mn,x=He(d,d===h?x:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j=d.callbackNode,x===0||d===h&&(ca===2||ca===9)||d.cancelPendingCommit!==null)return j!==null&&j!==null&&bt(j),d.callbackNode=null,d.callbackPriority=0;if((x&3)===0||Ze(d,x)){if(h=x&-x,h===d.callbackPriority)return h;switch(j!==null&&bt(j),Vt(x)){case 2:case 8:x=Nt;break;case 32:x=kt;break;case 268435456:x=vt;break;default:x=kt}return j=L8.bind(null,d),x=yt(x,j),d.callbackPriority=h,d.callbackNode=x,h}return j!==null&&j!==null&&bt(j),d.callbackPriority=2,d.callbackNode=null,2}function L8(d,h){if(xs!==0&&xs!==5)return d.callbackNode=null,d.callbackPriority=0,null;var x=d.callbackNode;if(U1()&&d.callbackNode!==x)return null;var j=Mn;return j=He(d,d===_a?j:0,d.cancelPendingCommit!==null||d.timeoutHandle!==-1),j===0?null:(g8(d,j,h),P8(d,Se()),d.callbackNode!=null&&d.callbackNode===x?L8.bind(null,d):null)}function R8(d,h){if(U1())return null;g8(d,h,!0)}function rie(){mie(function(){(Qn&6)!==0?yt(rt,tie):D8()})}function Ck(){if(yh===0){var d=C;d===0&&(d=Je,Je<<=1,(Je&261888)===0&&(Je=256)),yh=d}return yh}function I8(d){return d==null||typeof d=="symbol"||typeof d=="boolean"?null:typeof d=="function"?d:Oi(""+d)}function F8(d,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,d.id&&x.setAttribute("form",d.id),h.parentNode.insertBefore(x,h),d=new FormData(d),x.parentNode.removeChild(x),d}function nie(d,h,x,j,T){if(h==="submit"&&x&&x.stateNode===T){var $=I8((T[Wr]||null).action),ee=j.submitter;ee&&(h=(h=ee[Wr]||null)?I8(h.formAction):ee.getAttribute("formAction"),h!==null&&($=h,ee=null));var be=new Fl("action","action",null,j,T);d.push({event:be,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(yh!==0){var Be=ee?F8(T,ee):new FormData(T);VS(x,{pending:!0,data:Be,method:T.method,action:$},null,Be)}}else typeof $=="function"&&(be.preventDefault(),Be=ee?F8(T,ee):new FormData(T),VS(x,{pending:!0,data:Be,method:T.method,action:$},$,Be))},currentTarget:T}]})}}for(var _k=0;_k<Ed.length;_k++){var Ak=Ed[_k],aie=Ak.toLowerCase(),iie=Ak[0].toUpperCase()+Ak.slice(1);Vo(aie,"on"+iie)}Vo(Od,"onAnimationEnd"),Vo(jm,"onAnimationIteration"),Vo(Hx,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(x1,"onTransitionRun"),Vo(y1,"onTransitionStart"),Vo(b1,"onTransitionCancel"),Vo(zx,"onTransitionEnd"),Fr("onMouseEnter",["mouseout","mouseover"]),Fr("onMouseLeave",["mouseout","mouseover"]),Fr("onPointerEnter",["pointerout","pointerover"]),Fr("onPointerLeave",["pointerout","pointerover"]),ur("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ur("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ur("onBeforeInput",["compositionend","keypress","textInput","paste"]),ur("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ur("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),sie=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hy));function $8(d,h){h=(h&4)!==0;for(var x=0;x<d.length;x++){var j=d[x],T=j.event;j=j.listeners;e:{var $=void 0;if(h)for(var ee=j.length-1;0<=ee;ee--){var be=j[ee],Be=be.instance,mt=be.currentTarget;if(be=be.listener,Be!==$&&T.isPropagationStopped())break e;$=be,T.currentTarget=mt;try{$(T)}catch(Ot){Nm(Ot)}T.currentTarget=null,$=Be}else for(ee=0;ee<j.length;ee++){if(be=j[ee],Be=be.instance,mt=be.currentTarget,be=be.listener,Be!==$&&T.isPropagationStopped())break e;$=be,T.currentTarget=mt;try{$(T)}catch(Ot){Nm(Ot)}T.currentTarget=null,$=Be}}}}function kn(d,h){var x=h[Zt];x===void 0&&(x=h[Zt]=new Set);var j=d+"__bubble";x.has(j)||(B8(h,d,2,!1),x.add(j))}function Tk(d,h,x){var j=0;h&&(j|=4),B8(x,d,j,h)}var G1="_reactListening"+Math.random().toString(36).slice(2);function Mk(d){if(!d[G1]){d[G1]=!0,Mr.forEach(function(x){x!=="selectionchange"&&(sie.has(x)||Tk(x,!1,d),Tk(x,!0,d))});var h=d.nodeType===9?d:d.ownerDocument;h===null||h[G1]||(h[G1]=!0,Tk("selectionchange",!1,h))}}function B8(d,h,x,j){switch(p7(h)){case 2:var T=Pie;break;case 8:T=Lie;break;default:T=Wk}x=T.bind(null,h,x,d),T=void 0,!bm||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),j?T!==void 0?d.addEventListener(h,x,{capture:!0,passive:T}):d.addEventListener(h,x,!0):T!==void 0?d.addEventListener(h,x,{passive:T}):d.addEventListener(h,x,!1)}function Ok(d,h,x,j,T){var $=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var ee=j.tag;if(ee===3||ee===4){var be=j.stateNode.containerInfo;if(be===T)break;if(ee===4)for(ee=j.return;ee!==null;){var Be=ee.tag;if((Be===3||Be===4)&&ee.stateNode.containerInfo===T)return;ee=ee.return}for(;be!==null;){if(ee=wt(be),ee===null)return;if(Be=ee.tag,Be===5||Be===6||Be===26||Be===27){j=$=ee;continue e}be=be.parentNode}}j=j.return}Zp(function(){var mt=$,Ot=jd(x),Ft=[];e:{var xt=qx.get(d);if(xt!==void 0){var St=Fl,yr=d;switch(d){case"keypress":if(_c(x)===0)break e;case"keydown":case"keyup":St=zn;break;case"focusin":yr="focus",St=Oc;break;case"focusout":yr="blur",St=Oc;break;case"beforeblur":case"afterblur":St=Oc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":St=$l;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":St=e0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":St=Di;break;case Od:case jm:case Hx:St=q;break;case zx:St=cs;break;case"scroll":case"scrollend":St=Yf;break;case"wheel":St=Zs;break;case"copy":case"cut":case"paste":St=Ee;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":St=ri;break;case"toggle":case"beforetoggle":St=Kf}var zr=(h&4)!==0,ja=!zr&&(d==="scroll"||d==="scrollend"),it=zr?xt!==null?xt+"Capture":null:xt;zr=[];for(var Ge=mt,ht;Ge!==null;){var Rt=Ge;if(ht=Rt.stateNode,Rt=Rt.tag,Rt!==5&&Rt!==26&&Rt!==27||ht===null||it===null||(Rt=vo(Ge,it),Rt!=null&&zr.push(my(Ge,Rt,ht))),ja)break;Ge=Ge.return}0<zr.length&&(xt=new St(xt,yr,null,x,Ot),Ft.push({event:xt,listeners:zr}))}}if((h&7)===0){e:{if(xt=d==="mouseover"||d==="pointerover",St=d==="mouseout"||d==="pointerout",xt&&x!==Rl&&(yr=x.relatedTarget||x.fromElement)&&(wt(yr)||yr[Kr]))break e;if((St||xt)&&(xt=Ot.window===Ot?Ot:(xt=Ot.ownerDocument)?xt.defaultView||xt.parentWindow:window,St?(yr=x.relatedTarget||x.toElement,St=mt,yr=yr?wt(yr):null,yr!==null&&(ja=s(yr),zr=yr.tag,yr!==ja||zr!==5&&zr!==27&&zr!==6)&&(yr=null)):(St=null,yr=mt),St!==yr)){if(zr=$l,Rt="onMouseLeave",it="onMouseEnter",Ge="mouse",(d==="pointerout"||d==="pointerover")&&(zr=ri,Rt="onPointerLeave",it="onPointerEnter",Ge="pointer"),ja=St==null?xt:Xr(St),ht=yr==null?xt:Xr(yr),xt=new zr(Rt,Ge+"leave",St,x,Ot),xt.target=ja,xt.relatedTarget=ht,Rt=null,wt(Ot)===mt&&(zr=new zr(it,Ge+"enter",yr,x,Ot),zr.target=ht,zr.relatedTarget=ja,Rt=zr),ja=Rt,St&&yr)t:{for(zr=oie,it=St,Ge=yr,ht=0,Rt=it;Rt;Rt=zr(Rt))ht++;Rt=0;for(var Dr=Ge;Dr;Dr=zr(Dr))Rt++;for(;0<ht-Rt;)it=zr(it),ht--;for(;0<Rt-ht;)Ge=zr(Ge),Rt--;for(;ht--;){if(it===Ge||Ge!==null&&it===Ge.alternate){zr=it;break t}it=zr(it),Ge=zr(Ge)}zr=null}else zr=null;St!==null&&H8(Ft,xt,St,zr,!1),yr!==null&&ja!==null&&H8(Ft,ja,yr,zr,!0)}}e:{if(xt=mt?Xr(mt):window,St=xt.nodeName&&xt.nodeName.toLowerCase(),St==="select"||St==="input"&&xt.type==="file")var Vn=Nu;else if(vm(xt))if(eo)Vn=Ul;else{Vn=ni;var Sr=Zf}else St=xt.nodeName,!St||St.toLowerCase()!=="input"||xt.type!=="checkbox"&&xt.type!=="radio"?mt&&xn(mt.elementType)&&(Vn=Nu):Vn=a0;if(Vn&&(Vn=Vn(d,mt))){No(Ft,Vn,x,Ot);break e}Sr&&Sr(d,xt,mt),d==="focusout"&&mt&&xt.type==="number"&&mt.memoizedProps.value!=null&&vd(xt,"number",xt.value)}switch(Sr=mt?Xr(mt):window,d){case"focusin":(vm(Sr)||Sr.contentEditable==="true")&&(So=Sr,Fc=mt,Ss=null);break;case"focusout":Ss=Fc=So=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,qn(Ft,x,Ot);break;case"selectionchange":if(Md)break;case"keydown":case"keyup":qn(Ft,x,Ot)}var dn;if(Bl)e:{switch(d){case"compositionstart":var On="onCompositionStart";break e;case"compositionend":On="onCompositionEnd";break e;case"compositionupdate":On="onCompositionUpdate";break e}On=void 0}else Hl?ju(d,x)&&(On="onCompositionEnd"):d==="keydown"&&x.keyCode===229&&(On="onCompositionStart");On&&(vu&&x.locale!=="ko"&&(Hl||On!=="onCompositionStart"?On==="onCompositionEnd"&&Hl&&(dn=kd()):(wo=Ot,Sd="value"in wo?wo.value:wo.textContent,Hl=!0)),Sr=Y1(mt,On),0<Sr.length&&(On=new at(On,d,null,x,Ot),Ft.push({event:On,listeners:Sr}),dn?On.data=dn:(dn=Jf(x),dn!==null&&(On.data=dn)))),(dn=Td?Ga(d,x):Ec(d,x))&&(On=Y1(mt,"onBeforeInput"),0<On.length&&(Sr=new at("onBeforeInput","beforeinput",null,x,Ot),Ft.push({event:Sr,listeners:On}),Sr.data=dn)),nie(Ft,d,mt,x,Ot)}$8(Ft,h)})}function my(d,h,x){return{instance:d,listener:h,currentTarget:x}}function Y1(d,h){for(var x=h+"Capture",j=[];d!==null;){var T=d,$=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||$===null||(T=vo(d,x),T!=null&&j.unshift(my(d,T,$)),T=vo(d,h),T!=null&&j.push(my(d,T,$))),d.tag===3)return j;d=d.return}return[]}function oie(d){if(d===null)return null;do d=d.return;while(d&&d.tag!==5&&d.tag!==27);return d||null}function H8(d,h,x,j,T){for(var $=h._reactName,ee=[];x!==null&&x!==j;){var be=x,Be=be.alternate,mt=be.stateNode;if(be=be.tag,Be!==null&&Be===j)break;be!==5&&be!==26&&be!==27||mt===null||(Be=mt,T?(mt=vo(x,$),mt!=null&&ee.unshift(my(x,mt,Be))):T||(mt=vo(x,$),mt!=null&&ee.push(my(x,mt,Be)))),x=x.return}ee.length!==0&&d.push({event:h,listeners:ee})}var lie=/\r\n?/g,cie=/\u0000|\uFFFD/g;function z8(d){return(typeof d=="string"?d:""+d).replace(lie,`
`).replace(cie,"")}function q8(d,h){return h=z8(h),z8(d)===h}function wa(d,h,x,j,T,$){switch(x){case"children":typeof j=="string"?h==="body"||h==="textarea"&&j===""||re(d,j):(typeof j=="number"||typeof j=="bigint")&&h!=="body"&&re(d,""+j);break;case"className":Tn(d,"class",j);break;case"tabIndex":Tn(d,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":Tn(d,x,j);break;case"style":cn(d,j,$);break;case"data":if(h!=="object"){Tn(d,"data",j);break}case"src":case"href":if(j===""&&(h!=="a"||x!=="href")){d.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=Oi(""+j),d.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){d.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(x==="formAction"?(h!=="input"&&wa(d,h,"name",T.name,T,null),wa(d,h,"formEncType",T.formEncType,T,null),wa(d,h,"formMethod",T.formMethod,T,null),wa(d,h,"formTarget",T.formTarget,T,null)):(wa(d,h,"encType",T.encType,T,null),wa(d,h,"method",T.method,T,null),wa(d,h,"target",T.target,T,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){d.removeAttribute(x);break}j=Oi(""+j),d.setAttribute(x,j);break;case"onClick":j!=null&&(d.onclick=Ei);break;case"onScroll":j!=null&&kn("scroll",d);break;case"onScrollEnd":j!=null&&kn("scrollend",d);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"multiple":d.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":d.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){d.removeAttribute("xlink:href");break}x=Oi(""+j),d.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""+j):d.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,""):d.removeAttribute(x);break;case"capture":case"download":j===!0?d.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?d.setAttribute(x,j):d.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?d.setAttribute(x,j):d.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?d.removeAttribute(x):d.setAttribute(x,j);break;case"popover":kn("beforetoggle",d),kn("toggle",d),jn(d,"popover",j);break;case"xlinkActuate":en(d,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":en(d,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":en(d,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":en(d,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":en(d,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":en(d,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":en(d,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":en(d,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":en(d,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":jn(d,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=is.get(x)||x,jn(d,x,j))}}function Ek(d,h,x,j,T,$){switch(x){case"style":cn(d,j,$);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(T.children!=null)throw Error(n(60));d.innerHTML=x}}break;case"children":typeof j=="string"?re(d,j):(typeof j=="number"||typeof j=="bigint")&&re(d,""+j);break;case"onScroll":j!=null&&kn("scroll",d);break;case"onScrollEnd":j!=null&&kn("scrollend",d);break;case"onClick":j!=null&&(d.onclick=Ei);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(T=x.endsWith("Capture"),h=x.slice(2,T?x.length-7:void 0),$=d[Wr]||null,$=$!=null?$[x]:null,typeof $=="function"&&d.removeEventListener(h,$,T),typeof j=="function")){typeof $!="function"&&$!==null&&(x in d?d[x]=null:d.hasAttribute(x)&&d.removeAttribute(x)),d.addEventListener(h,j,T);break e}x in d?d[x]=j:j===!0?d.setAttribute(x,""):jn(d,x,j)}}}function qs(d,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":kn("error",d),kn("load",d);var j=!1,T=!1,$;for($ in x)if(x.hasOwnProperty($)){var ee=x[$];if(ee!=null)switch($){case"src":j=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:wa(d,h,$,ee,x,null)}}T&&wa(d,h,"srcSet",x.srcSet,x,null),j&&wa(d,h,"src",x.src,x,null);return;case"input":kn("invalid",d);var be=$=ee=T=null,Be=null,mt=null;for(j in x)if(x.hasOwnProperty(j)){var Ot=x[j];if(Ot!=null)switch(j){case"name":T=Ot;break;case"type":ee=Ot;break;case"checked":Be=Ot;break;case"defaultChecked":mt=Ot;break;case"value":$=Ot;break;case"defaultValue":be=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,h));break;default:wa(d,h,j,Ot,x,null)}}Wf(d,$,be,Be,mt,ee,T,!1);return;case"select":kn("invalid",d),j=ee=$=null;for(T in x)if(x.hasOwnProperty(T)&&(be=x[T],be!=null))switch(T){case"value":$=be;break;case"defaultValue":ee=be;break;case"multiple":j=be;default:wa(d,h,T,be,x,null)}h=$,x=ee,d.multiple=!!j,h!=null?as(d,!!j,h,!1):x!=null&&as(d,!!j,x,!0);return;case"textarea":kn("invalid",d),$=T=j=null;for(ee in x)if(x.hasOwnProperty(ee)&&(be=x[ee],be!=null))switch(ee){case"value":j=be;break;case"defaultValue":T=be;break;case"children":$=be;break;case"dangerouslySetInnerHTML":if(be!=null)throw Error(n(91));break;default:wa(d,h,ee,be,x,null)}se(d,j,T,$);return;case"option":for(Be in x)if(x.hasOwnProperty(Be)&&(j=x[Be],j!=null))switch(Be){case"selected":d.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:wa(d,h,Be,j,x,null)}return;case"dialog":kn("beforetoggle",d),kn("toggle",d),kn("cancel",d),kn("close",d);break;case"iframe":case"object":kn("load",d);break;case"video":case"audio":for(j=0;j<hy.length;j++)kn(hy[j],d);break;case"image":kn("error",d),kn("load",d);break;case"details":kn("toggle",d);break;case"embed":case"source":case"link":kn("error",d),kn("load",d);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(mt in x)if(x.hasOwnProperty(mt)&&(j=x[mt],j!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:wa(d,h,mt,j,x,null)}return;default:if(xn(h)){for(Ot in x)x.hasOwnProperty(Ot)&&(j=x[Ot],j!==void 0&&Ek(d,h,Ot,j,x,void 0));return}}for(be in x)x.hasOwnProperty(be)&&(j=x[be],j!=null&&wa(d,h,be,j,x,null))}function uie(d,h,x,j){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,$=null,ee=null,be=null,Be=null,mt=null,Ot=null;for(St in x){var Ft=x[St];if(x.hasOwnProperty(St)&&Ft!=null)switch(St){case"checked":break;case"value":break;case"defaultValue":Be=Ft;default:j.hasOwnProperty(St)||wa(d,h,St,null,j,Ft)}}for(var xt in j){var St=j[xt];if(Ft=x[xt],j.hasOwnProperty(xt)&&(St!=null||Ft!=null))switch(xt){case"type":$=St;break;case"name":T=St;break;case"checked":mt=St;break;case"defaultChecked":Ot=St;break;case"value":ee=St;break;case"defaultValue":be=St;break;case"children":case"dangerouslySetInnerHTML":if(St!=null)throw Error(n(137,h));break;default:St!==Ft&&wa(d,h,xt,St,j,Ft)}}bd(d,ee,be,Be,mt,Ot,$,T);return;case"select":St=ee=be=xt=null;for($ in x)if(Be=x[$],x.hasOwnProperty($)&&Be!=null)switch($){case"value":break;case"multiple":St=Be;default:j.hasOwnProperty($)||wa(d,h,$,null,j,Be)}for(T in j)if($=j[T],Be=x[T],j.hasOwnProperty(T)&&($!=null||Be!=null))switch(T){case"value":xt=$;break;case"defaultValue":be=$;break;case"multiple":ee=$;default:$!==Be&&wa(d,h,T,$,j,Be)}h=be,x=ee,j=St,xt!=null?as(d,!!x,xt,!1):!!j!=!!x&&(h!=null?as(d,!!x,h,!0):as(d,!!x,x?[]:"",!1));return;case"textarea":St=xt=null;for(be in x)if(T=x[be],x.hasOwnProperty(be)&&T!=null&&!j.hasOwnProperty(be))switch(be){case"value":break;case"children":break;default:wa(d,h,be,null,j,T)}for(ee in j)if(T=j[ee],$=x[ee],j.hasOwnProperty(ee)&&(T!=null||$!=null))switch(ee){case"value":xt=T;break;case"defaultValue":St=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==$&&wa(d,h,ee,T,j,$)}wd(d,xt,St);return;case"option":for(var yr in x)if(xt=x[yr],x.hasOwnProperty(yr)&&xt!=null&&!j.hasOwnProperty(yr))switch(yr){case"selected":d.selected=!1;break;default:wa(d,h,yr,null,j,xt)}for(Be in j)if(xt=j[Be],St=x[Be],j.hasOwnProperty(Be)&&xt!==St&&(xt!=null||St!=null))switch(Be){case"selected":d.selected=xt&&typeof xt!="function"&&typeof xt!="symbol";break;default:wa(d,h,Be,xt,j,St)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zr in x)xt=x[zr],x.hasOwnProperty(zr)&&xt!=null&&!j.hasOwnProperty(zr)&&wa(d,h,zr,null,j,xt);for(mt in j)if(xt=j[mt],St=x[mt],j.hasOwnProperty(mt)&&xt!==St&&(xt!=null||St!=null))switch(mt){case"children":case"dangerouslySetInnerHTML":if(xt!=null)throw Error(n(137,h));break;default:wa(d,h,mt,xt,j,St)}return;default:if(xn(h)){for(var ja in x)xt=x[ja],x.hasOwnProperty(ja)&&xt!==void 0&&!j.hasOwnProperty(ja)&&Ek(d,h,ja,void 0,j,xt);for(Ot in j)xt=j[Ot],St=x[Ot],!j.hasOwnProperty(Ot)||xt===St||xt===void 0&&St===void 0||Ek(d,h,Ot,xt,j,St);return}}for(var it in x)xt=x[it],x.hasOwnProperty(it)&&xt!=null&&!j.hasOwnProperty(it)&&wa(d,h,it,null,j,xt);for(Ft in j)xt=j[Ft],St=x[Ft],!j.hasOwnProperty(Ft)||xt===St||xt==null&&St==null||wa(d,h,Ft,xt,j,St)}function U8(d){switch(d){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function die(){if(typeof performance.getEntriesByType=="function"){for(var d=0,h=0,x=performance.getEntriesByType("resource"),j=0;j<x.length;j++){var T=x[j],$=T.transferSize,ee=T.initiatorType,be=T.duration;if($&&be&&U8(ee)){for(ee=0,be=T.responseEnd,j+=1;j<x.length;j++){var Be=x[j],mt=Be.startTime;if(mt>be)break;var Ot=Be.transferSize,Ft=Be.initiatorType;Ot&&U8(Ft)&&(Be=Be.responseEnd,ee+=Ot*(Be<be?1:(be-mt)/(Be-mt)))}if(--j,h+=8*($+ee)/(T.duration/1e3),d++,10<d)break}}if(0<d)return h/d/1e6}return navigator.connection&&(d=navigator.connection.downlink,typeof d=="number")?d:5}var Dk=null,Pk=null;function K1(d){return d.nodeType===9?d:d.ownerDocument}function W8(d){switch(d){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function V8(d,h){if(d===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return d===1&&h==="foreignObject"?0:d}function Lk(d,h){return d==="textarea"||d==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Rk=null;function fie(){var d=window.event;return d&&d.type==="popstate"?d===Rk?!1:(Rk=d,!0):(Rk=null,!1)}var G8=typeof setTimeout=="function"?setTimeout:void 0,hie=typeof clearTimeout=="function"?clearTimeout:void 0,Y8=typeof Promise=="function"?Promise:void 0,mie=typeof queueMicrotask=="function"?queueMicrotask:typeof Y8<"u"?function(d){return Y8.resolve(null).then(d).catch(pie)}:G8;function pie(d){setTimeout(function(){throw d})}function bh(d){return d==="head"}function K8(d,h){var x=h,j=0;do{var T=x.nextSibling;if(d.removeChild(x),T&&T.nodeType===8)if(x=T.data,x==="/$"||x==="/&"){if(j===0){d.removeChild(T),I0(h);return}j--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")j++;else if(x==="html")py(d.ownerDocument.documentElement);else if(x==="head"){x=d.ownerDocument.head,py(x);for(var $=x.firstChild;$;){var ee=$.nextSibling,be=$.nodeName;$[de]||be==="SCRIPT"||be==="STYLE"||be==="LINK"&&$.rel.toLowerCase()==="stylesheet"||x.removeChild($),$=ee}}else x==="body"&&py(d.ownerDocument.body);x=T}while(x);I0(h)}function J8(d,h){var x=d;d=0;do{var j=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),j&&j.nodeType===8)if(x=j.data,x==="/$"){if(d===0)break;d--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||d++;x=j}while(x)}function Ik(d){var h=d.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Ik(x),Ke(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}d.removeChild(x)}}function gie(d,h,x,j){for(;d.nodeType===1;){var T=x;if(d.nodeName.toLowerCase()!==h.toLowerCase()){if(!j&&(d.nodeName!=="INPUT"||d.type!=="hidden"))break}else if(j){if(!d[de])switch(h){case"meta":if(!d.hasAttribute("itemprop"))break;return d;case"link":if($=d.getAttribute("rel"),$==="stylesheet"&&d.hasAttribute("data-precedence"))break;if($!==T.rel||d.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||d.getAttribute("title")!==(T.title==null?null:T.title))break;return d;case"style":if(d.hasAttribute("data-precedence"))break;return d;case"script":if($=d.getAttribute("src"),($!==(T.src==null?null:T.src)||d.getAttribute("type")!==(T.type==null?null:T.type)||d.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&$&&d.hasAttribute("async")&&!d.hasAttribute("itemprop"))break;return d;default:return d}}else if(h==="input"&&d.type==="hidden"){var $=T.name==null?null:""+T.name;if(T.type==="hidden"&&d.getAttribute("name")===$)return d}else return d;if(d=Xl(d.nextSibling),d===null)break}return null}function xie(d,h,x){if(h==="")return null;for(;d.nodeType!==3;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!x||(d=Xl(d.nextSibling),d===null))return null;return d}function X8(d,h){for(;d.nodeType!==8;)if((d.nodeType!==1||d.nodeName!=="INPUT"||d.type!=="hidden")&&!h||(d=Xl(d.nextSibling),d===null))return null;return d}function Fk(d){return d.data==="$?"||d.data==="$~"}function $k(d){return d.data==="$!"||d.data==="$?"&&d.ownerDocument.readyState!=="loading"}function yie(d,h){var x=d.ownerDocument;if(d.data==="$~")d._reactRetry=h;else if(d.data!=="$?"||x.readyState!=="loading")h();else{var j=function(){h(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),d._reactRetry=j}}function Xl(d){for(;d!=null;d=d.nextSibling){var h=d.nodeType;if(h===1||h===3)break;if(h===8){if(h=d.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return d}var Bk=null;function Q8(d){d=d.nextSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="/$"||x==="/&"){if(h===0)return Xl(d.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}d=d.nextSibling}return null}function Z8(d){d=d.previousSibling;for(var h=0;d;){if(d.nodeType===8){var x=d.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return d;h--}else x!=="/$"&&x!=="/&"||h++}d=d.previousSibling}return null}function e7(d,h,x){switch(h=K1(x),d){case"html":if(d=h.documentElement,!d)throw Error(n(452));return d;case"head":if(d=h.head,!d)throw Error(n(453));return d;case"body":if(d=h.body,!d)throw Error(n(454));return d;default:throw Error(n(451))}}function py(d){for(var h=d.attributes;h.length;)d.removeAttributeNode(h[0]);Ke(d)}var Ql=new Map,t7=new Set;function J1(d){return typeof d.getRootNode=="function"?d.getRootNode():d.nodeType===9?d:d.ownerDocument}var Yd=F.d;F.d={f:bie,r:vie,D:wie,C:jie,L:Nie,m:Sie,X:Cie,S:kie,M:_ie};function bie(){var d=Yd.f(),h=H1();return d||h}function vie(d){var h=or(d);h!==null&&h.tag===5&&h.type==="form"?yL(h):Yd.r(d)}var P0=typeof document>"u"?null:document;function r7(d,h,x){var j=P0;if(j&&typeof h=="string"&&h){var T=Wi(h);T='link[rel="'+d+'"][href="'+T+'"]',typeof x=="string"&&(T+='[crossorigin="'+x+'"]'),t7.has(T)||(t7.add(T),d={rel:d,crossOrigin:x,href:h},j.querySelector(T)===null&&(h=j.createElement("link"),qs(h,"link",d),rr(h),j.head.appendChild(h)))}}function wie(d){Yd.D(d),r7("dns-prefetch",d,null)}function jie(d,h){Yd.C(d,h),r7("preconnect",d,h)}function Nie(d,h,x){Yd.L(d,h,x);var j=P0;if(j&&d&&h){var T='link[rel="preload"][as="'+Wi(h)+'"]';h==="image"&&x&&x.imageSrcSet?(T+='[imagesrcset="'+Wi(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(T+='[imagesizes="'+Wi(x.imageSizes)+'"]')):T+='[href="'+Wi(d)+'"]';var $=T;switch(h){case"style":$=L0(d);break;case"script":$=R0(d)}Ql.has($)||(d=m({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:d,as:h},x),Ql.set($,d),j.querySelector(T)!==null||h==="style"&&j.querySelector(gy($))||h==="script"&&j.querySelector(xy($))||(h=j.createElement("link"),qs(h,"link",d),rr(h),j.head.appendChild(h)))}}function Sie(d,h){Yd.m(d,h);var x=P0;if(x&&d){var j=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+Wi(j)+'"][href="'+Wi(d)+'"]',$=T;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=R0(d)}if(!Ql.has($)&&(d=m({rel:"modulepreload",href:d},h),Ql.set($,d),x.querySelector(T)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(xy($)))return}j=x.createElement("link"),qs(j,"link",d),rr(j),x.head.appendChild(j)}}}function kie(d,h,x){Yd.S(d,h,x);var j=P0;if(j&&d){var T=Mt(j).hoistableStyles,$=L0(d);h=h||"default";var ee=T.get($);if(!ee){var be={loading:0,preload:null};if(ee=j.querySelector(gy($)))be.loading=5;else{d=m({rel:"stylesheet",href:d,"data-precedence":h},x),(x=Ql.get($))&&Hk(d,x);var Be=ee=j.createElement("link");rr(Be),qs(Be,"link",d),Be._p=new Promise(function(mt,Ot){Be.onload=mt,Be.onerror=Ot}),Be.addEventListener("load",function(){be.loading|=1}),Be.addEventListener("error",function(){be.loading|=2}),be.loading|=4,X1(ee,h,j)}ee={type:"stylesheet",instance:ee,count:1,state:be},T.set($,ee)}}}function Cie(d,h){Yd.X(d,h);var x=P0;if(x&&d){var j=Mt(x).hoistableScripts,T=R0(d),$=j.get(T);$||($=x.querySelector(xy(T)),$||(d=m({src:d,async:!0},h),(h=Ql.get(T))&&zk(d,h),$=x.createElement("script"),rr($),qs($,"link",d),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(T,$))}}function _ie(d,h){Yd.M(d,h);var x=P0;if(x&&d){var j=Mt(x).hoistableScripts,T=R0(d),$=j.get(T);$||($=x.querySelector(xy(T)),$||(d=m({src:d,async:!0,type:"module"},h),(h=Ql.get(T))&&zk(d,h),$=x.createElement("script"),rr($),qs($,"link",d),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(T,$))}}function n7(d,h,x,j){var T=(T=ue.current)?J1(T):null;if(!T)throw Error(n(446));switch(d){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=L0(x.href),x=Mt(T).hoistableStyles,j=x.get(h),j||(j={type:"style",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){d=L0(x.href);var $=Mt(T).hoistableStyles,ee=$.get(d);if(ee||(T=T.ownerDocument||T,ee={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(d,ee),($=T.querySelector(gy(d)))&&!$._p&&(ee.instance=$,ee.state.loading=5),Ql.has(d)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Ql.set(d,x),$||Aie(T,d,x,ee.state))),h&&j===null)throw Error(n(528,""));return ee}if(h&&j!==null)throw Error(n(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=R0(x),x=Mt(T).hoistableScripts,j=x.get(h),j||(j={type:"script",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,d))}}function L0(d){return'href="'+Wi(d)+'"'}function gy(d){return'link[rel="stylesheet"]['+d+"]"}function a7(d){return m({},d,{"data-precedence":d.precedence,precedence:null})}function Aie(d,h,x,j){d.querySelector('link[rel="preload"][as="style"]['+h+"]")?j.loading=1:(h=d.createElement("link"),j.preload=h,h.addEventListener("load",function(){return j.loading|=1}),h.addEventListener("error",function(){return j.loading|=2}),qs(h,"link",x),rr(h),d.head.appendChild(h))}function R0(d){return'[src="'+Wi(d)+'"]'}function xy(d){return"script[async]"+d}function i7(d,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var j=d.querySelector('style[data-href~="'+Wi(x.href)+'"]');if(j)return h.instance=j,rr(j),j;var T=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(d.ownerDocument||d).createElement("style"),rr(j),qs(j,"style",T),X1(j,x.precedence,d),h.instance=j;case"stylesheet":T=L0(x.href);var $=d.querySelector(gy(T));if($)return h.state.loading|=4,h.instance=$,rr($),$;j=a7(x),(T=Ql.get(T))&&Hk(j,T),$=(d.ownerDocument||d).createElement("link"),rr($);var ee=$;return ee._p=new Promise(function(be,Be){ee.onload=be,ee.onerror=Be}),qs($,"link",j),h.state.loading|=4,X1($,x.precedence,d),h.instance=$;case"script":return $=R0(x.src),(T=d.querySelector(xy($)))?(h.instance=T,rr(T),T):(j=x,(T=Ql.get($))&&(j=m({},x),zk(j,T)),d=d.ownerDocument||d,T=d.createElement("script"),rr(T),qs(T,"link",j),d.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(j=h.instance,h.state.loading|=4,X1(j,x.precedence,d));return h.instance}function X1(d,h,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=j.length?j[j.length-1]:null,$=T,ee=0;ee<j.length;ee++){var be=j[ee];if(be.dataset.precedence===h)$=be;else if($!==T)break}$?$.parentNode.insertBefore(d,$.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(d,h.firstChild))}function Hk(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.title==null&&(d.title=h.title)}function zk(d,h){d.crossOrigin==null&&(d.crossOrigin=h.crossOrigin),d.referrerPolicy==null&&(d.referrerPolicy=h.referrerPolicy),d.integrity==null&&(d.integrity=h.integrity)}var Q1=null;function s7(d,h,x){if(Q1===null){var j=new Map,T=Q1=new Map;T.set(x,j)}else T=Q1,j=T.get(x),j||(j=new Map,T.set(x,j));if(j.has(d))return j;for(j.set(d,null),x=x.getElementsByTagName(d),T=0;T<x.length;T++){var $=x[T];if(!($[de]||$[ar]||d==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var ee=$.getAttribute(h)||"";ee=d+ee;var be=j.get(ee);be?be.push($):j.set(ee,[$])}}return j}function o7(d,h,x){d=d.ownerDocument||d,d.head.insertBefore(x,h==="title"?d.querySelector("head > title"):null)}function Tie(d,h,x){if(x===1||h.itemProp!=null)return!1;switch(d){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return d=h.disabled,typeof h.precedence=="string"&&d==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function l7(d){return!(d.type==="stylesheet"&&(d.state.loading&3)===0)}function Mie(d,h,x,j){if(x.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var T=L0(j.href),$=h.querySelector(gy(T));if($){h=$._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(d.count++,d=Z1.bind(d),h.then(d,d)),x.state.loading|=4,x.instance=$,rr($);return}$=h.ownerDocument||h,j=a7(j),(T=Ql.get(T))&&Hk(j,T),$=$.createElement("link"),rr($);var ee=$;ee._p=new Promise(function(be,Be){ee.onload=be,ee.onerror=Be}),qs($,"link",j),x.instance=$}d.stylesheets===null&&(d.stylesheets=new Map),d.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(d.count++,x=Z1.bind(d),h.addEventListener("load",x),h.addEventListener("error",x))}}var qk=0;function Oie(d,h){return d.stylesheets&&d.count===0&&tw(d,d.stylesheets),0<d.count||0<d.imgCount?function(x){var j=setTimeout(function(){if(d.stylesheets&&tw(d,d.stylesheets),d.unsuspend){var $=d.unsuspend;d.unsuspend=null,$()}},6e4+h);0<d.imgBytes&&qk===0&&(qk=62500*die());var T=setTimeout(function(){if(d.waitingForImages=!1,d.count===0&&(d.stylesheets&&tw(d,d.stylesheets),d.unsuspend)){var $=d.unsuspend;d.unsuspend=null,$()}},(d.imgBytes>qk?50:800)+h);return d.unsuspend=x,function(){d.unsuspend=null,clearTimeout(j),clearTimeout(T)}}:null}function Z1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tw(this,this.stylesheets);else if(this.unsuspend){var d=this.unsuspend;this.unsuspend=null,d()}}}var ew=null;function tw(d,h){d.stylesheets=null,d.unsuspend!==null&&(d.count++,ew=new Map,h.forEach(Eie,d),ew=null,Z1.call(d))}function Eie(d,h){if(!(h.state.loading&4)){var x=ew.get(d);if(x)var j=x.get(null);else{x=new Map,ew.set(d,x);for(var T=d.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<T.length;$++){var ee=T[$];(ee.nodeName==="LINK"||ee.getAttribute("media")!=="not all")&&(x.set(ee.dataset.precedence,ee),j=ee)}j&&x.set(null,j)}T=h.instance,ee=T.getAttribute("data-precedence"),$=x.get(ee)||j,$===j&&x.set(null,T),x.set(ee,T),this.count++,j=Z1.bind(this),T.addEventListener("load",j),T.addEventListener("error",j),$?$.parentNode.insertBefore(T,$.nextSibling):(d=d.nodeType===9?d.head:d,d.insertBefore(T,d.firstChild)),h.state.loading|=4}}var yy={$$typeof:S,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Die(d,h,x,j,T,$,ee,be,Be){this.tag=1,this.containerInfo=d,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Fe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Fe(0),this.hiddenUpdates=Fe(null),this.identifierPrefix=j,this.onUncaughtError=T,this.onCaughtError=$,this.onRecoverableError=ee,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Be,this.incompleteTransitions=new Map}function c7(d,h,x,j,T,$,ee,be,Be,mt,Ot,Ft){return d=new Die(d,h,x,ee,Be,mt,Ot,Ft,be),h=1,$===!0&&(h|=24),$=Cs(3,null,null,h),d.current=$,$.stateNode=d,h=oh(),h.refCount++,d.pooledCache=h,h.refCount++,$.memoizedState={element:j,isDehydrated:x,cache:h},tr($),d}function u7(d){return d?(d=fs,d):fs}function d7(d,h,x,j,T,$){T=u7(T),j.context===null?j.context=T:j.pendingContext=T,j=Br(h),j.payload={element:x},$=$===void 0?null:$,$!==null&&(j.callback=$),x=ln(d,j,h),x!==null&&(il(x,d,h),Jn(x,d,h))}function f7(d,h){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var x=d.retryLane;d.retryLane=x!==0&&x<h?x:h}}function Uk(d,h){f7(d,h),(d=d.alternate)&&f7(d,h)}function h7(d){if(d.tag===13||d.tag===31){var h=$c(d,67108864);h!==null&&il(h,d,67108864),Uk(d,67108864)}}function m7(d){if(d.tag===13||d.tag===31){var h=vl();h=jt(h);var x=$c(d,h);x!==null&&il(x,d,h),Uk(d,h)}}var rw=!0;function Pie(d,h,x,j){var T=W.T;W.T=null;var $=F.p;try{F.p=2,Wk(d,h,x,j)}finally{F.p=$,W.T=T}}function Lie(d,h,x,j){var T=W.T;W.T=null;var $=F.p;try{F.p=8,Wk(d,h,x,j)}finally{F.p=$,W.T=T}}function Wk(d,h,x,j){if(rw){var T=Vk(j);if(T===null)Ok(d,h,j,nw,x),g7(d,j);else if(Iie(T,d,h,x,j))j.stopPropagation();else if(g7(d,j),h&4&&-1<Rie.indexOf(d)){for(;T!==null;){var $=or(T);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var ee=Oe($.pendingLanes);if(ee!==0){var be=$;for(be.pendingLanes|=2,be.entangledLanes|=2;ee;){var Be=1<<31-ve(ee);be.entanglements[1]|=Be,ee&=~Be}Ru($),(Qn&6)===0&&($1=Se()+500,fy(0))}}break;case 31:case 13:be=$c($,2),be!==null&&il(be,$,2),H1(),Uk($,2)}if($=Vk(j),$===null&&Ok(d,h,j,nw,x),$===T)break;T=$}T!==null&&j.stopPropagation()}else Ok(d,h,j,null,x)}}function Vk(d){return d=jd(d),Gk(d)}var nw=null;function Gk(d){if(nw=null,d=wt(d),d!==null){var h=s(d);if(h===null)d=null;else{var x=h.tag;if(x===13){if(d=o(h),d!==null)return d;d=null}else if(x===31){if(d=l(h),d!==null)return d;d=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;d=null}else h!==d&&(d=null)}}return nw=d,null}function p7(d){switch(d){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case rt:return 2;case Nt:return 8;case kt:case De:return 32;case vt:return 268435456;default:return 32}default:return 32}}var Yk=!1,vh=null,wh=null,jh=null,by=new Map,vy=new Map,Nh=[],Rie="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function g7(d,h){switch(d){case"focusin":case"focusout":vh=null;break;case"dragenter":case"dragleave":wh=null;break;case"mouseover":case"mouseout":jh=null;break;case"pointerover":case"pointerout":by.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":vy.delete(h.pointerId)}}function wy(d,h,x,j,T,$){return d===null||d.nativeEvent!==$?(d={blockedOn:h,domEventName:x,eventSystemFlags:j,nativeEvent:$,targetContainers:[T]},h!==null&&(h=or(h),h!==null&&h7(h)),d):(d.eventSystemFlags|=j,h=d.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),d)}function Iie(d,h,x,j,T){switch(h){case"focusin":return vh=wy(vh,d,h,x,j,T),!0;case"dragenter":return wh=wy(wh,d,h,x,j,T),!0;case"mouseover":return jh=wy(jh,d,h,x,j,T),!0;case"pointerover":var $=T.pointerId;return by.set($,wy(by.get($)||null,d,h,x,j,T)),!0;case"gotpointercapture":return $=T.pointerId,vy.set($,wy(vy.get($)||null,d,h,x,j,T)),!0}return!1}function x7(d){var h=wt(d.target);if(h!==null){var x=s(h);if(x!==null){if(h=x.tag,h===13){if(h=o(x),h!==null){d.blockedOn=h,fn(d.priority,function(){m7(x)});return}}else if(h===31){if(h=l(x),h!==null){d.blockedOn=h,fn(d.priority,function(){m7(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){d.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}d.blockedOn=null}function aw(d){if(d.blockedOn!==null)return!1;for(var h=d.targetContainers;0<h.length;){var x=Vk(d.nativeEvent);if(x===null){x=d.nativeEvent;var j=new x.constructor(x.type,x);Rl=j,x.target.dispatchEvent(j),Rl=null}else return h=or(x),h!==null&&h7(h),d.blockedOn=x,!1;h.shift()}return!0}function y7(d,h,x){aw(d)&&x.delete(h)}function Fie(){Yk=!1,vh!==null&&aw(vh)&&(vh=null),wh!==null&&aw(wh)&&(wh=null),jh!==null&&aw(jh)&&(jh=null),by.forEach(y7),vy.forEach(y7)}function iw(d,h){d.blockedOn===h&&(d.blockedOn=null,Yk||(Yk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Fie)))}var sw=null;function b7(d){sw!==d&&(sw=d,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){sw===d&&(sw=null);for(var h=0;h<d.length;h+=3){var x=d[h],j=d[h+1],T=d[h+2];if(typeof j!="function"){if(Gk(j||x)===null)continue;break}var $=or(x);$!==null&&(d.splice(h,3),h-=3,VS($,{pending:!0,data:T,method:x.method,action:j},j,T))}}))}function I0(d){function h(Be){return iw(Be,d)}vh!==null&&iw(vh,d),wh!==null&&iw(wh,d),jh!==null&&iw(jh,d),by.forEach(h),vy.forEach(h);for(var x=0;x<Nh.length;x++){var j=Nh[x];j.blockedOn===d&&(j.blockedOn=null)}for(;0<Nh.length&&(x=Nh[0],x.blockedOn===null);)x7(x),x.blockedOn===null&&Nh.shift();if(x=(d.ownerDocument||d).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var T=x[j],$=x[j+1],ee=T[Wr]||null;if(typeof $=="function")ee||b7(x);else if(ee){var be=null;if($&&$.hasAttribute("formAction")){if(T=$,ee=$[Wr]||null)be=ee.formAction;else if(Gk(T)!==null)continue}else be=ee.action;typeof be=="function"?x[j+1]=be:(x.splice(j,3),j-=3),b7(x)}}}function v7(){function d($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(ee){return T=ee})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),j||setTimeout(x,20)}function x(){if(!j&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,T=null;return navigation.addEventListener("navigate",d),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){j=!0,navigation.removeEventListener("navigate",d),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function Kk(d){this._internalRoot=d}ow.prototype.render=Kk.prototype.render=function(d){var h=this._internalRoot;if(h===null)throw Error(n(409));var x=h.current,j=vl();d7(x,j,d,h,null,null)},ow.prototype.unmount=Kk.prototype.unmount=function(){var d=this._internalRoot;if(d!==null){this._internalRoot=null;var h=d.containerInfo;d7(d.current,2,null,d,null,null),H1(),h[Kr]=null}};function ow(d){this._internalRoot=d}ow.prototype.unstable_scheduleHydration=function(d){if(d){var h=gr();d={blockedOn:null,target:d,priority:h};for(var x=0;x<Nh.length&&h!==0&&h<Nh[x].priority;x++);Nh.splice(x,0,d),x===0&&x7(d)}};var w7=e.version;if(w7!=="19.2.0")throw Error(n(527,w7,"19.2.0"));F.findDOMNode=function(d){var h=d._reactInternals;if(h===void 0)throw typeof d.render=="function"?Error(n(188)):(d=Object.keys(d).join(","),Error(n(268,d)));return d=u(h),d=d!==null?f(d):null,d=d===null?null:d.stateNode,d};var $ie={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lw.isDisabled&&lw.supportsFiber)try{Ae=lw.inject($ie),Ye=lw}catch{}}return Ny.createRoot=function(d,h){if(!a(d))throw Error(n(299));var x=!1,j="",T=AL,$=TL,ee=ML;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&($=h.onCaughtError),h.onRecoverableError!==void 0&&(ee=h.onRecoverableError)),h=c7(d,1,!1,null,null,x,j,null,T,$,ee,v7),d[Kr]=h.current,Mk(d),new Kk(h)},Ny.hydrateRoot=function(d,h,x){if(!a(d))throw Error(n(299));var j=!1,T="",$=AL,ee=TL,be=ML,Be=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(T=x.identifierPrefix),x.onUncaughtError!==void 0&&($=x.onUncaughtError),x.onCaughtError!==void 0&&(ee=x.onCaughtError),x.onRecoverableError!==void 0&&(be=x.onRecoverableError),x.formState!==void 0&&(Be=x.formState)),h=c7(d,1,!0,h,x??null,j,T,Be,$,ee,be,v7),h.context=u7(null),x=h.current,j=vl(),j=jt(j),T=Br(j),T.callback=null,ln(x,T,j),x=j,h.current.lanes=x,Ue(h,x),Ru(h),d[Kr]=h.current,Mk(d),new ow(h)},Ny.version="19.2.0",Ny}var O7;function Qie(){if(O7)return Qk.exports;O7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Qk.exports=Xie(),Qk.exports}var Zie=Qie();const ese=Kn(Zie);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var E7="popstate";function tse(t={}){function e(n,a){let{pathname:s,search:o,hash:l}=n.location;return eM("",{pathname:s,search:o,hash:l},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:Rb(a)}return nse(e,r,null,t)}function ui(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function od(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rse(){return Math.random().toString(36).substring(2,10)}function D7(t,e){return{usr:t.state,key:t.key,idx:e}}function eM(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?wx(e):e,state:r,key:e&&e.key||n||rse()}}function Rb({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function wx(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function nse(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,l="POP",c=null,u=f();u==null&&(u=0,o.replaceState({...o.state,idx:u},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let b=f(),N=b==null?null:b-u;u=b,c&&c({action:l,location:w.location,delta:N})}function g(b,N){l="PUSH";let k=eM(w.location,b,N);u=f()+1;let S=D7(k,u),A=w.createHref(k);try{o.pushState(S,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;a.location.assign(A)}s&&c&&c({action:l,location:w.location,delta:1})}function p(b,N){l="REPLACE";let k=eM(w.location,b,N);u=f();let S=D7(k,u),A=w.createHref(k);o.replaceState(S,"",A),s&&c&&c({action:l,location:w.location,delta:0})}function v(b){return ase(b)}let w={get action(){return l},get location(){return t(a,o)},listen(b){if(c)throw new Error("A history only accepts one active listener");return a.addEventListener(E7,m),c=b,()=>{a.removeEventListener(E7,m),c=null}},createHref(b){return e(a,b)},createURL:v,encodeLocation(b){let N=v(b);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:p,go(b){return o.go(b)}};return w}function ase(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ui(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Rb(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function $G(t,e,r="/"){return ise(t,e,r,!1)}function ise(t,e,r,n){let a=typeof e=="string"?wx(e):e,s=_f(a.pathname||"/",r);if(s==null)return null;let o=BG(t);sse(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let u=xse(s);l=pse(o[c],u,n)}return l}function BG(t,e=[],r=[],n="",a=!1){let s=(o,l,c=a,u)=>{let f={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;ui(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=pf([n,f.relativePath]),g=r.concat(f);o.children&&o.children.length>0&&(ui(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),BG(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:hse(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))s(o,l);else for(let u of HG(o.path))s(o,l,!0,u)}),e}function HG(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return a?[s,""]:[s];let o=HG(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),a&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function sse(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:mse(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var ose=/^:[\w-]+$/,lse=3,cse=2,use=1,dse=10,fse=-2,P7=t=>t==="*";function hse(t,e){let r=t.split("/"),n=r.length;return r.some(P7)&&(n+=fse),e&&(n+=cse),r.filter(a=>!P7(a)).reduce((a,s)=>a+(ose.test(s)?lse:s===""?use:dse),n)}function mse(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function pse(t,e,r=!1){let{routesMeta:n}=t,a={},s="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],u=l===n.length-1,f=s==="/"?e:e.slice(s.length)||"/",m=J2({path:c.relativePath,caseSensitive:c.caseSensitive,end:u},f),g=c.route;if(!m&&u&&r&&!n[n.length-1].route.index&&(m=J2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(a,m.params),o.push({params:a,pathname:pf([s,m.pathname]),pathnameBase:wse(pf([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=pf([s,m.pathnameBase]))}return o}function J2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=gse(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:n.reduce((u,{paramName:f,isOptional:m},g)=>{if(f==="*"){let v=l[g]||"";o=s.slice(0,s.length-v.length).replace(/(.)\/+$/,"$1")}const p=l[g];return m&&!p?u[f]=void 0:u[f]=(p||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function gse(t,e=!1,r=!0){od(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function xse(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return od(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function _f(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function yse(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?wx(t):t;return{pathname:r?r.startsWith("/")?r:bse(r,e):e,search:jse(n),hash:Nse(a)}}function bse(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function rC(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function vse(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function zG(t){let e=vse(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function qG(t,e,r,n=!1){let a;typeof t=="string"?a=wx(t):(a={...t},ui(!a.pathname||!a.pathname.includes("?"),rC("?","pathname","search",a)),ui(!a.pathname||!a.pathname.includes("#"),rC("#","pathname","hash",a)),ui(!a.search||!a.search.includes("#"),rC("#","search","hash",a)));let s=t===""||a.pathname==="",o=s?"/":a.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;a.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=yse(a,l),u=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(u||f)&&(c.pathname+="/"),c}var pf=t=>t.join("/").replace(/\/\/+/g,"/"),wse=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),jse=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Nse=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Sse(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var UG=["POST","PUT","PATCH","DELETE"];new Set(UG);var kse=["GET",...UG];new Set(kse);var jx=y.createContext(null);jx.displayName="DataRouter";var bN=y.createContext(null);bN.displayName="DataRouterState";y.createContext(!1);var WG=y.createContext({isTransitioning:!1});WG.displayName="ViewTransition";var Cse=y.createContext(new Map);Cse.displayName="Fetchers";var _se=y.createContext(null);_se.displayName="Await";var fd=y.createContext(null);fd.displayName="Navigation";var Uv=y.createContext(null);Uv.displayName="Location";var hu=y.createContext({outlet:null,matches:[],isDataRoute:!1});hu.displayName="Route";var rE=y.createContext(null);rE.displayName="RouteError";function Ase(t,{relative:e}={}){ui(Wv(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=y.useContext(fd),{hash:a,pathname:s,search:o}=Vv(t,{relative:e}),l=s;return r!=="/"&&(l=s==="/"?r:pf([r,s])),n.createHref({pathname:l,search:o,hash:a})}function Wv(){return y.useContext(Uv)!=null}function Ui(){return ui(Wv(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Uv).location}var VG="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function GG(t){y.useContext(fd).static||y.useLayoutEffect(t)}function nr(){let{isDataRoute:t}=y.useContext(hu);return t?qse():Tse()}function Tse(){ui(Wv(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(jx),{basename:e,navigator:r}=y.useContext(fd),{matches:n}=y.useContext(hu),{pathname:a}=Ui(),s=JSON.stringify(zG(n)),o=y.useRef(!1);return GG(()=>{o.current=!0}),y.useCallback((c,u={})=>{if(od(o.current,VG),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=qG(c,JSON.parse(s),a,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:pf([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,s,a,t])}var Mse=y.createContext(null);function Ose(t){let e=y.useContext(hu).outlet;return y.useMemo(()=>e&&y.createElement(Mse.Provider,{value:t},e),[e,t])}function js(){let{matches:t}=y.useContext(hu),e=t[t.length-1];return e?e.params:{}}function Vv(t,{relative:e}={}){let{matches:r}=y.useContext(hu),{pathname:n}=Ui(),a=JSON.stringify(zG(r));return y.useMemo(()=>qG(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function Ese(t,e){return YG(t,e)}function YG(t,e,r,n,a){var k;ui(Wv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=y.useContext(fd),{matches:o}=y.useContext(hu),l=o[o.length-1],c=l?l.params:{},u=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";KG(u,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${u}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=Ui(),p;if(e){let S=typeof e=="string"?wx(e):e;ui(f==="/"||((k=S.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),p=S}else p=g;let v=p.pathname||"/",w=v;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let b=$G(t,{pathname:w});od(m||b!=null,`No routes matched location "${p.pathname}${p.search}${p.hash}" `),od(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${p.pathname}${p.search}${p.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Ise(b&&b.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:pf([f,s.encodeLocation?s.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:pf([f,s.encodeLocation?s.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,a);return e&&N?y.createElement(Uv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...p},navigationType:"POP"}},N):N}function Dse(){let t=zse(),e=Sse(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},s={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:s},"ErrorBoundary")," or"," ",y.createElement("code",{style:s},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},e),r?y.createElement("pre",{style:a},r):null,o)}var Pse=y.createElement(Dse,null),Lse=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?y.createElement(hu.Provider,{value:this.props.routeContext},y.createElement(rE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Rse({routeContext:t,match:e,children:r}){let n=y.useContext(jx);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),y.createElement(hu.Provider,{value:t},r)}function Ise(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let s=t,o=r==null?void 0:r.errors;if(o!=null){let u=s.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ui(u>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),s=s.slice(0,Math.min(s.length,u+1))}let l=!1,c=-1;if(r)for(let u=0;u<s.length;u++){let f=s[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:m,errors:g}=r,p=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!g||g[f.route.id]===void 0);if(f.route.lazy||p){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((u,f,m)=>{let g,p=!1,v=null,w=null;r&&(g=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Pse,l&&(c<0&&m===0?(KG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),p=!0,w=null):c===m&&(p=!0,w=f.route.hydrateFallbackElement||null)));let b=e.concat(s.slice(0,m+1)),N=()=>{let k;return g?k=v:p?k=w:f.route.Component?k=y.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=u,y.createElement(Rse,{match:f,routeContext:{outlet:u,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?y.createElement(Lse,{location:r.location,revalidation:r.revalidation,component:v,error:g,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},unstable_onError:n}):N()},null)}function nE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Fse(t){let e=y.useContext(jx);return ui(e,nE(t)),e}function $se(t){let e=y.useContext(bN);return ui(e,nE(t)),e}function Bse(t){let e=y.useContext(hu);return ui(e,nE(t)),e}function aE(t){let e=Bse(t),r=e.matches[e.matches.length-1];return ui(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Hse(){return aE("useRouteId")}function zse(){var n;let t=y.useContext(rE),e=$se("useRouteError"),r=aE("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function qse(){let{router:t}=Fse("useNavigate"),e=aE("useNavigate"),r=y.useRef(!1);return GG(()=>{r.current=!0}),y.useCallback(async(a,s={})=>{od(r.current,VG),r.current&&(typeof a=="number"?t.navigate(a):await t.navigate(a,{fromRouteId:e,...s}))},[t,e])}var L7={};function KG(t,e,r){!e&&!L7[t]&&(L7[t]=!0,od(!1,r))}y.memo(Use);function Use({routes:t,future:e,state:r,unstable_onError:n}){return YG(t,void 0,r,n,e)}function Wse(t){return Ose(t.context)}function Wt(t){ui(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Vse({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:s=!1}){ui(!Wv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=y.useMemo(()=>({basename:o,navigator:a,static:s,future:{}}),[o,a,s]);typeof r=="string"&&(r=wx(r));let{pathname:c="/",search:u="",hash:f="",state:m=null,key:g="default"}=r,p=y.useMemo(()=>{let v=_f(c,o);return v==null?null:{location:{pathname:v,search:u,hash:f,state:m,key:g},navigationType:n}},[o,c,u,f,m,g,n]);return od(p!=null,`<Router basename="${o}"> is not able to match the URL "${c}${u}${f}" because it does not start with the basename, so the <Router> won't render anything.`),p==null?null:y.createElement(fd.Provider,{value:l},y.createElement(Uv.Provider,{children:e,value:p}))}function Gse({children:t,location:e}){return Ese(tM(t),e)}function tM(t,e=[]){let r=[];return y.Children.forEach(t,(n,a)=>{if(!y.isValidElement(n))return;let s=[...e,a];if(n.type===y.Fragment){r.push.apply(r,tM(n.props.children,s));return}ui(n.type===Wt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ui(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=tM(n.props.children,s)),r.push(o)}),r}var y2="get",b2="application/x-www-form-urlencoded";function vN(t){return t!=null&&typeof t.tagName=="string"}function Yse(t){return vN(t)&&t.tagName.toLowerCase()==="button"}function Kse(t){return vN(t)&&t.tagName.toLowerCase()==="form"}function Jse(t){return vN(t)&&t.tagName.toLowerCase()==="input"}function Xse(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Qse(t,e){return t.button===0&&(!e||e==="_self")&&!Xse(t)}var uw=null;function Zse(){if(uw===null)try{new FormData(document.createElement("form"),0),uw=!1}catch{uw=!0}return uw}var eoe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function nC(t){return t!=null&&!eoe.has(t)?(od(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${b2}"`),null):t}function toe(t,e){let r,n,a,s,o;if(Kse(t)){let l=t.getAttribute("action");n=l?_f(l,e):null,r=t.getAttribute("method")||y2,a=nC(t.getAttribute("enctype"))||b2,s=new FormData(t)}else if(Yse(t)||Jse(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?_f(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||y2,a=nC(t.getAttribute("formenctype"))||nC(l.getAttribute("enctype"))||b2,s=new FormData(l,t),!Zse()){let{name:u,type:f,value:m}=t;if(f==="image"){let g=u?`${u}.`:"";s.append(`${g}x`,"0"),s.append(`${g}y`,"0")}else u&&s.append(u,m)}}else{if(vN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=y2,n=null,a=b2,o=t}return s&&a==="text/plain"&&(o=s,s=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:s,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function iE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function roe(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&_f(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function noe(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function aoe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function ioe(t,e,r){let n=await Promise.all(t.map(async a=>{let s=e.routes[a.route.id];if(s){let o=await noe(s,r);return o.links?o.links():[]}return[]}));return coe(n.flat(1).filter(aoe).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function R7(t,e,r,n,a,s){let o=(c,u)=>r[u]?c.route.id!==r[u].route.id:!0,l=(c,u)=>{var f;return r[u].pathname!==c.pathname||((f=r[u].route.path)==null?void 0:f.endsWith("*"))&&r[u].params["*"]!==c.params["*"]};return s==="assets"?e.filter((c,u)=>o(c,u)||l(c,u)):s==="data"?e.filter((c,u)=>{var m;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,u)||l(c,u))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function soe(t,e,{includeHydrateFallback:r}={}){return ooe(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let s=[a.module];return a.clientActionModule&&(s=s.concat(a.clientActionModule)),a.clientLoaderModule&&(s=s.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(s=s.concat(a.hydrateFallbackModule)),a.imports&&(s=s.concat(a.imports)),s}).flat(1))}function ooe(t){return[...new Set(t)]}function loe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function coe(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let s=JSON.stringify(loe(a));return r.has(s)||(r.add(s),n.push({key:s,link:a})),n},[])}function JG(){let t=y.useContext(jx);return iE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function uoe(){let t=y.useContext(bN);return iE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var sE=y.createContext(void 0);sE.displayName="FrameworkContext";function XG(){let t=y.useContext(sE);return iE(t,"You must render this element inside a <HydratedRouter> element"),t}function doe(t,e){let r=y.useContext(sE),[n,a]=y.useState(!1),[s,o]=y.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:f,onTouchStart:m}=e,g=y.useRef(null);y.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(k=>{o(k.isIntersecting)})},b=new IntersectionObserver(w,{threshold:.5});return g.current&&b.observe(g.current),()=>{b.disconnect()}}},[t]),y.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let p=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?t!=="intent"?[s,g,{}]:[s,g,{onFocus:Sy(l,p),onBlur:Sy(c,v),onMouseEnter:Sy(u,p),onMouseLeave:Sy(f,v),onTouchStart:Sy(m,p)}]:[!1,g,{}]}function Sy(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function foe({page:t,...e}){let{router:r}=JG(),n=y.useMemo(()=>$G(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?y.createElement(moe,{page:t,matches:n,...e}):null}function hoe(t){let{manifest:e,routeModules:r}=XG(),[n,a]=y.useState([]);return y.useEffect(()=>{let s=!1;return ioe(t,e,r).then(o=>{s||a(o)}),()=>{s=!0}},[t,e,r]),n}function moe({page:t,matches:e,...r}){let n=Ui(),{manifest:a,routeModules:s}=XG(),{basename:o}=JG(),{loaderData:l,matches:c}=uoe(),u=y.useMemo(()=>R7(t,e,c,a,n,"data"),[t,e,c,a,n]),f=y.useMemo(()=>R7(t,e,c,a,n,"assets"),[t,e,c,a,n]),m=y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(N=>{var S;let k=a.routes[N.route.id];!k||!k.hasLoader||(!u.some(A=>A.route.id===N.route.id)&&N.route.id in l&&((S=s[N.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?w=!0:v.add(N.route.id))}),v.size===0)return[];let b=roe(t,o,"data");return w&&v.size>0&&b.searchParams.set("_routes",e.filter(N=>v.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[o,l,n,a,u,e,t,s]),g=y.useMemo(()=>soe(f,a),[f,a]),p=hoe(f);return y.createElement(y.Fragment,null,m.map(v=>y.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),g.map(v=>y.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),p.map(({key:v,link:w})=>y.createElement("link",{key:v,nonce:r.nonce,...w})))}function poe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var QG=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{QG&&(window.__reactRouterVersion="7.9.3")}catch{}function goe({basename:t,children:e,window:r}){let n=y.useRef();n.current==null&&(n.current=tse({window:r,v5Compat:!0}));let a=n.current,[s,o]=y.useState({action:a.action,location:a.location}),l=y.useCallback(c=>{y.startTransition(()=>o(c))},[o]);return y.useLayoutEffect(()=>a.listen(l),[a,l]),y.createElement(Vse,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a})}var ZG=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Zh=y.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:s,replace:o,state:l,target:c,to:u,preventScrollReset:f,viewTransition:m,...g},p){let{basename:v}=y.useContext(fd),w=typeof u=="string"&&ZG.test(u),b,N=!1;if(typeof u=="string"&&w&&(b=u,QG))try{let I=new URL(window.location.href),B=u.startsWith("//")?new URL(I.protocol+u):new URL(u),D=_f(B.pathname,v);B.origin===I.origin&&D!=null?u=D+B.search+B.hash:N=!0}catch{od(!1,`<Link to="${u}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Ase(u,{relative:a}),[S,A,_]=doe(n,g),M=voe(u,{replace:o,state:l,target:c,preventScrollReset:f,relative:a,viewTransition:m});function R(I){e&&e(I),I.defaultPrevented||M(I)}let L=y.createElement("a",{...g,..._,href:b||k,onClick:N||s?e:R,ref:poe(p,A),target:c,"data-discover":!w&&r==="render"?"true":void 0});return S&&!w?y.createElement(y.Fragment,null,L,y.createElement(foe,{page:k})):L});Zh.displayName="Link";var xoe=y.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:s,to:o,viewTransition:l,children:c,...u},f){let m=Vv(o,{relative:u.relative}),g=Ui(),p=y.useContext(bN),{navigator:v,basename:w}=y.useContext(fd),b=p!=null&&koe(m)&&l===!0,N=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=g.pathname,S=p&&p.navigation&&p.navigation.location?p.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=_f(S,w)||S);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=k===N||!a&&k.startsWith(N)&&k.charAt(A)==="/",M=S!=null&&(S===N||!a&&S.startsWith(N)&&S.charAt(N.length)==="/"),R={isActive:_,isPending:M,isTransitioning:b},L=_?e:void 0,I;typeof n=="function"?I=n(R):I=[n,_?"active":null,M?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let B=typeof s=="function"?s(R):s;return y.createElement(Zh,{...u,"aria-current":L,className:I,ref:f,style:B,to:o,viewTransition:l},typeof c=="function"?c(R):c)});xoe.displayName="NavLink";var yoe=y.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:s,method:o=y2,action:l,onSubmit:c,relative:u,preventScrollReset:f,viewTransition:m,...g},p)=>{let v=Noe(),w=Soe(l,{relative:u}),b=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&ZG.test(l),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,_=(A==null?void 0:A.getAttribute("formmethod"))||o;v(A||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:a,state:s,relative:u,preventScrollReset:f,viewTransition:m})};return y.createElement("form",{ref:p,method:b,action:w,onSubmit:n?c:k,...g,"data-discover":!N&&t==="render"?"true":void 0})});yoe.displayName="Form";function boe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function eY(t){let e=y.useContext(jx);return ui(e,boe(t)),e}function voe(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:s,viewTransition:o}={}){let l=nr(),c=Ui(),u=Vv(t,{relative:s});return y.useCallback(f=>{if(Qse(f,e)){f.preventDefault();let m=r!==void 0?r:Rb(c)===Rb(u);l(t,{replace:m,state:n,preventScrollReset:a,relative:s,viewTransition:o})}},[c,l,u,r,n,e,t,a,s,o])}var woe=0,joe=()=>`__${String(++woe)}__`;function Noe(){let{router:t}=eY("useSubmit"),{basename:e}=y.useContext(fd),r=Hse();return y.useCallback(async(n,a={})=>{let{action:s,method:o,encType:l,formData:c,body:u}=toe(n,e);if(a.navigate===!1){let f=a.fetcherKey||joe();await t.fetch(f,r,a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,flushSync:a.flushSync})}else await t.navigate(a.action||s,{preventScrollReset:a.preventScrollReset,formData:c,body:u,formMethod:a.method||o,formEncType:a.encType||l,replace:a.replace,state:a.state,fromRouteId:r,flushSync:a.flushSync,viewTransition:a.viewTransition})},[t,e,r])}function Soe(t,{relative:e}={}){let{basename:r}=y.useContext(fd),n=y.useContext(hu);ui(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),s={...Vv(t||".",{relative:e})},o=Ui();if(t==null){s.search=o.search;let l=new URLSearchParams(s.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();s.search=f?`?${f}`:""}}return(!t||t===".")&&a.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(s.pathname=s.pathname==="/"?r:pf([r,s.pathname])),Rb(s)}function koe(t,{relative:e}={}){let r=y.useContext(WG);ui(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=eY("useViewTransitionState"),a=Vv(t,{relative:e});if(!r.isTransitioning)return!1;let s=_f(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=_f(r.nextLocation.pathname,n)||r.nextLocation.pathname;return J2(a.pathname,o)!=null||J2(a.pathname,s)!=null}var oE=FG();const tY=Kn(oE),I7=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function Coe(t,e){var a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,M,R,L,I,B,D,E,H,V;const r=((a=t.stoptime)==null?void 0:a.name)||((o=(s=e==null?void 0:e.stoptimes)==null?void 0:s.data.find(Y=>String(Y.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(u=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(Y=>String(Y.id)===String(t.itemtrouble_id)))!=null&&u.name,(f=t.jenisaktifitas)!=null&&f.name||(g=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(Y=>String(Y.id)===String(t.jenisaktifitas_id)))!=null&&g.name,(p=t.kegiatan)!=null&&p.name||(w=(v=e==null?void 0:e.kegiatans)==null?void 0:v.data.find(Y=>String(Y.id)===String(t.kegiatan_id)))!=null&&w.name;const n=((b=t.unitsp)==null?void 0:b.name)||((k=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(Y=>String(Y.id)===String(t.unitsp_id)))==null?void 0:k.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((A=t.group)==null?void 0:A.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((M=t.mesin)==null?void 0:M.name)||"-",stopJam:((R=t.startstop)==null?void 0:R.stop_time_hh)??null,stopMenit:((L=t.startstop)==null?void 0:L.stop_time_mm)??null,startJam:((I=t.startstop)==null?void 0:I.start_time_hh)??null,startMenit:((B=t.startstop)==null?void 0:B.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((D=t.itemtrouble)==null?void 0:D.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((E=t.jenisaktifitas)==null?void 0:E.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((H=t.jenisaktifitas)==null?void 0:H.name)||"-",kegiatan:((V=t.kegiatan)==null?void 0:V.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const ky=qie(),rY=y.createContext(null),Im=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null,position:t.position}},_oe=({children:t})=>{const[e,r]=y.useState(null),[n,a]=y.useState(null),[s,o]=y.useState(!1),[l,c]=y.useState(null),[u,f]=y.useState(!0),[m,g]=y.useState(!0),[p,v]=y.useState(null),w=nr(),b=y.useRef(!1),N=y.useCallback(async()=>{o(!0);try{const se=n||localStorage.getItem("token");se&&await fetch(`${ky.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),a(null),r(null),c(null),o(!1),w("/login")}},[n,w]),k=y.useCallback(async()=>{if(b.current)return new Promise(re=>{const Ie=setInterval(()=>{b.current||(clearInterval(Ie),re(localStorage.getItem("token")))},100)});b.current=!0;const se=localStorage.getItem("refreshToken");if(!se)return await N(),null;try{const re=await fetch(`${ky.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${se}`},body:JSON.stringify({refresh_token:se})});if(!re.ok){if(re.status===401)return await N(),null;throw new Error("Token refresh failed")}const Ie=await re.json(),Qt=Ie.access_token,cn=Ie.refresh_token||se;return localStorage.setItem("token",Qt),localStorage.setItem("refreshToken",cn),a(Qt),r(xn=>xn?{...xn,access_token:Qt,refresh_token:cn}:null),Qt}catch{return await N(),null}finally{b.current=!1}},[N]),S=y.useCallback(async(se,re={})=>{let Ie=n||localStorage.getItem("token");const Qt=async cn=>{var Oi;if(!cn)throw new Error("No token found");const xn=new Headers(re.headers||{});((Oi=xn.get("Content-Type"))!=null&&Oi.includes("application/json")||!xn.has("Content-Type"))&&xn.set("Content-Type","application/json"),xn.set("Authorization",`Bearer ${cn}`);const is=await fetch(`${ky.envVariables.VITE_REACT_API_URL}${se}`,{...re,headers:xn});if(is.status===204||is.statusText==="No Content")return null;if(!is.ok){let Ei;try{Ei=await is.json()}catch{Ei=await is.text()}throw new Error(Ei.message||`HTTP error! Status: ${is.status}`)}let ss;try{return ss=await is.text(),ss?JSON.parse(ss):null}catch{return ss}};try{return await Qt(Ie)}catch(cn){if(cn instanceof Error&&cn.message.includes("status: 401")){const xn=await k();if(xn)return await Qt(xn)}throw cn}},[n,k]),A=y.useCallback(async()=>{const se=await S("/user/profile?includes_trashed=true"),re=Im(se);return r(re),localStorage.setItem("user",JSON.stringify(re)),re},[S]),_=y.useCallback(async()=>{const se=localStorage.getItem("token"),re=localStorage.getItem("user"),Ie=localStorage.getItem("refreshToken");if(se&&Ie){a(se);try{if(re){const cn=JSON.parse(re);r(Im(cn))}const Qt=await A();r(Qt)}catch{await N()}}},[A,N]),M=y.useCallback(async()=>{const[se,re,Ie,Qt,cn,xn,is,ss,Oi]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:se,shifts:Ie,groups:re,stoptimes:Oi,units:Qt,itemtroubles:xn,jenisaktivitas:is,kegiatans:ss,unitspareparts:cn}},[S]),R=y.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(se){throw se}},[S]),L=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${se.name}</Name>
                      <Category>${se.category}</Category>
                      <Location>${se.location}</Location>
                      <PurchaseDate>${se.purchase_date}</PurchaseDate>
                      <Description>${se.description}</Description>
                      <Type>${se.type||""}</Type>
                      <Make>${se.make||""}</Make>
                      <Model>${se.model||""}</Model>
                      <Status>${se.status||""}</Status>
                      <LastMaintenance ${se.last_maintenance?"":'xsi:nil="true"'}>${se.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${se.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${se.work_orders||""}</WorkOrders>
                      <Health>${se.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:re});if(console.log("ERP SOAP Add Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error adding asset:",Ie),Ie}},[S]),I=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${se.id}</assetId>
            <assetName>${se.name}</assetName>
            <assetCategory>${se.category}</assetCategory>
            <assetLocation>${se.location}</assetLocation>
            <purchaseDate>${se.purchase_date}</purchaseDate>
            <description>${se.description}</description>
            <assetType>${se.type||""}</assetType>
            <assetMake>${se.make||""}</assetMake>
            <assetModel>${se.model||""}</assetModel>
            <assetStatus>${se.status||""}</assetStatus>
            <lastMaintenance>${se.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${se.next_maintenance||""}</nextMaintenance>
            <workOrders>${se.work_orders||""}</workOrders>
            <health>${se.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:re});if(console.log("ERP SOAP Edit Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error editing asset:",Ie),Ie}},[S]),B=y.useCallback(async se=>{const re=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${se}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const Ie=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:re});if(console.log("ERP SOAP Delete Asset Response:",Ie),typeof Ie=="string"&&Ie.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Ie}catch(Ie){throw console.error("Error deleting asset:",Ie),Ie}},[S]),D=y.useCallback(async()=>{try{const se=await S("/history?includes_trashed=true");return se&&se.history&&Array.isArray(se.history)?se.history:Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected audit trail response format:",se),[])}catch(se){return console.error("Failed to fetch audit trail:",se),[]}},[S]),E=y.useCallback(se=>{var Ie;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(se))return se.some(Qt=>{var xn;const cn=/^\d+$/.test(Qt)?I7(Qt):Qt;return cn?(xn=e.permissions)==null?void 0:xn.includes(cn):!1});const re=/^\d+$/.test(se)?I7(se):se;return re&&((Ie=e.permissions)==null?void 0:Ie.includes(re))||!1},[e]);y.useEffect(()=>{(async()=>{g(!0);try{if(await _(),n){const re=await M();c(re)}}catch{await N()}finally{g(!1),f(!1)}})()},[n,_,M,N]);const H=async(se,re,Ie,Qt,cn,xn,is,ss)=>{const Oi=await fetch(`${ky.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:se,nik:Ie,email:re,password:Qt,department:cn,position:xn,role_id:is||null,customPermissions:ss?ss.map(Number):[]})}),Ei=await Oi.json();if(!Oi.ok)throw new Error(Ei.message||"User creation failed");return Ei},V=y.useCallback(async(se,re)=>{g(!0);try{const Ie=await fetch(`${ky.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:se,password:re})});if(!Ie.ok){const xn=await Ie.json();throw new Error(xn.message||"Login failed")}const Qt=await Ie.json(),cn=Im({...Qt.user,access_token:Qt.access_token,refresh_token:Qt.refresh_token,permissions:Qt.user.permissions||Qt.user.allPermissions||[]});localStorage.setItem("token",Qt.access_token),localStorage.setItem("refreshToken",Qt.refresh_token),localStorage.setItem("user",JSON.stringify(cn)),a(Qt.access_token),r(cn);try{const xn=await M();c(xn)}catch{}w("/dashboard")}catch(Ie){throw Ie}finally{g(!1)}},[w,M]),Y=y.useCallback(async se=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),W=y.useCallback(async(se="")=>{try{const re=await S(se?`/mhs?search=${encodeURIComponent(se)}?includes_trashed=true`:"/mhs?includes_trashed=true"),Ie=await M(),Qt=re.data||re;if(!Array.isArray(Qt))throw new Error("Invalid response format");return Qt.map(cn=>Coe(cn,Ie))}catch{return[]}},[S,M]),F=y.useCallback(async se=>await S(`/mhs/${se}?includes_trashed=true`),[S]),z=y.useCallback(async(se,re)=>await S(`/mhs/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),[S]),J=y.useCallback(async se=>await S(`/mhs/${se}?includes_trashed=true`,{method:"DELETE"}),[S]),oe=y.useCallback(async se=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),K=y.useCallback(async()=>{try{const se=await S("/ayam?includes_trashed=true");return console.log("Raw work orders response:",se),se&&se.success===!0&&Array.isArray(se.data)?se.data:Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected work orders response format:",se),[])}catch(se){return console.error("Failed to fetch work orders:",se),[]}},[S]),U=y.useCallback(async se=>{const re=await S(`/ayam/${se}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",re),re},[S]),X=y.useCallback(async se=>{if(!se.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${se.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})).data},[S]),Z=y.useCallback(async se=>await S(`/ayam/${se}?includes_trashed=true`,{method:"DELETE"}),[S]),ne=y.useCallback(async se=>(await K()).filter(Ie=>(Ie.requester_id===parseInt(se)||Ie.assigned_to_id===parseInt(se))&&(Ie.handling_status==="New"||Ie.handling_status==="Progress")),[K]),ue=y.useCallback(async(se,re)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:se,new_password:re,new_password_confirmation:re})})},[S]),_e=y.useCallback(async()=>{try{const se=await S("/users?includes_trashed=true");let re;return se&&se.success!==void 0?re=se.data||[]:Array.isArray(se)?re=se:re=[],re.map(Ie=>Im(Ie))}catch(se){return console.error("Failed to fetch users:",se),[]}},[S]);y.useCallback(async se=>{const re=await S(`/users/${se}?includes_trashed=true`);return Im(re)},[S]);const Ne=y.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(re=>Im(re)),[S]),ge=y.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(re=>({id:String(re.id),name:re.name,description:re.description||`${re.name} role`,permissions:re.permissions.map(String),isSuperadmin:re.name==="superadmin"})),[S]),ke=y.useCallback(async se=>{const re=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:se.name,description:se.description,permissions:se.permissions.map(Number)})});return{id:String(re.id),name:re.name,description:re.description,permissions:re.permissions.map(String)}},[S]),ze=y.useCallback(async(se,re)=>{var Qt;const Ie=await S(`/roles/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:re.name,description:re.description,permissions:(Qt=re.permissions)==null?void 0:Qt.map(Number)})});return{id:String(Ie.id),name:Ie.name,description:Ie.description,permissions:Ie.permissions.map(String)}},[S]),he=y.useCallback(async se=>{await S(`/roles/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),ye=y.useCallback(async(se,re)=>{const Ie=await S(`/users/${se}?includes_trashed=true`),Qt=await S(`/users/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Ie.name,nik:Ie.nik,email:Ie.email,department:Ie.department,roleId:re.roleId||null,customPermissions:re.customPermissions||[]})});return Im(Qt)},[S]),ae=y.useCallback(async se=>{await S(`/users/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),ie=y.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(se){return console.error("Failed to fetch service groups:",se),[]}},[S]),dt=y.useCallback(async se=>{try{return(await S(`/service-groups/${se}?includes_trashed=true`)).data}catch(re){throw console.error(`Failed to fetch service group with id ${se}:`,re),re}},[S]),ct=y.useCallback(async se=>{try{const re=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!re)throw new Error("No response from server");if(re.success===!1)throw new Error(re.message||"Failed to create service group");const Ie=re.data||re;return{id:Ie.id,group_name:Ie.group_name,group_description:Ie.group_description}}catch(re){throw console.error("Error adding service group:",re),new Error(`Failed to add service group: ${re instanceof Error?re.message:String(re)}`)}},[S]),Le=y.useCallback(async(se,re)=>{try{const Ie=await S(`/service-groups/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,group_name:Qt.group_name,group_description:Qt.group_description}}catch(Ie){throw console.error(`Failed to update service group with id ${se}:`,Ie),new Error(`Failed to update service group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Qe=y.useCallback(async se=>{try{await S(`/service-groups/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service group with id ${se}:`,re),new Error(`Failed to delete service group: ${re instanceof Error?re.message:String(re)}`)}},[S]),yt=y.useCallback(async se=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(Ie=>({id:Ie.id,service_name:Ie.service_name,service_description:Ie.service_description,service_type:Ie.service_type,priority:Ie.priority,service_owner:Ie.service_owner,sla:Ie.sla,impact:Ie.impact,created_at:Ie.created_at,updated_at:Ie.updated_at}))}catch(re){return console.error("Failed to fetch services:",re),[]}},[S]),bt=y.useCallback(async se=>{try{const re=await S(`/service-catalogues?owner=${se}&includes_trashed=true`);return re.data||re}catch(re){return console.error("Failed to fetch services by owner:",re),[]}},[S]),It=y.useCallback(async se=>{try{const re=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),Ie=re.data||re;return{id:Ie.id,service_name:Ie.service_name,service_description:Ie.service_description,service_type:Ie.service_type,priority:Ie.priority,service_owner:Ie.service_owner,sla:Ie.sla,impact:Ie.impact,created_at:Ie.created_at,updated_at:Ie.updated_at}}catch(re){throw console.error("Error adding service catalogue:",re),new Error(`Failed to add service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),At=y.useCallback(async(se,re)=>{try{const Ie=await S(`/service-catalogues/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,service_name:Qt.service_name,service_description:Qt.service_description,service_type:Qt.service_type,priority:Qt.priority,service_owner:Qt.service_owner,sla:Qt.sla,impact:Qt.impact,created_at:Qt.created_at,updated_at:Qt.updated_at}}catch(Ie){throw console.error(`Failed to update service catalogue with id ${se}:`,Ie),new Error(`Failed to update service catalogue: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Se=y.useCallback(async se=>{try{await S(`/service-catalogues/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service catalogue with id ${se}:`,re),new Error(`Failed to delete service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),gt=y.useCallback(se=>{v(se)},[]),rt=y.useCallback(async()=>{try{const se=await S("/department?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch departments:",se),[]}},[S]),Nt=y.useCallback(async se=>(await S(`/department/${se}?includes_trashed=true`)).data,[S]),kt=y.useCallback(async se=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),De=y.useCallback(async(se,re)=>{try{const Ie=await S(`/department/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,name:Qt.name,head_id:Qt.head_id}}catch(Ie){throw console.error(`Failed to update service group with id ${se}:`,Ie),new Error(`Failed to update service group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),vt=y.useCallback(async se=>{try{await S(`/department/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete service catalogue with id ${se}:`,re),new Error(`Failed to delete service catalogue: ${re instanceof Error?re.message:String(re)}`)}},[S]),Pe=y.useCallback(async()=>{try{const se=await S("/stoptime?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected stop times response format:",se),[])}catch(se){return console.error("Failed to fetch stop times:",se),[]}},[S]),$e=y.useCallback(async se=>{try{const re=await S(`/stoptime/${se}`);if(console.log("StopTimes by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch stop time with id ${se}:`,re),new Error(`Failed to fetch stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ae=y.useCallback(async se=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding stop time:",re),new Error(`Failed to add stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ye=y.useCallback(async(se,re)=>{try{const Ie=await S(`/stoptime/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update stop time response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update stop time with id ${se}:`,Ie),new Error(`Failed to update stop time: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),tt=y.useCallback(async se=>{try{await S(`/stoptime/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete stop time with id ${se}:`,re),new Error(`Failed to delete stop time: ${re instanceof Error?re.message:String(re)}`)}},[S]),ve=y.useCallback(async()=>{try{const se=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected jenis aktifitas response format:",se),[])}catch(se){return console.error("Failed to fetch jenis aktifitas:",se),[]}},[S]),pe=y.useCallback(async se=>{try{const re=await S(`/jenisaktifitas/${se}`);if(console.log("Jenis Aktifitas by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch jenis aktifitas with id ${se}:`,re),new Error(`Failed to fetch jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),We=y.useCallback(async se=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding jenis aktifitas:",re),new Error(`Failed to add jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),pt=y.useCallback(async(se,re)=>{try{const Ie=await S(`/jenisaktifitas/${se}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update jenis aktifitas response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update jenis aktifitas with id ${se}:`,Ie),new Error(`Failed to update jenis aktifitas: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Je=y.useCallback(async se=>{try{await S(`/jenisaktifitas/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete jenis aktifitas with id ${se}:`,re),new Error(`Failed to delete jenis aktifitas: ${re instanceof Error?re.message:String(re)}`)}},[S]),we=y.useCallback(async()=>{try{const se=await S("/kegiatan?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected activity response format:",se),[])}catch(se){return console.error("Failed to fetch activity:",se),[]}},[S]),te=y.useCallback(async se=>{try{const re=await S(`/kegiatan/${se}?includes_trashed=true`);if(console.log("Activity by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch activity with id ${se}:`,re),new Error(`Failed to fetch activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),Oe=y.useCallback(async se=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding activity:",re),new Error(`Failed to add activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),He=y.useCallback(async(se,re)=>{try{const Ie=await S(`/kegiatan/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update activity response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update activity with id ${se}:`,Ie),new Error(`Failed to update activity: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Ze=y.useCallback(async se=>{try{await S(`/kegiatan/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete activity with id ${se}:`,re),new Error(`Failed to delete activity: ${re instanceof Error?re.message:String(re)}`)}},[S]),ft=y.useCallback(async()=>{try{const se=await S("/itemtrouble?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected trouble item response format:",se),[])}catch(se){return console.error("Failed to fetch trouble item:",se),[]}},[S]),Re=y.useCallback(async se=>{try{const re=await S(`/itemtrouble/${se}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch trouble item with id ${se}:`,re),new Error(`Failed to fetch trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),Fe=y.useCallback(async se=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding trouble item:",re),new Error(`Failed to add trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ue=y.useCallback(async(se,re)=>{try{const Ie=await S(`/itemtrouble/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update trouble item response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update trouble item with id ${se}:`,Ie),new Error(`Failed to update trouble item: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Lt=y.useCallback(async se=>{try{await S(`/itemtrouble/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete trouble item with id ${se}:`,re),new Error(`Failed to delete trouble item: ${re instanceof Error?re.message:String(re)}`)}},[S]),zt=y.useCallback(async()=>{try{const se=await S("/unit?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Unit response format:",se),[])}catch(se){return console.error("Failed to fetch Work Unit:",se),[]}},[S]),Ut=y.useCallback(async se=>{try{const re=await S(`/unit/${se}?includes_trashed=true`);if(console.log("Work Unit by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work unit with id ${se}:`,re),new Error(`Failed to fetch work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),st=y.useCallback(async se=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work unit:",re),new Error(`Failed to add work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),jt=y.useCallback(async(se,re)=>{try{const Ie=await S(`/unit/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work unit response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work unit with id ${se}:`,Ie),new Error(`Failed to update work unit: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Vt=y.useCallback(async se=>{try{await S(`/unit/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work unit with id ${se}:`,re),new Error(`Failed to delete work unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),gr=y.useCallback(async()=>{try{const se=await S("/group?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Group response format:",se),[])}catch(se){return console.error("Failed to fetch Work Group:",se),[]}},[S]),fn=y.useCallback(async se=>{try{const re=await S(`/group/${se}?includes_trashed=true`);if(console.log("Work Group by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work group with id ${se}:`,re),new Error(`Failed to fetch work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),gn=y.useCallback(async se=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work group:",re),new Error(`Failed to add work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),ar=y.useCallback(async(se,re)=>{try{const Ie=await S(`/group/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work group response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work group with id ${se}:`,Ie),new Error(`Failed to update work group: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Wr=y.useCallback(async se=>{try{await S(`/group/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work group with id ${se}:`,re),new Error(`Failed to delete work group: ${re instanceof Error?re.message:String(re)}`)}},[S]),Kr=y.useCallback(async()=>{try{const se=await S("/shift?includes_trashed=true");return Array.isArray(se)?se:se&&Array.isArray(se.data)?se.data:(console.warn("Unexpected Work Shift response format:",se),[])}catch(se){return console.error("Failed to fetch Work Shift:",se),[]}},[S]),Zt=y.useCallback(async se=>{try{const re=await S(`/shift/${se}?includes_trashed=true`);if(console.log("Work Shift by ID response:",re),re&&typeof re=="object")return re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch work shift with id ${se}:`,re),new Error(`Failed to fetch work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),et=y.useCallback(async se=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)})}catch(re){throw console.error("Error adding work shift:",re),new Error(`Failed to add work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),nt=y.useCallback(async(se,re)=>{try{const Ie=await S(`/shift/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});if(console.log("Update work shift response:",Ie),Ie&&typeof Ie=="object")return Ie.data?Ie.data:Ie;throw new Error("Invalid response format")}catch(Ie){throw console.error(`Failed to update work shift with id ${se}:`,Ie),new Error(`Failed to update work shift: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),Tt=y.useCallback(async se=>{try{await S(`/shift/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work shift with id ${se}:`,re),new Error(`Failed to delete work shift: ${re instanceof Error?re.message:String(re)}`)}},[S]),de=y.useCallback(async se=>{try{const re=await S(`/unit/${se}?includes_trashed=true`);if(console.log("Unit by ID response:",re),re&&typeof re=="object")return re.success!==void 0&&re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch unit with id ${se}:`,re),new Error(`Failed to fetch unit: ${re instanceof Error?re.message:String(re)}`)}},[S]),Ke=y.useCallback(async se=>{try{const re=await S(`/mesin/${se}?includes_trashed=true`);if(console.log("Mesin by ID response:",re),re&&typeof re=="object")return re.success!==void 0&&re.data?re.data:re;throw new Error("Invalid response format")}catch(re){throw console.error(`Failed to fetch mesin with id ${se}:`,re),new Error(`Failed to fetch mesin: ${re instanceof Error?re.message:String(re)}`)}},[S]),wt=y.useCallback(async()=>{try{const se=await S("/unit?includes_trashed=true");let re=[];return Array.isArray(se)?re=se:se&&Array.isArray(se.data)&&(re=se.data),await Promise.all(re.map(async Qt=>{try{const cn=await S(`/unit/${Qt.id}?includes_trashed=true`);let xn=cn;return cn&&cn.success!==void 0&&cn.data&&(xn=cn.data),{id:xn.id,name:xn.name,created_at:xn.created_at,updated_at:xn.updated_at,deleted_at:xn.deleted_at,mesin:xn.mesin||[]}}catch(cn){return console.error(`Failed to get detail for unit ${Qt.id}:`,cn),{id:Qt.id,name:Qt.name,created_at:Qt.created_at,updated_at:Qt.updated_at,deleted_at:Qt.deleted_at,mesin:[]}}}))}catch(se){return console.error("Failed to fetch units with machines:",se),[]}},[S]),or=y.useCallback(async()=>{try{const se=await S("/interval?includes_trashed=true");let re=[];Array.isArray(se)?re=se:se&&Array.isArray(se.data)&&(re=se.data);const Ie=await wt(),Qt=await S("/mesin?includes_trashed=true");let cn=[];return Array.isArray(Qt)?cn=Qt:Qt&&Array.isArray(Qt.data)&&(cn=Qt.data),{unit:Ie,mesin:cn,unitsWithMachines:Ie,intervals:re}}catch(se){return console.error("Error fetching master monitoring data:",se),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,wt]),Xr=y.useCallback(async()=>{try{const se=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(se))return se;if(se&&se.success!==void 0){if(se.success&&Array.isArray(se.data))return se.data;if(se.success&&Array.isArray(se.result))return se.result}return se&&Array.isArray(se.data)?se.data:se&&Array.isArray(se.result)?se.result:(console.warn("Unexpected monitoring schedule response format:",se),[])}catch(se){throw console.error("Error fetching monitoring schedule:",se),new Error(`Failed to fetch monitoring schedule: ${se instanceof Error?se.message:String(se)}`)}},[S]),Mt=y.useCallback(async se=>{try{const re=await S(`/monitoring-schedules/${se}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",re),re&&re.success!==void 0){if(re.success&&re.data)return re.data;if(!re.success)throw new Error(re.message||"Failed to fetch monitoring schedule")}if(re&&re.id_monitoring_schedule)return re;if(Array.isArray(re)&&re.length>0)return re[0];throw new Error("Invalid response format")}catch(re){if(console.error(`Failed to fetch monitoring schedule with id ${se}:`,re),re instanceof Error){if(re.message.includes("404"))throw new Error(`Monitoring schedule with id ${se} not found`);if(re.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${re instanceof Error?re.message:String(re)}`)}},[S]),rr=y.useCallback(async se=>{try{const re=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});if(!re)throw new Error("No response from server");if(re.success===!1)throw new Error(re.message||"Failed to create monitoring schedule");const Ie=re.data||re.result||re;if(!Ie)throw new Error("Invalid response format");return Ie}catch(re){if(console.error("Error adding monitoring schedule:",re),re instanceof Error){if(re.message.includes("401"))throw new Error("Unauthorized - Please login again");if(re.message.includes("404"))throw new Error("Endpoint not found");if(re.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${re instanceof Error?re.message:String(re)}`)}},[S]),Mr=y.useCallback(async se=>{try{const re=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});return Array.isArray(re)?re:re&&Array.isArray(re.data)?re.data:(console.warn("Unexpected response format from monitoring-activities POST:",re),[])}catch(re){throw console.error("Error adding monitoring activities:",re),new Error(`Failed to add monitoring activities: ${re instanceof Error?re.message:String(re)}`)}},[S]),jr=y.useCallback(async se=>{try{const re=se.map(Qt=>({id_monitoring_activity:Qt.id,...Qt.data})),Ie=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Array.isArray(Ie)?Ie:Ie&&Array.isArray(Ie.data)?Ie.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",Ie),[])}catch(re){throw console.error("Error updating monitoring activities:",re),new Error(`Failed to update monitoring activities: ${re instanceof Error?re.message:String(re)}`)}},[S]),ur=y.useCallback(async se=>{try{const re=await S(`/mesin/${se}?includes_trashed=true`);return console.log("Mesin detail response:",re),re&&re.success!==void 0?re.data:re}catch(re){throw console.error(`Failed to fetch mesin detail with id ${se}:`,re),new Error(`Failed to fetch mesin detail: ${re instanceof Error?re.message:String(re)}`)}},[S]),Fr=y.useCallback(async()=>{try{const se=await S("/vendor?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch vendor:",se),[]}},[S]),pa=y.useCallback(async se=>(await S(`/vendor/${se}?includes_trashed=true`)).data,[S]),Hr=y.useCallback(async se=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),Fs=y.useCallback(async(se,re)=>{try{const Ie=await S(`/vendor/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,name:Qt.name,address:Qt.address,contact_person:Qt.contact_person,email:Qt.email,telp:Qt.telp,HP:Qt.HP}}catch(Ie){throw console.error(`Failed to update vendor with id ${se}:`,Ie),new Error(`Failed to update vendor: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),ga=y.useCallback(async se=>{try{await S(`/vendor/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete vendor with id ${se}:`,re),new Error(`Failed to delete vendor: ${re instanceof Error?re.message:String(re)}`)}},[S]),jn=y.useCallback(async()=>{try{const se=await S("/approval-templates?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch approval templates:",se),[]}},[S]),Tn=y.useCallback(async se=>await S(`/approval-templates/${se}?includes_trashed=true`),[S]),en=y.useCallback(async se=>{const re=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)});return re.data||re},[S]),In=y.useCallback(async(se,re)=>{const Ie=await S(`/approval-templates/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Ie.data||Ie},[S]),Cc=y.useCallback(async se=>{await S(`/approval-templates/${se}?includes_trashed=true`,{method:"DELETE"})},[S]),Xs=y.useCallback(async(se,re)=>{const Ie=await S(`/approval-templates/${se}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)});return Ie.data||Ie},[S]),bo=y.useCallback(async(se,re,Ie)=>{const Qt=await S(`/template-approvers/${re}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ie)});return Qt.data||Qt},[S]),Qs=y.useCallback(async(se,re)=>{await S(`/template-approvers/${re}?includes_trashed=true`,{method:"DELETE"})},[S]),qo=y.useCallback(async se=>(await S(`/approval-templates/${se}?includes_trashed=true`)).approvers||[],[S]),Ra=y.useCallback(async se=>{const re=await S(`/approval-templates/${se}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return re.data||re},[S]),Wi=y.useCallback(async(se,re)=>{const Ie=await S(`/schedules/${se}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:re})});return Ie&&Ie.message?{success:!0,message:Ie.message,data:Ie.data||Ie}:Ie},[S]),bd=y.useCallback(async()=>{try{const se=await S("/workarea?includes_trashed=true");return se.data||se}catch(se){return console.error("Failed to fetch workarea:",se),[]}},[S]),Wf=y.useCallback(async se=>(await S(`/workarea/${se}?includes_trashed=true`)).data,[S]),vd=y.useCallback(async se=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(se)}),[S]),as=y.useCallback(async(se,re)=>{try{const Ie=await S(`/workarea/${se}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(re)}),Qt=Ie.data||Ie;return{id:Qt.id,work_area:Qt.work_area}}catch(Ie){throw console.error(`Failed to update work area with id ${se}:`,Ie),new Error(`Failed to update work area: ${Ie instanceof Error?Ie.message:String(Ie)}`)}},[S]),wd=y.useCallback(async se=>{try{await S(`/workarea/${se}?includes_trashed=true`,{method:"DELETE"})}catch(re){throw console.error(`Failed to delete work area with id ${se}:`,re),new Error(`Failed to delete work area: ${re instanceof Error?re.message:String(re)}`)}},[S]);return i.jsx(rY.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:V,register:H,logout:N,isLoggingOut:s,fetchWithAuth:S,getAllMasterData:M,submitMachineHistory:Y,getMachineHistories:W,getMachineHistoryById:F,updateMachineHistory:z,deleteMachineHistory:J,masterData:l,isMasterDataLoading:u,addWorkOrderIT:oe,getWorkOrdersIT:K,updateWorkOrderIT:X,deleteWorkOrder:Z,getWorkOrderById:U,departments:[],services:[],serviceGroups:[],getServices:yt,getServicesByOwner:bt,addServiceCatalogue:It,updateServiceCatalogue:At,deleteServiceCatalogue:Se,getServiceGroups:ie,getServiceGroup:dt,addServiceGroup:ct,updateServiceGroup:Le,deleteServiceGroup:Qe,changePassword:ue,fetchUser:A,fetchedUsers:Ne,getUsers:_e,hasPermission:E,setEditingUser:gt,getRoles:ge,createRole:ke,updateRole:ze,deleteRole:he,updateUserPermissions:ye,deleteUser:ae,isAuthLoading:m,getAssetsData:R,addAsset:L,editAsset:I,deleteAsset:B,getWorkOrdersForUser:ne,getAuditTrail:D,getDepartment:rt,getDepartmentById:Nt,addDepartment:kt,updateDepartment:De,deleteDepartment:vt,getMonitoringSchedules:Xr,addMonitoringSchedule:rr,addMonitoringActivities:Mr,updateMonitoringActivity:jr,getStopTimes:Pe,getStopTimesById:$e,addStopTimes:Ae,updateStopTimes:Ye,deleteStopTimes:tt,getActivityTypes:ve,getActivityTypesById:pe,addActivityTypes:We,updateActivityTypes:pt,deleteActivityTypes:Je,getActivity:we,getActivityById:te,addActivity:Oe,updateActivity:He,deleteActivity:Ze,getTroubleItem:ft,getTroubleItemById:Re,addTroubleItem:Fe,updateTroubleItem:Ue,deleteTroubleItem:Lt,getWorkUnit:zt,getWorkUnitById:Ut,addWorkUnit:st,updateWorkUnit:jt,deleteWorkUnit:Vt,getWorkGroup:gr,getWorkGroupById:fn,addWorkGroup:gn,updateWorkGroup:ar,deleteWorkGroup:Wr,getWorkShift:Kr,getWorkShiftById:Zt,addWorkShift:et,updateWorkShift:nt,deleteWorkShift:Tt,getUnit:de,getMesin:Ke,getUnitsWithMachines:wt,getAllMasterMonitoring:or,getMesinDetail:ur,getMonitoringScheduleById:Mt,getVendor:Fr,getVendorById:pa,addVendor:Hr,updateVendor:Fs,deleteVendor:ga,getApprovalTemplates:jn,getApprovalTemplateById:Tn,createApprovalTemplate:en,updateApprovalTemplate:In,deleteApprovalTemplate:Cc,addApproverToTemplate:Xs,updateApprover:bo,deleteApprover:Qs,getTemplateApprovers:qo,setApprovalTemplateActive:Ra,approveSchedule:Wi,getWorkArea:bd,getWorkAreaById:Wf,addWorkArea:vd,updateWorkArea:as,deleteWorkArea:wd},children:t})},ir=()=>{const t=y.useContext(rY);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},Og="/assets/logo-wida-OsCBOu3a.png";var nY={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},F7=fe.createContext&&fe.createContext(nY),Aoe=["attr","size","title"];function Toe(t,e){if(t==null)return{};var r=Moe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Moe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function X2(){return X2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X2.apply(this,arguments)}function $7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Q2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$7(Object(r),!0).forEach(function(n){Ooe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ooe(t,e,r){return e=Eoe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eoe(t){var e=Doe(t,"string");return typeof e=="symbol"?e:e+""}function Doe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function aY(t){return t&&t.map((e,r)=>fe.createElement(e.tag,Q2({key:r},e.attr),aY(e.child)))}function Sc(t){return e=>fe.createElement(Poe,X2({attr:Q2({},t.attr)},e),aY(t.child))}function Poe(t){var e=r=>{var{attr:n,size:a,title:s}=t,o=Toe(t,Aoe),l=a||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),fe.createElement("svg",X2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Q2(Q2({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),s&&fe.createElement("title",null,s),t.children)};return F7!==void 0?fe.createElement(F7.Consumer,null,r=>e(r)):e(nY)}function dw(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function lE(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function Loe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Roe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Ioe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function v2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function w2(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function Foe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function B7(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function H7(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function $oe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Boe(t){return Sc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const fw=["Hello","Bonjour","Holla"," ","Salam","","Hallo","Namaste",""],Hoe=()=>{const[t,e]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState(""),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(fw[0]),[v,w]=y.useState(!1),{login:b}=ir(),N=nr();y.useEffect(()=>{m(!0);let M;const R=setInterval(()=>{w(!0),M=setTimeout(()=>{p(L=>{const B=(fw.indexOf(L)+1)%fw.length;return fw[B]}),w(!1)},500)},3e3);return()=>{clearInterval(R),clearTimeout(M)}},[]);const k={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=v?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},A=async M=>{M.preventDefault(),l(""),u(!0);try{await b(t,r),N("/dashboard")}catch(R){l(R instanceof Error?R.message:"Login failed")}finally{u(!1)}},_=()=>{s(!a)};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:i.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${f?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[i.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${f?"opacity-100":"opacity-0"}`,children:[i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-10 w-auto"}),i.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),i.jsx("h1",{style:{...k,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${f?"opacity-100":"opacity-0"}`,children:g}),i.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),i.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${f?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&i.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:o})]}),i.jsxs("form",{onSubmit:A,className:"space-y-6","aria-label":"Login Form",children:[i.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:M=>e(M.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),i.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{id:"password",type:a?"text":"password",placeholder:"",value:r,onChange:M=>n(M.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),i.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":a?"Hide password":"Show password",children:a?i.jsx(v2,{size:18}):i.jsx(w2,{size:18})})]}),i.jsx("div",{className:"flex justify-end mt-2",children:i.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),i.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),i.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),i.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${f?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),i.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${f?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",i.jsx(Zh,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:i.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${f?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),i.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${f?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),i.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),i.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[i.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),i.jsx("div",{className:"text-purple-300 animate-pulse-light",children:i.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),i.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[i.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:i.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),i.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),i.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:i.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},cE=y.createContext({});function uE(t){const e=y.useRef(null);return e.current===null&&(e.current=t()),e.current}const dE=typeof window<"u",iY=dE?y.useLayoutEffect:y.useEffect,wN=y.createContext(null);function fE(t,e){t.indexOf(e)===-1&&t.push(e)}function hE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Af=(t,e,r)=>r>e?e:r<t?t:r;let mE=()=>{};const Tf={},sY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oY(t){return typeof t=="object"&&t!==null}const lY=t=>/^0[^.\s]+$/u.test(t);function pE(t){let e;return()=>(e===void 0&&(e=t()),e)}const pc=t=>t,zoe=(t,e)=>r=>e(t(r)),Gv=(...t)=>t.reduce(zoe),Ib=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class gE{constructor(){this.subscriptions=[]}add(e){return fE(this.subscriptions,e),()=>hE(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let s=0;s<a;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zu=t=>t*1e3,fc=t=>t/1e3;function cY(t,e){return e?t*(1e3/e):0}const uY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,qoe=1e-7,Uoe=12;function Woe(t,e,r,n,a){let s,o,l=0;do o=e+(r-e)/2,s=uY(o,n,a)-t,s>0?r=o:e=o;while(Math.abs(s)>qoe&&++l<Uoe);return o}function Yv(t,e,r,n){if(t===e&&r===n)return pc;const a=s=>Woe(s,0,1,t,r);return s=>s===0||s===1?s:uY(a(s),e,n)}const dY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,fY=t=>e=>1-t(1-e),hY=Yv(.33,1.53,.69,.99),xE=fY(hY),mY=dY(xE),pY=t=>(t*=2)<1?.5*xE(t):.5*(2-Math.pow(2,-10*(t-1))),yE=t=>1-Math.sin(Math.acos(t)),gY=fY(yE),xY=dY(yE),Voe=Yv(.42,0,1,1),Goe=Yv(0,0,.58,1),yY=Yv(.42,0,.58,1),Yoe=t=>Array.isArray(t)&&typeof t[0]!="number",bY=t=>Array.isArray(t)&&typeof t[0]=="number",Koe={linear:pc,easeIn:Voe,easeInOut:yY,easeOut:Goe,circIn:yE,circInOut:xY,circOut:gY,backIn:xE,backInOut:mY,backOut:hY,anticipate:pY},Joe=t=>typeof t=="string",z7=t=>{if(bY(t)){mE(t.length===4);const[e,r,n,a]=t;return Yv(e,r,n,a)}else if(Joe(t))return Koe[t];return t},hw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Xoe(t,e){let r=new Set,n=new Set,a=!1,s=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(u.schedule(f),t()),f(l)}const u={schedule:(f,m=!1,g=!1)=>{const v=g&&a?r:n;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,a){s=!0;return}a=!0,[r,n]=[n,r],r.forEach(c),r.clear(),a=!1,s&&(s=!1,u.process(f))}};return u}const Qoe=40;function vY(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,o=hw.reduce((S,A)=>(S[A]=Xoe(s),S),{}),{setup:l,read:c,resolveKeyframes:u,preUpdate:f,update:m,preRender:g,render:p,postRender:v}=o,w=()=>{const S=Tf.useManualTiming?a.timestamp:performance.now();r=!1,Tf.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(S-a.timestamp,Qoe),1)),a.timestamp=S,a.isProcessing=!0,l.process(a),c.process(a),u.process(a),f.process(a),m.process(a),g.process(a),p.process(a),v.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(w))},b=()=>{r=!0,n=!0,a.isProcessing||t(w)};return{schedule:hw.reduce((S,A)=>{const _=o[A];return S[A]=(M,R=!1,L=!1)=>(r||b(),_.schedule(M,R,L)),S},{}),cancel:S=>{for(let A=0;A<hw.length;A++)o[hw[A]].cancel(S)},state:a,steps:o}}const{schedule:ei,cancel:em,state:Vs,steps:aC}=vY(typeof requestAnimationFrame<"u"?requestAnimationFrame:pc,!0);let j2;function Zoe(){j2=void 0}const ol={now:()=>(j2===void 0&&ol.set(Vs.isProcessing||Tf.useManualTiming?Vs.timestamp:performance.now()),j2),set:t=>{j2=t,queueMicrotask(Zoe)}},wY=t=>e=>typeof e=="string"&&e.startsWith(t),bE=wY("--"),ele=wY("var(--"),vE=t=>ele(t)?tle.test(t.split("/*")[0].trim()):!1,tle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Nx={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Fb={...Nx,transform:t=>Af(0,1,t)},mw={...Nx,default:1},ub=t=>Math.round(t*1e5)/1e5,wE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function rle(t){return t==null}const nle=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,jE=(t,e)=>r=>!!(typeof r=="string"&&nle.test(r)&&r.startsWith(t)||e&&!rle(r)&&Object.prototype.hasOwnProperty.call(r,e)),jY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,s,o,l]=n.match(wE);return{[t]:parseFloat(a),[e]:parseFloat(s),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},ale=t=>Af(0,255,t),iC={...Nx,transform:t=>Math.round(ale(t))},Qm={test:jE("rgb","red"),parse:jY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+iC.transform(t)+", "+iC.transform(e)+", "+iC.transform(r)+", "+ub(Fb.transform(n))+")"};function ile(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const rM={test:jE("#"),parse:ile,transform:Qm.transform},Kv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Th=Kv("deg"),ed=Kv("%"),Jr=Kv("px"),sle=Kv("vh"),ole=Kv("vw"),q7={...ed,parse:t=>ed.parse(t)/100,transform:t=>ed.transform(t*100)},rg={test:jE("hsl","hue"),parse:jY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+ed.transform(ub(e))+", "+ed.transform(ub(r))+", "+ub(Fb.transform(n))+")"},Qi={test:t=>Qm.test(t)||rM.test(t)||rg.test(t),parse:t=>Qm.test(t)?Qm.parse(t):rg.test(t)?rg.parse(t):rM.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Qm.transform(t):rg.transform(t),getAnimatableNone:t=>{const e=Qi.parse(t);return e.alpha=0,Qi.transform(e)}},lle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function cle(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(wE))==null?void 0:e.length)||0)+(((r=t.match(lle))==null?void 0:r.length)||0)>0}const NY="number",SY="color",ule="var",dle="var(",U7="${}",fle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function $b(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let s=0;const l=e.replace(fle,c=>(Qi.test(c)?(n.color.push(s),a.push(SY),r.push(Qi.parse(c))):c.startsWith(dle)?(n.var.push(s),a.push(ule),r.push(c)):(n.number.push(s),a.push(NY),r.push(parseFloat(c))),++s,U7)).split(U7);return{values:r,split:l,indexes:n,types:a}}function kY(t){return $b(t).values}function CY(t){const{split:e,types:r}=$b(t),n=e.length;return a=>{let s="";for(let o=0;o<n;o++)if(s+=e[o],a[o]!==void 0){const l=r[o];l===NY?s+=ub(a[o]):l===SY?s+=Qi.transform(a[o]):s+=a[o]}return s}}const hle=t=>typeof t=="number"?0:Qi.test(t)?Qi.getAnimatableNone(t):t;function mle(t){const e=kY(t);return CY(t)(e.map(hle))}const tm={test:cle,parse:kY,createTransformer:CY,getAnimatableNone:mle};function sC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ple({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,s=0,o=0;if(!e)a=s=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;a=sC(c,l,t+1/3),s=sC(c,l,t),o=sC(c,l,t-1/3)}return{red:Math.round(a*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}function Z2(t,e){return r=>r>0?e:t}const li=(t,e,r)=>t+(e-t)*r,oC=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},gle=[rM,Qm,rg],xle=t=>gle.find(e=>e.test(t));function W7(t){const e=xle(t);if(!e)return!1;let r=e.parse(t);return e===rg&&(r=ple(r)),r}const V7=(t,e)=>{const r=W7(t),n=W7(e);if(!r||!n)return Z2(t,e);const a={...r};return s=>(a.red=oC(r.red,n.red,s),a.green=oC(r.green,n.green,s),a.blue=oC(r.blue,n.blue,s),a.alpha=li(r.alpha,n.alpha,s),Qm.transform(a))},nM=new Set(["none","hidden"]);function yle(t,e){return nM.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function ble(t,e){return r=>li(t,e,r)}function NE(t){return typeof t=="number"?ble:typeof t=="string"?vE(t)?Z2:Qi.test(t)?V7:jle:Array.isArray(t)?_Y:typeof t=="object"?Qi.test(t)?V7:vle:Z2}function _Y(t,e){const r=[...t],n=r.length,a=t.map((s,o)=>NE(s)(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=a[o](s);return r}}function vle(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=NE(t[a])(t[a],e[a]));return a=>{for(const s in n)r[s]=n[s](a);return r}}function wle(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const s=e.types[a],o=t.indexes[s][n[s]],l=t.values[o]??0;r[a]=l,n[s]++}return r}const jle=(t,e)=>{const r=tm.createTransformer(e),n=$b(t),a=$b(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?nM.has(t)&&!a.values.length||nM.has(e)&&!n.values.length?yle(t,e):Gv(_Y(wle(n,a),a.values),r):Z2(t,e)};function AY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?li(t,e,r):NE(t)(t,e)}const Nle=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ei.update(e,r),stop:()=>em(e),now:()=>Vs.isProcessing?Vs.timestamp:ol.now()}},TY=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let s=0;s<a;s++)n+=Math.round(t(s/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},ej=2e4;function SE(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<ej;)e+=r,n=t.next(e);return e>=ej?1/0:e}function Sle(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(SE(n),ej);return{type:"keyframes",ease:s=>n.next(a*s).value/e,duration:fc(a)}}const kle=5;function MY(t,e,r){const n=Math.max(e-kle,0);return cY(r-t(n),e-n)}const wi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},lC=.001;function Cle({duration:t=wi.duration,bounce:e=wi.bounce,velocity:r=wi.velocity,mass:n=wi.mass}){let a,s,o=1-e;o=Af(wi.minDamping,wi.maxDamping,o),t=Af(wi.minDuration,wi.maxDuration,fc(t)),o<1?(a=u=>{const f=u*o,m=f*t,g=f-r,p=aM(u,o),v=Math.exp(-m);return lC-g/p*v},s=u=>{const m=u*o*t,g=m*r+r,p=Math.pow(o,2)*Math.pow(u,2)*t,v=Math.exp(-m),w=aM(Math.pow(u,2),o);return(-a(u)+lC>0?-1:1)*((g-p)*v)/w}):(a=u=>{const f=Math.exp(-u*t),m=(u-r)*t+1;return-lC+f*m},s=u=>{const f=Math.exp(-u*t),m=(r-u)*(t*t);return f*m});const l=5/t,c=Ale(a,s,l);if(t=Zu(t),isNaN(c))return{stiffness:wi.stiffness,damping:wi.damping,duration:t};{const u=Math.pow(c,2)*n;return{stiffness:u,damping:o*2*Math.sqrt(n*u),duration:t}}}const _le=12;function Ale(t,e,r){let n=r;for(let a=1;a<_le;a++)n=n-t(n)/e(n);return n}function aM(t,e){return t*Math.sqrt(1-e*e)}const Tle=["duration","bounce"],Mle=["stiffness","damping","mass"];function G7(t,e){return e.some(r=>t[r]!==void 0)}function Ole(t){let e={velocity:wi.velocity,stiffness:wi.stiffness,damping:wi.damping,mass:wi.mass,isResolvedFromDuration:!1,...t};if(!G7(t,Mle)&&G7(t,Tle))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,s=2*Af(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:wi.mass,stiffness:a,damping:s}}else{const r=Cle(t);e={...e,...r,mass:wi.mass},e.isResolvedFromDuration=!0}return e}function tj(t=wi.visualDuration,e=wi.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const s=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:s},{stiffness:c,damping:u,mass:f,duration:m,velocity:g,isResolvedFromDuration:p}=Ole({...r,velocity:-fc(r.velocity||0)}),v=g||0,w=u/(2*Math.sqrt(c*f)),b=o-s,N=fc(Math.sqrt(c/f)),k=Math.abs(b)<5;n||(n=k?wi.restSpeed.granular:wi.restSpeed.default),a||(a=k?wi.restDelta.granular:wi.restDelta.default);let S;if(w<1){const _=aM(N,w);S=M=>{const R=Math.exp(-w*N*M);return o-R*((v+w*N*b)/_*Math.sin(_*M)+b*Math.cos(_*M))}}else if(w===1)S=_=>o-Math.exp(-N*_)*(b+(v+N*b)*_);else{const _=N*Math.sqrt(w*w-1);S=M=>{const R=Math.exp(-w*N*M),L=Math.min(_*M,300);return o-R*((v+w*N*b)*Math.sinh(L)+_*b*Math.cosh(L))/_}}const A={calculatedDuration:p&&m||null,next:_=>{const M=S(_);if(p)l.done=_>=m;else{let R=_===0?v:0;w<1&&(R=_===0?Zu(v):MY(S,_,M));const L=Math.abs(R)<=n,I=Math.abs(o-M)<=a;l.done=L&&I}return l.value=l.done?o:M,l},toString:()=>{const _=Math.min(SE(A),ej),M=TY(R=>A.next(_*R).value,_,30);return _+"ms "+M},toTransition:()=>{}};return A}tj.applyToOptions=t=>{const e=Sle(t,100,tj);return t.ease=e.ease,t.duration=Zu(e.duration),t.type="keyframes",t};function iM({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:s=500,modifyTarget:o,min:l,max:c,restDelta:u=.5,restSpeed:f}){const m=t[0],g={done:!1,value:m},p=L=>l!==void 0&&L<l||c!==void 0&&L>c,v=L=>l===void 0?c:c===void 0||Math.abs(l-L)<Math.abs(c-L)?l:c;let w=r*e;const b=m+w,N=o===void 0?b:o(b);N!==b&&(w=N-m);const k=L=>-w*Math.exp(-L/n),S=L=>N+k(L),A=L=>{const I=k(L),B=S(L);g.done=Math.abs(I)<=u,g.value=g.done?N:B};let _,M;const R=L=>{p(g.value)&&(_=L,M=tj({keyframes:[g.value,v(g.value)],velocity:MY(S,L,g.value),damping:a,stiffness:s,restDelta:u,restSpeed:f}))};return R(0),{calculatedDuration:null,next:L=>{let I=!1;return!M&&_===void 0&&(I=!0,A(L),R(L)),_!==void 0&&L>=_?M.next(L-_):(!I&&A(L),g)}}}function Ele(t,e,r){const n=[],a=r||Tf.mix||AY,s=t.length-1;for(let o=0;o<s;o++){let l=a(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||pc:e;l=Gv(c,l)}n.push(l)}return n}function Dle(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const s=t.length;if(mE(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Ele(e,n,a),c=l.length,u=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const g=Ib(t[m],t[m+1],f);return l[m](g)};return r?f=>u(Af(t[0],t[s-1],f)):u}function Ple(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=Ib(0,e,n);t.push(li(r,1,a))}}function Lle(t){const e=[0];return Ple(e,t.length-1),e}function Rle(t,e){return t.map(r=>r*e)}function Ile(t,e){return t.map(()=>e||yY).splice(0,t.length-1)}function db({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Yoe(n)?n.map(z7):z7(n),s={done:!1,value:e[0]},o=Rle(r&&r.length===e.length?r:Lle(e),t),l=Dle(o,e,{ease:Array.isArray(a)?a:Ile(e,a)});return{calculatedDuration:t,next:c=>(s.value=l(c),s.done=c>=t,s)}}const Fle=t=>t!==null;function kE(t,{repeat:e,repeatType:r="loop"},n,a=1){const s=t.filter(Fle),l=a<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!l||n===void 0?s[l]:n}const $le={decay:iM,inertia:iM,tween:db,keyframes:db,spring:tj};function OY(t){typeof t.type=="string"&&(t.type=$le[t.type])}class CE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Ble=t=>t/100;class _E extends CE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,a;const{motionValue:r}=this.options;r&&r.updatedAt!==ol.now()&&this.tick(ol.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(a=(n=this.options).onStop)==null||a.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;OY(e);const{type:r=db,repeat:n=0,repeatDelay:a=0,repeatType:s,velocity:o=0}=e;let{keyframes:l}=e;const c=r||db;c!==db&&typeof l[0]!="number"&&(this.mixKeyframes=Gv(Ble,AY(l[0],l[1])),l=[0,100]);const u=c({...e,keyframes:l});s==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),u.calculatedDuration===null&&(u.calculatedDuration=SE(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:s,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:m,repeatType:g,repeatDelay:p,type:v,onUpdate:w,finalKeyframe:b}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>a;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let S=this.currentTime,A=n;if(m){const L=Math.min(this.currentTime,a)/l;let I=Math.floor(L),B=L%1;!B&&L>=1&&(B=1),B===1&&I--,I=Math.min(I,m+1),!!(I%2)&&(g==="reverse"?(B=1-B,p&&(B-=p/l)):g==="mirror"&&(A=o)),S=Af(0,1,B)*l}const _=k?{done:!1,value:f[0]}:A.next(S);s&&(_.value=s(_.value));let{done:M}=_;!k&&c!==null&&(M=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const R=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&M);return R&&v!==iM&&(_.value=kE(f,this.options,b,this.speed)),w&&w(_.value),R&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return fc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(this.currentTime)}set time(e){var r;e=Zu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ol.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=fc(this.currentTime))}play(){var a,s;if(this.isStopped)return;const{driver:e=Nle,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(s=(a=this.options).onPlay)==null||s.call(a);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ol.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Hle(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Zm=t=>t*180/Math.PI,sM=t=>{const e=Zm(Math.atan2(t[1],t[0]));return oM(e)},zle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sM,rotateZ:sM,skewX:t=>Zm(Math.atan(t[1])),skewY:t=>Zm(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},oM=t=>(t=t%360,t<0&&(t+=360),t),Y7=sM,K7=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),J7=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),qle={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:K7,scaleY:J7,scale:t=>(K7(t)+J7(t))/2,rotateX:t=>oM(Zm(Math.atan2(t[6],t[5]))),rotateY:t=>oM(Zm(Math.atan2(-t[2],t[0]))),rotateZ:Y7,rotate:Y7,skewX:t=>Zm(Math.atan(t[4])),skewY:t=>Zm(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function lM(t){return t.includes("scale")?1:0}function cM(t,e){if(!t||t==="none")return lM(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=qle,a=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=zle,a=l}if(!a)return lM(e);const s=n[e],o=a[1].split(",").map(Wle);return typeof s=="function"?s(o):o[s]}const Ule=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return cM(r,e)};function Wle(t){return parseFloat(t.trim())}const Sx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],kx=new Set(Sx),X7=t=>t===Nx||t===Jr,Vle=new Set(["x","y","z"]),Gle=Sx.filter(t=>!Vle.has(t));function Yle(t){const e=[];return Gle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const dp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>cM(e,"x"),y:(t,{transform:e})=>cM(e,"y")};dp.translateX=dp.x;dp.translateY=dp.y;const fp=new Set;let uM=!1,dM=!1,fM=!1;function EY(){if(dM){const t=Array.from(fp).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Yle(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([s,o])=>{var l;(l=n.getValue(s))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}dM=!1,uM=!1,fp.forEach(t=>t.complete(fM)),fp.clear()}function DY(){fp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(dM=!0)})}function Kle(){fM=!0,DY(),EY(),fM=!1}class AE{constructor(e,r,n,a,s,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=s,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fp.add(this),uM||(uM=!0,ei.read(DY),ei.resolveKeyframes(EY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const s=a==null?void 0:a.get(),o=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),a&&s===void 0&&a.set(e[0])}Hle(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fp.delete(this)}cancel(){this.state==="scheduled"&&(fp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Jle=t=>t.startsWith("--");function Xle(t,e,r){Jle(e)?t.style.setProperty(e,r):t.style[e]=r}const Qle=pE(()=>window.ScrollTimeline!==void 0),Zle={};function ece(t,e){const r=pE(t);return()=>Zle[e]??r()}const PY=ece(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Zy=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,Q7={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Zy([0,.65,.55,1]),circOut:Zy([.55,0,1,.45]),backIn:Zy([.31,.01,.66,-.59]),backOut:Zy([.33,1.53,.69,.99])};function LY(t,e){if(t)return typeof t=="function"?PY()?TY(t,e):"ease-out":bY(t)?Zy(t):Array.isArray(t)?t.map(r=>LY(r,e)||Q7.easeOut):Q7[t]}function tce(t,e,r,{delay:n=0,duration:a=300,repeat:s=0,repeatType:o="loop",ease:l="easeOut",times:c}={},u=void 0){const f={[e]:r};c&&(f.offset=c);const m=LY(l,a);Array.isArray(m)&&(f.easing=m);const g={delay:n,duration:a,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(f,g)}function RY(t){return typeof t=="function"&&"applyToOptions"in t}function rce({type:t,...e}){return RY(t)&&PY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class nce extends CE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:s,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!s,this.allowFlatten=o,this.options=e,mE(typeof e.type!="string");const u=rce(e);this.animation=tce(r,n,a,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=kE(a,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):Xle(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fc(e)}get time(){return fc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Qle()?(this.animation.timeline=e,pc):r(this)}}const IY={anticipate:pY,backInOut:mY,circInOut:xY};function ace(t){return t in IY}function ice(t){typeof t.ease=="string"&&ace(t.ease)&&(t.ease=IY[t.ease])}const Z7=10;class sce extends nce{constructor(e){ice(e),OY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:s,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new _E({...o,autoplay:!1}),c=Zu(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-Z7).value,l.sample(c).value,Z7),l.stop()}}const eR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(tm.test(t)||t==="0")&&!t.startsWith("url("));function oce(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function lce(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=eR(a,e),l=eR(s,e);return!o||!l?!1:oce(t)||(r==="spring"||RY(r))&&n}function hM(t){t.duration=0,t.type="keyframes"}const cce=new Set(["opacity","clipPath","filter","transform"]),uce=pE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function dce(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:s,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:u}=e.owner.getProps();return uce()&&r&&cce.has(r)&&(r!=="transform"||!u)&&!c&&!n&&a!=="mirror"&&s!==0&&o!=="inertia"}const fce=40;class hce extends CE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",keyframes:l,name:c,motionValue:u,element:f,...m}){var v;super(),this.stop=()=>{var w,b;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(b=this.keyframeResolver)==null||b.cancel()},this.createdAt=ol.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:s,repeatType:o,name:c,motionValue:u,element:f,...m},p=(f==null?void 0:f.KeyframeResolver)||AE;this.keyframeResolver=new p(l,(w,b,N)=>this.onKeyframesResolved(w,b,g,!N),c,u,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:s,type:o,velocity:l,delay:c,isHandoff:u,onUpdate:f}=n;this.resolvedAt=ol.now(),lce(e,s,o,l)||((Tf.instantAnimations||!c)&&(f==null||f(kE(e,n,r))),e[0]=e[e.length-1],hM(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>fce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},p=!u&&dce(g)?new sce({...g,element:g.motionValue.owner.current}):new _E(g);p.finished.then(()=>this.notifyFinished()).catch(pc),this.pendingTimeline&&(this.stopTimeline=p.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=p}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Kle()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const mce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function pce(t){const e=mce.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function FY(t,e,r=1){const[n,a]=pce(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return sY(o)?parseFloat(o):o}return vE(a)?FY(a,e,r+1):a}function TE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const $Y=new Set(["width","height","top","left","right","bottom",...Sx]),gce={test:t=>t==="auto",parse:t=>t},BY=t=>e=>e.test(t),HY=[Nx,Jr,ed,Th,ole,sle,gce],tR=t=>HY.find(BY(t));function xce(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lY(t):!0}const yce=new Set(["brightness","contrast","saturate","opacity"]);function bce(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(wE)||[];if(!n)return t;const a=r.replace(n,"");let s=yce.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+a+")"}const vce=/\b([a-z-]*)\(.*?\)/gu,mM={...tm,getAnimatableNone:t=>{const e=t.match(vce);return e?e.map(bce).join(" "):t}},rR={...Nx,transform:Math.round},wce={rotate:Th,rotateX:Th,rotateY:Th,rotateZ:Th,scale:mw,scaleX:mw,scaleY:mw,scaleZ:mw,skew:Th,skewX:Th,skewY:Th,distance:Jr,translateX:Jr,translateY:Jr,translateZ:Jr,x:Jr,y:Jr,z:Jr,perspective:Jr,transformPerspective:Jr,opacity:Fb,originX:q7,originY:q7,originZ:Jr},ME={borderWidth:Jr,borderTopWidth:Jr,borderRightWidth:Jr,borderBottomWidth:Jr,borderLeftWidth:Jr,borderRadius:Jr,radius:Jr,borderTopLeftRadius:Jr,borderTopRightRadius:Jr,borderBottomRightRadius:Jr,borderBottomLeftRadius:Jr,width:Jr,maxWidth:Jr,height:Jr,maxHeight:Jr,top:Jr,right:Jr,bottom:Jr,left:Jr,padding:Jr,paddingTop:Jr,paddingRight:Jr,paddingBottom:Jr,paddingLeft:Jr,margin:Jr,marginTop:Jr,marginRight:Jr,marginBottom:Jr,marginLeft:Jr,backgroundPositionX:Jr,backgroundPositionY:Jr,...wce,zIndex:rR,fillOpacity:Fb,strokeOpacity:Fb,numOctaves:rR},jce={...ME,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:mM,WebkitFilter:mM},zY=t=>jce[t];function qY(t,e){let r=zY(t);return r!==mM&&(r=tm),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Nce=new Set(["auto","none","0"]);function Sce(t,e,r){let n=0,a;for(;n<t.length&&!a;){const s=t[n];typeof s=="string"&&!Nce.has(s)&&$b(s).values.length&&(a=t[n]),n++}if(a&&r)for(const s of e)t[s]=qY(r,a)}class kce extends AE{constructor(e,r,n,a,s){super(e,r,n,a,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="string"&&(u=u.trim(),vE(u))){const f=FY(u,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!$Y.has(n)||e.length!==2)return;const[a,s]=e,o=tR(a),l=tR(s);if(o!==l)if(X7(o)&&X7(l))for(let c=0;c<e.length;c++){const u=e[c];typeof u=="string"&&(e[c]=parseFloat(u))}else dp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||xce(e[a]))&&n.push(a);n.length&&Sce(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=dp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const s=n.length-1,o=n[s];n[s]=dp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,u])=>{e.getValue(c).set(u)}),this.resolveNoneKeyframes()}}function Cce(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=(r==null?void 0:r[t])??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const UY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function WY(t){return oY(t)&&"offsetHeight"in t}const nR=30,_ce=t=>!isNaN(parseFloat(t));class Ace{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const a=ol.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ol.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=_ce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new gE);const n=this.events[e].add(r);return e==="change"?()=>{n(),ei.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>nR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,nR);return cY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Eg(t,e){return new Ace(t,e)}const{schedule:OE}=vY(queueMicrotask,!1),Xc={x:!1,y:!1};function VY(){return Xc.x||Xc.y}function Tce(t){return t==="x"||t==="y"?Xc[t]?null:(Xc[t]=!0,()=>{Xc[t]=!1}):Xc.x||Xc.y?null:(Xc.x=Xc.y=!0,()=>{Xc.x=Xc.y=!1})}function GY(t,e){const r=Cce(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function aR(t){return!(t.pointerType==="touch"||VY())}function Mce(t,e,r={}){const[n,a,s]=GY(t,r),o=l=>{if(!aR(l))return;const{target:c}=l,u=e(c,l);if(typeof u!="function"||!c)return;const f=m=>{aR(m)&&(u(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,a)};return n.forEach(l=>{l.addEventListener("pointerenter",o,a)}),s}const YY=(t,e)=>e?t===e?!0:YY(t,e.parentElement):!1,EE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Oce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Ece(t){return Oce.has(t.tagName)||t.tabIndex!==-1}const N2=new WeakSet;function iR(t){return e=>{e.key==="Enter"&&t(e)}}function cC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Dce=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=iR(()=>{if(N2.has(r))return;cC(r,"down");const a=iR(()=>{cC(r,"up")}),s=()=>cC(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function sR(t){return EE(t)&&!VY()}function Pce(t,e,r={}){const[n,a,s]=GY(t,r),o=l=>{const c=l.currentTarget;if(!sR(l))return;N2.add(c);const u=e(c,l),f=(p,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),N2.has(c)&&N2.delete(c),sR(p)&&typeof u=="function"&&u(p,{success:v})},m=p=>{f(p,c===window||c===document||r.useGlobalTarget||YY(c,p.target))},g=p=>{f(p,!1)};window.addEventListener("pointerup",m,a),window.addEventListener("pointercancel",g,a)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,a),WY(l)&&(l.addEventListener("focus",u=>Dce(u,a)),!Ece(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),s}function KY(t){return oY(t)&&"ownerSVGElement"in t}function Lce(t){return KY(t)&&t.tagName==="svg"}const mo=t=>!!(t&&t.getVelocity),Rce=[...HY,Qi,tm],Ice=t=>Rce.find(BY(t)),DE=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function oR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Fce(...t){return e=>{let r=!1;const n=t.map(a=>{const s=oR(a,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let a=0;a<n.length;a++){const s=n[a];typeof s=="function"?s():oR(t[a],null)}}}}function $ce(...t){return y.useCallback(Fce(...t),t)}class Bce extends y.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=WY(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=a-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Hce({children:t,isPresent:e,anchorX:r,root:n}){const a=y.useId(),s=y.useRef(null),o=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=y.useContext(DE),c=$ce(s,t==null?void 0:t.ref);return y.useInsertionEffect(()=>{const{width:u,height:f,top:m,left:g,right:p}=o.current;if(e||!s.current||!u||!f)return;const v=r==="left"?`left: ${g}`:`right: ${p}`;s.current.dataset.motionPopId=a;const w=document.createElement("style");l&&(w.nonce=l);const b=n??document.head;return b.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{b.contains(w)&&b.removeChild(w)}},[e]),i.jsx(Bce,{isPresent:e,childRef:s,sizeRef:o,children:y.cloneElement(t,{ref:c})})}const zce=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:s,mode:o,anchorX:l,root:c})=>{const u=uE(qce),f=y.useId();let m=!0,g=y.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:a,onExitComplete:p=>{u.set(p,!0);for(const v of u.values())if(!v)return;n&&n()},register:p=>(u.set(p,!1),()=>u.delete(p))}),[r,u,n]);return s&&m&&(g={...g}),y.useMemo(()=>{u.forEach((p,v)=>u.set(v,!1))},[r]),y.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),o==="popLayout"&&(t=i.jsx(Hce,{isPresent:r,anchorX:l,root:c,children:t})),i.jsx(wN.Provider,{value:g,children:t})};function qce(){return new Map}function JY(t=!0){const e=y.useContext(wN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,s=y.useId();y.useEffect(()=>{if(t)return a(s)},[t]);const o=y.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,o]:[!0]}const pw=t=>t.key||"";function lR(t){const e=[];return y.Children.forEach(t,r=>{y.isValidElement(r)&&e.push(r)}),e}const sr=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:s="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[u,f]=JY(o),m=y.useMemo(()=>lR(t),[t]),g=o&&!u?[]:m.map(pw),p=y.useRef(!0),v=y.useRef(m),w=uE(()=>new Map),[b,N]=y.useState(m),[k,S]=y.useState(m);iY(()=>{p.current=!1,v.current=m;for(let M=0;M<k.length;M++){const R=pw(k[M]);g.includes(R)?w.delete(R):w.get(R)!==!0&&w.set(R,!1)}},[k,g.length,g.join("-")]);const A=[];if(m!==b){let M=[...m];for(let R=0;R<k.length;R++){const L=k[R],I=pw(L);g.includes(I)||(M.splice(R,0,L),A.push(L))}return s==="wait"&&A.length&&(M=A),S(lR(M)),N(m),null}const{forceRender:_}=y.useContext(cE);return i.jsx(i.Fragment,{children:k.map(M=>{const R=pw(M),L=o&&!u?!1:m===k||g.includes(R),I=()=>{if(w.has(R))w.set(R,!0);else return;let B=!0;w.forEach(D=>{D||(B=!1)}),B&&(_==null||_(),S(v.current),o&&(f==null||f()),n&&n())};return i.jsx(zce,{isPresent:L,initial:!p.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:s,root:c,onExitComplete:L?void 0:I,anchorX:l,children:M},R)})})},XY=y.createContext({strict:!1}),cR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Dg={};for(const t in cR)Dg[t]={isEnabled:e=>cR[t].some(r=>!!e[r])};function Uce(t){for(const e in t)Dg[e]={...Dg[e],...t[e]}}const Wce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function rj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Wce.has(t)}let QY=t=>!rj(t);function Vce(t){typeof t=="function"&&(QY=e=>e.startsWith("on")?!rj(e):t(e))}try{Vce(require("@emotion/is-prop-valid").default)}catch{}function Gce(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(QY(a)||r===!0&&rj(a)||!e&&!rj(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const jN=y.createContext({});function NN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Bb(t){return typeof t=="string"||Array.isArray(t)}const PE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],LE=["initial",...PE];function SN(t){return NN(t.animate)||LE.some(e=>Bb(t[e]))}function ZY(t){return!!(SN(t)||t.variants)}function Yce(t,e){if(SN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Bb(r)?r:void 0,animate:Bb(n)?n:void 0}}return t.inherit!==!1?e:{}}function Kce(t){const{initial:e,animate:r}=Yce(t,y.useContext(jN));return y.useMemo(()=>({initial:e,animate:r}),[uR(e),uR(r)])}function uR(t){return Array.isArray(t)?t.join(" "):t}const Hb={};function Jce(t){for(const e in t)Hb[e]=t[e],bE(e)&&(Hb[e].isCSSVariable=!0)}function eK(t,{layout:e,layoutId:r}){return kx.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Hb[t]||t==="opacity")}const Xce={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Qce=Sx.length;function Zce(t,e,r){let n="",a=!0;for(let s=0;s<Qce;s++){const o=Sx[s],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const u=UY(l,ME[o]);if(!c){a=!1;const f=Xce[o]||o;n+=`${f}(${u}) `}r&&(e[o]=u)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function RE(t,e,r){const{style:n,vars:a,transformOrigin:s}=t;let o=!1,l=!1;for(const c in e){const u=e[c];if(kx.has(c)){o=!0;continue}else if(bE(c)){a[c]=u;continue}else{const f=UY(u,ME[c]);c.startsWith("origin")?(l=!0,s[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=Zce(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${c} ${u} ${f}`}}const IE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function tK(t,e,r){for(const n in e)!mo(e[n])&&!eK(n,r)&&(t[n]=e[n])}function eue({transformTemplate:t},e){return y.useMemo(()=>{const r=IE();return RE(r,e,t),Object.assign({},r.vars,r.style)},[e])}function tue(t,e){const r=t.style||{},n={};return tK(n,r,t),Object.assign(n,eue(t,e)),n}function rue(t,e){const r={},n=tue(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const nue={offset:"stroke-dashoffset",array:"stroke-dasharray"},aue={offset:"strokeDashoffset",array:"strokeDasharray"};function iue(t,e,r=1,n=0,a=!0){t.pathLength=1;const s=a?nue:aue;t[s.offset]=Jr.transform(-n);const o=Jr.transform(e),l=Jr.transform(r);t[s.array]=`${o} ${l}`}function rK(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:s=1,pathOffset:o=0,...l},c,u,f){if(RE(t,l,u),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),a!==void 0&&iue(m,a,s,o,!1)}const nK=()=>({...IE(),attrs:{}}),aK=t=>typeof t=="string"&&t.toLowerCase()==="svg";function sue(t,e,r,n){const a=y.useMemo(()=>{const s=nK();return rK(s,e,aK(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};tK(s,t.style,t),a.style={...s,...a.style}}return a}const oue=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FE(t){return typeof t!="string"||t.includes("-")?!1:!!(oue.indexOf(t)>-1||/[A-Z]/u.test(t))}function lue(t,e,r,{latestValues:n},a,s=!1){const l=(FE(t)?sue:rue)(e,n,a,t),c=Gce(e,typeof t=="string",s),u=t!==y.Fragment?{...c,...l,ref:r}:{},{children:f}=e,m=y.useMemo(()=>mo(f)?f.get():f,[f]);return y.createElement(t,{...u,children:m})}function dR(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function $E(t,e,r,n){if(typeof e=="function"){const[a,s]=dR(n);e=e(r!==void 0?r:t.custom,a,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,s]=dR(n);e=e(r!==void 0?r:t.custom,a,s)}return e}function S2(t){return mo(t)?t.get():t}function cue({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:uue(r,n,a,t),renderState:e()}}function uue(t,e,r,n){const a={},s=n(t,{});for(const g in s)a[g]=S2(s[g]);let{initial:o,animate:l}=t;const c=SN(t),u=ZY(t);e&&u&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!NN(m)){const g=Array.isArray(m)?m:[m];for(let p=0;p<g.length;p++){const v=$E(t,g[p]);if(v){const{transitionEnd:w,transition:b,...N}=v;for(const k in N){let S=N[k];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(a[k]=S)}for(const k in w)a[k]=w[k]}}}return a}const iK=t=>(e,r)=>{const n=y.useContext(jN),a=y.useContext(wN),s=()=>cue(t,e,n,a);return r?s():uE(s)};function BE(t,e,r){var s;const{style:n}=t,a={};for(const o in n)(mo(n[o])||e.style&&mo(e.style[o])||eK(o,t)||((s=r==null?void 0:r.getValue(o))==null?void 0:s.liveStyle)!==void 0)&&(a[o]=n[o]);return a}const due=iK({scrapeMotionValuesFromProps:BE,createRenderState:IE});function sK(t,e,r){const n=BE(t,e,r);for(const a in t)if(mo(t[a])||mo(e[a])){const s=Sx.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[s]=t[a]}return n}const fue=iK({scrapeMotionValuesFromProps:sK,createRenderState:nK}),hue=Symbol.for("motionComponentSymbol");function ng(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function mue(t,e,r){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):ng(r)&&(r.current=n))},[e])}const HE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),pue="framerAppearId",oK="data-"+HE(pue),lK=y.createContext({});function gue(t,e,r,n,a){var w,b;const{visualElement:s}=y.useContext(jN),o=y.useContext(XY),l=y.useContext(wN),c=y.useContext(DE).reducedMotion,u=y.useRef(null);n=n||o.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=u.current,m=y.useContext(lK);f&&!f.projection&&a&&(f.type==="html"||f.type==="svg")&&xue(u.current,r,a,m);const g=y.useRef(!1);y.useInsertionEffect(()=>{f&&g.current&&f.update(r,l)});const p=r[oK],v=y.useRef(!!p&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,p))&&((b=window.MotionHasOptimisedAnimation)==null?void 0:b.call(window,p)));return iY(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),y.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,p)}),v.current=!1),f.enteringChildren=void 0)}),f}function xue(t,e,r,n){const{layoutId:a,layout:s,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:cK(t.parent)),t.projection.setOptions({layoutId:a,layout:s,alwaysMeasureLayout:!!o||l&&ng(l),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:u})}function cK(t){if(t)return t.options.allowProjection!==!1?t.projection:cK(t.parent)}function uC(t,{forwardMotionProps:e=!1}={},r,n){r&&Uce(r);const a=FE(t)?fue:due;function s(l,c){let u;const f={...y.useContext(DE),...l,layoutId:yue(l)},{isStatic:m}=f,g=Kce(l),p=a(l,m);if(!m&&dE){bue();const v=vue(f);u=v.MeasureLayout,g.visualElement=gue(t,p,f,n,v.ProjectionNode)}return i.jsxs(jN.Provider,{value:g,children:[u&&g.visualElement?i.jsx(u,{visualElement:g.visualElement,...f}):null,lue(t,l,mue(p,g.visualElement,c),p,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=y.forwardRef(s);return o[hue]=t,o}function yue({layoutId:t}){const e=y.useContext(cE).id;return e&&t!==void 0?e+"-"+t:t}function bue(t,e){y.useContext(XY).strict}function vue(t){const{drag:e,layout:r}=Dg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function wue(t,e){if(typeof Proxy>"u")return uC;const r=new Map,n=(s,o)=>uC(s,o,t,e),a=(s,o)=>n(s,o);return new Proxy(a,{get:(s,o)=>o==="create"?n:(r.has(o)||r.set(o,uC(o,void 0,t,e)),r.get(o))})}function uK({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function jue({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Nue(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function dC(t){return t===void 0||t===1}function pM({scale:t,scaleX:e,scaleY:r}){return!dC(t)||!dC(e)||!dC(r)}function qm(t){return pM(t)||dK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function dK(t){return fR(t.x)||fR(t.y)}function fR(t){return t&&t!=="0%"}function nj(t,e,r){const n=t-r,a=e*n;return r+a}function hR(t,e,r,n,a){return a!==void 0&&(t=nj(t,a,n)),nj(t,r,n)+e}function gM(t,e=0,r=1,n,a){t.min=hR(t.min,e,r,n,a),t.max=hR(t.max,e,r,n,a)}function fK(t,{x:e,y:r}){gM(t.x,e.translate,e.scale,e.originPoint),gM(t.y,r.translate,r.scale,r.originPoint)}const mR=.999999999999,pR=1.0000000000001;function Sue(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let s,o;for(let l=0;l<a;l++){s=r[l],o=s.projectionDelta;const{visualElement:c}=s.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&ig(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fK(t,o)),n&&qm(s.latestValues)&&ig(t,s.latestValues))}e.x<pR&&e.x>mR&&(e.x=1),e.y<pR&&e.y>mR&&(e.y=1)}function ag(t,e){t.min=t.min+e,t.max=t.max+e}function gR(t,e,r,n,a=.5){const s=li(t.min,t.max,a);gM(t,e,r,s,n)}function ig(t,e){gR(t.x,e.x,e.scaleX,e.scale,e.originX),gR(t.y,e.y,e.scaleY,e.scale,e.originY)}function hK(t,e){return uK(Nue(t.getBoundingClientRect(),e))}function kue(t,e,r){const n=hK(t,r),{scroll:a}=e;return a&&(ag(n.x,a.offset.x),ag(n.y,a.offset.y)),n}const xR=()=>({translate:0,scale:1,origin:0,originPoint:0}),sg=()=>({x:xR(),y:xR()}),yR=()=>({min:0,max:0}),Ri=()=>({x:yR(),y:yR()}),xM={current:null},mK={current:!1};function Cue(){if(mK.current=!0,!!dE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>xM.current=t.matches;t.addEventListener("change",e),e()}else xM.current=!1}const _ue=new WeakMap;function Aue(t,e,r){for(const n in e){const a=e[n],s=r[n];if(mo(a))t.addValue(n,a);else if(mo(s))t.addValue(n,Eg(a,{owner:t}));else if(s!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,Eg(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const bR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Tue{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:s,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=AE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=ol.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ei.render(this.render,!1,!0))};const{latestValues:c,renderState:u}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=l,this.blockInitialAnimation=!!s,this.isControllingVariants=SN(r),this.isVariantNode=ZY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const p=m[g];c[g]!==void 0&&mo(p)&&p.set(c[g])}}mount(e){var r;this.current=e,_ue.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,a)=>this.bindToMotionValue(a,n)),mK.current||Cue(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:xM.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),em(this.notifyUpdate),em(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=kx.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ei.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Dg){const r=Dg[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ri()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<bR.length;n++){const a=bR[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const s="on"+a,o=e[s];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=Aue(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Eg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(sY(n)||lY(n))?n=parseFloat(n):!Ice(n)&&tm.test(r)&&(n=qY(e,r)),this.setBaseTarget(e,mo(n)?n.get():n)),mo(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=$E(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!mo(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new gE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){OE.render(this.render)}}class pK extends Tue{constructor(){super(...arguments),this.KeyframeResolver=kce}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;mo(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function gK(t,{style:e,vars:r},n,a){const s=t.style;let o;for(o in e)s[o]=e[o];a==null||a.applyProjectionStyles(s,n);for(o in r)s.setProperty(o,r[o])}function Mue(t){return window.getComputedStyle(t)}class Oue extends pK{constructor(){super(...arguments),this.type="html",this.renderInstance=gK}readValueFromInstance(e,r){var n;if(kx.has(r))return(n=this.projection)!=null&&n.isProjecting?lM(r):Ule(e,r);{const a=Mue(e),s=(bE(r)?a.getPropertyValue(r):a[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return hK(e,r)}build(e,r,n){RE(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return BE(e,r,n)}}const xK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Eue(t,e,r,n){gK(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(xK.has(a)?a:HE(a),e.attrs[a])}class Due extends pK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ri}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(kx.has(r)){const n=zY(r);return n&&n.default||0}return r=xK.has(r)?r:HE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return sK(e,r,n)}build(e,r,n){rK(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){Eue(e,r,n,a)}mount(e){this.isSVGTag=aK(e.tagName),super.mount(e)}}const Pue=(t,e)=>FE(t)?new Due(e):new Oue(e,{allowProjection:t!==y.Fragment});function mg(t,e,r){const n=t.getProps();return $E(n,e,r!==void 0?r:n.custom,t)}const yM=t=>Array.isArray(t);function Lue(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Eg(r))}function Rue(t){return yM(t)?t[t.length-1]||0:t}function Iue(t,e){const r=mg(t,e);let{transitionEnd:n={},transition:a={},...s}=r||{};s={...s,...n};for(const o in s){const l=Rue(s[o]);Lue(t,o,l)}}function Fue(t){return!!(mo(t)&&t.add)}function bM(t,e){const r=t.getValue("willChange");if(Fue(r))return r.add(e);if(!r&&Tf.WillChange){const n=new Tf.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function yK(t){return t.props[oK]}const $ue=t=>t!==null;function Bue(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter($ue),s=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[s]}const Hue={type:"spring",stiffness:500,damping:25,restSpeed:10},zue=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),que={type:"keyframes",duration:.8},Uue={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Wue=(t,{keyframes:e})=>e.length>2?que:kx.has(t)?t.startsWith("scale")?zue(e[1]):Hue:Uue;function Vue({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:s,repeatType:o,repeatDelay:l,from:c,elapsed:u,...f}){return!!Object.keys(f).length}const zE=(t,e,r,n={},a,s)=>o=>{const l=TE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Zu(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-u,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:s?void 0:a};Vue(l)||Object.assign(f,Wue(t,f)),f.duration&&(f.duration=Zu(f.duration)),f.repeatDelay&&(f.repeatDelay=Zu(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(hM(f),f.delay===0&&(m=!0)),(Tf.instantAnimations||Tf.skipAnimations)&&(m=!0,hM(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!s&&e.get()!==void 0){const g=Bue(f.keyframes,l);if(g!==void 0){ei.update(()=>{f.onUpdate(g),f.onComplete()});return}}return l.isSync?new _E(f):new hce(f)};function Gue({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function bK(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(s=n);const c=[],u=a&&t.animationState&&t.animationState.getState()[a];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),g=l[f];if(g===void 0||u&&Gue(u,f))continue;const p={delay:r,...TE(s||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===v&&!p.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=yK(t);if(N){const k=window.MotionHandoffAnimation(N,f,ei);k!==null&&(p.startTime=k,w=!0)}}bM(t,f),m.start(zE(f,m,g,t.shouldReduceMotion&&$Y.has(f)?{type:!1}:p,t,w));const b=m.animation;b&&c.push(b)}return o&&Promise.all(c).then(()=>{ei.update(()=>{o&&Iue(t,o)})}),c}function vK(t,e,r,n=0,a=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(s,o):a===1?s*n:l-s*n}function vM(t,e,r={}){var c;const n=mg(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const s=n?()=>Promise.all(bK(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:g}=a;return Yue(t,e,u,f,m,g,r)}:()=>Promise.resolve(),{when:l}=a;if(l){const[u,f]=l==="beforeChildren"?[s,o]:[o,s];return u().then(()=>f())}else return Promise.all([s(),o(r.delay)])}function Yue(t,e,r=0,n=0,a=0,s=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(vM(c,e,{...o,delay:r+(typeof n=="function"?0:n)+vK(t.variantChildren,c,n,a,s)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Kue(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(s=>vM(t,s,r));n=Promise.all(a)}else if(typeof e=="string")n=vM(t,e,r);else{const a=typeof e=="function"?mg(t,e,r.custom):e;n=Promise.all(bK(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function wK(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Jue=LE.length;function jK(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?jK(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Jue;r++){const n=LE[r],a=t.props[n];(Bb(a)||a===!1)&&(e[n]=a)}return e}const Xue=[...PE].reverse(),Que=PE.length;function Zue(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Kue(t,r,n)))}function ede(t){let e=Zue(t),r=vR(),n=!0;const a=c=>(u,f)=>{var g;const m=mg(t,f,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:p,transitionEnd:v,...w}=m;u={...u,...w,...v}}return u};function s(c){e=c(t)}function o(c){const{props:u}=t,f=jK(t.parent)||{},m=[],g=new Set;let p={},v=1/0;for(let b=0;b<Que;b++){const N=Xue[b],k=r[N],S=u[N]!==void 0?u[N]:f[N],A=Bb(S),_=N===c?k.isActive:null;_===!1&&(v=b);let M=S===f[N]&&S!==u[N]&&A;if(M&&n&&t.manuallyAnimateOnMount&&(M=!1),k.protectedKeys={...p},!k.isActive&&_===null||!S&&!k.prevProp||NN(S)||typeof S=="boolean")continue;const R=tde(k.prevProp,S);let L=R||N===c&&k.isActive&&!M&&A||b>v&&A,I=!1;const B=Array.isArray(S)?S:[S];let D=B.reduce(a(N),{});_===!1&&(D={});const{prevResolvedValues:E={}}=k,H={...E,...D},V=F=>{L=!0,g.has(F)&&(I=!0,g.delete(F)),k.needsAnimating[F]=!0;const z=t.getValue(F);z&&(z.liveStyle=!1)};for(const F in H){const z=D[F],J=E[F];if(p.hasOwnProperty(F))continue;let oe=!1;yM(z)&&yM(J)?oe=!wK(z,J):oe=z!==J,oe?z!=null?V(F):g.add(F):z!==void 0&&g.has(F)?V(F):k.protectedKeys[F]=!0}k.prevProp=S,k.prevResolvedValues=D,k.isActive&&(p={...p,...D}),n&&t.blockInitialAnimation&&(L=!1);const Y=M&&R;L&&(!Y||I)&&m.push(...B.map(F=>{const z={type:N};if(typeof F=="string"&&n&&!Y&&t.manuallyAnimateOnMount&&t.parent){const{parent:J}=t,oe=mg(J,F);if(J.enteringChildren&&oe){const{delayChildren:K}=oe.transition||{};z.delay=vK(J.enteringChildren,t,K)}}return{animation:F,options:z}}))}if(g.size){const b={};if(typeof u.initial!="boolean"){const N=mg(t,Array.isArray(u.initial)?u.initial[0]:u.initial);N&&N.transition&&(b.transition=N.transition)}g.forEach(N=>{const k=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),b[N]=k??null}),m.push({animation:b})}let w=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(m):Promise.resolve()}function l(c,u){var m;if(r[c].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var p;return(p=g.animationState)==null?void 0:p.setActive(c,u)}),r[c].isActive=u;const f=o(c);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:s,getState:()=>r,reset:()=>{r=vR(),n=!0}}}function tde(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!wK(e,t):!1}function Fm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function vR(){return{animate:Fm(!0),whileInView:Fm(),whileHover:Fm(),whileTap:Fm(),whileDrag:Fm(),whileFocus:Fm(),exit:Fm()}}class um{constructor(e){this.isMounted=!1,this.node=e}update(){}}class rde extends um{constructor(e){super(e),e.animationState||(e.animationState=ede(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();NN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let nde=0;class ade extends um{constructor(){super(...arguments),this.id=nde++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const ide={animation:{Feature:rde},exit:{Feature:ade}};function zb(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Jv(t){return{point:{x:t.pageX,y:t.pageY}}}const sde=t=>e=>EE(e)&&t(e,Jv(e));function fb(t,e,r,n){return zb(t,e,sde(r),n)}const NK=1e-4,ode=1-NK,lde=1+NK,SK=.01,cde=0-SK,ude=0+SK;function Oo(t){return t.max-t.min}function dde(t,e,r){return Math.abs(t-e)<=r}function wR(t,e,r,n=.5){t.origin=n,t.originPoint=li(e.min,e.max,t.origin),t.scale=Oo(r)/Oo(e),t.translate=li(r.min,r.max,t.origin)-t.originPoint,(t.scale>=ode&&t.scale<=lde||isNaN(t.scale))&&(t.scale=1),(t.translate>=cde&&t.translate<=ude||isNaN(t.translate))&&(t.translate=0)}function hb(t,e,r,n){wR(t.x,e.x,r.x,n?n.originX:void 0),wR(t.y,e.y,r.y,n?n.originY:void 0)}function jR(t,e,r){t.min=r.min+e.min,t.max=t.min+Oo(e)}function fde(t,e,r){jR(t.x,e.x,r.x),jR(t.y,e.y,r.y)}function NR(t,e,r){t.min=e.min-r.min,t.max=t.min+Oo(e)}function mb(t,e,r){NR(t.x,e.x,r.x),NR(t.y,e.y,r.y)}function ac(t){return[t("x"),t("y")]}const kK=({current:t})=>t?t.ownerDocument.defaultView:null,SR=(t,e)=>Math.abs(t-e);function hde(t,e){const r=SR(t.x,e.x),n=SR(t.y,e.y);return Math.sqrt(r**2+n**2)}class CK{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:s=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=hC(this.lastMoveEventInfo,this.history),p=this.startEvent!==null,v=hde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!p&&!v)return;const{point:w}=g,{timestamp:b}=Vs;this.history.push({...w,timestamp:b});const{onStart:N,onMove:k}=this.handlers;p||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,p)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=fC(p,this.transformPagePoint),ei.update(this.updatePoint,!0)},this.handlePointerUp=(g,p)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=hC(g.type==="pointercancel"?this.lastMoveEventInfo:fC(p,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,N),w&&w(g,N)},!EE(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const l=Jv(e),c=fC(l,this.transformPagePoint),{point:u}=c,{timestamp:f}=Vs;this.history=[{...u,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,hC(c,this.history)),this.removeListeners=Gv(fb(this.contextWindow,"pointermove",this.handlePointerMove),fb(this.contextWindow,"pointerup",this.handlePointerUp),fb(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),em(this.updatePoint)}}function fC(t,e){return e?{point:e(t.point)}:t}function kR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function hC({point:t},e){return{point:t,delta:kR(t,_K(e)),offset:kR(t,mde(e)),velocity:pde(e,.1)}}function mde(t){return t[0]}function _K(t){return t[t.length-1]}function pde(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=_K(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Zu(e)));)r--;if(!n)return{x:0,y:0};const s=fc(a.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(a.x-n.x)/s,y:(a.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function gde(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?li(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?li(r,t,n.max):Math.min(t,r)),t}function CR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function xde(t,{top:e,left:r,bottom:n,right:a}){return{x:CR(t.x,r,a),y:CR(t.y,e,n)}}function _R(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function yde(t,e){return{x:_R(t.x,e.x),y:_R(t.y,e.y)}}function bde(t,e){let r=.5;const n=Oo(t),a=Oo(e);return a>n?r=Ib(e.min,e.max-n,t.min):n>a&&(r=Ib(t.min,t.max-a,e.min)),Af(0,1,r)}function vde(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const wM=.35;function wde(t=wM){return t===!1?t=0:t===!0&&(t=wM),{x:AR(t,"left","right"),y:AR(t,"top","bottom")}}function AR(t,e,r){return{min:TR(t,e),max:TR(t,r)}}function TR(t,e){return typeof t=="number"?t:t[e]||0}const jde=new WeakMap;class Nde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ri(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jv(m).point)},o=(m,g)=>{const{drag:p,dragPropagation:v,onDragStart:w}=this.getProps();if(p&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Tce(p),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ac(N=>{let k=this.getAxisMotionValue(N).get()||0;if(ed.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[N];A&&(k=Oo(A)*(parseFloat(k)/100))}}this.originPoint[N]=k}),w&&ei.postRender(()=>w(m,g)),bM(this.visualElement,"transform");const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:p,dragDirectionLock:v,onDirectionLock:w,onDrag:b}=this.getProps();if(!p&&!this.openDragLock)return;const{offset:N}=g;if(v&&this.currentDirection===null){this.currentDirection=Sde(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),b&&b(m,g)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>ac(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new CK(e,{onSessionStart:s,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:kK(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ei.postRender(()=>l(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!gw(e,a,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=gde(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,a=this.constraints;e&&ng(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=xde(n.layoutBox,e):this.constraints=!1,this.elastic=wde(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ac(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=vde(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!ng(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const s=kue(n,a.root,this.visualElement.getTransformPagePoint());let o=yde(a.layout.layoutBox,s);if(r){const l=r(jue(o));this.hasMutatedConstraints=!!l,l&&(o=uK(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},u=ac(f=>{if(!gw(f,r,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const g=a?200:1e6,p=a?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(u).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return bM(this.visualElement,e),n.start(zE(e,n,0,r,this.visualElement,!1))}stopAnimation(){ac(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ac(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ac(r=>{const{drag:n}=this.getProps();if(!gw(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,s=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:l}=a.layout.layoutBox[r];s.set(e[r]-li(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!ng(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};ac(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();a[o]=bde({min:c,max:c},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ac(o=>{if(!gw(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:u}=this.constraints[o];l.set(li(c,u,a[o]))})}addListeners(){if(!this.visualElement.current)return;jde.set(this.visualElement,this);const e=this.visualElement.current,r=fb(e,"pointerdown",c=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();ng(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,s=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ei.read(n);const o=zb(window,"resize",()=>this.scalePositionWithinConstraints()),l=a.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ac(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),s(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:s=!1,dragElastic:o=wM,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:s,dragElastic:o,dragMomentum:l}}}function gw(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Sde(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class kde extends um{constructor(e){super(e),this.removeGroupControls=pc,this.removeListeners=pc,this.controls=new Nde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pc}unmount(){this.removeGroupControls(),this.removeListeners()}}const MR=t=>(e,r)=>{t&&ei.postRender(()=>t(e,r))};class Cde extends um{constructor(){super(...arguments),this.removePointerDownListener=pc}onPointerDown(e){this.session=new CK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:MR(e),onStart:MR(r),onMove:n,onEnd:(s,o)=>{delete this.session,a&&ei.postRender(()=>a(s,o))}}}mount(){this.removePointerDownListener=fb(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const k2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function OR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Cy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Jr.test(t))t=parseFloat(t);else return t;const r=OR(t,e.target.x),n=OR(t,e.target.y);return`${r}% ${n}%`}},_de={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=tm.parse(t);if(a.length>5)return n;const s=tm.createTransformer(t),o=typeof a[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;a[0+o]/=l,a[1+o]/=c;const u=li(l,c,.5);return typeof a[2+o]=="number"&&(a[2+o]/=u),typeof a[3+o]=="number"&&(a[3+o]/=u),s(a)}};let mC=!1;class Ade extends y.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:s}=e;Jce(Tde),s&&(r.group&&r.group.add(s),n&&n.register&&a&&n.register(s),mC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),k2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:s}=this.props,{projection:o}=n;return o&&(o.isPresent=s,mC=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==s?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||ei.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),OE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;mC=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AK(t){const[e,r]=JY(),n=y.useContext(cE);return i.jsx(Ade,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(lK),isPresent:e,safeToRemove:r})}const Tde={borderRadius:{...Cy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Cy,borderTopRightRadius:Cy,borderBottomLeftRadius:Cy,borderBottomRightRadius:Cy,boxShadow:_de};function Mde(t,e,r){const n=mo(t)?t:Eg(t);return n.start(zE("",n,e,r)),n.animation}const Ode=(t,e)=>t.depth-e.depth;class Ede{constructor(){this.children=[],this.isDirty=!1}add(e){fE(this.children,e),this.isDirty=!0}remove(e){hE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Ode),this.isDirty=!1,this.children.forEach(e)}}function Dde(t,e){const r=ol.now(),n=({timestamp:a})=>{const s=a-r;s>=e&&(em(n),t(s-e))};return ei.setup(n,!0),()=>em(n)}const TK=["TopLeft","TopRight","BottomLeft","BottomRight"],Pde=TK.length,ER=t=>typeof t=="string"?parseFloat(t):t,DR=t=>typeof t=="number"||Jr.test(t);function Lde(t,e,r,n,a,s){a?(t.opacity=li(0,r.opacity??1,Rde(n)),t.opacityExit=li(e.opacity??1,0,Ide(n))):s&&(t.opacity=li(e.opacity??1,r.opacity??1,n));for(let o=0;o<Pde;o++){const l=`border${TK[o]}Radius`;let c=PR(e,l),u=PR(r,l);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||DR(c)===DR(u)?(t[l]=Math.max(li(ER(c),ER(u),n),0),(ed.test(u)||ed.test(c))&&(t[l]+="%")):t[l]=u}(e.rotate||r.rotate)&&(t.rotate=li(e.rotate||0,r.rotate||0,n))}function PR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Rde=MK(0,.5,gY),Ide=MK(.5,.95,pc);function MK(t,e,r){return n=>n<t?0:n>e?1:r(Ib(t,e,n))}function LR(t,e){t.min=e.min,t.max=e.max}function Zl(t,e){LR(t.x,e.x),LR(t.y,e.y)}function RR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function IR(t,e,r,n,a){return t-=e,t=nj(t,1/r,n),a!==void 0&&(t=nj(t,1/a,n)),t}function Fde(t,e=0,r=1,n=.5,a,s=t,o=t){if(ed.test(e)&&(e=parseFloat(e),e=li(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=li(s.min,s.max,n);t===s&&(l-=e),t.min=IR(t.min,e,r,l,a),t.max=IR(t.max,e,r,l,a)}function FR(t,e,[r,n,a],s,o){Fde(t,e[r],e[n],e[a],e.scale,s,o)}const $de=["x","scaleX","originX"],Bde=["y","scaleY","originY"];function $R(t,e,r,n){FR(t.x,e,$de,r?r.x:void 0,n?n.x:void 0),FR(t.y,e,Bde,r?r.y:void 0,n?n.y:void 0)}function BR(t){return t.translate===0&&t.scale===1}function OK(t){return BR(t.x)&&BR(t.y)}function HR(t,e){return t.min===e.min&&t.max===e.max}function Hde(t,e){return HR(t.x,e.x)&&HR(t.y,e.y)}function zR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function EK(t,e){return zR(t.x,e.x)&&zR(t.y,e.y)}function qR(t){return Oo(t.x)/Oo(t.y)}function UR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class zde{constructor(){this.members=[]}add(e){fE(this.members,e),e.scheduleRender()}remove(e){if(hE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const s=this.members[a];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function qde(t,e,r){let n="";const a=t.x.translate/e.x,s=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((a||s||o)&&(n=`translate3d(${a}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:m,rotateY:g,skewX:p,skewY:v}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),p&&(n+=`skewX(${p}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const pC=["","X","Y","Z"],Ude=1e3;let Wde=0;function gC(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function DK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=yK(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ei,!(a||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&DK(n)}function PK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Wde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Yde),this.nodes.forEach(Qde),this.nodes.forEach(Zde),this.nodes.forEach(Kde)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Ede)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new gE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=KY(o)&&!Lce(o),this.instance=o;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const g=()=>this.root.updateBlockedByResize=!1;ei.read(()=>{m=window.innerWidth}),t(o,()=>{const p=window.innerWidth;p!==m&&(m=p,this.root.updateBlockedByResize=!0,f&&f(),f=Dde(g,250),k2.hasAnimatedSinceResize&&(k2.hasAnimatedSinceResize=!1,this.nodes.forEach(GR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||u.getDefaultTransition()||afe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:b}=u.getProps(),N=!this.targetLayout||!EK(this.targetLayout,p),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...TE(v,"layout"),onPlay:w,onComplete:b};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,k)}else m||GR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),em(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(efe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&DK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(WR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(VR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Xde),this.nodes.forEach(Vde),this.nodes.forEach(Gde)):this.nodes.forEach(VR),this.clearAllSnapshots();const l=ol.now();Vs.delta=Af(0,1e3/60,l-Vs.timestamp),Vs.timestamp=l,Vs.isProcessing=!0,aC.update.process(Vs),aC.preRender.process(Vs),aC.render.process(Vs),Vs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,OE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Jde),this.sharedNodes.forEach(tfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ei.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ei.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Oo(this.snapshot.measuredBox.x)&&!Oo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ri(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!OK(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;o&&this.instance&&(l||qm(this.latestValues)||f)&&(a(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),ife(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:o}=this.options;if(!o)return Ri();const l=o.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(sfe))){const{scroll:f}=this.root;f&&(ag(l.x,f.offset.x),ag(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Ri();if(Zl(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:m,options:g}=f;f!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Zl(l,o),ag(l.x,m.offset.x),ag(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Ri();Zl(c,o);for(let u=0;u<this.path.length;u++){const f=this.path[u];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ig(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),qm(f.latestValues)&&ig(c,f.latestValues)}return qm(this.latestValues)&&ig(c,this.latestValues),c}removeTransform(o){const l=Ri();Zl(l,o);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!qm(u.latestValues))continue;pM(u.latestValues)&&u.updateSnapshot();const f=Ri(),m=u.measurePageBox();Zl(f,m),$R(l,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return qm(this.latestValues)&&$R(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Vs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Vs.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ri(),this.relativeTargetOrigin=Ri(),mb(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ri(),this.targetWithTransforms=Ri()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),fde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zl(this.target,this.layout.layoutBox),fK(this.target,this.targetDelta)):Zl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ri(),this.relativeTargetOrigin=Ri(),mb(this.relativeTargetOrigin,this.target,p.target),Zl(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||pM(this.parent.latestValues)||dK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Vs.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Zl(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;Sue(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Ri());const{target:p}=o;if(!p){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(RR(this.prevProjectionDelta.x,this.projectionDelta.x),RR(this.prevProjectionDelta.y,this.projectionDelta.y)),hb(this.projectionDelta,this.layoutCorrected,p,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!UR(this.projectionDelta.x,this.prevProjectionDelta.x)||!UR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=sg(),this.projectionDelta=sg(),this.projectionDeltaWithTransform=sg()}setAnimationOrigin(o,l=!1){const c=this.snapshot,u=c?c.latestValues:{},f={...this.latestValues},m=sg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Ri(),p=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=p!==v,b=this.getStack(),N=!b||b.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(nfe));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const _=A/1e3;YR(m.x,o.x,_),YR(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(mb(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),rfe(this.relativeTarget,this.relativeTargetOrigin,g,_),S&&Hde(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Ri()),Zl(S,this.relativeTarget)),w&&(this.animationValues=f,Lde(f,u,this.latestValues,_,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,u;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(u=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||u.stop(),this.pendingAnimation&&(em(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ei.update(()=>{k2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Eg(0)),this.currentAnimation=Mde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Ude),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:u,latestValues:f}=o;if(!(!l||!c||!u)){if(this!==o&&this.layout&&u&&LK(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||Ri();const m=Oo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=Oo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Zl(l,c),ig(l,f),hb(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new zde),this.sharedNodes.get(o).add(l);const u=l.options.initialPromotionConfig;l.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const u={};c.z&&gC("z",o,u,this.animationValues);for(let f=0;f<pC.length;f++)gC(`rotate${pC[f]}`,o,u,this.animationValues),gC(`skew${pC[f]}`,o,u,this.animationValues);o.render();for(const f in u)o.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=S2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=S2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!qm(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=qde(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:g,y:p}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${p.origin*100}% 0`,u.animationValues?o.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Hb){if(f[v]===void 0)continue;const{correct:w,applyTo:b,isCSSVariable:N}=Hb[v],k=m==="none"?f[v]:w(f[v],u);if(b){const S=b.length;for(let A=0;A<S;A++)o[b[A]]=k}else N?this.options.visualElement.renderState.vars[v]=k:o[v]=k}this.options.layoutId&&(o.pointerEvents=u===this?S2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(WR),this.root.sharedNodes.clear()}}}function Vde(t){t.updateLayout()}function Gde(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:a}=t.layout,{animationType:s}=t.options,o=e.source!==t.layout.source;s==="size"?ac(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],p=Oo(g);g.min=n[m].min,g.max=g.min+p}):LK(s,e.layoutBox,n)&&ac(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],p=Oo(n[m]);g.max=g.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+p)});const l=sg();hb(l,n,e.layoutBox);const c=sg();o?hb(c,t.applyTransform(a,!0),e.measuredBox):hb(c,n,e.layoutBox);const u=!OK(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:p}=m;if(g&&p){const v=Ri();mb(v,e.layoutBox,g.layoutBox);const w=Ri();mb(w,n,p.layoutBox),EK(v,w)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Yde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Kde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Jde(t){t.clearSnapshot()}function WR(t){t.clearMeasurements()}function VR(t){t.isLayoutDirty=!1}function Xde(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function GR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Qde(t){t.resolveTargetDelta()}function Zde(t){t.calcProjection()}function efe(t){t.resetSkewAndRotation()}function tfe(t){t.removeLeadSnapshot()}function YR(t,e,r){t.translate=li(e.translate,0,r),t.scale=li(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function KR(t,e,r,n){t.min=li(e.min,r.min,n),t.max=li(e.max,r.max,n)}function rfe(t,e,r,n){KR(t.x,e.x,r.x,n),KR(t.y,e.y,r.y,n)}function nfe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const afe={duration:.45,ease:[.4,0,.1,1]},JR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),XR=JR("applewebkit/")&&!JR("chrome/")?Math.round:pc;function QR(t){t.min=XR(t.min),t.max=XR(t.max)}function ife(t){QR(t.x),QR(t.y)}function LK(t,e,r){return t==="position"||t==="preserve-aspect"&&!dde(qR(e),qR(r),.2)}function sfe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ofe=PK({attachResizeListener:(t,e)=>zb(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),xC={current:void 0},RK=PK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!xC.current){const t=new ofe({});t.mount(window),t.setOptions({layoutScroll:!0}),xC.current=t}return xC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),lfe={pan:{Feature:Cde},drag:{Feature:kde,ProjectionNode:RK,MeasureLayout:AK}};function ZR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,s=n[a];s&&ei.postRender(()=>s(e,Jv(e)))}class cfe extends um{mount(){const{current:e}=this.node;e&&(this.unmount=Mce(e,(r,n)=>(ZR(this.node,n,"Start"),a=>ZR(this.node,a,"End"))))}unmount(){}}class ufe extends um{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gv(zb(this.node.current,"focus",()=>this.onFocus()),zb(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function eI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),s=n[a];s&&ei.postRender(()=>s(e,Jv(e)))}class dfe extends um{mount(){const{current:e}=this.node;e&&(this.unmount=Pce(e,(r,n)=>(eI(this.node,n,"Start"),(a,{success:s})=>eI(this.node,a,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const jM=new WeakMap,yC=new WeakMap,ffe=t=>{const e=jM.get(t.target);e&&e(t)},hfe=t=>{t.forEach(ffe)};function mfe({root:t,...e}){const r=t||document;yC.has(r)||yC.set(r,{});const n=yC.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(hfe,{root:t,...e})),n[a]}function pfe(t,e,r){const n=mfe(e);return jM.set(t,r),n.observe(t),()=>{jM.delete(t),n.unobserve(t)}}const gfe={some:0,all:1};class xfe extends um{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:gfe[a]},l=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),g=u?f:m;g&&g(c)};return pfe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(yfe(e,r))&&this.startObserver()}unmount(){}}function yfe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const bfe={inView:{Feature:xfe},tap:{Feature:dfe},focus:{Feature:ufe},hover:{Feature:cfe}},vfe={layout:{ProjectionNode:RK,MeasureLayout:AK}},wfe={...ide,...bfe,...lfe,...vfe},O=wue(wfe,Pue);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Nfe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),tI=t=>{const e=Nfe(t);return e.charAt(0).toUpperCase()+e.slice(1)},IK=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Sfe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var kfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=y.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:s,iconNode:o,...l},c)=>y.createElement("svg",{ref:c,...kfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:IK("lucide",a),...!s&&!Sfe(l)&&{"aria-hidden":"true"},...l},[...o.map(([u,f])=>y.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qt=(t,e)=>{const r=y.forwardRef(({className:n,...a},s)=>y.createElement(Cfe,{ref:s,iconNode:e,className:IK(`lucide-${jfe(tI(t))}`,`lucide-${t}`,n),...a}));return r.displayName=tI(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],hc=qt("activity",_fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Tfe=qt("align-center",Afe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],Ofe=qt("align-justify",Mfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Dfe=qt("align-left",Efe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Lfe=qt("align-right",Pfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Ife=qt("archive",Rfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],An=qt("arrow-left",Ffe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Bfe=qt("arrow-right",$fe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],qE=qt("bell",Hfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],qfe=qt("bold",zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],of=qt("book-open",Ufe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Vfe=qt("box",Wfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],FK=qt("boxes",Gfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],kp=qt("building",Yfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Oa=qt("calendar",Kfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],rI=qt("camera",Jfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],Xv=qt("chart-bar",Xfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],cu=qt("chart-no-axes-column",Qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Sa=qt("chevron-down",Zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ff=qt("chevron-left",ehe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ta=qt("chevron-right",the);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],aj=qt("chevron-up",rhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nI=qt("circle-alert",nhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],wr=qt("circle-check-big",ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],$K=qt("circle-play",ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],UE=qt("circle-x",she);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],bn=qt("clipboard",ohe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],kr=qt("clock",lhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],uhe=qt("code",che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],fhe=qt("component",dhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],mhe=qt("computer",hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],ghe=qt("credit-card",phe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],kN=qt("database",xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],WE=qt("external-link",yhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bhe=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Io=qt("eye",bhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gf=qt("file-text",vhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],aI=qt("file",whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jhe=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],BK=qt("folder-plus",jhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],HK=qt("folder",Nhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const She=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],khe=qt("frown",She);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],go=qt("funnel",Che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _he=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],zK=qt("git-branch",_he);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],The=qt("globe",Ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],NM=qt("hammer",Mhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],Ehe=qt("heading-1",Ohe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Phe=qt("heading-2",Dhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lhe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Rhe=qt("heading-3",Lhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Pg=qt("history",Ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],vn=qt("hourglass",Fhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $he=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Qv=qt("house",$he);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zi=qt("info",Bhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],zhe=qt("italic",Hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Lg=qt("key",qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uhe=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],Whe=qt("layers",Uhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],qK=qt("life-buoy",Vhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Yhe=qt("link",Ghe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],qb=qt("list-check",Khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],SM=qt("list-checks",Jhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Qhe=qt("list-ordered",Xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Cx=qt("list-plus",Zhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],VE=qt("list",eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tme=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],rm=qt("loader",tme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],nme=qt("lock",rme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ame=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],ime=qt("log-out",ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_x=qt("mail",sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],yc=qt("map-pin",ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lme=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],pg=qt("message-square",lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Ax=qt("monitor",cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],UK=qt("moon",ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Za=qt("package",dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],hme=qt("paint-bucket",fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],pme=qt("palette",mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bc=qt("paperclip",gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],td=qt("phone",xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],bme=qt("pilcrow",yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],di=qt("plus",vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],iI=qt("printer",wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Nme=qt("receipt",jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],kme=qt("redo-2",Sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_me=qt("refresh-cw",Cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Tme=qt("remove-formatting",Ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],Ome=qt("save-all",Mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],Pn=qt("save",Eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ti=qt("search",Dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pme=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Hi=qt("settings",Pme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Rme=qt("shopping-cart",Lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],WK=qt("square-check-big",Ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Ci=qt("square-pen",Fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Bme=qt("strikethrough",$me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hme=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kM=qt("sun",Hme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zme=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Pl=qt("tool-case",zme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],ha=qt("trash-2",qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lf=qt("trending-up",Ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ur=qt("triangle-alert",Wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],VK=qt("type",Vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gme=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Yme=qt("undo-2",Gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kme=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],xo=qt("upload",Kme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],sI=qt("user-check",Jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ij=qt("user-cog",Xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Zme=qt("user-plus",Qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],un=qt("user",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Va=qt("users",tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],gg=qt("warehouse",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],sa=qt("wrench",npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Ht=qt("x",ape),Ji=fe.memo(({icon:t,text:e,to:r,expanded:n})=>{const a=nr(),o=Ui().pathname===r;return i.jsxs(O.button,{onClick:()=>a(r),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[i.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&i.jsx(O.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),ipe=()=>{const[t,e]=y.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[r,n]=y.useState(window.innerWidth<768),{user:a,hasPermission:s}=ir(),o=y.useRef(null);y.useEffect(()=>{const c=o.current;if(c){const u=sessionStorage.getItem("sidebarScrollPos");u&&(c.scrollTop=parseInt(u,10));const f=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",f),()=>{c.removeEventListener("scroll",f)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:i.jsx(sr,{children:(!r||t)&&i.jsxs(O.div,{initial:{width:r?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${r?"fixed z-50 h-full":""}`,children:[i.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-9 w-auto"}),i.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),i.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?i.jsx(Ff,{className:"text-xl"}):i.jsx(ta,{className:"text-xl"})})]}),i.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[s("1")&&i.jsx(Ji,{icon:i.jsx(Qv,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"5S"}),s("7")&&i.jsx(Ji,{icon:i.jsx(bn,{}),text:"Ganba",to:"/ganba",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),s("23")&&i.jsx(Ji,{icon:i.jsx(qb,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Pg,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Pg,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),s("23")&&i.jsx(Ji,{icon:i.jsx(yc,{}),text:"Work Location",to:"/worklocation",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Va,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),s("15")&&i.jsx(Ji,{icon:i.jsx(Lg,{}),text:"User Management",to:"/permissions",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(sa,{}),text:"Spare Part",to:"/sparepart",expanded:t}),s("3")&&i.jsx(Ji,{icon:i.jsx(Za,{}),text:"Assets",to:"/assets",expanded:t}),s("3")&&i.jsx(Ji,{icon:i.jsx(Za,{}),text:"Vendors",to:"/vendors",expanded:t}),s("3")&&i.jsx(Ji,{icon:i.jsx(qK,{}),text:"Services",to:"/services",expanded:t}),s("3")&&i.jsx(Ji,{icon:i.jsx(Pl,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),s("31")&&i.jsx(Ji,{icon:i.jsx(Xv,{}),text:"Machine History",to:"/machinehistory",expanded:t}),s("31")&&i.jsx(Ji,{icon:i.jsx(Ax,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),s("7")&&i.jsx(Ji,{icon:i.jsx(bn,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&i.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),s("23")&&i.jsx(Ji,{icon:i.jsx(fhe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Rme,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Nme,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),s("23")&&i.jsx(Ji,{icon:i.jsx(Ife,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),i.jsx("div",{className:"p-4 border-t border-gray-100",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(a==null?void 0:a.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&i.jsxs("div",{children:[i.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),i.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},er=fe.memo(ipe),oI=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:i.jsx(Ur,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:i.jsx(Oa,{className:"text-blue-500"})}],lI={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},cr=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:a,toggleSidebar:s})=>{const{user:o,logout:l}=ir(),c=nr(),u=Ui(),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),b=y.useRef(null),N=y.useRef(null);y.useEffect(()=>{const _=M=>{b.current&&!b.current.contains(M.target)&&m(!1),N.current&&!N.current.contains(M.target)&&p(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=u.pathname.split("/").filter(L=>L!==""),M=[];M.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let R="";for(let L=0;L<_.length;L++){const I=_[L];if(R+=`/${I}`,/^\d+$/.test(I)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(I))continue;const B=lI[R]||I.charAt(0).toUpperCase()+I.slice(1).replace(/([A-Z])/g," $1");M.push({label:B,path:R,isClickable:L<_.length-1&&lI[R]!==void 0})}return M})(),A=n.props.className||"";return i.jsxs(i.Fragment,{children:[i.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[a&&i.jsx(O.button,{onClick:s,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:i.jsx(ta,{className:"text-xl"})}),fe.cloneElement(n,{className:`text-xl text-blue-600 ${A}`}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),i.jsxs("div",{className:"flex items-center space-x-3 relative",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!v),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":v?"Switch to light mode":"Switch to dark mode",children:v?i.jsx(kM,{className:"text-yellow-400 text-xl"}):i.jsx(UK,{className:"text-xl"})}),i.jsxs("div",{className:"relative",ref:b,children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[i.jsx(qE,{className:"text-xl"}),i.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),i.jsx(sr,{children:f&&i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[i.jsx("div",{className:"p-4 border-b border-gray-100",children:i.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),i.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:oI.length>0?oI.map(_=>i.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&i.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),i.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):i.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),i.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:i.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),i.jsxs("div",{className:"relative",ref:N,children:[i.jsxs(O.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>p(!g),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[i.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),i.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),i.jsx(Sa,{className:"text-gray-500 text-base"})]}),i.jsx(sr,{children:g&&i.jsxs(O.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[i.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),i.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),i.jsxs("button",{onClick:()=>{c("/settings"),p(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[i.jsx(Hi,{size:16,className:"mr-2"})," Settings"]}),i.jsx("hr",{className:"my-1 border-gray-100"}),i.jsxs("button",{onClick:()=>{c("/logout")},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[i.jsx(ime,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),i.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:i.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,M)=>i.jsxs("div",{className:"flex items-center space-x-2",children:[M===0?i.jsx(Qv,{size:16,className:"text-gray-400"}):i.jsx(ta,{size:16,className:"text-gray-400"}),_.isClickable?i.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):i.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},xw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},cI=()=>{var D;const[t,e]=y.useState(!1),[r,n]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[a,s]=y.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=ir(),[u,f]=y.useState(null),m=nr(),[g,p]=y.useState(!1),[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=y.useRef(null),_=y.useRef(null);y.useEffect(()=>{const E=()=>{w(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),y.useEffect(()=>{const E=H=>{A.current&&!A.current.contains(H.target)&&N(!1),_.current&&!_.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const M=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:i.jsx(lf,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:i.jsx(Ur,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:i.jsx(wr,{className:"text-blue-500"}),date:"Jul 28, 2023"}],R=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],L={total:142,running:118,maintenance:15,breakdown:5,idle:4},I={total:86,overdue:5},B=()=>{p(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(E=>!E)};return y.useEffect(()=>{s(1),(async()=>{try{const H=await l("/protected-data");f(H)}catch(H){console.error("Failed to fetch data:",H)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Qv,{}),isMobile:v,toggleSidebar:B}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((D=o==null?void 0:o.roles)==null?void 0:D[0]),"!"]}),i.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(xw,{title:"Total Assets",value:L.total.toString(),change:"+8%",icon:i.jsx(Za,{})}),i.jsx(xw,{title:"Assets Running",value:L.running.toString(),change:"+5%",icon:i.jsx(wr,{})}),i.jsx(xw,{title:"Work Orders",value:I.total.toString(),change:"-3%",icon:i.jsx(bn,{})}),i.jsx(xw,{title:"Overdue Tasks",value:I.overdue.toString(),change:"+2%",icon:i.jsx(kr,{})})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[i.jsxs("div",{className:"lg:col-span-2",children:[i.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-4",children:M.map(E=>i.jsxs(O.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[i.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:E.icon}),i.jsxs("div",{className:"flex-1",children:[i.jsx("h4",{className:"font-medium text-gray-800",children:E.title}),i.jsx("p",{className:"text-sm text-gray-600",children:E.description}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E.date})]})]},E.id))})]}),i.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),i.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:i.jsxs("div",{className:"text-center text-gray-500",children:[i.jsx(cu,{className:"mx-auto text-4xl mb-2"}),i.jsx("p",{children:"Asset Status Chart"})]})}),i.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(L.running/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(L.maintenance/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(L.breakdown/L.total*100),"%)"]})]}),i.jsxs("div",{children:[i.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),i.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(L.idle/L.total*100),"%)"]})]})]})]})]}),i.jsxs("div",{children:[i.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[i.jsxs("div",{className:"flex items-center justify-between mb-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),i.jsx("div",{className:"space-y-4",children:R.map(E=>i.jsx(O.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:i.jsxs("div",{className:"flex items-start",children:[i.jsx(O.img,{whileHover:{rotate:5},src:E.avatar,alt:E.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center flex-wrap",children:[i.jsx("h4",{className:"font-medium text-gray-900",children:E.name}),i.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:E.role})]}),i.jsx("p",{className:"text-sm mt-1 text-gray-700",children:E.comment}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:E.time})]})]})},E.id))})]}),i.jsxs(O.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),i.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:i.jsx(bn,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:i.jsx(Za,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:i.jsx(pg,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:i.jsx(cu,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((E,H)=>i.jsxs(O.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:E.onClick,children:[i.jsx("span",{children:E.text}),E.icon]},H))})]})]})]})]})]})]})},spe=()=>i.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:i.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),no=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:a}=ir(),s=nr(),o=Ui();return y.useEffect(()=>{if(!a){if(!e){s("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&s("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,s,o,a]),a?i.jsx(spe,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?i.jsx(Wse,{}):null},ope=()=>{const[t,e]=y.useState(""),[r,n]=y.useState(""),[a,s]=y.useState(""),[o,l]=y.useState(!1),c=async u=>{u.preventDefault(),n(""),s(""),l(!0);try{await new Promise(f=>setTimeout(f,1e3)),s(`Password reset link sent to ${t}`),e("")}catch(f){n(f instanceof Error?f.message:"Failed to send reset link")}finally{l(!1)}};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:i.jsx("div",{className:"w-full max-w-md",children:i.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"rounded-lg flex items-center justify-center",children:i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-20 w-auto"})}),i.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),i.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&i.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:r})]}),a&&i.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),i.jsx("span",{children:a})]}),i.jsxs("div",{className:"space-y-5",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:u=>e(u.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),i.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),i.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[i.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",i.jsx(Zh,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),i.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},lpe=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:i.jsx("div",{className:"w-full max-w-4xl",children:i.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[i.jsx("div",{className:"flex justify-center mb-8",children:i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("div",{className:"rounded-lg flex items-center justify-center",children:i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-20 w-auto"})}),i.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),i.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),i.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),i.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),i.jsx("p",{children:"We collect personal information when you register, including:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Full name and contact details"}),i.jsx("li",{children:"Professional credentials (for healthcare providers)"}),i.jsx("li",{children:"Usage data and cookies"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),i.jsx("p",{children:"Your data helps us:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Provide pharmaceutical services"}),i.jsx("li",{children:"Secure your account with authentication"}),i.jsx("li",{children:"Improve our platform"}),i.jsx("li",{children:"Comply with legal requirements"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),i.jsx("p",{children:"We implement security measures including:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Encryption of sensitive data"}),i.jsx("li",{children:"Regular security audits"}),i.jsx("li",{children:"Access controls to personal information"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),i.jsx("p",{children:"We only share data with:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Verified healthcare partners (with consent)"}),i.jsx("li",{children:"Legal authorities when required"}),i.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),i.jsxs("section",{children:[i.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),i.jsx("p",{children:"You may request to:"}),i.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[i.jsx("li",{children:"Access your personal data"}),i.jsx("li",{children:"Correct inaccurate information"}),i.jsx("li",{children:"Delete your account data"}),i.jsx("li",{children:"Opt-out of marketing communications"})]})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[i.jsx(Zh,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),i.jsxs("p",{className:"text-xs text-gray-500",children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),cpe=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],upe=()=>{const{logout:t,isLoggingOut:e}=ir(),[r,n]=y.useState(null),[a,s]=y.useState(!1),[o]=y.useState(cpe[0]),[l,c]=y.useState(!1);y.useEffect(()=>{s(!0);let p;return c(!0),p=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(p)}},[]);const u={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},f=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(p){n("Failed to logout. Please try again."),console.error("Logout error:",p)}},g=()=>{window.history.back()};return i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:i.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${a?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[i.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[i.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${a?"opacity-100":"opacity-0"}`,children:[i.jsx("img",{src:Og,alt:"Logo Wida",className:"h-10 w-auto"}),i.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),i.jsx("h1",{style:{...u,...f},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${a?"opacity-100":"opacity-0"}`,children:o}),i.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),i.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${a?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?i.jsx(i.Fragment,{children:i.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:i.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):i.jsxs(i.Fragment,{children:[r&&i.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[i.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:i.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),i.jsx("span",{children:r})]}),i.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${a?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[i.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[i.jsx($oe,{className:"mr-2"}),"Yes, Sign Out Now"]}),i.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:i.jsxs("button",{onClick:g,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[i.jsx(lE,{className:"mr-2"}),"No, Stay Logged In"]})})]}),i.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${a?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",i.jsx(Zh,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:i.jsxs("span",{className:"inline-flex items-center",children:[i.jsx(Foe,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),i.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:i.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${a?"opacity-100":"opacity-0"}`,children:[" ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),i.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${a?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[i.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),i.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),i.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),i.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[i.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),i.jsx("div",{className:"text-purple-300 animate-pulse-light",children:i.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),i.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[i.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:i.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),i.jsx("p",{children:"Security check on exit completed"})]})]}),i.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:i.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:i.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},yw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[r," from last month"]})]})},dpe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,fpe=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[a,s]=y.useState(t);y.useEffect(()=>{s(t)},[t]);const o=u=>{u.preventDefault(),r(a)},l=({title:u,children:f,icon:m})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[m&&i.jsx("div",{className:"mr-3 text-blue-600",children:m}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u})]})}),i.jsx("div",{className:"p-6",children:f})]}),c=({label:u,value:f,icon:m,fullWidth:g=!1,priority:p="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${g?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${v[p]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[m&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:u}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:f})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:a.name}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${a.status==="running"?"bg-green-100 text-green-800 border border-green-300":a.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":a.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Za,{className:"w-4 h-4"}),"Asset ID: ",a.id]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Hi,{className:"w-4 h-4"}),"Type: ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]})})}),i.jsx(l,{title:"Basic Information",icon:i.jsx(Za,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(c,{label:"Asset ID",value:a.id,icon:i.jsx(Lg,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Asset Name",value:a.name,icon:i.jsx(Za,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Asset Type",value:a.type.charAt(0).toUpperCase()+a.type.slice(1),icon:i.jsx(Hi,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Make",value:a.make,icon:i.jsx(sa,{className:"w-4 h-4"})}),i.jsx(c,{label:"Model",value:a.model,icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(c,{label:"Location",value:a.location,icon:i.jsx(Qv,{className:"w-4 h-4"})})]})}),i.jsx(l,{title:"Status & Maintenance",icon:i.jsx(bn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(c,{label:"Current Status",value:a.status.charAt(0).toUpperCase()+a.status.slice(1),icon:i.jsx(wr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Last Maintenance",value:a.lastMaintenance,icon:i.jsx(Oa,{className:"w-4 h-4"})}),i.jsx(c,{label:"Next Maintenance",value:a.nextMaintenance,icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(c,{label:"Work Orders",value:a.workOrders.toString(),icon:i.jsx(bn,{className:"w-4 h-4"})}),i.jsx(c,{label:"Health Status",value:`${a.health}`,icon:i.jsx(cu,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(l,{title:"Technical Details",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Make:"})," ",a.make]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Model:"})," ",a.model]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Type:"})," ",a.type.charAt(0).toUpperCase()+a.type.slice(1)]})]})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),i.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Health Status:"})," ",a.health]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",a.workOrders]}),i.jsxs("p",{children:[i.jsx("span",{className:"font-medium",children:"Status:"})," ",a.status.charAt(0).toUpperCase()+a.status.slice(1)]})]})]})]})}),i.jsx(l,{title:"Maintenance Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),i.jsx("span",{className:"text-sm text-green-600",children:a.lastMaintenance})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),i.jsx("span",{className:"text-sm text-blue-600",children:a.nextMaintenance})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[i.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),i.jsx("span",{className:"text-sm text-yellow-600",children:a.status.charAt(0).toUpperCase()+a.status.slice(1)})]})]})}),i.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&i.jsx(O.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},hpe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(()=>{const $e=localStorage.getItem("sidebarOpen");return $e?JSON.parse($e):!1}),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState("all"),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(null),[k,S]=y.useState(!1),[A,_]=y.useState(1),[M]=y.useState(5),{user:R,fetchWithAuth:L,hasPermission:I,getAssetsData:B,deleteAsset:D}=ir(),[E,H]=y.useState(null),V=nr(),[Y,W]=y.useState(!1),[F,z]=y.useState(window.innerWidth<768),[J,oe]=y.useState(!1),[K,U]=y.useState(!1),X=y.useRef(null),Z=y.useRef(null),[ne,ue]=y.useState([]),[_e,Ne]=y.useState(!1),[ge,ke]=y.useState(null),[ze,he]=y.useState(!1),[ye,ae]=y.useState(null),ie=($e,Ae)=>{ae({id:$e,name:Ae}),he(!0)},dt=async()=>{if(ye){if(console.log("Attempting to delete asset with ID:",ye.id),!ye.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await D(ye.id),ue(ne.filter($e=>String($e.id)!==ye.id)),console.log(`Asset with ID: ${ye.id} deleted successfully.`),he(!1),ae(null)}catch($e){console.error("Failed to delete asset:",$e),alert("Failed to delete asset.")}}},ct=()=>{he(!1),ae(null)};y.useEffect(()=>{const $e=()=>{z(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",$e),()=>window.removeEventListener("resize",$e)},[]),y.useEffect(()=>{const $e=Ae=>{X.current&&!X.current.contains(Ae.target)&&oe(!1),Z.current&&!Z.current.contains(Ae.target)&&U(!1)};return document.addEventListener("mousedown",$e),()=>{document.removeEventListener("mousedown",$e)}},[]);const Le=async()=>{Ne(!0),ke(null);try{const $e=await B();ue($e)}catch($e){ke("Failed to load data from ERP."),console.error("Error fetching ERP data:",$e)}finally{Ne(!1)}},Qe=()=>{W(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n($e=>!$e)},yt=ne.filter($e=>{const Ae=String($e.id),Ye=a.toLowerCase();return $e.name.toLowerCase().includes(Ye)||Ae.toLowerCase().includes(Ye)||$e.category.toLowerCase().includes(Ye)||$e.location.toLowerCase().includes(Ye)}),bt=A*M,It=bt-M,At=yt.slice(It,bt),Se=Math.ceil(yt.length/M),gt=$e=>_($e);y.useEffect(()=>{_(1),(async()=>{try{const Ae=await L("/protected-data");H(Ae)}catch(Ae){console.error("Failed to fetch data:",Ae)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[a,o,c,r,t,L]);const rt=$e=>{N($e),w(!0),S(!1)},kt=(()=>{if(ne.length===0)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const $e=ne.length,Ae=new Date,Ye=ne.filter(We=>We.status==="Aktif"||We.status!==null).length,tt=ne.filter(We=>We.nextMaintenance?new Date(We.nextMaintenance)<=Ae:!1).length,ve=ne.filter(We=>We.health==="Buruk"||We.health==="Critical").length,pe=tt+ve;return{total:$e,active:Ye,maintenance:tt,critical:ve,maintenanceDue:tt,needsAttention:pe}})(),De=kt.total>0?Math.round(kt.active/kt.total*100):0,vt=kt.total>0?Math.round(kt.maintenance/kt.total*100):0,Pe=kt.total>0?Math.round(kt.critical/kt.total*100):0;return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Za,{}),isMobile:F,toggleSidebar:Qe}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(O.button,{onClick:Le,disabled:_e,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${_e?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[i.jsx(kN,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:_e?"Loading...":"Load Data from ERP"})]}),i.jsxs(O.button,{onClick:()=>V("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Asset"})]}),i.jsxs(O.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Import"})]}),i.jsxs(O.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(go,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Filters"}),f?i.jsx(aj,{}):i.jsx(Sa,{})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(yw,{title:"Total Assets",value:kt.total.toString(),change:`${kt.total} units`,icon:i.jsx(Za,{})}),i.jsx(yw,{title:"Active Assets",value:kt.active.toString(),change:`${De}% operational`,icon:i.jsx(wr,{})}),i.jsx(yw,{title:"Due Maintenance",value:kt.maintenance.toString(),change:`${vt}% need service`,icon:i.jsx(sa,{})}),i.jsx(yw,{title:"Critical Issues",value:kt.critical.toString(),change:`${Pe}% critical`,icon:i.jsx(Ur,{})})]}),i.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:$e=>s($e.target.value)})]}),i.jsx(sr,{children:f&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:$e=>l($e.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"})]}),i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:$e=>u($e.target.value),children:[i.jsx("option",{value:"all",children:"All Types"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"})]})]})})]})}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[_e&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),ge&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:i.jsxs("div",{className:"flex items-center justify-center",children:[i.jsx(Ur,{className:"text-red-500 mr-2"}),ge]})})}),!_e&&ne.length===0&&!ge&&i.jsx("tr",{children:i.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:i.jsxs("div",{className:"flex flex-col items-center justify-center",children:[i.jsx(Za,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),At.length>0&&At.map(($e,Ae)=>{const Ye=It+Ae;return i.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ye+1})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"flex items-center",children:i.jsxs("div",{className:"ml-0",children:[" ",i.jsx("div",{className:"text-base font-medium text-gray-900",children:$e.name}),i.jsx("div",{className:"text-sm text-gray-600",children:$e.category})]})})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("div",{className:"text-sm text-gray-900",children:$e.location})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm text-gray-900",children:$e.purchaseDate})," "]}),i.jsxs("td",{className:"px-6 py-4",children:[" ",i.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:$e.description})," "]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsx(O.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>V(`/assets/assetsdata/editasset/${$e.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:i.jsx(Ci,{className:"w-5 h-5"})}),i.jsx(O.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>ie(String($e.id),$e.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:i.jsx(ha,{className:"w-5 h-5"})}),i.jsx(O.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>rt($e),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:i.jsx(Io,{className:"w-5 h-5"})})]})})]},$e.id)})]})]})})}),yt.length>M&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:It+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(bt,yt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:yt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(A-1),disabled:A===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Se},($e,Ae)=>i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(Ae+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${A===Ae+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ae+1},Ae+1)),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(A+1),disabled:A===Se,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),b&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k?"Edit Asset":"Asset Details"}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{w(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:i.jsx(fpe,{asset:b,isEditing:k,onSave:()=>{},onCancel:()=>{w(!1),N(null),S(!1)}})})]})}),i.jsx(dpe,{isOpen:ze,onClose:ct,title:"Confirm Delete",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(Ur,{className:"text-yellow-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),i.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",i.jsx("strong",{children:ye==null?void 0:ye.name})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ct,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:dt,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},mpe=()=>{var D;const{user:t,hasPermission:e,logout:r}=ir(),n=nr();Ui();const[a,s]=y.useState(!1),[o,l]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[c,u]=y.useState(window.innerWidth<768),[f,m]=y.useState("profile"),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=y.useRef(null);y.useEffect(()=>{const E=()=>{u(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),y.useEffect(()=>{const E=H=>{k.current&&!k.current.contains(H.target)&&N(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const[S,A]=y.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(E=>!E)},M=E=>{const{name:H,value:V,type:Y}=E.target,W=Y==="checkbox"?E.target.checked:void 0;A(F=>({...F,[H]:Y==="checkbox"?W:V}))},R=()=>{p(!1)},L=({title:E,children:H})=>i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:E}),H]}),I=({label:E,value:H,children:V,editable:Y=!0,onEdit:W})=>i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[i.jsxs("div",{className:"mb-2 sm:mb-0",children:[i.jsx("p",{className:"font-medium text-gray-700",children:E}),H!==void 0&&i.jsx("p",{className:"text-sm text-gray-600",children:typeof H=="boolean"?H?"Enabled":"Disabled":H})]}),Y&&i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:W,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),V]}),B=({isOpen:E,onClose:H,title:V,children:Y,actions:W})=>E?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:V}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:H,className:"text-gray-500 hover:text-gray-700",children:i.jsx(Ht,{size:20})})]}),i.jsx("div",{className:"p-6",children:Y}),W&&i.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:W})]})}):null;return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Hi,{}),isMobile:c,toggleSidebar:_}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"max-w-6xl mx-auto",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),i.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),i.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[i.jsx(O.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:i.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:i.jsx(un,{}),label:"Profile"},{id:"security",icon:i.jsx(nme,{}),label:"Security"},{id:"notifications",icon:i.jsx(qE,{}),label:"Notifications"},{id:"preferences",icon:i.jsx(kM,{}),label:"Preferences"},{id:"billing",icon:i.jsx(ghe,{}),label:"Billing"},{id:"team",icon:i.jsx(Va,{}),label:"Team Settings"},{id:"integrations",icon:i.jsx(The,{}),label:"Integrations"},{id:"data",icon:i.jsx(kN,{}),label:"Data Management"}].map(E=>i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(E.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${f===E.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[i.jsx("span",{className:"text-xl mr-3 text-blue-500",children:E.icon}),i.jsx("span",{className:"text-base",children:E.label})]},E.id))})})}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[f==="profile"&&i.jsx(L,{title:"Profile Information",children:g?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),i.jsx("input",{type:"text",name:"name",value:S.name,onChange:M,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:M,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("input",{type:"text",name:"nik",value:S.email,onChange:M,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):i.jsxs(i.Fragment,{children:[i.jsx(I,{label:"Name",value:t==null?void 0:t.name,editable:!1}),i.jsx(I,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),i.jsx(I,{label:"Role",value:(D=t==null?void 0:t.roles)==null?void 0:D[0],editable:!1}),i.jsx(I,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),f==="security"&&i.jsxs(L,{title:"Security Settings",children:[i.jsx(I,{label:"Password",value:"",onEdit:()=>n("/settings/change-password")}),i.jsx(I,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),i.jsx(I,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),f==="notifications"&&i.jsxs(L,{title:"Notification Preferences",children:[i.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),i.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[i.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:M,className:"sr-only peer"}),i.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),i.jsx(I,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),f==="preferences"&&i.jsxs(L,{title:"Preferences",children:[i.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),i.jsx(sr,{mode:"wait",children:i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>s(!a),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a?i.jsx(kM,{className:"text-yellow-400"}):i.jsx(UK,{})},a?"sun-card":"moon-card")})]}),i.jsx(I,{label:"Language",value:"English",onEdit:()=>{}}),i.jsx(I,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),f==="billing"&&i.jsxs(L,{title:"Billing Information",children:[i.jsx(I,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),i.jsx(I,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),i.jsx(I,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),f==="team"&&i.jsxs(L,{title:"Team Settings",children:[i.jsx(I,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),i.jsx(I,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),i.jsx(I,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),f==="integrations"&&i.jsxs(L,{title:"Integrations",children:[i.jsx(I,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),i.jsx(I,{label:"Slack",value:"Not connected",onEdit:()=>{}}),i.jsx(I,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),f==="data"&&i.jsxs(L,{title:"Data Management",children:[i.jsx(I,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),i.jsx(I,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>w(!0)})]})]})]})]})})]}),i.jsxs(B,{isOpen:v,onClose:()=>w(!1),title:"Delete Account",children:[i.jsx("div",{className:"text-gray-700 mb-6",children:i.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),i.jsxs("div",{className:"flex justify-end space-x-3",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function GK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=GK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Cr(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=GK(t))&&(n&&(n+=" "),n+=e);return n}const YK=6048e5,ppe=864e5,CN=6e4,_N=36e5,gpe=1e3,uI=Symbol.for("constructDateFrom");function ma(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uI in t?t[uI](e):t instanceof Date?new t.constructor(e):new Date(e)}function _r(t,e){return ma(e||t,t)}function iu(t,e,r){const n=_r(t,r==null?void 0:r.in);return isNaN(e)?ma((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function uu(t,e,r){const n=_r(t,r==null?void 0:r.in);if(isNaN(e))return ma(t,NaN);if(!e)return n;const a=n.getDate(),s=ma(t,n.getTime());s.setMonth(n.getMonth()+e+1,0);const o=s.getDate();return a>=o?s:(n.setFullYear(s.getFullYear(),s.getMonth(),a),n)}function KK(t,e,r){return ma(t,+_r(t)+e)}function xpe(t,e,r){return KK(t,e*_N)}let ype={};function qp(){return ype}function Mf(t,e){var l,c,u,f;const r=qp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.weekStartsOn)??0,a=_r(t,e==null?void 0:e.in),s=a.getDay(),o=(s<n?7:0)+s-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function Rg(t,e){return Mf(t,{...e,weekStartsOn:1})}function JK(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=ma(r,0);a.setFullYear(n+1,0,4),a.setHours(0,0,0,0);const s=Rg(a),o=ma(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Rg(o);return r.getTime()>=s.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function sj(t){const e=_r(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $f(t,...e){const r=ma.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Cp(t,e){const r=_r(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Ig(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e),s=Cp(n),o=Cp(a),l=+s-sj(s),c=+o-sj(o);return Math.round((l-c)/ppe)}function bpe(t,e){const r=JK(t,e),n=ma(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Rg(n)}function CM(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*CN),n}function GE(t,e,r){return uu(t,e*3,r)}function vpe(t,e,r){return KK(t,e*1e3)}function oj(t,e,r){return iu(t,e*7,r)}function xf(t,e,r){return uu(t,e*12,r)}function dI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=ma.bind(null,a));const s=_r(a,n);(!r||r<s||isNaN(+s))&&(r=s)}),ma(n,r||NaN)}function fI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(a=>{!n&&typeof a=="object"&&(n=ma.bind(null,a));const s=_r(a,n);(!r||r>s||isNaN(+s))&&(r=s)}),ma(n,r||NaN)}function wpe(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e);return+Cp(n)==+Cp(a)}function yf(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function lj(t){return!(!yf(t)&&typeof t!="number"||isNaN(+_r(t)))}function cj(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e),s=n.getFullYear()-a.getFullYear(),o=n.getMonth()-a.getMonth();return s*12+o}function hp(t,e){const r=_r(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function uj(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e),s=n.getFullYear()-a.getFullYear(),o=hp(n)-hp(a);return s*4+o}function dj(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e);return n.getFullYear()-a.getFullYear()}function jpe(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e),s=hI(n,a),o=Math.abs(Ig(n,a));n.setDate(n.getDate()-s*o);const l=+(hI(n,a)===-s),c=s*(o-l);return c===0?0:c}function hI(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function XK(t,e){const r=_r(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function QK(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function _M(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getMonth(),a=n-n%3;return r.setMonth(a,1),r.setHours(0,0,0,0),r}function ZK(t,e){const r=_r(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function eJ(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function AN(t,e){const r=_r(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Npe(t,e){var l,c;const r=qp(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,a=_r(t,e==null?void 0:e.in),s=a.getDay(),o=(s<n?-7:0)+6-(s-n);return a.setDate(a.getDate()+o),a.setHours(23,59,59,999),a}const Spe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},kpe=(t,e,r)=>{let n;const a=Spe[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function bC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Cpe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},_pe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ape={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Tpe={date:bC({formats:Cpe,defaultWidth:"full"}),time:bC({formats:_pe,defaultWidth:"full"}),dateTime:bC({formats:Ape,defaultWidth:"full"})},Mpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ope=(t,e,r,n)=>Mpe[t];function _y(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;a=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;a=t.values[l]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return a[s]}}const Epe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Dpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ppe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Lpe={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Ipe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Fpe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$pe={ordinalNumber:Fpe,era:_y({values:Epe,defaultWidth:"wide"}),quarter:_y({values:Dpe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:_y({values:Ppe,defaultWidth:"wide"}),day:_y({values:Lpe,defaultWidth:"wide"}),dayPeriod:_y({values:Rpe,defaultWidth:"wide",formattingValues:Ipe,defaultFormattingWidth:"wide"})};function Ay(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(a);if(!s)return null;const o=s[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?Hpe(l,m=>m.test(o)):Bpe(l,m=>m.test(o));let u;u=t.valueCallback?t.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const f=e.slice(o.length);return{value:u,rest:f}}}function Bpe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Hpe(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function zpe(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(a.length);return{value:o,rest:l}}}const qpe=/^(\d+)(th|st|nd|rd)?/i,Upe=/\d+/i,Wpe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Vpe={any:[/^b/i,/^(a|c)/i]},Gpe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ype={any:[/1/i,/2/i,/3/i,/4/i]},Kpe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Jpe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Xpe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Qpe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Zpe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},e0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},t0e={ordinalNumber:zpe({matchPattern:qpe,parsePattern:Upe,valueCallback:t=>parseInt(t,10)}),era:Ay({matchPatterns:Wpe,defaultMatchWidth:"wide",parsePatterns:Vpe,defaultParseWidth:"any"}),quarter:Ay({matchPatterns:Gpe,defaultMatchWidth:"wide",parsePatterns:Ype,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ay({matchPatterns:Kpe,defaultMatchWidth:"wide",parsePatterns:Jpe,defaultParseWidth:"any"}),day:Ay({matchPatterns:Xpe,defaultMatchWidth:"wide",parsePatterns:Qpe,defaultParseWidth:"any"}),dayPeriod:Ay({matchPatterns:Zpe,defaultMatchWidth:"any",parsePatterns:e0e,defaultParseWidth:"any"})},tJ={code:"en-US",formatDistance:kpe,formatLong:Tpe,formatRelative:Ope,localize:$pe,match:t0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function r0e(t,e){const r=_r(t,e==null?void 0:e.in);return Ig(r,AN(r))+1}function YE(t,e){const r=_r(t,e==null?void 0:e.in),n=+Rg(r)-+bpe(r);return Math.round(n/YK)+1}function KE(t,e){var f,m,g,p;const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=qp(),s=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??a.firstWeekContainsDate??((p=(g=a.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=ma((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const l=Mf(o,e),c=ma((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,s),c.setHours(0,0,0,0);const u=Mf(c,e);return+r>=+l?n+1:+r>=+u?n:n-1}function n0e(t,e){var l,c,u,f;const r=qp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(u=r.locale)==null?void 0:u.options)==null?void 0:f.firstWeekContainsDate)??1,a=KE(t,e),s=ma((e==null?void 0:e.in)||t,0);return s.setFullYear(a,0,n),s.setHours(0,0,0,0),Mf(s,e)}function rJ(t,e){const r=_r(t,e==null?void 0:e.in),n=+Mf(r,e)-+n0e(r,e);return Math.round(n/YK)+1}function fa(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const kh={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return fa(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):fa(r+1,2)},d(t,e){return fa(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return fa(t.getHours()%12||12,e.length)},H(t,e){return fa(t.getHours(),e.length)},m(t,e){return fa(t.getMinutes(),e.length)},s(t,e){return fa(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return fa(a,e.length)}},F0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},mI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return kh.y(t,e)},Y:function(t,e,r,n){const a=KE(t,n),s=a>0?a:1-a;if(e==="YY"){const o=s%100;return fa(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):fa(s,e.length)},R:function(t,e){const r=JK(t);return fa(r,e.length)},u:function(t,e){const r=t.getFullYear();return fa(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return fa(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return fa(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return kh.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return fa(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=rJ(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):fa(a,e.length)},I:function(t,e,r){const n=YE(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):fa(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):kh.d(t,e)},D:function(t,e,r){const n=r0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):fa(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return fa(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),s=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return fa(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return fa(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=F0.noon:n===0?a=F0.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=F0.evening:n>=12?a=F0.afternoon:n>=4?a=F0.morning:a=F0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return kh.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):kh.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):fa(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):fa(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):kh.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):kh.s(t,e)},S:function(t,e){return kh.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return gI(n);case"XXXX":case"XX":return Um(n);case"XXXXX":case"XXX":default:return Um(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return gI(n);case"xxxx":case"xx":return Um(n);case"xxxxx":case"xxx":default:return Um(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+pI(n,":");case"OOOO":default:return"GMT"+Um(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+pI(n,":");case"zzzz":default:return"GMT"+Um(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return fa(n,e.length)},T:function(t,e,r){return fa(+t,e.length)}};function pI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),s=n%60;return s===0?r+String(a):r+String(a)+e+fa(s,2)}function gI(t,e){return t%60===0?(t>0?"-":"+")+fa(Math.abs(t)/60,2):Um(t,e)}function Um(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=fa(Math.trunc(n/60),2),s=fa(n%60,2);return r+a+e+s}const xI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},nJ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},a0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return xI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",xI(n,e)).replace("{{time}}",nJ(a,e))},AM={p:nJ,P:a0e},i0e=/^D+$/,s0e=/^Y+$/,o0e=["D","DD","YY","YYYY"];function l0e(t){return i0e.test(t)}function c0e(t){return s0e.test(t)}function u0e(t,e,r){const n=d0e(t,e,r);if(console.warn(n),o0e.includes(t))throw new RangeError(n)}function d0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const f0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,h0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,m0e=/^'([^]*?)'?$/,p0e=/''/g,g0e=/[a-zA-Z]/;function yI(t,e,r){var f,m,g,p,v,w,b,N;const n=qp(),a=(r==null?void 0:r.locale)??n.locale??tJ,s=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(g=n.locale)==null?void 0:g.options)==null?void 0:p.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(b=n.locale)==null?void 0:b.options)==null?void 0:N.weekStartsOn)??0,l=_r(t,r==null?void 0:r.in);if(!lj(l))throw new RangeError("Invalid time value");let c=e.match(h0e).map(k=>{const S=k[0];if(S==="p"||S==="P"){const A=AM[S];return A(k,a.formatLong)}return k}).join("").match(f0e).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:x0e(k)};if(mI[S])return{isToken:!0,value:k};if(S.match(g0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});a.localize.preprocessor&&(c=a.localize.preprocessor(l,c));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:a};return c.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&c0e(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&l0e(S))&&u0e(S,e,String(t));const A=mI[S[0]];return A(l,S,a.localize,u)}).join("")}function x0e(t){const e=t.match(m0e);return e?e[1].replace(p0e,"'"):t}function bI(t,e){return _r(t,e==null?void 0:e.in).getDate()}function y0e(t,e){return _r(t,e==null?void 0:e.in).getDay()}function b0e(t,e){const r=_r(t,e==null?void 0:e.in),n=r.getFullYear(),a=r.getMonth(),s=ma(r,0);return s.setFullYear(n,a+1,0),s.setHours(0,0,0,0),s.getDate()}function v0e(){return Object.assign({},qp())}function bf(t,e){return _r(t,e==null?void 0:e.in).getHours()}function w0e(t,e){const r=_r(t,e==null?void 0:e.in).getDay();return r===0?7:r}function vf(t,e){return _r(t,e==null?void 0:e.in).getMinutes()}function ho(t,e){return _r(t,e==null?void 0:e.in).getMonth()}function Wh(t){return _r(t).getSeconds()}function TM(t){return+_r(t)}function yn(t,e){return _r(t,e==null?void 0:e.in).getFullYear()}function nm(t,e){return+_r(t)>+_r(e)}function Yu(t,e){return+_r(t)<+_r(e)}function j0e(t,e){return+_r(t)==+_r(e)}function N0e(t,e){const r=S0e(e)?new e(0):ma(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function S0e(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const k0e=10;class aJ{constructor(){Kt(this,"subPriority",0)}validate(e,r){return!0}}class C0e extends aJ{constructor(e,r,n,a,s){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=a,s&&(this.subPriority=s)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class _0e extends aJ{constructor(r,n){super();Kt(this,"priority",k0e);Kt(this,"subPriority",-1);this.context=r||(a=>ma(n,a))}set(r,n){return n.timestampIsSet?r:ma(r,N0e(r,this.context))}}class ra{run(e,r,n,a){const s=this.parse(e,r,n,a);return s?{setter:new C0e(s.value,this.validate,this.set,this.priority,this.subPriority),rest:s.rest}:null}validate(e,r,n){return!0}}class A0e extends ra{constructor(){super(...arguments);Kt(this,"priority",140);Kt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,a){switch(n){case"G":case"GG":case"GGG":return a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"});case"GGGGG":return a.era(r,{width:"narrow"});case"GGGG":default:return a.era(r,{width:"wide"})||a.era(r,{width:"abbreviated"})||a.era(r,{width:"narrow"})}}set(r,n,a){return n.era=a,r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}const zi={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vu={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function qi(t,e){return t&&{value:e(t.value),rest:t.rest}}function ci(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Gu(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,a=r[2]?parseInt(r[2],10):0,s=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(a*_N+s*CN+o*gpe),rest:e.slice(r[0].length)}}function iJ(t){return ci(zi.anyDigitsSigned,t)}function _i(t,e){switch(t){case 1:return ci(zi.singleDigit,e);case 2:return ci(zi.twoDigits,e);case 3:return ci(zi.threeDigits,e);case 4:return ci(zi.fourDigits,e);default:return ci(new RegExp("^\\d{1,"+t+"}"),e)}}function fj(t,e){switch(t){case 1:return ci(zi.singleDigitSigned,e);case 2:return ci(zi.twoDigitsSigned,e);case 3:return ci(zi.threeDigitsSigned,e);case 4:return ci(zi.fourDigitsSigned,e);default:return ci(new RegExp("^-?\\d{1,"+t+"}"),e)}}function JE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sJ(t,e){const r=e>0,n=r?e:1-e;let a;if(n<=50)a=t||100;else{const s=n+50,o=Math.trunc(s/100)*100,l=t>=s%100;a=t+o-(l?100:0)}return r?a:1-a}function oJ(t){return t%400===0||t%4===0&&t%100!==0}class T0e extends ra{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return qi(_i(4,r),s);case"yo":return qi(a.ordinalNumber(r,{unit:"year"}),s);default:return qi(_i(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a){const s=r.getFullYear();if(a.isTwoDigitYear){const l=sJ(a.year,s);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class M0e extends ra{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,a){const s=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return qi(_i(4,r),s);case"Yo":return qi(a.ordinalNumber(r,{unit:"year"}),s);default:return qi(_i(n.length,r),s)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,a,s){const o=KE(r,s);if(a.isTwoDigitYear){const c=sJ(a.year,o);return r.setFullYear(c,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Mf(r,s)}const l=!("era"in n)||n.era===1?a.year:1-a.year;return r.setFullYear(l,0,s.firstWeekContainsDate),r.setHours(0,0,0,0),Mf(r,s)}}class O0e extends ra{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return fj(n==="R"?4:n.length,r)}set(r,n,a){const s=ma(r,0);return s.setFullYear(a,0,4),s.setHours(0,0,0,0),Rg(s)}}class E0e extends ra{constructor(){super(...arguments);Kt(this,"priority",130);Kt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return fj(n==="u"?4:n.length,r)}set(r,n,a){return r.setFullYear(a,0,1),r.setHours(0,0,0,0),r}}class D0e extends ra{constructor(){super(...arguments);Kt(this,"priority",120);Kt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"Q":case"QQ":return _i(n.length,r);case"Qo":return a.ordinalNumber(r,{unit:"quarter"});case"QQQ":return a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return a.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(r,{width:"wide",context:"formatting"})||a.quarter(r,{width:"abbreviated",context:"formatting"})||a.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class P0e extends ra{constructor(){super(...arguments);Kt(this,"priority",120);Kt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"q":case"qq":return _i(n.length,r);case"qo":return a.ordinalNumber(r,{unit:"quarter"});case"qqq":return a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return a.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(r,{width:"wide",context:"standalone"})||a.quarter(r,{width:"abbreviated",context:"standalone"})||a.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,a){return r.setMonth((a-1)*3,1),r.setHours(0,0,0,0),r}}class L0e extends ra{constructor(){super(...arguments);Kt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Kt(this,"priority",110)}parse(r,n,a){const s=o=>o-1;switch(n){case"M":return qi(ci(zi.month,r),s);case"MM":return qi(_i(2,r),s);case"Mo":return qi(a.ordinalNumber(r,{unit:"month"}),s);case"MMM":return a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return a.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(r,{width:"wide",context:"formatting"})||a.month(r,{width:"abbreviated",context:"formatting"})||a.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}class R0e extends ra{constructor(){super(...arguments);Kt(this,"priority",110);Kt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,a){const s=o=>o-1;switch(n){case"L":return qi(ci(zi.month,r),s);case"LL":return qi(_i(2,r),s);case"Lo":return qi(a.ordinalNumber(r,{unit:"month"}),s);case"LLL":return a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return a.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(r,{width:"wide",context:"standalone"})||a.month(r,{width:"abbreviated",context:"standalone"})||a.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.setMonth(a,1),r.setHours(0,0,0,0),r}}function I0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=rJ(n,r)-e;return n.setDate(n.getDate()-a*7),_r(n,r==null?void 0:r.in)}class F0e extends ra{constructor(){super(...arguments);Kt(this,"priority",100);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,a){switch(n){case"w":return ci(zi.week,r);case"wo":return a.ordinalNumber(r,{unit:"week"});default:return _i(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a,s){return Mf(I0e(r,a,s),s)}}function $0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=YE(n,r)-e;return n.setDate(n.getDate()-a*7),n}class B0e extends ra{constructor(){super(...arguments);Kt(this,"priority",100);Kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,a){switch(n){case"I":return ci(zi.week,r);case"Io":return a.ordinalNumber(r,{unit:"week"});default:return _i(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,a){return Rg($0e(r,a))}}const H0e=[31,28,31,30,31,30,31,31,30,31,30,31],z0e=[31,29,31,30,31,30,31,31,30,31,30,31];class q0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"subPriority",1);Kt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"d":return ci(zi.date,r);case"do":return a.ordinalNumber(r,{unit:"date"});default:return _i(n.length,r)}}validate(r,n){const a=r.getFullYear(),s=oJ(a),o=r.getMonth();return s?n>=1&&n<=z0e[o]:n>=1&&n<=H0e[o]}set(r,n,a){return r.setDate(a),r.setHours(0,0,0,0),r}}class U0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"subpriority",1);Kt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,a){switch(n){case"D":case"DD":return ci(zi.dayOfYear,r);case"Do":return a.ordinalNumber(r,{unit:"date"});default:return _i(n.length,r)}}validate(r,n){const a=r.getFullYear();return oJ(a)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,a){return r.setMonth(0,a),r.setHours(0,0,0,0),r}}function XE(t,e,r){var m,g,p,v;const n=qp(),a=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,s=_r(t,r==null?void 0:r.in),o=s.getDay(),c=(e%7+7)%7,u=7-a,f=e<0||e>6?e-(o+u)%7:(c+u)%7-(o+u)%7;return iu(s,f,r)}class W0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,a){switch(n){case"E":case"EE":case"EEE":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return a.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=XE(r,a,s),r.setHours(0,0,0,0),r}}class V0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return qi(_i(n.length,r),o);case"eo":return qi(a.ordinalNumber(r,{unit:"day"}),o);case"eee":return a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=XE(r,a,s),r.setHours(0,0,0,0),r}}class G0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,a,s){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+s.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return qi(_i(n.length,r),o);case"co":return qi(a.ordinalNumber(r,{unit:"day"}),o);case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})||a.day(r,{width:"abbreviated",context:"standalone"})||a.day(r,{width:"short",context:"standalone"})||a.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,a,s){return r=XE(r,a,s),r.setHours(0,0,0,0),r}}function Y0e(t,e,r){const n=_r(t,r==null?void 0:r.in),a=w0e(n,r),s=e-a;return iu(n,s,r)}class K0e extends ra{constructor(){super(...arguments);Kt(this,"priority",90);Kt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,a){const s=o=>o===0?7:o;switch(n){case"i":case"ii":return _i(n.length,r);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return qi(a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiii":return qi(a.day(r,{width:"narrow",context:"formatting"}),s);case"iiiiii":return qi(a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s);case"iiii":default:return qi(a.day(r,{width:"wide",context:"formatting"})||a.day(r,{width:"abbreviated",context:"formatting"})||a.day(r,{width:"short",context:"formatting"})||a.day(r,{width:"narrow",context:"formatting"}),s)}}validate(r,n){return n>=1&&n<=7}set(r,n,a){return r=Y0e(r,a),r.setHours(0,0,0,0),r}}class J0e extends ra{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,a){switch(n){case"a":case"aa":case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(JE(a),0,0,0),r}}class X0e extends ra{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,a){switch(n){case"b":case"bb":case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(JE(a),0,0,0),r}}class Q0e extends ra{constructor(){super(...arguments);Kt(this,"priority",80);Kt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,a){switch(n){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})||a.dayPeriod(r,{width:"abbreviated",context:"formatting"})||a.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,a){return r.setHours(JE(a),0,0,0),r}}class Z0e extends ra{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,a){switch(n){case"h":return ci(zi.hour12h,r);case"ho":return a.ordinalNumber(r,{unit:"hour"});default:return _i(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,a){const s=r.getHours()>=12;return s&&a<12?r.setHours(a+12,0,0,0):!s&&a===12?r.setHours(0,0,0,0):r.setHours(a,0,0,0),r}}class ege extends ra{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,a){switch(n){case"H":return ci(zi.hour23h,r);case"Ho":return a.ordinalNumber(r,{unit:"hour"});default:return _i(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,a){return r.setHours(a,0,0,0),r}}class tge extends ra{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,a){switch(n){case"K":return ci(zi.hour11h,r);case"Ko":return a.ordinalNumber(r,{unit:"hour"});default:return _i(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,a){return r.getHours()>=12&&a<12?r.setHours(a+12,0,0,0):r.setHours(a,0,0,0),r}}class rge extends ra{constructor(){super(...arguments);Kt(this,"priority",70);Kt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,a){switch(n){case"k":return ci(zi.hour24h,r);case"ko":return a.ordinalNumber(r,{unit:"hour"});default:return _i(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,a){const s=a<=24?a%24:a;return r.setHours(s,0,0,0),r}}class nge extends ra{constructor(){super(...arguments);Kt(this,"priority",60);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"m":return ci(zi.minute,r);case"mo":return a.ordinalNumber(r,{unit:"minute"});default:return _i(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setMinutes(a,0,0),r}}class age extends ra{constructor(){super(...arguments);Kt(this,"priority",50);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n,a){switch(n){case"s":return ci(zi.second,r);case"so":return a.ordinalNumber(r,{unit:"second"});default:return _i(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,a){return r.setSeconds(a,0),r}}class ige extends ra{constructor(){super(...arguments);Kt(this,"priority",30);Kt(this,"incompatibleTokens",["t","T"])}parse(r,n){const a=s=>Math.trunc(s*Math.pow(10,-n.length+3));return qi(_i(n.length,r),a)}set(r,n,a){return r.setMilliseconds(a),r}}class sge extends ra{constructor(){super(...arguments);Kt(this,"priority",10);Kt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Gu(Vu.basicOptionalMinutes,r);case"XX":return Gu(Vu.basic,r);case"XXXX":return Gu(Vu.basicOptionalSeconds,r);case"XXXXX":return Gu(Vu.extendedOptionalSeconds,r);case"XXX":default:return Gu(Vu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:ma(r,r.getTime()-sj(r)-a)}}class oge extends ra{constructor(){super(...arguments);Kt(this,"priority",10);Kt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Gu(Vu.basicOptionalMinutes,r);case"xx":return Gu(Vu.basic,r);case"xxxx":return Gu(Vu.basicOptionalSeconds,r);case"xxxxx":return Gu(Vu.extendedOptionalSeconds,r);case"xxx":default:return Gu(Vu.extended,r)}}set(r,n,a){return n.timestampIsSet?r:ma(r,r.getTime()-sj(r)-a)}}class lge extends ra{constructor(){super(...arguments);Kt(this,"priority",40);Kt(this,"incompatibleTokens","*")}parse(r){return iJ(r)}set(r,n,a){return[ma(r,a*1e3),{timestampIsSet:!0}]}}class cge extends ra{constructor(){super(...arguments);Kt(this,"priority",20);Kt(this,"incompatibleTokens","*")}parse(r){return iJ(r)}set(r,n,a){return[ma(r,a),{timestampIsSet:!0}]}}const uge={G:new A0e,y:new T0e,Y:new M0e,R:new O0e,u:new E0e,Q:new D0e,q:new P0e,M:new L0e,L:new R0e,w:new F0e,I:new B0e,d:new q0e,D:new U0e,E:new W0e,e:new V0e,c:new G0e,i:new K0e,a:new J0e,b:new X0e,B:new Q0e,h:new Z0e,H:new ege,K:new tge,k:new rge,m:new nge,s:new age,S:new ige,X:new sge,x:new oge,t:new lge,T:new cge},dge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,fge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hge=/^'([^]*?)'?$/,mge=/''/g,pge=/\S/,gge=/[a-zA-Z]/;function xge(t,e,r,n){var b,N,k,S,A,_,M,R;const a=()=>ma((n==null?void 0:n.in)||r,NaN),s=v0e(),o=(n==null?void 0:n.locale)??s.locale??tJ,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:N.firstWeekContainsDate)??s.firstWeekContainsDate??((S=(k=s.locale)==null?void 0:k.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:_.weekStartsOn)??s.weekStartsOn??((R=(M=s.locale)==null?void 0:M.options)==null?void 0:R.weekStartsOn)??0;if(!e)return t?a():_r(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:o},f=[new _0e(n==null?void 0:n.in,r)],m=e.match(fge).map(L=>{const I=L[0];if(I in AM){const B=AM[I];return B(L,o.formatLong)}return L}).join("").match(dge),g=[];for(let L of m){const I=L[0],B=uge[I];if(B){const{incompatibleTokens:D}=B;if(Array.isArray(D)){const H=g.find(V=>D.includes(V.token)||V.token===I);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${L}\` at the same time`)}else if(B.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${L}\` and any other token at the same time`);g.push({token:I,fullToken:L});const E=B.run(t,L,o.match,u);if(!E)return a();f.push(E.setter),t=E.rest}else{if(I.match(gge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+I+"`");if(L==="''"?L="'":I==="'"&&(L=yge(L)),t.indexOf(L)===0)t=t.slice(L.length);else return a()}}if(t.length>0&&pge.test(t))return a();const p=f.map(L=>L.priority).sort((L,I)=>I-L).filter((L,I,B)=>B.indexOf(L)===I).map(L=>f.filter(I=>I.priority===L).sort((I,B)=>B.subPriority-I.subPriority)).map(L=>L[0]);let v=_r(r,n==null?void 0:n.in);if(isNaN(+v))return a();const w={};for(const L of p){if(!L.validate(v,u))return a();const I=L.set(v,w,u);Array.isArray(I)?(v=I[0],Object.assign(w,I[1])):v=I}return v}function yge(t){return t.match(hge)[1].replace(mge,"'")}function bge(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()&&n.getMonth()===a.getMonth()}function vge(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e);return+_M(n)==+_M(a)}function wge(t,e,r){const[n,a]=$f(r==null?void 0:r.in,t,e);return n.getFullYear()===a.getFullYear()}function Ub(t,e,r){const n=+_r(t,r==null?void 0:r.in),[a,s]=[+_r(e.start,r==null?void 0:r.in),+_r(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=a&&n<=s}function jge(t,e,r){return iu(t,-1,r)}function Nge(t,e){const r=()=>ma(e==null?void 0:e.in,NaN),a=_ge(t);let s;if(a.date){const u=Age(a.date,2);s=Tge(u.restDateString,u.year)}if(!s||isNaN(+s))return r();const o=+s;let l=0,c;if(a.time&&(l=Mge(a.time),isNaN(l)))return r();if(a.timezone){if(c=Oge(a.timezone),isNaN(c))return r()}else{const u=new Date(o+l),f=_r(0,e==null?void 0:e.in);return f.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),f.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),f}return _r(o+l+c,e==null?void 0:e.in)}const bw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Sge=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,kge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Cge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function _ge(t){const e={},r=t.split(bw.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],bw.timeZoneDelimiter.test(e.date)&&(e.date=t.split(bw.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const a=bw.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function Age(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?a:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function Tge(t,e){if(e===null)return new Date(NaN);const r=t.match(Sge);if(!r)return new Date(NaN);const n=!!r[4],a=Ty(r[1]),s=Ty(r[2])-1,o=Ty(r[3]),l=Ty(r[4]),c=Ty(r[5])-1;if(n)return Rge(e,l,c)?Ege(e,l,c):new Date(NaN);{const u=new Date(0);return!Pge(e,s,o)||!Lge(e,a)?new Date(NaN):(u.setUTCFullYear(e,s,Math.max(a,o)),u)}}function Ty(t){return t?parseInt(t):1}function Mge(t){const e=t.match(kge);if(!e)return NaN;const r=vC(e[1]),n=vC(e[2]),a=vC(e[3]);return Ige(r,n,a)?r*_N+n*CN+a*1e3:NaN}function vC(t){return t&&parseFloat(t.replace(",","."))||0}function Oge(t){if(t==="Z")return 0;const e=t.match(Cge);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return Fge(n,a)?r*(n*_N+a*CN):NaN}function Ege(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const a=n.getUTCDay()||7,s=(e-1)*7+r+1-a;return n.setUTCDate(n.getUTCDate()+s),n}const Dge=[31,null,31,30,31,30,31,31,30,31,30,31];function lJ(t){return t%400===0||t%4===0&&t%100!==0}function Pge(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Dge[e]||(lJ(t)?29:28))}function Lge(t,e){return e>=1&&e<=(lJ(t)?366:365)}function Rge(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Ige(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Fge(t,e){return e>=0&&e<=59}function oc(t,e,r){const n=_r(t,r==null?void 0:r.in),a=n.getFullYear(),s=n.getDate(),o=ma(t,0);o.setFullYear(a,e,15),o.setHours(0,0,0,0);const l=b0e(o);return n.setMonth(e,Math.min(s,l)),n}function C2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setHours(e),n}function _2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setMinutes(e),n}function K0(t,e,r){const n=_r(t,r==null?void 0:r.in),a=Math.trunc(n.getMonth()/3)+1,s=e-a;return oc(n,n.getMonth()+s*3)}function A2(t,e,r){const n=_r(t,r==null?void 0:r.in);return n.setSeconds(e),n}function zu(t,e,r){const n=_r(t,r==null?void 0:r.in);return isNaN(+n)?ma(t,NaN):(n.setFullYear(e),n)}function mp(t,e,r){return uu(t,-e,r)}function cJ(t,e,r){return GE(t,-1,r)}function vI(t,e,r){return oj(t,-1,r)}function Fg(t,e,r){return xf(t,-e,r)}function TN(){return typeof window<"u"}function Tx(t){return uJ(t)?(t.nodeName||"").toLowerCase():"#document"}function Tl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hd(t){var e;return(e=(uJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uJ(t){return TN()?t instanceof Node||t instanceof Tl(t).Node:!1}function Eo(t){return TN()?t instanceof Element||t instanceof Tl(t).Element:!1}function ld(t){return TN()?t instanceof HTMLElement||t instanceof Tl(t).HTMLElement:!1}function wI(t){return!TN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tl(t).ShadowRoot}const $ge=new Set(["inline","contents"]);function Zv(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=vc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!$ge.has(a)}const Bge=new Set(["table","td","th"]);function Hge(t){return Bge.has(Tx(t))}const zge=[":popover-open",":modal"];function MN(t){return zge.some(e=>{try{return t.matches(e)}catch{return!1}})}const qge=["transform","translate","scale","rotate","perspective"],Uge=["transform","translate","scale","rotate","perspective","filter"],Wge=["paint","layout","strict","content"];function QE(t){const e=ZE(),r=Eo(t)?vc(t):t;return qge.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Uge.some(n=>(r.willChange||"").includes(n))||Wge.some(n=>(r.contain||"").includes(n))}function Vge(t){let e=am(t);for(;ld(e)&&!$g(e);){if(QE(e))return e;if(MN(e))return null;e=am(e)}return null}function ZE(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Gge=new Set(["html","body","#document"]);function $g(t){return Gge.has(Tx(t))}function vc(t){return Tl(t).getComputedStyle(t)}function ON(t){return Eo(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function am(t){if(Tx(t)==="html")return t;const e=t.assignedSlot||t.parentNode||wI(t)&&t.host||hd(t);return wI(e)?e.host:e}function dJ(t){const e=am(t);return $g(e)?t.ownerDocument?t.ownerDocument.body:t.body:ld(e)&&Zv(e)?e:dJ(e)}function Wb(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=dJ(t),s=a===((n=t.ownerDocument)==null?void 0:n.body),o=Tl(a);if(s){const l=MM(o);return e.concat(o,o.visualViewport||[],Zv(a)?a:[],l&&r?Wb(l):[])}return e.concat(a,Wb(a,[],r))}function MM(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Bg=Math.min,pp=Math.max,hj=Math.round,vw=Math.floor,rd=t=>({x:t,y:t}),Yge={left:"right",right:"left",bottom:"top",top:"bottom"},Kge={start:"end",end:"start"};function Jge(t,e,r){return pp(t,Bg(e,r))}function EN(t,e){return typeof t=="function"?t(e):t}function Hg(t){return t.split("-")[0]}function e1(t){return t.split("-")[1]}function Xge(t){return t==="x"?"y":"x"}function eD(t){return t==="y"?"height":"width"}const Qge=new Set(["top","bottom"]);function ep(t){return Qge.has(Hg(t))?"y":"x"}function tD(t){return Xge(ep(t))}function Zge(t,e,r){r===void 0&&(r=!1);const n=e1(t),a=tD(t),s=eD(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=mj(o)),[o,mj(o)]}function exe(t){const e=mj(t);return[OM(t),e,OM(e)]}function OM(t){return t.replace(/start|end/g,e=>Kge[e])}const jI=["left","right"],NI=["right","left"],txe=["top","bottom"],rxe=["bottom","top"];function nxe(t,e,r){switch(t){case"top":case"bottom":return r?e?NI:jI:e?jI:NI;case"left":case"right":return e?txe:rxe;default:return[]}}function axe(t,e,r,n){const a=e1(t);let s=nxe(Hg(t),r==="start",n);return a&&(s=s.map(o=>o+"-"+a),e&&(s=s.concat(s.map(OM)))),s}function mj(t){return t.replace(/left|right|bottom|top/g,e=>Yge[e])}function ixe(t){return{top:0,right:0,bottom:0,left:0,...t}}function fJ(t){return typeof t!="number"?ixe(t):{top:t,right:t,bottom:t,left:t}}function pj(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}var sxe=typeof document<"u",oxe=function(){},gj=sxe?y.useLayoutEffect:oxe;const lxe={...K2},cxe=lxe.useInsertionEffect,uxe=cxe||(t=>t());function dxe(t){const e=y.useRef(()=>{});return uxe(()=>{e.current=t}),y.useCallback(function(){for(var r=arguments.length,n=new Array(r),a=0;a<r;a++)n[a]=arguments[a];return e.current==null?void 0:e.current(...n)},[])}function SI(t,e,r){let{reference:n,floating:a}=t;const s=ep(e),o=tD(e),l=eD(o),c=Hg(e),u=s==="y",f=n.x+n.width/2-a.width/2,m=n.y+n.height/2-a.height/2,g=n[l]/2-a[l]/2;let p;switch(c){case"top":p={x:f,y:n.y-a.height};break;case"bottom":p={x:f,y:n.y+n.height};break;case"right":p={x:n.x+n.width,y:m};break;case"left":p={x:n.x-a.width,y:m};break;default:p={x:n.x,y:n.y}}switch(e1(e)){case"start":p[o]-=g*(r&&u?-1:1);break;case"end":p[o]+=g*(r&&u?-1:1);break}return p}const fxe=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:s=[],platform:o}=r,l=s.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let u=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:f,y:m}=SI(u,n,c),g=n,p={},v=0;for(let w=0;w<l.length;w++){const{name:b,fn:N}=l[w],{x:k,y:S,data:A,reset:_}=await N({x:f,y:m,initialPlacement:n,placement:g,strategy:a,middlewareData:p,rects:u,platform:o,elements:{reference:t,floating:e}});f=k??f,m=S??m,p={...p,[b]:{...p[b],...A}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(u=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):_.rects),{x:f,y:m}=SI(u,g,c)),w=-1)}return{x:f,y:m,placement:g,strategy:a,middlewareData:p}};async function hxe(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:s,rects:o,elements:l,strategy:c}=t,{boundary:u="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:g=!1,padding:p=0}=EN(e,t),v=fJ(p),b=l[g?m==="floating"?"reference":"floating":m],N=pj(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(b)))==null||r?b:b.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(l.floating)),boundary:u,rootBoundary:f,strategy:c})),k=m==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,S=await(s.getOffsetParent==null?void 0:s.getOffsetParent(l.floating)),A=await(s.isElement==null?void 0:s.isElement(S))?await(s.getScale==null?void 0:s.getScale(S))||{x:1,y:1}:{x:1,y:1},_=pj(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:S,strategy:c}):k);return{top:(N.top-_.top+v.top)/A.y,bottom:(_.bottom-N.bottom+v.bottom)/A.y,left:(N.left-_.left+v.left)/A.x,right:(_.right-N.right+v.right)/A.x}}const mxe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:s,platform:o,elements:l,middlewareData:c}=e,{element:u,padding:f=0}=EN(t,e)||{};if(u==null)return{};const m=fJ(f),g={x:r,y:n},p=tD(a),v=eD(p),w=await o.getDimensions(u),b=p==="y",N=b?"top":"left",k=b?"bottom":"right",S=b?"clientHeight":"clientWidth",A=s.reference[v]+s.reference[p]-g[p]-s.floating[v],_=g[p]-s.reference[p],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u));let R=M?M[S]:0;(!R||!await(o.isElement==null?void 0:o.isElement(M)))&&(R=l.floating[S]||s.floating[v]);const L=A/2-_/2,I=R/2-w[v]/2-1,B=Bg(m[N],I),D=Bg(m[k],I),E=B,H=R-w[v]-D,V=R/2-w[v]/2+L,Y=Jge(E,V,H),W=!c.arrow&&e1(a)!=null&&V!==Y&&s.reference[v]/2-(V<E?B:D)-w[v]/2<0,F=W?V<E?V-E:V-H:0;return{[p]:g[p]+F,data:{[p]:Y,centerOffset:V-Y-F,...W&&{alignmentOffset:F}},reset:W}}}),pxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:s,rects:o,initialPlacement:l,platform:c,elements:u}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:p="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...b}=EN(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const N=Hg(a),k=ep(l),S=Hg(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(u.floating)),_=g||(S||!w?[mj(l)]:exe(l)),M=v!=="none";!g&&M&&_.push(...axe(l,w,v,A));const R=[l,..._],L=await hxe(e,b),I=[];let B=((n=s.flip)==null?void 0:n.overflows)||[];if(f&&I.push(L[N]),m){const V=Zge(a,o,A);I.push(L[V[0]],L[V[1]])}if(B=[...B,{placement:a,overflows:I}],!I.every(V=>V<=0)){var D,E;const V=(((D=s.flip)==null?void 0:D.index)||0)+1,Y=R[V];if(Y&&(!(m==="alignment"?k!==ep(Y):!1)||B.every(z=>ep(z.placement)===k?z.overflows[0]>0:!0)))return{data:{index:V,overflows:B},reset:{placement:Y}};let W=(E=B.filter(F=>F.overflows[0]<=0).sort((F,z)=>F.overflows[1]-z.overflows[1])[0])==null?void 0:E.placement;if(!W)switch(p){case"bestFit":{var H;const F=(H=B.filter(z=>{if(M){const J=ep(z.placement);return J===k||J==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(J=>J>0).reduce((J,oe)=>J+oe,0)]).sort((z,J)=>z[1]-J[1])[0])==null?void 0:H[0];F&&(W=F);break}case"initialPlacement":W=l;break}if(a!==W)return{reset:{placement:W}}}return{}}}},gxe=new Set(["left","top"]);async function xxe(t,e){const{placement:r,platform:n,elements:a}=t,s=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Hg(r),l=e1(r),c=ep(r)==="y",u=gxe.has(o)?-1:1,f=s&&c?-1:1,m=EN(e,t);let{mainAxis:g,crossAxis:p,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(p=l==="end"?v*-1:v),c?{x:p*f,y:g*u}:{x:g*u,y:p*f}}const yxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:s,placement:o,middlewareData:l}=e,c=await xxe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:a+c.x,y:s+c.y,data:{...c,placement:o}}}}};function hJ(t){const e=vc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=ld(t),s=a?t.offsetWidth:r,o=a?t.offsetHeight:n,l=hj(r)!==s||hj(n)!==o;return l&&(r=s,n=o),{width:r,height:n,$:l}}function rD(t){return Eo(t)?t:t.contextElement}function xg(t){const e=rD(t);if(!ld(e))return rd(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:s}=hJ(e);let o=(s?hj(r.width):r.width)/n,l=(s?hj(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const bxe=rd(0);function mJ(t){const e=Tl(t);return!ZE()||!e.visualViewport?bxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function vxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Tl(t)?!1:e}function _p(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),s=rD(t);let o=rd(1);e&&(n?Eo(n)&&(o=xg(n)):o=xg(t));const l=vxe(s,r,n)?mJ(s):rd(0);let c=(a.left+l.x)/o.x,u=(a.top+l.y)/o.y,f=a.width/o.x,m=a.height/o.y;if(s){const g=Tl(s),p=n&&Eo(n)?Tl(n):n;let v=g,w=MM(v);for(;w&&n&&p!==v;){const b=xg(w),N=w.getBoundingClientRect(),k=vc(w),S=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*b.x,A=N.top+(w.clientTop+parseFloat(k.paddingTop))*b.y;c*=b.x,u*=b.y,f*=b.x,m*=b.y,c+=S,u+=A,v=Tl(w),w=MM(v)}}return pj({width:f,height:m,x:c,y:u})}function DN(t,e){const r=ON(t).scrollLeft;return e?e.left+r:_p(hd(t)).left+r}function pJ(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-DN(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function wxe(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const s=a==="fixed",o=hd(n),l=e?MN(e.floating):!1;if(n===o||l&&s)return r;let c={scrollLeft:0,scrollTop:0},u=rd(1);const f=rd(0),m=ld(n);if((m||!m&&!s)&&((Tx(n)!=="body"||Zv(o))&&(c=ON(n)),ld(n))){const p=_p(n);u=xg(n),f.x=p.x+n.clientLeft,f.y=p.y+n.clientTop}const g=o&&!m&&!s?pJ(o,c):rd(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-c.scrollLeft*u.x+f.x+g.x,y:r.y*u.y-c.scrollTop*u.y+f.y+g.y}}function jxe(t){return Array.from(t.getClientRects())}function Nxe(t){const e=hd(t),r=ON(t),n=t.ownerDocument.body,a=pp(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=pp(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+DN(t);const l=-r.scrollTop;return vc(n).direction==="rtl"&&(o+=pp(e.clientWidth,n.clientWidth)-a),{width:a,height:s,x:o,y:l}}const kI=25;function Sxe(t,e){const r=Tl(t),n=hd(t),a=r.visualViewport;let s=n.clientWidth,o=n.clientHeight,l=0,c=0;if(a){s=a.width,o=a.height;const f=ZE();(!f||f&&e==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}const u=DN(n);if(u<=0){const f=n.ownerDocument,m=f.body,g=getComputedStyle(m),p=f.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-m.clientWidth-p);v<=kI&&(s-=v)}else u<=kI&&(s+=u);return{width:s,height:o,x:l,y:c}}const kxe=new Set(["absolute","fixed"]);function Cxe(t,e){const r=_p(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,s=ld(t)?xg(t):rd(1),o=t.clientWidth*s.x,l=t.clientHeight*s.y,c=a*s.x,u=n*s.y;return{width:o,height:l,x:c,y:u}}function CI(t,e,r){let n;if(e==="viewport")n=Sxe(t,r);else if(e==="document")n=Nxe(hd(t));else if(Eo(e))n=Cxe(e,r);else{const a=mJ(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return pj(n)}function gJ(t,e){const r=am(t);return r===e||!Eo(r)||$g(r)?!1:vc(r).position==="fixed"||gJ(r,e)}function _xe(t,e){const r=e.get(t);if(r)return r;let n=Wb(t,[],!1).filter(l=>Eo(l)&&Tx(l)!=="body"),a=null;const s=vc(t).position==="fixed";let o=s?am(t):t;for(;Eo(o)&&!$g(o);){const l=vc(o),c=QE(o);!c&&l.position==="fixed"&&(a=null),(s?!c&&!a:!c&&l.position==="static"&&!!a&&kxe.has(a.position)||Zv(o)&&!c&&gJ(t,o))?n=n.filter(f=>f!==o):a=l,o=am(o)}return e.set(t,n),n}function Axe(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?MN(e)?[]:_xe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((u,f)=>{const m=CI(e,f,a);return u.top=pp(m.top,u.top),u.right=Bg(m.right,u.right),u.bottom=Bg(m.bottom,u.bottom),u.left=pp(m.left,u.left),u},CI(e,l,a));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function Txe(t){const{width:e,height:r}=hJ(t);return{width:e,height:r}}function Mxe(t,e,r){const n=ld(e),a=hd(e),s=r==="fixed",o=_p(t,!0,s,e);let l={scrollLeft:0,scrollTop:0};const c=rd(0);function u(){c.x=DN(a)}if(n||!n&&!s)if((Tx(e)!=="body"||Zv(a))&&(l=ON(e)),n){const p=_p(e,!0,s,e);c.x=p.x+e.clientLeft,c.y=p.y+e.clientTop}else a&&u();s&&!n&&a&&u();const f=a&&!n&&!s?pJ(a,l):rd(0),m=o.left+l.scrollLeft-c.x-f.x,g=o.top+l.scrollTop-c.y-f.y;return{x:m,y:g,width:o.width,height:o.height}}function wC(t){return vc(t).position==="static"}function _I(t,e){if(!ld(t)||vc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return hd(t)===r&&(r=r.ownerDocument.body),r}function xJ(t,e){const r=Tl(t);if(MN(t))return r;if(!ld(t)){let a=am(t);for(;a&&!$g(a);){if(Eo(a)&&!wC(a))return a;a=am(a)}return r}let n=_I(t,e);for(;n&&Hge(n)&&wC(n);)n=_I(n,e);return n&&$g(n)&&wC(n)&&!QE(n)?r:n||Vge(t)||r}const Oxe=async function(t){const e=this.getOffsetParent||xJ,r=this.getDimensions,n=await r(t.floating);return{reference:Mxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Exe(t){return vc(t).direction==="rtl"}const Dxe={convertOffsetParentRelativeRectToViewportRelativeRect:wxe,getDocumentElement:hd,getClippingRect:Axe,getOffsetParent:xJ,getElementRects:Oxe,getClientRects:jxe,getDimensions:Txe,getScale:xg,isElement:Eo,isRTL:Exe};function yJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Pxe(t,e){let r=null,n;const a=hd(t);function s(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),s();const u=t.getBoundingClientRect(),{left:f,top:m,width:g,height:p}=u;if(l||e(),!g||!p)return;const v=vw(m),w=vw(a.clientWidth-(f+g)),b=vw(a.clientHeight-(m+p)),N=vw(f),S={rootMargin:-v+"px "+-w+"px "+-b+"px "+-N+"px",threshold:pp(0,Bg(1,c))||1};let A=!0;function _(M){const R=M[0].intersectionRatio;if(R!==c){if(!A)return o();R?o(!1,R):n=setTimeout(()=>{o(!1,1e-7)},1e3)}R===1&&!yJ(u,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(_,{...S,root:a.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),s}function bJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,u=rD(t),f=a||s?[...u?Wb(u):[],...Wb(e)]:[];f.forEach(N=>{a&&N.addEventListener("scroll",r,{passive:!0}),s&&N.addEventListener("resize",r)});const m=u&&l?Pxe(u,r):null;let g=-1,p=null;o&&(p=new ResizeObserver(N=>{let[k]=N;k&&k.target===u&&p&&(p.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=p)==null||S.observe(e)})),r()}),u&&!c&&p.observe(u),p.observe(e));let v,w=c?_p(t):null;c&&b();function b(){const N=_p(t);w&&!yJ(w,N)&&r(),w=N,v=requestAnimationFrame(b)}return r(),()=>{var N;f.forEach(k=>{a&&k.removeEventListener("scroll",r),s&&k.removeEventListener("resize",r)}),m==null||m(),(N=p)==null||N.disconnect(),p=null,c&&cancelAnimationFrame(v)}}const Lxe=yxe,Rxe=pxe,AI=mxe,Ixe=(t,e,r)=>{const n=new Map,a={platform:Dxe,...r},s={...a.platform,_c:n};return fxe(t,e,{...a,platform:s})};var Fxe=typeof document<"u",$xe=function(){},T2=Fxe?y.useLayoutEffect:$xe;function xj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!xj(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const s=a[n];if(!(s==="_owner"&&t.$$typeof)&&!xj(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function vJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function TI(t,e){const r=vJ(t);return Math.round(e*r)/r}function jC(t){const e=y.useRef(t);return T2(()=>{e.current=t}),e}function Bxe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:s,floating:o}={},transform:l=!0,whileElementsMounted:c,open:u}=t,[f,m]=y.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,p]=y.useState(n);xj(g,n)||p(n);const[v,w]=y.useState(null),[b,N]=y.useState(null),k=y.useCallback(z=>{z!==M.current&&(M.current=z,w(z))},[]),S=y.useCallback(z=>{z!==R.current&&(R.current=z,N(z))},[]),A=s||v,_=o||b,M=y.useRef(null),R=y.useRef(null),L=y.useRef(f),I=c!=null,B=jC(c),D=jC(a),E=jC(u),H=y.useCallback(()=>{if(!M.current||!R.current)return;const z={placement:e,strategy:r,middleware:g};D.current&&(z.platform=D.current),Ixe(M.current,R.current,z).then(J=>{const oe={...J,isPositioned:E.current!==!1};V.current&&!xj(L.current,oe)&&(L.current=oe,oE.flushSync(()=>{m(oe)}))})},[g,e,r,D,E]);T2(()=>{u===!1&&L.current.isPositioned&&(L.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[u]);const V=y.useRef(!1);T2(()=>(V.current=!0,()=>{V.current=!1}),[]),T2(()=>{if(A&&(M.current=A),_&&(R.current=_),A&&_){if(B.current)return B.current(A,_,H);H()}},[A,_,H,B,I]);const Y=y.useMemo(()=>({reference:M,floating:R,setReference:k,setFloating:S}),[k,S]),W=y.useMemo(()=>({reference:A,floating:_}),[A,_]),F=y.useMemo(()=>{const z={position:r,left:0,top:0};if(!W.floating)return z;const J=TI(W.floating,f.x),oe=TI(W.floating,f.y);return l?{...z,transform:"translate("+J+"px, "+oe+"px)",...vJ(W.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:J,top:oe}},[r,l,W.floating,f.x,f.y]);return y.useMemo(()=>({...f,update:H,refs:Y,elements:W,floatingStyles:F}),[f,H,Y,W,F])}const Hxe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?AI({element:n.current,padding:a}).fn(r):{}:n?AI({element:n,padding:a}).fn(r):{}}}},zxe=(t,e)=>({...Lxe(t),options:[t,e]}),qxe=(t,e)=>({...Rxe(t),options:[t,e]}),Uxe=(t,e)=>({...Hxe(t),options:[t,e]}),Wxe={...K2};let MI=!1,Vxe=0;const OI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Vxe++;function Gxe(){const[t,e]=y.useState(()=>MI?OI():void 0);return gj(()=>{t==null&&e(OI())},[]),y.useEffect(()=>{MI=!0},[]),t}const Yxe=Wxe.useId,wJ=Yxe||Gxe,Kxe=y.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:a},middlewareData:{arrow:s,shift:o}},width:l=14,height:c=7,tipRadius:u=0,strokeWidth:f=0,staticOffset:m,stroke:g,d:p,style:{transform:v,...w}={},...b}=e,N=wJ(),[k,S]=y.useState(!1);if(gj(()=>{if(!a)return;vc(a).direction==="rtl"&&S(!0)},[a]),!a)return null;const[A,_]=n.split("-"),M=A==="top"||A==="bottom";let R=m;(M&&o!=null&&o.x||!M&&o!=null&&o.y)&&(R=null);const L=f*2,I=L/2,B=l/2*(u/-8+1),D=c/2*u/4,E=!!p,H=R&&_==="end"?"bottom":"top";let V=R&&_==="end"?"right":"left";R&&k&&(V=_==="end"?"left":"right");const Y=(s==null?void 0:s.x)!=null?R||s.x:"",W=(s==null?void 0:s.y)!=null?R||s.y:"",F=p||"M0,0"+(" H"+l)+(" L"+(l-B)+","+(c-D))+(" Q"+l/2+","+c+" "+B+","+(c-D))+" Z",z={top:E?"rotate(180deg)":"",left:E?"rotate(90deg)":"rotate(-90deg)",bottom:E?"":"rotate(180deg)",right:E?"rotate(-90deg)":"rotate(90deg)"}[A];return i.jsxs("svg",{...b,"aria-hidden":!0,ref:r,width:E?l:l+L,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[V]:Y,[H]:W,[A]:M||E?"100%":"calc(100% - "+L/2+"px)",transform:[z,v].filter(J=>!!J).join(" "),...w},children:[L>0&&i.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:g,strokeWidth:L+(p?0:1),d:F}),i.jsx("path",{stroke:L&&!p?b.fill:"none",d:F}),i.jsx("clipPath",{id:N,children:i.jsx("rect",{x:-I,y:I*(E?-1:1),width:l+L,height:l})})]})});function Jxe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(a=>a(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const Xxe=y.createContext(null),Qxe=y.createContext(null),Zxe=()=>{var t;return((t=y.useContext(Xxe))==null?void 0:t.id)||null},eye=()=>y.useContext(Qxe);function tye(t){const{open:e=!1,onOpenChange:r,elements:n}=t,a=wJ(),s=y.useRef({}),[o]=y.useState(()=>Jxe()),l=Zxe()!=null,[c,u]=y.useState(n.reference),f=dxe((p,v,w)=>{s.current.openEvent=p?v:void 0,o.emit("openchange",{open:p,event:v,reason:w,nested:l}),r==null||r(p,v,w)}),m=y.useMemo(()=>({setPositionReference:u}),[]),g=y.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return y.useMemo(()=>({dataRef:s,open:e,onOpenChange:f,elements:g,events:o,floatingId:a,refs:m}),[e,f,g,o,a,m])}function rye(t){t===void 0&&(t={});const{nodeId:e}=t,r=tye({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,a=n.elements,[s,o]=y.useState(null),[l,c]=y.useState(null),f=(a==null?void 0:a.domReference)||s,m=y.useRef(null),g=eye();gj(()=>{f&&(m.current=f)},[f]);const p=Bxe({...t,elements:{...a,...l&&{reference:l}}}),v=y.useCallback(S=>{const A=Eo(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(A),p.refs.setReference(A)},[p.refs]),w=y.useCallback(S=>{(Eo(S)||S===null)&&(m.current=S,o(S)),(Eo(p.refs.reference.current)||p.refs.reference.current===null||S!==null&&!Eo(S))&&p.refs.setReference(S)},[p.refs]),b=y.useMemo(()=>({...p.refs,setReference:w,setPositionReference:v,domReference:m}),[p.refs,w,v]),N=y.useMemo(()=>({...p.elements,domReference:f}),[p.elements,f]),k=y.useMemo(()=>({...p,...n,refs:b,elements:N,nodeId:e}),[p,b,N,e,n]);return gj(()=>{n.dataRef.current.floatingContext=k;const S=g==null?void 0:g.nodesRef.current.find(A=>A.id===e);S&&(S.context=k)}),y.useMemo(()=>({...p,context:k,refs:b,elements:N}),[p,b,N,k])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var EM=function(e,r){return EM=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,a){n.__proto__=a}||function(n,a){for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&(n[s]=a[s])},EM(e,r)};function Js(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");EM(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Dn=function(){return Dn=Object.assign||function(r){for(var n,a=1,s=arguments.length;a<s;a++){n=arguments[a];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Dn.apply(this,arguments)};function Ku(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,s;n<a;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var nye=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,a=n===void 0?!1:n,s=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(a?" and Time":"");return fe.createElement("div",{className:s,role:"dialog","aria-label":l,"aria-modal":"true"},o)},aye=function(t,e){var r=y.useRef(null),n=y.useRef(t);n.current=t;var a=y.useCallback(function(s){var o,l=s.composed&&s.composedPath&&s.composedPath().find(function(c){return c instanceof Node})||s.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,s))},[e]);return y.useEffect(function(){return document.addEventListener("mousedown",a),function(){document.removeEventListener("mousedown",a)}},[a]),r},PN=function(t){var e=t.children,r=t.onClickOutside,n=t.className,a=t.containerRef,s=t.style,o=t.ignoreClass,l=aye(r,o);return fe.createElement("div",{className:n,style:s,ref:function(c){l.current=c,a&&(a.current=c)}},e)},lr;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(lr||(lr={}));function jJ(){var t=typeof window<"u"?window:globalThis;return t}var t1=12;function oa(t){if(t==null)return new Date;var e=typeof t=="string"?Nge(t):_r(t);return LN(e)?e:new Date}function NC(t,e,r,n,a){a===void 0&&(a=oa());for(var s=zg(r)||zg(nD()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var u=c[l],f=xge(t,u,a,{locale:s});if(LN(f)&&(!n||t===Wa(f,u,r)))return f}return null}function LN(t,e){return lj(t)&&!Yu(t,new Date("1/1/1800"))}function Wa(t,e,r){if(r==="en")return yI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?zg(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||zg(nD()),yI(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function sc(t,e){var r=e.dateFormat,n=e.locale,a=Array.isArray(r)&&r.length>0?r[0]:r;return t&&Wa(t,a,n)||""}var NJ=" - ";function iye(t,e,r){if(!t&&!e)return"";var n=t?sc(t,r):"",a=e?sc(e,r):"",s=r.rangeSeparator||NJ;return"".concat(n).concat(s).concat(a)}function sye(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?sc(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=sc(t[1],e);return"".concat(r,", ").concat(n)}var a=t.length-1;return"".concat(r," (+").concat(a,")")}function SC(t,e){var r=e.hour,n=r===void 0?0:r,a=e.minute,s=a===void 0?0:a,o=e.second,l=o===void 0?0:o;return C2(_2(A2(t,l),s),n)}function oye(t){return YE(t)}function lye(t,e){return Wa(t,"ddd",e)}function M2(t){return Cp(t)}function Vh(t,e,r){var n=zg(e||nD());return Mf(t,{locale:n,weekStartsOn:r})}function wf(t){return ZK(t)}function eb(t){return AN(t)}function EI(t){return _M(t)}function DI(){return Cp(oa())}function PI(t){return XK(t)}function cye(t){return Npe(t)}function uye(t){return QK(t)}function qu(t,e){return t&&e?wge(t,e):!t&&!e}function Ao(t,e){return t&&e?bge(t,e):!t&&!e}function yj(t,e){return t&&e?vge(t,e):!t&&!e}function En(t,e){return t&&e?wpe(t,e):!t&&!e}function tp(t,e){return t&&e?j0e(t,e):!t&&!e}function Wm(t,e,r){var n,a=Cp(e),s=XK(r);try{n=Ub(t,{start:a,end:s})}catch{n=!1}return n}function nD(){var t=jJ();return t.__localeId__}function zg(t){if(typeof t=="string"){var e=jJ();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function dye(t,e,r){return e(Wa(t,"EEEE",r))}function fye(t,e){return Wa(t,"EEEEEE",e)}function hye(t,e){return Wa(t,"EEE",e)}function aD(t,e){return Wa(oc(oa(),t),"LLLL",e)}function SJ(t,e){return Wa(oc(oa(),t),"LLL",e)}function mye(t,e){return Wa(K0(oa(),t),"QQQ",e)}function cc(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,u=r.filterDate;return r1(t,{minDate:n,maxDate:a})||s&&s.some(function(f){return f instanceof Date?En(t,f):En(t,f.date)})||o&&o.some(function(f){var m=f.start,g=f.end;return Ub(t,{start:m,end:g})})||l&&!l.some(function(f){return En(t,f)})||c&&!c.some(function(f){var m=f.start,g=f.end;return Ub(t,{start:m,end:g})})||u&&!u(oa(t))||!1}function iD(t,e){var r=e===void 0?{}:e,n=r.excludeDates,a=r.excludeDateIntervals;return a&&a.length>0?a.some(function(s){var o=s.start,l=s.end;return Ub(t,{start:o,end:l})}):n&&n.some(function(s){var o;return s instanceof Date?En(t,s):En(t,(o=s.date)!==null&&o!==void 0?o:new Date)})||!1}function kJ(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return r1(t,{minDate:n?ZK(n):void 0,maxDate:a?QK(a):void 0})||(s==null?void 0:s.some(function(c){return Ao(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ao(t,c)})||l&&!l(oa(t))||!1}function ww(t,e,r,n){var a=yn(t),s=ho(t),o=yn(e),l=ho(e),c=yn(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function pye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates;return r1(t,{minDate:n,maxDate:a})||s&&s.some(function(l){return Ao(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return Ao(l,t)})||!1}function jw(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate;return r1(t,{minDate:n,maxDate:a})||(s==null?void 0:s.some(function(c){return yj(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return yj(t,c)})||l&&!l(oa(t))||!1}function Nw(t,e,r){if(!e||!r||!lj(e)||!lj(r))return!1;var n=yn(e),a=yn(r);return n<=t&&a>=t}function O2(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.maxDate,s=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return r1(c,{minDate:n?AN(n):void 0,maxDate:a?eJ(a):void 0})||(s==null?void 0:s.some(function(u){return qu(c,u instanceof Date?u:u.date)}))||o&&!o.some(function(u){return qu(c,u)})||l&&!l(oa(c))||!1}function Sw(t,e,r,n){var a=yn(t),s=hp(t),o=yn(e),l=hp(e),c=yn(n);return a===o&&a===c?s<=r&&r<=l:a<o?c===a&&s<=r||c===o&&l>=r||c<o&&c>a:!1}function r1(t,e){var r,n=e===void 0?{}:e,a=n.minDate,s=n.maxDate;return(r=a&&Ig(t,a)<0||s&&Ig(t,s)>0)!==null&&r!==void 0?r:!1}function LI(t,e){return e.some(function(r){return bf(r)===bf(t)&&vf(r)===vf(t)&&Wh(r)===Wh(t)})}function RI(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,a=r.includeTimes,s=r.filterTime;return n&&LI(t,n)||a&&!LI(t,a)||s&&!s(t)||!1}function II(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var a=oa();a=C2(a,bf(t)),a=_2(a,vf(t)),a=A2(a,Wh(t));var s=oa();s=C2(s,bf(r)),s=_2(s,vf(r)),s=A2(s,Wh(r));var o=oa();o=C2(o,bf(n)),o=_2(o,vf(n)),o=A2(o,Wh(n));var l;try{l=!Ub(a,{start:s,end:o})}catch{l=!1}return l}function FI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=mp(t,1);return n&&cj(n,s)>0||a&&a.every(function(o){return cj(o,s)>0})||!1}function $I(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=uu(t,1);return n&&cj(s,n)>0||a&&a.every(function(o){return cj(s,o)>0})||!1}function gye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=AN(t),o=cJ(s);return n&&uj(n,o)>0||a&&a.every(function(l){return uj(l,o)>0})||!1}function xye(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=eJ(t),o=GE(s,1);return n&&uj(o,n)>0||a&&a.every(function(l){return uj(o,l)>0})||!1}function BI(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.includeDates,s=Fg(t,1);return n&&dj(n,s)>0||a&&a.every(function(o){return dj(o,s)>0})||!1}function yye(t,e){var r=e===void 0?{}:e,n=r.minDate,a=r.yearItemNumber,s=a===void 0?t1:a,o=eb(Fg(t,s)),l=cf(o,s).endPeriod,c=n&&yn(n);return c&&c>l||!1}function HI(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.includeDates,s=xf(t,1);return n&&dj(s,n)>0||a&&a.every(function(o){return dj(s,o)>0})||!1}function bye(t,e){var r=e===void 0?{}:e,n=r.maxDate,a=r.yearItemNumber,s=a===void 0?t1:a,o=xf(t,s),l=cf(o,s).startPeriod,c=n&&yn(n);return c&&c<l||!1}function CJ(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return Ig(a,e)>=0});return fI(n)}else return r?fI(r):e}function _J(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(a){return Ig(a,e)<=0});return dI(n)}else return r?dI(r):e}function zI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,a=0,s=t.length;a<s;a++){var o=t[a];if(yf(o)){var l=Wa(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var u=Object.keys(o),f=(r=u[0])!==null&&r!==void 0?r:"",m=o[f];if(typeof f=="string"&&Array.isArray(m))for(var g=0,p=m.length;g<p;g++){var v=m[g];if(v){var l=Wa(v,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(f)||(c.push(f),n.set(l,c))}}}}return n}function vye(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function wye(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var a=n.date,s=n.holidayName;if(yf(a)){var o=Wa(a,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&vye(l.holidayNames,[s]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Ku(Ku([],c,!0),[s],!1):[s],r.set(o,l)}}}),r}function jye(t,e,r,n,a){for(var s=a.length,o=[],l=0;l<s;l++){var c=t,u=a[l];u&&(c=xpe(c,bf(u)),c=CM(c,vf(u)),c=vpe(c,Wh(u)));var f=CM(t,(r+1)*n);nm(c,e)&&Yu(c,f)&&u!=null&&o.push(u)}return o}function qI(t){return t<10?"0".concat(t):"".concat(t)}function cf(t,e){e===void 0&&(e=t1);var r=Math.ceil(yn(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function Nye(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function UI(t){var e=t.getSeconds(),r=t.getMilliseconds();return _r(t.getTime()-e*1e3-r)}function Sye(t,e){return UI(t).getTime()===UI(e).getTime()}function WI(t){if(!yf(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function kC(t,e){if(!yf(t)||!yf(e))throw new Error("Invalid date received");var r=WI(t),n=WI(e);return Yu(r,n)}function AJ(t){return t.key===lr.Space}var kye=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=fe.createRef(),n.onTimeChange=function(a){var s,o;n.setState({time:a});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),u=c?l:new Date;if(a!=null&&a.includes(":")){var f=a.split(":"),m=f[0],g=f[1];u.setHours(Number(m)),u.setMinutes(Number(g))}(o=(s=n.props).onChange)===null||o===void 0||o.call(s,u)},n.renderTimeInput=function(){var a=n.state.time,s=n.props,o=s.date,l=s.timeString,c=s.customTimeInput;return c?y.cloneElement(c,{date:o,value:a,onChange:n.onTimeChange}):fe.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var u;(u=n.inputRef.current)===null||u===void 0||u.focus()},required:!0,value:a,onChange:function(u){n.onTimeChange(u.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return fe.createElement("div",{className:"react-datepicker__input-time-container"},fe.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),fe.createElement("div",{className:"react-datepicker-time__input-container"},fe.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(y.Component),Cye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=y.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isSameDay=function(n){return En(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var a=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),s=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!a&&r.isSameDayOrWeek(r.props.preSelection)&&!s},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return iD(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return En(r.props.day,Vh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&En(n,Vh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,a=n.day,s=n.highlightDates;if(!s)return!1;var o=Wa(a,"MM.dd.yyyy");return s.get(o)},r.getHolidaysClass=function(){var n,a=r.props,s=a.day,o=a.holidays;if(!o)return[void 0];var l=Wa(s,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:Wm(a,s,o)},r.isInSelectingRange=function(){var n,a=r.props,s=a.day,o=a.selectsStart,l=a.selectsEnd,c=a.selectsRange,u=a.selectsDisabledDaysInRange,f=a.startDate,m=a.swapRange,g=a.endDate,p=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!p||!u&&r.isDisabled())return!1;if(o&&g&&(Yu(p,g)||tp(p,g)))return Wm(s,p,g);if(l&&f&&(nm(p,f)||tp(p,f)))return Wm(s,f,p);if(c&&f&&!g){if(tp(p,f)||nm(p,f))return Wm(s,f,p);if(m&&Yu(p,f))return Wm(s,p,f)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.startDate,l=a.selectsStart,c=a.swapRange,u=a.selectsRange,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?En(s,f):u&&c&&o&&f?En(s,Yu(f,o)?f:o):En(s,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var a=r.props,s=a.day,o=a.endDate,l=a.selectsEnd,c=a.selectsRange,u=a.swapRange,f=a.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?En(s,m):c&&u&&f&&m?En(s,Yu(m,f)?f:m):c?En(s,m):En(s,o)},r.isRangeStart=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:En(s,a)},r.isRangeEnd=function(){var n=r.props,a=n.day,s=n.startDate,o=n.endDate;return!s||!o?!1:En(o,a)},r.isWeekend=function(){var n=y0e(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===ho(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(ho(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(oa())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(a){return r.isSameDayOrWeek(a)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var a=r.props.dayClassName?r.props.dayClassName(n):void 0;return Cr("react-datepicker__day",a,"react-datepicker__day--"+lye(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,a=n.day,s=n.ariaLabelPrefixWhenEnabled,o=s===void 0?"Choose":s,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,u=r.isDisabled()||r.isExcluded()?c:o;return"".concat(u," ").concat(Wa(a,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,a=n.day,s=n.holidays,o=s===void 0?new Map:s,l=n.excludeDates,c=Wa(a,"MM.dd.yyyy"),u=[];return o.has(c)&&u.push.apply(u,o.get(c).holidayNames),r.isExcluded()&&u.push(l==null?void 0:l.filter(function(f){return f instanceof Date?En(f,a):En(f==null?void 0:f.date,a)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),u.join(", ")},r.getTabIndex=function(){var n=r.props.selected,a=r.props.preSelection,s=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&En(a,n))?0:-1;return s},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(bI(r.props.day),r.props.day):bI(r.props.day)},r.render=function(){return fe.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&fe.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,a;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((a=document.activeElement)===null||a===void 0?void 0:a.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(y.Component),_ye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=y.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var a,s,o=n.key;o===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(s=(a=r.props).handleOnKeyDown)===null||s===void 0||s.call(a,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!En(r.props.date,r.props.selected)&&En(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||En(r.props.date,r.props.selected)&&En(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var a=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&En(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(a=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(a=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(a=!0)),a&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,a=r.isWeekDisabled,s=r.ariaLabelPrefix,o=s===void 0?e.defaultProps.ariaLabelPrefix:s,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!a,"react-datepicker__week-number--selected":!!l&&En(this.props.date,this.props.selected)};return fe.createElement("div",{ref:this.weekNumberEl,className:Cr(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(y.Component),Aye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,a){r.props.onDayClick&&r.props.onDayClick(n,a)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,a,s){for(var o,l,c,u=new Date(n),f=0;f<7;f++){var m=new Date(n);m.setDate(m.getDate()+f);var g=!r.isDisabled(m);if(g){u=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(u,a,s),r.props.showWeekPicker&&r.handleDayClick(u,s),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):oye(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),a=iu(n,6),s=new Date(n);s<=a;){if(!r.isDisabled(s))return!1;s=iu(s,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),a=[],s=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,s):void 0;a.push(fe.createElement(_ye,Dn({key:"W"},e.defaultProps,r.props,{weekNumber:s,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return a.concat([0,1,2,3,4,5,6].map(function(l){var c=iu(n,l);return fe.createElement(Cye,Dn({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Vh(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!En(r.startOfWeek(),r.props.selected)&&En(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":En(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return fe.createElement("div",{className:Cr(r,n),role:"row"},this.renderDays())},e})(y.Component),My,Tye=6,yg={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},CC=(My={},My[yg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},My[yg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},My[yg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},My),kw=1;function VI(t,e){return t?yg.FOUR_COLUMNS:e?yg.TWO_COLUMNS:yg.THREE_COLUMNS}var Mye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=Ku([],Array(12),!0).map(function(){return y.createRef()}),r.QUARTER_REFS=Ku([],Array(4),!0).map(function(){return y.createRef()}),r.isDisabled=function(n){return cc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return iD(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,a){var s,o;(o=(s=r.props).onDayClick)===null||o===void 0||o.call(s,n,a,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var a,s;(s=(a=r.props).onDayMouseEnter)===null||s===void 0||s.call(a,n)},r.handleMouseLeave=function(){var n,a;(a=(n=r.props).onMouseLeave)===null||a===void 0||a.call(n)},r.isRangeStartMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ao(oc(s,n),o)},r.isRangeStartQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:yj(K0(s,n),o)},r.isRangeEndMonth=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:Ao(oc(s,n),l)},r.isRangeEndQuarter=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate;return!o||!l?!1:yj(K0(s,n),l)},r.isInSelectingRangeMonth=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,f=s.startDate,m=s.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!g?!1:l&&m?ww(g,m,n,o):c&&f||u&&f&&!m?ww(f,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.startDate,c=s.selectsStart,u=oc(o,n),f=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c?Ao(u,f):Ao(u,l)},r.isSelectingMonthRangeEnd=function(n){var a;if(!r.isInSelectingRangeMonth(n))return!1;var s=r.props,o=s.day,l=s.endDate,c=s.selectsEnd,u=s.selectsRange,f=oc(o,n),m=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return c||u?Ao(f,m):Ao(f,l)},r.isInSelectingRangeQuarter=function(n){var a,s=r.props,o=s.day,l=s.selectsStart,c=s.selectsEnd,u=s.selectsRange,f=s.startDate,m=s.endDate,g=(a=r.props.selectingDate)!==null&&a!==void 0?a:r.props.preSelection;return!(l||c||u)||!g?!1:l&&m?Sw(g,m,n,o):c&&f||u&&f&&!m?Sw(f,g,n,o):!1},r.isWeekInMonth=function(n){var a=r.props.day,s=iu(n,6);return Ao(n,a)||Ao(s,a)},r.isCurrentMonth=function(n,a){return yn(n)===yn(oa())&&a===ho(oa())},r.isCurrentQuarter=function(n,a){return yn(n)===yn(oa())&&a===hp(oa())},r.isSelectedMonth=function(n,a,s){return ho(s)===a&&yn(n)===yn(s)},r.isSelectMonthInList=function(n,a,s){return s.some(function(o){return r.isSelectedMonth(n,a,o)})},r.isSelectedQuarter=function(n,a,s){return hp(n)===a&&yn(n)===yn(s)},r.isMonthSelected=function(){var n=r.props,a=n.day,s=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=ho(a);return l?o==null?void 0:o.some(function(u){return r.isSelectedMonth(a,c,u)}):!!s&&r.isSelectedMonth(a,c,s)},r.renderWeeks=function(){for(var n=[],a=r.props.fixedHeight,s=0,o=!1,l=Vh(wf(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(v){return r.props.showWeekPicker?Vh(v,r.props.locale,r.props.calendarStartDay):r.props.preSelection},u=function(v){return r.props.showWeekPicker?Vh(v,r.props.locale,r.props.calendarStartDay):r.props.selected},f=r.props.selected?u(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(fe.createElement(Aye,Dn({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:s,day:l,month:ho(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:f,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){s++,l=oj(l,1);var g=a&&s>=Tye,p=!a&&!r.isWeekInMonth(l);if(g||p)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,a){var s=r.isMonthDisabledForLabelDate(a),o=s.isDisabled,l=s.labelDate;o||r.handleDayClick(wf(l),n)},r.onMonthMouseEnter=function(n){var a=r.isMonthDisabledForLabelDate(n),s=a.isDisabled,o=a.labelDate;s||r.handleDayMouseEnter(wf(o))},r.handleMonthNavigation=function(n,a){var s,o,l,c;(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,a,s){var o,l=r.props,c=l.selected,u=l.preSelection,f=l.setPreSelection,m=l.minDate,g=l.maxDate,p=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(u){var w=VI(p,v),b=r.getVerticalOffset(w),N=(o=CC[w])===null||o===void 0?void 0:o.grid,k=function(R,L,I){var B,D,E=L,H=I;switch(R){case lr.ArrowRight:E=uu(L,kw),H=I===11?0:I+kw;break;case lr.ArrowLeft:E=mp(L,kw),H=I===0?11:I-kw;break;case lr.ArrowUp:E=mp(L,b),H=!((B=N==null?void 0:N[0])===null||B===void 0)&&B.includes(I)?I+12-b:I-b;break;case lr.ArrowDown:E=uu(L,b),H=!((D=N==null?void 0:N[N.length-1])===null||D===void 0)&&D.includes(I)?I-12+b:I+b;break}return{newCalculatedDate:E,newCalculatedMonth:H}},S=function(R,L,I){for(var B=40,D=R,E=!1,H=0,V=k(D,L,I),Y=V.newCalculatedDate,W=V.newCalculatedMonth;!E;){if(H>=B){Y=L,W=I;break}if(m&&Y<m){D=lr.ArrowRight;var F=k(D,Y,W);Y=F.newCalculatedDate,W=F.newCalculatedMonth}if(g&&Y>g){D=lr.ArrowLeft;var F=k(D,Y,W);Y=F.newCalculatedDate,W=F.newCalculatedMonth}if(pye(Y,r.props)){var F=k(D,Y,W);Y=F.newCalculatedDate,W=F.newCalculatedMonth}else E=!0;H++}return{newCalculatedDate:Y,newCalculatedMonth:W}};if(a===lr.Enter){r.isMonthDisabled(s)||(r.onMonthClick(n,s),f==null||f(c));return}var A=S(a,u,s),_=A.newCalculatedDate,M=A.newCalculatedMonth;switch(a){case lr.ArrowRight:case lr.ArrowLeft:case lr.ArrowUp:case lr.ArrowDown:r.handleMonthNavigation(M,_);break}}},r.getVerticalOffset=function(n){var a,s;return(s=(a=CC[n])===null||a===void 0?void 0:a.verticalNavigationOffset)!==null&&s!==void 0?s:0},r.onMonthKeyDown=function(n,a){var s=r.props,o=s.disabledKeyboardNavigation,l=s.handleOnMonthKeyDown,c=n.key;c!==lr.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,a),l&&l(n)},r.onQuarterClick=function(n,a){var s=K0(r.props.day,a);jw(s,r.props)||r.handleDayClick(EI(s),n)},r.onQuarterMouseEnter=function(n){var a=K0(r.props.day,n);jw(a,r.props)||r.handleDayMouseEnter(EI(a))},r.handleQuarterNavigation=function(n,a){var s,o,l,c;r.isDisabled(a)||r.isExcluded(a)||((o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,a),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,a){var s,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case lr.Enter:r.onQuarterClick(n,a),(o=(s=r.props).setPreSelection)===null||o===void 0||o.call(s,r.props.selected);break;case lr.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===4?1:a+1,GE(r.props.preSelection,1));break;case lr.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(a===1?4:a-1,cJ(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var a,s=r.props,o=s.day,l=s.minDate,c=s.maxDate,u=s.excludeDates,f=s.includeDates,m=oc(o,n);return{isDisabled:(a=(l||c||u||f)&&kJ(m,r.props))!==null&&a!==void 0?a:!1,labelDate:m}},r.isMonthDisabled=function(n){var a=r.isMonthDisabledForLabelDate(n).isDisabled;return a},r.getMonthClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.preSelection,u=a.monthClassName,f=u?u(oc(s,n)):void 0,m=r.getSelection();return Cr("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(s,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(s,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?ww(o,l,n,s):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(s,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=ho(r.props.preSelection),s=r.isMonthDisabledForLabelDate(a).isDisabled,o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var a=hp(r.props.preSelection),s=jw(r.props.day,r.props),o=n===a&&!(s||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var a=r.props,s=a.chooseDayAriaLabelPrefix,o=s===void 0?"Choose":s,l=a.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,u=a.day,f=a.locale,m=oc(u,n),g=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(g," ").concat(Wa(m,"MMMM yyyy",f))},r.getQuarterClassNames=function(n){var a=r.props,s=a.day,o=a.startDate,l=a.endDate,c=a.selected,u=a.minDate,f=a.maxDate,m=a.excludeDates,g=a.includeDates,p=a.filterDate,v=a.preSelection,w=a.disabledKeyboardNavigation,b=(u||f||m||g||p)&&jw(K0(s,n),r.props);return Cr("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":b,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(s,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&v&&r.isSelectedQuarter(s,n,v)&&!b,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Sw(o,l,n,s):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(s,n)})},r.getMonthContent=function(n){var a=r.props,s=a.showFullMonthYearPicker,o=a.renderMonthContent,l=a.locale,c=a.day,u=SJ(n,l),f=aD(n,l);return o?o(n,u,f,c):s?f:u},r.getQuarterContent=function(n){var a,s=r.props,o=s.renderQuarterContent,l=s.locale,c=mye(n,l);return(a=o==null?void 0:o(n,c))!==null&&a!==void 0?a:c},r.renderMonths=function(){var n,a=r.props,s=a.showTwoColumnMonthYearPicker,o=a.showFourColumnMonthYearPicker,l=a.day,c=a.selected,u=(n=CC[VI(o,s)])===null||n===void 0?void 0:n.grid;return u==null?void 0:u.map(function(f,m){return fe.createElement("div",{className:"react-datepicker__month-wrapper",key:m},f.map(function(g,p){return fe.createElement("div",{ref:r.MONTH_REFS[g],key:p,onClick:function(v){r.onMonthClick(v,g)},onKeyDown:function(v){AJ(v)&&(v.preventDefault(),v.key=lr.Enter),r.onMonthKeyDown(v,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,g,c):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,a=n.day,s=n.selected,o=[1,2,3,4];return fe.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return fe.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(u){r.onQuarterClick(u,l)},onKeyDown:function(u){r.onQuarterKeyDown(u,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":s?r.isSelectedQuarter(a,l,s):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(a,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,a=n.selectingDate,s=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,u=n.showWeekPicker;return Cr("react-datepicker__month",{"react-datepicker__month--selecting-range":a&&(s||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":u})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,a=r.selectedDates,s=r.selectsMultiple;if(s)return a;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,a=r.showQuarterYearPicker,s=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",u=n||a;return u?fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Wa(s,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):fe.createElement("div",{role:"table"},this.props.dayNamesHeader&&fe.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),fe.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Wa(s,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(y.Component),Oye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,a){var s;switch(a.key){case"Enter":a.preventDefault(),r.onChange(n);break;case"Escape":a.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{a.preventDefault();var o=(n+(a.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(s=r.monthOptionButtonsRef[o])===null||s===void 0||s.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,a){return fe.createElement("div",{ref:function(s){r.monthOptionButtonsRef[a]=s,r.isSelectedMonth(a)&&(s==null||s.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(a)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,a),onKeyDown:r.handleOptionKeyDown.bind(r,a),"aria-selected":r.isSelectedMonth(a)?"true":void 0},r.isSelectedMonth(a)?fe.createElement("span",{className:"react-datepicker__month-option--selected"},""):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return fe.createElement(PN,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),Eye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(a,s){return fe.createElement("option",{key:a,value:s},a)})},r.renderSelectMode=function(n){return fe.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(a){return r.onChange(parseInt(a.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,a){return fe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},a[r.props.month]))},r.renderDropdown=function(n){return fe.createElement(Oye,Dn({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var a=r.state.dropdownVisible,s=[r.renderReadView(!a,n)];return a&&s.unshift(r.renderDropdown(n)),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(s){return SJ(s,r.props.locale)}:function(s){return aD(s,r.props.locale)}),a;switch(this.props.dropdownMode){case"scroll":a=this.renderScrollMode(n);break;case"select":a=this.renderSelectMode(n);break}return fe.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},a)},e})(y.Component);function Dye(t,e){for(var r=[],n=wf(t),a=wf(e);!nm(n,a);)r.push(oa(n)),n=uu(n,1);return r}var Pye=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(a){var s=TM(a),o=qu(n.props.date,a)&&Ao(n.props.date,a);return fe.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:s,onClick:n.onChange.bind(n,s),"aria-selected":o?"true":void 0},o?fe.createElement("span",{className:"react-datepicker__month-year-option--selected"},""):"",Wa(a,n.props.dateFormat,n.props.locale))})},n.onChange=function(a){return n.props.onChange(a)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Dye(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=Cr({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return fe.createElement(PN,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),Lye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=wf(r.props.minDate),a=wf(r.props.maxDate),s=[];!nm(n,a);){var o=TM(n);s.push(fe.createElement("option",{key:o,value:o},Wa(n,r.props.dateFormat,r.props.locale))),n=uu(n,1)}return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return fe.createElement("select",{value:TM(wf(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var a=Wa(r.props.date,r.props.dateFormat,r.props.locale);return fe.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},fe.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},a))},r.renderDropdown=function(){return fe.createElement(Pye,Dn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown();var a=oa(n);qu(r.props.date,a)&&Ao(r.props.date,a)||r.props.onChange(a)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(y.Component),Rye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,a,s;r.list&&(r.list.scrollTop=(s=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((a=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&a!==void 0?a:0):r.list.clientHeight,r.centerLi))!==null&&s!==void 0?s:0)})},r.handleClick=function(n){var a,s;(r.props.minTime||r.props.maxTime)&&II(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&RI(n,r.props)||(s=(a=r.props).onChange)===null||s===void 0||s.call(a,n)},r.isSelectedTime=function(n){return r.props.selected&&Sye(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&II(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&RI(n,r.props)},r.liClasses=function(n){var a,s=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&s.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&s.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(bf(n)*3600+vf(n)*60+Wh(n))%(((a=r.props.intervals)!==null&&a!==void 0?a:e.defaultProps.intervals)*60)!==0&&s.push("react-datepicker__time-list-item--injected"),s.join(" ")},r.handleOnKeyDown=function(n,a){var s,o;n.key===lr.Space&&(n.preventDefault(),n.key=lr.Enter),(n.key===lr.ArrowUp||n.key===lr.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===lr.ArrowDown||n.key===lr.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===lr.Enter&&r.handleClick(a),(o=(s=r.props).handleOnKeyDown)===null||o===void 0||o.call(s,n)},r.renderTimes=function(){for(var n,a=[],s=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||oa(),c=M2(l),u=r.props.injectTimes&&r.props.injectTimes.sort(function(b,N){return b.getTime()-N.getTime()}),f=60*Nye(l),m=f/o,g=0;g<m;g++){var p=CM(c,g*o);if(a.push(p),u){var v=jye(c,p,g,o,u);a=a.concat(v)}}var w=a.reduce(function(b,N){return N.getTime()<=l.getTime()?N:b},a[0]);return a.map(function(b){return fe.createElement("li",{key:b.valueOf(),onClick:r.handleClick.bind(r,b),className:r.liClasses(b),ref:function(N){b===w&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,b)},tabIndex:b===w?0:-1,role:"option","aria-selected":r.isSelectedTime(b)?"true":void 0,"aria-disabled":r.isDisabledTime(b)?"true":void 0},Wa(b,s,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?fe.createElement(fe.Fragment,null):fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},fe.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,a=this.state.height;return fe.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),fe.createElement("div",{className:"react-datepicker__time"},fe.createElement("div",{className:"react-datepicker__time-box"},fe.createElement("ul",{className:"react-datepicker__time-list",ref:function(s){r.list=s},style:a?{height:a}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(y.Component),GI=3,Iye=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=Ku([],Array(n.props.yearItemNumber),!0).map(function(){return y.createRef()}),n.isDisabled=function(a){return cc(a,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(a){return iD(a,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var a;return(a=n.props.selectingDate)!==null&&a!==void 0?a:n.props.preSelection},n.updateFocusOnPaginate=function(a){var s=function(){var o,l;(l=(o=n.YEAR_REFS[a])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(s)},n.handleYearClick=function(a,s){n.props.onDayClick&&n.props.onDayClick(a,s)},n.handleYearNavigation=function(a,s){var o,l,c,u,f=n.props,m=f.date,g=f.yearItemNumber;if(!(m===void 0||g===void 0)){var p=cf(m,g).startPeriod;n.isDisabled(s)||n.isExcluded(s)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,s),a-p<0?n.updateFocusOnPaginate(g-(p-a)):a-p>=g?n.updateFocusOnPaginate(Math.abs(g-(a-p))):(u=(c=n.YEAR_REFS[a-p])===null||c===void 0?void 0:c.current)===null||u===void 0||u.focus())}},n.isSameDay=function(a,s){return En(a,s)},n.isCurrentYear=function(a){return a===yn(oa())},n.isRangeStart=function(a){return n.props.startDate&&n.props.endDate&&qu(zu(oa(),a),n.props.startDate)},n.isRangeEnd=function(a){return n.props.startDate&&n.props.endDate&&qu(zu(oa(),a),n.props.endDate)},n.isInRange=function(a){return Nw(a,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(a){var s=n.props,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,u=s.startDate,f=s.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&f?Nw(a,n.selectingDate(),f):l&&u||c&&u&&!f?Nw(a,u,n.selectingDate()):!1},n.isSelectingRangeStart=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,u=zu(oa(),a);return c?qu(u,(s=n.selectingDate())!==null&&s!==void 0?s:null):qu(u,l??null)},n.isSelectingRangeEnd=function(a){var s;if(!n.isInSelectingRange(a))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,u=o.selectsRange,f=zu(oa(),a);return c||u?qu(f,(s=n.selectingDate())!==null&&s!==void 0?s:null):qu(f,l??null)},n.isKeyboardSelected=function(a){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var s=n.props,o=s.minDate,l=s.maxDate,c=s.excludeDates,u=s.includeDates,f=s.filterDate,m=s.selected,g=eb(zu(n.props.date,a)),p=(o||l||c||u||f)&&O2(a,n.props),v=!!m&&En(g,eb(m)),w=En(g,eb(n.props.preSelection));return!n.props.inline&&!v&&w&&!p}},n.isSelectedYear=function(a){var s=n.props,o=s.selectsMultiple,l=s.selected,c=s.selectedDates;return o?c==null?void 0:c.some(function(u){return a===yn(u)}):!!l&&a===yn(l)},n.onYearClick=function(a,s){var o=n.props.date;o!==void 0&&n.handleYearClick(eb(zu(o,s)),a)},n.onYearKeyDown=function(a,s){var o,l,c=a.key,u=n.props,f=u.date,m=u.yearItemNumber,g=u.handleOnKeyDown;if(c!==lr.Tab&&a.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case lr.Enter:if(n.props.selected==null)break;n.onYearClick(a,s),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case lr.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(s+1,xf(n.props.preSelection,1));break;case lr.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(s-1,Fg(n.props.preSelection,1));break;case lr.ArrowUp:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var p=cf(f,m).startPeriod,v=GI,w=s-v;if(w<p){var b=m%v;s>=p&&s<p+b?v=b:v+=b,w=s-v}n.handleYearNavigation(w,Fg(n.props.preSelection,v));break}case lr.ArrowDown:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var N=cf(f,m).endPeriod,v=GI,w=s+v;if(w>N){var b=m%v;s<=N&&s>N-b?v=b:v+=b,w=s+v}n.handleYearNavigation(w,xf(n.props.preSelection,v));break}}g&&g(a)},n.getYearClassNames=function(a){var s=n.props,o=s.date,l=s.minDate,c=s.maxDate,u=s.excludeDates,f=s.includeDates,m=s.filterDate,g=s.yearClassName;return Cr("react-datepicker__year-text","react-datepicker__year-".concat(a),o?g==null?void 0:g(zu(o,a)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(a),"react-datepicker__year-text--disabled":(l||c||u||f||m)&&O2(a,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(a),"react-datepicker__year-text--range-start":n.isRangeStart(a),"react-datepicker__year-text--range-end":n.isRangeEnd(a),"react-datepicker__year-text--in-range":n.isInRange(a),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(a),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(a),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(a),"react-datepicker__year-text--today":n.isCurrentYear(a)})},n.getYearTabIndex=function(a){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var s=yn(n.props.preSelection),o=O2(a,n.props);return a===s&&!o?"0":"-1"},n.getYearContent=function(a){return n.props.renderYearContent?n.props.renderYearContent(a):a},n}return e.prototype.render=function(){var r=this,n=[],a=this.props,s=a.date,o=a.yearItemNumber,l=a.onYearMouseEnter,c=a.onYearMouseLeave;if(s===void 0)return null;for(var u=cf(s,o),f=u.startPeriod,m=u.endPeriod,g=function(w){n.push(fe.createElement("div",{ref:p.YEAR_REFS[w-f],onClick:function(b){r.onYearClick(b,w)},onKeyDown:function(b){AJ(b)&&(b.preventDefault(),b.key=lr.Enter),r.onYearKeyDown(b,w)},tabIndex:Number(p.getYearTabIndex(w)),className:p.getYearClassNames(w),onMouseEnter:p.props.usePointerEvent?void 0:function(b){return l(b,w)},onPointerEnter:p.props.usePointerEvent?function(b){return l(b,w)}:void 0,onMouseLeave:p.props.usePointerEvent?void 0:function(b){return c(b,w)},onPointerLeave:p.props.usePointerEvent?function(b){return c(b,w)}:void 0,key:w,"aria-current":p.isCurrentYear(w)?"date":void 0},p.getYearContent(w)))},p=this,v=f;v<=m;v++)g(v);return fe.createElement("div",{className:"react-datepicker__year"},fe.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(y.Component);function Fye(t,e,r,n){for(var a=[],s=0;s<2*e+1;s++){var o=t+e-s,l=!0;r&&(l=yn(r)<=o),n&&l&&(l=yn(n)>=o),l&&a.push(o)}return a}var $ye=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var u;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var f=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((u=n.yearOptionButtonsRef[f])===null||u===void 0||u.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return fe.createElement("div",{ref:function(g){n.yearOptionButtonsRef[m]=g,m===l&&(g==null||g.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?fe.createElement("span",{className:"react-datepicker__year-option--selected"},""):"",m)}),u=n.props.minDate?yn(n.props.minDate):null,f=n.props.maxDate?yn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(m){return m===f}))&&c.unshift(fe.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!u||!n.state.yearsList.find(function(m){return m===u}))&&c.push(fe.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},fe.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(u){return u+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var a=r.yearDropdownItemNumber,s=r.scrollableYearDropdown,o=a||(s?10:5);return n.state={yearsList:Fye(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=y.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,a=n?n.find(function(s){return s.ariaSelected}):null;r.scrollTop=a&&a instanceof HTMLElement?a.offsetTop+(a.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=Cr({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return fe.createElement(PN,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(y.Component),Bye=(function(t){Js(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?yn(r.props.minDate):1900,a=r.props.maxDate?yn(r.props.maxDate):2100,s=[],o=n;o<=a;o++)s.push(fe.createElement("option",{key:o,value:o},o));return s},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return fe.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return fe.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},fe.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),fe.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return fe.createElement($ye,Dn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,a=[r.renderReadView(!n)];return n&&a.unshift(r.renderDropdown()),a},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,a){var s;(s=r.onSelect)===null||s===void 0||s.call(r,n,a),r.setOpen()},r.onSelect=function(n,a){var s,o;(o=(s=r.props).onSelect)===null||o===void 0||o.call(s,n,a)},r.setOpen=function(){var n,a;(a=(n=r.props).setOpen)===null||a===void 0||a.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return fe.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(y.Component),Hye=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],TJ="react-datepicker-ignore-onclickoutside",zye=function(t){var e=(t.className||"").split(/\s+/);return Hye.some(function(r){return e.indexOf(r)>=0})},qye=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(a){n.props.onClickOutside(a)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(a){var s,o;zye(a.target)&&((o=(s=n.props).onDropdownFocus)===null||o===void 0||o.call(s,a))},n.getDateInView=function(){var a=n.props,s=a.preSelection,o=a.selected,l=a.openToDate,c=CJ(n.props),u=_J(n.props),f=oa(),m=l||o||s;return m||(c&&Yu(f,c)?c:u&&nm(f,u)?u:f)},n.increaseMonth=function(){n.setState(function(a){var s=a.date;return{date:uu(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(a){var s=a.date;return{date:mp(s,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(a,s,o){n.props.onSelect(a,s,o),n.props.setPreSelection&&n.props.setPreSelection(a)},n.handleDayMouseEnter=function(a){n.setState({selectingDate:a}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(a)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(a,s){n.setState({selectingDate:zu(oa(),s)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(a,s)},n.handleYearMouseLeave=function(a,s){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(a,s)},n.handleYearChange=function(a){var s,o,l,c;(o=(s=n.props).onYearChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(a),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(a)},n.getEnabledPreSelectionDateForMonth=function(a){if(!cc(a,n.props))return a;for(var s=wf(a),o=uye(a),l=jpe(o,s),c=null,u=0;u<=l;u++){var f=iu(s,u);if(!cc(f,n.props)){c=f;break}}return c},n.handleMonthChange=function(a){var s,o,l,c=(s=n.getEnabledPreSelectionDateForMonth(a))!==null&&s!==void 0?s:a;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(a){var s,o;(o=(s=n.props).onMonthChange)===null||o===void 0||o.call(s,a),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(a){n.handleYearChange(a),n.handleMonthChange(a)},n.changeYear=function(a){n.setState(function(s){var o=s.date;return{date:zu(o,Number(a))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(a){n.setState(function(s){var o=s.date;return{date:oc(o,Number(a))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(a){n.setState(function(s){var o=s.date;return{date:zu(oc(o,ho(a)),yn(a))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(a){a===void 0&&(a=n.state.date);var s=Vh(a,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(fe.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},fe.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),fe.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=iu(s,l),u=n.formatWeekday(c,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return fe.createElement("div",{key:l,role:"columnheader",className:Cr("react-datepicker__day-name",f)},fe.createElement("span",{className:"react-datepicker__sr-only"},Wa(c,"EEEE",n.props.locale)),fe.createElement("span",{"aria-hidden":"true"},u))}))},n.formatWeekday=function(a,s){return n.props.formatWeekDay?dye(a,n.props.formatWeekDay,s):n.props.useWeekdaysShort?hye(a,s):fye(a,s)},n.decreaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:Fg(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var a,s,o;if(!n.props.renderCustomHeader){var l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,f=mp(n.state.date,u),m;switch(!0){case n.props.showMonthYearPicker:m=BI(n.state.date,n.props);break;case n.props.showYearPicker:m=yye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=gye(n.state.date,n.props);break;default:m=FI(f,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],p=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(v=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(p.push("react-datepicker__navigation--previous--disabled"),v=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,b=n.props,N=b.previousMonthButtonLabel,k=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=b.previousYearButtonLabel,A=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,M=_.previousMonthAriaLabel,R=M===void 0?typeof k=="string"?k:"Previous Month":M,L=_.previousYearAriaLabel,I=L===void 0?typeof A=="string"?A:"Previous Year":L;return fe.createElement("button",{type:"button",className:p.join(" "),onClick:v,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?I:R},fe.createElement("span",{className:g.join(" ")},w?A:k))}}},n.increaseYear=function(){n.setState(function(a){var s,o=a.date;return{date:xf(o,n.props.showYearPicker?(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var a;if(!n.props.renderCustomHeader){var s;switch(!0){case n.props.showMonthYearPicker:s=HI(n.state.date,n.props);break;case n.props.showYearPicker:s=bye(n.state.date,n.props);break;case n.props.showQuarterYearPicker:s=xye(n.state.date,n.props);break;default:s=$I(n.state.date,n.props);break}if(!(!((a=n.props.forceShowMonthNavigation)!==null&&a!==void 0?a:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&s||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),s&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,m=f.nextMonthButtonLabel,g=m===void 0?e.defaultProps.nextMonthButtonLabel:m,p=f.nextYearButtonLabel,v=p===void 0?e.defaultProps.nextYearButtonLabel:p,w=n.props,b=w.nextMonthAriaLabel,N=b===void 0?typeof g=="string"?g:"Next Month":b,k=w.nextYearAriaLabel,S=k===void 0?typeof v=="string"?v:"Next Year":k;return fe.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":u?S:N},fe.createElement("span",{className:l.join(" ")},u?v:g))}}},n.renderCurrentMonth=function(a){a===void 0&&(a=n.state.date);var s=["react-datepicker__current-month"];return n.props.showYearDropdown&&s.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&s.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&s.push("react-datepicker__current-month--hasMonthYearDropdown"),fe.createElement("h2",{className:s.join(" ")},Wa(a,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showYearDropdown||a))return fe.createElement(Bye,Dn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:yn(n.state.date)}))},n.renderMonthDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthDropdown||a))return fe.createElement(Eye,Dn({},e.defaultProps,n.props,{month:ho(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(a){if(a===void 0&&(a=!1),!(!n.props.showMonthYearDropdown||a))return fe.createElement(Lye,Dn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(a){n.props.onSelect(DI(),a),n.props.setPreSelection&&n.props.setPreSelection(DI())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return fe.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(a){return fe.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(a))},n.renderDefaultHeader=function(a){var s=a.monthDate,o=a.i;return fe.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(s),fe.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(a){var s,o,l=a.monthDate,c=a.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var u=n.props,f=u.showYearPicker,m=u.yearItemNumber,g;if(f){var p=cf(l,m),v=p.startPeriod,w=p.endPeriod;g={startYear:v,endYear:w}}var b=FI(n.state.date,n.props),N=$I(n.state.date,n.props),k=BI(n.state.date,n.props),S=HI(n.state.date,n.props);return fe.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(s=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(s,Dn(Dn(Dn({},n.state),f&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:b,nextMonthButtonDisabled:N,prevYearButtonDisabled:k,nextYearButtonDisabled:S})))},n.renderYearHeader=function(a){var s=a.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,u=c===void 0?e.defaultProps.yearItemNumber:c,f=cf(s,u),m=f.startPeriod,g=f.endPeriod;return fe.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(g):yn(s))},n.renderHeader=function(a){var s=a.monthDate,o=a.i,l=o===void 0?0:o,c={monthDate:s,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var a,s;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(a=n.props.monthsShown)!==null&&a!==void 0?a:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,u=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xf(n.state.date,c):mp(n.state.date,c),f=(s=n.props.monthSelectedIn)!==null&&s!==void 0?s:c,m=0;m<l;++m){var g=m-f+c,p=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?xf(u,g):uu(u,g),v="month-".concat(m),w=m<l-1,b=m>0;o.push(fe.createElement("div",{key:v,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:p,i:m}),fe.createElement(Mye,Dn({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:p,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:b,dayNamesHeader:n.renderDayNamesHeader(p)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return fe.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),fe.createElement(Iye,Dn({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return fe.createElement(Rye,Dn({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var a=n.props.selected?new Date(n.props.selected):void 0,s=a&&LN(a)&&!!n.props.selected,o=s?"".concat(qI(a.getHours()),":").concat(qI(a.getMinutes())):"";if(n.props.showTimeInput)return fe.createElement(kye,Dn({},e.defaultProps,n.props,{date:a,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var a,s=cf(n.state.date,(a=n.props.yearItemNumber)!==null&&a!==void 0?a:e.defaultProps.yearItemNumber),o=s.startPeriod,l=s.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=yn(n.state.date):c="".concat(aD(ho(n.state.date),n.props.locale)," ").concat(yn(n.state.date)),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return fe.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=y.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:TJ,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:t1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!En(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var a=!Ao(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return a&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!En(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||nye;return fe.createElement(PN,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},fe.createElement("div",{style:{display:"contents"},ref:this.containerRef},fe.createElement(r,{className:Cr("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(y.Component),Uye=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,a=t.onClick,s="react-datepicker__calendar-icon";if(typeof e=="string")return fe.createElement("i",{className:"".concat(s," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:a});if(fe.isValidElement(e)){var o=e;return fe.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(s," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof a=="function"&&a(l)}})}return fe.createElement("svg",{className:"".concat(s," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:a},fe.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},MJ=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return tY.createPortal(this.props.children,this.el)},e})(y.Component),Wye="[tabindex], a, button, input, select, textarea",Vye=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},OJ=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var a;return Array.prototype.slice.call((a=n.tabLoopRef.current)===null||a===void 0?void 0:a.querySelectorAll(Wye),1,-1).filter(Vye)},n.handleFocusStart=function(){var a=n.getTabChildren();a&&a.length>1&&a[a.length-1].focus()},n.handleFocusEnd=function(){var a=n.getTabChildren();a&&a.length>1&&a[0].focus()},n.tabLoopRef=y.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?fe.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},fe.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,fe.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(y.Component);function Gye(t){function e(r){var n,a=typeof r.hidePopper=="boolean"?r.hidePopper:!0,s=y.useRef(null),o=rye(Dn({open:!a,whileElementsMounted:bJ,placement:r.popperPlacement,middleware:Ku([qxe({padding:15}),zxe(10),Uxe({element:s})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Dn(Dn({},r),{hidePopper:a,popperProps:Dn(Dn({},o),{arrowRef:s})});return fe.createElement(t,Dn({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Yye=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,a=n===void 0?!0:n,s=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,u=t.portalId,f=t.portalHost,m=t.popperProps,g=t.showArrow,p=void 0;if(!a){var v=Cr("react-datepicker-popper",e);p=fe.createElement(OJ,{enableTabLoop:l},fe.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:v,"data-placement":m.placement,onKeyDown:c},s,g&&fe.createElement(Kxe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(p=y.createElement(t.popperContainer,{},p)),u&&!a&&(p=fe.createElement(MJ,{portalId:u,portalHost:f},p));var w=Cr("react-datepicker-wrapper",r);return fe.createElement(fe.Fragment,null,fe.createElement("div",{ref:m.refs.setReference,className:w},o),p)},Kye=Gye(Yye);function Jye(t,e){return t&&e?ho(t)!==ho(e)||yn(t)!==yn(e):t!==e}var _C="Date input not valid.",im=(function(t){Js(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:oa()},n.modifyHolidays=function(){var a;return(a=n.props.holidays)===null||a===void 0?void 0:a.reduce(function(s,o){var l=new Date(o.date);return LN(l)?Ku(Ku([],s,!0),[Dn(Dn({},o),{date:l})],!1):s},[])},n.calcInitialState=function(){var a,s=n.getPreSelection(),o=CJ(n.props),l=_J(n.props),c=o&&Yu(s,M2(o))?o:l&&nm(s,PI(l))?l:s;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(a=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&a!==void 0?a:c,highlightDates:zI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var a,s=n.props,o=s.locale,l=s.startDate,c=s.endDate,u=s.rangeSeparator,f=s.selected,m=s.selectedDates,g=s.selectsMultiple,p=s.selectsRange,v=s.value,w=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,b=n.state.inputValue;return typeof v=="string"?v:typeof b=="string"?b:p?iye(l,c,{dateFormat:w,locale:o,rangeSeparator:u}):g?sye(m??[],{dateFormat:w,locale:o}):sc(f,{dateFormat:w,locale:o})},n.resetHiddenStatus=function(){n.setState(Dn(Dn({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Dn(Dn({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.focus)===null||s===void 0||s.call(a,{preventScroll:!0})},n.setBlur=function(){var a,s;(s=(a=n.input)===null||a===void 0?void 0:a.blur)===null||s===void 0||s.call(a),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(a,s){s===void 0&&(s=!1),n.setState({open:a,preSelection:a&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:AC},function(){a||n.setState(function(o){return{focused:s?o.focused:!1}},function(){!s&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return yf(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(a){var s,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(s=n.props).onFocus)===null||o===void 0||o.call(s,a),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Dn(Dn({},n.state),{inputValue:null}))},n.handleBlur=function(a){var s,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(s=n.props).onBlur)===null||o===void 0||o.call(s,a)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(a){var s,o;n.props.inline||n.setOpen(!1),(o=(s=n.props).onClickOutside)===null||o===void 0||o.call(s,a),n.props.withPortal&&a.preventDefault()},n.handleChange=function(){for(var a,s,o,l,c,u=[],f=0;f<arguments.length;f++)u[f]=arguments[f];var m=u[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,u),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:Xye});var g=n.props,p=g.selectsRange,v=g.startDate,w=g.endDate,b=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,N=(s=n.props.strictParsing)!==null&&s!==void 0?s:e.defaultProps.strictParsing,k=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(p){var S=n.props.rangeSeparator,A=S.trim(),_=k.split(b.includes(A)?S:A,2).map(function(H){return H.trim()}),M=_[0],R=_[1],L=NC(M??"",b,n.props.locale,N),I=L?NC(R??"",b,n.props.locale,N):null,B=(v==null?void 0:v.getTime())!==(L==null?void 0:L.getTime()),D=(w==null?void 0:w.getTime())!==(I==null?void 0:I.getTime());if(!B&&!D||L&&cc(L,n.props)||I&&cc(I,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[L,I],m)}else{var E=NC(k,b,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(E||!k)&&n.setSelected(E,m,!0)}}},n.handleSelect=function(a,s,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,u=l.startDate,f=l.endDate,m=l.swapRange,g=!c||u&&!f&&(m||!kC(a,u));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(s),n.setSelected(a,s,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(a):g&&n.setOpen(!1)}},n.setSelected=function(a,s,o,l){var c,u,f=a;if(n.props.showYearPicker){if(f!==null&&O2(yn(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&kJ(f,n.props))return}else if(f!==null&&cc(f,n.props))return;var m=n.props,g=m.onChange,p=m.selectsRange,v=m.startDate,w=m.endDate,b=m.selectsMultiple,N=m.selectedDates,k=m.minTime,S=m.swapRange;if(!tp(n.props.selected,f)||n.props.allowSameDay||p||b)if(f!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=SC(f,{hour:bf(n.props.selected),minute:vf(n.props.selected),second:Wh(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(f=SC(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),p){var A=!v&&!w,_=v&&!w,M=!v&&!!w,R=v&&w;A?g==null||g([f,null],s):_?f===null?g==null||g([null,null],s):kC(f,v)?S?g==null||g([f,v],s):g==null||g([f,null],s):g==null||g([v,f],s):M&&(f&&kC(f,w)?g==null||g([f,w],s):g==null||g([f,null],s)),R&&(g==null||g([f,null],s))}else if(b){if(f!==null)if(!(N!=null&&N.length))g==null||g([f],s);else{var L=N.some(function(B){return En(B,f)});if(L){var I=N.filter(function(B){return!En(B,f)});g==null||g(I,s)}else g==null||g(Ku(Ku([],N,!0),[f],!1),s)}}else g==null||g(f,s);o||((u=(c=n.props).onSelect)===null||u===void 0||u.call(c,f,s),n.setState({inputValue:null}))},n.setPreSelection=function(a){if(!n.props.readOnly){var s=yf(n.props.minDate),o=yf(n.props.maxDate),l=!0;if(a){var c=M2(a);if(s&&o)l=Wm(a,n.props.minDate,n.props.maxDate);else if(s){var u=M2(n.props.minDate);l=nm(a,u)||tp(c,u)}else if(o){var f=PI(n.props.maxDate);l=Yu(a,f)||tp(c,f)}}l&&n.setState({preSelection:a})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(a){var s,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?a:SC(l,{hour:bf(a),minute:vf(a)});n.setState({preSelection:c}),(o=(s=n.props).onChange)===null||o===void 0||o.call(s,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var a,s;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(s=(a=n.props).onInputClick)===null||s===void 0||s.call(a)},n.onInputKeyDown=function(a){var s,o,l,c,u,f;(o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a);var m=a.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===lr.ArrowDown||m===lr.ArrowUp||m===lr.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===lr.ArrowDown||m===lr.ArrowUp){a.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',p=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);p instanceof HTMLElement&&p.focus({preventScroll:!0});return}var v=oa(n.state.preSelection);m===lr.Enter?(a.preventDefault(),a.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===AC?(n.handleSelect(v,a),!n.props.shouldCloseOnSelect&&n.setPreSelection(v)):n.setOpen(!1)):m===lr.Escape?(a.preventDefault(),a.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===lr.Tab&&n.setOpen(!1),n.inputOk()||(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:_C})}},n.onPortalKeyDown=function(a){var s=a.key;s===lr.Escape&&(a.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(a){var s,o,l,c,u,f,m=n.props,g=m.minDate,p=m.maxDate,v=m.disabledKeyboardNavigation,w=m.showWeekPicker,b=m.shouldCloseOnSelect,N=m.locale,k=m.calendarStartDay,S=m.adjustDateOnChange,A=m.inline;if((o=(s=n.props).onKeyDown)===null||o===void 0||o.call(s,a),!v){var _=a.key,M=a.shiftKey,R=oa(n.state.preSelection),L=function(Y,W){var F=W;switch(Y){case lr.ArrowRight:F=w?oj(W,1):iu(W,1);break;case lr.ArrowLeft:F=w?vI(W):jge(W);break;case lr.ArrowUp:F=vI(W);break;case lr.ArrowDown:F=oj(W,1);break;case lr.PageUp:F=M?Fg(W,1):mp(W,1);break;case lr.PageDown:F=M?xf(W,1):uu(W,1);break;case lr.Home:F=Vh(W,N,k);break;case lr.End:F=cye(W);break}return F},I=function(Y,W){for(var F=40,z=Y,J=!1,oe=0,K=L(Y,W);!J;){if(oe>=F){K=W;break}g&&K<g&&(z=lr.ArrowRight,K=cc(g,n.props)?L(z,K):g),p&&K>p&&(z=lr.ArrowLeft,K=cc(p,n.props)?L(z,K):p),cc(K,n.props)?((z===lr.PageUp||z===lr.Home)&&(z=lr.ArrowRight),(z===lr.PageDown||z===lr.End)&&(z=lr.ArrowLeft),K=L(z,K)):J=!0,oe++}return K};if(_===lr.Enter){a.preventDefault(),n.handleSelect(R,a),!b&&n.setPreSelection(R);return}else if(_===lr.Escape){a.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:_C});return}var B=null;switch(_){case lr.ArrowLeft:case lr.ArrowRight:case lr.ArrowUp:case lr.ArrowDown:case lr.PageUp:case lr.PageDown:case lr.Home:case lr.End:B=I(_,R);break}if(!B){(f=(u=n.props).onInputError)===null||f===void 0||f.call(u,{code:1,msg:_C});return}if(a.preventDefault(),n.setState({lastPreSelectChange:AC}),S&&n.setSelected(B),n.setPreSelection(B),A){var D=ho(R),E=ho(B),H=yn(R),V=yn(B);D!==E||H!==V?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(a){var s=a.key;s===lr.Escape&&(a.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(a){a&&a.preventDefault&&a.preventDefault(),n.sendFocusBackToInput();var s=n.props,o=s.selectsRange,l=s.onChange;o?l==null||l([null,null],a):l==null||l(null,a),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(a){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(a.target===document||a.target===document.documentElement||a.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(a)&&n.setOpen(!1)},n.renderCalendar=function(){var a,s;return!n.props.inline&&!n.isCalendarOpen()?null:fe.createElement(qye,Dn({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(a=n.props.dateFormatCalendar)!==null&&a!==void 0?a:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:wye(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(s=n.props.dropdownMode)!==null&&s!==void 0?s:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var a,s=n.props.locale,o=(a=n.props.dateFormat)!==null&&a!==void 0?a:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",u;return n.props.selectsRange?u="Selected start date: ".concat(sc(n.props.startDate,{dateFormat:c,locale:s}),". ").concat(n.props.endDate?"End date: "+sc(n.props.endDate,{dateFormat:c,locale:s}):""):n.props.showTimeSelectOnly?u="Selected time: ".concat(sc(n.props.selected,{dateFormat:o,locale:s})):n.props.showYearPicker?u="Selected year: ".concat(sc(n.props.selected,{dateFormat:"yyyy",locale:s})):n.props.showMonthYearPicker?u="Selected month: ".concat(sc(n.props.selected,{dateFormat:"MMMM yyyy",locale:s})):n.props.showQuarterYearPicker?u="Selected quarter: ".concat(sc(n.props.selected,{dateFormat:"yyyy, QQQ",locale:s})):u="Selected date: ".concat(sc(n.props.selected,{dateFormat:c,locale:s})),fe.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},u)},n.renderDateInput=function(){var a,s,o=Cr(n.props.className,(a={},a[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,a)),l=n.props.customInput||fe.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return y.cloneElement(l,(s={},s[c]=function(u){n.input=u},s.value=n.getInputValue(),s.onBlur=n.handleBlur,s.onChange=n.handleChange,s.onClick=n.onInputClick,s.onFocus=n.handleFocus,s.onKeyDown=n.onInputKeyDown,s.id=n.props.id,s.name=n.props.name,s.form=n.props.form,s.autoFocus=n.props.autoFocus,s.placeholder=n.props.placeholderText,s.disabled=n.props.disabled,s.autoComplete=n.props.autoComplete,s.className=Cr(l.props.className,o),s.title=n.props.title,s.readOnly=n.props.readOnly,s.required=n.props.required,s.tabIndex=n.props.tabIndex,s["aria-describedby"]=n.props.ariaDescribedBy,s["aria-invalid"]=n.props.ariaInvalid,s["aria-labelledby"]=n.props.ariaLabelledBy,s["aria-required"]=n.props.ariaRequired,s))},n.renderClearButton=function(){var a=n.props,s=a.isClearable,o=a.disabled,l=a.selected,c=a.startDate,u=a.endDate,f=a.clearButtonTitle,m=a.clearButtonClassName,g=m===void 0?"":m,p=a.ariaLabelClose,v=p===void 0?"Close":p,w=a.selectedDates,b=a.readOnly;return s&&!b&&(l!=null||c!=null||u!=null||w!=null&&w.length)?fe.createElement("button",{type:"button",className:Cr("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:TJ,readOnly:!1,rangeSeparator:NJ,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:t1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var a,s,o,l;r.inline&&Jye(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:zI(this.props.highlightDates)}),!n.focused&&!tp(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((s=(a=this.props).onCalendarOpen)===null||s===void 0||s.call(a)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,a=r.icon,s=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return s&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),fe.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&fe.createElement(Uye,Dn({icon:a,className:Cr(o,!o&&s,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?fe.createElement(OJ,{enableTabLoop:this.props.enableTabLoop},fe.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=fe.createElement(MJ,Dn({portalId:this.props.portalId},this.props),n)),fe.createElement("div",null,this.renderInputContainer(),n)}return fe.createElement(Kye,Dn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(y.Component),Xye="input",AC="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:EJ,setPrototypeOf:YI,isFrozen:Qye,getPrototypeOf:Zye,getOwnPropertyDescriptor:ebe}=Object;let{freeze:Fo,seal:wc,create:DJ}=Object,{apply:DM,construct:PM}=typeof Reflect<"u"&&Reflect;Fo||(Fo=function(e){return e});wc||(wc=function(e){return e});DM||(DM=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s];return e.apply(r,a)});PM||(PM=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return new e(...n)});const Cw=$o(Array.prototype.forEach),tbe=$o(Array.prototype.lastIndexOf),KI=$o(Array.prototype.pop),Oy=$o(Array.prototype.push),rbe=$o(Array.prototype.splice),E2=$o(String.prototype.toLowerCase),TC=$o(String.prototype.toString),MC=$o(String.prototype.match),Ey=$o(String.prototype.replace),nbe=$o(String.prototype.indexOf),abe=$o(String.prototype.trim),Qc=$o(Object.prototype.hasOwnProperty),_o=$o(RegExp.prototype.test),Dy=ibe(TypeError);function $o(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return DM(t,e,n)}}function ibe(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return PM(t,r)}}function Cn(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E2;YI&&YI(t,null);let n=e.length;for(;n--;){let a=e[n];if(typeof a=="string"){const s=r(a);s!==a&&(Qye(e)||(e[n]=s),a=s)}t[a]=!0}return t}function sbe(t){for(let e=0;e<t.length;e++)Qc(t,e)||(t[e]=null);return t}function tf(t){const e=DJ(null);for(const[r,n]of EJ(t))Qc(t,r)&&(Array.isArray(n)?e[r]=sbe(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=tf(n):e[r]=n);return e}function Py(t,e){for(;t!==null;){const n=ebe(t,e);if(n){if(n.get)return $o(n.get);if(typeof n.value=="function")return $o(n.value)}t=Zye(t)}function r(){return null}return r}const JI=Fo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),OC=Fo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),EC=Fo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),obe=Fo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),DC=Fo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),lbe=Fo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XI=Fo(["#text"]),QI=Fo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),PC=Fo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),ZI=Fo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_w=Fo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),cbe=wc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ube=wc(/<%[\w\W]*|[\w\W]*%>/gm),dbe=wc(/\$\{[\w\W]*/gm),fbe=wc(/^data-[\-\w.\u00B7-\uFFFF]+$/),hbe=wc(/^aria-[\-\w]+$/),PJ=wc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),mbe=wc(/^(?:\w+script|data):/i),pbe=wc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),LJ=wc(/^html$/i),gbe=wc(/^[a-z][.\w]*(-[.\w]+)+$/i);var e9=Object.freeze({__proto__:null,ARIA_ATTR:hbe,ATTR_WHITESPACE:pbe,CUSTOM_ELEMENT:gbe,DATA_ATTR:fbe,DOCTYPE_NAME:LJ,ERB_EXPR:ube,IS_ALLOWED_URI:PJ,IS_SCRIPT_OR_DATA:mbe,MUSTACHE_EXPR:cbe,TMPLIT_EXPR:dbe});const Ly={element:1,text:3,progressingInstruction:7,comment:8,document:9},xbe=function(){return typeof window>"u"?null:window},ybe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const a="data-tt-policy-suffix";r&&r.hasAttribute(a)&&(n=r.getAttribute(a));const s="dompurify"+(n?"#"+n:"");try{return e.createPolicy(s,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+s+" could not be created."),null}},t9=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function RJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:xbe();const e=Tt=>RJ(Tt);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Ly.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,a=n.currentScript,{DocumentFragment:s,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:u,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:p}=t,v=c.prototype,w=Py(v,"cloneNode"),b=Py(v,"remove"),N=Py(v,"nextSibling"),k=Py(v,"childNodes"),S=Py(v,"parentNode");if(typeof o=="function"){const Tt=r.createElement("template");Tt.content&&Tt.content.ownerDocument&&(r=Tt.content.ownerDocument)}let A,_="";const{implementation:M,createNodeIterator:R,createDocumentFragment:L,getElementsByTagName:I}=r,{importNode:B}=n;let D=t9();e.isSupported=typeof EJ=="function"&&typeof S=="function"&&M&&M.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:E,ERB_EXPR:H,TMPLIT_EXPR:V,DATA_ATTR:Y,ARIA_ATTR:W,IS_SCRIPT_OR_DATA:F,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:J}=e9;let{IS_ALLOWED_URI:oe}=e9,K=null;const U=Cn({},[...JI,...OC,...EC,...DC,...XI]);let X=null;const Z=Cn({},[...QI,...PC,...ZI,..._w]);let ne=Object.seal(DJ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,_e=null,Ne=!0,ge=!0,ke=!1,ze=!0,he=!1,ye=!0,ae=!1,ie=!1,dt=!1,ct=!1,Le=!1,Qe=!1,yt=!0,bt=!1;const It="user-content-";let At=!0,Se=!1,gt={},rt=null;const Nt=Cn({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let kt=null;const De=Cn({},["audio","video","img","source","image","track"]);let vt=null;const Pe=Cn({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),$e="http://www.w3.org/1998/Math/MathML",Ae="http://www.w3.org/2000/svg",Ye="http://www.w3.org/1999/xhtml";let tt=Ye,ve=!1,pe=null;const We=Cn({},[$e,Ae,Ye],TC);let pt=Cn({},["mi","mo","mn","ms","mtext"]),Je=Cn({},["annotation-xml"]);const we=Cn({},["title","style","font","a","script"]);let te=null;const Oe=["application/xhtml+xml","text/html"],He="text/html";let Ze=null,ft=null;const Re=r.createElement("form"),Fe=function(de){return de instanceof RegExp||de instanceof Function},Ue=function(){let de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(ft&&ft===de)){if((!de||typeof de!="object")&&(de={}),de=tf(de),te=Oe.indexOf(de.PARSER_MEDIA_TYPE)===-1?He:de.PARSER_MEDIA_TYPE,Ze=te==="application/xhtml+xml"?TC:E2,K=Qc(de,"ALLOWED_TAGS")?Cn({},de.ALLOWED_TAGS,Ze):U,X=Qc(de,"ALLOWED_ATTR")?Cn({},de.ALLOWED_ATTR,Ze):Z,pe=Qc(de,"ALLOWED_NAMESPACES")?Cn({},de.ALLOWED_NAMESPACES,TC):We,vt=Qc(de,"ADD_URI_SAFE_ATTR")?Cn(tf(Pe),de.ADD_URI_SAFE_ATTR,Ze):Pe,kt=Qc(de,"ADD_DATA_URI_TAGS")?Cn(tf(De),de.ADD_DATA_URI_TAGS,Ze):De,rt=Qc(de,"FORBID_CONTENTS")?Cn({},de.FORBID_CONTENTS,Ze):Nt,ue=Qc(de,"FORBID_TAGS")?Cn({},de.FORBID_TAGS,Ze):tf({}),_e=Qc(de,"FORBID_ATTR")?Cn({},de.FORBID_ATTR,Ze):tf({}),gt=Qc(de,"USE_PROFILES")?de.USE_PROFILES:!1,Ne=de.ALLOW_ARIA_ATTR!==!1,ge=de.ALLOW_DATA_ATTR!==!1,ke=de.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=de.ALLOW_SELF_CLOSE_IN_ATTR!==!1,he=de.SAFE_FOR_TEMPLATES||!1,ye=de.SAFE_FOR_XML!==!1,ae=de.WHOLE_DOCUMENT||!1,ct=de.RETURN_DOM||!1,Le=de.RETURN_DOM_FRAGMENT||!1,Qe=de.RETURN_TRUSTED_TYPE||!1,dt=de.FORCE_BODY||!1,yt=de.SANITIZE_DOM!==!1,bt=de.SANITIZE_NAMED_PROPS||!1,At=de.KEEP_CONTENT!==!1,Se=de.IN_PLACE||!1,oe=de.ALLOWED_URI_REGEXP||PJ,tt=de.NAMESPACE||Ye,pt=de.MATHML_TEXT_INTEGRATION_POINTS||pt,Je=de.HTML_INTEGRATION_POINTS||Je,ne=de.CUSTOM_ELEMENT_HANDLING||{},de.CUSTOM_ELEMENT_HANDLING&&Fe(de.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ne.tagNameCheck=de.CUSTOM_ELEMENT_HANDLING.tagNameCheck),de.CUSTOM_ELEMENT_HANDLING&&Fe(de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ne.attributeNameCheck=de.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),de.CUSTOM_ELEMENT_HANDLING&&typeof de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ne.allowCustomizedBuiltInElements=de.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),he&&(ge=!1),Le&&(ct=!0),gt&&(K=Cn({},XI),X=[],gt.html===!0&&(Cn(K,JI),Cn(X,QI)),gt.svg===!0&&(Cn(K,OC),Cn(X,PC),Cn(X,_w)),gt.svgFilters===!0&&(Cn(K,EC),Cn(X,PC),Cn(X,_w)),gt.mathMl===!0&&(Cn(K,DC),Cn(X,ZI),Cn(X,_w))),de.ADD_TAGS&&(K===U&&(K=tf(K)),Cn(K,de.ADD_TAGS,Ze)),de.ADD_ATTR&&(X===Z&&(X=tf(X)),Cn(X,de.ADD_ATTR,Ze)),de.ADD_URI_SAFE_ATTR&&Cn(vt,de.ADD_URI_SAFE_ATTR,Ze),de.FORBID_CONTENTS&&(rt===Nt&&(rt=tf(rt)),Cn(rt,de.FORBID_CONTENTS,Ze)),At&&(K["#text"]=!0),ae&&Cn(K,["html","head","body"]),K.table&&(Cn(K,["tbody"]),delete ue.tbody),de.TRUSTED_TYPES_POLICY){if(typeof de.TRUSTED_TYPES_POLICY.createHTML!="function")throw Dy('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof de.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Dy('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=de.TRUSTED_TYPES_POLICY,_=A.createHTML("")}else A===void 0&&(A=ybe(p,a)),A!==null&&typeof _=="string"&&(_=A.createHTML(""));Fo&&Fo(de),ft=de}},Lt=Cn({},[...OC,...EC,...obe]),zt=Cn({},[...DC,...lbe]),Ut=function(de){let Ke=S(de);(!Ke||!Ke.tagName)&&(Ke={namespaceURI:tt,tagName:"template"});const wt=E2(de.tagName),or=E2(Ke.tagName);return pe[de.namespaceURI]?de.namespaceURI===Ae?Ke.namespaceURI===Ye?wt==="svg":Ke.namespaceURI===$e?wt==="svg"&&(or==="annotation-xml"||pt[or]):!!Lt[wt]:de.namespaceURI===$e?Ke.namespaceURI===Ye?wt==="math":Ke.namespaceURI===Ae?wt==="math"&&Je[or]:!!zt[wt]:de.namespaceURI===Ye?Ke.namespaceURI===Ae&&!Je[or]||Ke.namespaceURI===$e&&!pt[or]?!1:!zt[wt]&&(we[wt]||!Lt[wt]):!!(te==="application/xhtml+xml"&&pe[de.namespaceURI]):!1},st=function(de){Oy(e.removed,{element:de});try{S(de).removeChild(de)}catch{b(de)}},jt=function(de,Ke){try{Oy(e.removed,{attribute:Ke.getAttributeNode(de),from:Ke})}catch{Oy(e.removed,{attribute:null,from:Ke})}if(Ke.removeAttribute(de),de==="is")if(ct||Le)try{st(Ke)}catch{}else try{Ke.setAttribute(de,"")}catch{}},Vt=function(de){let Ke=null,wt=null;if(dt)de="<remove></remove>"+de;else{const Mt=MC(de,/^[\r\n\t ]+/);wt=Mt&&Mt[0]}te==="application/xhtml+xml"&&tt===Ye&&(de='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+de+"</body></html>");const or=A?A.createHTML(de):de;if(tt===Ye)try{Ke=new g().parseFromString(or,te)}catch{}if(!Ke||!Ke.documentElement){Ke=M.createDocument(tt,"template",null);try{Ke.documentElement.innerHTML=ve?_:or}catch{}}const Xr=Ke.body||Ke.documentElement;return de&&wt&&Xr.insertBefore(r.createTextNode(wt),Xr.childNodes[0]||null),tt===Ye?I.call(Ke,ae?"html":"body")[0]:ae?Ke.documentElement:Xr},gr=function(de){return R.call(de.ownerDocument||de,de,u.SHOW_ELEMENT|u.SHOW_COMMENT|u.SHOW_TEXT|u.SHOW_PROCESSING_INSTRUCTION|u.SHOW_CDATA_SECTION,null)},fn=function(de){return de instanceof m&&(typeof de.nodeName!="string"||typeof de.textContent!="string"||typeof de.removeChild!="function"||!(de.attributes instanceof f)||typeof de.removeAttribute!="function"||typeof de.setAttribute!="function"||typeof de.namespaceURI!="string"||typeof de.insertBefore!="function"||typeof de.hasChildNodes!="function")},gn=function(de){return typeof l=="function"&&de instanceof l};function ar(Tt,de,Ke){Cw(Tt,wt=>{wt.call(e,de,Ke,ft)})}const Wr=function(de){let Ke=null;if(ar(D.beforeSanitizeElements,de,null),fn(de))return st(de),!0;const wt=Ze(de.nodeName);if(ar(D.uponSanitizeElement,de,{tagName:wt,allowedTags:K}),ye&&de.hasChildNodes()&&!gn(de.firstElementChild)&&_o(/<[/\w!]/g,de.innerHTML)&&_o(/<[/\w!]/g,de.textContent)||de.nodeType===Ly.progressingInstruction||ye&&de.nodeType===Ly.comment&&_o(/<[/\w]/g,de.data))return st(de),!0;if(!K[wt]||ue[wt]){if(!ue[wt]&&Zt(wt)&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,wt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(wt)))return!1;if(At&&!rt[wt]){const or=S(de)||de.parentNode,Xr=k(de)||de.childNodes;if(Xr&&or){const Mt=Xr.length;for(let rr=Mt-1;rr>=0;--rr){const Mr=w(Xr[rr],!0);Mr.__removalCount=(de.__removalCount||0)+1,or.insertBefore(Mr,N(de))}}}return st(de),!0}return de instanceof c&&!Ut(de)||(wt==="noscript"||wt==="noembed"||wt==="noframes")&&_o(/<\/no(script|embed|frames)/i,de.innerHTML)?(st(de),!0):(he&&de.nodeType===Ly.text&&(Ke=de.textContent,Cw([E,H,V],or=>{Ke=Ey(Ke,or," ")}),de.textContent!==Ke&&(Oy(e.removed,{element:de.cloneNode()}),de.textContent=Ke)),ar(D.afterSanitizeElements,de,null),!1)},Kr=function(de,Ke,wt){if(yt&&(Ke==="id"||Ke==="name")&&(wt in r||wt in Re))return!1;if(!(ge&&!_e[Ke]&&_o(Y,Ke))){if(!(Ne&&_o(W,Ke))){if(!X[Ke]||_e[Ke]){if(!(Zt(de)&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,de)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(de))&&(ne.attributeNameCheck instanceof RegExp&&_o(ne.attributeNameCheck,Ke)||ne.attributeNameCheck instanceof Function&&ne.attributeNameCheck(Ke,de))||Ke==="is"&&ne.allowCustomizedBuiltInElements&&(ne.tagNameCheck instanceof RegExp&&_o(ne.tagNameCheck,wt)||ne.tagNameCheck instanceof Function&&ne.tagNameCheck(wt))))return!1}else if(!vt[Ke]){if(!_o(oe,Ey(wt,z,""))){if(!((Ke==="src"||Ke==="xlink:href"||Ke==="href")&&de!=="script"&&nbe(wt,"data:")===0&&kt[de])){if(!(ke&&!_o(F,Ey(wt,z,"")))){if(wt)return!1}}}}}}return!0},Zt=function(de){return de!=="annotation-xml"&&MC(de,J)},et=function(de){ar(D.beforeSanitizeAttributes,de,null);const{attributes:Ke}=de;if(!Ke||fn(de))return;const wt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:X,forceKeepAttr:void 0};let or=Ke.length;for(;or--;){const Xr=Ke[or],{name:Mt,namespaceURI:rr,value:Mr}=Xr,jr=Ze(Mt),ur=Mr;let Fr=Mt==="value"?ur:abe(ur);if(wt.attrName=jr,wt.attrValue=Fr,wt.keepAttr=!0,wt.forceKeepAttr=void 0,ar(D.uponSanitizeAttribute,de,wt),Fr=wt.attrValue,bt&&(jr==="id"||jr==="name")&&(jt(Mt,de),Fr=It+Fr),ye&&_o(/((--!?|])>)|<\/(style|title|textarea)/i,Fr)){jt(Mt,de);continue}if(jr==="attributename"&&MC(Fr,"href")){jt(Mt,de);continue}if(wt.forceKeepAttr)continue;if(!wt.keepAttr){jt(Mt,de);continue}if(!ze&&_o(/\/>/i,Fr)){jt(Mt,de);continue}he&&Cw([E,H,V],Hr=>{Fr=Ey(Fr,Hr," ")});const pa=Ze(de.nodeName);if(!Kr(pa,jr,Fr)){jt(Mt,de);continue}if(A&&typeof p=="object"&&typeof p.getAttributeType=="function"&&!rr)switch(p.getAttributeType(pa,jr)){case"TrustedHTML":{Fr=A.createHTML(Fr);break}case"TrustedScriptURL":{Fr=A.createScriptURL(Fr);break}}if(Fr!==ur)try{rr?de.setAttributeNS(rr,Mt,Fr):de.setAttribute(Mt,Fr),fn(de)?st(de):KI(e.removed)}catch{jt(Mt,de)}}ar(D.afterSanitizeAttributes,de,null)},nt=function Tt(de){let Ke=null;const wt=gr(de);for(ar(D.beforeSanitizeShadowDOM,de,null);Ke=wt.nextNode();)ar(D.uponSanitizeShadowNode,Ke,null),Wr(Ke),et(Ke),Ke.content instanceof s&&Tt(Ke.content);ar(D.afterSanitizeShadowDOM,de,null)};return e.sanitize=function(Tt){let de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ke=null,wt=null,or=null,Xr=null;if(ve=!Tt,ve&&(Tt="<!-->"),typeof Tt!="string"&&!gn(Tt))if(typeof Tt.toString=="function"){if(Tt=Tt.toString(),typeof Tt!="string")throw Dy("dirty is not a string, aborting")}else throw Dy("toString is not a function");if(!e.isSupported)return Tt;if(ie||Ue(de),e.removed=[],typeof Tt=="string"&&(Se=!1),Se){if(Tt.nodeName){const Mr=Ze(Tt.nodeName);if(!K[Mr]||ue[Mr])throw Dy("root node is forbidden and cannot be sanitized in-place")}}else if(Tt instanceof l)Ke=Vt("<!---->"),wt=Ke.ownerDocument.importNode(Tt,!0),wt.nodeType===Ly.element&&wt.nodeName==="BODY"||wt.nodeName==="HTML"?Ke=wt:Ke.appendChild(wt);else{if(!ct&&!he&&!ae&&Tt.indexOf("<")===-1)return A&&Qe?A.createHTML(Tt):Tt;if(Ke=Vt(Tt),!Ke)return ct?null:Qe?_:""}Ke&&dt&&st(Ke.firstChild);const Mt=gr(Se?Tt:Ke);for(;or=Mt.nextNode();)Wr(or),et(or),or.content instanceof s&&nt(or.content);if(Se)return Tt;if(ct){if(Le)for(Xr=L.call(Ke.ownerDocument);Ke.firstChild;)Xr.appendChild(Ke.firstChild);else Xr=Ke;return(X.shadowroot||X.shadowrootmode)&&(Xr=B.call(n,Xr,!0)),Xr}let rr=ae?Ke.outerHTML:Ke.innerHTML;return ae&&K["!doctype"]&&Ke.ownerDocument&&Ke.ownerDocument.doctype&&Ke.ownerDocument.doctype.name&&_o(LJ,Ke.ownerDocument.doctype.name)&&(rr="<!DOCTYPE "+Ke.ownerDocument.doctype.name+`>
`+rr),he&&Cw([E,H,V],Mr=>{rr=Ey(rr,Mr," ")}),A&&Qe?A.createHTML(rr):rr},e.setConfig=function(){let Tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ue(Tt),ie=!0},e.clearConfig=function(){ft=null,ie=!1},e.isValidAttribute=function(Tt,de,Ke){ft||Ue({});const wt=Ze(Tt),or=Ze(de);return Kr(wt,or,Ke)},e.addHook=function(Tt,de){typeof de=="function"&&Oy(D[Tt],de)},e.removeHook=function(Tt,de){if(de!==void 0){const Ke=tbe(D[Tt],de);return Ke===-1?void 0:rbe(D[Tt],Ke,1)[0]}return KI(D[Tt])},e.removeHooks=function(Tt){D[Tt]=[]},e.removeAllHooks=function(){D=t9()},e}var md=RJ();const bbe=Object.freeze(Object.defineProperty({__proto__:null,default:md},Symbol.toStringTag,{value:"Module"}));function vbe(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const Aw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},r9=({isOpen:t,onClose:e,title:r,children:n,className:a,maxWidth:s="max-w-xl"})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} ${a||"w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),LM=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,s=r*60+n;let o=Math.abs(s-a);return o>720&&(o=1440-o),o},RM=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},wbe=({record:t,onClose:e})=>{const r=(m,g)=>{if(m==null||g===null||g===void 0)return"-";const p=m.toString().padStart(2,"0"),v=g.toString().padStart(2,"0");return`${p}:${v}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),a=LM(t.stopJam,t.stopMenit,t.startJam,t.startMenit),s=RM(a),o=({status:m})=>{const g={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const g={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:g,icon:p})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[p&&i.jsx("div",{className:"mr-3 text-blue-600",children:p}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),i.jsx("div",{className:"p-6",children:g})]}),u=({label:m,value:g,icon:p,fullWidth:v=!1,priority:w="medium"})=>{const b={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${v?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${b[w]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[p&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:g})]})]})})})},f=({label:m,htmlContent:g,icon:p,fullWidth:v=!1})=>{if(!g)return i.jsx(u,{label:m,value:"-",icon:p,fullWidth:v,priority:"low"});const w=md.sanitize(g,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${v?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[p&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:p}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:w}})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),i.jsx(l,{activity:t.perbaikanPerawatan}),i.jsx(o,{status:t.stopTime})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Duration: ",n(s)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(sa,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),i.jsx(c,{title:"Basic Information",icon:i.jsx(bn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(u,{label:"Date",value:n(t.date),icon:i.jsx(Oa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Shift",value:n(t.shift),icon:i.jsx(kr,{className:"w-4 h-4"})}),i.jsx(u,{label:"Group",value:n(t.group),icon:i.jsx(Va,{className:"w-4 h-4"})}),i.jsx(u,{label:"Machine",value:n(t.mesin),icon:i.jsx(Hi,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Unit",value:n(t.unit),icon:i.jsx(Za,{className:"w-4 h-4"})}),i.jsx(u,{label:"Running Hour",value:n(t.runningHour),icon:i.jsx(kr,{className:"w-4 h-4"})})]})}),i.jsx(c,{title:"Time Details",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(u,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Duration",value:n(s),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Stop Type",value:n(t.stopTime),icon:i.jsx(Ur,{className:"w-4 h-4"})})]})}),i.jsx(c,{title:"Issue & Problem Details",icon:i.jsx(Ur,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(u,{label:"Item Trouble",value:n(t.itemTrouble),icon:i.jsx(sa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Issue Description",value:n(t.jenisGangguan),icon:i.jsx(Ur,{className:"w-4 h-4"}),priority:"high"}),i.jsx(f,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:i.jsx(wr,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(u,{label:"Root Cause",value:n(t.rootCause),icon:i.jsx(Ti,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Maintenance Activity",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(u,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:i.jsx(Hi,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:i.jsx(sa,{className:"w-4 h-4"})}),i.jsx(u,{label:"Kegiatan",value:n(t.kegiatan),icon:i.jsx(bn,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Spare Parts Used",icon:i.jsx(Za,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[i.jsx(u,{label:"Part Code",value:n(t.kodePart),icon:i.jsx(Za,{className:"w-4 h-4"})}),i.jsx(u,{label:"Part Name",value:n(t.sparePart),icon:i.jsx(Za,{className:"w-4 h-4"}),priority:"high"}),i.jsx(u,{label:"ID Part",value:n(t.idPart),icon:i.jsx(Lg,{className:"w-4 h-4"})}),i.jsx(u,{label:"Quantity",value:n(t.jumlah),icon:i.jsx(cu,{className:"w-4 h-4"})}),i.jsx(u,{label:"Unit",value:n(t.unitSparePart),icon:i.jsx(Za,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(c,{title:"Event Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[i.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),i.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),i.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),i.jsx("span",{className:"text-sm text-green-600",children:n(s)})]})]})}),i.jsx(c,{title:"Technical Summary",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),i.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(s)," downtime"]})]})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:i.jsx(O.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},jbe=()=>{const[t,e]=y.useState(()=>{const et=localStorage.getItem("sidebarOpen");return et?JSON.parse(et):!1}),[r,n]=y.useState(""),[a,s]=y.useState(!1),[o,l]=y.useState([]),[c,u]=y.useState([]),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(1),[k]=y.useState(10),{user:S,getMachineHistories:A,deleteMachineHistory:_,isAuthenticated:M,isMasterDataLoading:R,hasPermission:L}=ir(),[I,B]=y.useState([]),[D,E]=y.useState([]),[H,V]=y.useState(!0),[Y,W]=y.useState(null),[F,z]=y.useState([]),J=nr(),[oe,K]=y.useState(window.innerWidth<768),[U,X]=y.useState(!1),[Z,ne]=y.useState(null),[ue,_e]=y.useState(null),[Ne,ge]=y.useState(null),[ke,ze]=y.useState([]),[he,ye]=y.useState(!1),[ae,ie]=y.useState(!1),dt=y.useRef(null),ct=y.useRef(null),[Le,Qe]=y.useState({key:"date",direction:"descending"}),[yt,bt]=y.useState(!1),It=y.useRef(null),At=y.useRef(null),[Se,gt]=y.useState(!1),[rt,Nt]=y.useState(!1),[kt,De]=y.useState(null),[vt,Pe]=y.useState(!1),$e=y.useRef(null),[Ae,Ye]=y.useState(!1),tt=y.useRef(null),ve=location.pathname==="/machinehistory",pe=location.pathname==="/machinehistory/reports",We=vbe(r,300),pt=y.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),Je=y.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),we=y.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),te=y.useCallback(async()=>{try{V(!0);const et=await A();B(et||[]),E(et||[]);const nt=Array.from(new Set(et.map(Tt=>Tt.mesin))).filter(Boolean).map(Tt=>({id:Tt,name:Tt}));z(nt)}catch(et){console.error("Failed to load data:",et),B([]),z([])}finally{V(!1)}},[A]),Oe=et=>{const nt=et.target.value;n(nt)};y.useEffect(()=>{N(1)},[]),y.useEffect(()=>{te()},[te]),y.useEffect(()=>{let et=[...I];if(We.trim()){const nt=We.toLowerCase().trim();et=et.filter(Tt=>{var Mr,jr,ur,Fr;const de=nt.split(":");let Ke="all",wt=nt;de.length>1&&pt.some(pa=>pa.name.toLowerCase()===de[0].trim())&&(Ke=de[0].trim(),wt=de.slice(1).join(":").trim());const or=(Mr=Tt.mesin)==null?void 0:Mr.toLowerCase().includes(wt),Xr=(jr=Tt.jenisGangguan)==null?void 0:jr.toLowerCase().includes(wt),Mt=(ur=Tt.id)==null?void 0:ur.toLowerCase().includes(wt),rr=(Fr=Tt.itemTrouble)==null?void 0:Fr.toLowerCase().includes(wt);return Ke==="machine name"?or:Ke==="issue description"?Xr:Ke==="record id"?Mt:Ke==="item trouble"?rr:or||Xr||Mt||rr})}if(ue){const nt=new Date(ue);nt.setHours(0,0,0,0),et=et.filter(Tt=>{const de=new Date(Tt.date);return de.setHours(0,0,0,0),de>=nt})}if(Ne){const nt=new Date(Ne);nt.setHours(23,59,59,999),et=et.filter(Tt=>{const de=new Date(Tt.date);return de.setHours(0,0,0,0),de<=nt})}o.length>0&&(et=et.filter(nt=>o.includes(nt.perbaikanPerawatan))),c.length>0&&(et=et.filter(nt=>c.includes(nt.mesin))),ke.length>0&&(et=et.filter(nt=>ke.includes(nt.shift))),Le!==null&&et.sort((nt,Tt)=>{const de=Re(nt[Le.key]),Ke=Re(Tt[Le.key]);return de<Ke?Le.direction==="ascending"?-1:1:de>Ke?Le.direction==="ascending"?1:-1:0}),E(et)},[I,We,ue,Ne,o,c,ke,Le,pt,Je,we]),y.useEffect(()=>{const et=()=>{K(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",et),()=>window.removeEventListener("resize",et)},[]),y.useEffect(()=>{const et=nt=>{dt.current&&!dt.current.contains(nt.target)&&ye(!1),ct.current&&!ct.current.contains(nt.target)&&ie(!1),It.current&&!It.current.contains(nt.target)&&!nt.target.closest(".search-suggestions")&&bt(!1),At.current&&!At.current.contains(nt.target)&&!nt.target.closest(".machine-filter-toggle")&&gt(!1),$e.current&&!$e.current.contains(nt.target)&&!nt.target.closest(".status-filter-toggle")&&Pe(!1),tt.current&&!tt.current.contains(nt.target)&&!nt.target.closest(".shift-filter-toggle")&&Ye(!1)};return document.addEventListener("mousedown",et),()=>{document.removeEventListener("mousedown",et)}},[]);const He=fe.useMemo(()=>{if(!r)return pt;const et=r.toLowerCase();return pt.filter(nt=>nt.name.toLowerCase().includes(et))},[r,pt]),Ze=et=>{var nt;n(`${et}: `),bt(!1),(nt=It.current)==null||nt.focus()},ft=et=>{let nt="ascending";Le&&Le.key===et&&Le.direction==="ascending"&&(nt="descending"),Qe({key:et,direction:nt})},Re=et=>typeof et=="object"&&et!==null?et.name||et.toString():(et==null?void 0:et.toString())||"",Fe=async et=>{try{await _(et),B(I.filter(nt=>nt.id!==et)),X(!1),ne(null)}catch(nt){console.error("Failed to delete record:",nt),W("Failed to delete record. Please try again.")}},Ue=b*k,Lt=Ue-k,zt=D.slice(Lt,Ue),Ut=Math.ceil(D.length/k),st=et=>N(et),jt=(et,nt)=>{if(et==null||nt===null||nt===void 0)return"-";const Tt=et.toString().padStart(2,"0"),de=nt.toString().padStart(2,"0");return`${Tt}:${de}`},Vt=et=>{const nt=LM(et.stopJam,et.stopMenit,et.startJam,et.startMenit);return RM(nt)},gr=et=>{switch((et||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},fn=(et,nt)=>{u(nt?Tt=>[...Tt,et]:Tt=>Tt.filter(de=>de!==et))},gn=(et,nt)=>{l(nt?Tt=>[...Tt,et]:Tt=>Tt.filter(de=>de!==et))},ar=(et,nt)=>{ze(nt?Tt=>[...Tt,et]:Tt=>Tt.filter(de=>de!==et))},Wr=()=>{alert("Import functionality is not yet implemented.")},Kr=et=>{w(et),p(!0)},Zt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(et=>!et)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:oe,toggleSidebar:Zt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>J("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ve?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>J("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",i.jsx("span",{className:"text-blue-600",children:"Records"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[L("create_machine_history")&&i.jsxs(O.button,{onClick:()=>J("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Record"})]}),i.jsxs(O.button,{onClick:Wr,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(Aw,{title:"Total Records",value:D.length.toLocaleString("id-ID"),change:"+8%",icon:i.jsx(bn,{})}),i.jsx(Aw,{title:"Avg Durationtime",value:D.length>0?RM(Math.round(D.reduce((et,nt)=>{const Tt=LM(nt.stopJam,nt.stopMenit,nt.startJam,nt.startMenit)||0;return et+Tt},0)/D.length)):"0min",change:"-5%",icon:i.jsx(kr,{})}),i.jsx(Aw,{title:"Repairs",value:D.filter(et=>et.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:i.jsx(sa,{})}),i.jsx(Aw,{title:"Maintenance",value:D.filter(et=>et.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:i.jsx(wr,{})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:It,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:Oe,onFocus:()=>bt(!0),"aria-label":"Search records"}),i.jsx(sr,{children:yt&&He.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:He.map(et=>i.jsx(O.button,{onClick:()=>Ze(et.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:et.name})},et.id))})})]})}),i.jsx(sr,{children:f&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(Oa,{className:"text-gray-500 text-base"}),i.jsx(im,{selected:ue,onChange:et=>_e(et),selectsStart:!0,startDate:ue,endDate:Ne,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(im,{selected:Ne,onChange:et=>ge(et),selectsEnd:!0,startDate:ue,endDate:Ne,minDate:ue||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ue||Ne)&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{_e(null),ge(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(Ht,{className:"text-base"})})]}),i.jsxs("div",{ref:$e,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:et=>{et.stopPropagation(),Pe(!vt)},"aria-expanded":vt,"aria-haspopup":"true","aria-label":"Filter by Type",children:[i.jsx("span",{children:o.length>0?o.length===Je.length?"All Types":`Selected (${o.length})`:"All Types"}),i.jsx(Sa,{className:`transform transition-transform ${vt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:vt&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===Je.length&&Je.length>0,onChange:et=>{et.target.checked?l(Je.map(nt=>nt.value)):l([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Je.map(et=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(et.value),onChange:nt=>gn(et.value,nt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:et.label})]},et.value))]})})]}),i.jsxs("div",{ref:At,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>gt(!Se),"aria-expanded":Se,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[i.jsx("span",{children:c.length>0?c.length===F.length&&F.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),i.jsx(Sa,{className:`transform transition-transform ${Se?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Se&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===F.length&&F.length>0,onChange:et=>{et.target.checked?u(F.map(nt=>nt.name)):u([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),F.map(et=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(et.name),onChange:nt=>fn(et.name,nt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:et.name})]},et.id))]})})]}),i.jsxs("div",{ref:tt,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:et=>{et.stopPropagation(),Ye(!Ae)},"aria-expanded":Ae,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[i.jsx("span",{children:ke.length>0?ke.length===we.length?"All Shifts":`Selected (${ke.length})`:"All Shifts"}),i.jsx(Sa,{className:`transform transition-transform ${Ae?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Ae&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:ke.length===we.length&&we.length>0,onChange:et=>{et.target.checked?ze(we.map(nt=>nt.value)):ze([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),we.map(et=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:ke.includes(et.value),onChange:nt=>ar(et.value,nt.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:et.label})]},et.value))]})})]})]})})]}),H?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):D.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:We||o.length>0||c.length>0||ue||Ne||ke.length>0?"No records found matching your filters.":"No records available."}),(We||o.length>0||c.length>0||ue||Ne||ke.length>0)&&i.jsx("button",{onClick:()=>{n(""),l([]),u([]),_e(null),ge(null),ze([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>ft("date"),children:["Date",(Le==null?void 0:Le.key)==="date"&&i.jsx("span",{className:"ml-1",children:Le.direction==="ascending"?"":""})]}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:zt.map(et=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:et.date}),i.jsxs("div",{className:"text-xs text-gray-600",children:[jt(et.stopJam,et.stopMenit)," - ",jt(et.startJam,et.startMenit)]})]}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:et.mesin}),i.jsx("div",{className:"text-xs text-gray-600",children:et.unit})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",et.shift,", Group ",et.group]})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Vt(et)})}),i.jsxs("td",{className:"px-5 py-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:et.itemTrouble}),i.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:et.jenisGangguan})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx(O.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${gr(et.stopTime)}`,children:et.stopTime})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>J(`/machinehistory/edit/${et.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${et.mesin} on ${et.date}`,children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ne(et.id),X(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${et.mesin} on ${et.date}`,children:i.jsx(ha,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Kr(et),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${et.mesin} on ${et.date}`,children:i.jsx(Io,{className:"inline text-base"})})]})]},et.id))})]})})}),D.length>k&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Lt+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(Ue,D.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:D.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(b-1),disabled:b===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ut},(et,nt)=>i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(nt+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${b===nt+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${nt+1}`,children:nt+1},nt+1)),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>st(b+1),disabled:b===Ut,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),v&&i.jsx(r9,{isOpen:g,onClose:()=>{p(!1),w(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:i.jsx(wbe,{record:v,onClose:()=>p(!1)})}),i.jsx(r9,{isOpen:U,onClose:()=>X(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>X(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Z&&Fe(Z),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Hn(t){"@babel/helpers - typeof";return Hn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hn(t)}function Nbe(t,e){if(Hn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IJ(t){var e=Nbe(t,"string");return Hn(e)=="symbol"?e:e+""}function tb(t,e,r){return(e=IJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Rr(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n9(Object(r),!0).forEach(function(n){tb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sbe(t){if(Array.isArray(t))return t}function kbe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function IM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function FJ(t,e){if(t){if(typeof t=="string")return IM(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IM(t,e):void 0}}function Cbe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function su(t,e){return Sbe(t)||kbe(t,e)||FJ(t,e)||Cbe()}function _be(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function pd(t,e){if(t==null)return{};var r,n,a=_be(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(a[r]=t[r])}return a}var Abe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $J(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,a=n===void 0?!1:n,s=t.defaultValue,o=s===void 0?null:s,l=t.inputValue,c=t.menuIsOpen,u=t.onChange,f=t.onInputChange,m=t.onMenuClose,g=t.onMenuOpen,p=t.value,v=pd(t,Abe),w=y.useState(l!==void 0?l:r),b=su(w,2),N=b[0],k=b[1],S=y.useState(c!==void 0?c:a),A=su(S,2),_=A[0],M=A[1],R=y.useState(p!==void 0?p:o),L=su(R,2),I=L[0],B=L[1],D=y.useCallback(function(z,J){typeof u=="function"&&u(z,J),B(z)},[u]),E=y.useCallback(function(z,J){var oe;typeof f=="function"&&(oe=f(z,J)),k(oe!==void 0?oe:z)},[f]),H=y.useCallback(function(){typeof g=="function"&&g(),M(!0)},[g]),V=y.useCallback(function(){typeof m=="function"&&m(),M(!1)},[m]),Y=l!==void 0?l:N,W=c!==void 0?c:_,F=p!==void 0?p:I;return Rr(Rr({},v),{},{inputValue:Y,menuIsOpen:W,onChange:D,onInputChange:E,onMenuClose:V,onMenuOpen:H,value:F})}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qr.apply(null,arguments)}function Tbe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IJ(n.key),n)}}function Mbe(t,e,r){return e&&a9(t.prototype,e),r&&a9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FM(t,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},FM(t,e)}function Obe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FM(t,e)}function bj(t){return bj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},bj(t)}function BJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(BJ=function(){return!!t})()}function Ebe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Dbe(t,e){if(e&&(Hn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Ebe(t)}function Pbe(t){var e=BJ();return function(){var r,n=bj(t);if(e){var a=bj(this).constructor;r=Reflect.construct(n,arguments,a)}else r=n.apply(this,arguments);return Dbe(this,r)}}function Lbe(t){if(Array.isArray(t))return IM(t)}function Rbe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ibe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bg(t){return Lbe(t)||Rbe(t)||FJ(t)||Ibe()}function Fbe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function $be(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Bbe=(function(){function t(r){var n=this;this._insertTag=function(a){var s;n.tags.length===0?n.insertionPoint?s=n.insertionPoint.nextSibling:n.prepend?s=n.container.firstChild:s=n.before:s=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(a,s),n.tags.push(a)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag($be(this));var a=this.tags[this.tags.length-1];if(this.isSpeedy){var s=Fbe(a);try{s.insertRule(n,s.cssRules.length)}catch{}}else a.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var a;return(a=n.parentNode)==null?void 0:a.removeChild(n)}),this.tags=[],this.ctr=0},t})(),lo="-ms-",vj="-moz-",Zn="-webkit-",HJ="comm",sD="rule",oD="decl",Hbe="@import",zJ="@keyframes",zbe="@layer",qbe=Math.abs,RN=String.fromCharCode,Ube=Object.assign;function Wbe(t,e){return Gs(t,0)^45?(((e<<2^Gs(t,0))<<2^Gs(t,1))<<2^Gs(t,2))<<2^Gs(t,3):0}function qJ(t){return t.trim()}function Vbe(t,e){return(t=e.exec(t))?t[0]:t}function ea(t,e,r){return t.replace(e,r)}function $M(t,e){return t.indexOf(e)}function Gs(t,e){return t.charCodeAt(e)|0}function Vb(t,e,r){return t.slice(e,r)}function Uu(t){return t.length}function lD(t){return t.length}function Tw(t,e){return e.push(t),t}function Gbe(t,e){return t.map(e).join("")}var IN=1,qg=1,UJ=0,ul=0,es=0,Mx="";function FN(t,e,r,n,a,s,o){return{value:t,root:e,parent:r,type:n,props:a,children:s,line:IN,column:qg,length:o,return:""}}function Ry(t,e){return Ube(FN("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ybe(){return es}function Kbe(){return es=ul>0?Gs(Mx,--ul):0,qg--,es===10&&(qg=1,IN--),es}function Ml(){return es=ul<UJ?Gs(Mx,ul++):0,qg++,es===10&&(qg=1,IN++),es}function nd(){return Gs(Mx,ul)}function D2(){return ul}function n1(t,e){return Vb(Mx,t,e)}function Gb(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function WJ(t){return IN=qg=1,UJ=Uu(Mx=t),ul=0,[]}function VJ(t){return Mx="",t}function P2(t){return qJ(n1(ul-1,BM(t===91?t+2:t===40?t+1:t)))}function Jbe(t){for(;(es=nd())&&es<33;)Ml();return Gb(t)>2||Gb(es)>3?"":" "}function Xbe(t,e){for(;--e&&Ml()&&!(es<48||es>102||es>57&&es<65||es>70&&es<97););return n1(t,D2()+(e<6&&nd()==32&&Ml()==32))}function BM(t){for(;Ml();)switch(es){case t:return ul;case 34:case 39:t!==34&&t!==39&&BM(es);break;case 40:t===41&&BM(t);break;case 92:Ml();break}return ul}function Qbe(t,e){for(;Ml()&&t+es!==57;)if(t+es===84&&nd()===47)break;return"/*"+n1(e,ul-1)+"*"+RN(t===47?t:Ml())}function Zbe(t){for(;!Gb(nd());)Ml();return n1(t,ul)}function eve(t){return VJ(L2("",null,null,null,[""],t=WJ(t),0,[0],t))}function L2(t,e,r,n,a,s,o,l,c){for(var u=0,f=0,m=o,g=0,p=0,v=0,w=1,b=1,N=1,k=0,S="",A=a,_=s,M=n,R=S;b;)switch(v=k,k=Ml()){case 40:if(v!=108&&Gs(R,m-1)==58){$M(R+=ea(P2(k),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:R+=P2(k);break;case 9:case 10:case 13:case 32:R+=Jbe(v);break;case 92:R+=Xbe(D2()-1,7);continue;case 47:switch(nd()){case 42:case 47:Tw(tve(Qbe(Ml(),D2()),e,r),c);break;default:R+="/"}break;case 123*w:l[u++]=Uu(R)*N;case 125*w:case 59:case 0:switch(k){case 0:case 125:b=0;case 59+f:N==-1&&(R=ea(R,/\f/g,"")),p>0&&Uu(R)-m&&Tw(p>32?s9(R+";",n,r,m-1):s9(ea(R," ","")+";",n,r,m-2),c);break;case 59:R+=";";default:if(Tw(M=i9(R,e,r,u,f,a,l,S,A=[],_=[],m),s),k===123)if(f===0)L2(R,e,M,M,A,s,m,l,_);else switch(g===99&&Gs(R,3)===110?100:g){case 100:case 108:case 109:case 115:L2(t,M,M,n&&Tw(i9(t,M,M,0,0,a,l,S,a,A=[],m),_),a,_,m,l,n?A:_);break;default:L2(R,M,M,M,[""],_,0,l,_)}}u=f=p=0,w=N=1,S=R="",m=o;break;case 58:m=1+Uu(R),p=v;default:if(w<1){if(k==123)--w;else if(k==125&&w++==0&&Kbe()==125)continue}switch(R+=RN(k),k*w){case 38:N=f>0?1:(R+="\f",-1);break;case 44:l[u++]=(Uu(R)-1)*N,N=1;break;case 64:nd()===45&&(R+=P2(Ml())),g=nd(),f=m=Uu(S=R+=Zbe(D2())),k++;break;case 45:v===45&&Uu(R)==2&&(w=0)}}return s}function i9(t,e,r,n,a,s,o,l,c,u,f){for(var m=a-1,g=a===0?s:[""],p=lD(g),v=0,w=0,b=0;v<n;++v)for(var N=0,k=Vb(t,m+1,m=qbe(w=o[v])),S=t;N<p;++N)(S=qJ(w>0?g[N]+" "+k:ea(k,/&\f/g,g[N])))&&(c[b++]=S);return FN(t,e,r,a===0?sD:l,c,u,f)}function tve(t,e,r){return FN(t,e,r,HJ,RN(Ybe()),Vb(t,2,-2),0)}function s9(t,e,r,n){return FN(t,e,r,oD,Vb(t,0,n),Vb(t,n+1,-1),n)}function vg(t,e){for(var r="",n=lD(t),a=0;a<n;a++)r+=e(t[a],a,t,e)||"";return r}function rve(t,e,r,n){switch(t.type){case zbe:if(t.children.length)break;case Hbe:case oD:return t.return=t.return||t.value;case HJ:return"";case zJ:return t.return=t.value+"{"+vg(t.children,n)+"}";case sD:t.value=t.props.join(",")}return Uu(r=vg(t.children,n))?t.return=t.value+"{"+r+"}":""}function nve(t){var e=lD(t);return function(r,n,a,s){for(var o="",l=0;l<e;l++)o+=t[l](r,n,a,s)||"";return o}}function ave(t){return function(e){e.root||(e=e.return)&&t(e)}}function ive(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var sve=function(e,r,n){for(var a=0,s=0;a=s,s=nd(),a===38&&s===12&&(r[n]=1),!Gb(s);)Ml();return n1(e,ul)},ove=function(e,r){var n=-1,a=44;do switch(Gb(a)){case 0:a===38&&nd()===12&&(r[n]=1),e[n]+=sve(ul-1,r,n);break;case 2:e[n]+=P2(a);break;case 4:if(a===44){e[++n]=nd()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=RN(a)}while(a=Ml());return e},lve=function(e,r){return VJ(ove(WJ(e),r))},o9=new WeakMap,cve=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,a=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!o9.get(n))&&!a){o9.set(e,!0);for(var s=[],o=lve(r,s),l=n.props,c=0,u=0;c<o.length;c++)for(var f=0;f<l.length;f++,u++)e.props[u]=s[c]?o[c].replace(/&\f/g,l[f]):l[f]+" "+o[c]}}},uve=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function GJ(t,e){switch(Wbe(t,e)){case 5103:return Zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+t+vj+t+lo+t+t;case 6828:case 4268:return Zn+t+lo+t+t;case 6165:return Zn+t+lo+"flex-"+t+t;case 5187:return Zn+t+ea(t,/(\w+).+(:[^]+)/,Zn+"box-$1$2"+lo+"flex-$1$2")+t;case 5443:return Zn+t+lo+"flex-item-"+ea(t,/flex-|-self/,"")+t;case 4675:return Zn+t+lo+"flex-line-pack"+ea(t,/align-content|flex-|-self/,"")+t;case 5548:return Zn+t+lo+ea(t,"shrink","negative")+t;case 5292:return Zn+t+lo+ea(t,"basis","preferred-size")+t;case 6060:return Zn+"box-"+ea(t,"-grow","")+Zn+t+lo+ea(t,"grow","positive")+t;case 4554:return Zn+ea(t,/([^-])(transform)/g,"$1"+Zn+"$2")+t;case 6187:return ea(ea(ea(t,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),t,"")+t;case 5495:case 3959:return ea(t,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return ea(ea(t,/(.+:)(flex-)?(.*)/,Zn+"box-pack:$3"+lo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+t+t;case 4095:case 3583:case 4068:case 2532:return ea(t,/(.+)-inline(.+)/,Zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Uu(t)-1-e>6)switch(Gs(t,e+1)){case 109:if(Gs(t,e+4)!==45)break;case 102:return ea(t,/(.+:)(.+)-([^]+)/,"$1"+Zn+"$2-$3$1"+vj+(Gs(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~$M(t,"stretch")?GJ(ea(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Gs(t,e+1)!==115)break;case 6444:switch(Gs(t,Uu(t)-3-(~$M(t,"!important")&&10))){case 107:return ea(t,":",":"+Zn)+t;case 101:return ea(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(Gs(t,14)===45?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+lo+"$2box$3")+t}break;case 5936:switch(Gs(t,e+11)){case 114:return Zn+t+lo+ea(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zn+t+lo+ea(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zn+t+lo+ea(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zn+t+lo+t+t}return t}var dve=function(e,r,n,a){if(e.length>-1&&!e.return)switch(e.type){case oD:e.return=GJ(e.value,e.length);break;case zJ:return vg([Ry(e,{value:ea(e.value,"@","@"+Zn)})],a);case sD:if(e.length)return Gbe(e.props,function(s){switch(Vbe(s,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return vg([Ry(e,{props:[ea(s,/:(read-\w+)/,":"+vj+"$1")]})],a);case"::placeholder":return vg([Ry(e,{props:[ea(s,/:(plac\w+)/,":"+Zn+"input-$1")]}),Ry(e,{props:[ea(s,/:(plac\w+)/,":"+vj+"$1")]}),Ry(e,{props:[ea(s,/:(plac\w+)/,lo+"input-$1")]})],a)}return""})}},fve=[dve],hve=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var b=w.getAttribute("data-emotion");b.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var a=e.stylisPlugins||fve,s={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var b=w.getAttribute("data-emotion").split(" "),N=1;N<b.length;N++)s[b[N]]=!0;l.push(w)});var c,u=[cve,uve];{var f,m=[rve,ave(function(w){f.insert(w)})],g=nve(u.concat(a,m)),p=function(b){return vg(eve(b),g)};c=function(b,N,k,S){f=k,p(b?b+"{"+N.styles+"}":N.styles),S&&(v.inserted[N.name]=!0)}}var v={key:r,sheet:new Bbe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:s,registered:{},insert:c};return v.sheet.hydrate(l),v},LC={exports:{}},na={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l9;function mve(){if(l9)return na;l9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,a=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,u=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,p=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,b=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var M=_.$$typeof;switch(M){case e:switch(_=_.type,_){case c:case u:case n:case s:case a:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case f:case v:case p:case o:return _;default:return M}}case r:return M}}}function A(_){return S(_)===u}return na.AsyncMode=c,na.ConcurrentMode=u,na.ContextConsumer=l,na.ContextProvider=o,na.Element=e,na.ForwardRef=f,na.Fragment=n,na.Lazy=v,na.Memo=p,na.Portal=r,na.Profiler=s,na.StrictMode=a,na.Suspense=m,na.isAsyncMode=function(_){return A(_)||S(_)===c},na.isConcurrentMode=A,na.isContextConsumer=function(_){return S(_)===l},na.isContextProvider=function(_){return S(_)===o},na.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},na.isForwardRef=function(_){return S(_)===f},na.isFragment=function(_){return S(_)===n},na.isLazy=function(_){return S(_)===v},na.isMemo=function(_){return S(_)===p},na.isPortal=function(_){return S(_)===r},na.isProfiler=function(_){return S(_)===s},na.isStrictMode=function(_){return S(_)===a},na.isSuspense=function(_){return S(_)===m},na.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===u||_===s||_===a||_===m||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===p||_.$$typeof===o||_.$$typeof===l||_.$$typeof===f||_.$$typeof===b||_.$$typeof===N||_.$$typeof===k||_.$$typeof===w)},na.typeOf=S,na}var c9;function pve(){return c9||(c9=1,LC.exports=mve()),LC.exports}var RC,u9;function gve(){if(u9)return RC;u9=1;var t=pve(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};s[t.ForwardRef]=n,s[t.Memo]=a;function o(v){return t.isMemo(v)?a:s[v.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function p(v,w,b){if(typeof w!="string"){if(g){var N=m(w);N&&N!==g&&p(v,N,b)}var k=c(w);u&&(k=k.concat(u(w)));for(var S=o(v),A=o(w),_=0;_<k.length;++_){var M=k[_];if(!r[M]&&!(b&&b[M])&&!(A&&A[M])&&!(S&&S[M])){var R=f(w,M);try{l(v,M,R)}catch{}}}}return v}return RC=p,RC}gve();var xve=!0;function yve(t,e,r){var n="";return r.split(" ").forEach(function(a){t[a]!==void 0?e.push(t[a]+";"):a&&(n+=a+" ")}),n}var YJ=function(e,r,n){var a=e.key+"-"+r.name;(n===!1||xve===!1)&&e.registered[a]===void 0&&(e.registered[a]=r.styles)},bve=function(e,r,n){YJ(e,r,n);var a=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var s=r;do e.insert(r===s?"."+a:"",s,e.sheet,!0),s=s.next;while(s!==void 0)}};function vve(t){for(var e=0,r,n=0,a=t.length;a>=4;++n,a-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(a){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var wve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},jve=/[A-Z]|^ms/g,Nve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,KJ=function(e){return e.charCodeAt(1)===45},d9=function(e){return e!=null&&typeof e!="boolean"},IC=ive(function(t){return KJ(t)?t:t.replace(jve,"-$&").toLowerCase()}),f9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Nve,function(n,a,s){return Wu={name:a,styles:s,next:Wu},a})}return wve[e]!==1&&!KJ(e)&&typeof r=="number"&&r!==0?r+"px":r};function Yb(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var a=r;if(a.anim===1)return Wu={name:a.name,styles:a.styles,next:Wu},a.name;var s=r;if(s.styles!==void 0){var o=s.next;if(o!==void 0)for(;o!==void 0;)Wu={name:o.name,styles:o.styles,next:Wu},o=o.next;var l=s.styles+";";return l}return Sve(t,e,r)}case"function":{if(t!==void 0){var c=Wu,u=r(t);return Wu=c,Yb(t,e,u)}break}}var f=r;return f}function Sve(t,e,r){var n="";if(Array.isArray(r))for(var a=0;a<r.length;a++)n+=Yb(t,e,r[a])+";";else for(var s in r){var o=r[s];if(typeof o!="object"){var l=o;d9(l)&&(n+=IC(s)+":"+f9(s,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)d9(o[c])&&(n+=IC(s)+":"+f9(s,o[c])+";");else{var u=Yb(t,e,o);switch(s){case"animation":case"animationName":{n+=IC(s)+":"+u+";";break}default:n+=s+"{"+u+"}"}}}return n}var h9=/label:\s*([^\s;{]+)\s*(;|$)/g,Wu;function JJ(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,a="";Wu=void 0;var s=t[0];if(s==null||s.raw===void 0)n=!1,a+=Yb(r,e,s);else{var o=s;a+=o[0]}for(var l=1;l<t.length;l++)if(a+=Yb(r,e,t[l]),n){var c=s;a+=c[l]}h9.lastIndex=0;for(var u="",f;(f=h9.exec(a))!==null;)u+="-"+f[1];var m=vve(a)+u;return{name:m,styles:a,next:Wu}}var kve=function(e){return e()},Cve=K2.useInsertionEffect?K2.useInsertionEffect:!1,_ve=Cve||kve,XJ=y.createContext(typeof HTMLElement<"u"?hve({key:"css"}):null);XJ.Provider;var Ave=function(e){return y.forwardRef(function(r,n){var a=y.useContext(XJ);return e(r,a,n)})},Tve=y.createContext({}),cD={}.hasOwnProperty,HM="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Mve=function(e,r){var n={};for(var a in r)cD.call(r,a)&&(n[a]=r[a]);return n[HM]=e,n},Ove=function(e){var r=e.cache,n=e.serialized,a=e.isStringTag;return YJ(r,n,a),_ve(function(){return bve(r,n,a)}),null},Eve=Ave(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var a=t[HM],s=[n],o="";typeof t.className=="string"?o=yve(e.registered,s,t.className):t.className!=null&&(o=t.className+" ");var l=JJ(s,void 0,y.useContext(Tve));o+=e.key+"-"+l.name;var c={};for(var u in t)cD.call(t,u)&&u!=="css"&&u!==HM&&(c[u]=t[u]);return c.className=o,r&&(c.ref=r),y.createElement(y.Fragment,null,y.createElement(Ove,{cache:e,serialized:l,isStringTag:typeof a=="string"}),y.createElement(a,c))}),Dve=Eve,Lr=function(e,r){var n=arguments;if(r==null||!cD.call(r,"css"))return y.createElement.apply(void 0,n);var a=n.length,s=new Array(a);s[0]=Dve,s[1]=Mve(e,r);for(var o=2;o<a;o++)s[o]=n[o];return y.createElement.apply(null,s)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Lr||(Lr={}));function uD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return JJ(e)}function Pve(){var t=uD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Lve(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var zM=y.useLayoutEffect,Rve=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],wj=function(){};function Ive(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Fve(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var s=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&s.push("".concat(Ive(t,o)));return s.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var jj=function(e){return Gve(e)?e.filter(Boolean):Hn(e)==="object"&&e!==null?[e]:[]},QJ=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=pd(e,Rve);return Rr({},r)},ki=function(e,r,n){var a=e.cx,s=e.getStyles,o=e.getClassNames,l=e.className;return{css:s(r,e),className:a(n??{},o(r,e),l)}};function $N(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function $ve(t){return $N(t)?window.innerHeight:t.clientHeight}function ZJ(t){return $N(t)?window.pageYOffset:t.scrollTop}function Nj(t,e){if($N(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Bve(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var a=t;a=a.parentElement;)if(e=getComputedStyle(a),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return a;return document.documentElement}function Hve(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Mw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:wj,a=ZJ(t),s=e-a,o=10,l=0;function c(){l+=o;var u=Hve(l,a,s,r);Nj(t,u),l<r?window.requestAnimationFrame(c):n(t)}c()}function m9(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),a=e.offsetHeight/3;n.bottom+a>r.bottom?Nj(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+a,t.scrollHeight)):n.top-a<r.top&&Nj(t,Math.max(e.offsetTop-a,0))}function zve(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function p9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function qve(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var eX=!1,Uve={get passive(){return eX=!0}},Ow=typeof window<"u"?window:{};Ow.addEventListener&&Ow.removeEventListener&&(Ow.addEventListener("p",wj,Uve),Ow.removeEventListener("p",wj,!1));var Wve=eX;function Vve(t){return t!=null}function Gve(t){return Array.isArray(t)}function rb(t,e,r){return t?e:r}var Yve=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];var s=Object.entries(e).filter(function(o){var l=su(o,1),c=l[0];return!n.includes(c)});return s.reduce(function(o,l){var c=su(l,2),u=c[0],f=c[1];return o[u]=f,o},{})},Kve=["children","innerProps"],Jve=["children","innerProps"];function Xve(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,a=t.placement,s=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=Bve(r),u={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return u;var f=c.getBoundingClientRect(),m=f.height,g=r.getBoundingClientRect(),p=g.bottom,v=g.height,w=g.top,b=r.offsetParent.getBoundingClientRect(),N=b.top,k=o?window.innerHeight:$ve(c),S=ZJ(c),A=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),M=N-_,R=k-w,L=M+S,I=m-S-w,B=p-k+S+A,D=S+w-_,E=160;switch(a){case"auto":case"bottom":if(R>=v)return{placement:"bottom",maxHeight:e};if(I>=v&&!o)return s&&Mw(c,B,E),{placement:"bottom",maxHeight:e};if(!o&&I>=n||o&&R>=n){s&&Mw(c,B,E);var H=o?R-A:I-A;return{placement:"bottom",maxHeight:H}}if(a==="auto"||o){var V=e,Y=o?M:L;return Y>=n&&(V=Math.min(Y-A-l,e)),{placement:"top",maxHeight:V}}if(a==="bottom")return s&&Nj(c,B),{placement:"bottom",maxHeight:e};break;case"top":if(M>=v)return{placement:"top",maxHeight:e};if(L>=v&&!o)return s&&Mw(c,D,E),{placement:"top",maxHeight:e};if(!o&&L>=n||o&&M>=n){var W=e;return(!o&&L>=n||o&&M>=n)&&(W=o?M-_:L-_),s&&Mw(c,D,E),{placement:"top",maxHeight:W}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(a,'".'))}return u}function Qve(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var tX=function(e){return e==="auto"?"bottom":e},Zve=function(e,r){var n,a=e.placement,s=e.theme,o=s.borderRadius,l=s.spacing,c=s.colors;return Rr((n={label:"menu"},tb(n,Qve(a),"100%"),tb(n,"position","absolute"),tb(n,"width","100%"),tb(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},rX=y.createContext(null),e1e=function(e){var r=e.children,n=e.minMenuHeight,a=e.maxMenuHeight,s=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,u=y.useContext(rX)||{},f=u.setPortalPlacement,m=y.useRef(null),g=y.useState(a),p=su(g,2),v=p[0],w=p[1],b=y.useState(null),N=su(b,2),k=N[0],S=N[1],A=c.spacing.controlHeight;return zM(function(){var _=m.current;if(_){var M=o==="fixed",R=l&&!M,L=Xve({maxHeight:a,menuEl:_,minHeight:n,placement:s,shouldScroll:R,isFixedPosition:M,controlHeight:A});w(L.maxHeight),S(L.placement),f==null||f(L.placement)}},[a,s,o,l,n,f,A]),r({ref:m,placerProps:Rr(Rr({},e),{},{placement:k||tX(s),maxHeight:v})})},t1e=function(e){var r=e.children,n=e.innerRef,a=e.innerProps;return Lr("div",qr({},ki(e,"menu",{menu:!0}),{ref:n},a),r)},r1e=t1e,n1e=function(e,r){var n=e.maxHeight,a=e.theme.spacing.baseUnit;return Rr({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:a,paddingTop:a})},a1e=function(e){var r=e.children,n=e.innerProps,a=e.innerRef,s=e.isMulti;return Lr("div",qr({},ki(e,"menuList",{"menu-list":!0,"menu-list--is-multi":s}),{ref:a},n),r)},nX=function(e,r){var n=e.theme,a=n.spacing.baseUnit,s=n.colors;return Rr({textAlign:"center"},r?{}:{color:s.neutral40,padding:"".concat(a*2,"px ").concat(a*3,"px")})},i1e=nX,s1e=nX,o1e=function(e){var r=e.children,n=r===void 0?"No options":r,a=e.innerProps,s=pd(e,Kve);return Lr("div",qr({},ki(Rr(Rr({},s),{},{children:n,innerProps:a}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),a),n)},l1e=function(e){var r=e.children,n=r===void 0?"Loading...":r,a=e.innerProps,s=pd(e,Jve);return Lr("div",qr({},ki(Rr(Rr({},s),{},{children:n,innerProps:a}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),a),n)},c1e=function(e){var r=e.rect,n=e.offset,a=e.position;return{left:r.left,position:a,top:n,width:r.width,zIndex:1}},u1e=function(e){var r=e.appendTo,n=e.children,a=e.controlElement,s=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=y.useRef(null),u=y.useRef(null),f=y.useState(tX(o)),m=su(f,2),g=m[0],p=m[1],v=y.useMemo(function(){return{setPortalPlacement:p}},[]),w=y.useState(null),b=su(w,2),N=b[0],k=b[1],S=y.useCallback(function(){if(a){var R=zve(a),L=l==="fixed"?0:window.pageYOffset,I=R[g]+L;(I!==(N==null?void 0:N.offset)||R.left!==(N==null?void 0:N.rect.left)||R.width!==(N==null?void 0:N.rect.width))&&k({offset:I,rect:R})}},[a,l,g,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);zM(function(){S()},[S]);var A=y.useCallback(function(){typeof u.current=="function"&&(u.current(),u.current=null),a&&c.current&&(u.current=bJ(a,c.current,S,{elementResize:"ResizeObserver"in window}))},[a,S]);zM(function(){A()},[A]);var _=y.useCallback(function(R){c.current=R,A()},[A]);if(!r&&l!=="fixed"||!N)return null;var M=Lr("div",qr({ref:_},ki(Rr(Rr({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),s),n);return Lr(rX.Provider,{value:v},r?oE.createPortal(M,r):M)},d1e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},f1e=function(e){var r=e.children,n=e.innerProps,a=e.isDisabled,s=e.isRtl;return Lr("div",qr({},ki(e,"container",{"--is-disabled":a,"--is-rtl":s}),n),r)},h1e=function(e,r){var n=e.theme.spacing,a=e.isMulti,s=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Rr({alignItems:"center",display:a&&s&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},m1e=function(e){var r=e.children,n=e.innerProps,a=e.isMulti,s=e.hasValue;return Lr("div",qr({},ki(e,"valueContainer",{"value-container":!0,"value-container--is-multi":a,"value-container--has-value":s}),n),r)},p1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},g1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},ki(e,"indicatorsContainer",{indicators:!0}),n),r)},g9,x1e=["size"],y1e=["innerProps","isRtl","size"],b1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},aX=function(e){var r=e.size,n=pd(e,x1e);return Lr("svg",qr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:b1e},n))},dD=function(e){return Lr(aX,qr({size:20},e),Lr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},iX=function(e){return Lr(aX,qr({size:20},e),Lr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sX=function(e,r){var n=e.isFocused,a=e.theme,s=a.spacing.baseUnit,o=a.colors;return Rr({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:s*2,":hover":{color:n?o.neutral80:o.neutral40}})},v1e=sX,w1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},ki(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Lr(iX,null))},j1e=sX,N1e=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},ki(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Lr(dD,null))},S1e=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing.baseUnit,o=a.colors;return Rr({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:s*2,marginTop:s*2})},k1e=function(e){var r=e.innerProps;return Lr("span",qr({},r,ki(e,"indicatorSeparator",{"indicator-separator":!0})))},C1e=Pve(g9||(g9=Lve([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),_1e=function(e,r){var n=e.isFocused,a=e.size,s=e.theme,o=s.colors,l=s.spacing.baseUnit;return Rr({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:a,lineHeight:1,marginRight:a,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},FC=function(e){var r=e.delay,n=e.offset;return Lr("span",{css:uD({animation:"".concat(C1e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},A1e=function(e){var r=e.innerProps,n=e.isRtl,a=e.size,s=a===void 0?4:a,o=pd(e,y1e);return Lr("div",qr({},ki(Rr(Rr({},o),{},{innerProps:r,isRtl:n,size:s}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Lr(FC,{delay:0,offset:n}),Lr(FC,{delay:160,offset:!0}),Lr(FC,{delay:320,offset:!n}))},T1e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.theme,o=s.colors,l=s.borderRadius,c=s.spacing;return Rr({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:a?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:a?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:a?o.primary:o.neutral30}})},M1e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Lr("div",qr({ref:s},ki(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":a,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},O1e=M1e,E1e=["data"],D1e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},P1e=function(e){var r=e.children,n=e.cx,a=e.getStyles,s=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,u=e.label,f=e.theme,m=e.selectProps;return Lr("div",qr({},ki(e,"group",{group:!0}),c),Lr(o,qr({},l,{selectProps:m,theme:f,getStyles:a,getClassNames:s,cx:n}),u),Lr("div",null,r))},L1e=function(e,r){var n=e.theme,a=n.colors,s=n.spacing;return Rr({label:"group",cursor:"default",display:"block"},r?{}:{color:a.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:s.baseUnit*3,paddingRight:s.baseUnit*3,textTransform:"uppercase"})},R1e=function(e){var r=QJ(e);r.data;var n=pd(r,E1e);return Lr("div",qr({},ki(e,"groupHeading",{"group-heading":!0}),n))},I1e=P1e,F1e=["innerRef","isDisabled","isHidden","inputClassName"],$1e=function(e,r){var n=e.isDisabled,a=e.value,s=e.theme,o=s.spacing,l=s.colors;return Rr(Rr({visibility:n?"hidden":"visible",transform:a?"translateZ(0)":""},B1e),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},oX={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},B1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Rr({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},oX)},H1e=function(e){return Rr({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},oX)},z1e=function(e){var r=e.cx,n=e.value,a=QJ(e),s=a.innerRef,o=a.isDisabled,l=a.isHidden,c=a.inputClassName,u=pd(a,F1e);return Lr("div",qr({},ki(e,"input",{"input-container":!0}),{"data-value":n||""}),Lr("input",qr({className:r({input:!0},c),ref:s,style:H1e(l),disabled:o},u)))},q1e=z1e,U1e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,o=n.colors;return Rr({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:s/2,margin:a.baseUnit/2})},W1e=function(e,r){var n=e.theme,a=n.borderRadius,s=n.colors,o=e.cropWithEllipsis;return Rr({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:a/2,color:s.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},V1e=function(e,r){var n=e.theme,a=n.spacing,s=n.borderRadius,o=n.colors,l=e.isFocused;return Rr({alignItems:"center",display:"flex"},r?{}:{borderRadius:s/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:a.baseUnit,paddingRight:a.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},lX=function(e){var r=e.children,n=e.innerProps;return Lr("div",n,r)},G1e=lX,Y1e=lX;function K1e(t){var e=t.children,r=t.innerProps;return Lr("div",qr({role:"button"},r),e||Lr(dD,{size:14}))}var J1e=function(e){var r=e.children,n=e.components,a=e.data,s=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,u=n.Container,f=n.Label,m=n.Remove;return Lr(u,{data:a,innerProps:Rr(Rr({},ki(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),s),selectProps:c},Lr(f,{data:a,innerProps:Rr({},ki(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Lr(m,{data:a,innerProps:Rr(Rr({},ki(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},X1e=J1e,Q1e=function(e,r){var n=e.isDisabled,a=e.isFocused,s=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Rr({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:s?c.primary:a?c.primary25:"transparent",color:n?c.neutral20:s?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:s?c.primary:c.primary50}})},Z1e=function(e){var r=e.children,n=e.isDisabled,a=e.isFocused,s=e.isSelected,o=e.innerRef,l=e.innerProps;return Lr("div",qr({},ki(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":a,"option--is-selected":s}),{ref:o,"aria-disabled":n},l),r)},ewe=Z1e,twe=function(e,r){var n=e.theme,a=n.spacing,s=n.colors;return Rr({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:s.neutral50,marginLeft:a.baseUnit/2,marginRight:a.baseUnit/2})},rwe=function(e){var r=e.children,n=e.innerProps;return Lr("div",qr({},ki(e,"placeholder",{placeholder:!0}),n),r)},nwe=rwe,awe=function(e,r){var n=e.isDisabled,a=e.theme,s=a.spacing,o=a.colors;return Rr({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},iwe=function(e){var r=e.children,n=e.isDisabled,a=e.innerProps;return Lr("div",qr({},ki(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),a),r)},swe=iwe,owe={ClearIndicator:N1e,Control:O1e,DropdownIndicator:w1e,DownChevron:iX,CrossIcon:dD,Group:I1e,GroupHeading:R1e,IndicatorsContainer:g1e,IndicatorSeparator:k1e,Input:q1e,LoadingIndicator:A1e,Menu:r1e,MenuList:a1e,MenuPortal:u1e,LoadingMessage:l1e,NoOptionsMessage:o1e,MultiValue:X1e,MultiValueContainer:G1e,MultiValueLabel:Y1e,MultiValueRemove:K1e,Option:ewe,Placeholder:nwe,SelectContainer:f1e,SingleValue:swe,ValueContainer:m1e},lwe=function(e){return Rr(Rr({},owe),e.components)},x9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function cwe(t,e){return!!(t===e||x9(t)&&x9(e))}function uwe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!cwe(t[r],e[r]))return!1;return!0}function dwe(t,e){e===void 0&&(e=uwe);var r=null;function n(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];if(r&&r.lastThis===this&&e(a,r.lastArgs))return r.lastResult;var o=t.apply(this,a);return r={lastResult:o,lastArgs:a,lastThis:this},o}return n.clear=function(){r=null},n}var fwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},hwe=function(e){return Lr("span",qr({css:fwe},e))},y9=hwe,mwe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,a=e.tabSelectsValue,s=e.context,o=e.isInitialFocus;switch(s){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(a?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,a=n===void 0?"":n,s=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(a,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(s.length>1?"s":""," ").concat(s.join(","),", selected.");case"select-option":return o?"option ".concat(a," is disabled. Select another option."):"option ".concat(a,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,a=e.options,s=e.label,o=s===void 0?"":s,l=e.selectValue,c=e.isDisabled,u=e.isSelected,f=e.isAppleDevice,m=function(w,b){return w&&w.length?"".concat(w.indexOf(b)+1," of ").concat(w.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&f){var g=c?" disabled":"",p="".concat(u?" selected":"").concat(g);return"".concat(o).concat(p,", ").concat(m(a,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},pwe=function(e){var r=e.ariaSelection,n=e.focusedOption,a=e.focusedValue,s=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,u=e.id,f=e.isAppleDevice,m=c.ariaLiveMessages,g=c.getOptionLabel,p=c.inputValue,v=c.isMulti,w=c.isOptionDisabled,b=c.isSearchable,N=c.menuIsOpen,k=c.options,S=c.screenReaderStatus,A=c.tabSelectsValue,_=c.isLoading,M=c["aria-label"],R=c["aria-live"],L=y.useMemo(function(){return Rr(Rr({},mwe),m||{})},[m]),I=y.useMemo(function(){var Y="";if(r&&L.onChange){var W=r.option,F=r.options,z=r.removedValue,J=r.removedValues,oe=r.value,K=function(Ne){return Array.isArray(Ne)?null:Ne},U=z||W||K(oe),X=U?g(U):"",Z=F||J||void 0,ne=Z?Z.map(g):[],ue=Rr({isDisabled:U&&w(U,l),label:X,labels:ne},r);Y=L.onChange(ue)}return Y},[r,L,w,l,g]),B=y.useMemo(function(){var Y="",W=n||a,F=!!(n&&l&&l.includes(n));if(W&&L.onFocus){var z={focused:W,label:g(W),isDisabled:w(W,l),isSelected:F,options:s,context:W===n?"menu":"value",selectValue:l,isAppleDevice:f};Y=L.onFocus(z)}return Y},[n,a,g,w,L,s,l,f]),D=y.useMemo(function(){var Y="";if(N&&k.length&&!_&&L.onFilter){var W=S({count:s.length});Y=L.onFilter({inputValue:p,resultsMessage:W})}return Y},[s,p,N,L,k,S,_]),E=(r==null?void 0:r.action)==="initial-input-focus",H=y.useMemo(function(){var Y="";if(L.guidance){var W=a?"value":N?"menu":"input";Y=L.guidance({"aria-label":M,context:W,isDisabled:n&&w(n,l),isMulti:v,isSearchable:b,tabSelectsValue:A,isInitialFocus:E})}return Y},[M,n,a,v,w,b,N,L,l,A,E]),V=Lr(y.Fragment,null,Lr("span",{id:"aria-selection"},I),Lr("span",{id:"aria-focused"},B),Lr("span",{id:"aria-results"},D),Lr("span",{id:"aria-guidance"},H));return Lr(y.Fragment,null,Lr(y9,{id:u},E&&V),Lr(y9,{"aria-live":R,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!E&&V))},gwe=pwe,qM=[{base:"A",letters:"A"},{base:"AA",letters:""},{base:"AE",letters:""},{base:"AO",letters:""},{base:"AU",letters:""},{base:"AV",letters:""},{base:"AY",letters:""},{base:"B",letters:"B"},{base:"C",letters:"C"},{base:"D",letters:"D"},{base:"DZ",letters:""},{base:"Dz",letters:""},{base:"E",letters:"E"},{base:"F",letters:"F"},{base:"G",letters:"G"},{base:"H",letters:"H"},{base:"I",letters:"I"},{base:"J",letters:"J"},{base:"K",letters:"K"},{base:"L",letters:"L"},{base:"LJ",letters:""},{base:"Lj",letters:""},{base:"M",letters:"M"},{base:"N",letters:"N"},{base:"NJ",letters:""},{base:"Nj",letters:""},{base:"O",letters:"O"},{base:"OI",letters:""},{base:"OO",letters:""},{base:"OU",letters:""},{base:"P",letters:"P"},{base:"Q",letters:"Q"},{base:"R",letters:"R"},{base:"S",letters:"S"},{base:"T",letters:"T"},{base:"TZ",letters:""},{base:"U",letters:"U"},{base:"V",letters:"V"},{base:"VY",letters:""},{base:"W",letters:"W"},{base:"X",letters:"X"},{base:"Y",letters:"Y"},{base:"Z",letters:"Z"},{base:"a",letters:"a"},{base:"aa",letters:""},{base:"ae",letters:""},{base:"ao",letters:""},{base:"au",letters:""},{base:"av",letters:""},{base:"ay",letters:""},{base:"b",letters:"b"},{base:"c",letters:"c"},{base:"d",letters:"d"},{base:"dz",letters:""},{base:"e",letters:"e"},{base:"f",letters:"f"},{base:"g",letters:"g"},{base:"h",letters:"h"},{base:"hv",letters:""},{base:"i",letters:"i"},{base:"j",letters:"j"},{base:"k",letters:"k"},{base:"l",letters:"l"},{base:"lj",letters:""},{base:"m",letters:"m"},{base:"n",letters:"n"},{base:"nj",letters:""},{base:"o",letters:"o"},{base:"oi",letters:""},{base:"ou",letters:""},{base:"oo",letters:""},{base:"p",letters:"p"},{base:"q",letters:"q"},{base:"r",letters:"r"},{base:"s",letters:"s"},{base:"t",letters:"t"},{base:"tz",letters:""},{base:"u",letters:"u"},{base:"v",letters:"v"},{base:"vy",letters:""},{base:"w",letters:"w"},{base:"x",letters:"x"},{base:"y",letters:"y"},{base:"z",letters:"z"}],xwe=new RegExp("["+qM.map(function(t){return t.letters}).join("")+"]","g"),cX={};for(var $C=0;$C<qM.length;$C++)for(var BC=qM[$C],HC=0;HC<BC.letters.length;HC++)cX[BC.letters[HC]]=BC.base;var uX=function(e){return e.replace(xwe,function(r){return cX[r]})},ywe=dwe(uX),b9=function(e){return e.replace(/^\s+|\s+$/g,"")},bwe=function(e){return"".concat(e.label," ").concat(e.value)},vwe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var a=Rr({ignoreCase:!0,ignoreAccents:!0,stringify:bwe,trim:!0,matchFrom:"any"},e),s=a.ignoreCase,o=a.ignoreAccents,l=a.stringify,c=a.trim,u=a.matchFrom,f=c?b9(n):n,m=c?b9(l(r)):l(r);return s&&(f=f.toLowerCase(),m=m.toLowerCase()),o&&(f=ywe(f),m=uX(m)),u==="start"?m.substr(0,f.length)===f:m.indexOf(f)>-1}},wwe=["innerRef"];function jwe(t){var e=t.innerRef,r=pd(t,wwe),n=Yve(r,"onExited","in","enter","exit","appear");return Lr("input",qr({ref:e},n,{css:uD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Nwe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Swe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,a=t.onTopArrive,s=t.onTopLeave,o=y.useRef(!1),l=y.useRef(!1),c=y.useRef(0),u=y.useRef(null),f=y.useCallback(function(b,N){if(u.current!==null){var k=u.current,S=k.scrollTop,A=k.scrollHeight,_=k.clientHeight,M=u.current,R=N>0,L=A-_-S,I=!1;L>N&&o.current&&(n&&n(b),o.current=!1),R&&l.current&&(s&&s(b),l.current=!1),R&&N>L?(r&&!o.current&&r(b),M.scrollTop=A,I=!0,o.current=!0):!R&&-N>S&&(a&&!l.current&&a(b),M.scrollTop=0,I=!0,l.current=!0),I&&Nwe(b)}},[r,n,a,s]),m=y.useCallback(function(b){f(b,b.deltaY)},[f]),g=y.useCallback(function(b){c.current=b.changedTouches[0].clientY},[]),p=y.useCallback(function(b){var N=c.current-b.changedTouches[0].clientY;f(b,N)},[f]),v=y.useCallback(function(b){if(b){var N=Wve?{passive:!1}:!1;b.addEventListener("wheel",m,N),b.addEventListener("touchstart",g,N),b.addEventListener("touchmove",p,N)}},[p,g,m]),w=y.useCallback(function(b){b&&(b.removeEventListener("wheel",m,!1),b.removeEventListener("touchstart",g,!1),b.removeEventListener("touchmove",p,!1))},[p,g,m]);return y.useEffect(function(){if(e){var b=u.current;return v(b),function(){w(b)}}},[e,v,w]),function(b){u.current=b}}var v9=["boxSizing","height","overflow","paddingRight","position"],w9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function j9(t){t.cancelable&&t.preventDefault()}function N9(t){t.stopPropagation()}function S9(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function k9(){return"ontouchstart"in window||navigator.maxTouchPoints}var C9=!!(typeof window<"u"&&window.document&&window.document.createElement),Iy=0,$0={capture:!1,passive:!1};function kwe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,a=y.useRef({}),s=y.useRef(null),o=y.useCallback(function(c){if(C9){var u=document.body,f=u&&u.style;if(n&&v9.forEach(function(v){var w=f&&f[v];a.current[v]=w}),n&&Iy<1){var m=parseInt(a.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,p=window.innerWidth-g+m||0;Object.keys(w9).forEach(function(v){var w=w9[v];f&&(f[v]=w)}),f&&(f.paddingRight="".concat(p,"px"))}u&&k9()&&(u.addEventListener("touchmove",j9,$0),c&&(c.addEventListener("touchstart",S9,$0),c.addEventListener("touchmove",N9,$0))),Iy+=1}},[n]),l=y.useCallback(function(c){if(C9){var u=document.body,f=u&&u.style;Iy=Math.max(Iy-1,0),n&&Iy<1&&v9.forEach(function(m){var g=a.current[m];f&&(f[m]=g)}),u&&k9()&&(u.removeEventListener("touchmove",j9,$0),c&&(c.removeEventListener("touchstart",S9,$0),c.removeEventListener("touchmove",N9,$0)))}},[n]);return y.useEffect(function(){if(e){var c=s.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){s.current=c}}var Cwe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},_we={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Awe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,a=n===void 0?!0:n,s=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,u=Swe({isEnabled:a,onBottomArrive:s,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),f=kwe({isEnabled:r}),m=function(p){u(p),f(p)};return Lr(y.Fragment,null,r&&Lr("div",{onClick:Cwe,css:_we}),e(m))}var Twe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},Mwe=function(e){var r=e.name,n=e.onFocus;return Lr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:Twe,value:"",onChange:function(){}})},Owe=Mwe;function fD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Ewe(){return fD(/^iPhone/i)}function dX(){return fD(/^Mac/i)}function Dwe(){return fD(/^iPad/i)||dX()&&navigator.maxTouchPoints>1}function Pwe(){return Ewe()||Dwe()}function Lwe(){return dX()||Pwe()}var Rwe=function(e){return e.label},fX=function(e){return e.label},hX=function(e){return e.value},Iwe=function(e){return!!e.isDisabled},Fwe={clearIndicator:j1e,container:d1e,control:T1e,dropdownIndicator:v1e,group:D1e,groupHeading:L1e,indicatorsContainer:p1e,indicatorSeparator:S1e,input:$1e,loadingIndicator:_1e,loadingMessage:s1e,menu:Zve,menuList:n1e,menuPortal:c1e,multiValue:U1e,multiValueLabel:W1e,multiValueRemove:V1e,noOptionsMessage:i1e,option:Q1e,placeholder:twe,singleValue:awe,valueContainer:h1e},$we={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Bwe=4,mX=4,Hwe=38,zwe=mX*2,qwe={baseUnit:mX,controlHeight:Hwe,menuGutter:zwe},zC={borderRadius:Bwe,colors:$we,spacing:qwe},Uwe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:p9(),captureMenuScroll:!p9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:vwe(),formatGroupLabel:Rwe,getOptionLabel:fX,getOptionValue:hX,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Iwe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!qve(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function _9(t,e,r,n){var a=xX(t,e,r),s=yX(t,e,r),o=gX(t,e),l=Sj(t,e);return{type:"option",data:e,isDisabled:a,isSelected:s,label:o,value:l,index:n}}function R2(t,e){return t.options.map(function(r,n){if("options"in r){var a=r.options.map(function(o,l){return _9(t,o,e,l)}).filter(function(o){return T9(t,o)});return a.length>0?{type:"group",data:r,options:a,index:n}:void 0}var s=_9(t,r,e,n);return T9(t,s)?s:void 0}).filter(Vve)}function pX(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,bg(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function A9(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,bg(n.options.map(function(a){return{data:a.data,id:"".concat(e,"-").concat(n.index,"-").concat(a.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Wwe(t,e){return pX(R2(t,e))}function T9(t,e){var r=t.inputValue,n=r===void 0?"":r,a=e.data,s=e.isSelected,o=e.label,l=e.value;return(!vX(t)||!s)&&bX(t,{label:o,value:l,data:a},n)}function Vwe(t,e){var r=t.focusedValue,n=t.selectValue,a=n.indexOf(r);if(a>-1){var s=e.indexOf(r);if(s>-1)return r;if(a<e.length)return e[a]}return null}function Gwe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var qC=function(e,r){var n,a=(n=e.find(function(s){return s.data===r}))===null||n===void 0?void 0:n.id;return a||null},gX=function(e,r){return e.getOptionLabel(r)},Sj=function(e,r){return e.getOptionValue(r)};function xX(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function yX(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Sj(t,e);return r.some(function(a){return Sj(t,a)===n})}function bX(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var vX=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Ywe=1,hD=(function(t){Obe(r,t);var e=Pbe(r);function r(n){var a;if(Tbe(this,r),a=e.call(this,n),a.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},a.blockOptionHover=!1,a.isComposing=!1,a.commonProps=void 0,a.initialTouchX=0,a.initialTouchY=0,a.openAfterFocus=!1,a.scrollToFocusedOptionOnUpdate=!1,a.userIsDragging=void 0,a.controlRef=null,a.getControlRef=function(c){a.controlRef=c},a.focusedOptionRef=null,a.getFocusedOptionRef=function(c){a.focusedOptionRef=c},a.menuListRef=null,a.getMenuListRef=function(c){a.menuListRef=c},a.inputRef=null,a.getInputRef=function(c){a.inputRef=c},a.focus=a.focusInput,a.blur=a.blurInput,a.onChange=function(c,u){var f=a.props,m=f.onChange,g=f.name;u.name=g,a.ariaOnChange(c,u),m(c,u)},a.setValue=function(c,u,f){var m=a.props,g=m.closeMenuOnSelect,p=m.isMulti,v=m.inputValue;a.onInputChange("",{action:"set-value",prevInputValue:v}),g&&(a.setState({inputIsHiddenAfterUpdate:!p}),a.onMenuClose()),a.setState({clearFocusValueOnUpdate:!0}),a.onChange(c,{action:u,option:f})},a.selectOption=function(c){var u=a.props,f=u.blurInputOnSelect,m=u.isMulti,g=u.name,p=a.state.selectValue,v=m&&a.isOptionSelected(c,p),w=a.isOptionDisabled(c,p);if(v){var b=a.getOptionValue(c);a.setValue(p.filter(function(N){return a.getOptionValue(N)!==b}),"deselect-option",c)}else if(!w)m?a.setValue([].concat(bg(p),[c]),"select-option",c):a.setValue(c,"select-option");else{a.ariaOnChange(c,{action:"select-option",option:c,name:g});return}f&&a.blurInput()},a.removeValue=function(c){var u=a.props.isMulti,f=a.state.selectValue,m=a.getOptionValue(c),g=f.filter(function(v){return a.getOptionValue(v)!==m}),p=rb(u,g,g[0]||null);a.onChange(p,{action:"remove-value",removedValue:c}),a.focusInput()},a.clearValue=function(){var c=a.state.selectValue;a.onChange(rb(a.props.isMulti,[],null),{action:"clear",removedValues:c})},a.popValue=function(){var c=a.props.isMulti,u=a.state.selectValue,f=u[u.length-1],m=u.slice(0,u.length-1),g=rb(c,m,m[0]||null);f&&a.onChange(g,{action:"pop-value",removedValue:f})},a.getFocusedOptionId=function(c){return qC(a.state.focusableOptionsWithIds,c)},a.getFocusableOptionsWithIds=function(){return A9(R2(a.props,a.state.selectValue),a.getElementId("option"))},a.getValue=function(){return a.state.selectValue},a.cx=function(){for(var c=arguments.length,u=new Array(c),f=0;f<c;f++)u[f]=arguments[f];return Fve.apply(void 0,[a.props.classNamePrefix].concat(u))},a.getOptionLabel=function(c){return gX(a.props,c)},a.getOptionValue=function(c){return Sj(a.props,c)},a.getStyles=function(c,u){var f=a.props.unstyled,m=Fwe[c](u,f);m.boxSizing="border-box";var g=a.props.styles[c];return g?g(m,u):m},a.getClassNames=function(c,u){var f,m;return(f=(m=a.props.classNames)[c])===null||f===void 0?void 0:f.call(m,u)},a.getElementId=function(c){return"".concat(a.state.instancePrefix,"-").concat(c)},a.getComponents=function(){return lwe(a.props)},a.buildCategorizedOptions=function(){return R2(a.props,a.state.selectValue)},a.getCategorizedOptions=function(){return a.props.menuIsOpen?a.buildCategorizedOptions():[]},a.buildFocusableOptions=function(){return pX(a.buildCategorizedOptions())},a.getFocusableOptions=function(){return a.props.menuIsOpen?a.buildFocusableOptions():[]},a.ariaOnChange=function(c,u){a.setState({ariaSelection:Rr({value:c},u)})},a.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),a.focusInput())},a.onMenuMouseMove=function(c){a.blockOptionHover=!1},a.onControlMouseDown=function(c){if(!c.defaultPrevented){var u=a.props.openMenuOnClick;a.state.isFocused?a.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&a.onMenuClose():u&&a.openMenu("first"):(u&&(a.openAfterFocus=!0),a.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},a.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!a.props.isDisabled){var u=a.props,f=u.isMulti,m=u.menuIsOpen;a.focusInput(),m?(a.setState({inputIsHiddenAfterUpdate:!f}),a.onMenuClose()):a.openMenu("first"),c.preventDefault()}},a.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(a.clearValue(),c.preventDefault(),a.openAfterFocus=!1,c.type==="touchend"?a.focusInput():setTimeout(function(){return a.focusInput()}))},a.onScroll=function(c){typeof a.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&$N(c.target)&&a.props.onMenuClose():typeof a.props.closeMenuOnScroll=="function"&&a.props.closeMenuOnScroll(c)&&a.props.onMenuClose()},a.onCompositionStart=function(){a.isComposing=!0},a.onCompositionEnd=function(){a.isComposing=!1},a.onTouchStart=function(c){var u=c.touches,f=u&&u.item(0);f&&(a.initialTouchX=f.clientX,a.initialTouchY=f.clientY,a.userIsDragging=!1)},a.onTouchMove=function(c){var u=c.touches,f=u&&u.item(0);if(f){var m=Math.abs(f.clientX-a.initialTouchX),g=Math.abs(f.clientY-a.initialTouchY),p=5;a.userIsDragging=m>p||g>p}},a.onTouchEnd=function(c){a.userIsDragging||(a.controlRef&&!a.controlRef.contains(c.target)&&a.menuListRef&&!a.menuListRef.contains(c.target)&&a.blurInput(),a.initialTouchX=0,a.initialTouchY=0)},a.onControlTouchEnd=function(c){a.userIsDragging||a.onControlMouseDown(c)},a.onClearIndicatorTouchEnd=function(c){a.userIsDragging||a.onClearIndicatorMouseDown(c)},a.onDropdownIndicatorTouchEnd=function(c){a.userIsDragging||a.onDropdownIndicatorMouseDown(c)},a.handleInputChange=function(c){var u=a.props.inputValue,f=c.currentTarget.value;a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange(f,{action:"input-change",prevInputValue:u}),a.props.menuIsOpen||a.onMenuOpen()},a.onInputFocus=function(c){a.props.onFocus&&a.props.onFocus(c),a.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(a.openAfterFocus||a.props.openMenuOnFocus)&&a.openMenu("first"),a.openAfterFocus=!1},a.onInputBlur=function(c){var u=a.props.inputValue;if(a.menuListRef&&a.menuListRef.contains(document.activeElement)){a.inputRef.focus();return}a.props.onBlur&&a.props.onBlur(c),a.onInputChange("",{action:"input-blur",prevInputValue:u}),a.onMenuClose(),a.setState({focusedValue:null,isFocused:!1})},a.onOptionHover=function(c){if(!(a.blockOptionHover||a.state.focusedOption===c)){var u=a.getFocusableOptions(),f=u.indexOf(c);a.setState({focusedOption:c,focusedOptionId:f>-1?a.getFocusedOptionId(c):null})}},a.shouldHideSelectedOptions=function(){return vX(a.props)},a.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),a.focus()},a.onKeyDown=function(c){var u=a.props,f=u.isMulti,m=u.backspaceRemovesValue,g=u.escapeClearsValue,p=u.inputValue,v=u.isClearable,w=u.isDisabled,b=u.menuIsOpen,N=u.onKeyDown,k=u.tabSelectsValue,S=u.openMenuOnFocus,A=a.state,_=A.focusedOption,M=A.focusedValue,R=A.selectValue;if(!w&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(a.blockOptionHover=!0,c.key){case"ArrowLeft":if(!f||p)return;a.focusValue("previous");break;case"ArrowRight":if(!f||p)return;a.focusValue("next");break;case"Delete":case"Backspace":if(p)return;if(M)a.removeValue(M);else{if(!m)return;f?a.popValue():v&&a.clearValue()}break;case"Tab":if(a.isComposing||c.shiftKey||!b||!k||!_||S&&a.isOptionSelected(_,R))return;a.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(b){if(!_||a.isComposing)return;a.selectOption(_);break}return;case"Escape":b?(a.setState({inputIsHiddenAfterUpdate:!1}),a.onInputChange("",{action:"menu-close",prevInputValue:p}),a.onMenuClose()):v&&g&&a.clearValue();break;case" ":if(p)return;if(!b){a.openMenu("first");break}if(!_)return;a.selectOption(_);break;case"ArrowUp":b?a.focusOption("up"):a.openMenu("last");break;case"ArrowDown":b?a.focusOption("down"):a.openMenu("first");break;case"PageUp":if(!b)return;a.focusOption("pageup");break;case"PageDown":if(!b)return;a.focusOption("pagedown");break;case"Home":if(!b)return;a.focusOption("first");break;case"End":if(!b)return;a.focusOption("last");break;default:return}c.preventDefault()}},a.state.instancePrefix="react-select-"+(a.props.instanceId||++Ywe),a.state.selectValue=jj(n.value),n.menuIsOpen&&a.state.selectValue.length){var s=a.getFocusableOptionsWithIds(),o=a.buildFocusableOptions(),l=o.indexOf(a.state.selectValue[0]);a.state.focusableOptionsWithIds=s,a.state.focusedOption=o[l],a.state.focusedOptionId=qC(s,o[l])}return a}return Mbe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&m9(this.menuListRef,this.focusedOptionRef),Lwe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isDisabled,l=s.menuIsOpen,c=this.state.isFocused;(c&&!o&&a.isDisabled||c&&l&&!a.menuIsOpen)&&this.focusInput(),c&&o&&!a.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&a.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(m9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(a,s){this.props.onInputChange(a,s)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(a){var s=this,o=this.state,l=o.selectValue,c=o.isFocused,u=this.buildFocusableOptions(),f=a==="first"?0:u.length-1;if(!this.props.isMulti){var m=u.indexOf(l[0]);m>-1&&(f=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:u[f],focusedOptionId:this.getFocusedOptionId(u[f])},function(){return s.onMenuOpen()})}},{key:"focusValue",value:function(a){var s=this.state,o=s.selectValue,l=s.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var u=o.length-1,f=-1;if(o.length){switch(a){case"previous":c===0?f=0:c===-1?f=u:f=c-1;break;case"next":c>-1&&c<u&&(f=c+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",s=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,u=l.indexOf(o);o||(u=-1),a==="up"?c=u>0?u-1:l.length-1:a==="down"?c=(u+1)%l.length:a==="pageup"?(c=u-s,c<0&&(c=0)):a==="pagedown"?(c=u+s,c>l.length-1&&(c=l.length-1)):a==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(zC):Rr(Rr({},zC),this.props.theme):zC})},{key:"getCommonProps",value:function(){var a=this.clearValue,s=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,u=this.selectOption,f=this.setValue,m=this.props,g=m.isMulti,p=m.isRtl,v=m.options,w=this.hasValue();return{clearValue:a,cx:s,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:g,isRtl:p,options:v,selectOption:u,selectProps:m,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var a=this.state.selectValue;return a.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var a=this.props,s=a.isClearable,o=a.isMulti;return s===void 0?o:s}},{key:"isOptionDisabled",value:function(a,s){return xX(this.props,a,s)}},{key:"isOptionSelected",value:function(a,s){return yX(this.props,a,s)}},{key:"filterOption",value:function(a,s){return bX(this.props,a,s)}},{key:"formatOptionLabel",value:function(a,s){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(a,{context:s,inputValue:o,selectValue:l})}else return this.getOptionLabel(a)}},{key:"formatGroupLabel",value:function(a){return this.props.formatGroupLabel(a)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var a=this.props,s=a.isDisabled,o=a.isSearchable,l=a.inputId,c=a.inputValue,u=a.tabIndex,f=a.form,m=a.menuIsOpen,g=a.required,p=this.getComponents(),v=p.Input,w=this.state,b=w.inputIsHidden,N=w.ariaSelection,k=this.commonProps,S=l||this.getElementId("input"),A=Rr(Rr(Rr({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?y.createElement(v,qr({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:s,isHidden:b,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:u,form:f,type:"text",value:c},A)):y.createElement(jwe,qr({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:wj,onFocus:this.onInputFocus,disabled:s,tabIndex:u,inputMode:"none",form:f,value:""},A))})},{key:"renderPlaceholderOrValue",value:function(){var a=this,s=this.getComponents(),o=s.MultiValue,l=s.MultiValueContainer,c=s.MultiValueLabel,u=s.MultiValueRemove,f=s.SingleValue,m=s.Placeholder,g=this.commonProps,p=this.props,v=p.controlShouldRenderValue,w=p.isDisabled,b=p.isMulti,N=p.inputValue,k=p.placeholder,S=this.state,A=S.selectValue,_=S.focusedValue,M=S.isFocused;if(!this.hasValue()||!v)return N?null:y.createElement(m,qr({},g,{key:"placeholder",isDisabled:w,isFocused:M,innerProps:{id:this.getElementId("placeholder")}}),k);if(b)return A.map(function(L,I){var B=L===_,D="".concat(a.getOptionLabel(L),"-").concat(a.getOptionValue(L));return y.createElement(o,qr({},g,{components:{Container:l,Label:c,Remove:u},isFocused:B,isDisabled:w,key:D,index:I,removeProps:{onClick:function(){return a.removeValue(L)},onTouchEnd:function(){return a.removeValue(L)},onMouseDown:function(H){H.preventDefault()}},data:L}),a.formatOptionLabel(L,"value"))});if(N)return null;var R=A[0];return y.createElement(f,qr({},g,{data:R,isDisabled:w}),this.formatOptionLabel(R,"value"))}},{key:"renderClearIndicator",value:function(){var a=this.getComponents(),s=a.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!s||c||!this.hasValue()||u)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:m,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var a=this.getComponents(),s=a.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,u=l.isLoading,f=this.state.isFocused;if(!s||!u)return null;var m={"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:m,isDisabled:c,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator,o=a.IndicatorSeparator;if(!s||!o)return null;var l=this.commonProps,c=this.props.isDisabled,u=this.state.isFocused;return y.createElement(o,qr({},l,{isDisabled:c,isFocused:u}))}},{key:"renderDropdownIndicator",value:function(){var a=this.getComponents(),s=a.DropdownIndicator;if(!s)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,u={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return y.createElement(s,qr({},o,{innerProps:u,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var a=this,s=this.getComponents(),o=s.Group,l=s.GroupHeading,c=s.Menu,u=s.MenuList,f=s.MenuPortal,m=s.LoadingMessage,g=s.NoOptionsMessage,p=s.Option,v=this.commonProps,w=this.state.focusedOption,b=this.props,N=b.captureMenuScroll,k=b.inputValue,S=b.isLoading,A=b.loadingMessage,_=b.minMenuHeight,M=b.maxMenuHeight,R=b.menuIsOpen,L=b.menuPlacement,I=b.menuPosition,B=b.menuPortalTarget,D=b.menuShouldBlockScroll,E=b.menuShouldScrollIntoView,H=b.noOptionsMessage,V=b.onMenuScrollToTop,Y=b.onMenuScrollToBottom;if(!R)return null;var W=function(X,Z){var ne=X.type,ue=X.data,_e=X.isDisabled,Ne=X.isSelected,ge=X.label,ke=X.value,ze=w===ue,he=_e?void 0:function(){return a.onOptionHover(ue)},ye=_e?void 0:function(){return a.selectOption(ue)},ae="".concat(a.getElementId("option"),"-").concat(Z),ie={id:ae,onClick:ye,onMouseMove:he,onMouseOver:he,tabIndex:-1,role:"option","aria-selected":a.state.isAppleDevice?void 0:Ne};return y.createElement(p,qr({},v,{innerProps:ie,data:ue,isDisabled:_e,isSelected:Ne,key:ae,label:ge,type:ne,value:ke,isFocused:ze,innerRef:ze?a.getFocusedOptionRef:void 0}),a.formatOptionLabel(X.data,"menu"))},F;if(this.hasOptions())F=this.getCategorizedOptions().map(function(U){if(U.type==="group"){var X=U.data,Z=U.options,ne=U.index,ue="".concat(a.getElementId("group"),"-").concat(ne),_e="".concat(ue,"-heading");return y.createElement(o,qr({},v,{key:ue,data:X,options:Z,Heading:l,headingProps:{id:_e,data:U.data},label:a.formatGroupLabel(U.data)}),U.options.map(function(Ne){return W(Ne,"".concat(ne,"-").concat(Ne.index))}))}else if(U.type==="option")return W(U,"".concat(U.index))});else if(S){var z=A({inputValue:k});if(z===null)return null;F=y.createElement(m,v,z)}else{var J=H({inputValue:k});if(J===null)return null;F=y.createElement(g,v,J)}var oe={minMenuHeight:_,maxMenuHeight:M,menuPlacement:L,menuPosition:I,menuShouldScrollIntoView:E},K=y.createElement(e1e,qr({},v,oe),function(U){var X=U.ref,Z=U.placerProps,ne=Z.placement,ue=Z.maxHeight;return y.createElement(c,qr({},v,oe,{innerRef:X,innerProps:{onMouseDown:a.onMenuMouseDown,onMouseMove:a.onMenuMouseMove},isLoading:S,placement:ne}),y.createElement(Awe,{captureEnabled:N,onTopArrive:V,onBottomArrive:Y,lockEnabled:D},function(_e){return y.createElement(u,qr({},v,{innerRef:function(ge){a.getMenuListRef(ge),_e(ge)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:a.getElementId("listbox")},isLoading:S,maxHeight:ue,focusedOption:w}),F)}))});return B||I==="fixed"?y.createElement(f,qr({},v,{appendTo:B,controlElement:this.controlRef,menuPlacement:L,menuPosition:I}),K):K}},{key:"renderFormField",value:function(){var a=this,s=this.props,o=s.delimiter,l=s.isDisabled,c=s.isMulti,u=s.name,f=s.required,m=this.state.selectValue;if(f&&!this.hasValue()&&!l)return y.createElement(Owe,{name:u,onFocus:this.onValueInputFocus});if(!(!u||l))if(c)if(o){var g=m.map(function(w){return a.getOptionValue(w)}).join(o);return y.createElement("input",{name:u,type:"hidden",value:g})}else{var p=m.length>0?m.map(function(w,b){return y.createElement("input",{key:"i-".concat(b),name:u,type:"hidden",value:a.getOptionValue(w)})}):y.createElement("input",{name:u,type:"hidden",value:""});return y.createElement("div",null,p)}else{var v=m[0]?this.getOptionValue(m[0]):"";return y.createElement("input",{name:u,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var a=this.commonProps,s=this.state,o=s.ariaSelection,l=s.focusedOption,c=s.focusedValue,u=s.isFocused,f=s.selectValue,m=this.getFocusableOptions();return y.createElement(gwe,qr({},a,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:u,selectValue:f,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var a=this.getComponents(),s=a.Control,o=a.IndicatorsContainer,l=a.SelectContainer,c=a.ValueContainer,u=this.props,f=u.className,m=u.id,g=u.isDisabled,p=u.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return y.createElement(l,qr({},w,{className:f,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:v}),this.renderLiveRegion(),y.createElement(s,qr({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:v,menuIsOpen:p}),y.createElement(c,qr({},w,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),y.createElement(o,qr({},w,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(a,s){var o=s.prevProps,l=s.clearFocusValueOnUpdate,c=s.inputIsHiddenAfterUpdate,u=s.ariaSelection,f=s.isFocused,m=s.prevWasFocused,g=s.instancePrefix,p=a.options,v=a.value,w=a.menuIsOpen,b=a.inputValue,N=a.isMulti,k=jj(v),S={};if(o&&(v!==o.value||p!==o.options||w!==o.menuIsOpen||b!==o.inputValue)){var A=w?Wwe(a,k):[],_=w?A9(R2(a,k),"".concat(g,"-option")):[],M=l?Vwe(s,k):null,R=Gwe(s,A),L=qC(_,R);S={selectValue:k,focusedOption:R,focusedOptionId:L,focusableOptionsWithIds:_,focusedValue:M,clearFocusValueOnUpdate:!1}}var I=c!=null&&a!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},B=u,D=f&&m;return f&&!D&&(B={value:rb(N,k,k[0]||null),options:k,action:"initial-input-focus"},D=!m),(u==null?void 0:u.action)==="initial-input-focus"&&(B=null),Rr(Rr(Rr({},S),I),{},{prevProps:a,ariaSelection:B,prevWasFocused:D})}}]),r})(y.Component);hD.defaultProps=Uwe;var Kwe=y.forwardRef(function(t,e){var r=$J(t);return y.createElement(hD,qr({ref:e},r))}),Wn=Kwe;function Ws(t){this.content=t}Ws.prototype={constructor:Ws,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,a=n.find(t),s=n.content.slice();return a==-1?s.push(r||t,e):(s[a+1]=e,r&&(s[a]=r)),new Ws(s)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ws(r)},addToStart:function(t,e){return new Ws([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ws(r)},addBefore:function(t,e,r){var n=this.remove(e),a=n.content.slice(),s=n.find(t);return a.splice(s==-1?a.length:s,0,e,r),new Ws(a)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ws.from(t),t.size?new Ws(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ws.from(t),t.size?new Ws(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ws.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ws.from=function(t){if(t instanceof Ws)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ws(e)};function wX(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let a=t.child(n),s=e.child(n);if(a==s){r+=a.nodeSize;continue}if(!a.sameMarkup(s))return r;if(a.isText&&a.text!=s.text){for(let o=0;a.text[o]==s.text[o];o++)r++;return r}if(a.content.size||s.content.size){let o=wX(a.content,s.content,r+1);if(o!=null)return o}r+=a.nodeSize}}function jX(t,e,r,n){for(let a=t.childCount,s=e.childCount;;){if(a==0||s==0)return a==s?null:{a:r,b:n};let o=t.child(--a),l=e.child(--s),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let u=0,f=Math.min(o.text.length,l.text.length);for(;u<f&&o.text[o.text.length-u-1]==l.text[l.text.length-u-1];)u++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let u=jX(o.content,l.content,r-1,n-1);if(u)return u}r-=c,n-=c}}class Yt{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,a=0,s){for(let o=0,l=0;l<r;o++){let c=this.content[o],u=l+c.nodeSize;if(u>e&&n(c,a+l,s||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,r-f),n,a+f)}l=u}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,a){let s="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let u=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?a?typeof a=="function"?a(l):a:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&u||l.isTextblock)&&n&&(o?o=!1:s+=n),s+=u},0),s}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,a=this.content.slice(),s=0;for(r.isText&&r.sameMarkup(n)&&(a[a.length-1]=r.withText(r.text+n.text),s=1);s<e.content.length;s++)a.push(e.content[s]);return new Yt(a,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],a=0;if(r>e)for(let s=0,o=0;o<r;s++){let l=this.content[s],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),a+=l.nodeSize),o=c}return new Yt(n,a)}cutByIndex(e,r){return e==r?Yt.empty:e==0&&r==this.content.length?this:new Yt(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let a=this.content.slice(),s=this.size+r.nodeSize-n.nodeSize;return a[e]=r,new Yt(a,s)}addToStart(e){return new Yt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Yt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let a=this.content[r];e(a,n,r),n+=a.nodeSize}}findDiffStart(e,r=0){return wX(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return jX(this,e,r,n)}findIndex(e){if(e==0)return Ew(0,e);if(e==this.size)return Ew(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let a=this.child(r),s=n+a.nodeSize;if(s>=e)return s==e?Ew(r+1,s):Ew(r,n);n=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Yt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Yt(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Yt.empty;let r,n=0;for(let a=0;a<e.length;a++){let s=e[a];n+=s.nodeSize,a&&s.isText&&e[a-1].sameMarkup(s)?(r||(r=e.slice(0,a)),r[r.length-1]=s.withText(r[r.length-1].text+s.text)):r&&r.push(s)}return new Yt(r||e,n)}static from(e){if(!e)return Yt.empty;if(e instanceof Yt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Yt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Yt.empty=new Yt([],0);const UC={index:0,offset:0};function Ew(t,e){return UC.index=t,UC.offset=e,UC}function kj(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!kj(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!kj(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ta=class UM{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let a=0;a<e.length;a++){let s=e[a];if(this.eq(s))return e;if(this.type.excludes(s.type))r||(r=e.slice(0,a));else{if(s.type.excludes(this.type))return e;!n&&s.type.rank>this.type.rank&&(r||(r=e.slice(0,a)),r.push(this),n=!0),r&&r.push(s)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&kj(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let a=n.create(r.attrs);return n.checkAttrs(a.attrs),a}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return UM.none;if(e instanceof UM)return[e];let r=e.slice();return r.sort((n,a)=>n.type.rank-a.type.rank),r}};Ta.none=[];class Cj extends Error{}class hr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=SX(this.content,e+this.openStart,r);return n&&new hr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new hr(NX(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return hr.empty;let n=r.openStart||0,a=r.openEnd||0;if(typeof n!="number"||typeof a!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new hr(Yt.fromJSON(e,r.content),n,a)}static maxOpen(e,r=!0){let n=0,a=0;for(let s=e.firstChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.firstChild)n++;for(let s=e.lastChild;s&&!s.isLeaf&&(r||!s.type.spec.isolating);s=s.lastChild)a++;return new hr(e,n,a)}}hr.empty=new hr(Yt.empty,0,0);function NX(t,e,r){let{index:n,offset:a}=t.findIndex(e),s=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(a==e||s.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,s.copy(NX(s.content,e-a-1,r-a-1)))}function SX(t,e,r,n){let{index:a,offset:s}=t.findIndex(e),o=t.maybeChild(a);if(s==e||o.isText)return n&&!n.canReplace(a,a,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=SX(o.content,e-s-1,r,o);return l&&t.replaceChild(a,o.copy(l))}function Jwe(t,e,r){if(r.openStart>t.depth)throw new Cj("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Cj("Inconsistent open depths");return kX(t,e,r,0)}function kX(t,e,r,n){let a=t.index(n),s=t.node(n);if(a==e.index(n)&&n<t.depth-r.openStart){let o=kX(t,e,r,n+1);return s.copy(s.content.replaceChild(a,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return xp(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Xwe(r,t);return xp(s,_X(t,o,l,e,n))}else return xp(s,_j(t,e,n))}function CX(t,e){if(!e.type.compatibleContent(t.type))throw new Cj("Cannot join "+e.type.name+" onto "+t.type.name)}function WM(t,e,r){let n=t.node(r);return CX(n,e.node(r)),n}function gp(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function pb(t,e,r,n){let a=(e||t).node(r),s=0,o=e?e.index(r):a.childCount;t&&(s=t.index(r),t.depth>r?s++:t.textOffset&&(gp(t.nodeAfter,n),s++));for(let l=s;l<o;l++)gp(a.child(l),n);e&&e.depth==r&&e.textOffset&&gp(e.nodeBefore,n)}function xp(t,e){return t.type.checkContent(e),t.copy(e)}function _X(t,e,r,n,a){let s=t.depth>a&&WM(t,e,a+1),o=n.depth>a&&WM(r,n,a+1),l=[];return pb(null,t,a,l),s&&o&&e.index(a)==r.index(a)?(CX(s,o),gp(xp(s,_X(t,e,r,n,a+1)),l)):(s&&gp(xp(s,_j(t,e,a+1)),l),pb(e,r,a,l),o&&gp(xp(o,_j(r,n,a+1)),l)),pb(n,null,a,l),new Yt(l)}function _j(t,e,r){let n=[];if(pb(null,t,r,n),t.depth>r){let a=WM(t,e,r+1);gp(xp(a,_j(t,e,r+1)),n)}return pb(e,null,r,n),new Yt(n)}function Xwe(t,e){let r=e.depth-t.openStart,a=e.node(r).copy(t.content);for(let s=r-1;s>=0;s--)a=e.node(s).copy(Yt.from(a));return{start:a.resolveNoCache(t.openStart+r),end:a.resolveNoCache(a.content.size-t.openEnd-r)}}class Kb{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],a=e.child(r);return n?e.child(r).cut(n):a}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],a=r==0?0:this.path[r*3-1]+1;for(let s=0;s<e;s++)a+=n.child(s).nodeSize;return a}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ta.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),a=e.maybeChild(r);if(!n){let l=n;n=a,a=l}let s=n.marks;for(var o=0;o<s.length;o++)s[o].type.spec.inclusive===!1&&(!a||!s[o].isInSet(a.marks))&&(s=s[o--].removeFromSet(s));return s}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,a=e.parent.maybeChild(e.index());for(var s=0;s<n.length;s++)n[s].type.spec.inclusive===!1&&(!a||!n[s].isInSet(a.marks))&&(n=n[s--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Aj(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],a=0,s=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(s),u=s-c;if(n.push(o,l,a+c),!u||(o=o.child(l),o.isText))break;s=u-1,a+=c+1}return new Kb(r,n,s)}static resolveCached(e,r){let n=M9.get(e);if(n)for(let s=0;s<n.elts.length;s++){let o=n.elts[s];if(o.pos==r)return o}else M9.set(e,n=new Qwe);let a=n.elts[n.i]=Kb.resolve(e,r);return n.i=(n.i+1)%Zwe,a}}class Qwe{constructor(){this.elts=[],this.i=0}}const Zwe=12,M9=new WeakMap;class Aj{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const e2e=Object.create(null);let Gh=class VM{constructor(e,r,n,a=Ta.none){this.type=e,this.attrs=r,this.marks=a,this.content=n||Yt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,a=0){this.content.nodesBetween(e,r,n,a,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,a){return this.content.textBetween(e,r,n,a)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&kj(this.attrs,r||e.defaultAttrs||e2e)&&Ta.sameSet(this.marks,n||Ta.none)}copy(e=null){return e==this.content?this:new VM(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new VM(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return hr.empty;let a=this.resolve(e),s=this.resolve(r),o=n?0:a.sharedDepth(r),l=a.start(o),u=a.node(o).content.cut(a.pos-l,s.pos-l);return new hr(u,a.depth-o,s.depth-o)}replace(e,r,n){return Jwe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:a}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(a==e||r.isText)return r;e-=a+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let a=this.content.child(r-1);return{node:a,index:r-1,offset:n-a.nodeSize}}resolve(e){return Kb.resolveCached(this,e)}resolveNoCache(e){return Kb.resolve(this,e)}rangeHasMark(e,r,n){let a=!1;return r>e&&this.nodesBetween(e,r,s=>(n.isInSet(s.marks)&&(a=!0),!a)),a}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),AX(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Yt.empty,a=0,s=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,a,s),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=a;c<s;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,a){if(a&&!this.type.allowsMarks(a))return!1;let s=this.contentMatchAt(e).matchType(n),o=s&&s.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ta.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ta.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let a=Yt.fromJSON(e,r.content),s=e.nodeType(r.type).create(r.attrs,a,n);return s.type.checkAttrs(s.attrs),s}};Gh.prototype.text=void 0;class Tj extends Gh{constructor(e,r,n,a){if(super(e,r,null,a),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):AX(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Tj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Tj(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function AX(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Ap{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new t2e(e,r);if(n.next==null)return Ap.empty;let a=TX(n);n.next&&n.err("Unexpected trailing text");let s=l2e(o2e(a));return c2e(s,n),s}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let a=this;for(let s=r;a&&s<n;s++)a=a.matchType(e.child(s).type);return a}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let a=[this];function s(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return Yt.from(l.map(u=>u.createAndFill()));for(let u=0;u<o.next.length;u++){let{type:f,next:m}=o.next[u];if(!(f.isText||f.hasRequiredAttrs())&&a.indexOf(m)==-1){a.push(m);let g=s(m,l.concat(f));if(g)return g}}return null}return s(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let a=n.shift(),s=a.match;if(s.matchType(e)){let o=[];for(let l=a;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<s.next.length;o++){let{type:l,next:c}=s.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!a.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:a}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let a=0;a<n.next.length;a++)e.indexOf(n.next[a].next)==-1&&r(n.next[a].next)}return r(this),e.map((n,a)=>{let s=a+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)s+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return s}).join(`
`)}}Ap.empty=new Ap(!0);class t2e{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function TX(t){let e=[];do e.push(r2e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function r2e(t){let e=[];do e.push(n2e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function n2e(t){let e=s2e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=a2e(t,e);else break;return e}function O9(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function a2e(t,e){let r=O9(t),n=r;return t.eat(",")&&(t.next!="}"?n=O9(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function i2e(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let a=[];for(let s in r){let o=r[s];o.isInGroup(e)&&a.push(o)}return a.length==0&&t.err("No node type or group '"+e+"' found"),a}function s2e(t){if(t.eat("(")){let e=TX(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=i2e(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function o2e(t){let e=[[]];return a(s(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let u={term:c,to:l};return e[o].push(u),u}function a(o,l){o.forEach(c=>c.to=l)}function s(o,l){if(o.type=="choice")return o.exprs.reduce((c,u)=>c.concat(s(u,l)),[]);if(o.type=="seq")for(let c=0;;c++){let u=s(o.exprs[c],l);if(c==o.exprs.length-1)return u;a(u,l=r())}else if(o.type=="star"){let c=r();return n(l,c),a(s(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return a(s(o.expr,l),c),a(s(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(s(o.expr,l));if(o.type=="range"){let c=l;for(let u=0;u<o.min;u++){let f=r();a(s(o.expr,c),f),c=f}if(o.max==-1)a(s(o.expr,c),c);else for(let u=o.min;u<o.max;u++){let f=r();n(c,f),a(s(o.expr,c),f),c=f}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function MX(t,e){return e-t}function E9(t,e){let r=[];return n(e),r.sort(MX);function n(a){let s=t[a];if(s.length==1&&!s[0].term)return n(s[0].to);r.push(a);for(let o=0;o<s.length;o++){let{term:l,to:c}=s[o];!l&&r.indexOf(c)==-1&&n(c)}}}function l2e(t){let e=Object.create(null);return r(E9(t,0));function r(n){let a=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let u;for(let f=0;f<a.length;f++)a[f][0]==l&&(u=a[f][1]);E9(t,c).forEach(f=>{u||a.push([l,u=[]]),u.indexOf(f)==-1&&u.push(f)})})});let s=e[n.join(",")]=new Ap(n.indexOf(t.length-1)>-1);for(let o=0;o<a.length;o++){let l=a[o][1].sort(MX);s.next.push({type:a[o][0],next:e[l.join(",")]||r(l)})}return s}}function c2e(t,e){for(let r=0,n=[t];r<n.length;r++){let a=n[r],s=!a.validEnd,o=[];for(let l=0;l<a.next.length;l++){let{type:c,next:u}=a.next[l];o.push(c.name),s&&!(c.isText||c.hasRequiredAttrs())&&(s=!1),n.indexOf(u)==-1&&n.push(u)}s&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function OX(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function EX(t,e){let r=Object.create(null);for(let n in t){let a=e&&e[n];if(a===void 0){let s=t[n];if(s.hasDefault)a=s.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=a}return r}function DX(t,e,r,n){for(let a in e)if(!(a in t))throw new RangeError(`Unsupported attribute ${a} for ${r} of type ${a}`);for(let a in t){let s=t[a];s.validate&&s.validate(e[a])}}function PX(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new d2e(t,n,e[n]);return r}let D9=class LX{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=PX(e,n.attrs),this.defaultAttrs=OX(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Ap.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:EX(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Gh(this,this.computeAttrs(e),Yt.from(r),Ta.setFrom(n))}createChecked(e=null,r,n){return r=Yt.from(r),this.checkContent(r),new Gh(this,this.computeAttrs(e),r,Ta.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Yt.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let a=this.contentMatch.matchFragment(r),s=a&&a.fillBefore(Yt.empty,!0);return s?new Gh(this,e,r.append(s),Ta.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){DX(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ta.none:e}static compile(e,r){let n=Object.create(null);e.forEach((s,o)=>n[s]=new LX(s,r,o));let a=r.spec.topNode||"doc";if(!n[a])throw new RangeError("Schema is missing its top node type ('"+a+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let s in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function u2e(t,e,r){let n=r.split("|");return a=>{let s=a===null?"null":typeof a;if(n.indexOf(s)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${s}`)}}class d2e{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?u2e(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class BN{constructor(e,r,n,a){this.name=e,this.rank=r,this.schema=n,this.spec=a,this.attrs=PX(e,a.attrs),this.excluded=null;let s=OX(this.attrs);this.instance=s?new Ta(this,s):null}create(e=null){return!e&&this.instance?this.instance:new Ta(this,EX(this.attrs,e))}static compile(e,r){let n=Object.create(null),a=0;return e.forEach((s,o)=>n[s]=new BN(s,a++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){DX(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class RX{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let a in e)r[a]=e[a];r.nodes=Ws.from(e.nodes),r.marks=Ws.from(e.marks||{}),this.nodes=D9.compile(this.spec.nodes,this),this.marks=BN.compile(this.spec.marks,this);let n=Object.create(null);for(let a in this.nodes){if(a in this.marks)throw new RangeError(a+" can not be both a node and a mark");let s=this.nodes[a],o=s.spec.content||"",l=s.spec.marks;if(s.contentMatch=n[o]||(n[o]=Ap.parse(o,this.nodes)),s.inlineContent=s.contentMatch.inlineContent,s.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!s.isInline||!s.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=s}s.markSet=l=="_"?null:l?P9(this,l.split(" ")):l==""||!s.inlineContent?[]:null}for(let a in this.marks){let s=this.marks[a],o=s.spec.excludes;s.excluded=o==null?[s]:o==""?[]:P9(this,o.split(" "))}this.nodeFromJSON=a=>Gh.fromJSON(this,a),this.markFromJSON=a=>Ta.fromJSON(this,a),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,a){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof D9){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,a)}text(e,r){let n=this.nodes.text;return new Tj(n,n.defaultAttrs,e,Ta.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function P9(t,e){let r=[];for(let n=0;n<e.length;n++){let a=e[n],s=t.marks[a],o=s;if(s)r.push(s);else for(let l in t.marks){let c=t.marks[l];(a=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(a)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function f2e(t){return t.tag!=null}function h2e(t){return t.style!=null}class Yh{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(a=>{if(f2e(a))this.tags.push(a);else if(h2e(a)){let s=/[^=]*/.exec(a.style)[0];n.indexOf(s)<0&&n.push(s),this.styles.push(a)}}),this.normalizeLists=!this.tags.some(a=>{if(!/^(ul|ol)\b/.test(a.tag)||!a.node)return!1;let s=e.nodes[a.node];return s.contentMatch.matchType(s)})}parse(e,r={}){let n=new R9(this,r,!1);return n.addAll(e,Ta.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new R9(this,r,!0);return n.addAll(e,Ta.none,r.from,r.to),hr.maxOpen(n.finish())}matchTag(e,r,n){for(let a=n?this.tags.indexOf(n)+1:0;a<this.tags.length;a++){let s=this.tags[a];if(g2e(e,s.tag)&&(s.namespace===void 0||e.namespaceURI==s.namespace)&&(!s.context||r.matchesContext(s.context))){if(s.getAttrs){let o=s.getAttrs(e);if(o===!1)continue;s.attrs=o||void 0}return s}}}matchStyle(e,r,n,a){for(let s=a?this.styles.indexOf(a)+1:0;s<this.styles.length;s++){let o=this.styles[s],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(a){let s=a.priority==null?50:a.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<s)break}r.splice(o,0,a)}for(let a in e.marks){let s=e.marks[a].spec.parseDOM;s&&s.forEach(o=>{n(o=I9(o)),o.mark||o.ignore||o.clearMark||(o.mark=a)})}for(let a in e.nodes){let s=e.nodes[a].spec.parseDOM;s&&s.forEach(o=>{n(o=I9(o)),o.node||o.ignore||o.mark||(o.node=a)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Yh(e,Yh.schemaRules(e)))}}const IX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},m2e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},FX={ol:!0,ul:!0},Jb=1,GM=2,gb=4;function L9(t,e,r){return e!=null?(e?Jb:0)|(e==="full"?GM:0):t&&t.whitespace=="pre"?Jb|GM:r&~gb}class Dw{constructor(e,r,n,a,s,o){this.type=e,this.attrs=r,this.marks=n,this.solid=a,this.options=o,this.content=[],this.activeMarks=Ta.none,this.match=s||(o&gb?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Yt.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,a;return(a=n.findWrapping(e.type))?(this.match=n,a):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Jb)){let n=this.content[this.content.length-1],a;if(n&&n.isText&&(a=/[ \t\r\n\u000c]+$/.exec(n.text))){let s=n;n.text.length==a[0].length?this.content.pop():this.content[this.content.length-1]=s.withText(s.text.slice(0,s.text.length-a[0].length))}}let r=Yt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Yt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IX.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class R9{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let a=r.topNode,s,o=L9(null,r.preserveWhitespace,0)|(n?gb:0);a?s=new Dw(a.type,a.attrs,Ta.none,!0,r.topMatch||a.type.contentMatch,o):n?s=new Dw(null,null,Ta.none,!0,null,o):s=new Dw(e.schema.topNodeType,null,Ta.none,!0,null,o),this.nodes=[s],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,a=this.top,s=a.options&GM?"full":this.localPreserveWS||(a.options&Jb)>0;if(s==="full"||a.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(s)s!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=a.content[a.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let a=this.localPreserveWS,s=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;FX.hasOwnProperty(o)&&this.parser.normalizeLists&&p2e(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:m2e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let u,f=this.needsBlock;if(IX.hasOwnProperty(o))s.content.length&&s.content[0].isInline&&this.open&&(this.open--,s=this.top),u=!0,s.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),u&&this.sync(s),this.needsBlock=f}else{let u=this.readStyles(e,r);u&&this.addElementByRule(e,c,u,c.consuming===!1?l:void 0)}this.localPreserveWS=a}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let a=0;a<this.parser.matchedStyles.length;a++){let s=this.parser.matchedStyles[a],o=n.getPropertyValue(s);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(s,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(u=>!c.clearMark(u)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,a){let s,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(s=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(a)this.addElement(e,n,a);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}s&&this.sync(l)&&this.open--}addAll(e,r,n,a){let s=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=a==null?null:e.childNodes[a];o!=l;o=o.nextSibling,++s)this.findAtPoint(e,s),this.addDOM(o,r);this.findAtPoint(e,s)}findPlace(e,r,n){let a,s;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],u=c.findWrapping(e);if(u&&(!a||a.length>u.length+l)&&(a=u,s=c,!u.length))break;if(c.solid){if(n)break;l+=2}}if(!a)return null;this.sync(s);for(let o=0;o<a.length;o++)r=this.enterInner(a[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let s=this.textblockFromContext();s&&(r=this.enterInner(s,null,r))}let a=this.findPlace(e,r,n);if(a){this.closeExtra();let s=this.top;s.match&&(s.match=s.match.matchType(e.type));let o=Ta.none;for(let l of a.concat(e.marks))(s.type?s.type.allowsMarkType(l.type):F9(l.type,e.type))&&(o=l.addToSet(o));return s.content.push(e.mark(o)),!0}return!1}enter(e,r,n,a){let s=this.findPlace(e.create(r),n,!1);return s&&(s=this.enterInner(e,r,n,!0,a)),s}enterInner(e,r,n,a=!1,s){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=L9(e,s,o.options);o.options&gb&&o.content.length==0&&(l|=gb);let c=Ta.none;return n=n.filter(u=>(o.type?o.type.allowsMarkType(u.type):F9(u.type,e))?(c=u.addToSet(c),!1):!0),this.nodes.push(new Dw(e,r,c,a,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Jb)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let a=n.length-1;a>=0;a--)e+=n[a].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let a=0;a<this.find.length;a++)this.find[a].pos==null&&e.nodeType==1&&e.contains(this.find[a].node)&&r.compareDocumentPosition(this.find[a].node)&(n?2:4)&&(this.find[a].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,a=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),s=-(n?n.depth+1:0)+(a?0:1),o=(l,c)=>{for(;l>=0;l--){let u=r[l];if(u==""){if(l==r.length-1||l==0)continue;for(;c>=s;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&a?this.nodes[c].type:n&&c>=s?n.node(c-s).type:null;if(!f||f.name!=u&&!f.isInGroup(u))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function p2e(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&FX.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function g2e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function I9(t){let e={};for(let r in t)e[r]=t[r];return e}function F9(t,e){let r=e.schema.nodes;for(let n in r){let a=r[n];if(!a.allowsMarkType(t))continue;let s=[],o=l=>{s.push(l);for(let c=0;c<l.edgeCount;c++){let{type:u,next:f}=l.edge(c);if(u==e||s.indexOf(f)<0&&o(f))return!0}};if(o(a.contentMatch))return!0}}class Up{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=WC(r).createDocumentFragment());let a=n,s=[];return e.forEach(o=>{if(s.length||o.marks.length){let l=0,c=0;for(;l<s.length&&c<o.marks.length;){let u=o.marks[c];if(!this.marks[u.type.name]){c++;continue}if(!u.eq(s[l][0])||u.type.spec.spanning===!1)break;l++,c++}for(;l<s.length;)a=s.pop()[1];for(;c<o.marks.length;){let u=o.marks[c++],f=this.serializeMark(u,o.isInline,r);f&&(s.push([u,a]),a.appendChild(f.dom),a=f.contentDOM||f.dom)}}a.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:a}=I2(WC(r),this.nodes[e.type.name](e),null,e.attrs);if(a){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,a)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let a=e.marks.length-1;a>=0;a--){let s=this.serializeMark(e.marks[a],e.isInline,r);s&&((s.contentDOM||s.dom).appendChild(n),n=s.dom)}return n}serializeMark(e,r,n={}){let a=this.marks[e.type.name];return a&&I2(WC(n),a(e,r),null,e.attrs)}static renderSpec(e,r,n=null,a){return I2(e,r,n,a)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Up(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=$9(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return $9(e.marks)}}function $9(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function WC(t){return t.document||window.document}const B9=new WeakMap;function x2e(t){let e=B9.get(t);return e===void 0&&B9.set(t,e=y2e(t)),e}function y2e(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let a=0;a<n.length;a++)r(n[a]);else for(let a in n)r(n[a])}return r(t),e}function I2(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let a=e[0],s;if(typeof a!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(s=x2e(n))&&s.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=a.indexOf(" ");o>0&&(r=a.slice(0,o),a=a.slice(o+1));let l,c=r?t.createElementNS(r,a):t.createElement(a),u=e[1],f=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){f=2;for(let m in u)if(u[m]!=null){let g=m.indexOf(" ");g>0?c.setAttributeNS(m.slice(0,g),m.slice(g+1),u[m]):m=="style"&&c.style?c.style.cssText=u[m]:c.setAttribute(m,u[m])}}for(let m=f;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:p,contentDOM:v}=I2(t,g,r,n);if(c.appendChild(p),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const $X=65535,BX=Math.pow(2,16);function b2e(t,e){return t+e*BX}function H9(t){return t&$X}function v2e(t){return(t-(t&$X))/BX}const HX=1,zX=2,F2=4,qX=8;class YM{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&qX)>0}get deletedBefore(){return(this.delInfo&(HX|F2))>0}get deletedAfter(){return(this.delInfo&(zX|F2))>0}get deletedAcross(){return(this.delInfo&F2)>0}}class Cl{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Cl.empty)return Cl.empty}recover(e){let r=0,n=H9(e);if(!this.inverted)for(let a=0;a<n;a++)r+=this.ranges[a*3+2]-this.ranges[a*3+1];return this.ranges[n*3]+r+v2e(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let a=0,s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?a:0);if(c>e)break;let u=this.ranges[l+s],f=this.ranges[l+o],m=c+u;if(e<=m){let g=u?e==c?-1:e==m?1:r:r,p=c+a+(g<0?0:f);if(n)return p;let v=e==(r<0?c:m)?null:b2e(l/3,e-c),w=e==c?zX:e==m?HX:F2;return(r<0?e!=c:e!=m)&&(w|=qX),new YM(p,w,v)}a+=f-u}return n?e+a:new YM(e+a,0,null)}touches(e,r){let n=0,a=H9(r),s=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let u=this.ranges[l+s],f=c+u;if(e<=f&&l==a*3)return!0;n+=this.ranges[l+o]-u}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let a=0,s=0;a<this.ranges.length;a+=3){let o=this.ranges[a],l=o-(this.inverted?s:0),c=o+(this.inverted?0:s),u=this.ranges[a+r],f=this.ranges[a+n];e(l,l+u,c,c+f),s+=f-u}}invert(){return new Cl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Cl.empty:new Cl(e<0?[0,-e,0]:[0,0,e])}}Cl.empty=new Cl([]);class Xb{constructor(e,r,n=0,a=e?e.length:0){this.mirror=r,this.from=n,this.to=a,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Xb(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let a=e.getMirror(r);this.appendMap(e._maps[r],a!=null&&a<r?n+a:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let a=e.getMirror(r);this.appendMap(e._maps[r].invert(),a!=null&&a>r?n-a-1:void 0)}}invert(){let e=new Xb;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let a=0;for(let s=this.from;s<this.to;s++){let o=this._maps[s],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(s);if(c!=null&&c>s&&c<this.to){s=c,e=this._maps[c].recover(l.recover);continue}}a|=l.delInfo,e=l.pos}return n?e:new YM(e,a,null)}}const VC=Object.create(null);let yo=class{getMap(){return Cl.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=VC[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in VC)throw new RangeError("Duplicate use of step JSON ID "+e);return VC[e]=r,r.prototype.jsonID=e,r}};class ts{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ts(e,null)}static fail(e){return new ts(null,e)}static fromReplace(e,r,n,a){try{return ts.ok(e.replace(r,n,a))}catch(s){if(s instanceof Cj)return ts.fail(s.message);throw s}}}function mD(t,e,r){let n=[];for(let a=0;a<t.childCount;a++){let s=t.child(a);s.content.size&&(s=s.copy(mD(s.content,e,s))),s.isInline&&(s=e(s,r,a)),n.push(s)}return Yt.fromArray(n)}class $h extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),a=n.node(n.sharedDepth(this.to)),s=new hr(mD(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),a),r.openStart,r.openEnd);return ts.fromReplace(e,this.from,this.to,s)}invert(){return new au(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new $h(r.pos,n.pos,this.mark)}merge(e){return e instanceof $h&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $h(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new $h(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("addMark",$h);class au extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new hr(mD(r.content,a=>a.mark(this.mark.removeFromSet(a.marks)),e),r.openStart,r.openEnd);return ts.fromReplace(e,this.from,this.to,n)}invert(){return new $h(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new au(r.pos,n.pos,this.mark)}merge(e){return e instanceof au&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new au(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new au(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("removeMark",au);class Bh extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ts.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ts.fromReplace(e,this.pos,this.pos+1,new hr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let a=0;a<r.marks.length;a++)if(!r.marks[a].isInSet(n))return new Bh(this.pos,r.marks[a]);return new Bh(this.pos,this.mark)}}return new Tp(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Bh(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Bh(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("addNodeMark",Bh);class Tp extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ts.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ts.fromReplace(e,this.pos,this.pos+1,new hr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Bh(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Tp(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Tp(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("removeNodeMark",Tp);class Es extends yo{constructor(e,r,n,a=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=a}apply(e){return this.structure&&KM(e,this.from,this.to)?ts.fail("Structure replace would overwrite content"):ts.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Cl([this.from,this.to-this.from,this.slice.size])}invert(e){return new Es(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Es(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Es)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?hr.empty:new hr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Es(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?hr.empty:new hr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Es(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Es(r.from,r.to,hr.fromJSON(e,r.slice),!!r.structure)}}yo.jsonID("replace",Es);class Ps extends yo{constructor(e,r,n,a,s,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=a,this.slice=s,this.insert=o,this.structure=l}apply(e){if(this.structure&&(KM(e,this.from,this.gapFrom)||KM(e,this.gapTo,this.to)))return ts.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ts.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?ts.fromReplace(e,this.from,this.to,n):ts.fail("Content does not fit in gap")}getMap(){return new Cl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Ps(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),a=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),s=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||a<r.pos||s>n.pos?null:new Ps(r.pos,n.pos,a,s,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Ps(r.from,r.to,r.gapFrom,r.gapTo,hr.fromJSON(e,r.slice),r.insert,!!r.structure)}}yo.jsonID("replaceAround",Ps);function KM(t,e,r){let n=t.resolve(e),a=r-e,s=n.depth;for(;a>0&&s>0&&n.indexAfter(s)==n.node(s).childCount;)s--,a--;if(a>0){let o=n.node(s).maybeChild(n.indexAfter(s));for(;a>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,a--}}return!1}function w2e(t,e,r,n){let a=[],s=[],o,l;t.doc.nodesBetween(e,r,(c,u,f)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){let g=Math.max(u,e),p=Math.min(u+c.nodeSize,r),v=n.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(v)||(o&&o.to==g&&o.mark.eq(m[w])?o.to=p:a.push(o=new au(g,p,m[w])));l&&l.to==g?l.to=p:s.push(l=new $h(g,p,n))}}),a.forEach(c=>t.step(c)),s.forEach(c=>t.step(c))}function j2e(t,e,r,n){let a=[],s=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;s++;let c=null;if(n instanceof BN){let u=o.marks,f;for(;f=n.isInSet(u);)(c||(c=[])).push(f),u=f.removeFromSet(u)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let u=Math.min(l+o.nodeSize,r);for(let f=0;f<c.length;f++){let m=c[f],g;for(let p=0;p<a.length;p++){let v=a[p];v.step==s-1&&m.eq(a[p].style)&&(g=v)}g?(g.to=u,g.step=s):a.push({style:m,from:Math.max(l,e),to:u,step:s})}}}),a.forEach(o=>t.step(new au(o.from,o.to,o.style)))}function pD(t,e,r,n=r.contentMatch,a=!0){let s=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<s.childCount;c++){let u=s.child(c),f=l+u.nodeSize,m=n.matchType(u.type);if(!m)o.push(new Es(l,f,hr.empty));else{n=m;for(let g=0;g<u.marks.length;g++)r.allowsMarkType(u.marks[g].type)||t.step(new au(l,f,u.marks[g]));if(a&&u.isText&&r.whitespace!="pre"){let g,p=/\r?\n|\r/g,v;for(;g=p.exec(u.text);)v||(v=new hr(Yt.from(r.schema.text(" ",r.allowedMarks(u.marks))),0,0)),o.push(new Es(l+g.index,l+g.index+g[0].length,v))}}l=f}if(!n.validEnd){let c=n.fillBefore(Yt.empty,!0);t.replace(l,l,new hr(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function N2e(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ox(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let a=t.$from.node(n),s=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&a.canReplace(s,o,r))return n;if(n==0||a.type.spec.isolating||!N2e(a,s,o))break}return null}function S2e(t,e,r){let{$from:n,$to:a,depth:s}=e,o=n.before(s+1),l=a.after(s+1),c=o,u=l,f=Yt.empty,m=0;for(let v=s,w=!1;v>r;v--)w||n.index(v)>0?(w=!0,f=Yt.from(n.node(v).copy(f)),m++):c--;let g=Yt.empty,p=0;for(let v=s,w=!1;v>r;v--)w||a.after(v+1)<a.end(v)?(w=!0,g=Yt.from(a.node(v).copy(g)),p++):u++;t.step(new Ps(c,u,o,l,new hr(f.append(g),m,p),f.size-m,!0))}function gD(t,e,r=null,n=t){let a=k2e(t,e),s=a&&C2e(n,e);return s?a.map(z9).concat({type:e,attrs:r}).concat(s.map(z9)):null}function z9(t){return{type:t,attrs:null}}function k2e(t,e){let{parent:r,startIndex:n,endIndex:a}=t,s=r.contentMatchAt(n).findWrapping(e);if(!s)return null;let o=s.length?s[0]:e;return r.canReplaceWith(n,a,o)?s:null}function C2e(t,e){let{parent:r,startIndex:n,endIndex:a}=t,s=r.child(n),o=e.contentMatch.findWrapping(s.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let u=n;c&&u<a;u++)c=c.matchType(r.child(u).type);return!c||!c.validEnd?null:o}function _2e(t,e,r){let n=Yt.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Yt.from(r[o].type.create(r[o].attrs,n))}let a=e.start,s=e.end;t.step(new Ps(a,s,a,s,new hr(n,0,0),r.length,!0))}function A2e(t,e,r,n,a){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let s=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof a=="function"?a(o):a;if(o.isTextblock&&!o.hasMarkup(n,c)&&T2e(t.doc,t.mapping.slice(s).map(l),n)){let u=null;if(n.schema.linebreakReplacement){let p=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);p&&!v?u=!1:!p&&v&&(u=!0)}u===!1&&WX(t,o,l,s),pD(t,t.mapping.slice(s).map(l,1),n,void 0,u===null);let f=t.mapping.slice(s),m=f.map(l,1),g=f.map(l+o.nodeSize,1);return t.step(new Ps(m,g,m+1,g-1,new hr(Yt.from(n.create(c,null,o.marks)),0,0),1,!0)),u===!0&&UX(t,o,l,s),!1}})}function UX(t,e,r,n){e.forEach((a,s)=>{if(a.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(a.text);){let c=t.mapping.slice(n).map(r+1+s+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function WX(t,e,r,n){e.forEach((a,s)=>{if(a.type==a.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+s);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function T2e(t,e,r){let n=t.resolve(e),a=n.index();return n.parent.canReplaceWith(a,a+1,r)}function M2e(t,e,r,n,a){let s=t.doc.nodeAt(e);if(!s)throw new RangeError("No node at given position");r||(r=s.type);let o=r.create(n,null,a||s.marks);if(s.isLeaf)return t.replaceWith(e,e+s.nodeSize,o);if(!r.validContent(s.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Ps(e,e+s.nodeSize,e+1,e+s.nodeSize-1,new hr(Yt.from(o),0,0),1,!0))}function jf(t,e,r=1,n){let a=t.resolve(e),s=a.depth-r,o=n&&n[n.length-1]||a.parent;if(s<0||a.parent.type.spec.isolating||!a.parent.canReplace(a.index(),a.parent.childCount)||!o.type.validContent(a.parent.content.cutByIndex(a.index(),a.parent.childCount)))return!1;for(let u=a.depth-1,f=r-2;u>s;u--,f--){let m=a.node(u),g=a.index(u);if(m.type.spec.isolating)return!1;let p=m.content.cutByIndex(g,m.childCount),v=n&&n[f+1];v&&(p=p.replaceChild(0,v.type.create(v.attrs)));let w=n&&n[f]||m;if(!m.canReplace(g+1,m.childCount)||!w.type.validContent(p))return!1}let l=a.indexAfter(s),c=n&&n[0];return a.node(s).canReplaceWith(l,l,c?c.type:a.node(s+1).type)}function O2e(t,e,r=1,n){let a=t.doc.resolve(e),s=Yt.empty,o=Yt.empty;for(let l=a.depth,c=a.depth-r,u=r-1;l>c;l--,u--){s=Yt.from(a.node(l).copy(s));let f=n&&n[u];o=Yt.from(f?f.type.create(f.attrs,o):a.node(l).copy(o))}t.step(new Es(e,e,new hr(s.append(o),r,r),!0))}function dm(t,e){let r=t.resolve(e),n=r.index();return VX(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function E2e(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let a=0;a<e.childCount;a++){let s=e.child(a),o=s.type==n?t.type.schema.nodes.text:s.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(s.marks))return!1}return r.validEnd}function VX(t,e){return!!(t&&e&&!t.isLeaf&&E2e(t,e))}function HN(t,e,r=-1){let n=t.resolve(e);for(let a=n.depth;;a--){let s,o,l=n.index(a);if(a==n.depth?(s=n.nodeBefore,o=n.nodeAfter):r>0?(s=n.node(a+1),l++,o=n.node(a).maybeChild(l)):(s=n.node(a).maybeChild(l-1),o=n.node(a+1)),s&&!s.isTextblock&&VX(s,o)&&n.node(a).canReplace(l,l+1))return e;if(a==0)break;e=r<0?n.before(a):n.after(a)}}function D2e(t,e,r){let n=null,{linebreakReplacement:a}=t.doc.type.schema,s=t.doc.resolve(e-r),o=s.node().type;if(a&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(a);f&&!m?n=!1:!f&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);WX(t,f.node(),f.before(),l)}o.inlineContent&&pD(t,e+r-1,o,s.node().contentMatchAt(s.index()),n==null);let c=t.mapping.slice(l),u=c.map(e-r);if(t.step(new Es(u,c.map(e+r,-1),hr.empty,!0)),n===!0){let f=t.doc.resolve(u);UX(t,f.node(),f.before(),t.steps.length)}return t}function P2e(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let a=n.depth-1;a>=0;a--){let s=n.index(a);if(n.node(a).canReplaceWith(s,s,r))return n.before(a+1);if(s>0)return null}if(n.parentOffset==n.parent.content.size)for(let a=n.depth-1;a>=0;a--){let s=n.indexAfter(a);if(n.node(a).canReplaceWith(s,s,r))return n.after(a+1);if(s<n.node(a).childCount)return null}return null}function GX(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let a=r.content;for(let s=0;s<r.openStart;s++)a=a.firstChild.content;for(let s=1;s<=(r.openStart==0&&r.size?2:1);s++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),u=n.node(o),f=!1;if(s==1)f=u.canReplace(c,c,a);else{let m=u.contentMatchAt(c).findWrapping(a.firstChild.type);f=m&&u.canReplaceWith(c,c,m[0])}if(f)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function zN(t,e,r=e,n=hr.empty){if(e==r&&!n.size)return null;let a=t.resolve(e),s=t.resolve(r);return YX(a,s,n)?new Es(e,r,n):new L2e(a,s,n).fit()}function YX(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class L2e{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Yt.empty;for(let a=0;a<=e.depth;a++){let s=e.node(a);this.frontier.push({type:s.type,match:s.contentMatchAt(e.indexAfter(a))})}for(let a=e.depth;a>0;a--)this.placed=Yt.from(e.node(a).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let u=this.findFittable();u?this.placeNodes(u):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,a=this.close(e<0?this.$to:n.doc.resolve(e));if(!a)return null;let s=this.placed,o=n.depth,l=a.depth;for(;o&&l&&s.childCount==1;)s=s.firstChild.content,o--,l--;let c=new hr(s,o,l);return e>-1?new Ps(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Es(n.pos,a.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,a=this.unplaced.openEnd;n<e;n++){let s=r.firstChild;if(r.childCount>1&&(a=0),s.type.spec.isolating&&a<=n){e=n;break}r=s.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let a,s=null;n?(s=GC(this.unplaced.content,n-1).firstChild,a=s.content):a=this.unplaced.content;let o=a.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:u}=this.frontier[l],f,m=null;if(r==1&&(o?u.matchType(o.type)||(m=u.fillBefore(Yt.from(o),!1)):s&&c.compatibleContent(s.type)))return{sliceDepth:n,frontierDepth:l,parent:s,inject:m};if(r==2&&o&&(f=u.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:s,wrap:f};if(s&&u.matchType(s.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=GC(e,r);return!a.childCount||a.firstChild.isLeaf?!1:(this.unplaced=new hr(e,r+1,Math.max(n,a.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,a=GC(e,r);if(a.childCount<=1&&r>0){let s=e.size-r<=r+a.size;this.unplaced=new hr(nb(e,r-1,1),r-1,s?r-1:n)}else this.unplaced=new hr(nb(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:a,wrap:s}){for(;this.depth>r;)this.closeFrontierNode();if(s)for(let w=0;w<s.length;w++)this.openFrontierNode(s[w]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,u=0,f=[],{match:m,type:g}=this.frontier[r];if(a){for(let w=0;w<a.childCount;w++)f.push(a.child(w));m=m.matchFragment(a)}let p=l.size+e-(o.content.size-o.openEnd);for(;u<l.childCount;){let w=l.child(u),b=m.matchType(w.type);if(!b)break;u++,(u>1||c==0||w.content.size)&&(m=b,f.push(KX(w.mark(g.allowedMarks(w.marks)),u==1?c:0,u==l.childCount?p:-1)))}let v=u==l.childCount;v||(p=-1),this.placed=ab(this.placed,r,Yt.from(f)),this.frontier[r].match=m,v&&p<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,b=l;w<p;w++){let N=b.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),b=N.content}this.unplaced=v?e==0?hr.empty:new hr(nb(o.content,e-1,1),e-1,p<0?o.openEnd:e-1):new hr(nb(o.content,e,u),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!YC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,a=this.$to.after(n);for(;n>1&&a==this.$to.end(--n);)++a;return a}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:a}=this.frontier[r],s=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=YC(e,r,a,n,s);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:u}=this.frontier[l],f=YC(e,l,u,c,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:s?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=ab(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let a=e.node(n),s=a.type.contentMatch.fillBefore(a.content,!0,e.index(n));this.openFrontierNode(a.type,a.attrs,s)}return e}openFrontierNode(e,r=null,n){let a=this.frontier[this.depth];a.match=a.match.matchType(e),this.placed=ab(this.placed,this.depth,Yt.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Yt.empty,!0);r.childCount&&(this.placed=ab(this.placed,this.frontier.length,r))}}function nb(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(nb(t.firstChild.content,e-1,r)))}function ab(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(ab(t.lastChild.content,e-1,r)))}function GC(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function KX(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,KX(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Yt.empty,!0)))),t.copy(n)}function YC(t,e,r,n,a){let s=t.node(e),o=a?t.indexAfter(e):t.index(e);if(o==s.childCount&&!r.compatibleContent(s.type))return null;let l=n.fillBefore(s.content,!0,o);return l&&!R2e(r,s.content,o)?l:null}function R2e(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function I2e(t){return t.spec.defining||t.spec.definingForContent}function F2e(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let a=t.doc.resolve(e),s=t.doc.resolve(r);if(YX(a,s,n))return t.step(new Es(e,r,n));let o=XX(a,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(a.depth+1);o.unshift(l);for(let g=a.depth,p=a.pos-1;g>0;g--,p--){let v=a.node(g).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(g)>-1?l=g:a.before(g)==p&&o.splice(1,0,-g)}let c=o.indexOf(l),u=[],f=n.openStart;for(let g=n.content,p=0;;p++){let v=g.firstChild;if(u.push(v),p==n.openStart)break;g=v.content}for(let g=f-1;g>=0;g--){let p=u[g],v=I2e(p.type);if(v&&!p.sameMarkup(a.node(Math.abs(l)-1)))f=g;else if(v||!p.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let p=(g+f+1)%(n.openStart+1),v=u[p];if(v)for(let w=0;w<o.length;w++){let b=o[(w+c)%o.length],N=!0;b<0&&(N=!1,b=-b);let k=a.node(b-1),S=a.index(b-1);if(k.canReplaceWith(S,S,v.type,v.marks))return t.replace(a.before(b),N?s.after(b):r,new hr(JX(n.content,0,n.openStart,p),p,n.openEnd))}}let m=t.steps.length;for(let g=o.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>m));g--){let p=o[g];p<0||(e=a.before(p),r=s.after(p))}}function JX(t,e,r,n,a){if(e<r){let s=t.firstChild;t=t.replaceChild(0,s.copy(JX(s.content,e+1,r,n,s)))}if(e>n){let s=a.contentMatchAt(0),o=s.fillBefore(t).append(t);t=o.append(s.matchFragment(o).fillBefore(Yt.empty,!0))}return t}function $2e(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let a=P2e(t.doc,e,n.type);a!=null&&(e=r=a)}t.replaceRange(e,r,new hr(Yt.from(n),0,0))}function B2e(t,e,r){let n=t.doc.resolve(e),a=t.doc.resolve(r),s=XX(n,a);for(let o=0;o<s.length;o++){let l=s[o],c=o==s.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),a.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),a.indexAfter(l-1))))return t.delete(n.before(l),a.after(l))}for(let o=1;o<=n.depth&&o<=a.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&a.end(o)-r!=a.depth-o&&n.start(o-1)==a.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),a.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function XX(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let a=n;a>=0;a--){let s=t.start(a);if(s<t.pos-(t.depth-a)||e.end(a)>e.pos+(e.depth-a)||t.node(a).type.spec.isolating||e.node(a).type.spec.isolating)break;(s==e.start(a)||a==t.depth&&a==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&a&&e.start(a-1)==s-1)&&r.push(a)}return r}class wg extends yo{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return ts.fail("No node at attribute step's position");let n=Object.create(null);for(let s in r.attrs)n[s]=r.attrs[s];n[this.attr]=this.value;let a=r.type.create(n,null,r.marks);return ts.fromReplace(e,this.pos,this.pos+1,new hr(Yt.from(a),0,r.isLeaf?0:1))}getMap(){return Cl.empty}invert(e){return new wg(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new wg(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new wg(r.pos,r.attr,r.value)}}yo.jsonID("attr",wg);class Qb extends yo{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let a in e.attrs)r[a]=e.attrs[a];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return ts.ok(n)}getMap(){return Cl.empty}invert(e){return new Qb(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new Qb(r.attr,r.value)}}yo.jsonID("docAttr",Qb);let Ug=class extends Error{};Ug=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Ug.prototype=Object.create(Error.prototype);Ug.prototype.constructor=Ug;Ug.prototype.name="TransformError";class QX{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Xb}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Ug(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=hr.empty){let a=zN(this.doc,e,r,n);return a&&this.step(a),this}replaceWith(e,r,n){return this.replace(e,r,new hr(Yt.from(n),0,0))}delete(e,r){return this.replace(e,r,hr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return F2e(this,e,r,n),this}replaceRangeWith(e,r,n){return $2e(this,e,r,n),this}deleteRange(e,r){return B2e(this,e,r),this}lift(e,r){return S2e(this,e,r),this}join(e,r=1){return D2e(this,e,r),this}wrap(e,r){return _2e(this,e,r),this}setBlockType(e,r=e,n,a=null){return A2e(this,e,r,n,a),this}setNodeMarkup(e,r,n=null,a){return M2e(this,e,r,n,a),this}setNodeAttribute(e,r,n){return this.step(new wg(e,r,n)),this}setDocAttribute(e,r){return this.step(new Qb(e,r)),this}addNodeMark(e,r){return this.step(new Bh(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Ta)r.isInSet(n.marks)&&this.step(new Tp(e,r));else{let a=n.marks,s,o=[];for(;s=r.isInSet(a);)o.push(new Tp(e,s)),a=s.removeFromSet(a);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return O2e(this,e,r,n),this}addMark(e,r,n){return w2e(this,e,r,n),this}removeMark(e,r,n){return j2e(this,e,r,n),this}clearIncompatible(e,r,n){return pD(this,e,r,n),this}}const KC=Object.create(null);class pn{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new H2e(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=hr.empty){let n=r.content.lastChild,a=null;for(let l=0;l<r.openEnd;l++)a=n,n=n.lastChild;let s=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:u}=o[l],f=e.mapping.slice(s);e.replaceRange(f.map(c.pos),f.map(u.pos),l?hr.empty:r),l==0&&W9(e,s,(n?n.isInline:a&&a.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,a=this.ranges;for(let s=0;s<a.length;s++){let{$from:o,$to:l}=a[s],c=e.mapping.slice(n),u=c.map(o.pos),f=c.map(l.pos);s?e.deleteRange(u,f):(e.replaceRangeWith(u,f,r),W9(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let a=e.parent.inlineContent?new rn(e):J0(e.node(0),e.parent,e.pos,e.index(),r,n);if(a)return a;for(let s=e.depth-1;s>=0;s--){let o=r<0?J0(e.node(0),e.node(s),e.before(s+1),e.index(s),r,n):J0(e.node(0),e.node(s),e.after(s+1),e.index(s)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Ol(e.node(0))}static atStart(e){return J0(e,e,0,0,1)||new Ol(e)}static atEnd(e){return J0(e,e,e.content.size,e.childCount,-1)||new Ol(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=KC[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in KC)throw new RangeError("Duplicate use of selection JSON ID "+e);return KC[e]=r,r.prototype.jsonID=e,r}getBookmark(){return rn.between(this.$anchor,this.$head).getBookmark()}}pn.prototype.visible=!0;class H2e{constructor(e,r){this.$from=e,this.$to=r}}let q9=!1;function U9(t){!q9&&!t.parent.inlineContent&&(q9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class rn extends pn{constructor(e,r=e){U9(e),U9(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return pn.near(n);let a=e.resolve(r.map(this.anchor));return new rn(a.parent.inlineContent?a:n,n)}replace(e,r=hr.empty){if(super.replace(e,r),r==hr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof rn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new qN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new rn(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let a=e.resolve(r);return new this(a,n==r?a:e.resolve(n))}static between(e,r,n){let a=e.pos-r.pos;if((!n||a)&&(n=a>=0?1:-1),!r.parent.inlineContent){let s=pn.findFrom(r,n,!0)||pn.findFrom(r,-n,!0);if(s)r=s.$head;else return pn.near(r,n)}return e.parent.inlineContent||(a==0?e=r:(e=(pn.findFrom(e,-n,!0)||pn.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=a<0&&(e=r))),new rn(e,r)}}pn.jsonID("text",rn);class qN{constructor(e,r){this.anchor=e,this.head=r}map(e){return new qN(e.map(this.anchor),e.map(this.head))}resolve(e){return rn.between(e.resolve(this.anchor),e.resolve(this.head))}}class Ir extends pn{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:a}=r.mapResult(this.anchor),s=e.resolve(a);return n?pn.near(s):new Ir(s)}content(){return new hr(Yt.from(this.node),0,0)}eq(e){return e instanceof Ir&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new xD(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Ir(e.resolve(r.anchor))}static create(e,r){return new Ir(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Ir.prototype.visible=!1;pn.jsonID("node",Ir);class xD{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new qN(n,n):new xD(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Ir.isSelectable(n)?new Ir(r):pn.near(r)}}class Ol extends pn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=hr.empty){if(r==hr.empty){e.delete(0,e.doc.content.size);let n=pn.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ol(e)}map(e){return new Ol(e)}eq(e){return e instanceof Ol}getBookmark(){return z2e}}pn.jsonID("all",Ol);const z2e={map(){return this},resolve(t){return new Ol(t)}};function J0(t,e,r,n,a,s=!1){if(e.inlineContent)return rn.create(t,r);for(let o=n-(a>0?0:1);a>0?o<e.childCount:o>=0;o+=a){let l=e.child(o);if(l.isAtom){if(!s&&Ir.isSelectable(l))return Ir.create(t,r-(a<0?l.nodeSize:0))}else{let c=J0(t,l,r+a,a<0?l.childCount:0,a,s);if(c)return c}r+=l.nodeSize*a}return null}function W9(t,e,r){let n=t.steps.length-1;if(n<e)return;let a=t.steps[n];if(!(a instanceof Es||a instanceof Ps))return;let s=t.mapping.maps[n],o;s.forEach((l,c,u,f)=>{o==null&&(o=f)}),t.setSelection(pn.near(t.doc.resolve(o),r))}const V9=1,Pw=2,G9=4;class q2e extends QX{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|V9)&~Pw,this.storedMarks=null,this}get selectionSet(){return(this.updated&V9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Pw,this}ensureMarks(e){return Ta.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pw)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Pw,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ta.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let a=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(a.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let s=this.storedMarks;if(!s){let o=this.doc.resolve(r);s=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,a.text(e,s)),this.selection.empty||this.setSelection(pn.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=G9,this}get scrolledIntoView(){return(this.updated&G9)>0}}function Y9(t,e){return!e||!t?t:t.bind(e)}class ib{constructor(e,r,n){this.name=e,this.init=Y9(r.init,n),this.apply=Y9(r.apply,n)}}const U2e=[new ib("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ib("selection",{init(t,e){return t.selection||pn.atStart(e.doc)},apply(t){return t.selection}}),new ib("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new ib("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class JC{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=U2e.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new ib(n.key,n.spec.state,n))})}}class og{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let a=this.config.plugins[n];if(a.spec.filterTransaction&&!a.spec.filterTransaction.call(a,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),a=null;for(;;){let s=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=a?a[o].n:0,u=a?a[o].state:this,f=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,u,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!a){a=[];for(let m=0;m<this.config.plugins.length;m++)a.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),s=!0}a&&(a[o]={state:n,n:r.length})}}if(!s)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new og(this.config),n=this.config.fields;for(let a=0;a<n.length;a++){let s=n[a];r[s.name]=s.apply(e,this[s.name],this,r)}return r}get tr(){return new q2e(this)}static create(e){let r=new JC(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new og(r);for(let a=0;a<r.fields.length;a++)n[r.fields[a].name]=r.fields[a].init(e,n);return n}reconfigure(e){let r=new JC(this.schema,e.plugins),n=r.fields,a=new og(r);for(let s=0;s<n.length;s++){let o=n[s].name;a[o]=this.hasOwnProperty(o)?this[o]:n[s].init(e,a)}return a}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let a=e[n],s=a.spec.state;s&&s.toJSON&&(r[n]=s.toJSON.call(a,this[a.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let a=new JC(e.schema,e.plugins),s=new og(a);return a.fields.forEach(o=>{if(o.name=="doc")s.doc=Gh.fromJSON(e.schema,r.doc);else if(o.name=="selection")s.selection=pn.fromJSON(s.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(s.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],u=c.spec.state;if(c.key==o.name&&u&&u.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){s[o.name]=u.fromJSON.call(c,e,r[l],s);return}}s[o.name]=o.init(e,s)}}),s}}function ZX(t,e,r){for(let n in t){let a=t[n];a instanceof Function?a=a.bind(e):n=="handleDOMEvents"&&(a=ZX(a,e,{})),r[n]=a}return r}class Mi{constructor(e){this.spec=e,this.props={},e.props&&ZX(e.props,this,this.props),this.key=e.key?e.key.key:eQ("plugin")}getState(e){return e[this.key]}}const XC=Object.create(null);function eQ(t){return t in XC?t+"$"+ ++XC[t]:(XC[t]=0,t+"$")}class Rs{constructor(e="key"){this.key=eQ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Ys=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Wg=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let JM=null;const nf=function(t,e,r){let n=JM||(JM=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},W2e=function(){JM=null},Mp=function(t,e,r,n){return r&&(K9(t,e,r,n,-1)||K9(t,e,r,n,1))},V2e=/^(img|br|input|textarea|hr)$/i;function K9(t,e,r,n,a){for(var s;;){if(t==r&&e==n)return!0;if(e==(a<0?0:uc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||a1(t)||V2e.test(t.nodeName)||t.contentEditable=="false")return!1;e=Ys(t)+(a<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(a<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((s=o.pmViewDesc)===null||s===void 0)&&s.ignoreForSelection)e+=a;else return!1;else t=o,e=a<0?uc(t):0}else return!1}}function uc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function G2e(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=uc(t)}else if(t.parentNode&&!a1(t))e=Ys(t),t=t.parentNode;else return null}}function Y2e(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!a1(t))e=Ys(t)+1,t=t.parentNode;else return null}}function K2e(t,e,r){for(let n=e==0,a=e==uc(t);n||a;){if(t==r)return!0;let s=Ys(t);if(t=t.parentNode,!t)return!1;n=n&&s==0,a=a&&s==uc(t)}}function a1(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const UN=function(t){return t.focusNode&&Mp(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function Km(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function J2e(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function X2e(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(uc(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(uc(n.startContainer),n.startOffset)}}}const cd=typeof navigator<"u"?navigator:null,J9=typeof document<"u"?document:null,fm=cd&&cd.userAgent||"",XM=/Edge\/(\d+)/.exec(fm),tQ=/MSIE \d/.exec(fm),QM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(fm),cl=!!(tQ||QM||XM),Kh=tQ?document.documentMode:QM?+QM[1]:XM?+XM[1]:0,gc=!cl&&/gecko\/(\d+)/i.test(fm);gc&&+(/Firefox\/(\d+)/.exec(fm)||[0,0])[1];const ZM=!cl&&/Chrome\/(\d+)/.exec(fm),po=!!ZM,rQ=ZM?+ZM[1]:0,Bo=!cl&&!!cd&&/Apple Computer/.test(cd.vendor),Vg=Bo&&(/Mobile\/\w+/.test(fm)||!!cd&&cd.maxTouchPoints>2),lc=Vg||(cd?/Mac/.test(cd.platform):!1),Q2e=cd?/Win/.test(cd.platform):!1,uf=/Android \d/.test(fm),i1=!!J9&&"webkitFontSmoothing"in J9.documentElement.style,Z2e=i1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function eje(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Kd(t,e){return typeof t=="number"?t:t[e]}function tje(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function X9(t,e,r){let n=t.someProp("scrollThreshold")||0,a=t.someProp("scrollMargin")||5,s=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Wg(o);continue}let l=o,c=l==s.body,u=c?eje(s):tje(l),f=0,m=0;if(e.top<u.top+Kd(n,"top")?m=-(u.top-e.top+Kd(a,"top")):e.bottom>u.bottom-Kd(n,"bottom")&&(m=e.bottom-e.top>u.bottom-u.top?e.top+Kd(a,"top")-u.top:e.bottom-u.bottom+Kd(a,"bottom")),e.left<u.left+Kd(n,"left")?f=-(u.left-e.left+Kd(a,"left")):e.right>u.right-Kd(n,"right")&&(f=e.right-u.right+Kd(a,"right")),f||m)if(c)s.defaultView.scrollBy(f,m);else{let p=l.scrollLeft,v=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let w=l.scrollLeft-p,b=l.scrollTop-v;e={left:e.left-w,top:e.top-b,right:e.right-w,bottom:e.bottom-b}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Wg(o)}}function rje(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,a;for(let s=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(s,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,a=c.top;break}}return{refDOM:n,refTop:a,stack:nQ(t.dom)}}function nQ(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Wg(n));return e}function nje({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;aQ(r,n==0?0:n-e)}function aQ(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:a,left:s}=t[r];n.scrollTop!=a+e&&(n.scrollTop=a+e),n.scrollLeft!=s&&(n.scrollLeft=s)}}let B0=null;function aje(t){if(t.setActive)return t.setActive();if(B0)return t.focus(B0);let e=nQ(t);t.focus(B0==null?{get preventScroll(){return B0={preventScroll:!0},!0}}:void 0),B0||(B0=!1,aQ(e,0))}function iQ(t,e){let r,n=2e8,a,s=0,o=e.top,l=e.top,c,u;for(let f=t.firstChild,m=0;f;f=f.nextSibling,m++){let g;if(f.nodeType==1)g=f.getClientRects();else if(f.nodeType==3)g=nf(f).getClientRects();else continue;for(let p=0;p<g.length;p++){let v=g[p];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let w=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(w<n){r=f,n=w,a=w&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&w&&(s=m+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=f,u={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(s=m+1)}}return!r&&c&&(r=c,a=u,n=0),r&&r.nodeType==3?ije(r,a):!r||n&&r.nodeType==1?{node:t,offset:s}:iQ(r,a)}function ije(t,e){let r=t.nodeValue.length,n=document.createRange();for(let a=0;a<r;a++){n.setEnd(t,a+1),n.setStart(t,a);let s=Mh(n,1);if(s.top!=s.bottom&&yD(e,s))return{node:t,offset:a+(e.left>=(s.left+s.right)/2?1:0)}}return{node:t,offset:0}}function yD(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function sje(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function oje(t,e,r){let{node:n,offset:a}=iQ(e,r),s=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();s=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,a,s)}function lje(t,e,r,n){let a=-1;for(let s=e,o=!1;s!=t.dom;){let l=t.docView.nearestDesc(s,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?a=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(a=l.posAfter),o=!0),!l.contentDOM&&a<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;s=l.dom.parentNode}return a>-1?a:t.docView.posFromDOM(e,r,-1)}function sQ(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let a=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),s=a;;){let o=t.childNodes[s];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let u=l[c];if(yD(e,u))return sQ(o,e,u)}}if((s=(s+1)%n)==a)break}return t}function cje(t,e){let r=t.dom.ownerDocument,n,a=0,s=X2e(r,e.left,e.top);s&&({node:n,offset:a}=s);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!yD(e,u)||(o=sQ(t.dom,e,u),!o))return null}if(Bo)for(let u=o;n&&u;u=Wg(u))u.draggable&&(n=void 0);if(o=sje(o,e),n){if(gc&&n.nodeType==1&&(a=Math.min(a,n.childNodes.length),a<n.childNodes.length)){let f=n.childNodes[a],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&a++}let u;i1&&a&&n.nodeType==1&&(u=n.childNodes[a-1]).nodeType==1&&u.contentEditable=="false"&&u.getBoundingClientRect().top>=e.top&&a--,n==t.dom&&a==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(a==0||n.nodeType!=1||n.childNodes[a-1].nodeName!="BR")&&(l=lje(t,n,a,e))}l==null&&(l=oje(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function Q9(t){return t.top<t.bottom||t.left<t.right}function Mh(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Q9(n))return n}return Array.prototype.find.call(r,Q9)||t.getBoundingClientRect()}const uje=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function oQ(t,e,r){let{node:n,offset:a,atom:s}=t.docView.domFromPos(e,r<0?-1:1),o=i1||gc;if(n.nodeType==3)if(o&&(uje.test(n.nodeValue)||(r<0?!a:a==n.nodeValue.length))){let c=Mh(nf(n,a,a),r);if(gc&&a&&/\s/.test(n.nodeValue[a-1])&&a<n.nodeValue.length){let u=Mh(nf(n,a-1,a-1),-1);if(u.top==c.top){let f=Mh(nf(n,a,a+1),-1);if(f.top!=c.top)return Fy(f,f.left<u.left)}}return c}else{let c=a,u=a,f=r<0?1:-1;return r<0&&!a?(u++,f=-1):r>=0&&a==n.nodeValue.length?(c--,f=1):r<0?c--:u++,Fy(Mh(nf(n,c,u),f),f<0)}if(!t.state.doc.resolve(e-(s||0)).parent.inlineContent){if(s==null&&a&&(r<0||a==uc(n))){let c=n.childNodes[a-1];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!1)}if(s==null&&a<uc(n)){let c=n.childNodes[a];if(c.nodeType==1)return QC(c.getBoundingClientRect(),!0)}return QC(n.getBoundingClientRect(),r>=0)}if(s==null&&a&&(r<0||a==uc(n))){let c=n.childNodes[a-1],u=c.nodeType==3?nf(c,uc(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(u)return Fy(Mh(u,1),!1)}if(s==null&&a<uc(n)){let c=n.childNodes[a];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let u=c?c.nodeType==3?nf(c,0,o?0:1):c.nodeType==1?c:null:null;if(u)return Fy(Mh(u,-1),!0)}return Fy(Mh(n.nodeType==3?nf(n):n,-r),r>=0)}function Fy(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function QC(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function lQ(t,e,r){let n=t.state,a=t.root.activeElement;n!=e&&t.updateState(e),a!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),a!=t.dom&&a&&a.focus()}}function dje(t,e,r){let n=e.selection,a=r=="up"?n.$from:n.$to;return lQ(t,e,()=>{let{node:s}=t.docView.domFromPos(a.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(s,!0);if(!l)break;if(l.node.isBlock){s=l.contentDOM||l.dom;break}s=l.dom.parentNode}let o=oQ(t,a.pos,1);for(let l=s.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=nf(l,0,l.nodeValue.length).getClientRects();else continue;for(let u=0;u<c.length;u++){let f=c[u];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const fje=/[\u0590-\u08ac]/;function hje(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let a=n.parentOffset,s=!a,o=a==n.parent.content.size,l=t.domSelection();return l?!fje.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?s:o:lQ(t,e,()=>{let{focusNode:c,focusOffset:u,anchorNode:f,anchorOffset:m}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",r,"character");let p=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:w}=t.domSelectionRange(),b=v&&!p.contains(v.nodeType==1?v:v.parentNode)||c==v&&u==w;try{l.collapse(f,m),c&&(c!=f||u!=m)&&l.extend&&l.extend(c,u)}catch{}return g!=null&&(l.caretBidiLevel=g),b}):n.pos==n.start()||n.pos==n.end()}let Z9=null,eF=null,tF=!1;function mje(t,e,r){return Z9==e&&eF==r?tF:(Z9=e,eF=r,tF=r=="up"||r=="down"?dje(t,e,r):hje(t,e,r))}const xc=0,rF=1,rp=2,ud=3;class s1{constructor(e,r,n,a){this.parent=e,this.children=r,this.dom=n,this.contentDOM=a,this.dirty=xc,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let a=this.children[r];if(a==e)return n;n+=a.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let s,o;if(e==this.contentDOM)s=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.previousSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.previousSibling;return s?this.posBeforeChild(o)+o.size:this.posAtStart}else{let s,o;if(e==this.contentDOM)s=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;s=e.nextSibling}for(;s&&!((o=s.pmViewDesc)&&o.parent==this);)s=s.nextSibling;return s?this.posBeforeChild(o):this.posAtEnd}let a;if(e==this.dom&&this.contentDOM)a=r>Ys(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))a=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!1;break}if(s.previousSibling)break}if(a==null&&r==e.childNodes.length)for(let s=e;;s=s.parentNode){if(s==this.dom){a=!0;break}if(s.nextSibling)break}}return a??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,a=e;a;a=a.parentNode){let s=this.getDesc(a),o;if(s&&(!r||s.node))if(n&&(o=s.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return s}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let a=e;a;a=a.parentNode){let s=this.getDesc(a);if(s)return s.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let a=this.children[r],s=n+a.size;if(n==e&&s!=n){for(;!a.border&&a.children.length;)for(let o=0;o<a.children.length;o++){let l=a.children[o];if(l.size){a=l;break}}return a}if(e<s)return a.descAt(e-n-a.border);n=s}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,a=0;for(let s=0;n<this.children.length;n++){let o=this.children[n],l=s+o.size;if(l>e||o instanceof uQ){a=e-s;break}s=l}if(a)return this.children[n].domFromPos(a-this.children[n].border,r);for(let s;n&&!(s=this.children[n-1]).size&&s instanceof cQ&&s.side>=0;n--);if(r<=0){let s,o=!0;for(;s=n?this.children[n-1]:null,!(!s||s.dom.parentNode==this.contentDOM);n--,o=!1);return s&&r&&o&&!s.border&&!s.domAtom?s.domFromPos(s.size,r):{node:this.contentDOM,offset:s?Ys(s.dom)+1:0}}else{let s,o=!0;for(;s=n<this.children.length?this.children[n]:null,!(!s||s.dom.parentNode==this.contentDOM);n++,o=!1);return s&&o&&!s.border&&!s.domAtom?s.domFromPos(0,r):{node:this.contentDOM,offset:s?Ys(s.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let a=-1,s=-1;for(let o=n,l=0;;l++){let c=this.children[l],u=o+c.size;if(a==-1&&e<=u){let f=o+c.border;if(e>=f&&r<=u-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){a=Ys(g.dom)+1;break}e-=g.size}a==-1&&(a=0)}if(a>-1&&(u>r||l==this.children.length-1)){r=u;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){s=Ys(m.dom);break}r+=m.size}s==-1&&(s=this.contentDOM.childNodes.length);break}o=u}return{node:this.contentDOM,from:e,to:r,fromOffset:a,toOffset:s}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,a=!1){let s=Math.min(e,r),o=Math.max(e,r);for(let p=0,v=0;p<this.children.length;p++){let w=this.children[p],b=v+w.size;if(s>v&&o<b)return w.setSelection(e-v-w.border,r-v-w.border,n,a);v=b}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),u=n.root.getSelection(),f=n.domSelectionRange(),m=!1;if((gc||Bo)&&e==r){let{node:p,offset:v}=l;if(p.nodeType==3){if(m=!!(v&&p.nodeValue[v-1]==`
`),m&&v==p.nodeValue.length)for(let w=p,b;w;w=w.parentNode){if(b=w.nextSibling){b.nodeName=="BR"&&(l=c={node:b.parentNode,offset:Ys(b)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=p.childNodes[v-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(gc&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let p=f.focusNode.childNodes[f.focusOffset];p&&p.contentEditable=="false"&&(a=!0)}if(!(a||m&&Bo)&&Mp(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Mp(c.node,c.offset,f.focusNode,f.focusOffset))return;let g=!1;if((u.extend||e==r)&&!(m&&gc)){u.collapse(l.node,l.offset);try{e!=r&&u.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let v=l;l=c,c=v}let p=document.createRange();p.setEnd(c.node,c.offset),p.setStart(l.node,l.offset),u.removeAllRanges(),u.addRange(p)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,a=0;a<this.children.length;a++){let s=this.children[a],o=n+s.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+s.border,c=o-s.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?rp:rF,e==l&&r==c&&(s.contentLost||s.dom.parentNode!=this.contentDOM)?s.dirty=ud:s.markDirty(e-l,r-l);return}else s.dirty=s.dom==s.contentDOM&&s.dom.parentNode==this.contentDOM&&!s.children.length?rp:ud}n=o}this.dirty=rp}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?rp:rF;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class cQ extends s1{constructor(e,r,n,a){let s,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!s)return a;if(s.parent)return s.parent.posBeforeChild(s)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,s=this}matchesWidget(e){return this.dirty==xc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class pje extends s1{constructor(e,r,n,a){super(e,[],r,null),this.textDOM=n,this.text=a}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Op extends s1{constructor(e,r,n,a,s){super(e,[],n,a),this.mark=r,this.spec=s}static create(e,r,n,a){let s=a.nodeViews[r.type.name],o=s&&s(r,a,n);return(!o||!o.dom)&&(o=Up.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Op(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&ud||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=ud&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=xc){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=xc}}slice(e,r,n){let a=Op.create(this.parent,this.mark,!0,n),s=this.children,o=this.size;r<o&&(s=tO(s,r,o,n)),e>0&&(s=tO(s,0,e,n));for(let l=0;l<s.length;l++)s[l].parent=a;return a.children=s,a}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class Jh extends s1{constructor(e,r,n,a,s,o,l,c,u){super(e,[],s,o),this.node=r,this.outerDeco=n,this.innerDeco=a,this.nodeDOM=l}static create(e,r,n,a,s,o){let l=s.nodeViews[r.type.name],c,u=l&&l(r,s,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,a),f=u&&u.dom,m=u&&u.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Up.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let g=f;return f=hQ(f,n,r),u?c=new gje(e,r,n,a,f,m||null,g,u,s,o+1):r.isText?new WN(e,r,n,a,f,g,s):new Jh(e,r,n,a,f,m||null,g,s,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Yt.empty)}return e}matchesNode(e,r,n){return this.dirty==xc&&e.eq(this.node)&&Mj(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,a=r,s=e.composing?this.localCompositionInfo(e,r):null,o=s&&s.pos>-1?s:null,l=s&&s.pos<0,c=new yje(this,o&&o.node,e);wje(this.node,this.innerDeco,(u,f,m)=>{u.spec.marks?c.syncToMarks(u.spec.marks,n,e):u.type.side>=0&&!m&&c.syncToMarks(f==this.node.childCount?Ta.none:this.node.child(f).marks,n,e),c.placeWidget(u,e,a)},(u,f,m,g)=>{c.syncToMarks(u.marks,n,e);let p;c.findNodeMatch(u,f,m,g)||l&&e.state.selection.from>a&&e.state.selection.to<a+u.nodeSize&&(p=c.findIndexWithChild(s.node))>-1&&c.updateNodeAt(u,f,m,p,e)||c.updateNextNode(u,f,m,e,g,a)||c.addNode(u,f,m,e,a),a+=u.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==rp)&&(o&&this.protectLocalComposition(e,o),dQ(this.contentDOM,this.children,e),Vg&&jje(this.dom))}localCompositionInfo(e,r){let{from:n,to:a}=e.state.selection;if(!(e.state.selection instanceof rn)||n<r||a>r+this.node.content.size)return null;let s=e.input.compositionNode;if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let o=s.nodeValue,l=Nje(this.node.content,o,n-r,a-r);return l<0?null:{node:s,pos:l,text:o}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:a}){if(this.getDesc(r))return;let s=r;for(;s.parentNode!=this.contentDOM;s=s.parentNode){for(;s.previousSibling;)s.parentNode.removeChild(s.previousSibling);for(;s.nextSibling;)s.parentNode.removeChild(s.nextSibling);s.pmViewDesc&&(s.pmViewDesc=void 0)}let o=new pje(this,s,r,a);e.input.compositionNodes.push(o),this.children=tO(this.children,n,n+a.length,e,o)}update(e,r,n,a){return this.dirty==ud||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,a),!0)}updateInner(e,r,n,a){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(a,this.posAtStart),this.dirty=xc}updateOuterDeco(e){if(Mj(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=fQ(this.dom,this.nodeDOM,eO(this.outerDeco,this.node,r),eO(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function nF(t,e,r,n,a){hQ(n,e,t);let s=new Jh(void 0,t,e,r,n,n,n,a,0);return s.contentDOM&&s.updateChildren(a,0),s}class WN extends Jh{constructor(e,r,n,a,s,o,l){super(e,r,n,a,s,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,a){return this.dirty==ud||this.dirty!=xc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=xc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,a.trackWrites==this.nodeDOM&&(a.trackWrites=null)),this.node=e,this.dirty=xc,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let a=this.node.cut(e,r),s=document.createTextNode(a.text);return new WN(this.parent,a,this.outerDeco,this.innerDeco,s,s,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=ud)}get domAtom(){return!1}isText(e){return this.node.text==e}}class uQ extends s1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==xc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class gje extends Jh{constructor(e,r,n,a,s,o,l,c,u,f){super(e,r,n,a,s,o,l,u,f),this.spec=c}update(e,r,n,a){if(this.dirty==ud)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let s=this.spec.update(e,r,n);return s&&this.updateInner(e,r,n,a),s}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,a)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,a){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,a)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function dQ(t,e,r){let n=t.firstChild,a=!1;for(let s=0;s<e.length;s++){let o=e[s],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=aF(n),a=!0;n=n.nextSibling}else a=!0,t.insertBefore(l,n);if(o instanceof Op){let c=n?n.previousSibling:t.lastChild;dQ(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=aF(n),a=!0;a&&r.trackWrites==t&&(r.trackWrites=null)}const xb=function(t){t&&(this.nodeName=t)};xb.prototype=Object.create(null);const np=[new xb];function eO(t,e,r){if(t.length==0)return np;let n=r?np[0]:new xb,a=[n];for(let s=0;s<t.length;s++){let o=t[s].type.attrs;if(o){o.nodeName&&a.push(n=new xb(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&a.length==1&&a.push(n=new xb(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return a}function fQ(t,e,r,n){if(r==np&&n==np)return e;let a=e;for(let s=0;s<n.length;s++){let o=n[s],l=r[s];if(s){let c;l&&l.nodeName==o.nodeName&&a!=t&&(c=a.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(a),l=np[0]),a=c}xje(a,l||np[0],o)}return a}function xje(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],a=r.class?r.class.split(" ").filter(Boolean):[];for(let s=0;s<n.length;s++)a.indexOf(n[s])==-1&&t.classList.remove(n[s]);for(let s=0;s<a.length;s++)n.indexOf(a[s])==-1&&t.classList.add(a[s]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,a;for(;a=n.exec(e.style);)t.style.removeProperty(a[1])}r.style&&(t.style.cssText+=r.style)}}function hQ(t,e,r){return fQ(t,t,np,eO(e,r,t.nodeType!=1))}function Mj(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function aF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class yje{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=bje(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let a=0,s=this.stack.length>>1,o=Math.min(s,e.length);for(;a<o&&(a==s-1?this.top:this.stack[a+1<<1]).matchesMark(e[a])&&e[a].type.spec.spanning!==!1;)a++;for(;a<s;)this.destroyRest(),this.top.dirty=xc,this.index=this.stack.pop(),this.top=this.stack.pop(),s--;for(;s<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let u=this.top.children[c];if(u.matchesMark(e[s])&&!this.isLocked(u.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Op.create(this.top,e[s],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,s++}}findNodeMatch(e,r,n,a){let s=-1,o;if(a>=this.preMatch.index&&(o=this.preMatch.matches[a-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))s=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let u=this.top.children[l];if(u.matchesNode(e,r,n)&&!this.preMatch.matched.has(u)){s=l;break}}return s<0?!1:(this.destroyBetween(this.index,s),this.index++,!0)}updateNodeAt(e,r,n,a,s){let o=this.top.children[a];return o.dirty==ud&&o.dom==o.contentDOM&&(o.dirty=rp),o.update(e,r,n,s)?(this.destroyBetween(this.index,a),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let a=this.index;a<this.top.children.length;a++)if(this.top.children[a]==n)return a}return-1}e=r}}updateNextNode(e,r,n,a,s,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof Jh){let u=this.preMatch.matched.get(c);if(u!=null&&u!=s)return!1;let f=c.dom,m,g=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=ud&&Mj(r,c.outerDeco));if(!g&&c.update(e,r,n,a))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(c,e,r,n,a,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=rp,m.updateChildren(a,o+1),m.dirty=xc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,a,s,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Mj(n,e.outerDeco)||!a.eq(e.innerDeco))return null;let l=Jh.create(this.top,r,n,a,s,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,a,s){let o=Jh.create(this.top,e,r,n,a,s);o.contentDOM&&o.updateChildren(a,s+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let a=this.index<this.top.children.length?this.top.children[this.index]:null;if(a&&a.matchesWidget(e)&&(e==a.widget||!a.widget.type.toDOM.parentNode))this.index++;else{let s=new cQ(this.top,e,r,n);this.top.children.splice(this.index++,0,s),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Op;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof WN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Bo||po)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let a=new uQ(this.top,[],n,null);r!=this.top?r.children.push(a):r.children.splice(this.index++,0,a),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function bje(t,e){let r=e,n=r.children.length,a=t.childCount,s=new Map,o=[];e:for(;a>0;){let l;for(;;)if(n){let u=r.children[n-1];if(u instanceof Op)r=u,n=u.children.length;else{l=u,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(a-1))break;--a,s.set(l,a),o.push(l)}}return{index:a,matched:s,matches:o.reverse()}}function vje(t,e){return t.type.side-e.type.side}function wje(t,e,r,n){let a=e.locals(t),s=0;if(a.length==0){for(let u=0;u<t.childCount;u++){let f=t.child(u);n(f,a,e.forChild(s,f),u),s+=f.nodeSize}return}let o=0,l=[],c=null;for(let u=0;;){let f,m;for(;o<a.length&&a[o].to==s;){let b=a[o++];b.widget&&(f?(m||(m=[f])).push(b):f=b)}if(f)if(m){m.sort(vje);for(let b=0;b<m.length;b++)r(m[b],u,!!c)}else r(f,u,!!c);let g,p;if(c)p=-1,g=c,c=null;else if(u<t.childCount)p=u,g=t.child(u++);else break;for(let b=0;b<l.length;b++)l[b].to<=s&&l.splice(b--,1);for(;o<a.length&&a[o].from<=s&&a[o].to>s;)l.push(a[o++]);let v=s+g.nodeSize;if(g.isText){let b=v;o<a.length&&a[o].from<b&&(b=a[o].from);for(let N=0;N<l.length;N++)l[N].to<b&&(b=l[N].to);b<v&&(c=g.cut(b-s),g=g.cut(0,b-s),v=b,p=-1)}else for(;o<a.length&&a[o].to<v;)o++;let w=g.isInline&&!g.isLeaf?l.filter(b=>!b.inline):l.slice();n(g,w,e.forChild(s,g),p),s=v}}function jje(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Nje(t,e,r,n){for(let a=0,s=0;a<t.childCount&&s<=n;){let o=t.child(a++),l=s;if(s+=o.nodeSize,!o.isText)continue;let c=o.text;for(;a<t.childCount;){let u=t.child(a++);if(s+=u.nodeSize,!u.isText)break;c+=u.text}if(s>=r){if(s>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let u=l<n?c.lastIndexOf(e,n-l-1):-1;if(u>=0&&u+e.length+l>=r)return l+u;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function tO(t,e,r,n,a){let s=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],u=l,f=l+=c.size;u>=r||f<=e?s.push(c):(u<e&&s.push(c.slice(0,e-u,n)),a&&(s.push(a),a=void 0),f>r&&s.push(c.slice(r-u,c.size,n)))}return s}function bD(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let a=t.docView.nearestDesc(r.focusNode),s=a&&a.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,u;if(UN(r)){for(c=o;a&&!a.node;)a=a.parent;let m=a.node;if(a&&m.isAtom&&Ir.isSelectable(m)&&a.parent&&!(m.isInline&&K2e(r.focusNode,r.focusOffset,a.dom))){let g=a.posBefore;u=new Ir(o==g?l:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,g=o;for(let p=0;p<r.rangeCount;p++){let v=r.getRangeAt(p);m=Math.min(m,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,o]=g==t.state.selection.anchor?[g,m]:[m,g],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let f=n.resolve(c);if(!u){let m=e=="pointer"||t.state.selection.head<l.pos&&!s?1:-1;u=vD(t,f,l,m)}return u}function mQ(t){return t.editable?t.hasFocus():gQ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Nf(t,e=!1){let r=t.state.selection;if(pQ(t,r),!!mQ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&po){let n=t.domSelectionRange(),a=t.domObserver.currentSelection;if(n.anchorNode&&a.anchorNode&&Mp(n.anchorNode,n.anchorOffset,a.anchorNode,a.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)kje(t);else{let{anchor:n,head:a}=r,s,o;iF&&!(r instanceof rn)&&(r.$from.parent.inlineContent||(s=sF(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=sF(t,r.to))),t.docView.setSelection(n,a,t,e),iF&&(s&&oF(s),o&&oF(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Sje(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const iF=Bo||po&&rQ<63;function sF(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),a=n<r.childNodes.length?r.childNodes[n]:null,s=n?r.childNodes[n-1]:null;if(Bo&&a&&a.contentEditable=="false")return ZC(a);if((!a||a.contentEditable=="false")&&(!s||s.contentEditable=="false")){if(a)return ZC(a);if(s)return ZC(s)}}function ZC(t){return t.contentEditable="true",Bo&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function oF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Sje(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,a=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=a)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!mQ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function kje(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Ys(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&cl&&Kh<=11&&(r.disabled=!0,r.disabled=!1)}function pQ(t,e){if(e instanceof Ir){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(lF(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else lF(t)}function lF(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function vD(t,e,r,n){return t.someProp("createSelectionBetween",a=>a(t,e,r))||rn.between(e,r,n)}function cF(t){return t.editable&&!t.hasFocus()?!1:gQ(t)}function gQ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Cje(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Mp(e.node,e.offset,r.anchorNode,r.anchorOffset)}function rO(t,e){let{$anchor:r,$head:n}=t.selection,a=e>0?r.max(n):r.min(n),s=a.parent.inlineContent?a.depth?t.doc.resolve(e>0?a.after():a.before()):null:a;return s&&pn.findFrom(s,e)}function Eh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function uF(t,e,r){let n=t.state.selection;if(n instanceof rn)if(r.indexOf("s")>-1){let{$head:a}=n,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter;if(!s||s.isText||!s.isLeaf)return!1;let o=t.state.doc.resolve(a.pos+s.nodeSize*(e<0?-1:1));return Eh(t,new rn(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let a=rO(t.state,e);return a&&a instanceof Ir?Eh(t,a):!1}else if(!(lc&&r.indexOf("m")>-1)){let a=n.$head,s=a.textOffset?null:e<0?a.nodeBefore:a.nodeAfter,o;if(!s||s.isText)return!1;let l=e<0?a.pos-s.nodeSize:a.pos;return s.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Ir.isSelectable(s)?Eh(t,new Ir(e<0?t.state.doc.resolve(a.pos-s.nodeSize):a)):i1?Eh(t,new rn(t.state.doc.resolve(e<0?l:l+s.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Ir&&n.node.isInline)return Eh(t,new rn(e>0?n.$to:n.$from));{let a=rO(t.state,e);return a?Eh(t,a):!1}}}function Oj(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function yb(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function H0(t,e){return e<0?_je(t):Aje(t)}function _je(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a,s,o=!1;for(gc&&r.nodeType==1&&n<Oj(r)&&yb(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(yb(l,-1))a=r,s=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(xQ(r))break;{let l=r.previousSibling;for(;l&&yb(l,-1);)a=r.parentNode,s=Ys(l),l=l.previousSibling;if(l)r=l,n=Oj(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?nO(t,r,n):a&&nO(t,a,s)}function Aje(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let a=Oj(r),s,o;for(;;)if(n<a){if(r.nodeType!=1)break;let l=r.childNodes[n];if(yb(l,1))s=r,o=++n;else break}else{if(xQ(r))break;{let l=r.nextSibling;for(;l&&yb(l,1);)s=l.parentNode,o=Ys(l)+1,l=l.nextSibling;if(l)r=l,n=0,a=Oj(r);else{if(r=r.parentNode,r==t.dom)break;n=a=0}}}s&&nO(t,s,o)}function xQ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function Tje(t,e){for(;t&&e==t.childNodes.length&&!a1(t);)e=Ys(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function Mje(t,e){for(;t&&!e&&!a1(t);)e=Ys(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function nO(t,e,r){if(e.nodeType!=3){let s,o;(o=Tje(e,r))?(e=o,r=0):(s=Mje(e,r))&&(e=s,r=s.nodeValue.length)}let n=t.domSelection();if(!n)return;if(UN(n)){let s=document.createRange();s.setEnd(e,r),s.setStart(e,r),n.removeAllRanges(),n.addRange(s)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:a}=t;setTimeout(()=>{t.state==a&&Nf(t)},50)}function dF(t,e){let r=t.state.doc.resolve(e);if(!(po||Q2e)&&r.parent.inlineContent){let a=t.coordsAtPos(e);if(e>r.start()){let s=t.coordsAtPos(e-1),o=(s.top+s.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(s.left-a.left)>1)return s.left<a.left?"ltr":"rtl"}if(e<r.end()){let s=t.coordsAtPos(e+1),o=(s.top+s.bottom)/2;if(o>a.top&&o<a.bottom&&Math.abs(s.left-a.left)>1)return s.left>a.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function fF(t,e,r){let n=t.state.selection;if(n instanceof rn&&!n.empty||r.indexOf("s")>-1||lc&&r.indexOf("m")>-1)return!1;let{$from:a,$to:s}=n;if(!a.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=rO(t.state,e);if(o&&o instanceof Ir)return Eh(t,o)}if(!a.parent.inlineContent){let o=e<0?a:s,l=n instanceof Ol?pn.near(o,e):pn.findFrom(o,e);return l?Eh(t,l):!1}return!1}function hF(t,e){if(!(t.state.selection instanceof rn))return!0;let{$head:r,$anchor:n,empty:a}=t.state.selection;if(!r.sameParent(n))return!0;if(!a)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let s=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(s&&!s.isText){let o=t.state.tr;return e<0?o.delete(r.pos-s.nodeSize,r.pos):o.delete(r.pos,r.pos+s.nodeSize),t.dispatch(o),!0}return!1}function mF(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Oje(t){if(!Bo||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;mF(t,n,"true"),setTimeout(()=>mF(t,n,"false"),20)}return!1}function Eje(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Dje(t,e){let r=e.keyCode,n=Eje(e);if(r==8||lc&&r==72&&n=="c")return hF(t,-1)||H0(t,-1);if(r==46&&!e.shiftKey||lc&&r==68&&n=="c")return hF(t,1)||H0(t,1);if(r==13||r==27)return!0;if(r==37||lc&&r==66&&n=="c"){let a=r==37?dF(t,t.state.selection.from)=="ltr"?-1:1:-1;return uF(t,a,n)||H0(t,a)}else if(r==39||lc&&r==70&&n=="c"){let a=r==39?dF(t,t.state.selection.from)=="ltr"?1:-1:1;return uF(t,a,n)||H0(t,a)}else{if(r==38||lc&&r==80&&n=="c")return fF(t,-1,n)||H0(t,-1);if(r==40||lc&&r==78&&n=="c")return Oje(t)||fF(t,1,n)||H0(t,1);if(n==(lc?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function wD(t,e){t.someProp("transformCopied",p=>{e=p(e,t)});let r=[],{content:n,openStart:a,openEnd:s}=e;for(;a>1&&s>1&&n.childCount==1&&n.firstChild.childCount==1;){a--,s--;let p=n.firstChild;r.push(p.type.name,p.attrs!=p.type.defaultAttrs?p.attrs:null),n=p.content}let o=t.someProp("clipboardSerializer")||Up.fromSchema(t.state.schema),l=NQ(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let u=c.firstChild,f,m=0;for(;u&&u.nodeType==1&&(f=jQ[u.nodeName.toLowerCase()]);){for(let p=f.length-1;p>=0;p--){let v=l.createElement(f[p]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}u=c.firstChild}u&&u.nodeType==1&&u.setAttribute("data-pm-slice",`${a} ${s}${m?` -${m}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",p=>p(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function yQ(t,e,r,n,a){let s=a.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||s||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,s||n,t)}),s)return l=new hr(Yt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",g=>g(e,a,n,t));if(m)l=m;else{let g=a.marks(),{schema:p}=t.state,v=Up.fromSchema(p);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let b=o.appendChild(document.createElement("p"));w&&b.appendChild(v.serializeNode(p.text(w,g)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=Ije(r),i1&&Fje(o);let u=o&&o.querySelector("[data-pm-slice]"),f=u&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(u.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Yh.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:a,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!Pje.test(g.parentNode.nodeName)?{ignore:!0}:null}})),f)l=$je(pF(l,+f[1],+f[2]),f[4]);else if(l=hr.maxOpen(Lje(l.content,a),!0),l.openStart||l.openEnd){let m=0,g=0;for(let p=l.content.firstChild;m<l.openStart&&!p.type.spec.isolating;m++,p=p.firstChild);for(let p=l.content.lastChild;g<l.openEnd&&!p.type.spec.isolating;g++,p=p.lastChild);l=pF(l,m,g)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const Pje=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Lje(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let a=e.node(r).contentMatchAt(e.index(r)),s,o=[];if(t.forEach(l=>{if(!o)return;let c=a.findWrapping(l.type),u;if(!c)return o=null;if(u=o.length&&s.length&&vQ(c,s,l,o[o.length-1],0))o[o.length-1]=u;else{o.length&&(o[o.length-1]=wQ(o[o.length-1],s.length));let f=bQ(l,c);o.push(f),a=a.matchType(f.type),s=c}}),o)return Yt.from(o)}return t}function bQ(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Yt.from(t));return t}function vQ(t,e,r,n,a){if(a<t.length&&a<e.length&&t[a]==e[a]){let s=vQ(t,e,r,n.lastChild,a+1);if(s)return n.copy(n.content.replaceChild(n.childCount-1,s));if(n.contentMatchAt(n.childCount).matchType(a==t.length-1?r.type:t[a+1]))return n.copy(n.content.append(Yt.from(bQ(r,t,a+1))))}}function wQ(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,wQ(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Yt.empty,!0);return t.copy(r.append(n))}function aO(t,e,r,n,a,s){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(s=0),a<n-1&&(l=aO(l,e,r,n,a+1,s)),a>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,s<=a).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Yt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function pF(t,e,r){return e<t.openStart&&(t=new hr(aO(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new hr(aO(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const jQ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let gF=null;function NQ(){return gF||(gF=document.implementation.createHTMLDocument("title"))}let e_=null;function Rje(t){let e=window.trustedTypes;return e?(e_||(e_=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),e_.createHTML(t)):t}function Ije(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=NQ().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),a;if((a=n&&jQ[n[1].toLowerCase()])&&(t=a.map(s=>"<"+s+">").join("")+t+a.map(s=>"</"+s+">").reverse().join("")),r.innerHTML=Rje(t),a)for(let s=0;s<a.length;s++)r=r.querySelector(a[s])||r;return r}function Fje(t){let e=t.querySelectorAll(po?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==""&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function $je(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:a,openStart:s,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;a=Yt.from(c.create(n[l+1],a)),s++,o++}return new hr(a,s,o)}const Ho={},zo={},Bje={touchstart:!0,touchmove:!0};class Hje{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function zje(t){for(let e in Ho){let r=Ho[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Uje(t,n)&&!jD(t,n)&&(t.editable||!(n.type in zo))&&r(t,n)},Bje[e]?{passive:!0}:void 0)}Bo&&t.dom.addEventListener("input",()=>null),iO(t)}function Hh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function qje(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function iO(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>jD(t,n))})}function jD(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function Uje(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Wje(t,e){!jD(t,e)&&Ho[e.type]&&(t.editable||!(e.type in zo))&&Ho[e.type](t,e)}zo.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!kQ(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(uf&&po&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Vg&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",a=>a(t,Km(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Dje(t,r)?r.preventDefault():Hh(t,"key")};zo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zo.keypress=(t,e)=>{let r=e;if(kQ(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||lc&&r.metaKey)return;if(t.someProp("handleKeyPress",a=>a(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof rn)||!n.$from.sameParent(n.$to)){let a=String.fromCharCode(r.charCode),s=()=>t.state.tr.insertText(a).scrollIntoView();!/[\r\n]/.test(a)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,a,s))&&t.dispatch(s()),r.preventDefault()}};function VN(t){return{left:t.clientX,top:t.clientY}}function Vje(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function ND(t,e,r,n,a){if(n==-1)return!1;let s=t.state.doc.resolve(n);for(let o=s.depth+1;o>0;o--)if(t.someProp(e,l=>o>s.depth?l(t,r,s.nodeAfter,s.before(o),a,!0):l(t,r,s.node(o),s.before(o),a,!1)))return!0;return!1}function jg(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function Gje(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Ir.isSelectable(n)?(jg(t,new Ir(r)),!0):!1}function Yje(t,e){if(e==-1)return!1;let r=t.state.selection,n,a;r instanceof Ir&&(n=r.node);let s=t.state.doc.resolve(e);for(let o=s.depth+1;o>0;o--){let l=o>s.depth?s.nodeAfter:s.node(o);if(Ir.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&s.before(r.$from.depth+1)==r.$from.pos?a=s.before(r.$from.depth):a=s.before(o);break}}return a!=null?(jg(t,Ir.create(t.state.doc,a)),!0):!1}function Kje(t,e,r,n,a){return ND(t,"handleClickOn",e,r,n)||t.someProp("handleClick",s=>s(t,e,n))||(a?Yje(t,r):Gje(t,r))}function Jje(t,e,r,n){return ND(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",a=>a(t,e,n))}function Xje(t,e,r,n){return ND(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",a=>a(t,e,n))||Qje(t,r,n)}function Qje(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(jg(t,rn.create(n,0,n.content.size)),!0):!1;let a=n.resolve(e);for(let s=a.depth+1;s>0;s--){let o=s>a.depth?a.nodeAfter:a.node(s),l=a.before(s);if(o.inlineContent)jg(t,rn.create(n,l+1,l+1+o.content.size));else if(Ir.isSelectable(o))jg(t,Ir.create(n,l));else continue;return!0}}function SD(t){return Ej(t)}const SQ=lc?"metaKey":"ctrlKey";Ho.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=SD(t),a=Date.now(),s="singleClick";a-t.input.lastClick.time<500&&Vje(r,t.input.lastClick)&&!r[SQ]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?s="doubleClick":t.input.lastClick.type=="doubleClick"&&(s="tripleClick")),t.input.lastClick={time:a,x:r.clientX,y:r.clientY,type:s,button:r.button};let o=t.posAtCoords(VN(r));o&&(s=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Zje(t,o,r,!!n)):(s=="doubleClick"?Jje:Xje)(t,o.pos,o.inside,r)?r.preventDefault():Hh(t,"pointer"))};class Zje{constructor(e,r,n,a){this.view=e,this.pos=r,this.event=n,this.flushed=a,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[SQ],this.allowDefault=n.shiftKey;let s,o;if(r.inside>-1)s=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);s=f.parent,o=f.depth?f.before():0}const l=a?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:u}=e.state;(n.button==0&&s.type.spec.draggable&&s.type.spec.selectable!==!1||u instanceof Ir&&u.from<=o&&u.to>o)&&(this.mightDrag={node:s,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&gc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Hh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Nf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(VN(e))),this.updateAllowDefault(e),this.allowDefault||!r?Hh(this.view,"pointer"):Kje(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Bo&&this.mightDrag&&!this.mightDrag.node.isAtom||po&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(jg(this.view,pn.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Hh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Hh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Ho.touchstart=t=>{t.input.lastTouch=Date.now(),SD(t),Hh(t,"pointer")};Ho.touchmove=t=>{t.input.lastTouch=Date.now(),Hh(t,"pointer")};Ho.contextmenu=t=>SD(t);function kQ(t,e){return t.composing?!0:Bo&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const e5e=uf?5e3:-1;zo.compositionstart=zo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof rn&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Ej(t,!0),t.markCursor=null;else if(Ej(t,!e.selection.empty),gc&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let a=n.focusNode,s=n.focusOffset;a&&a.nodeType==1&&s!=0;){let o=s<0?a.lastChild:a.childNodes[s-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else a=o,s=-1}}t.input.composing=!0}CQ(t,e5e)};zo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,CQ(t,20))};function CQ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Ej(t),e))}function _Q(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=r5e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function t5e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=G2e(e.focusNode,e.focusOffset),n=Y2e(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let a=n.pmViewDesc,s=t.domObserver.lastChangedTextNode;if(r==s||n==s)return s;if(!a||!a.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function r5e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Ej(t,e=!1){if(!(uf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),_Q(t),e||t.docView&&t.docView.dirty){let r=bD(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function n5e(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),a=document.createRange();a.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(a),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const Zb=cl&&Kh<15||Vg&&Z2e<604;Ho.copy=zo.cut=(t,e)=>{let r=e,n=t.state.selection,a=r.type=="cut";if(n.empty)return;let s=Zb?null:r.clipboardData,o=n.content(),{dom:l,text:c}=wD(t,o);s?(r.preventDefault(),s.clearData(),s.setData("text/html",l.innerHTML),s.setData("text/plain",c)):n5e(t,l),a&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function a5e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function i5e(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let a=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?ev(t,n.value,null,a,e):ev(t,n.textContent,n.innerHTML,a,e)},50)}function ev(t,e,r,n,a){let s=yQ(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,a,s||hr.empty)))return!0;if(!s)return!1;let o=a5e(s),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(s);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function AQ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}zo.paste=(t,e)=>{let r=e;if(t.composing&&!uf)return;let n=Zb?null:r.clipboardData,a=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&ev(t,AQ(n),n.getData("text/html"),a,r)?r.preventDefault():i5e(t,r)};class TQ{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const s5e=lc?"altKey":"ctrlKey";function MQ(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[s5e]}Ho.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let a=t.state.selection,s=a.empty?null:t.posAtCoords(VN(r)),o;if(!(s&&s.pos>=a.from&&s.pos<=(a instanceof Ir?a.to-1:a.to))){if(n&&n.mightDrag)o=Ir.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Ir.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:u,slice:f}=wD(t,l);(!r.dataTransfer.files.length||!po||rQ>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(Zb?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",Zb||r.dataTransfer.setData("text/plain",u),t.dragging=new TQ(f,MQ(t,r),o)};Ho.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zo.dragover=zo.dragenter=(t,e)=>e.preventDefault();zo.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let a=t.posAtCoords(VN(r));if(!a)return;let s=t.state.doc.resolve(a.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=yQ(t,AQ(r.dataTransfer),Zb?null:r.dataTransfer.getData("text/html"),!1,s);let l=!!(n&&MQ(t,r));if(t.someProp("handleDrop",v=>v(t,r,o||hr.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?GX(t.state.doc,s.pos,o):s.pos;c==null&&(c=s.pos);let u=t.state.tr;if(l){let{node:v}=n;v?v.replace(u):u.deleteSelection()}let f=u.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=u.doc;if(m?u.replaceRangeWith(f,f,o.content.firstChild):u.replaceRange(f,f,o),u.doc.eq(g))return;let p=u.doc.resolve(f);if(m&&Ir.isSelectable(o.content.firstChild)&&p.nodeAfter&&p.nodeAfter.sameMarkup(o.content.firstChild))u.setSelection(new Ir(p));else{let v=u.mapping.map(c);u.mapping.maps[u.mapping.maps.length-1].forEach((w,b,N,k)=>v=k),u.setSelection(vD(t,p,u.doc.resolve(v)))}t.focus(),t.dispatch(u.setMeta("uiEvent","drop"))};Ho.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Nf(t)},20))};Ho.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Ho.beforeinput=(t,e)=>{if(po&&uf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",s=>s(t,Km(8,"Backspace")))))return;let{$cursor:a}=t.state.selection;a&&a.pos>0&&t.dispatch(t.state.tr.delete(a.pos-1,a.pos).scrollIntoView())},50)}};for(let t in zo)Ho[t]=zo[t];function tv(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Dj{constructor(e,r){this.toDOM=e,this.spec=r||yp,this.side=this.spec.side||0}map(e,r,n,a){let{pos:s,deleted:o}=e.mapResult(r.from+a,this.side<0?-1:1);return o?null:new Do(s-n,s-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Dj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&tv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Xh{constructor(e,r){this.attrs=e,this.spec=r||yp}map(e,r,n,a){let s=e.map(r.from+a,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+a,this.spec.inclusiveEnd?1:-1)-n;return s>=o?null:new Do(s,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Xh&&tv(this.attrs,e.attrs)&&tv(this.spec,e.spec)}static is(e){return e.type instanceof Xh}destroy(){}}class kD{constructor(e,r){this.attrs=e,this.spec=r||yp}map(e,r,n,a){let s=e.mapResult(r.from+a,1);if(s.deleted)return null;let o=e.mapResult(r.to+a,-1);return o.deleted||o.pos<=s.pos?null:new Do(s.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:a}=e.content.findIndex(r.from),s;return a==r.from&&!(s=e.child(n)).isText&&a+s.nodeSize==r.to}eq(e){return this==e||e instanceof kD&&tv(this.attrs,e.attrs)&&tv(this.spec,e.spec)}destroy(){}}class Do{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Do(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Do(e,e,new Dj(r,n))}static inline(e,r,n,a){return new Do(e,r,new Xh(n,a))}static node(e,r,n,a){return new Do(e,r,new kD(n,a))}get spec(){return this.type.spec}get inline(){return this.type instanceof Xh}get widget(){return this.type instanceof Dj}}const X0=[],yp={};class oi{constructor(e,r){this.local=e.length?e:X0,this.children=r.length?r:X0}static create(e,r){return r.length?Pj(r,e,0,yp):co}find(e,r,n){let a=[];return this.findInner(e??0,r??1e9,a,0,n),a}findInner(e,r,n,a,s){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!s||s(l.spec))&&n.push(l.copy(l.from+a,l.to+a))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,a+l,s)}}map(e,r,n){return this==co||e.maps.length==0?this:this.mapInner(e,r,0,0,n||yp)}mapInner(e,r,n,a,s){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,a);c&&c.type.valid(r,c)?(o||(o=[])).push(c):s.onRemove&&s.onRemove(this.local[l].spec)}return this.children.length?o5e(this.children,o||[],e,r,n,a,s):o?new oi(o.sort(bp),X0):co}add(e,r){return r.length?this==co?oi.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let a,s=0;e.forEach((l,c)=>{let u=c+n,f;if(f=EQ(r,l,u)){for(a||(a=this.children.slice());s<a.length&&a[s]<c;)s+=3;a[s]==c?a[s+2]=a[s+2].addInner(l,f,u+1):a.splice(s,0,c,c+l.nodeSize,Pj(f,l,u+1,yp)),s+=3}});let o=OQ(s?DQ(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new oi(o.length?this.local.concat(o).sort(bp):this.local,a||this.children)}remove(e){return e.length==0||this==co?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,a=this.local;for(let s=0;s<n.length;s+=3){let o,l=n[s]+r,c=n[s+1]+r;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>l&&m.to<c&&(e[f]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let u=n[s+2].removeInner(o,l+1);u!=co?n[s+2]=u:(n.splice(s,3),s-=3)}if(a.length){for(let s=0,o;s<e.length;s++)if(o=e[s])for(let l=0;l<a.length;l++)a[l].eq(o,r)&&(a==this.local&&(a=this.local.slice()),a.splice(l--,1))}return n==this.children&&a==this.local?this:a.length||n.length?new oi(a,n):co}forChild(e,r){if(this==co)return this;if(r.isLeaf)return oi.empty;let n,a;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let s=e+1,o=s+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>s&&c.type instanceof Xh){let u=Math.max(s,c.from)-s,f=Math.min(o,c.to)-s;u<f&&(a||(a=[])).push(c.copy(u,f))}}if(a){let l=new oi(a.sort(bp),X0);return n?new Rh([l,n]):l}return n||co}eq(e){if(this==e)return!0;if(!(e instanceof oi)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return CD(this.localsInner(e))}localsInner(e){if(this==co)return X0;if(e.inlineContent||!this.local.some(Xh.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Xh||r.push(this.local[n]);return r}forEachSet(e){e(this)}}oi.empty=new oi([],[]);oi.removeOverlap=CD;const co=oi.empty;class Rh{constructor(e){this.members=e}map(e,r){const n=this.members.map(a=>a.map(e,r,yp));return Rh.from(n)}forChild(e,r){if(r.isLeaf)return oi.empty;let n=[];for(let a=0;a<this.members.length;a++){let s=this.members[a].forChild(e,r);s!=co&&(s instanceof Rh?n=n.concat(s.members):n.push(s))}return Rh.from(n)}eq(e){if(!(e instanceof Rh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let a=0;a<this.members.length;a++){let s=this.members[a].localsInner(e);if(s.length)if(!r)r=s;else{n&&(r=r.slice(),n=!1);for(let o=0;o<s.length;o++)r.push(s[o])}}return r?CD(n?r:r.sort(bp)):X0}static from(e){switch(e.length){case 0:return co;case 1:return e[0];default:return new Rh(e.every(r=>r instanceof oi)?e:e.reduce((r,n)=>r.concat(n instanceof oi?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function o5e(t,e,r,n,a,s,o){let l=t.slice();for(let u=0,f=s;u<r.maps.length;u++){let m=0;r.maps[u].forEach((g,p,v,w)=>{let b=w-v-(p-g);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||g>k+f-m)continue;let S=l[N]+f-m;p>=S?l[N+1]=g<=S?-2:-1:g>=f&&b&&(l[N]+=b,l[N+1]+=b)}m+=b}),f=r.maps[u].map(f,-1)}let c=!1;for(let u=0;u<l.length;u+=3)if(l[u+1]<0){if(l[u+1]==-2){c=!0,l[u+1]=-1;continue}let f=r.map(t[u]+s),m=f-a;if(m<0||m>=n.content.size){c=!0;continue}let g=r.map(t[u+1]+s,-1),p=g-a,{index:v,offset:w}=n.content.findIndex(m),b=n.maybeChild(v);if(b&&w==m&&w+b.nodeSize==p){let N=l[u+2].mapInner(r,b,f+1,t[u]+s+1,o);N!=co?(l[u]=m,l[u+1]=p,l[u+2]=N):(l[u+1]=-2,c=!0)}else c=!0}if(c){let u=l5e(l,t,e,r,a,s,o),f=Pj(u,n,0,o);e=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<f.children.length;m+=3){let p=f.children[m];for(;g<l.length&&l[g]<p;)g+=3;l.splice(g,0,f.children[m],f.children[m+1],f.children[m+2])}}return new oi(e.sort(bp),l)}function OQ(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let a=t[n];r.push(new Do(a.from+e,a.to+e,a.type))}return r}function l5e(t,e,r,n,a,s,o){function l(c,u){for(let f=0;f<c.local.length;f++){let m=c.local[f].map(n,a,u);m?r.push(m):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+u+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+s+1);return r}function EQ(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,a=null;for(let s=0,o;s<t.length;s++)(o=t[s])&&o.from>r&&o.to<n&&((a||(a=[])).push(o),t[s]=null);return a}function DQ(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Pj(t,e,r,n){let a=[],s=!1;e.forEach((l,c)=>{let u=EQ(t,l,c+r);if(u){s=!0;let f=Pj(u,l,r+c+1,n);f!=co&&a.push(c,c+l.nodeSize,f)}});let o=OQ(s?DQ(t):t,-r).sort(bp);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||a.length?new oi(o,a):co}function bp(t,e){return t.from-e.from||t.to-e.to}function CD(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let a=r+1;a<e.length;a++){let s=e[a];if(s.from==n.from){s.to!=n.to&&(e==t&&(e=t.slice()),e[a]=s.copy(s.from,n.to),xF(e,a+1,s.copy(n.to,s.to)));continue}else{s.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,s.from),xF(e,a,n.copy(s.from,n.to)));break}}}return e}function xF(t,e,r){for(;e<t.length&&bp(r,t[e])>0;)e++;t.splice(e,0,r)}function t_(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=co&&e.push(n)}),t.cursorWrapper&&e.push(oi.create(t.state.doc,[t.cursorWrapper.deco])),Rh.from(e)}const c5e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},u5e=cl&&Kh<=11;class d5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class f5e{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new d5e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let a=0;a<n.length;a++)this.queue.push(n[a]);cl&&Kh<=11&&n.some(a=>a.type=="childList"&&a.removedNodes.length||a.type=="characterData"&&a.oldValue.length>a.target.nodeValue.length)?this.flushSoon():this.flush()}),u5e&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,c5e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(cF(this.view)){if(this.suppressingSelectionUpdates)return Nf(this.view);if(cl&&Kh<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Mp(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let s=e.focusNode;s;s=Wg(s))r.add(s);for(let s=e.anchorNode;s;s=Wg(s))if(r.has(s)){n=s;break}let a=n&&this.view.docView.nearestDesc(n);if(a&&a.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),a=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&cF(e)&&!this.ignoreSelectionChange(n),s=-1,o=-1,l=!1,c=[];if(e.editable)for(let f=0;f<r.length;f++){let m=this.registerMutation(r[f],c);m&&(s=s<0?m.from:Math.min(m.from,s),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(gc&&c.length){let f=c.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,g]=f;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of f){let p=g.parentNode;p&&p.nodeName=="LI"&&(!m||p5e(e,m)!=p)&&g.remove()}}}let u=null;s<0&&a&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&UN(n)&&(u=bD(e))&&u.eq(pn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Nf(e),this.currentSelection.set(n),e.scrollToSelection()):(s>-1||a)&&(s>-1&&(e.docView.markDirty(s,o),h5e(e)),this.handleDOMChange(s,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Nf(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let a=e.previousSibling,s=e.nextSibling;if(cl&&Kh<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:g}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(a=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(s=g)}let o=a&&a.parentNode==e.target?Ys(a)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=s&&s.parentNode==e.target?Ys(s):e.target.childNodes.length,u=n.localPosFromDOM(e.target,c,1);return{from:l,to:u}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let yF=new WeakMap,bF=!1;function h5e(t){if(!yF.has(t)&&(yF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=gc,bF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),bF=!0}}function vF(t,e){let r=e.startContainer,n=e.startOffset,a=e.endContainer,s=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Mp(o.node,o.offset,a,s)&&([r,n,a,s]=[a,s,r,n]),{anchorNode:r,anchorOffset:n,focusNode:a,focusOffset:s}}function m5e(t,e){if(e.getComposedRanges){let a=e.getComposedRanges(t.root)[0];if(a)return vF(t,a)}let r;function n(a){a.preventDefault(),a.stopImmediatePropagation(),r=a.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?vF(t,r):null}function p5e(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function g5e(t,e,r){let{node:n,fromOffset:a,toOffset:s,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),u,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(u=[{node:f,offset:c.anchorOffset}],UN(c)||u.push({node:c.focusNode,offset:c.focusOffset})),po&&t.input.lastKeyCode===8)for(let b=s;b>a;b--){let N=n.childNodes[b-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){s=b;break}if(!k||k.size)break}let m=t.state.doc,g=t.someProp("domParser")||Yh.fromSchema(t.state.schema),p=m.resolve(o),v=null,w=g.parse(n,{topNode:p.parent,topMatch:p.parent.contentMatchAt(p.index()),topOpen:!0,from:a,to:s,preserveWhitespace:p.parent.type.whitespace=="pre"?"full":!0,findPositions:u,ruleFromNode:x5e,context:p});if(u&&u[0].pos!=null){let b=u[0].pos,N=u[1]&&u[1].pos;N==null&&(N=b),v={anchor:b+o,head:N+o}}return{doc:w,sel:v,from:o,to:l}}function x5e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Bo&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Bo&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const y5e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function b5e(t,e,r,n,a){let s=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let R=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,L=bD(t,R);if(L&&!t.state.selection.eq(L)){if(po&&uf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",B=>B(t,Km(13,"Enter"))))return;let I=t.state.tr.setSelection(L);R=="pointer"?I.setMeta("pointer",!0):R=="key"&&I.scrollIntoView(),s&&I.setMeta("composition",s),t.dispatch(I)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,u=g5e(t,e,r),f=t.state.doc,m=f.slice(u.from,u.to),g,p;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,p="end"):(g=t.state.selection.from,p="start"),t.input.lastKeyCode=null;let v=j5e(m.content,u.doc.content,u.from,g,p);if(v&&t.input.domChangeCount++,(Vg&&t.input.lastIOSEnter>Date.now()-225||uf)&&a.some(R=>R.nodeType==1&&!y5e.test(R.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",R=>R(t,Km(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof rn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let R=wF(t,t.state.doc,u.sel);if(R&&!R.eq(t.state.selection)){let L=t.state.tr.setSelection(R);s&&L.setMeta("composition",s),t.dispatch(L)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof rn&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),cl&&Kh<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>u.from&&u.doc.textBetween(v.start-u.from-1,v.start-u.from+1)==" "&&(v.start--,v.endA--,v.endB--);let w=u.doc.resolveNoCache(v.start-u.from),b=u.doc.resolveNoCache(v.endB-u.from),N=f.resolve(v.start),k=w.sameParent(b)&&w.parent.inlineContent&&N.end()>=v.endA;if((Vg&&t.input.lastIOSEnter>Date.now()-225&&(!k||a.some(R=>R.nodeName=="DIV"||R.nodeName=="P"))||!k&&w.pos<u.doc.content.size&&(!w.sameParent(b)||!w.parent.inlineContent)&&w.pos<b.pos&&!/\S/.test(u.doc.textBetween(w.pos,b.pos,"","")))&&t.someProp("handleKeyDown",R=>R(t,Km(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&w5e(f,v.start,v.endA,w,b)&&t.someProp("handleKeyDown",R=>R(t,Km(8,"Backspace")))){uf&&po&&t.domObserver.suppressSelectionUpdates();return}po&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),uf&&!k&&w.start()!=b.start()&&b.parentOffset==0&&w.depth==b.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==v.endA&&(v.endB-=2,b=u.doc.resolveNoCache(v.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(R){return R(t,Km(13,"Enter"))})},20));let S=v.start,A=v.endA,_=R=>{let L=R||t.state.tr.replace(S,A,u.doc.slice(v.start-u.from,v.endB-u.from));if(u.sel){let I=wF(t,L.doc,u.sel);I&&!(po&&t.composing&&I.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(I.head==S||I.head==L.mapping.map(A)-1)||cl&&I.empty&&I.head==S)&&L.setSelection(I)}return s&&L.setMeta("composition",s),L.scrollIntoView()},M;if(k){if(w.pos==b.pos){cl&&Kh<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Nf(t),20));let R=_(t.state.tr.delete(S,A)),L=f.resolve(v.start).marksAcross(f.resolve(v.endA));L&&R.ensureMarks(L),t.dispatch(R)}else if(v.endA==v.endB&&(M=v5e(w.parent.content.cut(w.parentOffset,b.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let R=_(t.state.tr);M.type=="add"?R.addMark(S,A,M.mark):R.removeMark(S,A,M.mark),t.dispatch(R)}else if(w.parent.child(w.index()).isText&&w.index()==b.index()-(b.textOffset?0:1)){let R=w.parent.textBetween(w.parentOffset,b.parentOffset),L=()=>_(t.state.tr.insertText(R,S,A));t.someProp("handleTextInput",I=>I(t,S,A,R,L))||t.dispatch(L())}}else t.dispatch(_())}function wF(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:vD(t,e.resolve(r.anchor),e.resolve(r.head))}function v5e(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,a=r,s=n,o,l,c;for(let f=0;f<n.length;f++)a=n[f].removeFromSet(a);for(let f=0;f<r.length;f++)s=r[f].removeFromSet(s);if(a.length==1&&s.length==0)l=a[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(a.length==0&&s.length==1)l=s[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let u=[];for(let f=0;f<e.childCount;f++)u.push(c(e.child(f)));if(Yt.from(u).eq(t))return{mark:l,type:o}}function w5e(t,e,r,n,a){if(r-e<=a.pos-n.pos||r_(n,!0,!1)<a.pos)return!1;let s=t.resolve(e);if(!n.parent.isTextblock){let l=s.nodeAfter;return l!=null&&r==e+l.nodeSize}if(s.parentOffset<s.parent.content.size||!s.parent.isTextblock)return!1;let o=t.resolve(r_(s,!0,!0));return!o.parent.isTextblock||o.pos>r||r_(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function r_(t,e,r){let n=t.depth,a=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,a++,e=!1;if(r){let s=t.node(n).maybeChild(t.indexAfter(n));for(;s&&!s.isLeaf;)s=s.firstChild,a++}return a}function j5e(t,e,r,n,a){let s=t.findDiffStart(e,r);if(s==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(a=="end"){let c=Math.max(0,s-Math.min(o,l));n-=o+c-s}if(o<s&&t.size<e.size){let c=n<=s&&n>=o?s-n:0;s-=c,s&&s<e.size&&jF(e.textBetween(s-1,s+1))&&(s+=c?1:-1),l=s+(l-o),o=s}else if(l<s){let c=n<=s&&n>=l?s-n:0;s-=c,s&&s<t.size&&jF(t.textBetween(s-1,s+1))&&(s+=c?1:-1),o=s+(o-l),l=s}return{start:s,endA:o,endB:l}}function jF(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class PQ{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Hje,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(_F),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=kF(this),SF(this),this.nodeViews=CF(this),this.docView=nF(this.state.doc,NF(this),t_(this),this.dom,this),this.domObserver=new f5e(this,(n,a,s,o)=>b5e(this,n,a,s,o)),this.domObserver.start(),zje(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&iO(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(_F),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let a=this.state,s=!1,o=!1;e.storedMarks&&this.composing&&(_Q(this),o=!0),this.state=e;let l=a.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let p=CF(this);S5e(p,this.nodeViews)&&(this.nodeViews=p,s=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&iO(this),this.editable=kF(this),SF(this);let c=t_(this),u=NF(this),f=a.plugins!=e.plugins&&!a.doc.eq(e.doc)?"reset":e.scrollToSelection>a.scrollToSelection?"to selection":"preserve",m=s||!this.docView.matchesNode(e.doc,u,c);(m||!e.selection.eq(a.selection))&&(o=!0);let g=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&rje(this);if(o){this.domObserver.stop();let p=m&&(cl||po)&&!this.composing&&!a.selection.empty&&!e.selection.empty&&N5e(a.selection,e.selection);if(m){let v=po?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=t5e(this)),(s||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco(u),this.docView.destroy(),this.docView=nF(e.doc,u,c,this.dom,this)),v&&!this.trackWrites&&(p=!0)}p||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Cje(this))?Nf(this,p):(pQ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(a),!((n=this.dragging)===null||n===void 0)&&n.node&&!a.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,a),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():g&&nje(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Ir){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&X9(this,r.getBoundingClientRect(),e)}else X9(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,a=-1;if(this.state.doc.nodeAt(n.from)==n.node)a=n.from;else{let s=n.from+(this.state.doc.content.size-r.doc.content.size);(s>0&&this.state.doc.nodeAt(s))==n.node&&(a=s)}this.dragging=new TQ(e.slice,e.move,a<0?void 0:Ir.create(this.state.doc,a))}someProp(e,r){let n=this._props&&this._props[e],a;if(n!=null&&(a=r?r(n):n))return a;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(a=r?r(l):l))return a}let s=this.state.plugins;if(s)for(let o=0;o<s.length;o++){let l=s[o].props[e];if(l!=null&&(a=r?r(l):l))return a}}hasFocus(){if(cl){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&aje(this.dom),Nf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return cje(this,e)}coordsAtPos(e,r=1){return oQ(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let a=this.docView.posFromDOM(e,r,n);if(a==null)throw new RangeError("DOM position not inside the editor");return a}endOfTextblock(e,r){return mje(this,r||this.state,e)}pasteHTML(e,r){return ev(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return ev(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return wD(this,e)}destroy(){this.docView&&(qje(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],t_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,W2e())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Wje(this,e)}domSelectionRange(){let e=this.domSelection();return e?Bo&&this.root.nodeType===11&&J2e(this.dom.ownerDocument)==this.dom&&m5e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}PQ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function NF(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Do.node(0,t.state.doc.content.size,e)]}function SF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Do.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function kF(t){return!t.someProp("editable",e=>e(t.state)===!1)}function N5e(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function CF(t){let e=Object.create(null);function r(n){for(let a in n)Object.prototype.hasOwnProperty.call(e,a)||(e[a]=n[a])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function S5e(t,e){let r=0,n=0;for(let a in t){if(t[a]!=e[a])return!0;r++}for(let a in e)n++;return r!=n}function _F(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var sm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Lj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},k5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),C5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ks=0;Ks<10;Ks++)sm[48+Ks]=sm[96+Ks]=String(Ks);for(var Ks=1;Ks<=24;Ks++)sm[Ks+111]="F"+Ks;for(var Ks=65;Ks<=90;Ks++)sm[Ks]=String.fromCharCode(Ks+32),Lj[Ks]=String.fromCharCode(Ks);for(var n_ in sm)Lj.hasOwnProperty(n_)||(Lj[n_]=sm[n_]);function _5e(t){var e=k5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||C5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Lj:sm)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const A5e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),T5e=typeof navigator<"u"&&/Win/.test(navigator.platform);function M5e(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,a,s,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))A5e?o=!0:a=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),a&&(r="Ctrl-"+r),o&&(r="Meta-"+r),s&&(r="Shift-"+r),r}function O5e(t){let e=Object.create(null);for(let r in t)e[M5e(r)]=t[r];return e}function a_(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function E5e(t){return new Mi({props:{handleKeyDown:LQ(t)}})}function LQ(t){let e=O5e(t);return function(r,n){let a=_5e(n),s,o=e[a_(a,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(a.length==1&&a!=" "){if(n.shiftKey){let l=e[a_(a,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(T5e&&n.ctrlKey&&n.altKey)&&(s=sm[n.keyCode])&&s!=a){let l=e[a_(s,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const _D=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function RQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const IQ=(t,e,r)=>{let n=RQ(t,r);if(!n)return!1;let a=AD(n);if(!a){let o=n.blockRange(),l=o&&Ox(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let s=a.nodeBefore;if(VQ(t,a,e,-1))return!0;if(n.parent.content.size==0&&(Gg(s,"end")||Ir.isSelectable(s)))for(let o=n.depth;;o--){let l=zN(t.doc,n.before(o),n.after(o),hr.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Gg(s,"end")?pn.findFrom(c.doc.resolve(c.mapping.map(a.pos,-1)),-1):Ir.create(c.doc,a.pos-s.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return s.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos-s.nodeSize,a.pos).scrollIntoView()),!0):!1},D5e=(t,e,r)=>{let n=RQ(t,r);if(!n)return!1;let a=AD(n);return a?FQ(t,a,e):!1},P5e=(t,e,r)=>{let n=BQ(t,r);if(!n)return!1;let a=TD(n);return a?FQ(t,a,e):!1};function FQ(t,e,r){let n=e.nodeBefore,a=n,s=e.pos-1;for(;!a.isTextblock;s--){if(a.type.spec.isolating)return!1;let f=a.lastChild;if(!f)return!1;a=f}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let u=zN(t.doc,s,c,hr.empty);if(!u||u.from!=s||u instanceof Es&&u.slice.size>=c-s)return!1;if(r){let f=t.tr.step(u);f.setSelection(rn.create(f.doc,s)),r(f.scrollIntoView())}return!0}function Gg(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const $Q=(t,e,r)=>{let{$head:n,empty:a}=t.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;s=AD(n)}let o=s&&s.nodeBefore;return!o||!Ir.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ir.create(t.doc,s.pos-o.nodeSize)).scrollIntoView()),!0)};function AD(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function BQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const HQ=(t,e,r)=>{let n=BQ(t,r);if(!n)return!1;let a=TD(n);if(!a)return!1;let s=a.nodeAfter;if(VQ(t,a,e,1))return!0;if(n.parent.content.size==0&&(Gg(s,"start")||Ir.isSelectable(s))){let o=zN(t.doc,n.before(),n.after(),hr.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Gg(s,"start")?pn.findFrom(l.doc.resolve(l.mapping.map(a.pos)),1):Ir.create(l.doc,l.mapping.map(a.pos))),e(l.scrollIntoView())}return!0}}return s.isAtom&&a.depth==n.depth-1?(e&&e(t.tr.delete(a.pos,a.pos+s.nodeSize).scrollIntoView()),!0):!1},zQ=(t,e,r)=>{let{$head:n,empty:a}=t.selection,s=n;if(!a)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;s=TD(n)}let o=s&&s.nodeAfter;return!o||!Ir.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Ir.create(t.doc,s.pos)).scrollIntoView()),!0)};function TD(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const L5e=(t,e)=>{let r=t.selection,n=r instanceof Ir,a;if(n){if(r.node.isTextblock||!dm(t.doc,r.from))return!1;a=r.from}else if(a=HN(t.doc,r.from,-1),a==null)return!1;if(e){let s=t.tr.join(a);n&&s.setSelection(Ir.create(s.doc,a-t.doc.resolve(a).nodeBefore.nodeSize)),e(s.scrollIntoView())}return!0},R5e=(t,e)=>{let r=t.selection,n;if(r instanceof Ir){if(r.node.isTextblock||!dm(t.doc,r.to))return!1;n=r.to}else if(n=HN(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},I5e=(t,e)=>{let{$from:r,$to:n}=t.selection,a=r.blockRange(n),s=a&&Ox(a);return s==null?!1:(e&&e(t.tr.lift(a,s).scrollIntoView()),!0)},qQ=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function MD(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const F5e=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let a=r.node(-1),s=r.indexAfter(-1),o=MD(a.contentMatchAt(s));if(!o||!a.canReplaceWith(s,s,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(pn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},UQ=(t,e)=>{let r=t.selection,{$from:n,$to:a}=r;if(r instanceof Ol||n.parent.inlineContent||a.parent.inlineContent)return!1;let s=MD(a.parent.contentMatchAt(a.indexAfter()));if(!s||!s.isTextblock)return!1;if(e){let o=(!n.parentOffset&&a.index()<a.parent.childCount?n:a).pos,l=t.tr.insert(o,s.createAndFill());l.setSelection(rn.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},WQ=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let s=r.before();if(jf(t.doc,s))return e&&e(t.tr.split(s).scrollIntoView()),!0}let n=r.blockRange(),a=n&&Ox(n);return a==null?!1:(e&&e(t.tr.lift(n,a).scrollIntoView()),!0)};function $5e(t){return(e,r)=>{let{$from:n,$to:a}=e.selection;if(e.selection instanceof Ir&&e.selection.node.isBlock)return!n.parentOffset||!jf(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let s=[],o,l,c=!1,u=!1;for(let p=n.depth;;p--)if(n.node(p).isBlock){c=n.end(p)==n.pos+(n.depth-p),u=n.start(p)==n.pos-(n.depth-p),l=MD(n.node(p-1).contentMatchAt(n.indexAfter(p-1))),s.unshift(c&&l?{type:l}:null),o=p;break}else{if(p==1)return!1;s.unshift(null)}let f=e.tr;(e.selection instanceof rn||e.selection instanceof Ol)&&f.deleteSelection();let m=f.mapping.map(n.pos),g=jf(f.doc,m,s.length,s);if(g||(s[0]=l?{type:l}:null,g=jf(f.doc,m,s.length,s)),!g)return!1;if(f.split(m,s.length,s),!c&&u&&n.node(o).type!=l){let p=f.mapping.map(n.before(o)),v=f.doc.resolve(p);l&&n.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(n.before(o)),l)}return r&&r(f.scrollIntoView()),!0}}const B5e=$5e(),H5e=(t,e)=>{let{$from:r,to:n}=t.selection,a,s=r.sharedDepth(n);return s==0?!1:(a=r.before(s),e&&e(t.tr.setSelection(Ir.create(t.doc,a))),!0)};function z5e(t,e,r){let n=e.nodeBefore,a=e.nodeAfter,s=e.index();return!n||!a||!n.type.compatibleContent(a.type)?!1:!n.content.size&&e.parent.canReplace(s-1,s)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(s,s+1)||!(a.isTextblock||dm(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function VQ(t,e,r,n){let a=e.nodeBefore,s=e.nodeAfter,o,l,c=a.type.spec.isolating||s.type.spec.isolating;if(!c&&z5e(t,e,r))return!0;let u=!c&&e.parent.canReplace(e.index(),e.index()+1);if(u&&(o=(l=a.contentMatchAt(a.childCount)).findWrapping(s.type))&&l.matchType(o[0]||s.type).validEnd){if(r){let p=e.pos+s.nodeSize,v=Yt.empty;for(let N=o.length-1;N>=0;N--)v=Yt.from(o[N].create(null,v));v=Yt.from(a.copy(v));let w=t.tr.step(new Ps(e.pos-1,p,e.pos,p,new hr(v,1,0),o.length,!0)),b=w.doc.resolve(p+2*o.length);b.nodeAfter&&b.nodeAfter.type==a.type&&dm(w.doc,b.pos)&&w.join(b.pos),r(w.scrollIntoView())}return!0}let f=s.type.spec.isolating||n>0&&c?null:pn.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),g=m&&Ox(m);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(m,g).scrollIntoView()),!0;if(u&&Gg(s,"start",!0)&&Gg(a,"end")){let p=a,v=[];for(;v.push(p),!p.isTextblock;)p=p.lastChild;let w=s,b=1;for(;!w.isTextblock;w=w.firstChild)b++;if(p.canReplace(p.childCount,p.childCount,w.content)){if(r){let N=Yt.empty;for(let S=v.length-1;S>=0;S--)N=Yt.from(v[S].copy(N));let k=t.tr.step(new Ps(e.pos-v.length,e.pos+s.nodeSize,e.pos+b,e.pos+s.nodeSize-b,new hr(N,v.length,0),0,!0));r(k.scrollIntoView())}return!0}}return!1}function GQ(t){return function(e,r){let n=e.selection,a=t<0?n.$from:n.$to,s=a.depth;for(;a.node(s).isInline;){if(!s)return!1;s--}return a.node(s).isTextblock?(r&&r(e.tr.setSelection(rn.create(e.doc,t<0?a.start(s):a.end(s)))),!0):!1}}const q5e=GQ(-1),U5e=GQ(1);function W5e(t,e=null){return function(r,n){let{$from:a,$to:s}=r.selection,o=a.blockRange(s),l=o&&gD(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function AF(t,e=null){return function(r,n){let a=!1;for(let s=0;s<r.selection.ranges.length&&!a;s++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[s];r.doc.nodesBetween(o,l,(c,u)=>{if(a)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)a=!0;else{let f=r.doc.resolve(u),m=f.index();a=f.parent.canReplaceWith(m,m+1,t)}})}if(!a)return!1;if(n){let s=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];s.setBlockType(l,c,t,e)}n(s.scrollIntoView())}return!0}}function OD(...t){return function(e,r,n){for(let a=0;a<t.length;a++)if(t[a](e,r,n))return!0;return!1}}OD(_D,IQ,$Q);OD(_D,HQ,zQ);OD(qQ,UQ,WQ,B5e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function V5e(t,e=null){return function(r,n){let{$from:a,$to:s}=r.selection,o=a.blockRange(s);if(!o)return!1;let l=n?r.tr:null;return G5e(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function G5e(t,e,r,n=null){let a=!1,s=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);s=new Aj(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Aj(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),a=!0}let l=gD(s,r,n,e);return l?(t&&Y5e(t,e,l,a,r),!0):!1}function Y5e(t,e,r,n,a){let s=Yt.empty;for(let f=r.length-1;f>=0;f--)s=Yt.from(r[f].type.create(r[f].attrs,s));t.step(new Ps(e.start-(n?2:0),e.end,e.start,e.end,new hr(s,0,0),r.length,!0));let o=0;for(let f=0;f<r.length;f++)r[f].type==a&&(o=f+1);let l=r.length-o,c=e.start+r.length-(n?2:0),u=e.parent;for(let f=e.startIndex,m=e.endIndex,g=!0;f<m;f++,g=!1)!g&&jf(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=u.child(f).nodeSize;return t}function K5e(t){return function(e,r){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,o=>o.childCount>0&&o.firstChild.type==t);return s?r?n.node(s.depth-1).type==t?J5e(e,r,t,s):X5e(e,r,s):!0:!1}}function J5e(t,e,r,n){let a=t.tr,s=n.end,o=n.$to.end(n.depth);s<o&&(a.step(new Ps(s-1,o,s,o,new hr(Yt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Aj(a.doc.resolve(n.$from.pos),a.doc.resolve(o),n.depth));const l=Ox(n);if(l==null)return!1;a.lift(n,l);let c=a.doc.resolve(a.mapping.map(s,-1)-1);return dm(a.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&a.join(c.pos),e(a.scrollIntoView()),!0}function X5e(t,e,r){let n=t.tr,a=r.parent;for(let p=r.end,v=r.endIndex-1,w=r.startIndex;v>w;v--)p-=a.child(v).nodeSize,n.delete(p-1,p+1);let s=n.doc.resolve(r.start),o=s.nodeAfter;if(n.mapping.map(r.end)!=r.start+s.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==a.childCount,u=s.node(-1),f=s.index(-1);if(!u.canReplace(f+(l?0:1),f+1,o.content.append(c?Yt.empty:Yt.from(a))))return!1;let m=s.pos,g=m+o.nodeSize;return n.step(new Ps(m-(l?1:0),g+(c?1:0),m+1,g-1,new hr((l?Yt.empty:Yt.from(a.copy(Yt.empty))).append(c?Yt.empty:Yt.from(a.copy(Yt.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function Q5e(t){return function(e,r){let{$from:n,$to:a}=e.selection,s=n.blockRange(a,u=>u.childCount>0&&u.firstChild.type==t);if(!s)return!1;let o=s.startIndex;if(o==0)return!1;let l=s.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let u=c.lastChild&&c.lastChild.type==l.type,f=Yt.from(u?t.create():null),m=new hr(Yt.from(t.create(null,Yt.from(l.type.create(null,f)))),u?3:1,0),g=s.start,p=s.end;r(e.tr.step(new Ps(g-(u?3:1),p,g,p,m,1,!0)).scrollIntoView())}return!0}}var Z5e=Object.defineProperty,YQ=(t,e)=>{for(var r in e)Z5e(t,r,{get:e[r],enumerable:!0})};function GN(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:a}=r,{storedMarks:s}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return s},get selection(){return n},get doc(){return a},get tr(){return n=r.selection,a=r.doc,s=r.storedMarks,r}}}var YN=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:a}=r,s=this.buildProps(a);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...u)=>{const f=l(...u)(s);return!a.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(a),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,o=[],l=!!t,c=t||a.tr,u=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(c),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...v)=>{const w=this.buildProps(c,e),b=g(...v)(w);return o.push(b),f}])),run:u};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,a=t||r.tr,s=this.buildProps(a,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...u)=>c(...u)({...s,dispatch:void 0})])),chain:()=>this.createChain(a,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:a}=this,{view:s}=n,o={tr:t,editor:n,view:s,state:GN({state:a,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...u)=>c(...u)(o)]))}};return o}},eNe=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(a=>a.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(a=>a!==r):delete this.callbacks[e]),this}once(e,r){const n=(...a)=>{this.off(e,n),r.apply(this,a)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function KQ(t,e){const r=new QX(t);return e.forEach(n=>{n.steps.forEach(a=>{r.step(a)})}),r}var JQ=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&JQ(n)}return t};function Lw(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return JQ(r)}function rv(t,e,r){if(t instanceof Gh||t instanceof Yt)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,a=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Yt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(s){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:s});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",s),rv("",e,r)}if(a){if(r.errorOnInvalidContent){let o=!1,l="";const c=new RX({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:u=>(o=!0,l=typeof u=="string"?u:u.outerHTML,null)}]}})});if(r.slice?Yh.fromSchema(c).parseSlice(Lw(t),r.parseOptions):Yh.fromSchema(c).parse(Lw(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const s=Yh.fromSchema(e);return r.slice?s.parseSlice(Lw(t),r.parseOptions).content:s.parse(Lw(t),r.parseOptions)}return rv("",e,r)}function sO(t,e,r={},n={}){return rv(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function tNe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function rNe(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(a,s)=>{r(a)&&n.push({node:a,pos:s})}),n}function nNe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function KN(t){return e=>nNe(e.$from,t)}function Pr(t,e,r){return t.config[e]===void 0&&t.parent?Pr(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Pr(t.parent,e,r):null}):t.config[e]}function ED(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Pr(e,"addExtensions",r);return n?[e,...ED(n())]:e}).flat(10)}function DD(t,e){const r=Up.fromSchema(e).serializeFragment(t),a=document.implementation.createHTMLDocument().createElement("div");return a.appendChild(r),a.innerHTML}function XQ(t){return typeof t=="function"}function da(t,e=void 0,...r){return XQ(t)?e?t.bind(e)(...r):t(...r):t}function aNe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function nv(t){const e=t.filter(a=>a.type==="extension"),r=t.filter(a=>a.type==="node"),n=t.filter(a=>a.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function QQ(t){const e=[],{nodeExtensions:r,markExtensions:n}=nv(t),a=[...r,...n],s={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:a},c=Pr(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([g,p])=>{e.push({type:m,name:g,attribute:{...s,...p}})})})})}),a.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Pr(o,"addAttributes",l);if(!c)return;const u=c();Object.entries(u).forEach(([f,m])=>{const g={...s,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:f,attribute:g})})}),e}function Ai(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([a,s])=>{if(!n[a]){n[a]=s;return}if(a==="class"){const l=s?String(s).split(" "):[],c=n[a]?n[a].split(" "):[],u=l.filter(f=>!c.includes(f));n[a]=[...c,...u].join(" ")}else if(a==="style"){const l=s?s.split(";").map(f=>f.trim()).filter(Boolean):[],c=n[a]?n[a].split(";").map(f=>f.trim()).filter(Boolean):[],u=new Map;c.forEach(f=>{const[m,g]=f.split(":").map(p=>p.trim());u.set(m,g)}),l.forEach(f=>{const[m,g]=f.split(":").map(p=>p.trim());u.set(m,g)}),n[a]=Array.from(u.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else n[a]=s}),n},{})}function Rj(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Ai(r,n),{})}function iNe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function TF(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const a=e.reduce((s,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):iNe(r.getAttribute(o.name));return l==null?s:{...s,[o.name]:l}},{});return{...n,...a}}}}function MF(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&aNe(r)?!1:r!=null))}function sNe(t,e){var r;const n=QQ(t),{nodeExtensions:a,markExtensions:s}=nv(t),o=(r=a.find(u=>Pr(u,"topNode")))==null?void 0:r.name,l=Object.fromEntries(a.map(u=>{const f=n.filter(N=>N.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((N,k)=>{const S=Pr(k,"extendNodeSchema",m);return{...N,...S?S(u):{}}},{}),p=MF({...g,content:da(Pr(u,"content",m)),marks:da(Pr(u,"marks",m)),group:da(Pr(u,"group",m)),inline:da(Pr(u,"inline",m)),atom:da(Pr(u,"atom",m)),selectable:da(Pr(u,"selectable",m)),draggable:da(Pr(u,"draggable",m)),code:da(Pr(u,"code",m)),whitespace:da(Pr(u,"whitespace",m)),linebreakReplacement:da(Pr(u,"linebreakReplacement",m)),defining:da(Pr(u,"defining",m)),isolating:da(Pr(u,"isolating",m)),attrs:Object.fromEntries(f.map(N=>{var k,S;return[N.name,{default:(k=N==null?void 0:N.attribute)==null?void 0:k.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),v=da(Pr(u,"parseHTML",m));v&&(p.parseDOM=v.map(N=>TF(N,f)));const w=Pr(u,"renderHTML",m);w&&(p.toDOM=N=>w({node:N,HTMLAttributes:Rj(N,f)}));const b=Pr(u,"renderText",m);return b&&(p.toText=b),[u.name,p]})),c=Object.fromEntries(s.map(u=>{const f=n.filter(b=>b.type===u.name),m={name:u.name,options:u.options,storage:u.storage,editor:e},g=t.reduce((b,N)=>{const k=Pr(N,"extendMarkSchema",m);return{...b,...k?k(u):{}}},{}),p=MF({...g,inclusive:da(Pr(u,"inclusive",m)),excludes:da(Pr(u,"excludes",m)),group:da(Pr(u,"group",m)),spanning:da(Pr(u,"spanning",m)),code:da(Pr(u,"code",m)),attrs:Object.fromEntries(f.map(b=>{var N,k;return[b.name,{default:(N=b==null?void 0:b.attribute)==null?void 0:N.default,validate:(k=b==null?void 0:b.attribute)==null?void 0:k.validate}]}))}),v=da(Pr(u,"parseHTML",m));v&&(p.parseDOM=v.map(b=>TF(b,f)));const w=Pr(u,"renderHTML",m);return w&&(p.toDOM=b=>w({mark:b,HTMLAttributes:Rj(b,f)})),[u.name,p]}));return new RX({topNode:o,nodes:l,marks:c})}function oNe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function PD(t){return t.sort((r,n)=>{const a=Pr(r,"priority")||100,s=Pr(n,"priority")||100;return a>s?-1:a<s?1:0})}function ZQ(t){const e=PD(ED(t)),r=oNe(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function eZ(t,e,r){const{from:n,to:a}=e,{blockSeparator:s=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,a,(c,u,f,m)=>{var g;c.isBlock&&u>n&&(l+=s);const p=o==null?void 0:o[c.type.name];if(p)return f&&(l+=p({node:c,pos:u,parent:f,index:m,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)==null?void 0:g.slice(Math.max(n,u)-u,a-u))}),l}function lNe(t,e){const r={from:0,to:t.content.size};return eZ(t,r,e)}function tZ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function Bf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function rZ(t,e){const r=Bf(e,t.schema),{from:n,to:a,empty:s}=t.selection,o=[];s?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,a,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function ns(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function cNe(t,e){const r=ns(e,t.schema),{from:n,to:a}=t.selection,s=[];t.doc.nodesBetween(n,a,l=>{s.push(l)});const o=s.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function JN(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function nZ(t,e){const r=JN(typeof e=="string"?e:e.name,t.schema);return r==="node"?cNe(t,e):r==="mark"?rZ(t,e):{}}function uNe(t,e=JSON.stringify){const r={};return t.filter(n=>{const a=e(n);return Object.prototype.hasOwnProperty.call(r,a)?!1:r[a]=!0})}function dNe(t){const e=uNe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((s,o)=>o!==n).some(s=>r.oldRange.from>=s.oldRange.from&&r.oldRange.to<=s.oldRange.to&&r.newRange.from>=s.newRange.from&&r.newRange.to<=s.newRange.to))}function aZ(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((a,s)=>{const o=[];if(a.ranges.length)a.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[s];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const u=e.slice(s).map(l,-1),f=e.slice(s).map(c),m=e.invert().map(u,-1),g=e.invert().map(f);n.push({oldRange:{from:m,to:g},newRange:{from:u,to:f}})})}),dNe(n)}function LD(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Ij(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(a=>r.strict?e[a]===t[a]:LD(e[a])?e[a].test(t[a]):e[a]===t[a]):!0}function iZ(t,e,r={}){return t.find(n=>n.type===e&&Ij(Object.fromEntries(Object.keys(r).map(a=>[a,n.attrs[a]])),r))}function OF(t,e,r={}){return!!iZ(t,e,r)}function RD(t,e,r){var n;if(!t||!e)return;let a=t.parent.childAfter(t.parentOffset);if((!a.node||!a.node.marks.some(f=>f.type===e))&&(a=t.parent.childBefore(t.parentOffset)),!a.node||!a.node.marks.some(f=>f.type===e)||(r=r||((n=a.node.marks[0])==null?void 0:n.attrs),!iZ([...a.node.marks],e,r)))return;let o=a.index,l=t.start()+a.offset,c=o+1,u=l+a.node.nodeSize;for(;o>0&&OF([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&OF([...t.parent.child(c).marks],e,r);)u+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:u}}function ID(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(a=>{const s=r.resolve(t),o=RD(s,a.type);o&&n.push({mark:a,...o})}):r.nodesBetween(t,e,(a,s)=>{!a||(a==null?void 0:a.nodeSize)===void 0||n.push(...a.marks.map(o=>({from:s,to:s+a.nodeSize,mark:o})))}),n}var fNe=(t,e,r,n=20)=>{const a=t.doc.resolve(r);let s=n,o=null;for(;s>0&&o===null;){const l=a.node(s);(l==null?void 0:l.type.name)===e?o=l:s-=1}return[o,s]};function i_(t,e){return e.nodes[t]||e.marks[t]||null}function $2(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const a=t.find(s=>s.type===e&&s.name===n);return a?a.attribute.keepOnSplit:!1}))}var hNe=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(a,s,o,l)=>{var c,u;const f=((u=(c=a.type.spec).toText)==null?void 0:u.call(c,{node:a,pos:s,parent:o,index:l}))||a.textContent||"%leaf%";r+=a.isAtom&&!a.isText?f:f.slice(0,Math.max(0,n-s))}),r};function oO(t,e,r={}){const{empty:n,ranges:a}=t.selection,s=e?Bf(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>s?s.name===m.type.name:!0).find(m=>Ij(m.attrs,r,{strict:!1}));let o=0;const l=[];if(a.forEach(({$from:m,$to:g})=>{const p=m.pos,v=g.pos;t.doc.nodesBetween(p,v,(w,b)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(p,b),k=Math.min(v,b+w.nodeSize),S=k-N;o+=S,l.push(...w.marks.map(A=>({mark:A,from:N,to:k})))})}),o===0)return!1;const c=l.filter(m=>s?s.name===m.mark.type.name:!0).filter(m=>Ij(m.mark.attrs,r,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),u=l.filter(m=>s?m.mark.type!==s&&m.mark.type.excludes(s):!0).reduce((m,g)=>m+g.to-g.from,0);return(c>0?c+u:c)>=o}function om(t,e,r={}){const{from:n,to:a,empty:s}=t.selection,o=e?ns(e,t.schema):null,l=[];t.doc.nodesBetween(n,a,(m,g)=>{if(m.isText)return;const p=Math.max(n,g),v=Math.min(a,g+m.nodeSize);l.push({node:m,from:p,to:v})});const c=a-n,u=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Ij(m.node.attrs,r,{strict:!1}));return s?!!u.length:u.reduce((m,g)=>m+g.to-g.from,0)>=c}function mNe(t,e,r={}){if(!e)return om(t,null,r)||oO(t,null,r);const n=JN(e,t.schema);return n==="node"?om(t,e,r):n==="mark"?oO(t,e,r):!1}var pNe=(t,e)=>{const{$from:r,$to:n,$anchor:a}=t.selection;if(e){const s=KN(l=>l.type.name===e)(t.selection);if(!s)return!1;const o=t.doc.resolve(s.pos+1);return a.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},gNe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function EF(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function DF(t,e){const{nodeExtensions:r}=nv(e),n=r.find(o=>o.name===t);if(!n)return!1;const a={name:n.name,options:n.options,storage:n.storage},s=da(Pr(n,"group",a));return typeof s!="string"?!1:s.split(" ").includes("list")}function XN(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let a=!0;return t.content.forEach(s=>{a!==!1&&(XN(s,{ignoreWhitespace:r,checkChildren:e})||(a=!1))}),a}return!1}function sZ(t){return t instanceof Ir}function oZ(t){return t instanceof rn}function ap(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function lZ(t,e=null){if(!e)return null;const r=pn.atStart(t),n=pn.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const a=r.from,s=n.to;return e==="all"?rn.create(t,ap(0,a,s),ap(t.content.size,a,s)):rn.create(t,ap(e,a,s),ap(e,a,s))}function xNe(t,e,r){const n=t.steps.length-1;if(n<e)return;const a=t.steps[n];if(!(a instanceof Es||a instanceof Ps))return;const s=t.mapping.maps[n];let o=0;s.forEach((l,c,u,f)=>{o===0&&(o=f)}),t.setSelection(pn.near(t.doc.resolve(o),r))}var QN=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},yNe=(t,e)=>{if(LD(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Rw(t){var e;const{editor:r,from:n,to:a,text:s,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const u=c.state.doc.resolve(n);if(u.parent.type.spec.code||(e=u.nodeBefore||u.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let f=!1;const m=hNe(u)+s;return o.forEach(g=>{if(f)return;const p=yNe(m,g.find);if(!p)return;const v=c.state.tr,w=GN({state:c.state,transaction:v}),b={from:n-(p[0].length-s.length),to:a},{commands:N,chain:k,can:S}=new YN({editor:r,state:w});g.handler({state:w,range:b,match:p,commands:N,chain:k,can:S})===null||!v.steps.length||(g.undoable&&v.setMeta(l,{transform:v,from:n,to:a,text:s}),c.dispatch(v),f=!0)}),f}function bNe(t){const{editor:e,rules:r}=t,n=new Mi({state:{init(){return null},apply(a,s,o){const l=a.getMeta(n);if(l)return l;const c=a.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=DD(Yt.from(f),o.schema);const{from:m}=c,g=m+f.length;Rw({editor:e,from:m,to:g,text:f,rules:r,plugin:n})}),a.selectionSet||a.docChanged?null:s}},props:{handleTextInput(a,s,o,l){return Rw({editor:e,from:s,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:a=>(setTimeout(()=>{const{$cursor:s}=a.state.selection;s&&Rw({editor:e,from:s.pos,to:s.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(a,s){if(s.key!=="Enter")return!1;const{$cursor:o}=a.state.selection;return o?Rw({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function vNe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Iw(t){return vNe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function cZ(t,e){const r={...t};return Iw(t)&&Iw(e)&&Object.keys(e).forEach(n=>{Iw(e[n])&&Iw(t[n])?r[n]=cZ(t[n],e[n]):r[n]=e[n]}),r}var FD=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...da(Pr(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...da(Pr(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>cZ(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Hf=class uZ extends FD{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new uZ(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,a=e.state.selection.$from;if(a.pos===a.end()){const o=a.marks();if(!!!o.find(u=>(u==null?void 0:u.type.name)===r.name))return!1;const c=o.find(u=>(u==null?void 0:u.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",a.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function wNe(t){return typeof t=="number"}var jNe=class{constructor(t){this.find=t.find,this.handler=t.handler}},NNe=(t,e,r)=>{if(LD(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(a=>{const s=[a.text];return s.index=a.index,s.input=t,s.data=a.data,a.replaceWith&&(a.text.includes(a.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),s.push(a.replaceWith)),s}):[]};function SNe(t){const{editor:e,state:r,from:n,to:a,rule:s,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:u,can:f}=new YN({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,a,(p,v)=>{var w,b,N,k,S;if((b=(w=p.type)==null?void 0:w.spec)!=null&&b.code||!(p.isText||p.isTextblock||p.isInline))return;const A=(S=(k=(N=p.content)==null?void 0:N.size)!=null?k:p.nodeSize)!=null?S:0,_=Math.max(n,v),M=Math.min(a,v+A);if(_>=M)return;const R=p.isText?p.text||"":p.textBetween(_-v,M-v,void 0,"");NNe(R,s.find,o).forEach(I=>{if(I.index===void 0)return;const B=_+I.index+1,D=B+I[0].length,E={from:r.tr.mapping.map(B),to:r.tr.mapping.map(D)},H=s.handler({state:r,range:E,match:I,commands:c,chain:u,can:f,pasteEvent:o,dropEvent:l});m.push(H)})}),m.every(p=>p!==null)}var Fw=null,kNe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function CNe(t){const{editor:e,rules:r}=t;let n=null,a=!1,s=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:m,to:g,rule:p,pasteEvt:v})=>{const w=f.tr,b=GN({state:f,transaction:w});if(!(!SNe({editor:e,state:b,from:Math.max(m-1,0),to:g.b-1,rule:p,pasteEvent:v,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(f=>new Mi({view(m){const g=v=>{var w;n=(w=m.dom.parentElement)!=null&&w.contains(v.target)?m.dom.parentElement:null,n&&(Fw=e)},p=()=>{Fw&&(Fw=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",p),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",p)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(s=n===m.dom.parentElement,l=g,!s){const p=Fw;p!=null&&p.isEditable&&setTimeout(()=>{const v=p.state.selection;v&&p.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,g)=>{var p;const v=(p=g.clipboardData)==null?void 0:p.getData("text/html");return o=g,a=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,p)=>{const v=m[0],w=v.getMeta("uiEvent")==="paste"&&!a,b=v.getMeta("uiEvent")==="drop"&&!s,N=v.getMeta("applyPasteRules"),k=!!N;if(!w&&!b&&!k)return;if(k){let{text:_}=N;typeof _=="string"?_=_:_=DD(Yt.from(_),p.schema);const{from:M}=N,R=M+_.length,L=kNe(_);return c({rule:f,state:p,from:M,to:{b:R},pasteEvt:L})}const S=g.doc.content.findDiffStart(p.doc.content),A=g.doc.content.findDiffEnd(p.doc.content);if(!(!wNe(S)||!A||S===A.b))return c({rule:f,state:p,from:S,to:A,pasteEvt:o})}}))}var ZN=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=ZQ(t),this.schema=sNe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)},n=Pr(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return PD([...this.extensions].reverse()).flatMap(n=>{const a={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:i_(n.name,this.schema)},s=[],o=Pr(n,"addKeyboardShortcuts",a);let l={};if(n.type==="mark"&&Pr(n,"exitable",a)&&(l.ArrowRight=()=>Hf.handleExit({editor:t,mark:n})),o){const g=Object.fromEntries(Object.entries(o()).map(([p,v])=>[p,()=>v({editor:t})]));l={...l,...g}}const c=E5e(l);s.push(c);const u=Pr(n,"addInputRules",a);if(EF(n,t.options.enableInputRules)&&u){const g=u();if(g&&g.length){const p=bNe({editor:t,rules:g}),v=Array.isArray(p)?p:[p];s.push(...v)}}const f=Pr(n,"addPasteRules",a);if(EF(n,t.options.enablePasteRules)&&f){const g=f();if(g&&g.length){const p=CNe({editor:t,rules:g});s.push(...p)}}const m=Pr(n,"addProseMirrorPlugins",a);if(m){const g=m();s.push(...g)}return s})}get attributes(){return QQ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=nv(this.extensions);return Object.fromEntries(e.filter(r=>!!Pr(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ns(r.name,this.schema)},s=Pr(r,"addNodeView",a);if(!s)return[];const o=(l,c,u,f,m)=>{const g=Rj(l,n);return s()({node:l,view:c,getPos:u,decorations:f,innerDecorations:m,editor:t,extension:r,HTMLAttributes:g})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=nv(this.extensions);return Object.fromEntries(e.filter(r=>!!Pr(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),a={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:Bf(r.name,this.schema)},s=Pr(r,"addMarkView",a);if(!s)return[];const o=(l,c,u)=>{const f=Rj(l,n);return s()({mark:l,view:c,inline:u,editor:t,extension:r,HTMLAttributes:f,updateAttributes:m=>{zSe(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)};e.type==="mark"&&((r=da(Pr(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const a=Pr(e,"onBeforeCreate",n),s=Pr(e,"onCreate",n),o=Pr(e,"onUpdate",n),l=Pr(e,"onSelectionUpdate",n),c=Pr(e,"onTransaction",n),u=Pr(e,"onFocus",n),f=Pr(e,"onBlur",n),m=Pr(e,"onDestroy",n);a&&this.editor.on("beforeCreate",a),s&&this.editor.on("create",s),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),u&&this.editor.on("focus",u),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};ZN.resolve=ZQ;ZN.sort=PD;ZN.flatten=ED;var _Ne={};YQ(_Ne,{ClipboardTextSerializer:()=>fZ,Commands:()=>pZ,Delete:()=>gZ,Drop:()=>xZ,Editable:()=>yZ,FocusEvents:()=>vZ,Keymap:()=>wZ,Paste:()=>jZ,Tabindex:()=>NZ,focusEventsPluginKey:()=>bZ});var Ea=class dZ extends FD{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new dZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},fZ=Ea.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Mi({key:new Rs("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:a}=e,{ranges:s}=a,o=Math.min(...s.map(f=>f.$from.pos)),l=Math.max(...s.map(f=>f.$to.pos)),c=tZ(r);return eZ(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),hZ={};YQ(hZ,{blur:()=>ANe,clearContent:()=>TNe,clearNodes:()=>MNe,command:()=>ONe,createParagraphNear:()=>ENe,cut:()=>DNe,deleteCurrentNode:()=>PNe,deleteNode:()=>LNe,deleteRange:()=>RNe,deleteSelection:()=>INe,enter:()=>FNe,exitCode:()=>$Ne,extendMarkRange:()=>BNe,first:()=>HNe,focus:()=>qNe,forEach:()=>UNe,insertContent:()=>WNe,insertContentAt:()=>GNe,joinBackward:()=>JNe,joinDown:()=>KNe,joinForward:()=>XNe,joinItemBackward:()=>QNe,joinItemForward:()=>ZNe,joinTextblockBackward:()=>eSe,joinTextblockForward:()=>tSe,joinUp:()=>YNe,keyboardShortcut:()=>nSe,lift:()=>aSe,liftEmptyBlock:()=>iSe,liftListItem:()=>sSe,newlineInCode:()=>oSe,resetAttributes:()=>lSe,scrollIntoView:()=>cSe,selectAll:()=>uSe,selectNodeBackward:()=>dSe,selectNodeForward:()=>fSe,selectParentNode:()=>hSe,selectTextblockEnd:()=>mSe,selectTextblockStart:()=>pSe,setContent:()=>gSe,setMark:()=>ySe,setMeta:()=>bSe,setNode:()=>vSe,setNodeSelection:()=>wSe,setTextSelection:()=>jSe,sinkListItem:()=>NSe,splitBlock:()=>SSe,splitListItem:()=>kSe,toggleList:()=>CSe,toggleMark:()=>_Se,toggleNode:()=>ASe,toggleWrap:()=>TSe,undoInputRule:()=>MSe,unsetAllMarks:()=>OSe,unsetMark:()=>ESe,updateAttributes:()=>DSe,wrapIn:()=>PSe,wrapInList:()=>LSe});var ANe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),TNe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),MNe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:a}=n;return r&&a.forEach(({$from:s,$to:o})=>{t.doc.nodesBetween(s.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:u,mapping:f}=e,m=u.resolve(f.map(c)),g=u.resolve(f.map(c+l.nodeSize)),p=m.blockRange(g);if(!p)return;const v=Ox(p);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(p.start,w)}(v||v===0)&&e.lift(p,v)})}),!0},ONe=t=>e=>t(e),ENe=()=>({state:t,dispatch:e})=>UQ(t,e),DNe=(t,e)=>({editor:r,tr:n})=>{const{state:a}=r,s=a.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,s.content),n.setSelection(new rn(n.doc.resolve(Math.max(o-1,0)))),!0},PNe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const a=t.selection.$anchor;for(let s=a.depth;s>0;s-=1)if(a.node(s).type===n.type){if(e){const l=a.before(s),c=a.after(s);t.delete(l,c).scrollIntoView()}return!0}return!1},LNe=t=>({tr:e,state:r,dispatch:n})=>{const a=ns(t,r.schema),s=e.selection.$anchor;for(let o=s.depth;o>0;o-=1)if(s.node(o).type===a){if(n){const c=s.before(o),u=s.after(o);e.delete(c,u).scrollIntoView()}return!0}return!1},RNe=t=>({tr:e,dispatch:r})=>{const{from:n,to:a}=t;return r&&e.delete(n,a),!0},INe=()=>({state:t,dispatch:e})=>_D(t,e),FNe=()=>({commands:t})=>t.keyboardShortcut("Enter"),$Ne=()=>({state:t,dispatch:e})=>F5e(t,e),BNe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const s=Bf(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:u,to:f}=l;if(a){const m=RD(c,s,e);if(m&&m.from<=u&&m.to>=f){const g=rn.create(o,m.from,m.to);r.setSelection(g)}}return!0},HNe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function zNe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function $D(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var qNe=(t=null,e={})=>({editor:r,view:n,tr:a,dispatch:s})=>{e={scrollIntoView:!0,...e};const o=()=>{($D()||zNe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(s&&t===null&&!oZ(r.state.selection))return o(),!0;const l=lZ(a.doc,t)||r.state.selection,c=r.state.selection.eq(l);return s&&(c||a.setSelection(l),c&&a.storedMarks&&a.setStoredMarks(a.storedMarks),o()),!0},UNe=(t,e)=>r=>t.every((n,a)=>e(n,{...r,index:a})),WNe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),VNe=t=>!("type"in t),GNe=(t,e,r)=>({tr:n,dispatch:a,editor:s})=>{var o;if(a){r={parseOptions:s.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=b=>{s.emit("contentError",{editor:s,error:b,disableCollaboration:()=>{"collaboration"in s.storage&&typeof s.storage.collaboration=="object"&&s.storage.collaboration&&(s.storage.collaboration.isDisabled=!0)}})},u={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!s.options.enableContentCheck&&s.options.emitContentError)try{rv(e,s.schema,{parseOptions:u,errorOnInvalidContent:!0})}catch(b){c(b)}try{l=rv(e,s.schema,{parseOptions:u,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:s.options.enableContentCheck})}catch(b){return c(b),!1}let{from:f,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,p=!0;if((VNe(l)?l:[l]).forEach(b=>{b.check(),g=g?b.isText&&b.marks.length===0:!1,p=p?b.isBlock:!1}),f===m&&p){const{parent:b}=n.doc.resolve(f);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(f-=1,m+=1)}let w;if(g){if(Array.isArray(e))w=e.map(b=>b.text||"").join("");else if(e instanceof Yt){let b="";e.forEach(N=>{N.text&&(b+=N.text)}),w=b}else typeof e=="object"&&e&&e.text?w=e.text:w=e;n.insertText(w,f,m)}else{w=l;const b=n.doc.resolve(f),N=b.node(),k=b.parentOffset===0,S=N.isText||N.isTextblock,A=N.content.size>0;k&&S&&A&&(f=Math.max(0,f-1)),n.replaceWith(f,m,w)}r.updateSelection&&xNe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:w})}return!0},YNe=()=>({state:t,dispatch:e})=>L5e(t,e),KNe=()=>({state:t,dispatch:e})=>R5e(t,e),JNe=()=>({state:t,dispatch:e})=>IQ(t,e),XNe=()=>({state:t,dispatch:e})=>HQ(t,e),QNe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=HN(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},ZNe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=HN(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},eSe=()=>({state:t,dispatch:e})=>D5e(t,e),tSe=()=>({state:t,dispatch:e})=>P5e(t,e);function mZ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function rSe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,a,s,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))a=!0;else if(/^s(hift)?$/i.test(c))s=!0;else if(/^mod$/i.test(c))$D()||mZ()?o=!0:a=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),a&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),s&&(r=`Shift-${r}`),r}var nSe=t=>({editor:e,view:r,tr:n,dispatch:a})=>{const s=rSe(t).split(/-(?!$)/),o=s.find(u=>!["Alt","Ctrl","Meta","Shift"].includes(u)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:s.includes("Alt"),ctrlKey:s.includes("Ctrl"),metaKey:s.includes("Meta"),shiftKey:s.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",u=>u(r,l))});return c==null||c.steps.forEach(u=>{const f=u.map(n.mapping);f&&a&&n.maybeStep(f)}),!0},aSe=(t,e={})=>({state:r,dispatch:n})=>{const a=ns(t,r.schema);return om(r,a,e)?I5e(r,n):!1},iSe=()=>({state:t,dispatch:e})=>WQ(t,e),sSe=t=>({state:e,dispatch:r})=>{const n=ns(t,e.schema);return K5e(n)(e,r)},oSe=()=>({state:t,dispatch:e})=>qQ(t,e);function PF(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,a)=>(r.includes(a)||(n[a]=t[a]),n),{})}var lSe=(t,e)=>({tr:r,state:n,dispatch:a})=>{let s=null,o=null;const l=JN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(s=ns(t,n.schema)),l==="mark"&&(o=Bf(t,n.schema)),a&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(u,f)=>{s&&s===u.type&&r.setNodeMarkup(f,void 0,PF(u.attrs,e)),o&&u.marks.length&&u.marks.forEach(m=>{o===m.type&&r.addMark(f,f+u.nodeSize,o.create(PF(m.attrs,e)))})})}),!0):!1},cSe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),uSe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Ol(t.doc);t.setSelection(r)}return!0},dSe=()=>({state:t,dispatch:e})=>$Q(t,e),fSe=()=>({state:t,dispatch:e})=>zQ(t,e),hSe=()=>({state:t,dispatch:e})=>H5e(t,e),mSe=()=>({state:t,dispatch:e})=>U5e(t,e),pSe=()=>({state:t,dispatch:e})=>q5e(t,e),gSe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:a,tr:s,dispatch:o,commands:l})=>{const{doc:c}=s;if(n.preserveWhitespace!=="full"){const u=sO(t,a.schema,n,{errorOnInvalidContent:e??a.options.enableContentCheck});return o&&s.replaceWith(0,c.content.size,u).setMeta("preventUpdate",!r),!0}return o&&s.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??a.options.enableContentCheck})};function xSe(t,e,r){var n;const{selection:a}=e;let s=null;if(oZ(a)&&(s=a.$cursor),s){const l=(n=t.storedMarks)!=null?n:s.marks();return s.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(u=>u.type.excludes(r)))}const{ranges:o}=a;return o.some(({$from:l,$to:c})=>{let u=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,m,g)=>{if(u)return!1;if(f.isInline){const p=!g||g.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(r));u=p&&v}return!u}),u})}var ySe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{const{selection:s}=r,{empty:o,ranges:l}=s,c=Bf(t,n.schema);if(a)if(o){const u=rZ(n,c);r.addStoredMark(c.create({...u,...e}))}else l.forEach(u=>{const f=u.$from.pos,m=u.$to.pos;n.doc.nodesBetween(f,m,(g,p)=>{const v=Math.max(p,f),w=Math.min(p+g.nodeSize,m);g.marks.find(N=>N.type===c)?g.marks.forEach(N=>{c===N.type&&r.addMark(v,w,c.create({...N.attrs,...e}))}):r.addMark(v,w,c.create(e))})});return xSe(n,r,c)},bSe=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),vSe=(t,e={})=>({state:r,dispatch:n,chain:a})=>{const s=ns(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),s.isTextblock?a().command(({commands:l})=>AF(s,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>AF(s,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},wSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,a=ap(t,0,n.content.size),s=Ir.create(n,a);e.setSelection(s)}return!0},jSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:a,to:s}=typeof t=="number"?{from:t,to:t}:t,o=rn.atStart(n).from,l=rn.atEnd(n).to,c=ap(a,o,l),u=ap(s,o,l),f=rn.create(n,c,u);e.setSelection(f)}return!0},NSe=t=>({state:e,dispatch:r})=>{const n=ns(t,e.schema);return Q5e(n)(e,r)};function LF(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(a=>e==null?void 0:e.includes(a.type.name));t.tr.ensureMarks(n)}}var SSe=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:a})=>{const{selection:s,doc:o}=e,{$from:l,$to:c}=s,u=a.extensionManager.attributes,f=$2(u,l.node().type.name,l.node().attrs);if(s instanceof Ir&&s.node.isBlock)return!l.parentOffset||!jf(o,l.pos)?!1:(n&&(t&&LF(r,a.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:tNe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let p=m&&g?[{type:g,attrs:f}]:void 0,v=jf(e.doc,e.mapping.map(l.pos),1,p);if(!p&&!v&&jf(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(v=!0,p=g?[{type:g,attrs:f}]:void 0),n){if(v&&(s instanceof rn&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,p),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const w=e.mapping.map(l.before()),b=e.doc.resolve(w);l.node(-1).canReplaceWith(b.index(),b.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&LF(r,a.extensionManager.splittableMarks),e.scrollIntoView()}return v},kSe=(t,e={})=>({tr:r,state:n,dispatch:a,editor:s})=>{var o;const l=ns(t,n.schema),{$from:c,$to:u}=n.selection,f=n.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(u))return!1;const m=c.node(-1);if(m.type!==l)return!1;const g=s.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(a){let N=Yt.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let L=c.depth-k;L>=c.depth-3;L-=1)N=Yt.from(c.node(L).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,A={...$2(g,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(A))||void 0;N=N.append(Yt.from(l.createAndFill(null,_)||void 0));const M=c.before(c.depth-(k-1));r.replace(M,c.after(-S),new hr(N,4-k,0));let R=-1;r.doc.nodesBetween(M,r.doc.content.size,(L,I)=>{if(R>-1)return!1;L.isTextblock&&L.content.size===0&&(R=I+1)}),R>-1&&r.setSelection(rn.near(r.doc.resolve(R))),r.scrollIntoView()}return!0}const p=u.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...$2(g,m.type.name,m.attrs),...e},w={...$2(g,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,u.pos);const b=p?[{type:l,attrs:v},{type:p,attrs:w}]:[{type:l,attrs:v}];if(!jf(r.doc,c.pos,2))return!1;if(a){const{selection:N,storedMarks:k}=n,{splittableMarks:S}=s.extensionManager,A=k||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,b).scrollIntoView(),!A||!a)return!0;const _=A.filter(M=>S.includes(M.type.name));r.ensureMarks(_)}return!0},s_=(t,e)=>{const r=KN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&dm(t.doc,r.pos)&&t.join(r.pos),!0},o_=(t,e)=>{const r=KN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const a=t.doc.nodeAt(n);return r.node.type===(a==null?void 0:a.type)&&dm(t.doc,n)&&t.join(n),!0},CSe=(t,e,r,n={})=>({editor:a,tr:s,state:o,dispatch:l,chain:c,commands:u,can:f})=>{const{extensions:m,splittableMarks:g}=a.extensionManager,p=ns(t,o.schema),v=ns(e,o.schema),{selection:w,storedMarks:b}=o,{$from:N,$to:k}=w,S=N.blockRange(k),A=b||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const _=KN(M=>DF(M.type.name,m))(w);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===p)return u.liftListItem(v);if(DF(_.node.type.name,m)&&p.validContent(_.node.content)&&l)return c().command(()=>(s.setNodeMarkup(_.pos,p),!0)).command(()=>s_(s,p)).command(()=>o_(s,p)).run()}return!r||!A||!l?c().command(()=>f().wrapInList(p,n)?!0:u.clearNodes()).wrapInList(p,n).command(()=>s_(s,p)).command(()=>o_(s,p)).run():c().command(()=>{const M=f().wrapInList(p,n),R=A.filter(L=>g.includes(L.type.name));return s.ensureMarks(R),M?!0:u.clearNodes()}).wrapInList(p,n).command(()=>s_(s,p)).command(()=>o_(s,p)).run()},_Se=(t,e={},r={})=>({state:n,commands:a})=>{const{extendEmptyMarkRange:s=!1}=r,o=Bf(t,n.schema);return oO(n,o,e)?a.unsetMark(o,{extendEmptyMarkRange:s}):a.setMark(o,e)},ASe=(t,e,r={})=>({state:n,commands:a})=>{const s=ns(t,n.schema),o=ns(e,n.schema),l=om(n,s,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?a.setNode(o,c):a.setNode(s,{...c,...r})},TSe=(t,e={})=>({state:r,commands:n})=>{const a=ns(t,r.schema);return om(r,a,e)?n.lift(a):n.wrapIn(a,e)},MSe=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const a=r[n];let s;if(a.spec.isInputRules&&(s=a.getState(t))){if(e){const o=t.tr,l=s.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(s.text){const c=o.doc.resolve(s.from).marks();o.replaceWith(s.from,s.to,t.schema.text(s.text,c))}else o.delete(s.from,s.to)}return!0}}return!1},OSe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:a}=r;return n||e&&a.forEach(s=>{t.removeMark(s.$from.pos,s.$to.pos)}),!0},ESe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{var s;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=Bf(t,n.schema),{$from:u,empty:f,ranges:m}=l;if(!a)return!0;if(f&&o){let{from:g,to:p}=l;const v=(s=u.marks().find(b=>b.type===c))==null?void 0:s.attrs,w=RD(u,c,v);w&&(g=w.from,p=w.to),r.removeMark(g,p,c)}else m.forEach(g=>{r.removeMark(g.$from.pos,g.$to.pos,c)});return r.removeStoredMark(c),!0},DSe=(t,e={})=>({tr:r,state:n,dispatch:a})=>{let s=null,o=null;const l=JN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(s=ns(t,n.schema)),l==="mark"&&(o=Bf(t,n.schema)),a&&r.selection.ranges.forEach(c=>{const u=c.$from.pos,f=c.$to.pos;let m,g,p,v;r.selection.empty?n.doc.nodesBetween(u,f,(w,b)=>{s&&s===w.type&&(p=Math.max(b,u),v=Math.min(b+w.nodeSize,f),m=b,g=w)}):n.doc.nodesBetween(u,f,(w,b)=>{b<u&&s&&s===w.type&&(p=Math.max(b,u),v=Math.min(b+w.nodeSize,f),m=b,g=w),b>=u&&b<=f&&(s&&s===w.type&&r.setNodeMarkup(b,void 0,{...w.attrs,...e}),o&&w.marks.length&&w.marks.forEach(N=>{if(o===N.type){const k=Math.max(b,u),S=Math.min(b+w.nodeSize,f);r.addMark(k,S,o.create({...N.attrs,...e}))}}))}),g&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(w=>{o===w.type&&r.addMark(p,v,o.create({...w.attrs,...e}))}))}),!0):!1},PSe=(t,e={})=>({state:r,dispatch:n})=>{const a=ns(t,r.schema);return W5e(a,e)(r,n)},LSe=(t,e={})=>({state:r,dispatch:n})=>{const a=ns(t,r.schema);return V5e(a,e)(r,n)},pZ=Ea.create({name:"commands",addCommands(){return{...hZ}}}),gZ=Ea.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,a;const s=()=>{var o,l,c,u;if((u=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?u:t.getMeta("y-sync$"))return;const f=KQ(t.before,[t,...e]);aZ(f).forEach(p=>{f.mapping.mapResult(p.oldRange.from).deletedAfter&&f.mapping.mapResult(p.oldRange.to).deletedBefore&&f.before.nodesBetween(p.oldRange.from,p.oldRange.to,(v,w)=>{const b=w+v.nodeSize-2,N=p.oldRange.from<=w&&b<=p.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:w,to:b,newFrom:f.mapping.map(w),newTo:f.mapping.map(b),deletedRange:p.oldRange,newRange:p.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:f})})});const g=f.mapping;f.steps.forEach((p,v)=>{var w,b;if(p instanceof au){const N=g.slice(v).map(p.from,-1),k=g.slice(v).map(p.to),S=g.invert().map(N,-1),A=g.invert().map(k),_=(w=f.doc.nodeAt(N-1))==null?void 0:w.marks.some(R=>R.eq(p.mark)),M=(b=f.doc.nodeAt(k))==null?void 0:b.marks.some(R=>R.eq(p.mark));this.editor.emit("delete",{type:"mark",mark:p.mark,from:p.from,to:p.to,deletedRange:{from:S,to:A},newRange:{from:N,to:k},partial:!!(M||_),editor:this.editor,transaction:t,combinedTransform:f})}})};(a=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||a?setTimeout(s,0):s()}}),xZ=Ea.create({name:"drop",addProseMirrorPlugins(){return[new Mi({key:new Rs("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),yZ=Ea.create({name:"editable",addProseMirrorPlugins(){return[new Mi({key:new Rs("editable"),props:{editable:()=>this.editor.options.editable}})]}}),bZ=new Rs("focusEvents"),vZ=Ea.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Mi({key:bZ,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),wZ=Ea.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:u}=l,{empty:f,$anchor:m}=c,{pos:g,parent:p}=m,v=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,w=v.parent.type.spec.isolating,b=m.pos-m.parentOffset,N=w&&v.parent.childCount===1?b===m.pos:pn.atStart(u).from===g;return!f||!p.type.isTextblock||p.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},a={...n},s={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return $D()||mZ()?s:a},addProseMirrorPlugins(){return[new Mi({key:new Rs("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(w=>w.getMeta("composition")))return;const n=t.some(w=>w.docChanged)&&!e.doc.eq(r.doc),a=t.some(w=>w.getMeta("preventClearDocument"));if(!n||a)return;const{empty:s,from:o,to:l}=e.selection,c=pn.atStart(e.doc).from,u=pn.atEnd(e.doc).to;if(s||!(o===c&&l===u)||!XN(r.doc))return;const g=r.tr,p=GN({state:r,transaction:g}),{commands:v}=new YN({editor:this.editor,state:p});if(v.clearNodes(),!!g.steps.length)return g}})]}}),jZ=Ea.create({name:"paste",addProseMirrorPlugins(){return[new Mi({key:new Rs("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),NZ=Ea.create({name:"tabindex",addProseMirrorPlugins(){return[new Mi({key:new Rs("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),RSe=class Q0{constructor(e,r,n=!1,a=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=a}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You cant set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new Q0(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new Q0(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new Q0(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const a=r.isBlock&&!r.isTextblock,s=r.isAtom&&!r.isText,o=this.pos+n+(s?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!a&&l.depth<=this.depth)return;const c=new Q0(l,this.editor,a,a?r:null);a&&(c.actualDepth=this.depth+1),e.push(new Q0(l,this.editor,a,a?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,a=this.parent;for(;a&&!n;){if(a.node.type.name===e)if(Object.keys(r).length>0){const s=a.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(s[c]!==r[c])break}}else n=a;a=a.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let a=[];if(!this.children||this.children.length===0)return a;const s=Object.keys(r);return this.children.forEach(o=>{n&&a.length>0||(o.node.type.name===e&&s.every(c=>r[c]===o.node.attrs[c])&&a.push(o),!(n&&a.length>0)&&(a=a.concat(o.querySelectorAll(e,r,n))))}),a}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},ISe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function FSe(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const a=document.createElement("style");return e&&a.setAttribute("nonce",e),a.setAttribute("data-tiptap-style",""),a.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(a),a}var $Se=class extends eNe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:a,moved:s})=>this.options.onDrop(n,a,s)),this.on("paste",({event:n,slice:a})=>this.options.onPaste(n,a)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=lZ(e,this.options.autofocus);this.editorState=og.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=FSe(ISe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=XQ(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(a=>{const s=typeof a=="string"?`${a}$`:a.key;r=r.filter(o=>!o.key.startsWith(s))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[yZ,fZ.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),pZ,vZ,wZ,NZ,xZ,jZ,gZ].filter(a=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[a.name]!==!1:!0):[],...this.options.extensions].filter(a=>["extension","node","mark"].includes(a==null?void 0:a.type));this.extensionManager=new ZN(n,this)}createCommandManager(){this.commandManager=new YN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=sO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=sO(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new PQ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(u=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(u)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),a=r.includes(t),s=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!a)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(u=>u.getMeta("focus")||u.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(u=>u.docChanged)||s.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return nZ(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return mNe(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return DD(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return lNe(this.state.doc,{blockSeparator:e,textSerializers:{...tZ(this.schema),...r}})}get isEmpty(){return XN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new RSe(e,this)}get $doc(){return this.$pos(0)}};function Ep(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=da(t.getAttributes,void 0,n);if(a===!1||a===null)return null;const{tr:s}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),u=r.from+l.indexOf(o),f=u+o.length;if(ID(r.from,r.to,e.doc).filter(p=>p.mark.type.excluded.find(w=>w===t.type&&w!==p.mark.type)).filter(p=>p.to>u).length)return null;f<r.to&&s.delete(f,r.to),u>r.from&&s.delete(r.from+c,u);const g=r.from+c+o.length;s.addMark(r.from+c,g,t.type.create(a||{})),s.removeStoredMark(t.type)}},undoable:t.undoable})}function BSe(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=da(t.getAttributes,void 0,n)||{},{tr:s}=e,o=r.from;let l=r.to;const c=t.type.create(a);if(n[1]){const u=n[0].lastIndexOf(n[1]);let f=o+u;f>l?f=l:l=f+n[1].length;const m=n[0][n[0].length-1];s.insertText(m,o+n[0].length-1),s.replaceWith(f,l,c)}else if(n[0]){const u=t.type.isInline?o:o-1;s.insert(u,t.type.create(a)).delete(s.mapping.map(o),s.mapping.map(l))}s.scrollIntoView()},undoable:t.undoable})}function lO(t){return new QN({find:t.find,handler:({state:e,range:r,match:n})=>{const a=e.doc.resolve(r.from),s=da(t.getAttributes,void 0,n)||{};if(!a.node(-1).canReplaceWith(a.index(-1),a.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,s)},undoable:t.undoable})}function Yg(t){return new QN({find:t.find,handler:({state:e,range:r,match:n,chain:a})=>{const s=da(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),u=c&&gD(c,t.type,s);if(!u)return null;if(o.wrap(c,u),t.keepMarks&&t.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:p}=t.editor.extensionManager,v=g||m.$to.parentOffset&&m.$from.marks();if(v){const w=v.filter(b=>p.includes(b.type.name));o.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";a().updateAttributes(m,s).run()}const f=o.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&dm(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&o.join(r.from-1)},undoable:t.undoable})}function HSe(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Ir){const s=n.index();return n.parent.canReplaceWith(s,s+1,e)}let a=n.depth;for(;a>=0;){const s=n.index(a);if(n.node(a).contentMatchAt(s).matchType(e))return!0;a-=1}return!1}function zSe(t,e,r={}){const{state:n}=e,{doc:a,tr:s}=n,o=t;a.descendants((l,c)=>{const u=s.mapping.map(c),f=s.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(p=>{if(p!==o)return!1;m=p}),!m)return;let g=!1;if(Object.keys(r).forEach(p=>{r[p]!==m.attrs[p]&&(g=!0)}),g){const p=t.type.create({...t.attrs,...r});s.removeMark(u,f,t.type),s.addMark(u,f,p)}}),s.docChanged&&e.view.dispatch(s)}var Ll=class SZ extends FD{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new SZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function lm(t){return new jNe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:a})=>{const s=da(t.getAttributes,void 0,n,a);if(s===!1||s===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let u=r.to;if(l){const f=c.search(/\S/),m=r.from+c.indexOf(l),g=m+l.length;if(ID(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(b=>b===t.type&&b!==v.mark.type)).filter(v=>v.to>m).length)return null;g<r.to&&o.delete(g,r.to),m>r.from&&o.delete(r.from+f,m),u=r.from+f+l.length,o.addMark(r.from+f,u,t.type.create(s||{})),o.removeStoredMark(t.type)}}})}var qSe=20,kZ=(t,e=0)=>{const r=[];return!t.children.length||e>qSe||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...kZ(n,e+1))}),r},USe=t=>{if(!t.children.length)return;const e=kZ(t);e&&e.forEach(r=>{var n,a;const s=r.getAttribute("style"),o=(a=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:a.getAttribute("style");r.setAttribute("style",`${o};${s}`)})},WSe=Hf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&USe(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(a=>a.type===this.type).some(a=>Object.values(a.attrs).some(s=>!!s))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),VSe=Ea.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),CZ=Ea.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(a=>a.trim()).filter(Boolean);for(let a=n.length-1;a>=0;a-=1){const s=n[a].split(":");if(s.length>=2){const o=s[0].trim().toLowerCase(),l=s.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),_Z=Ea.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),GSe=Ea.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),YSe=Ea.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),KSe=Ea.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(VSe.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(CZ.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(_Z.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(GSe.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(YSe.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(WSe.configure(this.options.textStyle)),t}}),JSe=Ea.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),XSe=JSe,QSe=CZ,ZSe=_Z;const eke="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mgensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",tke="121342632165322333335355455655552435435422463632574574330355524444661154543332344423364211133222221212112052232222232212222223222241112222224322321222",cO="numeric",uO="ascii",dO="alpha",bb="asciinumeric",sb="alphanumeric",fO="domain",AZ="emoji",rke="scheme",nke="slashscheme",l_="whitespace";function ake(t,e){return t in e||(e[t]=[]),e[t]}function ip(t,e,r){e[cO]&&(e[bb]=!0,e[sb]=!0),e[uO]&&(e[bb]=!0,e[dO]=!0),e[bb]&&(e[sb]=!0),e[dO]&&(e[sb]=!0),e[sb]&&(e[fO]=!0),e[AZ]&&(e[fO]=!0);for(const n in e){const a=ake(n,r);a.indexOf(t)<0&&a.push(t)}}function ike(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function sl(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}sl.groups={};sl.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const a=e.jr[n][0],s=e.jr[n][1];if(s&&a.test(t))return s}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let a=0;a<t.length;a++)this.tt(t[a],e,r,n)},tr(t,e,r,n){n=n||sl.groups;let a;return e&&e.j?a=e:(a=new sl(e),r&&n&&ip(e,r,n)),this.jr.push([t,a]),a},ts(t,e,r,n){let a=this;const s=t.length;if(!s)return a;for(let o=0;o<s-1;o++)a=a.tt(t[o]);return a.tt(t[s-1],e,r,n)},tt(t,e,r,n){n=n||sl.groups;const a=this;if(e&&e.j)return a.j[t]=e,e;const s=e;let o,l=a.go(t);if(l?(o=new sl,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new sl,s){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(ike(o.t,n),r);ip(s,c,n)}else r&&ip(s,r,n);o.t=s}return a.j[t]=o,o}};const mn=(t,e,r,n,a)=>t.ta(e,r,n,a),bi=(t,e,r,n,a)=>t.tr(e,r,n,a),RF=(t,e,r,n,a)=>t.ts(e,r,n,a),Jt=(t,e,r,n,a)=>t.tt(e,r,n,a),rf="WORD",hO="UWORD",TZ="ASCIINUMERICAL",MZ="ALPHANUMERICAL",av="LOCALHOST",mO="TLD",pO="UTLD",B2="SCHEME",Z0="SLASH_SCHEME",BD="NUM",gO="WS",HD="NL",vb="OPENBRACE",wb="CLOSEBRACE",Fj="OPENBRACKET",$j="CLOSEBRACKET",Bj="OPENPAREN",Hj="CLOSEPAREN",zj="OPENANGLEBRACKET",qj="CLOSEANGLEBRACKET",Uj="FULLWIDTHLEFTPAREN",Wj="FULLWIDTHRIGHTPAREN",Vj="LEFTCORNERBRACKET",Gj="RIGHTCORNERBRACKET",Yj="LEFTWHITECORNERBRACKET",Kj="RIGHTWHITECORNERBRACKET",Jj="FULLWIDTHLESSTHAN",Xj="FULLWIDTHGREATERTHAN",Qj="AMPERSAND",Zj="APOSTROPHE",e5="ASTERISK",Dh="AT",t5="BACKSLASH",r5="BACKTICK",n5="CARET",Ih="COLON",zD="COMMA",a5="DOLLAR",$u="DOT",i5="EQUALS",qD="EXCLAMATION",ic="HYPHEN",jb="PERCENT",s5="PIPE",o5="PLUS",l5="POUND",Nb="QUERY",UD="QUOTE",OZ="FULLWIDTHMIDDLEDOT",WD="SEMI",Bu="SLASH",Sb="TILDE",c5="UNDERSCORE",EZ="EMOJI",u5="SYM";var DZ=Object.freeze({__proto__:null,ALPHANUMERICAL:MZ,AMPERSAND:Qj,APOSTROPHE:Zj,ASCIINUMERICAL:TZ,ASTERISK:e5,AT:Dh,BACKSLASH:t5,BACKTICK:r5,CARET:n5,CLOSEANGLEBRACKET:qj,CLOSEBRACE:wb,CLOSEBRACKET:$j,CLOSEPAREN:Hj,COLON:Ih,COMMA:zD,DOLLAR:a5,DOT:$u,EMOJI:EZ,EQUALS:i5,EXCLAMATION:qD,FULLWIDTHGREATERTHAN:Xj,FULLWIDTHLEFTPAREN:Uj,FULLWIDTHLESSTHAN:Jj,FULLWIDTHMIDDLEDOT:OZ,FULLWIDTHRIGHTPAREN:Wj,HYPHEN:ic,LEFTCORNERBRACKET:Vj,LEFTWHITECORNERBRACKET:Yj,LOCALHOST:av,NL:HD,NUM:BD,OPENANGLEBRACKET:zj,OPENBRACE:vb,OPENBRACKET:Fj,OPENPAREN:Bj,PERCENT:jb,PIPE:s5,PLUS:o5,POUND:l5,QUERY:Nb,QUOTE:UD,RIGHTCORNERBRACKET:Gj,RIGHTWHITECORNERBRACKET:Kj,SCHEME:B2,SEMI:WD,SLASH:Bu,SLASH_SCHEME:Z0,SYM:u5,TILDE:Sb,TLD:mO,UNDERSCORE:c5,UTLD:pO,UWORD:hO,WORD:rf,WS:gO});const Jd=/[a-z]/,$y=new RegExp("\\p{L}","u"),c_=new RegExp("\\p{Emoji}","u"),Xd=/\d/,u_=/\s/,IF="\r",d_=`
`,ske="",oke="",f_="";let $w=null,Bw=null;function lke(t=[]){const e={};sl.groups=e;const r=new sl;$w==null&&($w=FF(eke)),Bw==null&&(Bw=FF(tke)),Jt(r,"'",Zj),Jt(r,"{",vb),Jt(r,"}",wb),Jt(r,"[",Fj),Jt(r,"]",$j),Jt(r,"(",Bj),Jt(r,")",Hj),Jt(r,"<",zj),Jt(r,">",qj),Jt(r,"",Uj),Jt(r,"",Wj),Jt(r,"",Vj),Jt(r,"",Gj),Jt(r,"",Yj),Jt(r,"",Kj),Jt(r,"",Jj),Jt(r,"",Xj),Jt(r,"&",Qj),Jt(r,"*",e5),Jt(r,"@",Dh),Jt(r,"`",r5),Jt(r,"^",n5),Jt(r,":",Ih),Jt(r,",",zD),Jt(r,"$",a5),Jt(r,".",$u),Jt(r,"=",i5),Jt(r,"!",qD),Jt(r,"-",ic),Jt(r,"%",jb),Jt(r,"|",s5),Jt(r,"+",o5),Jt(r,"#",l5),Jt(r,"?",Nb),Jt(r,'"',UD),Jt(r,"/",Bu),Jt(r,";",WD),Jt(r,"~",Sb),Jt(r,"_",c5),Jt(r,"\\",t5),Jt(r,"",OZ);const n=bi(r,Xd,BD,{[cO]:!0});bi(n,Xd,n);const a=bi(n,Jd,TZ,{[bb]:!0}),s=bi(n,$y,MZ,{[sb]:!0}),o=bi(r,Jd,rf,{[uO]:!0});bi(o,Xd,a),bi(o,Jd,o),bi(a,Xd,a),bi(a,Jd,a);const l=bi(r,$y,hO,{[dO]:!0});bi(l,Jd),bi(l,Xd,s),bi(l,$y,l),bi(s,Xd,s),bi(s,Jd),bi(s,$y,s);const c=Jt(r,d_,HD,{[l_]:!0}),u=Jt(r,IF,gO,{[l_]:!0}),f=bi(r,u_,gO,{[l_]:!0});Jt(r,f_,f),Jt(u,d_,c),Jt(u,f_,f),bi(u,u_,f),Jt(f,IF),Jt(f,d_),bi(f,u_,f),Jt(f,f_,f);const m=bi(r,c_,EZ,{[AZ]:!0});Jt(m,"#"),bi(m,c_,m),Jt(m,ske,m);const g=Jt(m,oke);Jt(g,"#"),bi(g,c_,m);const p=[[Jd,o],[Xd,a]],v=[[Jd,null],[$y,l],[Xd,s]];for(let w=0;w<$w.length;w++)Ch(r,$w[w],mO,rf,p);for(let w=0;w<Bw.length;w++)Ch(r,Bw[w],pO,hO,v);ip(mO,{tld:!0,ascii:!0},e),ip(pO,{utld:!0,alpha:!0},e),Ch(r,"file",B2,rf,p),Ch(r,"mailto",B2,rf,p),Ch(r,"http",Z0,rf,p),Ch(r,"https",Z0,rf,p),Ch(r,"ftp",Z0,rf,p),Ch(r,"ftps",Z0,rf,p),ip(B2,{scheme:!0,ascii:!0},e),ip(Z0,{slashscheme:!0,ascii:!0},e),t=t.sort((w,b)=>w[0]>b[0]?1:-1);for(let w=0;w<t.length;w++){const b=t[w][0],k=t[w][1]?{[rke]:!0}:{[nke]:!0};b.indexOf("-")>=0?k[fO]=!0:Jd.test(b)?Xd.test(b)?k[bb]=!0:k[uO]=!0:k[cO]=!0,RF(r,b,b,k)}return RF(r,"localhost",av,{ascii:!0}),r.jd=new sl(u5),{start:r,tokens:Object.assign({groups:e},DZ)}}function PZ(t,e){const r=cke(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,a=[];let s=0,o=0;for(;o<n;){let l=t,c=null,u=0,f=null,m=-1,g=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,g=0,f=l):m>=0&&(m+=r[o].length,g++),u+=r[o].length,s+=r[o].length,o++;s-=m,o-=g,u-=m,a.push({t:f.t,v:e.slice(s-u,s),s:s-u,e:s})}return a}function cke(t){const e=[],r=t.length;let n=0;for(;n<r;){let a=t.charCodeAt(n),s,o=a<55296||a>56319||n+1===r||(s=t.charCodeAt(n+1))<56320||s>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Ch(t,e,r,n,a){let s;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?s=t.j[c]:(s=new sl(n),s.jr=a.slice(),t.j[c]=s),t=s}return s=new sl(r),s.jr=a.slice(),t.j[e[o-1]]=s,s}function FF(t){const e=[],r=[];let n=0,a="0123456789";for(;n<t.length;){let s=0;for(;a.indexOf(t[n+s])>=0;)s++;if(s>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+s),10);o>0;o--)r.pop();n+=s}else r.push(t[n]),n++}return e}const iv={defaultProtocol:"http",events:null,format:$F,formatHref:$F,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function VD(t,e=null){let r=Object.assign({},iv);t&&(r=Object.assign(r,t instanceof VD?t.o:t));const n=r.ignoreTags,a=[];for(let s=0;s<n.length;s++)a.push(n[s].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=a}VD.prototype={o:iv,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let a=this.o[t];return a&&(typeof a=="object"?(a=r.t in a?a[r.t]:iv[t],typeof a=="function"&&n&&(a=a(e,r))):typeof a=="function"&&n&&(a=a(e,r.t,r)),a)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function $F(t){return t}function LZ(t,e){this.t="token",this.v=t,this.tk=e}LZ.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=iv.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),a=t.get("tagName",r,e),s=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),u=t.get("rel",r,e),f=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),u&&(o.rel=u),f&&Object.assign(o,f),{tagName:a,attributes:o,content:s,eventListeners:m}}};function eS(t,e){class r extends LZ{constructor(a,s){super(a,s),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const BF=eS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),HF=eS("text"),uke=eS("nl"),Hw=eS("url",{isLink:!0,toHref(t=iv.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==av&&t[1].t===Ih}}),ec=t=>new sl(t);function dke({groups:t}){const e=t.domain.concat([Qj,e5,Dh,t5,r5,n5,a5,i5,ic,BD,jb,s5,o5,l5,Bu,u5,Sb,c5]),r=[Zj,Ih,zD,$u,qD,jb,Nb,UD,WD,zj,qj,vb,wb,$j,Fj,Bj,Hj,Uj,Wj,Vj,Gj,Yj,Kj,Jj,Xj],n=[Qj,Zj,e5,t5,r5,n5,a5,i5,ic,vb,wb,jb,s5,o5,l5,Nb,Bu,u5,Sb,c5],a=ec(),s=Jt(a,Sb);mn(s,n,s),mn(s,t.domain,s);const o=ec(),l=ec(),c=ec();mn(a,t.domain,o),mn(a,t.scheme,l),mn(a,t.slashscheme,c),mn(o,n,s),mn(o,t.domain,o);const u=Jt(o,Dh);Jt(s,Dh,u),Jt(l,Dh,u),Jt(c,Dh,u);const f=Jt(s,$u);mn(f,n,s),mn(f,t.domain,s);const m=ec();mn(u,t.domain,m),mn(m,t.domain,m);const g=Jt(m,$u);mn(g,t.domain,m);const p=ec(BF);mn(g,t.tld,p),mn(g,t.utld,p),Jt(u,av,p);const v=Jt(m,ic);Jt(v,ic,v),mn(v,t.domain,m),mn(p,t.domain,m),Jt(p,$u,g),Jt(p,ic,v);const w=Jt(p,Ih);mn(w,t.numeric,BF);const b=Jt(o,ic),N=Jt(o,$u);Jt(b,ic,b),mn(b,t.domain,o),mn(N,n,s),mn(N,t.domain,o);const k=ec(Hw);mn(N,t.tld,k),mn(N,t.utld,k),mn(k,t.domain,o),mn(k,n,s),Jt(k,$u,N),Jt(k,ic,b),Jt(k,Dh,u);const S=Jt(k,Ih),A=ec(Hw);mn(S,t.numeric,A);const _=ec(Hw),M=ec();mn(_,e,_),mn(_,r,M),mn(M,e,_),mn(M,r,M),Jt(k,Bu,_),Jt(A,Bu,_);const R=Jt(l,Ih),L=Jt(c,Ih),I=Jt(L,Bu),B=Jt(I,Bu);mn(l,t.domain,o),Jt(l,$u,N),Jt(l,ic,b),mn(c,t.domain,o),Jt(c,$u,N),Jt(c,ic,b),mn(R,t.domain,_),Jt(R,Bu,_),Jt(R,Nb,_),mn(B,t.domain,_),mn(B,e,_),Jt(B,Bu,_);const D=[[vb,wb],[Fj,$j],[Bj,Hj],[zj,qj],[Uj,Wj],[Vj,Gj],[Yj,Kj],[Jj,Xj]];for(let E=0;E<D.length;E++){const[H,V]=D[E],Y=Jt(_,H);Jt(M,H,Y),Jt(Y,V,_);const W=ec(Hw);mn(Y,e,W);const F=ec();mn(Y,r),mn(W,e,W),mn(W,r,F),mn(F,e,W),mn(F,r,F),Jt(W,V,_),Jt(F,V,_)}return Jt(a,av,k),Jt(a,HD,uke),{start:a,tokens:DZ}}function fke(t,e,r){let n=r.length,a=0,s=[],o=[];for(;a<n;){let l=t,c=null,u=null,f=0,m=null,g=-1;for(;a<n&&!(c=l.go(r[a].t));)o.push(r[a++]);for(;a<n&&(u=c||l.go(r[a].t));)c=null,l=u,l.accepts()?(g=0,m=l):g>=0&&g++,a++,f++;if(g<0)a-=f,a<n&&(o.push(r[a]),a++);else{o.length>0&&(s.push(h_(HF,e,o)),o=[]),a-=g,f-=g;const p=m.t,v=r.slice(a-f,a);s.push(h_(p,e,v))}}return o.length>0&&s.push(h_(HF,e,o)),s}function h_(t,e,r){const n=r[0].s,a=r[r.length-1].e,s=e.slice(n,a);return new t(s,r)}const hke=typeof console<"u"&&console&&console.warn||(()=>{}),mke="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",za={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function pke(){return sl.groups={},za.scanner=null,za.parser=null,za.tokenQueue=[],za.pluginQueue=[],za.customSchemes=[],za.initialized=!1,za}function zF(t,e=!1){if(za.initialized&&hke(`linkifyjs: already initialized - will not register custom scheme "${t}" ${mke}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);za.customSchemes.push([t,e])}function gke(){za.scanner=lke(za.customSchemes);for(let t=0;t<za.tokenQueue.length;t++)za.tokenQueue[t][1]({scanner:za.scanner});za.parser=dke(za.scanner.tokens);for(let t=0;t<za.pluginQueue.length;t++)za.pluginQueue[t][1]({scanner:za.scanner,parser:za.parser});return za.initialized=!0,za}function GD(t){return za.initialized||gke(),fke(za.parser.start,t,PZ(za.scanner.start,t))}GD.scan=PZ;function RZ(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new VD(r),a=GD(t),s=[];for(let o=0;o<a.length;o++){const l=a[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&s.push(l.toFormattedObject(n))}return s}var YD="[\0- -\u2029]",xke=new RegExp(YD),yke=new RegExp(`${YD}$`),bke=new RegExp(YD,"g");function vke(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function wke(t){return new Mi({key:new Rs("autolink"),appendTransaction:(e,r,n)=>{const a=e.some(u=>u.docChanged)&&!r.doc.eq(n.doc),s=e.some(u=>u.getMeta("preventAutolink"));if(!a||s)return;const{tr:o}=n,l=KQ(r.doc,[...e]);if(aZ(l).forEach(({newRange:u})=>{const f=rNe(n.doc,u,p=>p.isTextblock);let m,g;if(f.length>1)m=f[0],g=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const p=n.doc.textBetween(u.from,u.to," "," ");if(!yke.test(p))return;m=f[0],g=n.doc.textBetween(m.pos,u.to,void 0," ")}if(m&&g){const p=g.split(xke).filter(Boolean);if(p.length<=0)return!1;const v=p[p.length-1],w=m.pos+g.lastIndexOf(v);if(!v)return!1;const b=GD(v).map(N=>N.toObject(t.defaultProtocol));if(!vke(b))return!1;b.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{ID(N.from,N.to,n.doc).some(k=>k.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function jke(t){return new Mi({key:new Rs("handleClickLink"),props:{handleClick:(e,r,n)=>{var a,s;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let f=n.target;const m=[];for(;f.nodeName!=="DIV";)m.push(f),f=f.parentNode;o=m.find(g=>g.nodeName==="A")}if(!o)return!1;const l=nZ(e.state,t.type.name),c=(a=o==null?void 0:o.href)!=null?a:l.href,u=(s=o==null?void 0:o.target)!=null?s:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,u),!0):!1}}})}function Nke(t){return new Mi({key:new Rs("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:a}=e,{selection:s}=a,{empty:o}=s;if(o)return!1;let l="";n.content.forEach(u=>{l+=u.textContent});const c=RZ(l,{defaultProtocol:t.defaultProtocol}).find(u=>u.isLink&&u.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function $m(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const a=typeof n=="string"?n:n.scheme;a&&r.push(a)}),!t||t.replace(bke,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var IZ=Hf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){zF(t);return}zF(t.scheme,t.optionalSlashes)})},onDestroy(){pke()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!$m(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!$m(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!$m(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Ai(this.options.HTMLAttributes,t),0]:["a",Ai(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!$m(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!$m(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[lm({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,a=RZ(t).filter(s=>s.isLink&&this.options.isAllowedUri(s.value,{defaultValidate:o=>!!$m(o,r),protocols:r,defaultProtocol:n}));a.length&&a.forEach(s=>e.push({text:s.value,data:{href:s.href},index:s.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(wke({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:a=>!!$m(a,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(jke({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Nke({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Ske=IZ,m_={exports:{}},p_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qF;function kke(){if(qF)return p_;qF=1;var t=qv();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,s=t.useLayoutEffect,o=t.useDebugValue;function l(m,g){var p=g(),v=n({inst:{value:p,getSnapshot:g}}),w=v[0].inst,b=v[1];return s(function(){w.value=p,w.getSnapshot=g,c(w)&&b({inst:w})},[m,p,g]),a(function(){return c(w)&&b({inst:w}),m(function(){c(w)&&b({inst:w})})},[m]),o(p),p}function c(m){var g=m.getSnapshot;m=m.value;try{var p=g();return!r(m,p)}catch{return!0}}function u(m,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:l;return p_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,p_}var UF;function FZ(){return UF||(UF=1,m_.exports=kke()),m_.exports}var $Z=FZ(),g_,WF;function Cke(){return WF||(WF=1,g_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,a,s;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(!t(e[a],r[a]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;for(a of e.entries())if(!t(a[1],r.get(a[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(a of e.entries())if(!r.has(a[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(a=n;a--!==0;)if(e[a]!==r[a])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(s=Object.keys(e),n=s.length,n!==Object.keys(r).length)return!1;for(a=n;a--!==0;)if(!Object.prototype.hasOwnProperty.call(r,s[a]))return!1;for(a=n;a--!==0;){var o=s[a];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),g_}var _ke=Cke();const Ake=Kn(_ke);var x_={exports:{}},y_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var VF;function Tke(){if(VF)return y_;VF=1;var t=qv(),e=FZ();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,a=e.useSyncExternalStore,s=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(u,f,m,g,p){var v=s(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function N(M){if(!k){if(k=!0,S=M,M=g(M),p!==void 0&&w.hasValue){var R=w.value;if(p(R,M))return A=R}return A=M}if(R=A,n(S,M))return R;var L=g(M);return p!==void 0&&p(R,L)?(S=M,R):(S=M,A=L)}var k=!1,S,A,_=m===void 0?null:m;return[function(){return N(f())},_===null?void 0:function(){return N(_())}]},[f,m,g,p]);var b=a(u,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=b},[b]),c(b),b},y_}var GF;function Mke(){return GF||(GF=1,x_.exports=Tke()),x_.exports}var Oke=Mke(),Eke=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Dke=({contentComponent:t})=>{const e=$Z.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return i.jsx(i.Fragment,{children:Object.values(e)})};function Pke(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:tY.createPortal(n.reactElement,n.element,r)},t.forEach(a=>a())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(a=>a())}}}var Lke=class extends fe.Component{constructor(t){var e;super(t),this.editorContentRef=fe.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=Pke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return i.jsxs(i.Fragment,{children:[i.jsx("div",{ref:Eke(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&i.jsx(Dke,{contentComponent:t.contentComponent})]})}},Rke=y.forwardRef((t,e)=>{const r=fe.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return fe.createElement(Lke,{key:r,innerRef:e,...t})}),Ike=fe.memo(Rke),Fke=typeof window<"u"?y.useLayoutEffect:y.useEffect,$ke=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function BZ(t){var e;const[r]=y.useState(()=>new $ke(t.editor)),n=Oke.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Ake);return Fke(()=>r.watch(t.editor),[t.editor,r]),y.useDebugValue(n),n}var Bke=!1,xO=typeof window>"u",Hke=xO||!!(typeof window<"u"&&window.next),zke=class HZ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?xO||Hke?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onBeforeCreate)==null?void 0:s.call(a,...n)},onBlur:(...n)=>{var a,s;return(s=(a=this.options.current).onBlur)==null?void 0:s.call(a,...n)},onCreate:(...n)=>{var a,s;return(s=(a=this.options.current).onCreate)==null?void 0:s.call(a,...n)},onDestroy:(...n)=>{var a,s;return(s=(a=this.options.current).onDestroy)==null?void 0:s.call(a,...n)},onFocus:(...n)=>{var a,s;return(s=(a=this.options.current).onFocus)==null?void 0:s.call(a,...n)},onSelectionUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onSelectionUpdate)==null?void 0:s.call(a,...n)},onTransaction:(...n)=>{var a,s;return(s=(a=this.options.current).onTransaction)==null?void 0:s.call(a,...n)},onUpdate:(...n)=>{var a,s;return(s=(a=this.options.current).onUpdate)==null?void 0:s.call(a,...n)},onContentError:(...n)=>{var a,s;return(s=(a=this.options.current).onContentError)==null?void 0:s.call(a,...n)},onDrop:(...n)=>{var a,s;return(s=(a=this.options.current).onDrop)==null?void 0:s.call(a,...n)},onPaste:(...n)=>{var a,s;return(s=(a=this.options.current).onPaste)==null?void 0:s.call(a,...n)},onDelete:(...n)=>{var a,s;return(s=(a=this.options.current).onDelete)==null?void 0:s.call(a,...n)}};return new $Se(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((a,s)=>{var o;return a===((o=r.extensions)==null?void 0:o[s])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?HZ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,a)=>n===e[a]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function qke(t={},e=[]){const r=y.useRef(t);r.current=t;const[n]=y.useState(()=>new zke(r)),a=$Z.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return y.useDebugValue(a),y.useEffect(n.onRender(e)),BZ({editor:a,selector:({transactionNumber:s})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&s===0?0:s+1}),a}var Uke=y.createContext({editor:null});Uke.Consumer;var Wke=y.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Vke=()=>y.useContext(Wke);fe.forwardRef((t,e)=>{const{onDragStart:r}=Vke(),n=t.as||"div";return i.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});fe.createContext({markViewContentRef:()=>{}});var d5=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},Gke=/^\s*>\s$/,Yke=Ll.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return d5("blockquote",{...Ai(this.options.HTMLAttributes,t),children:d5("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Yg({find:Gke,type:this.type})]}}),Kke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Jke=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Xke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,Qke=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Zke=Hf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return d5("strong",{...Ai(this.options.HTMLAttributes,t),children:d5("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Ep({find:Kke,type:this.type}),Ep({find:Xke,type:this.type})]},addPasteRules(){return[lm({find:Jke,type:this.type}),lm({find:Qke,type:this.type})]}}),eCe=/(^|[^`])`([^`]+)`(?!`)$/,tCe=/(^|[^`])`([^`]+)`(?!`)/g,rCe=Hf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Ep({find:eCe,type:this.type})]},addPasteRules(){return[lm({find:tCe,type:this.type})]}}),b_=4,nCe=/^```([a-z]+)?[\s\n]$/,aCe=/^~~~([a-z]+)?[\s\n]$/,iCe=Ll.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:b_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const s=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return s||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Ai(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:b_,{state:n}=t,{selection:a}=n,{$from:s,empty:o}=a;if(s.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:u,to:f}=a,p=n.doc.textBetween(u,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(u,f,n.schema.text(p)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:b_,{state:n}=t,{selection:a}=n,{$from:s,empty:o}=a;return s.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:u}=s,f=s.start(),m=s.end(),p=n.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,w=0;const b=u-f;for(let M=0;M<p.length;M+=1){if(w+p[M].length>=b){v=M;break}w+=p[M].length+1}const k=((c=p[v].match(/^ */))==null?void 0:c[0])||"",S=Math.min(k.length,r);if(S===0)return!0;let A=f;for(let M=0;M<v;M+=1)A+=p[M].length+1;return l.delete(A,A+S),u-A<=S&&l.setSelection(rn.create(l.doc,A)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:u}=a,g=n.doc.textBetween(c,u,`
`,`
`).split(`
`).map(p=>{var v;const w=((v=p.match(/^ */))==null?void 0:v[0])||"",b=Math.min(w.length,r);return p.slice(b)}).join(`
`);return l.replaceWith(c,u,n.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:a}=r;if(!a||n.parent.type!==this.type)return!1;const s=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!s||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:a,empty:s}=r;if(!s||a.parent.type!==this.type||!(a.parentOffset===a.parent.nodeSize-2))return!1;const l=a.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:u})=>(u.setSelection(pn.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[lO({find:nCe,type:this.type,getAttributes:t=>({language:t[1]})}),lO({find:aCe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Mi({key:new Rs("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),a=n?JSON.parse(n):void 0,s=a==null?void 0:a.mode;if(!r||!s)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:s},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(rn.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),sCe=Ll.create({name:"doc",topNode:!0,content:"block+"}),oCe=Ll.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Ai(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:a,storedMarks:s}=r;if(a.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=s||a.$to.parentOffset&&a.$from.marks();return e().insertContent({type:this.name}).command(({tr:u,dispatch:f})=>{if(f&&c&&o){const m=c.filter(g=>l.includes(g.type.name));u.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),lCe=Ll.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Ai(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>lO({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),cCe=Ll.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Ai(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!HSe(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,a=t();return sZ(r)?a.insertContentAt(n.pos,{type:this.name}):a.insertContent({type:this.name}),a.command(({state:s,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,u=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(rn.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Ir.create(o.doc,c.pos)):o.setSelection(rn.create(o.doc,c.pos));else{const f=s.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(o.insert(u,m),o.setSelection(rn.create(o.doc,u+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[BSe({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),uCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,dCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,fCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,hCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,mCe=Hf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Ep({find:uCe,type:this.type}),Ep({find:fCe,type:this.type})]},addPasteRules(){return[lm({find:dCe,type:this.type}),lm({find:hCe,type:this.type})]}}),pCe=Object.defineProperty,gCe=(t,e)=>{for(var r in e)pCe(t,r,{get:e[r],enumerable:!0})},xCe="listItem",YF="textStyle",KF=/^\s*([-+*])\s$/,zZ=Ll.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(xCe,this.editor.getAttributes(YF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Yg({find:KF,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Yg({find:KF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(YF),editor:this.editor})),[t]}}),qZ=Ll.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Ai(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),yCe={};gCe(yCe,{findListItemPos:()=>o1,getNextListDepth:()=>KD,handleBackspace:()=>yO,handleDelete:()=>bO,hasListBefore:()=>UZ,hasListItemAfter:()=>bCe,hasListItemBefore:()=>WZ,listItemHasSubList:()=>VZ,nextListIsDeeper:()=>GZ,nextListIsHigher:()=>YZ});var o1=(t,e)=>{const{$from:r}=e.selection,n=ns(t,e.schema);let a=null,s=r.depth,o=r.pos,l=null;for(;s>0&&l===null;)a=r.node(s),a.type===n?l=s:(s-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},KD=(t,e)=>{const r=o1(t,e);if(!r)return!1;const[,n]=fNe(e,t,r.$pos.pos+4);return n},UZ=(t,e,r)=>{const{$anchor:n}=t.selection,a=Math.max(0,n.pos-2),s=t.doc.resolve(a).node();return!(!s||!r.includes(s.type.name))},WZ=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-2);return!(a.index()===0||((r=a.nodeBefore)==null?void 0:r.type.name)!==t)},VZ=(t,e,r)=>{if(!r)return!1;const n=ns(t,e.schema);let a=!1;return r.descendants(s=>{s.type===n&&(a=!0)}),a},yO=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!om(t.state,e)&&UZ(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),u=[];c.node().descendants((g,p)=>{g.type.name===e&&u.push({node:g,pos:p})});const f=u.at(-1);if(!f)return!1;const m=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!om(t.state,e)||!gNe(t.state))return!1;const n=o1(e,t.state);if(!n)return!1;const s=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=VZ(e,t.state,s);return WZ(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},GZ=(t,e)=>{const r=KD(t,e),n=o1(t,e);return!n||!r?!1:r>n.depth},YZ=(t,e)=>{const r=KD(t,e),n=o1(t,e);return!n||!r?!1:r<n.depth},bO=(t,e)=>{if(!om(t.state,e)||!pNe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:a}=r;return!r.empty&&n.sameParent(a)?!1:GZ(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():YZ(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},bCe=(t,e)=>{var r;const{$anchor:n}=e.selection,a=e.doc.resolve(n.pos-n.parentOffset-2);return!(a.index()===a.parent.childCount-1||((r=a.nodeAfter)==null?void 0:r.type.name)!==t)},KZ=Ea.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&bO(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&bO(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&yO(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&yO(t,r,n)&&(e=!0)}),e}}}}),vCe="listItem",JF="textStyle",XF=/^(\d+)\.\s$/,JZ=Ll.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Ai(this.options.HTMLAttributes,r),0]:["ol",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(vCe,this.editor.getAttributes(JF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Yg({find:XF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Yg({find:XF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(JF)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),wCe=/^\s*(\[([( |x])?\])\s$/,jCe=Ll.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Ai(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const a=document.createElement("li"),s=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),u=f=>{var m,g;l.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return u(t),s.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const p=r();if(typeof p!="number")return!1;const v=g.doc.nodeAt(p);return g.setNodeMarkup(p,void 0,{...v==null?void 0:v.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,m])=>{a.setAttribute(f,m)}),a.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,s.append(l,o),a.append(s,c),Object.entries(e).forEach(([f,m])=>{a.setAttribute(f,m)}),{dom:a,contentDOM:c,update:f=>f.type!==this.type?!1:(a.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,u(f),!0)}}},addInputRules(){return[Yg({find:wCe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),NCe=Ll.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Ai(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});Ea.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(zZ.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(qZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(KZ.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(JZ.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(jCe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(NCe.configure(this.options.taskList)),t}});var SCe=Ll.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),kCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,CCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,_Ce=Hf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Ep({find:kCe,type:this.type})]},addPasteRules(){return[lm({find:CCe,type:this.type})]}}),ACe=Ll.create({name:"text",group:"inline"}),TCe=Hf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function MCe(t={}){return new Mi({view(e){return new OCe(e,t)}})}class OCe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(a=>{let s=o=>{this[a](o)};return e.dom.addEventListener(a,s),{name:a,handler:s}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,a=this.editorView.dom,s=a.getBoundingClientRect(),o=s.width/a.offsetWidth,l=s.height/a.offsetHeight;if(r){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let p=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(p){let v=p.getBoundingClientRect(),w=m?v.bottom:v.top;m&&g&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let b=this.width/2*l;n={left:v.left,right:v.right,top:w-b,bottom:w+b}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;n={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let u,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")u=-pageXOffset,f=-pageYOffset;else{let m=c.getBoundingClientRect(),g=m.width/c.offsetWidth,p=m.height/c.offsetHeight;u=m.left-c.scrollLeft*g,f=m.top-c.scrollTop*p}this.element.style.left=(n.left-u)/o+"px",this.element.style.top=(n.top-f)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),a=n&&n.type.spec.disableDropCursor,s=typeof a=="function"?a(this.editorView,r,e):a;if(r&&!s){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=GX(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class Ni extends pn{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return Ni.valid(n)?new Ni(n):pn.near(n)}content(){return hr.empty}eq(e){return e instanceof Ni&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new Ni(e.resolve(r.pos))}getBookmark(){return new JD(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!ECe(e)||!DCe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let a=r.contentMatchAt(e.index()).defaultType;return a&&a.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&Ni.valid(e))return e;let a=e.pos,s=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){s=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;a+=r;let c=e.doc.resolve(a);if(Ni.valid(c))return c}for(;;){let o=r>0?s.firstChild:s.lastChild;if(!o){if(s.isAtom&&!s.isText&&!Ir.isSelectable(s)){e=e.doc.resolve(a+s.nodeSize*r),n=!1;continue e}break}s=o,a+=r;let l=e.doc.resolve(a);if(Ni.valid(l))return l}return null}}}Ni.prototype.visible=!1;Ni.findFrom=Ni.findGapCursorFrom;pn.jsonID("gapcursor",Ni);class JD{constructor(e){this.pos=e}map(e){return new JD(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return Ni.valid(r)?new Ni(r):pn.near(r)}}function ECe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r-1);;a=a.lastChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function DCe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let a=n.child(r);;a=a.firstChild){if(a.childCount==0&&!a.inlineContent||a.isAtom||a.type.spec.isolating)return!0;if(a.inlineContent)return!1}}return!0}function PCe(){return new Mi({props:{decorations:FCe,createSelectionBetween(t,e,r){return e.pos==r.pos&&Ni.valid(r)?new Ni(r):null},handleClick:RCe,handleKeyDown:LCe,handleDOMEvents:{beforeinput:ICe}}})}const LCe=LQ({ArrowLeft:zw("horiz",-1),ArrowRight:zw("horiz",1),ArrowUp:zw("vert",-1),ArrowDown:zw("vert",1)});function zw(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,a,s){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof rn){if(!s.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let u=Ni.findGapCursorFrom(l,e,c);return u?(a&&a(n.tr.setSelection(new Ni(u))),!0):!1}}function RCe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!Ni.valid(n))return!1;let a=t.posAtCoords({left:r.clientX,top:r.clientY});return a&&a.inside>-1&&Ir.isSelectable(t.state.doc.nodeAt(a.inside))?!1:(t.dispatch(t.state.tr.setSelection(new Ni(n))),!0)}function ICe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof Ni))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let a=Yt.empty;for(let o=n.length-1;o>=0;o--)a=Yt.from(n[o].createAndFill(null,a));let s=t.state.tr.replace(r.pos,r.pos,new hr(a,0,0));return s.setSelection(rn.near(s.doc.resolve(r.pos+1))),t.dispatch(s),!1}function FCe(t){if(!(t.selection instanceof Ni))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",oi.create(t.doc,[Do.widget(t.selection.head,e,{key:"gapcursor"})])}var f5=200,Ls=function(){};Ls.prototype.append=function(e){return e.length?(e=Ls.from(e),!this.length&&e||e.length<f5&&this.leafAppend(e)||this.length<f5&&e.leafPrepend(this)||this.appendInner(e)):this};Ls.prototype.prepend=function(e){return e.length?Ls.from(e).append(this):this};Ls.prototype.appendInner=function(e){return new $Ce(this,e)};Ls.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Ls.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Ls.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Ls.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Ls.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var a=[];return this.forEach(function(s,o){return a.push(e(s,o))},r,n),a};Ls.from=function(e){return e instanceof Ls?e:e&&e.length?new XZ(e):Ls.empty};var XZ=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(a,s){return a==0&&s==this.length?this:new e(this.values.slice(a,s))},e.prototype.getInner=function(a){return this.values[a]},e.prototype.forEachInner=function(a,s,o,l){for(var c=s;c<o;c++)if(a(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(a,s,o,l){for(var c=s-1;c>=o;c--)if(a(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(a){if(this.length+a.length<=f5)return new e(this.values.concat(a.flatten()))},e.prototype.leafPrepend=function(a){if(this.length+a.length<=f5)return new e(a.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Ls);Ls.empty=new XZ([]);var $Ce=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,a,s,o){var l=this.left.length;if(a<l&&this.left.forEachInner(n,a,Math.min(s,l),o)===!1||s>l&&this.right.forEachInner(n,Math.max(a-l,0),Math.min(this.length,s)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,a,s,o){var l=this.left.length;if(a>l&&this.right.forEachInvertedInner(n,a-l,Math.max(s,l)-l,o+l)===!1||s<l&&this.left.forEachInvertedInner(n,Math.min(a,l),s,o)===!1)return!1},e.prototype.sliceInner=function(n,a){if(n==0&&a==this.length)return this;var s=this.left.length;return a<=s?this.left.slice(n,a):n>=s?this.right.slice(n-s,a-s):this.left.slice(n,s).append(this.right.slice(0,a-s))},e.prototype.leafAppend=function(n){var a=this.right.leafAppend(n);if(a)return new e(this.left,a)},e.prototype.leafPrepend=function(n){var a=this.left.leafPrepend(n);if(a)return new e(a,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Ls);const BCe=500;class tu{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let a,s;r&&(a=this.remapping(n,this.items.length),s=a.maps.length);let o=e.tr,l,c,u=[],f=[];return this.items.forEach((m,g)=>{if(!m.step){a||(a=this.remapping(n,g+1),s=a.maps.length),s--,f.push(m);return}if(a){f.push(new Hu(m.map));let p=m.step.map(a.slice(s)),v;p&&o.maybeStep(p).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],u.push(new Hu(v,void 0,void 0,u.length+f.length))),s--,v&&a.appendMap(v,s)}else o.maybeStep(m.step);if(m.selection)return l=a?m.selection.map(a.slice(s)):m.selection,c=new tu(this.items.slice(0,n).append(f.reverse().concat(u)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,a){let s=[],o=this.eventCount,l=this.items,c=!a&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),g=new Hu(e.mapping.maps[f],m,r),p;(p=c&&c.merge(g))&&(g=p,f?s.pop():l=l.slice(0,l.length-1)),s.push(g),r&&(o++,r=void 0),a||(c=g)}let u=o-n.depth;return u>zCe&&(l=HCe(l,u),o-=u),new tu(l.append(s),o)}remapping(e,r){let n=new Xb;return this.items.forEach((a,s)=>{let o=a.mirrorOffset!=null&&s-a.mirrorOffset>=e?n.maps.length-a.mirrorOffset:void 0;n.appendMap(a.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new tu(this.items.append(e.map(r=>new Hu(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],a=Math.max(0,this.items.length-r),s=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},a);let c=r;this.items.forEach(g=>{let p=s.getMirror(--c);if(p==null)return;o=Math.min(o,p);let v=s.maps[p];if(g.step){let w=e.steps[p].invert(e.docs[p]),b=g.selection&&g.selection.map(s.slice(c+1,p));b&&l++,n.push(new Hu(v,w,b))}else n.push(new Hu(v))},a);let u=[];for(let g=r;g<o;g++)u.push(new Hu(s.maps[g]));let f=this.items.slice(0,a).append(u).append(n),m=new tu(f,l);return m.emptyItemCount()>BCe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,a=[],s=0;return this.items.forEach((o,l)=>{if(l>=e)a.push(o),o.selection&&s++;else if(o.step){let c=o.step.map(r.slice(n)),u=c&&c.getMap();if(n--,u&&r.appendMap(u,n),c){let f=o.selection&&o.selection.map(r.slice(n));f&&s++;let m=new Hu(u.invert(),c,f),g,p=a.length-1;(g=a.length&&a[p].merge(m))?a[p]=g:a.push(m)}}else o.map&&n--},this.items.length,0),new tu(Ls.from(a.reverse()),s)}}tu.empty=new tu(Ls.empty,0);function HCe(t,e){let r;return t.forEach((n,a)=>{if(n.selection&&e--==0)return r=a,!1}),t.slice(r)}class Hu{constructor(e,r,n,a){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=a}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Hu(r.getMap().invert(),r,this.selection)}}}class Ph{constructor(e,r,n,a,s){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=a,this.prevComposition=s}}const zCe=20;function qCe(t,e,r,n){let a=r.getMeta(vp),s;if(a)return a.historyState;r.getMeta(VCe)&&(t=new Ph(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(vp))return o.getMeta(vp).redo?new Ph(t.done.addTransform(r,void 0,n,H2(e)),t.undone,QF(r.mapping.maps),t.prevTime,t.prevComposition):new Ph(t.done,t.undone.addTransform(r,void 0,n,H2(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!UCe(r,t.prevRanges)),u=o?v_(t.prevRanges,r.mapping):QF(r.mapping.maps);return new Ph(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,H2(e)),tu.empty,u,r.time,l??t.prevComposition)}else return(s=r.getMeta("rebased"))?new Ph(t.done.rebased(r,s),t.undone.rebased(r,s),v_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Ph(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),v_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function UCe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,a)=>{for(let s=0;s<e.length;s+=2)n<=e[s+1]&&a>=e[s]&&(r=!0)}),r}function QF(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,a,s,o)=>e.push(s,o));return e}function v_(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let a=e.map(t[n],1),s=e.map(t[n+1],-1);a<=s&&r.push(a,s)}return r}function WCe(t,e,r){let n=H2(e),a=vp.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,n);if(!s)return null;let o=s.selection.resolve(s.transform.doc),l=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),a,n),c=new Ph(r?l:s.remaining,r?s.remaining:l,null,0,-1);return s.transform.setSelection(o).setMeta(vp,{redo:r,historyState:c})}let w_=!1,ZF=null;function H2(t){let e=t.plugins;if(ZF!=e){w_=!1,ZF=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){w_=!0;break}}return w_}const vp=new Rs("history"),VCe=new Rs("closeHistory");function GCe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Mi({key:vp,state:{init(){return new Ph(tu.empty,tu.empty,null,0,-1)},apply(e,r,n){return qCe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,a=n=="historyUndo"?ZZ:n=="historyRedo"?eee:null;return a?(r.preventDefault(),a(e.state,e.dispatch)):!1}}}})}function QZ(t,e){return(r,n)=>{let a=vp.getState(r);if(!a||(t?a.undone:a.done).eventCount==0)return!1;if(n){let s=WCe(a,r,t);s&&n(e?s.scrollIntoView():s)}return!0}}const ZZ=QZ(!1,!0),eee=QZ(!0,!0);Ea.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Mi({key:new Rs("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const a=this.options.limit;if(a==null||a===0){t=!0;return}const s=this.storage.characters({node:n.doc});if(s>a){const o=s-a,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${a} characters. Content was automatically trimmed.`);const u=n.tr.deleteRange(l,c);return t=!0,u}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const a=this.storage.characters({node:r.doc}),s=this.storage.characters({node:e.doc});if(s<=n||a>n&&s>n&&s<=a)return!0;if(a>n&&s>n&&s>a||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=s-n,u=l-c,f=l;return e.deleteRange(u,f),!(this.storage.characters({node:e.doc})>n)}})]}});var YCe=Ea.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[MCe(this.options)]}});Ea.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Mi({key:new Rs("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:a}=e,s=[];if(!r||!n)return oi.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,u)=>{if(c.isText)return;if(!(a>=u&&a<=u+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,u)=>{if(c.isText||!(a>=u&&a<=u+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";s.push(Do.node(u,u+c.nodeSize,{class:this.options.className}))}),oi.create(t,s)}}})]}});var KCe=Ea.create({name:"gapCursor",addProseMirrorPlugins(){return[PCe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=da(Pr(t,"allowGapCursor",r)))!=null?e:null}}});Ea.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something ",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Mi({key:new Rs("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,a=[];if(!r)return null;const s=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,u=!o.isLeaf&&XN(o);if((c||!this.options.showOnlyCurrent)&&u){const f=[this.options.emptyNodeClass];s&&f.push(this.options.emptyEditorClass);const m=Do.node(l,l+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});a.push(m)}return this.options.includeChildren}),oi.create(t,a)}}})]}});Ea.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Mi({key:new Rs("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||sZ(r.selection)||t.view.dragging?null:oi.create(r.doc,[Do.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function e$({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var JCe=Ea.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Rs(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Mi({key:t,appendTransaction:(r,n,a)=>{const{doc:s,tr:o,schema:l}=a,c=t.getState(a),u=s.content.size,f=l.nodes[this.options.node];if(c)return o.insert(u,f.create())},state:{init:(r,n)=>{const a=n.tr.doc.lastChild;return!e$({node:a,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const a=r.doc.lastChild;return!e$({node:a,types:e})}}})]}}),XCe=Ea.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>ZZ(t,e),redo:()=>({state:t,dispatch:e})=>eee(t,e)}},addProseMirrorPlugins(){return[GCe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),QCe=Ea.create({name:"starterKit",addExtensions(){var t,e,r,n;const a=[];return this.options.bold!==!1&&a.push(Zke.configure(this.options.bold)),this.options.blockquote!==!1&&a.push(Yke.configure(this.options.blockquote)),this.options.bulletList!==!1&&a.push(zZ.configure(this.options.bulletList)),this.options.code!==!1&&a.push(rCe.configure(this.options.code)),this.options.codeBlock!==!1&&a.push(iCe.configure(this.options.codeBlock)),this.options.document!==!1&&a.push(sCe.configure(this.options.document)),this.options.dropcursor!==!1&&a.push(YCe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&a.push(KCe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&a.push(oCe.configure(this.options.hardBreak)),this.options.heading!==!1&&a.push(lCe.configure(this.options.heading)),this.options.undoRedo!==!1&&a.push(XCe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&a.push(cCe.configure(this.options.horizontalRule)),this.options.italic!==!1&&a.push(mCe.configure(this.options.italic)),this.options.listItem!==!1&&a.push(qZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&a.push(KZ.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&a.push(IZ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&a.push(JZ.configure(this.options.orderedList)),this.options.paragraph!==!1&&a.push(SCe.configure(this.options.paragraph)),this.options.strike!==!1&&a.push(_Ce.configure(this.options.strike)),this.options.text!==!1&&a.push(ACe.configure(this.options.text)),this.options.underline!==!1&&a.push(TCe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&a.push(JCe.configure((n=this.options)==null?void 0:n.trailingNode)),a}}),ZCe=QCe,e_e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,t_e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,r_e=Hf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Ai(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[Ep({find:e_e,type:this.type})]},addPasteRules(){return[lm({find:t_e,type:this.type})]}}),n_e=r_e;const a_e=[KSe,ZCe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),QSe.configure({types:["textStyle"]}),n_e.configure({multicolor:!0}),ZSe.configure({types:["textStyle"]}),Ske.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),XSe.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],i_e=({editor:t,onClose:e})=>{const[r,n]=y.useState(()=>t.getAttributes("link").href||""),[a,s]=y.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=y.useState(()=>{try{const{from:f,to:m}=t.state.selection;return f===m?"":t.state.doc.textBetween(f,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(a).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},u=()=>{t.chain().focus().setTextSelection(a).run(),t.chain().focus().unsetLink().run(),e()};return i.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),i.jsx("input",{type:"url",value:r,onChange:f=>n(f.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&i.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),i.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),i.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[i.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&i.jsx("button",{onClick:u,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),i.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},s_e=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],a=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,s=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return i.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:i.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[i.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),i.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>i.jsx("button",{onClick:()=>s(l),className:`w-8 h-8 rounded border border-gray-300 ${a===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),i.jsxs("div",{className:"flex justify-between",children:[i.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),i.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function o_e({editor:t}){const[e,r]=y.useState(!1),[n,a]=y.useState(null),[s,o]=y.useState(!1);if(!t)return null;const l=BZ({editor:t,selector:u=>({isBold:u.editor.isActive("bold")??!1,canBold:u.editor.can().chain().toggleBold().run()??!1,isItalic:u.editor.isActive("italic")??!1,canItalic:u.editor.can().chain().toggleItalic().run()??!1,isStrike:u.editor.isActive("strike")??!1,canStrike:u.editor.can().chain().toggleStrike().run()??!1,isCode:u.editor.isActive("code")??!1,canCode:u.editor.can().chain().toggleCode().run()??!1,isLink:u.editor.isActive("link")??!1,currentColor:u.editor.getAttributes("textStyle").color,currentBackgroundColor:u.editor.getAttributes("highlight").color,currentFontFamily:u.editor.getAttributes("textStyle").fontFamily,isAlignLeft:u.editor.isActive({textAlign:"left"})??!1,isAlignCenter:u.editor.isActive({textAlign:"center"})??!1,isAlignRight:u.editor.isActive({textAlign:"right"})??!1,isAlignJustify:u.editor.isActive({textAlign:"justify"})??!1,canClearMarks:u.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:u.editor.isActive("paragraph")??!1,isHeading1:u.editor.isActive("heading",{level:1})??!1,isHeading2:u.editor.isActive("heading",{level:2})??!1,isHeading3:u.editor.isActive("heading",{level:3})??!1,isBulletList:u.editor.isActive("bulletList")??!1,isOrderedList:u.editor.isActive("orderedList")??!1,canUndo:u.editor.can().chain().undo().run()??!1,canRedo:u.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:i.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:i.jsx(qfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:i.jsx(zhe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:i.jsx(Bme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:i.jsx(uhe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:i.jsx(Dfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:i.jsx(Tfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:i.jsx(Lfe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:i.jsx(Ofe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsxs("button",{type:"button",onClick:()=>a("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[i.jsx(pme,{size:18}),l.currentColor&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),i.jsxs("button",{type:"button",onClick:()=>a("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[i.jsx(hme,{size:18}),l.currentBackgroundColor&&i.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[i.jsx("button",{type:"button",onClick:()=>o(!s),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:i.jsx(VK,{size:18})}),s&&i.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(u=>i.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(u).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:u},children:u.split(",")[0]},u)),i.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsx("button",{type:"button",onClick:u=>{u.preventDefault(),u.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:i.jsx(Yhe,{size:18})}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:i.jsx(Tme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:i.jsx(ha,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:i.jsx(bme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:i.jsx(Ehe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:i.jsx(Phe,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:i.jsx(Rhe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:i.jsx(VE,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:i.jsx(Qhe,{size:18})})]}),i.jsx("div",{className:"w-px bg-gray-300 mx-1"}),i.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[i.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:i.jsx(Yme,{size:18})}),i.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:i.jsx(kme,{size:18})})]})]})}),e&&i.jsx(i_e,{editor:t,onClose:()=>r(!1)}),n&&i.jsx(s_e,{editor:t,type:n,onClose:()=>a(null)})]})}const Of=({value:t,onChange:e})=>{const r=qke({extensions:a_e,content:t,onUpdate:({editor:n})=>{const a=n.getHTML();e(a)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?i.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[i.jsx(o_e,{editor:r}),i.jsx(Ike,{editor:r,className:"min-h-[120px]"})]}):i.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:i.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},l_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,c_e=()=>{var _e,Ne,ge,ke,ze,he,ye;const{getAllMasterData:t,submitMachineHistory:e}=ir(),r=nr(),[n,a]=y.useState(!1),[s,o]=y.useState(null),[l,c]=y.useState(null),[u,f]=y.useState(!1),[m,g]=y.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(ae=>!ae)},[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState([]),[k,S]=y.useState([]),[A,_]=y.useState([]),[M,R]=y.useState([]),[L,I]=y.useState([]),[B,D]=y.useState([]),[E,H]=y.useState([]),[V,Y]=y.useState([]),[W,F]=y.useState([]),z={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[J,oe]=y.useState(z),K=y.useCallback((ae,ie)=>{if(ae&&typeof ae=="object"&&"value"in ae&&ie)oe(dt=>({...dt,[ie]:ae.value}));else if(ae&&"target"in ae){const{name:dt,value:ct}=ae.target;oe(Le=>{if(["stopJam","startJam"].includes(dt)){const Qe=ct.replace(/[^\d]/g,""),yt=parseInt(Qe,10);return{...Le,[dt]:Qe===""?0:Math.max(0,Math.min(23,isNaN(yt)?0:yt))}}if(["stopMenit","startMenit"].includes(dt)){const Qe=ct.replace(/[^\d]/g,""),yt=parseInt(Qe,10);return{...Le,[dt]:Qe===""?0:Math.max(0,Math.min(59,isNaN(yt)?0:yt))}}return dt==="runningHour"||dt==="jumlah"?{...Le,[dt]:ct.replace(/[^\d.]/g,"")}:{...Le,[dt]:ct}})}},[]),U=y.useCallback(ae=>{if(typeof ae=="string"){const ie=ae.replace(/[^\d]/g,""),dt=parseInt(ie,10);return isNaN(dt)?"":dt.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(ae)||ae===null||ae===void 0?"":ae.toLocaleString("id-ID").replace(/,/g,".")},[]),X=async ae=>{ae.preventDefault(),a(!0),o(null),c(null);const ie={...J,perbaikanPerawatan:J.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:J.runningHour?parseInt(String(J.runningHour).replace(/\./g,""),10):0,jumlah:J.jumlah?parseInt(String(J.jumlah).replace(/\./g,""),10):0,stopJam:J.stopJam===0&&String(J.stopJam)===""?null:J.stopJam,stopMenit:J.stopMenit===0&&String(J.stopMenit)===""?null:J.stopMenit,startJam:J.startJam===0&&String(J.startJam)===""?null:J.startJam,startMenit:J.startMenit===0&&String(J.startMenit)===""?null:J.startMenit};try{await e(ie),c("Data history mesin berhasil disimpan!"),f(!0),Z()}catch(dt){o(dt.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",dt)}finally{a(!1)}},Z=y.useCallback(()=>{oe(z),o(null),c(null)},[]),ne=y.useCallback(()=>{f(!1),r("/machinehistory")},[r]);y.useEffect(()=>{(async()=>{var ie,dt,ct,Le,Qe,yt,bt,It,At;try{const Se=await t();N(((ie=Se.mesin)==null?void 0:ie.data)||[]),S(((dt=Se.shifts)==null?void 0:dt.data)||[]),_(((ct=Se.groups)==null?void 0:ct.data)||[]),R(((Le=Se.stoptimes)==null?void 0:Le.data)||[]),I(((Qe=Se.units)==null?void 0:Qe.data)||[]),D(((yt=Se.itemtroubles)==null?void 0:yt.data)||[]),H(((bt=Se.jenisaktivitas)==null?void 0:bt.data)||[]),Y(((It=Se.kegiatans)==null?void 0:It.data)||[]),F(((At=Se.unitspareparts)==null?void 0:At.data)||[])}catch(Se){console.error("Gagal mengambil semua data master:",Se),o(Se.message||"Gagal memuat daftar data master.")}})()},[t]);const ue={control:(ae,ie)=>({...ae,minHeight:"42px",borderColor:ie.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ie.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ie)=>({...ae,backgroundColor:ie.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:v,toggleSidebar:p}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),i.jsxs(O.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to History"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:s}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),i.jsxs("form",{onSubmit:X,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"date",id:"date",value:J.date,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"shift",id:"shift",options:(k||[]).map(ae=>({value:ae.id,label:ae.name})),value:k.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===J.shift),onChange:ae=>K(ae,"shift"),placeholder:"Select Shift",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"group",id:"group",options:(A||[]).map(ae=>({value:ae.id,label:ae.name})),value:A.map(ae=>({value:ae.id,label:ae.name})).find(ae=>ae.value===J.group),onChange:ae=>K(ae,"group"),placeholder:"Select Group",styles:ue,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-indigo-500"})," Time Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"startJam",id:"startJam",value:J.startJam===null?"":J.startJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:J.startMenit===null?"":J.startMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:J.stopJam===null?"":J.stopJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:J.stopMenit===null?"":J.stopMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"stopTime",id:"stopTime",options:(M||[]).map(ae=>({value:ae.id,label:ae.name})),value:M.find(ae=>ae.id===J.stopTime)?{value:J.stopTime,label:((_e=M.find(ae=>ae.id===J.stopTime))==null?void 0:_e.name)||""}:null,onChange:ae=>K(ae,"stopTime"),placeholder:"Select Stop Type",styles:ue,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"mesin",id:"mesin",options:(b||[]).map(ae=>({value:ae.id,label:ae.name})),value:b.find(ae=>ae.id===J.mesin)?{value:J.mesin,label:((Ne=b.find(ae=>ae.id===J.mesin))==null?void 0:Ne.name)||""}:null,onChange:ae=>K(ae,"mesin"),placeholder:"Select Machine",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:U(J.runningHour),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"unit",id:"unit",options:(L||[]).map(ae=>({value:ae.id,label:ae.name})),value:L.find(ae=>ae.id===J.unit)?{value:J.unit,label:((ge=L.find(ae=>ae.id===J.unit))==null?void 0:ge.name)||""}:null,onChange:ae=>K(ae,"unit"),placeholder:"Select Unit",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"itemTrouble",id:"itemTrouble",options:(B||[]).map(ae=>({value:ae.id,label:ae.name})),value:B.find(ae=>ae.id===J.itemTrouble)?{value:J.itemTrouble,label:((ke=B.find(ae=>ae.id===J.itemTrouble))==null?void 0:ke.name)||""}:null,onChange:ae=>K(ae,"itemTrouble"),placeholder:"Select Item Trouble",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:J.jenisGangguan,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:J.bentukTindakan,onChange:ae=>{oe(ie=>({...ie,bentukTindakan:ae}))}})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"rootCause",id:"rootCause",value:J.rootCause,onChange:K,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Activity Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"jenisAktivitas",id:"jenisAktivitas",options:(E||[]).map(ae=>({value:ae.id,label:ae.name})),value:E.find(ae=>ae.id===J.jenisAktivitas)?{value:J.jenisAktivitas,label:((ze=E.find(ae=>ae.id===J.jenisAktivitas))==null?void 0:ze.name)||""}:null,onChange:ae=>K(ae,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"kegiatan",id:"kegiatan",options:(V||[]).map(ae=>({value:ae.id,label:ae.name})),value:V.find(ae=>ae.id===J.kegiatan)?{value:J.kegiatan,label:((he=V.find(ae=>ae.id===J.kegiatan))==null?void 0:he.name)||""}:null,onChange:ae=>K(ae,"kegiatan"),placeholder:"Select Activity",styles:ue,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),i.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:J.kodePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),i.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:J.sparePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),i.jsx("input",{type:"text",name:"idPart",id:"idPart",value:J.idPart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),i.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:U(J.jumlah),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),i.jsx(Wn,{name:"unitSparePart",id:"unitSparePart",options:(W||[]).map(ae=>({value:ae.id,label:ae.name})),value:W.find(ae=>ae.id===J.unitSparePart)?{value:J.unitSparePart,label:((ye=W.find(ae=>ae.id===J.unitSparePart))==null?void 0:ye.name)||""}:null,onChange:ae=>K(ae,"unitSparePart"),placeholder:"Select Unit",styles:ue})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:Z,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(ha,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),i.jsx(l_e,{isOpen:u,onClose:ne,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ne,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},u_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,d_e=()=>{var H,V,Y,W,F,z,J,oe,K,U,X,Z,ne,ue,_e,Ne,ge,ke,ze,he,ye,ae,ie,dt,ct,Le,Qe,yt,bt,It,At,Se,gt,rt,Nt,kt;const{id:t}=js(),e=nr(),[r,n]=y.useState(()=>{const De=localStorage.getItem("sidebarOpen");return De?JSON.parse(De):!1}),a=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(De=>!De)},[s,o]=y.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:u,isMasterDataLoading:f}=ir(),[m,g]=y.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[p,v]=y.useState(!0),[w,b]=y.useState(!1),[N,k]=y.useState(null),[S,A]=y.useState(null),[_,M]=y.useState(!1);y.useEffect(()=>{(async()=>{var vt,Pe,$e,Ae,Ye;try{if(v(!0),f||!u)return;if(t){const ve=(await l(t)).data;ve?g({date:ve.date||"",shift:String(ve.shift_id)||"",group:String(ve.group_id)||"",stopJam:((vt=ve.startstop)==null?void 0:vt.stop_time_hh)??null,stopMenit:((Pe=ve.startstop)==null?void 0:Pe.stop_time_mm)??null,startJam:(($e=ve.startstop)==null?void 0:$e.start_time_hh)??null,startMenit:((Ae=ve.startstop)==null?void 0:Ae.start_time_mm)??null,stopTime:String(ve.stoptime_id)||"",unit:String(ve.unit_id)||"",mesin:String(ve.mesin_id)||"",runningHour:ve.running_hour??0,itemTrouble:String(ve.itemtrouble_id)||"",jenisGangguan:ve.jenis_gangguan||"",bentukTindakan:ve.bentuk_tindakan||"",perbaikanPerawatan:((Ye=ve.jenisaktifitas)==null?void 0:Ye.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ve.root_cause||"",jenisAktivitas:String(ve.jenisaktifitas_id)||"",kegiatan:String(ve.kegiatan_id)||"",kodePart:ve.kode_part||"",sparePart:ve.spare_part||"",idPart:ve.id_part||"",jumlah:ve.jumlah??0,unitSparePart:String(ve.unitsp_id)||""}):k("Data history mesin tidak ditemukan.")}else k("ID history mesin tidak diberikan untuk pengeditan.")}catch(tt){console.error("Error fetching machine history:",tt),k(tt.message||"Terjadi kesalahan saat memuat data.")}finally{v(!1)}})()},[t,u,f,l]);const R=y.useCallback((De,vt)=>{if(De&&typeof De=="object"&&"value"in De&&vt)g(Pe=>({...Pe,[vt]:De.value}));else if(De&&"target"in De){const{name:Pe,value:$e,type:Ae}=De.target;g(Ye=>{if(["stopJam","startJam"].includes(Pe)){const tt=$e.replace(/[^\d]/g,""),ve=parseInt(tt,10);return{...Ye,[Pe]:tt===""?null:Math.max(0,Math.min(23,isNaN(ve)?0:ve))}}if(["stopMenit","startMenit"].includes(Pe)){const tt=$e.replace(/[^\d]/g,""),ve=parseInt(tt,10);return{...Ye,[Pe]:tt===""?null:Math.max(0,Math.min(59,isNaN(ve)?0:ve))}}return Pe==="runningHour"||Pe==="jumlah"?{...Ye,[Pe]:$e.replace(/[^\d.]/g,"")}:{...Ye,[Pe]:$e}})}},[]),L=y.useCallback(De=>{if(De===null||isNaN(Number(De)))return"";if(typeof De=="string"){const vt=De.replace(/[^\d]/g,""),Pe=parseInt(vt,10);return isNaN(Pe)?"":Pe.toLocaleString("id-ID").replace(/,/g,".")}return De.toLocaleString("id-ID").replace(/,/g,".")},[]),I=async De=>{De.preventDefault(),b(!0),k(null),A(null);const vt={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const Pe=await c(t,vt);A(Pe.message||"Machine history updated successfully!"),M(!0)}catch(Pe){console.error("Error updating machine history:",Pe),k(Pe.message||"Failed to update machine history.")}finally{b(!1)}},B=y.useCallback(()=>{g({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),k(null),A(null)},[]),D=y.useCallback(()=>{M(!1),e("/machinehistory")},[e]),E={control:(De,vt)=>({...De,minHeight:"42px",borderColor:vt.isFocused?"#3B82F6":"#D1D5DB",boxShadow:vt.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:De=>({...De,padding:"0"}),singleValue:De=>({...De,color:"#374151"}),placeholder:De=>({...De,color:"#6B7280"}),dropdownIndicator:De=>({...De,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:De=>({...De,display:"none"}),menu:De=>({...De,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(De,vt)=>({...De,backgroundColor:vt.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return f||p?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[i.jsx(vn,{className:"animate-spin mr-3 text-2xl"}),i.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!u&&!f?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[i.jsx(Ht,{className:"mr-3 text-2xl"}),i.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?i.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:i.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[i.jsx(Ht,{className:"mr-3 text-2xl"}),i.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:s,toggleSidebar:a}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),i.jsxs(O.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to History"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:N}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>k(null)})})]}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"shift",id:"shift",options:((V=(H=u==null?void 0:u.shifts)==null?void 0:H.data)==null?void 0:V.map(De=>({value:De.id,label:De.name})))||[],value:((W=(Y=u==null?void 0:u.shifts)==null?void 0:Y.data)==null?void 0:W.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.shift)))||null,onChange:De=>R(De,"shift"),placeholder:"Select Shift",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"group",id:"group",options:((z=(F=u==null?void 0:u.groups)==null?void 0:F.data)==null?void 0:z.map(De=>({value:De.id,label:De.name})))||[],value:((oe=(J=u==null?void 0:u.groups)==null?void 0:J.data)==null?void 0:oe.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.group)))||null,onChange:De=>R(De,"group"),placeholder:"Select Group",styles:E,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-indigo-500"})," Time Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:R,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:R,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:R,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),i.jsx("span",{className:"text-gray-500 text-lg",children:":"}),i.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:R,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"stopTime",id:"stopTime",options:((U=(K=u==null?void 0:u.stoptimes)==null?void 0:K.data)==null?void 0:U.map(De=>({value:De.id,label:De.name})))||[],value:((Z=(X=u==null?void 0:u.stoptimes)==null?void 0:X.data)==null?void 0:Z.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.stopTime)))||null,onChange:De=>R(De,"stopTime"),placeholder:"Select Stop Type",styles:E,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"mesin",id:"mesin",options:((ue=(ne=u==null?void 0:u.mesin)==null?void 0:ne.data)==null?void 0:ue.map(De=>({value:De.id,label:De.name})))||[],value:((Ne=(_e=u==null?void 0:u.mesin)==null?void 0:_e.data)==null?void 0:Ne.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.mesin)))||null,onChange:De=>R(De,"mesin"),placeholder:"Select Machine",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:L(m.runningHour),onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"unit",id:"unit",options:((ke=(ge=u==null?void 0:u.units)==null?void 0:ge.data)==null?void 0:ke.map(De=>({value:De.id,label:De.name})))||[],value:((he=(ze=u==null?void 0:u.units)==null?void 0:ze.data)==null?void 0:he.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.unit)))||null,onChange:De=>R(De,"unit"),placeholder:"Select Unit",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"itemTrouble",id:"itemTrouble",options:((ae=(ye=u==null?void 0:u.itemtroubles)==null?void 0:ye.data)==null?void 0:ae.map(De=>({value:De.id,label:De.name})))||[],value:((dt=(ie=u==null?void 0:u.itemtroubles)==null?void 0:ie.data)==null?void 0:dt.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.itemTrouble)))||null,onChange:De=>R(De,"itemTrouble"),placeholder:"Select Item Trouble",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:m.bentukTindakan,onChange:De=>{g(vt=>({...vt,bentukTindakan:De}))}})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:R,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Activity Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"jenisAktivitas",id:"jenisAktivitas",options:((Le=(ct=u==null?void 0:u.jenisaktivitas)==null?void 0:ct.data)==null?void 0:Le.map(De=>({value:De.id,label:De.name})))||[],value:((yt=(Qe=u==null?void 0:u.jenisaktivitas)==null?void 0:Qe.data)==null?void 0:yt.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.jenisAktivitas)))||null,onChange:De=>R(De,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{name:"kegiatan",id:"kegiatan",options:((It=(bt=u==null?void 0:u.kegiatans)==null?void 0:bt.data)==null?void 0:It.map(De=>({value:De.id,label:De.name})))||[],value:((Se=(At=u==null?void 0:u.kegiatans)==null?void 0:At.data)==null?void 0:Se.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.kegiatan)))||null,onChange:De=>R(De,"kegiatan"),placeholder:"Select Activity",styles:E,required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),i.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),i.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),i.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),i.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:L(m.jumlah),onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),i.jsx(Wn,{name:"unitSparePart",id:"unitSparePart",options:((rt=(gt=u==null?void 0:u.unitspareparts)==null?void 0:gt.data)==null?void 0:rt.map(De=>({value:De.id,label:De.name})))||[],value:((kt=(Nt=u==null?void 0:u.unitspareparts)==null?void 0:Nt.data)==null?void 0:kt.map(De=>({value:De.id,label:De.name})).find(De=>String(De.value)===String(m.unitSparePart)))||null,onChange:De=>R(De,"unitSparePart"),placeholder:"Select Unit",styles:E})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:B,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(ha,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),i.jsx(u_e,{isOpen:_,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},t$={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},f_e=()=>{var ze;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:a,updateUserPermissions:s,deleteUser:o,createRole:l,updateRole:c}=ir(),u=nr();Ui();const[f,m]=y.useState(()=>{const he=localStorage.getItem("sidebarOpen");return he?JSON.parse(he):!1}),[g,p]=y.useState(window.innerWidth<768),[v,w]=y.useState("roles"),[b,N]=y.useState(null),[k,S]=y.useState(null),[A,_]=y.useState(!1),[M,R]=y.useState({}),[L,I]=y.useState("all"),[B,D]=y.useState(""),[E,H]=y.useState([]),[V,Y]=y.useState([]),[W,F]=y.useState(!1);y.useRef(null),y.useEffect(()=>{const he=()=>{p(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),y.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(f))},[f]),y.useEffect(()=>{const he=async()=>{try{const[ye,ae]=await Promise.all([n(),r("/roles")]),dt=ye.map(Le=>({id:String(Le.id),name:Le.name,nik:Le.nik,email:Le.email,roleId:Le.role_id?String(Le.role_id):null,customPermissions:Le.customPermissions||[],department:Le.department||null,department_id:Le.department_id||null,permissions:Le.permissions||Le.allPermissions||[]})),ct=ae.map(Le=>({id:String(Le.id),name:Le.name,description:Le.description||`${Le.name} role`,permissions:Le.permissions.map(String),isSuperadmin:Le.name==="superadmin"}));H(dt),Y(ct)}catch(ye){console.error("Failed to fetch data:",ye)}};a("view_permissions")&&he()},[n,r,a]);const z=()=>{m(he=>!he)},J=he=>{R(ye=>({...ye,[he]:!ye[he]}))},oe=he=>{!b||b.isSuperadmin||N(ye=>({...ye,permissions:ye.permissions.includes(he)?ye.permissions.filter(ae=>ae!==he):[...ye.permissions,he]}))},K=he=>{!k||k.roleId==="3"||S(ye=>{if(!ye)return null;const ae=ye.customPermissions.includes(he)?ye.customPermissions.filter(ie=>ie!==he):[...ye.customPermissions,he];return{...ye,customPermissions:ae,permissions:[...new Set([...ye.rolePermissions||[],...ae])]}})},U=he=>{N(he),_(!0)},X=y.useCallback(async()=>{if(!b||!a("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!b.name.trim()){alert("Role name cannot be empty!");return}try{const he={name:b.name,description:b.description,permissions:b.permissions};b.id?await c(b.id,he):await l(he);const ae=(await r("/roles")).map(ie=>({id:String(ie.id),name:ie.name,description:ie.description,permissions:ie.permissions.map(String),isSuperadmin:ie.name==="superadmin"}));Y(ae),_(!1),N(null)}catch(he){console.error("Failed to save role:",he)}},[b,a,c,l,r]),Z=he=>{const ye=V.find(ae=>String(ae.id)===String(he.roleId));S({...he,rolePermissions:(ye==null?void 0:ye.permissions)||[],customPermissions:he.customPermissions||[],permissions:he.permissions||[]})},ne=async()=>{if(k)try{const he=await s(k.id,{roleId:k.roleId||null,customPermissions:k.customPermissions||[]});H(E.map(ye=>{if(ye.id===he.id){const ae=he.roleId||null,ie=V.find(Qe=>String(Qe.id)===String(ae)),dt=(ie==null?void 0:ie.permissions)||[],ct=he.customPermissions||[],Le=[...new Set([...dt,...ct])];return{...he,roleId:ae,customPermissions:ct,rolePermissions:dt,permissions:Le}}return ye})),S(null)}catch(he){console.error("Failed to save user:",he)}},ue=async he=>{if(!(!a("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${he}`,{method:"DELETE"});const ae=(await r("/roles")).map(ie=>({id:String(ie.id),name:ie.name,description:ie.description,permissions:ie.permissions.map(String),isSuperadmin:ie.name==="superadmin"}));Y(ae)}catch(ye){console.error("Failed to delete role:",ye)}},_e=y.useCallback(async he=>{if(window.confirm("Are you sure you want to delete this user?")){F(!0);try{await o(he);const ye=await n();H(ye)}catch(ye){console.error("Failed to delete user:",ye)}finally{F(!1)}}},[o,n]),Ne=he=>{if(!he)return"No Role";const ye=V.find(ae=>String(ae.id)===String(he));return ye?ye.name:"No Role"},ge=["all",...new Set(E.map(he=>{var ye;return((ye=he.department)==null?void 0:ye.name)||""}).filter(Boolean))],ke=E.filter(he=>{var ye;return L==="all"||((ye=he.department)==null?void 0:ye.name)===L}).filter(he=>he.name.toLowerCase().includes(B.toLowerCase())||he.nik.toLowerCase().includes(B.toLowerCase()));return a("15")?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Lg,{}),isMobile:g,toggleSidebar:z}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:i.jsxs("div",{className:"flex border-b border-gray-100",children:[i.jsxs("button",{onClick:()=>w("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Lg,{className:"mr-2 text-base"}),"Roles & Permissions"]}),i.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[i.jsx(Va,{className:"mr-2 text-base"}),"User Permissions"]})]})}),v==="roles"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),a("16")&&i.jsxs(O.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Role"})]})]}),A&&i.jsxs(O.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:b!=null&&b.id?"Edit Role":"Add New Role"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),i.jsx("input",{type:"text",value:(b==null?void 0:b.name)||"",onChange:he=>N(ye=>({...ye,name:he.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),i.jsx("input",{type:"text",value:(b==null?void 0:b.description)||"",onChange:he=>N(ye=>({...ye,description:he.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),i.jsx("div",{className:"space-y-4",children:Object.entries(t$).map(([he,ye])=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>J(he),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("span",{className:"font-medium text-gray-700 capitalize",children:he.replace(/([A-Z])/g," $1").trim()}),M[he]?i.jsx(aj,{}):i.jsx(Sa,{})]}),i.jsx(sr,{children:M[he]&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ye).map(([ae,ie])=>i.jsxs("div",{className:"flex items-center",children:[i.jsx("input",{type:"checkbox",id:`perm-${ie}`,checked:(b==null?void 0:b.isSuperadmin)||(b==null?void 0:b.permissions.includes(ie))||!1,onChange:()=>oe(ie),disabled:b==null?void 0:b.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),i.jsx("label",{htmlFor:`perm-${ie}`,className:"ml-2 text-sm text-gray-700",children:i.jsxs("div",{className:"font-medium",children:[ae," ",he.replace(/([A-Z])/g," $1").trim(),(b==null?void 0:b.isSuperadmin)&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},ie))})})]},he))}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:X,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(he=>i.jsxs(O.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[he.name,he.isSuperadmin&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),i.jsxs("div",{className:"flex space-x-2",children:[!he.isSuperadmin&&a("16")&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>U(he),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:i.jsx(Ci,{className:"text-base"})}),!he.isSuperadmin&&a("17")&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ue(he.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"text-base"})})]})]}),i.jsx("p",{className:"text-gray-600 text-sm mb-4",children:he.description}),i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Permissions:"}),i.jsx("span",{className:"font-medium text-gray-900",children:he.permissions.length})]}),i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),i.jsx("span",{className:"font-medium text-gray-900",children:E.filter(ye=>ye.roleId===he.id).length})]})]})]},he.id))})]}),v==="users"&&i.jsxs("div",{children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[i.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),i.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[i.jsxs("div",{className:"relative",children:[i.jsx(Ti,{className:"absolute left-3 top-3 text-gray-400"}),i.jsx("input",{type:"text",placeholder:"Search users...",value:B,onChange:he=>D(he.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),i.jsx("select",{value:L,onChange:he=>I(he.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ge.map(he=>i.jsx("option",{value:he,children:he==="all"?"All Departments":he},he))}),a("17")&&i.jsxs(O.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>u("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(Zme,{className:"text-base"}),i.jsx("span",{children:"Add User"})]})]})]}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),i.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:ke.map(he=>{var ye,ae;return i.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:he.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:he.nik}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:he.email}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((ye=he.department)==null?void 0:ye.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ne(he.roleId)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:he.roleId==="3"?i.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(ae=he.customPermissions)!=null&&ae.length?i.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:he.customPermissions.join(", "),children:[he.customPermissions.length," custom"]}):i.jsx("span",{className:"italic text-gray-400",children:"None"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:a("edit_permissions")&&i.jsxs(i.Fragment,{children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(he),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:i.jsx(Ci,{className:"text-base"})}),he.id!==(t==null?void 0:t.id)&&a("manage_users")&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>_e(he.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"text-base"})})]})})]},he.id)})})]})})})]})]})]}),i.jsx(sr,{children:k&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),i.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsxs("div",{className:"p-6",children:[!k.roleId&&i.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:i.jsx("p",{className:"text-yellow-700",children:" This user has no role assigned. Permissions will come only from custom permissions."})}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),i.jsx("div",{className:"font-medium text-gray-900",children:k.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),i.jsx("div",{className:"text-gray-600",children:k.nik})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"text-gray-600",children:k.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"text-gray-600",children:((ze=k.department)==null?void 0:ze.name)||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),i.jsxs("select",{value:k.roleId||"",onChange:he=>{const ye=he.target.value||null,ae=V.find(ie=>String(ie.id)===String(ye));S({...k,roleId:ye,rolePermissions:(ae==null?void 0:ae.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[i.jsx("option",{value:"",children:"No Role"}),V.map(he=>i.jsx("option",{value:String(he.id),children:he.name},he.id))]})]})]}),i.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),i.jsx("div",{className:"space-y-4",children:Object.entries(t$).map(([he,ye])=>i.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[i.jsxs("button",{onClick:()=>J(he),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[i.jsx("span",{className:"font-medium text-gray-700 capitalize",children:he.replace(/([A-Z])/g," $1").trim()}),M[he]?i.jsx(aj,{}):i.jsx(Sa,{})]}),i.jsx(sr,{children:M[he]&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(ye).map(([ae,ie])=>{var yt,bt;const dt=((yt=k.rolePermissions)==null?void 0:yt.includes(ie))||!1,ct=k.roleId==="3",Le=ct||dt||((bt=k.customPermissions)==null?void 0:bt.includes(ie)),Qe=ct||dt;return i.jsxs("div",{className:`flex items-center ${Qe?"opacity-50":""}`,children:[i.jsx("input",{type:"checkbox",id:`user-perm-${ie}`,checked:Le,onChange:()=>!Qe&&K(ie),disabled:Qe,className:`h-4 w-4 rounded focus:ring-blue-500 ${ct?"text-blue-600":dt?"text-purple-600":"text-blue-600"}`}),i.jsx("label",{htmlFor:`user-perm-${ie}`,className:"ml-2 text-sm text-gray-700",children:i.jsxs("div",{className:"font-medium flex items-center",children:[ae," ",he.replace(/([A-Z])/g," $1").trim(),ct&&i.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),dt&&!ct&&i.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},ie)})})})]},he))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ne,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):i.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:i.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[i.jsx(Ur,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},h_e=()=>{const{changePassword:t}=ir(),e=nr(),[r,n]=y.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[a,s]=y.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=y.useState(!1),[c,u]=y.useState({current:!1,new:!1,confirm:!1}),[f,m]=y.useState(""),g=b=>{const{name:N,value:k}=b.target;n(S=>({...S,[N]:k})),a[N]&&s(S=>({...S,[N]:"",general:""}))},p=b=>{u(N=>({...N,[b]:!N[b]}))},v=()=>{let b=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",b=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",b=!1):(N.newPassword="New password is required",b=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",b=!1),s(N),b},w=async b=>{if(b.preventDefault(),!!v()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),s({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),s(k=>({...k,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return i.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[i.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:i.jsx(lE,{className:"text-xl text-gray-700"})}),i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),i.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),i.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[i.jsxs("div",{className:"mb-6",children:[i.jsxs("div",{className:"flex items-center mb-2",children:[i.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:i.jsx(H7,{className:"text-blue-600 text-lg"})}),i.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),i.jsxs("form",{onSubmit:w,className:"space-y-6",children:[i.jsxs(sr,{children:[a.general&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[i.jsx(dw,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),i.jsx("p",{className:"text-red-600 text-sm",children:a.general})]})]}),f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[i.jsx(Loe,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),i.jsx("p",{className:"text-green-600 text-sm",children:f})]})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:g,className:`w-full border ${a.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),i.jsx("button",{type:"button",onClick:()=>p("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?i.jsx(v2,{}):i.jsx(w2,{})})]}),a.currentPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(dw,{className:"mr-1"})," ",a.currentPassword]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:g,className:`w-full border ${a.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>p("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?i.jsx(v2,{}):i.jsx(w2,{})})]}),i.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[i.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[i.jsx(B7,{className:"mr-1 text-blue-500"})," Password requirement:"]}),i.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),a.newPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(dw,{className:"mr-1"})," ",a.newPassword]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),i.jsxs("div",{className:"relative",children:[i.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:`w-full border ${a.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),i.jsx("button",{type:"button",onClick:()=>p("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?i.jsx(v2,{}):i.jsx(w2,{})})]}),a.confirmPassword&&i.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[i.jsx(dw,{className:"mr-1"})," ",a.confirmPassword]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(H7,{className:"mr-2"}),"Update Password"]})})]})]})]}),i.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[i.jsx(B7,{className:"text-blue-500 mr-2"})," Security Tip"]}),i.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},m_e=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],p_e=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],g_e=()=>{const t=nr(),{user:e,register:r,getRoles:n,hasPermission:a}=ir(),[s,o]=y.useState(!1),[l,c]=y.useState({}),[u,f]=y.useState(!1),[m,g]=y.useState({}),[p,v]=y.useState([]),[w,b]=y.useState([]),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return JSON.parse(Y||"false")}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),A(Y=>!Y)},[M,R]=y.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});y.useEffect(()=>{(async()=>{try{const W=await n();v(W),b([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(W){console.error("Failed to fetch data:",W)}})()},[n,a,t]);const L=m_e.reduce((Y,W)=>(Y[W]=p_e.filter(F=>F.category===W),Y),{}),I=Y=>{c(W=>({...W,[Y]:!W[Y]}))},B=Y=>{R(W=>({...W,customPermissions:W.customPermissions.includes(Y)?W.customPermissions.filter(F=>F!==Y):[...W.customPermissions,Y]}))},D=Y=>{const{name:W,value:F}=Y.target;R(z=>({...z,[W]:F})),m[W]&&g(z=>({...z,[W]:""}))},E=()=>{const Y={};return M.name.trim()||(Y.name="Name is required"),M.nik.trim()?/^\d+$/.test(M.nik)||(Y.nik="NIK must be numeric"):Y.nik="NIK is required",M.password?M.password.length<6&&(Y.password="Password must be at least 6 characters"):Y.password="Password is required",M.password!==M.confirmPassword&&(Y.confirmPassword="Passwords do not match"),M.department||(Y.department="Department is required"),M.roleId||(Y.roleId="Role is required"),g(Y),Object.keys(Y).length===0},H=Y=>{const W=p.find(F=>F.id===Y);return W?W.permissions:[]},V=async Y=>{if(Y.preventDefault(),!!E()){f(!0);try{await r(M.name,M.email,M.nik,M.password,M.department,M.position,M.roleId,M.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(W){console.error("Failed to create user:",W),g({form:W.message||"Failed to create user. Please try again."})}finally{f(!1)}}};return a("manage_users")?i.jsxs("div",{className:`flex h-screen font-sans antialiased ${s?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[i.jsx(er,{})," ",i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(un,{}),isMobile:N,toggleSidebar:_}),i.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${s?"bg-gray-900":"bg-gray-50"}`,children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:`${s?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),i.jsx("p",{className:`${s?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),i.jsxs(O.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${s?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[i.jsx(lE,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${s?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),i.jsxs("form",{onSubmit:V,children:[i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${s?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[i.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-gray-100":"text-gray-900"}`,children:"User Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),i.jsx("input",{type:"text",name:"name",value:M.name,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),i.jsx("input",{type:"text",name:"nik",value:M.nik,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Email*"}),i.jsx("input",{type:"text",name:"email",value:M.email,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Department*"}),i.jsxs("select",{name:"department",value:M.department,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[i.jsx("option",{value:"",children:"Select Department"}),w.map(Y=>i.jsx("option",{value:Y.name,children:Y.name},Y.id))]}),m.department&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Position"}),i.jsx("input",{type:"text",name:"position",value:M.position,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Password*"}),i.jsx("input",{type:"password",name:"password",value:M.password,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),i.jsx("input",{type:"password",name:"confirmPassword",value:M.confirmPassword,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),i.jsxs("div",{children:[i.jsx("label",{className:`block text-sm font-medium ${s?"text-gray-300":"text-gray-700"}`,children:"Role*"}),i.jsxs("select",{name:"roleId",value:M.roleId,onChange:D,className:`mt-1 block w-full border ${s?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[i.jsx("option",{value:"",children:"Select Role"}),p.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]}),m.roleId&&i.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${s?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[i.jsx("h3",{className:`text-lg font-semibold mb-4 ${s?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),i.jsx("p",{className:`text-sm mb-4 ${s?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),i.jsx("div",{className:"space-y-4",children:Object.entries(L).map(([Y,W])=>i.jsxs("div",{className:`${s?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[i.jsxs("button",{type:"button",onClick:()=>I(Y),className:`w-full flex justify-between items-center p-3 ${s?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[i.jsx("span",{className:`font-medium ${s?"text-gray-200":"text-gray-700"}`,children:Y}),l[Y]?i.jsx(Ioe,{className:`${s?"text-gray-400":"text-gray-500"}`}):i.jsx(Roe,{className:`${s?"text-gray-400":"text-gray-500"}`})]}),i.jsx(sr,{children:l[Y]&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${s?"bg-gray-800":"bg-white"}`,children:W.map(F=>{const z=M.roleId?H(M.roleId).includes(F.id):!1,J=M.customPermissions.includes(F.id),oe=z;return i.jsxs("div",{className:`flex items-center ${oe?"opacity-50":""}`,children:[i.jsx("input",{type:"checkbox",id:`perm-${F.id}`,checked:J||z,onChange:()=>!oe&&B(F.id),disabled:oe,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${z?s?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":s?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),i.jsxs("label",{htmlFor:`perm-${F.id}`,className:`ml-2 text-sm ${s?"text-gray-300":"text-gray-700"}`,children:[i.jsxs("div",{className:"font-medium flex items-center",children:[F.name,z&&i.jsx("span",{className:`ml-2 text-xs ${s?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),i.jsx("div",{className:"text-gray-500 text-xs",children:F.description})]})]},F.id)})})})]},Y))})]}),i.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[i.jsx(O.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${s?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:u,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${s?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:u?i.jsxs(i.Fragment,{children:[i.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[i.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),i.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Boe,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):i.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:i.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},qw=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},x_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,y_e=({isOpen:t,onClose:e,onAssign:r,workOrder:n,users:a})=>{const[s,o]=y.useState(""),l=()=>{n&&s&&(r(n.id,s),e())};return!t||!n?null:i.jsx(x_e,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("p",{className:"text-gray-700",children:["Work Order ",i.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",i.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),i.jsxs("select",{id:"user-select",value:s,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[i.jsx("option",{value:"",children:"Select User"}),a.map(c=>{var u;return i.jsxs("option",{value:c.id,children:[c.name," - ",((u=c.department)==null?void 0:u.name)||c.department_name," (",c.position||"No Position",")"]},c.id)})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!s,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${s?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},b_e=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(1),[k]=y.useState(5),[S,A]=y.useState(window.innerWidth<768),[_,M]=y.useState(!1),[R,L]=y.useState(!1),[I,B]=y.useState([]),[D,E]=y.useState(!0),[H,V]=y.useState(null),[Y,W]=y.useState(!1),[F,z]=y.useState(null),[J,oe]=y.useState(!1),[K,U]=y.useState([]),[X,Z]=y.useState(!1),ne=nr(),ue=Ui(),_e=y.useRef(null),Ne=y.useRef(null),{user:ge,getWorkOrdersIT:ke,updateWorkOrderIT:ze,getUsers:he,hasPermission:ye,getVendor:ae}=ir(),ie=ue.pathname==="/workorders/it/assignment",dt=ue.pathname==="/workorders/it/reports",ct=ue.pathname==="/workorders/it/knowledgebase",Le=ue.pathname==="/workorders/it",Qe=ue.pathname==="/workorders/it/receiver";ue.pathname;const yt=y.useCallback(async()=>{E(!0),V(null);try{const Oe=(await ke()).filter(He=>{var ft,Re,Fe;return(((Re=(ft=He.service)==null?void 0:ft.owner)==null?void 0:Re.id)||((Fe=He.service)==null?void 0:Fe.service_owner))===Number(ge==null?void 0:ge.id)});B(Oe)}catch(te){V(te.message||"Failed to load work orders.")}finally{E(!1)}},[ke,ge==null?void 0:ge.id]),bt=y.useCallback(async()=>{try{const te=await he();U(te)}catch(te){console.error("Failed to fetch users:",te)}},[he]),It=y.useCallback(async(te,Oe)=>{W(!0),z(null),oe(!1);try{const He=await ze({...Oe,id:te});return B(Ze=>Ze.map(ft=>ft.id===te?He:ft)),oe(!0),setTimeout(()=>oe(!1),3e3),He}catch(He){throw z(He.message||"Failed to update work order."),He}finally{W(!1)}},[ze]),At=()=>{A(window.innerWidth<768),window.innerWidth<768&&n(!1)},Se=te=>{_e.current&&!_e.current.contains(te.target)&&M(!1),Ne.current&&!Ne.current.contains(te.target)&&L(!1)};y.useEffect(()=>(window.addEventListener("resize",At),document.addEventListener("mousedown",Se),yt(),bt(),()=>{window.removeEventListener("resize",At),document.removeEventListener("mousedown",Se)}),[yt,bt]);const gt=te=>{switch(te){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},rt=te=>{switch(te==null?void 0:te.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},Nt=te=>{switch(te){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},kt=te=>{switch(te==null?void 0:te.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},De=y.useCallback(te=>{const Oe=I.find(He=>He.id===te);Oe&&(w(Oe),m(!0))},[I]);y.useCallback(te=>{const Oe=I.find(He=>He.id===te);Oe&&(w(Oe),p(!0))},[I]),y.useCallback(async te=>{try{await It(te.id,te),p(!1),w(null)}catch{}},[It]);const vt=()=>{n(te=>!te)},Pe=I.filter(te=>{var Ze,ft,Re,Fe;const Oe=((ft=(Ze=te.requester)==null?void 0:Ze.name)==null?void 0:ft.toLowerCase().includes(a.toLowerCase()))||((Re=te.work_order_no)==null?void 0:Re.toLowerCase().includes(a.toLowerCase()))||((Fe=te.complaint)==null?void 0:Fe.toLowerCase().includes(a.toLowerCase()))||String(te.id).includes(a),He=o==="all"||te.handling_status===o;return Oe&&He}).sort((te,Oe)=>{var Fe,Ue;const He=Nt(te.handling_status),Ze=Nt(Oe.handling_status);if(He!==Ze)return He-Ze;const ft=kt(((Fe=te.service)==null?void 0:Fe.priority)||"Medium"),Re=kt(((Ue=Oe.service)==null?void 0:Ue.priority)||"Medium");return ft!==Re?ft-Re:new Date(Oe.created_at).getTime()-new Date(te.created_at).getTime()}),$e=b*k,Ae=$e-k,Ye=Pe.slice(Ae,$e),tt=Math.ceil(Pe.length/k),ve=te=>N(te),pe=y.useCallback(te=>{w(te),Z(!0)},[]),We=y.useCallback(async(te,Oe)=>{try{await It(te,{assigned_to_id:parseInt(Oe),handling_status:"Assigned",handling_date:new Date().toISOString()}),Z(!1),w(null)}catch(He){console.error("Failed to assign work order:",He)}},[It]),pt=te=>{var Oe;return te.vendor?`${te.vendor.name}`:((Oe=te.assigned_to)==null?void 0:Oe.name)||"Unassigned"},Je=te=>te.vendor?"vendor":te.assigned_to?"user":"unassigned",we=({order:te,onClose:Oe})=>{var Ut,st,jt,Vt,gr,fn,gn,ar,Wr,Kr,Zt,et;const He=nt=>nt==null?"-":typeof nt=="object"&&nt!==null?nt.name||nt.title||nt.id||"-":typeof nt=="string"?nt.trim()!==""?nt.trim():"-":typeof nt=="number"?nt.toString():String(nt),Ze=nt=>nt?new Date(nt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ft=({status:nt})=>{const Tt={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Tt[nt]||Tt.New}`,children:nt})},Re=({priority:nt})=>{const Tt={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Tt[nt]||Tt.Medium}`,children:nt||"Medium"})},Fe=({title:nt,children:Tt,icon:de})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[de&&i.jsx("div",{className:"mr-3 text-blue-600",children:de}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:nt})]})}),i.jsx("div",{className:"p-6",children:Tt})]}),Ue=({label:nt,value:Tt,icon:de,fullWidth:Ke=!1,priority:wt="medium"})=>{const or={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Ke?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${or[wt]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[de&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:de}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:nt}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Tt})]})]})})})},Lt=({label:nt,htmlContent:Tt,icon:de,fullWidth:Ke=!1})=>{if(!Tt)return i.jsx(Ue,{label:nt,value:"-",icon:de,fullWidth:Ke,priority:"low"});const wt=md.sanitize(Tt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${Ke?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[de&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:de}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:nt}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:wt}})]})]})})})},zt=({order:nt})=>{const Tt=nt.handling_status==="New",de=nt.handling_status==="Assigned",Ke=Tt&&ye("assign_workorders");return i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Ke&&i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{Z(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(un,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),de&&i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ne(`/workorders/it/receiver/editreceiver/${nt.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Oe,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",te.work_order_no||te.id]}),i.jsx(ft,{status:te.handling_status}),i.jsx(Re,{priority:(Ut=te.service)==null?void 0:Ut.priority})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Created: ",Ze(te.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),te.handling_date?`Handling: ${Ze(te.handling_date)}`:"Not yet handled"]})]})]})})}),i.jsx(Fe,{title:"Service Owner Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Ue,{label:"Service Owner",value:He(((jt=(st=te.service)==null?void 0:st.owner)==null?void 0:jt.name)||(ge==null?void 0:ge.name)),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ue,{label:"Service Department",value:He((Vt=ge==null?void 0:ge.department)==null?void 0:Vt.name),icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Service Type",value:He((gr=te.service_type)==null?void 0:gr.group_name),icon:i.jsx(sa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ue,{label:"Service Name",value:He((fn=te.service)==null?void 0:fn.service_name),icon:i.jsx(bn,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(Fe,{title:"Request Information",icon:i.jsx(bn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Ue,{label:"Requester",value:He((gn=te.requester)==null?void 0:gn.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ue,{label:"Requester Department",value:He(te.department_name||((ar=te.department)==null?void 0:ar.name)),icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Reception Method",value:He(te.reception_method),icon:i.jsx(xo,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Known By",value:He((Wr=te.known_by)==null?void 0:Wr.name),icon:i.jsx(Io,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Asset Number",value:He(te.asset_no),icon:i.jsx(bn,{className:"w-4 h-4"})})]})}),i.jsx(Fe,{title:"Technical Details",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(Ue,{label:"Device Information",value:He(te.device_info),icon:i.jsx(Hi,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Lt,{label:"Complaint Details",htmlContent:te.complaint||"",icon:i.jsx(Ur,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(Fe,{title:"Assignment & Handling",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(Ue,{label:"Current Status",value:He(te.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ue,{label:"Priority Level",value:He(((Kr=te.service)==null?void 0:Kr.priority)||"Medium"),icon:i.jsx(Ur,{className:"w-4 h-4"}),priority:"high"})]}),i.jsx(Ue,{label:"Assigned To",value:He(((Zt=te.assigned_to)==null?void 0:Zt.name)||"Unassigned"),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Assignment Type",value:te.vendor?"Vendor":te.assigned_to?"Internal Technician":"Not Assigned",icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Handling Start Date",value:Ze(te.handling_date||"-"),icon:i.jsx(Oa,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Received By",value:He(((et=te.received_by)==null?void 0:et.name)||"-"),icon:i.jsx(wr,{className:"w-4 h-4"})}),i.jsx(Lt,{label:"Action Taken",htmlContent:te.action_taken||"",icon:i.jsx(sa,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Lt,{label:"Technical Remarks",htmlContent:te.remarks||"",icon:i.jsx(bn,{className:"w-4 h-4"}),fullWidth:!0})]})}),te.vendor&&i.jsx(Fe,{title:"Vendor Assignment",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Ue,{label:"Vendor Name",value:He(te.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Ue,{label:"Contact Person",value:He(te.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Email",value:He(te.vendor.email),icon:i.jsx(_x,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Phone",value:He(te.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Mobile",value:He(te.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Ue,{label:"Address",value:He(te.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(Fe,{title:"Timeline",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),i.jsx("span",{className:"text-sm text-green-600",children:Ze(te.date)})]}),te.handling_date&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),i.jsx("span",{className:"text-sm text-blue-600",children:Ze(te.handling_date)})]}),te.assigned_to&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),i.jsx("span",{className:"text-sm text-purple-600",children:He(te.assigned_to.name)})]})]})}),te.attachment&&i.jsx(Fe,{title:"Attachment",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),i.jsxs("a",{href:te.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(WE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),i.jsx(zt,{order:te})]})};return y.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),D?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):H?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Ur,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:H}),i.jsx("button",{onClick:yt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:S,toggleSidebar:vt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Qe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ie?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${dt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>ne("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ct?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),F&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:F}),i.jsx("button",{onClick:()=>z(null),className:"absolute top-0 right-0 p-3",children:i.jsx(Ht,{size:16})})]}),J&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),i.jsx("button",{onClick:()=>oe(!1),className:"absolute top-0 right-0 p-3",children:i.jsx(Ht,{size:16})})]}),i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(qw,{title:"Total IT Assignments",value:Pe.length.toString(),change:"+8%",icon:i.jsx(bn,{})}),i.jsx(qw,{title:"In Progress",value:Pe.filter(te=>["In Progress","Escalated","Vendor Handled"].includes(te.handling_status)).length.toString(),change:"-1",icon:i.jsx(sa,{})}),i.jsx(qw,{title:"Resolved",value:Pe.filter(te=>["Resolved","Done"].includes(te.handling_status)).length.toString(),change:"+1",icon:i.jsx(wr,{})}),i.jsx(qw,{title:"Assigned",value:Pe.filter(te=>te.handling_status==="Assigned").length.toString(),change:"+3",icon:i.jsx(kr,{})})]}),i.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:te=>s(te.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:te=>l(te.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Done",children:"Done"}),i.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ye.length>0?Ye.map(te=>{var Fe,Ue,Lt,zt;const He=!(te.handling_status==="Resolved"||te.handling_status==="Done"||te.handling_status==="Cancel"||te.handling_status==="Closed")&&ye("edit_workorders"),Ze=te.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(te.handling_status);const ft=pt(te),Re=Je(te);return i.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>De(te.id),title:"Click to view details",children:te.work_order_no||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te.requester.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(te.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:te.handling_date?new Date(te.handling_date).toLocaleDateString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${rt((Fe=te.service)==null?void 0:Fe.priority)} shadow-sm`,children:((Ue=te.service)==null?void 0:Ue.priority)||"Medium"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${gt(te.handling_status)} shadow-sm`,children:te.handling_status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ze?i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(te),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${Re==="vendor"?"text-purple-600":Re==="user"?"text-blue-600":"text-gray-500"}`,children:ft}),Re==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>De(te.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),He&&(te.handling_status!=="In Progress"||!((Lt=te.assigned_to)!=null&&Lt.name)||((zt=te.assigned_to)==null?void 0:zt.name)==="N/A")&&i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(`/workorders/it/receiver/editreceiver/${te.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:i.jsx(Ci,{className:"text-lg"})})]})]},te.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),Pe.length>k&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Ae+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min($e,Pe.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:Pe.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(b-1),disabled:b===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:tt},(te,Oe)=>i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(Oe+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${b===Oe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Oe+1},Oe+1)),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ve(b+1),disabled:b===tt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",v.work_order_no||v.id]}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),w(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(we,{order:v,onClose:()=>{m(!1),w(null)}})})]})})}),v&&i.jsx(y_e,{isOpen:X,onClose:()=>{Z(!1),w(null)},onAssign:We,workOrder:v,users:K})]})},r$=({content:t,className:e=""})=>{if(!t)return i.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=md.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},v_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,w_e=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(!1),[_,M]=y.useState(!1),[R,L]=y.useState(!0),[I,B]=y.useState(null),{user:D,hasPermission:E,getWorkOrdersIT:H}=ir(),V=nr(),Y=Ui(),W=y.useRef(null),F=y.useRef(null);Y.pathname,Y.pathname;const z=Y.pathname==="/workorders/it";Y.pathname;const J=Y.pathname==="/workorders/it/assignment",oe=Y.pathname==="/workorders/it/receiver",K=Y.pathname==="/workorders/it/reports",U=Y.pathname==="/workorders/it/knowledgebase",[X,Z]=y.useState([]),ne=y.useCallback(async()=>{try{L(!0),B(null);const dt=(await H()).filter(ct=>ct.action_taken&&ct.handling_status==="Closed").map(ct=>{var yt,bt,It;const Le=ct.complaint.split(" ").slice(0,5).join(" "),Qe=`Solution for: ${Le}${Le.length<ct.complaint.length?"...":""}`;return{id:ct.id,title:Qe,content:ct.action_taken||"No action taken details available.",category:((yt=ct.service)==null?void 0:yt.service_name)||"General",tags:[((bt=ct.service_type)==null?void 0:bt.group_name)||"General",ct.handling_status||"Completed",...ct.asset_no?[`Asset: ${ct.asset_no}`]:[]],lastUpdated:ct.handling_date||ct.updated_at||ct.created_at,workOrderNo:ct.work_order_no,technician:((It=ct.assigned_to)==null?void 0:It.name)||"Unknown Technician",completionDate:ct.handling_date||ct.updated_at}});Z(dt)}catch(ie){B("Failed to load knowledge base articles"),console.error("Error loading work orders:",ie)}finally{L(!1)}},[H]);y.useEffect(()=>{const ie=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),y.useEffect(()=>{const ie=dt=>{W.current&&!W.current.contains(dt.target)&&A(!1),F.current&&!F.current.contains(dt.target)&&M(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),y.useEffect(()=>{ne()},[ne]),y.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[a,o,r,t]);const ue=()=>{n(ie=>!ie)},_e=y.useCallback(ie=>{p(ie),u(!0)},[]),Ne=X.filter(ie=>{const dt=ie.title.toLowerCase().includes(a.toLowerCase())||ie.content.toLowerCase().includes(a.toLowerCase())||ie.tags.some(Le=>Le.toLowerCase().includes(a.toLowerCase())),ct=o==="all"||ie.category===o;return dt&&ct}),ge=Array.from(new Set(X.map(ie=>ie.category))),ke=v*b,ze=ke-b,he=Ne.slice(ze,ke),ye=Math.ceil(Ne.length/b),ae=ie=>w(ie);return D?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(of,{}),isMobile:N,toggleSidebar:ue}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"relative w-full md:w-2/3",children:[i.jsx(Ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:a,onChange:ie=>s(ie.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{className:"relative w-full md:w-1/3",children:[i.jsxs("select",{value:o,onChange:ie=>l(ie.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Categories"}),ge.map(ie=>i.jsx("option",{value:ie,children:ie},ie))]}),i.jsx(Sa,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Ne.length," articles found"]})]}),R?i.jsxs("div",{className:"text-center py-10",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):I?i.jsxs("div",{className:"text-center py-10 text-red-500",children:[i.jsx(Zi,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),i.jsx("p",{className:"text-lg font-medium",children:I}),i.jsx("button",{onClick:ne,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):he.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(Zi,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsx(sr,{children:he.map(ie=>i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>_e(ie),children:[i.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:ie.title}),i.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:i.jsx(r$,{content:ie.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),i.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[i.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:ie.category}),ie.tags.map(dt=>i.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:dt},dt))]}),i.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"flex items-center",children:[i.jsx(gf,{size:12,className:"mr-1"}),ie.workOrderNo]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(sI,{size:12,className:"mr-1"}),ie.technician]})]}),i.jsxs("span",{className:"flex items-center",children:[i.jsx(Oa,{size:12,className:"mr-1"}),new Date(ie.lastUpdated).toLocaleDateString()]})]})]},ie.id))})}),Ne.length>b&&i.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx(O.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),i.jsx(O.button,{onClick:()=>ae(v+1),disabled:v===ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:ze+1})," to ",i.jsx("span",{className:"font-medium",children:Math.min(ke,Ne.length)})," of"," ",i.jsx("span",{className:"font-medium",children:Ne.length})," results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[i.jsxs(O.button,{onClick:()=>ae(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(Ff,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(ye)].map((ie,dt)=>i.jsx(O.button,{onClick:()=>ae(dt+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===dt+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:dt+1},dt)),i.jsxs(O.button,{onClick:()=>ae(v+1),disabled:v===ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),g&&i.jsx(v_e,{isOpen:c,onClose:()=>u(!1),title:g.title,children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx(gf,{size:16,className:"mr-2 text-blue-600"}),i.jsx("span",{className:"font-medium",children:"Work Order:"}),i.jsx("span",{className:"ml-2",children:g.workOrderNo})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(sI,{size:16,className:"mr-2 text-green-600"}),i.jsx("span",{className:"font-medium",children:"Technician:"}),i.jsx("span",{className:"ml-2",children:g.technician})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(Oa,{size:16,className:"mr-2 text-purple-600"}),i.jsx("span",{className:"font-medium",children:"Completed:"}),i.jsx("span",{className:"ml-2",children:new Date(g.completionDate).toLocaleDateString()})]}),i.jsxs("div",{className:"flex items-center",children:[i.jsx(of,{size:16,className:"mr-2 text-orange-600"}),i.jsx("span",{className:"font-medium",children:"Category:"}),i.jsx("span",{className:"ml-2",children:g.category})]})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),i.jsx(r$,{content:g.content})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[i.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map(ie=>i.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:ie},ie))})]}),i.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(g.lastUpdated).toLocaleDateString()," at ",new Date(g.lastUpdated).toLocaleTimeString()]})]})})]}):i.jsx("div",{className:"flex items-center justify-center h-screen",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),i.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var j_e=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],n$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=String(e).toLowerCase(),s=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return s===a||o===a},j_={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,a){return!(!e||r.some(function(s){return n$(e,s,a)})||n.some(function(s){return n$(e,s,a)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function N_e(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,a=n===void 0?"last":n,s=t.formatCreateLabel,o=s===void 0?j_.formatCreateLabel:s,l=t.isValidNewOption,c=l===void 0?j_.isValidNewOption:l,u=t.getNewOptionData,f=u===void 0?j_.getNewOptionData:u,m=t.onCreateOption,g=t.options,p=g===void 0?[]:g,v=t.onChange,w=pd(t,j_e),b=w.getOptionValue,N=b===void 0?hX:b,k=w.getOptionLabel,S=k===void 0?fX:k,A=w.inputValue,_=w.isLoading,M=w.isMulti,R=w.value,L=w.name,I=y.useMemo(function(){return c(A,jj(R),p,{getOptionValue:N,getOptionLabel:S})?f(A,o(A)):void 0},[o,f,S,N,A,c,p,R]),B=y.useMemo(function(){return(r||!_)&&I?a==="first"?[I].concat(bg(p)):[].concat(bg(p),[I]):p},[r,a,_,I,p]),D=y.useCallback(function(E,H){if(H.action!=="select-option")return v(E,H);var V=Array.isArray(E)?E:[E];if(V[V.length-1]===I){if(m)m(A);else{var Y=f(A,A),W={action:"create-option",name:L,option:Y};v(rb(M,[].concat(bg(jj(R)),[Y]),Y),W)}return}v(E,H)},[f,A,M,L,I,m,v,R]);return Rr(Rr({},w),{},{options:B,onChange:D})}var S_e=y.forwardRef(function(t,e){var r=$J(t),n=N_e(r);return y.createElement(hD,qr({ref:e},n))}),tee=S_e;const k_e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,C_e=()=>{var rt,Nt,kt,De,vt;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s}=ir(),o=nr(),[l,c]=y.useState([]),[u,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState([]),[w,b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const Pe=localStorage.getItem("sidebarOpen");return Pe?JSON.parse(Pe):!1}),[S,A]=y.useState(!1),[_,M]=y.useState(null),[R,L]=y.useState(null),[I,B]=y.useState(!1),[D,E]=y.useState(null),[H,V]=y.useState([]),[Y,W]=y.useState([]),[F,z]=y.useState(!1),[J,oe]=y.useState(null),K=y.useRef(null),U=y.useRef(null),X=Pe=>{Pe.preventDefault(),Pe.stopPropagation(),z(!0)},Z=()=>{const Pe=document.createElement("input");Pe.type="file",Pe.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",Pe.onchange=$e=>{const Ae=$e.target;if(Ae.files&&Ae.files.length>0){const Ye=Ae.files[0];E(Ye),ke(tt=>({...tt,attachment:Ye.name}))}z(!1)},Pe.click()},ne=async()=>{try{const Pe=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});oe(Pe),K.current&&(K.current.srcObject=Pe)}catch(Pe){console.error("Error accessing camera:",Pe),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},ue=()=>{if(K.current&&U.current){const Pe=U.current,$e=Pe.getContext("2d");if($e){Pe.width=K.current.videoWidth,Pe.height=K.current.videoHeight,$e.drawImage(K.current,0,0);const Ae=Pe.toDataURL("image/jpeg",.8);ke(Ye=>({...Ye,attachment:Ae})),J&&(J.getTracks().forEach(Ye=>Ye.stop()),oe(null))}}z(!1)},_e=()=>{J&&(J.getTracks().forEach(Pe=>Pe.stop()),oe(null)),z(!1)},Ne={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((rt=e==null?void 0:e.department)==null?void 0:rt.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[ge,ke]=y.useState(Ne),ze=ge.reception_method==="Electronic Work Order System";y.useEffect(()=>{e&&(async()=>{try{const Ae=(await s(e!=null&&e.id?parseInt(e.id):0)).map(ve=>({id:Number(ve.id),name:ve.group_name??"",description:ve.group_description??void 0}));W(Ae);const Ye=await a();f(Ye);const tt=await r();if(c(tt),e&&e.id){const ve=await n(parseInt(e.id));g(ve)}}catch($e){console.error("Failed to fetch master data:",$e)}})()},[e,r,n,a,s]),y.useEffect(()=>{if(ge.reception_method==="Electronic Work Order System"&&e&&u.length>0){const Pe=u.find(Ae=>Ae.id===e.department_id),$e=(Pe==null?void 0:Pe.head_id)||null;ke(Ae=>({...Ae,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:$e}))}},[ge.reception_method,e,u]),y.useEffect(()=>{const Pe=()=>{b(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",Pe),()=>window.removeEventListener("resize",Pe)},[]),y.useEffect(()=>{if(ge.service_type_id&&m.length>0){const Pe=m.filter($e=>String($e.id)===ge.service_type_id);V(Pe)}else V([])},[ge.service_type_id,m]),y.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N]);const he=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(Pe=>!Pe)},ye=y.useCallback((Pe,$e)=>{let Ae,Ye;if(Pe&&"target"in Pe)Ae=Pe.target.name,Ye=Pe.target.value;else if(Pe&&typeof Pe=="object"&&"value"in Pe&&$e)Ae=$e,Ye=Pe.value;else if(Pe===null&&$e)Ae=$e,Ye=null;else return;ke(tt=>({...tt,[Ae]:Ye}))},[]),ae=Pe=>{const $e=(Pe==null?void 0:Pe.value)||"";ke(Ae=>{var tt,ve;const Ye={...Ae,reception_method:$e};return $e==="Electronic Work Order System"&&e?{...Ye,requester_id:parseInt(e.id),department_id:((tt=e.department)==null?void 0:tt.id)||0,known_by_id:((ve=e.department)==null?void 0:ve.head_id)||null}:Ye})},ie=Pe=>{ke($e=>({...$e,asset_no:Pe?Pe.value:""}))},dt=y.useCallback(()=>{E(null),ke(Pe=>({...Pe,attachment:null}))},[]),ct=async Pe=>{Pe.preventDefault(),A(!0),M(null);const $e={...ge,service_group_id:Number(ge.service_type_id),service_catalogue_id:Number(ge.service_id)};try{await t($e),B(!0)}catch(Ae){M(Ae.message||"Gagal menyimpan work order. Silakan coba lagi."),console.error("Submission error:",Ae)}finally{A(!1)}},Le=Pe=>{ke($e=>({...$e,service_type_id:Pe?Pe.value:"",service_id:""}))},Qe=Pe=>{ke($e=>({...$e,service_id:Pe?Pe.value:""}))},yt=y.useCallback(()=>{B(!1),o("/workorders/it")},[o]);y.useEffect(()=>{const Pe=$e=>{F&&z(!1)};return F&&document.addEventListener("mousedown",Pe),()=>{document.removeEventListener("mousedown",Pe)}},[F]);const bt={control:(Pe,$e)=>({...Pe,minHeight:"42px",borderColor:$e.isFocused?"#3B82F6":"#D1D5DB",boxShadow:$e.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Pe=>({...Pe,padding:"0"}),singleValue:Pe=>({...Pe,color:"#374151"}),placeholder:Pe=>({...Pe,color:"#6B7280"}),dropdownIndicator:Pe=>({...Pe,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:Pe=>({...Pe,display:"none"}),menu:Pe=>({...Pe,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Pe,$e)=>({...Pe,backgroundColor:$e.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},It=y.useCallback(Pe=>{if(!Pe)return;const $e=parseInt(Pe.value),Ae=l.find(Ye=>parseInt(Ye.id)===$e);if(Ae){const Ye=u.find(tt=>tt.id===Ae.department_id);ke(tt=>({...tt,requester_id:$e,department_id:Ae.department_id||0,known_by_id:(Ye==null?void 0:Ye.head_id)||null}))}},[l,u]),At=()=>{if(ze){const $e=u.find(Ae=>Ae.id===(e==null?void 0:e.department_id));return($e==null?void 0:$e.name)||"No department assigned"}const Pe=u.find($e=>$e.id===ge.department_id);return(Pe==null?void 0:Pe.name)||"No department assigned"},Se=()=>{if(ze){const $e=u.find(Ae=>Ae.id===(e==null?void 0:e.department_id));if($e&&$e.head_id){const Ae=l.find(Ye=>parseInt(Ye.id)===$e.head_id);return(Ae==null?void 0:Ae.name)||"No department head assigned"}return"No department head assigned"}const Pe=u.find($e=>$e.id===ge.department_id);if(Pe&&Pe.head_id){const $e=l.find(Ae=>parseInt(Ae.id)===Pe.head_id);return($e==null?void 0:$e.name)||"No department head assigned"}return"No department head assigned"},gt=({selectedFile:Pe,attachment:$e,onRemove:Ae})=>!Pe&&!$e?null:i.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsx("div",{className:`p-3 rounded-lg ${Pe?"bg-blue-50":"bg-purple-50"}`,children:Pe?i.jsx(aI,{className:"h-6 w-6 text-blue-600"}):i.jsx(rI,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:Pe?Pe.name:"Photo from camera"}),i.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[i.jsx("p",{className:"text-xs text-gray-500",children:Pe?`${(Pe.size/1024/1024).toFixed(2)} MB`:"JPEG Image"}),i.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:"Ready to upload"})]})]})]}),i.jsx(O.button,{type:"button",onClick:Ae,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:i.jsx(Ht,{size:18})})]}),$e&&$e.startsWith("data:image")&&i.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[i.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),i.jsx("div",{className:"flex justify-center",children:i.jsx("img",{src:$e,alt:"Captured",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]});return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:w,toggleSidebar:he}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),i.jsxs(O.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Ff,{className:"text-lg"})," Back to Work Orders"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[_&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:_}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>M(null)})})]}),i.jsxs("form",{onSubmit:ct,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"date",name:"date",value:ge.date,onChange:ye,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ge.reception_method,label:ge.reception_method},onChange:ae,placeholder:"Select Reception Method",styles:bt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",i.jsx("span",{className:"text-red-500",children:"*"})]}),ze?i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):i.jsx(Wn,{id:"requester_id",name:"requester_id",options:l.map(Pe=>({value:String(Pe.id),label:Pe.name})),value:l.find(Pe=>parseInt(Pe.id)===ge.requester_id)?{value:String(ge.requester_id),label:((Nt=l.find(Pe=>parseInt(Pe.id)===ge.requester_id))==null?void 0:Nt.name)||""}:null,onChange:It,placeholder:"Select Requester",styles:bt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:At()})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:Se()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_type_id",name:"service_type_id",options:Y.map(Pe=>({value:String(Pe.id),label:Pe.name})),value:ge.service_type_id?{value:ge.service_type_id,label:((kt=Y.find(Pe=>String(Pe.id)===ge.service_type_id))==null?void 0:kt.name)||""}:null,onChange:Le,placeholder:"Select Service Type",styles:bt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_id",name:"service_id",options:H.map(Pe=>({value:String(Pe.id),label:Pe.service_name})),value:ge.service_id?{value:ge.service_id,label:((De=H.find(Pe=>String(Pe.id)===ge.service_id))==null?void 0:De.service_name)||""}:null,onChange:Qe,placeholder:"Select Service",styles:bt}),H.length===0&&ge.service_type_id&&i.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tee,{name:"asset_no",id:"asset_no",options:p,value:ge.asset_no?{value:ge.asset_no,label:ge.asset_no}:null,onChange:ie,onCreateOption:Pe=>{const $e={value:Pe,label:Pe};v(Ae=>[...Ae,$e]),ie($e)},placeholder:"Type or select Asset No.",styles:bt,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"device_info",name:"device_info",value:ge.device_info,onChange:ye,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:ge.complaint,onChange:Pe=>{ke($e=>({...$e,complaint:Pe}))}})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[i.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",i.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),!D&&!ge.attachment?i.jsx(O.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:X,children:i.jsxs("div",{className:"space-y-3 text-center",children:[i.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:i.jsx(bc,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}):i.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:i.jsxs("div",{className:"text-center",children:[i.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:i.jsx(bc,{className:"h-5 w-5 text-blue-600"})}),i.jsx("p",{className:"text-sm font-medium text-blue-900",children:D?`File selected: ${D.name}`:"Photo captured from camera"}),i.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"File ready for upload. Click to change."})]})}),i.jsx(gt,{selectedFile:D,attachment:ge.attachment,onRemove:dt}),i.jsx(sr,{children:F&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>z(!1),children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:Pe=>Pe.stopPropagation(),children:[i.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),i.jsx("button",{type:"button",onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:i.jsx(Ht,{size:20})})]}),J?i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[i.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),i.jsx("canvas",{ref:U,className:"hidden"})]}),i.jsxs("div",{className:"flex gap-3",children:[i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ue,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_e,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):i.jsxs("div",{className:"p-6 space-y-4",children:[i.jsxs(O.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:i.jsx(aI,{className:"h-6 w-6 text-blue-600"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),i.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),i.jsxs(O.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ne,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[i.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:i.jsx(rI,{className:"h-6 w-6 text-purple-600"})}),i.jsxs("div",{className:"text-left",children:[i.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),i.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:()=>{ke(Ne),E(null),M(null),L(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(ha,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:S,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:S?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),i.jsx(k_e,{isOpen:I,onClose:yt,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:R==null?void 0:R.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(vt=R==null?void 0:R.work_order)==null?void 0:vt.work_order_no]}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:yt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},__e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Select Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/it"),children:[i.jsx(mhe,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/td"),children:[i.jsx(NM,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},A_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(yc,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workarea"),children:[i.jsx(yc,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/department"),children:[i.jsx(kp,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workunit"),children:[i.jsx(gg,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},T_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(Va,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workgroup"),children:[i.jsx(Va,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workshift"),children:[i.jsx(kr,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},M_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(sa,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/generalsettings"),children:[i.jsx(Hi,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/spareparttype"),children:[i.jsx(VK,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartgroup"),children:[i.jsx(FK,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartmaintenance"),children:[i.jsx(Pl,{size:64,className:"text-orange-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),i.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},O_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:i.jsx(Za,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsgroup"),children:[i.jsx(FK,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsdata"),children:[i.jsx(kN,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},E_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(qK,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicegroups"),children:[i.jsx(Va,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicecatalogues"),children:[i.jsx(of,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},D_e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Pl,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activitytypes"),children:[i.jsx(SM,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activity"),children:[i.jsx(hc,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/stoptimes"),children:[i.jsx(kr,{size:64,className:"text-purple-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),i.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/troubleitem"),children:[i.jsx(Ur,{size:64,className:"text-orange-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),i.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})};var N_,a$;function dl(){if(a$)return N_;a$=1;var t=Array.isArray;return N_=t,N_}var S_,i$;function ree(){if(i$)return S_;i$=1;var t=typeof cw=="object"&&cw&&cw.Object===Object&&cw;return S_=t,S_}var k_,s$;function gd(){if(s$)return k_;s$=1;var t=ree(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return k_=r,k_}var C_,o$;function l1(){if(o$)return C_;o$=1;var t=gd(),e=t.Symbol;return C_=e,C_}var __,l$;function P_e(){if(l$)return __;l$=1;var t=l1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,a=t?t.toStringTag:void 0;function s(o){var l=r.call(o,a),c=o[a];try{o[a]=void 0;var u=!0}catch{}var f=n.call(o);return u&&(l?o[a]=c:delete o[a]),f}return __=s,__}var A_,c$;function L_e(){if(c$)return A_;c$=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return A_=r,A_}var T_,u$;function zf(){if(u$)return T_;u$=1;var t=l1(),e=P_e(),r=L_e(),n="[object Null]",a="[object Undefined]",s=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?a:n:s&&s in Object(l)?e(l):r(l)}return T_=o,T_}var M_,d$;function qf(){if(d$)return M_;d$=1;function t(e){return e!=null&&typeof e=="object"}return M_=t,M_}var O_,f$;function Ex(){if(f$)return O_;f$=1;var t=zf(),e=qf(),r="[object Symbol]";function n(a){return typeof a=="symbol"||e(a)&&t(a)==r}return O_=n,O_}var E_,h$;function XD(){if(h$)return E_;h$=1;var t=dl(),e=Ex(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function a(s,o){if(t(s))return!1;var l=typeof s;return l=="number"||l=="symbol"||l=="boolean"||s==null||e(s)?!0:n.test(s)||!r.test(s)||o!=null&&s in Object(o)}return E_=a,E_}var D_,m$;function hm(){if(m$)return D_;m$=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return D_=t,D_}var P_,p$;function QD(){if(p$)return P_;p$=1;var t=zf(),e=hm(),r="[object AsyncFunction]",n="[object Function]",a="[object GeneratorFunction]",s="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==a||c==r||c==s}return P_=o,P_}var L_,g$;function R_e(){if(g$)return L_;g$=1;var t=gd(),e=t["__core-js_shared__"];return L_=e,L_}var R_,x$;function I_e(){if(x$)return R_;x$=1;var t=R_e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return R_=r,R_}var I_,y$;function nee(){if(y$)return I_;y$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return I_=r,I_}var F_,b$;function F_e(){if(b$)return F_;b$=1;var t=QD(),e=I_e(),r=hm(),n=nee(),a=/[\\^$.*+?()[\]{}|]/g,s=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,u=l.hasOwnProperty,f=RegExp("^"+c.call(u).replace(a,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var p=t(g)?f:s;return p.test(n(g))}return F_=m,F_}var $_,v$;function $_e(){if(v$)return $_;v$=1;function t(e,r){return e==null?void 0:e[r]}return $_=t,$_}var B_,w$;function Wp(){if(w$)return B_;w$=1;var t=F_e(),e=$_e();function r(n,a){var s=e(n,a);return t(s)?s:void 0}return B_=r,B_}var H_,j$;function tS(){if(j$)return H_;j$=1;var t=Wp(),e=t(Object,"create");return H_=e,H_}var z_,N$;function B_e(){if(N$)return z_;N$=1;var t=tS();function e(){this.__data__=t?t(null):{},this.size=0}return z_=e,z_}var q_,S$;function H_e(){if(S$)return q_;S$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return q_=t,q_}var U_,k$;function z_e(){if(k$)return U_;k$=1;var t=tS(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function a(s){var o=this.__data__;if(t){var l=o[s];return l===e?void 0:l}return n.call(o,s)?o[s]:void 0}return U_=a,U_}var W_,C$;function q_e(){if(C$)return W_;C$=1;var t=tS(),e=Object.prototype,r=e.hasOwnProperty;function n(a){var s=this.__data__;return t?s[a]!==void 0:r.call(s,a)}return W_=n,W_}var V_,_$;function U_e(){if(_$)return V_;_$=1;var t=tS(),e="__lodash_hash_undefined__";function r(n,a){var s=this.__data__;return this.size+=this.has(n)?0:1,s[n]=t&&a===void 0?e:a,this}return V_=r,V_}var G_,A$;function W_e(){if(A$)return G_;A$=1;var t=B_e(),e=H_e(),r=z_e(),n=q_e(),a=U_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,G_=s,G_}var Y_,T$;function V_e(){if(T$)return Y_;T$=1;function t(){this.__data__=[],this.size=0}return Y_=t,Y_}var K_,M$;function ZD(){if(M$)return K_;M$=1;function t(e,r){return e===r||e!==e&&r!==r}return K_=t,K_}var J_,O$;function rS(){if(O$)return J_;O$=1;var t=ZD();function e(r,n){for(var a=r.length;a--;)if(t(r[a][0],n))return a;return-1}return J_=e,J_}var X_,E$;function G_e(){if(E$)return X_;E$=1;var t=rS(),e=Array.prototype,r=e.splice;function n(a){var s=this.__data__,o=t(s,a);if(o<0)return!1;var l=s.length-1;return o==l?s.pop():r.call(s,o,1),--this.size,!0}return X_=n,X_}var Q_,D$;function Y_e(){if(D$)return Q_;D$=1;var t=rS();function e(r){var n=this.__data__,a=t(n,r);return a<0?void 0:n[a][1]}return Q_=e,Q_}var Z_,P$;function K_e(){if(P$)return Z_;P$=1;var t=rS();function e(r){return t(this.__data__,r)>-1}return Z_=e,Z_}var eA,L$;function J_e(){if(L$)return eA;L$=1;var t=rS();function e(r,n){var a=this.__data__,s=t(a,r);return s<0?(++this.size,a.push([r,n])):a[s][1]=n,this}return eA=e,eA}var tA,R$;function nS(){if(R$)return tA;R$=1;var t=V_e(),e=G_e(),r=Y_e(),n=K_e(),a=J_e();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,tA=s,tA}var rA,I$;function eP(){if(I$)return rA;I$=1;var t=Wp(),e=gd(),r=t(e,"Map");return rA=r,rA}var nA,F$;function X_e(){if(F$)return nA;F$=1;var t=W_e(),e=nS(),r=eP();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return nA=n,nA}var aA,$$;function Q_e(){if($$)return aA;$$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return aA=t,aA}var iA,B$;function aS(){if(B$)return iA;B$=1;var t=Q_e();function e(r,n){var a=r.__data__;return t(n)?a[typeof n=="string"?"string":"hash"]:a.map}return iA=e,iA}var sA,H$;function Z_e(){if(H$)return sA;H$=1;var t=aS();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return sA=e,sA}var oA,z$;function eAe(){if(z$)return oA;z$=1;var t=aS();function e(r){return t(this,r).get(r)}return oA=e,oA}var lA,q$;function tAe(){if(q$)return lA;q$=1;var t=aS();function e(r){return t(this,r).has(r)}return lA=e,lA}var cA,U$;function rAe(){if(U$)return cA;U$=1;var t=aS();function e(r,n){var a=t(this,r),s=a.size;return a.set(r,n),this.size+=a.size==s?0:1,this}return cA=e,cA}var uA,W$;function tP(){if(W$)return uA;W$=1;var t=X_e(),e=Z_e(),r=eAe(),n=tAe(),a=rAe();function s(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var u=o[l];this.set(u[0],u[1])}}return s.prototype.clear=t,s.prototype.delete=e,s.prototype.get=r,s.prototype.has=n,s.prototype.set=a,uA=s,uA}var dA,V$;function aee(){if(V$)return dA;V$=1;var t=tP(),e="Expected a function";function r(n,a){if(typeof n!="function"||a!=null&&typeof a!="function")throw new TypeError(e);var s=function(){var o=arguments,l=a?a.apply(this,o):o[0],c=s.cache;if(c.has(l))return c.get(l);var u=n.apply(this,o);return s.cache=c.set(l,u)||c,u};return s.cache=new(r.Cache||t),s}return r.Cache=t,dA=r,dA}var fA,G$;function nAe(){if(G$)return fA;G$=1;var t=aee(),e=500;function r(n){var a=t(n,function(o){return s.size===e&&s.clear(),o}),s=a.cache;return a}return fA=r,fA}var hA,Y$;function aAe(){if(Y$)return hA;Y$=1;var t=nAe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(a){var s=[];return a.charCodeAt(0)===46&&s.push(""),a.replace(e,function(o,l,c,u){s.push(c?u.replace(r,"$1"):l||o)}),s});return hA=n,hA}var mA,K$;function rP(){if(K$)return mA;K$=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=Array(a);++n<a;)s[n]=r(e[n],n,e);return s}return mA=t,mA}var pA,J$;function iAe(){if(J$)return pA;J$=1;var t=l1(),e=rP(),r=dl(),n=Ex(),a=t?t.prototype:void 0,s=a?a.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return s?s.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return pA=o,pA}var gA,X$;function iee(){if(X$)return gA;X$=1;var t=iAe();function e(r){return r==null?"":t(r)}return gA=e,gA}var xA,Q$;function see(){if(Q$)return xA;Q$=1;var t=dl(),e=XD(),r=aAe(),n=iee();function a(s,o){return t(s)?s:e(s,o)?[s]:r(n(s))}return xA=a,xA}var yA,Z$;function iS(){if(Z$)return yA;Z$=1;var t=Ex();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return yA=e,yA}var bA,eB;function nP(){if(eB)return bA;eB=1;var t=see(),e=iS();function r(n,a){a=t(a,n);for(var s=0,o=a.length;n!=null&&s<o;)n=n[e(a[s++])];return s&&s==o?n:void 0}return bA=r,bA}var vA,tB;function oee(){if(tB)return vA;tB=1;var t=nP();function e(r,n,a){var s=r==null?void 0:t(r,n);return s===void 0?a:s}return vA=e,vA}var sAe=oee();const El=Kn(sAe);var wA,rB;function oAe(){if(rB)return wA;rB=1;function t(e){return e==null}return wA=t,wA}var lAe=oAe();const nn=Kn(lAe);var jA,nB;function cAe(){if(nB)return jA;nB=1;var t=zf(),e=dl(),r=qf(),n="[object String]";function a(s){return typeof s=="string"||!e(s)&&r(s)&&t(s)==n}return jA=a,jA}var uAe=cAe();const Dp=Kn(uAe);var dAe=QD();const Yr=Kn(dAe);var fAe=hm();const Dx=Kn(fAe);var NA={exports:{}},aa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aB;function hAe(){if(aB)return aa;aB=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),s=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),p=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(b){if(typeof b=="object"&&b!==null){var N=b.$$typeof;switch(N){case t:switch(b=b.type,b){case r:case a:case n:case u:case f:return b;default:switch(b=b&&b.$$typeof,b){case l:case o:case c:case g:case m:case s:return b;default:return N}}case e:return N}}}return aa.ContextConsumer=o,aa.ContextProvider=s,aa.Element=t,aa.ForwardRef=c,aa.Fragment=r,aa.Lazy=g,aa.Memo=m,aa.Portal=e,aa.Profiler=a,aa.StrictMode=n,aa.Suspense=u,aa.SuspenseList=f,aa.isAsyncMode=function(){return!1},aa.isConcurrentMode=function(){return!1},aa.isContextConsumer=function(b){return w(b)===o},aa.isContextProvider=function(b){return w(b)===s},aa.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},aa.isForwardRef=function(b){return w(b)===c},aa.isFragment=function(b){return w(b)===r},aa.isLazy=function(b){return w(b)===g},aa.isMemo=function(b){return w(b)===m},aa.isPortal=function(b){return w(b)===e},aa.isProfiler=function(b){return w(b)===a},aa.isStrictMode=function(b){return w(b)===n},aa.isSuspense=function(b){return w(b)===u},aa.isSuspenseList=function(b){return w(b)===f},aa.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===a||b===n||b===u||b===f||b===p||typeof b=="object"&&b!==null&&(b.$$typeof===g||b.$$typeof===m||b.$$typeof===s||b.$$typeof===o||b.$$typeof===c||b.$$typeof===v||b.getModuleId!==void 0)},aa.typeOf=w,aa}var iB;function mAe(){return iB||(iB=1,NA.exports=hAe()),NA.exports}var pAe=mAe(),SA,sB;function lee(){if(sB)return SA;sB=1;var t=zf(),e=qf(),r="[object Number]";function n(a){return typeof a=="number"||e(a)&&t(a)==r}return SA=n,SA}var kA,oB;function gAe(){if(oB)return kA;oB=1;var t=lee();function e(r){return t(r)&&r!=+r}return kA=e,kA}var xAe=gAe();const Px=Kn(xAe);var yAe=lee();const bAe=Kn(yAe);var Po=function(e){return e===0?0:e>0?1:-1},sp=function(e){return Dp(e)&&e.indexOf("%")===e.length-1},Xt=function(e){return bAe(e)&&!Px(e)},vAe=function(e){return nn(e)},ws=function(e){return Xt(e)||Dp(e)},wAe=0,Vp=function(e){var r=++wAe;return"".concat(e||"").concat(r)},Lo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xt(e)&&!Dp(e))return n;var s;if(sp(e)){var o=e.indexOf("%");s=r*parseFloat(e.slice(0,o))/100}else s=+e;return Px(s)&&(s=n),a&&s>r&&(s=r),s},Fh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},jAe=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},a=0;a<r;a++)if(!n[e[a]])n[e[a]]=!0;else return!0;return!1},vs=function(e,r){return Xt(e)&&Xt(r)?function(n){return e+n*(r-e)}:function(){return r}};function h5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):El(n,e))===r})}var NAe=function(e,r){return Xt(e)&&Xt(r)?e-r:Dp(e)&&Dp(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Ng(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function vO(t){"@babel/helpers - typeof";return vO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vO(t)}var SAe=["viewBox","children"],kAe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],lB=["points","pathLength"],CA={svg:SAe,polygon:lB,polyline:lB},aP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],m5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(y.isValidElement(e)&&(n=e.props),!Dx(n))return null;var a={};return Object.keys(n).forEach(function(s){aP.includes(s)&&(a[s]=r||function(o){return n[s](n,o)})}),a},CAe=function(e,r,n){return function(a){return e(r,n,a),null}},Pp=function(e,r,n){if(!Dx(e)||vO(e)!=="object")return null;var a=null;return Object.keys(e).forEach(function(s){var o=e[s];aP.includes(s)&&typeof o=="function"&&(a||(a={}),a[s]=CAe(o,r,n))}),a},_Ae=["children"],AAe=["children"];function cB(t,e){if(t==null)return{};var r=TAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function TAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wO(t){"@babel/helpers - typeof";return wO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wO(t)}var uB={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Sf=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},dB=null,_A=null,iP=function t(e){if(e===dB&&Array.isArray(_A))return _A;var r=[];return y.Children.forEach(e,function(n){nn(n)||(pAe.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),_A=r,dB=e,r};function Dl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(a){return Sf(a)}):n=[Sf(e)],iP(t).forEach(function(a){var s=El(a,"type.displayName")||El(a,"type.name");n.indexOf(s)!==-1&&r.push(a)}),r}function Sl(t,e){var r=Dl(t,e);return r&&r[0]}var fB=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,a=r.height;return!(!Xt(n)||n<=0||!Xt(a)||a<=0)},MAe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],OAe=function(e){return e&&e.type&&Dp(e.type)&&MAe.indexOf(e.type)>=0},cee=function(e){return e&&wO(e)==="object"&&"clipDot"in e},EAe=function(e,r,n,a){var s,o=(s=CA==null?void 0:CA[a])!==null&&s!==void 0?s:[];return r.startsWith("data-")||!Yr(e)&&(a&&o.includes(r)||kAe.includes(r))||n&&aP.includes(r)},Tr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var a=e;if(y.isValidElement(e)&&(a=e.props),!Dx(a))return null;var s={};return Object.keys(a).forEach(function(o){var l;EAe((l=a)===null||l===void 0?void 0:l[o],o,r,n)&&(s[o]=a[o])}),s},jO=function t(e,r){if(e===r)return!0;var n=y.Children.count(e);if(n!==y.Children.count(r))return!1;if(n===0)return!0;if(n===1)return hB(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var a=0;a<n;a++){var s=e[a],o=r[a];if(Array.isArray(s)||Array.isArray(o)){if(!t(s,o))return!1}else if(!hB(s,o))return!1}return!0},hB=function(e,r){if(nn(e)&&nn(r))return!0;if(!nn(e)&&!nn(r)){var n=e.props||{},a=n.children,s=cB(n,_Ae),o=r.props||{},l=o.children,c=cB(o,AAe);return a&&l?Ng(s,c)&&jO(a,l):!a&&!l?Ng(s,c):!1}return!1},mB=function(e,r){var n=[],a={};return iP(e).forEach(function(s,o){if(OAe(s))n.push(s);else if(s){var l=Sf(s.type),c=r[l]||{},u=c.handler,f=c.once;if(u&&(!f||!a[l])){var m=u(s,l,o);n.push(m),a[l]=!0}}}),n},DAe=function(e){var r=e&&e.type;return r&&uB[r]?uB[r]:null},PAe=function(e,r){return iP(r).indexOf(e)},LAe=["children","width","height","viewBox","className","style","title","desc"];function NO(){return NO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NO.apply(this,arguments)}function RAe(t,e){if(t==null)return{};var r=IAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function IAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SO(t){var e=t.children,r=t.width,n=t.height,a=t.viewBox,s=t.className,o=t.style,l=t.title,c=t.desc,u=RAe(t,LAe),f=a||{width:r,height:n,x:0,y:0},m=Cr("recharts-surface",s);return fe.createElement("svg",NO({},Tr(u,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),fe.createElement("title",null,l),fe.createElement("desc",null,c),e)}var FAe=["children","className"];function kO(){return kO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kO.apply(this,arguments)}function $Ae(t,e){if(t==null)return{};var r=BAe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function BAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _n=fe.forwardRef(function(t,e){var r=t.children,n=t.className,a=$Ae(t,FAe),s=Cr("recharts-layer",n);return fe.createElement("g",kO({className:s},Tr(a,!0),{ref:e}),r)}),ou=function(e,r){for(var n=arguments.length,a=new Array(n>2?n-2:0),s=2;s<n;s++)a[s-2]=arguments[s]},AA,pB;function HAe(){if(pB)return AA;pB=1;function t(e,r,n){var a=-1,s=e.length;r<0&&(r=-r>s?0:s+r),n=n>s?s:n,n<0&&(n+=s),s=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(s);++a<s;)o[a]=e[a+r];return o}return AA=t,AA}var TA,gB;function zAe(){if(gB)return TA;gB=1;var t=HAe();function e(r,n,a){var s=r.length;return a=a===void 0?s:a,!n&&a>=s?r:t(r,n,a)}return TA=e,TA}var MA,xB;function uee(){if(xB)return MA;xB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+a+s+"]");function c(u){return l.test(u)}return MA=c,MA}var OA,yB;function qAe(){if(yB)return OA;yB=1;function t(e){return e.split("")}return OA=t,OA}var EA,bB;function UAe(){if(bB)return EA;bB=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",a=e+r+n,s="\\ufe0e\\ufe0f",o="["+t+"]",l="["+a+"]",c="\\ud83c[\\udffb-\\udfff]",u="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",p="\\u200d",v=u+"?",w="["+s+"]?",b="(?:"+p+"(?:"+[f,m,g].join("|")+")"+w+v+")*",N=w+v+b,k="(?:"+[f+l+"?",l,m,g,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+k+N,"g");function A(_){return _.match(S)||[]}return EA=A,EA}var DA,vB;function WAe(){if(vB)return DA;vB=1;var t=qAe(),e=uee(),r=UAe();function n(a){return e(a)?r(a):t(a)}return DA=n,DA}var PA,wB;function VAe(){if(wB)return PA;wB=1;var t=zAe(),e=uee(),r=WAe(),n=iee();function a(s){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),u=l?t(l,1).join(""):o.slice(1);return c[s]()+u}}return PA=a,PA}var LA,jB;function GAe(){if(jB)return LA;jB=1;var t=VAe(),e=t("toUpperCase");return LA=e,LA}var YAe=GAe();const sS=Kn(YAe);function Pa(t){return function(){return t}}const dee=Math.cos,p5=Math.sin,mu=Math.sqrt,g5=Math.PI,oS=2*g5,CO=Math.PI,_O=2*CO,Vm=1e-6,KAe=_O-Vm;function fee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function JAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return fee;const r=10**e;return function(n){this._+=n[0];for(let a=1,s=n.length;a<s;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class XAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?fee:JAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,a){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(e,r,n,a,s,o){this._append`C${+e},${+r},${+n},${+a},${this._x1=+s},${this._y1=+o}`}arcTo(e,r,n,a,s){if(e=+e,r=+r,n=+n,a=+a,s=+s,s<0)throw new Error(`negative radius: ${s}`);let o=this._x1,l=this._y1,c=n-e,u=a-r,f=o-e,m=l-r,g=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Vm)if(!(Math.abs(m*c-u*f)>Vm)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let p=n-o,v=a-l,w=c*c+u*u,b=p*p+v*v,N=Math.sqrt(w),k=Math.sqrt(g),S=s*Math.tan((CO-Math.acos((w+g-b)/(2*N*k)))/2),A=S/k,_=S/N;Math.abs(A-1)>Vm&&this._append`L${e+A*f},${r+A*m}`,this._append`A${s},${s},0,0,${+(m*p>f*v)},${this._x1=e+_*c},${this._y1=r+_*u}`}}arc(e,r,n,a,s,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(a),c=n*Math.sin(a),u=e+l,f=r+c,m=1^o,g=o?a-s:s-a;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>Vm||Math.abs(this._y1-f)>Vm)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%_O+_O),g>KAe?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=u},${this._y1=f}`:g>Vm&&this._append`A${n},${n},0,${+(g>=CO)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,a){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function sP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new XAe(e)}function oP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function hee(t){this._context=t}hee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function lS(t){return new hee(t)}function mee(t){return t[0]}function pee(t){return t[1]}function gee(t,e){var r=Pa(!0),n=null,a=lS,s=null,o=sP(l);t=typeof t=="function"?t:t===void 0?mee:Pa(t),e=typeof e=="function"?e:e===void 0?pee:Pa(e);function l(c){var u,f=(c=oP(c)).length,m,g=!1,p;for(n==null&&(s=a(p=o())),u=0;u<=f;++u)!(u<f&&r(m=c[u],u,c))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,u,c),+e(m,u,c));if(p)return s=null,p+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Pa(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Pa(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Pa(!!c),l):r},l.curve=function(c){return arguments.length?(a=c,n!=null&&(s=a(n)),l):a},l.context=function(c){return arguments.length?(c==null?n=s=null:s=a(n=c),l):n},l}function Uw(t,e,r){var n=null,a=Pa(!0),s=null,o=lS,l=null,c=sP(u);t=typeof t=="function"?t:t===void 0?mee:Pa(+t),e=typeof e=="function"?e:Pa(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?pee:Pa(+r);function u(m){var g,p,v,w=(m=oP(m)).length,b,N=!1,k,S=new Array(w),A=new Array(w);for(s==null&&(l=o(k=c())),g=0;g<=w;++g){if(!(g<w&&a(b=m[g],g,m))===N)if(N=!N)p=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=g-1;v>=p;--v)l.point(S[v],A[v]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+t(b,g,m),A[g]=+e(b,g,m),l.point(n?+n(b,g,m):S[g],r?+r(b,g,m):A[g]))}if(k)return l=null,k+""||null}function f(){return gee().defined(a).curve(o).context(s)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:Pa(+m),n=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Pa(+m),u):t},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Pa(+m),u):n},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:Pa(+m),r=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Pa(+m),u):e},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Pa(+m),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(m){return arguments.length?(a=typeof m=="function"?m:Pa(!!m),u):a},u.curve=function(m){return arguments.length?(o=m,s!=null&&(l=o(s)),u):o},u.context=function(m){return arguments.length?(m==null?s=l=null:l=o(s=m),u):s},u}class xee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function QAe(t){return new xee(t,!0)}function ZAe(t){return new xee(t,!1)}const lP={draw(t,e){const r=mu(e/g5);t.moveTo(r,0),t.arc(0,0,r,0,oS)}},e3e={draw(t,e){const r=mu(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},yee=mu(1/3),t3e=yee*2,r3e={draw(t,e){const r=mu(e/t3e),n=r*yee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},n3e={draw(t,e){const r=mu(e),n=-r/2;t.rect(n,n,r,r)}},a3e=.8908130915292852,bee=p5(g5/10)/p5(7*g5/10),i3e=p5(oS/10)*bee,s3e=-dee(oS/10)*bee,o3e={draw(t,e){const r=mu(e*a3e),n=i3e*r,a=s3e*r;t.moveTo(0,-r),t.lineTo(n,a);for(let s=1;s<5;++s){const o=oS*s/5,l=dee(o),c=p5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*a,c*n+l*a)}t.closePath()}},RA=mu(3),l3e={draw(t,e){const r=-mu(e/(RA*3));t.moveTo(0,r*2),t.lineTo(-RA*r,-r),t.lineTo(RA*r,-r),t.closePath()}},tc=-.5,rc=mu(3)/2,AO=1/mu(12),c3e=(AO/2+1)*3,u3e={draw(t,e){const r=mu(e/c3e),n=r/2,a=r*AO,s=n,o=r*AO+r,l=-s,c=o;t.moveTo(n,a),t.lineTo(s,o),t.lineTo(l,c),t.lineTo(tc*n-rc*a,rc*n+tc*a),t.lineTo(tc*s-rc*o,rc*s+tc*o),t.lineTo(tc*l-rc*c,rc*l+tc*c),t.lineTo(tc*n+rc*a,tc*a-rc*n),t.lineTo(tc*s+rc*o,tc*o-rc*s),t.lineTo(tc*l+rc*c,tc*c-rc*l),t.closePath()}};function d3e(t,e){let r=null,n=sP(a);t=typeof t=="function"?t:Pa(t||lP),e=typeof e=="function"?e:Pa(e===void 0?64:+e);function a(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return a.type=function(s){return arguments.length?(t=typeof s=="function"?s:Pa(s),a):t},a.size=function(s){return arguments.length?(e=typeof s=="function"?s:Pa(+s),a):e},a.context=function(s){return arguments.length?(r=s??null,a):r},a}function x5(){}function y5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function vee(t){this._context=t}vee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function f3e(t){return new vee(t)}function wee(t){this._context=t}wee.prototype={areaStart:x5,areaEnd:x5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function h3e(t){return new wee(t)}function jee(t){this._context=t}jee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function m3e(t){return new jee(t)}function Nee(t){this._context=t}Nee.prototype={areaStart:x5,areaEnd:x5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function p3e(t){return new Nee(t)}function NB(t){return t<0?-1:1}function SB(t,e,r){var n=t._x1-t._x0,a=e-t._x1,s=(t._y1-t._y0)/(n||a<0&&-0),o=(r-t._y1)/(a||n<0&&-0),l=(s*a+o*n)/(n+a);return(NB(s)+NB(o))*Math.min(Math.abs(s),Math.abs(o),.5*Math.abs(l))||0}function kB(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function IA(t,e,r){var n=t._x0,a=t._y0,s=t._x1,o=t._y1,l=(s-n)/3;t._context.bezierCurveTo(n+l,a+l*e,s-l,o-l*r,s,o)}function b5(t){this._context=t}b5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:IA(this,this._t0,kB(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,IA(this,kB(this,r=SB(this,t,e)),r);break;default:IA(this,this._t0,r=SB(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function See(t){this._context=new kee(t)}(See.prototype=Object.create(b5.prototype)).point=function(t,e){b5.prototype.point.call(this,e,t)};function kee(t){this._context=t}kee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,a,s){this._context.bezierCurveTo(e,t,n,r,s,a)}};function g3e(t){return new b5(t)}function x3e(t){return new See(t)}function Cee(t){this._context=t}Cee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=CB(t),a=CB(e),s=0,o=1;o<r;++s,++o)this._context.bezierCurveTo(n[0][s],a[0][s],n[1][s],a[1][s],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function CB(t){var e,r=t.length-1,n,a=new Array(r),s=new Array(r),o=new Array(r);for(a[0]=0,s[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)a[e]=1,s[e]=4,o[e]=4*t[e]+2*t[e+1];for(a[r-1]=2,s[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=a[e]/s[e-1],s[e]-=n,o[e]-=n*o[e-1];for(a[r-1]=o[r-1]/s[r-1],e=r-2;e>=0;--e)a[e]=(o[e]-a[e+1])/s[e];for(s[r-1]=(t[r]+a[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-a[e+1];return[a,s]}function y3e(t){return new Cee(t)}function cS(t,e){this._context=t,this._t=e}cS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function b3e(t){return new cS(t,.5)}function v3e(t){return new cS(t,0)}function w3e(t){return new cS(t,1)}function Kg(t,e){if((o=t.length)>1)for(var r=1,n,a,s=t[e[0]],o,l=s.length;r<o;++r)for(a=s,s=t[e[r]],n=0;n<l;++n)s[n][1]+=s[n][0]=isNaN(a[n][1])?a[n][0]:a[n][1]}function TO(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function j3e(t,e){return t[e]}function N3e(t){const e=[];return e.key=t,e}function S3e(){var t=Pa([]),e=TO,r=Kg,n=j3e;function a(s){var o=Array.from(t.apply(this,arguments),N3e),l,c=o.length,u=-1,f;for(const m of s)for(l=0,++u;l<c;++l)(o[l][u]=[0,+n(m,o[l].key,u,s)]).data=m;for(l=0,f=oP(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return a.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pa(Array.from(s)),a):t},a.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pa(+s),a):n},a.order=function(s){return arguments.length?(e=s==null?TO:typeof s=="function"?s:Pa(Array.from(s)),a):e},a.offset=function(s){return arguments.length?(r=s??Kg,a):r},a}function k3e(t,e){if((n=t.length)>0){for(var r,n,a=0,s=t[0].length,o;a<s;++a){for(o=r=0;r<n;++r)o+=t[r][a][1]||0;if(o)for(r=0;r<n;++r)t[r][a][1]/=o}Kg(t,e)}}function C3e(t,e){if((a=t.length)>0){for(var r=0,n=t[e[0]],a,s=n.length;r<s;++r){for(var o=0,l=0;o<a;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}Kg(t,e)}}function _3e(t,e){if(!(!((o=t.length)>0)||!((s=(a=t[e[0]]).length)>0))){for(var r=0,n=1,a,s,o;n<s;++n){for(var l=0,c=0,u=0;l<o;++l){for(var f=t[e[l]],m=f[n][1]||0,g=f[n-1][1]||0,p=(m-g)/2,v=0;v<l;++v){var w=t[e[v]],b=w[n][1]||0,N=w[n-1][1]||0;p+=b-N}c+=m,u+=p*m}a[n-1][1]+=a[n-1][0]=r,c&&(r-=u/c)}a[n-1][1]+=a[n-1][0]=r,Kg(t,e)}}function sv(t){"@babel/helpers - typeof";return sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sv(t)}var A3e=["type","size","sizeType"];function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MO.apply(this,arguments)}function _B(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_B(Object(r),!0).forEach(function(n){T3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_B(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T3e(t,e,r){return e=M3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M3e(t){var e=O3e(t,"string");return sv(e)=="symbol"?e:e+""}function O3e(t,e){if(sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E3e(t,e){if(t==null)return{};var r=D3e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function D3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var _ee={symbolCircle:lP,symbolCross:e3e,symbolDiamond:r3e,symbolSquare:n3e,symbolStar:o3e,symbolTriangle:l3e,symbolWye:u3e},P3e=Math.PI/180,L3e=function(e){var r="symbol".concat(sS(e));return _ee[r]||lP},R3e=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var a=18*P3e;return 1.25*e*e*(Math.tan(a)-Math.tan(a*2)*Math.pow(Math.tan(a),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},I3e=function(e,r){_ee["symbol".concat(sS(e))]=r},cP=function(e){var r=e.type,n=r===void 0?"circle":r,a=e.size,s=a===void 0?64:a,o=e.sizeType,l=o===void 0?"area":o,c=E3e(e,A3e),u=AB(AB({},c),{},{type:n,size:s,sizeType:l}),f=function(){var b=L3e(n),N=d3e().type(b).size(R3e(s,l,n));return N()},m=u.className,g=u.cx,p=u.cy,v=Tr(u,!0);return g===+g&&p===+p&&s===+s?fe.createElement("path",MO({},v,{className:Cr("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(p,")"),d:f()})):null};cP.registerSymbol=I3e;function Jg(t){"@babel/helpers - typeof";return Jg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jg(t)}function OO(){return OO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OO.apply(this,arguments)}function TB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function F3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TB(Object(r),!0).forEach(function(n){ov(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function B3e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tee(n.key),n)}}function H3e(t,e,r){return e&&B3e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z3e(t,e,r){return e=v5(e),q3e(t,Aee()?Reflect.construct(e,r||[],v5(t).constructor):e.apply(t,r))}function q3e(t,e){if(e&&(Jg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return U3e(t)}function U3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Aee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Aee=function(){return!!t})()}function v5(t){return v5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v5(t)}function W3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},EO(t,e)}function ov(t,e,r){return e=Tee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tee(t){var e=V3e(t,"string");return Jg(e)=="symbol"?e:e+""}function V3e(t,e){if(Jg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Jg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var nc=32,uP=(function(t){function e(){return $3e(this,e),z3e(this,e,arguments)}return W3e(e,t),H3e(e,[{key:"renderIcon",value:function(n){var a=this.props.inactiveColor,s=nc/2,o=nc/6,l=nc/3,c=n.inactive?a:n.color;if(n.type==="plainline")return fe.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:s,x2:nc,y2:s,className:"recharts-legend-icon"});if(n.type==="line")return fe.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(s,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(s,`
            H`).concat(nc,"M").concat(2*l,",").concat(s,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(s),className:"recharts-legend-icon"});if(n.type==="rect")return fe.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(nc/8,"h").concat(nc,"v").concat(nc*3/4,"h").concat(-nc,"z"),className:"recharts-legend-icon"});if(fe.isValidElement(n.legendIcon)){var u=F3e({},n);return delete u.legendIcon,fe.cloneElement(n.legendIcon,u)}return fe.createElement(cP,{fill:c,cx:s,cy:s,size:nc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,a=this.props,s=a.payload,o=a.iconSize,l=a.layout,c=a.formatter,u=a.inactiveColor,f={x:0,y:0,width:nc,height:nc},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var w=p.formatter||c,b=Cr(ov(ov({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var N=Yr(p.value)?null:p.value;ou(!Yr(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=p.inactive?u:p.color;return fe.createElement("li",OO({className:b,style:m,key:"legend-item-".concat(v)},Pp(n.props,p,v)),fe.createElement(SO,{width:o,height:o,viewBox:f,style:g},n.renderIcon(p)),fe.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(N,p,v):N))})}},{key:"render",value:function(){var n=this.props,a=n.payload,s=n.layout,o=n.align;if(!a||!a.length)return null;var l={padding:0,margin:0,textAlign:s==="horizontal"?o:"left"};return fe.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(y.PureComponent);ov(uP,"displayName","Legend");ov(uP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var FA,MB;function G3e(){if(MB)return FA;MB=1;var t=nS();function e(){this.__data__=new t,this.size=0}return FA=e,FA}var $A,OB;function Y3e(){if(OB)return $A;OB=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $A=t,$A}var BA,EB;function K3e(){if(EB)return BA;EB=1;function t(e){return this.__data__.get(e)}return BA=t,BA}var HA,DB;function J3e(){if(DB)return HA;DB=1;function t(e){return this.__data__.has(e)}return HA=t,HA}var zA,PB;function X3e(){if(PB)return zA;PB=1;var t=nS(),e=eP(),r=tP(),n=200;function a(s,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([s,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(s,o),this.size=l.size,this}return zA=a,zA}var qA,LB;function Mee(){if(LB)return qA;LB=1;var t=nS(),e=G3e(),r=Y3e(),n=K3e(),a=J3e(),s=X3e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=a,o.prototype.set=s,qA=o,qA}var UA,RB;function Q3e(){if(RB)return UA;RB=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return UA=e,UA}var WA,IB;function Z3e(){if(IB)return WA;IB=1;function t(e){return this.__data__.has(e)}return WA=t,WA}var VA,FB;function Oee(){if(FB)return VA;FB=1;var t=tP(),e=Q3e(),r=Z3e();function n(a){var s=-1,o=a==null?0:a.length;for(this.__data__=new t;++s<o;)this.add(a[s])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,VA=n,VA}var GA,$B;function Eee(){if($B)return GA;$B=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(e[n],n,e))return!0;return!1}return GA=t,GA}var YA,BB;function Dee(){if(BB)return YA;BB=1;function t(e,r){return e.has(r)}return YA=t,YA}var KA,HB;function Pee(){if(HB)return KA;HB=1;var t=Oee(),e=Eee(),r=Dee(),n=1,a=2;function s(o,l,c,u,f,m){var g=c&n,p=o.length,v=l.length;if(p!=v&&!(g&&v>p))return!1;var w=m.get(o),b=m.get(l);if(w&&b)return w==l&&b==o;var N=-1,k=!0,S=c&a?new t:void 0;for(m.set(o,l),m.set(l,o);++N<p;){var A=o[N],_=l[N];if(u)var M=g?u(_,A,N,l,o,m):u(A,_,N,o,l,m);if(M!==void 0){if(M)continue;k=!1;break}if(S){if(!e(l,function(R,L){if(!r(S,L)&&(A===R||f(A,R,c,u,m)))return S.push(L)})){k=!1;break}}else if(!(A===_||f(A,_,c,u,m))){k=!1;break}}return m.delete(o),m.delete(l),k}return KA=s,KA}var JA,zB;function e4e(){if(zB)return JA;zB=1;var t=gd(),e=t.Uint8Array;return JA=e,JA}var XA,qB;function t4e(){if(qB)return XA;qB=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a,s){n[++r]=[s,a]}),n}return XA=t,XA}var QA,UB;function dP(){if(UB)return QA;UB=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(a){n[++r]=a}),n}return QA=t,QA}var ZA,WB;function r4e(){if(WB)return ZA;WB=1;var t=l1(),e=e4e(),r=ZD(),n=Pee(),a=t4e(),s=dP(),o=1,l=2,c="[object Boolean]",u="[object Date]",f="[object Error]",m="[object Map]",g="[object Number]",p="[object RegExp]",v="[object Set]",w="[object String]",b="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function _(M,R,L,I,B,D,E){switch(L){case k:if(M.byteLength!=R.byteLength||M.byteOffset!=R.byteOffset)return!1;M=M.buffer,R=R.buffer;case N:return!(M.byteLength!=R.byteLength||!D(new e(M),new e(R)));case c:case u:case g:return r(+M,+R);case f:return M.name==R.name&&M.message==R.message;case p:case w:return M==R+"";case m:var H=a;case v:var V=I&o;if(H||(H=s),M.size!=R.size&&!V)return!1;var Y=E.get(M);if(Y)return Y==R;I|=l,E.set(M,R);var W=n(H(M),H(R),I,B,D,E);return E.delete(M),W;case b:if(A)return A.call(M)==A.call(R)}return!1}return ZA=_,ZA}var e3,VB;function Lee(){if(VB)return e3;VB=1;function t(e,r){for(var n=-1,a=r.length,s=e.length;++n<a;)e[s+n]=r[n];return e}return e3=t,e3}var t3,GB;function n4e(){if(GB)return t3;GB=1;var t=Lee(),e=dl();function r(n,a,s){var o=a(n);return e(n)?o:t(o,s(n))}return t3=r,t3}var r3,YB;function a4e(){if(YB)return r3;YB=1;function t(e,r){for(var n=-1,a=e==null?0:e.length,s=0,o=[];++n<a;){var l=e[n];r(l,n,e)&&(o[s++]=l)}return o}return r3=t,r3}var n3,KB;function i4e(){if(KB)return n3;KB=1;function t(){return[]}return n3=t,n3}var a3,JB;function s4e(){if(JB)return a3;JB=1;var t=a4e(),e=i4e(),r=Object.prototype,n=r.propertyIsEnumerable,a=Object.getOwnPropertySymbols,s=a?function(o){return o==null?[]:(o=Object(o),t(a(o),function(l){return n.call(o,l)}))}:e;return a3=s,a3}var i3,XB;function o4e(){if(XB)return i3;XB=1;function t(e,r){for(var n=-1,a=Array(e);++n<e;)a[n]=r(n);return a}return i3=t,i3}var s3,QB;function l4e(){if(QB)return s3;QB=1;var t=zf(),e=qf(),r="[object Arguments]";function n(a){return e(a)&&t(a)==r}return s3=n,s3}var o3,ZB;function fP(){if(ZB)return o3;ZB=1;var t=l4e(),e=qf(),r=Object.prototype,n=r.hasOwnProperty,a=r.propertyIsEnumerable,s=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!a.call(o,"callee")};return o3=s,o3}var ob={exports:{}},l3,eH;function c4e(){if(eH)return l3;eH=1;function t(){return!1}return l3=t,l3}ob.exports;var tH;function Ree(){return tH||(tH=1,(function(t,e){var r=gd(),n=c4e(),a=e&&!e.nodeType&&e,s=a&&!0&&t&&!t.nodeType&&t,o=s&&s.exports===a,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;t.exports=u})(ob,ob.exports)),ob.exports}var c3,rH;function hP(){if(rH)return c3;rH=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,a){var s=typeof n;return a=a??t,!!a&&(s=="number"||s!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<a}return c3=r,c3}var u3,nH;function mP(){if(nH)return u3;nH=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return u3=e,u3}var d3,aH;function u4e(){if(aH)return d3;aH=1;var t=zf(),e=mP(),r=qf(),n="[object Arguments]",a="[object Array]",s="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",u="[object Map]",f="[object Number]",m="[object Object]",g="[object RegExp]",p="[object Set]",v="[object String]",w="[object WeakMap]",b="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",M="[object Int32Array]",R="[object Uint8Array]",L="[object Uint8ClampedArray]",I="[object Uint16Array]",B="[object Uint32Array]",D={};D[k]=D[S]=D[A]=D[_]=D[M]=D[R]=D[L]=D[I]=D[B]=!0,D[n]=D[a]=D[b]=D[s]=D[N]=D[o]=D[l]=D[c]=D[u]=D[f]=D[m]=D[g]=D[p]=D[v]=D[w]=!1;function E(H){return r(H)&&e(H.length)&&!!D[t(H)]}return d3=E,d3}var f3,iH;function Iee(){if(iH)return f3;iH=1;function t(e){return function(r){return e(r)}}return f3=t,f3}var lb={exports:{}};lb.exports;var sH;function d4e(){return sH||(sH=1,(function(t,e){var r=ree(),n=e&&!e.nodeType&&e,a=n&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===n,o=s&&r.process,l=(function(){try{var c=a&&a.require&&a.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(lb,lb.exports)),lb.exports}var h3,oH;function Fee(){if(oH)return h3;oH=1;var t=u4e(),e=Iee(),r=d4e(),n=r&&r.isTypedArray,a=n?e(n):t;return h3=a,h3}var m3,lH;function f4e(){if(lH)return m3;lH=1;var t=o4e(),e=fP(),r=dl(),n=Ree(),a=hP(),s=Fee(),o=Object.prototype,l=o.hasOwnProperty;function c(u,f){var m=r(u),g=!m&&e(u),p=!m&&!g&&n(u),v=!m&&!g&&!p&&s(u),w=m||g||p||v,b=w?t(u.length,String):[],N=b.length;for(var k in u)(f||l.call(u,k))&&!(w&&(k=="length"||p&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||a(k,N)))&&b.push(k);return b}return m3=c,m3}var p3,cH;function h4e(){if(cH)return p3;cH=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,a=typeof n=="function"&&n.prototype||t;return r===a}return p3=e,p3}var g3,uH;function $ee(){if(uH)return g3;uH=1;function t(e,r){return function(n){return e(r(n))}}return g3=t,g3}var x3,dH;function m4e(){if(dH)return x3;dH=1;var t=$ee(),e=t(Object.keys,Object);return x3=e,x3}var y3,fH;function p4e(){if(fH)return y3;fH=1;var t=h4e(),e=m4e(),r=Object.prototype,n=r.hasOwnProperty;function a(s){if(!t(s))return e(s);var o=[];for(var l in Object(s))n.call(s,l)&&l!="constructor"&&o.push(l);return o}return y3=a,y3}var b3,hH;function c1(){if(hH)return b3;hH=1;var t=QD(),e=mP();function r(n){return n!=null&&e(n.length)&&!t(n)}return b3=r,b3}var v3,mH;function uS(){if(mH)return v3;mH=1;var t=f4e(),e=p4e(),r=c1();function n(a){return r(a)?t(a):e(a)}return v3=n,v3}var w3,pH;function g4e(){if(pH)return w3;pH=1;var t=n4e(),e=s4e(),r=uS();function n(a){return t(a,r,e)}return w3=n,w3}var j3,gH;function x4e(){if(gH)return j3;gH=1;var t=g4e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function a(s,o,l,c,u,f){var m=l&e,g=t(s),p=g.length,v=t(o),w=v.length;if(p!=w&&!m)return!1;for(var b=p;b--;){var N=g[b];if(!(m?N in o:n.call(o,N)))return!1}var k=f.get(s),S=f.get(o);if(k&&S)return k==o&&S==s;var A=!0;f.set(s,o),f.set(o,s);for(var _=m;++b<p;){N=g[b];var M=s[N],R=o[N];if(c)var L=m?c(R,M,N,o,s,f):c(M,R,N,s,o,f);if(!(L===void 0?M===R||u(M,R,l,c,f):L)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var I=s.constructor,B=o.constructor;I!=B&&"constructor"in s&&"constructor"in o&&!(typeof I=="function"&&I instanceof I&&typeof B=="function"&&B instanceof B)&&(A=!1)}return f.delete(s),f.delete(o),A}return j3=a,j3}var N3,xH;function y4e(){if(xH)return N3;xH=1;var t=Wp(),e=gd(),r=t(e,"DataView");return N3=r,N3}var S3,yH;function b4e(){if(yH)return S3;yH=1;var t=Wp(),e=gd(),r=t(e,"Promise");return S3=r,S3}var k3,bH;function Bee(){if(bH)return k3;bH=1;var t=Wp(),e=gd(),r=t(e,"Set");return k3=r,k3}var C3,vH;function v4e(){if(vH)return C3;vH=1;var t=Wp(),e=gd(),r=t(e,"WeakMap");return C3=r,C3}var _3,wH;function w4e(){if(wH)return _3;wH=1;var t=y4e(),e=eP(),r=b4e(),n=Bee(),a=v4e(),s=zf(),o=nee(),l="[object Map]",c="[object Object]",u="[object Promise]",f="[object Set]",m="[object WeakMap]",g="[object DataView]",p=o(t),v=o(e),w=o(r),b=o(n),N=o(a),k=s;return(t&&k(new t(new ArrayBuffer(1)))!=g||e&&k(new e)!=l||r&&k(r.resolve())!=u||n&&k(new n)!=f||a&&k(new a)!=m)&&(k=function(S){var A=s(S),_=A==c?S.constructor:void 0,M=_?o(_):"";if(M)switch(M){case p:return g;case v:return l;case w:return u;case b:return f;case N:return m}return A}),_3=k,_3}var A3,jH;function j4e(){if(jH)return A3;jH=1;var t=Mee(),e=Pee(),r=r4e(),n=x4e(),a=w4e(),s=dl(),o=Ree(),l=Fee(),c=1,u="[object Arguments]",f="[object Array]",m="[object Object]",g=Object.prototype,p=g.hasOwnProperty;function v(w,b,N,k,S,A){var _=s(w),M=s(b),R=_?f:a(w),L=M?f:a(b);R=R==u?m:R,L=L==u?m:L;var I=R==m,B=L==m,D=R==L;if(D&&o(w)){if(!o(b))return!1;_=!0,I=!1}if(D&&!I)return A||(A=new t),_||l(w)?e(w,b,N,k,S,A):r(w,b,R,N,k,S,A);if(!(N&c)){var E=I&&p.call(w,"__wrapped__"),H=B&&p.call(b,"__wrapped__");if(E||H){var V=E?w.value():w,Y=H?b.value():b;return A||(A=new t),S(V,Y,N,k,A)}}return D?(A||(A=new t),n(w,b,N,k,S,A)):!1}return A3=v,A3}var T3,NH;function pP(){if(NH)return T3;NH=1;var t=j4e(),e=qf();function r(n,a,s,o,l){return n===a?!0:n==null||a==null||!e(n)&&!e(a)?n!==n&&a!==a:t(n,a,s,o,r,l)}return T3=r,T3}var M3,SH;function N4e(){if(SH)return M3;SH=1;var t=Mee(),e=pP(),r=1,n=2;function a(s,o,l,c){var u=l.length,f=u,m=!c;if(s==null)return!f;for(s=Object(s);u--;){var g=l[u];if(m&&g[2]?g[1]!==s[g[0]]:!(g[0]in s))return!1}for(;++u<f;){g=l[u];var p=g[0],v=s[p],w=g[1];if(m&&g[2]){if(v===void 0&&!(p in s))return!1}else{var b=new t;if(c)var N=c(v,w,p,s,o,b);if(!(N===void 0?e(w,v,r|n,c,b):N))return!1}}return!0}return M3=a,M3}var O3,kH;function Hee(){if(kH)return O3;kH=1;var t=hm();function e(r){return r===r&&!t(r)}return O3=e,O3}var E3,CH;function S4e(){if(CH)return E3;CH=1;var t=Hee(),e=uS();function r(n){for(var a=e(n),s=a.length;s--;){var o=a[s],l=n[o];a[s]=[o,l,t(l)]}return a}return E3=r,E3}var D3,_H;function zee(){if(_H)return D3;_H=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return D3=t,D3}var P3,AH;function k4e(){if(AH)return P3;AH=1;var t=N4e(),e=S4e(),r=zee();function n(a){var s=e(a);return s.length==1&&s[0][2]?r(s[0][0],s[0][1]):function(o){return o===a||t(o,a,s)}}return P3=n,P3}var L3,TH;function C4e(){if(TH)return L3;TH=1;function t(e,r){return e!=null&&r in Object(e)}return L3=t,L3}var R3,MH;function _4e(){if(MH)return R3;MH=1;var t=see(),e=fP(),r=dl(),n=hP(),a=mP(),s=iS();function o(l,c,u){c=t(c,l);for(var f=-1,m=c.length,g=!1;++f<m;){var p=s(c[f]);if(!(g=l!=null&&u(l,p)))break;l=l[p]}return g||++f!=m?g:(m=l==null?0:l.length,!!m&&a(m)&&n(p,m)&&(r(l)||e(l)))}return R3=o,R3}var I3,OH;function A4e(){if(OH)return I3;OH=1;var t=C4e(),e=_4e();function r(n,a){return n!=null&&e(n,a,t)}return I3=r,I3}var F3,EH;function T4e(){if(EH)return F3;EH=1;var t=pP(),e=oee(),r=A4e(),n=XD(),a=Hee(),s=zee(),o=iS(),l=1,c=2;function u(f,m){return n(f)&&a(m)?s(o(f),m):function(g){var p=e(g,f);return p===void 0&&p===m?r(g,f):t(m,p,l|c)}}return F3=u,F3}var $3,DH;function Lx(){if(DH)return $3;DH=1;function t(e){return e}return $3=t,$3}var B3,PH;function M4e(){if(PH)return B3;PH=1;function t(e){return function(r){return r==null?void 0:r[e]}}return B3=t,B3}var H3,LH;function O4e(){if(LH)return H3;LH=1;var t=nP();function e(r){return function(n){return t(n,r)}}return H3=e,H3}var z3,RH;function E4e(){if(RH)return z3;RH=1;var t=M4e(),e=O4e(),r=XD(),n=iS();function a(s){return r(s)?t(n(s)):e(s)}return z3=a,z3}var q3,IH;function xd(){if(IH)return q3;IH=1;var t=k4e(),e=T4e(),r=Lx(),n=dl(),a=E4e();function s(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):a(o)}return q3=s,q3}var U3,FH;function qee(){if(FH)return U3;FH=1;function t(e,r,n,a){for(var s=e.length,o=n+(a?1:-1);a?o--:++o<s;)if(r(e[o],o,e))return o;return-1}return U3=t,U3}var W3,$H;function D4e(){if($H)return W3;$H=1;function t(e){return e!==e}return W3=t,W3}var V3,BH;function P4e(){if(BH)return V3;BH=1;function t(e,r,n){for(var a=n-1,s=e.length;++a<s;)if(e[a]===r)return a;return-1}return V3=t,V3}var G3,HH;function L4e(){if(HH)return G3;HH=1;var t=qee(),e=D4e(),r=P4e();function n(a,s,o){return s===s?r(a,s,o):t(a,e,o)}return G3=n,G3}var Y3,zH;function R4e(){if(zH)return Y3;zH=1;var t=L4e();function e(r,n){var a=r==null?0:r.length;return!!a&&t(r,n,0)>-1}return Y3=e,Y3}var K3,qH;function I4e(){if(qH)return K3;qH=1;function t(e,r,n){for(var a=-1,s=e==null?0:e.length;++a<s;)if(n(r,e[a]))return!0;return!1}return K3=t,K3}var J3,UH;function F4e(){if(UH)return J3;UH=1;function t(){}return J3=t,J3}var X3,WH;function $4e(){if(WH)return X3;WH=1;var t=Bee(),e=F4e(),r=dP(),n=1/0,a=t&&1/r(new t([,-0]))[1]==n?function(s){return new t(s)}:e;return X3=a,X3}var Q3,VH;function B4e(){if(VH)return Q3;VH=1;var t=Oee(),e=R4e(),r=I4e(),n=Dee(),a=$4e(),s=dP(),o=200;function l(c,u,f){var m=-1,g=e,p=c.length,v=!0,w=[],b=w;if(f)v=!1,g=r;else if(p>=o){var N=u?null:a(c);if(N)return s(N);v=!1,g=n,b=new t}else b=u?[]:w;e:for(;++m<p;){var k=c[m],S=u?u(k):k;if(k=f||k!==0?k:0,v&&S===S){for(var A=b.length;A--;)if(b[A]===S)continue e;u&&b.push(S),w.push(k)}else g(b,S,f)||(b!==w&&b.push(S),w.push(k))}return w}return Q3=l,Q3}var Z3,GH;function H4e(){if(GH)return Z3;GH=1;var t=xd(),e=B4e();function r(n,a){return n&&n.length?e(n,t(a,2)):[]}return Z3=r,Z3}var z4e=H4e();const YH=Kn(z4e);function Uee(t,e,r){return e===!0?YH(t,r):Yr(e)?YH(t,e):t}function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}var q4e=["ref"];function KH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Qd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KH(Object(r),!0).forEach(function(n){dS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function U4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JH(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Vee(n.key),n)}}function W4e(t,e,r){return e&&JH(t.prototype,e),r&&JH(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V4e(t,e,r){return e=w5(e),G4e(t,Wee()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function G4e(t,e){if(e&&(Xg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Y4e(t)}function Y4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Wee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Wee=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function K4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&DO(t,e)}function DO(t,e){return DO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},DO(t,e)}function dS(t,e,r){return e=Vee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vee(t){var e=J4e(t,"string");return Xg(e)=="symbol"?e:e+""}function J4e(t,e){if(Xg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Xg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function X4e(t,e){if(t==null)return{};var r=Q4e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Q4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Z4e(t){return t.value}function eTe(t,e){if(fe.isValidElement(t))return fe.cloneElement(t,e);if(typeof t=="function")return fe.createElement(t,e);e.ref;var r=X4e(e,q4e);return fe.createElement(uP,r)}var XH=1,kf=(function(t){function e(){var r;U4e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=V4e(this,e,[].concat(a)),dS(r,"lastBoundingBox",{width:-1,height:-1}),r}return K4e(e,t),W4e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,a=this.getBBox();a?(Math.abs(a.width-this.lastBoundingBox.width)>XH||Math.abs(a.height-this.lastBoundingBox.height)>XH)&&(this.lastBoundingBox.width=a.width,this.lastBoundingBox.height=a.height,n&&n(a)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Qd({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var a=this.props,s=a.layout,o=a.align,l=a.verticalAlign,c=a.margin,u=a.chartWidth,f=a.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();m={left:((u||0)-p.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();g={top:((f||0)-v.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Qd(Qd({},m),g)}},{key:"render",value:function(){var n=this,a=this.props,s=a.content,o=a.width,l=a.height,c=a.wrapperStyle,u=a.payloadUniqBy,f=a.payload,m=Qd(Qd({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return fe.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(p){n.wrapperNode=p}},eTe(s,Qd(Qd({},this.props),{},{payload:Uee(f,u,Z4e)})))}}],[{key:"getWithHeight",value:function(n,a){var s=Qd(Qd({},this.defaultProps),n.props),o=s.layout;return o==="vertical"&&Xt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||a}:null}}])})(y.PureComponent);dS(kf,"displayName","Legend");dS(kf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var e4,QH;function tTe(){if(QH)return e4;QH=1;var t=l1(),e=fP(),r=dl(),n=t?t.isConcatSpreadable:void 0;function a(s){return r(s)||e(s)||!!(n&&s&&s[n])}return e4=a,e4}var t4,ZH;function Gee(){if(ZH)return t4;ZH=1;var t=Lee(),e=tTe();function r(n,a,s,o,l){var c=-1,u=n.length;for(s||(s=e),l||(l=[]);++c<u;){var f=n[c];a>0&&s(f)?a>1?r(f,a-1,s,o,l):t(l,f):o||(l[l.length]=f)}return l}return t4=r,t4}var r4,ez;function rTe(){if(ez)return r4;ez=1;function t(e){return function(r,n,a){for(var s=-1,o=Object(r),l=a(r),c=l.length;c--;){var u=l[e?c:++s];if(n(o[u],u,o)===!1)break}return r}}return r4=t,r4}var n4,tz;function nTe(){if(tz)return n4;tz=1;var t=rTe(),e=t();return n4=e,n4}var a4,rz;function Yee(){if(rz)return a4;rz=1;var t=nTe(),e=uS();function r(n,a){return n&&t(n,a,e)}return a4=r,a4}var i4,nz;function aTe(){if(nz)return i4;nz=1;var t=c1();function e(r,n){return function(a,s){if(a==null)return a;if(!t(a))return r(a,s);for(var o=a.length,l=n?o:-1,c=Object(a);(n?l--:++l<o)&&s(c[l],l,c)!==!1;);return a}}return i4=e,i4}var s4,az;function gP(){if(az)return s4;az=1;var t=Yee(),e=aTe(),r=e(t);return s4=r,s4}var o4,iz;function Kee(){if(iz)return o4;iz=1;var t=gP(),e=c1();function r(n,a){var s=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,u){o[++s]=a(l,c,u)}),o}return o4=r,o4}var l4,sz;function iTe(){if(sz)return l4;sz=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return l4=t,l4}var c4,oz;function sTe(){if(oz)return c4;oz=1;var t=Ex();function e(r,n){if(r!==n){var a=r!==void 0,s=r===null,o=r===r,l=t(r),c=n!==void 0,u=n===null,f=n===n,m=t(n);if(!u&&!m&&!l&&r>n||l&&c&&f&&!u&&!m||s&&c&&f||!a&&f||!o)return 1;if(!s&&!l&&!m&&r<n||m&&a&&o&&!s&&!l||u&&a&&o||!c&&o||!f)return-1}return 0}return c4=e,c4}var u4,lz;function oTe(){if(lz)return u4;lz=1;var t=sTe();function e(r,n,a){for(var s=-1,o=r.criteria,l=n.criteria,c=o.length,u=a.length;++s<c;){var f=t(o[s],l[s]);if(f){if(s>=u)return f;var m=a[s];return f*(m=="desc"?-1:1)}}return r.index-n.index}return u4=e,u4}var d4,cz;function lTe(){if(cz)return d4;cz=1;var t=rP(),e=nP(),r=xd(),n=Kee(),a=iTe(),s=Iee(),o=oTe(),l=Lx(),c=dl();function u(f,m,g){m.length?m=t(m,function(w){return c(w)?function(b){return e(b,w.length===1?w[0]:w)}:w}):m=[l];var p=-1;m=t(m,s(r));var v=n(f,function(w,b,N){var k=t(m,function(S){return S(w)});return{criteria:k,index:++p,value:w}});return a(v,function(w,b){return o(w,b,g)})}return d4=u,d4}var f4,uz;function cTe(){if(uz)return f4;uz=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return f4=t,f4}var h4,dz;function uTe(){if(dz)return h4;dz=1;var t=cTe(),e=Math.max;function r(n,a,s){return a=e(a===void 0?n.length-1:a,0),function(){for(var o=arguments,l=-1,c=e(o.length-a,0),u=Array(c);++l<c;)u[l]=o[a+l];l=-1;for(var f=Array(a+1);++l<a;)f[l]=o[l];return f[a]=s(u),t(n,this,f)}}return h4=r,h4}var m4,fz;function dTe(){if(fz)return m4;fz=1;function t(e){return function(){return e}}return m4=t,m4}var p4,hz;function Jee(){if(hz)return p4;hz=1;var t=Wp(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return p4=e,p4}var g4,mz;function fTe(){if(mz)return g4;mz=1;var t=dTe(),e=Jee(),r=Lx(),n=e?function(a,s){return e(a,"toString",{configurable:!0,enumerable:!1,value:t(s),writable:!0})}:r;return g4=n,g4}var x4,pz;function hTe(){if(pz)return x4;pz=1;var t=800,e=16,r=Date.now;function n(a){var s=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++s>=t)return arguments[0]}else s=0;return a.apply(void 0,arguments)}}return x4=n,x4}var y4,gz;function mTe(){if(gz)return y4;gz=1;var t=fTe(),e=hTe(),r=e(t);return y4=r,y4}var b4,xz;function pTe(){if(xz)return b4;xz=1;var t=Lx(),e=uTe(),r=mTe();function n(a,s){return r(e(a,s,t),a+"")}return b4=n,b4}var v4,yz;function fS(){if(yz)return v4;yz=1;var t=ZD(),e=c1(),r=hP(),n=hm();function a(s,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],s):!1}return v4=a,v4}var w4,bz;function gTe(){if(bz)return w4;bz=1;var t=Gee(),e=lTe(),r=pTe(),n=fS(),a=r(function(s,o){if(s==null)return[];var l=o.length;return l>1&&n(s,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(s,t(o,1),[])});return w4=a,w4}var xTe=gTe();const xP=Kn(xTe);function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PO.apply(this,arguments)}function yTe(t,e){return jTe(t)||wTe(t,e)||vTe(t,e)||bTe()}function bTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vTe(t,e){if(t){if(typeof t=="string")return vz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vz(t,e)}}function vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function wTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function jTe(t){if(Array.isArray(t))return t}function wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function j4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wz(Object(r),!0).forEach(function(n){NTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NTe(t,e,r){return e=STe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function STe(t){var e=kTe(t,"string");return lv(e)=="symbol"?e:e+""}function kTe(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CTe(t){return Array.isArray(t)&&ws(t[0])&&ws(t[1])?t.join(" ~ "):t}var _Te=function(e){var r=e.separator,n=r===void 0?" : ":r,a=e.contentStyle,s=a===void 0?{}:a,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,u=c===void 0?{}:c,f=e.payload,m=e.formatter,g=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,w=e.label,b=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,S=function(){if(f&&f.length){var E={padding:0,margin:0},H=(g?xP(f,g):f).map(function(V,Y){if(V.type==="none")return null;var W=j4({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),F=V.formatter||m||CTe,z=V.value,J=V.name,oe=z,K=J;if(F&&oe!=null&&K!=null){var U=F(z,J,V,Y,f);if(Array.isArray(U)){var X=yTe(U,2);oe=X[0],K=X[1]}else oe=U}return fe.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(Y),style:W},ws(K)?fe.createElement("span",{className:"recharts-tooltip-item-name"},K):null,ws(K)?fe.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,fe.createElement("span",{className:"recharts-tooltip-item-value"},oe),fe.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return fe.createElement("ul",{className:"recharts-tooltip-item-list",style:E},H)}return null},A=j4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),_=j4({margin:0},u),M=!nn(w),R=M?w:"",L=Cr("recharts-default-tooltip",p),I=Cr("recharts-tooltip-label",v);M&&b&&f!==void 0&&f!==null&&(R=b(w,f));var B=k?{role:"status","aria-live":"assertive"}:{};return fe.createElement("div",PO({className:L,style:A},B),fe.createElement("p",{className:I,style:_},fe.isValidElement(R)?R:"".concat(R)),S())};function cv(t){"@babel/helpers - typeof";return cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cv(t)}function Ww(t,e,r){return e=ATe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ATe(t){var e=TTe(t,"string");return cv(e)=="symbol"?e:e+""}function TTe(t,e){if(cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var By="recharts-tooltip-wrapper",MTe={visibility:"hidden"};function OTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Cr(By,Ww(Ww(Ww(Ww({},"".concat(By,"-right"),Xt(r)&&e&&Xt(e.x)&&r>=e.x),"".concat(By,"-left"),Xt(r)&&e&&Xt(e.x)&&r<e.x),"".concat(By,"-bottom"),Xt(n)&&e&&Xt(e.y)&&n>=e.y),"".concat(By,"-top"),Xt(n)&&e&&Xt(e.y)&&n<e.y))}function jz(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,a=t.offsetTopLeft,s=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,u=t.viewBoxDimension;if(s&&Xt(s[n]))return s[n];var f=r[n]-l-a,m=r[n]+a;if(e[n])return o[n]?f:m;if(o[n]){var g=f,p=c[n];return g<p?Math.max(m,c[n]):Math.max(f,c[n])}var v=m+l,w=c[n]+u;return v>w?Math.max(f,c[n]):Math.max(m,c[n])}function ETe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function DTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,a=t.position,s=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,u,f,m;return o.height>0&&o.width>0&&r?(f=jz({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=jz({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),u=ETe({translateX:f,translateY:m,useTranslate3d:l})):u=MTe,{cssProperties:u,cssClasses:OTe({translateX:f,translateY:m,coordinate:r})}}function Qg(t){"@babel/helpers - typeof";return Qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qg(t)}function Nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Sz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nz(Object(r),!0).forEach(function(n){RO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function LTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qee(n.key),n)}}function RTe(t,e,r){return e&&LTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ITe(t,e,r){return e=j5(e),FTe(t,Xee()?Reflect.construct(e,r||[],j5(t).constructor):e.apply(t,r))}function FTe(t,e){if(e&&(Qg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Te(t)}function $Te(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xee=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(t)}function BTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LO(t,e)}function LO(t,e){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},LO(t,e)}function RO(t,e,r){return e=Qee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qee(t){var e=HTe(t,"string");return Qg(e)=="symbol"?e:e+""}function HTe(t,e){if(Qg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Qg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kz=1,zTe=(function(t){function e(){var r;PTe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=ITe(this,e,[].concat(a)),RO(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),RO(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,u,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(u=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&u!==void 0?u:0}})}}),r}return BTe(e,t),RTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>kz||Math.abs(n.height-this.state.lastBoundingBox.height)>kz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,a;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.children,f=a.coordinate,m=a.hasPayload,g=a.isAnimationActive,p=a.offset,v=a.position,w=a.reverseDirection,b=a.useTranslate3d,N=a.viewBox,k=a.wrapperStyle,S=DTe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:p,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:b,viewBox:N}),A=S.cssClasses,_=S.cssProperties,M=Sz(Sz({transition:g&&s?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return fe.createElement("div",{tabIndex:-1,className:A,style:M,ref:function(L){n.wrapperNode=L}},u)}}])})(y.PureComponent),qTe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},mm={isSsr:qTe()};function Zg(t){"@babel/helpers - typeof";return Zg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Zg(t)}function Cz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function _z(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cz(Object(r),!0).forEach(function(n){yP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ete(n.key),n)}}function VTe(t,e,r){return e&&WTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function GTe(t,e,r){return e=N5(e),YTe(t,Zee()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function YTe(t,e){if(e&&(Zg(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KTe(t)}function KTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zee=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function JTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IO(t,e)}function IO(t,e){return IO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},IO(t,e)}function yP(t,e,r){return e=ete(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ete(t){var e=XTe(t,"string");return Zg(e)=="symbol"?e:e+""}function XTe(t,e){if(Zg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Zg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function QTe(t){return t.dataKey}function ZTe(t,e){return fe.isValidElement(t)?fe.cloneElement(t,e):typeof t=="function"?fe.createElement(t,e):fe.createElement(_Te,e)}var Si=(function(t){function e(){return UTe(this,e),GTe(this,e,arguments)}return JTe(e,t),VTe(e,[{key:"render",value:function(){var n=this,a=this.props,s=a.active,o=a.allowEscapeViewBox,l=a.animationDuration,c=a.animationEasing,u=a.content,f=a.coordinate,m=a.filterNull,g=a.isAnimationActive,p=a.offset,v=a.payload,w=a.payloadUniqBy,b=a.position,N=a.reverseDirection,k=a.useTranslate3d,S=a.viewBox,A=a.wrapperStyle,_=v??[];m&&_.length&&(_=Uee(v.filter(function(R){return R.value!=null&&(R.hide!==!0||n.props.includeHidden)}),w,QTe));var M=_.length>0;return fe.createElement(zTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:s,coordinate:f,hasPayload:M,offset:p,position:b,reverseDirection:N,useTranslate3d:k,viewBox:S,wrapperStyle:A},ZTe(u,_z(_z({},this.props),{},{payload:_})))}}])})(y.PureComponent);yP(Si,"displayName","Tooltip");yP(Si,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!mm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var N4,Az;function eMe(){if(Az)return N4;Az=1;var t=gd(),e=function(){return t.Date.now()};return N4=e,N4}var S4,Tz;function tMe(){if(Tz)return S4;Tz=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return S4=e,S4}var k4,Mz;function rMe(){if(Mz)return k4;Mz=1;var t=tMe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return k4=r,k4}var C4,Oz;function tte(){if(Oz)return C4;Oz=1;var t=rMe(),e=hm(),r=Ex(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,s=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(u){if(typeof u=="number")return u;if(r(u))return n;if(e(u)){var f=typeof u.valueOf=="function"?u.valueOf():u;u=e(f)?f+"":f}if(typeof u!="string")return u===0?u:+u;u=t(u);var m=s.test(u);return m||o.test(u)?l(u.slice(2),m?2:8):a.test(u)?n:+u}return C4=c,C4}var _4,Ez;function nMe(){if(Ez)return _4;Ez=1;var t=hm(),e=eMe(),r=tte(),n="Expected a function",a=Math.max,s=Math.min;function o(l,c,u){var f,m,g,p,v,w,b=0,N=!1,k=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(u)&&(N=!!u.leading,k="maxWait"in u,g=k?a(r(u.maxWait)||0,c):g,S="trailing"in u?!!u.trailing:S);function A(H){var V=f,Y=m;return f=m=void 0,b=H,p=l.apply(Y,V),p}function _(H){return b=H,v=setTimeout(L,c),N?A(H):p}function M(H){var V=H-w,Y=H-b,W=c-V;return k?s(W,g-Y):W}function R(H){var V=H-w,Y=H-b;return w===void 0||V>=c||V<0||k&&Y>=g}function L(){var H=e();if(R(H))return I(H);v=setTimeout(L,M(H))}function I(H){return v=void 0,S&&f?A(H):(f=m=void 0,p)}function B(){v!==void 0&&clearTimeout(v),b=0,f=w=m=v=void 0}function D(){return v===void 0?p:I(e())}function E(){var H=e(),V=R(H);if(f=arguments,m=this,w=H,V){if(v===void 0)return _(w);if(k)return clearTimeout(v),v=setTimeout(L,c),A(w)}return v===void 0&&(v=setTimeout(L,c)),p}return E.cancel=B,E.flush=D,E}return _4=o,_4}var A4,Dz;function aMe(){if(Dz)return A4;Dz=1;var t=nMe(),e=hm(),r="Expected a function";function n(a,s,o){var l=!0,c=!0;if(typeof a!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(a,s,{leading:l,maxWait:s,trailing:c})}return A4=n,A4}var iMe=aMe();const rte=Kn(iMe);function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function Pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Pz(Object(r),!0).forEach(function(n){sMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sMe(t,e,r){return e=oMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oMe(t){var e=lMe(t,"string");return uv(e)=="symbol"?e:e+""}function lMe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cMe(t,e){return hMe(t)||fMe(t,e)||dMe(t,e)||uMe()}function uMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function dMe(t,e){if(t){if(typeof t=="string")return Lz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Lz(t,e)}}function Lz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function hMe(t){if(Array.isArray(t))return t}var kl=y.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,a=n===void 0?{width:-1,height:-1}:n,s=t.width,o=s===void 0?"100%":s,l=t.height,c=l===void 0?"100%":l,u=t.minWidth,f=u===void 0?0:u,m=t.minHeight,g=t.maxHeight,p=t.children,v=t.debounce,w=v===void 0?0:v,b=t.id,N=t.className,k=t.onResize,S=t.style,A=S===void 0?{}:S,_=y.useRef(null),M=y.useRef();M.current=k,y.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var R=y.useState({containerWidth:a.width,containerHeight:a.height}),L=cMe(R,2),I=L[0],B=L[1],D=y.useCallback(function(H,V){B(function(Y){var W=Math.round(H),F=Math.round(V);return Y.containerWidth===W&&Y.containerHeight===F?Y:{containerWidth:W,containerHeight:F}})},[]);y.useEffect(function(){var H=function(J){var oe,K=J[0].contentRect,U=K.width,X=K.height;D(U,X),(oe=M.current)===null||oe===void 0||oe.call(M,U,X)};w>0&&(H=rte(H,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(H),Y=_.current.getBoundingClientRect(),W=Y.width,F=Y.height;return D(W,F),V.observe(_.current),function(){V.disconnect()}},[D,w]);var E=y.useMemo(function(){var H=I.containerWidth,V=I.containerHeight;if(H<0||V<0)return null;ou(sp(o)||sp(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ou(!r||r>0,"The aspect(%s) must be greater than zero.",r);var Y=sp(o)?H:o,W=sp(c)?V:c;r&&r>0&&(Y?W=Y/r:W&&(Y=W*r),g&&W>g&&(W=g)),ou(Y>0||W>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,Y,W,o,c,f,m,r);var F=!Array.isArray(p)&&Sf(p.type).endsWith("Chart");return fe.Children.map(p,function(z){return fe.isValidElement(z)?y.cloneElement(z,Vw({width:Y,height:W},F?{style:Vw({height:"100%",width:"100%",maxHeight:W,maxWidth:Y},z.props.style)}:{})):z})},[r,p,c,g,m,f,I,o]);return fe.createElement("div",{id:b?"".concat(b):void 0,className:Cr("recharts-responsive-container",N),style:Vw(Vw({},A),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:g}),ref:_},E)}),Lp=function(e){return null};Lp.displayName="Cell";function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function Rz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function FO(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rz(Object(r),!0).forEach(function(n){mMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mMe(t,e,r){return e=pMe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pMe(t){var e=gMe(t,"string");return dv(e)=="symbol"?e:e+""}function gMe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z0={widthCache:{},cacheCount:0},xMe=2e3,yMe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Iz="recharts_measurement_span";function bMe(t){var e=FO({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var kb=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||mm.isSsr)return{width:0,height:0};var n=bMe(r),a=JSON.stringify({text:e,copyStyle:n});if(z0.widthCache[a])return z0.widthCache[a];try{var s=document.getElementById(Iz);s||(s=document.createElement("span"),s.setAttribute("id",Iz),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var o=FO(FO({},yMe),n);Object.assign(s.style,o),s.textContent="".concat(e);var l=s.getBoundingClientRect(),c={width:l.width,height:l.height};return z0.widthCache[a]=c,++z0.cacheCount>xMe&&(z0.cacheCount=0,z0.widthCache={}),c}catch{return{width:0,height:0}}},vMe=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function S5(t,e){return SMe(t)||NMe(t,e)||jMe(t,e)||wMe()}function wMe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jMe(t,e){if(t){if(typeof t=="string")return Fz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Fz(t,e)}}function Fz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function NMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function SMe(t){if(Array.isArray(t))return t}function kMe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $z(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_Me(n.key),n)}}function CMe(t,e,r){return e&&$z(t.prototype,e),r&&$z(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function _Me(t){var e=AMe(t,"string");return fv(e)=="symbol"?e:e+""}function AMe(t,e){if(fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Hz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,TMe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,MMe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,nte={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},OMe=Object.keys(nte),lg="NaN";function EMe(t,e){return t*nte[e]}var Gw=(function(){function t(e,r){kMe(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!TMe.test(r)&&(this.num=NaN,this.unit=""),OMe.includes(r)&&(this.num=EMe(e,r),this.unit="px")}return CMe(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,a=(n=MMe.exec(r))!==null&&n!==void 0?n:[],s=S5(a,3),o=s[1],l=s[2];return new t(parseFloat(o),l??"")}}])})();function ate(t){if(t.includes(lg))return lg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Bz.exec(e))!==null&&r!==void 0?r:[],a=S5(n,4),s=a[1],o=a[2],l=a[3],c=Gw.parse(s??""),u=Gw.parse(l??""),f=o==="*"?c.multiply(u):c.divide(u);if(f.isNaN())return lg;e=e.replace(Bz,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=Hz.exec(e))!==null&&m!==void 0?m:[],p=S5(g,4),v=p[1],w=p[2],b=p[3],N=Gw.parse(v??""),k=Gw.parse(b??""),S=w==="+"?N.add(k):N.subtract(k);if(S.isNaN())return lg;e=e.replace(Hz,S.toString())}return e}var zz=/\(([^()]*)\)/;function DMe(t){for(var e=t;e.includes("(");){var r=zz.exec(e),n=S5(r,2),a=n[1];e=e.replace(zz,ate(a))}return e}function PMe(t){var e=t.replace(/\s+/g,"");return e=DMe(e),e=ate(e),e}function LMe(t){try{return PMe(t)}catch{return lg}}function T4(t){var e=LMe(t.slice(5,-1));return e===lg?"":e}var RMe=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],IMe=["dx","dy","angle","className","breakAll"];function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$O.apply(this,arguments)}function qz(t,e){if(t==null)return{};var r=FMe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FMe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Uz(t,e){return zMe(t)||HMe(t,e)||BMe(t,e)||$Me()}function $Me(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function BMe(t,e){if(t){if(typeof t=="string")return Wz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Wz(t,e)}}function Wz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function HMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function zMe(t){if(Array.isArray(t))return t}var ite=/[ \f\n\r\t\v\u2028\u2029]+/,ste=function(e){var r=e.children,n=e.breakAll,a=e.style;try{var s=[];nn(r)||(n?s=r.toString().split(""):s=r.toString().split(ite));var o=s.map(function(c){return{word:c,width:kb(c,a).width}}),l=n?0:kb("",a).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},qMe=function(e,r,n,a,s){var o=e.maxLines,l=e.children,c=e.style,u=e.breakAll,f=Xt(o),m=l,g=function(){var Y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return Y.reduce(function(W,F){var z=F.word,J=F.width,oe=W[W.length-1];if(oe&&(a==null||s||oe.width+J+n<Number(a)))oe.words.push(z),oe.width+=J+n;else{var K={words:[z],width:J};W.push(K)}return W},[])},p=g(r),v=function(Y){return Y.reduce(function(W,F){return W.width>F.width?W:F})};if(!f)return p;for(var w="",b=function(Y){var W=m.slice(0,Y),F=ste({breakAll:u,style:c,children:W+w}).wordsWithComputedWidth,z=g(F),J=z.length>o||v(z).width>Number(a);return[J,z]},N=0,k=m.length-1,S=0,A;N<=k&&S<=m.length-1;){var _=Math.floor((N+k)/2),M=_-1,R=b(M),L=Uz(R,2),I=L[0],B=L[1],D=b(_),E=Uz(D,1),H=E[0];if(!I&&!H&&(N=_+1),I&&H&&(k=_-1),!I&&H){A=B;break}S++}return A||p},Vz=function(e){var r=nn(e)?[]:e.toString().split(ite);return[{words:r}]},UMe=function(e){var r=e.width,n=e.scaleToFit,a=e.children,s=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!mm.isSsr){var c,u,f=ste({breakAll:o,children:a,style:s});if(f){var m=f.wordsWithComputedWidth,g=f.spaceWidth;c=m,u=g}else return Vz(a);return qMe({breakAll:o,children:a,maxLines:l,style:s},c,u,r,n)}return Vz(a)},Gz="#808080",Rp=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,u=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,g=e.textAnchor,p=g===void 0?"start":g,v=e.verticalAnchor,w=v===void 0?"end":v,b=e.fill,N=b===void 0?Gz:b,k=qz(e,RMe),S=y.useMemo(function(){return UMe({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),A=k.dx,_=k.dy,M=k.angle,R=k.className,L=k.breakAll,I=qz(k,IMe);if(!ws(n)||!ws(s))return null;var B=n+(Xt(A)?A:0),D=s+(Xt(_)?_:0),E;switch(w){case"start":E=T4("calc(".concat(u,")"));break;case"middle":E=T4("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(u," / 2))"));break;default:E=T4("calc(".concat(S.length-1," * -").concat(l,")"));break}var H=[];if(m){var V=S[0].width,Y=k.width;H.push("scale(".concat((Xt(Y)?Y/V:1)/V,")"))}return M&&H.push("rotate(".concat(M,", ").concat(B,", ").concat(D,")")),H.length&&(I.transform=H.join(" ")),fe.createElement("text",$O({},Tr(I,!0),{x:B,y:D,className:Cr("recharts-text",R),textAnchor:p,fill:N.includes("url")?Gz:N}),S.map(function(W,F){var z=W.words.join(L?"":" ");return fe.createElement("tspan",{x:B,dy:F===0?E:l,key:"".concat(z,"-").concat(F)},z)}))};function Qh(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function WMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function bP(t){let e,r,n;t.length!==2?(e=Qh,r=(l,c)=>Qh(t(l),c),n=(l,c)=>t(l)-c):(e=t===Qh||t===WMe?t:VMe,r=t,n=t);function a(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<0?u=m+1:f=m}while(u<f)}return u}function s(l,c,u=0,f=l.length){if(u<f){if(e(c,c)!==0)return f;do{const m=u+f>>>1;r(l[m],c)<=0?u=m+1:f=m}while(u<f)}return u}function o(l,c,u=0,f=l.length){const m=a(l,c,u,f-1);return m>u&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:a,center:o,right:s}}function VMe(){return 0}function ote(t){return t===null?NaN:+t}function*GMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const YMe=bP(Qh),u1=YMe.right;bP(ote).center;class Yz extends Map{constructor(e,r=XMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,a]of e)this.set(n,a)}get(e){return super.get(Kz(this,e))}has(e){return super.has(Kz(this,e))}set(e,r){return super.set(KMe(this,e),r)}delete(e){return super.delete(JMe(this,e))}}function Kz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function KMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function JMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function XMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function QMe(t=Qh){if(t===Qh)return lte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function lte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const ZMe=Math.sqrt(50),eOe=Math.sqrt(10),tOe=Math.sqrt(2);function k5(t,e,r){const n=(e-t)/Math.max(0,r),a=Math.floor(Math.log10(n)),s=n/Math.pow(10,a),o=s>=ZMe?10:s>=eOe?5:s>=tOe?2:1;let l,c,u;return a<0?(u=Math.pow(10,-a)/o,l=Math.round(t*u),c=Math.round(e*u),l/u<t&&++l,c/u>e&&--c,u=-u):(u=Math.pow(10,a)*o,l=Math.round(t/u),c=Math.round(e/u),l*u<t&&++l,c*u>e&&--c),c<l&&.5<=r&&r<2?k5(t,e,r*2):[l,c,u]}function BO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[a,s,o]=n?k5(e,t,r):k5(t,e,r);if(!(s>=a))return[];const l=s-a+1,c=new Array(l);if(n)if(o<0)for(let u=0;u<l;++u)c[u]=(s-u)/-o;else for(let u=0;u<l;++u)c[u]=(s-u)*o;else if(o<0)for(let u=0;u<l;++u)c[u]=(a+u)/-o;else for(let u=0;u<l;++u)c[u]=(a+u)*o;return c}function HO(t,e,r){return e=+e,t=+t,r=+r,k5(t,e,r)[2]}function zO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,a=n?HO(e,t,r):HO(t,e,r);return(n?-1:1)*(a<0?1/-a:a)}function Jz(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Xz(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function cte(t,e,r=0,n=1/0,a){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(a=a===void 0?lte:QMe(a);n>r;){if(n-r>600){const c=n-r+1,u=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*m*(c-m)/c)*(u-c/2<0?-1:1),p=Math.max(r,Math.floor(e-u*m/c+g)),v=Math.min(n,Math.floor(e+(c-u)*m/c+g));cte(t,e,p,v,a)}const s=t[e];let o=r,l=n;for(Hy(t,r,e),a(t[n],s)>0&&Hy(t,r,n);o<l;){for(Hy(t,o,l),++o,--l;a(t[o],s)<0;)++o;for(;a(t[l],s)>0;)--l}a(t[r],s)===0?Hy(t,r,l):(++l,Hy(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Hy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function rOe(t,e,r){if(t=Float64Array.from(GMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Xz(t);if(e>=1)return Jz(t);var n,a=(n-1)*e,s=Math.floor(a),o=Jz(cte(t,s).subarray(0,s+1)),l=Xz(t.subarray(s+1));return o+(l-o)*(a-s)}}function nOe(t,e,r=ote){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,a=(n-1)*e,s=Math.floor(a),o=+r(t[s],s,t),l=+r(t[s+1],s+1,t);return o+(l-o)*(a-s)}}function aOe(t,e,r){t=+t,e=+e,r=(a=arguments.length)<2?(e=t,t=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(a);++n<a;)s[n]=t+n*r;return s}function kc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Uf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const qO=Symbol("implicit");function vP(){var t=new Yz,e=[],r=[],n=qO;function a(s){let o=t.get(s);if(o===void 0){if(n!==qO)return n;t.set(s,o=e.push(s)-1)}return r[o%r.length]}return a.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Yz;for(const o of s)t.has(o)||t.set(o,e.push(o)-1);return a},a.range=function(s){return arguments.length?(r=Array.from(s),a):r.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return vP(e,r).unknown(n)},kc.apply(a,arguments),a}function hv(){var t=vP().unknown(void 0),e=t.domain,r=t.range,n=0,a=1,s,o,l=!1,c=0,u=0,f=.5;delete t.unknown;function m(){var g=e().length,p=a<n,v=p?a:n,w=p?n:a;s=(w-v)/Math.max(1,g-c+u*2),l&&(s=Math.floor(s)),v+=(w-v-s*(g-c))*f,o=s*(1-c),l&&(v=Math.round(v),o=Math.round(o));var b=aOe(g).map(function(N){return v+s*N});return r(p?b.reverse():b)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,a]=g,n=+n,a=+a,m()):[n,a]},t.rangeRound=function(g){return[n,a]=g,n=+n,a=+a,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return s},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,u=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(u=+g,m()):u},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),m()):f},t.copy=function(){return hv(e(),[n,a]).round(l).paddingInner(c).paddingOuter(u).align(f)},kc.apply(m(),arguments)}function ute(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return ute(e())},t}function Cb(){return ute(hv.apply(null,arguments).paddingInner(1))}function wP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function dte(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function d1(){}var mv=.7,C5=1/mv,Sg="\\s*([+-]?\\d+)\\s*",pv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ad="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",iOe=/^#([0-9a-f]{3,8})$/,sOe=new RegExp(`^rgb\\(${Sg},${Sg},${Sg}\\)$`),oOe=new RegExp(`^rgb\\(${ad},${ad},${ad}\\)$`),lOe=new RegExp(`^rgba\\(${Sg},${Sg},${Sg},${pv}\\)$`),cOe=new RegExp(`^rgba\\(${ad},${ad},${ad},${pv}\\)$`),uOe=new RegExp(`^hsl\\(${pv},${ad},${ad}\\)$`),dOe=new RegExp(`^hsla\\(${pv},${ad},${ad},${pv}\\)$`),Qz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};wP(d1,gv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Zz,formatHex:Zz,formatHex8:fOe,formatHsl:hOe,formatRgb:eq,toString:eq});function Zz(){return this.rgb().formatHex()}function fOe(){return this.rgb().formatHex8()}function hOe(){return fte(this).formatHsl()}function eq(){return this.rgb().formatRgb()}function gv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=iOe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?tq(e):r===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=sOe.exec(t))?new ll(e[1],e[2],e[3],1):(e=oOe.exec(t))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=lOe.exec(t))?Yw(e[1],e[2],e[3],e[4]):(e=cOe.exec(t))?Yw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=uOe.exec(t))?aq(e[1],e[2]/100,e[3]/100,1):(e=dOe.exec(t))?aq(e[1],e[2]/100,e[3]/100,e[4]):Qz.hasOwnProperty(t)?tq(Qz[t]):t==="transparent"?new ll(NaN,NaN,NaN,0):null}function tq(t){return new ll(t>>16&255,t>>8&255,t&255,1)}function Yw(t,e,r,n){return n<=0&&(t=e=r=NaN),new ll(t,e,r,n)}function mOe(t){return t instanceof d1||(t=gv(t)),t?(t=t.rgb(),new ll(t.r,t.g,t.b,t.opacity)):new ll}function UO(t,e,r,n){return arguments.length===1?mOe(t):new ll(t,e,r,n??1)}function ll(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}wP(ll,UO,dte(d1,{brighter(t){return t=t==null?C5:Math.pow(C5,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?mv:Math.pow(mv,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ll(wp(this.r),wp(this.g),wp(this.b),_5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:rq,formatHex:rq,formatHex8:pOe,formatRgb:nq,toString:nq}));function rq(){return`#${op(this.r)}${op(this.g)}${op(this.b)}`}function pOe(){return`#${op(this.r)}${op(this.g)}${op(this.b)}${op((isNaN(this.opacity)?1:this.opacity)*255)}`}function nq(){const t=_5(this.opacity);return`${t===1?"rgb(":"rgba("}${wp(this.r)}, ${wp(this.g)}, ${wp(this.b)}${t===1?")":`, ${t})`}`}function _5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function wp(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function op(t){return t=wp(t),(t<16?"0":"")+t.toString(16)}function aq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new ru(t,e,r,n)}function fte(t){if(t instanceof ru)return new ru(t.h,t.s,t.l,t.opacity);if(t instanceof d1||(t=gv(t)),!t)return new ru;if(t instanceof ru)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,a=Math.min(e,r,n),s=Math.max(e,r,n),o=NaN,l=s-a,c=(s+a)/2;return l?(e===s?o=(r-n)/l+(r<n)*6:r===s?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?s+a:2-s-a,o*=60):l=c>0&&c<1?0:o,new ru(o,l,c,t.opacity)}function gOe(t,e,r,n){return arguments.length===1?fte(t):new ru(t,e,r,n??1)}function ru(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}wP(ru,gOe,dte(d1,{brighter(t){return t=t==null?C5:Math.pow(C5,t),new ru(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?mv:Math.pow(mv,t),new ru(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,a=2*r-n;return new ll(M4(t>=240?t-240:t+120,a,n),M4(t,a,n),M4(t<120?t+240:t-120,a,n),this.opacity)},clamp(){return new ru(iq(this.h),Kw(this.s),Kw(this.l),_5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_5(this.opacity);return`${t===1?"hsl(":"hsla("}${iq(this.h)}, ${Kw(this.s)*100}%, ${Kw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iq(t){return t=(t||0)%360,t<0?t+360:t}function Kw(t){return Math.max(0,Math.min(1,t||0))}function M4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const jP=t=>()=>t;function xOe(t,e){return function(r){return t+r*e}}function yOe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function bOe(t){return(t=+t)==1?hte:function(e,r){return r-e?yOe(e,r,t):jP(isNaN(e)?r:e)}}function hte(t,e){var r=e-t;return r?xOe(t,r):jP(isNaN(t)?e:t)}const sq=(function t(e){var r=bOe(e);function n(a,s){var o=r((a=UO(a)).r,(s=UO(s)).r),l=r(a.g,s.g),c=r(a.b,s.b),u=hte(a.opacity,s.opacity);return function(f){return a.r=o(f),a.g=l(f),a.b=c(f),a.opacity=u(f),a+""}}return n.gamma=t,n})(1);function vOe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),a;return function(s){for(a=0;a<r;++a)n[a]=t[a]*(1-s)+e[a]*s;return n}}function wOe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function jOe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,a=new Array(n),s=new Array(r),o;for(o=0;o<n;++o)a[o]=Rx(t[o],e[o]);for(;o<r;++o)s[o]=e[o];return function(l){for(o=0;o<n;++o)s[o]=a[o](l);return s}}function NOe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function A5(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function SOe(t,e){var r={},n={},a;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(a in e)a in t?r[a]=Rx(t[a],e[a]):n[a]=e[a];return function(s){for(a in r)n[a]=r[a](s);return n}}var WO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,O4=new RegExp(WO.source,"g");function kOe(t){return function(){return t}}function COe(t){return function(e){return t(e)+""}}function _Oe(t,e){var r=WO.lastIndex=O4.lastIndex=0,n,a,s,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=WO.exec(t))&&(a=O4.exec(e));)(s=a.index)>r&&(s=e.slice(r,s),l[o]?l[o]+=s:l[++o]=s),(n=n[0])===(a=a[0])?l[o]?l[o]+=a:l[++o]=a:(l[++o]=null,c.push({i:o,x:A5(n,a)})),r=O4.lastIndex;return r<e.length&&(s=e.slice(r),l[o]?l[o]+=s:l[++o]=s),l.length<2?c[0]?COe(c[0].x):kOe(e):(e=c.length,function(u){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(u);return l.join("")})}function Rx(t,e){var r=typeof e,n;return e==null||r==="boolean"?jP(e):(r==="number"?A5:r==="string"?(n=gv(e))?(e=n,sq):_Oe:e instanceof gv?sq:e instanceof Date?NOe:wOe(e)?vOe:Array.isArray(e)?jOe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?SOe:A5)(t,e)}function NP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function AOe(t,e){e===void 0&&(e=t,t=Rx);for(var r=0,n=e.length-1,a=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(a,a=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return s[l](o-l)}}function TOe(t){return function(){return t}}function T5(t){return+t}var oq=[0,1];function Ro(t){return t}function VO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:TOe(isNaN(e)?NaN:.5)}function MOe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function OOe(t,e,r){var n=t[0],a=t[1],s=e[0],o=e[1];return a<n?(n=VO(a,n),s=r(o,s)):(n=VO(n,a),s=r(s,o)),function(l){return s(n(l))}}function EOe(t,e,r){var n=Math.min(t.length,e.length)-1,a=new Array(n),s=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)a[o]=VO(t[o],t[o+1]),s[o]=r(e[o],e[o+1]);return function(l){var c=u1(t,l,1,n)-1;return s[c](a[c](l))}}function f1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function hS(){var t=oq,e=oq,r=Rx,n,a,s,o=Ro,l,c,u;function f(){var g=Math.min(t.length,e.length);return o!==Ro&&(o=MOe(t[0],t[g-1])),l=g>2?EOe:OOe,c=u=null,m}function m(g){return g==null||isNaN(g=+g)?s:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(a((u||(u=l(e,t.map(n),A5)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,T5),f()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=NP,f()},m.clamp=function(g){return arguments.length?(o=g?!0:Ro,f()):o!==Ro},m.interpolate=function(g){return arguments.length?(r=g,f()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,p){return n=g,a=p,f()}}function SP(){return hS()(Ro,Ro)}function DOe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function M5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function ex(t){return t=M5(Math.abs(t)),t?t[1]:NaN}function POe(t,e){return function(r,n){for(var a=r.length,s=[],o=0,l=t[0],c=0;a>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),s.push(r.substring(a-=l,a+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return s.reverse().join(e)}}function LOe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var ROe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xv(t){if(!(e=ROe.exec(t)))throw new Error("invalid format: "+t);var e;return new kP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xv.prototype=kP.prototype;function kP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}kP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function IOe(t){e:for(var e=t.length,r=1,n=-1,a;r<e;++r)switch(t[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(a+1):t}var mte;function FOe(t,e){var r=M5(t,e);if(!r)return t+"";var n=r[0],a=r[1],s=a-(mte=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return s===o?n:s>o?n+new Array(s-o+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+M5(t,Math.max(0,e+s-1))[0]}function lq(t,e){var r=M5(t,e);if(!r)return t+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const cq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:DOe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>lq(t*100,e),r:lq,s:FOe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uq(t){return t}var dq=Array.prototype.map,fq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $Oe(t){var e=t.grouping===void 0||t.thousands===void 0?uq:POe(dq.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",a=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?uq:LOe(dq.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function u(m){m=xv(m);var g=m.fill,p=m.align,v=m.sign,w=m.symbol,b=m.zero,N=m.width,k=m.comma,S=m.precision,A=m.trim,_=m.type;_==="n"?(k=!0,_="g"):cq[_]||(S===void 0&&(S=12),A=!0,_="g"),(b||g==="0"&&p==="=")&&(b=!0,g="0",p="=");var M=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",R=w==="$"?n:/[%p]/.test(_)?o:"",L=cq[_],I=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function B(D){var E=M,H=R,V,Y,W;if(_==="c")H=L(D)+H,D="";else{D=+D;var F=D<0||1/D<0;if(D=isNaN(D)?c:L(Math.abs(D),S),A&&(D=IOe(D)),F&&+D==0&&v!=="+"&&(F=!1),E=(F?v==="("?v:l:v==="-"||v==="("?"":v)+E,H=(_==="s"?fq[8+mte/3]:"")+H+(F&&v==="("?")":""),I){for(V=-1,Y=D.length;++V<Y;)if(W=D.charCodeAt(V),48>W||W>57){H=(W===46?a+D.slice(V+1):D.slice(V))+H,D=D.slice(0,V);break}}}k&&!b&&(D=e(D,1/0));var z=E.length+D.length+H.length,J=z<N?new Array(N-z+1).join(g):"";switch(k&&b&&(D=e(J+D,J.length?N-H.length:1/0),J=""),p){case"<":D=E+D+H+J;break;case"=":D=E+J+D+H;break;case"^":D=J.slice(0,z=J.length>>1)+E+D+H+J.slice(z);break;default:D=J+E+D+H;break}return s(D)}return B.toString=function(){return m+""},B}function f(m,g){var p=u((m=xv(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(ex(g)/3)))*3,w=Math.pow(10,-v),b=fq[8+v/3];return function(N){return p(w*N)+b}}return{format:u,formatPrefix:f}}var Jw,CP,pte;BOe({thousands:",",grouping:[3],currency:["$",""]});function BOe(t){return Jw=$Oe(t),CP=Jw.format,pte=Jw.formatPrefix,Jw}function HOe(t){return Math.max(0,-ex(Math.abs(t)))}function zOe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ex(e)/3)))*3-ex(Math.abs(t)))}function qOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,ex(e)-ex(t))+1}function gte(t,e,r,n){var a=zO(t,e,r),s;switch(n=xv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=zOe(a,o))&&(n.precision=s),pte(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=qOe(a,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=HOe(a))&&(n.precision=s-(n.type==="%")*2);break}}return CP(n)}function pm(t){var e=t.domain;return t.ticks=function(r){var n=e();return BO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var a=e();return gte(a[0],a[a.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),a=0,s=n.length-1,o=n[a],l=n[s],c,u,f=10;for(l<o&&(u=o,o=l,l=u,u=a,a=s,s=u);f-- >0;){if(u=HO(o,l,r),u===c)return n[a]=o,n[s]=l,e(n);if(u>0)o=Math.floor(o/u)*u,l=Math.ceil(l/u)*u;else if(u<0)o=Math.ceil(o*u)/u,l=Math.floor(l*u)/u;else break;c=u}return t},t}function O5(){var t=SP();return t.copy=function(){return f1(t,O5())},kc.apply(t,arguments),pm(t)}function xte(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,T5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return xte(t).unknown(e)},t=arguments.length?Array.from(t,T5):[0,1],pm(r)}function yte(t,e){t=t.slice();var r=0,n=t.length-1,a=t[r],s=t[n],o;return s<a&&(o=r,r=n,n=o,o=a,a=s,s=o),t[r]=e.floor(a),t[n]=e.ceil(s),t}function hq(t){return Math.log(t)}function mq(t){return Math.exp(t)}function UOe(t){return-Math.log(-t)}function WOe(t){return-Math.exp(-t)}function VOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function GOe(t){return t===10?VOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function YOe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function pq(t){return(e,r)=>-t(-e,r)}function _P(t){const e=t(hq,mq),r=e.domain;let n=10,a,s;function o(){return a=YOe(n),s=GOe(n),r()[0]<0?(a=pq(a),s=pq(s),t(UOe,WOe)):t(hq,mq),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let u=c[0],f=c[c.length-1];const m=f<u;m&&([u,f]=[f,u]);let g=a(u),p=a(f),v,w;const b=l==null?10:+l;let N=[];if(!(n%1)&&p-g<b){if(g=Math.floor(g),p=Math.ceil(p),u>0){for(;g<=p;++g)for(v=1;v<n;++v)if(w=g<0?v/s(-g):v*s(g),!(w<u)){if(w>f)break;N.push(w)}}else for(;g<=p;++g)for(v=n-1;v>=1;--v)if(w=g>0?v/s(-g):v*s(g),!(w<u)){if(w>f)break;N.push(w)}N.length*2<b&&(N=BO(u,f,b))}else N=BO(g,p,Math.min(p-g,b)).map(s);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=xv(c)).precision==null&&(c.trim=!0),c=CP(c)),l===1/0)return c;const u=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/s(Math.round(a(f)));return m*n<n-.5&&(m*=n),m<=u?c(f):""}},e.nice=()=>r(yte(r(),{floor:l=>s(Math.floor(a(l))),ceil:l=>s(Math.ceil(a(l)))})),e}function bte(){const t=_P(hS()).domain([1,10]);return t.copy=()=>f1(t,bte()).base(t.base()),kc.apply(t,arguments),t}function gq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function xq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function AP(t){var e=1,r=t(gq(e),xq(e));return r.constant=function(n){return arguments.length?t(gq(e=+n),xq(e)):e},pm(r)}function vte(){var t=AP(hS());return t.copy=function(){return f1(t,vte()).constant(t.constant())},kc.apply(t,arguments)}function yq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function KOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function JOe(t){return t<0?-t*t:t*t}function TP(t){var e=t(Ro,Ro),r=1;function n(){return r===1?t(Ro,Ro):r===.5?t(KOe,JOe):t(yq(r),yq(1/r))}return e.exponent=function(a){return arguments.length?(r=+a,n()):r},pm(e)}function MP(){var t=TP(hS());return t.copy=function(){return f1(t,MP()).exponent(t.exponent())},kc.apply(t,arguments),t}function XOe(){return MP.apply(null,arguments).exponent(.5)}function bq(t){return Math.sign(t)*t*t}function QOe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function wte(){var t=SP(),e=[0,1],r=!1,n;function a(s){var o=QOe(t(s));return isNaN(o)?n:r?Math.round(o):o}return a.invert=function(s){return t.invert(bq(s))},a.domain=function(s){return arguments.length?(t.domain(s),a):t.domain()},a.range=function(s){return arguments.length?(t.range((e=Array.from(s,T5)).map(bq)),a):e.slice()},a.rangeRound=function(s){return a.range(s).round(!0)},a.round=function(s){return arguments.length?(r=!!s,a):r},a.clamp=function(s){return arguments.length?(t.clamp(s),a):t.clamp()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.copy=function(){return wte(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},kc.apply(a,arguments),pm(a)}function jte(){var t=[],e=[],r=[],n;function a(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=nOe(t,o/l);return s}function s(o){return o==null||isNaN(o=+o)?n:e[u1(r,o)]}return s.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},s.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Qh),a()},s.range=function(o){return arguments.length?(e=Array.from(o),a()):e.slice()},s.unknown=function(o){return arguments.length?(n=o,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jte().domain(t).range(e).unknown(n)},kc.apply(s,arguments)}function Nte(){var t=0,e=1,r=1,n=[.5],a=[0,1],s;function o(c){return c!=null&&c<=c?a[u1(n,c,0,r)]:s}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(a=Array.from(c)).length-1,l()):a.slice()},o.invertExtent=function(c){var u=a.indexOf(c);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},o.unknown=function(c){return arguments.length&&(s=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return Nte().domain([t,e]).range(a).unknown(s)},kc.apply(pm(o),arguments)}function Ste(){var t=[.5],e=[0,1],r,n=1;function a(s){return s!=null&&s<=s?e[u1(t,s,0,n)]:r}return a.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),a):t.slice()},a.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),a):e.slice()},a.invertExtent=function(s){var o=e.indexOf(s);return[t[o-1],t[o]]},a.unknown=function(s){return arguments.length?(r=s,a):r},a.copy=function(){return Ste().domain(t).range(e).unknown(r)},kc.apply(a,arguments)}const E4=new Date,D4=new Date;function Ns(t,e,r,n){function a(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return a.floor=s=>(t(s=new Date(+s)),s),a.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),a.round=s=>{const o=a(s),l=a.ceil(s);return s-o<l-s?o:l},a.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),a.range=(s,o,l)=>{const c=[];if(s=a.ceil(s),l=l==null?1:Math.floor(l),!(s<o)||!(l>0))return c;let u;do c.push(u=new Date(+s)),e(s,l),t(s);while(u<s&&s<o);return c},a.filter=s=>Ns(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!s(o););else for(;--l>=0;)for(;e(o,1),!s(o););}),r&&(a.count=(s,o)=>(E4.setTime(+s),D4.setTime(+o),t(E4),t(D4),Math.floor(r(E4,D4))),a.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?a.filter(n?o=>n(o)%s===0:o=>a.count(0,o)%s===0):a)),a}const E5=Ns(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);E5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Ns(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):E5);E5.range;const df=1e3,mc=df*60,ff=mc*60,Ef=ff*24,OP=Ef*7,vq=Ef*30,P4=Ef*365,lp=Ns(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*df)},(t,e)=>(e-t)/df,t=>t.getUTCSeconds());lp.range;const EP=Ns(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*df)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getMinutes());EP.range;const DP=Ns(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*mc)},(t,e)=>(e-t)/mc,t=>t.getUTCMinutes());DP.range;const PP=Ns(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*df-t.getMinutes()*mc)},(t,e)=>{t.setTime(+t+e*ff)},(t,e)=>(e-t)/ff,t=>t.getHours());PP.range;const LP=Ns(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*ff)},(t,e)=>(e-t)/ff,t=>t.getUTCHours());LP.range;const h1=Ns(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*mc)/Ef,t=>t.getDate()-1);h1.range;const mS=Ns(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ef,t=>t.getUTCDate()-1);mS.range;const kte=Ns(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Ef,t=>Math.floor(t/Ef));kte.range;function Gp(t){return Ns(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*mc)/OP)}const pS=Gp(0),D5=Gp(1),ZOe=Gp(2),e6e=Gp(3),tx=Gp(4),t6e=Gp(5),r6e=Gp(6);pS.range;D5.range;ZOe.range;e6e.range;tx.range;t6e.range;r6e.range;function Yp(t){return Ns(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/OP)}const gS=Yp(0),P5=Yp(1),n6e=Yp(2),a6e=Yp(3),rx=Yp(4),i6e=Yp(5),s6e=Yp(6);gS.range;P5.range;n6e.range;a6e.range;rx.range;i6e.range;s6e.range;const RP=Ns(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());RP.range;const IP=Ns(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());IP.range;const Df=Ns(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Df.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ns(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Df.range;const Pf=Ns(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Pf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Ns(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Pf.range;function Cte(t,e,r,n,a,s){const o=[[lp,1,df],[lp,5,5*df],[lp,15,15*df],[lp,30,30*df],[s,1,mc],[s,5,5*mc],[s,15,15*mc],[s,30,30*mc],[a,1,ff],[a,3,3*ff],[a,6,6*ff],[a,12,12*ff],[n,1,Ef],[n,2,2*Ef],[r,1,OP],[e,1,vq],[e,3,3*vq],[t,1,P4]];function l(u,f,m){const g=f<u;g&&([u,f]=[f,u]);const p=m&&typeof m.range=="function"?m:c(u,f,m),v=p?p.range(u,+f+1):[];return g?v.reverse():v}function c(u,f,m){const g=Math.abs(f-u)/m,p=bP(([,,b])=>b).right(o,g);if(p===o.length)return t.every(zO(u/P4,f/P4,m));if(p===0)return E5.every(Math.max(zO(u,f,m),1));const[v,w]=o[g/o[p-1][2]<o[p][2]/g?p-1:p];return v.every(w)}return[l,c]}const[o6e,l6e]=Cte(Pf,IP,gS,kte,LP,DP),[c6e,u6e]=Cte(Df,RP,pS,h1,PP,EP);function L4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function R4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function d6e(t){var e=t.dateTime,r=t.date,n=t.time,a=t.periods,s=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,u=qy(a),f=Uy(a),m=qy(s),g=Uy(s),p=qy(o),v=Uy(o),w=qy(l),b=Uy(l),N=qy(c),k=Uy(c),S={a:F,A:z,b:J,B:oe,c:null,d:Cq,e:Cq,f:P6e,g:U6e,G:V6e,H:O6e,I:E6e,j:D6e,L:_te,m:L6e,M:R6e,p:K,q:U,Q:Tq,s:Mq,S:I6e,u:F6e,U:$6e,V:B6e,w:H6e,W:z6e,x:null,X:null,y:q6e,Y:W6e,Z:G6e,"%":Aq},A={a:X,A:Z,b:ne,B:ue,c:null,d:_q,e:_q,f:X6e,g:oEe,G:cEe,H:Y6e,I:K6e,j:J6e,L:Tte,m:Q6e,M:Z6e,p:_e,q:Ne,Q:Tq,s:Mq,S:eEe,u:tEe,U:rEe,V:nEe,w:aEe,W:iEe,x:null,X:null,y:sEe,Y:lEe,Z:uEe,"%":Aq},_={a:B,A:D,b:E,B:H,c:V,d:Sq,e:Sq,f:_6e,g:Nq,G:jq,H:kq,I:kq,j:N6e,L:C6e,m:j6e,M:S6e,p:I,q:w6e,Q:T6e,s:M6e,S:k6e,u:g6e,U:x6e,V:y6e,w:p6e,W:b6e,x:Y,X:W,y:Nq,Y:jq,Z:v6e,"%":A6e};S.x=M(r,S),S.X=M(n,S),S.c=M(e,S),A.x=M(r,A),A.X=M(n,A),A.c=M(e,A);function M(ge,ke){return function(ze){var he=[],ye=-1,ae=0,ie=ge.length,dt,ct,Le;for(ze instanceof Date||(ze=new Date(+ze));++ye<ie;)ge.charCodeAt(ye)===37&&(he.push(ge.slice(ae,ye)),(ct=wq[dt=ge.charAt(++ye)])!=null?dt=ge.charAt(++ye):ct=dt==="e"?" ":"0",(Le=ke[dt])&&(dt=Le(ze,ct)),he.push(dt),ae=ye+1);return he.push(ge.slice(ae,ye)),he.join("")}}function R(ge,ke){return function(ze){var he=zy(1900,void 0,1),ye=L(he,ge,ze+="",0),ae,ie;if(ye!=ze.length)return null;if("Q"in he)return new Date(he.Q);if("s"in he)return new Date(he.s*1e3+("L"in he?he.L:0));if(ke&&!("Z"in he)&&(he.Z=0),"p"in he&&(he.H=he.H%12+he.p*12),he.m===void 0&&(he.m="q"in he?he.q:0),"V"in he){if(he.V<1||he.V>53)return null;"w"in he||(he.w=1),"Z"in he?(ae=R4(zy(he.y,0,1)),ie=ae.getUTCDay(),ae=ie>4||ie===0?P5.ceil(ae):P5(ae),ae=mS.offset(ae,(he.V-1)*7),he.y=ae.getUTCFullYear(),he.m=ae.getUTCMonth(),he.d=ae.getUTCDate()+(he.w+6)%7):(ae=L4(zy(he.y,0,1)),ie=ae.getDay(),ae=ie>4||ie===0?D5.ceil(ae):D5(ae),ae=h1.offset(ae,(he.V-1)*7),he.y=ae.getFullYear(),he.m=ae.getMonth(),he.d=ae.getDate()+(he.w+6)%7)}else("W"in he||"U"in he)&&("w"in he||(he.w="u"in he?he.u%7:"W"in he?1:0),ie="Z"in he?R4(zy(he.y,0,1)).getUTCDay():L4(zy(he.y,0,1)).getDay(),he.m=0,he.d="W"in he?(he.w+6)%7+he.W*7-(ie+5)%7:he.w+he.U*7-(ie+6)%7);return"Z"in he?(he.H+=he.Z/100|0,he.M+=he.Z%100,R4(he)):L4(he)}}function L(ge,ke,ze,he){for(var ye=0,ae=ke.length,ie=ze.length,dt,ct;ye<ae;){if(he>=ie)return-1;if(dt=ke.charCodeAt(ye++),dt===37){if(dt=ke.charAt(ye++),ct=_[dt in wq?ke.charAt(ye++):dt],!ct||(he=ct(ge,ze,he))<0)return-1}else if(dt!=ze.charCodeAt(he++))return-1}return he}function I(ge,ke,ze){var he=u.exec(ke.slice(ze));return he?(ge.p=f.get(he[0].toLowerCase()),ze+he[0].length):-1}function B(ge,ke,ze){var he=p.exec(ke.slice(ze));return he?(ge.w=v.get(he[0].toLowerCase()),ze+he[0].length):-1}function D(ge,ke,ze){var he=m.exec(ke.slice(ze));return he?(ge.w=g.get(he[0].toLowerCase()),ze+he[0].length):-1}function E(ge,ke,ze){var he=N.exec(ke.slice(ze));return he?(ge.m=k.get(he[0].toLowerCase()),ze+he[0].length):-1}function H(ge,ke,ze){var he=w.exec(ke.slice(ze));return he?(ge.m=b.get(he[0].toLowerCase()),ze+he[0].length):-1}function V(ge,ke,ze){return L(ge,e,ke,ze)}function Y(ge,ke,ze){return L(ge,r,ke,ze)}function W(ge,ke,ze){return L(ge,n,ke,ze)}function F(ge){return o[ge.getDay()]}function z(ge){return s[ge.getDay()]}function J(ge){return c[ge.getMonth()]}function oe(ge){return l[ge.getMonth()]}function K(ge){return a[+(ge.getHours()>=12)]}function U(ge){return 1+~~(ge.getMonth()/3)}function X(ge){return o[ge.getUTCDay()]}function Z(ge){return s[ge.getUTCDay()]}function ne(ge){return c[ge.getUTCMonth()]}function ue(ge){return l[ge.getUTCMonth()]}function _e(ge){return a[+(ge.getUTCHours()>=12)]}function Ne(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var ke=M(ge+="",S);return ke.toString=function(){return ge},ke},parse:function(ge){var ke=R(ge+="",!1);return ke.toString=function(){return ge},ke},utcFormat:function(ge){var ke=M(ge+="",A);return ke.toString=function(){return ge},ke},utcParse:function(ge){var ke=R(ge+="",!0);return ke.toString=function(){return ge},ke}}}var wq={"-":"",_:" ",0:"0"},Is=/^\s*\d+/,f6e=/^%/,h6e=/[\\^$*+?|[\]().{}]/g;function Yn(t,e,r){var n=t<0?"-":"",a=(n?-t:t)+"",s=a.length;return n+(s<r?new Array(r-s+1).join(e)+a:a)}function m6e(t){return t.replace(h6e,"\\$&")}function qy(t){return new RegExp("^(?:"+t.map(m6e).join("|")+")","i")}function Uy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function p6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function g6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function x6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function y6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function b6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function jq(t,e,r){var n=Is.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Nq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function v6e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function w6e(t,e,r){var n=Is.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function j6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Sq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function N6e(t,e,r){var n=Is.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function kq(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function S6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function k6e(t,e,r){var n=Is.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function C6e(t,e,r){var n=Is.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function _6e(t,e,r){var n=Is.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function A6e(t,e,r){var n=f6e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function T6e(t,e,r){var n=Is.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function M6e(t,e,r){var n=Is.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Cq(t,e){return Yn(t.getDate(),e,2)}function O6e(t,e){return Yn(t.getHours(),e,2)}function E6e(t,e){return Yn(t.getHours()%12||12,e,2)}function D6e(t,e){return Yn(1+h1.count(Df(t),t),e,3)}function _te(t,e){return Yn(t.getMilliseconds(),e,3)}function P6e(t,e){return _te(t,e)+"000"}function L6e(t,e){return Yn(t.getMonth()+1,e,2)}function R6e(t,e){return Yn(t.getMinutes(),e,2)}function I6e(t,e){return Yn(t.getSeconds(),e,2)}function F6e(t){var e=t.getDay();return e===0?7:e}function $6e(t,e){return Yn(pS.count(Df(t)-1,t),e,2)}function Ate(t){var e=t.getDay();return e>=4||e===0?tx(t):tx.ceil(t)}function B6e(t,e){return t=Ate(t),Yn(tx.count(Df(t),t)+(Df(t).getDay()===4),e,2)}function H6e(t){return t.getDay()}function z6e(t,e){return Yn(D5.count(Df(t)-1,t),e,2)}function q6e(t,e){return Yn(t.getFullYear()%100,e,2)}function U6e(t,e){return t=Ate(t),Yn(t.getFullYear()%100,e,2)}function W6e(t,e){return Yn(t.getFullYear()%1e4,e,4)}function V6e(t,e){var r=t.getDay();return t=r>=4||r===0?tx(t):tx.ceil(t),Yn(t.getFullYear()%1e4,e,4)}function G6e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Yn(e/60|0,"0",2)+Yn(e%60,"0",2)}function _q(t,e){return Yn(t.getUTCDate(),e,2)}function Y6e(t,e){return Yn(t.getUTCHours(),e,2)}function K6e(t,e){return Yn(t.getUTCHours()%12||12,e,2)}function J6e(t,e){return Yn(1+mS.count(Pf(t),t),e,3)}function Tte(t,e){return Yn(t.getUTCMilliseconds(),e,3)}function X6e(t,e){return Tte(t,e)+"000"}function Q6e(t,e){return Yn(t.getUTCMonth()+1,e,2)}function Z6e(t,e){return Yn(t.getUTCMinutes(),e,2)}function eEe(t,e){return Yn(t.getUTCSeconds(),e,2)}function tEe(t){var e=t.getUTCDay();return e===0?7:e}function rEe(t,e){return Yn(gS.count(Pf(t)-1,t),e,2)}function Mte(t){var e=t.getUTCDay();return e>=4||e===0?rx(t):rx.ceil(t)}function nEe(t,e){return t=Mte(t),Yn(rx.count(Pf(t),t)+(Pf(t).getUTCDay()===4),e,2)}function aEe(t){return t.getUTCDay()}function iEe(t,e){return Yn(P5.count(Pf(t)-1,t),e,2)}function sEe(t,e){return Yn(t.getUTCFullYear()%100,e,2)}function oEe(t,e){return t=Mte(t),Yn(t.getUTCFullYear()%100,e,2)}function lEe(t,e){return Yn(t.getUTCFullYear()%1e4,e,4)}function cEe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?rx(t):rx.ceil(t),Yn(t.getUTCFullYear()%1e4,e,4)}function uEe(){return"+0000"}function Aq(){return"%"}function Tq(t){return+t}function Mq(t){return Math.floor(+t/1e3)}var q0,Ote,Ete;dEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function dEe(t){return q0=d6e(t),Ote=q0.format,q0.parse,Ete=q0.utcFormat,q0.utcParse,q0}function fEe(t){return new Date(t)}function hEe(t){return t instanceof Date?+t:+new Date(+t)}function FP(t,e,r,n,a,s,o,l,c,u){var f=SP(),m=f.invert,g=f.domain,p=u(".%L"),v=u(":%S"),w=u("%I:%M"),b=u("%I %p"),N=u("%a %d"),k=u("%b %d"),S=u("%B"),A=u("%Y");function _(M){return(c(M)<M?p:l(M)<M?v:o(M)<M?w:s(M)<M?b:n(M)<M?a(M)<M?N:k:r(M)<M?S:A)(M)}return f.invert=function(M){return new Date(m(M))},f.domain=function(M){return arguments.length?g(Array.from(M,hEe)):g().map(fEe)},f.ticks=function(M){var R=g();return t(R[0],R[R.length-1],M??10)},f.tickFormat=function(M,R){return R==null?_:u(R)},f.nice=function(M){var R=g();return(!M||typeof M.range!="function")&&(M=e(R[0],R[R.length-1],M??10)),M?g(yte(R,M)):f},f.copy=function(){return f1(f,FP(t,e,r,n,a,s,o,l,c,u))},f}function mEe(){return kc.apply(FP(c6e,u6e,Df,RP,pS,h1,PP,EP,lp,Ote).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function pEe(){return kc.apply(FP(o6e,l6e,Pf,IP,gS,mS,LP,DP,lp,Ete).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function xS(){var t=0,e=1,r,n,a,s,o=Ro,l=!1,c;function u(m){return m==null||isNaN(m=+m)?c:o(a===0?.5:(m=(s(m)-r)*a,l?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),a=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(m){return arguments.length?(l=!!m,u):l},u.interpolator=function(m){return arguments.length?(o=m,u):o};function f(m){return function(g){var p,v;return arguments.length?([p,v]=g,o=m(p,v),u):[o(0),o(1)]}}return u.range=f(Rx),u.rangeRound=f(NP),u.unknown=function(m){return arguments.length?(c=m,u):c},function(m){return s=m,r=m(t),n=m(e),a=r===n?0:1/(n-r),u}}function gm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Dte(){var t=pm(xS()(Ro));return t.copy=function(){return gm(t,Dte())},Uf.apply(t,arguments)}function Pte(){var t=_P(xS()).domain([1,10]);return t.copy=function(){return gm(t,Pte()).base(t.base())},Uf.apply(t,arguments)}function Lte(){var t=AP(xS());return t.copy=function(){return gm(t,Lte()).constant(t.constant())},Uf.apply(t,arguments)}function $P(){var t=TP(xS());return t.copy=function(){return gm(t,$P()).exponent(t.exponent())},Uf.apply(t,arguments)}function gEe(){return $P.apply(null,arguments).exponent(.5)}function Rte(){var t=[],e=Ro;function r(n){if(n!=null&&!isNaN(n=+n))return e((u1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let a of n)a!=null&&!isNaN(a=+a)&&t.push(a);return t.sort(Qh),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,a)=>e(a/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(a,s)=>rOe(t,s/n))},r.copy=function(){return Rte(e).domain(t)},Uf.apply(r,arguments)}function yS(){var t=0,e=.5,r=1,n=1,a,s,o,l,c,u=Ro,f,m=!1,g;function p(w){return isNaN(w=+w)?g:(w=.5+((w=+f(w))-s)*(n*w<n*s?l:c),u(m?Math.max(0,Math.min(1,w)):w))}p.domain=function(w){return arguments.length?([t,e,r]=w,a=f(t=+t),s=f(e=+e),o=f(r=+r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p):[t,e,r]},p.clamp=function(w){return arguments.length?(m=!!w,p):m},p.interpolator=function(w){return arguments.length?(u=w,p):u};function v(w){return function(b){var N,k,S;return arguments.length?([N,k,S]=b,u=AOe(w,[N,k,S]),p):[u(0),u(.5),u(1)]}}return p.range=v(Rx),p.rangeRound=v(NP),p.unknown=function(w){return arguments.length?(g=w,p):g},function(w){return f=w,a=w(t),s=w(e),o=w(r),l=a===s?0:.5/(s-a),c=s===o?0:.5/(o-s),n=s<a?-1:1,p}}function Ite(){var t=pm(yS()(Ro));return t.copy=function(){return gm(t,Ite())},Uf.apply(t,arguments)}function Fte(){var t=_P(yS()).domain([.1,1,10]);return t.copy=function(){return gm(t,Fte()).base(t.base())},Uf.apply(t,arguments)}function $te(){var t=AP(yS());return t.copy=function(){return gm(t,$te()).constant(t.constant())},Uf.apply(t,arguments)}function BP(){var t=TP(yS());return t.copy=function(){return gm(t,BP()).exponent(t.exponent())},Uf.apply(t,arguments)}function xEe(){return BP.apply(null,arguments).exponent(.5)}const Oq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:hv,scaleDiverging:Ite,scaleDivergingLog:Fte,scaleDivergingPow:BP,scaleDivergingSqrt:xEe,scaleDivergingSymlog:$te,scaleIdentity:xte,scaleImplicit:qO,scaleLinear:O5,scaleLog:bte,scaleOrdinal:vP,scalePoint:Cb,scalePow:MP,scaleQuantile:jte,scaleQuantize:Nte,scaleRadial:wte,scaleSequential:Dte,scaleSequentialLog:Pte,scaleSequentialPow:$P,scaleSequentialQuantile:Rte,scaleSequentialSqrt:gEe,scaleSequentialSymlog:Lte,scaleSqrt:XOe,scaleSymlog:vte,scaleThreshold:Ste,scaleTime:mEe,scaleUtc:pEe,tickFormat:gte},Symbol.toStringTag,{value:"Module"}));var I4,Eq;function bS(){if(Eq)return I4;Eq=1;var t=Ex();function e(r,n,a){for(var s=-1,o=r.length;++s<o;){var l=r[s],c=n(l);if(c!=null&&(u===void 0?c===c&&!t(c):a(c,u)))var u=c,f=l}return f}return I4=e,I4}var F4,Dq;function Bte(){if(Dq)return F4;Dq=1;function t(e,r){return e>r}return F4=t,F4}var $4,Pq;function yEe(){if(Pq)return $4;Pq=1;var t=bS(),e=Bte(),r=Lx();function n(a){return a&&a.length?t(a,r,e):void 0}return $4=n,$4}var bEe=yEe();const zh=Kn(bEe);var B4,Lq;function Hte(){if(Lq)return B4;Lq=1;function t(e,r){return e<r}return B4=t,B4}var H4,Rq;function vEe(){if(Rq)return H4;Rq=1;var t=bS(),e=Hte(),r=Lx();function n(a){return a&&a.length?t(a,r,e):void 0}return H4=n,H4}var wEe=vEe();const vS=Kn(wEe);var z4,Iq;function jEe(){if(Iq)return z4;Iq=1;var t=rP(),e=xd(),r=Kee(),n=dl();function a(s,o){var l=n(s)?t:r;return l(s,e(o,3))}return z4=a,z4}var q4,Fq;function NEe(){if(Fq)return q4;Fq=1;var t=Gee(),e=jEe();function r(n,a){return t(e(n,a),1)}return q4=r,q4}var SEe=NEe();const kEe=Kn(SEe);var U4,$q;function CEe(){if($q)return U4;$q=1;var t=pP();function e(r,n){return t(r,n)}return U4=e,U4}var _Ee=CEe();const Ip=Kn(_Ee);var Ix=1e9,AEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},zP,ti=!0,jc="[DecimalError] ",jp=jc+"Invalid argument: ",HP=jc+"Exponent out of range: ",Fx=Math.floor,Gm=Math.pow,TEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_l,Ms=1e7,qa=7,zte=9007199254740991,L5=Fx(zte/qa),pr={};pr.absoluteValue=pr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};pr.comparedTo=pr.cmp=function(t){var e,r,n,a,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,a=t.d.length,e=0,r=n<a?n:a;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===a?0:n>a^s.s<0?1:-1};pr.decimalPlaces=pr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*qa;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};pr.dividedBy=pr.div=function(t){return Cf(this,new this.constructor(t))};pr.dividedToIntegerBy=pr.idiv=function(t){var e=this,r=e.constructor;return Ma(Cf(e,new r(t),0,1),r.precision)};pr.equals=pr.eq=function(t){return!this.cmp(t)};pr.exponent=function(){return rs(this)};pr.greaterThan=pr.gt=function(t){return this.cmp(t)>0};pr.greaterThanOrEqualTo=pr.gte=function(t){return this.cmp(t)>=0};pr.isInteger=pr.isint=function(){return this.e>this.d.length-2};pr.isNegative=pr.isneg=function(){return this.s<0};pr.isPositive=pr.ispos=function(){return this.s>0};pr.isZero=function(){return this.s===0};pr.lessThan=pr.lt=function(t){return this.cmp(t)<0};pr.lessThanOrEqualTo=pr.lte=function(t){return this.cmp(t)<1};pr.logarithm=pr.log=function(t){var e,r=this,n=r.constructor,a=n.precision,s=a+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_l))throw Error(jc+"NaN");if(r.s<1)throw Error(jc+(r.s?"NaN":"-Infinity"));return r.eq(_l)?new n(0):(ti=!1,e=Cf(yv(r,s),yv(t,s),s),ti=!0,Ma(e,a))};pr.minus=pr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Wte(e,t):qte(e,(t.s=-t.s,t))};pr.modulo=pr.mod=function(t){var e,r=this,n=r.constructor,a=n.precision;if(t=new n(t),!t.s)throw Error(jc+"NaN");return r.s?(ti=!1,e=Cf(r,t,0,1).times(t),ti=!0,r.minus(e)):Ma(new n(r),a)};pr.naturalExponential=pr.exp=function(){return Ute(this)};pr.naturalLogarithm=pr.ln=function(){return yv(this)};pr.negated=pr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};pr.plus=pr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?qte(e,t):Wte(e,(t.s=-t.s,t))};pr.precision=pr.sd=function(t){var e,r,n,a=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(jp+t);if(e=rs(a)+1,n=a.d.length-1,r=n*qa+1,n=a.d[n],n){for(;n%10==0;n/=10)r--;for(n=a.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};pr.squareRoot=pr.sqrt=function(){var t,e,r,n,a,s,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(jc+"NaN")}for(t=rs(l),ti=!1,a=Math.sqrt(+l),a==0||a==1/0?(e=Ju(l.d),(e.length+t)%2==0&&(e+="0"),a=Math.sqrt(e),t=Fx((t+1)/2)-(t<0||t%2),a==1/0?e="5e"+t:(e=a.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(a.toString()),r=c.precision,a=o=r+3;;)if(s=n,n=s.plus(Cf(l,s,o+2)).times(.5),Ju(s.d).slice(0,o)===(e=Ju(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),a==o&&e=="4999"){if(Ma(s,r+1,0),s.times(s).eq(l)){n=s;break}}else if(e!="9999")break;o+=4}return ti=!0,Ma(n,r)};pr.times=pr.mul=function(t){var e,r,n,a,s,o,l,c,u,f=this,m=f.constructor,g=f.d,p=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,u=p.length,c<u&&(s=g,g=p,p=s,o=c,c=u,u=o),s=[],o=c+u,n=o;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,a=c+n;a>n;)l=s[a]+p[n]*g[a-n-1]+e,s[a--]=l%Ms|0,e=l/Ms|0;s[a]=(s[a]+e)%Ms|0}for(;!s[--o];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ti?Ma(t,m.precision):t};pr.toDecimalPlaces=pr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(dd(t,0,Ix),e===void 0?e=n.rounding:dd(e,0,8),Ma(r,t+rs(r)+1,e))};pr.toExponential=function(t,e){var r,n=this,a=n.constructor;return t===void 0?r=Fp(n,!0):(dd(t,0,Ix),e===void 0?e=a.rounding:dd(e,0,8),n=Ma(new a(n),t+1,e),r=Fp(n,!0,t+1)),r};pr.toFixed=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?Fp(a):(dd(t,0,Ix),e===void 0?e=s.rounding:dd(e,0,8),n=Ma(new s(a),t+rs(a)+1,e),r=Fp(n.abs(),!1,t+rs(n)+1),a.isneg()&&!a.isZero()?"-"+r:r)};pr.toInteger=pr.toint=function(){var t=this,e=t.constructor;return Ma(new e(t),rs(t)+1,e.rounding)};pr.toNumber=function(){return+this};pr.toPower=pr.pow=function(t){var e,r,n,a,s,o,l=this,c=l.constructor,u=12,f=+(t=new c(t));if(!t.s)return new c(_l);if(l=new c(l),!l.s){if(t.s<1)throw Error(jc+"Infinity");return l}if(l.eq(_l))return l;if(n=c.precision,t.eq(_l))return Ma(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,s=l.s,o){if((r=f<0?-f:f)<=zte){for(a=new c(_l),e=Math.ceil(n/qa+4),ti=!1;r%2&&(a=a.times(l),Hq(a.d,e)),r=Fx(r/2),r!==0;)l=l.times(l),Hq(l.d,e);return ti=!0,t.s<0?new c(_l).div(a):Ma(a,n)}}else if(s<0)throw Error(jc+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,ti=!1,a=t.times(yv(l,n+u)),ti=!0,a=Ute(a),a.s=s,a};pr.toPrecision=function(t,e){var r,n,a=this,s=a.constructor;return t===void 0?(r=rs(a),n=Fp(a,r<=s.toExpNeg||r>=s.toExpPos)):(dd(t,1,Ix),e===void 0?e=s.rounding:dd(e,0,8),a=Ma(new s(a),t,e),r=rs(a),n=Fp(a,t<=r||r<=s.toExpNeg,t)),n};pr.toSignificantDigits=pr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(dd(t,1,Ix),e===void 0?e=n.rounding:dd(e,0,8)),Ma(new n(r),t,e)};pr.toString=pr.valueOf=pr.val=pr.toJSON=pr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=rs(t),r=t.constructor;return Fp(t,e<=r.toExpNeg||e>=r.toExpPos)};function qte(t,e){var r,n,a,s,o,l,c,u,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),ti?Ma(e,m):e;if(c=t.d,u=e.d,o=t.e,a=e.e,c=c.slice(),s=o-a,s){for(s<0?(n=c,s=-s,l=u.length):(n=u,a=o,l=c.length),o=Math.ceil(m/qa),l=o>l?o+1:l+1,s>l&&(s=l,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(l=c.length,s=u.length,l-s<0&&(s=l,n=u,u=c,c=n),r=0;s;)r=(c[--s]=c[s]+u[s]+r)/Ms|0,c[s]%=Ms;for(r&&(c.unshift(r),++a),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=a,ti?Ma(e,m):e}function dd(t,e,r){if(t!==~~t||t<e||t>r)throw Error(jp+t)}function Ju(t){var e,r,n,a=t.length-1,s="",o=t[0];if(a>0){for(s+=o,e=1;e<a;e++)n=t[e]+"",r=qa-n.length,r&&(s+=Lh(r)),s+=n;o=t[e],n=o+"",r=qa-n.length,r&&(s+=Lh(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var Cf=(function(){function t(n,a){var s,o=0,l=n.length;for(n=n.slice();l--;)s=n[l]*a+o,n[l]=s%Ms|0,o=s/Ms|0;return o&&n.unshift(o),n}function e(n,a,s,o){var l,c;if(s!=o)c=s>o?1:-1;else for(l=c=0;l<s;l++)if(n[l]!=a[l]){c=n[l]>a[l]?1:-1;break}return c}function r(n,a,s){for(var o=0;s--;)n[s]-=o,o=n[s]<a[s]?1:0,n[s]=o*Ms+n[s]-a[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,a,s,o){var l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,M,R,L,I=n.constructor,B=n.s==a.s?1:-1,D=n.d,E=a.d;if(!n.s)return new I(n);if(!a.s)throw Error(jc+"Division by zero");for(c=n.e-a.e,R=E.length,_=D.length,p=new I(B),v=p.d=[],u=0;E[u]==(D[u]||0);)++u;if(E[u]>(D[u]||0)&&--c,s==null?k=s=I.precision:o?k=s+(rs(n)-rs(a))+1:k=s,k<0)return new I(0);if(k=k/qa+2|0,u=0,R==1)for(f=0,E=E[0],k++;(u<_||f)&&k--;u++)S=f*Ms+(D[u]||0),v[u]=S/E|0,f=S%E|0;else{for(f=Ms/(E[0]+1)|0,f>1&&(E=t(E,f),D=t(D,f),R=E.length,_=D.length),A=R,w=D.slice(0,R),b=w.length;b<R;)w[b++]=0;L=E.slice(),L.unshift(0),M=E[0],E[1]>=Ms/2&&++M;do f=0,l=e(E,w,R,b),l<0?(N=w[0],R!=b&&(N=N*Ms+(w[1]||0)),f=N/M|0,f>1?(f>=Ms&&(f=Ms-1),m=t(E,f),g=m.length,b=w.length,l=e(m,w,g,b),l==1&&(f--,r(m,R<g?L:E,g))):(f==0&&(l=f=1),m=E.slice()),g=m.length,g<b&&m.unshift(0),r(w,m,b),l==-1&&(b=w.length,l=e(E,w,R,b),l<1&&(f++,r(w,R<b?L:E,b))),b=w.length):l===0&&(f++,w=[0]),v[u++]=f,l&&w[0]?w[b++]=D[A]||0:(w=[D[A]],b=1);while((A++<_||w[0]!==void 0)&&k--)}return v[0]||v.shift(),p.e=c,Ma(p,o?s+rs(p)+1:s)}})();function Ute(t,e){var r,n,a,s,o,l,c=0,u=0,f=t.constructor,m=f.precision;if(rs(t)>16)throw Error(HP+rs(t));if(!t.s)return new f(_l);for(ti=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),u+=5;for(n=Math.log(Gm(2,u))/Math.LN10*2+5|0,l+=n,r=a=s=new f(_l),f.precision=l;;){if(a=Ma(a.times(t),l),r=r.times(++c),o=s.plus(Cf(a,r,l)),Ju(o.d).slice(0,l)===Ju(s.d).slice(0,l)){for(;u--;)s=Ma(s.times(s),l);return f.precision=m,e==null?(ti=!0,Ma(s,m)):s}s=o}}function rs(t){for(var e=t.e*qa,r=t.d[0];r>=10;r/=10)e++;return e}function W4(t,e,r){if(e>t.LN10.sd())throw ti=!0,r&&(t.precision=r),Error(jc+"LN10 precision limit exceeded");return Ma(new t(t.LN10),e)}function Lh(t){for(var e="";t--;)e+="0";return e}function yv(t,e){var r,n,a,s,o,l,c,u,f,m=1,g=10,p=t,v=p.d,w=p.constructor,b=w.precision;if(p.s<1)throw Error(jc+(p.s?"NaN":"-Infinity"));if(p.eq(_l))return new w(0);if(e==null?(ti=!1,u=b):u=e,p.eq(10))return e==null&&(ti=!0),W4(w,u);if(u+=g,w.precision=u,r=Ju(v),n=r.charAt(0),s=rs(p),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)p=p.times(t),r=Ju(p.d),n=r.charAt(0),m++;s=rs(p),n>1?(p=new w("0."+r),s++):p=new w(n+"."+r.slice(1))}else return c=W4(w,u+2,b).times(s+""),p=yv(new w(n+"."+r.slice(1)),u-g).plus(c),w.precision=b,e==null?(ti=!0,Ma(p,b)):p;for(l=o=p=Cf(p.minus(_l),p.plus(_l),u),f=Ma(p.times(p),u),a=3;;){if(o=Ma(o.times(f),u),c=l.plus(Cf(o,new w(a),u)),Ju(c.d).slice(0,u)===Ju(l.d).slice(0,u))return l=l.times(2),s!==0&&(l=l.plus(W4(w,u+2,b).times(s+""))),l=Cf(l,new w(m),u),w.precision=b,e==null?(ti=!0,Ma(l,b)):l;l=c,a+=2}}function Bq(t,e){var r,n,a;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(a=e.length;e.charCodeAt(a-1)===48;)--a;if(e=e.slice(n,a),e){if(a-=n,r=r-n-1,t.e=Fx(r/qa),t.d=[],n=(r+1)%qa,r<0&&(n+=qa),n<a){for(n&&t.d.push(+e.slice(0,n)),a-=qa;n<a;)t.d.push(+e.slice(n,n+=qa));e=e.slice(n),n=qa-e.length}else n-=a;for(;n--;)e+="0";if(t.d.push(+e),ti&&(t.e>L5||t.e<-L5))throw Error(HP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Ma(t,e,r){var n,a,s,o,l,c,u,f,m=t.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(n=e-o,n<0)n+=qa,a=e,u=m[f=0];else{if(f=Math.ceil((n+1)/qa),s=m.length,f>=s)return t;for(u=s=m[f],o=1;s>=10;s/=10)o++;n%=qa,a=n-qa+o}if(r!==void 0&&(s=Gm(10,o-a-1),l=u/s%10|0,c=e<0||m[f+1]!==void 0||u%s,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?a>0?u/Gm(10,o-a):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(s=rs(t),m.length=1,e=e-s-1,m[0]=Gm(10,(qa-e%qa)%qa),t.e=Fx(-e/qa)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,s=1,f--):(m.length=f+1,s=Gm(10,qa-n),m[f]=a>0?(u/Gm(10,o-a)%Gm(10,a)|0)*s:0),c)for(;;)if(f==0){(m[0]+=s)==Ms&&(m[0]=1,++t.e);break}else{if(m[f]+=s,m[f]!=Ms)break;m[f--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(ti&&(t.e>L5||t.e<-L5))throw Error(HP+rs(t));return t}function Wte(t,e){var r,n,a,s,o,l,c,u,f,m,g=t.constructor,p=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ti?Ma(e,p):e;if(c=t.d,m=e.d,n=e.e,u=t.e,c=c.slice(),o=u-n,o){for(f=o<0,f?(r=c,o=-o,l=m.length):(r=m,n=u,l=c.length),a=Math.max(Math.ceil(p/qa),l)+2,o>a&&(o=a,r.length=1),r.reverse(),a=o;a--;)r.push(0);r.reverse()}else{for(a=c.length,l=m.length,f=a<l,f&&(l=a),a=0;a<l;a++)if(c[a]!=m[a]){f=c[a]<m[a];break}o=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,a=m.length-l;a>0;--a)c[l++]=0;for(a=m.length;a>o;){if(c[--a]<m[a]){for(s=a;s&&c[--s]===0;)c[s]=Ms-1;--c[s],c[a]+=Ms}c[a]-=m[a]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,ti?Ma(e,p):e):new g(0)}function Fp(t,e,r){var n,a=rs(t),s=Ju(t.d),o=s.length;return e?(r&&(n=r-o)>0?s=s.charAt(0)+"."+s.slice(1)+Lh(n):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(a<0?"e":"e+")+a):a<0?(s="0."+Lh(-a-1)+s,r&&(n=r-o)>0&&(s+=Lh(n))):a>=o?(s+=Lh(a+1-o),r&&(n=r-a-1)>0&&(s=s+"."+Lh(n))):((n=a+1)<o&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-o)>0&&(a+1===o&&(s+="."),s+=Lh(n))),t.s<0?"-"+s:s}function Hq(t,e){if(t.length>e)return t.length=e,!0}function Vte(t){var e,r,n;function a(s){var o=this;if(!(o instanceof a))return new a(s);if(o.constructor=a,s instanceof a){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(jp+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return Bq(o,s.toString())}else if(typeof s!="string")throw Error(jp+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,TEe.test(s))Bq(o,s);else throw Error(jp+s)}if(a.prototype=pr,a.ROUND_UP=0,a.ROUND_DOWN=1,a.ROUND_CEIL=2,a.ROUND_FLOOR=3,a.ROUND_HALF_UP=4,a.ROUND_HALF_DOWN=5,a.ROUND_HALF_EVEN=6,a.ROUND_HALF_CEIL=7,a.ROUND_HALF_FLOOR=8,a.clone=Vte,a.config=a.set=MEe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return a.config(t),a}function MEe(t){if(!t||typeof t!="object")throw Error(jc+"Object expected");var e,r,n,a=["precision",1,Ix,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<a.length;e+=3)if((n=t[r=a[e]])!==void 0)if(Fx(n)===n&&n>=a[e+1]&&n<=a[e+2])this[r]=n;else throw Error(jp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(jp+r+": "+n);return this}var zP=Vte(AEe);_l=new zP(1);const Na=zP;function OEe(t){return LEe(t)||PEe(t)||DEe(t)||EEe()}function EEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DEe(t,e){if(t){if(typeof t=="string")return GO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return GO(t,e)}}function PEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function LEe(t){if(Array.isArray(t))return GO(t)}function GO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var REe=function(e){return e},Gte={},Yte=function(e){return e===Gte},zq=function(e){return function r(){return arguments.length===0||arguments.length===1&&Yte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},IEe=function t(e,r){return e===1?r:zq(function(){for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];var o=a.filter(function(l){return l!==Gte}).length;return o>=e?r.apply(void 0,a):t(e-o,zq(function(){for(var l=arguments.length,c=new Array(l),u=0;u<l;u++)c[u]=arguments[u];var f=a.map(function(m){return Yte(m)?c.shift():m});return r.apply(void 0,OEe(f).concat(c))}))})},wS=function(e){return IEe(e.length,e)},YO=function(e,r){for(var n=[],a=e;a<r;++a)n[a-e]=a;return n},FEe=wS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),$Ee=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return REe;var a=r.reverse(),s=a[0],o=a.slice(1);return function(){return o.reduce(function(l,c){return c(l)},s.apply(void 0,arguments))}},KO=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Kte=function(e){var r=null,n=null;return function(){for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return r&&s.every(function(l,c){return l===r[c]})||(r=s,n=e.apply(void 0,s)),n}};function BEe(t){var e;return t===0?e=1:e=Math.floor(new Na(t).abs().log(10).toNumber())+1,e}function HEe(t,e,r){for(var n=new Na(t),a=0,s=[];n.lt(e)&&a<1e5;)s.push(n.toNumber()),n=n.add(r),a++;return s}var zEe=wS(function(t,e,r){var n=+t,a=+e;return n+r*(a-n)}),qEe=wS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),UEe=wS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const jS={rangeStep:HEe,getDigitCount:BEe,interpolateNumber:zEe,uninterpolateNumber:qEe,uninterpolateTruncation:UEe};function JO(t){return GEe(t)||VEe(t)||Jte(t)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function GEe(t){if(Array.isArray(t))return XO(t)}function bv(t,e){return JEe(t)||KEe(t,e)||Jte(t,e)||YEe()}function YEe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Jte(t,e){if(t){if(typeof t=="string")return XO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XO(t,e)}}function XO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KEe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,a=!1,s=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){a=!0,s=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(a)throw s}}return r}}function JEe(t){if(Array.isArray(t))return t}function Xte(t){var e=bv(t,2),r=e[0],n=e[1],a=r,s=n;return r>n&&(a=n,s=r),[a,s]}function Qte(t,e,r){if(t.lte(0))return new Na(0);var n=jS.getDigitCount(t.toNumber()),a=new Na(10).pow(n),s=t.div(a),o=n!==1?.05:.1,l=new Na(Math.ceil(s.div(o).toNumber())).add(r).mul(o),c=l.mul(a);return e?c:new Na(Math.ceil(c))}function XEe(t,e,r){var n=1,a=new Na(t);if(!a.isint()&&r){var s=Math.abs(t);s<1?(n=new Na(10).pow(jS.getDigitCount(t)-1),a=new Na(Math.floor(a.div(n).toNumber())).mul(n)):s>1&&(a=new Na(Math.floor(t)))}else t===0?a=new Na(Math.floor((e-1)/2)):r||(a=new Na(Math.floor(t)));var o=Math.floor((e-1)/2),l=$Ee(FEe(function(c){return a.add(new Na(c-o).mul(n)).toNumber()}),YO);return l(0,e)}function Zte(t,e,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Na(0),tickMin:new Na(0),tickMax:new Na(0)};var s=Qte(new Na(e).sub(t).div(r-1),n,a),o;t<=0&&e>=0?o=new Na(0):(o=new Na(t).add(e).div(2),o=o.sub(new Na(o).mod(s)));var l=Math.ceil(o.sub(t).div(s).toNumber()),c=Math.ceil(new Na(e).sub(o).div(s).toNumber()),u=l+c+1;return u>r?Zte(t,e,r,n,a+1):(u<r&&(c=e>0?c+(r-u):c,l=e>0?l:l+(r-u)),{step:s,tickMin:o.sub(new Na(l).mul(s)),tickMax:o.add(new Na(c).mul(s))})}function QEe(t){var e=bv(t,2),r=e[0],n=e[1],a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(a,2),l=Xte([r,n]),c=bv(l,2),u=c[0],f=c[1];if(u===-1/0||f===1/0){var m=f===1/0?[u].concat(JO(YO(0,a-1).map(function(){return 1/0}))):[].concat(JO(YO(0,a-1).map(function(){return-1/0})),[f]);return r>n?KO(m):m}if(u===f)return XEe(u,a,s);var g=Zte(u,f,o,s),p=g.step,v=g.tickMin,w=g.tickMax,b=jS.rangeStep(v,w.add(new Na(.1).mul(p)),p);return r>n?KO(b):b}function ZEe(t,e){var r=bv(t,2),n=r[0],a=r[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Xte([n,a]),l=bv(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0)return[n,a];if(c===u)return[c];var f=Math.max(e,2),m=Qte(new Na(u).sub(c).div(f-1),s,0),g=[].concat(JO(jS.rangeStep(new Na(c),new Na(u).sub(new Na(.99).mul(m)),m)),[u]);return n>a?KO(g):g}var eDe=Kte(QEe),tDe=Kte(ZEe),rDe="Invariant failed";function $p(t,e){throw new Error(rDe)}var nDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function R5(){return R5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R5.apply(this,arguments)}function aDe(t,e){return lDe(t)||oDe(t,e)||sDe(t,e)||iDe()}function iDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(t,e){if(t){if(typeof t=="string")return qq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qq(t,e)}}function qq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function oDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function lDe(t){if(Array.isArray(t))return t}function cDe(t,e){if(t==null)return{};var r=uDe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function dDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rre(n.key),n)}}function hDe(t,e,r){return e&&fDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function mDe(t,e,r){return e=I5(e),pDe(t,ere()?Reflect.construct(e,r||[],I5(t).constructor):e.apply(t,r))}function pDe(t,e){if(e&&(nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gDe(t)}function gDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ere(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ere=function(){return!!t})()}function I5(t){return I5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},I5(t)}function xDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&QO(t,e)}function QO(t,e){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},QO(t,e)}function tre(t,e,r){return e=rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rre(t){var e=yDe(t,"string");return nx(e)=="symbol"?e:e+""}function yDe(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m1=(function(t){function e(){return dDe(this,e),mDe(this,e,arguments)}return xDe(e,t),hDe(e,[{key:"render",value:function(){var n=this.props,a=n.offset,s=n.layout,o=n.width,l=n.dataKey,c=n.data,u=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,g=cDe(n,nDe),p=Tr(g,!1);this.props.direction==="x"&&f.type!=="number"&&$p();var v=c.map(function(w){var b=u(w,l),N=b.x,k=b.y,S=b.value,A=b.errorVal;if(!A)return null;var _=[],M,R;if(Array.isArray(A)){var L=aDe(A,2);M=L[0],R=L[1]}else M=R=A;if(s==="vertical"){var I=f.scale,B=k+a,D=B+o,E=B-o,H=I(S-M),V=I(S+R);_.push({x1:V,y1:D,x2:V,y2:E}),_.push({x1:H,y1:B,x2:V,y2:B}),_.push({x1:H,y1:D,x2:H,y2:E})}else if(s==="horizontal"){var Y=m.scale,W=N+a,F=W-o,z=W+o,J=Y(S-M),oe=Y(S+R);_.push({x1:F,y1:oe,x2:z,y2:oe}),_.push({x1:W,y1:J,x2:W,y2:oe}),_.push({x1:F,y1:J,x2:z,y2:J})}return fe.createElement(_n,R5({className:"recharts-errorBar",key:"bar-".concat(_.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},p),_.map(function(K){return fe.createElement("line",R5({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return fe.createElement(_n,{className:"recharts-errorBars"},v)}}])})(fe.Component);tre(m1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});tre(m1,"displayName","ErrorBar");function vv(t){"@babel/helpers - typeof";return vv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vv(t)}function Uq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Bm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Uq(Object(r),!0).forEach(function(n){bDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Uq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bDe(t,e,r){return e=vDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vDe(t){var e=wDe(t,"string");return vv(e)=="symbol"?e:e+""}function wDe(t,e){if(vv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nre=function(e){var r=e.children,n=e.formattedGraphicalItems,a=e.legendWidth,s=e.legendContent,o=Sl(r,kf);if(!o)return null;var l=kf.defaultProps,c=l!==void 0?Bm(Bm({},l),o.props):{},u;return o.props&&o.props.payload?u=o.props&&o.props.payload:s==="children"?u=(n||[]).reduce(function(f,m){var g=m.item,p=m.props,v=p.sectors||p.data||[];return f.concat(v.map(function(w){return{type:o.props.iconType||g.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):u=(n||[]).map(function(f){var m=f.item,g=m.type.defaultProps,p=g!==void 0?Bm(Bm({},g),m.props):{},v=p.dataKey,w=p.name,b=p.legendType,N=p.hide;return{inactive:N,dataKey:v,type:c.iconType||b||"square",color:qP(m),value:w||v,payload:p}}),Bm(Bm(Bm({},c),kf.getWithHeight(o,a)),{},{payload:u,item:o})};function wv(t){"@babel/helpers - typeof";return wv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wv(t)}function Wq(t){return kDe(t)||SDe(t)||NDe(t)||jDe()}function jDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function NDe(t,e){if(t){if(typeof t=="string")return ZO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZO(t,e)}}function SDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function kDe(t){if(Array.isArray(t))return ZO(t)}function ZO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Vq(Object(r),!0).forEach(function(n){kg(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kg(t,e,r){return e=CDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CDe(t){var e=_De(t,"string");return wv(e)=="symbol"?e:e+""}function _De(t,e){if(wv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bi(t,e,r){return nn(t)||nn(e)?r:ws(e)?El(t,e,r):Yr(e)?e(t):r}function _b(t,e,r,n){var a=kEe(t,function(l){return Bi(l,e)});if(r==="number"){var s=a.filter(function(l){return Xt(l)||parseFloat(l)});return s.length?[vS(s),zh(s)]:[1/0,-1/0]}var o=n?a.filter(function(l){return!nn(l)}):a;return o.map(function(l){return ws(l)||l instanceof Date?l:""})}var ADe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var c=s.range,u=0;u<l;u++){var f=u>0?a[u-1].coordinate:a[l-1].coordinate,m=a[u].coordinate,g=u>=l-1?a[0].coordinate:a[u+1].coordinate,p=void 0;if(Po(m-f)!==Po(g-m)){var v=[];if(Po(g-m)===Po(c[1]-c[0])){p=g;var w=m+c[1]-c[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{p=f;var b=g+c[1]-c[0];v[0]=Math.min(m,(b+m)/2),v[1]=Math.max(m,(b+m)/2)}var N=[Math.min(m,(p+m)/2),Math.max(m,(p+m)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){o=a[u].index;break}}else{var k=Math.min(f,g),S=Math.max(f,g);if(e>(k+m)/2&&e<=(S+m)/2){o=a[u].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},qP=function(e){var r,n=e,a=n.type.displayName,s=(r=e.type)!==null&&r!==void 0&&r.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,o=s.stroke,l=s.fill,c;switch(a){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},TDe=function(e){var r=e.barSize,n=e.totalSize,a=e.stackGroups,s=a===void 0?{}:a;if(!s)return{};for(var o={},l=Object.keys(s),c=0,u=l.length;c<u;c++)for(var f=s[l[c]].stackGroups,m=Object.keys(f),g=0,p=m.length;g<p;g++){var v=f[m[g]],w=v.items,b=v.cateAxisId,N=w.filter(function(R){return Sf(R.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,S=k!==void 0?ji(ji({},k),N[0].props):N[0].props,A=S.barSize,_=S[b];o[_]||(o[_]=[]);var M=nn(A)?r:A;o[_].push({item:N[0],stackList:N.slice(1),barSize:nn(M)?void 0:Lo(M,n,0)})}}return o},MDe=function(e){var r=e.barGap,n=e.barCategoryGap,a=e.bandSize,s=e.sizeList,o=s===void 0?[]:s,l=e.maxBarSize,c=o.length;if(c<1)return null;var u=Lo(r,a,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,p=a/c,v=o.reduce(function(A,_){return A+_.barSize||0},0);v+=(c-1)*u,v>=a&&(v-=(c-1)*u,u=0),v>=a&&p>0&&(g=!0,p*=.9,v=c*p);var w=(a-v)/2>>0,b={offset:w-u,size:0};f=o.reduce(function(A,_){var M={item:_.item,position:{offset:b.offset+b.size+u,size:g?p:_.barSize}},R=[].concat(Wq(A),[M]);return b=R[R.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(L){R.push({item:L,position:b})}),R},m)}else{var N=Lo(n,a,0,!0);a-2*N-(c-1)*u<=0&&(u=0);var k=(a-2*N-(c-1)*u)/c;k>1&&(k>>=0);var S=l===+l?Math.min(k,l):k;f=o.reduce(function(A,_,M){var R=[].concat(Wq(A),[{item:_.item,position:{offset:N+(k+u)*M+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(L){R.push({item:L,position:R[R.length-1].position})}),R},m)}return f},ODe=function(e,r,n,a){var s=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),u=nre({children:s,legendWidth:c});if(u){var f=a||{},m=f.width,g=f.height,p=u.align,v=u.verticalAlign,w=u.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&p!=="center"&&Xt(e[p]))return ji(ji({},e),{},kg({},p,e[p]+(m||0)));if((w==="horizontal"||w==="vertical"&&p==="center")&&v!=="middle"&&Xt(e[v]))return ji(ji({},e),{},kg({},v,e[v]+(g||0)))}return e},EDe=function(e,r,n){return nn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},are=function(e,r,n,a,s){var o=r.props.children,l=Dl(o,m1).filter(function(u){return EDe(a,s,u.props.direction)});if(l&&l.length){var c=l.map(function(u){return u.props.dataKey});return e.reduce(function(u,f){var m=Bi(f,n);if(nn(m))return u;var g=Array.isArray(m)?[vS(m),zh(m)]:[m,m],p=c.reduce(function(v,w){var b=Bi(f,w,0),N=g[0]-Math.abs(Array.isArray(b)?b[0]:b),k=g[1]+Math.abs(Array.isArray(b)?b[1]:b);return[Math.min(N,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(p[0],u[0]),Math.max(p[1],u[1])]},[1/0,-1/0])}return null},DDe=function(e,r,n,a,s){var o=r.map(function(l){return are(e,l,n,s,a)}).filter(function(l){return!nn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},ire=function(e,r,n,a,s){var o=r.map(function(c){var u=c.props.dataKey;return n==="number"&&u&&are(e,c,u,a)||_b(e,u,n,s)});if(n==="number")return o.reduce(function(c,u){return[Math.min(c[0],u[0]),Math.max(c[1],u[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,u){for(var f=0,m=u.length;f<m;f++)l[u[f]]||(l[u[f]]=!0,c.push(u[f]));return c},[])},sre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ore=function(e,r,n,a){if(a)return e.map(function(c){return c.coordinate});var s,o,l=e.map(function(c){return c.coordinate===r&&(s=!0),c.coordinate===n&&(o=!0),c.coordinate});return s||l.push(r),o||l.push(n),l},hf=function(e,r,n){if(!e)return null;var a=e.scale,s=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?a.bandwidth()/2:2,u=(r||n)&&o==="category"&&a.bandwidth?a.bandwidth()/c:0;if(u=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Po(l[0]-l[1])*2*u:u,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var g=s?s.indexOf(m):m;return{coordinate:a(g)+u,value:m,offset:u}});return f.filter(function(m){return!Px(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:a(m)+u,value:m,index:g,offset:u}}):a.ticks&&!n?a.ticks(e.tickCount).map(function(m){return{coordinate:a(m)+u,value:m,offset:u}}):a.domain().map(function(m,g){return{coordinate:a(m)+u,value:s?s[m]:m,index:g,offset:u}})},V4=new WeakMap,Xw=function(e,r){if(typeof r!="function")return e;V4.has(e)||V4.set(e,new WeakMap);var n=V4.get(e);if(n.has(r))return n.get(r);var a=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,a),a},lre=function(e,r,n){var a=e.scale,s=e.type,o=e.layout,l=e.axisType;if(a==="auto")return o==="radial"&&l==="radiusAxis"?{scale:hv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:O5(),realScaleType:"linear"}:s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Cb(),realScaleType:"point"}:s==="category"?{scale:hv(),realScaleType:"band"}:{scale:O5(),realScaleType:"linear"};if(Dp(a)){var c="scale".concat(sS(a));return{scale:(Oq[c]||Cb)(),realScaleType:Oq[c]?c:"point"}}return Yr(a)?{scale:a}:{scale:Cb(),realScaleType:"point"}},Gq=1e-4,cre=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,a=e.range(),s=Math.min(a[0],a[1])-Gq,o=Math.max(a[0],a[1])+Gq,l=e(r[0]),c=e(r[n-1]);(l<s||l>o||c<s||c>o)&&e.domain([r[0],r[n-1]])}},PDe=function(e,r){if(!e)return null;for(var n=0,a=e.length;n<a;n++)if(e[n].item===r)return e[n].position;return null},LDe=function(e,r){if(!r||r.length!==2||!Xt(r[0])||!Xt(r[1]))return e;var n=Math.min(r[0],r[1]),a=Math.max(r[0],r[1]),s=[e[0],e[1]];return(!Xt(e[0])||e[0]<n)&&(s[0]=n),(!Xt(e[1])||e[1]>a)&&(s[1]=a),s[0]>a&&(s[0]=a),s[1]<n&&(s[1]=n),s},RDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0,l=0;l<r;++l){var c=Px(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=s,e[l][n][1]=s+c,s=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},IDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,a=e[0].length;n<a;++n)for(var s=0,o=0;o<r;++o){var l=Px(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=s,e[o][n][1]=s+l,s=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},FDe={sign:RDe,expand:k3e,none:Kg,silhouette:C3e,wiggle:_3e,positive:IDe},$De=function(e,r,n){var a=r.map(function(l){return l.props.dataKey}),s=FDe[n],o=S3e().keys(a).value(function(l,c){return+Bi(l,c,0)}).order(TO).offset(s);return o(e)},BDe=function(e,r,n,a,s,o){if(!e)return null;var l=o?r.reverse():r,c={},u=l.reduce(function(m,g){var p,v=(p=g.type)!==null&&p!==void 0&&p.defaultProps?ji(ji({},g.type.defaultProps),g.props):g.props,w=v.stackId,b=v.hide;if(b)return m;var N=v[n],k=m[N]||{hasStack:!1,stackGroups:{}};if(ws(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:a,items:[]};S.items.push(g),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[Vp("_stackId_")]={numericAxisId:n,cateAxisId:a,items:[g]};return ji(ji({},m),{},kg({},N,k))},c),f={};return Object.keys(u).reduce(function(m,g){var p=u[g];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(w,b){var N=p.stackGroups[b];return ji(ji({},w),{},kg({},b,{numericAxisId:n,cateAxisId:a,items:N.items,stackedData:$De(e,N.items,s)}))},v)}return ji(ji({},m),{},kg({},g,p))},f)},ure=function(e,r){var n=r.realScaleType,a=r.type,s=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(s&&a==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var u=e.domain();if(!u.length)return null;var f=eDe(u,s,l);return e.domain([vS(f),zh(f)]),{niceTicks:f}}if(s&&a==="number"){var m=e.domain(),g=tDe(m,s,l);return{niceTicks:g}}return null};function F5(t){var e=t.axis,r=t.ticks,n=t.bandSize,a=t.entry,s=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!nn(a[e.dataKey])){var l=h5(r,"value",a[e.dataKey]);if(l)return l.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var c=Bi(a,nn(o)?e.dataKey:o);return nn(c)?null:e.scale(c)}var Yq=function(e){var r=e.axis,n=e.ticks,a=e.offset,s=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+a:null;var c=Bi(o,r.dataKey,r.domain[l]);return nn(c)?null:r.scale(c)-s/2+a},HDe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var a=Math.min(n[0],n[1]),s=Math.max(n[0],n[1]);return a<=0&&s>=0?0:s<0?s:a}return n[0]},zDe=function(e,r){var n,a=(n=e.type)!==null&&n!==void 0&&n.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,s=a.stackId;if(ws(s)){var o=r[s];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},qDe=function(e){return e.reduce(function(r,n){return[vS(n.concat([r[0]]).filter(Xt)),zh(n.concat([r[1]]).filter(Xt))]},[1/0,-1/0])},dre=function(e,r,n){return Object.keys(e).reduce(function(a,s){var o=e[s],l=o.stackedData,c=l.reduce(function(u,f){var m=qDe(f.slice(r,n+1));return[Math.min(u[0],m[0]),Math.max(u[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],a[0]),Math.max(c[1],a[1])]},[1/0,-1/0]).map(function(a){return a===1/0||a===-1/0?0:a})},Kq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Jq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,e6=function(e,r,n){if(Yr(e))return e(r,n);if(!Array.isArray(e))return r;var a=[];if(Xt(e[0]))a[0]=n?e[0]:Math.min(e[0],r[0]);else if(Kq.test(e[0])){var s=+Kq.exec(e[0])[1];a[0]=r[0]-s}else Yr(e[0])?a[0]=e[0](r[0]):a[0]=r[0];if(Xt(e[1]))a[1]=n?e[1]:Math.max(e[1],r[1]);else if(Jq.test(e[1])){var o=+Jq.exec(e[1])[1];a[1]=r[1]+o}else Yr(e[1])?a[1]=e[1](r[1]):a[1]=r[1];return a},$5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var a=e.scale.bandwidth();if(!n||a>0)return a}if(e&&r&&r.length>=2){for(var s=xP(r,function(m){return m.coordinate}),o=1/0,l=1,c=s.length;l<c;l++){var u=s[l],f=s[l-1];o=Math.min((u.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Xq=function(e,r,n){return!e||!e.length||Ip(e,El(n,"type.defaultProps.domain"))?r:e},fre=function(e,r){var n=e.type.defaultProps?ji(ji({},e.type.defaultProps),e.props):e.props,a=n.dataKey,s=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,u=n.chartType,f=n.hide;return ji(ji({},Tr(e,!1)),{},{dataKey:a,unit:o,formatter:l,name:s||a,color:qP(e),value:Bi(r,a),type:c,payload:r,chartType:u,hide:f})};function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Qq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function af(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Qq(Object(r),!0).forEach(function(n){hre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Qq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hre(t,e,r){return e=UDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UDe(t){var e=WDe(t,"string");return jv(e)=="symbol"?e:e+""}function WDe(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VDe(t,e){return JDe(t)||KDe(t,e)||YDe(t,e)||GDe()}function GDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YDe(t,e){if(t){if(typeof t=="string")return Zq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zq(t,e)}}function Zq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function KDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function JDe(t){if(Array.isArray(t))return t}var B5=Math.PI/180,XDe=function(e){return e*180/Math.PI},La=function(e,r,n,a){return{x:e+Math.cos(-B5*a)*n,y:r+Math.sin(-B5*a)*n}},mre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},QDe=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.startAngle,u=e.endAngle,f=Lo(e.cx,o,o/2),m=Lo(e.cy,l,l/2),g=mre(o,l,n),p=Lo(e.innerRadius,g,0),v=Lo(e.outerRadius,g,g*.8),w=Object.keys(r);return w.reduce(function(b,N){var k=r[N],S=k.domain,A=k.reversed,_;if(nn(k.range))a==="angleAxis"?_=[c,u]:a==="radiusAxis"&&(_=[p,v]),A&&(_=[_[1],_[0]]);else{_=k.range;var M=_,R=VDe(M,2);c=R[0],u=R[1]}var L=lre(k,s),I=L.realScaleType,B=L.scale;B.domain(S).range(_),cre(B);var D=ure(B,af(af({},k),{},{realScaleType:I})),E=af(af(af({},k),D),{},{range:_,radius:v,realScaleType:I,scale:B,cx:f,cy:m,innerRadius:p,outerRadius:v,startAngle:c,endAngle:u});return af(af({},b),{},hre({},N,E))},{})},ZDe=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return Math.sqrt(Math.pow(n-s,2)+Math.pow(a-o,2))},ePe=function(e,r){var n=e.x,a=e.y,s=r.cx,o=r.cy,l=ZDe({x:n,y:a},{x:s,y:o});if(l<=0)return{radius:l};var c=(n-s)/l,u=Math.acos(c);return a>o&&(u=2*Math.PI-u),{radius:l,angle:XDe(u),angleInRadian:u}},tPe=function(e){var r=e.startAngle,n=e.endAngle,a=Math.floor(r/360),s=Math.floor(n/360),o=Math.min(a,s);return{startAngle:r-o*360,endAngle:n-o*360}},rPe=function(e,r){var n=r.startAngle,a=r.endAngle,s=Math.floor(n/360),o=Math.floor(a/360),l=Math.min(s,o);return e+l*360},eU=function(e,r){var n=e.x,a=e.y,s=ePe({x:n,y:a},r),o=s.radius,l=s.angle,c=r.innerRadius,u=r.outerRadius;if(o<c||o>u)return!1;if(o===0)return!0;var f=tPe(r),m=f.startAngle,g=f.endAngle,p=l,v;if(m<=g){for(;p>g;)p-=360;for(;p<m;)p+=360;v=p>=m&&p<=g}else{for(;p>m;)p-=360;for(;p<g;)p+=360;v=p>=g&&p<=m}return v?af(af({},r),{},{radius:o,angle:rPe(p,r)}):null},pre=function(e){return!y.isValidElement(e)&&!Yr(e)&&typeof e!="boolean"?e.className:""};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}var nPe=["offset"];function aPe(t){return lPe(t)||oPe(t)||sPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sPe(t,e){if(t){if(typeof t=="string")return t6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t6(t,e)}}function oPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lPe(t){if(Array.isArray(t))return t6(t)}function t6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cPe(t,e){if(t==null)return{};var r=uPe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function bs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tU(Object(r),!0).forEach(function(n){dPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dPe(t,e,r){return e=fPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fPe(t){var e=hPe(t,"string");return Nv(e)=="symbol"?e:e+""}function hPe(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Sv(){return Sv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sv.apply(this,arguments)}var mPe=function(e){var r=e.value,n=e.formatter,a=nn(e.children)?r:e.children;return Yr(n)?n(a):a},pPe=function(e,r){var n=Po(r-e),a=Math.min(Math.abs(r-e),360);return n*a},gPe=function(e,r,n){var a=e.position,s=e.viewBox,o=e.offset,l=e.className,c=s,u=c.cx,f=c.cy,m=c.innerRadius,g=c.outerRadius,p=c.startAngle,v=c.endAngle,w=c.clockWise,b=(m+g)/2,N=pPe(p,v),k=N>=0?1:-1,S,A;a==="insideStart"?(S=p+k*o,A=w):a==="insideEnd"?(S=v-k*o,A=!w):a==="end"&&(S=v+k*o,A=w),A=N<=0?A:!A;var _=La(u,f,b,S),M=La(u,f,b,S+(A?1:-1)*359),R="M".concat(_.x,",").concat(_.y,`
    A`).concat(b,",").concat(b,",0,1,").concat(A?0:1,`,
    `).concat(M.x,",").concat(M.y),L=nn(e.id)?Vp("recharts-radial-line-"):e.id;return fe.createElement("text",Sv({},n,{dominantBaseline:"central",className:Cr("recharts-radial-bar-label",l)}),fe.createElement("defs",null,fe.createElement("path",{id:L,d:R})),fe.createElement("textPath",{xlinkHref:"#".concat(L)},r))},xPe=function(e){var r=e.viewBox,n=e.offset,a=e.position,s=r,o=s.cx,l=s.cy,c=s.innerRadius,u=s.outerRadius,f=s.startAngle,m=s.endAngle,g=(f+m)/2;if(a==="outside"){var p=La(o,l,u+n,g),v=p.x,w=p.y;return{x:v,y:w,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(a==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(a==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(a==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var b=(c+u)/2,N=La(o,l,b,g),k=N.x,S=N.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},yPe=function(e){var r=e.viewBox,n=e.parentViewBox,a=e.offset,s=e.position,o=r,l=o.x,c=o.y,u=o.width,f=o.height,m=f>=0?1:-1,g=m*a,p=m>0?"end":"start",v=m>0?"start":"end",w=u>=0?1:-1,b=w*a,N=w>0?"end":"start",k=w>0?"start":"end";if(s==="top"){var S={x:l+u/2,y:c-m*a,textAnchor:"middle",verticalAnchor:p};return bs(bs({},S),n?{height:Math.max(c-n.y,0),width:u}:{})}if(s==="bottom"){var A={x:l+u/2,y:c+f+g,textAnchor:"middle",verticalAnchor:v};return bs(bs({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:u}:{})}if(s==="left"){var _={x:l-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return bs(bs({},_),n?{width:Math.max(_.x-n.x,0),height:f}:{})}if(s==="right"){var M={x:l+u+b,y:c+f/2,textAnchor:k,verticalAnchor:"middle"};return bs(bs({},M),n?{width:Math.max(n.x+n.width-M.x,0),height:f}:{})}var R=n?{width:u,height:f}:{};return s==="insideLeft"?bs({x:l+b,y:c+f/2,textAnchor:k,verticalAnchor:"middle"},R):s==="insideRight"?bs({x:l+u-b,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},R):s==="insideTop"?bs({x:l+u/2,y:c+g,textAnchor:"middle",verticalAnchor:v},R):s==="insideBottom"?bs({x:l+u/2,y:c+f-g,textAnchor:"middle",verticalAnchor:p},R):s==="insideTopLeft"?bs({x:l+b,y:c+g,textAnchor:k,verticalAnchor:v},R):s==="insideTopRight"?bs({x:l+u-b,y:c+g,textAnchor:N,verticalAnchor:v},R):s==="insideBottomLeft"?bs({x:l+b,y:c+f-g,textAnchor:k,verticalAnchor:p},R):s==="insideBottomRight"?bs({x:l+u-b,y:c+f-g,textAnchor:N,verticalAnchor:p},R):Dx(s)&&(Xt(s.x)||sp(s.x))&&(Xt(s.y)||sp(s.y))?bs({x:l+Lo(s.x,u),y:c+Lo(s.y,f),textAnchor:"end",verticalAnchor:"end"},R):bs({x:l+u/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},R)},bPe=function(e){return"cx"in e&&Xt(e.cx)};function Ds(t){var e=t.offset,r=e===void 0?5:e,n=cPe(t,nPe),a=bs({offset:r},n),s=a.viewBox,o=a.position,l=a.value,c=a.children,u=a.content,f=a.className,m=f===void 0?"":f,g=a.textBreakAll;if(!s||nn(l)&&nn(c)&&!y.isValidElement(u)&&!Yr(u))return null;if(y.isValidElement(u))return y.cloneElement(u,a);var p;if(Yr(u)){if(p=y.createElement(u,a),y.isValidElement(p))return p}else p=mPe(a);var v=bPe(s),w=Tr(a,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return gPe(a,p,w);var b=v?xPe(a):yPe(a);return fe.createElement(Rp,Sv({className:Cr("recharts-label",m)},w,b,{breakAll:g}),p)}Ds.displayName="Label";var gre=function(e){var r=e.cx,n=e.cy,a=e.angle,s=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,u=e.innerRadius,f=e.outerRadius,m=e.x,g=e.y,p=e.top,v=e.left,w=e.width,b=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(Xt(w)&&Xt(b)){if(Xt(m)&&Xt(g))return{x:m,y:g,width:w,height:b};if(Xt(p)&&Xt(v))return{x:p,y:v,width:w,height:b}}return Xt(m)&&Xt(g)?{x:m,y:g,width:0,height:0}:Xt(r)&&Xt(n)?{cx:r,cy:n,startAngle:s||a||0,endAngle:o||a||0,innerRadius:u||0,outerRadius:f||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},vPe=function(e,r){return e?e===!0?fe.createElement(Ds,{key:"label-implicit",viewBox:r}):ws(e)?fe.createElement(Ds,{key:"label-implicit",viewBox:r,value:e}):y.isValidElement(e)?e.type===Ds?y.cloneElement(e,{key:"label-implicit",viewBox:r}):fe.createElement(Ds,{key:"label-implicit",content:e,viewBox:r}):Yr(e)?fe.createElement(Ds,{key:"label-implicit",content:e,viewBox:r}):Dx(e)?fe.createElement(Ds,Sv({viewBox:r},e,{key:"label-implicit"})):null:null},wPe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var a=e.children,s=gre(e),o=Dl(a,Ds).map(function(c,u){return y.cloneElement(c,{viewBox:r||s,key:"label-".concat(u)})});if(!n)return o;var l=vPe(e.label,r||s);return[l].concat(aPe(o))};Ds.parseViewBox=gre;Ds.renderCallByParent=wPe;var G4,rU;function jPe(){if(rU)return G4;rU=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return G4=t,G4}var NPe=jPe();const SPe=Kn(NPe);function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}var kPe=["valueAccessor"],CPe=["data","dataKey","clockWise","id","textBreakAll"];function _Pe(t){return OPe(t)||MPe(t)||TPe(t)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TPe(t,e){if(t){if(typeof t=="string")return r6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return r6(t,e)}}function MPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OPe(t){if(Array.isArray(t))return r6(t)}function r6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function H5(){return H5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H5.apply(this,arguments)}function nU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function aU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(r),!0).forEach(function(n){EPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EPe(t,e,r){return e=DPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DPe(t){var e=PPe(t,"string");return kv(e)=="symbol"?e:e+""}function PPe(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iU(t,e){if(t==null)return{};var r=LPe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function LPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var RPe=function(e){return Array.isArray(e.value)?SPe(e.value):e.value};function id(t){var e=t.valueAccessor,r=e===void 0?RPe:e,n=iU(t,kPe),a=n.data,s=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,u=iU(n,CPe);return!a||!a.length?null:fe.createElement(_n,{className:"recharts-label-list"},a.map(function(f,m){var g=nn(s)?r(f,m):Bi(f&&f.payload,s),p=nn(l)?{}:{id:"".concat(l,"-").concat(m)};return fe.createElement(Ds,H5({},Tr(f,!0),u,p,{parentViewBox:f.parentViewBox,value:g,textBreakAll:c,viewBox:Ds.parseViewBox(nn(o)?f:aU(aU({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}id.displayName="LabelList";function IPe(t,e){return t?t===!0?fe.createElement(id,{key:"labelList-implicit",data:e}):fe.isValidElement(t)||Yr(t)?fe.createElement(id,{key:"labelList-implicit",data:e,content:t}):Dx(t)?fe.createElement(id,H5({data:e},t,{key:"labelList-implicit"})):null:null}function FPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,a=Dl(n,id).map(function(o,l){return y.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return a;var s=IPe(t.label,e);return[s].concat(_Pe(a))}id.renderCallByParent=FPe;function Cv(t){"@babel/helpers - typeof";return Cv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Cv(t)}function n6(){return n6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},n6.apply(this,arguments)}function sU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sU(Object(r),!0).forEach(function(n){$Pe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $Pe(t,e,r){return e=BPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BPe(t){var e=HPe(t,"string");return Cv(e)=="symbol"?e:e+""}function HPe(t,e){if(Cv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Cv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zPe=function(e,r){var n=Po(r-e),a=Math.min(Math.abs(r-e),359.999);return n*a},Qw=function(e){var r=e.cx,n=e.cy,a=e.radius,s=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,u=e.cornerIsExternal,f=c*(l?1:-1)+a,m=Math.asin(c/f)/B5,g=u?s:s+o*m,p=La(r,n,f,g),v=La(r,n,a,g),w=u?s-o*m:s,b=La(r,n,f*Math.cos(m*B5),w);return{center:p,circleTangency:v,lineTangency:b,theta:m}},xre=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.startAngle,l=e.endAngle,c=zPe(o,l),u=o+c,f=La(r,n,s,o),m=La(r,n,s,u),g="M ".concat(f.x,",").concat(f.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>u),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(a>0){var p=La(r,n,a,o),v=La(r,n,a,u);g+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(a,",").concat(a,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=u),`,
            `).concat(p.x,",").concat(p.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},qPe=function(e){var r=e.cx,n=e.cy,a=e.innerRadius,s=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,u=e.startAngle,f=e.endAngle,m=Po(f-u),g=Qw({cx:r,cy:n,radius:s,angle:u,sign:m,cornerRadius:o,cornerIsExternal:c}),p=g.circleTangency,v=g.lineTangency,w=g.theta,b=Qw({cx:r,cy:n,radius:s,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=b.circleTangency,k=b.lineTangency,S=b.theta,A=c?Math.abs(u-f):Math.abs(u-f)-w-S;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):xre({cx:r,cy:n,innerRadius:a,outerRadius:s,startAngle:u,endAngle:f});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(a>0){var M=Qw({cx:r,cy:n,radius:a,angle:u,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),R=M.circleTangency,L=M.lineTangency,I=M.theta,B=Qw({cx:r,cy:n,radius:a,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),D=B.circleTangency,E=B.lineTangency,H=B.theta,V=c?Math.abs(u-f):Math.abs(u-f)-I-H;if(V<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(D.x,",").concat(D.y,`
      A`).concat(a,",").concat(a,",0,").concat(+(V>180),",").concat(+(m>0),",").concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},UPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},yre=function(e){var r=oU(oU({},UPe),e),n=r.cx,a=r.cy,s=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,u=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,g=r.className;if(o<s||f===m)return null;var p=Cr("recharts-sector",g),v=o-s,w=Lo(l,v,0,!0),b;return w>0&&Math.abs(f-m)<360?b=qPe({cx:n,cy:a,innerRadius:s,outerRadius:o,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:u,startAngle:f,endAngle:m}):b=xre({cx:n,cy:a,innerRadius:s,outerRadius:o,startAngle:f,endAngle:m}),fe.createElement("path",n6({},Tr(r,!0),{className:p,d:b,role:"img"}))};function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}function a6(){return a6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},a6.apply(this,arguments)}function lU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lU(Object(r),!0).forEach(function(n){WPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WPe(t,e,r){return e=VPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VPe(t){var e=GPe(t,"string");return _v(e)=="symbol"?e:e+""}function GPe(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU={curveBasisClosed:h3e,curveBasisOpen:m3e,curveBasis:f3e,curveBumpX:QAe,curveBumpY:ZAe,curveLinearClosed:p3e,curveLinear:lS,curveMonotoneX:g3e,curveMonotoneY:x3e,curveNatural:y3e,curveStep:b3e,curveStepAfter:w3e,curveStepBefore:v3e},Zw=function(e){return e.x===+e.x&&e.y===+e.y},Wy=function(e){return e.x},Vy=function(e){return e.y},YPe=function(e,r){if(Yr(e))return e;var n="curve".concat(sS(e));return(n==="curveMonotone"||n==="curveBump")&&r?uU["".concat(n).concat(r==="vertical"?"Y":"X")]:uU[n]||lS},KPe=function(e){var r=e.type,n=r===void 0?"linear":r,a=e.points,s=a===void 0?[]:a,o=e.baseLine,l=e.layout,c=e.connectNulls,u=c===void 0?!1:c,f=YPe(n,l),m=u?s.filter(function(w){return Zw(w)}):s,g;if(Array.isArray(o)){var p=u?o.filter(function(w){return Zw(w)}):o,v=m.map(function(w,b){return cU(cU({},w),{},{base:p[b]})});return l==="vertical"?g=Uw().y(Vy).x1(Wy).x0(function(w){return w.base.x}):g=Uw().x(Wy).y1(Vy).y0(function(w){return w.base.y}),g.defined(Zw).curve(f),g(v)}return l==="vertical"&&Xt(o)?g=Uw().y(Vy).x1(Wy).x0(o):Xt(o)?g=Uw().x(Wy).y1(Vy).y0(o):g=gee().x(Wy).y(Vy),g.defined(Zw).curve(f),g(m)},Np=function(e){var r=e.className,n=e.points,a=e.path,s=e.pathRef;if((!n||!n.length)&&!a)return null;var o=n&&n.length?KPe(e):a;return y.createElement("path",a6({},Tr(e,!1),m5(e),{className:Cr("recharts-curve",r),d:o,ref:s}))},Y4={exports:{}},K4,dU;function JPe(){if(dU)return K4;dU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return K4=t,K4}var J4,fU;function XPe(){if(fU)return J4;fU=1;var t=JPe();function e(){}function r(){}return r.resetWarningCache=e,J4=function(){function n(o,l,c,u,f,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function a(){return n}var s={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:a,element:n,elementType:n,instanceOf:a,node:n,objectOf:a,oneOf:a,oneOfType:a,shape:a,exact:a,checkPropTypes:r,resetWarningCache:e};return s.PropTypes=s,s},J4}var hU;function QPe(){return hU||(hU=1,Y4.exports=XPe()()),Y4.exports}var ZPe=QPe();const ia=Kn(ZPe);var eLe=Object.getOwnPropertyNames,tLe=Object.getOwnPropertySymbols,rLe=Object.prototype.hasOwnProperty;function mU(t,e){return function(n,a,s){return t(n,a,s)&&e(n,a,s)}}function e2(t){return function(r,n,a){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,a);var s=a.cache,o=s.get(r),l=s.get(n);if(o&&l)return o===n&&l===r;s.set(r,n),s.set(n,r);var c=t(r,n,a);return s.delete(r),s.delete(n),c}}function nLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function pU(t){return eLe(t).concat(tLe(t))}var aLe=Object.hasOwn||(function(t,e){return rLe.call(t,e)});function Kp(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var iLe="__v",sLe="__o",oLe="_owner",gU=Object.getOwnPropertyDescriptor,xU=Object.keys;function lLe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function cLe(t,e){return Kp(t.getTime(),e.getTime())}function uLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function dLe(t,e){return t===e}function yU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.entries(),o,l,c=0;(o=s.next())&&!o.done;){for(var u=e.entries(),f=!1,m=0;(l=u.next())&&!l.done;){if(a[m]){m++;continue}var g=o.value,p=l.value;if(r.equals(g[0],p[0],c,m,t,e,r)&&r.equals(g[1],p[1],g[0],p[0],t,e,r)){f=a[m]=!0;break}m++}if(!f)return!1;c++}return!0}var fLe=Kp;function hLe(t,e,r){var n=xU(t),a=n.length;if(xU(e).length!==a)return!1;for(;a-- >0;)if(!bre(t,e,r,n[a]))return!1;return!0}function Gy(t,e,r){var n=pU(t),a=n.length;if(pU(e).length!==a)return!1;for(var s,o,l;a-- >0;)if(s=n[a],!bre(t,e,r,s)||(o=gU(t,s),l=gU(e,s),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function mLe(t,e){return Kp(t.valueOf(),e.valueOf())}function pLe(t,e){return t.source===e.source&&t.flags===e.flags}function bU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var a=new Array(n),s=t.values(),o,l;(o=s.next())&&!o.done;){for(var c=e.values(),u=!1,f=0;(l=c.next())&&!l.done;){if(!a[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){u=a[f]=!0;break}f++}if(!u)return!1}return!0}function gLe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function xLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function bre(t,e,r,n){return(n===oLe||n===sLe||n===iLe)&&(t.$$typeof||e.$$typeof)?!0:aLe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var yLe="[object Arguments]",bLe="[object Boolean]",vLe="[object Date]",wLe="[object Error]",jLe="[object Map]",NLe="[object Number]",SLe="[object Object]",kLe="[object RegExp]",CLe="[object Set]",_Le="[object String]",ALe="[object URL]",TLe=Array.isArray,vU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,wU=Object.assign,MLe=Object.prototype.toString.call.bind(Object.prototype.toString);function OLe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,a=t.areFunctionsEqual,s=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,u=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,p=t.unknownTagComparators;return function(w,b,N){if(w===b)return!0;if(w==null||b==null)return!1;var k=typeof w;if(k!==typeof b)return!1;if(k!=="object")return k==="number"?o(w,b,N):k==="function"?a(w,b,N):!1;var S=w.constructor;if(S!==b.constructor)return!1;if(S===Object)return l(w,b,N);if(TLe(w))return e(w,b,N);if(vU!=null&&vU(w))return m(w,b,N);if(S===Date)return r(w,b,N);if(S===RegExp)return u(w,b,N);if(S===Map)return s(w,b,N);if(S===Set)return f(w,b,N);var A=MLe(w);if(A===vLe)return r(w,b,N);if(A===kLe)return u(w,b,N);if(A===jLe)return s(w,b,N);if(A===CLe)return f(w,b,N);if(A===SLe)return typeof w.then!="function"&&typeof b.then!="function"&&l(w,b,N);if(A===ALe)return g(w,b,N);if(A===wLe)return n(w,b,N);if(A===yLe)return l(w,b,N);if(A===bLe||A===NLe||A===_Le)return c(w,b,N);if(p){var _=p[A];if(!_){var M=nLe(w);M&&(_=p[M])}if(_)return _(w,b,N)}return!1}}function ELe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,a={areArraysEqual:n?Gy:lLe,areDatesEqual:cLe,areErrorsEqual:uLe,areFunctionsEqual:dLe,areMapsEqual:n?mU(yU,Gy):yU,areNumbersEqual:fLe,areObjectsEqual:n?Gy:hLe,arePrimitiveWrappersEqual:mLe,areRegExpsEqual:pLe,areSetsEqual:n?mU(bU,Gy):bU,areTypedArraysEqual:n?Gy:gLe,areUrlsEqual:xLe,unknownTagComparators:void 0};if(r&&(a=wU({},a,r(a))),e){var s=e2(a.areArraysEqual),o=e2(a.areMapsEqual),l=e2(a.areObjectsEqual),c=e2(a.areSetsEqual);a=wU({},a,{areArraysEqual:s,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return a}function DLe(t){return function(e,r,n,a,s,o,l){return t(e,r,l)}}function PLe(t){var e=t.circular,r=t.comparator,n=t.createState,a=t.equals,s=t.strict;if(n)return function(c,u){var f=n(),m=f.cache,g=m===void 0?e?new WeakMap:void 0:m,p=f.meta;return r(c,u,{cache:g,equals:a,meta:p,strict:s})};if(e)return function(c,u){return r(c,u,{cache:new WeakMap,equals:a,meta:void 0,strict:s})};var o={cache:void 0,equals:a,meta:void 0,strict:s};return function(c,u){return r(c,u,o)}}var LLe=xm();xm({strict:!0});xm({circular:!0});xm({circular:!0,strict:!0});xm({createInternalComparator:function(){return Kp}});xm({strict:!0,createInternalComparator:function(){return Kp}});xm({circular:!0,createInternalComparator:function(){return Kp}});xm({circular:!0,createInternalComparator:function(){return Kp},strict:!0});function xm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,a=t.createState,s=t.strict,o=s===void 0?!1:s,l=ELe(t),c=OLe(l),u=n?n(c):DLe(c);return PLe({circular:r,comparator:c,createState:a,equals:u,strict:o})}function RLe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function jU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function a(s){r<0&&(r=s),s-r>e?(t(s),r=-1):RLe(a)};requestAnimationFrame(n)}function i6(t){"@babel/helpers - typeof";return i6=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i6(t)}function ILe(t){return HLe(t)||BLe(t)||$Le(t)||FLe()}function FLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $Le(t,e){if(t){if(typeof t=="string")return NU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NU(t,e)}}function NU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function BLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function HLe(t){if(Array.isArray(t))return t}function zLe(){var t={},e=function(){return null},r=!1,n=function a(s){if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,l=ILe(o),c=l[0],u=l.slice(1);if(typeof c=="number"){jU(a.bind(null,u),c);return}a(c),jU(a.bind(null,u));return}i6(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){r=!0},start:function(s){r=!1,n(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function SU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function kU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SU(Object(r),!0).forEach(function(n){vre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vre(t,e,r){return e=qLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qLe(t){var e=ULe(t,"string");return Av(e)==="symbol"?e:String(e)}function ULe(t,e){if(Av(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WLe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,a){return n.filter(function(s){return a.includes(s)})})},VLe=function(e){return e},GLe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Ab=function(e,r){return Object.keys(r).reduce(function(n,a){return kU(kU({},n),{},vre({},a,e(a,r[a])))},{})},CU=function(e,r,n){return e.map(function(a){return"".concat(GLe(a)," ").concat(r,"ms ").concat(n)}).join(",")};function YLe(t,e){return XLe(t)||JLe(t,e)||wre(t,e)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JLe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XLe(t){if(Array.isArray(t))return t}function QLe(t){return t8e(t)||e8e(t)||wre(t)||ZLe()}function ZLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function wre(t,e){if(t){if(typeof t=="string")return s6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return s6(t,e)}}function e8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function t8e(t){if(Array.isArray(t))return s6(t)}function s6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var z5=1e-4,jre=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},Nre=function(e,r){return e.map(function(n,a){return n*Math.pow(r,a)}).reduce(function(n,a){return n+a})},_U=function(e,r){return function(n){var a=jre(e,r);return Nre(a,n)}},r8e=function(e,r){return function(n){var a=jre(e,r),s=[].concat(QLe(a.map(function(o,l){return o*l}).slice(1)),[0]);return Nre(s,n)}},AU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0],s=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":a=0,s=0,o=1,l=1;break;case"ease":a=.25,s=.1,o=.25,l=1;break;case"ease-in":a=.42,s=0,o=1,l=1;break;case"ease-out":a=.42,s=0,o=.58,l=1;break;case"ease-in-out":a=0,s=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var u=c[1].split(")")[0].split(",").map(function(b){return parseFloat(b)}),f=YLe(u,4);a=f[0],s=f[1],o=f[2],l=f[3]}}}var m=_U(a,o),g=_U(s,l),p=r8e(a,o),v=function(N){return N>1?1:N<0?0:N},w=function(N){for(var k=N>1?1:N,S=k,A=0;A<8;++A){var _=m(S)-k,M=p(S);if(Math.abs(_-k)<z5||M<z5)return g(S);S=v(S-_/M)}return g(S)};return w.isStepper=!1,w},n8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,a=e.damping,s=a===void 0?8:a,o=e.dt,l=o===void 0?17:o,c=function(f,m,g){var p=-(f-m)*n,v=g*s,w=g+(p-v)*l/1e3,b=g*l/1e3+f;return Math.abs(b-m)<z5&&Math.abs(w)<z5?[m,0]:[b,w]};return c.isStepper=!0,c.dt=l,c},a8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var a=r[0];if(typeof a=="string")switch(a){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return AU(a);case"spring":return n8e();default:if(a.split("(")[0]==="cubic-bezier")return AU(a)}return typeof a=="function"?a:null};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function TU(t){return o8e(t)||s8e(t)||Sre(t)||i8e()}function i8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function o8e(t){if(Array.isArray(t))return l6(t)}function MU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Us(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(r),!0).forEach(function(n){o6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o6(t,e,r){return e=l8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l8e(t){var e=c8e(t,"string");return Tv(e)==="symbol"?e:String(e)}function c8e(t,e){if(Tv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u8e(t,e){return h8e(t)||f8e(t,e)||Sre(t,e)||d8e()}function d8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sre(t,e){if(t){if(typeof t=="string")return l6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return l6(t,e)}}function l6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function f8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function h8e(t){if(Array.isArray(t))return t}var q5=function(e,r,n){return e+(r-e)*n},c6=function(e){var r=e.from,n=e.to;return r!==n},m8e=function t(e,r,n){var a=Ab(function(s,o){if(c6(o)){var l=e(o.from,o.to,o.velocity),c=u8e(l,2),u=c[0],f=c[1];return Us(Us({},o),{},{from:u,velocity:f})}return o},r);return n<1?Ab(function(s,o){return c6(o)?Us(Us({},o),{},{velocity:q5(o.velocity,a[s].velocity,n),from:q5(o.from,a[s].from,n)}):o},r):t(e,a,n-1)};const p8e=(function(t,e,r,n,a){var s=WLe(t,e),o=s.reduce(function(b,N){return Us(Us({},b),{},o6({},N,[t[N],e[N]]))},{}),l=s.reduce(function(b,N){return Us(Us({},b),{},o6({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,u,f,m=function(){return null},g=function(){return Ab(function(N,k){return k.from},l)},p=function(){return!Object.values(l).filter(c6).length},v=function(N){u||(u=N);var k=N-u,S=k/r.dt;l=m8e(r,l,S),a(Us(Us(Us({},t),e),g())),u=N,p()||(c=requestAnimationFrame(m))},w=function(N){f||(f=N);var k=(N-f)/n,S=Ab(function(_,M){return q5.apply(void 0,TU(M).concat([r(k)]))},o);if(a(Us(Us(Us({},t),e),S)),k<1)c=requestAnimationFrame(m);else{var A=Ab(function(_,M){return q5.apply(void 0,TU(M).concat([r(1)]))},o);a(Us(Us(Us({},t),e),A))}};return m=r.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}var g8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function x8e(t,e){if(t==null)return{};var r=y8e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function y8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),a,s;for(s=0;s<n.length;s++)a=n[s],!(e.indexOf(a)>=0)&&(r[a]=t[a]);return r}function X4(t){return j8e(t)||w8e(t)||v8e(t)||b8e()}function b8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function v8e(t,e){if(t){if(typeof t=="string")return u6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u6(t,e)}}function w8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function j8e(t){if(Array.isArray(t))return u6(t)}function u6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){cb(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cb(t,e,r){return e=kre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function N8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function S8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kre(n.key),n)}}function k8e(t,e,r){return e&&S8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function kre(t){var e=C8e(t,"string");return ax(e)==="symbol"?e:String(e)}function C8e(t,e){if(ax(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&d6(t,e)}function d6(t,e){return d6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},d6(t,e)}function A8e(t){var e=T8e();return function(){var n=U5(t),a;if(e){var s=U5(this).constructor;a=Reflect.construct(n,arguments,s)}else a=n.apply(this,arguments);return f6(this,a)}}function f6(t,e){if(e&&(ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return h6(t)}function h6(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function T8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function U5(t){return U5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},U5(t)}var du=(function(t){_8e(r,t);var e=A8e(r);function r(n,a){var s;N8e(this,r),s=e.call(this,n,a);var o=s.props,l=o.isActive,c=o.attributeName,u=o.from,f=o.to,m=o.steps,g=o.children,p=o.duration;if(s.handleStyleChange=s.handleStyleChange.bind(h6(s)),s.changeStyle=s.changeStyle.bind(h6(s)),!l||p<=0)return s.state={style:{}},typeof g=="function"&&(s.state={style:f}),f6(s);if(m&&m.length)s.state={style:m[0].style};else if(u){if(typeof g=="function")return s.state={style:u},f6(s);s.state={style:c?cb({},c,u):u}}else s.state={style:{}};return s}return k8e(r,[{key:"componentDidMount",value:function(){var a=this.props,s=a.isActive,o=a.canBegin;this.mounted=!0,!(!s||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(a){var s=this.props,o=s.isActive,l=s.canBegin,c=s.attributeName,u=s.shouldReAnimate,f=s.to,m=s.from,g=this.state.style;if(l){if(!o){var p={style:c?cb({},c,f):f};this.state&&g&&(c&&g[c]!==f||!c&&g!==f)&&this.setState(p);return}if(!(LLe(a.to,f)&&a.canBegin&&a.isActive)){var v=!a.canBegin||!a.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||u?m:a.to;if(this.state&&g){var b={style:c?cb({},c,w):w};(c&&g[c]!==w||!c&&g!==w)&&this.setState(b)}this.runAnimation(Gc(Gc({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var a=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),a&&a()}},{key:"handleStyleChange",value:function(a){this.changeStyle(a)}},{key:"changeStyle",value:function(a){this.mounted&&this.setState({style:a})}},{key:"runJSAnimation",value:function(a){var s=this,o=a.from,l=a.to,c=a.duration,u=a.easing,f=a.begin,m=a.onAnimationEnd,g=a.onAnimationStart,p=p8e(o,l,a8e(u),c,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([g,f,v,c,m])}},{key:"runStepAnimation",value:function(a){var s=this,o=a.steps,l=a.begin,c=a.onAnimationStart,u=o[0],f=u.style,m=u.duration,g=m===void 0?0:m,p=function(w,b,N){if(N===0)return w;var k=b.duration,S=b.easing,A=S===void 0?"ease":S,_=b.style,M=b.properties,R=b.onAnimationEnd,L=N>0?o[N-1]:b,I=M||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(X4(w),[s.runJSAnimation.bind(s,{from:L.style,to:_,duration:k,easing:A}),k]);var B=CU(I,k,A),D=Gc(Gc(Gc({},L.style),_),{},{transition:B});return[].concat(X4(w),[D,k,R]).filter(VLe)};return this.manager.start([c].concat(X4(o.reduce(p,[f,Math.max(g,l)])),[a.onAnimationEnd]))}},{key:"runAnimation",value:function(a){this.manager||(this.manager=zLe());var s=a.begin,o=a.duration,l=a.attributeName,c=a.to,u=a.easing,f=a.onAnimationStart,m=a.onAnimationEnd,g=a.steps,p=a.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof u=="function"||typeof p=="function"||u==="spring"){this.runJSAnimation(a);return}if(g.length>1){this.runStepAnimation(a);return}var w=l?cb({},l,c):c,b=CU(Object.keys(w),o,u);v.start([f,s,Gc(Gc({},w),{},{transition:b}),o,m])}},{key:"render",value:function(){var a=this.props,s=a.children;a.begin;var o=a.duration;a.attributeName,a.easing;var l=a.isActive;a.steps,a.from,a.to,a.canBegin,a.onAnimationEnd,a.shouldReAnimate,a.onAnimationReStart;var c=x8e(a,g8e),u=y.Children.count(s),f=this.state.style;if(typeof s=="function")return s(f);if(!l||u===0||o<=0)return s;var m=function(p){var v=p.props,w=v.style,b=w===void 0?{}:w,N=v.className,k=y.cloneElement(p,Gc(Gc({},c),{},{style:Gc(Gc({},b),f),className:N}));return k};return u===1?m(y.Children.only(s)):fe.createElement("div",null,y.Children.map(s,function(g){return m(g)}))}}]),r})(y.PureComponent);du.displayName="Animate";du.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};du.propTypes={from:ia.oneOfType([ia.object,ia.string]),to:ia.oneOfType([ia.object,ia.string]),attributeName:ia.string,duration:ia.number,begin:ia.number,easing:ia.oneOfType([ia.string,ia.func]),steps:ia.arrayOf(ia.shape({duration:ia.number.isRequired,style:ia.object.isRequired,easing:ia.oneOfType([ia.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),ia.func]),properties:ia.arrayOf("string"),onAnimationEnd:ia.func})),children:ia.oneOfType([ia.node,ia.func]),isActive:ia.bool,canBegin:ia.bool,onAnimationEnd:ia.func,shouldReAnimate:ia.bool,onAnimationStart:ia.func,onAnimationReStart:ia.func};function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function W5(){return W5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},W5.apply(this,arguments)}function M8e(t,e){return P8e(t)||D8e(t,e)||E8e(t,e)||O8e()}function O8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function E8e(t,e){if(t){if(typeof t=="string")return EU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return EU(t,e)}}function EU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function D8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function P8e(t){if(Array.isArray(t))return t}function DU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function PU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DU(Object(r),!0).forEach(function(n){L8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L8e(t,e,r){return e=R8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R8e(t){var e=I8e(t,"string");return Mv(e)=="symbol"?e:e+""}function I8e(t,e){if(Mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var LU=function(e,r,n,a,s){var o=Math.min(Math.abs(n)/2,Math.abs(a)/2),l=a>=0?1:-1,c=n>=0?1:-1,u=a>=0&&n>=0||a<0&&n<0?1:0,f;if(o>0&&s instanceof Array){for(var m=[0,0,0,0],g=0,p=4;g<p;g++)m[g]=s[g]>o?o:s[g];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(u,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(u,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+a-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(u,`,
        `).concat(e+n-c*m[2],",").concat(r+a)),f+="L ".concat(e+c*m[3],",").concat(r+a),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(u,`,
        `).concat(e,",").concat(r+a-l*m[3])),f+="Z"}else if(o>0&&s===+s&&s>0){var v=Math.min(o,s);f="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+a-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e+n-c*v,",").concat(r+a,`
            L `).concat(e+c*v,",").concat(r+a,`
            A `).concat(v,",").concat(v,",0,0,").concat(u,",").concat(e,",").concat(r+a-l*v," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(a," h ").concat(-n," Z");return f},F8e=function(e,r){if(!e||!r)return!1;var n=e.x,a=e.y,s=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var u=Math.min(s,s+l),f=Math.max(s,s+l),m=Math.min(o,o+c),g=Math.max(o,o+c);return n>=u&&n<=f&&a>=m&&a<=g}return!1},$8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},UP=function(e){var r=PU(PU({},$8e),e),n=y.useRef(),a=y.useState(-1),s=M8e(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,u=r.y,f=r.width,m=r.height,g=r.radius,p=r.className,v=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||f===0||m===0)return null;var S=Cr("recharts-rectangle",p);return k?fe.createElement(du,{canBegin:o>0,from:{width:f,height:m,x:c,y:u},to:{width:f,height:m,x:c,y:u},duration:w,animationEasing:v,isActive:k},function(A){var _=A.width,M=A.height,R=A.x,L=A.y;return fe.createElement(du,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,isActive:N,easing:v},fe.createElement("path",W5({},Tr(r,!0),{className:S,d:LU(R,L,_,M,g),ref:n})))}):fe.createElement("path",W5({},Tr(r,!0),{className:S,d:LU(c,u,f,m,g)}))},B8e=["points","className","baseLinePoints","connectNulls"];function cg(){return cg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cg.apply(this,arguments)}function H8e(t,e){if(t==null)return{};var r=z8e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z8e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function RU(t){return V8e(t)||W8e(t)||U8e(t)||q8e()}function q8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U8e(t,e){if(t){if(typeof t=="string")return m6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return m6(t,e)}}function W8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V8e(t){if(Array.isArray(t))return m6(t)}function m6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var IU=function(e){return e&&e.x===+e.x&&e.y===+e.y},G8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){IU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),IU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Tb=function(e,r){var n=G8e(e);r&&(n=[n.reduce(function(s,o){return[].concat(RU(s),RU(o))},[])]);var a=n.map(function(s){return s.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(a,"Z"):a},Y8e=function(e,r,n){var a=Tb(e,n);return"".concat(a.slice(-1)==="Z"?a.slice(0,-1):a,"L").concat(Tb(r.reverse(),n).slice(1))},K8e=function(e){var r=e.points,n=e.className,a=e.baseLinePoints,s=e.connectNulls,o=H8e(e,B8e);if(!r||!r.length)return null;var l=Cr("recharts-polygon",n);if(a&&a.length){var c=o.stroke&&o.stroke!=="none",u=Y8e(r,a,s);return fe.createElement("g",{className:l},fe.createElement("path",cg({},Tr(o,!0),{fill:u.slice(-1)==="Z"?o.fill:"none",stroke:"none",d:u})),c?fe.createElement("path",cg({},Tr(o,!0),{fill:"none",d:Tb(r,s)})):null,c?fe.createElement("path",cg({},Tr(o,!0),{fill:"none",d:Tb(a,s)})):null)}var f=Tb(r,s);return fe.createElement("path",cg({},Tr(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function p6(){return p6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},p6.apply(this,arguments)}var p1=function(e){var r=e.cx,n=e.cy,a=e.r,s=e.className,o=Cr("recharts-dot",s);return r===+r&&n===+n&&a===+a?y.createElement("circle",p6({},Tr(e,!1),m5(e),{className:o,cx:r,cy:n,r:a})):null};function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}var J8e=["x","y","top","left","width","height","className"];function g6(){return g6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},g6.apply(this,arguments)}function FU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function X8e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FU(Object(r),!0).forEach(function(n){Q8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q8e(t,e,r){return e=Z8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z8e(t){var e=e7e(t,"string");return Ov(e)=="symbol"?e:e+""}function e7e(t,e){if(Ov(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t7e(t,e){if(t==null)return{};var r=r7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function r7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var n7e=function(e,r,n,a,s,o){return"M".concat(e,",").concat(s,"v").concat(a,"M").concat(o,",").concat(r,"h").concat(n)},a7e=function(e){var r=e.x,n=r===void 0?0:r,a=e.y,s=a===void 0?0:a,o=e.top,l=o===void 0?0:o,c=e.left,u=c===void 0?0:c,f=e.width,m=f===void 0?0:f,g=e.height,p=g===void 0?0:g,v=e.className,w=t7e(e,J8e),b=X8e({x:n,y:s,top:l,left:u,width:m,height:p},w);return!Xt(n)||!Xt(s)||!Xt(m)||!Xt(p)||!Xt(l)||!Xt(u)?null:fe.createElement("path",g6({},Tr(b,!0),{className:Cr("recharts-cross",v),d:n7e(n,s,m,p,l,u)}))},Q4,$U;function i7e(){if($U)return Q4;$U=1;var t=bS(),e=Bte(),r=xd();function n(a,s){return a&&a.length?t(a,r(s,2),e):void 0}return Q4=n,Q4}var s7e=i7e();const o7e=Kn(s7e);var Z4,BU;function l7e(){if(BU)return Z4;BU=1;var t=bS(),e=xd(),r=Hte();function n(a,s){return a&&a.length?t(a,e(s,2),r):void 0}return Z4=n,Z4}var c7e=l7e();const u7e=Kn(c7e);var d7e=["cx","cy","angle","ticks","axisLine"],f7e=["ticks","tick","angle","tickFormatter","stroke"];function ix(t){"@babel/helpers - typeof";return ix=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ix(t)}function Mb(){return Mb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mb.apply(this,arguments)}function HU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Hm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HU(Object(r),!0).forEach(function(n){NS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zU(t,e){if(t==null)return{};var r=h7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function h7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function m7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_re(n.key),n)}}function p7e(t,e,r){return e&&qU(t.prototype,e),r&&qU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function g7e(t,e,r){return e=V5(e),x7e(t,Cre()?Reflect.construct(e,r||[],V5(t).constructor):e.apply(t,r))}function x7e(t,e){if(e&&(ix(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return y7e(t)}function y7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Cre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cre=function(){return!!t})()}function V5(t){return V5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},V5(t)}function b7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x6(t,e)}function x6(t,e){return x6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},x6(t,e)}function NS(t,e,r){return e=_re(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _re(t){var e=v7e(t,"string");return ix(e)=="symbol"?e:e+""}function v7e(t,e){if(ix(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ix(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var SS=(function(t){function e(){return m7e(this,e),g7e(this,e,arguments)}return b7e(e,t),p7e(e,[{key:"getTickValueCoord",value:function(n){var a=n.coordinate,s=this.props,o=s.angle,l=s.cx,c=s.cy;return La(l,c,a,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,a;switch(n){case"left":a="end";break;case"right":a="start";break;default:a="middle";break}return a}},{key:"getViewBox",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=o7e(l,function(f){return f.coordinate||0}),u=u7e(l,function(f){return f.coordinate||0});return{cx:a,cy:s,startAngle:o,endAngle:o,innerRadius:u.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,u=zU(n,d7e),f=l.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=La(a,s,f[0],o),g=La(a,s,f[1],o),p=Hm(Hm(Hm({},Tr(u,!1)),{},{fill:"none"},Tr(c,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return fe.createElement("line",Mb({className:"recharts-polar-radius-axis-line"},p))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.angle,c=a.tickFormatter,u=a.stroke,f=zU(a,f7e),m=this.getTickTextAnchor(),g=Tr(f,!1),p=Tr(o,!1),v=s.map(function(w,b){var N=n.getTickValueCoord(w),k=Hm(Hm(Hm(Hm({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:u},p),{},{index:b},N),{},{payload:w});return fe.createElement(_n,Mb({className:Cr("recharts-polar-radius-axis-tick",pre(o)),key:"tick-".concat(w.coordinate)},Pp(n.props,w,b)),e.renderTickItem(o,k,c?c(w.value,b):w.value))});return fe.createElement(_n,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.axisLine,o=n.tick;return!a||!a.length?null:fe.createElement(_n,{className:Cr("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),o&&this.renderTicks(),Ds.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,a,s){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):Yr(n)?o=n(a):o=fe.createElement(Rp,Mb({},a,{className:"recharts-polar-radius-axis-tick-value"}),s),o}}])})(y.PureComponent);NS(SS,"displayName","PolarRadiusAxis");NS(SS,"axisType","radiusAxis");NS(SS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function sx(t){"@babel/helpers - typeof";return sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sx(t)}function Jm(){return Jm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jm.apply(this,arguments)}function UU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function zm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UU(Object(r),!0).forEach(function(n){kS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tre(n.key),n)}}function j7e(t,e,r){return e&&WU(t.prototype,e),r&&WU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function N7e(t,e,r){return e=G5(e),S7e(t,Are()?Reflect.construct(e,r||[],G5(t).constructor):e.apply(t,r))}function S7e(t,e){if(e&&(sx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return k7e(t)}function k7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Are(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Are=function(){return!!t})()}function G5(t){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(t)}function C7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&y6(t,e)}function y6(t,e){return y6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},y6(t,e)}function kS(t,e,r){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Tre(t){var e=_7e(t,"string");return sx(e)=="symbol"?e:e+""}function _7e(t,e){if(sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var A7e=Math.PI/180,VU=1e-5,CS=(function(t){function e(){return w7e(this,e),N7e(this,e,arguments)}return C7e(e,t),j7e(e,[{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.cx,o=a.cy,l=a.radius,c=a.orientation,u=a.tickSize,f=u||8,m=La(s,o,l,n.coordinate),g=La(s,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var a=this.props.orientation,s=Math.cos(-n.coordinate*A7e),o;return s>VU?o=a==="outer"?"start":"end":s<-VU?o=a==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.cx,s=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,u=zm(zm({},Tr(this.props,!1)),{},{fill:"none"},Tr(l,!1));if(c==="circle")return fe.createElement(p1,Jm({className:"recharts-polar-angle-axis-line"},u,{cx:a,cy:s,r:o}));var f=this.props.ticks,m=f.map(function(g){return La(a,s,o,g.coordinate)});return fe.createElement(K8e,Jm({className:"recharts-polar-angle-axis-line"},u,{points:m}))}},{key:"renderTicks",value:function(){var n=this,a=this.props,s=a.ticks,o=a.tick,l=a.tickLine,c=a.tickFormatter,u=a.stroke,f=Tr(this.props,!1),m=Tr(o,!1),g=zm(zm({},f),{},{fill:"none"},Tr(l,!1)),p=s.map(function(v,w){var b=n.getTickLineCoord(v),N=n.getTickTextAnchor(v),k=zm(zm(zm({textAnchor:N},f),{},{stroke:"none",fill:u},m),{},{index:w,payload:v,x:b.x2,y:b.y2});return fe.createElement(_n,Jm({className:Cr("recharts-polar-angle-axis-tick",pre(o)),key:"tick-".concat(v.coordinate)},Pp(n.props,v,w)),l&&fe.createElement("line",Jm({className:"recharts-polar-angle-axis-tick-line"},g,b)),o&&e.renderTickItem(o,k,c?c(v.value,w):v.value))});return fe.createElement(_n,{className:"recharts-polar-angle-axis-ticks"},p)}},{key:"render",value:function(){var n=this.props,a=n.ticks,s=n.radius,o=n.axisLine;return s<=0||!a||!a.length?null:fe.createElement(_n,{className:Cr("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,a,s){var o;return fe.isValidElement(n)?o=fe.cloneElement(n,a):Yr(n)?o=n(a):o=fe.createElement(Rp,Jm({},a,{className:"recharts-polar-angle-axis-tick-value"}),s),o}}])})(y.PureComponent);kS(CS,"displayName","PolarAngleAxis");kS(CS,"axisType","angleAxis");kS(CS,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var eT,GU;function T7e(){if(GU)return eT;GU=1;var t=$ee(),e=t(Object.getPrototypeOf,Object);return eT=e,eT}var tT,YU;function M7e(){if(YU)return tT;YU=1;var t=zf(),e=T7e(),r=qf(),n="[object Object]",a=Function.prototype,s=Object.prototype,o=a.toString,l=s.hasOwnProperty,c=o.call(Object);function u(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return tT=u,tT}var O7e=M7e();const E7e=Kn(O7e);var rT,KU;function D7e(){if(KU)return rT;KU=1;var t=zf(),e=qf(),r="[object Boolean]";function n(a){return a===!0||a===!1||e(a)&&t(a)==r}return rT=n,rT}var P7e=D7e();const L7e=Kn(P7e);function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function Y5(){return Y5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y5.apply(this,arguments)}function R7e(t,e){return B7e(t)||$7e(t,e)||F7e(t,e)||I7e()}function I7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F7e(t,e){if(t){if(typeof t=="string")return JU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JU(t,e)}}function JU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function $7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function B7e(t){if(Array.isArray(t))return t}function XU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XU(Object(r),!0).forEach(function(n){H7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function H7e(t,e,r){return e=z7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function z7e(t){var e=q7e(t,"string");return Ev(e)=="symbol"?e:e+""}function q7e(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZU=function(e,r,n,a,s){var o=n-a,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+s),l+="L ".concat(e+n-o/2-a,",").concat(r+s),l+="L ".concat(e,",").concat(r," Z"),l},U7e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},W7e=function(e){var r=QU(QU({},U7e),e),n=y.useRef(),a=y.useState(-1),s=R7e(a,2),o=s[0],l=s[1];y.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,u=r.y,f=r.upperWidth,m=r.lowerWidth,g=r.height,p=r.className,v=r.animationEasing,w=r.animationDuration,b=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||u!==+u||f!==+f||m!==+m||g!==+g||f===0&&m===0||g===0)return null;var k=Cr("recharts-trapezoid",p);return N?fe.createElement(du,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:u},to:{upperWidth:f,lowerWidth:m,height:g,x:c,y:u},duration:w,animationEasing:v,isActive:N},function(S){var A=S.upperWidth,_=S.lowerWidth,M=S.height,R=S.x,L=S.y;return fe.createElement(du,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:b,duration:w,easing:v},fe.createElement("path",Y5({},Tr(r,!0),{className:k,d:ZU(R,L,A,_,M),ref:n})))}):fe.createElement("g",null,fe.createElement("path",Y5({},Tr(r,!0),{className:k,d:ZU(c,u,f,m,g)})))},V7e=["option","shapeType","propTransformer","activeClassName","isActive"];function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}function G7e(t,e){if(t==null)return{};var r=Y7e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Y7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function K5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(r),!0).forEach(function(n){K7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K7e(t,e,r){return e=J7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J7e(t){var e=X7e(t,"string");return Dv(e)=="symbol"?e:e+""}function X7e(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Q7e(t,e){return K5(K5({},e),t)}function Z7e(t,e){return t==="symbols"}function tW(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return fe.createElement(UP,r);case"trapezoid":return fe.createElement(W7e,r);case"sector":return fe.createElement(yre,r);case"symbols":if(Z7e(e))return fe.createElement(cP,r);break;default:return null}}function eRe(t){return y.isValidElement(t)?t.props:t}function Mre(t){var e=t.option,r=t.shapeType,n=t.propTransformer,a=n===void 0?Q7e:n,s=t.activeClassName,o=s===void 0?"recharts-active-shape":s,l=t.isActive,c=G7e(t,V7e),u;if(y.isValidElement(e))u=y.cloneElement(e,K5(K5({},c),eRe(e)));else if(Yr(e))u=e(c);else if(E7e(e)&&!L7e(e)){var f=a(e,c);u=fe.createElement(tW,{shapeType:r,elementProps:f})}else{var m=c;u=fe.createElement(tW,{shapeType:r,elementProps:m})}return l?fe.createElement(_n,{className:o},u):u}function _S(t,e){return e!=null&&"trapezoids"in t.props}function AS(t,e){return e!=null&&"sectors"in t.props}function Pv(t,e){return e!=null&&"points"in t.props}function tRe(t,e){var r,n,a=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,s=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return a&&s}function rRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function nRe(t,e){var r=t.x===e.x,n=t.y===e.y,a=t.z===e.z;return r&&n&&a}function aRe(t,e){var r;return _S(t,e)?r=tRe:AS(t,e)?r=rRe:Pv(t,e)&&(r=nRe),r}function iRe(t,e){var r;return _S(t,e)?r="trapezoids":AS(t,e)?r="sectors":Pv(t,e)&&(r="points"),r}function sRe(t,e){if(_S(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(AS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Pv(t,e)?e.payload:{}}function oRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,a=iRe(r,e),s=sRe(r,e),o=n.filter(function(c,u){var f=Ip(s,c),m=r.props[a].filter(function(v){var w=aRe(r,e);return w(v,e)}),g=r.props[a].indexOf(m[m.length-1]),p=u===g;return f&&p}),l=n.indexOf(o[o.length-1]);return l}var z2;function ox(t){"@babel/helpers - typeof";return ox=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ox(t)}function ug(){return ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ug.apply(this,arguments)}function rW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Da(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rW(Object(r),!0).forEach(function(n){dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ere(n.key),n)}}function cRe(t,e,r){return e&&nW(t.prototype,e),r&&nW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function uRe(t,e,r){return e=J5(e),dRe(t,Ore()?Reflect.construct(e,r||[],J5(t).constructor):e.apply(t,r))}function dRe(t,e){if(e&&(ox(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fRe(t)}function fRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ore(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ore=function(){return!!t})()}function J5(t){return J5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},J5(t)}function hRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&b6(t,e)}function b6(t,e){return b6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},b6(t,e)}function dc(t,e,r){return e=Ere(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ere(t){var e=mRe(t,"string");return ox(e)=="symbol"?e:e+""}function mRe(t,e){if(ox(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ox(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var pu=(function(t){function e(r){var n;return lRe(this,e),n=uRe(this,e,[r]),dc(n,"pieRef",null),dc(n,"sectorRefs",[]),dc(n,"id",Vp("recharts-pie-")),dc(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Yr(a)&&a()}),dc(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Yr(a)&&a()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return hRe(e,t),cRe(e,[{key:"isActiveIndex",value:function(n){var a=this.props.activeIndex;return Array.isArray(a)?a.indexOf(n)!==-1:n===a}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.label,l=s.labelLine,c=s.dataKey,u=s.valueKey,f=Tr(this.props,!1),m=Tr(o,!1),g=Tr(l,!1),p=o&&o.offsetRadius||20,v=n.map(function(w,b){var N=(w.startAngle+w.endAngle)/2,k=La(w.cx,w.cy,w.outerRadius+p,N),S=Da(Da(Da(Da({},f),w),{},{stroke:"none"},m),{},{index:b,textAnchor:e.getTextAnchor(k.x,w.cx)},k),A=Da(Da(Da(Da({},f),w),{},{fill:"none",stroke:w.fill},g),{},{index:b,points:[La(w.cx,w.cy,w.outerRadius,N),k]}),_=c;return nn(c)&&nn(u)?_="value":nn(c)&&(_=u),fe.createElement(_n,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(b)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,S,Bi(w,_)))});return fe.createElement(_n,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var a=this,s=this.props,o=s.activeShape,l=s.blendStroke,c=s.inactiveShape;return n.map(function(u,f){if((u==null?void 0:u.startAngle)===0&&(u==null?void 0:u.endAngle)===0&&n.length!==1)return null;var m=a.isActiveIndex(f),g=c&&a.hasActiveIndex()?c:null,p=m?o:g,v=Da(Da({},u),{},{stroke:l?u.fill:u.stroke,tabIndex:-1});return fe.createElement(_n,ug({ref:function(b){b&&!a.sectorRefs.includes(b)&&a.sectorRefs.push(b)},tabIndex:-1,className:"recharts-pie-sector"},Pp(a.props,u,f),{key:"sector-".concat(u==null?void 0:u.startAngle,"-").concat(u==null?void 0:u.endAngle,"-").concat(u.midAngle,"-").concat(f)}),fe.createElement(Mre,ug({option:p,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,a=this.props,s=a.sectors,o=a.isAnimationActive,l=a.animationBegin,c=a.animationDuration,u=a.animationEasing,f=a.animationId,m=this.state,g=m.prevSectors,p=m.prevIsAnimationActive;return fe.createElement(du,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(p),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,b=[],N=s&&s[0],k=N.startAngle;return s.forEach(function(S,A){var _=g&&g[A],M=A>0?El(S,"paddingAngle",0):0;if(_){var R=vs(_.endAngle-_.startAngle,S.endAngle-S.startAngle),L=Da(Da({},S),{},{startAngle:k+M,endAngle:k+R(w)+M});b.push(L),k=L.endAngle}else{var I=S.endAngle,B=S.startAngle,D=vs(0,I-B),E=D(w),H=Da(Da({},S),{},{startAngle:k+M,endAngle:k+E+M});b.push(H),k=H.endAngle}}),fe.createElement(_n,null,n.renderSectorsStatically(b))})}},{key:"attachKeyboardHandlers",value:function(n){var a=this;n.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var o=++a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[o].focus(),a.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--a.state.sectorToFocus<0?a.sectorRefs.length-1:a.state.sectorToFocus%a.sectorRefs.length;a.sectorRefs[l].focus(),a.setState({sectorToFocus:l});break}case"Escape":{a.sectorRefs[a.state.sectorToFocus].blur(),a.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,a=n.sectors,s=n.isAnimationActive,o=this.state.prevSectors;return s&&a&&a.length&&(!o||!Ip(o,a))?this.renderSectorsWithAnimation():this.renderSectorsStatically(a)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,a=this.props,s=a.hide,o=a.sectors,l=a.className,c=a.label,u=a.cx,f=a.cy,m=a.innerRadius,g=a.outerRadius,p=a.isAnimationActive,v=this.state.isAnimationFinished;if(s||!o||!o.length||!Xt(u)||!Xt(f)||!Xt(m)||!Xt(g))return null;var w=Cr("recharts-pie",l);return fe.createElement(_n,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Ds.renderCallByParent(this.props,null,!1),(!p||v)&&id.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return a.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:a.curSectors,isAnimationFinished:!0}:n.sectors!==a.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,a){return n>a?"start":n<a?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,a,s){if(fe.isValidElement(n))return fe.cloneElement(n,a);if(Yr(n))return n(a);var o=Cr("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return fe.createElement(Np,ug({},a,{key:s,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,a,s){if(fe.isValidElement(n))return fe.cloneElement(n,a);var o=s;if(Yr(n)&&(o=n(a),fe.isValidElement(o)))return o;var l=Cr("recharts-pie-label-text",typeof n!="boolean"&&!Yr(n)?n.className:"");return fe.createElement(Rp,ug({},a,{alignmentBaseline:"middle",className:l}),o)}}])})(y.PureComponent);z2=pu;dc(pu,"displayName","Pie");dc(pu,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!mm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dc(pu,"parseDeltaAngle",function(t,e){var r=Po(e-t),n=Math.min(Math.abs(e-t),360);return r*n});dc(pu,"getRealPieData",function(t){var e=t.data,r=t.children,n=Tr(t,!1),a=Dl(r,Lp);return e&&e.length?e.map(function(s,o){return Da(Da(Da({payload:s},n),s),a&&a[o]&&a[o].props)}):a&&a.length?a.map(function(s){return Da(Da({},n),s.props)}):[]});dc(pu,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,a=e.width,s=e.height,o=mre(a,s),l=n+Lo(t.cx,a,a/2),c=r+Lo(t.cy,s,s/2),u=Lo(t.innerRadius,o,0),f=Lo(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:l,cy:c,innerRadius:u,outerRadius:f,maxRadius:m}});dc(pu,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Da(Da({},e.type.defaultProps),e.props):e.props,a=z2.getRealPieData(n);if(!a||!a.length)return null;var s=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,u=n.dataKey,f=n.nameKey,m=n.valueKey,g=n.tooltipType,p=Math.abs(n.minAngle),v=z2.parseCoordinateOfPie(n,r),w=z2.parseDeltaAngle(o,l),b=Math.abs(w),N=u;nn(u)&&nn(m)?(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):nn(u)&&(ou(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var k=a.filter(function(L){return Bi(L,N,0)!==0}).length,S=(b>=360?k:k-1)*c,A=b-k*p-S,_=a.reduce(function(L,I){var B=Bi(I,N,0);return L+(Xt(B)?B:0)},0),M;if(_>0){var R;M=a.map(function(L,I){var B=Bi(L,N,0),D=Bi(L,f,I),E=(Xt(B)?B:0)/_,H;I?H=R.endAngle+Po(w)*c*(B!==0?1:0):H=o;var V=H+Po(w)*((B!==0?p:0)+E*A),Y=(H+V)/2,W=(v.innerRadius+v.outerRadius)/2,F=[{name:D,value:B,payload:L,dataKey:N,type:g}],z=La(v.cx,v.cy,W,Y);return R=Da(Da(Da({percent:E,cornerRadius:s,name:D,tooltipPayload:F,midAngle:Y,middleRadius:W,tooltipPosition:z},L),v),{},{value:Bi(L,N),startAngle:H,endAngle:V,payload:L,paddingAngle:Po(w)*c}),R})}return Da(Da({},v),{},{sectors:M,data:a})});var nT,aW;function pRe(){if(aW)return nT;aW=1;var t=Math.ceil,e=Math.max;function r(n,a,s,o){for(var l=-1,c=e(t((a-n)/(s||1)),0),u=Array(c);c--;)u[o?c:++l]=n,n+=s;return u}return nT=r,nT}var aT,iW;function Dre(){if(iW)return aT;iW=1;var t=tte(),e=1/0,r=17976931348623157e292;function n(a){if(!a)return a===0?a:0;if(a=t(a),a===e||a===-e){var s=a<0?-1:1;return s*r}return a===a?a:0}return aT=n,aT}var iT,sW;function gRe(){if(sW)return iT;sW=1;var t=pRe(),e=fS(),r=Dre();function n(a){return function(s,o,l){return l&&typeof l!="number"&&e(s,o,l)&&(o=l=void 0),s=r(s),o===void 0?(o=s,s=0):o=r(o),l=l===void 0?s<o?1:-1:r(l),t(s,o,l,a)}}return iT=n,iT}var sT,oW;function xRe(){if(oW)return sT;oW=1;var t=gRe(),e=t();return sT=e,sT}var yRe=xRe();const X5=Kn(yRe);function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function lW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function cW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(r),!0).forEach(function(n){Pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pre(t,e,r){return e=bRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bRe(t){var e=vRe(t,"string");return Lv(e)=="symbol"?e:e+""}function vRe(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wRe=["Webkit","Moz","O","ms"],jRe=function(e,r){var n=e.replace(/(\w)/,function(s){return s.toUpperCase()}),a=wRe.reduce(function(s,o){return cW(cW({},s),{},Pre({},o+n,r))},{});return a[e]=r,a};function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function Q5(){return Q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q5.apply(this,arguments)}function uW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function oT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(r),!0).forEach(function(n){Nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function NRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function SRe(t,e,r){return e&&dW(t.prototype,e),r&&dW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kRe(t,e,r){return e=Z5(e),CRe(t,Lre()?Reflect.construct(e,r||[],Z5(t).constructor):e.apply(t,r))}function CRe(t,e){if(e&&(lx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _Re(t)}function _Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lre=function(){return!!t})()}function Z5(t){return Z5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Z5(t)}function ARe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&v6(t,e)}function v6(t,e){return v6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},v6(t,e)}function Nl(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=TRe(t,"string");return lx(e)=="symbol"?e:e+""}function TRe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var MRe=function(e){var r=e.data,n=e.startIndex,a=e.endIndex,s=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,u=Cb().domain(X5(0,c)).range([s,s+o-l]),f=u.domain().map(function(m){return u(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:u(n),endX:u(a),scale:u,scaleValues:f}},fW=function(e){return e.changedTouches&&!!e.changedTouches.length},cx=(function(t){function e(r){var n;return NRe(this,e),n=kRe(this,e,[r]),Nl(n,"handleDrag",function(a){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(a):n.state.isSlideMoving&&n.handleSlideDrag(a)}),Nl(n,"handleTouchMove",function(a){a.changedTouches!=null&&a.changedTouches.length>0&&n.handleDrag(a.changedTouches[0])}),Nl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var a=n.props,s=a.endIndex,o=a.onDragEnd,l=a.startIndex;o==null||o({endIndex:s,startIndex:l})}),n.detachDragEndListener()}),Nl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nl(n,"handleSlideDragStart",function(a){var s=fW(a)?a.changedTouches[0]:a;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return ARe(e,t),SRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var a=n.startX,s=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,u=l.data,f=u.length-1,m=Math.min(a,s),g=Math.max(a,s),p=e.getIndexInRange(o,m),v=e.getIndexInRange(o,g);return{startIndex:p-p%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var a=this.props,s=a.data,o=a.tickFormatter,l=a.dataKey,c=Bi(s[n],l,n);return Yr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var a=this.state,s=a.slideMoveStartX,o=a.startX,l=a.endX,c=this.props,u=c.x,f=c.width,m=c.travellerWidth,g=c.startIndex,p=c.endIndex,v=c.onChange,w=n.pageX-s;w>0?w=Math.min(w,u+f-m-l,u+f-m-o):w<0&&(w=Math.max(w,u-o,u-l));var b=this.getIndex({startX:o+w,endX:l+w});(b.startIndex!==g||b.endIndex!==p)&&v&&v(b),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,a){var s=fW(a)?a.changedTouches[0]:a;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var a=this.state,s=a.brushMoveStartX,o=a.movingTravellerId,l=a.endX,c=a.startX,u=this.state[o],f=this.props,m=f.x,g=f.width,p=f.travellerWidth,v=f.onChange,w=f.gap,b=f.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-s;k>0?k=Math.min(k,m+g-p-u):k<0&&(k=Math.max(k,m-u)),N[o]=u+k;var S=this.getIndex(N),A=S.startIndex,_=S.endIndex,M=function(){var L=b.length-1;return o==="startX"&&(l>c?A%w===0:_%w===0)||l<c&&_===L||o==="endX"&&(l>c?_%w===0:A%w===0)||l>c&&_===L};this.setState(Nl(Nl({},o,u+k),"brushMoveStartX",n.pageX),function(){v&&M()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,a){var s=this,o=this.state,l=o.scaleValues,c=o.startX,u=o.endX,f=this.state[a],m=l.indexOf(f);if(m!==-1){var g=m+n;if(!(g===-1||g>=l.length)){var p=l[g];a==="startX"&&p>=u||a==="endX"&&p<=c||this.setState(Nl({},a,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.fill,u=n.stroke;return fe.createElement("rect",{stroke:u,fill:c,x:a,y:s,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.data,u=n.children,f=n.padding,m=y.Children.only(u);return m?fe.cloneElement(m,{x:a,y:s,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,a){var s,o,l=this,c=this.props,u=c.y,f=c.travellerWidth,m=c.height,g=c.traveller,p=c.ariaLabel,v=c.data,w=c.startIndex,b=c.endIndex,N=Math.max(n,this.props.x),k=oT(oT({},Tr(this.props,!1)),{},{x:N,y:u,width:f,height:m}),S=p||"Min value: ".concat((s=v[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((o=v[b])===null||o===void 0?void 0:o.name);return fe.createElement(_n,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[a],onTouchStart:this.travellerDragStartHandlers[a],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,a))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,k))}},{key:"renderSlide",value:function(n,a){var s=this.props,o=s.y,l=s.height,c=s.stroke,u=s.travellerWidth,f=Math.min(n,a)+u,m=Math.max(Math.abs(a-n)-u,0);return fe.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,a=n.startIndex,s=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,u=n.stroke,f=this.state,m=f.startX,g=f.endX,p=5,v={pointerEvents:"none",fill:u};return fe.createElement(_n,{className:"recharts-brush-texts"},fe.createElement(Rp,Q5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-p,y:o+l/2},v),this.getTextOfTick(a)),fe.createElement(Rp,Q5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+p,y:o+l/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var n=this.props,a=n.data,s=n.className,o=n.children,l=n.x,c=n.y,u=n.width,f=n.height,m=n.alwaysShowText,g=this.state,p=g.startX,v=g.endX,w=g.isTextActive,b=g.isSlideMoving,N=g.isTravellerMoving,k=g.isTravellerFocused;if(!a||!a.length||!Xt(l)||!Xt(c)||!Xt(u)||!Xt(f)||u<=0||f<=0)return null;var S=Cr("recharts-brush",s),A=fe.Children.count(o)===1,_=jRe("userSelect","none");return fe.createElement(_n,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(w||b||N||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var a=n.x,s=n.y,o=n.width,l=n.height,c=n.stroke,u=Math.floor(s+l/2)-1;return fe.createElement(fe.Fragment,null,fe.createElement("rect",{x:a,y:s,width:o,height:l,fill:c,stroke:"none"}),fe.createElement("line",{x1:a+1,y1:u,x2:a+o-1,y2:u,fill:"none",stroke:"#fff"}),fe.createElement("line",{x1:a+1,y1:u+2,x2:a+o-1,y2:u+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,a){var s;return fe.isValidElement(n)?s=fe.cloneElement(n,a):Yr(n)?s=n(a):s=e.renderDefaultTraveller(a),s}},{key:"getDerivedStateFromProps",value:function(n,a){var s=n.data,o=n.width,l=n.x,c=n.travellerWidth,u=n.updateId,f=n.startIndex,m=n.endIndex;if(s!==a.prevData||u!==a.prevUpdateId)return oT({prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o},s&&s.length?MRe({data:s,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(a.scale&&(o!==a.prevWidth||l!==a.prevX||c!==a.prevTravellerWidth)){a.scale.range([l,l+o-c]);var g=a.scale.domain().map(function(p){return a.scale(p)});return{prevData:s,prevTravellerWidth:c,prevUpdateId:u,prevX:l,prevWidth:o,startX:a.scale(n.startIndex),endX:a.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,a){for(var s=n.length,o=0,l=s-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>a?l=c:o=c}return a>=n[l]?l:o}}])})(y.PureComponent);Nl(cx,"displayName","Brush");Nl(cx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var lT,hW;function ORe(){if(hW)return lT;hW=1;var t=gP();function e(r,n){var a;return t(r,function(s,o,l){return a=n(s,o,l),!a}),!!a}return lT=e,lT}var cT,mW;function ERe(){if(mW)return cT;mW=1;var t=Eee(),e=xd(),r=ORe(),n=dl(),a=fS();function s(o,l,c){var u=n(o)?t:r;return c&&a(o,l,c)&&(l=void 0),u(o,e(l,3))}return cT=s,cT}var DRe=ERe();const PRe=Kn(DRe);var sd=function(e,r){var n=e.alwaysShow,a=e.ifOverflow;return n&&(a="extendDomain"),a===r},uT,pW;function LRe(){if(pW)return uT;pW=1;var t=Jee();function e(r,n,a){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:a,writable:!0}):r[n]=a}return uT=e,uT}var dT,gW;function RRe(){if(gW)return dT;gW=1;var t=LRe(),e=Yee(),r=xd();function n(a,s){var o={};return s=r(s,3),e(a,function(l,c,u){t(o,c,s(l,c,u))}),o}return dT=n,dT}var IRe=RRe();const FRe=Kn(IRe);var fT,xW;function $Re(){if(xW)return fT;xW=1;function t(e,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(!r(e[n],n,e))return!1;return!0}return fT=t,fT}var hT,yW;function BRe(){if(yW)return hT;yW=1;var t=gP();function e(r,n){var a=!0;return t(r,function(s,o,l){return a=!!n(s,o,l),a}),a}return hT=e,hT}var mT,bW;function HRe(){if(bW)return mT;bW=1;var t=$Re(),e=BRe(),r=xd(),n=dl(),a=fS();function s(o,l,c){var u=n(o)?t:e;return c&&a(o,l,c)&&(l=void 0),u(o,r(l,3))}return mT=s,mT}var zRe=HRe();const Ire=Kn(zRe);var qRe=["x","y"];function Rv(t){"@babel/helpers - typeof";return Rv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rv(t)}function w6(){return w6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},w6.apply(this,arguments)}function vW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Yy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(r),!0).forEach(function(n){URe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function URe(t,e,r){return e=WRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WRe(t){var e=VRe(t,"string");return Rv(e)=="symbol"?e:e+""}function VRe(t,e){if(Rv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Rv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GRe(t,e){if(t==null)return{};var r=YRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function KRe(t,e){var r=t.x,n=t.y,a=GRe(t,qRe),s="".concat(r),o=parseInt(s,10),l="".concat(n),c=parseInt(l,10),u="".concat(e.height||a.height),f=parseInt(u,10),m="".concat(e.width||a.width),g=parseInt(m,10);return Yy(Yy(Yy(Yy(Yy({},e),a),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:g,name:e.name,radius:e.radius})}function wW(t){return fe.createElement(Mre,w6({shapeType:"rectangle",propTransformer:KRe,activeClassName:"recharts-active-bar"},t))}var JRe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,a){if(typeof e=="number")return e;var s=Xt(n)||vAe(n);return s?e(n,a):(s||$p(),r)}},XRe=["value","background"],Fre;function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function QRe(t,e){if(t==null)return{};var r=ZRe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function ZRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function eN(){return eN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eN.apply(this,arguments)}function jW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Xi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jW(Object(r),!0).forEach(function(n){qh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Bre(n.key),n)}}function tIe(t,e,r){return e&&NW(t.prototype,e),r&&NW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function rIe(t,e,r){return e=tN(e),nIe(t,$re()?Reflect.construct(e,r||[],tN(t).constructor):e.apply(t,r))}function nIe(t,e){if(e&&(ux(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aIe(t)}function aIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($re=function(){return!!t})()}function tN(t){return tN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},tN(t)}function iIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&j6(t,e)}function j6(t,e){return j6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},j6(t,e)}function qh(t,e,r){return e=Bre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Bre(t){var e=sIe(t,"string");return ux(e)=="symbol"?e:e+""}function sIe(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var lu=(function(t){function e(){var r;eIe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=rIe(this,e,[].concat(a)),qh(r,"state",{isAnimationFinished:!1}),qh(r,"id",Vp("recharts-bar-")),qh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),qh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return iIe(e,t),tIe(e,[{key:"renderRectanglesStatically",value:function(n){var a=this,s=this.props,o=s.shape,l=s.dataKey,c=s.activeIndex,u=s.activeBar,f=Tr(this.props,!1);return n&&n.map(function(m,g){var p=g===c,v=p?u:o,w=Xi(Xi(Xi({},f),m),{},{isActive:p,option:v,index:g,dataKey:l,onAnimationStart:a.handleAnimationStart,onAnimationEnd:a.handleAnimationEnd});return fe.createElement(_n,eN({className:"recharts-bar-rectangle"},Pp(a.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),fe.createElement(wW,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,a=this.props,s=a.data,o=a.layout,l=a.isAnimationActive,c=a.animationBegin,u=a.animationDuration,f=a.animationEasing,m=a.animationId,g=this.state.prevData;return fe.createElement(du,{begin:c,duration:u,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,w=s.map(function(b,N){var k=g&&g[N];if(k){var S=vs(k.x,b.x),A=vs(k.y,b.y),_=vs(k.width,b.width),M=vs(k.height,b.height);return Xi(Xi({},b),{},{x:S(v),y:A(v),width:_(v),height:M(v)})}if(o==="horizontal"){var R=vs(0,b.height),L=R(v);return Xi(Xi({},b),{},{y:b.y+b.height-L,height:L})}var I=vs(0,b.width),B=I(v);return Xi(Xi({},b),{},{width:B})});return fe.createElement(_n,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,a=n.data,s=n.isAnimationActive,o=this.state.prevData;return s&&a&&a.length&&(!o||!Ip(o,a))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(a)}},{key:"renderBackground",value:function(){var n=this,a=this.props,s=a.data,o=a.dataKey,l=a.activeIndex,c=Tr(this.props.background,!1);return s.map(function(u,f){u.value;var m=u.background,g=QRe(u,XRe);if(!m)return null;var p=Xi(Xi(Xi(Xi(Xi({},g),{},{fill:"#eee"},m),c),Pp(n.props,u,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return fe.createElement(wW,eN({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},p))})}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.data,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,m=Dl(f,m1);if(!m)return null;var g=u==="vertical"?o[0].height/2:o[0].width/2,p=function(b,N){var k=Array.isArray(b.value)?b.value[1]:b.value;return{x:b.x,y:b.y,value:k,errorVal:Bi(b,N)}},v={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(_n,v,m.map(function(w){return fe.cloneElement(w,{key:"error-bar-".concat(a,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,offset:g,dataPointFormatter:p})}))}},{key:"render",value:function(){var n=this.props,a=n.hide,s=n.data,o=n.className,l=n.xAxis,c=n.yAxis,u=n.left,f=n.top,m=n.width,g=n.height,p=n.isAnimationActive,v=n.background,w=n.id;if(a||!s||!s.length)return null;var b=this.state.isAnimationFinished,N=Cr("recharts-bar",o),k=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,A=k||S,_=nn(w)?this.id:w;return fe.createElement(_n,{className:N},k||S?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(_)},fe.createElement("rect",{x:k?u:u-m/2,y:S?f:f-g/2,width:k?m:m*2,height:S?g:g*2}))):null,fe.createElement(_n,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!p||b)&&id.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:a.curData}:n.data!==a.curData?{curData:n.data}:null}}])})(y.PureComponent);Fre=lu;qh(lu,"displayName","Bar");qh(lu,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!mm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});qh(lu,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,a=t.bandSize,s=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,g=t.offset,p=PDe(n,r);if(!p)return null;var v=e.layout,w=r.type.defaultProps,b=w!==void 0?Xi(Xi({},w),r.props):r.props,N=b.dataKey,k=b.children,S=b.minPointSize,A=v==="horizontal"?o:s,_=u?A.scale.domain():null,M=HDe({numericAxis:A}),R=Dl(k,Lp),L=m.map(function(I,B){var D,E,H,V,Y,W;u?D=LDe(u[f+B],_):(D=Bi(I,N),Array.isArray(D)||(D=[M,D]));var F=JRe(S,Fre.defaultProps.minPointSize)(D[1],B);if(v==="horizontal"){var z,J=[o.scale(D[0]),o.scale(D[1])],oe=J[0],K=J[1];E=Yq({axis:s,ticks:l,bandSize:a,offset:p.offset,entry:I,index:B}),H=(z=K??oe)!==null&&z!==void 0?z:void 0,V=p.size;var U=oe-K;if(Y=Number.isNaN(U)?0:U,W={x:E,y:o.y,width:V,height:o.height},Math.abs(F)>0&&Math.abs(Y)<Math.abs(F)){var X=Po(Y||F)*(Math.abs(F)-Math.abs(Y));H-=X,Y+=X}}else{var Z=[s.scale(D[0]),s.scale(D[1])],ne=Z[0],ue=Z[1];if(E=ne,H=Yq({axis:o,ticks:c,bandSize:a,offset:p.offset,entry:I,index:B}),V=ue-ne,Y=p.size,W={x:s.x,y:H,width:s.width,height:Y},Math.abs(F)>0&&Math.abs(V)<Math.abs(F)){var _e=Po(V||F)*(Math.abs(F)-Math.abs(V));V+=_e}}return Xi(Xi(Xi({},I),{},{x:E,y:H,width:V,height:Y,value:u?D:D[1],payload:I,background:W},R&&R[B]&&R[B].props),{},{tooltipPayload:[fre(r,I)],tooltipPosition:{x:E+V/2,y:H+Y/2}})});return Xi({data:L,layout:v},g)});function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function oIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hre(n.key),n)}}function lIe(t,e,r){return e&&SW(t.prototype,e),r&&SW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function kW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(r),!0).forEach(function(n){TS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TS(t,e,r){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hre(t){var e=cIe(t,"string");return Iv(e)=="symbol"?e:e+""}function cIe(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var WP=function(e,r,n,a,s){var o=e.width,l=e.height,c=e.layout,u=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Sl(u,lu);return f.reduce(function(p,v){var w=r[v],b=w.orientation,N=w.domain,k=w.padding,S=k===void 0?{}:k,A=w.mirror,_=w.reversed,M="".concat(b).concat(A?"Mirror":""),R,L,I,B,D;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var E=N[1]-N[0],H=1/0,V=w.categoricalDomain.sort(NAe);if(V.forEach(function(Z,ne){ne>0&&(H=Math.min((Z||0)-(V[ne-1]||0),H))}),Number.isFinite(H)){var Y=H/E,W=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(R=Y*W/2),w.padding==="no-gap"){var F=Lo(e.barCategoryGap,Y*W),z=Y*W/2;R=z-F-(z-F)/W*F}}}a==="xAxis"?L=[n.left+(S.left||0)+(R||0),n.left+n.width-(S.right||0)-(R||0)]:a==="yAxis"?L=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(R||0),n.top+n.height-(S.bottom||0)-(R||0)]:L=w.range,_&&(L=[L[1],L[0]]);var J=lre(w,s,g),oe=J.scale,K=J.realScaleType;oe.domain(N).range(L),cre(oe);var U=ure(oe,Zc(Zc({},w),{},{realScaleType:K}));a==="xAxis"?(D=b==="top"&&!A||b==="bottom"&&A,I=n.left,B=m[M]-D*w.height):a==="yAxis"&&(D=b==="left"&&!A||b==="right"&&A,I=m[M]-D*w.width,B=n.top);var X=Zc(Zc(Zc({},w),U),{},{realScaleType:K,x:I,y:B,scale:oe,width:a==="xAxis"?n.width:w.width,height:a==="yAxis"?n.height:w.height});return X.bandSize=$5(X,U),!w.hide&&a==="xAxis"?m[M]+=(D?-1:1)*X.height:w.hide||(m[M]+=(D?-1:1)*X.width),Zc(Zc({},p),{},TS({},v,X))},{})},zre=function(e,r){var n=e.x,a=e.y,s=r.x,o=r.y;return{x:Math.min(n,s),y:Math.min(a,o),width:Math.abs(s-n),height:Math.abs(o-a)}},uIe=function(e){var r=e.x1,n=e.y1,a=e.x2,s=e.y2;return zre({x:r,y:n},{x:a,y:s})},qre=(function(){function t(e){oIe(this,t),this.scale=e}return lIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=n.bandAware,s=n.position;if(r!==void 0){if(s)switch(s){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(a){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),a=n[0],s=n[n.length-1];return a<=s?r>=a&&r<=s:r>=s&&r<=a}}],[{key:"create",value:function(r){return new t(r)}}])})();TS(qre,"EPS",1e-4);var VP=function(e){var r=Object.keys(e).reduce(function(n,a){return Zc(Zc({},n),{},TS({},a,qre.create(e[a])))},{});return Zc(Zc({},r),{},{apply:function(a){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=s.bandAware,l=s.position;return FRe(a,function(c,u){return r[u].apply(c,{bandAware:o,position:l})})},isInRange:function(a){return Ire(a,function(s,o){return r[o].isInRange(s)})}})};function dIe(t){return(t%180+180)%180}var fIe=function(e){var r=e.width,n=e.height,a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=dIe(a),o=s*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},pT,CW;function hIe(){if(CW)return pT;CW=1;var t=xd(),e=c1(),r=uS();function n(a){return function(s,o,l){var c=Object(s);if(!e(s)){var u=t(o,3);s=r(s),o=function(m){return u(c[m],m,c)}}var f=a(s,o,l);return f>-1?c[u?s[f]:f]:void 0}}return pT=n,pT}var gT,_W;function mIe(){if(_W)return gT;_W=1;var t=Dre();function e(r){var n=t(r),a=n%1;return n===n?a?n-a:n:0}return gT=e,gT}var xT,AW;function pIe(){if(AW)return xT;AW=1;var t=qee(),e=xd(),r=mIe(),n=Math.max;function a(s,o,l){var c=s==null?0:s.length;if(!c)return-1;var u=l==null?0:r(l);return u<0&&(u=n(c+u,0)),t(s,e(o,3),u)}return xT=a,xT}var yT,TW;function gIe(){if(TW)return yT;TW=1;var t=hIe(),e=pIe(),r=t(e);return yT=r,yT}var xIe=gIe();const yIe=Kn(xIe);var bIe=aee();const vIe=Kn(bIe);var wIe=vIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),GP=y.createContext(void 0),YP=y.createContext(void 0),Ure=y.createContext(void 0),Wre=y.createContext({}),Vre=y.createContext(void 0),Gre=y.createContext(0),Yre=y.createContext(0),MW=function(e){var r=e.state,n=r.xAxisMap,a=r.yAxisMap,s=r.offset,o=e.clipPathId,l=e.children,c=e.width,u=e.height,f=wIe(s);return fe.createElement(GP.Provider,{value:n},fe.createElement(YP.Provider,{value:a},fe.createElement(Wre.Provider,{value:s},fe.createElement(Ure.Provider,{value:f},fe.createElement(Vre.Provider,{value:o},fe.createElement(Gre.Provider,{value:u},fe.createElement(Yre.Provider,{value:c},l)))))))},jIe=function(){return y.useContext(Vre)},Kre=function(e){var r=y.useContext(GP);r==null&&$p();var n=r[e];return n==null&&$p(),n},NIe=function(){var e=y.useContext(GP);return Fh(e)},SIe=function(){var e=y.useContext(YP),r=yIe(e,function(n){return Ire(n.domain,Number.isFinite)});return r||Fh(e)},Jre=function(e){var r=y.useContext(YP);r==null&&$p();var n=r[e];return n==null&&$p(),n},kIe=function(){var e=y.useContext(Ure);return e},CIe=function(){return y.useContext(Wre)},KP=function(){return y.useContext(Yre)},JP=function(){return y.useContext(Gre)};function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function _Ie(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function AIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Qre(n.key),n)}}function TIe(t,e,r){return e&&AIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function MIe(t,e,r){return e=rN(e),OIe(t,Xre()?Reflect.construct(e,r||[],rN(t).constructor):e.apply(t,r))}function OIe(t,e){if(e&&(dx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return EIe(t)}function EIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Xre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Xre=function(){return!!t})()}function rN(t){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rN(t)}function DIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&N6(t,e)}function N6(t,e){return N6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},N6(t,e)}function OW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function EW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OW(Object(r),!0).forEach(function(n){XP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XP(t,e,r){return e=Qre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Qre(t){var e=PIe(t,"string");return dx(e)=="symbol"?e:e+""}function PIe(t,e){if(dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function LIe(t,e){return $Ie(t)||FIe(t,e)||IIe(t,e)||RIe()}function RIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function IIe(t,e){if(t){if(typeof t=="string")return DW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DW(t,e)}}function DW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function FIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function $Ie(t){if(Array.isArray(t))return t}function S6(){return S6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S6.apply(this,arguments)}var BIe=function(e,r){var n;return fe.isValidElement(e)?n=fe.cloneElement(e,r):Yr(e)?n=e(r):n=fe.createElement("line",S6({},r,{className:"recharts-reference-line-line"})),n},HIe=function(e,r,n,a,s,o,l,c,u){var f=s.x,m=s.y,g=s.width,p=s.height;if(n){var v=u.y,w=e.y.apply(v,{position:o});if(sd(u,"discard")&&!e.y.isInRange(w))return null;var b=[{x:f+g,y:w},{x:f,y:w}];return c==="left"?b.reverse():b}if(r){var N=u.x,k=e.x.apply(N,{position:o});if(sd(u,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:m+p},{x:k,y:m}];return l==="top"?S.reverse():S}if(a){var A=u.segment,_=A.map(function(M){return e.apply(M,{position:o})});return sd(u,"discard")&&PRe(_,function(M){return!e.isInRange(M)})?null:_}return null};function zIe(t){var e=t.x,r=t.y,n=t.segment,a=t.xAxisId,s=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,u=jIe(),f=Kre(a),m=Jre(s),g=kIe();if(!u||!g)return null;ou(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=VP({x:f.scale,y:m.scale}),v=ws(e),w=ws(r),b=n&&n.length===2,N=HIe(p,v,w,b,g,t.position,f.orientation,m.orientation,t);if(!N)return null;var k=LIe(N,2),S=k[0],A=S.x,_=S.y,M=k[1],R=M.x,L=M.y,I=sd(t,"hidden")?"url(#".concat(u,")"):void 0,B=EW(EW({clipPath:I},Tr(t,!0)),{},{x1:A,y1:_,x2:R,y2:L});return fe.createElement(_n,{className:Cr("recharts-reference-line",l)},BIe(o,B),Ds.renderCallByParent(t,uIe({x1:A,y1:_,x2:R,y2:L})))}var QP=(function(t){function e(){return _Ie(this,e),MIe(this,e,arguments)}return DIe(e,t),TIe(e,[{key:"render",value:function(){return fe.createElement(zIe,this.props)}}])})(fe.Component);XP(QP,"displayName","ReferenceLine");XP(QP,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function k6(){return k6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},k6.apply(this,arguments)}function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function PW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function LW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PW(Object(r),!0).forEach(function(n){MS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ene(n.key),n)}}function WIe(t,e,r){return e&&UIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function VIe(t,e,r){return e=nN(e),GIe(t,Zre()?Reflect.construct(e,r||[],nN(t).constructor):e.apply(t,r))}function GIe(t,e){if(e&&(fx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return YIe(t)}function YIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Zre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Zre=function(){return!!t})()}function nN(t){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nN(t)}function KIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&C6(t,e)}function C6(t,e){return C6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},C6(t,e)}function MS(t,e,r){return e=ene(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ene(t){var e=JIe(t,"string");return fx(e)=="symbol"?e:e+""}function JIe(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var XIe=function(e){var r=e.x,n=e.y,a=e.xAxis,s=e.yAxis,o=VP({x:a.scale,y:s.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return sd(e,"discard")&&!o.isInRange(l)?null:l},OS=(function(t){function e(){return qIe(this,e),VIe(this,e,arguments)}return KIe(e,t),WIe(e,[{key:"render",value:function(){var n=this.props,a=n.x,s=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,u=ws(a),f=ws(s);if(ou(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!u||!f)return null;var m=XIe(this.props);if(!m)return null;var g=m.x,p=m.y,v=this.props,w=v.shape,b=v.className,N=sd(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=LW(LW({clipPath:N},Tr(this.props,!0)),{},{cx:g,cy:p});return fe.createElement(_n,{className:Cr("recharts-reference-dot",b)},e.renderDot(w,k),Ds.renderCallByParent(this.props,{x:g-o,y:p-o,width:2*o,height:2*o}))}}])})(fe.Component);MS(OS,"displayName","ReferenceDot");MS(OS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});MS(OS,"renderDot",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Yr(t)?r=t(e):r=fe.createElement(p1,k6({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function _6(){return _6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_6.apply(this,arguments)}function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function RW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function IW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?RW(Object(r),!0).forEach(function(n){ES(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):RW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rne(n.key),n)}}function e9e(t,e,r){return e&&ZIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t9e(t,e,r){return e=aN(e),r9e(t,tne()?Reflect.construct(e,r||[],aN(t).constructor):e.apply(t,r))}function r9e(t,e){if(e&&(hx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n9e(t)}function n9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tne=function(){return!!t})()}function aN(t){return aN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aN(t)}function a9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&A6(t,e)}function A6(t,e){return A6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},A6(t,e)}function ES(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=i9e(t,"string");return hx(e)=="symbol"?e:e+""}function i9e(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var s9e=function(e,r,n,a,s){var o=s.x1,l=s.x2,c=s.y1,u=s.y2,f=s.xAxis,m=s.yAxis;if(!f||!m)return null;var g=VP({x:f.scale,y:m.scale}),p={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},v={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:a?g.y.apply(u,{position:"end"}):g.y.rangeMax};return sd(s,"discard")&&(!g.isInRange(p)||!g.isInRange(v))?null:zre(p,v)},DS=(function(t){function e(){return QIe(this,e),t9e(this,e,arguments)}return a9e(e,t),e9e(e,[{key:"render",value:function(){var n=this.props,a=n.x1,s=n.x2,o=n.y1,l=n.y2,c=n.className,u=n.alwaysShow,f=n.clipPathId;ou(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=ws(a),g=ws(s),p=ws(o),v=ws(l),w=this.props.shape;if(!m&&!g&&!p&&!v&&!w)return null;var b=s9e(m,g,p,v,this.props);if(!b&&!w)return null;var N=sd(this.props,"hidden")?"url(#".concat(f,")"):void 0;return fe.createElement(_n,{className:Cr("recharts-reference-area",c)},e.renderRect(w,IW(IW({clipPath:N},Tr(this.props,!0)),b)),Ds.renderCallByParent(this.props,b))}}])})(fe.Component);ES(DS,"displayName","ReferenceArea");ES(DS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});ES(DS,"renderRect",function(t,e){var r;return fe.isValidElement(t)?r=fe.cloneElement(t,e):Yr(t)?r=t(e):r=fe.createElement(UP,_6({},e,{className:"recharts-reference-area-rect"})),r});function nne(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],a=0;a<t.length;a+=e)n.push(t[a]);return n}function o9e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return fIe(n,r)}function l9e(t,e,r){var n=r==="width",a=t.x,s=t.y,o=t.width,l=t.height;return e===1?{start:n?a:s,end:n?a+o:s+l}:{start:n?a+o:s+l,end:n?a:s}}function iN(t,e,r,n,a){if(t*e<t*n||t*e>t*a)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-a)<=0}function c9e(t,e){return nne(t,e+1)}function u9e(t,e,r,n,a){for(var s=(n||[]).slice(),o=e.start,l=e.end,c=0,u=1,f=o,m=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:nne(n,u)};var w=c,b,N=function(){return b===void 0&&(b=r(v,w)),b},k=v.coordinate,S=c===0||iN(t,k,N,f,l);S||(c=0,f=o,u+=1),S&&(f=k+t*(N()/2+a),c+=u)},g;u<=s.length;)if(g=m(),g)return g.v;return[]}function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function FW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function uo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(r),!0).forEach(function(n){d9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function d9e(t,e,r){return e=f9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f9e(t){var e=h9e(t,"string");return Fv(e)=="symbol"?e:e+""}function h9e(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m9e(t,e,r,n,a){for(var s=(n||[]).slice(),o=s.length,l=e.start,c=e.end,u=function(g){var p=s[g],v,w=function(){return v===void 0&&(v=r(p,g)),v};if(g===o-1){var b=t*(p.coordinate+t*w()/2-c);s[g]=p=uo(uo({},p),{},{tickCoord:b>0?p.coordinate-b*t:p.coordinate})}else s[g]=p=uo(uo({},p),{},{tickCoord:p.coordinate});var N=iN(t,p.tickCoord,w,l,c);N&&(c=p.tickCoord-t*(w()/2+a),s[g]=uo(uo({},p),{},{isShow:!0}))},f=o-1;f>=0;f--)u(f);return s}function p9e(t,e,r,n,a,s){var o=(n||[]).slice(),l=o.length,c=e.start,u=e.end;if(s){var f=n[l-1],m=r(f,l-1),g=t*(f.coordinate+t*m/2-u);o[l-1]=f=uo(uo({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate});var p=iN(t,f.tickCoord,function(){return m},c,u);p&&(u=f.tickCoord-t*(m/2+a),o[l-1]=uo(uo({},f),{},{isShow:!0}))}for(var v=s?l-1:l,w=function(k){var S=o[k],A,_=function(){return A===void 0&&(A=r(S,k)),A};if(k===0){var M=t*(S.coordinate-t*_()/2-c);o[k]=S=uo(uo({},S),{},{tickCoord:M<0?S.coordinate-M*t:S.coordinate})}else o[k]=S=uo(uo({},S),{},{tickCoord:S.coordinate});var R=iN(t,S.tickCoord,_,c,u);R&&(c=S.tickCoord+t*(_()/2+a),o[k]=uo(uo({},S),{},{isShow:!0}))},b=0;b<v;b++)w(b);return o}function ZP(t,e,r){var n=t.tick,a=t.ticks,s=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,u=t.tickFormatter,f=t.unit,m=t.angle;if(!a||!a.length||!n)return[];if(Xt(c)||mm.isSsr)return c9e(a,typeof c=="number"&&Xt(c)?c:0);var g=[],p=l==="top"||l==="bottom"?"width":"height",v=f&&p==="width"?kb(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,A){var _=Yr(u)?u(S.value,A):S.value;return p==="width"?o9e(kb(_,{fontSize:e,letterSpacing:r}),v,m):kb(_,{fontSize:e,letterSpacing:r})[p]},b=a.length>=2?Po(a[1].coordinate-a[0].coordinate):1,N=l9e(s,b,p);return c==="equidistantPreserveStart"?u9e(b,N,w,a,o):(c==="preserveStart"||c==="preserveStartEnd"?g=p9e(b,N,w,a,o,c==="preserveStartEnd"):g=m9e(b,N,w,a,o),g.filter(function(k){return k.isShow}))}var g9e=["viewBox"],x9e=["viewBox"],y9e=["ticks"];function mx(t){"@babel/helpers - typeof";return mx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mx(t)}function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dg.apply(this,arguments)}function $W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function ys(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bT(t,e){if(t==null)return{};var r=b9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function b9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function v9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ine(n.key),n)}}function w9e(t,e,r){return e&&BW(t.prototype,e),r&&BW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function j9e(t,e,r){return e=sN(e),N9e(t,ane()?Reflect.construct(e,r||[],sN(t).constructor):e.apply(t,r))}function N9e(t,e){if(e&&(mx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return S9e(t)}function S9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ane(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ane=function(){return!!t})()}function sN(t){return sN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sN(t)}function k9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&T6(t,e)}function T6(t,e){return T6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},T6(t,e)}function eL(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=C9e(t,"string");return mx(e)=="symbol"?e:e+""}function C9e(t,e){if(mx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $x=(function(t){function e(r){var n;return v9e(this,e),n=j9e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return k9e(e,t),w9e(e,[{key:"shouldComponentUpdate",value:function(n,a){var s=n.viewBox,o=bT(n,g9e),l=this.props,c=l.viewBox,u=bT(l,x9e);return!Ng(s,c)||!Ng(o,u)||!Ng(a,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var a=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];a&&this.setState({fontSize:window.getComputedStyle(a).fontSize,letterSpacing:window.getComputedStyle(a).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var a=this.props,s=a.x,o=a.y,l=a.width,c=a.height,u=a.orientation,f=a.tickSize,m=a.mirror,g=a.tickMargin,p,v,w,b,N,k,S=m?-1:1,A=n.tickSize||f,_=Xt(n.tickCoord)?n.tickCoord:n.coordinate;switch(u){case"top":p=v=n.coordinate,b=o+ +!m*c,w=b-S*A,k=w-S*g,N=_;break;case"left":w=b=n.coordinate,v=s+ +!m*l,p=v-S*A,N=p-S*g,k=_;break;case"right":w=b=n.coordinate,v=s+ +m*l,p=v+S*A,N=p+S*g,k=_;break;default:p=v=n.coordinate,b=o+ +m*c,w=b+S*A,k=w+S*g,N=_;break}return{line:{x1:p,y1:w,x2:v,y2:b},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o;switch(a){case"left":o=s?"start":"end";break;case"right":o=s?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,a=n.orientation,s=n.mirror,o="end";switch(a){case"left":case"right":o="middle";break;case"top":o=s?"start":"end";break;default:o=s?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,a=n.x,s=n.y,o=n.width,l=n.height,c=n.orientation,u=n.mirror,f=n.axisLine,m=ys(ys(ys({},Tr(this.props,!1)),Tr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!u||c==="bottom"&&u);m=ys(ys({},m),{},{x1:a,y1:s+g*l,x2:a+o,y2:s+g*l})}else{var p=+(c==="left"&&!u||c==="right"&&u);m=ys(ys({},m),{},{x1:a+p*o,y1:s,x2:a+p*o,y2:s+l})}return fe.createElement("line",dg({},m,{className:Cr("recharts-cartesian-axis-line",El(f,"className"))}))}},{key:"renderTicks",value:function(n,a,s){var o=this,l=this.props,c=l.tickLine,u=l.stroke,f=l.tick,m=l.tickFormatter,g=l.unit,p=ZP(ys(ys({},this.props),{},{ticks:n}),a,s),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),b=Tr(this.props,!1),N=Tr(f,!1),k=ys(ys({},b),{},{fill:"none"},Tr(c,!1)),S=p.map(function(A,_){var M=o.getTickLineCoord(A),R=M.line,L=M.tick,I=ys(ys(ys(ys({textAnchor:v,verticalAnchor:w},b),{},{stroke:"none",fill:u},N),L),{},{index:_,payload:A,visibleTicksCount:p.length,tickFormatter:m});return fe.createElement(_n,dg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Pp(o.props,A,_)),c&&fe.createElement("line",dg({},k,R,{className:Cr("recharts-cartesian-axis-tick-line",El(c,"className"))})),f&&e.renderTickItem(f,I,"".concat(Yr(m)?m(A.value,_):A.value).concat(g||"")))});return fe.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,a=this.props,s=a.axisLine,o=a.width,l=a.height,c=a.ticksGenerator,u=a.className,f=a.hide;if(f)return null;var m=this.props,g=m.ticks,p=bT(m,y9e),v=g;return Yr(c)&&(v=g&&g.length>0?c(this.props):c(p)),o<=0||l<=0||!v||!v.length?null:fe.createElement(_n,{className:Cr("recharts-cartesian-axis",u),ref:function(b){n.layerReference=b}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ds.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,a,s){var o,l=Cr(a.className,"recharts-cartesian-axis-tick-value");return fe.isValidElement(n)?o=fe.cloneElement(n,ys(ys({},a),{},{className:l})):Yr(n)?o=n(ys(ys({},a),{},{className:l})):o=fe.createElement(Rp,dg({},a,{className:"recharts-cartesian-axis-tick-value"}),s),o}}])})(y.Component);eL($x,"displayName","CartesianAxis");eL($x,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var _9e=["x1","y1","x2","y2","key"],A9e=["offset"];function Bp(t){"@babel/helpers - typeof";return Bp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bp(t)}function HW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function fo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(r),!0).forEach(function(n){T9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T9e(t,e,r){return e=M9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M9e(t){var e=O9e(t,"string");return Bp(e)=="symbol"?e:e+""}function O9e(t,e){if(Bp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cp.apply(this,arguments)}function zW(t,e){if(t==null)return{};var r=E9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var D9e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,a=e.x,s=e.y,o=e.width,l=e.height,c=e.ry;return fe.createElement("rect",{x:a,y:s,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sne(t,e){var r;if(fe.isValidElement(t))r=fe.cloneElement(t,e);else if(Yr(t))r=t(e);else{var n=e.x1,a=e.y1,s=e.x2,o=e.y2,l=e.key,c=zW(e,_9e),u=Tr(c,!1);u.offset;var f=zW(u,A9e);r=fe.createElement("line",cp({},f,{x1:n,y1:a,x2:s,y2:o,fill:"none",key:l}))}return r}function P9e(t){var e=t.x,r=t.width,n=t.horizontal,a=n===void 0?!0:n,s=t.horizontalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=fo(fo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return sne(a,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function L9e(t){var e=t.y,r=t.height,n=t.vertical,a=n===void 0?!0:n,s=t.verticalPoints;if(!a||!s||!s.length)return null;var o=s.map(function(l,c){var u=fo(fo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return sne(a,u)});return fe.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function R9e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,a=t.y,s=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,u=c===void 0?!0:c;if(!u||!e||!e.length)return null;var f=l.map(function(g){return Math.round(g+a-a)}).sort(function(g,p){return g-p});a!==f[0]&&f.unshift(0);var m=f.map(function(g,p){var v=!f[p+1],w=v?a+o-g:f[p+1]-g;if(w<=0)return null;var b=p%e.length;return fe.createElement("rect",{key:"react-".concat(p),y:g,x:n,height:w,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function I9e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,a=t.fillOpacity,s=t.x,o=t.y,l=t.width,c=t.height,u=t.verticalPoints;if(!r||!n||!n.length)return null;var f=u.map(function(g){return Math.round(g+s-s)}).sort(function(g,p){return g-p});s!==f[0]&&f.unshift(0);var m=f.map(function(g,p){var v=!f[p+1],w=v?s+l-g:f[p+1]-g;if(w<=0)return null;var b=p%n.length;return fe.createElement("rect",{key:"react-".concat(p),x:g,y:o,width:w,height:c,stroke:"none",fill:n[b],fillOpacity:a,className:"recharts-cartesian-grid-bg"})});return fe.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var F9e=function(e,r){var n=e.xAxis,a=e.width,s=e.height,o=e.offset;return ore(ZP(fo(fo(fo({},$x.defaultProps),n),{},{ticks:hf(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.left,o.left+o.width,r)},$9e=function(e,r){var n=e.yAxis,a=e.width,s=e.height,o=e.offset;return ore(ZP(fo(fo(fo({},$x.defaultProps),n),{},{ticks:hf(n,!0),viewBox:{x:0,y:0,width:a,height:s}})),o.top,o.top+o.height,r)},U0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nu(t){var e,r,n,a,s,o,l=KP(),c=JP(),u=CIe(),f=fo(fo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:U0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:U0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:U0.horizontal,horizontalFill:(a=t.horizontalFill)!==null&&a!==void 0?a:U0.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:U0.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:U0.verticalFill,x:Xt(t.x)?t.x:u.left,y:Xt(t.y)?t.y:u.top,width:Xt(t.width)?t.width:u.width,height:Xt(t.height)?t.height:u.height}),m=f.x,g=f.y,p=f.width,v=f.height,w=f.syncWithTicks,b=f.horizontalValues,N=f.verticalValues,k=NIe(),S=SIe();if(!Xt(p)||p<=0||!Xt(v)||v<=0||!Xt(m)||m!==+m||!Xt(g)||g!==+g)return null;var A=f.verticalCoordinatesGenerator||F9e,_=f.horizontalCoordinatesGenerator||$9e,M=f.horizontalPoints,R=f.verticalPoints;if((!M||!M.length)&&Yr(_)){var L=b&&b.length,I=_({yAxis:S?fo(fo({},S),{},{ticks:L?b:S.ticks}):void 0,width:l,height:c,offset:u},L?!0:w);ou(Array.isArray(I),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Bp(I),"]")),Array.isArray(I)&&(M=I)}if((!R||!R.length)&&Yr(A)){var B=N&&N.length,D=A({xAxis:k?fo(fo({},k),{},{ticks:B?N:k.ticks}):void 0,width:l,height:c,offset:u},B?!0:w);ou(Array.isArray(D),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Bp(D),"]")),Array.isArray(D)&&(R=D)}return fe.createElement("g",{className:"recharts-cartesian-grid"},fe.createElement(D9e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),fe.createElement(P9e,cp({},f,{offset:u,horizontalPoints:M,xAxis:k,yAxis:S})),fe.createElement(L9e,cp({},f,{offset:u,verticalPoints:R,xAxis:k,yAxis:S})),fe.createElement(R9e,cp({},f,{horizontalPoints:M})),fe.createElement(I9e,cp({},f,{verticalPoints:R})))}nu.displayName="CartesianGrid";var B9e=["type","layout","connectNulls","ref"],H9e=["key"];function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function qW(t,e){if(t==null)return{};var r=z9e(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Ob(){return Ob=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ob.apply(this,arguments)}function UW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(r),!0).forEach(function(n){eu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function W0(t){return V9e(t)||W9e(t)||U9e(t)||q9e()}function q9e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U9e(t,e){if(t){if(typeof t=="string")return M6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return M6(t,e)}}function W9e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function V9e(t){if(Array.isArray(t))return M6(t)}function M6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function G9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,lne(n.key),n)}}function Y9e(t,e,r){return e&&WW(t.prototype,e),r&&WW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function K9e(t,e,r){return e=oN(e),J9e(t,one()?Reflect.construct(e,r||[],oN(t).constructor):e.apply(t,r))}function J9e(t,e){if(e&&(px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return X9e(t)}function X9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function one(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(one=function(){return!!t})()}function oN(t){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oN(t)}function Q9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&O6(t,e)}function O6(t,e){return O6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},O6(t,e)}function eu(t,e,r){return e=lne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lne(t){var e=Z9e(t,"string");return px(e)=="symbol"?e:e+""}function Z9e(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Lf=(function(t){function e(){var r;G9e(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=K9e(this,e,[].concat(a)),eu(r,"state",{isAnimationFinished:!0,totalLength:0}),eu(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),eu(r,"getStrokeDasharray",function(o,l,c){var u=c.reduce(function(N,k){return N+k});if(!u)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/u),m=o%u,g=l-o,p=[],v=0,w=0;v<c.length;w+=c[v],++v)if(w+c[v]>m){p=[].concat(W0(c.slice(0,v)),[m-w]);break}var b=p.length%2===0?[0,g]:[g];return[].concat(W0(e.repeat(c,f)),W0(p),b).map(function(N){return"".concat(N,"px")}).join(", ")}),eu(r,"id",Vp("recharts-line-")),eu(r,"pathRef",function(o){r.mainCurve=o}),eu(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),eu(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return Q9e(e,t),Y9e(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,a){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,o=s.points,l=s.xAxis,c=s.yAxis,u=s.layout,f=s.children,m=Dl(f,m1);if(!m)return null;var g=function(w,b){return{x:w.x,y:w.y,value:w.value,errorVal:Bi(w.payload,b)}},p={clipPath:n?"url(#clipPath-".concat(a,")"):null};return fe.createElement(_n,p,m.map(function(v){return fe.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:u,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,u=l.points,f=l.dataKey,m=Tr(this.props,!1),g=Tr(c,!0),p=u.map(function(w,b){var N=jl(jl(jl({key:"dot-".concat(b),r:3},m),g),{},{index:b,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:u});return e.renderDotItem(c,N)}),v={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return fe.createElement(_n,Ob({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(n,a,s,o){var l=this.props,c=l.type,u=l.layout,f=l.connectNulls;l.ref;var m=qW(l,B9e),g=jl(jl(jl({},Tr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:a?"url(#clipPath-".concat(s,")"):null,points:n},o),{},{type:c,layout:u,connectNulls:f});return fe.createElement(Np,Ob({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.strokeDasharray,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,g=o.animationEasing,p=o.animationId,v=o.animateNewValues,w=o.width,b=o.height,N=this.state,k=N.prevPoints,S=N.totalLength;return fe.createElement(du,{begin:f,duration:m,isActive:u,easing:g,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var _=A.t;if(k){var M=k.length/l.length,R=l.map(function(E,H){var V=Math.floor(H*M);if(k[V]){var Y=k[V],W=vs(Y.x,E.x),F=vs(Y.y,E.y);return jl(jl({},E),{},{x:W(_),y:F(_)})}if(v){var z=vs(w*2,E.x),J=vs(b/2,E.y);return jl(jl({},E),{},{x:z(_),y:J(_)})}return jl(jl({},E),{},{x:E.x,y:E.y})});return s.renderCurveStatically(R,n,a)}var L=vs(0,S),I=L(_),B;if(c){var D="".concat(c).split(/[,\s]+/gim).map(function(E){return parseFloat(E)});B=s.getStrokeDasharray(I,S,D)}else B=s.generateSimpleStrokeDasharray(S,I);return s.renderCurveStatically(l,n,a,{strokeDasharray:B})})}},{key:"renderCurve",value:function(n,a){var s=this.props,o=s.points,l=s.isAnimationActive,c=this.state,u=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!u&&f>0||!Ip(u,o))?this.renderCurveWithAnimation(n,a):this.renderCurveStatically(o,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.xAxis,f=a.yAxis,m=a.top,g=a.left,p=a.width,v=a.height,w=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=Cr("recharts-line",c),A=u&&u.allowDataOverflow,_=f&&f.allowDataOverflow,M=A||_,R=nn(b)?this.id:b,L=(n=Tr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=L.r,B=I===void 0?3:I,D=L.strokeWidth,E=D===void 0?2:D,H=cee(o)?o:{},V=H.clipDot,Y=V===void 0?!0:V,W=B*2+E;return fe.createElement(_n,{className:S},A||_?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(R)},fe.createElement("rect",{x:A?g:g-p/2,y:_?m:m-v/2,width:A?p:p*2,height:_?v:v*2})),!Y&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(R)},fe.createElement("rect",{x:g-W/2,y:m-W/2,width:p+W,height:v+W}))):null,!k&&this.renderCurve(M,R),this.renderErrorBar(M,R),(k||o)&&this.renderDots(M,Y,R),(!w||N)&&id.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:a.curPoints}:n.points!==a.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,a){for(var s=n.length%2!==0?[].concat(W0(n),[0]):n,o=[],l=0;l<a;++l)o=[].concat(W0(o),W0(s));return o}},{key:"renderDotItem",value:function(n,a){var s;if(fe.isValidElement(n))s=fe.cloneElement(n,a);else if(Yr(n))s=n(a);else{var o=a.key,l=qW(a,H9e),c=Cr("recharts-line-dot",typeof n!="boolean"?n.className:"");s=fe.createElement(p1,Ob({key:o},l,{className:c}))}return s}}])})(y.PureComponent);eu(Lf,"displayName","Line");eu(Lf,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!mm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});eu(Lf,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,a=t.xAxisTicks,s=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,u=t.offset,f=e.layout,m=c.map(function(g,p){var v=Bi(g,o);return f==="horizontal"?{x:F5({axis:r,ticks:a,bandSize:l,entry:g,index:p}),y:nn(v)?null:n.scale(v),value:v,payload:g}:{x:nn(v)?null:r.scale(v),y:F5({axis:n,ticks:s,bandSize:l,entry:g,index:p}),value:v,payload:g}});return jl({points:m,layout:f},u)});var eFe=["layout","type","stroke","connectNulls","isRange","ref"],tFe=["key"],cne;function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function une(t,e){if(t==null)return{};var r=rFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function rFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function up(){return up=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},up.apply(this,arguments)}function VW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Oh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VW(Object(r),!0).forEach(function(n){Xu(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function GW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fne(n.key),n)}}function aFe(t,e,r){return e&&GW(t.prototype,e),r&&GW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function iFe(t,e,r){return e=lN(e),sFe(t,dne()?Reflect.construct(e,r||[],lN(t).constructor):e.apply(t,r))}function sFe(t,e){if(e&&(gx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oFe(t)}function oFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dne=function(){return!!t})()}function lN(t){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lN(t)}function lFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&E6(t,e)}function E6(t,e){return E6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},E6(t,e)}function Xu(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=cFe(t,"string");return gx(e)=="symbol"?e:e+""}function cFe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Rf=(function(t){function e(){var r;nFe(this,e);for(var n=arguments.length,a=new Array(n),s=0;s<n;s++)a[s]=arguments[s];return r=iFe(this,e,[].concat(a)),Xu(r,"state",{isAnimationFinished:!0}),Xu(r,"id",Vp("recharts-area-")),Xu(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Yr(o)&&o()}),Xu(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Yr(o)&&o()}),r}return lFe(e,t),aFe(e,[{key:"renderDots",value:function(n,a,s){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,u=c.dot,f=c.points,m=c.dataKey,g=Tr(this.props,!1),p=Tr(u,!0),v=f.map(function(b,N){var k=Oh(Oh(Oh({key:"dot-".concat(N),r:3},g),p),{},{index:N,cx:b.x,cy:b.y,dataKey:m,value:b.value,payload:b.payload,points:f});return e.renderDotItem(u,k)}),w={clipPath:n?"url(#clipPath-".concat(a?"":"dots-").concat(s,")"):null};return fe.createElement(_n,up({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].x,u=o[o.length-1].x,f=n*Math.abs(c-u),m=zh(o.map(function(g){return g.y||0}));return Xt(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(zh(s.map(function(g){return g.y||0})),m)),Xt(m)?fe.createElement("rect",{x:c<u?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var a=this.props,s=a.baseLine,o=a.points,l=a.strokeWidth,c=o[0].y,u=o[o.length-1].y,f=n*Math.abs(c-u),m=zh(o.map(function(g){return g.x||0}));return Xt(s)&&typeof s=="number"?m=Math.max(s,m):s&&Array.isArray(s)&&s.length&&(m=Math.max(zh(s.map(function(g){return g.x||0})),m)),Xt(m)?fe.createElement("rect",{x:0,y:c<u?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var a=this.props.layout;return a==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,a,s,o){var l=this.props,c=l.layout,u=l.type,f=l.stroke,m=l.connectNulls,g=l.isRange;l.ref;var p=une(l,eFe);return fe.createElement(_n,{clipPath:s?"url(#clipPath-".concat(o,")"):null},fe.createElement(Np,up({},Tr(p,!0),{points:n,connectNulls:m,type:u,baseLine:a,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&fe.createElement(Np,up({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:n})),f!=="none"&&g&&fe.createElement(Np,up({},Tr(this.props,!1),{className:"recharts-area-curve",layout:c,type:u,connectNulls:m,fill:"none",points:a})))}},{key:"renderAreaWithAnimation",value:function(n,a){var s=this,o=this.props,l=o.points,c=o.baseLine,u=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,g=o.animationEasing,p=o.animationId,v=this.state,w=v.prevPoints,b=v.prevBaseLine;return fe.createElement(du,{begin:f,duration:m,isActive:u,easing:g,from:{t:0},to:{t:1},key:"area-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var k=N.t;if(w){var S=w.length/l.length,A=l.map(function(L,I){var B=Math.floor(I*S);if(w[B]){var D=w[B],E=vs(D.x,L.x),H=vs(D.y,L.y);return Oh(Oh({},L),{},{x:E(k),y:H(k)})}return L}),_;if(Xt(c)&&typeof c=="number"){var M=vs(b,c);_=M(k)}else if(nn(c)||Px(c)){var R=vs(b,0);_=R(k)}else _=c.map(function(L,I){var B=Math.floor(I*S);if(b[B]){var D=b[B],E=vs(D.x,L.x),H=vs(D.y,L.y);return Oh(Oh({},L),{},{x:E(k),y:H(k)})}return L});return s.renderAreaStatically(A,_,n,a)}return fe.createElement(_n,null,fe.createElement("defs",null,fe.createElement("clipPath",{id:"animationClipPath-".concat(a)},s.renderClipRect(k))),fe.createElement(_n,{clipPath:"url(#animationClipPath-".concat(a,")")},s.renderAreaStatically(l,c,n,a)))})}},{key:"renderArea",value:function(n,a){var s=this.props,o=s.points,l=s.baseLine,c=s.isAnimationActive,u=this.state,f=u.prevPoints,m=u.prevBaseLine,g=u.totalLength;return c&&o&&o.length&&(!f&&g>0||!Ip(f,o)||!Ip(m,l))?this.renderAreaWithAnimation(n,a):this.renderAreaStatically(o,l,n,a)}},{key:"render",value:function(){var n,a=this.props,s=a.hide,o=a.dot,l=a.points,c=a.className,u=a.top,f=a.left,m=a.xAxis,g=a.yAxis,p=a.width,v=a.height,w=a.isAnimationActive,b=a.id;if(s||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=Cr("recharts-area",c),A=m&&m.allowDataOverflow,_=g&&g.allowDataOverflow,M=A||_,R=nn(b)?this.id:b,L=(n=Tr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},I=L.r,B=I===void 0?3:I,D=L.strokeWidth,E=D===void 0?2:D,H=cee(o)?o:{},V=H.clipDot,Y=V===void 0?!0:V,W=B*2+E;return fe.createElement(_n,{className:S},A||_?fe.createElement("defs",null,fe.createElement("clipPath",{id:"clipPath-".concat(R)},fe.createElement("rect",{x:A?f:f-p/2,y:_?u:u-v/2,width:A?p:p*2,height:_?v:v*2})),!Y&&fe.createElement("clipPath",{id:"clipPath-dots-".concat(R)},fe.createElement("rect",{x:f-W/2,y:u-W/2,width:p+W,height:v+W}))):null,k?null:this.renderArea(M,R),(o||k)&&this.renderDots(M,Y,R),(!w||N)&&id.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,a){return n.animationId!==a.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:a.curPoints,prevBaseLine:a.curBaseLine}:n.points!==a.curPoints||n.baseLine!==a.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(y.PureComponent);cne=Rf;Xu(Rf,"displayName","Area");Xu(Rf,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!mm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xu(Rf,"getBaseValue",function(t,e,r,n){var a=t.layout,s=t.baseValue,o=e.props.baseValue,l=o??s;if(Xt(l)&&typeof l=="number")return l;var c=a==="horizontal"?n:r,u=c.scale.domain();if(c.type==="number"){var f=Math.max(u[0],u[1]),m=Math.min(u[0],u[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(u[0],u[1]),0)}return l==="dataMin"?u[0]:l==="dataMax"?u[1]:u[0]});Xu(Rf,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,a=t.yAxis,s=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,u=t.stackedData,f=t.dataStartIndex,m=t.displayedData,g=t.offset,p=e.layout,v=u&&u.length,w=cne.getBaseValue(e,r,n,a),b=p==="horizontal",N=!1,k=m.map(function(A,_){var M;v?M=u[f+_]:(M=Bi(A,c),Array.isArray(M)?N=!0:M=[w,M]);var R=M[1]==null||v&&Bi(A,c)==null;return b?{x:F5({axis:n,ticks:s,bandSize:l,entry:A,index:_}),y:R?null:a.scale(M[1]),value:M,payload:A}:{x:R?null:n.scale(M[1]),y:F5({axis:a,ticks:o,bandSize:l,entry:A,index:_}),value:M,payload:A}}),S;return v||N?S=k.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return b?{x:A.x,y:_!=null&&A.y!=null?a.scale(_):null}:{x:_!=null?n.scale(_):null,y:A.y}}):S=b?a.scale(w):n.scale(w),Oh({points:k,baseLine:S,layout:p,isRange:N},g)});Xu(Rf,"renderDotItem",function(t,e){var r;if(fe.isValidElement(t))r=fe.cloneElement(t,e);else if(Yr(t))r=t(e);else{var n=Cr("recharts-area-dot",typeof t!="boolean"?t.className:""),a=e.key,s=une(e,tFe);r=fe.createElement(p1,up({},s,{key:a,className:n}))}return r});function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function uFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,pne(n.key),n)}}function fFe(t,e,r){return e&&dFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function hFe(t,e,r){return e=cN(e),mFe(t,hne()?Reflect.construct(e,r||[],cN(t).constructor):e.apply(t,r))}function mFe(t,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pFe(t)}function pFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hne=function(){return!!t})()}function cN(t){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(t)}function gFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&D6(t,e)}function D6(t,e){return D6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},D6(t,e)}function mne(t,e,r){return e=pne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pne(t){var e=xFe(t,"string");return xx(e)=="symbol"?e:e+""}function xFe(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function P6(){return P6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P6.apply(this,arguments)}function yFe(t){var e=t.xAxisId,r=KP(),n=JP(),a=Kre(e);return a==null?null:y.createElement($x,P6({},a,{className:Cr("recharts-".concat(a.axisType," ").concat(a.axisType),a.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return hf(o,!0)}}))}var To=(function(t){function e(){return uFe(this,e),hFe(this,e,arguments)}return gFe(e,t),fFe(e,[{key:"render",value:function(){return y.createElement(yFe,this.props)}}])})(y.Component);mne(To,"displayName","XAxis");mne(To,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function bFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function vFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yne(n.key),n)}}function wFe(t,e,r){return e&&vFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function jFe(t,e,r){return e=uN(e),NFe(t,gne()?Reflect.construct(e,r||[],uN(t).constructor):e.apply(t,r))}function NFe(t,e){if(e&&(yx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SFe(t)}function SFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gne=function(){return!!t})()}function uN(t){return uN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uN(t)}function kFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&L6(t,e)}function L6(t,e){return L6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},L6(t,e)}function xne(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=CFe(t,"string");return yx(e)=="symbol"?e:e+""}function CFe(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function R6(){return R6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},R6.apply(this,arguments)}var _Fe=function(e){var r=e.yAxisId,n=KP(),a=JP(),s=Jre(r);return s==null?null:y.createElement($x,R6({},s,{className:Cr("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:n,height:a},ticksGenerator:function(l){return hf(l,!0)}}))},Mo=(function(t){function e(){return bFe(this,e),jFe(this,e,arguments)}return kFe(e,t),wFe(e,[{key:"render",value:function(){return y.createElement(_Fe,this.props)}}])})(y.Component);xne(Mo,"displayName","YAxis");xne(Mo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function YW(t){return OFe(t)||MFe(t)||TFe(t)||AFe()}function AFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TFe(t,e){if(t){if(typeof t=="string")return I6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return I6(t,e)}}function MFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function OFe(t){if(Array.isArray(t))return I6(t)}function I6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var F6=function(e,r,n,a,s){var o=Dl(e,QP),l=Dl(e,OS),c=[].concat(YW(o),YW(l)),u=Dl(e,DS),f="".concat(a,"Id"),m=a[0],g=r;if(c.length&&(g=c.reduce(function(w,b){if(b.props[f]===n&&sd(b.props,"extendDomain")&&Xt(b.props[m])){var N=b.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},g)),u.length){var p="".concat(m,"1"),v="".concat(m,"2");g=u.reduce(function(w,b){if(b.props[f]===n&&sd(b.props,"extendDomain")&&Xt(b.props[p])&&Xt(b.props[v])){var N=b.props[p],k=b.props[v];return[Math.min(w[0],N,k),Math.max(w[1],N,k)]}return w},g)}return s&&s.length&&(g=s.reduce(function(w,b){return Xt(b)?[Math.min(w[0],b),Math.max(w[1],b)]:w},g)),g},vT={exports:{}},KW;function EFe(){return KW||(KW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function a(c,u,f){this.fn=c,this.context=u,this.once=f||!1}function s(c,u,f,m,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var p=new a(f,m||c,g),v=r?r+u:u;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],p]:c._events[v].push(p):(c._events[v]=p,c._eventsCount++),c}function o(c,u){--c._eventsCount===0?c._events=new n:delete c._events[u]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var u=[],f,m;if(this._eventsCount===0)return u;for(m in f=this._events)e.call(f,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},l.prototype.listeners=function(u){var f=r?r+u:u,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,p=m.length,v=new Array(p);g<p;g++)v[g]=m[g].fn;return v},l.prototype.listenerCount=function(u){var f=r?r+u:u,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(u,f,m,g,p,v){var w=r?r+u:u;if(!this._events[w])return!1;var b=this._events[w],N=arguments.length,k,S;if(b.fn){switch(b.once&&this.removeListener(u,b.fn,void 0,!0),N){case 1:return b.fn.call(b.context),!0;case 2:return b.fn.call(b.context,f),!0;case 3:return b.fn.call(b.context,f,m),!0;case 4:return b.fn.call(b.context,f,m,g),!0;case 5:return b.fn.call(b.context,f,m,g,p),!0;case 6:return b.fn.call(b.context,f,m,g,p,v),!0}for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];b.fn.apply(b.context,k)}else{var A=b.length,_;for(S=0;S<A;S++)switch(b[S].once&&this.removeListener(u,b[S].fn,void 0,!0),N){case 1:b[S].fn.call(b[S].context);break;case 2:b[S].fn.call(b[S].context,f);break;case 3:b[S].fn.call(b[S].context,f,m);break;case 4:b[S].fn.call(b[S].context,f,m,g);break;default:if(!k)for(_=1,k=new Array(N-1);_<N;_++)k[_-1]=arguments[_];b[S].fn.apply(b[S].context,k)}}return!0},l.prototype.on=function(u,f,m){return s(this,u,f,m,!1)},l.prototype.once=function(u,f,m){return s(this,u,f,m,!0)},l.prototype.removeListener=function(u,f,m,g){var p=r?r+u:u;if(!this._events[p])return this;if(!f)return o(this,p),this;var v=this._events[p];if(v.fn)v.fn===f&&(!g||v.once)&&(!m||v.context===m)&&o(this,p);else{for(var w=0,b=[],N=v.length;w<N;w++)(v[w].fn!==f||g&&!v[w].once||m&&v[w].context!==m)&&b.push(v[w]);b.length?this._events[p]=b.length===1?b[0]:b:o(this,p)}return this},l.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(vT)),vT.exports}var DFe=EFe();const PFe=Kn(DFe);var wT=new PFe,jT="recharts.syncMouseEvents";function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function LFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function RFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,bne(n.key),n)}}function IFe(t,e,r){return e&&RFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NT(t,e,r){return e=bne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bne(t){var e=FFe(t,"string");return $v(e)=="symbol"?e:e+""}function FFe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $Fe=(function(){function t(){LFe(this,t),NT(this,"activeIndex",0),NT(this,"coordinateList",[]),NT(this,"layout","horizontal")}return IFe(t,[{key:"setDetails",value:function(r){var n,a=r.coordinateList,s=a===void 0?null:a,o=r.container,l=o===void 0?null:o,c=r.layout,u=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,g=r.mouseHandlerCallback,p=g===void 0?null:g;this.coordinateList=(n=s??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=u??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var a=this.container.getBoundingClientRect(),s=a.x,o=a.y,l=a.height,c=this.coordinateList[this.activeIndex].coordinate,u=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=s+c+u,g=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function BFe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],a=t==null?void 0:t[1];if(n&&a&&Xt(n)&&Xt(a))return!0}return!1}function HFe(t,e,r,n){var a=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-a:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-a,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function vne(t){var e=t.cx,r=t.cy,n=t.radius,a=t.startAngle,s=t.endAngle,o=La(e,r,n,a),l=La(e,r,n,s);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:a,endAngle:s}}function zFe(t,e,r){var n,a,s,o;if(t==="horizontal")n=e.x,s=n,a=r.top,o=r.top+r.height;else if(t==="vertical")a=e.y,o=a,n=r.left,s=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,u=e.innerRadius,f=e.outerRadius,m=e.angle,g=La(l,c,u,m),p=La(l,c,f,m);n=g.x,a=g.y,s=p.x,o=p.y}else return vne(e);return[{x:n,y:a},{x:s,y:o}]}function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function JW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JW(Object(r),!0).forEach(function(n){qFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qFe(t,e,r){return e=UFe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UFe(t){var e=WFe(t,"string");return Bv(e)=="symbol"?e:e+""}function WFe(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VFe(t){var e,r,n=t.element,a=t.tooltipEventType,s=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,u=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,p=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!p||!s||!o||g!=="ScatterChart"&&a!=="axis")return null;var v,w=Np;if(g==="ScatterChart")v=o,w=a7e;else if(g==="BarChart")v=HFe(m,o,c,f),w=UP;else if(m==="radial"){var b=vne(o),N=b.cx,k=b.cy,S=b.radius,A=b.startAngle,_=b.endAngle;v={cx:N,cy:k,startAngle:A,endAngle:_,innerRadius:S,outerRadius:S},w=yre}else v={points:zFe(m,o,c)},w=Np;var M=t2(t2(t2(t2({stroke:"#ccc",pointerEvents:"none"},c),v),Tr(p,!1)),{},{payload:l,payloadIndex:u,className:Cr("recharts-tooltip-cursor",p.className)});return y.isValidElement(p)?y.cloneElement(p,M):y.createElement(w,M)}var GFe=["item"],YFe=["children","className","width","height","style","compact","title","desc"];function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fg.apply(this,arguments)}function XW(t,e){return XFe(t)||JFe(t,e)||jne(t,e)||KFe()}function KFe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JFe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,a,s,o,l=[],c=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(c=(n=s.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){u=!0,a=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(u)throw a}}return l}}function XFe(t){if(Array.isArray(t))return t}function QW(t,e){if(t==null)return{};var r=QFe(t,e),n,a;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(a=0;a<s.length;a++)n=s[a],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function QFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ZFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function e$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nne(n.key),n)}}function t$e(t,e,r){return e&&e$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function r$e(t,e,r){return e=dN(e),n$e(t,wne()?Reflect.construct(e,r||[],dN(t).constructor):e.apply(t,r))}function n$e(t,e){if(e&&(bx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a$e(t)}function a$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function wne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(wne=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dN(t)}function i$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&$6(t,e)}function $6(t,e){return $6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$6(t,e)}function vx(t){return l$e(t)||o$e(t)||jne(t)||s$e()}function s$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jne(t,e){if(t){if(typeof t=="string")return B6(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return B6(t,e)}}function o$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function l$e(t){if(Array.isArray(t))return B6(t)}function B6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ZW(Object(r),!0).forEach(function(n){Gr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ZW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Gr(t,e,r){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nne(t){var e=c$e(t,"string");return bx(e)=="symbol"?e:e+""}function c$e(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var u$e={xAxis:["bottom","top"],yAxis:["left","right"]},d$e={width:"100%",height:"100%"},Sne={x:0,y:0};function r2(t){return t}var f$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},h$e=function(e,r,n,a){var s=r.find(function(f){return f&&f.index===n});if(s){if(e==="horizontal")return{x:s.coordinate,y:a.y};if(e==="vertical")return{x:a.x,y:s.coordinate};if(e==="centric"){var o=s.coordinate,l=a.radius;return Et(Et(Et({},a),La(a.cx,a.cy,l,o)),{},{angle:o,radius:l})}var c=s.coordinate,u=a.angle;return Et(Et(Et({},a),La(a.cx,a.cy,c,u)),{},{angle:u,radius:c})}return Sne},PS=function(e,r){var n=r.graphicalItems,a=r.dataStartIndex,s=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var u=c.props.data;return u&&u.length?[].concat(vx(l),vx(u)):l},[]);return o.length>0?o:e&&e.length&&Xt(a)&&Xt(s)?e.slice(a,s+1):[]};function kne(t){return t==="number"?[0,"auto"]:void 0}var H6=function(e,r,n,a){var s=e.graphicalItems,o=e.tooltipAxis,l=PS(r,e);return n<0||!s||!s.length||n>=l.length?null:s.reduce(function(c,u){var f,m=(f=u.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var p=m===void 0?l:m;g=h5(p,o.dataKey,a)}else g=m&&m[n]||l[n];return g?[].concat(vx(c),[fre(u,g)]):c},[])},eV=function(e,r,n,a){var s=a||{x:e.chartX,y:e.chartY},o=f$e(s,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,u=e.tooltipTicks,f=ADe(o,l,u,c);if(f>=0&&u){var m=u[f]&&u[f].value,g=H6(e,r,f,m),p=h$e(n,l,f,s);return{activeTooltipIndex:f,activeLabel:m,activePayload:g,activeCoordinate:p}}return null},m$e=function(e,r){var n=r.axes,a=r.graphicalItems,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,g=e.stackOffset,p=sre(f,s);return n.reduce(function(v,w){var b,N=w.type.defaultProps!==void 0?Et(Et({},w.type.defaultProps),w.props):w.props,k=N.type,S=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,M=N.scale,R=N.ticks,L=N.includeHidden,I=N[o];if(v[I])return v;var B=PS(e.data,{graphicalItems:a.filter(function(U){var X,Z=o in U.props?U.props[o]:(X=U.type.defaultProps)===null||X===void 0?void 0:X[o];return Z===I}),dataStartIndex:c,dataEndIndex:u}),D=B.length,E,H,V;BFe(N.domain,A,k)&&(E=e6(N.domain,null,A),p&&(k==="number"||M!=="auto")&&(V=_b(B,S,"category")));var Y=kne(k);if(!E||E.length===0){var W,F=(W=N.domain)!==null&&W!==void 0?W:Y;if(S){if(E=_b(B,S,k),k==="category"&&p){var z=jAe(E);_&&z?(H=E,E=X5(0,D)):_||(E=Xq(F,E,w).reduce(function(U,X){return U.indexOf(X)>=0?U:[].concat(vx(U),[X])},[]))}else if(k==="category")_?E=E.filter(function(U){return U!==""&&!nn(U)}):E=Xq(F,E,w).reduce(function(U,X){return U.indexOf(X)>=0||X===""||nn(X)?U:[].concat(vx(U),[X])},[]);else if(k==="number"){var J=DDe(B,a.filter(function(U){var X,Z,ne=o in U.props?U.props[o]:(X=U.type.defaultProps)===null||X===void 0?void 0:X[o],ue="hide"in U.props?U.props.hide:(Z=U.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ne===I&&(L||!ue)}),S,s,f);J&&(E=J)}p&&(k==="number"||M!=="auto")&&(V=_b(B,S,"category"))}else p?E=X5(0,D):l&&l[I]&&l[I].hasStack&&k==="number"?E=g==="expand"?[0,1]:dre(l[I].stackGroups,c,u):E=ire(B,a.filter(function(U){var X=o in U.props?U.props[o]:U.type.defaultProps[o],Z="hide"in U.props?U.props.hide:U.type.defaultProps.hide;return X===I&&(L||!Z)}),k,f,!0);if(k==="number")E=F6(m,E,I,s,R),F&&(E=e6(F,E,A));else if(k==="category"&&F){var oe=F,K=E.every(function(U){return oe.indexOf(U)>=0});K&&(E=oe)}}return Et(Et({},v),{},Gr({},I,Et(Et({},N),{},{axisType:s,domain:E,categoricalDomain:V,duplicateDomain:H,originalDomain:(b=N.domain)!==null&&b!==void 0?b:Y,isCategorical:p,layout:f})))},{})},p$e=function(e,r){var n=r.graphicalItems,a=r.Axis,s=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.layout,m=e.children,g=PS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:u}),p=g.length,v=sre(f,s),w=-1;return n.reduce(function(b,N){var k=N.type.defaultProps!==void 0?Et(Et({},N.type.defaultProps),N.props):N.props,S=k[o],A=kne("number");if(!b[S]){w++;var _;return v?_=X5(0,p):l&&l[S]&&l[S].hasStack?(_=dre(l[S].stackGroups,c,u),_=F6(m,_,S,s)):(_=e6(A,ire(g,n.filter(function(M){var R,L,I=o in M.props?M.props[o]:(R=M.type.defaultProps)===null||R===void 0?void 0:R[o],B="hide"in M.props?M.props.hide:(L=M.type.defaultProps)===null||L===void 0?void 0:L.hide;return I===S&&!B}),"number",f),a.defaultProps.allowDataOverflow),_=F6(m,_,S,s)),Et(Et({},b),{},Gr({},S,Et(Et({axisType:s},a.defaultProps),{},{hide:!0,orientation:El(u$e,"".concat(s,".").concat(w%2),null),domain:_,originalDomain:A,isCategorical:v,layout:f})))}return b},{})},g$e=function(e,r){var n=r.axisType,a=n===void 0?"xAxis":n,s=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,u=r.dataEndIndex,f=e.children,m="".concat(a,"Id"),g=Dl(f,s),p={};return g&&g.length?p=m$e(e,{axes:g,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u}):o&&o.length&&(p=p$e(e,{Axis:s,graphicalItems:o,axisType:a,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:u})),p},x$e=function(e){var r=Fh(e),n=hf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:xP(n,function(a){return a.coordinate}),tooltipAxis:r,tooltipAxisBandSize:$5(r,n)}},tV=function(e){var r=e.children,n=e.defaultShowTooltip,a=Sl(r,cx),s=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),a&&a.props&&(a.props.startIndex>=0&&(s=a.props.startIndex),a.props.endIndex>=0&&(o=a.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},y$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=Sf(r&&r.type);return n&&n.indexOf("Bar")>=0})},rV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},b$e=function(e,r){var n=e.props,a=e.graphicalItems,s=e.xAxisMap,o=s===void 0?{}:s,l=e.yAxisMap,c=l===void 0?{}:l,u=n.width,f=n.height,m=n.children,g=n.margin||{},p=Sl(m,cx),v=Sl(m,kf),w=Object.keys(c).reduce(function(_,M){var R=c[M],L=R.orientation;return!R.mirror&&!R.hide?Et(Et({},_),{},Gr({},L,_[L]+R.width)):_},{left:g.left||0,right:g.right||0}),b=Object.keys(o).reduce(function(_,M){var R=o[M],L=R.orientation;return!R.mirror&&!R.hide?Et(Et({},_),{},Gr({},L,El(_,"".concat(L))+R.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Et(Et({},b),w),k=N.bottom;p&&(N.bottom+=p.props.height||cx.defaultProps.height),v&&r&&(N=ODe(N,a,n,r));var S=u-N.left-N.right,A=f-N.top-N.bottom;return Et(Et({brushBottom:k},N),{},{width:Math.max(S,0),height:Math.max(A,0)})},v$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},LS=function(e){var r=e.chartName,n=e.GraphicalChild,a=e.defaultTooltipEventType,s=a===void 0?"axis":a,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,u=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,g=function(N,k){var S=k.graphicalItems,A=k.stackGroups,_=k.offset,M=k.updateId,R=k.dataStartIndex,L=k.dataEndIndex,I=N.barSize,B=N.layout,D=N.barGap,E=N.barCategoryGap,H=N.maxBarSize,V=rV(B),Y=V.numericAxisName,W=V.cateAxisName,F=y$e(S),z=[];return S.forEach(function(J,oe){var K=PS(N.data,{graphicalItems:[J],dataStartIndex:R,dataEndIndex:L}),U=J.type.defaultProps!==void 0?Et(Et({},J.type.defaultProps),J.props):J.props,X=U.dataKey,Z=U.maxBarSize,ne=U["".concat(Y,"Id")],ue=U["".concat(W,"Id")],_e={},Ne=c.reduce(function(bt,It){var At=k["".concat(It.axisType,"Map")],Se=U["".concat(It.axisType,"Id")];At&&At[Se]||It.axisType==="zAxis"||$p();var gt=At[Se];return Et(Et({},bt),{},Gr(Gr({},It.axisType,gt),"".concat(It.axisType,"Ticks"),hf(gt)))},_e),ge=Ne[W],ke=Ne["".concat(W,"Ticks")],ze=A&&A[ne]&&A[ne].hasStack&&zDe(J,A[ne].stackGroups),he=Sf(J.type).indexOf("Bar")>=0,ye=$5(ge,ke),ae=[],ie=F&&TDe({barSize:I,stackGroups:A,totalSize:v$e(Ne,W)});if(he){var dt,ct,Le=nn(Z)?H:Z,Qe=(dt=(ct=$5(ge,ke,!0))!==null&&ct!==void 0?ct:Le)!==null&&dt!==void 0?dt:0;ae=MDe({barGap:D,barCategoryGap:E,bandSize:Qe!==ye?Qe:ye,sizeList:ie[ue],maxBarSize:Le}),Qe!==ye&&(ae=ae.map(function(bt){return Et(Et({},bt),{},{position:Et(Et({},bt.position),{},{offset:bt.position.offset-Qe/2})})}))}var yt=J&&J.type&&J.type.getComposedData;yt&&z.push({props:Et(Et({},yt(Et(Et({},Ne),{},{displayedData:K,props:N,dataKey:X,item:J,bandSize:ye,barPosition:ae,offset:_,stackedData:ze,layout:B,dataStartIndex:R,dataEndIndex:L}))),{},Gr(Gr(Gr({key:J.key||"item-".concat(oe)},Y,Ne[Y]),W,Ne[W]),"animationId",M)),childIndex:PAe(J,N.children),item:J})}),z},p=function(N,k){var S=N.props,A=N.dataStartIndex,_=N.dataEndIndex,M=N.updateId;if(!fB({props:S}))return null;var R=S.children,L=S.layout,I=S.stackOffset,B=S.data,D=S.reverseStackOrder,E=rV(L),H=E.numericAxisName,V=E.cateAxisName,Y=Dl(R,n),W=BDe(B,Y,"".concat(H,"Id"),"".concat(V,"Id"),I,D),F=c.reduce(function(U,X){var Z="".concat(X.axisType,"Map");return Et(Et({},U),{},Gr({},Z,g$e(S,Et(Et({},X),{},{graphicalItems:Y,stackGroups:X.axisType===H&&W,dataStartIndex:A,dataEndIndex:_}))))},{}),z=b$e(Et(Et({},F),{},{props:S,graphicalItems:Y}),k==null?void 0:k.legendBBox);Object.keys(F).forEach(function(U){F[U]=f(S,F[U],z,U.replace("Map",""),r)});var J=F["".concat(V,"Map")],oe=x$e(J),K=g(S,Et(Et({},F),{},{dataStartIndex:A,dataEndIndex:_,updateId:M,graphicalItems:Y,stackGroups:W,offset:z}));return Et(Et({formattedGraphicalItems:K,graphicalItems:Y,offset:z,stackGroups:W},oe),F)},v=(function(b){function N(k){var S,A,_;return ZFe(this,N),_=r$e(this,N,[k]),Gr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Gr(_,"accessibilityManager",new $Fe),Gr(_,"handleLegendBBoxUpdate",function(M){if(M){var R=_.state,L=R.dataStartIndex,I=R.dataEndIndex,B=R.updateId;_.setState(Et({legendBBox:M},p({props:_.props,dataStartIndex:L,dataEndIndex:I,updateId:B},Et(Et({},_.state),{},{legendBBox:M}))))}}),Gr(_,"handleReceiveSyncEvent",function(M,R,L){if(_.props.syncId===M){if(L===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(R)}}),Gr(_,"handleBrushChange",function(M){var R=M.startIndex,L=M.endIndex;if(R!==_.state.dataStartIndex||L!==_.state.dataEndIndex){var I=_.state.updateId;_.setState(function(){return Et({dataStartIndex:R,dataEndIndex:L},p({props:_.props,dataStartIndex:R,dataEndIndex:L,updateId:I},_.state))}),_.triggerSyncEvent({dataStartIndex:R,dataEndIndex:L})}}),Gr(_,"handleMouseEnter",function(M){var R=_.getMouseInfo(M);if(R){var L=Et(Et({},R),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var I=_.props.onMouseEnter;Yr(I)&&I(L,M)}}),Gr(_,"triggeredAfterMouseMove",function(M){var R=_.getMouseInfo(M),L=R?Et(Et({},R),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(L),_.triggerSyncEvent(L);var I=_.props.onMouseMove;Yr(I)&&I(L,M)}),Gr(_,"handleItemMouseEnter",function(M){_.setState(function(){return{isTooltipActive:!0,activeItem:M,activePayload:M.tooltipPayload,activeCoordinate:M.tooltipPosition||{x:M.cx,y:M.cy}}})}),Gr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Gr(_,"handleMouseMove",function(M){M.persist(),_.throttleTriggeredAfterMouseMove(M)}),Gr(_,"handleMouseLeave",function(M){_.throttleTriggeredAfterMouseMove.cancel();var R={isTooltipActive:!1};_.setState(R),_.triggerSyncEvent(R);var L=_.props.onMouseLeave;Yr(L)&&L(R,M)}),Gr(_,"handleOuterEvent",function(M){var R=DAe(M),L=El(_.props,"".concat(R));if(R&&Yr(L)){var I,B;/.*touch.*/i.test(R)?B=_.getMouseInfo(M.changedTouches[0]):B=_.getMouseInfo(M),L((I=B)!==null&&I!==void 0?I:{},M)}}),Gr(_,"handleClick",function(M){var R=_.getMouseInfo(M);if(R){var L=Et(Et({},R),{},{isTooltipActive:!0});_.setState(L),_.triggerSyncEvent(L);var I=_.props.onClick;Yr(I)&&I(L,M)}}),Gr(_,"handleMouseDown",function(M){var R=_.props.onMouseDown;if(Yr(R)){var L=_.getMouseInfo(M);R(L,M)}}),Gr(_,"handleMouseUp",function(M){var R=_.props.onMouseUp;if(Yr(R)){var L=_.getMouseInfo(M);R(L,M)}}),Gr(_,"handleTouchMove",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(M.changedTouches[0])}),Gr(_,"handleTouchStart",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&_.handleMouseDown(M.changedTouches[0])}),Gr(_,"handleTouchEnd",function(M){M.changedTouches!=null&&M.changedTouches.length>0&&_.handleMouseUp(M.changedTouches[0])}),Gr(_,"handleDoubleClick",function(M){var R=_.props.onDoubleClick;if(Yr(R)){var L=_.getMouseInfo(M);R(L,M)}}),Gr(_,"handleContextMenu",function(M){var R=_.props.onContextMenu;if(Yr(R)){var L=_.getMouseInfo(M);R(L,M)}}),Gr(_,"triggerSyncEvent",function(M){_.props.syncId!==void 0&&wT.emit(jT,_.props.syncId,M,_.eventEmitterSymbol)}),Gr(_,"applySyncEvent",function(M){var R=_.props,L=R.layout,I=R.syncMethod,B=_.state.updateId,D=M.dataStartIndex,E=M.dataEndIndex;if(M.dataStartIndex!==void 0||M.dataEndIndex!==void 0)_.setState(Et({dataStartIndex:D,dataEndIndex:E},p({props:_.props,dataStartIndex:D,dataEndIndex:E,updateId:B},_.state)));else if(M.activeTooltipIndex!==void 0){var H=M.chartX,V=M.chartY,Y=M.activeTooltipIndex,W=_.state,F=W.offset,z=W.tooltipTicks;if(!F)return;if(typeof I=="function")Y=I(z,M);else if(I==="value"){Y=-1;for(var J=0;J<z.length;J++)if(z[J].value===M.activeLabel){Y=J;break}}var oe=Et(Et({},F),{},{x:F.left,y:F.top}),K=Math.min(H,oe.x+oe.width),U=Math.min(V,oe.y+oe.height),X=z[Y]&&z[Y].value,Z=H6(_.state,_.props.data,Y),ne=z[Y]?{x:L==="horizontal"?z[Y].coordinate:K,y:L==="horizontal"?U:z[Y].coordinate}:Sne;_.setState(Et(Et({},M),{},{activeLabel:X,activeCoordinate:ne,activePayload:Z,activeTooltipIndex:Y}))}else _.setState(M)}),Gr(_,"renderCursor",function(M){var R,L=_.state,I=L.isTooltipActive,B=L.activeCoordinate,D=L.activePayload,E=L.offset,H=L.activeTooltipIndex,V=L.tooltipAxisBandSize,Y=_.getTooltipEventType(),W=(R=M.props.active)!==null&&R!==void 0?R:I,F=_.props.layout,z=M.key||"_recharts-cursor";return fe.createElement(VFe,{key:z,activeCoordinate:B,activePayload:D,activeTooltipIndex:H,chartName:r,element:M,isActive:W,layout:F,offset:E,tooltipAxisBandSize:V,tooltipEventType:Y})}),Gr(_,"renderPolarAxis",function(M,R,L){var I=El(M,"type.axisType"),B=El(_.state,"".concat(I,"Map")),D=M.type.defaultProps,E=D!==void 0?Et(Et({},D),M.props):M.props,H=B&&B[E["".concat(I,"Id")]];return y.cloneElement(M,Et(Et({},H),{},{className:Cr(I,H.className),key:M.key||"".concat(R,"-").concat(L),ticks:hf(H,!0)}))}),Gr(_,"renderPolarGrid",function(M){var R=M.props,L=R.radialLines,I=R.polarAngles,B=R.polarRadius,D=_.state,E=D.radiusAxisMap,H=D.angleAxisMap,V=Fh(E),Y=Fh(H),W=Y.cx,F=Y.cy,z=Y.innerRadius,J=Y.outerRadius;return y.cloneElement(M,{polarAngles:Array.isArray(I)?I:hf(Y,!0).map(function(oe){return oe.coordinate}),polarRadius:Array.isArray(B)?B:hf(V,!0).map(function(oe){return oe.coordinate}),cx:W,cy:F,innerRadius:z,outerRadius:J,key:M.key||"polar-grid",radialLines:L})}),Gr(_,"renderLegend",function(){var M=_.state.formattedGraphicalItems,R=_.props,L=R.children,I=R.width,B=R.height,D=_.props.margin||{},E=I-(D.left||0)-(D.right||0),H=nre({children:L,formattedGraphicalItems:M,legendWidth:E,legendContent:u});if(!H)return null;var V=H.item,Y=QW(H,GFe);return y.cloneElement(V,Et(Et({},Y),{},{chartWidth:I,chartHeight:B,margin:D,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Gr(_,"renderTooltip",function(){var M,R=_.props,L=R.children,I=R.accessibilityLayer,B=Sl(L,Si);if(!B)return null;var D=_.state,E=D.isTooltipActive,H=D.activeCoordinate,V=D.activePayload,Y=D.activeLabel,W=D.offset,F=(M=B.props.active)!==null&&M!==void 0?M:E;return y.cloneElement(B,{viewBox:Et(Et({},W),{},{x:W.left,y:W.top}),active:F,label:Y,payload:F?V:[],coordinate:H,accessibilityLayer:I})}),Gr(_,"renderBrush",function(M){var R=_.props,L=R.margin,I=R.data,B=_.state,D=B.offset,E=B.dataStartIndex,H=B.dataEndIndex,V=B.updateId;return y.cloneElement(M,{key:M.key||"_recharts-brush",onChange:Xw(_.handleBrushChange,M.props.onChange),data:I,x:Xt(M.props.x)?M.props.x:D.left,y:Xt(M.props.y)?M.props.y:D.top+D.height+D.brushBottom-(L.bottom||0),width:Xt(M.props.width)?M.props.width:D.width,startIndex:E,endIndex:H,updateId:"brush-".concat(V)})}),Gr(_,"renderReferenceElement",function(M,R,L){if(!M)return null;var I=_,B=I.clipPathId,D=_.state,E=D.xAxisMap,H=D.yAxisMap,V=D.offset,Y=M.type.defaultProps||{},W=M.props,F=W.xAxisId,z=F===void 0?Y.xAxisId:F,J=W.yAxisId,oe=J===void 0?Y.yAxisId:J;return y.cloneElement(M,{key:M.key||"".concat(R,"-").concat(L),xAxis:E[z],yAxis:H[oe],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:B})}),Gr(_,"renderActivePoints",function(M){var R=M.item,L=M.activePoint,I=M.basePoint,B=M.childIndex,D=M.isRange,E=[],H=R.props.key,V=R.item.type.defaultProps!==void 0?Et(Et({},R.item.type.defaultProps),R.item.props):R.item.props,Y=V.activeDot,W=V.dataKey,F=Et(Et({index:B,dataKey:W,cx:L.x,cy:L.y,r:4,fill:qP(R.item),strokeWidth:2,stroke:"#fff",payload:L.payload,value:L.value},Tr(Y,!1)),m5(Y));return E.push(N.renderActiveDot(Y,F,"".concat(H,"-activePoint-").concat(B))),I?E.push(N.renderActiveDot(Y,Et(Et({},F),{},{cx:I.x,cy:I.y}),"".concat(H,"-basePoint-").concat(B))):D&&E.push(null),E}),Gr(_,"renderGraphicChild",function(M,R,L){var I=_.filterFormatItem(M,R,L);if(!I)return null;var B=_.getTooltipEventType(),D=_.state,E=D.isTooltipActive,H=D.tooltipAxis,V=D.activeTooltipIndex,Y=D.activeLabel,W=_.props.children,F=Sl(W,Si),z=I.props,J=z.points,oe=z.isRange,K=z.baseLine,U=I.item.type.defaultProps!==void 0?Et(Et({},I.item.type.defaultProps),I.item.props):I.item.props,X=U.activeDot,Z=U.hide,ne=U.activeBar,ue=U.activeShape,_e=!!(!Z&&E&&F&&(X||ne||ue)),Ne={};B!=="axis"&&F&&F.props.trigger==="click"?Ne={onClick:Xw(_.handleItemMouseEnter,M.props.onClick)}:B!=="axis"&&(Ne={onMouseLeave:Xw(_.handleItemMouseLeave,M.props.onMouseLeave),onMouseEnter:Xw(_.handleItemMouseEnter,M.props.onMouseEnter)});var ge=y.cloneElement(M,Et(Et({},I.props),Ne));function ke(It){return typeof H.dataKey=="function"?H.dataKey(It.payload):null}if(_e)if(V>=0){var ze,he;if(H.dataKey&&!H.allowDuplicatedCategory){var ye=typeof H.dataKey=="function"?ke:"payload.".concat(H.dataKey.toString());ze=h5(J,ye,Y),he=oe&&K&&h5(K,ye,Y)}else ze=J==null?void 0:J[V],he=oe&&K&&K[V];if(ue||ne){var ae=M.props.activeIndex!==void 0?M.props.activeIndex:V;return[y.cloneElement(M,Et(Et(Et({},I.props),Ne),{},{activeIndex:ae})),null,null]}if(!nn(ze))return[ge].concat(vx(_.renderActivePoints({item:I,activePoint:ze,basePoint:he,childIndex:V,isRange:oe})))}else{var ie,dt=(ie=_.getItemByXY(_.state.activeCoordinate))!==null&&ie!==void 0?ie:{graphicalItem:ge},ct=dt.graphicalItem,Le=ct.item,Qe=Le===void 0?M:Le,yt=ct.childIndex,bt=Et(Et(Et({},I.props),Ne),{},{activeIndex:yt});return[y.cloneElement(Qe,bt),null,null]}return oe?[ge,null,null]:[ge,null]}),Gr(_,"renderCustomized",function(M,R,L){return y.cloneElement(M,Et(Et({key:"recharts-customized-".concat(L)},_.props),_.state))}),Gr(_,"renderMap",{CartesianGrid:{handler:r2,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:r2},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:r2},YAxis:{handler:r2},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:Vp("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=rte(_.triggeredAfterMouseMove,(A=k.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return i$e(N,b),t$e(N,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,_=S.data,M=S.height,R=S.layout,L=Sl(A,Si);if(L){var I=L.props.defaultIndex;if(!(typeof I!="number"||I<0||I>this.state.tooltipTicks.length-1)){var B=this.state.tooltipTicks[I]&&this.state.tooltipTicks[I].value,D=H6(this.state,_,I,B),E=this.state.tooltipTicks[I].coordinate,H=(this.state.offset.top+M)/2,V=R==="horizontal",Y=V?{x:E,y:H}:{y:E,x:H},W=this.state.formattedGraphicalItems.find(function(z){var J=z.item;return J.type.name==="Scatter"});W&&(Y=Et(Et({},Y),W.props.points[I].tooltipPosition),D=W.props.points[I].tooltipPayload);var F={activeTooltipIndex:I,isTooltipActive:!0,activeLabel:B,activePayload:D,activeCoordinate:Y};this.setState(F),this.renderCursor(L),this.accessibilityManager.setIndex(I)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,M;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(M=this.props.margin.top)!==null&&M!==void 0?M:0}})}return null}},{key:"componentDidUpdate",value:function(S){jO([Sl(S.children,Si)],[Sl(this.props.children,Si)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Sl(this.props.children,Si);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return l.indexOf(A)>=0?A:s}return s}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),M=vMe(_),R={chartX:Math.round(S.pageX-M.left),chartY:Math.round(S.pageY-M.top)},L=_.width/A.offsetWidth||1,I=this.inRange(R.chartX,R.chartY,L);if(!I)return null;var B=this.state,D=B.xAxisMap,E=B.yAxisMap,H=this.getTooltipEventType(),V=eV(this.state,this.props.data,this.props.layout,I);if(H!=="axis"&&D&&E){var Y=Fh(D).scale,W=Fh(E).scale,F=Y&&Y.invert?Y.invert(R.chartX):null,z=W&&W.invert?W.invert(R.chartY):null;return Et(Et({},R),{},{xValue:F,yValue:z},V)}return V?Et(Et({},R),V):null}},{key:"inRange",value:function(S,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,M=this.props.layout,R=S/_,L=A/_;if(M==="horizontal"||M==="vertical"){var I=this.state.offset,B=R>=I.left&&R<=I.left+I.width&&L>=I.top&&L<=I.top+I.height;return B?{x:R,y:L}:null}var D=this.state,E=D.angleAxisMap,H=D.radiusAxisMap;if(E&&H){var V=Fh(E);return eU({x:R,y:L},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),_=Sl(S,Si),M={};_&&A==="axis"&&(_.props.trigger==="click"?M={onClick:this.handleClick}:M={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var R=m5(this.props,this.handleOuterEvent);return Et(Et({},R),M)}},{key:"addListener",value:function(){wT.on(jT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){wT.removeListener(jT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,_){for(var M=this.state.formattedGraphicalItems,R=0,L=M.length;R<L;R++){var I=M[R];if(I.item===S||I.props.key===S.key||A===Sf(I.item.type)&&_===I.childIndex)return I}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,_=A.left,M=A.top,R=A.height,L=A.width;return fe.createElement("defs",null,fe.createElement("clipPath",{id:S},fe.createElement("rect",{x:_,y:M,height:R,width:L})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,_){var M=XW(_,2),R=M[0],L=M[1];return Et(Et({},A),{},Gr({},R,L.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,_){var M=XW(_,2),R=M[0],L=M[1];return Et(Et({},A),{},Gr({},R,L.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,_=A.formattedGraphicalItems,M=A.activeItem;if(_&&_.length)for(var R=0,L=_.length;R<L;R++){var I=_[R],B=I.props,D=I.item,E=D.type.defaultProps!==void 0?Et(Et({},D.type.defaultProps),D.props):D.props,H=Sf(D.type);if(H==="Bar"){var V=(B.data||[]).find(function(z){return F8e(S,z)});if(V)return{graphicalItem:I,payload:V}}else if(H==="RadialBar"){var Y=(B.data||[]).find(function(z){return eU(S,z)});if(Y)return{graphicalItem:I,payload:Y}}else if(_S(I,M)||AS(I,M)||Pv(I,M)){var W=oRe({graphicalItem:I,activeTooltipItem:M,itemData:E.data}),F=E.activeIndex===void 0?W:E.activeIndex;return{graphicalItem:Et(Et({},I),{},{childIndex:F}),payload:Pv(I,M)?E.data[W]:I.props.data[W]}}}return null}},{key:"render",value:function(){var S=this;if(!fB(this))return null;var A=this.props,_=A.children,M=A.className,R=A.width,L=A.height,I=A.style,B=A.compact,D=A.title,E=A.desc,H=QW(A,YFe),V=Tr(H,!1);if(B)return fe.createElement(MW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement(SO,fg({},V,{width:R,height:L,title:D,desc:E}),this.renderClipPath(),mB(_,this.renderMap)));if(this.props.accessibilityLayer){var Y,W;V.tabIndex=(Y=this.props.tabIndex)!==null&&Y!==void 0?Y:0,V.role=(W=this.props.role)!==null&&W!==void 0?W:"application",V.onKeyDown=function(z){S.accessibilityManager.keyboardEvent(z)},V.onFocus=function(){S.accessibilityManager.focus()}}var F=this.parseEventsOfWrapper();return fe.createElement(MW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},fe.createElement("div",fg({className:Cr("recharts-wrapper",M),style:Et({position:"relative",cursor:"default",width:R,height:L},I)},F,{ref:function(J){S.container=J}}),fe.createElement(SO,fg({},V,{width:R,height:L,title:D,desc:E,style:d$e}),this.renderClipPath(),mB(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(y.Component);Gr(v,"displayName",r),Gr(v,"defaultProps",Et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Gr(v,"getDerivedStateFromProps",function(b,N){var k=b.dataKey,S=b.data,A=b.children,_=b.width,M=b.height,R=b.layout,L=b.stackOffset,I=b.margin,B=N.dataStartIndex,D=N.dataEndIndex;if(N.updateId===void 0){var E=tV(b);return Et(Et(Et({},E),{},{updateId:0},p(Et(Et({props:b},E),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:M,prevLayout:R,prevStackOffset:L,prevMargin:I,prevChildren:A})}if(k!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||M!==N.prevHeight||R!==N.prevLayout||L!==N.prevStackOffset||!Ng(I,N.prevMargin)){var H=tV(b),V={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},Y=Et(Et({},eV(N,S,R)),{},{updateId:N.updateId+1}),W=Et(Et(Et({},H),V),Y);return Et(Et(Et({},W),p(Et({props:b},W),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:M,prevLayout:R,prevStackOffset:L,prevMargin:I,prevChildren:A})}if(!jO(A,N.prevChildren)){var F,z,J,oe,K=Sl(A,cx),U=K&&(F=(z=K.props)===null||z===void 0?void 0:z.startIndex)!==null&&F!==void 0?F:B,X=K&&(J=(oe=K.props)===null||oe===void 0?void 0:oe.endIndex)!==null&&J!==void 0?J:D,Z=U!==B||X!==D,ne=!nn(S),ue=ne&&!Z?N.updateId:N.updateId+1;return Et(Et({updateId:ue},p(Et(Et({props:b},N),{},{updateId:ue,dataStartIndex:U,dataEndIndex:X}),N)),{},{prevChildren:A,dataStartIndex:U,dataEndIndex:X})}return null}),Gr(v,"renderActiveDot",function(b,N,k){var S;return y.isValidElement(b)?S=y.cloneElement(b,N):Yr(b)?S=b(N):S=fe.createElement(p1,N),fe.createElement(_n,{className:"recharts-active-dot",key:k},S)});var w=y.forwardRef(function(N,k){return fe.createElement(v,fg({},N,{ref:k}))});return w.displayName=v.displayName,w},fN=LS({chartName:"LineChart",GraphicalChild:Lf,axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:WP}),Eb=LS({chartName:"BarChart",GraphicalChild:lu,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:WP}),tL=LS({chartName:"PieChart",GraphicalChild:pu,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:CS},{axisType:"radiusAxis",AxisComp:SS}],formatAxisMap:QDe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),w$e=LS({chartName:"AreaChart",GraphicalChild:Rf,axisComponents:[{axisType:"xAxis",AxisComp:To},{axisType:"yAxis",AxisComp:Mo}],formatAxisMap:WP});const nV=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const a=t*60+e,s=r*60+n;let o=Math.abs(s-a);return o>720&&(o=1440-o),o},n2=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},ST=({title:t,value:e,change:r,icon:n})=>{const a=r==null?void 0:r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},j$e=()=>{const[t,e]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return Y?JSON.parse(Y):!1}),[r,n]=y.useState(!1),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null),{user:f,getMachineHistories:m}=ir(),g=nr(),p=Ui(),[v,w]=y.useState(window.innerWidth<768),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=fe.useRef(null),_=fe.useRef(null),M=p.pathname==="/machinehistory",R=p.pathname==="/machinehistory/reports";y.useEffect(()=>{(async()=>{l(!0);try{const W=await m();s(W||[])}catch(W){console.error("Failed to fetch machine history for reports:",W),u("Failed to load machine history data for reports."),s([])}finally{l(!1)}})()},[m]),y.useEffect(()=>{const Y=()=>{w(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),y.useEffect(()=>{const Y=W=>{A.current&&!A.current.contains(W.target)&&N(!1),_.current&&!_.current.contains(W.target)&&S(!1)};return document.addEventListener("mousedown",Y),()=>{document.removeEventListener("mousedown",Y)}},[]);const L=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Y=>!Y)},I=y.useMemo(()=>a.length,[a]),B=y.useMemo(()=>{const Y={};return a.forEach(W=>{W.mesin&&(Y[W.mesin]=(Y[W.mesin]||0)+1)}),Object.entries(Y).sort(([,W],[,F])=>F-W).slice(0,3).map(([W,F])=>({name:W,count:F}))},[a]),D=y.useMemo(()=>{const Y={};return a.forEach(W=>{if(W.mesin){const F=nV(W.stopJam,W.stopMenit,W.startJam,W.startMenit);F!==null&&(Y[W.mesin]||(Y[W.mesin]={totalMinutes:0,count:0}),Y[W.mesin].totalMinutes+=F,Y[W.mesin].count+=1)}}),Object.entries(Y).map(([W,F])=>{const z=F.count>0?F.totalMinutes/F.count:0,J=Math.round(z*100)/100;return{name:W,averageDowntimeMinutes:J,displayDowntime:n2(J)}})},[a]),E=y.useMemo(()=>{const Y={};return a.forEach(W=>{if(W.date){const F=new Date(W.date),z=F.getFullYear(),J=(F.getMonth()+1).toString().padStart(2,"0"),oe=`${z}-${J}`;Y[oe]=(Y[oe]||0)+1}}),Object.entries(Y).sort(([W],[F])=>W.localeCompare(F)).map(([W,F])=>{const[z,J]=W.split("-");return{name:`${new Date(Number(z),Number(J)-1,1).toLocaleString("en-US",{month:"short"})} ${z}`,"Maintenance Events":F}})},[a]),H=y.useMemo(()=>{const Y={Perbaikan:0,Perawatan:0};return a.forEach(W=>{W.perbaikanPerawatan==="Perbaikan"?Y.Perbaikan+=1:W.perbaikanPerawatan==="Perawatan"&&(Y.Perawatan+=1)}),[{name:"Repairs",value:Y.Perbaikan},{name:"Maintenance",value:Y.Perawatan}].filter(W=>W.value>0)},[a]),V=["#8884d8","#82ca9d","#ffc658","#ff7300"];return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:i.jsx(Xv,{}),isMobile:v,toggleSidebar:L}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${M?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${R?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",i.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):a.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[i.jsx(ST,{title:"Total Maintenance Events",value:I.toLocaleString("id-ID"),icon:i.jsx(bn,{})}),i.jsx(ST,{title:"Avg. Downtime (All Machines)",value:n2(Math.round(a.reduce((Y,W)=>Y+(nV(W.stopJam,W.stopMenit,W.startJam,W.startMenit)||0),0)/a.length*100)/100),icon:i.jsx(kr,{})}),i.jsx(ST,{title:"Machines Maintained",value:new Set(a.map(Y=>Y.mesin)).size.toLocaleString("id-ID"),icon:i.jsx(sa,{})}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Eb,{data:B,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Si,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),i.jsx(lu,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),B.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),H.length>0?i.jsx(kl,{width:"100%",height:300,children:i.jsxs(tL,{children:[i.jsx(pu,{data:H,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:H.map((Y,W)=>i.jsx(Lp,{fill:V[W%V.length]},`cell-${W}`))}),i.jsx(Si,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(Y,W)=>[`${Y} events`,W]}),i.jsx(kf,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),i.jsx(kl,{width:"100%",height:350,children:i.jsxs(Eb,{data:D,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{tickFormatter:Y=>n2(Y),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Si,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:Y=>n2(Y)}),i.jsx(lu,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),D.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),i.jsx(kl,{width:"100%",height:350,children:i.jsxs(fN,{data:E,margin:{top:20,right:30,left:20,bottom:5},children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Si,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),i.jsx(kf,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),i.jsx(Lf,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),E.length===0&&i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function N$e(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const S$e=()=>{const[t,e]=y.useState(()=>{const ye=localStorage.getItem("sidebarOpen");return ye?JSON.parse(ye):!1}),[r,n]=y.useState(!1),[a,s]=y.useState([]),[o,l]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(1),[g]=y.useState(10),{user:p,getAuditTrail:v,isAuthenticated:w}=ir();nr();const[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(!1),[A,_]=y.useState(!1),M=y.useRef(null),R=y.useRef(null),[L,I]=y.useState({key:"changed_at",direction:"descending"}),[B,D]=y.useState(""),E=N$e(B,300),[H,V]=y.useState(!1),[Y,W]=y.useState(null),F=y.useCallback(async()=>{try{l(!0),u(null);const ye=await v();s(ye)}catch(ye){console.error("Failed to fetch audit trail:",ye),u("Failed to load audit trail data. Please try again."),s([])}finally{l(!1)}},[v]);y.useEffect(()=>{F()},[F]),y.useEffect(()=>{const ye=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[]),y.useEffect(()=>{const ye=ae=>{M.current&&!M.current.contains(ae.target)&&S(!1),R.current&&!R.current.contains(ae.target)&&_(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]);const z=ye=>{D(ye.target.value)},J=ye=>{let ae="ascending";L&&L.key===ye&&L.direction==="ascending"&&(ae="descending"),I({key:ye,direction:ae})},oe=ye=>typeof ye=="object"&&ye!==null?ye.name||ye.toString():(ye==null?void 0:ye.toString())||"",K=y.useCallback(ye=>{W(ye),V(!0)},[]),U=ye=>{switch(ye){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},X=ye=>ye?ye.replace("App\\Models\\",""):"Unknown",Z=fe.useMemo(()=>{let ye=[...a||[]];if(E.trim()){const ae=E.toLowerCase().trim();ye=ye.filter(ie=>{var ct,Le,Qe;return[((ct=ie.changed_by)==null?void 0:ct.toLowerCase())||"",((Le=ie.action)==null?void 0:Le.toLowerCase())||"",((Qe=ie.recordable_type)==null?void 0:Qe.toLowerCase())||"",JSON.stringify(ie.old_data_snapshot||{}).toLowerCase(),JSON.stringify(ie.new_data_snapshot||{}).toLowerCase()].some(yt=>yt.includes(ae))})}return L!==null?ye.sort((ae,ie)=>{if(L.key==="changed_at"){const Le=new Date(ae.changed_at).getTime(),Qe=new Date(ie.changed_at).getTime();return L.direction==="ascending"?Le-Qe:Qe-Le}const dt=oe(ae[L.key]),ct=oe(ie[L.key]);return dt<ct?L.direction==="ascending"?-1:1:dt>ct?L.direction==="ascending"?1:-1:0}):ye.sort((ae,ie)=>{const dt=new Date(ae.changed_at).getTime();return new Date(ie.changed_at).getTime()-dt}),ye},[a,E,L]),ne=f*g,ue=ne-g,_e=Z.slice(ue,ne),Ne=Math.ceil(Z.length/g),ge=ye=>m(ye),ke=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(ye=>!ye)},ze=ye=>{try{return new Date(ye).toLocaleString()}catch{return ye}},he=({log:ye,onClose:ae})=>{const ie=rt=>rt==null?"-":typeof rt=="object"&&rt!==null?JSON.stringify(rt):typeof rt=="string"?rt.trim()!==""?rt.trim():"-":typeof rt=="number"?rt.toString():typeof rt=="boolean"?rt?"Yes":"No":String(rt),dt=rt=>!rt||rt.trim()===""?"-":md.sanitize(rt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),ct=rt=>{try{return new Date(rt).toLocaleString()}catch{return rt}},Le=rt=>rt?rt.replace("App\\Models\\",""):"Unknown",Qe=({title:rt,children:Nt,icon:kt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[kt&&i.jsx("div",{className:"mr-3 text-blue-600",children:kt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:rt})]})}),i.jsx("div",{className:"p-6",children:Nt})]}),yt=({label:rt,value:Nt,icon:kt,fullWidth:De=!1,priority:vt="medium"})=>{const Pe={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${De?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${Pe[vt]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[kt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:kt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:rt}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Nt})]})]})})})},bt=()=>{const rt=ye.old_data_snapshot?Object.keys(ye.old_data_snapshot):[],Nt=ye.new_data_snapshot?Object.keys(ye.new_data_snapshot):[];return[...new Set([...rt,...Nt])].filter(De=>!["id","created_at","updated_at","deleted_at"].includes(De))},It=(rt,Nt)=>{if(rt===void 0&&Nt===void 0||rt===null&&Nt===null)return!0;if(rt===void 0&&Nt===null||rt===null&&Nt===void 0)return!1;if(rt===Nt)return!0;if(!isNaN(Number(rt))&&!isNaN(Number(Nt)))return Number(rt)===Number(Nt);if(typeof rt=="boolean"&&typeof Nt=="boolean")return rt===Nt;if(typeof rt=="string"&&typeof Nt=="string")return rt.trim().toLowerCase()===Nt.trim().toLowerCase();if(typeof rt=="object"&&typeof Nt=="object"&&rt!==null&&Nt!==null)try{return JSON.stringify(rt)===JSON.stringify(Nt)}catch{return String(rt)===String(Nt)}const kt=String(rt||"").trim(),De=String(Nt||"").trim();return(kt===""||kt==="null"||kt==="undefined")&&(De===""||De==="null"||De==="undefined")?!0:kt===De},At=()=>{const rt=bt();if(rt.length===0)return i.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const Nt=rt.map(vt=>{const Pe=ye.old_data_snapshot??{},$e=ye.new_data_snapshot??{},Ae=Object.prototype.hasOwnProperty.call(Pe,vt),Ye=Object.prototype.hasOwnProperty.call($e,vt),tt=Ae?Pe[vt]:void 0;let ve=Ye?$e[vt]:void 0;ye.action==="updated"&&Ae&&!Ye&&(ve=tt);let pe;return!Ae&&Ye?pe="added":Ae&&!Ye?pe=ye.action==="deleted"?"removed":"unchanged":It(tt,ve)?pe="unchanged":pe="updated",{key:vt,oldValue:tt,newValue:ve,status:pe}}),kt=Nt.filter(vt=>vt.status!=="unchanged").length,De=Nt.length-kt;return i.jsxs("div",{className:"overflow-x-auto",children:[i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),i.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Nt.map(({key:vt,oldValue:Pe,newValue:$e,status:Ae})=>{const Ye=vt.split("_").map(pt=>pt.charAt(0).toUpperCase()+pt.slice(1)).join(" "),tt=vt.toLowerCase().includes("complaint")||vt.toLowerCase().includes("action_taken")||vt.toLowerCase().includes("remarks"),ve=tt?dt(String(Pe||"")):ie(Pe),pe=tt?dt(String($e||"")):ie($e),We=Ae==="updated"?"bg-yellow-50":Ae==="added"?"bg-green-50":Ae==="removed"?"bg-red-50":"";return i.jsxs("tr",{className:We,children:[i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Ye}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:tt?i.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${Ae==="removed"?"bg-red-100 text-red-800 border border-red-200":Ae==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ve}}):i.jsx("div",{className:`p-2 rounded ${Ae==="removed"?"bg-red-100 text-red-800 border border-red-200":Ae==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ve})}),i.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:tt?i.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${Ae==="added"?"bg-green-100 text-green-800 border border-green-200":Ae==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:pe}}):i.jsx("div",{className:`p-2 rounded ${Ae==="added"?"bg-green-100 text-green-800 border border-green-200":Ae==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:pe})}),i.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:Ae==="added"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[i.jsx(di,{className:"w-3 h-3 mr-1"}),"Added"]}):Ae==="removed"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[i.jsx(ha,{className:"w-3 h-3 mr-1"}),"Removed"]}):Ae==="updated"?i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[i.jsx(hc,{className:"w-3 h-3 mr-1"}),"Updated"]}):i.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[i.jsx(wr,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},vt)})})]}),i.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[i.jsx("span",{className:"font-medium",children:kt})," field(s) changed  ",i.jsx("span",{className:"font-medium",children:De})," field(s) unchanged"]})]})},Se=(rt,Nt)=>{if(!rt||Object.keys(rt).length===0)return i.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Nt," data available"]});const kt=Object.entries(rt).filter(([De])=>!["id","created_at","updated_at","deleted_at"].includes(De));return kt.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",Nt," data available"]}):i.jsx("div",{className:"space-y-4",children:kt.map(([De,vt])=>{const Pe=De.split("_").map(Ae=>Ae.charAt(0).toUpperCase()+Ae.slice(1)).join(" "),$e=De.toLowerCase().includes("complaint")||De.toLowerCase().includes("action_taken")||De.toLowerCase().includes("remarks");return i.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[i.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:i.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:Pe})}),i.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:$e?i.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:dt(String(vt||""))}}):i.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:ie(vt)})})]},De)})})},gt=(rt,Nt)=>{if(!rt||Object.keys(rt).length===0)return i.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Nt.toLowerCase()," available"]});const kt=Object.entries(rt).filter(([De,vt])=>!(["id","created_at","updated_at","deleted_at"].includes(De)||vt==null||vt===""));return kt.length===0?i.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",Nt.toLowerCase()," available"]}):i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:kt.map(([De,vt])=>{const Pe=De.split("_").map($e=>$e.charAt(0).toUpperCase()+$e.slice(1)).join(" ");return i.jsx(yt,{label:Pe,value:ie(vt)},De)})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",ye.id]}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ye.action==="created"?"bg-green-100 text-green-800 border border-green-300":ye.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":ye.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Timestamp: ",ct(ye.changed_at)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(un,{className:"w-4 h-4"}),"User: ",ye.changed_by||"N/A"]})]})]})})}),i.jsx(Qe,{title:"General Information",icon:i.jsx(bn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(yt,{label:"Audit ID",value:ie(ye.id),icon:i.jsx(Lg,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Timestamp",value:ct(ye.changed_at),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"User",value:ie(ye.changed_by),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Action",value:ie(ye.action),icon:i.jsx(hc,{className:"w-4 h-4"}),priority:"high"}),i.jsx(yt,{label:"Record Type",value:Le(ye.recordable_type),icon:i.jsx(gf,{className:"w-4 h-4"})}),i.jsx(yt,{label:"Record ID",value:ie(ye.recordable_id),icon:i.jsx(qb,{className:"w-4 h-4"})})]})}),ye.recordable_details&&Object.keys(ye.recordable_details).length>0&&i.jsx(Qe,{title:"Record Details",icon:i.jsx(gf,{className:"w-5 h-5"}),children:gt(ye.recordable_details,"Record Details")}),i.jsx(Qe,{title:"Data Changes Comparison",icon:i.jsx(hc,{className:"w-5 h-5"}),children:At()}),i.jsx(Qe,{title:"Complete Data Snapshots",icon:i.jsx(kN,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-8",children:[ye.old_data_snapshot&&Object.keys(ye.old_data_snapshot).length>0&&i.jsxs("div",{className:"w-full",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:Se(ye.old_data_snapshot,"old")})]}),ye.new_data_snapshot&&Object.keys(ye.new_data_snapshot).length>0&&i.jsxs("div",{className:"w-full",children:[i.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),i.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:Se(ye.new_data_snapshot,"new")})]})]})}),i.jsx(Qe,{title:"Audit Summary",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),i.jsxs("p",{className:"text-sm text-green-600",children:[Le(ye.recordable_type),"  ID: ",ye.recordable_id]})]})]})}),i.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:i.jsx(O.button,{type:"button",onClick:ae,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:i.jsx(qb,{}),isMobile:b,toggleSidebar:ke}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",i.jsx("span",{className:"text-blue-600",children:"Trail"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),i.jsx(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:B,onChange:z,"aria-label":"Search audit logs"})]})})}),o?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Ur,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),i.jsx("button",{onClick:F,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):Z.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:E?"No audit entries found matching your search.":"No audit entries available."}),E&&i.jsx("button",{onClick:()=>D(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>J("changed_at"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(kr,{className:"mr-2 text-sm"})," Timestamp",(L==null?void 0:L.key)==="changed_at"?i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""}):i.jsx("span",{className:"ml-1 text-gray-400",children:""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>J("changed_by"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(un,{className:"mr-2 text-sm"})," User",(L==null?void 0:L.key)==="changed_by"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>J("action"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(hc,{className:"mr-2 text-sm"})," Action",(L==null?void 0:L.key)==="action"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>J("recordable_type"),children:i.jsxs("div",{className:"flex items-center",children:[i.jsx(gf,{className:"mr-2 text-sm"})," Record Type",(L==null?void 0:L.key)==="recordable_type"&&i.jsx("span",{className:"ml-1",children:L.direction==="ascending"?"":""})]})}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:_e.map(ye=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ze(ye.changed_at)})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:ye.changed_by||"N/A"})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${U(ye.action)} shadow-sm`,children:ye.action.charAt(0).toUpperCase()+ye.action.slice(1)})}),i.jsxs("td",{className:"px-5 py-3",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:X(ye.recordable_type)}),ye.recordable_id&&i.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",ye.recordable_id]})]}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(ye),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[i.jsx(Io,{className:"text-lg"}),i.jsx("span",{children:"View"})]})})]},ye.id))})]})})}),Z.length>g&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:ue+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(ne,Z.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:Z.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(f-1),disabled:f===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ne},(ye,ae)=>i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(ae+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${f===ae+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ae+1}`,children:ae+1},ae+1)),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(f+1),disabled:f===Ne,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),Y&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",Y.id]}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{V(!1),W(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(he,{log:Y,onClose:()=>{V(!1),W(null)}})})]})})})]})},k$e=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),i.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:i.jsxs(O.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workflowapproval/monitoringapproval"),children:[i.jsx(Ax,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",i.jsx(ta,{size:18,className:"ml-1"})]})]})})]})]})]})},aV=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,C$e=()=>{const t=nr(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:a}=ir(),[s,o]=y.useState(window.innerWidth<768),[l,c]=y.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[f,m]=y.useState(!1),[g,p]=y.useState(""),[v,w]=y.useState([]),[b,N]=y.useState(!1),[k,S]=y.useState(""),[A,_]=y.useState(!1),[M,R]=y.useState(null),L=(H,V,Y)=>{R({type:H,templateId:V,templateName:Y}),_(!0)},I=async()=>{if(M)try{N(!0),M.type==="activate"?(await a(M.templateId),w(H=>H.map(V=>({...V,is_active:V.id===M.templateId})))):M.type==="delete"&&(await n(M.templateId),await B()),_(!1),R(null),S("")}catch(H){S(`Failed to ${M.type} template`),console.error(`Error ${M.type}ing template:`,H)}finally{N(!1)}};y.useEffect(()=>{B()},[]);const B=async()=>{try{N(!0);const H=await e();w(H||[])}catch(H){S("Failed to load approval templates"),console.error("Error loading templates:",H)}finally{N(!1)}},D=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:g,is_active:!1});w(V=>[...V,H]),m(!1),p(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},E=H=>{t(`/workflowapproval/monitoringapproval/configureapproval/${H.id}`)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:s,toggleSidebar:u}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(VE,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),i.jsxs(O.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:b,children:[i.jsx(BK,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),b?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(rm,{className:"animate-spin text-blue-600",size:32})}):i.jsx("div",{className:"space-y-4",children:v.length>0?v.map(H=>i.jsx(O.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[i.jsx(gf,{size:20,className:"mr-2 text-blue-500"}),H.name]}),i.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),H.approvers&&i.jsxs("span",{className:"text-xs text-gray-500",children:[H.approvers.length," approver(s)"]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{onClick:()=>E(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:b,children:"Configure"}),!H.is_active&&i.jsx(O.button,{onClick:V=>{V.stopPropagation(),L("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:b,children:"Activate"}),i.jsx(O.button,{onClick:V=>{V.stopPropagation(),L("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:b,children:"Delete"})]})]})},H.id)):i.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),i.jsx(aV,{isOpen:A,onClose:()=>{_(!1),R(null)},title:"Confirm Action",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",M==null?void 0:M.type,' template "',M==null?void 0:M.templateName,'"?',(M==null?void 0:M.type)==="delete"&&" This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),R(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(M==null?void 0:M.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(M==null?void 0:M.type)==="delete"?"Delete":"Activate"})]})]})}),i.jsx(aV,{isOpen:f,onClose:()=>m(!1),title:"Create New Template",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),i.jsx("input",{type:"text",id:"templateName",value:g,onChange:H=>p(H.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&i.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),i.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),p(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),i.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:b||!g.trim(),children:[b?i.jsx(rm,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},iV=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),_$e=()=>{const[t,e]=y.useState([]),[r,n]=y.useState(!0),[a,s]=y.useState(!1),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(""),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),A=y.useRef(!0),[_]=y.useState(window.innerWidth<768),[M,R]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),L=nr(),{getServiceGroups:I,getServiceGroup:B,hasPermission:D}=ir(),E=()=>{const F=!M;R(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},H=y.useCallback(async()=>{try{n(!0);const z=(await I(0)).map(J=>({id:Number(J.id),name:J.group_name??"",description:J.group_description??void 0}));e(z)}catch(F){S("Failed to load service groups"),console.error("Error loading service groups:",F)}finally{A.current&&n(!1)}},[I]);y.useEffect(()=>(A.current=!0,H(),()=>{A.current=!1}),[H]);const V=async()=>{if(!c.trim()){S("Group Name is required");return}p(!0),S(null);try{if(await new Promise(F=>setTimeout(F,500)),o)e(F=>F.map(z=>z.id===o.id?{...z,name:c.trim(),description:f.trim()||void 0}:z));else{const F={id:t.length>0?Math.max(...t.map(z=>z.id))+1:1,name:c.trim(),description:f.trim()||void 0};e(z=>[...z,F])}s(!1),l(null),u(""),m("")}catch(F){S("Failed to save service group"),console.error("Error saving service group:",F)}finally{p(!1)}},Y=F=>{if(!D("manage_users")){S("You don't have permission to delete service groups");return}w(F),N(!0),S(null)},W=async()=>{if(v!==null){p(!0),S(null);try{await new Promise(F=>setTimeout(F,500)),e(F=>F.filter(z=>z.id!==v)),N(!1),w(null)}catch(F){S("Failed to delete service group"),console.error("Error deleting service group:",F)}finally{p(!1)}}};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(Va,{}),isMobile:_,toggleSidebar:E}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",i.jsx("span",{className:"text-blue-600",children:"Groups"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),D("manage_users")&&i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>L("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Group"})]})]}),r?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:i.jsx(HK,{})}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),D("manage_users")&&i.jsx("button",{onClick:()=>L("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:F.description||"-"})}),D("manage_users")&&i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>L(`/service/servicegroups/editservicegroup/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Y(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})}),k&&i.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})]}),i.jsx(iV,{isOpen:a,onClose:()=>s(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),i.jsx("input",{value:c,onChange:F=>u(F.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),i.jsx("textarea",{value:f,onChange:F=>m(F.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{s(!1),l(null),u(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:V,disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:g?"Saving...":"Save"})]}),k&&i.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:i.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})}),i.jsx(iV,{isOpen:b,onClose:()=>N(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:i.jsx(ha,{})}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,disabled:g,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:g?"Deleting...":"Delete"})]})]})})]})};function A$e(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const kT=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),a2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const l=a?((f,m)=>{if(m===0)return f>0?"+100%":"0%";const g=(f-m)/m*100;return`${g>=0?"+":""}${Math.round(g)}%`})(e,r):((f,m)=>{const g=f-m;return`${g>0?"+":g<0?"":"+"}${g}`})(e,r),c=e>=r,u=a?`${l} from last month`:`${l} from last month`;return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:u})]})},T$e=()=>{const t=ir(),[e,r]=y.useState(()=>{const Re=localStorage.getItem("sidebarOpen");return JSON.parse(Re||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(Re=>!Re)},a=nr(),[s,o]=y.useState(null),l=Re=>{o(Re),u(!0)},[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(!1),[v,w]=y.useState(!1),[b,N]=y.useState(""),[k,S]=y.useState(!1),[A,_]=y.useState(""),[M,R]=y.useState(""),[L,I]=y.useState(!0),[B,D]=y.useState([]),[E,H]=y.useState([]),[V,Y]=y.useState([]),[W,F]=y.useState(!1),[z,J]=y.useState(null),[oe,K]=y.useState(!1),[U,X]=y.useState(null),[Z,ne]=y.useState(null),[ue,_e]=y.useState(!1),Ne=A$e(b,300),ge=y.useRef(null),[ke,ze]=y.useState(1),he=10,[ye,ae]=y.useState({key:"created_at",direction:"descending"}),[ie,dt]=y.useState(null),[ct,Le]=y.useState(!1),[Qe,yt]=y.useState(window.innerWidth<768),bt=y.useRef(null),It=y.useRef(null),At=y.useCallback(async()=>{try{const Fe=(await t.getServiceGroups(0)||[]).map(Ue=>Ue.group_name||Ue.group_description?{id:Ue.id,group_name:Ue.group_name,group_description:Ue.group_description,name:Ue.group_name||Ue.name}:{id:Ue.id,name:Ue.name||null});H(Fe)}catch{H([])}},[t]),Se=y.useCallback(async()=>{try{const Fe=(await t.getUsers()||[]).map(Ue=>({id:Number(Ue.id),name:Ue.name}));Y(Fe)}catch{Y([])}},[t]),gt=y.useCallback(Re=>({id:Re.id??0,service_name:Re.service_name??Re.name??"",service_description:Re.service_description??Re.description??"",service_type:Number(Re.service_type??Re.service_type??0),priority:Re.priority??"Low",service_owner:Number(Re.service_owner??Re.service_owner??Re.owner??0),sla:Number(Re.sla??Re.sla??0),impact:Re.impact??"",created_at:Re.created_at??Re.createdAt??new Date().toISOString(),updated_at:Re.updated_at??Re.updatedAt??new Date().toISOString()}),[]),rt=y.useCallback(async()=>{I(!0),dt(null);try{const Fe=(await t.getServices(0)||[]).map(gt);Fe.sort((Ue,Lt)=>Ue.created_at<Lt.created_at?1:-1),D(Fe)}catch{dt("Failed to load service catalogue."),D([])}finally{I(!1)}},[t,gt]);y.useEffect(()=>{let Re=!0;return Re&&(rt(),At(),Se()),()=>{Re=!1}},[rt,At,Se]),y.useEffect(()=>{const Re=()=>{yt(window.innerWidth<768)};return window.addEventListener("resize",Re),()=>window.removeEventListener("resize",Re)},[]),y.useEffect(()=>{const Re=Fe=>{bt.current&&!bt.current.contains(Fe.target)&&w(!1),It.current&&!It.current.contains(Fe.target)&&p(!1)};return document.addEventListener("mousedown",Re),()=>{document.removeEventListener("mousedown",Re)}},[]);const Nt=(Re,Fe)=>{ne({type:Re,message:Fe}),setTimeout(()=>ne(null),3e3)},kt=B.length,De=y.useMemo(()=>{const Re={Critical:0,High:0,Medium:0,Low:0};return B.forEach(Fe=>{const Ue=Fe.priority||"Low";Re[Ue]=(Re[Ue]||0)+1}),Re},[B]),vt=y.useMemo(()=>{if(B.length===0)return 0;const Re=B.reduce((Fe,Ue)=>Fe+(Ue.sla||0),0);return Math.round(Re/B.length*100)/100},[B]),Pe=y.useMemo(()=>{const Re=new Set;return B.forEach(Fe=>Re.add(Fe.service_owner)),Re.size},[B]),$e=y.useMemo(()=>{const Re=new Date;return Re.setMonth(Re.getMonth()-1),B.filter(Fe=>new Date(Fe.created_at)<Re)},[B]),Ae=()=>{_(""),R(""),N("")},Ye=Re=>{let Fe="ascending";ye&&ye.key===Re&&ye.direction==="ascending"&&(Fe="descending"),ae({key:Re,direction:Fe})},tt=async Re=>{if(Re){_e(!0);try{const Ue=(await Re.text()).split(`
`).map(zt=>zt.trim()).filter(Boolean),Lt=[];for(let zt=0;zt<Ue.length;zt++){const Ut=Ue[zt].split(",").map(jt=>jt.trim()),st={service_name:Ut[1]||`Imported Service ${zt+1}`,service_description:Ut[2]||"",service_type:E[0]?Number(E[0].id):0,priority:Ut[4]||"Low",service_owner:V[0]?V[0].id:0,sla:Number(Ut[6])||24,impact:Ut[7]||""};Lt.push(st)}for(const zt of Lt)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(zt)});await rt(),Nt("success",`Imported ${Lt.length} services`)}catch{Nt("error","Import failed")}finally{_e(!1)}}},ve=Re=>{var Ue;const Fe=((Ue=Re.target.files)==null?void 0:Ue[0])||null;Fe&&tt(Fe),Re.target.value=""},pe=Re=>{X(Re),K(!0)},We=async()=>{if(U){Le(!0);try{await t.fetchWithAuth(`/service-catalogues/${U}`,{method:"DELETE"}),await rt(),K(!1),X(null),Nt("success","Service deleted")}catch{Nt("error","Failed to delete service")}finally{Le(!1)}}},pt=y.useMemo(()=>{let Re=[...B];if(Ne.trim()){const Fe=Ne.toLowerCase().trim();Re=Re.filter(Ue=>Ue.service_name.toLowerCase().includes(Fe)||(Ue.service_description||"").toLowerCase().includes(Fe))}return A&&(Re=Re.filter(Fe=>String(Fe.service_type)===String(A))),M&&(Re=Re.filter(Fe=>Fe.priority===M)),ye&&Re.sort((Fe,Ue)=>{const Lt=Fe[ye.key],zt=Ue[ye.key];return Lt<zt?ye.direction==="ascending"?-1:1:Lt>zt?ye.direction==="ascending"?1:-1:0}),Re},[B,Ne,A,M,ye]),Je=Re=>{switch(Re){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},we=ke*he,te=we-he,Oe=pt.slice(te,we),He=Math.max(1,Math.ceil(pt.length/he)),Ze=()=>{const[Re,Fe]=y.useState((z==null?void 0:z.service_name)||""),[Ue,Lt]=y.useState((z==null?void 0:z.service_description)||""),[zt,Ut]=y.useState((z==null?void 0:z.service_type)||""),[st,jt]=y.useState((z==null?void 0:z.priority)||"Low"),[Vt,gr]=y.useState((z==null?void 0:z.service_owner)||(V[0]?V[0].id:"")),[fn,gn]=y.useState((z==null?void 0:z.sla)||24),[ar,Wr]=y.useState((z==null?void 0:z.impact)||""),[Kr,Zt]=y.useState({}),et=async()=>{if(Zt({}),!Re.trim()){Zt({service_name:"Service Name is required"});return}if(!zt){Zt(nt=>({...nt,service_type:"Service Type is required"}));return}if(!st){Zt(nt=>({...nt,priority:"Priority is required"}));return}if(isNaN(Number(fn))){Zt(nt=>({...nt,sla:"SLA must be a number"}));return}Le(!0);try{const nt={service_name:Re.trim(),service_description:Ue.trim(),service_type:Number(zt),priority:st,service_owner:Number(Vt)||0,sla:Number(fn)||0,impact:ar.trim()};z?(await t.fetchWithAuth(`/service-catalogues/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)}),Nt("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(nt)}),Nt("success","Service created")),await rt(),F(!1)}catch{Nt("error","Save failed")}finally{Le(!1)}};return i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),i.jsx("input",{value:Re,onChange:nt=>Fe(nt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.service_name&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),i.jsx("textarea",{value:Ue,onChange:nt=>Lt(nt.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),i.jsxs("select",{value:zt,onChange:nt=>Ut(nt.target.value?Number(nt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"",children:"-- Select Group --"}),E.map(nt=>i.jsx("option",{value:String(nt.id),children:nt.group_name??nt.name??String(nt.id)},String(nt.id)))]}),Kr.service_type&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.service_type})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),i.jsxs("select",{value:st,onChange:nt=>jt(nt.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]}),Kr.priority&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.priority})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),i.jsx("input",{type:"number",value:fn,onChange:nt=>gn(Number(nt.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Kr.sla&&i.jsx("p",{className:"text-xs text-red-600 mt-1",children:Kr.sla})]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),i.jsxs("select",{value:Vt,onChange:nt=>gr(nt.target.value?Number(nt.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[i.jsx("option",{value:"",children:"-- Select Owner --"}),V.map(nt=>i.jsx("option",{value:nt.id,children:nt.name},nt.id))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),i.jsx("textarea",{value:ar,onChange:nt=>Wr(nt.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[i.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>F(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et,disabled:ct,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:ct?"Saving...":"Save"})]})]})},ft=({service:Re,onClose:Fe})=>{var gr,fn,gn;const Ue=ar=>ar==null?"-":typeof ar=="string"?ar.trim()!==""?ar.trim():"-":typeof ar=="number"?ar.toString():String(ar),Lt=ar=>ar?new Date(ar).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",zt=({priority:ar})=>{const Wr={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Wr[ar]||Wr.Low}`,children:ar})},Ut=({title:ar,children:Wr,icon:Kr})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[Kr&&i.jsx("div",{className:"mr-3 text-blue-600",children:Kr}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ar})]})}),i.jsx("div",{className:"p-6",children:Wr})]}),st=({label:ar,value:Wr,icon:Kr,fullWidth:Zt=!1,priority:et="medium"})=>{const nt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Zt?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${nt[et]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Kr&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Kr}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:ar}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Wr})]})]})})})},jt=((gr=V.find(ar=>ar.id===Number(Re.service_owner)))==null?void 0:gr.name)??String(Re.service_owner),Vt=((fn=E.find(ar=>String(ar.id)===String(Re.service_type)))==null?void 0:fn.group_name)??((gn=E.find(ar=>String(ar.id)===String(Re.service_type)))==null?void 0:gn.name)??String(Re.service_type);return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:Re.service_name}),i.jsx(zt,{priority:Re.priority})]}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Created: ",Lt(Re.created_at)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Fe,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(Ut,{title:"Service Information",icon:i.jsx(Zi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(st,{label:"Service Name",value:Ue(Re.service_name),icon:i.jsx(of,{className:"w-4 h-4"}),priority:"high"}),i.jsx(st,{label:"Service Type",value:Ue(Vt),icon:i.jsx(HK,{className:"w-4 h-4"}),priority:"high"}),i.jsx(st,{label:"Priority",value:Ue(Re.priority),icon:i.jsx(Ur,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(Ut,{title:"Service Details",icon:i.jsx(of,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(st,{label:"Service Description",value:Ue(Re.service_description),icon:i.jsx(of,{className:"w-4 h-4"}),fullWidth:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(st,{label:"Service Owner",value:Ue(jt),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(st,{label:"SLA (hours)",value:Ue(Re.sla),icon:i.jsx(kr,{className:"w-4 h-4"})})]})]})}),i.jsx(Ut,{title:"Additional Information",icon:i.jsx(Zi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(st,{label:"Impact",value:Ue(Re.impact),icon:i.jsx(Ur,{className:"w-4 h-4"}),fullWidth:!0}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(st,{label:"Created At",value:Lt(Re.created_at),icon:i.jsx(Oa,{className:"w-4 h-4"})}),i.jsx(st,{label:"Updated At",value:Lt(Re.updated_at),icon:i.jsx(Oa,{className:"w-4 h-4"})})]})]})})]})};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:Qe,toggleSidebar:n}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",i.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>a("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Service"})]}),i.jsxs("label",{className:"flex items-center cursor-pointer",children:[i.jsx("input",{type:"file",accept:".csv",onChange:ve,className:"hidden"}),i.jsxs(O.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:ue?"Importing...":"Import"})]})]}),i.jsxs(O.button,{onClick:()=>S(Re=>!Re),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:k?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(a2,{title:"Total Services",currentCount:kt,lastMonthCount:$e.length,icon:i.jsx(Zi,{})}),i.jsx(a2,{title:"Critical",currentCount:De.Critical,lastMonthCount:$e.filter(Re=>Re.priority==="Critical").length,icon:i.jsx(Zi,{}),usePercentage:!1}),i.jsx(a2,{title:"Average SLA (hrs)",currentCount:vt,lastMonthCount:$e.length>0?Math.round($e.reduce((Re,Fe)=>Re+(Fe.sla||0),0)/$e.length*100)/100:0,icon:i.jsx(Zi,{}),usePercentage:!1}),i.jsx(a2,{title:"Total Owners",currentCount:Pe,lastMonthCount:new Set($e.map(Re=>Re.service_owner)).size,icon:i.jsx(un,{}),usePercentage:!1})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[i.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:ge,value:b,onChange:Re=>N(Re.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),i.jsx(sr,{children:k&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[i.jsxs("select",{value:A,onChange:Re=>_(Re.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[i.jsx("option",{value:"",children:"All Groups"}),E.map(Re=>i.jsx("option",{value:String(Re.id),children:Re.group_name??Re.name??String(Re.id)},String(Re.id)))]}),i.jsxs("select",{value:M,onChange:Re=>R(Re.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[i.jsx("option",{value:"",children:"All Priorities"}),i.jsx("option",{value:"Critical",children:"Critical"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),L?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):ie?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[i.jsx(Zi,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:ie}),i.jsx("div",{className:"mt-4",children:i.jsx("button",{onClick:rt,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):pt.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:Ne||A||M?"No services found matching your filters.":"No services available."}),(Ne||A||M)&&i.jsx("button",{onClick:Ae,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>Ye("service_name"),children:"Service Name"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Oe.map((Re,Fe)=>{var zt,Ut,st;const Ue=((zt=V.find(jt=>jt.id===Number(Re.service_owner)))==null?void 0:zt.name)??String(Re.service_owner),Lt=((Ut=E.find(jt=>String(jt.id)===String(Re.service_type)))==null?void 0:Ut.group_name)??((st=E.find(jt=>String(jt.id)===String(Re.service_type)))==null?void 0:st.name)??String(Re.service_type);return i.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:te+Fe+1}),i.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:Re.service_name}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Lt}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Je(Re.priority)} shadow-sm`,children:Re.priority})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ue}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Re.sla}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Re.impact||"-"}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(Re),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>a(`/services/servicecatalogues/editservicecatalogue/${Re.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:i.jsx(Ci,{className:"text-lg"})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>pe(Re.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:i.jsx(ha,{className:"text-lg"})})]})]},Re.id)})})]})})}),pt.length>he&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:te+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(we,pt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:pt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(Re=>Math.max(1,Re-1)),disabled:ke===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:He},(Re,Fe)=>i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(Fe+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${ke===Fe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Fe+1},Fe+1)),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(Re=>Math.min(He,Re+1)),disabled:ke===He,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),i.jsx(kT,{isOpen:W,onClose:()=>F(!1),title:z?"Edit Service":"Add Service",className:"max-w-3xl",children:i.jsx(Ze,{})}),i.jsx(kT,{isOpen:oe,onClose:()=>K(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Zi,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:We,disabled:ct,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),i.jsx(kT,{isOpen:c,onClose:()=>u(!1),title:"Service Details",className:"max-w-5xl",children:s&&i.jsx(ft,{service:s,onClose:()=>u(!1)})}),Z&&i.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:i.jsx(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${Z.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:Z.message})})]})},M$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,O$e=()=>{const t=ir(),{addServiceGroup:e}=t,[r,n]=y.useState(window.innerWidth<768),[a,s]=y.useState(()=>{const A=localStorage.getItem("sidebarOpen");return JSON.parse(A||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(A=>!A)},l=nr(),[c,u]=y.useState(""),[f,m]=y.useState(""),[g,p]=y.useState(!1),[v,w]=y.useState(null),[b,N]=y.useState(!1),k=async A=>{if(A.preventDefault(),w(null),!c.trim()){w("Group Name is required");return}p(!0);try{await e({group_name:c.trim(),group_description:f.trim()||null}),N(!0)}catch(_){const M=_ instanceof Error?_.message:"Failed to save service group";w(M)}finally{p(!1)}},S=()=>{N(!1),l("/servicegroups")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Va,{}),isMobile:r,toggleSidebar:o}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),i.jsxs(O.button,{onClick:()=>l("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[v&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),i.jsx("span",{className:"ml-2",children:v})]}),i.jsxs("form",{onSubmit:k,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{name:"group_name",value:c,onChange:A=>u(A.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),i.jsx("textarea",{name:"group_description",value:f,onChange:A=>m(A.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:g?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),i.jsx(M$e,{isOpen:b,onClose:S,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},E$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,D$e=()=>{const e=js().id,r=nr(),n=ir(),{getServiceGroup:a,updateServiceGroup:s}=n,[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(()=>{const I=localStorage.getItem("sidebarOpen");return JSON.parse(I||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(I=>!I)},[m,g]=y.useState(""),[p,v]=y.useState(""),[w,b]=y.useState(!1),[N,k]=y.useState(!0),[S,A]=y.useState(null),[_,M]=y.useState(!1);y.useEffect(()=>{let I=!0;return(async()=>{k(!0),A(null);try{if(!e){A("Missing service group id");return}const D=await a(e);if(!I)return;g(String(D.group_name??"")),v(String(D.group_description??"")||"")}catch(D){const E=D instanceof Error?D.message:"Failed to load service group";A(E)}finally{I&&k(!1)}})(),()=>{I=!1}},[a,e]);const R=async I=>{if(I.preventDefault(),A(null),!m.trim()){A("Group Name is required");return}b(!0);try{const B=Number(e);await s(B,{group_name:m.trim(),group_description:p.trim()||null}),M(!0)}catch(B){const D=B instanceof Error?B.message:"Failed to update service group";A(D)}finally{b(!1)}},L=()=>{M(!1),r("/servicegroups")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Va,{}),isMobile:o,toggleSidebar:f}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?i.jsxs("div",{className:"text-center p-8",children:[i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):i.jsxs(i.Fragment,{children:[S&&i.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-semibold",children:"Error: "}),i.jsx("span",{className:"ml-2",children:S})]}),i.jsxs("form",{onSubmit:R,className:"space-y-6",children:[i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{name:"group_name",value:m,onChange:I=>g(I.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),i.jsx("textarea",{name:"group_description",value:p,onChange:I=>v(I.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),i.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[i.jsx(O.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:w,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:w?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),i.jsx(E$e,{isOpen:_,onClose:L,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},P$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,L$e=()=>{const{id:t}=js(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:a}=ir(),s=nr(),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(()=>{const Y=localStorage.getItem("sidebarOpen");return JSON.parse(Y||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(Y=>!Y)},[m,g]=y.useState(!1),[p,v]=y.useState(!0),[w,b]=y.useState(null),[N,k]=y.useState(null),[S,A]=y.useState(!1),[_,M]=y.useState([]),[R,L]=y.useState([]),[I,B]=y.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),D=y.useCallback(async()=>{try{const[Y,W,F]=await Promise.all([a(`/service-catalogues/${t}`),r(0),n()]),z=Y.data||Y;M(W),L(F),z&&B({service_name:z.service_name||"",service_description:z.service_description||"",service_type:String(z.service_type||""),priority:z.priority||"Low",service_owner:String(z.service_owner||""),sla:z.sla?parseFloat(z.sla):24,impact:z.impact||""})}catch(Y){b(Y.message||"Failed to load service data")}finally{v(!1)}},[t,a,r,n]);y.useEffect(()=>{t&&D()},[t,D]);const E=Y=>{const{name:W,value:F}=Y.target;B(z=>({...z,[W]:W==="sla"?Number(F):F}))},H=async Y=>{if(Y.preventDefault(),g(!0),b(null),!I.service_name||!I.service_type||!I.priority||!I.service_owner||!I.sla){b("Please fill all required fields"),g(!1);return}try{const W={service_name:I.service_name,service_description:I.service_description,service_type:Number(I.service_type),priority:I.priority,service_owner:Number(I.service_owner),sla:I.sla,impact:I.impact};await e(t,W),k("Service Catalogue updated successfully!"),A(!0)}catch(W){b(W.message||"Failed to update Service Catalogue")}finally{g(!1)}},V=()=>{A(!1),s("/services/servicecatalogues")};return p?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:o,toggleSidebar:f}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),i.jsxs(O.button,{onClick:()=>s("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:w}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>b(null)})})]}),i.jsxs("form",{onSubmit:H,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"service_name",id:"service_name",value:I.service_name,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_type",id:"service_type",value:I.service_type,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Type"}),_.map(Y=>i.jsx("option",{value:Y.id,children:Y.group_name||Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"priority",id:"priority",value:I.priority,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_owner",id:"service_owner",value:I.service_owner,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Owner"}),R.map(Y=>i.jsx("option",{value:Y.id,children:Y.name},Y.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"sla",id:"sla",value:I.sla,onChange:E,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),i.jsx("input",{type:"text",name:"impact",id:"impact",value:I.impact,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),i.jsx("textarea",{name:"service_description",id:"service_description",value:I.service_description,onChange:E,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>s("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),i.jsx(P$e,{isOpen:S,onClose:V,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:V,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},R$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,I$e=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=ir(),n=nr(),[a,s]=y.useState(window.innerWidth<768),[o,l]=y.useState(()=>{const D=localStorage.getItem("sidebarOpen");return JSON.parse(D||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(D=>!D)},[u,f]=y.useState(!1),[m,g]=y.useState(null),[p,v]=y.useState(null),[w,b]=y.useState(!1),[N,k]=y.useState([]),[S,A]=y.useState([]),[_,M]=y.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),R=y.useCallback(async()=>{try{const[D,E]=await Promise.all([e(0),r()]);k(D),A(E)}catch(D){g(D.message||"Failed to load form data")}},[e,r]);y.useEffect(()=>{R()},[R]);const L=D=>{const{name:E,value:H}=D.target;M(V=>({...V,[E]:E==="sla"?Number(H):H}))},I=async D=>{if(D.preventDefault(),f(!0),g(null),!_.service_name||!_.service_type||!_.priority||!_.service_owner||!_.sla){g("Please fill all required fields"),f(!1);return}try{const E={service_name:_.service_name,service_description:_.service_description,service_type:Number(_.service_type),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(E),v("Service Catalogue created successfully!"),b(!0)}catch(E){g(E.message||"Failed to create Service Catalogue")}finally{f(!1)}},B=()=>{b(!1),n("/servicecatalogue")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(of,{}),isMobile:a,toggleSidebar:c}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),i.jsxs(O.button,{onClick:()=>n("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Catalogue"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:m}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),i.jsxs("form",{onSubmit:I,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_type",id:"service_type",value:_.service_type,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Type"}),N.map(D=>i.jsx("option",{value:D.id,children:D.group_name||D.name},D.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Low",children:"Low"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Critical",children:"Critical"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Service Owner"}),S.map(D=>i.jsx("option",{value:D.id,children:D.name},D.id))]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:L,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),i.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),i.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:L,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:u,children:u?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(R$e,{isOpen:w,onClose:B,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:B,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},F$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),i2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},$$e=()=>{const[t,e]=y.useState([]),[r,n]=y.useState([]),{getDepartment:a,getUsers:s,deleteDepartment:o}=ir(),[l,c]=y.useState(!0),[u,f]=y.useState(null),[m,g]=y.useState(""),[p,v]=y.useState(!1),[w,b]=y.useState(null),[N,k]=y.useState(!1),[S]=y.useState(window.innerWidth<768),[A,_]=y.useState(()=>{const oe=localStorage.getItem("sidebarOpen");return oe?JSON.parse(oe):!1}),M=nr(),R=y.useRef(null),[L,I]=y.useState(!1),B=y.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),D=y.useCallback(async()=>{try{c(!0);const oe=await a(),K=await s(),U=[...oe].sort((X,Z)=>X.id-Z.id);e(U),n(K)}catch(oe){f("Failed to load departments"),console.error("Error loading departments:",oe)}finally{c(!1)}},[a,s]);y.useEffect(()=>{D()},[D]);const E=()=>{const oe=!A;_(oe),localStorage.setItem("sidebarOpen",JSON.stringify(oe))},H=()=>{alert("Import functionality is not yet implemented.")},V=oe=>{const K=oe.target.value;g(K)},Y=y.useMemo(()=>{if(!m)return B;const oe=m.toLowerCase();return B.filter(K=>K.name.toLowerCase().includes(oe))},[m,B]),W=oe=>{var K;g(`${oe}: `),I(!1),(K=R.current)==null||K.focus()},F=y.useMemo(()=>{if(!m.trim())return t;const oe=m.toLowerCase().trim(),K=oe.split(":");let U="all",X=oe;return K.length>1&&B.some(Z=>Z.name.toLowerCase()===K[0].trim())&&(U=K[0].trim(),X=K.slice(1).join(":").trim()),t.filter(Z=>{var _e,Ne,ge;const ne=(_e=Z.name)==null?void 0:_e.toLowerCase().includes(X),ue=(ge=(Ne=Z.head)==null?void 0:Ne.name)==null?void 0:ge.toLowerCase().includes(X);return U==="department"?ne:U==="head"?ue:ne||ue})},[t,m,B]),z=async oe=>{try{await o(oe),e(t.filter(K=>K.id!==oe)),v(!1),b(null)}catch(K){console.error("Failed to delete department:",K),f("Failed to delete department. Please try again.")}},J=y.useCallback(oe=>{b(oe),v(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:i.jsx(kp,{}),isMobile:S,toggleSidebar:E}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>M("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Department"})]}),i.jsxs(O.button,{onClick:H,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>k(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(i2,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kp,{className:"w-6 h-6"})}),i.jsx(i2,{title:"Head Departments",value:t.filter(oe=>oe.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(oe=>oe.head_id!==null).length/t.length*100)}%`,icon:i.jsx(un,{className:"w-6 h-6"})}),i.jsx(i2,{title:"Departments with Email",value:t.filter(oe=>{var K;return(K=oe.head)==null?void 0:K.email}).length.toString(),change:`+${Math.floor(t.filter(oe=>{var K;return(K=oe.head)==null?void 0:K.email}).length/t.length*100)}%`,icon:i.jsx(_x,{className:"w-6 h-6"})}),i.jsx(i2,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:i.jsx(Va,{className:"w-6 h-6"})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:R,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:V,onFocus:()=>I(!0),"aria-label":"Search departments"}),i.jsx(sr,{children:L&&Y.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Y.map(oe=>i.jsx(O.button,{onClick:()=>W(oe.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:oe.name})},oe.id))})})]})}),i.jsx(sr,{children:N&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):F.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&i.jsx("button",{onClick:()=>g(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:F.map((oe,K)=>{var U,X;return i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:K+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe.name})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:((U=oe.head)==null?void 0:U.name)||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((X=oe.head)==null?void 0:X.email)||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(`/worklocation/department/editdepartment/${oe.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>J(oe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},oe.id)})})]})})})]})]}),i.jsx(F$e,{isOpen:p,onClose:()=>v(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w&&z(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},B$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,H$e=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addDepartment:o,getUsers:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",head_id:0}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,head_id:S.head_id};await o(D),p("Department created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Department")}finally{N(!1)}};y.useCallback(B=>{if(!B)return;const D=parseInt(B.value),E=r.find(H=>parseInt(H.id)===D);if(E){const H=a.find(V=>V.id===E.department_id);A(V=>({...V,id:D,department_id:E.department_id||0,known_by_id:(H==null?void 0:H.head_id)||null}))}},[r,a]);const I=()=>{w(!1),k("/worklocation/department")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kp,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),i.jsxs(O.button,{onClick:()=>k("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Department Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Head Department"}),r.map(B=>i.jsx("option",{value:B.id,children:B.name||B.name},B.id))]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),i.jsx(B$e,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department"})]})})]})},z$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,q$e=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{addDepartment:l,getUsers:c,updateDepartment:u,getDepartmentById:f}=ir(),[m,g]=y.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[p,v]=y.useState(null),[w,b]=y.useState(null),[N,k]=y.useState(!1),[S,A]=y.useState(!1),_=nr(),[M,R]=y.useState({name:"",head_id:0}),L=()=>{g(H=>!H)};y.useEffect(()=>{s&&R({name:s.name||"",head_id:s.head_id||0})},[s]);const I=H=>{const{name:V,value:Y}=H.target;R(W=>({...W,[V]:V==="sla"?Number(Y):Y}))},B=y.useCallback(async()=>{try{if(t){const[H,V]=await Promise.all([f(t),c()]);o(H),a(V)}}catch(H){v(H.message||"Failed to load form data")}},[t,f,c]);y.useEffect(()=>{t&&B()},[t,B]);const D=async H=>{H.preventDefault(),A(!0),v(null);try{const V={name:M.name,head_id:M.head_id};await u(t,V),b("Department update successfully!"),k(!0)}catch(V){v(V.message||"Failed to create Department")}finally{A(!1)}},E=()=>{k(!1),_("/worklocation/department")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kp,{}),isMobile:e,toggleSidebar:L}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),i.jsxs(O.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Department Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:p}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),i.jsxs("form",{onSubmit:D,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:M.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"head_id",id:"head_id",value:M.head_id,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"",children:"Select Head Department"}),n.map(H=>i.jsx("option",{value:H.id,children:H.name||H.name},H.id))]})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),i.jsx(z$e,{isOpen:N,onClose:E,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department Management"})]})})]})},U$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),W$e=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},V$e=()=>{const[t,e]=y.useState([]),{getStopTimes:r,deleteStopTimes:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load stop times"),console.error("Error loading stop times:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="stop time"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete stop time:",z),l("Failed to delete stop time. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:i.jsx(kr,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Stop Time"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(W$e,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})})}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search stop times"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(U$e,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},G$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,Y$e=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addStopTimes:o,getStopTimes:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Stop Time created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Stop Time")}finally{N(!1)}},I=()=>{w(!1),k("/maintenanceactivity/stoptimes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),i.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Stop Times Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(G$e,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},K$e=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,J$e=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",description:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",description:s.description||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Stop Time update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Stop Time")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/stoptimes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),i.jsxs(O.button,{onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Stop Times Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(K$e,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},X$e=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Q$e=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Z$e=()=>{const[t,e]=y.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load activity types"),console.error("Error loading activity types:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var X;const U=(X=K.name)==null?void 0:X.toLowerCase().includes(oe);return U})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete activity type:",z),l("Failed to delete activity type. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:i.jsx(SM,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Activity Type"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(Q$e,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(SM,{className:"w-6 h-6"})})}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search activity types"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(X$e,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},eBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,sV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addActivityTypes:o,getActivityTypes:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name};await o(D),p("Activity Type created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Activity Type")}finally{N(!1)}},I=()=>{w(!1),k("/maintenanceactivity/activitytypes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(qb,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),i.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Activity Types Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(eBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},tBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,rBe=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name};await c(t,H),w("Activity Type update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Activity Type")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/activitytypes")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(qb,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),i.jsxs(O.button,{onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Activity Type Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),i.jsx(tBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},s2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:a=!0})=>{const s=a?nBe(e,r):aBe(e,r),o=e>=r,l=a?`${s} from last month`:`${s} from last month`;return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},nBe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},aBe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},iBe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),[A,_]=y.useState(1),[M]=y.useState(5),[R,L]=y.useState(window.innerWidth<768),[I,B]=y.useState(!1),[D,E]=y.useState(!1),[H,V]=y.useState([]),[Y,W]=y.useState([]),[F,z]=y.useState(!0),[J,oe]=y.useState(null),[K,U]=y.useState(null),[X,Z]=y.useState([]),[ne,ue]=y.useState(!1),[_e,Ne]=y.useState(!1),[ge,ke]=y.useState(null),[ze,he]=y.useState(null),{user:ye,getWorkOrdersIT:ae,deleteWorkOrder:ie,hasPermission:dt,fetchWithAuth:ct,getVendor:Le}=ir(),Qe=nr(),yt=Ui(),bt=y.useRef(null),It=y.useRef(null);yt.pathname,yt.pathname;const At=yt.pathname==="/workorders/it";yt.pathname;const Se=yt.pathname==="/workorders/it/assignment",gt=yt.pathname==="/workorders/it/receiver",rt=yt.pathname==="/workorders/it/reports",Nt=yt.pathname==="/workorders/it/knowledgebase";y.useEffect(()=>{const Fe=()=>{L(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Fe),()=>window.removeEventListener("resize",Fe)},[]),y.useEffect(()=>{const Fe=Ue=>{bt.current&&!bt.current.contains(Ue.target)&&B(!1),It.current&&!It.current.contains(Ue.target)&&E(!1)};return document.addEventListener("mousedown",Fe),()=>{document.removeEventListener("mousedown",Fe)}},[]),y.useEffect(()=>{let Fe=!0;return(async()=>{try{z(!0),oe(null);const Lt=await ae();if(!Fe)return;const zt=Lt.filter(jt=>jt.requester_id===Number(ye==null?void 0:ye.id));V(zt);const Ut=new Date;Ut.setMonth(Ut.getMonth()-1);const st=zt.filter(jt=>new Date(jt.date)<Ut);Z(st)}catch(Lt){if(!Fe)return;oe("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Lt)}finally{Fe&&z(!1)}})(),()=>{Fe=!1}},[ae,ye==null?void 0:ye.id]),y.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]);const kt=Fe=>{switch(Fe){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},De=y.useCallback(Fe=>{const Ue=H.find(Lt=>Lt.id===Fe);Ue&&(p(Ue),m(!0))},[H]);y.useCallback(Fe=>{S(Fe),N(!0)},[]);const vt=y.useCallback(async Fe=>{try{z(!0),oe(null),await ie(Fe);const Lt=(await ae()).filter(zt=>zt.requester_id===Number(ye==null?void 0:ye.id));V(Lt),N(!1),S(null),U("Work order deleted successfully."),setTimeout(()=>U(null),2500)}catch(Ue){oe("Failed to delete work order."),console.error("Error deleting work order:",Ue)}finally{z(!1)}},[ie,ae,ye==null?void 0:ye.id]),Pe=y.useCallback(Fe=>{he(Fe),Ne(!0)},[]),$e=y.useCallback(Fe=>{ke(Fe),ue(!0)},[]),Ae=y.useCallback(async Fe=>{try{z(!0),oe(null),await ct(`/ayam/${Fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Lt=(await ae()).filter(st=>st.requester_id===Number(ye==null?void 0:ye.id));V(Lt);const zt=new Date;zt.setMonth(zt.getMonth()-1);const Ut=Lt.filter(st=>new Date(st.date)<zt);Z(Ut),m(!1),p(null),Ne(!1),he(null),U("Work order cancelled successfully."),setTimeout(()=>U(null),2500)}catch(Ue){oe("Failed to cancel work order."),console.error("Error cancelling work order:",Ue)}finally{z(!1)}},[ct,ae,ye==null?void 0:ye.id]),Ye=y.useCallback(async Fe=>{try{z(!0),oe(null),await ct(`/ayam/${Fe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Lt=(await ae()).filter(st=>st.requester_id===Number(ye==null?void 0:ye.id));V(Lt);const zt=new Date;zt.setMonth(zt.getMonth()-1);const Ut=Lt.filter(st=>new Date(st.date)<zt);Z(Ut),m(!1),p(null),ue(!1),ke(null),U("Work order completed successfully."),setTimeout(()=>U(null),2500)}catch(Ue){oe("Failed to complete work order."),console.error("Error completing work order:",Ue)}finally{z(!1)}},[ct,ae,ye==null?void 0:ye.id]),tt=Fe=>Fe.filter(Ue=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(Ue.handling_status)),ve=Fe=>Fe.filter(Ue=>["Closed","Cancel"].includes(Ue.handling_status)),pe=Fe=>Fe.filter(Ue=>Ue.handling_status==="New"),We=()=>{n(Fe=>!Fe)},pt=Fe=>{var Ue;return Fe.vendor?`${Fe.vendor.name}`:((Ue=Fe.assigned_to)==null?void 0:Ue.name)||"Unassigned"},Je=Fe=>Fe.vendor?"vendor":Fe.assigned_to?"user":"unassigned",we=H.filter(Fe=>{var zt,Ut,st,jt;const Ue=((Ut=(zt=Fe.requester)==null?void 0:zt.name)==null?void 0:Ut.toLowerCase().includes(a.toLowerCase()))||((st=Fe.work_order_no)==null?void 0:st.toLowerCase().includes(a.toLowerCase()))||((jt=Fe.complaint)==null?void 0:jt.toLowerCase().includes(a.toLowerCase()))||String(Fe.id).includes(a),Lt=o==="all"||Fe.handling_status===o;return Ue&&Lt}).sort((Fe,Ue)=>new Date(Ue.created_at).getTime()-new Date(Fe.created_at).getTime()),te=A*M,Oe=te-M,He=we.slice(Oe,te),Ze=Math.ceil(we.length/M),ft=Fe=>_(Fe),Re=({order:Fe,onClose:Ue})=>{var fn,gn,ar,Wr,Kr;const Lt=Zt=>Zt==null?"-":typeof Zt=="object"&&Zt!==null?Zt.name||Zt.title||Zt.id||"-":typeof Zt=="string"?Zt.trim()!==""?Zt.trim():"-":typeof Zt=="number"?Zt.toString():String(Zt),zt=Zt=>Zt?new Date(Zt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Ut=({status:Zt})=>{const et={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${et[Zt]||et.New}`,children:Zt})},st=({title:Zt,children:et,icon:nt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[nt&&i.jsx("div",{className:"mr-3 text-blue-600",children:nt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Zt})]})}),i.jsx("div",{className:"p-6",children:et})]}),jt=({label:Zt,value:et,icon:nt,fullWidth:Tt=!1,priority:de="medium"})=>{const Ke={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${Tt?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${Ke[de]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[nt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:nt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Zt}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:et})]})]})})})},Vt=({label:Zt,htmlContent:et,icon:nt,fullWidth:Tt=!1})=>{if(!et)return i.jsx(jt,{label:Zt,value:"-",icon:nt,fullWidth:Tt,priority:"low"});const de=md.sanitize(et,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${Tt?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[nt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:nt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Zt}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:de}})]})]})})})},gr=({order:Zt})=>{const et=Mt=>{switch(Mt==null?void 0:Mt.toLowerCase()){case"new":return i.jsx($K,{className:"w-4 h-4"});case"assigned":return i.jsx(un,{className:"w-4 h-4"});case"in progress":return i.jsx(kr,{className:"w-4 h-4"});case"resolved":return i.jsx(WK,{className:"w-4 h-4"});case"closed":return i.jsx(wr,{className:"w-4 h-4"});case"cancel":return i.jsx(UE,{className:"w-4 h-4"});case"escalated":return i.jsx(Ur,{className:"w-4 h-4"});case"vendor handled":return i.jsx(sa,{className:"w-4 h-4"});default:return i.jsx(hc,{className:"w-4 h-4"})}},nt=Mt=>{switch(Mt==null?void 0:Mt.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},Tt=(Mt,rr)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(rr==null?void 0:rr.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[Mt.toLowerCase()]||`Status: ${Mt}`,de=()=>{var rr,Mr;const Mt=[];if(Mt.push({id:"created",status:"new",date:Zt.date,changed_by:((rr=Zt.requester)==null?void 0:rr.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),Zt.status_history&&Zt.status_history.length>0&&[...Zt.status_history].sort((ur,Fr)=>new Date(ur.changed_at).getTime()-new Date(Fr.changed_at).getTime()).forEach((ur,Fr)=>{var Tn,en;const pa=Mt[Mt.length-1],Hr=Ke(pa.date,ur.changed_at);let Fs=ur.action,ga=Tt(ur.action);ur.action==="updated"&&((Tn=ur.new_data)!=null&&Tn.handling_status)&&(Fs=ur.new_data.handling_status,ga=Tt(ur.new_data.handling_status,{assigned_to:(en=Zt.assigned_to)==null?void 0:en.name}));let jn="System";ur.user_id===55?jn="DevTest User 1":ur.user_id===41?jn="Regular User QC":ur.user_id===57?jn="DevTest User 2":ur.user_id===36?jn="Super Admin User":ur.user_id===37?jn="Admin User One":ur.user_id===40?jn="Regular User IT":ur.user_id===42||ur.user_id===56?jn="Monitor":ur.changed_by?jn=ur.changed_by:jn=`User ${ur.user_id}`,Mt.push({id:ur.id.toString(),status:Fs,date:ur.changed_at,changed_by:jn,description:ga,duration:Hr,comments:ur.comments,old_data:ur.old_data,new_data:ur.new_data,isStatusChange:!0})}),(Mr=Zt.received_by)!=null&&Mr.name&&Zt.handling_date&&!Mt.some(ur=>{var Fr,pa;return ur.status==="received"||((Fr=ur.new_data)==null?void 0:Fr.received_by_id)&&((pa=ur.new_data)==null?void 0:pa.handling_status)==="Resolved"})){const ur=Mt[Mt.length-1],Fr=Ke(ur.date,Zt.handling_date),pa={id:"received",status:"received",date:Zt.handling_date,changed_by:Zt.received_by.name,description:"Diterima oleh teknisi",duration:Fr,isManualEvent:!0};Mt.push(pa)}return Mt.sort((jr,ur)=>new Date(jr.date).getTime()-new Date(ur.date).getTime())},Ke=(Mt,rr)=>{const Mr=new Date(Mt),jr=new Date(rr),ur=Math.abs(jr.getTime()-Mr.getTime()),Fr=Math.ceil(ur/(1e3*60*60*24));if(Fr===0){const pa=Math.ceil(ur/36e5),Hr=Math.ceil(ur/(1e3*60));return Hr<60?`${Hr} minutes`:`${pa} hours`}return`${Fr} day${Fr>1?"s":""}`},wt=Mt=>{const rr=new Date(Mt);return{date:rr.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:rr.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},or=Mt=>{var rr,Mr,jr;return(rr=Mt.new_data)!=null&&rr.handling_status?`Diubah menjadi: ${Mt.new_data.handling_status}`:(Mr=Mt.new_data)!=null&&Mr.assigned_to_id?"Ditugaskan ke teknisi":(jr=Mt.new_data)!=null&&jr.action_taken?`Tindakan diambil: ${Mt.new_data.action_taken.substring(0,50)}...`:null},Xr=de();return i.jsxs("div",{className:"space-y-6",children:[Xr.map((Mt,rr)=>{const Mr=wt(Mt.date),jr=rr===Xr.length-1,ur=or(Mt);return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${nt(Mt.status)}`}),!jr&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[et(Mt.status),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:Mt.status}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:Mt.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Mr.date}),i.jsx("div",{className:"text-xs text-gray-500",children:Mr.time})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-600",children:[i.jsx("strong",{children:"Changed by:"})," ",Mt.changed_by]}),Mt.duration&&Mt.duration!=="0 days"&&i.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",Mt.duration]})]}),Mt.duration&&Mt.duration!=="0 days"&&rr>0&&i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),ur&&i.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:ur}),Mt.comments&&i.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[i.jsx("strong",{children:"Comments:"})," ",Mt.comments]}),Mt.status==="assigned"&&Zt.assigned_to&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Assigned to:"})," ",Zt.assigned_to.name,Zt.assigned_to.email&&` (${Zt.assigned_to.email})`]}),(Mt.status==="resolved"||Mt.status==="closed")&&Zt.action_taken&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Action taken:"})," ",Zt.action_taken.substring(0,100),"..."]})]}),jr&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),i.jsx("span",{className:"font-bold text-blue-600 text-lg",children:Ke(Zt.date,Mt.date)})]}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",wt(Zt.date).date,"  Current: ",Mr.date]})]})]})]},Mt.id)}),Zt.handling_status==="Closed"&&Zt.handling_date&&i.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),i.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",Ke(Zt.date,Zt.handling_date)]})]}),i.jsx(wr,{className:"w-8 h-8 text-green-500"})]}),i.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:["Created: ",wt(Zt.date).date]}),i.jsxs("div",{children:["Completed: ",wt(Zt.handling_date).date]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Timeline:"})," ",Xr.length," status changes"]})]})]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Fe.work_order_no||Fe.id]}),i.jsx(Ut,{status:Fe.handling_status})]}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Created: ",zt(Fe.date)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ue,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(st,{title:"General Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Work Order No",value:Lt(Fe.work_order_no),icon:i.jsx(bn,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Reception Method",value:Lt(Fe.reception_method),icon:i.jsx(xo,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Requester",value:Lt((fn=Fe.requester)==null?void 0:fn.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Department",value:Lt((gn=Fe.department)==null?void 0:gn.name),icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Known By",value:Lt((ar=Fe.known_by)==null?void 0:ar.name),icon:i.jsx(Io,{className:"w-4 h-4"})})]})}),i.jsx(st,{title:"Service Details",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Service Type",value:Lt(Fe.service_type.group_name),icon:i.jsx(Hi,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Service",value:Lt(Fe.service.service_name),icon:i.jsx(sa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"No Asset",value:Lt(Fe.asset_no),icon:i.jsx(bn,{className:"w-4 h-4"})})]})}),i.jsx(st,{title:"Device & Complaint",icon:i.jsx(Ur,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(jt,{label:"Device Information",value:Lt(Fe.device_info),icon:i.jsx(Hi,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Vt,{label:"Complaint Details",htmlContent:Fe.complaint||"",icon:i.jsx(Ur,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(st,{title:"Handling Information",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(jt,{label:"Ticket Status",value:Lt(Fe.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Handling Date",value:zt(Fe.handling_date||"-"),icon:i.jsx(Oa,{className:"w-4 h-4"})})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[i.jsx(jt,{label:"Assigned To",value:Lt((Wr=Fe.assigned_to)==null?void 0:Wr.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Received By",value:Lt((Kr=Fe.received_by)==null?void 0:Kr.name),icon:i.jsx(wr,{className:"w-4 h-4"})})]}),i.jsx(Vt,{label:"Action Taken",htmlContent:Fe.action_taken||"",icon:i.jsx(sa,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(Vt,{label:"Remarks",htmlContent:Fe.remarks||"",icon:i.jsx(bn,{className:"w-4 h-4"}),fullWidth:!0})]})}),Fe.status_history&&Fe.status_history.length>0&&i.jsx(st,{title:"Work Order Timeline",icon:i.jsx(zK,{className:"w-5 h-5"}),children:i.jsx(gr,{order:Fe})}),Fe.vendor&&i.jsx(st,{title:"Vendor Details",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(jt,{label:"Vendor Name",value:Lt(Fe.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(jt,{label:"Contact Person",value:Lt(Fe.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Email",value:Lt(Fe.vendor.email),icon:i.jsx(_x,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Phone",value:Lt(Fe.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Mobile",value:Lt(Fe.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(jt,{label:"Address",value:Lt(Fe.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),Fe.attachment&&i.jsx(st,{title:"Attachment",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),i.jsxs("a",{href:Fe.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(WE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return F?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):J?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Ur,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:J}),i.jsx("button",{onClick:()=>{(async()=>{try{z(!0),oe(null);const Lt=(await ae()).filter(st=>st.requester_id===Number(ye==null?void 0:ye.id));V(Lt);const zt=new Date;zt.setMonth(zt.getMonth()-1);const Ut=Lt.filter(st=>new Date(st.date)<zt);Z(Ut)}catch{oe("Failed to load work orders. Please try again.")}finally{z(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:R,toggleSidebar:We}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Qe("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${At?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Qe("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${gt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Qe("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Qe("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${rt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>Qe("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Nt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),i.jsxs("div",{className:"flex flex-wrap gap-3",children:[i.jsxs(O.button,{onClick:()=>Qe("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(di,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),i.jsxs(O.button,{onClick:()=>u(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(go,{className:"text-lg"}),i.jsx("span",{className:"font-semibold",children:"Filters"}),c?i.jsx(aj,{}):i.jsx(Sa,{})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(s2,{title:"Total IT Requests",currentCount:we.length,lastMonthCount:X.length,icon:i.jsx(bn,{})}),i.jsx(s2,{title:"IT New WO",currentCount:pe(we).length,lastMonthCount:pe(X).length,icon:i.jsx(kr,{}),usePercentage:!1}),i.jsx(s2,{title:"IT Progress",currentCount:tt(we).length,lastMonthCount:tt(X).length,icon:i.jsx(sa,{}),usePercentage:!1}),i.jsx(s2,{title:"IT Closed",currentCount:ve(we).length,lastMonthCount:ve(X).length,icon:i.jsx(wr,{}),usePercentage:!1})]}),i.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Fe=>s(Fe.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Fe=>l(Fe.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:He.length>0?He.map(Fe=>{const Ue=pt(Fe),Lt=Je(Fe);return i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>De(Fe.id),title:"Click to view details",children:Fe.work_order_no||"-"}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(Fe.date).toLocaleDateString()})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.device_info})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.asset_no})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Fe.service_type.group_name||"N/A"})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${kt(Fe.handling_status)}`,children:Fe.handling_status})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${Lt==="vendor"?"text-purple-600":Lt==="user"?"text-blue-600":"text-gray-500"}`,children:Ue}),Lt==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>De(Fe.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:i.jsx(Io,{className:"text-base"})}),Fe.handling_status==="New"&&i.jsxs(i.Fragment,{children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Qe(`/workorders/it/editworkorder/${Fe.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:i.jsx(Ci,{className:"text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Pe(Fe.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:i.jsx(Ht,{className:"text-base"})})]}),Fe.handling_status==="Resolved"&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:zt=>{$e(Fe.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:i.jsx(wr,{className:"text-base"})})]})]},Fe.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),we.length>M&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:Oe+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(te,we.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:we.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(A-1),disabled:A===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ze},(Fe,Ue)=>i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(Ue+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
            ${A===Ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
          `,"aria-label":`Go to page ${Ue+1}`,children:Ue+1},Ue+1)),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(A+1),disabled:A===Ze,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),g&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.id]}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:i.jsx(Re,{order:g,onClose:()=>{m(!1),p(null)}})})]})})}),i.jsx(sr,{children:b&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>k!==null&&vt(k),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),K&&i.jsx(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:K}),i.jsx(sr,{children:ne&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(wr,{className:"text-green-500 text-5xl mx-auto"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ue(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge!==null&&Ye(ge),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),i.jsx(sr,{children:_e&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:i.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-orange-500 text-5xl mx-auto"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ne(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ze!==null&&Ae(ze),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),J&&i.jsxs(O.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[J,i.jsx("button",{onClick:()=>oe(null),className:"ml-2 underline",children:"Dismiss"})]})]})},sBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,oBe=()=>{var $e,Ae,Ye,tt,ve;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o}=ir(),l=nr(),{id:c}=js(),[u,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState([]),[w,b]=y.useState([]),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(()=>{const pe=localStorage.getItem("sidebarOpen");return pe?JSON.parse(pe):!1}),[_,M]=y.useState(!1),[R,L]=y.useState(!1),[I,B]=y.useState(!1),[D,E]=y.useState(!1),[H,V]=y.useState(!0),[Y,W]=y.useState(null),[F,z]=y.useState(null),[J,oe]=y.useState(!1),[K,U]=y.useState(null),X=y.useRef(null),Z=y.useRef(null),[ne,ue]=y.useState([]),[_e,Ne]=y.useState([]),[ge,ke]=y.useState([]),[ze,he]=y.useState(!1),ye={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:(($e=e==null?void 0:e.department)==null?void 0:$e.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ae,ie]=y.useState(ye),dt=ae.reception_method==="Electronic Work Order System";y.useEffect(()=>{(async()=>{if(c)try{V(!0);const We=await o(parseInt(c));console.log("Work Order Data:",We),ie({id:We.id,date:We.date.split("T")[0],reception_method:We.reception_method,requester_id:We.requester_id,known_by_id:We.known_by_id,department_id:We.department_id,service_type_id:String(We.service_group_id||""),service_id:String(We.service_catalogue_id||""),asset_no:We.asset_no,device_info:We.device_info,complaint:We.complaint,attachment:We.attachment,received_by_id:We.received_by_id,handling_date:We.handling_date?We.handling_date.split("T")[0]:null,action_taken:We.action_taken,handling_status:We.handling_status,remarks:We.remarks})}catch(We){console.error("Failed to fetch work order data:",We),W(We.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{V(!1)}})()},[c,o]),y.useEffect(()=>{e&&(async()=>{try{const pt=(await s(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));Ne(pt),ke(pt);const Je=await a();g(Je);const we=await r();if(f(we),e&&e.id){const Oe=await n(parseInt(e.id));v(Oe),console.log("Services loaded:",Oe)}}catch(We){console.error("Failed to fetch master data:",We)}})()},[e,r,n,a,s]),y.useEffect(()=>{var pe;if(ae.reception_method==="Electronic Work Order System"&&e){const We=((pe=e.department)==null?void 0:pe.head_id)||null;ie(pt=>({...pt,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:We}))}},[ae.reception_method,e]),y.useEffect(()=>{const pe=()=>{k(window.innerWidth<768),window.innerWidth<768&&A(!1)};return window.addEventListener("resize",pe),()=>window.removeEventListener("resize",pe)},[]),y.useEffect(()=>{const pe=We=>{X.current&&!X.current.contains(We.target)&&L(!1),Z.current&&!Z.current.contains(We.target)&&B(!1)};return document.addEventListener("mousedown",pe),()=>{document.removeEventListener("mousedown",pe)}},[]),y.useEffect(()=>{if(ae.service_type_id&&p.length>0){const pe=p.filter(We=>String(We.service_type)===ae.service_type_id);ue(pe)}else ue([])},[ae.service_type_id,p]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const ct=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),A(pe=>!pe)},Le=y.useCallback((pe,We)=>{let pt,Je;if(pe&&"target"in pe)pt=pe.target.name,Je=pe.target.value;else if(pe&&typeof pe=="object"&&"value"in pe&&We)pt=We,Je=pe.value;else if(pe===null&&We)pt=We,Je=null;else return;ie(we=>({...we,[pt]:Je}))},[]),Qe=pe=>{const We=(pe==null?void 0:pe.value)||"";ie(pt=>{var we,te;const Je={...pt,reception_method:We};return We==="Electronic Work Order System"&&e?{...Je,requester_id:parseInt(e.id),department_id:((we=e.department)==null?void 0:we.id)||0,known_by_id:((te=e.department)==null?void 0:te.head_id)||null}:Je})},yt=pe=>{ie(We=>({...We,asset_no:pe?pe.value:""}))},bt=y.useCallback(pe=>{pe.target.files&&pe.target.files.length>0?(U(pe.target.files[0]),ie(We=>({...We,attachment:pe.target.files[0].name}))):(U(null),ie(We=>({...We,attachment:null})))},[]),It=y.useCallback(()=>{U(null),ie(pe=>({...pe,attachment:null}))},[]),At=async pe=>{pe.preventDefault(),E(!0),W(null);const We={id:ae.id,date:ae.date,reception_method:ae.reception_method,requester_id:ae.requester_id,known_by_id:ae.known_by_id,department_id:ae.department_id,service_group_id:Number(ae.service_type_id),service_catalogue_id:Number(ae.service_id),asset_no:ae.asset_no,device_info:ae.device_info,complaint:ae.complaint,attachment:ae.attachment};try{await t(We),z({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ae.id}`}}),oe(!0)}catch(pt){W(pt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",pt)}finally{E(!1)}},Se=pe=>{ie(We=>({...We,service_type_id:pe?pe.value:"",service_id:""}))},gt=pe=>{ie(We=>({...We,service_id:pe?pe.value:""}))},rt=y.useCallback(()=>{oe(!1),l("/workorders/it")},[l]),Nt={control:(pe,We)=>({...pe,minHeight:"42px",borderColor:We.isFocused?"#3B82F6":"#D1D5DB",boxShadow:We.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:pe=>({...pe,padding:"0"}),singleValue:pe=>({...pe,color:"#374151"}),placeholder:pe=>({...pe,color:"#6B7280"}),dropdownIndicator:pe=>({...pe,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:pe=>({...pe,display:"none"}),menu:pe=>({...pe,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(pe,We)=>({...pe,backgroundColor:We.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},kt=y.useCallback(pe=>{if(!pe)return;const We=parseInt(pe.value),pt=u.find(Je=>parseInt(Je.id)===We);if(pt){const Je=m.find(we=>we.id===pt.department_id);ie(we=>({...we,requester_id:We,department_id:pt.department_id||0,known_by_id:(Je==null?void 0:Je.head_id)||null}))}},[u,m]),De=()=>{if(dt){const We=m.find(pt=>pt.id===(e==null?void 0:e.department_id));return(We==null?void 0:We.name)||"No department assigned"}const pe=m.find(We=>We.id===ae.department_id);return(pe==null?void 0:pe.name)||"No department assigned"},vt=()=>{if(dt){const We=m.find(pt=>pt.id===(e==null?void 0:e.department_id));if(We&&We.head_id){const pt=u.find(Je=>parseInt(Je.id)===We.head_id);return(pt==null?void 0:pt.name)||"No department head assigned"}return"No department head assigned"}const pe=m.find(We=>We.id===ae.department_id);if(pe&&pe.head_id){const We=u.find(pt=>parseInt(pt.id)===pe.head_id);return(We==null?void 0:We.name)||"No department head assigned"}return"No department head assigned"},Pe=()=>{if(!ae.attachment)return null;try{const We=new URL(ae.attachment).pathname;return We.substring(We.lastIndexOf("/")+1)}catch{return ae.attachment}};return H?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(vn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:N,toggleSidebar:ct}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),i.jsxs(O.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Ff,{className:"text-lg"})," Back to Work Orders"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:Y}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>W(null)})})]}),i.jsxs("form",{onSubmit:At,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"date",name:"date",value:ae.date,onChange:Le,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ae.reception_method,label:ae.reception_method},onChange:Qe,placeholder:"Select Reception Method",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",i.jsx("span",{className:"text-red-500",children:"*"})]}),dt?i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):i.jsx(Wn,{id:"requester_id",name:"requester_id",options:u.map(pe=>({value:String(pe.id),label:pe.name})),value:u.find(pe=>parseInt(pe.id)===ae.requester_id)?{value:String(ae.requester_id),label:((Ae=u.find(pe=>parseInt(pe.id)===ae.requester_id))==null?void 0:Ae.name)||""}:null,onChange:kt,placeholder:"Select Requester",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:De()})})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:vt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_type_id",name:"service_type_id",options:ge.map(pe=>({value:String(pe.id),label:pe.name})),value:ae.service_type_id?{value:ae.service_type_id,label:((Ye=ge.find(pe=>String(pe.id)===ae.service_type_id))==null?void 0:Ye.name)||""}:null,onChange:Se,placeholder:"Select Service Type",styles:Nt,required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"service_id",name:"service_id",options:ne.map(pe=>({value:String(pe.id),label:pe.service_name})),value:ae.service_id?{value:ae.service_id,label:((tt=ne.find(pe=>String(pe.id)===ae.service_id))==null?void 0:tt.service_name)||""}:null,onChange:gt,placeholder:"Select Service",styles:Nt}),ne.length===0&&ae.service_type_id&&i.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(tee,{name:"asset_no",id:"asset_no",options:w,value:ae.asset_no?{value:ae.asset_no,label:ae.asset_no}:null,onChange:yt,onCreateOption:pe=>{const We={value:pe,label:pe};b(pt=>[...pt,We]),yt(We)},placeholder:"Type or select Asset No.",styles:Nt,required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{id:"device_info",name:"device_info",value:ae.device_info,onChange:Le,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:ae.complaint,onChange:pe=>{ie(We=>({...We,complaint:pe}))}})]})]})]}),i.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[i.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),i.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:i.jsxs("div",{className:"space-y-1 text-center",children:[i.jsx(bc,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsxs("div",{className:"flex text-sm text-gray-600",children:[i.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[i.jsx("span",{children:"Upload a file"}),i.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:bt})]}),i.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),i.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),K&&i.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:i.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[i.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[i.jsx(bc,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),i.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:K.name})]}),i.jsx("div",{className:"ml-4 flex-shrink-0",children:i.jsx(O.button,{type:"button",onClick:It,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},K.name)}),ae.attachment&&!K&&i.jsx("div",{className:"mt-3",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",Pe()]})})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(An,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:D,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:D?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(sBe,{isOpen:J,onClose:rt,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:F==null?void 0:F.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ve=F==null?void 0:F.work_order)==null?void 0:ve.work_order_no]}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:rt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},lBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,cBe=()=>{var Ae,Ye,tt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o,getVendor:l}=ir(),c=nr(),{id:u}=js(),[f,m]=y.useState([]),[g,p]=y.useState([]),[v,w]=y.useState([]),[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(()=>{const ve=localStorage.getItem("sidebarOpen");return ve?JSON.parse(ve):!1}),[A,_]=y.useState(!1),[M,R]=y.useState(!1),[L,I]=y.useState(!1),[B,D]=y.useState(!1),[E,H]=y.useState(!0),[V,Y]=y.useState(null),[W,F]=y.useState(null),[z,J]=y.useState(!1),oe=y.useRef(null),K=y.useRef(null),[U,X]=y.useState([]),[Z,ne]=y.useState([]),[ue,_e]=y.useState(!1),[Ne,ge]=y.useState([]),[ke,ze]=y.useState(!1),[he,ye]=y.useState(null),[ae,ie]=y.useState(!1),dt=({content:ve,className:pe=""})=>{if(!ve)return i.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${pe}`,children:i.jsx("span",{children:"-"})});const We=md.sanitize(ve,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return i.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${pe}`,dangerouslySetInnerHTML:{__html:We}})},ct={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Ae=e==null?void 0:e.department)==null?void 0:Ae.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Le,Qe]=y.useState(ct);y.useEffect(()=>{const ve=Le.handling_status==="Escalated",pe=Le.handling_status==="Vendor Handled";_e(ve),ze(pe),!ve&&Le.assigned_to_id&&Qe(We=>({...We,assigned_to_id:null})),pe||(Qe(We=>({...We,vendor_id:null})),ye(null),ie(!1))},[Le.handling_status]),y.useEffect(()=>{const ve=async()=>{if(u)try{H(!0);const pe=await o(parseInt(u));if(Qe({id:pe.id,date:pe.date.split("T")[0],reception_method:pe.reception_method,requester_id:pe.requester_id,known_by_id:pe.known_by_id,department_id:pe.department_id,service_type_id:String(pe.service_group_id||""),service_id:String(pe.service_catalogue_id||""),asset_no:pe.asset_no,device_info:pe.device_info,complaint:pe.complaint,attachment:pe.attachment,received_by_id:pe.received_by_id,handling_date:pe.handling_date?pe.handling_date.split("T")[0]:null,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,vendor_id:pe.vendor_id||null}),pe.vendor_id&&Ne.length>0){const We=Ne.find(pt=>pt.id===pe.vendor_id);We&&ye(We)}}catch(pe){console.error("Failed to fetch work order data:",pe),Y(pe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};Ne.length>0&&ve()},[u,o,Ne]),y.useEffect(()=>{e&&(async()=>{try{const pe=await l();ge(pe);const pt=(await s(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));ne(pt);const Je=await a();p(Je);const we=await r();if(m(we),e&&e.id){const te=await n(parseInt(e.id));w(te)}}catch(pe){console.error("Failed to fetch master data:",pe)}})()},[e,r,n,a,s,l]),y.useEffect(()=>{const ve=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),y.useEffect(()=>{const ve=pe=>{oe.current&&!oe.current.contains(pe.target)&&R(!1),K.current&&!K.current.contains(pe.target)&&I(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),y.useEffect(()=>{if(Le.service_type_id&&v.length>0){const ve=v.filter(pe=>String(pe.service_type)===Le.service_type_id);X(ve)}else X([])},[Le.service_type_id,v]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const yt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(ve=>!ve)},bt=y.useCallback((ve,pe)=>{let We,pt;if(ve&&"target"in ve)We=ve.target.name,pt=ve.target.value;else if(ve&&typeof ve=="object"&&"value"in ve&&pe)We=pe,pe==="assigned_to_id"||pe==="requester_id"||pe==="known_by_id"?pt=ve.value?parseInt(ve.value):null:pt=ve.value;else if(ve===null&&pe)We=pe,pt=null;else return;Qe(Je=>({...Je,[We]:pt}))},[]),It=ve=>{ye(ve),Qe(pe=>({...pe,vendor_id:ve.id})),ie(!1)},At=async ve=>{if(ve.preventDefault(),D(!0),Y(null),Le.handling_status==="Escalated"&&!Le.assigned_to_id){Y("Assigned To is required for Escalated status"),D(!1);return}if(Le.handling_status==="Vendor Handled"&&!Le.vendor_id){Y("Vendor selection is required for Vendor Handled status"),D(!1);return}if(!Le.handling_status){Y("Handling status is required"),D(!1);return}if(!Le.handling_date){Y("Handling date is required"),D(!1);return}if(!Le.action_taken||Le.action_taken.length<5){Y("Action taken must be at least 5 characters"),D(!1);return}const pe={...Le,id:Le.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Le.handling_date,action_taken:Le.action_taken,handling_status:Le.handling_status,remarks:Le.remarks,assigned_to_id:Le.assigned_to_id?parseInt(Le.assigned_to_id):null,vendor_id:Le.vendor_id};try{await t(pe),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Le.id}`}}),J(!0)}catch(We){Y(We.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",We)}finally{D(!1)}},Se=y.useCallback(()=>{J(!1),c("/workorders/it/receiver")},[c]),gt={control:(ve,pe)=>({...ve,minHeight:"42px",borderColor:pe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:pe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ve=>({...ve,padding:"0"}),singleValue:ve=>({...ve,color:"#374151"}),placeholder:ve=>({...ve,color:"#6B7280"}),dropdownIndicator:ve=>({...ve,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ve=>({...ve,display:"none"}),menu:ve=>({...ve,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ve,pe)=>({...ve,backgroundColor:pe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ve=f.find(pe=>parseInt(pe.id)===Le.requester_id);return(ve==null?void 0:ve.name)||"Unknown"},Nt=()=>{const ve=g.find(pe=>pe.id===Le.department_id);return(ve==null?void 0:ve.name)||"No department assigned"},kt=()=>{const ve=g.find(pe=>pe.id===Le.department_id);if(ve&&ve.head_id){const pe=f.find(We=>parseInt(We.id)===ve.head_id);return(pe==null?void 0:pe.name)||"No department head assigned"}return"No department head assigned"},De=()=>{const ve=Z.find(pe=>String(pe.id)===Le.service_type_id);return(ve==null?void 0:ve.name)||"Unknown"},vt=()=>{const ve=v.find(pe=>String(pe.id)===Le.service_id);return(ve==null?void 0:ve.service_name)||"Unknown"},Pe=()=>{if(!Le.attachment)return null;try{const pe=new URL(Le.attachment).pathname;return pe.substring(pe.lastIndexOf("/")+1)}catch{return Le.attachment}},$e=()=>{Le.attachment&&window.open(Le.attachment,"_blank")};return E?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(vn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:b,toggleSidebar:yt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),i.jsxs(O.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Ff,{className:"text-lg"})," Back to Receiver"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[V&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:V}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),i.jsxs("form",{onSubmit:At,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.date})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.reception_method})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:rt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Nt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:kt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:De()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:vt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.asset_no})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.device_info})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),i.jsx(dt,{content:Le.complaint,className:"min-h-[100px]"})]})]})]}),Le.attachment&&i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),i.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[i.jsx("span",{className:"text-gray-700",children:Pe()}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$e,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-500"})," Handling Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Le.handling_date||"",onChange:bt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Le.handling_status?{value:Le.handling_status,label:Le.handling_status}:null,onChange:ve=>bt(ve,"handling_status"),placeholder:"Select Handling Status",styles:gt,required:!0})]}),ue&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(ve=>({value:String(ve.id),label:ve.name})),value:Le.assigned_to_id?{value:String(Le.assigned_to_id),label:((Ye=f.find(ve=>parseInt(ve.id)===Le.assigned_to_id))==null?void 0:Ye.name)||"Unknown"}:null,onChange:ve=>bt(ve,"assigned_to_id"),placeholder:"Select Assignee",styles:gt,required:ue})]}),ke&&i.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),he?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ye(null),Qe(ve=>({...ve,vendor_id:null})),ie(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.contact_person})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.address||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.telp||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.HP||"-"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&i.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Ne.length>0?Ne.map(ve=>i.jsxs(O.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>It(ve),children:[i.jsx("div",{className:"font-medium text-gray-900",children:ve.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[ve.contact_person,"  ",ve.email]}),i.jsx("div",{className:"text-xs text-gray-500",children:ve.address})]},ve.id)):i.jsxs("div",{className:"p-4 text-center text-gray-600",children:[i.jsx(Ur,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:Le.action_taken||"",onChange:ve=>{Qe(pe=>({...pe,action_taken:ve}))}})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:Le.remarks||"",onChange:ve=>{Qe(pe=>({...pe,remarks:ve}))}})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(An,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:B,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:B?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(lBe,{isOpen:z,onClose:Se,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(tt=W==null?void 0:W.work_order)==null?void 0:tt.work_order_no]}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Se,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},o2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},uBe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(!1),[a,s]=y.useState(""),[o,l]=y.useState("all"),[c,u]=y.useState(!1),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState(!1),[_,M]=y.useState(!1),[R,L]=y.useState([]),[I,B]=y.useState(!0),[D,E]=y.useState(null),[H,V]=y.useState(!1),[Y,W]=y.useState(null),[F,z]=y.useState(!1),[J,oe]=y.useState(""),K=nr(),U=Ui(),X=y.useRef(null),Z=y.useRef(null),{user:ne,getWorkOrdersIT:ue,updateWorkOrderIT:_e,hasPermission:Ne}=ir(),ge=U.pathname==="/workorders/it/assignment",ke=U.pathname==="/workorders/it/reports",ze=U.pathname==="/workorders/it/knowledgebase",he=U.pathname==="/workorders/it",ye=U.pathname==="/workorders/it/receiver";U.pathname;const ae=({order:Ae,onClose:Ye})=>{var Oe,He,Ze,ft,Re,Fe,Ue,Lt,zt,Ut;const tt=st=>st==null?"-":typeof st=="object"&&st!==null?st.name||st.title||st.id||"-":typeof st=="string"?st.trim()!==""?st.trim():"-":typeof st=="number"?st.toString():String(st),ve=st=>st?new Date(st).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",pe=({status:st})=>{const jt={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${jt[st]||jt.New}`,children:st})},We=({priority:st})=>{const jt={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return i.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${jt[st]||jt.Medium}`,children:st||"Medium"})},pt=({title:st,children:jt,icon:Vt})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[Vt&&i.jsx("div",{className:"mr-3 text-blue-600",children:Vt}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:st})]})}),i.jsx("div",{className:"p-6",children:jt})]}),Je=({label:st,value:jt,icon:Vt,fullWidth:gr=!1,priority:fn="medium"})=>{const gn={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${gr?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${gn[fn]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Vt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Vt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:st}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:jt})]})]})})})},we=({label:st,htmlContent:jt,icon:Vt,fullWidth:gr=!1})=>{if(!jt)return i.jsx(Je,{label:st,value:"-",icon:Vt,fullWidth:gr,priority:"low"});const fn=md.sanitize(jt,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${gr?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[Vt&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Vt}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:st}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:fn}})]})]})})})},te=({order:st})=>{const Vt=!["Resolved","Cancel","Closed"].includes(st.handling_status)&&st.assigned_to_id===Number(ne==null?void 0:ne.id);return i.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Vt&&i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>K(`/workorders/it/assignment/editassignment/${st.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Ci,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ye,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Ae.work_order_no||Ae.id]}),i.jsx(pe,{status:Ae.handling_status}),i.jsx(We,{priority:(Oe=Ae.service)==null?void 0:Oe.priority})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Created: ",ve(Ae.date)]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),Ae.handling_date?`Assigned: ${ve(Ae.handling_date)}`:"Not yet assigned"]})]})]})})}),i.jsx(pt,{title:"My Assignment Details",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Je,{label:"Assigned To",value:tt(((He=Ae.assigned_to)==null?void 0:He.name)||(ne==null?void 0:ne.name)),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Je,{label:"Assignment Type",value:Ae.vendor?"Vendor":"Internal Technician",icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Current Status",value:tt(Ae.handling_status),icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Je,{label:"Priority Level",value:tt(((Ze=Ae.service)==null?void 0:Ze.priority)||"Medium"),icon:i.jsx(Ur,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(pt,{title:"Service & Technical Information",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(Je,{label:"Service Type",value:tt((ft=Ae.service_type)==null?void 0:ft.group_name),icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Service Name",value:tt((Re=Ae.service)==null?void 0:Re.service_name),icon:i.jsx(bn,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Service Owner",value:tt((Ue=(Fe=Ae.service)==null?void 0:Fe.owner)==null?void 0:Ue.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Asset Number",value:tt(Ae.asset_no),icon:i.jsx(bn,{className:"w-4 h-4"})})]})}),i.jsx(pt,{title:"Request Information",icon:i.jsx(bn,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Je,{label:"Requester",value:tt((Lt=Ae.requester)==null?void 0:Lt.name),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Requester Department",value:tt(Ae.department_name||((zt=Ae.department)==null?void 0:zt.name)),icon:i.jsx(Hi,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Reception Method",value:tt(Ae.reception_method),icon:i.jsx(xo,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Known By",value:tt((Ut=Ae.known_by)==null?void 0:Ut.name),icon:i.jsx(Io,{className:"w-4 h-4"})})]})}),i.jsx(pt,{title:"Problem Details",icon:i.jsx(Ur,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(Je,{label:"Device Information",value:tt(Ae.device_info),icon:i.jsx(Hi,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(we,{label:"Complaint Description",htmlContent:Ae.complaint||"",icon:i.jsx(Ur,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(pt,{title:"Progress & Actions",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[i.jsx(we,{label:"Action Taken",htmlContent:Ae.action_taken||"No actions recorded yet",icon:i.jsx(sa,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(we,{label:"Technical Notes & Remarks",htmlContent:Ae.remarks||"No remarks yet",icon:i.jsx(bn,{className:"w-4 h-4"}),fullWidth:!0})]})}),Ae.vendor&&i.jsx(pt,{title:"Vendor Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Je,{label:"Vendor Name",value:tt(Ae.vendor.name),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(Je,{label:"Contact Person",value:tt(Ae.vendor.contact_person),icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Email",value:tt(Ae.vendor.email),icon:i.jsx(_x,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Phone",value:tt(Ae.vendor.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Mobile",value:tt(Ae.vendor.HP),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(Je,{label:"Address",value:tt(Ae.vendor.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(pt,{title:"Timeline & Status History",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[i.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),i.jsx("span",{className:"text-sm text-green-600",children:ve(Ae.date)})]}),Ae.handling_date&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),i.jsx("span",{className:"text-sm text-blue-600",children:ve(Ae.handling_date)})]}),Ae.action_taken&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[i.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),i.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(Ae.handling_status)&&i.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[i.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),i.jsx("span",{className:"text-sm text-orange-600",children:Ae.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(Ae.handling_status)&&i.jsx(pt,{title:"Next Steps",icon:i.jsx(wr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[i.jsx(wr,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),Ae.handling_status==="Assigned"&&i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[i.jsx(kr,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),Ae.handling_status==="In Progress"&&i.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[i.jsx(sa,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),i.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),Ae.attachment&&i.jsx(pt,{title:"Supporting Documents",icon:i.jsx(bc,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),i.jsxs("a",{href:Ae.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[i.jsx(WE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),i.jsx(te,{order:Ae})]})},ie=y.useCallback(async()=>{B(!0),E(null);try{const Ye=(await ue()).filter(tt=>tt.assigned_to_id===Number(ne==null?void 0:ne.id));L(Ye)}catch(Ae){E(Ae.message||"Failed to load work orders.")}finally{B(!1)}},[ue,ne==null?void 0:ne.id]),dt=y.useCallback(async(Ae,Ye)=>{V(!0),W(null),z(!1);try{const tt=await _e({...Ye,id:Ae});return L(ve=>ve.map(pe=>pe.id===Ae?tt:pe)),z(!0),setTimeout(()=>z(!1),3e3),tt}catch(tt){throw W(tt.message||"Failed to update work order."),tt}finally{V(!1)}},[_e]),ct=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)},Le=Ae=>{X.current&&!X.current.contains(Ae.target)&&A(!1),Z.current&&!Z.current.contains(Ae.target)&&M(!1)};y.useEffect(()=>(window.addEventListener("resize",ct),document.addEventListener("mousedown",Le),ie(),()=>{window.removeEventListener("resize",ct),document.removeEventListener("mousedown",Le)}),[ie]);const Qe=Ae=>{switch(Ae){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},yt=Ae=>{switch(Ae==null?void 0:Ae.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},bt=Ae=>{switch(Ae){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},It=Ae=>{switch(Ae==null?void 0:Ae.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},At=y.useCallback(Ae=>{const Ye=R.find(tt=>tt.id===Ae);Ye&&(p(Ye),m(!0))},[R]);y.useCallback(async Ae=>{if(!J.trim()){W("Vendor name is required");return}try{await dt(Ae,{assigned_to_name:J.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),oe(""),z(!0)}catch(Ye){console.error("Failed to assign vendor:",Ye)}},[dt,J]),y.useCallback(async(Ae,Ye)=>{try{await dt(Ae,{handling_status:Ye,handling_date:new Date().toISOString()})}catch(tt){console.error("Failed to update status:",tt)}},[dt]);const Se=Ae=>{var Ye;return Ae.vendor?`${Ae.vendor.name}`:((Ye=Ae.assigned_to)==null?void 0:Ye.name)||"Unassigned"},gt=Ae=>Ae.vendor?"vendor":Ae.assigned_to?"user":"unassigned",rt=()=>{n(Ae=>!Ae)},Nt=R.filter(Ae=>{var ve,pe,We,pt;const Ye=((pe=(ve=Ae.requester)==null?void 0:ve.name)==null?void 0:pe.toLowerCase().includes(a.toLowerCase()))||((We=Ae.work_order_no)==null?void 0:We.toLowerCase().includes(a.toLowerCase()))||((pt=Ae.complaint)==null?void 0:pt.toLowerCase().includes(a.toLowerCase()))||String(Ae.id).includes(a),tt=o==="all"||Ae.handling_status===o;return Ye&&tt}).sort((Ae,Ye)=>{var pt,Je;const tt=bt(Ae.handling_status),ve=bt(Ye.handling_status);if(tt!==ve)return tt-ve;const pe=It((pt=Ae.service)==null?void 0:pt.priority),We=It((Je=Ye.service)==null?void 0:Je.priority);return pe!==We?pe-We:new Date(Ye.created_at).getTime()-new Date(Ae.created_at).getTime()}),kt=v*b,De=kt-b,vt=Nt.slice(De,kt),Pe=Math.ceil(Nt.length/b),$e=Ae=>w(Ae);return y.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[a,o,t]),I?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):D?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Ur,{className:"text-red-600 text-5xl"}),i.jsxs("div",{className:"ml-4",children:[i.jsx("p",{className:"text-lg text-red-800",children:D}),i.jsx("button",{onClick:ie,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:N,toggleSidebar:rt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${he?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ke?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ze?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),Y&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:Y}),i.jsx("button",{onClick:()=>W(null),className:"absolute top-0 right-0 p-3",children:i.jsx(Ht,{size:16})})]}),F&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[i.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),i.jsx("button",{onClick:()=>z(!1),className:"absolute top-0 right-0 p-3",children:i.jsx(Ht,{size:16})})]}),i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(o2,{title:"Total Assignments",value:Nt.length.toString(),change:"+8%",icon:i.jsx(bn,{})}),i.jsx(o2,{title:"In Progress",value:Nt.filter(Ae=>Ae.handling_status==="In Progress").length.toString(),change:"-1",icon:i.jsx(sa,{})}),i.jsx(o2,{title:"Resolved",value:Nt.filter(Ae=>Ae.handling_status==="Resolved").length.toString(),change:"+1",icon:i.jsx(wr,{})}),i.jsx(o2,{title:"Vendor Handled",value:Nt.filter(Ae=>Ae.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:i.jsx(kr,{})})]}),i.jsx(O.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:a,onChange:Ae=>s(Ae.target.value)})]}),i.jsx(sr,{children:c&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:i.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Ae=>l(Ae.target.value),children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:vt.length>0?vt.map(Ae=>{var ve,pe;Ae.handling_status,["Resolved","Cancel","Closed"].includes(Ae.handling_status),Ae.handling_status;const Ye=Se(Ae),tt=gt(Ae);return i.jsxs(O.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>At(Ae.id),title:"Click to view details",children:Ae.work_order_no||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:Ae.requester.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(Ae.date).toLocaleDateString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ae.handling_date?new Date(Ae.handling_date).toLocaleDateString():"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${yt((ve=Ae.service)==null?void 0:ve.priority)} shadow-sm`,children:((pe=Ae.service)==null?void 0:pe.priority)||"Medium"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Qe(Ae.handling_status)} shadow-sm`,children:Ae.handling_status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsxs("div",{className:"flex items-center",children:[i.jsx("span",{className:`text-sm font-medium ${tt==="vendor"?"text-purple-600":tt==="user"?"text-blue-600":"text-gray-500"}`,children:Ye}),tt==="vendor"&&i.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>At(Ae.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:i.jsx(Io,{className:"text-lg"})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(`/workorders/it/assignment/editassignment/${Ae.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:i.jsx(Ci,{className:"text-lg"})})]})]},Ae.id)}):i.jsx("tr",{children:i.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),Nt.length>b&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[i.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",i.jsx("span",{className:"font-semibold",children:De+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(kt,Nt.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:Nt.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Pe},(Ae,Ye)=>i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(Ye+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===Ye+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ye+1},Ye+1)),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(v+1),disabled:v===Pe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:i.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),p(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:i.jsx(ae,{order:g,onClose:()=>{m(!1),p(null)}})})]})})})]})},dBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,fBe=()=>{var Ae,Ye,tt;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:a,getServiceGroups:s,getWorkOrderById:o,getVendor:l}=ir(),c=nr(),{id:u}=js(),[f,m]=y.useState([]),[g,p]=y.useState([]),[v,w]=y.useState([]),[b,N]=y.useState(window.innerWidth<768),[k,S]=y.useState(()=>{const ve=localStorage.getItem("sidebarOpen");return ve?JSON.parse(ve):!1}),[A,_]=y.useState(!1),[M,R]=y.useState(!1),[L,I]=y.useState(!1),[B,D]=y.useState(!1),[E,H]=y.useState(!0),[V,Y]=y.useState(null),[W,F]=y.useState(null),[z,J]=y.useState(!1),oe=y.useRef(null),K=y.useRef(null),[U,X]=y.useState([]),[Z,ne]=y.useState([]),[ue,_e]=y.useState(!1),[Ne,ge]=y.useState([]),[ke,ze]=y.useState(!1),[he,ye]=y.useState(null),[ae,ie]=y.useState(!1),dt=({content:ve,className:pe=""})=>{if(!ve)return i.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${pe}`,children:i.jsx("span",{children:"-"})});const We=md.sanitize(ve,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return i.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${pe}`,dangerouslySetInnerHTML:{__html:We}})},ct={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Ae=e==null?void 0:e.department)==null?void 0:Ae.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[Le,Qe]=y.useState(ct);y.useEffect(()=>{const ve=Le.handling_status!=="New",pe=Le.handling_status==="Vendor Handled";_e(ve),ze(pe),!pe&&Le.vendor_id&&(Qe(We=>({...We,vendor_id:null})),ye(null),ie(!1))},[Le.handling_status]),y.useEffect(()=>{const ve=async()=>{if(u)try{H(!0);const pe=await o(parseInt(u));if(Qe({id:pe.id,date:pe.date.split("T")[0],reception_method:pe.reception_method,requester_id:pe.requester_id,known_by_id:pe.known_by_id,department_id:pe.department_id,service_type_id:String(pe.service_group_id||""),service_id:String(pe.service_catalogue_id||""),asset_no:pe.asset_no,device_info:pe.device_info,complaint:pe.complaint,attachment:pe.attachment,received_by_id:pe.received_by_id,handling_date:pe.handling_date?pe.handling_date.split("T")[0]:null,action_taken:pe.action_taken,handling_status:pe.handling_status,remarks:pe.remarks,assigned_to_id:pe.assigned_to_id,vendor_id:pe.vendor_id||null}),pe.vendor_id&&Ne.length>0){const We=Ne.find(pt=>pt.id===pe.vendor_id);We&&ye(We)}}catch(pe){console.error("Failed to fetch work order data:",pe),Y(pe.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};Ne.length>0&&ve()},[u,o,Ne]),y.useEffect(()=>{e&&(async()=>{try{const pe=await l();ge(pe);const pt=(await s(0)).map(te=>({id:Number(te.id),name:te.group_name??"",description:te.group_description??void 0}));ne(pt);const Je=await a();p(Je);const we=await r();if(m(we),e&&e.id){const te=await n(parseInt(e.id));w(te)}}catch(pe){console.error("Failed to fetch master data:",pe)}})()},[e,r,n,a,s,l]),y.useEffect(()=>{const ve=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ve),()=>window.removeEventListener("resize",ve)},[]),y.useEffect(()=>{const ve=pe=>{oe.current&&!oe.current.contains(pe.target)&&R(!1),K.current&&!K.current.contains(pe.target)&&I(!1)};return document.addEventListener("mousedown",ve),()=>{document.removeEventListener("mousedown",ve)}},[]),y.useEffect(()=>{if(Le.service_type_id&&v.length>0){const ve=v.filter(pe=>String(pe.service_type)===Le.service_type_id);X(ve)}else X([])},[Le.service_type_id,v]),y.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const yt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(ve=>!ve)},bt=y.useCallback((ve,pe)=>{let We,pt;if(ve&&"target"in ve)We=ve.target.name,pt=ve.target.value;else if(ve&&typeof ve=="object"&&"value"in ve&&pe)We=pe,pe==="assigned_to_id"||pe==="requester_id"||pe==="known_by_id"?pt=ve.value?parseInt(ve.value):null:pt=ve.value;else if(ve===null&&pe)We=pe,pt=null;else return;Qe(Je=>({...Je,[We]:pt}))},[]),It=ve=>{ye(ve),Qe(pe=>({...pe,vendor_id:ve.id})),ie(!1)},At=async ve=>{ve.preventDefault(),D(!0),Y(null);const pe=["In Progress","Escalated","Vendor Handled","Resolved"];if(Le.handling_status&&pe.includes(Le.handling_status)&&!Le.assigned_to_id){Y("Assigned To is required for this status"),D(!1);return}if(Le.handling_status==="Vendor Handled"&&!Le.vendor_id){Y("Vendor selection is required for Vendor Handled status"),D(!1);return}if(!Le.handling_status){Y("Handling status is required"),D(!1);return}if(!Le.handling_date){Y("Handling date is required"),D(!1);return}if(!Le.action_taken||Le.action_taken.length<5){Y("Action taken must be at least 5 characters"),D(!1);return}const We={...Le,id:Le.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:Le.handling_date,action_taken:Le.action_taken,handling_status:Le.handling_status,remarks:Le.remarks,assigned_to_id:Le.assigned_to_id?parseInt(Le.assigned_to_id):null,vendor_id:Le.vendor_id};try{await t(We),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${Le.id}`}}),J(!0)}catch(pt){Y(pt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",pt)}finally{D(!1)}},Se=y.useCallback(()=>{J(!1),c("/workorders/it/assignment")},[c]),gt={control:(ve,pe)=>({...ve,minHeight:"42px",borderColor:pe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:pe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ve=>({...ve,padding:"0"}),singleValue:ve=>({...ve,color:"#374151"}),placeholder:ve=>({...ve,color:"#6B7280"}),dropdownIndicator:ve=>({...ve,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ve=>({...ve,display:"none"}),menu:ve=>({...ve,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ve,pe)=>({...ve,backgroundColor:pe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},rt=()=>{const ve=f.find(pe=>parseInt(pe.id)===Le.requester_id);return(ve==null?void 0:ve.name)||"Unknown"},Nt=()=>{const ve=g.find(pe=>pe.id===Le.department_id);return(ve==null?void 0:ve.name)||"No department assigned"},kt=()=>{const ve=g.find(pe=>pe.id===Le.department_id);if(ve&&ve.head_id){const pe=f.find(We=>parseInt(We.id)===ve.head_id);return(pe==null?void 0:pe.name)||"No department head assigned"}return"No department head assigned"},De=()=>{const ve=Z.find(pe=>String(pe.id)===Le.service_type_id);return(ve==null?void 0:ve.name)||"Unknown"},vt=()=>{const ve=v.find(pe=>String(pe.id)===Le.service_id);return(ve==null?void 0:ve.service_name)||"Unknown"},Pe=()=>{if(!Le.attachment)return null;try{const pe=new URL(Le.attachment).pathname;return pe.substring(pe.lastIndexOf("/")+1)}catch{return Le.attachment}},$e=()=>{Le.attachment&&window.open(Le.attachment,"_blank")};return E?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:i.jsx("div",{className:"flex items-center justify-center h-full",children:i.jsxs("div",{className:"text-center",children:[i.jsx(vn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),i.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:b,toggleSidebar:yt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),i.jsxs(O.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(Ff,{className:"text-lg"})," Back to Assignment"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[V&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:V}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>Y(null)})})]}),i.jsxs("form",{onSubmit:At,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(kr,{className:"mr-2 text-blue-500"})," General Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.date})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.reception_method})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:rt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Nt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:kt()})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:De()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:vt()})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.asset_no})})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Cx,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),i.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:i.jsx("span",{children:Le.device_info})})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),i.jsx(dt,{content:Le.complaint,className:"min-h-[100px]"})]})]})]}),Le.attachment&&i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),i.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[i.jsx("span",{className:"text-gray-700",children:Pe()}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:$e,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-500"})," Handling Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),i.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:i.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:Le.handling_date||"",onChange:bt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:Le.handling_status?{value:Le.handling_status,label:Le.handling_status}:null,onChange:ve=>bt(ve,"handling_status"),placeholder:"Select Handling Status",styles:gt,required:!0})]}),ue&&i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Wn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(ve=>({value:String(ve.id),label:ve.name})),value:Le.assigned_to_id?{value:String(Le.assigned_to_id),label:((Ye=f.find(ve=>parseInt(ve.id)===Le.assigned_to_id))==null?void 0:Ye.name)||"Unknown"}:null,onChange:ve=>bt(ve,"assigned_to_id"),placeholder:"Select Assignee",styles:gt,required:ue})]}),ke&&i.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),he?i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{ye(null),Qe(ve=>({...ve,vendor_id:null})),ie(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.name})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.contact_person})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.address||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.email})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.telp||"-"})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),i.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:he.HP||"-"})]})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{className:"flex justify-between items-center",children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(O.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(!ae),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ae?"Hide Vendors":"Select Vendor"})]}),ae&&i.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Ne.length>0?Ne.map(ve=>i.jsxs(O.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>It(ve),children:[i.jsx("div",{className:"font-medium text-gray-900",children:ve.name}),i.jsxs("div",{className:"text-sm text-gray-600",children:[ve.contact_person,"  ",ve.email]}),i.jsx("div",{className:"text-xs text-gray-500",children:ve.address})]},ve.id)):i.jsxs("div",{className:"p-4 text-center text-gray-600",children:[i.jsx(Ur,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:Le.action_taken||"",onChange:ve=>{Qe(pe=>({...pe,action_taken:ve}))}})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:Le.remarks||"",onChange:ve=>{Qe(pe=>({...pe,remarks:ve}))}})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(An,{className:"mr-2 h-5 w-5"})," Cancel"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:B,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:B?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),i.jsx(dBe,{isOpen:z,onClose:Se,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:W==null?void 0:W.message}),i.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(tt=W==null?void 0:W.work_order)==null?void 0:tt.work_order_no]}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Se,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},hBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,mBe=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getActivity:l,updateActivity:c,getActivityById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",description:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",description:s.description||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Activity update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Activity")}finally{S(!1)}},D=()=>{N(!1),A("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(hc,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),i.jsxs(O.button,{onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Activity Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),i.jsx(hBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},pBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,gBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addActivity:o,getActivity:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Activity created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Activity")}finally{N(!1)}},I=()=>{w(!1),k("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(hc,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),i.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Activity Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),i.jsx(pBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},xBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),yBe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},bBe=()=>{const[t,e]=y.useState([]),{getActivity:r,deleteActivity:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load activities"),console.error("Error loading activities:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="activity"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete activity:",z),l("Failed to delete activity. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:i.jsx(hc,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Activity"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(yBe,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(hc,{className:"w-6 h-6"})})}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search activities"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(xBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},vBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),wBe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},jBe=()=>{const[t,e]=y.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load trouble items"),console.error("Error loading trouble items:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="trouble item"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete trouble item:",z),l("Failed to delete trouble item. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:i.jsx(Ur,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Trouble Item"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(wBe,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(Ur,{className:"w-6 h-6"})})}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search trouble items"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(vBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},NBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,oV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addTroubleItem:o,getTroubleItem:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Trouble Item created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Trouble Item")}finally{N(!1)}},I=()=>{w(!1),k("/maintenanceactivity/troubleitem")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Ur,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),i.jsxs(O.button,{onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Trouble Item Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),i.jsx(NBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},SBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,kBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkUnit:o,getWorkUnit:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",is_production:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,is_production:S.is_production,description:S.description};await o(D),p("Work Unit created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Unit")}finally{N(!1)}},I=()=>{w(!1),k("/worklocation/workunit")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(gg,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),i.jsxs(O.button,{onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Unit Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Production",children:"Production"}),i.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx(Of,{value:S.description,onChange:B=>{A(D=>({...D,description:B}))}})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),i.jsx(SBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},CBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,_Be=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",is_production:"",description:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",is_production:s.is_production||"",description:s.description||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,is_production:_.is_production,description:_.description};await c(t,H),w("Work Unit update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Unit")}finally{S(!1)}},D=()=>{N(!1),A("/worklocation/workunit")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(gg,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),i.jsxs(O.button,{onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Unit Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[i.jsx("option",{value:"Production",children:"Production"}),i.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),i.jsx(CBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},ABe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),lV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},TBe=()=>{const[t,e]=y.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load work units"),console.error("Error loading work units:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="work unit"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete work unit:",z),l("Failed to delete work unit. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(gg,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Work Unit"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(lV,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(gg,{className:"w-6 h-6"})}),i.jsx(lV,{title:"Production Units",value:t.filter(F=>String(F.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter(F=>String(F.is_production)==="1").length/t.length*100)}%`,icon:i.jsx(gg,{className:"w-6 h-6"})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search work units"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:String(F.is_production)==="1"?"Yes":"No"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(ABe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},MBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,cV=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",description:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",description:s.description||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Group update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Group")}finally{S(!1)}},D=()=>{N(!1),A("/workarrangement/workgroup")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Va,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),i.jsxs(O.button,{onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Group Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),i.jsx(MBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},OBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,uV=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkGroup:o,getWorkGroup:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Work Group created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Group")}finally{N(!1)}},I=()=>{w(!1),k("/maintenanceactivity/activity")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(Va,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),i.jsxs(O.button,{onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Group Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),i.jsx(OBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},EBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),dV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},fV=()=>{const[t,e]=y.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load work groups"),console.error("Error loading work groups:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="work group"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete work group:",z),l("Failed to delete work group. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:i.jsx(Va,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Work Group"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(dV,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(Va,{className:"w-6 h-6"})}),i.jsx(dV,{title:"Active Groups",value:t.filter(F=>F.description&&F.description.length>0).length.toString(),change:`+${Math.floor(t.filter(F=>F.description&&F.description.length>0).length/t.length*100)}%`,icon:i.jsx(Va,{className:"w-6 h-6"})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search work groups"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(EBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},DBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,PBe=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",description:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",description:s.description||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Shift update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Shift")}finally{S(!1)}},D=()=>{N(!1),A("/workarrangement/workshift")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),i.jsxs(O.button,{onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Shift Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),i.jsx(DBe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},LBe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,RBe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addWorkShift:o,getWorkShift:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",description:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,description:S.description};await o(D),p("Work Shift created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Work Shift")}finally{N(!1)}},I=()=>{w(!1),k("/workarrangement/workshift")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),i.jsxs(O.button,{onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Shift Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),i.jsx(LBe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},IBe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),hV=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},FBe=()=>{const[t,e]=y.useState([]),{getWorkShift:r,deleteWorkShift:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load work shifts"),console.error("Error loading work shifts:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ne;const U=(Z=K.name)==null?void 0:Z.toLowerCase().includes(oe),X=(ne=K.description)==null?void 0:ne.toLowerCase().includes(oe);return J==="work shift"?U:J==="description"?X:U||X})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete work shift:",z),l("Failed to delete work shift. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(kr,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Work Shift"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(hV,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})}),i.jsx(hV,{title:"Active Shifts",value:t.filter(F=>F.description&&F.description.length>0).length.toString(),change:`+${Math.floor(t.filter(F=>F.description&&F.description.length>0).length/t.length*100)}%`,icon:i.jsx(kr,{className:"w-6 h-6"})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search work shifts"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.description||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(IBe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},$Be=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,BBe=()=>{const t=nr(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:a}=ir(),[s,o]=y.useState(window.innerWidth<768),[l,c]=y.useState(()=>{const Z=localStorage.getItem("sidebarOpen");return JSON.parse(Z||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(Z=>!Z)},[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(null),[A,_]=y.useState(!0),[M,R]=y.useState(1),[L,I]=y.useState({startDate:null,endDate:null,units:[]}),B={control:(Z,ne)=>({...Z,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Z=>({...Z,padding:"0"}),singleValue:Z=>({...Z,color:"#374151"}),placeholder:Z=>({...Z,color:"#6B7280"}),dropdownIndicator:Z=>({...Z,color:"#9CA3AF"}),clearIndicator:Z=>({...Z,color:"#9CA3AF"}),menu:Z=>({...Z,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Z,ne)=>({...Z,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};y.useEffect(()=>{(async()=>{try{_(!0);const ne=await e();S(ne)}catch{p("Gagal memuat data master")}finally{_(!1)}})()},[e]);const D=y.useCallback(()=>{I(Z=>({...Z,units:[...Z.units,{id:0,name:"",machines:[]}]}))},[]),E=y.useCallback(Z=>{I(ne=>({...ne,units:ne.units.filter((ue,_e)=>_e!==Z)}))},[]),H=y.useCallback((Z,ne)=>{var ue;if(ne){const _e=(ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.find(Ne=>Ne.id===ne.value);_e&&I(Ne=>{const ge=[...Ne.units];return ge[Z]={id:_e.id,name:_e.name,machines:[]},{...Ne,units:ge}})}else I(_e=>{const Ne=[..._e.units];return Ne[Z]={id:0,name:"",machines:[]},{..._e,units:Ne}})},[k]),V=y.useCallback(Z=>{I(ne=>{const ue=[...ne.units];return ue[Z].machines=[...ue[Z].machines,{id:0,name:"",intervalId:null,items:[]}],{...ne,units:ue}})},[]),Y=y.useCallback((Z,ne)=>{I(ue=>{const _e=[...ue.units];return _e[Z].machines=_e[Z].machines.filter((Ne,ge)=>ge!==ne),{...ue,units:_e}})},[]),W=y.useCallback(async(Z,ne,ue)=>{if(ue)try{const _e=await a(ue.value);_e&&I(Ne=>{const ge=[...Ne.units];return ge[Z].machines[ne]={id:_e.id,name:_e.name,intervalId:null,items:_e.item_mesin.map(ke=>({...ke,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...Ne,units:ge}})}catch(_e){console.error("Error fetching machine detail:",_e),p("Gagal memuat detail mesin")}else I(_e=>{const Ne=[..._e.units];return Ne[Z].machines[ne]={id:0,name:"",intervalId:null,items:[]},{..._e,units:Ne}})},[a]),F=y.useCallback((Z,ne,ue)=>{var _e,Ne,ge;if(ue&&((Ne=(_e=L.units[Z])==null?void 0:_e.machines[ne])!=null&&Ne.id)){const ke=(ge=k==null?void 0:k.intervals)==null?void 0:ge.find(ze=>ze.id_interval===ue.value);ke&&I(ze=>{const he=[...ze.units],ye=he[Z].machines[ne],ae=ye.items.filter(ie=>ie.interval_id===ke.id_interval);return he[Z].machines[ne]={...ye,intervalId:ke.id_interval,intervalType:ke.type_interval,items:ae.map(ie=>({...ie,interval_type:ke.type_interval}))},{...ze,units:he}})}else I(ke=>{const ze=[...ke.units],he=ze[Z].machines[ne];return ze[Z].machines[ne]={...he,intervalId:null,intervalType:void 0,items:he.items.map(ye=>({...ye,interval_type:""}))},{...ke,units:ze}})},[k,L.units]);y.useCallback((Z,ne,ue,_e,Ne)=>{I(ge=>{const ke=[...ge.units];return ke[Z].machines[ne].items[ue]={...ke[Z].machines[ne].items[ue],[_e]:Ne},{...ge,units:ke}})},[]);const z=["January","February","March","April","May","June","July","August","September","October","November","December"],J=async Z=>{Z.preventDefault(),m(!0),p(null);try{if(!L.startDate||!L.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(L.units.length===0||L.units.some(Ne=>!Ne.id))throw new Error("Pilih setidaknya satu unit");const ne=Ne=>{const ge=Ne.getFullYear(),ke=String(Ne.getMonth()+1).padStart(2,"0"),ze=String(Ne.getDate()).padStart(2,"0");return`${ge}-${ke}-${ze}`},ue=[],_e=[];for(const Ne of L.units)for(const ge of Ne.machines)if(ge.id&&ge.items.length>0){const ke=ge.items.map(ye=>ye.id),ze={tahun:L.startDate.getFullYear(),bulan:z[L.startDate.getMonth()],tgl_start:ne(L.startDate),tgl_end:ne(L.endDate),unit:Ne.name,id_mesins:ge.id,id_interval:ge.intervalId||1,item_mesin_ids:ke},he=await r(ze);ue.push(he)}if(ue.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");w("Data monitoring berhasil disimpan!"),N(!0)}catch(ne){p(ne.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},oe=y.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),K=y.useMemo(()=>{switch(M){case 1:return!L.startDate||!L.endDate;case 2:return L.units.length===0||L.units.every(ne=>!ne.id);case 3:return L.units.every(ne=>ne.machines.length===0||ne.machines.every(ue=>!ue.id||!ue.intervalId||ue.items.length===0));case 4:return!L.units.some(ne=>ne.machines.some(ue=>ue.id&&ue.intervalId&&ue.items.length>0));default:return!0}},[M,L]),U=()=>i.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(Z=>i.jsxs("button",{type:"button",onClick:()=>R(Z),disabled:Z===2&&(!L.startDate||!L.endDate)||Z===3&&(L.units.length===0||L.units.every(ne=>!ne.id))||Z===4&&L.units.every(ne=>ne.machines.every(ue=>!ue.id||!ue.intervalId)),className:`px-4 py-2 font-medium ${M===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${Z===2&&(!L.startDate||!L.endDate)||Z===3&&(L.units.length===0||L.units.every(ne=>!ne.id))||Z===4&&L.units.every(ne=>ne.machines.every(ue=>!ue.id||!ue.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[Z,". ",["Date","Unit","Machine & Interval","Item"][Z-1]]},Z))}),X=()=>{if(A)return i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(M){case 1:return i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),i.jsx(im,{selected:L.startDate,onChange:Z=>I(ne=>({...ne,startDate:Z})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),i.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:i.jsx(Bfe,{size:24})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),i.jsx(im,{selected:L.endDate,onChange:Z=>I(ne=>({...ne,endDate:Z})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),i.jsxs("div",{className:"space-y-4",children:[L.units.map((Z,ne)=>{var ue;return i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[i.jsx("div",{className:"flex-1",children:i.jsx(Wn,{options:((ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.map(_e=>({value:_e.id,label:_e.name})))||[],value:Z.id?{value:Z.id,label:Z.name}:null,onChange:_e=>H(ne,_e),isClearable:!0,placeholder:"Pilih Unit",styles:B,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),L.units.length>1&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>E(ne),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:i.jsx(ha,{size:20})})]},ne)}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[i.jsx(di,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),i.jsx("div",{className:"space-y-6",children:L.units.map((Z,ne)=>Z.id&&i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[i.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:Z.name}),i.jsx("div",{className:"space-y-4",children:Z.machines.map((ue,_e)=>{var Ne,ge,ke,ze;return i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),i.jsx(Wn,{options:((ke=(ge=(Ne=k==null?void 0:k.unitsWithMachines)==null?void 0:Ne.find(he=>he.id===Z.id))==null?void 0:ge.mesin)==null?void 0:ke.map(he=>({value:he.id,label:he.name})))||[],value:ue.id?{value:ue.id,label:ue.name}:null,onChange:he=>W(ne,_e,he),isClearable:!0,placeholder:"Select Machine",styles:B})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),i.jsx(Wn,{options:((ze=k==null?void 0:k.intervals)==null?void 0:ze.map(he=>({value:he.id_interval,label:he.type_interval})))||[],value:ue.intervalId?{value:ue.intervalId,label:ue.intervalType}:null,onChange:he=>F(ne,_e,he),isClearable:!0,placeholder:ue.id?"Select Interval":"Please Select Machine",isDisabled:!ue.id||ue.items.length===0,styles:B})]})]}),ue.id&&i.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ue.items.length," item monitoring tersedia"]}),ue.intervalId&&i.jsxs("span",{className:"text-sm text-green-600",children:[ue.items.filter(he=>he.interval_id===ue.intervalId).length," item untuk interval ",ue.intervalType]})]}),ue.items.length===0&&i.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Y(ne,_e),className:"text-red-500 hover:text-red-700",children:i.jsx(ha,{size:20})})})]},_e)})}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(ne),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[i.jsx(di,{size:20,className:"mr-2"})," Add Machine"]})]},ne))})]},"step3");case 4:return i.jsxs(O.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),i.jsx("div",{className:"space-y-6",children:L.units.map((Z,ne)=>Z.id&&Z.machines.map((ue,_e)=>ue.id&&i.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[i.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[Z.name," - ",ue.name]}),ue.items.length>0?i.jsx("div",{className:"space-y-4",children:ue.items.map((Ne,ge)=>i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[i.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[Ne.item_mesin," (",Ne.satuan,")"]}),Ne.interval_type&&i.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:Ne.interval_type}),Ne.standard_min&&Ne.standard_max&&i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",Ne.standard_min," - ",Ne.standard_max]}),Ne.standard_visual&&i.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",Ne.standard_visual]})]},ge))}):i.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${ne}-${_e}`)))})]},"step4");default:return null}};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Ax,{}),isMobile:s,toggleSidebar:u}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),i.jsxs(O.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),U(),i.jsx(sr,{mode:"wait",children:X()}),i.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[M>1&&i.jsxs(O.button,{type:"button",onClick:()=>R(Z=>Z-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[i.jsx(Ff,{className:"mr-2 h-5 w-5"})," Back"]}),M<4?i.jsxs(O.button,{type:"button",onClick:()=>R(Z=>Z+1),disabled:K,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",i.jsx(ta,{className:"ml-2 h-5 w-5"})]}):i.jsx(O.button,{type:"button",onClick:J,disabled:K||f,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K||f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:f?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),i.jsx($Be,{isOpen:b,onClose:oe,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:oe,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},HBe="modulepreload",zBe=function(t){return"/"+t},mV={},CT=function(e,r,n){let a=Promise.resolve();if(r&&r.length>0){let o=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));a=o(r.map(u=>{if(u=zBe(u),u in mV)return;mV[u]=!0;const f=u.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":HBe,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((p,v)=>{g.addEventListener("load",p),g.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return a.then(o=>{for(const l of o||[])l.status==="rejected"&&s(l.reason);return e().catch(s)})};var fu=Uint8Array,Al=Uint16Array,rL=Int32Array,nL=new fu([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),aL=new fu([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),pV=new fu([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Cne=function(t,e){for(var r=new Al(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var a=new rL(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)a[s]=s-r[n]<<5|n;return{b:r,r:a}},_ne=Cne(nL,2),qBe=_ne.b,z6=_ne.r;qBe[28]=258,z6[258]=28;var UBe=Cne(aL,0),gV=UBe.r,q6=new Al(32768);for(var Ua=0;Ua<32768;++Ua){var _h=(Ua&43690)>>1|(Ua&21845)<<1;_h=(_h&52428)>>2|(_h&13107)<<2,_h=(_h&61680)>>4|(_h&3855)<<4,q6[Ua]=((_h&65280)>>8|(_h&255)<<8)>>1}var Db=(function(t,e,r){for(var n=t.length,a=0,s=new Al(e);a<n;++a)t[a]&&++s[t[a]-1];var o=new Al(e);for(a=1;a<e;++a)o[a]=o[a-1]+s[a-1]<<1;var l;if(r){l=new Al(1<<e);var c=15-e;for(a=0;a<n;++a)if(t[a])for(var u=a<<4|t[a],f=e-t[a],m=o[t[a]-1]++<<f,g=m|(1<<f)-1;m<=g;++m)l[q6[m]>>c]=u}else for(l=new Al(n),a=0;a<n;++a)t[a]&&(l[a]=q6[o[t[a]-1]++]>>15-t[a]);return l}),Hp=new fu(288);for(var Ua=0;Ua<144;++Ua)Hp[Ua]=8;for(var Ua=144;Ua<256;++Ua)Hp[Ua]=9;for(var Ua=256;Ua<280;++Ua)Hp[Ua]=7;for(var Ua=280;Ua<288;++Ua)Hp[Ua]=8;var hN=new fu(32);for(var Ua=0;Ua<32;++Ua)hN[Ua]=5;var WBe=Db(Hp,9,0),VBe=Db(hN,5,0),Ane=function(t){return(t+7)/8|0},GBe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new fu(t.subarray(e,r))},Zd=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Ky=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},_T=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var a=r.length,s=r.slice();if(!a)return{t:Mne,l:0};if(a==1){var o=new fu(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,M){return _.f-M.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],u=0,f=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=a-1;)l=r[r[u].f<r[m].f?u++:m++],c=r[u!=f&&r[u].f<r[m].f?u++:m++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var g=s[0].s,n=1;n<a;++n)s[n].s>g&&(g=s[n].s);var p=new Al(g+1),v=U6(r[f-1],p,0);if(v>e){var n=0,w=0,b=v-e,N=1<<b;for(s.sort(function(M,R){return p[R.s]-p[M.s]||M.f-R.f});n<a;++n){var k=s[n].s;if(p[k]>e)w+=N-(1<<v-p[k]),p[k]=e;else break}for(w>>=b;w>0;){var S=s[n].s;p[S]<e?w-=1<<e-p[S]++-1:++n}for(;n>=0&&w;--n){var A=s[n].s;p[A]==e&&(--p[A],++w)}v=e}return{t:new fu(p),l:v}},U6=function(t,e,r){return t.s==-1?Math.max(U6(t.l,e,r+1),U6(t.r,e,r+1)):e[t.s]=r},xV=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Al(++e),n=0,a=t[0],s=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==a&&l!=e)++s;else{if(!a&&s>2){for(;s>138;s-=138)o(32754);s>2&&(o(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(o(a),--s;s>6;s-=6)o(8304);s>2&&(o(s-3<<5|8208),s=0)}for(;s--;)o(a);s=1,a=t[l]}return{c:r.subarray(0,n),n:e}},Jy=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Tne=function(t,e,r){var n=r.length,a=Ane(e+2);t[a]=n&255,t[a+1]=n>>8,t[a+2]=t[a]^255,t[a+3]=t[a+1]^255;for(var s=0;s<n;++s)t[a+s+4]=r[s];return(a+4+n)*8},yV=function(t,e,r,n,a,s,o,l,c,u,f){Zd(e,f++,r),++a[256];for(var m=_T(a,15),g=m.t,p=m.l,v=_T(s,15),w=v.t,b=v.l,N=xV(g),k=N.c,S=N.n,A=xV(w),_=A.c,M=A.n,R=new Al(19),L=0;L<k.length;++L)++R[k[L]&31];for(var L=0;L<_.length;++L)++R[_[L]&31];for(var I=_T(R,7),B=I.t,D=I.l,E=19;E>4&&!B[pV[E-1]];--E);var H=u+5<<3,V=Jy(a,Hp)+Jy(s,hN)+o,Y=Jy(a,g)+Jy(s,w)+o+14+3*E+Jy(R,B)+2*R[16]+3*R[17]+7*R[18];if(c>=0&&H<=V&&H<=Y)return Tne(e,f,t.subarray(c,c+u));var W,F,z,J;if(Zd(e,f,1+(Y<V)),f+=2,Y<V){W=Db(g,p,0),F=g,z=Db(w,b,0),J=w;var oe=Db(B,D,0);Zd(e,f,S-257),Zd(e,f+5,M-1),Zd(e,f+10,E-4),f+=14;for(var L=0;L<E;++L)Zd(e,f+3*L,B[pV[L]]);f+=3*E;for(var K=[k,_],U=0;U<2;++U)for(var X=K[U],L=0;L<X.length;++L){var Z=X[L]&31;Zd(e,f,oe[Z]),f+=B[Z],Z>15&&(Zd(e,f,X[L]>>5&127),f+=X[L]>>12)}}else W=WBe,F=Hp,z=VBe,J=hN;for(var L=0;L<l;++L){var ne=n[L];if(ne>255){var Z=ne>>18&31;Ky(e,f,W[Z+257]),f+=F[Z+257],Z>7&&(Zd(e,f,ne>>23&31),f+=nL[Z]);var ue=ne&31;Ky(e,f,z[ue]),f+=J[ue],ue>3&&(Ky(e,f,ne>>5&8191),f+=aL[ue])}else Ky(e,f,W[ne]),f+=F[ne]}return Ky(e,f,W[256]),f+F[256]},YBe=new rL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Mne=new fu(0),KBe=function(t,e,r,n,a,s){var o=s.z||t.length,l=new fu(n+o+5*(1+Math.ceil(o/7e3))+a),c=l.subarray(n,l.length-a),u=s.l,f=(s.r||0)&7;if(e){f&&(c[0]=s.r>>3);for(var m=YBe[e-1],g=m>>13,p=m&8191,v=(1<<r)-1,w=s.p||new Al(32768),b=s.h||new Al(v+1),N=Math.ceil(r/3),k=2*N,S=function(ae){return(t[ae]^t[ae+1]<<N^t[ae+2]<<k)&v},A=new rL(25e3),_=new Al(288),M=new Al(32),R=0,L=0,I=s.i||0,B=0,D=s.w||0,E=0;I+2<o;++I){var H=S(I),V=I&32767,Y=b[H];if(w[V]=Y,b[H]=V,D<=I){var W=o-I;if((R>7e3||B>24576)&&(W>423||!u)){f=yV(t,c,0,A,_,M,L,B,E,I-E,f),B=R=L=0,E=I;for(var F=0;F<286;++F)_[F]=0;for(var F=0;F<30;++F)M[F]=0}var z=2,J=0,oe=p,K=V-Y&32767;if(W>2&&H==S(I-K))for(var U=Math.min(g,W)-1,X=Math.min(32767,I),Z=Math.min(258,W);K<=X&&--oe&&V!=Y;){if(t[I+z]==t[I+z-K]){for(var ne=0;ne<Z&&t[I+ne]==t[I+ne-K];++ne);if(ne>z){if(z=ne,J=K,ne>U)break;for(var ue=Math.min(K,ne-2),_e=0,F=0;F<ue;++F){var Ne=I-K+F&32767,ge=w[Ne],ke=Ne-ge&32767;ke>_e&&(_e=ke,Y=Ne)}}}V=Y,Y=w[V],K+=V-Y&32767}if(J){A[B++]=268435456|z6[z]<<18|gV[J];var ze=z6[z]&31,he=gV[J]&31;L+=nL[ze]+aL[he],++_[257+ze],++M[he],D=I+z,++R}else A[B++]=t[I],++_[t[I]]}}for(I=Math.max(I,D);I<o;++I)A[B++]=t[I],++_[t[I]];f=yV(t,c,u,A,_,M,L,B,E,I-E,f),u||(s.r=f&7|c[f/8|0]<<3,f-=7,s.h=b,s.p=w,s.i=I,s.w=D)}else{for(var I=s.w||0;I<o+u;I+=65535){var ye=I+65535;ye>=o&&(c[f/8|0]=u,ye=o),f=Tne(c,f+1,t.subarray(I,ye))}s.i=o}return GBe(l,0,n+Ane(f)+a)},One=function(){var t=1,e=0;return{p:function(r){for(var n=t,a=e,s=r.length|0,o=0;o!=s;){for(var l=Math.min(o+2655,s);o<l;++o)a+=n+=r[o];n=(n&65535)+15*(n>>16),a=(a&65535)+15*(a>>16)}t=n,e=a},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},JBe=function(t,e,r,n,a){if(!a&&(a={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),o=new fu(s.length+t.length);o.set(s),o.set(t,s.length),t=o,a.w=s.length}return KBe(t,e.level==null?6:e.level,e.mem==null?a.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,a)},Ene=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},XBe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var a=One();a.p(e.dictionary),Ene(t,2,a.d())}};function W6(t,e){e||(e={});var r=One();r.p(t);var n=JBe(t,e,e.dictionary?6:2,4);return XBe(n,e),Ene(n,n.length-4,r.d()),n}var QBe=typeof TextDecoder<"u"&&new TextDecoder,ZBe=0;try{QBe.decode(Mne,{stream:!0}),ZBe=1}catch{}function bV(t,e="utf8"){return new TextDecoder(e).decode(t)}const eHe=new TextEncoder;function tHe(t){return eHe.encode(t)}const rHe=1024*8,nHe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),AT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class iL{constructor(e=rHe,r={}){Kt(this,"buffer");Kt(this,"byteLength");Kt(this,"byteOffset");Kt(this,"length");Kt(this,"offset");Kt(this,"lastWrittenByte");Kt(this,"littleEndian");Kt(this,"_data");Kt(this,"_mark");Kt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const a=r.offset?r.offset>>>0:0,s=e.byteLength-a;let o=a;(ArrayBuffer.isView(e)||e instanceof iL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+a),e=e.buffer),n?this.lastWrittenByte=s:this.lastWrittenByte=0,this.buffer=e,this.length=s,this.byteLength=s,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,s),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,a=new Uint8Array(n);a.set(new Uint8Array(this.buffer)),this.buffer=a.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=AT[r].BYTES_PER_ELEMENT*e,a=this.byteOffset+this.offset,s=this.buffer.slice(a,a+n);if(this.littleEndian===nHe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(a,a+n));l.reverse();const c=new AT[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new AT[r](s);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return bV(this.readBytes(e))}decodeText(e=1,r="utf8"){return bV(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(tHe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function Bx(t){let e=t.length;for(;--e>=0;)t[e]=0}const aHe=3,iHe=258,Dne=29,sHe=256,oHe=sHe+1+Dne,Pne=30,lHe=512,cHe=new Array((oHe+2)*2);Bx(cHe);const uHe=new Array(Pne*2);Bx(uHe);const dHe=new Array(lHe);Bx(dHe);const fHe=new Array(iHe-aHe+1);Bx(fHe);const hHe=new Array(Dne);Bx(hHe);const mHe=new Array(Pne);Bx(mHe);const pHe=(t,e,r,n)=>{let a=t&65535|0,s=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do a=a+e[n++]|0,s=s+a|0;while(--o);a%=65521,s%=65521}return a|s<<16|0};var V6=pHe;const gHe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},xHe=new Uint32Array(gHe()),yHe=(t,e,r,n)=>{const a=xHe,s=n+r;t^=-1;for(let o=n;o<s;o++)t=t>>>8^a[(t^e[o])&255];return t^-1};var Iu=yHe,G6={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},Lne={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const bHe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var vHe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)bHe(r,n)&&(t[n]=r[n])}}return t},wHe=t=>{let e=0;for(let n=0,a=t.length;n<a;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,a=0,s=t.length;n<s;n++){let o=t[n];r.set(o,a),a+=o.length}return r},Rne={assign:vHe,flattenChunks:wHe};let Ine=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Ine=!1}const Hv=new Uint8Array(256);for(let t=0;t<256;t++)Hv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;Hv[254]=Hv[254]=1;var jHe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,a,s,o=t.length,l=0;for(a=0;a<o;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),s=0,a=0;s<l;a++)r=t.charCodeAt(a),(r&64512)===55296&&a+1<o&&(n=t.charCodeAt(a+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),a++)),r<128?e[s++]=r:r<2048?(e[s++]=192|r>>>6,e[s++]=128|r&63):r<65536?(e[s++]=224|r>>>12,e[s++]=128|r>>>6&63,e[s++]=128|r&63):(e[s++]=240|r>>>18,e[s++]=128|r>>>12&63,e[s++]=128|r>>>6&63,e[s++]=128|r&63);return e};const NHe=(t,e)=>{if(e<65534&&t.subarray&&Ine)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var SHe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,a;const s=new Array(r*2);for(a=0,n=0;n<r;){let o=t[n++];if(o<128){s[a++]=o;continue}let l=Hv[o];if(l>4){s[a++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){s[a++]=65533;continue}o<65536?s[a++]=o:(o-=65536,s[a++]=55296|o>>10&1023,s[a++]=56320|o&1023)}return NHe(s,a)},kHe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+Hv[t[r]]>e?r:e},Y6={string2buf:jHe,buf2string:SHe,utf8border:kHe};function CHe(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var _He=CHe;const l2=16209,AHe=16191;var THe=function(e,r){let n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,M,R,L,I,B;const D=e.state;n=e.next_in,I=e.input,a=n+(e.avail_in-5),s=e.next_out,B=e.output,o=s-(r-e.avail_out),l=s+(e.avail_out-257),c=D.dmax,u=D.wsize,f=D.whave,m=D.wnext,g=D.window,p=D.hold,v=D.bits,w=D.lencode,b=D.distcode,N=(1<<D.lenbits)-1,k=(1<<D.distbits)-1;e:do{v<15&&(p+=I[n++]<<v,v+=8,p+=I[n++]<<v,v+=8),S=w[p&N];t:for(;;){if(A=S>>>24,p>>>=A,v-=A,A=S>>>16&255,A===0)B[s++]=S&65535;else if(A&16){_=S&65535,A&=15,A&&(v<A&&(p+=I[n++]<<v,v+=8),_+=p&(1<<A)-1,p>>>=A,v-=A),v<15&&(p+=I[n++]<<v,v+=8,p+=I[n++]<<v,v+=8),S=b[p&k];r:for(;;){if(A=S>>>24,p>>>=A,v-=A,A=S>>>16&255,A&16){if(M=S&65535,A&=15,v<A&&(p+=I[n++]<<v,v+=8,v<A&&(p+=I[n++]<<v,v+=8)),M+=p&(1<<A)-1,M>c){e.msg="invalid distance too far back",D.mode=l2;break e}if(p>>>=A,v-=A,A=s-o,M>A){if(A=M-A,A>f&&D.sane){e.msg="invalid distance too far back",D.mode=l2;break e}if(R=0,L=g,m===0){if(R+=u-A,A<_){_-=A;do B[s++]=g[R++];while(--A);R=s-M,L=B}}else if(m<A){if(R+=u+m-A,A-=m,A<_){_-=A;do B[s++]=g[R++];while(--A);if(R=0,m<_){A=m,_-=A;do B[s++]=g[R++];while(--A);R=s-M,L=B}}}else if(R+=m-A,A<_){_-=A;do B[s++]=g[R++];while(--A);R=s-M,L=B}for(;_>2;)B[s++]=L[R++],B[s++]=L[R++],B[s++]=L[R++],_-=3;_&&(B[s++]=L[R++],_>1&&(B[s++]=L[R++]))}else{R=s-M;do B[s++]=B[R++],B[s++]=B[R++],B[s++]=B[R++],_-=3;while(_>2);_&&(B[s++]=B[R++],_>1&&(B[s++]=B[R++]))}}else if((A&64)===0){S=b[(S&65535)+(p&(1<<A)-1)];continue r}else{e.msg="invalid distance code",D.mode=l2;break e}break}}else if((A&64)===0){S=w[(S&65535)+(p&(1<<A)-1)];continue t}else if(A&32){D.mode=AHe;break e}else{e.msg="invalid literal/length code",D.mode=l2;break e}break}}while(n<a&&s<l);_=v>>3,n-=_,v-=_<<3,p&=(1<<v)-1,e.next_in=n,e.next_out=s,e.avail_in=n<a?5+(a-n):5-(n-a),e.avail_out=s<l?257+(l-s):257-(s-l),D.hold=p,D.bits=v};const V0=15,vV=852,wV=592,jV=0,TT=1,NV=2,MHe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),OHe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),EHe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),DHe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),PHe=(t,e,r,n,a,s,o,l)=>{const c=l.bits;let u=0,f=0,m=0,g=0,p=0,v=0,w=0,b=0,N=0,k=0,S,A,_,M,R,L=null,I;const B=new Uint16Array(V0+1),D=new Uint16Array(V0+1);let E=null,H,V,Y;for(u=0;u<=V0;u++)B[u]=0;for(f=0;f<n;f++)B[e[r+f]]++;for(p=c,g=V0;g>=1&&B[g]===0;g--);if(p>g&&(p=g),g===0)return a[s++]=1<<24|64<<16|0,a[s++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<g&&B[m]===0;m++);for(p<m&&(p=m),b=1,u=1;u<=V0;u++)if(b<<=1,b-=B[u],b<0)return-1;if(b>0&&(t===jV||g!==1))return-1;for(D[1]=0,u=1;u<V0;u++)D[u+1]=D[u]+B[u];for(f=0;f<n;f++)e[r+f]!==0&&(o[D[e[r+f]]++]=f);if(t===jV?(L=E=o,I=20):t===TT?(L=MHe,E=OHe,I=257):(L=EHe,E=DHe,I=0),k=0,f=0,u=m,R=s,v=p,w=0,_=-1,N=1<<p,M=N-1,t===TT&&N>vV||t===NV&&N>wV)return 1;for(;;){H=u-w,o[f]+1<I?(V=0,Y=o[f]):o[f]>=I?(V=E[o[f]-I],Y=L[o[f]-I]):(V=96,Y=0),S=1<<u-w,A=1<<v,m=A;do A-=S,a[R+(k>>w)+A]=H<<24|V<<16|Y|0;while(A!==0);for(S=1<<u-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,f++,--B[u]===0){if(u===g)break;u=e[r+o[f]]}if(u>p&&(k&M)!==_){for(w===0&&(w=p),R+=m,v=u-w,b=1<<v;v+w<g&&(b-=B[v+w],!(b<=0));)v++,b<<=1;if(N+=1<<v,t===TT&&N>vV||t===NV&&N>wV)return 1;_=k&M,a[_]=p<<24|v<<16|R-s|0}}return k!==0&&(a[R+k]=u-w<<24|64<<16|0),l.bits=p,0};var Pb=PHe;const LHe=0,Fne=1,$ne=2,{Z_FINISH:SV,Z_BLOCK:RHe,Z_TREES:c2,Z_OK:zp,Z_STREAM_END:IHe,Z_NEED_DICT:FHe,Z_STREAM_ERROR:Nc,Z_DATA_ERROR:Bne,Z_MEM_ERROR:Hne,Z_BUF_ERROR:$He,Z_DEFLATED:kV}=Lne,RS=16180,CV=16181,_V=16182,AV=16183,TV=16184,MV=16185,OV=16186,EV=16187,DV=16188,PV=16189,mN=16190,ef=16191,MT=16192,LV=16193,OT=16194,RV=16195,IV=16196,FV=16197,$V=16198,u2=16199,d2=16200,BV=16201,HV=16202,zV=16203,qV=16204,UV=16205,ET=16206,WV=16207,VV=16208,Qa=16209,zne=16210,qne=16211,BHe=852,HHe=592,zHe=15,qHe=zHe,GV=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function UHe(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const Jp=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<RS||e.mode>qne?1:0},Une=t=>{if(Jp(t))return Nc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=RS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(BHe),e.distcode=e.distdyn=new Int32Array(HHe),e.sane=1,e.back=-1,zp},Wne=t=>{if(Jp(t))return Nc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Une(t)},Vne=(t,e)=>{let r;if(Jp(t))return Nc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?Nc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Wne(t))},Gne=(t,e)=>{if(!t)return Nc;const r=new UHe;t.state=r,r.strm=t,r.window=null,r.mode=RS;const n=Vne(t,e);return n!==zp&&(t.state=null),n},WHe=t=>Gne(t,qHe);let YV=!0,DT,PT;const VHe=t=>{if(YV){DT=new Int32Array(512),PT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Pb(Fne,t.lens,0,288,DT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Pb($ne,t.lens,0,32,PT,0,t.work,{bits:5}),YV=!1}t.lencode=DT,t.lenbits=9,t.distcode=PT,t.distbits=5},Yne=(t,e,r,n)=>{let a;const s=t.state;return s.window===null&&(s.wsize=1<<s.wbits,s.wnext=0,s.whave=0,s.window=new Uint8Array(s.wsize)),n>=s.wsize?(s.window.set(e.subarray(r-s.wsize,r),0),s.wnext=0,s.whave=s.wsize):(a=s.wsize-s.wnext,a>n&&(a=n),s.window.set(e.subarray(r-n,r-n+a),s.wnext),n-=a,n?(s.window.set(e.subarray(r-n,r),0),s.wnext=n,s.whave=s.wsize):(s.wnext+=a,s.wnext===s.wsize&&(s.wnext=0),s.whave<s.wsize&&(s.whave+=a))),0},GHe=(t,e)=>{let r,n,a,s,o,l,c,u,f,m,g,p,v,w,b=0,N,k,S,A,_,M,R,L;const I=new Uint8Array(4);let B,D;const E=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(Jp(t)||!t.output||!t.input&&t.avail_in!==0)return Nc;r=t.state,r.mode===ef&&(r.mode=MT),o=t.next_out,a=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,m=l,g=c,L=zp;e:for(;;)switch(r.mode){case RS:if(r.wrap===0){r.mode=MT;break}for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&2&&u===35615){r.wbits===0&&(r.wbits=15),r.check=0,I[0]=u&255,I[1]=u>>>8&255,r.check=Iu(r.check,I,2,0),u=0,f=0,r.mode=CV;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((u&255)<<8)+(u>>8))%31){t.msg="incorrect header check",r.mode=Qa;break}if((u&15)!==kV){t.msg="unknown compression method",r.mode=Qa;break}if(u>>>=4,f-=4,R=(u&15)+8,r.wbits===0&&(r.wbits=R),R>15||R>r.wbits){t.msg="invalid window size",r.mode=Qa;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=u&512?PV:ef,u=0,f=0;break;case CV:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.flags=u,(r.flags&255)!==kV){t.msg="unknown compression method",r.mode=Qa;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=Qa;break}r.head&&(r.head.text=u>>8&1),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Iu(r.check,I,2,0)),u=0,f=0,r.mode=_V;case _V:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.time=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,I[2]=u>>>16&255,I[3]=u>>>24&255,r.check=Iu(r.check,I,4,0)),u=0,f=0,r.mode=AV;case AV:for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.head&&(r.head.xflags=u&255,r.head.os=u>>8),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Iu(r.check,I,2,0)),u=0,f=0,r.mode=TV;case TV:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),r.flags&512&&r.wrap&4&&(I[0]=u&255,I[1]=u>>>8&255,r.check=Iu(r.check,I,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=MV;case MV:if(r.flags&1024&&(p=r.length,p>l&&(p=l),p&&(r.head&&(R=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(s,s+p),R)),r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,r.length-=p),r.length))break e;r.length=0,r.mode=OV;case OV:if(r.flags&2048){if(l===0)break e;p=0;do R=n[s+p++],r.head&&R&&r.length<65536&&(r.head.name+=String.fromCharCode(R));while(R&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,R)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=EV;case EV:if(r.flags&4096){if(l===0)break e;p=0;do R=n[s+p++],r.head&&R&&r.length<65536&&(r.head.comment+=String.fromCharCode(R));while(R&&p<l);if(r.flags&512&&r.wrap&4&&(r.check=Iu(r.check,n,p,s)),l-=p,s+=p,R)break e}else r.head&&(r.head.comment=null);r.mode=DV;case DV:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.check&65535)){t.msg="header crc mismatch",r.mode=Qa;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=ef;break;case PV:for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}t.adler=r.check=GV(u),u=0,f=0,r.mode=mN;case mN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,FHe;t.adler=r.check=1,r.mode=ef;case ef:if(e===RHe||e===c2)break e;case MT:if(r.last){u>>>=f&7,f-=f&7,r.mode=ET;break}for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}switch(r.last=u&1,u>>>=1,f-=1,u&3){case 0:r.mode=LV;break;case 1:if(VHe(r),r.mode=u2,e===c2){u>>>=2,f-=2;break e}break;case 2:r.mode=IV;break;case 3:t.msg="invalid block type",r.mode=Qa}u>>>=2,f-=2;break;case LV:for(u>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if((u&65535)!==(u>>>16^65535)){t.msg="invalid stored block lengths",r.mode=Qa;break}if(r.length=u&65535,u=0,f=0,r.mode=OT,e===c2)break e;case OT:r.mode=RV;case RV:if(p=r.length,p){if(p>l&&(p=l),p>c&&(p=c),p===0)break e;a.set(n.subarray(s,s+p),o),l-=p,s+=p,c-=p,o+=p,r.length-=p;break}r.mode=ef;break;case IV:for(;f<14;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.nlen=(u&31)+257,u>>>=5,f-=5,r.ndist=(u&31)+1,u>>>=5,f-=5,r.ncode=(u&15)+4,u>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=Qa;break}r.have=0,r.mode=FV;case FV:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.lens[E[r.have++]]=u&7,u>>>=3,f-=3}for(;r.have<19;)r.lens[E[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,B={bits:r.lenbits},L=Pb(LHe,r.lens,0,19,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid code lengths set",r.mode=Qa;break}r.have=0,r.mode=$V;case $V:for(;r.have<r.nlen+r.ndist;){for(;b=r.lencode[u&(1<<r.lenbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(S<16)u>>>=N,f-=N,r.lens[r.have++]=S;else{if(S===16){for(D=N+2;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(u>>>=N,f-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=Qa;break}R=r.lens[r.have-1],p=3+(u&3),u>>>=2,f-=2}else if(S===17){for(D=N+3;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=N,f-=N,R=0,p=3+(u&7),u>>>=3,f-=3}else{for(D=N+7;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=N,f-=N,R=0,p=11+(u&127),u>>>=7,f-=7}if(r.have+p>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=Qa;break}for(;p--;)r.lens[r.have++]=R}}if(r.mode===Qa)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=Qa;break}if(r.lenbits=9,B={bits:r.lenbits},L=Pb(Fne,r.lens,0,r.nlen,r.lencode,0,r.work,B),r.lenbits=B.bits,L){t.msg="invalid literal/lengths set",r.mode=Qa;break}if(r.distbits=6,r.distcode=r.distdyn,B={bits:r.distbits},L=Pb($ne,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,B),r.distbits=B.bits,L){t.msg="invalid distances set",r.mode=Qa;break}if(r.mode=u2,e===c2)break e;case u2:r.mode=d2;case d2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,THe(t,g),o=t.next_out,a=t.output,c=t.avail_out,s=t.next_in,n=t.input,l=t.avail_in,u=r.hold,f=r.bits,r.mode===ef&&(r.back=-1);break}for(r.back=0;b=r.lencode[u&(1<<r.lenbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(k&&(k&240)===0){for(A=N,_=k,M=S;b=r.lencode[M+((u&(1<<A+_)-1)>>A)],N=b>>>24,k=b>>>16&255,S=b&65535,!(A+N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=N,f-=N,r.back+=N,r.length=S,k===0){r.mode=UV;break}if(k&32){r.back=-1,r.mode=ef;break}if(k&64){t.msg="invalid literal/length code",r.mode=Qa;break}r.extra=k&15,r.mode=BV;case BV:if(r.extra){for(D=r.extra;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=HV;case HV:for(;b=r.distcode[u&(1<<r.distbits)-1],N=b>>>24,k=b>>>16&255,S=b&65535,!(N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if((k&240)===0){for(A=N,_=k,M=S;b=r.distcode[M+((u&(1<<A+_)-1)>>A)],N=b>>>24,k=b>>>16&255,S=b&65535,!(A+N<=f);){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}u>>>=A,f-=A,r.back+=A}if(u>>>=N,f-=N,r.back+=N,k&64){t.msg="invalid distance code",r.mode=Qa;break}r.offset=S,r.extra=k&15,r.mode=zV;case zV:if(r.extra){for(D=r.extra;f<D;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=Qa;break}r.mode=qV;case qV:if(c===0)break e;if(p=g-c,r.offset>p){if(p=r.offset-p,p>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=Qa;break}p>r.wnext?(p-=r.wnext,v=r.wsize-p):v=r.wnext-p,p>r.length&&(p=r.length),w=r.window}else w=a,v=o-r.offset,p=r.length;p>c&&(p=c),c-=p,r.length-=p;do a[o++]=w[v++];while(--p);r.length===0&&(r.mode=d2);break;case UV:if(c===0)break e;a[o++]=r.length,c--,r.mode=d2;break;case ET:if(r.wrap){for(;f<32;){if(l===0)break e;l--,u|=n[s++]<<f,f+=8}if(g-=c,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,a,g,o-g):V6(r.check,a,g,o-g)),g=c,r.wrap&4&&(r.flags?u:GV(u))!==r.check){t.msg="incorrect data check",r.mode=Qa;break}u=0,f=0}r.mode=WV;case WV:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,u+=n[s++]<<f,f+=8}if(r.wrap&4&&u!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=Qa;break}u=0,f=0}r.mode=VV;case VV:L=IHe;break e;case Qa:L=Bne;break e;case zne:return Hne;case qne:default:return Nc}return t.next_out=o,t.avail_out=c,t.next_in=s,t.avail_in=l,r.hold=u,r.bits=f,(r.wsize||g!==t.avail_out&&r.mode<Qa&&(r.mode<ET||e!==SV))&&Yne(t,t.output,t.next_out,g-t.avail_out),m-=t.avail_in,g-=t.avail_out,t.total_in+=m,t.total_out+=g,r.total+=g,r.wrap&4&&g&&(t.adler=r.check=r.flags?Iu(r.check,a,g,t.next_out-g):V6(r.check,a,g,t.next_out-g)),t.data_type=r.bits+(r.last?64:0)+(r.mode===ef?128:0)+(r.mode===u2||r.mode===OT?256:0),(m===0&&g===0||e===SV)&&L===zp&&(L=$He),L},YHe=t=>{if(Jp(t))return Nc;let e=t.state;return e.window&&(e.window=null),t.state=null,zp},KHe=(t,e)=>{if(Jp(t))return Nc;const r=t.state;return(r.wrap&2)===0?Nc:(r.head=e,e.done=!1,zp)},JHe=(t,e)=>{const r=e.length;let n,a,s;return Jp(t)||(n=t.state,n.wrap!==0&&n.mode!==mN)?Nc:n.mode===mN&&(a=1,a=V6(a,e,r,0),a!==n.check)?Bne:(s=Yne(t,e,r,r),s?(n.mode=zne,Hne):(n.havedict=1,zp))};var XHe=Wne,QHe=Vne,ZHe=Une,eze=WHe,tze=Gne,rze=GHe,nze=YHe,aze=KHe,ize=JHe,sze="pako inflate (from Nodeca project)",sf={inflateReset:XHe,inflateReset2:QHe,inflateResetKeep:ZHe,inflateInit:eze,inflateInit2:tze,inflate:rze,inflateEnd:nze,inflateGetHeader:aze,inflateSetDictionary:ize,inflateInfo:sze};function oze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var lze=oze;const Kne=Object.prototype.toString,{Z_NO_FLUSH:cze,Z_FINISH:uze,Z_OK:zv,Z_STREAM_END:LT,Z_NEED_DICT:RT,Z_STREAM_ERROR:dze,Z_DATA_ERROR:KV,Z_MEM_ERROR:fze}=Lne;function g1(t){this.options=Rne.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new _He,this.strm.avail_out=0;let r=sf.inflateInit2(this.strm,e.windowBits);if(r!==zv)throw new Error(G6[r]);if(this.header=new lze,sf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=Y6.string2buf(e.dictionary):Kne.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=sf.inflateSetDictionary(this.strm,e.dictionary),r!==zv)))throw new Error(G6[r])}g1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,a=this.options.dictionary;let s,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?uze:cze,Kne.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),s=sf.inflate(r,o),s===RT&&a&&(s=sf.inflateSetDictionary(r,a),s===zv?s=sf.inflate(r,o):s===KV&&(s=RT));r.avail_in>0&&s===LT&&r.state.wrap>0&&t[r.next_in]!==0;)sf.inflateReset(r),s=sf.inflate(r,o);switch(s){case dze:case KV:case RT:case fze:return this.onEnd(s),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||s===LT))if(this.options.to==="string"){let c=Y6.utf8border(r.output,r.next_out),u=r.next_out-c,f=Y6.buf2string(r.output,c);r.next_out=u,r.avail_out=n-u,u&&r.output.set(r.output.subarray(c,c+u),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(s===zv&&l===0)){if(s===LT)return s=sf.inflateEnd(this.strm),this.onEnd(s),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};g1.prototype.onData=function(t){this.chunks.push(t)};g1.prototype.onEnd=function(t){t===zv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Rne.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function hze(t,e){const r=new g1(e);if(r.push(t),r.err)throw r.msg||G6[r.err];return r.result}var mze=g1,pze=hze,gze={Inflate:mze,inflate:pze};const{Inflate:xze,inflate:yze}=gze;var JV=xze,bze=yze;const Jne=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;Jne[t]=e}const XV=4294967295;function vze(t,e,r){let n=t;for(let a=0;a<r;a++)n=Jne[(n^e[a])&255]^n>>>8;return n}function wze(t,e){return(vze(XV,t,e)^XV)>>>0}function QV(t,e,r){const n=t.readUint32(),a=wze(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(a!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${a}`)}function Xne(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function Qne(t,e,r,n){let a=0;for(;a<n;a++)e[a]=t[a];for(;a<r;a++)e[a]=t[a]+e[a-n]&255}function Zne(t,e,r,n){let a=0;if(r.length===0)for(;a<n;a++)e[a]=t[a];else for(;a<n;a++)e[a]=t[a]+r[a]&255}function eae(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+(e[s-a]>>1)&255}else{for(;s<a;s++)e[s]=t[s]+(r[s]>>1)&255;for(;s<n;s++)e[s]=t[s]+(e[s-a]+r[s]>>1)&255}}function tae(t,e,r,n,a){let s=0;if(r.length===0){for(;s<a;s++)e[s]=t[s];for(;s<n;s++)e[s]=t[s]+e[s-a]&255}else{for(;s<a;s++)e[s]=t[s]+r[s]&255;for(;s<n;s++)e[s]=t[s]+jze(e[s-a],r[s],r[s-a])&255}}function jze(t,e,r){const n=t+e-r,a=Math.abs(n-t),s=Math.abs(n-e),o=Math.abs(n-r);return a<=s&&a<=o?t:s<=o?e:r}function Nze(t,e,r,n,a,s){switch(t){case 0:Xne(e,r,a);break;case 1:Qne(e,r,a,s);break;case 2:Zne(e,r,n,a);break;case 3:eae(e,r,n,a,s);break;case 4:tae(e,r,n,a,s);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Sze=new Uint16Array([255]),kze=new Uint8Array(Sze.buffer),Cze=kze[0]===255;function _ze(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(s/8)*a,c=new Uint8Array(n*r*l);let u=0;for(let f=0;f<7;f++){const m=o[f],g=Math.ceil((r-m.x)/m.xStep),p=Math.ceil((n-m.y)/m.yStep);if(g<=0||p<=0)continue;const v=g*l,w=new Uint8Array(v);for(let b=0;b<p;b++){const N=e[u++],k=e.subarray(u,u+v);u+=v;const S=new Uint8Array(v);Nze(N,k,S,w,v,l),w.set(S);for(let A=0;A<g;A++){const _=m.x+A*m.xStep,M=m.y+b*m.yStep;if(!(_>=r||M>=n))for(let R=0;R<l;R++)c[(M*r+_)*l+R]=S[A*l+R]}}}if(s===16){const f=new Uint16Array(c.buffer);if(Cze)for(let m=0;m<f.length;m++)f[m]=Aze(f[m]);return f}else return c}function Aze(t){return(t&255)<<8|t>>8&255}const Tze=new Uint16Array([255]),Mze=new Uint8Array(Tze.buffer),Oze=Mze[0]===255,Eze=new Uint8Array(0);function ZV(t){const{data:e,width:r,height:n,channels:a,depth:s}=t,o=Math.ceil(s/8)*a,l=Math.ceil(s/8*a*r),c=new Uint8Array(n*l);let u=Eze,f=0,m,g;for(let p=0;p<n;p++){switch(m=e.subarray(f+1,f+1+l),g=c.subarray(p*l,(p+1)*l),e[f]){case 0:Xne(m,g,l);break;case 1:Qne(m,g,l,o);break;case 2:Zne(m,g,u,l);break;case 3:eae(m,g,u,l,o);break;case 4:tae(m,g,u,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}u=g,f+=l+1}if(s===16){const p=new Uint16Array(c.buffer);if(Oze)for(let v=0;v<p.length;v++)p[v]=Dze(p[v]);return p}else return c}function Dze(t){return(t&255)<<8|t>>8&255}const q2=Uint8Array.of(137,80,78,71,13,10,26,10);function eG(t){if(!Pze(t.readBytes(q2.length)))throw new Error("wrong PNG signature")}function Pze(t){if(t.length<q2.length)return!1;for(let e=0;e<q2.length;e++)if(t[e]!==q2[e])return!1;return!0}const Lze="tEXt",Rze=0,rae=new TextDecoder("latin1");function Ize(t){if($ze(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Fze=/^[\u0000-\u00FF]*$/;function $ze(t){if(!Fze.test(t))throw new Error("invalid latin1 text")}function Bze(t,e,r){const n=nae(e);t[n]=Hze(e,r-n.length-1)}function nae(t){for(t.mark();t.readByte()!==Rze;);const e=t.offset;t.reset();const r=rae.decode(t.readBytes(e-t.offset-1));return t.skip(1),Ize(r),r}function Hze(t,e){return rae.decode(t.readBytes(e))}const wl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},IT={UNKNOWN:-1,DEFLATE:0},tG={UNKNOWN:-1,ADAPTIVE:0},FT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},f2={NONE:0,BACKGROUND:1,PREVIOUS:2},$T={SOURCE:0,OVER:1};class zze extends iL{constructor(r,n={}){super(r);Kt(this,"_checkCrc");Kt(this,"_inflator");Kt(this,"_png");Kt(this,"_apng");Kt(this,"_end");Kt(this,"_hasPalette");Kt(this,"_palette");Kt(this,"_hasTransparency");Kt(this,"_transparency");Kt(this,"_compressionMethod");Kt(this,"_filterMethod");Kt(this,"_interlaceMethod");Kt(this,"_colorType");Kt(this,"_isAnimated");Kt(this,"_numberOfFrames");Kt(this,"_numberOfPlays");Kt(this,"_frames");Kt(this,"_writingDataChunks");const{checkCrc:a=!1}=n;this._checkCrc=a,this._inflator=new JV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=IT.UNKNOWN,this._filterMethod=tG.UNKNOWN,this._interlaceMethod=FT.UNKNOWN,this._colorType=wl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(eG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(eG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const a=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Lze:Bze(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?QV(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const a=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=a+r;break}if(this.offset-a!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?QV(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=qze(this.readUint8());const n=this.readUint8();this._colorType=n;let a;switch(n){case wl.GREYSCALE:a=1;break;case wl.TRUECOLOUR:a=3;break;case wl.INDEXED_COLOUR:a=1;break;case wl.GREYSCALE_ALPHA:a=2;break;case wl.TRUECOLOUR_ALPHA:a=4;break;case wl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=a,this._compressionMethod=this.readUint8(),this._compressionMethod!==IT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const a=[];this._palette=a;for(let s=0;s<n;s++)a.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,a=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,a=this.offset+this.byteOffset;if(a+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,a,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case wl.GREYSCALE:case wl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case wl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const a=this.readByte();this._palette[n].push(a)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wl.UNKNOWN:case wl.GREYSCALE_ALPHA:case wl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=nae(this),a=this.readUint8();if(a!==IT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${a}`);const s=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:bze(s)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),a=this.readByte();this._png.resolution={x:r,y:n,unit:a}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},a=this._frames.at(r);if(a){if(a.data=ZV({data:a.data,width:a.width,height:a.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||a.xOffset===0&&a.yOffset===0&&a.width===this._png.width&&a.height===this._png.height)n.data=a.data;else{const s=this._apng.frames.at(r-1);this.disposeFrame(a,s,n),this.addFrameDataToCanvas(n,a)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,a){switch(r.disposeOp){case f2.NONE:break;case f2.BACKGROUND:for(let s=0;s<this._png.height;s++)for(let o=0;o<this._png.width;o++){const l=(s*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)a.data[l+c]=0}break;case f2.PREVIOUS:a.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const a=1<<this._png.depth,s=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,u=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:u}};switch(n.blendOp){case $T.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[u+f]}break;case $T.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:u}=s(o,l);for(let f=0;f<this._png.channels;f++){const m=n.data[u+this._png.channels-1]/a,g=f%(this._png.channels-1)===0?1:n.data[u+f],p=Math.floor(m*g+(1-m)*r.data[c+f]);r.data[c+f]+=p}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==tG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===FT.NO_INTERLACE)this._png.data=ZV({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===FT.ADAM7)this._png.data=_ze({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:f2.NONE,blendOp:$T.SOURCE,data:r}),this._inflator=new JV,this._writingDataChunks=!1}}function qze(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var rG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(rG||(rG={}));function Uze(t,e){return new zze(t,e).decode()}var Zr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function BT(){Zr.console&&typeof Zr.console.log=="function"&&Zr.console.log.apply(Zr.console,arguments)}var Aa={log:BT,warn:function(t){Zr.console&&(typeof Zr.console.warn=="function"?Zr.console.warn.apply(Zr.console,arguments):BT.call(null,arguments))},error:function(t){Zr.console&&(typeof Zr.console.error=="function"?Zr.console.error.apply(Zr.console,arguments):BT(t))}};function HT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Ym(n.response,e,r)},n.onerror=function(){Aa.error("could not download file")},n.send()}function nG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function h2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Ym=Zr.saveAs||((typeof window>"u"?"undefined":Hn(window))!=="object"||window!==Zr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Zr.URL||Zr.webkitURL,a=document.createElement("a");e=e||t.name||"download",a.download=e,a.rel="noopener",typeof t=="string"?(a.href=t,a.origin!==location.origin?nG(a.href)?HT(t,e,r):h2(a,a.target="_blank"):h2(a)):(a.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(a.href)},4e4),setTimeout(function(){h2(a)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(nG(t))HT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){h2(n)})}else navigator.msSaveOrOpenBlob((function(a,s){return s===void 0?s={autoBom:!1}:Hn(s)!=="object"&&(Aa.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(a.type)?new Blob(["\uFEFF",a],{type:a.type}):a})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return HT(t,e,r);var a=t.type==="application/octet-stream",s=/constructor/i.test(Zr.HTMLElement)||Zr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&s)&&(typeof FileReader>"u"?"undefined":Hn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=Zr.URL||Zr.webkitURL,u=c.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){c.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function aae(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var a=r[n].re,s=r[n].process,o=a.exec(t);o&&(e=s(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),u=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),u.length==1&&(u="0"+u),"#"+l+c+u}}var U2=Zr.atob.bind(Zr),aG=Zr.btoa.bind(Zr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zT(t,e){var r=t[0],n=t[1],a=t[2],s=t[3];r=ao(r,n,a,s,e[0],7,-680876936),s=ao(s,r,n,a,e[1],12,-389564586),a=ao(a,s,r,n,e[2],17,606105819),n=ao(n,a,s,r,e[3],22,-1044525330),r=ao(r,n,a,s,e[4],7,-176418897),s=ao(s,r,n,a,e[5],12,1200080426),a=ao(a,s,r,n,e[6],17,-1473231341),n=ao(n,a,s,r,e[7],22,-45705983),r=ao(r,n,a,s,e[8],7,1770035416),s=ao(s,r,n,a,e[9],12,-1958414417),a=ao(a,s,r,n,e[10],17,-42063),n=ao(n,a,s,r,e[11],22,-1990404162),r=ao(r,n,a,s,e[12],7,1804603682),s=ao(s,r,n,a,e[13],12,-40341101),a=ao(a,s,r,n,e[14],17,-1502002290),r=io(r,n=ao(n,a,s,r,e[15],22,1236535329),a,s,e[1],5,-165796510),s=io(s,r,n,a,e[6],9,-1069501632),a=io(a,s,r,n,e[11],14,643717713),n=io(n,a,s,r,e[0],20,-373897302),r=io(r,n,a,s,e[5],5,-701558691),s=io(s,r,n,a,e[10],9,38016083),a=io(a,s,r,n,e[15],14,-660478335),n=io(n,a,s,r,e[4],20,-405537848),r=io(r,n,a,s,e[9],5,568446438),s=io(s,r,n,a,e[14],9,-1019803690),a=io(a,s,r,n,e[3],14,-187363961),n=io(n,a,s,r,e[8],20,1163531501),r=io(r,n,a,s,e[13],5,-1444681467),s=io(s,r,n,a,e[2],9,-51403784),a=io(a,s,r,n,e[7],14,1735328473),r=so(r,n=io(n,a,s,r,e[12],20,-1926607734),a,s,e[5],4,-378558),s=so(s,r,n,a,e[8],11,-2022574463),a=so(a,s,r,n,e[11],16,1839030562),n=so(n,a,s,r,e[14],23,-35309556),r=so(r,n,a,s,e[1],4,-1530992060),s=so(s,r,n,a,e[4],11,1272893353),a=so(a,s,r,n,e[7],16,-155497632),n=so(n,a,s,r,e[10],23,-1094730640),r=so(r,n,a,s,e[13],4,681279174),s=so(s,r,n,a,e[0],11,-358537222),a=so(a,s,r,n,e[3],16,-722521979),n=so(n,a,s,r,e[6],23,76029189),r=so(r,n,a,s,e[9],4,-640364487),s=so(s,r,n,a,e[12],11,-421815835),a=so(a,s,r,n,e[15],16,530742520),r=oo(r,n=so(n,a,s,r,e[2],23,-995338651),a,s,e[0],6,-198630844),s=oo(s,r,n,a,e[7],10,1126891415),a=oo(a,s,r,n,e[14],15,-1416354905),n=oo(n,a,s,r,e[5],21,-57434055),r=oo(r,n,a,s,e[12],6,1700485571),s=oo(s,r,n,a,e[3],10,-1894986606),a=oo(a,s,r,n,e[10],15,-1051523),n=oo(n,a,s,r,e[1],21,-2054922799),r=oo(r,n,a,s,e[8],6,1873313359),s=oo(s,r,n,a,e[15],10,-30611744),a=oo(a,s,r,n,e[6],15,-1560198380),n=oo(n,a,s,r,e[13],21,1309151649),r=oo(r,n,a,s,e[4],6,-145523070),s=oo(s,r,n,a,e[11],10,-1120210379),a=oo(a,s,r,n,e[2],15,718787259),n=oo(n,a,s,r,e[9],21,-343485551),t[0]=Uh(r,t[0]),t[1]=Uh(n,t[1]),t[2]=Uh(a,t[2]),t[3]=Uh(s,t[3])}function IS(t,e,r,n,a,s){return e=Uh(Uh(e,t),Uh(n,s)),Uh(e<<a|e>>>32-a,r)}function ao(t,e,r,n,a,s,o){return IS(e&r|~e&n,t,e,a,s,o)}function io(t,e,r,n,a,s,o){return IS(e&n|r&~n,t,e,a,s,o)}function so(t,e,r,n,a,s,o){return IS(e^r^n,t,e,a,s,o)}function oo(t,e,r,n,a,s,o){return IS(r^(e|~n),t,e,a,s,o)}function iae(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zT(n,Wze(t.substring(e-64,e)));t=t.substring(e-64);var a=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)a[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(a[e>>2]|=128<<(e%4<<3),e>55)for(zT(n,a),e=0;e<16;e++)a[e]=0;return a[14]=8*r,zT(n,a),n}function Wze(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var iG="0123456789abcdef".split("");function Vze(t){for(var e="",r=0;r<4;r++)e+=iG[t>>8*r+4&15]+iG[t>>8*r&15];return e}function Gze(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function K6(t){return iae(t).map(Gze).join("")}var Yze=(function(t){for(var e=0;e<t.length;e++)t[e]=Vze(t[e]);return t.join("")})(iae("hello"))!="5d41402abc4b2a76b9719d911017c592";function Uh(t,e){if(Yze){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function J6(t,e){var r,n,a,s;if(t!==r){for(var o=(a=t,s=1+(256/t.length|0),new Array(s+1).join(a)),l=[],c=0;c<256;c++)l[c]=c;var u=0;for(c=0;c<256;c++){var f=l[c];u=(u+f+o.charCodeAt(c))%256,l[c]=l[u],l[u]=f}r=t,n=l}else l=n;var m=e.length,g=0,p=0,v="";for(c=0;c<m;c++)p=(p+(f=l[g=(g+1)%256]))%256,l[g]=l[p],l[p]=f,o=l[(l[g]+l[p])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var sG={print:4,modify:8,copy:16,"annot-forms":32};function eg(t,e,r,n){this.v=1,this.r=2;var a=192;t.forEach(function(l){if(sG.perm!==void 0)throw new Error("Invalid permission: "+l);a+=sG[l]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,o),this.P=-(1+(255^a)),this.encryptionKey=K6(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=J6(this.encryptionKey,this.padding)}function tg(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var a=t.charCodeAt(n);e+=a<33||a===35||a===37||a===40||a===41||a===47||a===60||a===62||a===91||a===93||a===123||a===125||a>126?"#"+("0"+a.toString(16)).slice(-2):t[n]}return e}function oG(t){if(Hn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,a){if(a=a||!1,typeof r!="string"||typeof n!="function"||typeof a!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!a],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),a=[];for(var s in e[r]){var o=e[r][s];try{o[0].apply(t,n)}catch(l){Zr.console&&Aa.error("jsPDF PubSub Error",l.message,l)}o[1]&&a.push(s)}a.length&&a.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function pN(t){if(!(this instanceof pN))return new pN(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function sae(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function Xm(t,e,r,n,a){if(!(this instanceof Xm))return new Xm(t,e,r,n,a);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,sae.call(this,n,a)}function hg(t,e,r,n,a){if(!(this instanceof hg))return new hg(t,e,r,n,a);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,sae.call(this,n,a)}function Ar(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],a=arguments[2],s=arguments[3],o=[],l=1,c=16,u="S",f=null;Hn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,a=t.format||a,s=t.compress||t.compressPdf||s,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),u=t.defaultPathOperation||"S"),o=t.filters||(s===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,g={},p={internal:{},__private__:{}};p.__private__.PubSub=oG;var v="1.3",w=p.__private__.getPdfVersion=function(){return v};p.__private__.setPdfVersion=function(q){v=q};var b={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};p.__private__.getPageFormats=function(){return b};var N=p.__private__.getPageFormat=function(q){return b[q]};a=a||"a4";var k="compat",S="advanced",A=k;function _(){this.saveGraphicsState(),ie(new Ue(vt,0,0,-vt,0,Oc()*vt).toString()+" cm"),this.setFontSize(this.getFontSize()/vt),u="n",A=S}function M(){this.restoreGraphicsState(),u="S",A=k}var R=p.__private__.combineFontStyleAndFontWeight=function(q,le){if(q=="bold"&&le=="normal"||q=="bold"&&le==400||q=="normal"&&le=="italic"||q=="bold"&&le=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return le&&(q=le==400||le==="normal"?q==="italic"?"italic":"normal":le!=700&&le!=="bold"||q!=="normal"?(le==700?"bold":le)+""+q:"bold"),q};p.advancedAPI=function(q){var le=A===k;return le&&_.call(this),typeof q!="function"||(q(this),le&&M.call(this)),this},p.compatAPI=function(q){var le=A===S;return le&&M.call(this),typeof q!="function"||(q(this),le&&_.call(this)),this},p.isAdvancedAPI=function(){return A===S};var L,I=function(q){if(A!==S)throw new Error(q+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},B=p.roundToPrecision=p.__private__.roundToPrecision=function(q,le){var Ee=e||le;if(isNaN(q)||isNaN(Ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return q.toFixed(Ee).replace(/0+$/,"")};L=p.hpf=p.__private__.hpf=typeof c=="number"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,c)}:c==="smart"?function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,q>-1&&q<1?16:5)}:function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.hpf");return B(q,16)};var D=p.f2=p.__private__.f2=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f2");return B(q,2)},E=p.__private__.f3=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.f3");return B(q,3)},H=p.scale=p.__private__.scale=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.scale");return A===k?q*vt:A===S?q:void 0},V=function(q){return H((function(le){return A===k?Oc()-le:A===S?le:void 0})(q))};p.__private__.setPrecision=p.setPrecision=function(q){typeof parseInt(q,10)=="number"&&(e=parseInt(q,10))};var Y,W="00000000000000000000000000000000",F=p.__private__.getFileId=function(){return W},z=p.__private__.setFileId=function(q){return W=q!==void 0&&/^[a-fA-F0-9]{32}$/.test(q)?q.toUpperCase():W.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ra=new eg(f.userPermissions,f.userPassword,f.ownerPassword,W)),W};p.setFileId=function(q){return z(q),this},p.getFileId=function(){return F()};var J=p.__private__.convertDateToPDFDate=function(q){var le=q.getTimezoneOffset(),Ee=le<0?"+":"-",qe=Math.floor(Math.abs(le/60)),at=Math.abs(le%60),Dt=[Ee,Z(qe),"'",Z(at),"'"].join("");return["D:",q.getFullYear(),Z(q.getMonth()+1),Z(q.getDate()),Z(q.getHours()),Z(q.getMinutes()),Z(q.getSeconds()),Dt].join("")},oe=p.__private__.convertPDFDateToDate=function(q){var le=parseInt(q.substr(2,4),10),Ee=parseInt(q.substr(6,2),10)-1,qe=parseInt(q.substr(8,2),10),at=parseInt(q.substr(10,2),10),Dt=parseInt(q.substr(12,2),10),Bt=parseInt(q.substr(14,2),10);return new Date(le,Ee,qe,at,Dt,Bt,0)},K=p.__private__.setCreationDate=function(q){var le;if(q===void 0&&(q=new Date),q instanceof Date)le=J(q);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(q))throw new Error("Invalid argument passed to jsPDF.setCreationDate");le=q}return Y=le},U=p.__private__.getCreationDate=function(q){var le=Y;return q==="jsDate"&&(le=oe(Y)),le};p.setCreationDate=function(q){return K(q),this},p.getCreationDate=function(q){return U(q)};var X,Z=p.__private__.padd2=function(q){return("0"+parseInt(q)).slice(-2)},ne=p.__private__.padd2Hex=function(q){return("00"+(q=q.toString())).substr(q.length)},ue=0,_e=[],Ne=[],ge=0,ke=[],ze=[],he=!1,ye=Ne;p.__private__.setCustomOutputDestination=function(q){he=!0,ye=q};var ae=function(q){he||(ye=q)};p.__private__.resetCustomOutputDestination=function(){he=!1,ye=Ne};var ie=p.__private__.out=function(q){return q=q.toString(),ge+=q.length+1,ye.push(q),ye},dt=p.__private__.write=function(q){return ie(arguments.length===1?q.toString():Array.prototype.join.call(arguments," "))},ct=p.__private__.getArrayBuffer=function(q){for(var le=q.length,Ee=new ArrayBuffer(le),qe=new Uint8Array(Ee);le--;)qe[le]=q.charCodeAt(le);return Ee},Le=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];p.__private__.getStandardFonts=function(){return Le};var Qe=t.fontSize||16;p.__private__.setFontSize=p.setFontSize=function(q){return Qe=A===S?q/vt:q,this};var yt,bt=p.__private__.getFontSize=p.getFontSize=function(){return A===k?Qe:Qe*vt},It=t.R2L||!1;p.__private__.setR2L=p.setR2L=function(q){return It=q,this},p.__private__.getR2L=p.getR2L=function(){return It};var At,Se=p.__private__.setZoomMode=function(q){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(q))yt=q;else if(isNaN(q)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(q)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+q+'" is not recognized.');yt=q}else yt=parseInt(q,10)};p.__private__.getZoomMode=function(){return yt};var gt,rt=p.__private__.setPageMode=function(q){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(q)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+q+'" is not recognized.');At=q};p.__private__.getPageMode=function(){return At};var Nt=p.__private__.setLayoutMode=function(q){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(q)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+q+'" is not recognized.');gt=q};p.__private__.getLayoutMode=function(){return gt},p.__private__.setDisplayMode=p.setDisplayMode=function(q,le,Ee){return Se(q),Nt(le),rt(Ee),this};var kt={title:"",subject:"",author:"",keywords:"",creator:""};p.__private__.getDocumentProperty=function(q){if(Object.keys(kt).indexOf(q)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return kt[q]},p.__private__.getDocumentProperties=function(){return kt},p.__private__.setDocumentProperties=p.setProperties=p.setDocumentProperties=function(q){for(var le in kt)kt.hasOwnProperty(le)&&q[le]&&(kt[le]=q[le]);return this},p.__private__.setDocumentProperty=function(q,le){if(Object.keys(kt).indexOf(q)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return kt[q]=le};var De,vt,Pe,$e,Ae,Ye={},tt={},ve=[],pe={},We={},pt={},Je={},we=null,te=0,Oe=[],He=new oG(p),Ze=t.hotfixes||[],ft={},Re={},Fe=[],Ue=function q(le,Ee,qe,at,Dt,Bt){if(!(this instanceof q))return new q(le,Ee,qe,at,Dt,Bt);isNaN(le)&&(le=1),isNaN(Ee)&&(Ee=0),isNaN(qe)&&(qe=0),isNaN(at)&&(at=1),isNaN(Dt)&&(Dt=0),isNaN(Bt)&&(Bt=0),this._matrix=[le,Ee,qe,at,Dt,Bt]};Object.defineProperty(Ue.prototype,"sx",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Ue.prototype,"shy",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Ue.prototype,"shx",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Ue.prototype,"sy",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Ue.prototype,"tx",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Ue.prototype,"ty",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Ue.prototype,"a",{get:function(){return this._matrix[0]},set:function(q){this._matrix[0]=q}}),Object.defineProperty(Ue.prototype,"b",{get:function(){return this._matrix[1]},set:function(q){this._matrix[1]=q}}),Object.defineProperty(Ue.prototype,"c",{get:function(){return this._matrix[2]},set:function(q){this._matrix[2]=q}}),Object.defineProperty(Ue.prototype,"d",{get:function(){return this._matrix[3]},set:function(q){this._matrix[3]=q}}),Object.defineProperty(Ue.prototype,"e",{get:function(){return this._matrix[4]},set:function(q){this._matrix[4]=q}}),Object.defineProperty(Ue.prototype,"f",{get:function(){return this._matrix[5]},set:function(q){this._matrix[5]=q}}),Object.defineProperty(Ue.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ue.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ue.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ue.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ue.prototype.join=function(q){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(q)},Ue.prototype.multiply=function(q){var le=q.sx*this.sx+q.shy*this.shx,Ee=q.sx*this.shy+q.shy*this.sy,qe=q.shx*this.sx+q.sy*this.shx,at=q.shx*this.shy+q.sy*this.sy,Dt=q.tx*this.sx+q.ty*this.shx+this.tx,Bt=q.tx*this.shy+q.ty*this.sy+this.ty;return new Ue(le,Ee,qe,at,Dt,Bt)},Ue.prototype.decompose=function(){var q=this.sx,le=this.shy,Ee=this.shx,qe=this.sy,at=this.tx,Dt=this.ty,Bt=Math.sqrt(q*q+le*le),xr=(q/=Bt)*Ee+(le/=Bt)*qe;Ee-=q*xr,qe-=le*xr;var Nr=Math.sqrt(Ee*Ee+qe*qe);return xr/=Nr,q*(qe/=Nr)<le*(Ee/=Nr)&&(q=-q,le=-le,xr=-xr,Bt=-Bt),{scale:new Ue(Bt,0,0,Nr,0,0),translate:new Ue(1,0,0,1,at,Dt),rotate:new Ue(q,le,-le,q,0,0),skew:new Ue(1,0,xr,1,0,0)}},Ue.prototype.toString=function(q){return this.join(" ")},Ue.prototype.inversed=function(){var q=this.sx,le=this.shy,Ee=this.shx,qe=this.sy,at=this.tx,Dt=this.ty,Bt=1/(q*qe-le*Ee),xr=qe*Bt,Nr=-le*Bt,Vr=-Ee*Bt,tn=q*Bt;return new Ue(xr,Nr,Vr,tn,-xr*at-Vr*Dt,-Nr*at-tn*Dt)},Ue.prototype.applyToPoint=function(q){var le=q.x*this.sx+q.y*this.shx+this.tx,Ee=q.x*this.shy+q.y*this.sy+this.ty;return new Fl(le,Ee)},Ue.prototype.applyToRectangle=function(q){var le=this.applyToPoint(q),Ee=this.applyToPoint(new Fl(q.x+q.w,q.y+q.h));return new Ac(le.x,le.y,Ee.x-le.x,Ee.y-le.y)},Ue.prototype.clone=function(){var q=this.sx,le=this.shy,Ee=this.shx,qe=this.sy,at=this.tx,Dt=this.ty;return new Ue(q,le,Ee,qe,at,Dt)},p.Matrix=Ue;var Lt=p.matrixMult=function(q,le){return le.multiply(q)},zt=new Ue(1,0,0,1,0,0);p.unitMatrix=p.identityMatrix=zt;var Ut=function(q,le){if(!We[q]){var Ee=(le instanceof Xm?"Sh":"P")+(Object.keys(pe).length+1).toString(10);le.id=Ee,We[q]=Ee,pe[Ee]=le,He.publish("addPattern",le)}};p.ShadingPattern=Xm,p.TilingPattern=hg,p.addShadingPattern=function(q,le){return I("addShadingPattern()"),Ut(q,le),this},p.beginTilingPattern=function(q){I("beginTilingPattern()"),Cd(q.boundingBox[0],q.boundingBox[1],q.boundingBox[2]-q.boundingBox[0],q.boundingBox[3]-q.boundingBox[1],q.matrix)},p.endTilingPattern=function(q,le){I("endTilingPattern()"),le.stream=ze[X].join(`
`),Ut(q,le),He.publish("endTilingPattern",le),Fe.pop().restore()};var st,jt=p.__private__.newObject=function(){var q=Vt();return gr(q,!0),q},Vt=p.__private__.newObjectDeferred=function(){return ue++,_e[ue]=function(){return ge},ue},gr=function(q,le){return le=typeof le=="boolean"&&le,_e[q]=ge,le&&ie(q+" 0 obj"),q},fn=p.__private__.newAdditionalObject=function(){var q={objId:Vt(),content:""};return ke.push(q),q},gn=Vt(),ar=Vt(),Wr=p.__private__.decodeColorString=function(q){var le=q.split(" ");if(le.length!==2||le[1]!=="g"&&le[1]!=="G")le.length!==5||le[4]!=="k"&&le[4]!=="K"||(le=[(1-le[0])*(1-le[3]),(1-le[1])*(1-le[3]),(1-le[2])*(1-le[3]),"r"]);else{var Ee=parseFloat(le[0]);le=[Ee,Ee,Ee,"r"]}for(var qe="#",at=0;at<3;at++)qe+=("0"+Math.floor(255*parseFloat(le[at])).toString(16)).slice(-2);return qe},Kr=p.__private__.encodeColorString=function(q){var le;typeof q=="string"&&(q={ch1:q});var Ee=q.ch1,qe=q.ch2,at=q.ch3,Dt=q.ch4,Bt=q.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Ee=="string"&&Ee.charAt(0)!=="#"){var xr=new aae(Ee);if(xr.ok)Ee=xr.toHex();else if(!/^\d*\.?\d*$/.test(Ee))throw new Error('Invalid color "'+Ee+'" passed to jsPDF.encodeColorString.')}if(typeof Ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Ee)&&(Ee="#"+Ee[1]+Ee[1]+Ee[2]+Ee[2]+Ee[3]+Ee[3]),typeof Ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Ee)){var Nr=parseInt(Ee.substr(1),16);Ee=Nr>>16&255,qe=Nr>>8&255,at=255&Nr}if(qe===void 0||Dt===void 0&&Ee===qe&&qe===at)le=typeof Ee=="string"?Ee+" "+Bt[0]:q.precision===2?D(Ee/255)+" "+Bt[0]:E(Ee/255)+" "+Bt[0];else if(Dt===void 0||Hn(Dt)==="object"){if(Dt&&!isNaN(Dt.a)&&Dt.a===0)return["1.","1.","1.",Bt[1]].join(" ");le=typeof Ee=="string"?[Ee,qe,at,Bt[1]].join(" "):q.precision===2?[D(Ee/255),D(qe/255),D(at/255),Bt[1]].join(" "):[E(Ee/255),E(qe/255),E(at/255),Bt[1]].join(" ")}else le=typeof Ee=="string"?[Ee,qe,at,Dt,Bt[2]].join(" "):q.precision===2?[D(Ee),D(qe),D(at),D(Dt),Bt[2]].join(" "):[E(Ee),E(qe),E(at),E(Dt),Bt[2]].join(" ");return le},Zt=p.__private__.getFilters=function(){return o},et=p.__private__.putStream=function(q){var le=(q=q||{}).data||"",Ee=q.filters||Zt(),qe=q.alreadyAppliedFilters||[],at=q.addLength1||!1,Dt=le.length,Bt=q.objectId,xr=function(Di){return Di};if(f!==null&&Bt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(xr=Ra.encryptor(Bt,0));var Nr={};Ee===!0&&(Ee=["FlateEncode"]);var Vr=q.additionalKeyValues||[],tn=(Nr=Ar.API.processDataByFilters!==void 0?Ar.API.processDataByFilters(le,Ee):{data:le,reverseChain:[]}).reverseChain+(Array.isArray(qe)?qe.join(" "):qe.toString());if(Nr.data.length!==0&&(Vr.push({key:"Length",value:Nr.data.length}),at===!0&&Vr.push({key:"Length1",value:Dt})),tn.length!=0)if(tn.split("/").length-1==1)Vr.push({key:"Filter",value:tn});else{Vr.push({key:"Filter",value:"["+tn+"]"});for(var zn=0;zn<Vr.length;zn+=1)if(Vr[zn].key==="DecodeParms"){for(var Ia=[],ri=0;ri<Nr.reverseChain.split("/").length-1;ri+=1)Ia.push("null");Ia.push(Vr[zn].value),Vr[zn].value="["+Ia.join(" ")+"]"}}ie("<<");for(var xa=0;xa<Vr.length;xa++)ie("/"+Vr[xa].key+" "+Vr[xa].value);ie(">>"),Nr.data.length!==0&&(ie("stream"),ie(xr(Nr.data)),ie("endstream"))},nt=p.__private__.putPage=function(q){var le=q.number,Ee=q.data,qe=q.objId,at=q.contentsObjId;gr(qe,!0),ie("<</Type /Page"),ie("/Parent "+q.rootDictionaryObjId+" 0 R"),ie("/Resources "+q.resourceDictionaryObjId+" 0 R"),ie("/MediaBox ["+parseFloat(L(q.mediaBox.bottomLeftX))+" "+parseFloat(L(q.mediaBox.bottomLeftY))+" "+L(q.mediaBox.topRightX)+" "+L(q.mediaBox.topRightY)+"]"),q.cropBox!==null&&ie("/CropBox ["+L(q.cropBox.bottomLeftX)+" "+L(q.cropBox.bottomLeftY)+" "+L(q.cropBox.topRightX)+" "+L(q.cropBox.topRightY)+"]"),q.bleedBox!==null&&ie("/BleedBox ["+L(q.bleedBox.bottomLeftX)+" "+L(q.bleedBox.bottomLeftY)+" "+L(q.bleedBox.topRightX)+" "+L(q.bleedBox.topRightY)+"]"),q.trimBox!==null&&ie("/TrimBox ["+L(q.trimBox.bottomLeftX)+" "+L(q.trimBox.bottomLeftY)+" "+L(q.trimBox.topRightX)+" "+L(q.trimBox.topRightY)+"]"),q.artBox!==null&&ie("/ArtBox ["+L(q.artBox.bottomLeftX)+" "+L(q.artBox.bottomLeftY)+" "+L(q.artBox.topRightX)+" "+L(q.artBox.topRightY)+"]"),typeof q.userUnit=="number"&&q.userUnit!==1&&ie("/UserUnit "+q.userUnit),He.publish("putPage",{objId:qe,pageContext:Oe[le],pageNumber:le,page:Ee}),ie("/Contents "+at+" 0 R"),ie(">>"),ie("endobj");var Dt=Ee.join(`
`);return A===S&&(Dt+=`
Q`),gr(at,!0),et({data:Dt,filters:Zt(),objectId:at}),ie("endobj"),qe},Tt=p.__private__.putPages=function(){var q,le,Ee=[];for(q=1;q<=te;q++)Oe[q].objId=Vt(),Oe[q].contentsObjId=Vt();for(q=1;q<=te;q++)Ee.push(nt({number:q,data:ze[q],objId:Oe[q].objId,contentsObjId:Oe[q].contentsObjId,mediaBox:Oe[q].mediaBox,cropBox:Oe[q].cropBox,bleedBox:Oe[q].bleedBox,trimBox:Oe[q].trimBox,artBox:Oe[q].artBox,userUnit:Oe[q].userUnit,rootDictionaryObjId:gn,resourceDictionaryObjId:ar}));gr(gn,!0),ie("<</Type /Pages");var qe="/Kids [";for(le=0;le<te;le++)qe+=Ee[le]+" 0 R ";ie(qe+"]"),ie("/Count "+te),ie(">>"),ie("endobj"),He.publish("postPutPages")},de=function(q){He.publish("putFont",{font:q,out:ie,newObject:jt,putStream:et}),q.isAlreadyPutted!==!0&&(q.objectNumber=jt(),ie("<<"),ie("/Type /Font"),ie("/BaseFont /"+tg(q.postScriptName)),ie("/Subtype /Type1"),typeof q.encoding=="string"&&ie("/Encoding /"+q.encoding),ie("/FirstChar 32"),ie("/LastChar 255"),ie(">>"),ie("endobj"))},Ke=function(q){q.objectNumber=jt();var le=[];le.push({key:"Type",value:"/XObject"}),le.push({key:"Subtype",value:"/Form"}),le.push({key:"BBox",value:"["+[L(q.x),L(q.y),L(q.x+q.width),L(q.y+q.height)].join(" ")+"]"}),le.push({key:"Matrix",value:"["+q.matrix.toString()+"]"});var Ee=q.pages[1].join(`
`);et({data:Ee,additionalKeyValues:le,objectId:q.objectNumber}),ie("endobj")},wt=function(q,le){le||(le=21);var Ee=jt(),qe=(function(Bt,xr){var Nr,Vr=[],tn=1/(xr-1);for(Nr=0;Nr<1;Nr+=tn)Vr.push(Nr);if(Vr.push(1),Bt[0].offset!=0){var zn={offset:0,color:Bt[0].color};Bt.unshift(zn)}if(Bt[Bt.length-1].offset!=1){var Ia={offset:1,color:Bt[Bt.length-1].color};Bt.push(Ia)}for(var ri="",xa=0,Di=0;Di<Vr.length;Di++){for(Nr=Vr[Di];Nr>Bt[xa+1].offset;)xa++;var fi=Bt[xa].offset,cs=(Nr-fi)/(Bt[xa+1].offset-fi),Uo=Bt[xa].color,Zs=Bt[xa+1].color;ri+=ne(Math.round((1-cs)*Uo[0]+cs*Zs[0]).toString(16))+ne(Math.round((1-cs)*Uo[1]+cs*Zs[1]).toString(16))+ne(Math.round((1-cs)*Uo[2]+cs*Zs[2]).toString(16))}return ri.trim()})(q.colors,le),at=[];at.push({key:"FunctionType",value:"0"}),at.push({key:"Domain",value:"[0.0 1.0]"}),at.push({key:"Size",value:"["+le+"]"}),at.push({key:"BitsPerSample",value:"8"}),at.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),at.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),et({data:qe,additionalKeyValues:at,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Ee}),ie("endobj"),q.objectNumber=jt(),ie("<< /ShadingType "+q.type),ie("/ColorSpace /DeviceRGB");var Dt="/Coords ["+L(parseFloat(q.coords[0]))+" "+L(parseFloat(q.coords[1]))+" ";q.type===2?Dt+=L(parseFloat(q.coords[2]))+" "+L(parseFloat(q.coords[3])):Dt+=L(parseFloat(q.coords[2]))+" "+L(parseFloat(q.coords[3]))+" "+L(parseFloat(q.coords[4]))+" "+L(parseFloat(q.coords[5])),ie(Dt+="]"),q.matrix&&ie("/Matrix ["+q.matrix.toString()+"]"),ie("/Function "+Ee+" 0 R"),ie("/Extend [true true]"),ie(">>"),ie("endobj")},or=function(q,le){var Ee=Vt(),qe=jt();le.push({resourcesOid:Ee,objectOid:qe}),q.objectNumber=qe;var at=[];at.push({key:"Type",value:"/Pattern"}),at.push({key:"PatternType",value:"1"}),at.push({key:"PaintType",value:"1"}),at.push({key:"TilingType",value:"1"}),at.push({key:"BBox",value:"["+q.boundingBox.map(L).join(" ")+"]"}),at.push({key:"XStep",value:L(q.xStep)}),at.push({key:"YStep",value:L(q.yStep)}),at.push({key:"Resources",value:Ee+" 0 R"}),q.matrix&&at.push({key:"Matrix",value:"["+q.matrix.toString()+"]"}),et({data:q.stream,additionalKeyValues:at,objectId:q.objectNumber}),ie("endobj")},Xr=function(q){for(var le in q.objectNumber=jt(),ie("<<"),q)switch(le){case"opacity":ie("/ca "+D(q[le]));break;case"stroke-opacity":ie("/CA "+D(q[le]))}ie(">>"),ie("endobj")},Mt=function(q){gr(q.resourcesOid,!0),ie("<<"),ie("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var le in ie("/Font <<"),Ye)Ye.hasOwnProperty(le)&&(m===!1||m===!0&&g.hasOwnProperty(le))&&ie("/"+le+" "+Ye[le].objectNumber+" 0 R");ie(">>")})(),(function(){if(Object.keys(pe).length>0){for(var le in ie("/Shading <<"),pe)pe.hasOwnProperty(le)&&pe[le]instanceof Xm&&pe[le].objectNumber>=0&&ie("/"+le+" "+pe[le].objectNumber+" 0 R");He.publish("putShadingPatternDict"),ie(">>")}})(),(function(le){if(Object.keys(pe).length>0){for(var Ee in ie("/Pattern <<"),pe)pe.hasOwnProperty(Ee)&&pe[Ee]instanceof p.TilingPattern&&pe[Ee].objectNumber>=0&&pe[Ee].objectNumber<le&&ie("/"+Ee+" "+pe[Ee].objectNumber+" 0 R");He.publish("putTilingPatternDict"),ie(">>")}})(q.objectOid),(function(){if(Object.keys(pt).length>0){var le;for(le in ie("/ExtGState <<"),pt)pt.hasOwnProperty(le)&&pt[le].objectNumber>=0&&ie("/"+le+" "+pt[le].objectNumber+" 0 R");He.publish("putGStateDict"),ie(">>")}})(),(function(){for(var le in ie("/XObject <<"),ft)ft.hasOwnProperty(le)&&ft[le].objectNumber>=0&&ie("/"+le+" "+ft[le].objectNumber+" 0 R");He.publish("putXobjectDict"),ie(">>")})(),ie(">>"),ie("endobj")},rr=function(q){tt[q.fontName]=tt[q.fontName]||{},tt[q.fontName][q.fontStyle]=q.id},Mr=function(q,le,Ee,qe,at){var Dt={id:"F"+(Object.keys(Ye).length+1).toString(10),postScriptName:q,fontName:le,fontStyle:Ee,encoding:qe,isStandardFont:at||!1,metadata:{}};return He.publish("addFont",{font:Dt,instance:this}),Ye[Dt.id]=Dt,rr(Dt),Dt.id},jr=p.__private__.pdfEscape=p.pdfEscape=function(q,le){return(function(Ee,qe){var at,Dt,Bt,xr,Nr,Vr,tn,zn,Ia;if(Bt=(qe=qe||{}).sourceEncoding||"Unicode",Nr=qe.outputEncoding,(qe.autoencode||Nr)&&Ye[De].metadata&&Ye[De].metadata[Bt]&&Ye[De].metadata[Bt].encoding&&(xr=Ye[De].metadata[Bt].encoding,!Nr&&Ye[De].encoding&&(Nr=Ye[De].encoding),!Nr&&xr.codePages&&(Nr=xr.codePages[0]),typeof Nr=="string"&&(Nr=xr[Nr]),Nr)){for(tn=!1,Vr=[],at=0,Dt=Ee.length;at<Dt;at++)(zn=Nr[Ee.charCodeAt(at)])?Vr.push(String.fromCharCode(zn)):Vr.push(Ee[at]),Vr[at].charCodeAt(0)>>8&&(tn=!0);Ee=Vr.join("")}for(at=Ee.length;tn===void 0&&at!==0;)Ee.charCodeAt(at-1)>>8&&(tn=!0),at--;if(!tn)return Ee;for(Vr=qe.noBOM?[]:[254,255],at=0,Dt=Ee.length;at<Dt;at++){if((Ia=(zn=Ee.charCodeAt(at))>>8)>>8)throw new Error("Character at position "+at+" of string '"+Ee+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Vr.push(Ia),Vr.push(zn-(Ia<<8))}return String.fromCharCode.apply(void 0,Vr)})(q,le).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ur=p.__private__.beginPage=function(q){ze[++te]=[],Oe[te]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(q[0]),topRightY:Number(q[1])}},Hr(te),ae(ze[X])},Fr=function(q,le){var Ee,qe,at;switch(r=le||r,typeof q=="string"&&(Ee=N(q.toLowerCase()),Array.isArray(Ee)&&(qe=Ee[0],at=Ee[1])),Array.isArray(q)&&(qe=q[0]*vt,at=q[1]*vt),isNaN(qe)&&(qe=a[0],at=a[1]),(qe>14400||at>14400)&&(Aa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),qe=Math.min(14400,qe),at=Math.min(14400,at)),a=[qe,at],r.substr(0,1)){case"l":at>qe&&(a=[at,qe]);break;case"p":qe>at&&(a=[at,qe])}ur(a),yu(jd),ie(wo),Gf!==0&&ie(Gf+" J"),Vi!==0&&ie(Vi+" j"),He.publish("addPage",{pageNumber:te})},pa=function(q){q>0&&q<=te&&(ze.splice(q,1),Oe.splice(q,1),te--,X>te&&(X=te),this.setPage(X))},Hr=function(q){q>0&&q<=te&&(X=q)},Fs=p.__private__.getNumberOfPages=p.getNumberOfPages=function(){return ze.length-1},ga=function(q,le,Ee){var qe,at=void 0;return Ee=Ee||{},q=q!==void 0?q:Ye[De].fontName,le=le!==void 0?le:Ye[De].fontStyle,qe=q.toLowerCase(),tt[qe]!==void 0&&tt[qe][le]!==void 0?at=tt[qe][le]:tt[q]!==void 0&&tt[q][le]!==void 0?at=tt[q][le]:Ee.disableWarning===!1&&Aa.warn("Unable to look up font label for font '"+q+"', '"+le+"'. Refer to getFontList() for available fonts."),at||Ee.noFallback||(at=tt.times[le])==null&&(at=tt.times.normal),at},jn=p.__private__.putInfo=function(){var q=jt(),le=function(qe){return qe};for(var Ee in f!==null&&(le=Ra.encryptor(q,0)),ie("<<"),ie("/Producer ("+jr(le("jsPDF "+Ar.version))+")"),kt)kt.hasOwnProperty(Ee)&&kt[Ee]&&ie("/"+Ee.substr(0,1).toUpperCase()+Ee.substr(1)+" ("+jr(le(kt[Ee]))+")");ie("/CreationDate ("+jr(le(Y))+")"),ie(">>"),ie("endobj")},Tn=p.__private__.putCatalog=function(q){var le=(q=q||{}).rootDictionaryObjId||gn;switch(jt(),ie("<<"),ie("/Type /Catalog"),ie("/Pages "+le+" 0 R"),yt||(yt="fullwidth"),yt){case"fullwidth":ie("/OpenAction [3 0 R /FitH null]");break;case"fullheight":ie("/OpenAction [3 0 R /FitV null]");break;case"fullpage":ie("/OpenAction [3 0 R /Fit]");break;case"original":ie("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Ee=""+yt;Ee.substr(Ee.length-1)==="%"&&(yt=parseInt(yt)/100),typeof yt=="number"&&ie("/OpenAction [3 0 R /XYZ null null "+D(yt)+"]")}switch(gt||(gt="continuous"),gt){case"continuous":ie("/PageLayout /OneColumn");break;case"single":ie("/PageLayout /SinglePage");break;case"two":case"twoleft":ie("/PageLayout /TwoColumnLeft");break;case"tworight":ie("/PageLayout /TwoColumnRight")}At&&ie("/PageMode /"+At),He.publish("putCatalog"),ie(">>"),ie("endobj")},en=p.__private__.putTrailer=function(){ie("trailer"),ie("<<"),ie("/Size "+(ue+1)),ie("/Root "+ue+" 0 R"),ie("/Info "+(ue-1)+" 0 R"),f!==null&&ie("/Encrypt "+Ra.oid+" 0 R"),ie("/ID [ <"+W+"> <"+W+"> ]"),ie(">>")},In=p.__private__.putHeader=function(){ie("%PDF-"+v),ie("%")},Cc=p.__private__.putXRef=function(){var q="0000000000";ie("xref"),ie("0 "+(ue+1)),ie("0000000000 65535 f ");for(var le=1;le<=ue;le++)typeof _e[le]=="function"?ie((q+_e[le]()).slice(-10)+" 00000 n "):_e[le]!==void 0?ie((q+_e[le]).slice(-10)+" 00000 n "):ie("0000000000 00000 n ")},Xs=p.__private__.buildDocument=function(){var q;ue=0,ge=0,Ne=[],_e=[],ke=[],gn=Vt(),ar=Vt(),ae(Ne),He.publish("buildDocument"),In(),Tt(),(function(){He.publish("putAdditionalObjects");for(var Ee=0;Ee<ke.length;Ee++){var qe=ke[Ee];gr(qe.objId,!0),ie(qe.content),ie("endobj")}He.publish("postPutAdditionalObjects")})(),q=[],(function(){for(var Ee in Ye)Ye.hasOwnProperty(Ee)&&(m===!1||m===!0&&g.hasOwnProperty(Ee))&&de(Ye[Ee])})(),(function(){var Ee;for(Ee in pt)pt.hasOwnProperty(Ee)&&Xr(pt[Ee])})(),(function(){for(var Ee in ft)ft.hasOwnProperty(Ee)&&Ke(ft[Ee])})(),(function(Ee){var qe;for(qe in pe)pe.hasOwnProperty(qe)&&(pe[qe]instanceof Xm?wt(pe[qe]):pe[qe]instanceof hg&&or(pe[qe],Ee))})(q),He.publish("putResources"),q.forEach(Mt),Mt({resourcesOid:ar,objectOid:Number.MAX_SAFE_INTEGER}),He.publish("postPutResources"),f!==null&&(Ra.oid=jt(),ie("<<"),ie("/Filter /Standard"),ie("/V "+Ra.v),ie("/R "+Ra.r),ie("/U <"+Ra.toHexString(Ra.U)+">"),ie("/O <"+Ra.toHexString(Ra.O)+">"),ie("/P "+Ra.P),ie(">>"),ie("endobj")),jn(),Tn();var le=ge;return Cc(),en(),ie("startxref"),ie(""+le),ie("%%EOF"),ae(ze[X]),Ne.join(`
`)},bo=p.__private__.getBlob=function(q){return new Blob([ct(q)],{type:"application/pdf"})},Qs=p.output=p.__private__.output=(st=function(q,le){switch(typeof(le=le||{})=="string"?le={filename:le}:le.filename=le.filename||"generated.pdf",q){case void 0:return Xs();case"save":p.save(le.filename);break;case"arraybuffer":return ct(Xs());case"blob":return bo(Xs());case"bloburi":case"bloburl":if(Zr.URL!==void 0&&typeof Zr.URL.createObjectURL=="function")return Zr.URL&&Zr.URL.createObjectURL(bo(Xs()))||void 0;Aa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Ee="",qe=Xs();try{Ee=aG(qe)}catch{Ee=aG(unescape(encodeURIComponent(qe)))}return"data:application/pdf;filename="+le.filename+";base64,"+Ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var at="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';le.pdfObjectUrl&&(at=le.pdfObjectUrl,Dt="");var Bt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+at+'"'+Dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(le)+");<\/script></body></html>",xr=Zr.open();return xr!==null&&xr.document.write(Bt),xr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Zr)==="[object Window]"){var Nr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(le.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+le.filename+'" width="500px" height="400px" /></body></html>',Vr=Zr.open();if(Vr!==null){Vr.document.write(Nr);var tn=this;Vr.document.documentElement.querySelector("#pdfViewer").onload=function(){Vr.document.title=le.filename,Vr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(tn.output("bloburl"))}}return Vr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Zr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",le)+'"></iframe></body></html>',Ia=Zr.open();if(Ia!==null&&(Ia.document.write(zn),Ia.document.title=le.filename),Ia||typeof safari>"u")return Ia;break;case"datauri":case"dataurl":return Zr.document.location.href=this.output("datauristring",le);default:return null}},st.foo=function(){try{return st.apply(this,arguments)}catch(Ee){var q=Ee.stack||"";~q.indexOf(" at ")&&(q=q.split(" at ")[1]);var le="Error in function "+q.split(`
`)[0].split("<")[0]+": "+Ee.message;if(!Zr.console)throw new Error(le);Zr.console.error(le,Ee),Zr.alert&&alert(le)}},st.foo.bar=st,st.foo),qo=function(q){return Array.isArray(Ze)===!0&&Ze.indexOf(q)>-1};switch(n){case"pt":vt=1;break;case"mm":vt=72/25.4;break;case"cm":vt=72/2.54;break;case"in":vt=72;break;case"px":vt=qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":vt=12;break;case"ex":vt=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);vt=n}var Ra=null;K(),z();var Wi=p.__private__.getPageInfo=p.getPageInfo=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Oe[q].objId,pageNumber:q,pageContext:Oe[q]}},bd=p.__private__.getPageInfoByObjId=function(q){if(isNaN(q)||q%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var le in Oe)if(Oe[le].objId===q)break;return Wi(le)},Wf=p.__private__.getCurrentPageInfo=p.getCurrentPageInfo=function(){return{objId:Oe[X].objId,pageNumber:X,pageContext:Oe[X]}};p.addPage=function(){return Fr.apply(this,arguments),this},p.setPage=function(){return Hr.apply(this,arguments),ae.call(this,ze[X]),this},p.insertPage=function(q){return this.addPage(),this.movePage(X,q),this},p.movePage=function(q,le){var Ee,qe;if(q>le){Ee=ze[q],qe=Oe[q];for(var at=q;at>le;at--)ze[at]=ze[at-1],Oe[at]=Oe[at-1];ze[le]=Ee,Oe[le]=qe,this.setPage(le)}else if(q<le){Ee=ze[q],qe=Oe[q];for(var Dt=q;Dt<le;Dt++)ze[Dt]=ze[Dt+1],Oe[Dt]=Oe[Dt+1];ze[le]=Ee,Oe[le]=qe,this.setPage(le)}return this},p.deletePage=function(){return pa.apply(this,arguments),this},p.__private__.text=p.text=function(q,le,Ee,qe,at){var Dt,Bt,xr,Nr,Vr,tn,zn,Ia,ri,xa=(qe=qe||{}).scope||this;if(typeof q=="number"&&typeof le=="number"&&(typeof Ee=="string"||Array.isArray(Ee))){var Di=Ee;Ee=le,le=q,q=Di}if(arguments[3]instanceof Ue==0?(xr=arguments[4],Nr=arguments[5],Hn(zn=arguments[3])==="object"&&zn!==null||(typeof xr=="string"&&(Nr=xr,xr=null),typeof zn=="string"&&(Nr=zn,zn=null),typeof zn=="number"&&(xr=zn,zn=null),qe={flags:zn,angle:xr,align:Nr})):(I("The transform parameter of text() with a Matrix value"),ri=at),isNaN(le)||isNaN(Ee)||q==null)throw new Error("Invalid arguments passed to jsPDF.text");if(q.length===0)return xa;var fi,cs="",Uo=typeof qe.lineHeightFactor=="number"?qe.lineHeightFactor:Rl,Zs=xa.internal.scaleFactor;function n0(qn){return qn=qn.split("	").join(Array(qe.TabLen||9).join(" ")),jr(qn,zn)}function Kf(qn){for(var Ln,ya=qn.concat(),ai=[],Gl=ya.length;Gl--;)typeof(Ln=ya.shift())=="string"?ai.push(Ln):Array.isArray(qn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?ai.push(Ln[0]):ai.push([Ln[0],Ln[1],Ln[2]]);return ai}function Ad(qn,Ln){var ya;if(typeof qn=="string")ya=Ln(qn)[0];else if(Array.isArray(qn)){for(var ai,Gl,gl=qn.concat(),Od=[],jm=gl.length;jm--;)typeof(ai=gl.shift())=="string"?Od.push(Ln(ai)[0]):Array.isArray(ai)&&typeof ai[0]=="string"&&(Gl=Ln(ai[0],ai[1],ai[2]),Od.push([Gl[0],Gl[1],Gl[2]]));ya=Od}return ya}var Bl=!1,hl=!0;if(typeof q=="string")Bl=!0;else if(Array.isArray(q)){var Td=q.concat();Bt=[];for(var vu,us=Td.length;us--;)(typeof(vu=Td.shift())!="string"||Array.isArray(vu)&&typeof vu[0]!="string")&&(hl=!1);Bl=hl}if(Bl===!1)throw new Error('Type of text must be string or Array. "'+q+'" is not recognized.');typeof q=="string"&&(q=q.match(/[\r?\n]/)?q.split(/\r\n|\r|\n/g):[q]);var wu=Qe/xa.internal.scaleFactor,ju=wu*(Uo-1);switch(qe.baseline){case"bottom":Ee-=ju;break;case"top":Ee+=wu-ju;break;case"hanging":Ee+=wu-2*ju;break;case"middle":Ee+=wu/2-ju}if((tn=qe.maxWidth||0)>0&&(typeof q=="string"?q=xa.splitTextToSize(q,tn):Object.prototype.toString.call(q)==="[object Array]"&&(q=q.reduce(function(qn,Ln){return qn.concat(xa.splitTextToSize(Ln,tn))},[]))),Dt={text:q,x:le,y:Ee,options:qe,mutex:{pdfEscape:jr,activeFontKey:De,fonts:Ye,activeFontSize:Qe}},He.publish("preProcessText",Dt),q=Dt.text,xr=(qe=Dt.options).angle,ri instanceof Ue==0&&xr&&typeof xr=="number"){xr*=Math.PI/180,qe.rotationDirection===0&&(xr=-xr),A===S&&(xr=-xr);var Jf=Math.cos(xr),Hl=Math.sin(xr);ri=new Ue(Jf,Hl,-Hl,Jf,0,0)}else xr&&xr instanceof Ue&&(ri=xr);A!==S||ri||(ri=zt),(Vr=qe.charSpace||_c)!==void 0&&(cs+=L(H(Vr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ia=qe.horizontalScale)!==void 0&&(cs+=L(100*Ia)+` Tz
`),qe.lang;var Ga=-1,Ec=qe.renderingMode!==void 0?qe.renderingMode:qe.stroke,Xf=xa.internal.getCurrentPageInfo().pageContext;switch(Ec){case 0:case!1:case"fill":Ga=0;break;case 1:case!0:case"stroke":Ga=1;break;case 2:case"fillThenStroke":Ga=2;break;case 3:case"invisible":Ga=3;break;case 4:case"fillAndAddForClipping":Ga=4;break;case 5:case"strokeAndAddPathForClipping":Ga=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Ga=6;break;case 7:case"addToPathForClipping":Ga=7}var vm=Xf.usedRenderingMode!==void 0?Xf.usedRenderingMode:-1;Ga!==-1?cs+=Ga+` Tr
`:vm!==-1&&(cs+=`0 Tr
`),Ga!==-1&&(Xf.usedRenderingMode=Ga),Nr=qe.align||"left";var No,ml=Qe*Uo,Dc=xa.internal.pageSize.getWidth(),wm=Ye[De];Vr=qe.charSpace||_c,tn=qe.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},qe.flags);var pl=[],Nu=function(qn){return xa.getStringUnitWidth(qn,{font:wm,charSpace:Vr,fontSize:Qe,doKerning:!1})*Qe/Zs};if(Object.prototype.toString.call(q)==="[object Array]"){var eo;Bt=Kf(q),Nr!=="left"&&(No=Bt.map(Nu));var $s,zl=0;if(Nr==="right"){le-=No[0],q=[],us=Bt.length;for(var ql=0;ql<us;ql++)ql===0?($s=vo(le),eo=ls(Ee)):($s=H(zl-No[ql]),eo=-ml),q.push([Bt[ql],$s,eo]),zl=No[ql]}else if(Nr==="center"){le-=No[0]/2,q=[],us=Bt.length;for(var Pc=0;Pc<us;Pc++)Pc===0?($s=vo(le),eo=ls(Ee)):($s=H((zl-No[Pc])/2),eo=-ml),q.push([Bt[Pc],$s,eo]),zl=No[Pc]}else if(Nr==="left"){q=[],us=Bt.length;for(var Qf=0;Qf<us;Qf++)q.push(Bt[Qf])}else if(Nr==="justify"&&wm.encoding==="Identity-H"){q=[],us=Bt.length,tn=tn!==0?tn:Dc;for(var Zf=0,ni=0;ni<us;ni++)if(eo=ni===0?ls(Ee):-ml,$s=ni===0?vo(le):Zf,ni<us-1){var a0=H((tn-No[ni])/(Bt[ni].split(" ").length-1)),Ul=Bt[ni].split(" ");q.push([Ul[0]+" ",$s,eo]),Zf=0;for(var Wl=1;Wl<Ul.length;Wl++){var ds=(Nu(Ul[Wl-1]+" "+Ul[Wl])-Nu(Ul[Wl]))*Zs+a0;Wl==Ul.length-1?q.push([Ul[Wl],ds,0]):q.push([Ul[Wl]+" ",ds,0]),Zf-=ds}}else q.push([Bt[ni],$s,eo]);q.push(["",Zf,0])}else{if(Nr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(q=[],us=Bt.length,tn=tn!==0?tn:Dc,ni=0;ni<us;ni++){eo=ni===0?ls(Ee):-ml,$s=ni===0?vo(le):0;var Lc=Bt[ni].split(" ").length-1,eh=Lc>0?(tn-No[ni])/Lc:0;ni<us-1?pl.push(L(H(eh))):pl.push(0),q.push([Bt[ni],$s,eo])}}}(typeof qe.R2L=="boolean"?qe.R2L:It)===!0&&(q=Ad(q,function(qn,Ln,ya){return[qn.split("").reverse().join(""),Ln,ya]})),Dt={text:q,x:le,y:Ee,options:qe,mutex:{pdfEscape:jr,activeFontKey:De,fonts:Ye,activeFontSize:Qe}},He.publish("postProcessText",Dt),q=Dt.text,fi=Dt.mutex.isHex||!1;var th=Ye[De].encoding;th!=="WinAnsiEncoding"&&th!=="StandardEncoding"||(q=Ad(q,function(qn,Ln,ya){return[n0(qn),Ln,ya]})),Bt=Kf(q),q=[];for(var Rc,Ic,Vl,Md=Array.isArray(Bt[0])?1:0,So="",Fc=function(qn,Ln,ya){var ai="";return ya instanceof Ue?(ya=typeof qe.angle=="number"?Lt(ya,new Ue(1,0,0,1,qn,Ln)):Lt(new Ue(1,0,0,1,qn,Ln),ya),A===S&&(ya=Lt(new Ue(1,0,0,-1,0,0),ya)),ai=ya.join(" ")+` Tm
`):ai=L(qn)+" "+L(Ln)+` Td
`,ai},Ss=0;Ss<Bt.length;Ss++){switch(So="",Md){case 1:Vl=(fi?"<":"(")+Bt[Ss][0]+(fi?">":")"),Rc=parseFloat(Bt[Ss][1]),Ic=parseFloat(Bt[Ss][2]);break;case 0:Vl=(fi?"<":"(")+Bt[Ss]+(fi?">":")"),Rc=vo(le),Ic=ls(Ee)}pl!==void 0&&pl[Ss]!==void 0&&(So=pl[Ss]+` Tw
`),Ss===0?q.push(So+Fc(Rc,Ic,ri)+Vl):Md===0?q.push(So+Vl):Md===1&&q.push(So+Fc(Rc,Ic,ri)+Vl)}q=Md===0?q.join(` Tj
T* `):q.join(` Tj
`),q+=` Tj
`;var Wo=`BT
/`;return Wo+=De+" "+Qe+` Tf
`,Wo+=L(Qe*Uo)+` TL
`,Wo+=Il+`
`,Wo+=cs,Wo+=q,ie(Wo+="ET"),g[De]=!0,xa};var vd=p.__private__.clip=p.clip=function(q){return ie(q==="evenodd"?"W*":"W"),this};p.clipEvenOdd=function(){return vd("evenodd")},p.__private__.discardPath=p.discardPath=function(){return ie("n"),this};var as=p.__private__.isValidStyle=function(q){var le=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(q)!==-1&&(le=!0),le};p.__private__.setDefaultPathOperation=p.setDefaultPathOperation=function(q){return as(q)&&(u=q),this};var wd=p.__private__.getStyle=p.getStyle=function(q){var le=u;switch(q){case"D":case"S":le="S";break;case"F":le="f";break;case"FD":case"DF":le="B";break;case"f":case"f*":case"B":case"B*":le=q}return le},se=p.close=function(){return ie("h"),this};p.stroke=function(){return ie("S"),this},p.fill=function(q){return re("f",q),this},p.fillEvenOdd=function(q){return re("f*",q),this},p.fillStroke=function(q){return re("B",q),this},p.fillStrokeEvenOdd=function(q){return re("B*",q),this};var re=function(q,le){Hn(le)==="object"?cn(le,q):ie(q)},Ie=function(q){q===null||A===S&&q===void 0||(q=wd(q),ie(q))};function Qt(q,le,Ee,qe,at){var Dt=new hg(le||this.boundingBox,Ee||this.xStep,qe||this.yStep,this.gState,at||this.matrix);Dt.stream=this.stream;var Bt=q+"$$"+this.cloneIndex+++"$$";return Ut(Bt,Dt),Dt}var cn=function(q,le){var Ee=We[q.key],qe=pe[Ee];if(qe instanceof Xm)ie("q"),ie(xn(le)),qe.gState&&p.setGState(qe.gState),ie(q.matrix.toString()+" cm"),ie("/"+Ee+" sh"),ie("Q");else if(qe instanceof hg){var at=new Ue(1,0,0,-1,0,Oc());q.matrix&&(at=at.multiply(q.matrix||zt),Ee=Qt.call(qe,q.key,q.boundingBox,q.xStep,q.yStep,at).id),ie("q"),ie("/Pattern cs"),ie("/"+Ee+" scn"),qe.gState&&p.setGState(qe.gState),ie(le),ie("Q")}},xn=function(q){switch(q){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},is=p.moveTo=function(q,le){return ie(L(H(q))+" "+L(V(le))+" m"),this},ss=p.lineTo=function(q,le){return ie(L(H(q))+" "+L(V(le))+" l"),this},Oi=p.curveTo=function(q,le,Ee,qe,at,Dt){return ie([L(H(q)),L(V(le)),L(H(Ee)),L(V(qe)),L(H(at)),L(V(Dt)),"c"].join(" ")),this};p.__private__.line=p.line=function(q,le,Ee,qe,at){if(isNaN(q)||isNaN(le)||isNaN(Ee)||isNaN(qe)||!as(at))throw new Error("Invalid arguments passed to jsPDF.line");return A===k?this.lines([[Ee-q,qe-le]],q,le,[1,1],at||"S"):this.lines([[Ee-q,qe-le]],q,le,[1,1]).stroke()},p.__private__.lines=p.lines=function(q,le,Ee,qe,at,Dt){var Bt,xr,Nr,Vr,tn,zn,Ia,ri,xa,Di,fi,cs;if(typeof q=="number"&&(cs=Ee,Ee=le,le=q,q=cs),qe=qe||[1,1],Dt=Dt||!1,isNaN(le)||isNaN(Ee)||!Array.isArray(q)||!Array.isArray(qe)||!as(at)||typeof Dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(is(le,Ee),Bt=qe[0],xr=qe[1],Vr=q.length,Di=le,fi=Ee,Nr=0;Nr<Vr;Nr++)(tn=q[Nr]).length===2?(Di=tn[0]*Bt+Di,fi=tn[1]*xr+fi,ss(Di,fi)):(zn=tn[0]*Bt+Di,Ia=tn[1]*xr+fi,ri=tn[2]*Bt+Di,xa=tn[3]*xr+fi,Di=tn[4]*Bt+Di,fi=tn[5]*xr+fi,Oi(zn,Ia,ri,xa,Di,fi));return Dt&&se(),Ie(at),this},p.path=function(q){for(var le=0;le<q.length;le++){var Ee=q[le],qe=Ee.c;switch(Ee.op){case"m":is(qe[0],qe[1]);break;case"l":ss(qe[0],qe[1]);break;case"c":Oi.apply(this,qe);break;case"h":se()}}return this},p.__private__.rect=p.rect=function(q,le,Ee,qe,at){if(isNaN(q)||isNaN(le)||isNaN(Ee)||isNaN(qe)||!as(at))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k&&(qe=-qe),ie([L(H(q)),L(V(le)),L(H(Ee)),L(H(qe)),"re"].join(" ")),Ie(at),this},p.__private__.triangle=p.triangle=function(q,le,Ee,qe,at,Dt,Bt){if(isNaN(q)||isNaN(le)||isNaN(Ee)||isNaN(qe)||isNaN(at)||isNaN(Dt)||!as(Bt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Ee-q,qe-le],[at-Ee,Dt-qe],[q-at,le-Dt]],q,le,[1,1],Bt,!0),this},p.__private__.roundedRect=p.roundedRect=function(q,le,Ee,qe,at,Dt,Bt){if(isNaN(q)||isNaN(le)||isNaN(Ee)||isNaN(qe)||isNaN(at)||isNaN(Dt)||!as(Bt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var xr=4/3*(Math.SQRT2-1);return at=Math.min(at,.5*Ee),Dt=Math.min(Dt,.5*qe),this.lines([[Ee-2*at,0],[at*xr,0,at,Dt-Dt*xr,at,Dt],[0,qe-2*Dt],[0,Dt*xr,-at*xr,Dt,-at,Dt],[2*at-Ee,0],[-at*xr,0,-at,-Dt*xr,-at,-Dt],[0,2*Dt-qe],[0,-Dt*xr,at*xr,-Dt,at,-Dt]],q+at,le,[1,1],Bt,!0),this},p.__private__.ellipse=p.ellipse=function(q,le,Ee,qe,at){if(isNaN(q)||isNaN(le)||isNaN(Ee)||isNaN(qe)||!as(at))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Dt=4/3*(Math.SQRT2-1)*Ee,Bt=4/3*(Math.SQRT2-1)*qe;return is(q+Ee,le),Oi(q+Ee,le-Bt,q+Dt,le-qe,q,le-qe),Oi(q-Dt,le-qe,q-Ee,le-Bt,q-Ee,le),Oi(q-Ee,le+Bt,q-Dt,le+qe,q,le+qe),Oi(q+Dt,le+qe,q+Ee,le+Bt,q+Ee,le),Ie(at),this},p.__private__.circle=p.circle=function(q,le,Ee,qe){if(isNaN(q)||isNaN(le)||isNaN(Ee)||!as(qe))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(q,le,Ee,Ee,qe)},p.setFont=function(q,le,Ee){return Ee&&(le=R(le,Ee)),De=ga(q,le,{disableWarning:!1}),this};var Ei=p.__private__.getFont=p.getFont=function(){return Ye[ga.apply(p,arguments)]};p.__private__.getFontList=p.getFontList=function(){var q,le,Ee={};for(q in tt)if(tt.hasOwnProperty(q))for(le in Ee[q]=[],tt[q])tt[q].hasOwnProperty(le)&&Ee[q].push(le);return Ee},p.addFont=function(q,le,Ee,qe,at){var Dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Dt.indexOf(arguments[3])!==-1?at=arguments[3]:arguments[3]&&Dt.indexOf(arguments[3])==-1&&(Ee=R(Ee,qe)),Mr.call(this,q,le,Ee,at=at||"Identity-H")};var Rl,jd=t.lineWidth||.200025,$r=p.__private__.getLineWidth=p.getLineWidth=function(){return jd},yu=p.__private__.setLineWidth=p.setLineWidth=function(q){return jd=q,ie(L(H(q))+" w"),this};p.__private__.setLineDash=Ar.API.setLineDash=Ar.API.setLineDashPattern=function(q,le){if(q=q||[],le=le||0,isNaN(le)||!Array.isArray(q))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return q=q.map(function(Ee){return L(H(Ee))}).join(" "),le=L(H(le)),ie("["+q+"] "+le+" d"),this};var Qp=p.__private__.getLineHeight=p.getLineHeight=function(){return Qe*Rl};p.__private__.getLineHeight=p.getLineHeight=function(){return Qe*Rl};var ym=p.__private__.setLineHeightFactor=p.setLineHeightFactor=function(q){return typeof(q=q||1.15)=="number"&&(Rl=q),this},Zp=p.__private__.getLineHeightFactor=p.getLineHeightFactor=function(){return Rl};ym(t.lineHeight);var vo=p.__private__.getHorizontalCoordinate=function(q){return H(q)},ls=p.__private__.getVerticalCoordinate=function(q){return A===S?q:Oe[X].mediaBox.topRightY-Oe[X].mediaBox.bottomLeftY-H(q)},bm=p.__private__.getHorizontalCoordinateString=p.getHorizontalCoordinateString=function(q){return L(vo(q))},Nd=p.__private__.getVerticalCoordinateString=p.getVerticalCoordinateString=function(q){return L(ls(q))},wo=t.strokeColor||"0 G";p.__private__.getStrokeColor=p.getDrawColor=function(){return Wr(wo)},p.__private__.setStrokeColor=p.setDrawColor=function(q,le,Ee,qe){return wo=Kr({ch1:q,ch2:le,ch3:Ee,ch4:qe,pdfColorType:"draw",precision:2}),ie(wo),this};var Sd=t.fillColor||"0 g";p.__private__.getFillColor=p.getFillColor=function(){return Wr(Sd)},p.__private__.setFillColor=p.setFillColor=function(q,le,Ee,qe){return Sd=Kr({ch1:q,ch2:le,ch3:Ee,ch4:qe,pdfColorType:"fill",precision:2}),ie(Sd),this};var Il=t.textColor||"0 g",kd=p.__private__.getTextColor=p.getTextColor=function(){return Wr(Il)};p.__private__.setTextColor=p.setTextColor=function(q,le,Ee,qe){return Il=Kr({ch1:q,ch2:le,ch3:Ee,ch4:qe,pdfColorType:"text",precision:3}),this};var _c=t.charSpace,Vf=p.__private__.getCharSpace=p.getCharSpace=function(){return parseFloat(_c||0)};p.__private__.setCharSpace=p.setCharSpace=function(q){if(isNaN(q))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _c=q,this};var Gf=0;p.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},p.__private__.setLineCap=p.setLineCap=function(q){var le=p.CapJoinStyles[q];if(le===void 0)throw new Error("Line cap style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gf=le,ie(le+" J"),this};var Vi=0;p.__private__.setLineJoin=p.setLineJoin=function(q){var le=p.CapJoinStyles[q];if(le===void 0)throw new Error("Line join style of '"+q+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Vi=le,ie(le+" j"),this},p.__private__.setLineMiterLimit=p.__private__.setMiterLimit=p.setLineMiterLimit=p.setMiterLimit=function(q){if(q=q||0,isNaN(q))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return ie(L(H(q))+" M"),this},p.GState=pN,p.setGState=function(q){(q=typeof q=="string"?pt[Je[q]]:jo(null,q)).equals(we)||(ie("/"+q.id+" gs"),we=q)};var jo=function(q,le){if(!q||!Je[q]){var Ee=!1;for(var qe in pt)if(pt.hasOwnProperty(qe)&&pt[qe].equals(le)){Ee=!0;break}if(Ee)le=pt[qe];else{var at="GS"+(Object.keys(pt).length+1).toString(10);pt[at]=le,le.id=at}return q&&(Je[q]=le.id),He.publish("addGState",le),le}};p.addGState=function(q,le){return jo(q,le),this},p.saveGraphicsState=function(){return ie("q"),ve.push({key:De,size:Qe,color:Il}),this},p.restoreGraphicsState=function(){ie("Q");var q=ve.pop();return De=q.key,Qe=q.size,Il=q.color,we=null,this},p.setCurrentTransformationMatrix=function(q){return ie(q.toString()+" cm"),this},p.comment=function(q){return ie("#"+q),this};var Fl=function(q,le){var Ee=q||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Ee},set:function(Dt){isNaN(Dt)||(Ee=parseFloat(Dt))}});var qe=le||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return qe},set:function(Dt){isNaN(Dt)||(qe=parseFloat(Dt))}});var at="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return at},set:function(Dt){at=Dt.toString()}}),this},Ac=function(q,le,Ee,qe){Fl.call(this,q,le),this.type="rect";var at=Ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return at},set:function(Bt){isNaN(Bt)||(at=parseFloat(Bt))}});var Dt=qe||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Dt},set:function(Bt){isNaN(Bt)||(Dt=parseFloat(Bt))}}),this},Yf=function(){this.page=te,this.currentPage=X,this.pages=ze.slice(0),this.pagesContext=Oe.slice(0),this.x=Pe,this.y=$e,this.matrix=Ae,this.width=bu(X),this.height=$l(X),this.outputDestination=ye,this.id="",this.objectNumber=-1};Yf.prototype.restore=function(){te=this.page,X=this.currentPage,Oe=this.pagesContext,ze=this.pages,Pe=this.x,$e=this.y,Ae=this.matrix,_d(X,this.width),Mc(X,this.height),ye=this.outputDestination};var Cd=function(q,le,Ee,qe,at){Fe.push(new Yf),te=X=0,ze=[],Pe=q,$e=le,Ae=at,ur([Ee,qe])};for(var Tc in p.beginFormObject=function(q,le,Ee,qe,at){return Cd(q,le,Ee,qe,at),this},p.endFormObject=function(q){return(function(le){if(Re[le])Fe.pop().restore();else{var Ee=new Yf,qe="Xo"+(Object.keys(ft).length+1).toString(10);Ee.id=qe,Re[le]=qe,ft[qe]=Ee,He.publish("addFormObject",Ee),Fe.pop().restore()}})(q),this},p.doFormObject=function(q,le){var Ee=ft[Re[q]];return ie("q"),ie(le.toString()+" cm"),ie("/"+Ee.id+" Do"),ie("Q"),this},p.getFormObject=function(q){var le=ft[Re[q]];return{x:le.x,y:le.y,width:le.width,height:le.height,matrix:le.matrix}},p.save=function(q,le){return q=q||"generated.pdf",(le=le||{}).returnPromise=le.returnPromise||!1,le.returnPromise===!1?(Ym(bo(Xs()),q),typeof Ym.unload=="function"&&Zr.setTimeout&&setTimeout(Ym.unload,911),this):new Promise(function(Ee,qe){try{var at=Ym(bo(Xs()),q);typeof Ym.unload=="function"&&Zr.setTimeout&&setTimeout(Ym.unload,911),Ee(at)}catch(Dt){qe(Dt.message)}})},Ar.API)Ar.API.hasOwnProperty(Tc)&&(Tc==="events"&&Ar.API.events.length?(function(q,le){var Ee,qe,at;for(at=le.length-1;at!==-1;at--)Ee=le[at][0],qe=le[at][1],q.subscribe.apply(q,[Ee].concat(typeof qe=="function"?[qe]:qe))})(He,Ar.API.events):p[Tc]=Ar.API[Tc]);function bu(q){return Oe[q].mediaBox.topRightX-Oe[q].mediaBox.bottomLeftX}function _d(q,le){Oe[q].mediaBox.topRightX=le+Oe[q].mediaBox.bottomLeftX}function $l(q){return Oe[q].mediaBox.topRightY-Oe[q].mediaBox.bottomLeftY}function Mc(q,le){Oe[q].mediaBox.topRightY=le+Oe[q].mediaBox.bottomLeftY}var e0=p.getPageWidth=function(q){return bu(q=q||X)/vt},t0=p.setPageWidth=function(q,le){_d(q,le*vt)},Oc=p.getPageHeight=function(q){return $l(q=q||X)/vt},r0=p.setPageHeight=function(q,le){Mc(q,le*vt)};return p.internal={pdfEscape:jr,getStyle:wd,getFont:Ei,getFontSize:bt,getCharSpace:Vf,getTextColor:kd,getLineHeight:Qp,getLineHeightFactor:Zp,getLineWidth:$r,write:dt,getHorizontalCoordinate:vo,getVerticalCoordinate:ls,getCoordinateString:bm,getVerticalCoordinateString:Nd,collections:{},newObject:jt,newAdditionalObject:fn,newObjectDeferred:Vt,newObjectDeferredBegin:gr,getFilters:Zt,putStream:et,events:He,scaleFactor:vt,pageSize:{getWidth:function(){return e0(X)},setWidth:function(q){t0(X,q)},getHeight:function(){return Oc(X)},setHeight:function(q){r0(X,q)}},encryptionOptions:f,encryption:Ra,getEncryptor:function(q){return f!==null?Ra.encryptor(q,0):function(le){return le}},output:Qs,getNumberOfPages:Fs,pages:ze,out:ie,f2:D,f3:E,getPageInfo:Wi,getPageInfoByObjId:bd,getCurrentPageInfo:Wf,getPDFVersion:w,Point:Fl,Rectangle:Ac,Matrix:Ue,hasHotfix:qo},Object.defineProperty(p.internal.pageSize,"width",{get:function(){return e0(X)},set:function(q){t0(X,q)},enumerable:!0,configurable:!0}),Object.defineProperty(p.internal.pageSize,"height",{get:function(){return Oc(X)},set:function(q){r0(X,q)},enumerable:!0,configurable:!0}),(function(q){for(var le=0,Ee=Le.length;le<Ee;le++){var qe=Mr.call(this,q[le][0],q[le][1],q[le][2],Le[le][3],!0);m===!1&&(g[qe]=!0);var at=q[le][0].split("-");rr({id:qe,fontName:at[0],fontStyle:at[1]||""})}He.publish("addFonts",{fonts:Ye,dictionary:tt})}).call(p,Le),De="F1",Fr(a,r),He.publish("initialized"),p}eg.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},eg.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},eg.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},eg.prototype.processOwnerPassword=function(t,e){return J6(K6(e).substr(0,5),t)},eg.prototype.encryptor=function(t,e){var r=K6(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return J6(r,n)}},pN.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Hn(t)!==Hn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ar.API={events:[]},Ar.version="3.0.3";var vi=Ar.API,sL=1,Xp=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},G0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(t){return t.toFixed(2)},Ah=function(t){return t.toFixed(5)};vi.__acroform__={};var fl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},lG=function(t){return t*sL},Fu=function(t){var e=new lae,r=vr.internal.getHeight(t)||0,n=vr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(on(n)),Number(on(r))],e},Kze=vi.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},Jze=vi.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},Xze=vi.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Ii=vi.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Xze(t,e-1)},Fi=vi.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return Kze(t,e-1)},$i=vi.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Jze(t,e-1)},Qze=vi.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,a=t[0],s=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(a)||0,c.lowerLeft_Y=n(s+l)||0,c.upperRight_X=r(a+o)||0,c.upperRight_Y=n(s)||0,[Number(on(c.lowerLeft_X)),Number(on(c.lowerLeft_Y)),Number(on(c.upperRight_X)),Number(on(c.upperRight_Y))]},Zze=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=X6(t,r),a=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+a+" "+on(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Fu(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},X6=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},a=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");a=t.multiline?a.map(function(D){return D.split(`
`)}):a.map(function(D){return[D]});var s=r,o=vr.internal.getHeight(t)||0;o=o<0?-o:o;var l=vr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(D,E,H){if(D+1<a.length){var V=E+" "+a[D+1][0];return m2(V,t,H).width<=l-4}return!1};s++;e:for(;s>0;){e="",s--;var u,f,m=m2("3",t,s).height,g=t.multiline?o-s:(o-m)/2,p=g+=2,v=0,w=0,b=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+m2(e,t,s=12).width+", FieldWidth:"+l+`
`;break}for(var N="",k=0,S=0;S<a.length;S++)if(a.hasOwnProperty(S)){var A=!1;if(a[S].length!==1&&b!==a[S].length-1){if((m+2)*(k+2)+2>o)continue e;N+=a[S][b],A=!0,w=S,S--}else{N=(N+=a[S][b]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var _=parseInt(S),M=c(_,N,s),R=S>=a.length-1;if(M&&!R){N+=" ",b=0;continue}if(M||R){if(R)w=_;else if(t.multiline&&(m+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(k+2)+2>o)continue e;w=_}}for(var L="",I=v;I<=w;I++){var B=a[I];if(t.multiline){if(I===w){L+=B[b]+" ",b=(b+1)%B.length;continue}if(I===v){L+=B[B.length-1]+" ";continue}}L+=B[0]+" "}switch(L=L.substr(L.length-1)==" "?L.substr(0,L.length-1):L,f=m2(L,t,s).width,t.textAlign){case"right":u=l-f-2;break;case"center":u=(l-f)/2;break;default:u=2}e+=on(u)+" "+on(p)+` Td
`,e+="("+Xp(L)+`) Tj
`,e+=-on(u)+` 0 Td
`,p=-(s+2),f=0,v=A?w:w+1,k++,N=""}break}return n.text=e,n.fontSize=s,n},m2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),a=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:a}},eqe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},tqe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},rqe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(gu.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(eqe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");sL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new cae,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var a in n)if(n.hasOwnProperty(a)){var s=n[a];s.objId=void 0,s.hasAnnotation&&tqe(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,a){var s=!n;for(var o in n||(a.internal.newObjectDeferredBegin(a.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),a.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||a.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],u=l.Rect;if(l.Rect&&(l.Rect=Qze(l.Rect,a)),a.internal.newObjectDeferredBegin(l.objId,!0),l.DA=vr.createDefaultAppearanceStream(l),Hn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=u,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=Zze(l);c.push({key:"AP",value:"<</N "+f+">>"}),a.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var g in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(g)){var p=l.appearanceStreamContent[g];if(m+="/"+g+" ",m+="<<",Object.keys(p).length>=1||Array.isArray(p)){for(var o in p)if(p.hasOwnProperty(o)){var v=p[o];typeof v=="function"&&(v=v.call(a,l)),m+="/"+o+" "+v+" ",a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v)}}else typeof(v=p)=="function"&&(v=v.call(a,l)),m+="/"+o+" "+v,a.internal.acroformPlugin.xForms.indexOf(v)>=0||a.internal.acroformPlugin.xForms.push(v);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}a.internal.putStream({additionalKeyValues:c,objectId:l.objId}),a.internal.out("endobj")}s&&(function(w,b){for(var N in w)if(w.hasOwnProperty(N)){var k=N,S=w[N];b.internal.newObjectDeferredBegin(S.objId,!0),Hn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete w[k]}})(a.internal.acroformPlugin.xForms,a)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},oae=vi.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var a="[",s=0;s<t.length;s++)switch(s!==0&&(a+=" "),Hn(t[s])){case"boolean":case"number":case"object":a+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),a+="("+Xp(n(t[s].toString()))+")"):a+=t[s].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qT=function(t,e,r){var n=function(a){return a};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+Xp(n(t))+")"},Qu=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qu.prototype.toString=function(){return this.objId+" 0 R"},Qu.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qu.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],a=this[n];a&&(Array.isArray(a)?t.push({key:n,value:oae(a,this.objId,this.scope)}):a instanceof Qu?(a.scope=this.scope,t.push({key:n,value:a.objId+" 0 R"})):typeof a!="function"&&t.push({key:n,value:a}))}return t};var lae=function(){Qu.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fl(lae,Qu);var cae=function(){Qu.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+Xp(r(t))+")"}},set:function(r){t=r}})};fl(cae,Qu);var gu=function t(){Qu.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Ii(e,3)},set:function(N){N?this.F=Fi(e,3):this.F=$i(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var a="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return a},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":a=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof gN)return;s="FieldObject"+t.FieldNum++}var N=function(k){return k};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+Xp(N(s))+")"},set:function(N){s=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(N){s=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/sL:u},set:function(N){u=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof gN||this instanceof Sp))return qT(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var g=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Os==0?qT(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Os==0?N.substr(0,1)==="("?G0(N.substr(1,N.length-2)):G0(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Os==1?G0(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Os==1?"/"+N:N}});var p=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(p)return p},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Os==0?qT(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof Os==0?N.substr(0,1)==="("?G0(N.substr(1,N.length-2)):G0(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Os==1?G0(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof Os==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(N){v=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,1)},set:function(N){N?this.Ff=Fi(this.Ff,1):this.Ff=$i(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,2)},set:function(N){N?this.Ff=Fi(this.Ff,2):this.Ff=$i(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,3)},set:function(N){N?this.Ff=Fi(this.Ff,3):this.Ff=$i(this.Ff,3)}});var b=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(b!==null)return b},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');b=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(b){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:b=2;break;case"center":case 1:b=1;break;default:b=0}}})};fl(gu,Qu);var Cg=function(){gu.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return oae(e,this.objId,this.scope)},set:function(r){var n,a;a=[],typeof(n=r)=="string"&&(a=(function(s,o,l){l||(l=1);for(var c,u=[];c=o.exec(s);)u.push(c[l]);return u})(n,/\((.*?)\)/g)),e=a}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,18)},set:function(r){r?this.Ff=Fi(this.Ff,18):this.Ff=$i(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=Fi(this.Ff,19):this.Ff=$i(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,20)},set:function(r){r?(this.Ff=Fi(this.Ff,20),e.sort()):this.Ff=$i(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,22)},set:function(r){r?this.Ff=Fi(this.Ff,22):this.Ff=$i(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(r){r?this.Ff=Fi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,27)},set:function(r){r?this.Ff=Fi(this.Ff,27):this.Ff=$i(this.Ff,27)}}),this.hasAppearanceStream=!1};fl(Cg,gu);var _g=function(){Cg.call(this),this.fontName="helvetica",this.combo=!1};fl(_g,Cg);var Ag=function(){_g.call(this),this.combo=!0};fl(Ag,_g);var W2=function(){Ag.call(this),this.edit=!0};fl(W2,Ag);var Os=function(){gu.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,15)},set:function(r){r?this.Ff=Fi(this.Ff,15):this.Ff=$i(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,16)},set:function(r){r?this.Ff=Fi(this.Ff,16):this.Ff=$i(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,17)},set:function(r){r?this.Ff=Fi(this.Ff,17):this.Ff=$i(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(r){r?this.Ff=Fi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,a=[];for(n in a.push("<<"),e)a.push("/"+n+" ("+Xp(r(e[n]))+")");return a.push(">>"),a.join(`
`)}},set:function(r){Hn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fl(Os,gu);var V2=function(){Os.call(this),this.pushButton=!0};fl(V2,Os);var Tg=function(){Os.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fl(Tg,Os);var gN=function(){var t,e;gu.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(a){t=a}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(a){e=a}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var a=function(l){return l};this.scope&&(a=this.scope.internal.getEncryptor(this.objId));var s,o=[];for(s in o.push("<<"),n)o.push("/"+s+" ("+Xp(a(n[s]))+")");return o.push(">>"),o.join(`
`)},set:function(a){Hn(a)==="object"&&(n=a)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(a){typeof a=="string"&&(n.CA=a)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(a){r=a}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(a){r="/"+a}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=vr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fl(gN,gu),Tg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Tg.prototype.createOption=function(t){var e=new gN;return e.Parent=this,e.optionName=t,this.Kids.push(e),nqe.call(this.scope,e),e};var G2=function(){Os.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=vr.CheckBox.createAppearanceStream()};fl(G2,Os);var Sp=function(){gu.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,13)},set:function(e){e?this.Ff=Fi(this.Ff,13):this.Ff=$i(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,21)},set:function(e){e?this.Ff=Fi(this.Ff,21):this.Ff=$i(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,23)},set:function(e){e?this.Ff=Fi(this.Ff,23):this.Ff=$i(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,24)},set:function(e){e?this.Ff=Fi(this.Ff,24):this.Ff=$i(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,25)},set:function(e){e?this.Ff=Fi(this.Ff,25):this.Ff=$i(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,26)},set:function(e){e?this.Ff=Fi(this.Ff,26):this.Ff=$i(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fl(Sp,gu);var Y2=function(){Sp.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Ii(this.Ff,14)},set:function(t){t?this.Ff=Fi(this.Ff,14):this.Ff=$i(this.Ff,14)}}),this.password=!0};fl(Y2,Sp);var vr={CheckBox:{createAppearanceStream:function(){return{N:{On:vr.CheckBox.YesNormal},D:{On:vr.CheckBox.YesPushDown,Off:vr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,a=t.scope.__private__.encodeColorString(t.color),s=X6(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+on(s.fontSize)+" Tf "+a),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),a=[],s=vr.internal.getHeight(t),o=vr.internal.getWidth(t),l=X6(t,t.caption);return a.push("1 g"),a.push("0 0 "+on(o)+" "+on(s)+" re"),a.push("f"),a.push("q"),a.push("0 0 1 rg"),a.push("0 0 "+on(o-1)+" "+on(s-1)+" re"),a.push("W"),a.push("n"),a.push("0 g"),a.push("BT"),a.push("/"+r+" "+on(l.fontSize)+" Tf "+n),a.push(l.text),a.push("ET"),a.push("Q"),e.stream=a.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:vr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=vr.RadioButton.Circle.YesNormal,e.D[t]=vr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=vr.internal.Bezier_C,s=Number((n*a).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Ah(vr.internal.getWidth(t)/2)+" "+Ah(vr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5)),o=Number((n*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ah(vr.internal.getWidth(t)/2)+" "+Ah(vr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Ah(vr.internal.getWidth(t)/2)+" "+Ah(vr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.getWidth(t)<=vr.internal.getHeight(t)?vr.internal.getWidth(t)/4:vr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var a=Number((2*n).toFixed(5)),s=Number((a*vr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Ah(vr.internal.getWidth(t)/2)+" "+Ah(vr.internal.getHeight(t)/2)+" cm"),r.push(a+" 0 m"),r.push(a+" "+s+" "+s+" "+a+" 0 "+a+" c"),r.push("-"+s+" "+a+" -"+a+" "+s+" -"+a+" 0 c"),r.push("-"+a+" -"+s+" -"+s+" -"+a+" 0 -"+a+" c"),r.push(s+" -"+a+" "+a+" -"+s+" "+a+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:vr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=vr.RadioButton.Cross.YesNormal,e.D[t]=vr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fu(t);e.scope=t.scope;var r=[],n=vr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+on(vr.internal.getWidth(t)-2)+" "+on(vr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(on(n.x1.x)+" "+on(n.x1.y)+" m"),r.push(on(n.x2.x)+" "+on(n.x2.y)+" l"),r.push(on(n.x4.x)+" "+on(n.x4.y)+" m"),r.push(on(n.x3.x)+" "+on(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=vr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+on(vr.internal.getWidth(t)-2)+" "+on(vr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),n.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),n.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),n.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fu(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(vr.internal.getWidth(t))+" "+on(vr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};vr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=vr.internal.getWidth(t),r=vr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},vr.internal.getWidth=function(t){var e=0;return Hn(t)==="object"&&(e=lG(t.Rect[2])),e},vr.internal.getHeight=function(t){var e=0;return Hn(t)==="object"&&(e=lG(t.Rect[3])),e};var nqe=vi.addField=function(t){if(rqe(this,t),!(t instanceof gu))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};vi.AcroFormChoiceField=Cg,vi.AcroFormListBox=_g,vi.AcroFormComboBox=Ag,vi.AcroFormEditBox=W2,vi.AcroFormButton=Os,vi.AcroFormPushButton=V2,vi.AcroFormRadioButton=Tg,vi.AcroFormCheckBox=G2,vi.AcroFormTextField=Sp,vi.AcroFormPasswordField=Y2,vi.AcroFormAppearance=vr,vi.AcroForm={ChoiceField:Cg,ListBox:_g,ComboBox:Ag,EditBox:W2,Button:Os,PushButton:V2,RadioButton:Tg,CheckBox:G2,TextField:Sp,PasswordField:Y2,Appearance:vr},Ar.AcroForm={ChoiceField:Cg,ListBox:_g,ComboBox:Ag,EditBox:W2,Button:Os,PushButton:V2,RadioButton:Tg,CheckBox:G2,TextField:Sp,PasswordField:Y2,Appearance:vr};Ar.AcroForm;function uae(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},a=t.__addimage__.getImageFileTypeByImageData=function(D,E){var H,V,Y,W,F,z=r;if((E=E||r)==="RGBA"||D.data!==void 0&&D.data instanceof Uint8ClampedArray&&"height"in D&&"width"in D)return"RGBA";if(M(D))for(F in n)for(Y=n[F],H=0;H<Y.length;H+=1){for(W=!0,V=0;V<Y[H].length;V+=1)if(Y[H][V]!==void 0&&Y[H][V]!==D[V]){W=!1;break}if(W===!0){z=F;break}}else for(F in n)for(Y=n[F],H=0;H<Y.length;H+=1){for(W=!0,V=0;V<Y[H].length;V+=1)if(Y[H][V]!==void 0&&Y[H][V]!==D.charCodeAt(V)){W=!1;break}if(W===!0){z=F;break}}return z===r&&E!==r&&(z=E),z},s=function D(E){for(var H=this.internal.write,V=this.internal.putStream,Y=(0,this.internal.getFilters)();Y.indexOf("FlateEncode")!==-1;)Y.splice(Y.indexOf("FlateEncode"),1);E.objectId=this.internal.newObject();var W=[];if(W.push({key:"Type",value:"/XObject"}),W.push({key:"Subtype",value:"/Image"}),W.push({key:"Width",value:E.width}),W.push({key:"Height",value:E.height}),E.colorSpace===N.INDEXED?W.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(E.palette.length/3-1)+" "+("sMask"in E&&E.sMask!==void 0?E.objectId+2:E.objectId+1)+" 0 R]"}):(W.push({key:"ColorSpace",value:"/"+E.colorSpace}),E.colorSpace===N.DEVICE_CMYK&&W.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),W.push({key:"BitsPerComponent",value:E.bitsPerComponent}),"decodeParameters"in E&&E.decodeParameters!==void 0&&W.push({key:"DecodeParms",value:"<<"+E.decodeParameters+">>"}),"transparency"in E&&Array.isArray(E.transparency)&&E.transparency.length>0){for(var F="",z=0,J=E.transparency.length;z<J;z++)F+=E.transparency[z]+" "+E.transparency[z]+" ";W.push({key:"Mask",value:"["+F+"]"})}E.sMask!==void 0&&W.push({key:"SMask",value:E.objectId+1+" 0 R"});var oe=E.filter!==void 0?["/"+E.filter]:void 0;if(V({data:E.data,additionalKeyValues:W,alreadyAppliedFilters:oe,objectId:E.objectId}),H("endobj"),"sMask"in E&&E.sMask!==void 0){var K,U=(K=E.sMaskBitsPerComponent)!==null&&K!==void 0?K:E.bitsPerComponent,X={width:E.width,height:E.height,colorSpace:"DeviceGray",bitsPerComponent:U,data:E.sMask};"filter"in E&&(X.decodeParameters="/Predictor ".concat(E.predictor," /Colors 1 /BitsPerComponent ").concat(U," /Columns ").concat(E.width),X.filter=E.filter),D.call(this,X)}if(E.colorSpace===N.INDEXED){var Z=this.internal.newObject();V({data:L(new Uint8Array(E.palette)),objectId:Z}),H("endobj")}},o=function(){var D=this.internal.collections[e+"images"];for(var E in D)s.call(this,D[E])},l=function(){var D,E=this.internal.collections[e+"images"],H=this.internal.write;for(var V in E)H("/I"+(D=E[V]).index,D.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},u=function(){var D=this.internal.collections[e+"images"];return c.call(this),D},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(D){return typeof t["process"+D.toUpperCase()]=="function"},g=function(D){return Hn(D)==="object"&&D.nodeType===1},p=function(D,E){if(D.nodeName==="IMG"&&D.hasAttribute("src")){var H=""+D.getAttribute("src");if(H.indexOf("data:image/")===0)return U2(unescape(H).split("base64,").pop());var V=t.loadFile(H,!0);if(V!==void 0)return V}if(D.nodeName==="CANVAS"){if(D.width===0||D.height===0)throw new Error("Given canvas must have data. Canvas width: "+D.width+", height: "+D.height);var Y;switch(E){case"PNG":Y="image/png";break;case"WEBP":Y="image/webp";break;default:Y="image/jpeg"}return U2(D.toDataURL(Y,1).split("base64,").pop())}},v=function(D){var E=this.internal.collections[e+"images"];if(E){for(var H in E)if(D===E[H].alias)return E[H]}},w=function(D,E,H){return D||E||(D=-96,E=-96),D<0&&(D=-1*H.width*72/D/this.internal.scaleFactor),E<0&&(E=-1*H.height*72/E/this.internal.scaleFactor),D===0&&(D=E*H.width/H.height),E===0&&(E=D*H.height/H.width),[D,E]},b=function(D,E,H,V,Y,W){var F=w.call(this,H,V,Y),z=this.internal.getCoordinateString,J=this.internal.getVerticalCoordinateString,oe=u.call(this);if(H=F[0],V=F[1],oe[Y.index]=Y,W){W*=Math.PI/180;var K=Math.cos(W),U=Math.sin(W),X=function(ne){return ne.toFixed(4)},Z=[X(K),X(U),X(-1*U),X(K),0,0,"cm"]}this.internal.write("q"),W?(this.internal.write([1,"0","0",1,z(D),J(E+V),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([z(H),"0","0",z(V),"0","0","cm"].join(" "))):this.internal.write([z(H),"0","0",z(V),z(D),J(E+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Y.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(D){var E,H,V=0;if(typeof D=="string")for(H=D.length,E=0;E<H;E++)V=(V<<5)-V+D.charCodeAt(E),V|=0;else if(M(D))for(H=D.byteLength/2,E=0;E<H;E++)V=(V<<5)-V+D[E],V|=0;return V},A=t.__addimage__.validateStringAsBase64=function(D){(D=D||"").toString().trim();var E=!0;return D.length===0&&(E=!1),D.length%4!=0&&(E=!1),/^[A-Za-z0-9+/]+$/.test(D.substr(0,D.length-2))===!1&&(E=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(D.substr(-2))===!1&&(E=!1),E},_=t.__addimage__.extractImageFromDataUrl=function(D){if(D==null||!(D=D.trim()).startsWith("data:"))return null;var E=D.indexOf(",");return E<0?null:D.substring(0,E).trim().endsWith("base64")?D.substring(E+1):null};t.__addimage__.isArrayBuffer=function(D){return D instanceof ArrayBuffer};var M=t.__addimage__.isArrayBufferView=function(D){return D instanceof Int8Array||D instanceof Uint8Array||D instanceof Uint8ClampedArray||D instanceof Int16Array||D instanceof Uint16Array||D instanceof Int32Array||D instanceof Uint32Array||D instanceof Float32Array||D instanceof Float64Array},R=t.__addimage__.binaryStringToUint8Array=function(D){for(var E=D.length,H=new Uint8Array(E),V=0;V<E;V++)H[V]=D.charCodeAt(V);return H},L=t.__addimage__.arrayBufferToBinaryString=function(D){for(var E="",H=M(D)?D:new Uint8Array(D),V=0;V<H.length;V+=8192)E+=String.fromCharCode.apply(null,H.subarray(V,V+8192));return E};t.addImage=function(){var D,E,H,V,Y,W,F,z,J;if(typeof arguments[1]=="number"?(E=r,H=arguments[1],V=arguments[2],Y=arguments[3],W=arguments[4],F=arguments[5],z=arguments[6],J=arguments[7]):(E=arguments[1],H=arguments[2],V=arguments[3],Y=arguments[4],W=arguments[5],F=arguments[6],z=arguments[7],J=arguments[8]),Hn(D=arguments[0])==="object"&&!g(D)&&"imageData"in D){var oe=D;D=oe.imageData,E=oe.format||E||r,H=oe.x||H||0,V=oe.y||V||0,Y=oe.w||oe.width||Y,W=oe.h||oe.height||W,F=oe.alias||F,z=oe.compression||z,J=oe.rotation||oe.angle||J}var K=this.internal.getFilters();if(z===void 0&&K.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(H)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var U=I.call(this,D,E,F,z);return b.call(this,H,V,Y,W,U,J),this};var I=function(D,E,H,V){var Y,W,F;if(typeof D=="string"&&a(D)===r){D=unescape(D);var z=B(D,!1);(z!==""||(z=t.loadFile(D,!0))!==void 0)&&(D=z)}if(g(D)&&(D=p(D,E)),E=a(D,E),!m(E))throw new Error("addImage does not support files of type '"+E+"', please ensure that a plugin for '"+E+"' support is added.");if(((F=H)==null||F.length===0)&&(H=(function(J){return typeof J=="string"||M(J)?S(J):M(J.data)?S(J.data):null})(D)),(Y=v.call(this,H))||(D instanceof Uint8Array||E==="RGBA"||(W=D,D=R(D)),Y=this["process"+E.toUpperCase()](D,f.call(this),H,(function(J){return J&&typeof J=="string"&&(J=J.toUpperCase()),J in t.image_compression?J:k.NONE})(V),W)),!Y)throw new Error("An unknown error occurred whilst processing the image.");return Y},B=t.__addimage__.convertBase64ToBinaryString=function(D,E){E=typeof E!="boolean"||E;var H,V="";if(typeof D=="string"){var Y;H=(Y=_(D))!==null&&Y!==void 0?Y:D;try{V=U2(H)}catch(W){if(E)throw A(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+W.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(D){var E,H,V="";if(g(D)&&(D=p(D)),typeof D=="string"&&a(D)===r&&((V=B(D,!1))===""&&(V=t.loadFile(D)||""),D=V),H=a(D),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(D instanceof Uint8Array||(D=R(D)),!(E=this["process"+H.toUpperCase()](D)))throw new Error("An unknown error occurred whilst processing the image");return E.fileType=H,E}})(Ar.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ar.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,a,s,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,f=!1,m=0;m<u.length&&!f;m++)switch((n=u[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var g=0;g<u.length;g++){n=u[g];var p=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),b=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),k=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+p(N(n.contents))+")",s+=" /Popup "+b.objId+" 0 R",s+=" /P "+c.objId+" 0 R",s+=" /T ("+p(N(k))+") >>",w.content=s;var S=w.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(a="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(s+=" /Open true"),s+=" >>",b.content=s,this.internal.write(w.objId,"0 R",b.objId,"0 R");break;case"freetext":a="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+a+"/Contents ("+p(v(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(a="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /A <</S /URI /URI ("+p(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+a+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var M=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+M+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,a,s,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:u(n),w:c(r+a),h:u(n+s)},options:o,type:"link"})},t.textWithLink=function(r,n,a,s){var o,l,c=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){l=s.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(u*f)}else l=c,o=u;return this.text(r,n,a,s),a+=.2*u,s.align==="center"&&(n-=c/2),s.align==="right"&&(n-=c),this.link(n,a-u,l,o,s),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Ar.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},a=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&a.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&s(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var b=0,N=r,k="",S=0;for(b=0;b<w.length;b+=1)N[w.charCodeAt(b)]!==void 0?(S++,typeof(N=N[w.charCodeAt(b)])=="number"&&(k+=String.fromCharCode(N),N=r,S=0),b===w.length-1&&(N=r,k+=w.charAt(b-(S-1)),b-=S-1,S=0)):(N=r,k+=w.charAt(b-S),b-=S,S=0);return k};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var g=t.__arabicParser__.getCorrectForm=function(w,b,N){return o(w)?s(w)===!1?-1:!u(w)||!o(b)&&!o(N)||!o(N)&&l(b)||l(w)&&!o(b)||l(w)&&c(b)||l(w)&&l(b)?0:f(w)&&o(b)&&!l(b)&&o(N)&&u(N)?3:l(w)||!o(N)?1:2:-1},p=function(w){var b=0,N=0,k=0,S="",A="",_="",M=(w=w||"").split("\\s+"),R=[];for(b=0;b<M.length;b+=1){for(R.push(""),N=0;N<M[b].length;N+=1)S=M[b][N],A=M[b][N-1],_=M[b][N+1],o(S)?(k=g(S,A,_),R[b]+=k!==-1?String.fromCharCode(e[S.charCodeAt(0)][k]):S):R[b]+=S;R[b]=m(R[b])}return R.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var w,b=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(b)){var k=0;for(N=[],k=0;k<b.length;k+=1)Array.isArray(b[k])?N.push([p(b[k][0]),b[k][1],b[k][2]]):N.push([p(b[k])]);w=N}else w=p(b);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",v])})(Ar.API),Ar.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var a=300;Object.defineProperty(this,"height",{get:function(){return a},set:function(l){a=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=a+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(l){s=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var a;if((r=r||"2d")!=="2d")return null;for(a in n)this.pdf.context2d.hasOwnProperty(a)&&(this.pdf.context2d[a]=n[a]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Ar.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(w){u=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var g=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var p=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,u){n.call(this);var f=(u=u||{}).fontSize||this.getFontSize(),m=u.font||this.getFont(),g=u.scaleFactor||this.internal.scaleFactor,p=0,v=0,w=0,b=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=u.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,A){return S.concat(b.splitTextToSize(A,N))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)p<(w=this.getStringUnitWidth(c[k],{font:m})*f)&&(p=w);return p!==0&&(v=c.length),{w:p/=g,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/g,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,g=this.internal.__cell__.tableHeaderRow,p=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===c.lineNumber?(c.x=(u.x||0)+(u.width||0),c.y=u.y||0):u.y+u.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,p&&g&&(this.printHeaderRow(c.lineNumber,!0),c.y+=g[0].height)):c.y=u.y+u.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,u,f,m,g){if(n.call(this),!f)throw new Error("No data for PDF table.");var p,v,w,b,N=[],k=[],S=[],A={},_={},M=[],R=[],L=(g=g||{}).autoSize||!1,I=g.printHeaders!==!1,B=g.css&&g.css["font-size"]!==void 0?16*g.css["font-size"]:g.fontSize||12,D=g.margins||Object.assign({width:this.getPageWidth()},e),E=typeof g.padding=="number"?g.padding:3,H=g.headerBackgroundColor||"#c8c8c8",V=g.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=D,this.internal.__cell__.table_font_size=B,this.internal.__cell__.padding=E,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=V,this.setFontSize(B),m==null)k=N=Object.keys(f[0]),S=N.map(function(){return"left"});else if(Array.isArray(m)&&Hn(m[0])==="object")for(N=m.map(function(oe){return oe.name}),k=m.map(function(oe){return oe.prompt||oe.name||""}),S=m.map(function(oe){return oe.align||"left"}),p=0;p<m.length;p+=1)_[m[p].name]=.7499990551181103*m[p].width;else Array.isArray(m)&&typeof m[0]=="string"&&(k=N=m,S=N.map(function(){return"left"}));if(L||Array.isArray(m)&&typeof m[0]=="string")for(p=0;p<N.length;p+=1){for(A[b=N[p]]=f.map(function(oe){return oe[b]}),this.setFont(void 0,"bold"),M.push(this.getTextDimensions(k[p],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[b],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)M.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[b]=Math.max.apply(null,M)+E+E,M=[]}if(I){var Y={};for(p=0;p<N.length;p+=1)Y[N[p]]={},Y[N[p]].text=k[p],Y[N[p]].align=S[p];var W=l.call(this,Y,_);R=N.map(function(oe){return new s(c,u,_[oe],W,Y[oe].text,void 0,Y[oe].align)}),this.setTableHeaderRow(R),this.printHeaderRow(1,!1)}var F=m.reduce(function(oe,K){return oe[K.name]=K.align,oe},{});for(p=0;p<f.length;p+=1){"rowStart"in g&&g.rowStart instanceof Function&&g.rowStart({row:p,data:f[p]},this);var z=l.call(this,f[p],_);for(w=0;w<N.length;w+=1){var J=f[p][N[w]];"cellStart"in g&&g.cellStart instanceof Function&&g.cellStart({row:p,col:w,data:J},this),o.call(this,new s(c,u,_[N[w]],z,J,p+2,F[N[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=u,this};var l=function(c,u){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,g=this.internal.scaleFactor;return Object.keys(c).map(function(p){var v=c[p];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,u[p]-f-f)},this).map(function(p){return this.getLineHeightFactor()*p.length*m/g+f+f},this).reduce(function(p,v){return Math.max(p,v)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var g=[],p=0;p<this.internal.__cell__.tableHeaderRow.length;p+=1){f=this.internal.__cell__.tableHeaderRow[p].clone(),u&&(f.y=this.internal.__cell__.margins.top||0,g.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}g.length>0&&this.setTableHeaderRow(g),this.setFont(void 0,"normal"),r=!1}})(Ar.API);var dae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},fae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Q6=uae(fae),hae=[100,200,300,400,500,600,700,800,900],aqe=uae(hae);function UT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(s){return dae[s=s||"normal"]?s:"normal"})(t.style),n=(function(s){return s?typeof s=="number"?s>=100&&s<=900&&s%100==0?s:400:/^\d00$/.test(s)?parseInt(s):s==="bold"?700:400:400})(t.weight),a=(function(s){return typeof Q6[s=s||"normal"]=="number"?s:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:a,src:t.src||[],ref:t.ref||{name:e,style:[a,r,n].join(" ")}}}function cG(t,e,r,n){var a;for(a=r;a>=0&&a<e.length;a+=n)if(t[e[a]])return t[e[a]];for(a=r;a>=0&&a<e.length;a-=n)if(t[e[a]])return t[e[a]]}var iqe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function dG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fG(t){return t.trimLeft()}function sqe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function oqe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var p2,hG,mG,Y0,g2,pG,gG,xG,WT=["times"];function yG(t,e,r,n,a){var s=4,o=vG;switch(a){case Ar.API.image_compression.FAST:s=1,o=bG;break;case Ar.API.image_compression.MEDIUM:s=6,o=wG;break;case Ar.API.image_compression.SLOW:s=9,o=jG}t=(function(c,u,f,m){for(var g,p=c.length/u,v=new Uint8Array(c.length+p),w=[lqe,bG,vG,wG,jG],b=0;b<p;b+=1){var N=b*u,k=c.subarray(N,N+u);if(m)v.set(m(k,f,g),N+b);else{for(var S=w.length,A=[],_=0;_<S;_+=1)A[_]=w[_](k,f,g);var M=uqe(A.concat());v.set(A[M],N+b)}g=k}return v})(t,e,Math.ceil(r*n/8),o);var l=W6(t,{level:s});return Ar.API.__addimage__.arrayBufferToBinaryString(l)}function lqe(t){var e=Array.apply([],t);return e.unshift(0),e}function bG(t,e){var r=t.length,n=[];n[0]=1;for(var a=0;a<r;a+=1){var s=t[a-e]||0;n[a+1]=t[a]-s+256&255}return n}function vG(t,e,r){var n=t.length,a=[];a[0]=2;for(var s=0;s<n;s+=1){var o=r&&r[s]||0;a[s+1]=t[s]-o+256&255}return a}function wG(t,e,r){var n=t.length,a=[];a[0]=3;for(var s=0;s<n;s+=1){var o=t[s-e]||0,l=r&&r[s]||0;a[s+1]=t[s]+256-(o+l>>>1)&255}return a}function jG(t,e,r){var n=t.length,a=[];a[0]=4;for(var s=0;s<n;s+=1){var o=cqe(t[s-e]||0,r&&r[s]||0,r&&r[s-e]||0);a[s+1]=t[s]-o+256&255}return a}function cqe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),a=Math.abs(t-r),s=Math.abs(t+e-r-r);return n<=a&&n<=s?t:a<=s?e:r}function uqe(t){var e=t.map(function(r){return r.reduce(function(n,a){return n+Math.abs(a)},0)});return e.indexOf(Math.min.apply(null,e))}function VT(t,e,r){var n=e*r,a=Math.floor(n/8),s=16-(n-8*a+r),o=(1<<r)-1;return mae(t,a)>>s&o}function NG(t,e,r,n){var a=r*n,s=Math.floor(a/8),o=16-(a-8*s+n),l=(1<<n)-1,c=(e&l)<<o;(function(u,f,m){if(f+1<u.byteLength)u.setUint16(f,m,!1);else{var g=m>>8&255;u.setUint8(f,g)}})(t,s,mae(t,s)&~(l<<o)&65535|c)}function mae(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function dqe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,a=t[e++],s=a>>7,o=1<<1+(7&a);t[e++],t[e++];var l=null,c=null;s&&(l=e,c=o,e+=3*o);var u=!0,f=[],m=0,g=null,p=0,v=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,g=t[e++],1&w||(g=null),p=w>>2&7,e++;break;case 254:for(;;){if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var b=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++],_=A>>6&1,M=1<<1+(7&A),R=l,L=c,I=!1;A>>7&&(I=!0,R=e,L=M,e+=3*M);var B=e;for(e++;;){var D;if(!((D=t[e++])>=0))throw Error("Invalid block size");if(D===0)break;e+=D}f.push({x:b,y:N,width:k,height:S,has_local_palette:I,palette_offset:R,palette_size:L,data_offset:B,data_length:e-B,transparent_index:g,interlaced:!!_,delay:m,disposal:p});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(E){if(E<0||E>=f.length)throw new Error("Frame index out of range.");return f[E]},this.decodeAndBlitFrameBGRA=function(E,H){var V=this.frameInfo(E),Y=V.width*V.height,W=new Uint8Array(Y);SG(t,V.data_offset,W,Y);var F=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var J=V.width,oe=r-J,K=J,U=4*(V.y*r+V.x),X=4*((V.y+V.height)*r+V.x),Z=U,ne=4*oe;V.interlaced===!0&&(ne+=4*r*7);for(var ue=8,_e=0,Ne=W.length;_e<Ne;++_e){var ge=W[_e];if(K===0&&(K=J,(Z+=ne)>=X&&(ne=4*oe+4*r*(ue-1),Z=U+(J+oe)*(ue<<1),ue>>=1)),ge===z)Z+=4;else{var ke=t[F+3*ge],ze=t[F+3*ge+1],he=t[F+3*ge+2];H[Z++]=he,H[Z++]=ze,H[Z++]=ke,H[Z++]=255}--K}},this.decodeAndBlitFrameRGBA=function(E,H){var V=this.frameInfo(E),Y=V.width*V.height,W=new Uint8Array(Y);SG(t,V.data_offset,W,Y);var F=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var J=V.width,oe=r-J,K=J,U=4*(V.y*r+V.x),X=4*((V.y+V.height)*r+V.x),Z=U,ne=4*oe;V.interlaced===!0&&(ne+=4*r*7);for(var ue=8,_e=0,Ne=W.length;_e<Ne;++_e){var ge=W[_e];if(K===0&&(K=J,(Z+=ne)>=X&&(ne=4*oe+4*r*(ue-1),Z=U+(J+oe)*(ue<<1),ue>>=1)),ge===z)Z+=4;else{var ke=t[F+3*ge],ze=t[F+3*ge+1],he=t[F+3*ge+2];H[Z++]=ke,H[Z++]=ze,H[Z++]=he,H[Z++]=255}--K}}}function SG(t,e,r,n){for(var a=t[e++],s=1<<a,o=s+1,l=o+1,c=a+1,u=(1<<c)-1,f=0,m=0,g=0,p=t[e++],v=new Int32Array(4096),w=null;;){for(;f<16&&p!==0;)m|=t[e++]<<f,f+=8,p===1?p=t[e++]:--p;if(f<c)break;var b=m&u;if(m>>=c,f-=c,b!==s){if(b===o)break;for(var N=b<l?b:w,k=0,S=N;S>s;)S=v[S]>>8,++k;var A=S;if(g+k+(N!==b?1:0)>n)return void Aa.log("Warning, gif stream longer than expected.");r[g++]=A;var _=g+=k;for(N!==b&&(r[g++]=A),S=N;k--;)S=v[S],r[--_]=255&S,S>>=8;w!==null&&l<4096&&(v[l++]=w<<8|A,l>=u+1&&c<12&&(++c,u=u<<1|1)),w=b}else l=o+1,u=(1<<(c=a+1))-1,w=null}return g!==n&&Aa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GT(t){var e,r,n,a,s,o=Math.floor,l=new Array(64),c=new Array(64),u=new Array(64),f=new Array(64),m=new Array(65535),g=new Array(65535),p=new Array(64),v=new Array(64),w=[],b=0,N=7,k=new Array(64),S=new Array(64),A=new Array(64),_=new Array(256),M=new Array(2048),R=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],L=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],B=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],D=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],E=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Y=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function W(U,X){for(var Z=0,ne=0,ue=new Array,_e=1;_e<=16;_e++){for(var Ne=1;Ne<=U[_e];Ne++)ue[X[ne]]=[],ue[X[ne]][0]=Z,ue[X[ne]][1]=_e,ne++,Z++;Z*=2}return ue}function F(U){for(var X=U[0],Z=U[1]-1;Z>=0;)X&1<<Z&&(b|=1<<N),Z--,--N<0&&(b==255?(z(255),z(0)):z(b),N=7,b=0)}function z(U){w.push(U)}function J(U){z(U>>8&255),z(255&U)}function oe(U,X,Z,ne,ue){for(var _e,Ne=ue[0],ge=ue[240],ke=(function(Qe,yt){var bt,It,At,Se,gt,rt,Nt,kt,De,vt,Pe=0;for(De=0;De<8;++De){bt=Qe[Pe],It=Qe[Pe+1],At=Qe[Pe+2],Se=Qe[Pe+3],gt=Qe[Pe+4],rt=Qe[Pe+5],Nt=Qe[Pe+6];var $e=bt+(kt=Qe[Pe+7]),Ae=bt-kt,Ye=It+Nt,tt=It-Nt,ve=At+rt,pe=At-rt,We=Se+gt,pt=Se-gt,Je=$e+We,we=$e-We,te=Ye+ve,Oe=Ye-ve;Qe[Pe]=Je+te,Qe[Pe+4]=Je-te;var He=.707106781*(Oe+we);Qe[Pe+2]=we+He,Qe[Pe+6]=we-He;var Ze=.382683433*((Je=pt+pe)-(Oe=tt+Ae)),ft=.5411961*Je+Ze,Re=1.306562965*Oe+Ze,Fe=.707106781*(te=pe+tt),Ue=Ae+Fe,Lt=Ae-Fe;Qe[Pe+5]=Lt+ft,Qe[Pe+3]=Lt-ft,Qe[Pe+1]=Ue+Re,Qe[Pe+7]=Ue-Re,Pe+=8}for(Pe=0,De=0;De<8;++De){bt=Qe[Pe],It=Qe[Pe+8],At=Qe[Pe+16],Se=Qe[Pe+24],gt=Qe[Pe+32],rt=Qe[Pe+40],Nt=Qe[Pe+48];var zt=bt+(kt=Qe[Pe+56]),Ut=bt-kt,st=It+Nt,jt=It-Nt,Vt=At+rt,gr=At-rt,fn=Se+gt,gn=Se-gt,ar=zt+fn,Wr=zt-fn,Kr=st+Vt,Zt=st-Vt;Qe[Pe]=ar+Kr,Qe[Pe+32]=ar-Kr;var et=.707106781*(Zt+Wr);Qe[Pe+16]=Wr+et,Qe[Pe+48]=Wr-et;var nt=.382683433*((ar=gn+gr)-(Zt=jt+Ut)),Tt=.5411961*ar+nt,de=1.306562965*Zt+nt,Ke=.707106781*(Kr=gr+jt),wt=Ut+Ke,or=Ut-Ke;Qe[Pe+40]=or+Tt,Qe[Pe+24]=or-Tt,Qe[Pe+8]=wt+de,Qe[Pe+56]=wt-de,Pe++}for(De=0;De<64;++De)vt=Qe[De]*yt[De],p[De]=vt>0?vt+.5|0:vt-.5|0;return p})(U,X),ze=0;ze<64;++ze)v[R[ze]]=ke[ze];var he=v[0]-Z;Z=v[0],he==0?F(ne[0]):(F(ne[g[_e=32767+he]]),F(m[_e]));for(var ye=63;ye>0&&v[ye]==0;)ye--;if(ye==0)return F(Ne),Z;for(var ae,ie=1;ie<=ye;){for(var dt=ie;v[ie]==0&&ie<=ye;)++ie;var ct=ie-dt;if(ct>=16){ae=ct>>4;for(var Le=1;Le<=ae;++Le)F(ge);ct&=15}_e=32767+v[ie],F(ue[(ct<<4)+g[_e]]),F(m[_e]),ie++}return ye!=63&&F(Ne),Z}function K(U){U=Math.min(Math.max(U,1),100),s!=U&&((function(X){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ne=0;ne<64;ne++){var ue=o((Z[ne]*X+50)/100);ue=Math.min(Math.max(ue,1),255),l[R[ne]]=ue}for(var _e=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ne=0;Ne<64;Ne++){var ge=o((_e[Ne]*X+50)/100);ge=Math.min(Math.max(ge,1),255),c[R[Ne]]=ge}for(var ke=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ze=0,he=0;he<8;he++)for(var ye=0;ye<8;ye++)u[ze]=1/(l[R[ze]]*ke[he]*ke[ye]*8),f[ze]=1/(c[R[ze]]*ke[he]*ke[ye]*8),ze++})(U<50?Math.floor(5e3/U):Math.floor(200-2*U)),s=U)}this.encode=function(U,X){X&&K(X),w=new Array,b=0,N=7,J(65496),J(65504),J(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),J(1),J(1),z(0),z(0),(function(){J(65499),J(132),z(0);for(var It=0;It<64;It++)z(l[It]);z(1);for(var At=0;At<64;At++)z(c[At])})(),(function(It,At){J(65472),J(17),z(8),J(At),J(It),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)})(U.width,U.height),(function(){J(65476),J(418),z(0);for(var It=0;It<16;It++)z(L[It+1]);for(var At=0;At<=11;At++)z(I[At]);z(16);for(var Se=0;Se<16;Se++)z(B[Se+1]);for(var gt=0;gt<=161;gt++)z(D[gt]);z(1);for(var rt=0;rt<16;rt++)z(E[rt+1]);for(var Nt=0;Nt<=11;Nt++)z(H[Nt]);z(17);for(var kt=0;kt<16;kt++)z(V[kt+1]);for(var De=0;De<=161;De++)z(Y[De])})(),J(65498),J(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var Z=0,ne=0,ue=0;b=0,N=7,this.encode.displayName="_encode_";for(var _e,Ne,ge,ke,ze,he,ye,ae,ie,dt=U.data,ct=U.width,Le=U.height,Qe=4*ct,yt=0;yt<Le;){for(_e=0;_e<Qe;){for(ze=Qe*yt+_e,ye=-1,ae=0,ie=0;ie<64;ie++)he=ze+(ae=ie>>3)*Qe+(ye=4*(7&ie)),yt+ae>=Le&&(he-=Qe*(yt+1+ae-Le)),_e+ye>=Qe&&(he-=_e+ye-Qe+4),Ne=dt[he++],ge=dt[he++],ke=dt[he++],k[ie]=(M[Ne]+M[ge+256|0]+M[ke+512|0]>>16)-128,S[ie]=(M[Ne+768|0]+M[ge+1024|0]+M[ke+1280|0]>>16)-128,A[ie]=(M[Ne+1280|0]+M[ge+1536|0]+M[ke+1792|0]>>16)-128;Z=oe(k,u,Z,e,n),ne=oe(S,f,ne,r,a),ue=oe(A,f,ue,r,a),_e+=32}yt+=8}if(N>=0){var bt=[];bt[1]=N+1,bt[0]=(1<<N+1)-1,F(bt)}return J(65497),new Uint8Array(w)},t=t||50,(function(){for(var U=String.fromCharCode,X=0;X<256;X++)_[X]=U(X)})(),e=W(L,I),r=W(E,H),n=W(B,D),a=W(V,Y),(function(){for(var U=1,X=2,Z=1;Z<=15;Z++){for(var ne=U;ne<X;ne++)g[32767+ne]=Z,m[32767+ne]=[],m[32767+ne][1]=Z,m[32767+ne][0]=ne;for(var ue=-(X-1);ue<=-U;ue++)g[32767+ue]=Z,m[32767+ue]=[],m[32767+ue][1]=Z,m[32767+ue][0]=X-1+ue;U<<=1,X<<=1}})(),(function(){for(var U=0;U<256;U++)M[U]=19595*U,M[U+256|0]=38470*U,M[U+512|0]=7471*U+32768,M[U+768|0]=-11059*U,M[U+1024|0]=-21709*U,M[U+1280|0]=32768*U+8421375,M[U+1536|0]=-27439*U,M[U+1792|0]=-5329*U})(),K(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Yc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function kG(t){function e(I){if(!I)throw Error("assert :P")}function r(I,B,D){for(var E=0;4>E;E++)if(I[B+E]!=D.charCodeAt(E))return!0;return!1}function n(I,B,D,E,H){for(var V=0;V<H;V++)I[B+V]=D[E+V]}function a(I,B,D,E){for(var H=0;H<E;H++)I[B+H]=D}function s(I){return new Int32Array(I)}function o(I,B){for(var D=[],E=0;E<I;E++)D.push(new B);return D}function l(I,B){var D=[];return(function E(H,V,Y){for(var W=Y[V],F=0;F<W&&(H.push(Y.length>V+1?[]:new B),!(Y.length<V+1));F++)E(H[F],V+1,Y)})(D,0,I),D}var c=function(){var I=this;function B(C,P){for(var G=1<<P-1>>>0;C&G;)G>>>=1;return G?(C&G-1)+G:C}function D(C,P,G,Q,ce){e(!(Q%G));do C[P+(Q-=G)]=ce;while(0<Q)}function E(C,P,G,Q,ce){if(e(2328>=ce),512>=ce)var me=s(512);else if((me=s(ce))==null)return 0;return(function(xe,je,Ce,Me,Ve,ut){var Te,Xe,ot=je,_t=1<<Ce,lt=s(16),Ct=s(16);for(e(Ve!=0),e(Me!=null),e(xe!=null),e(0<Ce),Xe=0;Xe<Ve;++Xe){if(15<Me[Xe])return 0;++lt[Me[Xe]]}if(lt[0]==Ve)return 0;for(Ct[1]=0,Te=1;15>Te;++Te){if(lt[Te]>1<<Te)return 0;Ct[Te+1]=Ct[Te]+lt[Te]}for(Xe=0;Xe<Ve;++Xe)Te=Me[Xe],0<Me[Xe]&&(ut[Ct[Te]++]=Xe);if(Ct[15]==1)return(Me=new H).g=0,Me.value=ut[0],D(xe,ot,1,_t,Me),_t;var Pt,Gt=-1,$t=_t-1,br=0,dr=1,Qr=1,mr=1<<Ce;for(Xe=0,Te=1,Ve=2;Te<=Ce;++Te,Ve<<=1){if(dr+=Qr<<=1,0>(Qr-=lt[Te]))return 0;for(;0<lt[Te];--lt[Te])(Me=new H).g=Te,Me.value=ut[Xe++],D(xe,ot+br,Ve,mr,Me),br=B(br,Te)}for(Te=Ce+1,Ve=2;15>=Te;++Te,Ve<<=1){if(dr+=Qr<<=1,0>(Qr-=lt[Te]))return 0;for(;0<lt[Te];--lt[Te]){if(Me=new H,(br&$t)!=Gt){for(ot+=mr,Pt=1<<(Gt=Te)-Ce;15>Gt&&!(0>=(Pt-=lt[Gt]));)++Gt,Pt<<=1;_t+=mr=1<<(Pt=Gt-Ce),xe[je+(Gt=br&$t)].g=Pt+Ce,xe[je+Gt].value=ot-je-Gt}Me.g=Te-Ce,Me.value=ut[Xe++],D(xe,ot+(br>>Ce),Ve,mr,Me),br=B(br,Te)}}return dr!=2*Ct[15]-1?0:_t})(C,P,G,Q,ce,me)}function H(){this.value=this.g=0}function V(){this.value=this.g=0}function Y(){this.G=o(5,H),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nu,V)}function W(C,P,G,Q){e(C!=null),e(P!=null),e(2147483648>Q),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=P,C.pa=G,C.Jd=P,C.Yc=G+Q,C.Zc=4<=Q?G+Q-4+1:G,Ne(C)}function F(C,P){for(var G=0;0<P--;)G|=ke(C,128)<<P;return G}function z(C,P){var G=F(C,P);return ge(C)?-G:G}function J(C,P,G,Q){var ce,me=0;for(e(C!=null),e(P!=null),e(4294967288>Q),C.Sb=Q,C.Ra=0,C.u=0,C.h=0,4<Q&&(Q=4),ce=0;ce<Q;++ce)me+=P[G+ce]<<8*ce;C.Ra=me,C.bb=Q,C.oa=P,C.pa=G}function oe(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<zl-8>>>0,++C.bb,C.u-=8;ne(C)&&(C.h=1,C.u=0)}function K(C,P){if(e(0<=P),!C.h&&P<=$s){var G=Z(C)&eo[P];return C.u+=P,oe(C),G}return C.h=1,C.u=0}function U(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function X(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(C){return C.Ra>>>(C.u&zl-1)>>>0}function ne(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>zl}function ue(C,P){C.u=P,C.h=ne(C)}function _e(C){C.u>=ql&&(e(C.u>=ql),oe(C))}function Ne(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function ge(C){return F(C,1)}function ke(C,P){var G=C.Ca;0>C.b&&Ne(C);var Q=C.b,ce=G*P>>>8,me=(C.I>>>Q>ce)+0;for(me?(G-=ce,C.I-=ce+1<<Q>>>0):G=ce+1,Q=G,ce=0;256<=Q;)ce+=8,Q>>=8;return Q=7^ce+Pc[Q],C.b-=Q,C.Ca=(G<<Q)-1,me}function ze(C,P,G){C[P+0]=G>>24&255,C[P+1]=G>>16&255,C[P+2]=G>>8&255,C[P+3]=255&G}function he(C,P){return C[P+0]|C[P+1]<<8}function ye(C,P){return he(C,P)|C[P+2]<<16}function ae(C,P){return he(C,P)|he(C,P+2)<<16}function ie(C,P){var G=1<<P;return e(C!=null),e(0<P),C.X=s(G),C.X==null?0:(C.Mb=32-P,C.Xa=P,1)}function dt(C,P){e(C!=null),e(P!=null),e(C.Xa==P.Xa),n(P.X,0,C.X,0,1<<P.Xa)}function ct(){this.X=[],this.Xa=this.Mb=0}function Le(C,P,G,Q){e(G!=null),e(Q!=null);var ce=G[0],me=Q[0];return ce==0&&(ce=(C*me+P/2)/P),me==0&&(me=(P*ce+C/2)/C),0>=ce||0>=me?0:(G[0]=ce,Q[0]=me,1)}function Qe(C,P){return C+(1<<P)-1>>>P}function yt(C,P){return((4278255360&C)+(4278255360&P)>>>0&4278255360)+((16711935&C)+(16711935&P)>>>0&16711935)>>>0}function bt(C,P){I[P]=function(G,Q,ce,me,xe,je,Ce){var Me;for(Me=0;Me<xe;++Me){var Ve=I[C](je[Ce+Me-1],ce,me+Me);je[Ce+Me]=yt(G[Q+Me],Ve)}}}function It(){this.ud=this.hd=this.jd=0}function At(C,P){return((4278124286&(C^P))>>>1)+(C&P)>>>0}function Se(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function gt(C,P){return Se(C+(C-P+.5>>1))}function rt(C,P,G){return Math.abs(P-G)-Math.abs(C-G)}function Nt(C,P,G,Q,ce,me,xe){for(Q=me[xe-1],G=0;G<ce;++G)me[xe+G]=Q=yt(C[P+G],Q)}function kt(C,P,G,Q,ce){var me;for(me=0;me<G;++me){var xe=C[P+me],je=xe>>8&255,Ce=16711935&(Ce=(Ce=16711935&xe)+((je<<16)+je));Q[ce+me]=(4278255360&xe)+Ce>>>0}}function De(C,P){P.jd=255&C,P.hd=C>>8&255,P.ud=C>>16&255}function vt(C,P,G,Q,ce,me){var xe;for(xe=0;xe<Q;++xe){var je=P[G+xe],Ce=je>>>8,Me=je,Ve=255&(Ve=(Ve=je>>>16)+((C.jd<<24>>24)*(Ce<<24>>24)>>>5));Me=255&(Me=(Me+=(C.hd<<24>>24)*(Ce<<24>>24)>>>5)+((C.ud<<24>>24)*(Ve<<24>>24)>>>5)),ce[me+xe]=(4278255360&je)+(Ve<<16)+Me}}function Pe(C,P,G,Q,ce){I[P]=function(me,xe,je,Ce,Me,Ve,ut,Te,Xe){for(Ce=ut;Ce<Te;++Ce)for(ut=0;ut<Xe;++ut)Me[Ve++]=ce(je[Q(me[xe++])])},I[C]=function(me,xe,je,Ce,Me,Ve,ut){var Te=8>>me.b,Xe=me.Ea,ot=me.K[0],_t=me.w;if(8>Te)for(me=(1<<me.b)-1,_t=(1<<Te)-1;xe<je;++xe){var lt,Ct=0;for(lt=0;lt<Xe;++lt)lt&me||(Ct=Q(Ce[Me++])),Ve[ut++]=ce(ot[Ct&_t]),Ct>>=Te}else I["VP8LMapColor"+G](Ce,Me,ot,_t,Ve,ut,xe,je,Xe)}}function $e(C,P,G,Q,ce){for(G=P+G;P<G;){var me=C[P++];Q[ce++]=me>>16&255,Q[ce++]=me>>8&255,Q[ce++]=255&me}}function Ae(C,P,G,Q,ce){for(G=P+G;P<G;){var me=C[P++];Q[ce++]=me>>16&255,Q[ce++]=me>>8&255,Q[ce++]=255&me,Q[ce++]=me>>24&255}}function Ye(C,P,G,Q,ce){for(G=P+G;P<G;){var me=(xe=C[P++])>>16&240|xe>>12&15,xe=240&xe|xe>>28&15;Q[ce++]=me,Q[ce++]=xe}}function tt(C,P,G,Q,ce){for(G=P+G;P<G;){var me=(xe=C[P++])>>16&248|xe>>13&7,xe=xe>>5&224|xe>>3&31;Q[ce++]=me,Q[ce++]=xe}}function ve(C,P,G,Q,ce){for(G=P+G;P<G;){var me=C[P++];Q[ce++]=255&me,Q[ce++]=me>>8&255,Q[ce++]=me>>16&255}}function pe(C,P,G,Q,ce,me){if(me==0)for(G=P+G;P<G;)ze(Q,((me=C[P++])[0]>>24|me[1]>>8&65280|me[2]<<8&16711680|me[3]<<24)>>>0),ce+=32;else n(Q,ce,C,P,G)}function We(C,P){I[P][0]=I[C+"0"],I[P][1]=I[C+"1"],I[P][2]=I[C+"2"],I[P][3]=I[C+"3"],I[P][4]=I[C+"4"],I[P][5]=I[C+"5"],I[P][6]=I[C+"6"],I[P][7]=I[C+"7"],I[P][8]=I[C+"8"],I[P][9]=I[C+"9"],I[P][10]=I[C+"10"],I[P][11]=I[C+"11"],I[P][12]=I[C+"12"],I[P][13]=I[C+"13"],I[P][14]=I[C+"0"],I[P][15]=I[C+"0"]}function pt(C){return C==Am||C==c0||C==nh||C==u0}function Je(){this.eb=[],this.size=this.A=this.fb=0}function we(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function te(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Je,this.f.kb=new we,this.sd=null}function Oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function He(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ze(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function ft(C,P){var G=C.T,Q=P.ba.f.RGBA,ce=Q.eb,me=Q.fb+C.ka*Q.A,xe=ms[P.ba.S],je=C.y,Ce=C.O,Me=C.f,Ve=C.N,ut=C.ea,Te=C.W,Xe=P.cc,ot=P.dc,_t=P.Mc,lt=P.Nc,Ct=C.ka,Pt=C.ka+C.T,Gt=C.U,$t=Gt+1>>1;for(Ct==0?xe(je,Ce,null,null,Me,Ve,ut,Te,Me,Ve,ut,Te,ce,me,null,null,Gt):(xe(P.ec,P.fc,je,Ce,Xe,ot,_t,lt,Me,Ve,ut,Te,ce,me-Q.A,ce,me,Gt),++G);Ct+2<Pt;Ct+=2)Xe=Me,ot=Ve,_t=ut,lt=Te,Ve+=C.Rc,Te+=C.Rc,me+=2*Q.A,xe(je,(Ce+=2*C.fa)-C.fa,je,Ce,Xe,ot,_t,lt,Me,Ve,ut,Te,ce,me-Q.A,ce,me,Gt);return Ce+=C.fa,C.j+Pt<C.o?(n(P.ec,P.fc,je,Ce,Gt),n(P.cc,P.dc,Me,Ve,$t),n(P.Mc,P.Nc,ut,Te,$t),G--):1&Pt||xe(je,Ce,null,null,Me,Ve,ut,Te,Me,Ve,ut,Te,ce,me+Q.A,null,null,Gt),G}function Re(C,P,G){var Q=C.F,ce=[C.J];if(Q!=null){var me=C.U,xe=P.ba.S,je=xe==_m||xe==nh;P=P.ba.f.RGBA;var Ce=[0],Me=C.ka;Ce[0]=C.T,C.Kb&&(Me==0?--Ce[0]:(--Me,ce[0]-=C.width),C.j+C.ka+C.T==C.o&&(Ce[0]=C.o-C.j-Me));var Ve=P.eb;Me=P.fb+Me*P.A,C=Nm(Q,ce[0],C.width,me,Ce,Ve,Me+(je?0:3),P.A),e(G==Ce),C&&pt(xe)&&Ed(Ve,Me,je,me,Ce,P.A)}return 0}function Fe(C){var P=C.ma,G=P.ba.S,Q=11>G,ce=G==Cs||G==Go||G==_m||G==rh||G==12||pt(G);if(P.memory=null,P.Ib=null,P.Jb=null,P.Nd=null,!Dc(P.Oa,C,ce?11:12))return 0;if(ce&&pt(G)&&n0(),C.da)alert("todo:use_scaling");else{if(Q){if(P.Ib=Ze,C.Kb){if(G=C.U+1>>1,P.memory=s(C.U+2*G),P.memory==null)return 0;P.ec=P.memory,P.fc=0,P.cc=P.ec,P.dc=P.fc+C.U,P.Mc=P.cc,P.Nc=P.dc+G,P.Ib=ft,n0()}}else alert("todo:EmitYUV");ce&&(P.Jb=Re,Q&&Uo())}if(Q&&!Mu){for(C=0;256>C;++C)ps[C]=89858*(C-128)+sh>>Zo,$S[C]=-22014*(C-128)+sh,j1[C]=-45773*(C-128),p0[C]=113618*(C-128)+sh>>Zo;for(C=Rd;C<Tu;++C)P=76283*(C-16)+sh>>Zo,BS[C-Rd]=Ga(P,255),HS[C-Rd]=Ga(P+8>>4,15);Mu=1}return 1}function Ue(C){var P=C.ma,G=C.U,Q=C.T;return e(!(1&C.ka)),0>=G||0>=Q?0:(G=P.Ib(C,P),P.Jb!=null&&P.Jb(C,P,G),P.Dc+=G,1)}function Lt(C){C.ma.memory=null}function zt(C,P,G,Q){return K(C,8)!=47?0:(P[0]=K(C,14)+1,G[0]=K(C,14)+1,Q[0]=K(C,1),K(C,3)!=0?0:!C.h)}function Ut(C,P){if(4>C)return C+1;var G=C-2>>1;return(2+(1&C)<<G)+K(P,G)+1}function st(C,P){return 120<P?P-120:1<=(G=((G=Ko[P-1])>>4)*C+(8-(15&G)))?G:1;var G}function jt(C,P,G){var Q=Z(G),ce=C[P+=255&Q].g-8;return 0<ce&&(ue(G,G.u+8),Q=Z(G),P+=C[P].value,P+=Q&(1<<ce)-1),ue(G,G.u+C[P].g),C[P].value}function Vt(C,P,G){return G.g+=C.g,G.value+=C.value<<P>>>0,e(8>=G.g),C.g}function gr(C,P,G){var Q=C.xc;return e((P=Q==0?0:C.vc[C.md*(G>>Q)+(P>>Q)])<C.Wb),C.Ya[P]}function fn(C,P,G,Q){var ce=C.ab,me=C.c*P,xe=C.C;P=xe+P;var je=G,Ce=Q;for(Q=C.Ta,G=C.Ua;0<ce--;){var Me=C.gc[ce],Ve=xe,ut=P,Te=je,Xe=Ce,ot=(Ce=Q,je=G,Me.Ea);switch(e(Ve<ut),e(ut<=Me.nc),Me.hc){case 2:ni(Te,Xe,(ut-Ve)*ot,Ce,je);break;case 0:var _t=Ve,lt=ut,Ct=Ce,Pt=je,Gt=(mr=Me).Ea;_t==0&&(Qf(Te,Xe,null,null,1,Ct,Pt),Nt(Te,Xe+1,0,0,Gt-1,Ct,Pt+1),Xe+=Gt,Pt+=Gt,++_t);for(var $t=1<<mr.b,br=$t-1,dr=Qe(Gt,mr.b),Qr=mr.K,mr=mr.w+(_t>>mr.b)*dr;_t<lt;){var wn=Qr,Ca=mr,an=1;for(Zf(Te,Xe,Ct,Pt-Gt,1,Ct,Pt);an<Gt;){var fr=(an&~br)+$t;fr>Gt&&(fr=Gt),(0,Lc[wn[Ca++]>>8&15])(Te,Xe+ +an,Ct,Pt+an-Gt,fr-an,Ct,Pt+an),an=fr}Xe+=Gt,Pt+=Gt,++_t&br||(mr+=dr)}ut!=Me.nc&&n(Ce,je-ot,Ce,je+(ut-Ve-1)*ot,ot);break;case 1:for(ot=Te,lt=Xe,Gt=(Te=Me.Ea)-(Pt=Te&~(Ct=(Xe=1<<Me.b)-1)),_t=Qe(Te,Me.b),$t=Me.K,Me=Me.w+(Ve>>Me.b)*_t;Ve<ut;){for(br=$t,dr=Me,Qr=new It,mr=lt+Pt,wn=lt+Te;lt<mr;)De(br[dr++],Qr),eh(Qr,ot,lt,Xe,Ce,je),lt+=Xe,je+=Xe;lt<wn&&(De(br[dr++],Qr),eh(Qr,ot,lt,Gt,Ce,je),lt+=Gt,je+=Gt),++Ve&Ct||(Me+=_t)}break;case 3:if(Te==Ce&&Xe==je&&0<Me.b){for(lt=Ce,Te=ot=je+(ut-Ve)*ot-(Pt=(ut-Ve)*Qe(Me.Ea,Me.b)),Xe=Ce,Ct=je,_t=[],Pt=(Gt=Pt)-1;0<=Pt;--Pt)_t[Pt]=Xe[Ct+Pt];for(Pt=Gt-1;0<=Pt;--Pt)lt[Te+Pt]=_t[Pt];a0(Me,Ve,ut,Ce,ot,Ce,je)}else a0(Me,Ve,ut,Te,Xe,Ce,je)}je=Q,Ce=G}Ce!=G&&n(Q,G,je,Ce,me)}function gn(C,P){var G=C.V,Q=C.Ba+C.c*C.C,ce=P-C.C;if(e(P<=C.l.o),e(16>=ce),0<ce){var me=C.l,xe=C.Ta,je=C.Ua,Ce=me.width;if(fn(C,ce,G,Q),ce=je=[je],e((G=C.C)<(Q=P)),e(me.v<me.va),Q>me.o&&(Q=me.o),G<me.j){var Me=me.j-G;G=me.j,ce[0]+=Me*Ce}if(G>=Q?G=0:(ce[0]+=4*me.v,me.ka=G-me.j,me.U=me.va-me.v,me.T=Q-G,G=1),G){if(je=je[0],11>(G=C.ca).S){var Ve=G.f.RGBA,ut=(Q=G.S,ce=me.U,me=me.T,Me=Ve.eb,Ve.A),Te=me;for(Ve=Ve.fb+C.Ma*Ve.A;0<Te--;){var Xe=xe,ot=je,_t=ce,lt=Me,Ct=Ve;switch(Q){case o0:th(Xe,ot,_t,lt,Ct);break;case Cs:Rc(Xe,ot,_t,lt,Ct);break;case Am:Rc(Xe,ot,_t,lt,Ct),Ed(lt,Ct,0,_t,1,0);break;case l0:Md(Xe,ot,_t,lt,Ct);break;case Go:pe(Xe,ot,_t,lt,Ct,1);break;case c0:pe(Xe,ot,_t,lt,Ct,1),Ed(lt,Ct,0,_t,1,0);break;case _m:pe(Xe,ot,_t,lt,Ct,0);break;case nh:pe(Xe,ot,_t,lt,Ct,0),Ed(lt,Ct,1,_t,1,0);break;case rh:Ic(Xe,ot,_t,lt,Ct);break;case u0:Ic(Xe,ot,_t,lt,Ct),Vo(lt,Ct,_t,1,0);break;case Su:Vl(Xe,ot,_t,lt,Ct);break;default:e(0)}je+=Ce,Ve+=ut}C.Ma+=me}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=G.height)}}C.C=P,e(C.C<=C.i)}function ar(C){var P;if(0<C.ua)return 0;for(P=0;P<C.Wb;++P){var G=C.Ya[P].G,Q=C.Ya[P].H;if(0<G[1][Q[1]+0].g||0<G[2][Q[2]+0].g||0<G[3][Q[3]+0].g)return 0}return 1}function Wr(C,P,G,Q,ce,me){if(C.Z!=0){var xe=C.qd,je=C.rd;for(e(Bc[C.Z]!=null);P<G;++P)Bc[C.Z](xe,je,Q,ce,Q,ce,me),xe=Q,je=ce,ce+=me;C.qd=xe,C.rd=je}}function Kr(C,P){var G=C.l.ma,Q=G.Z==0||G.Z==1?C.l.j:C.C;if(Q=C.C<Q?Q:C.C,e(P<=C.l.o),P>Q){var ce=C.l.width,me=G.ca,xe=G.tb+ce*Q,je=C.V,Ce=C.Ba+C.c*Q,Me=C.gc;e(C.ab==1),e(Me[0].hc==3),Wl(Me[0],Q,P,je,Ce,me,xe),Wr(G,Q,P,me,xe,ce)}C.C=C.Ma=P}function Zt(C,P,G,Q,ce,me,xe){var je=C.$/Q,Ce=C.$%Q,Me=C.m,Ve=C.s,ut=G+C.$,Te=ut;ce=G+Q*ce;var Xe=G+Q*me,ot=280+Ve.ua,_t=C.Pb?je:16777216,lt=0<Ve.ua?Ve.Wa:null,Ct=Ve.wc,Pt=ut<Xe?gr(Ve,Ce,je):null;e(C.C<me),e(Xe<=ce);var Gt=!1;e:for(;;){for(;Gt||ut<Xe;){var $t=0;if(je>=_t){var br=ut-G;e((_t=C).Pb),_t.wd=_t.m,_t.xd=br,0<_t.s.ua&&dt(_t.s.Wa,_t.s.vb),_t=je+ku}if(Ce&Ct||(Pt=gr(Ve,Ce,je)),e(Pt!=null),Pt.Qb&&(P[ut]=Pt.qb,Gt=!0),!Gt)if(_e(Me),Pt.jc){$t=Me,br=P;var dr=ut,Qr=Pt.pd[Z($t)&Nu-1];e(Pt.jc),256>Qr.g?(ue($t,$t.u+Qr.g),br[dr]=Qr.value,$t=0):(ue($t,$t.u+Qr.g-256),e(256<=Qr.value),$t=Qr.value),$t==0&&(Gt=!0)}else $t=jt(Pt.G[0],Pt.H[0],Me);if(Me.h)break;if(Gt||256>$t){if(!Gt)if(Pt.nd)P[ut]=(Pt.qb|$t<<8)>>>0;else{if(_e(Me),Gt=jt(Pt.G[1],Pt.H[1],Me),_e(Me),br=jt(Pt.G[2],Pt.H[2],Me),dr=jt(Pt.G[3],Pt.H[3],Me),Me.h)break;P[ut]=(dr<<24|Gt<<16|$t<<8|br)>>>0}if(Gt=!1,++ut,++Ce>=Q&&(Ce=0,++je,xe!=null&&je<=me&&!(je%16)&&xe(C,je),lt!=null))for(;Te<ut;)$t=P[Te++],lt.X[(506832829*$t&4294967295)>>>lt.Mb]=$t}else if(280>$t){if($t=Ut($t-256,Me),br=jt(Pt.G[4],Pt.H[4],Me),_e(Me),br=st(Q,br=Ut(br,Me)),Me.h)break;if(ut-G<br||ce-ut<$t)break e;for(dr=0;dr<$t;++dr)P[ut+dr]=P[ut+dr-br];for(ut+=$t,Ce+=$t;Ce>=Q;)Ce-=Q,++je,xe!=null&&je<=me&&!(je%16)&&xe(C,je);if(e(ut<=ce),Ce&Ct&&(Pt=gr(Ve,Ce,je)),lt!=null)for(;Te<ut;)$t=P[Te++],lt.X[(506832829*$t&4294967295)>>>lt.Mb]=$t}else{if(!($t<ot))break e;for(Gt=$t-280,e(lt!=null);Te<ut;)$t=P[Te++],lt.X[(506832829*$t&4294967295)>>>lt.Mb]=$t;$t=ut,e(!(Gt>>>(br=lt).Xa)),P[$t]=br.X[Gt],Gt=!0}Gt||e(Me.h==ne(Me))}if(C.Pb&&Me.h&&ut<ce)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&dt(C.s.vb,C.s.Wa);else{if(Me.h)break e;xe!=null&&xe(C,je>me?me:je),C.a=0,C.$=ut-G}return 1}return C.a=3,0}function et(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var P=C.Wa;P!=null&&(P.X=null),C.vb=null,e(C!=null)}function nt(){var C=new Nr;return C==null?null:(C.a=0,C.xb=Wx,We("Predictor","VP8LPredictors"),We("Predictor","VP8LPredictors_C"),We("PredictorAdd","VP8LPredictorsAdd"),We("PredictorAdd","VP8LPredictorsAdd_C"),ni=kt,eh=vt,th=$e,Rc=Ae,Ic=Ye,Vl=tt,Md=ve,I.VP8LMapColor32b=Ul,I.VP8LMapColor8b=ds,C)}function Tt(C,P,G,Q,ce){var me=1,xe=[C],je=[P],Ce=Q.m,Me=Q.s,Ve=null,ut=0;e:for(;;){if(G)for(;me&&K(Ce,1);){var Te=xe,Xe=je,ot=Q,_t=1,lt=ot.m,Ct=ot.gc[ot.ab],Pt=K(lt,2);if(ot.Oc&1<<Pt)me=0;else{switch(ot.Oc|=1<<Pt,Ct.hc=Pt,Ct.Ea=Te[0],Ct.nc=Xe[0],Ct.K=[null],++ot.ab,e(4>=ot.ab),Pt){case 0:case 1:Ct.b=K(lt,3)+2,_t=Tt(Qe(Ct.Ea,Ct.b),Qe(Ct.nc,Ct.b),0,ot,Ct.K),Ct.K=Ct.K[0];break;case 3:var Gt,$t=K(lt,8)+1,br=16<$t?0:4<$t?1:2<$t?2:3;if(Te[0]=Qe(Ct.Ea,br),Ct.b=br,Gt=_t=Tt($t,1,0,ot,Ct.K)){var dr,Qr=$t,mr=Ct,wn=1<<(8>>mr.b),Ca=s(wn);if(Ca==null)Gt=0;else{var an=mr.K[0],fr=mr.w;for(Ca[0]=mr.K[0][0],dr=1;dr<1*Qr;++dr)Ca[dr]=yt(an[fr+dr],Ca[dr-1]);for(;dr<4*wn;++dr)Ca[dr]=0;mr.K[0]=null,mr.K[0]=Ca,Gt=1}}_t=Gt;break;case 2:break;default:e(0)}me=_t}}if(xe=xe[0],je=je[0],me&&K(Ce,1)&&!(me=1<=(ut=K(Ce,4))&&11>=ut)){Q.a=3;break e}var tr;if(tr=me)t:{var Fa,Br,ln,Jn=Q,Pi=xe,gs=je,ba=ut,hi=G,_s=Jn.m,mi=Jn.s,hn=[null],Fn=1,$a=0,Un=Jo[ba];r:for(;;){if(hi&&K(_s,1)){var Li=K(_s,3)+2,Ba=Qe(Pi,Li),$n=Qe(gs,Li),si=Ba*$n;if(!Tt(Ba,$n,0,Jn,hn))break r;for(hn=hn[0],mi.xc=Li,Fa=0;Fa<si;++Fa){var Xn=hn[Fa]>>8&65535;hn[Fa]=Xn,Xn>=Fn&&(Fn=Xn+1)}}if(_s.h)break r;for(Br=0;5>Br;++Br){var pi=Pd[Br];!Br&&0<ba&&(pi+=1<<ba),$a<pi&&($a=pi)}var gi=o(Fn*Un,H),la=Fn,Rn=o(la,Y);if(Rn==null)var As=null;else e(65536>=la),As=Rn;var Ka=s($a);if(As==null||Ka==null||gi==null){Jn.a=1;break r}var Or=gi;for(Fa=ln=0;Fa<Fn;++Fa){var Er=As[Fa],Bn=Er.G,to=Er.H,el=0,Hs=1,xi=0;for(Br=0;5>Br;++Br){pi=Pd[Br],Bn[Br]=Or,to[Br]=ln,!Br&&0<ba&&(pi+=1<<ba);a:{var Ou,Eu=pi,x0=Jn,va=Ka,Gx=Or,Yx=ln,y0=0,Hc=x0.m,zS=K(Hc,1);if(a(va,0,0,Eu),zS){var Kx=K(Hc,1)+1,Jx=K(Hc,1),b0=K(Hc,Jx==0?1:8);va[b0]=1,Kx==2&&(va[b0=K(Hc,8)]=1);var Gi=1}else{var Ja=s(19),Em=K(Hc,4)+4;if(19<Em){x0.a=3;var Du=0;break a}for(Ou=0;Ou<Em;++Ou)Ja[Tm[Ou]]=K(Hc,3);var lh=void 0,Id=void 0,Kl=x0,v0=Ja,ch=Eu,w0=va,j0=0,zc=Kl.m,Xx=8,Qx=o(128,H);n:for(;E(Qx,0,7,v0,19);){if(K(zc,1)){var N1=2+2*K(zc,3);if((lh=2+K(zc,N1))>ch)break n}else lh=ch;for(Id=0;Id<ch&&lh--;){_e(zc);var Zx=Qx[0+(127&Z(zc))];ue(zc,zc.u+Zx.g);var Pu=Zx.value;if(16>Pu)w0[Id++]=Pu,Pu!=0&&(Xx=Pu);else{var S1=Pu==16,k1=Pu-16,C1=ah[k1],ey=K(zc,Yo[k1])+C1;if(Id+ey>ch)break n;for(var _1=S1?Xx:0;0<ey--;)w0[Id++]=_1}}j0=1;break n}j0||(Kl.a=3),Gi=j0}(Gi=Gi&&!Hc.h)&&(y0=E(Gx,Yx,8,va,Eu)),Gi&&y0!=0?Du=y0:(x0.a=3,Du=0)}if(Du==0)break r;if(Hs&&d0[Br]==1&&(Hs=Or[ln].g==0),el+=Or[ln].g,ln+=Du,3>=Br){var Fd,N0=Ka[0];for(Fd=1;Fd<pi;++Fd)Ka[Fd]>N0&&(N0=Ka[Fd]);xi+=N0}}if(Er.nd=Hs,Er.Qb=0,Hs&&(Er.qb=(Bn[3][to[3]+0].value<<24|Bn[1][to[1]+0].value<<16|Bn[2][to[2]+0].value)>>>0,el==0&&256>Bn[0][to[0]+0].value&&(Er.Qb=1,Er.qb+=Bn[0][to[0]+0].value<<8)),Er.jc=!Er.Qb&&6>xi,Er.jc){var Dm,Jl=Er;for(Dm=0;Dm<Nu;++Dm){var qc=Dm,Uc=Jl.pd[qc],S0=Jl.G[0][Jl.H[0]+qc];256<=S0.value?(Uc.g=S0.g+256,Uc.value=S0.value):(Uc.g=0,Uc.value=0,qc>>=Vt(S0,8,Uc),qc>>=Vt(Jl.G[1][Jl.H[1]+qc],16,Uc),qc>>=Vt(Jl.G[2][Jl.H[2]+qc],0,Uc),Vt(Jl.G[3][Jl.H[3]+qc],24,Uc))}}}mi.vc=hn,mi.Wb=Fn,mi.Ya=As,mi.yc=gi,tr=1;break t}tr=0}if(!(me=tr)){Q.a=3;break e}if(0<ut){if(Me.ua=1<<ut,!ie(Me.Wa,ut)){Q.a=1,me=0;break e}}else Me.ua=0;var k0=Q,$d=xe,A1=je,uh=k0.s,dh=uh.xc;if(k0.c=$d,k0.i=A1,uh.md=Qe($d,dh),uh.wc=dh==0?-1:(1<<dh)-1,G){Q.xb=Cu;break e}if((Ve=s(xe*je))==null){Q.a=1,me=0;break e}me=(me=Zt(Q,Ve,0,xe,je,je,null))&&!Ce.h;break e}return me?(ce!=null?ce[0]=Ve:(e(Ve==null),e(G)),Q.$=0,G||et(Me)):et(Me),me}function de(C,P){var G=C.c*C.i,Q=G+P+16*P;return e(C.c<=P),C.V=s(Q),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+G+P,1)}function Ke(C,P){var G=C.C,Q=P-G,ce=C.V,me=C.Ba+C.c*G;for(e(P<=C.l.o);0<Q;){var xe=16<Q?16:Q,je=C.l.ma,Ce=C.l.width,Me=Ce*xe,Ve=je.ca,ut=je.tb+Ce*G,Te=C.Ta,Xe=C.Ua;fn(C,xe,ce,me),ko(Te,Xe,Ve,ut,Me),Wr(je,G,G+xe,Ve,ut,Ce),Q-=xe,ce+=xe*C.c,G+=xe}e(G==P),C.C=C.Ma=P}function wt(){this.ub=this.yd=this.td=this.Rb=0}function or(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Xr(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Mt(){this.Yb=(function(){var C=[];return(function P(G,Q,ce){for(var me=ce[Q],xe=0;xe<me&&(G.push(ce.length>Q+1?[]:0),!(ce.length<Q+1));xe++)P(G[xe],Q+1,ce)})(C,0,[3,11]),C})()}function rr(){this.jb=s(3),this.Wc=l([4,8],Mt),this.Xc=l([4,17],Mt)}function Mr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function ur(){this.Na=this.la=0}function Fr(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function pa(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Hr(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new pa),this.aa=0,this.l=new jn}function Fs(){this.y=s(16),this.f=s(8),this.ea=s(8)}function ga(){this.cb=this.a=0,this.sc="",this.m=new U,this.Od=new wt,this.Kc=new or,this.ed=new Mr,this.Qa=new Xr,this.Ic=this.$c=this.Aa=0,this.D=new Hr,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,U),this.ia=0,this.pb=o(4,Fr),this.Pa=new rr,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Fs),this.Hd=0,this.rb=Array(new ur),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new pa),this.L=this.aa=0,this.gd=l([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function jn(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Tn(){var C=new ga;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,Co||(Co=Xs)),C}function en(C,P,G){return C.a==0&&(C.a=P,C.sc=G,C.cb=0),0}function In(C,P,G){return 3<=G&&C[P+0]==157&&C[P+1]==1&&C[P+2]==42}function Cc(C,P){if(C==null)return 0;if(C.a=0,C.sc="OK",P==null)return en(C,2,"null VP8Io passed to VP8GetHeaders()");var G=P.data,Q=P.w,ce=P.ha;if(4>ce)return en(C,7,"Truncated header.");var me=G[Q+0]|G[Q+1]<<8|G[Q+2]<<16,xe=C.Od;if(xe.Rb=!(1&me),xe.td=me>>1&7,xe.yd=me>>4&1,xe.ub=me>>5,3<xe.td)return en(C,3,"Incorrect keyframe parameters.");if(!xe.yd)return en(C,4,"Frame not displayable.");Q+=3,ce-=3;var je=C.Kc;if(xe.Rb){if(7>ce)return en(C,7,"cannot parse picture header");if(!In(G,Q,ce))return en(C,3,"Bad code word");je.c=16383&(G[Q+4]<<8|G[Q+3]),je.Td=G[Q+4]>>6,je.i=16383&(G[Q+6]<<8|G[Q+5]),je.Ud=G[Q+6]>>6,Q+=7,ce-=7,C.za=je.c+15>>4,C.Ub=je.i+15>>4,P.width=je.c,P.height=je.i,P.Da=0,P.j=0,P.v=0,P.va=P.width,P.o=P.height,P.da=0,P.ib=P.width,P.hb=P.height,P.U=P.width,P.T=P.height,a((me=C.Pa).jb,0,255,me.jb.length),e((me=C.Qa)!=null),me.Cb=0,me.Bb=0,me.Fb=1,a(me.Zb,0,0,me.Zb.length),a(me.Lb,0,0,me.Lb)}if(xe.ub>ce)return en(C,7,"bad partition length");W(me=C.m,G,Q,xe.ub),Q+=xe.ub,ce-=xe.ub,xe.Rb&&(je.Ld=ge(me),je.Kd=ge(me)),je=C.Qa;var Ce,Me=C.Pa;if(e(me!=null),e(je!=null),je.Cb=ge(me),je.Cb){if(je.Bb=ge(me),ge(me)){for(je.Fb=ge(me),Ce=0;4>Ce;++Ce)je.Zb[Ce]=ge(me)?z(me,7):0;for(Ce=0;4>Ce;++Ce)je.Lb[Ce]=ge(me)?z(me,6):0}if(je.Bb)for(Ce=0;3>Ce;++Ce)Me.jb[Ce]=ge(me)?F(me,8):255}else je.Bb=0;if(me.Ka)return en(C,3,"cannot parse segment header");if((je=C.ed).zd=ge(me),je.Tb=F(me,6),je.wb=F(me,3),je.Pc=ge(me),je.Pc&&ge(me)){for(Me=0;4>Me;++Me)ge(me)&&(je.vd[Me]=z(me,6));for(Me=0;4>Me;++Me)ge(me)&&(je.od[Me]=z(me,6))}if(C.L=je.Tb==0?0:je.zd?1:2,me.Ka)return en(C,3,"cannot parse filter header");var Ve=ce;if(ce=Ce=Q,Q=Ce+Ve,je=Ve,C.Xb=(1<<F(C.m,2))-1,Ve<3*(Me=C.Xb))G=7;else{for(Ce+=3*Me,je-=3*Me,Ve=0;Ve<Me;++Ve){var ut=G[ce+0]|G[ce+1]<<8|G[ce+2]<<16;ut>je&&(ut=je),W(C.Jc[+Ve],G,Ce,ut),Ce+=ut,je-=ut,ce+=3}W(C.Jc[+Me],G,Ce,je),G=Ce<Q?0:5}if(G!=0)return en(C,G,"cannot parse partitions");for(G=F(Ce=C.m,7),ce=ge(Ce)?z(Ce,4):0,Q=ge(Ce)?z(Ce,4):0,je=ge(Ce)?z(Ce,4):0,Me=ge(Ce)?z(Ce,4):0,Ce=ge(Ce)?z(Ce,4):0,Ve=C.Qa,ut=0;4>ut;++ut){if(Ve.Cb){var Te=Ve.Zb[ut];Ve.Fb||(Te+=G)}else{if(0<ut){C.pb[ut]=C.pb[0];continue}Te=G}var Xe=C.pb[ut];Xe.Sc[0]=Xo[Ga(Te+ce,127)],Xe.Sc[1]=Qo[Ga(Te+0,127)],Xe.Eb[0]=2*Xo[Ga(Te+Q,127)],Xe.Eb[1]=101581*Qo[Ga(Te+je,127)]>>16,8>Xe.Eb[1]&&(Xe.Eb[1]=8),Xe.Qc[0]=Xo[Ga(Te+Me,117)],Xe.Qc[1]=Qo[Ga(Te+Ce,127)],Xe.lc=Te+Ce}if(!xe.Rb)return en(C,4,"Not a key frame.");for(ge(me),xe=C.Pa,G=0;4>G;++G){for(ce=0;8>ce;++ce)for(Q=0;3>Q;++Q)for(je=0;11>je;++je)Me=ke(me,ka[G][ce][Q][je])?F(me,8):w1[G][ce][Q][je],xe.Wc[G][ce].Yb[Q][je]=Me;for(ce=0;17>ce;++ce)xe.Xc[G][ce]=xe.Wc[G][Nn[ce]]}return C.kc=ge(me),C.kc&&(C.Bd=F(me,8)),C.cb=1}function Xs(C,P,G,Q,ce,me,xe){var je=P[ce].Yb[G];for(G=0;16>ce;++ce){if(!ke(C,je[G+0]))return ce;for(;!ke(C,je[G+1]);)if(je=P[++ce].Yb[0],G=0,ce==16)return 16;var Ce=P[ce+1].Yb;if(ke(C,je[G+2])){var Me=C,Ve=0;if(ke(Me,(Te=je)[(ut=G)+3]))if(ke(Me,Te[ut+6])){for(je=0,ut=2*(Ve=ke(Me,Te[ut+8]))+(Te=ke(Me,Te[ut+9+Ve])),Ve=0,Te=v1[ut];Te[je];++je)Ve+=Ve+ke(Me,Te[je]);Ve+=3+(8<<ut)}else ke(Me,Te[ut+7])?(Ve=7+2*ke(Me,165),Ve+=ke(Me,145)):Ve=5+ke(Me,159);else Ve=ke(Me,Te[ut+4])?3+ke(Me,Te[ut+5]):2;je=Ce[2]}else Ve=1,je=Ce[1];Ce=xe+Ux[ce],0>(Me=C).b&&Ne(Me);var ut,Te=Me.b,Xe=(ut=Me.Ca>>1)-(Me.I>>Te)>>31;--Me.b,Me.Ca+=Xe,Me.Ca|=1,Me.I-=(ut+1&Xe)<<Te,me[Ce]=((Ve^Xe)-Xe)*Q[(0<ce)+0]}return 16}function bo(C){var P=C.rb[C.sb-1];P.la=0,P.Na=0,a(C.zc,0,0,C.zc.length),C.ja=0}function Qs(C,P,G,Q,ce){ce=C[P+G+32*Q]+(ce>>3),C[P+G+32*Q]=-256&ce?0>ce?0:255:ce}function qo(C,P,G,Q,ce,me){Qs(C,P,0,G,Q+ce),Qs(C,P,1,G,Q+me),Qs(C,P,2,G,Q-me),Qs(C,P,3,G,Q-ce)}function Ra(C){return(20091*C>>16)+C}function Wi(C,P,G,Q){var ce,me=0,xe=s(16);for(ce=0;4>ce;++ce){var je=C[P+0]+C[P+8],Ce=C[P+0]-C[P+8],Me=(35468*C[P+4]>>16)-Ra(C[P+12]),Ve=Ra(C[P+4])+(35468*C[P+12]>>16);xe[me+0]=je+Ve,xe[me+1]=Ce+Me,xe[me+2]=Ce-Me,xe[me+3]=je-Ve,me+=4,P++}for(ce=me=0;4>ce;++ce)je=(C=xe[me+0]+4)+xe[me+8],Ce=C-xe[me+8],Me=(35468*xe[me+4]>>16)-Ra(xe[me+12]),Qs(G,Q,0,0,je+(Ve=Ra(xe[me+4])+(35468*xe[me+12]>>16))),Qs(G,Q,1,0,Ce+Me),Qs(G,Q,2,0,Ce-Me),Qs(G,Q,3,0,je-Ve),me++,Q+=32}function bd(C,P,G,Q){var ce=C[P+0]+4,me=35468*C[P+4]>>16,xe=Ra(C[P+4]),je=35468*C[P+1]>>16;qo(G,Q,0,ce+xe,C=Ra(C[P+1]),je),qo(G,Q,1,ce+me,C,je),qo(G,Q,2,ce-me,C,je),qo(G,Q,3,ce-xe,C,je)}function Wf(C,P,G,Q,ce){Wi(C,P,G,Q),ce&&Wi(C,P+16,G,Q+4)}function vd(C,P,G,Q){Fc(C,P+0,G,Q,1),Fc(C,P+32,G,Q+128,1)}function as(C,P,G,Q){var ce;for(C=C[P+0]+4,ce=0;4>ce;++ce)for(P=0;4>P;++P)Qs(G,Q,P,ce,C)}function wd(C,P,G,Q){C[P+0]&&qn(C,P+0,G,Q),C[P+16]&&qn(C,P+16,G,Q+4),C[P+32]&&qn(C,P+32,G,Q+128),C[P+48]&&qn(C,P+48,G,Q+128+4)}function se(C,P,G,Q){var ce,me=s(16);for(ce=0;4>ce;++ce){var xe=C[P+0+ce]+C[P+12+ce],je=C[P+4+ce]+C[P+8+ce],Ce=C[P+4+ce]-C[P+8+ce],Me=C[P+0+ce]-C[P+12+ce];me[0+ce]=xe+je,me[8+ce]=xe-je,me[4+ce]=Me+Ce,me[12+ce]=Me-Ce}for(ce=0;4>ce;++ce)xe=(C=me[0+4*ce]+3)+me[3+4*ce],je=me[1+4*ce]+me[2+4*ce],Ce=me[1+4*ce]-me[2+4*ce],Me=C-me[3+4*ce],G[Q+0]=xe+je>>3,G[Q+16]=Me+Ce>>3,G[Q+32]=xe-je>>3,G[Q+48]=Me-Ce>>3,Q+=64}function re(C,P,G){var Q,ce=P-32,me=ks,xe=255-C[ce-1];for(Q=0;Q<G;++Q){var je,Ce=me,Me=xe+C[P-1];for(je=0;je<G;++je)C[P+je]=Ce[Me+C[ce+je]];P+=32}}function Ie(C,P){re(C,P,4)}function Qt(C,P){re(C,P,8)}function cn(C,P){re(C,P,16)}function xn(C,P){var G;for(G=0;16>G;++G)n(C,P+32*G,C,P-32,16)}function is(C,P){var G;for(G=16;0<G;--G)a(C,P,C[P-1],16),P+=32}function ss(C,P,G){var Q;for(Q=0;16>Q;++Q)a(P,G+32*Q,C,16)}function Oi(C,P){var G,Q=16;for(G=0;16>G;++G)Q+=C[P-1+32*G]+C[P+G-32];ss(Q>>5,C,P)}function Ei(C,P){var G,Q=8;for(G=0;16>G;++G)Q+=C[P-1+32*G];ss(Q>>4,C,P)}function Rl(C,P){var G,Q=8;for(G=0;16>G;++G)Q+=C[P+G-32];ss(Q>>4,C,P)}function jd(C,P){ss(128,C,P)}function $r(C,P,G){return C+2*P+G+2>>2}function yu(C,P){var G,Q=P-32;for(Q=new Uint8Array([$r(C[Q-1],C[Q+0],C[Q+1]),$r(C[Q+0],C[Q+1],C[Q+2]),$r(C[Q+1],C[Q+2],C[Q+3]),$r(C[Q+2],C[Q+3],C[Q+4])]),G=0;4>G;++G)n(C,P+32*G,Q,0,Q.length)}function Qp(C,P){var G=C[P-1],Q=C[P-1+32],ce=C[P-1+64],me=C[P-1+96];ze(C,P+0,16843009*$r(C[P-1-32],G,Q)),ze(C,P+32,16843009*$r(G,Q,ce)),ze(C,P+64,16843009*$r(Q,ce,me)),ze(C,P+96,16843009*$r(ce,me,me))}function ym(C,P){var G,Q=4;for(G=0;4>G;++G)Q+=C[P+G-32]+C[P-1+32*G];for(Q>>=3,G=0;4>G;++G)a(C,P+32*G,Q,4)}function Zp(C,P){var G=C[P-1+0],Q=C[P-1+32],ce=C[P-1+64],me=C[P-1-32],xe=C[P+0-32],je=C[P+1-32],Ce=C[P+2-32],Me=C[P+3-32];C[P+0+96]=$r(Q,ce,C[P-1+96]),C[P+1+96]=C[P+0+64]=$r(G,Q,ce),C[P+2+96]=C[P+1+64]=C[P+0+32]=$r(me,G,Q),C[P+3+96]=C[P+2+64]=C[P+1+32]=C[P+0+0]=$r(xe,me,G),C[P+3+64]=C[P+2+32]=C[P+1+0]=$r(je,xe,me),C[P+3+32]=C[P+2+0]=$r(Ce,je,xe),C[P+3+0]=$r(Me,Ce,je)}function vo(C,P){var G=C[P+1-32],Q=C[P+2-32],ce=C[P+3-32],me=C[P+4-32],xe=C[P+5-32],je=C[P+6-32],Ce=C[P+7-32];C[P+0+0]=$r(C[P+0-32],G,Q),C[P+1+0]=C[P+0+32]=$r(G,Q,ce),C[P+2+0]=C[P+1+32]=C[P+0+64]=$r(Q,ce,me),C[P+3+0]=C[P+2+32]=C[P+1+64]=C[P+0+96]=$r(ce,me,xe),C[P+3+32]=C[P+2+64]=C[P+1+96]=$r(me,xe,je),C[P+3+64]=C[P+2+96]=$r(xe,je,Ce),C[P+3+96]=$r(je,Ce,Ce)}function ls(C,P){var G=C[P-1+0],Q=C[P-1+32],ce=C[P-1+64],me=C[P-1-32],xe=C[P+0-32],je=C[P+1-32],Ce=C[P+2-32],Me=C[P+3-32];C[P+0+0]=C[P+1+64]=me+xe+1>>1,C[P+1+0]=C[P+2+64]=xe+je+1>>1,C[P+2+0]=C[P+3+64]=je+Ce+1>>1,C[P+3+0]=Ce+Me+1>>1,C[P+0+96]=$r(ce,Q,G),C[P+0+64]=$r(Q,G,me),C[P+0+32]=C[P+1+96]=$r(G,me,xe),C[P+1+32]=C[P+2+96]=$r(me,xe,je),C[P+2+32]=C[P+3+96]=$r(xe,je,Ce),C[P+3+32]=$r(je,Ce,Me)}function bm(C,P){var G=C[P+0-32],Q=C[P+1-32],ce=C[P+2-32],me=C[P+3-32],xe=C[P+4-32],je=C[P+5-32],Ce=C[P+6-32],Me=C[P+7-32];C[P+0+0]=G+Q+1>>1,C[P+1+0]=C[P+0+64]=Q+ce+1>>1,C[P+2+0]=C[P+1+64]=ce+me+1>>1,C[P+3+0]=C[P+2+64]=me+xe+1>>1,C[P+0+32]=$r(G,Q,ce),C[P+1+32]=C[P+0+96]=$r(Q,ce,me),C[P+2+32]=C[P+1+96]=$r(ce,me,xe),C[P+3+32]=C[P+2+96]=$r(me,xe,je),C[P+3+64]=$r(xe,je,Ce),C[P+3+96]=$r(je,Ce,Me)}function Nd(C,P){var G=C[P-1+0],Q=C[P-1+32],ce=C[P-1+64],me=C[P-1+96];C[P+0+0]=G+Q+1>>1,C[P+2+0]=C[P+0+32]=Q+ce+1>>1,C[P+2+32]=C[P+0+64]=ce+me+1>>1,C[P+1+0]=$r(G,Q,ce),C[P+3+0]=C[P+1+32]=$r(Q,ce,me),C[P+3+32]=C[P+1+64]=$r(ce,me,me),C[P+3+64]=C[P+2+64]=C[P+0+96]=C[P+1+96]=C[P+2+96]=C[P+3+96]=me}function wo(C,P){var G=C[P-1+0],Q=C[P-1+32],ce=C[P-1+64],me=C[P-1+96],xe=C[P-1-32],je=C[P+0-32],Ce=C[P+1-32],Me=C[P+2-32];C[P+0+0]=C[P+2+32]=G+xe+1>>1,C[P+0+32]=C[P+2+64]=Q+G+1>>1,C[P+0+64]=C[P+2+96]=ce+Q+1>>1,C[P+0+96]=me+ce+1>>1,C[P+3+0]=$r(je,Ce,Me),C[P+2+0]=$r(xe,je,Ce),C[P+1+0]=C[P+3+32]=$r(G,xe,je),C[P+1+32]=C[P+3+64]=$r(Q,G,xe),C[P+1+64]=C[P+3+96]=$r(ce,Q,G),C[P+1+96]=$r(me,ce,Q)}function Sd(C,P){var G;for(G=0;8>G;++G)n(C,P+32*G,C,P-32,8)}function Il(C,P){var G;for(G=0;8>G;++G)a(C,P,C[P-1],8),P+=32}function kd(C,P,G){var Q;for(Q=0;8>Q;++Q)a(P,G+32*Q,C,8)}function _c(C,P){var G,Q=8;for(G=0;8>G;++G)Q+=C[P+G-32]+C[P-1+32*G];kd(Q>>4,C,P)}function Vf(C,P){var G,Q=4;for(G=0;8>G;++G)Q+=C[P+G-32];kd(Q>>3,C,P)}function Gf(C,P){var G,Q=4;for(G=0;8>G;++G)Q+=C[P-1+32*G];kd(Q>>3,C,P)}function Vi(C,P){kd(128,C,P)}function jo(C,P,G){var Q=C[P-G],ce=C[P+0],me=3*(ce-Q)+$c[1020+C[P-2*G]-C[P+G]],xe=Cm[112+(me+4>>3)];C[P-G]=ks[255+Q+Cm[112+(me+3>>3)]],C[P+0]=ks[255+ce-xe]}function Fl(C,P,G,Q){var ce=C[P+0],me=C[P+G];return fs[255+C[P-2*G]-C[P-G]]>Q||fs[255+me-ce]>Q}function Ac(C,P,G,Q){return 4*fs[255+C[P-G]-C[P+0]]+fs[255+C[P-2*G]-C[P+G]]<=Q}function Yf(C,P,G,Q,ce){var me=C[P-3*G],xe=C[P-2*G],je=C[P-G],Ce=C[P+0],Me=C[P+G],Ve=C[P+2*G],ut=C[P+3*G];return 4*fs[255+je-Ce]+fs[255+xe-Me]>Q?0:fs[255+C[P-4*G]-me]<=ce&&fs[255+me-xe]<=ce&&fs[255+xe-je]<=ce&&fs[255+ut-Ve]<=ce&&fs[255+Ve-Me]<=ce&&fs[255+Me-Ce]<=ce}function Cd(C,P,G,Q){var ce=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,P+Q,G,ce)&&jo(C,P+Q,G)}function Tc(C,P,G,Q){var ce=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,P+Q*G,1,ce)&&jo(C,P+Q*G,1)}function bu(C,P,G,Q){var ce;for(ce=3;0<ce;--ce)Cd(C,P+=4*G,G,Q)}function _d(C,P,G,Q){var ce;for(ce=3;0<ce;--ce)Tc(C,P+=4,G,Q)}function $l(C,P,G,Q,ce,me,xe,je){for(me=2*me+1;0<ce--;){if(Yf(C,P,G,me,xe))if(Fl(C,P,G,je))jo(C,P,G);else{var Ce=C,Me=P,Ve=G,ut=Ce[Me-2*Ve],Te=Ce[Me-Ve],Xe=Ce[Me+0],ot=Ce[Me+Ve],_t=Ce[Me+2*Ve],lt=27*(Pt=$c[1020+3*(Xe-Te)+$c[1020+ut-ot]])+63>>7,Ct=18*Pt+63>>7,Pt=9*Pt+63>>7;Ce[Me-3*Ve]=ks[255+Ce[Me-3*Ve]+Pt],Ce[Me-2*Ve]=ks[255+ut+Ct],Ce[Me-Ve]=ks[255+Te+lt],Ce[Me+0]=ks[255+Xe-lt],Ce[Me+Ve]=ks[255+ot-Ct],Ce[Me+2*Ve]=ks[255+_t-Pt]}P+=Q}}function Mc(C,P,G,Q,ce,me,xe,je){for(me=2*me+1;0<ce--;){if(Yf(C,P,G,me,xe))if(Fl(C,P,G,je))jo(C,P,G);else{var Ce=C,Me=P,Ve=G,ut=Ce[Me-Ve],Te=Ce[Me+0],Xe=Ce[Me+Ve],ot=Cm[112+(4+(_t=3*(Te-ut))>>3)],_t=Cm[112+(_t+3>>3)],lt=ot+1>>1;Ce[Me-2*Ve]=ks[255+Ce[Me-2*Ve]+lt],Ce[Me-Ve]=ks[255+ut+_t],Ce[Me+0]=ks[255+Te-ot],Ce[Me+Ve]=ks[255+Xe-lt]}P+=Q}}function e0(C,P,G,Q,ce,me){$l(C,P,G,1,16,Q,ce,me)}function t0(C,P,G,Q,ce,me){$l(C,P,1,G,16,Q,ce,me)}function Oc(C,P,G,Q,ce,me){var xe;for(xe=3;0<xe;--xe)Mc(C,P+=4*G,G,1,16,Q,ce,me)}function r0(C,P,G,Q,ce,me){var xe;for(xe=3;0<xe;--xe)Mc(C,P+=4,1,G,16,Q,ce,me)}function q(C,P,G,Q,ce,me,xe,je){$l(C,P,ce,1,8,me,xe,je),$l(G,Q,ce,1,8,me,xe,je)}function le(C,P,G,Q,ce,me,xe,je){$l(C,P,1,ce,8,me,xe,je),$l(G,Q,1,ce,8,me,xe,je)}function Ee(C,P,G,Q,ce,me,xe,je){Mc(C,P+4*ce,ce,1,8,me,xe,je),Mc(G,Q+4*ce,ce,1,8,me,xe,je)}function qe(C,P,G,Q,ce,me,xe,je){Mc(C,P+4,1,ce,8,me,xe,je),Mc(G,Q+4,1,ce,8,me,xe,je)}function at(){this.ba=new te,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new He,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Bt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function xr(){this.ua=0,this.Wa=new ct,this.vb=new ct,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Y,this.yc=new H}function Nr(){this.xb=this.a=0,this.l=new jn,this.ca=new te,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new X,this.Pb=0,this.wd=new X,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new xr,this.ab=0,this.gc=o(4,Bt),this.Oc=0}function Vr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new jn,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function tn(C,P,G,Q,ce,me,xe){for(C=C==null?0:C[P+0],P=0;P<xe;++P)ce[me+P]=C+G[Q+P]&255,C=ce[me+P]}function zn(C,P,G,Q,ce,me,xe){var je;if(C==null)tn(null,null,G,Q,ce,me,xe);else for(je=0;je<xe;++je)ce[me+je]=C[P+je]+G[Q+je]&255}function Ia(C,P,G,Q,ce,me,xe){if(C==null)tn(null,null,G,Q,ce,me,xe);else{var je,Ce=C[P+0],Me=Ce,Ve=Ce;for(je=0;je<xe;++je)Me=Ve+(Ce=C[P+je])-Me,Ve=G[Q+je]+(-256&Me?0>Me?0:255:Me)&255,Me=Ce,ce[me+je]=Ve}}function ri(C,P,G,Q){var ce=P.width,me=P.o;if(e(C!=null&&P!=null),0>G||0>=Q||G+Q>me)return null;if(!C.Cc){if(C.ga==null){var xe;if(C.ga=new Vr,(xe=C.ga==null)||(xe=P.width*P.o,e(C.Gb.length==0),C.Gb=s(xe),C.Uc=0,C.Gb==null?xe=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,xe=1),xe=!xe),!xe){xe=C.ga;var je=C.Fa,Ce=C.P,Me=C.qc,Ve=C.mb,ut=C.nb,Te=Ce+1,Xe=Me-1,ot=xe.l;if(e(je!=null&&Ve!=null&&P!=null),Bc[0]=null,Bc[1]=tn,Bc[2]=zn,Bc[3]=Ia,xe.ca=Ve,xe.tb=ut,xe.c=P.width,xe.i=P.height,e(0<xe.c&&0<xe.i),1>=Me)P=0;else if(xe.$a=3&je[Ce+0],xe.Z=je[Ce+0]>>2&3,xe.Lc=je[Ce+0]>>4&3,Ce=je[Ce+0]>>6&3,0>xe.$a||1<xe.$a||4<=xe.Z||1<xe.Lc||Ce)P=0;else if(ot.put=Ue,ot.ac=Fe,ot.bc=Lt,ot.ma=xe,ot.width=P.width,ot.height=P.height,ot.Da=P.Da,ot.v=P.v,ot.va=P.va,ot.j=P.j,ot.o=P.o,xe.$a)e:{e(xe.$a==1),P=nt();t:for(;;){if(P==null){P=0;break e}if(e(xe!=null),xe.mc=P,P.c=xe.c,P.i=xe.i,P.l=xe.l,P.l.ma=xe,P.l.width=xe.c,P.l.height=xe.i,P.a=0,J(P.m,je,Te,Xe),!Tt(xe.c,xe.i,1,P,null)||(P.ab==1&&P.gc[0].hc==3&&ar(P.s)?(xe.ic=1,je=P.c*P.i,P.Ta=null,P.Ua=0,P.V=s(je),P.Ba=0,P.V==null?(P.a=1,P=0):P=1):(xe.ic=0,P=de(P,xe.c)),!P))break t;P=1;break e}xe.mc=null,P=0}else P=Xe>=xe.c*xe.i;xe=!P}if(xe)return null;C.ga.Lc!=1?C.Ga=0:Q=me-G}e(C.ga!=null),e(G+Q<=me);e:{if(P=(je=C.ga).c,me=je.l.o,je.$a==0){if(Te=C.rc,Xe=C.Vc,ot=C.Fa,Ce=C.P+1+G*P,Me=C.mb,Ve=C.nb+G*P,e(Ce<=C.P+C.qc),je.Z!=0)for(e(Bc[je.Z]!=null),xe=0;xe<Q;++xe)Bc[je.Z](Te,Xe,ot,Ce,Me,Ve,P),Te=Me,Xe=Ve,Ve+=P,Ce+=P;else for(xe=0;xe<Q;++xe)n(Me,Ve,ot,Ce,P),Te=Me,Xe=Ve,Ve+=P,Ce+=P;C.rc=Te,C.Vc=Xe}else{if(e(je.mc!=null),P=G+Q,e((xe=je.mc)!=null),e(P<=xe.i),xe.C>=P)P=1;else if(je.ic||Uo(),je.ic){je=xe.V,Te=xe.Ba,Xe=xe.c;var _t=xe.i,lt=(ot=1,Ce=xe.$/Xe,Me=xe.$%Xe,Ve=xe.m,ut=xe.s,xe.$),Ct=Xe*_t,Pt=Xe*P,Gt=ut.wc,$t=lt<Pt?gr(ut,Me,Ce):null;e(lt<=Ct),e(P<=_t),e(ar(ut));t:for(;;){for(;!Ve.h&&lt<Pt;){if(Me&Gt||($t=gr(ut,Me,Ce)),e($t!=null),_e(Ve),256>(_t=jt($t.G[0],$t.H[0],Ve)))je[Te+lt]=_t,++lt,++Me>=Xe&&(Me=0,++Ce<=P&&!(Ce%16)&&Kr(xe,Ce));else{if(!(280>_t)){ot=0;break t}_t=Ut(_t-256,Ve);var br,dr=jt($t.G[4],$t.H[4],Ve);if(_e(Ve),!(lt>=(dr=st(Xe,dr=Ut(dr,Ve)))&&Ct-lt>=_t)){ot=0;break t}for(br=0;br<_t;++br)je[Te+lt+br]=je[Te+lt+br-dr];for(lt+=_t,Me+=_t;Me>=Xe;)Me-=Xe,++Ce<=P&&!(Ce%16)&&Kr(xe,Ce);lt<Pt&&Me&Gt&&($t=gr(ut,Me,Ce))}e(Ve.h==ne(Ve))}Kr(xe,Ce>P?P:Ce);break t}!ot||Ve.h&&lt<Ct?(ot=0,xe.a=Ve.h?5:3):xe.$=lt,P=ot}else P=Zt(xe,xe.V,xe.Ba,xe.c,xe.i,P,Ke);if(!P){Q=0;break e}}G+Q>=me&&(C.Cc=1),Q=1}if(!Q)return null;if(C.Cc&&((Q=C.ga)!=null&&(Q.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+G*ce}function xa(C,P,G,Q,ce,me){for(;0<ce--;){var xe,je=C,Ce=P+(G?1:0),Me=C,Ve=P+(G?0:3);for(xe=0;xe<Q;++xe){var ut=Me[Ve+4*xe];ut!=255&&(ut*=32897,je[Ce+4*xe+0]=je[Ce+4*xe+0]*ut>>23,je[Ce+4*xe+1]=je[Ce+4*xe+1]*ut>>23,je[Ce+4*xe+2]=je[Ce+4*xe+2]*ut>>23)}P+=me}}function Di(C,P,G,Q,ce){for(;0<Q--;){var me;for(me=0;me<G;++me){var xe=C[P+2*me+0],je=15&(Me=C[P+2*me+1]),Ce=4369*je,Me=(240&Me|Me>>4)*Ce>>16;C[P+2*me+0]=(240&xe|xe>>4)*Ce>>16&240|(15&xe|xe<<4)*Ce>>16>>4&15,C[P+2*me+1]=240&Me|je}P+=ce}}function fi(C,P,G,Q,ce,me,xe,je){var Ce,Me,Ve=255;for(Me=0;Me<ce;++Me){for(Ce=0;Ce<Q;++Ce){var ut=C[P+Ce];me[xe+4*Ce]=ut,Ve&=ut}P+=G,xe+=je}return Ve!=255}function cs(C,P,G,Q,ce){var me;for(me=0;me<ce;++me)G[Q+me]=C[P+me]>>8}function Uo(){Ed=xa,Vo=Di,Nm=fi,ko=cs}function Zs(C,P,G){I[C]=function(Q,ce,me,xe,je,Ce,Me,Ve,ut,Te,Xe,ot,_t,lt,Ct,Pt,Gt){var $t,br=Gt-1>>1,dr=je[Ce+0]|Me[Ve+0]<<16,Qr=ut[Te+0]|Xe[ot+0]<<16;e(Q!=null);var mr=3*dr+Qr+131074>>2;for(P(Q[ce+0],255&mr,mr>>16,_t,lt),me!=null&&(mr=3*Qr+dr+131074>>2,P(me[xe+0],255&mr,mr>>16,Ct,Pt)),$t=1;$t<=br;++$t){var wn=je[Ce+$t]|Me[Ve+$t]<<16,Ca=ut[Te+$t]|Xe[ot+$t]<<16,an=dr+wn+Qr+Ca+524296,fr=an+2*(wn+Qr)>>3;mr=fr+dr>>1,dr=(an=an+2*(dr+Ca)>>3)+wn>>1,P(Q[ce+2*$t-1],255&mr,mr>>16,_t,lt+(2*$t-1)*G),P(Q[ce+2*$t-0],255&dr,dr>>16,_t,lt+(2*$t-0)*G),me!=null&&(mr=an+Qr>>1,dr=fr+Ca>>1,P(me[xe+2*$t-1],255&mr,mr>>16,Ct,Pt+(2*$t-1)*G),P(me[xe+2*$t+0],255&dr,dr>>16,Ct,Pt+(2*$t+0)*G)),dr=wn,Qr=Ca}1&Gt||(mr=3*dr+Qr+131074>>2,P(Q[ce+Gt-1],255&mr,mr>>16,_t,lt+(Gt-1)*G),me!=null&&(mr=3*Qr+dr+131074>>2,P(me[xe+Gt-1],255&mr,mr>>16,Ct,Pt+(Gt-1)*G)))}}function n0(){ms[o0]=Ld,ms[Cs]=ih,ms[l0]=Vx,ms[Go]=h0,ms[_m]=_u,ms[rh]=Yl,ms[Su]=Au,ms[Am]=ih,ms[c0]=h0,ms[nh]=_u,ms[u0]=Yl}function Kf(C){return C&-16384?0>C?0:255:C>>m0}function Ad(C,P){return Kf((19077*C>>8)+(26149*P>>8)-14234)}function Bl(C,P,G){return Kf((19077*C>>8)-(6419*P>>8)-(13320*G>>8)+8708)}function hl(C,P){return Kf((19077*C>>8)+(33050*P>>8)-17685)}function Td(C,P,G,Q,ce){Q[ce+0]=Ad(C,G),Q[ce+1]=Bl(C,P,G),Q[ce+2]=hl(C,P)}function vu(C,P,G,Q,ce){Q[ce+0]=hl(C,P),Q[ce+1]=Bl(C,P,G),Q[ce+2]=Ad(C,G)}function us(C,P,G,Q,ce){var me=Bl(C,P,G);P=me<<3&224|hl(C,P)>>3,Q[ce+0]=248&Ad(C,G)|me>>5,Q[ce+1]=P}function wu(C,P,G,Q,ce){var me=240&hl(C,P)|15;Q[ce+0]=240&Ad(C,G)|Bl(C,P,G)>>4,Q[ce+1]=me}function ju(C,P,G,Q,ce){Q[ce+0]=255,Td(C,P,G,Q,ce+1)}function Jf(C,P,G,Q,ce){vu(C,P,G,Q,ce),Q[ce+3]=255}function Hl(C,P,G,Q,ce){Td(C,P,G,Q,ce),Q[ce+3]=255}function Ga(C,P){return 0>C?0:C>P?P:C}function Ec(C,P,G){I[C]=function(Q,ce,me,xe,je,Ce,Me,Ve,ut){for(var Te=Ve+(-2&ut)*G;Ve!=Te;)P(Q[ce+0],me[xe+0],je[Ce+0],Me,Ve),P(Q[ce+1],me[xe+0],je[Ce+0],Me,Ve+G),ce+=2,++xe,++Ce,Ve+=2*G;1&ut&&P(Q[ce+0],me[xe+0],je[Ce+0],Me,Ve)}}function Xf(C,P,G){return G==0?C==0?P==0?6:5:P==0?4:0:G}function vm(C,P,G,Q,ce){switch(C>>>30){case 3:Fc(P,G,Q,ce,0);break;case 2:Ss(P,G,Q,ce);break;case 1:qn(P,G,Q,ce)}}function No(C,P){var G,Q,ce=P.M,me=P.Nb,xe=C.oc,je=C.pc+40,Ce=C.oc,Me=C.pc+584,Ve=C.oc,ut=C.pc+600;for(G=0;16>G;++G)xe[je+32*G-1]=129;for(G=0;8>G;++G)Ce[Me+32*G-1]=129,Ve[ut+32*G-1]=129;for(0<ce?xe[je-1-32]=Ce[Me-1-32]=Ve[ut-1-32]=129:(a(xe,je-32-1,127,21),a(Ce,Me-32-1,127,9),a(Ve,ut-32-1,127,9)),Q=0;Q<C.za;++Q){var Te=P.ya[P.aa+Q];if(0<Q){for(G=-1;16>G;++G)n(xe,je+32*G-4,xe,je+32*G+12,4);for(G=-1;8>G;++G)n(Ce,Me+32*G-4,Ce,Me+32*G+4,4),n(Ve,ut+32*G-4,Ve,ut+32*G+4,4)}var Xe=C.Gd,ot=C.Hd+Q,_t=Te.ad,lt=Te.Hc;if(0<ce&&(n(xe,je-32,Xe[ot].y,0,16),n(Ce,Me-32,Xe[ot].f,0,8),n(Ve,ut-32,Xe[ot].ea,0,8)),Te.Za){var Ct=xe,Pt=je-32+16;for(0<ce&&(Q>=C.za-1?a(Ct,Pt,Xe[ot].y[15],4):n(Ct,Pt,Xe[ot+1].y,0,4)),G=0;4>G;G++)Ct[Pt+128+G]=Ct[Pt+256+G]=Ct[Pt+384+G]=Ct[Pt+0+G];for(G=0;16>G;++G,lt<<=2)Ct=xe,Pt=je+ii[G],Ya[Te.Ob[G]](Ct,Pt),vm(lt,_t,16*+G,Ct,Pt)}else if(Ct=Xf(Q,ce,Te.Ob[0]),Bs[Ct](xe,je),lt!=0)for(G=0;16>G;++G,lt<<=2)vm(lt,_t,16*+G,xe,je+ii[G]);for(G=Te.Gc,Ct=Xf(Q,ce,Te.Dd),xl[Ct](Ce,Me),xl[Ct](Ve,ut),lt=_t,Ct=Ce,Pt=Me,255&(Te=0|G)&&(170&Te?Wo(lt,256,Ct,Pt):Ln(lt,256,Ct,Pt)),Te=Ve,lt=ut,255&(G>>=8)&&(170&G?Wo(_t,320,Te,lt):Ln(_t,320,Te,lt)),ce<C.Ub-1&&(n(Xe[ot].y,0,xe,je+480,16),n(Xe[ot].f,0,Ce,Me+224,8),n(Xe[ot].ea,0,Ve,ut+224,8)),G=8*me*C.B,Xe=C.sa,ot=C.ta+16*Q+16*me*C.R,_t=C.qa,Te=C.ra+8*Q+G,lt=C.Ha,Ct=C.Ia+8*Q+G,G=0;16>G;++G)n(Xe,ot+G*C.R,xe,je+32*G,16);for(G=0;8>G;++G)n(_t,Te+G*C.B,Ce,Me+32*G,8),n(lt,Ct+G*C.B,Ve,ut+32*G,8)}}function ml(C,P,G,Q,ce,me,xe,je,Ce){var Me=[0],Ve=[0],ut=0,Te=Ce!=null?Ce.kd:0,Xe=Ce??new Dt;if(C==null||12>G)return 7;Xe.data=C,Xe.w=P,Xe.ha=G,P=[P],G=[G],Xe.gb=[Xe.gb];e:{var ot=P,_t=G,lt=Xe.gb;if(e(C!=null),e(_t!=null),e(lt!=null),lt[0]=0,12<=_t[0]&&!r(C,ot[0],"RIFF")){if(r(C,ot[0]+8,"WEBP")){lt=3;break e}var Ct=ae(C,ot[0]+4);if(12>Ct||4294967286<Ct){lt=3;break e}if(Te&&Ct>_t[0]-8){lt=7;break e}lt[0]=Ct,ot[0]+=12,_t[0]-=12}lt=0}if(lt!=0)return lt;for(Ct=0<Xe.gb[0],G=G[0];;){e:{var Pt=C;_t=P,lt=G;var Gt=Me,$t=Ve,br=ot=[0];if((mr=ut=[ut])[0]=0,8>lt[0])lt=7;else{if(!r(Pt,_t[0],"VP8X")){if(ae(Pt,_t[0]+4)!=10){lt=3;break e}if(18>lt[0]){lt=7;break e}var dr=ae(Pt,_t[0]+8),Qr=1+ye(Pt,_t[0]+12);if(2147483648<=Qr*(Pt=1+ye(Pt,_t[0]+15))){lt=3;break e}br!=null&&(br[0]=dr),Gt!=null&&(Gt[0]=Qr),$t!=null&&($t[0]=Pt),_t[0]+=18,lt[0]-=18,mr[0]=1}lt=0}}if(ut=ut[0],ot=ot[0],lt!=0)return lt;if(_t=!!(2&ot),!Ct&&ut)return 3;if(me!=null&&(me[0]=!!(16&ot)),xe!=null&&(xe[0]=_t),je!=null&&(je[0]=0),xe=Me[0],ot=Ve[0],ut&&_t&&Ce==null){lt=0;break}if(4>G){lt=7;break}if(Ct&&ut||!Ct&&!ut&&!r(C,P[0],"ALPH")){G=[G],Xe.na=[Xe.na],Xe.P=[Xe.P],Xe.Sa=[Xe.Sa];e:{dr=C,lt=P,Ct=G;var mr=Xe.gb;Gt=Xe.na,$t=Xe.P,br=Xe.Sa,Qr=22,e(dr!=null),e(Ct!=null),Pt=lt[0];var wn=Ct[0];for(e(Gt!=null),e(br!=null),Gt[0]=null,$t[0]=null,br[0]=0;;){if(lt[0]=Pt,Ct[0]=wn,8>wn){lt=7;break e}var Ca=ae(dr,Pt+4);if(4294967286<Ca){lt=3;break e}var an=8+Ca+1&-2;if(Qr+=an,0<mr&&Qr>mr){lt=3;break e}if(!r(dr,Pt,"VP8 ")||!r(dr,Pt,"VP8L")){lt=0;break e}if(wn[0]<an){lt=7;break e}r(dr,Pt,"ALPH")||(Gt[0]=dr,$t[0]=Pt+8,br[0]=Ca),Pt+=an,wn-=an}}if(G=G[0],Xe.na=Xe.na[0],Xe.P=Xe.P[0],Xe.Sa=Xe.Sa[0],lt!=0)break}G=[G],Xe.Ja=[Xe.Ja],Xe.xa=[Xe.xa];e:if(mr=C,lt=P,Ct=G,Gt=Xe.gb[0],$t=Xe.Ja,br=Xe.xa,dr=lt[0],Pt=!r(mr,dr,"VP8 "),Qr=!r(mr,dr,"VP8L"),e(mr!=null),e(Ct!=null),e($t!=null),e(br!=null),8>Ct[0])lt=7;else{if(Pt||Qr){if(mr=ae(mr,dr+4),12<=Gt&&mr>Gt-12){lt=3;break e}if(Te&&mr>Ct[0]-8){lt=7;break e}$t[0]=mr,lt[0]+=8,Ct[0]-=8,br[0]=Qr}else br[0]=5<=Ct[0]&&mr[dr+0]==47&&!(mr[dr+4]>>5),$t[0]=Ct[0];lt=0}if(G=G[0],Xe.Ja=Xe.Ja[0],Xe.xa=Xe.xa[0],P=P[0],lt!=0)break;if(4294967286<Xe.Ja)return 3;if(je==null||_t||(je[0]=Xe.xa?2:1),xe=[xe],ot=[ot],Xe.xa){if(5>G){lt=7;break}je=xe,Te=ot,_t=me,C==null||5>G?C=0:5<=G&&C[P+0]==47&&!(C[P+4]>>5)?(Ct=[0],mr=[0],Gt=[0],J($t=new X,C,P,G),zt($t,Ct,mr,Gt)?(je!=null&&(je[0]=Ct[0]),Te!=null&&(Te[0]=mr[0]),_t!=null&&(_t[0]=Gt[0]),C=1):C=0):C=0}else{if(10>G){lt=7;break}je=ot,C==null||10>G||!In(C,P+3,G-3)?C=0:(Te=C[P+0]|C[P+1]<<8|C[P+2]<<16,_t=16383&(C[P+7]<<8|C[P+6]),C=16383&(C[P+9]<<8|C[P+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Xe.Ja||!_t||!C?C=0:(xe&&(xe[0]=_t),je&&(je[0]=C),C=1))}if(!C||(xe=xe[0],ot=ot[0],ut&&(Me[0]!=xe||Ve[0]!=ot)))return 3;Ce!=null&&(Ce[0]=Xe,Ce.offset=P-Ce.w,e(4294967286>P-Ce.w),e(Ce.offset==Ce.ha-G));break}return lt==0||lt==7&&ut&&Ce==null?(me!=null&&(me[0]|=Xe.na!=null&&0<Xe.na.length),Q!=null&&(Q[0]=xe),ce!=null&&(ce[0]=ot),0):lt}function Dc(C,P,G){var Q=P.width,ce=P.height,me=0,xe=0,je=Q,Ce=ce;if(P.Da=C!=null&&0<C.Da,P.Da&&(je=C.cd,Ce=C.bd,me=C.v,xe=C.j,11>G||(me&=-2,xe&=-2),0>me||0>xe||0>=je||0>=Ce||me+je>Q||xe+Ce>ce))return 0;if(P.v=me,P.j=xe,P.va=me+je,P.o=xe+Ce,P.U=je,P.T=Ce,P.da=C!=null&&0<C.da,P.da){if(!Le(je,Ce,G=[C.ib],me=[C.hb]))return 0;P.ib=G[0],P.hb=me[0]}return P.ob=C!=null&&C.ob,P.Kb=C==null||!C.Sd,P.da&&(P.ob=P.ib<3*Q/4&&P.hb<3*ce/4,P.Kb=0),1}function wm(C){if(C==null)return 2;if(11>C.S){var P=C.f.RGBA;P.fb+=(C.height-1)*P.A,P.A=-P.A}else P=C.f.kb,C=C.height,P.O+=(C-1)*P.fa,P.fa=-P.fa,P.N+=(C-1>>1)*P.Ab,P.Ab=-P.Ab,P.W+=(C-1>>1)*P.Db,P.Db=-P.Db,P.F!=null&&(P.J+=(C-1)*P.lb,P.lb=-P.lb);return 0}function pl(C,P,G,Q){if(Q==null||0>=C||0>=P)return 2;if(G!=null){if(G.Da){var ce=G.cd,me=G.bd,xe=-2&G.v,je=-2&G.j;if(0>xe||0>je||0>=ce||0>=me||xe+ce>C||je+me>P)return 2;C=ce,P=me}if(G.da){if(!Le(C,P,ce=[G.ib],me=[G.hb]))return 2;C=ce[0],P=me[0]}}Q.width=C,Q.height=P;e:{var Ce=Q.width,Me=Q.height;if(C=Q.S,0>=Ce||0>=Me||!(C>=o0&&13>C))C=2;else{if(0>=Q.Rd&&Q.sd==null){xe=me=ce=P=0;var Ve=(je=Ce*g0[C])*Me;if(11>C||(me=(Me+1)/2*(P=(Ce+1)/2),C==12&&(xe=(ce=Ce)*Me)),(Me=s(Ve+2*me+xe))==null){C=1;break e}Q.sd=Me,11>C?((Ce=Q.f.RGBA).eb=Me,Ce.fb=0,Ce.A=je,Ce.size=Ve):((Ce=Q.f.kb).y=Me,Ce.O=0,Ce.fa=je,Ce.Fd=Ve,Ce.f=Me,Ce.N=0+Ve,Ce.Ab=P,Ce.Cd=me,Ce.ea=Me,Ce.W=0+Ve+me,Ce.Db=P,Ce.Ed=me,C==12&&(Ce.F=Me,Ce.J=0+Ve+2*me),Ce.Tc=xe,Ce.lb=ce)}if(P=1,ce=Q.S,me=Q.width,xe=Q.height,ce>=o0&&13>ce)if(11>ce)C=Q.f.RGBA,P&=(je=Math.abs(C.A))*(xe-1)+me<=C.size,P&=je>=me*g0[ce],P&=C.eb!=null;else{C=Q.f.kb,je=(me+1)/2,Ve=(xe+1)/2,Ce=Math.abs(C.fa),Me=Math.abs(C.Ab);var ut=Math.abs(C.Db),Te=Math.abs(C.lb),Xe=Te*(xe-1)+me;P&=Ce*(xe-1)+me<=C.Fd,P&=Me*(Ve-1)+je<=C.Cd,P=(P&=ut*(Ve-1)+je<=C.Ed)&Ce>=me&Me>=je&ut>=je,P&=C.y!=null,P&=C.f!=null,P&=C.ea!=null,ce==12&&(P&=Te>=me,P&=Xe<=C.Tc,P&=C.F!=null)}else P=0;C=P?0:2}}return C!=0||G!=null&&G.fd&&(C=wm(Q)),C}var Nu=64,eo=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],$s=24,zl=32,ql=8,Pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];bt("Predictor0","PredictorAdd0"),I.Predictor0=function(){return 4278190080},I.Predictor1=function(C){return C},I.Predictor2=function(C,P,G){return P[G+0]},I.Predictor3=function(C,P,G){return P[G+1]},I.Predictor4=function(C,P,G){return P[G-1]},I.Predictor5=function(C,P,G){return At(At(C,P[G+1]),P[G+0])},I.Predictor6=function(C,P,G){return At(C,P[G-1])},I.Predictor7=function(C,P,G){return At(C,P[G+0])},I.Predictor8=function(C,P,G){return At(P[G-1],P[G+0])},I.Predictor9=function(C,P,G){return At(P[G+0],P[G+1])},I.Predictor10=function(C,P,G){return At(At(C,P[G-1]),At(P[G+0],P[G+1]))},I.Predictor11=function(C,P,G){var Q=P[G+0];return 0>=rt(Q>>24&255,C>>24&255,(P=P[G-1])>>24&255)+rt(Q>>16&255,C>>16&255,P>>16&255)+rt(Q>>8&255,C>>8&255,P>>8&255)+rt(255&Q,255&C,255&P)?Q:C},I.Predictor12=function(C,P,G){var Q=P[G+0];return(Se((C>>24&255)+(Q>>24&255)-((P=P[G-1])>>24&255))<<24|Se((C>>16&255)+(Q>>16&255)-(P>>16&255))<<16|Se((C>>8&255)+(Q>>8&255)-(P>>8&255))<<8|Se((255&C)+(255&Q)-(255&P)))>>>0},I.Predictor13=function(C,P,G){var Q=P[G-1];return(gt((C=At(C,P[G+0]))>>24&255,Q>>24&255)<<24|gt(C>>16&255,Q>>16&255)<<16|gt(C>>8&255,Q>>8&255)<<8|gt(255&C,255&Q))>>>0};var Qf=I.PredictorAdd0;I.PredictorAdd1=Nt,bt("Predictor2","PredictorAdd2"),bt("Predictor3","PredictorAdd3"),bt("Predictor4","PredictorAdd4"),bt("Predictor5","PredictorAdd5"),bt("Predictor6","PredictorAdd6"),bt("Predictor7","PredictorAdd7"),bt("Predictor8","PredictorAdd8"),bt("Predictor9","PredictorAdd9"),bt("Predictor10","PredictorAdd10"),bt("Predictor11","PredictorAdd11"),bt("Predictor12","PredictorAdd12"),bt("Predictor13","PredictorAdd13");var Zf=I.PredictorAdd2;Pe("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),Pe("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var ni,a0=I.ColorIndexInverseTransform,Ul=I.MapARGB,Wl=I.VP8LColorIndexInverseTransformAlpha,ds=I.MapAlpha,Lc=I.VP8LPredictorsAdd=[];Lc.length=16,(I.VP8LPredictors=[]).length=16,(I.VP8LPredictorsAdd_C=[]).length=16,(I.VP8LPredictors_C=[]).length=16;var eh,th,Rc,Ic,Vl,Md,So,Fc,Ss,Wo,qn,Ln,ya,ai,Gl,gl,Od,jm,Hx,x1,y1,b1,zx,qx,Ed,Vo,Nm,ko,Dd=s(511),i0=s(2041),Sm=s(225),km=s(767),s0=0,$c=i0,Cm=Sm,ks=km,fs=Dd,o0=0,Cs=1,l0=2,Go=3,_m=4,rh=5,Su=6,Am=7,c0=8,nh=9,u0=10,Yo=[2,3,7],ah=[3,3,11],Pd=[280,256,256,256,40],d0=[0,1,1,1,0],Tm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ko=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ku=8,Xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Co=null,v1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Ux=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],f0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],w1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hs=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],ka=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Nn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Bs=[],Ya=[],xl=[],Cu=1,Wx=2,Bc=[],ms=[];Zs("UpsampleRgbLinePair",Td,3),Zs("UpsampleBgrLinePair",vu,3),Zs("UpsampleRgbaLinePair",Hl,4),Zs("UpsampleBgraLinePair",Jf,4),Zs("UpsampleArgbLinePair",ju,4),Zs("UpsampleRgba4444LinePair",wu,2),Zs("UpsampleRgb565LinePair",us,2);var Ld=I.UpsampleRgbLinePair,Vx=I.UpsampleBgrLinePair,ih=I.UpsampleRgbaLinePair,h0=I.UpsampleBgraLinePair,_u=I.UpsampleArgbLinePair,Yl=I.UpsampleRgba4444LinePair,Au=I.UpsampleRgb565LinePair,Zo=16,sh=1<<Zo-1,Rd=-227,Tu=482,m0=6,Mu=0,ps=s(256),p0=s(256),j1=s(256),$S=s(256),BS=s(Tu-Rd),HS=s(Tu-Rd);Ec("YuvToRgbRow",Td,3),Ec("YuvToBgrRow",vu,3),Ec("YuvToRgbaRow",Hl,4),Ec("YuvToBgraRow",Jf,4),Ec("YuvToArgbRow",ju,4),Ec("YuvToRgba4444Row",wu,2),Ec("YuvToRgb565Row",us,2);var ii=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],oh=[0,2,8],Mm=[8,7,6,4,4,2,2,2,1,1,1,1],Om=1;this.WebPDecodeRGBA=function(C,P,G,Q,ce){var me=Cs,xe=new at,je=new te;xe.ba=je,je.S=me,je.width=[je.width],je.height=[je.height];var Ce=je.width,Me=je.height,Ve=new Oe;if(Ve==null||C==null)var ut=2;else e(Ve!=null),ut=ml(C,P,G,Ve.width,Ve.height,Ve.Pd,Ve.Qd,Ve.format,null);if(ut!=0?Ce=0:(Ce!=null&&(Ce[0]=Ve.width[0]),Me!=null&&(Me[0]=Ve.height[0]),Ce=1),Ce){je.width=je.width[0],je.height=je.height[0],Q!=null&&(Q[0]=je.width),ce!=null&&(ce[0]=je.height);e:{if(Q=new jn,(ce=new Dt).data=C,ce.w=P,ce.ha=G,ce.kd=1,P=[0],e(ce!=null),((C=ml(ce.data,ce.w,ce.ha,null,null,null,P,null,ce))==0||C==7)&&P[0]&&(C=4),(P=C)==0){if(e(xe!=null),Q.data=ce.data,Q.w=ce.w+ce.offset,Q.ha=ce.ha-ce.offset,Q.put=Ue,Q.ac=Fe,Q.bc=Lt,Q.ma=xe,ce.xa){if((C=nt())==null){xe=1;break e}if((function(Te,Xe){var ot=[0],_t=[0],lt=[0];t:for(;;){if(Te==null)return 0;if(Xe==null)return Te.a=2,0;if(Te.l=Xe,Te.a=0,J(Te.m,Xe.data,Xe.w,Xe.ha),!zt(Te.m,ot,_t,lt)){Te.a=3;break t}if(Te.xb=Wx,Xe.width=ot[0],Xe.height=_t[0],!Tt(ot[0],_t[0],1,Te,null))break t;return 1}return e(Te.a!=0),0})(C,Q)){if(Q=(P=pl(Q.width,Q.height,xe.Oa,xe.ba))==0){t:{Q=C;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((G=Q.l)!=null),e((ce=G.ma)!=null),Q.xb!=0){if(Q.ca=ce.ba,Q.tb=ce.tb,e(Q.ca!=null),!Dc(ce.Oa,G,Go)){Q.a=2;break r}if(!de(Q,G.width)||G.da)break r;if((G.da||pt(Q.ca.S))&&Uo(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Uo()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!ie(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!Zt(Q,Q.V,Q.Ba,Q.c,Q.i,G.o,gn))break r;ce.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(P=C.a)}else P=C.a}else{if((C=new Tn)==null){xe=1;break e}if(C.Fa=ce.na,C.P=ce.P,C.qc=ce.Sa,Cc(C,Q)){if((P=pl(Q.width,Q.height,xe.Oa,xe.ba))==0){if(C.Aa=0,G=xe.Oa,e((ce=C)!=null),G!=null){if(0<(Ce=0>(Ce=G.Md)?0:100<Ce?255:255*Ce/100)){for(Me=Ve=0;4>Me;++Me)12>(ut=ce.pb[Me]).lc&&(ut.ia=Ce*Mm[0>ut.lc?0:ut.lc]>>3),Ve|=ut.ia;Ve&&(alert("todo:VP8InitRandom"),ce.ia=1)}ce.Ga=G.Id,100<ce.Ga?ce.Ga=100:0>ce.Ga&&(ce.Ga=0)}(function(Te,Xe){if(Te==null)return 0;if(Xe==null)return en(Te,2,"NULL VP8Io parameter in VP8Decode().");if(!Te.cb&&!Cc(Te,Xe))return 0;if(e(Te.cb),Xe.ac==null||Xe.ac(Xe)){Xe.ob&&(Te.L=0);var ot=oh[Te.L];if(Te.L==2?(Te.yb=0,Te.zb=0):(Te.yb=Xe.v-ot>>4,Te.zb=Xe.j-ot>>4,0>Te.yb&&(Te.yb=0),0>Te.zb&&(Te.zb=0)),Te.Va=Xe.o+15+ot>>4,Te.Hb=Xe.va+15+ot>>4,Te.Hb>Te.za&&(Te.Hb=Te.za),Te.Va>Te.Ub&&(Te.Va=Te.Ub),0<Te.L){var _t=Te.ed;for(ot=0;4>ot;++ot){var lt;if(Te.Qa.Cb){var Ct=Te.Qa.Lb[ot];Te.Qa.Fb||(Ct+=_t.Tb)}else Ct=_t.Tb;for(lt=0;1>=lt;++lt){var Pt=Te.gd[ot][lt],Gt=Ct;if(_t.Pc&&(Gt+=_t.vd[0],lt&&(Gt+=_t.od[0])),0<(Gt=0>Gt?0:63<Gt?63:Gt)){var $t=Gt;0<_t.wb&&($t=4<_t.wb?$t>>2:$t>>1)>9-_t.wb&&($t=9-_t.wb),1>$t&&($t=1),Pt.dd=$t,Pt.tc=2*Gt+$t,Pt.ld=40<=Gt?2:15<=Gt?1:0}else Pt.tc=0;Pt.La=lt}}}ot=0}else en(Te,6,"Frame setup failed"),ot=Te.a;if(ot=ot==0){if(ot){Te.$c=0,0<Te.Aa||(Te.Ic=Om);t:{ot=Te.Ic,_t=4*($t=Te.za);var br=32*$t,dr=$t+1,Qr=0<Te.L?$t*(0<Te.Aa?2:1):0,mr=(Te.Aa==2?2:1)*$t;if((Pt=_t+832+(lt=3*(16*ot+oh[Te.L])/2*br)+(Ct=Te.Fa!=null&&0<Te.Fa.length?Te.Kc.c*Te.Kc.i:0))!=Pt)ot=0;else{if(Pt>Te.Vb){if(Te.Vb=0,Te.Ec=s(Pt),Te.Fc=0,Te.Ec==null){ot=en(Te,1,"no memory during frame initialization.");break t}Te.Vb=Pt}Pt=Te.Ec,Gt=Te.Fc,Te.Ac=Pt,Te.Bc=Gt,Gt+=_t,Te.Gd=o(br,Fs),Te.Hd=0,Te.rb=o(dr+1,ur),Te.sb=1,Te.wa=Qr?o(Qr,jr):null,Te.Y=0,Te.D.Nb=0,Te.D.wa=Te.wa,Te.D.Y=Te.Y,0<Te.Aa&&(Te.D.Y+=$t),e(!0),Te.oc=Pt,Te.pc=Gt,Gt+=832,Te.ya=o(mr,pa),Te.aa=0,Te.D.ya=Te.ya,Te.D.aa=Te.aa,Te.Aa==2&&(Te.D.aa+=$t),Te.R=16*$t,Te.B=8*$t,$t=(br=oh[Te.L])*Te.R,br=br/2*Te.B,Te.sa=Pt,Te.ta=Gt+$t,Te.qa=Te.sa,Te.ra=Te.ta+16*ot*Te.R+br,Te.Ha=Te.qa,Te.Ia=Te.ra+8*ot*Te.B+br,Te.$c=0,Gt+=lt,Te.mb=Ct?Pt:null,Te.nb=Ct?Gt:null,e(Gt+Ct<=Te.Fc+Te.Vb),bo(Te),a(Te.Ac,Te.Bc,0,_t),ot=1}}if(ot){if(Xe.ka=0,Xe.y=Te.sa,Xe.O=Te.ta,Xe.f=Te.qa,Xe.N=Te.ra,Xe.ea=Te.Ha,Xe.Vd=Te.Ia,Xe.fa=Te.R,Xe.Rc=Te.B,Xe.F=null,Xe.J=0,!s0){for(ot=-255;255>=ot;++ot)Dd[255+ot]=0>ot?-ot:ot;for(ot=-1020;1020>=ot;++ot)i0[1020+ot]=-128>ot?-128:127<ot?127:ot;for(ot=-112;112>=ot;++ot)Sm[112+ot]=-16>ot?-16:15<ot?15:ot;for(ot=-255;510>=ot;++ot)km[255+ot]=0>ot?0:255<ot?255:ot;s0=1}So=se,Fc=Wf,Wo=vd,qn=as,Ln=wd,Ss=bd,ya=e0,ai=t0,Gl=q,gl=le,Od=Oc,jm=r0,Hx=Ee,x1=qe,y1=Cd,b1=Tc,zx=bu,qx=_d,Ya[0]=ym,Ya[1]=Ie,Ya[2]=yu,Ya[3]=Qp,Ya[4]=Zp,Ya[5]=ls,Ya[6]=vo,Ya[7]=bm,Ya[8]=wo,Ya[9]=Nd,Bs[0]=Oi,Bs[1]=cn,Bs[2]=xn,Bs[3]=is,Bs[4]=Ei,Bs[5]=Rl,Bs[6]=jd,xl[0]=_c,xl[1]=Qt,xl[2]=Sd,xl[3]=Il,xl[4]=Gf,xl[5]=Vf,xl[6]=Vi,ot=1}else ot=0}ot&&(ot=(function(wn,Ca){for(wn.M=0;wn.M<wn.Va;++wn.M){var an,fr=wn.Jc[wn.M&wn.Xb],tr=wn.m,Fa=wn;for(an=0;an<Fa.za;++an){var Br=tr,ln=Fa,Jn=ln.Ac,Pi=ln.Bc+4*an,gs=ln.zc,ba=ln.ya[ln.aa+an];if(ln.Qa.Bb?ba.$b=ke(Br,ln.Pa.jb[0])?2+ke(Br,ln.Pa.jb[2]):ke(Br,ln.Pa.jb[1]):ba.$b=0,ln.kc&&(ba.Ad=ke(Br,ln.Bd)),ba.Za=!ke(Br,145)+0,ba.Za){var hi=ba.Ob,_s=0;for(ln=0;4>ln;++ln){var mi,hn=gs[0+ln];for(mi=0;4>mi;++mi){hn=hs[Jn[Pi+mi]][hn];for(var Fn=f0[ke(Br,hn[0])];0<Fn;)Fn=f0[2*Fn+ke(Br,hn[Fn])];hn=-Fn,Jn[Pi+mi]=hn}n(hi,_s,Jn,Pi,4),_s+=4,gs[0+ln]=hn}}else hn=ke(Br,156)?ke(Br,128)?1:3:ke(Br,163)?2:0,ba.Ob[0]=hn,a(Jn,Pi,hn,4),a(gs,0,hn,4);ba.Dd=ke(Br,142)?ke(Br,114)?ke(Br,183)?1:3:2:0}if(Fa.m.Ka)return en(wn,7,"Premature end-of-partition0 encountered.");for(;wn.ja<wn.za;++wn.ja){if(Fa=fr,Br=(tr=wn).rb[tr.sb-1],Jn=tr.rb[tr.sb+tr.ja],an=tr.ya[tr.aa+tr.ja],Pi=tr.kc?an.Ad:0)Br.la=Jn.la=0,an.Za||(Br.Na=Jn.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var $a,Un;if(Br=Jn,Jn=Fa,Pi=tr.Pa.Xc,gs=tr.ya[tr.aa+tr.ja],ba=tr.pb[gs.$b],ln=gs.ad,hi=0,_s=tr.rb[tr.sb-1],hn=mi=0,a(ln,hi,0,384),gs.Za)var Li=0,Ba=Pi[3];else{Fn=s(16);var $n=Br.Na+_s.Na;if($n=Co(Jn,Pi[1],$n,ba.Eb,0,Fn,0),Br.Na=_s.Na=(0<$n)+0,1<$n)So(Fn,0,ln,hi);else{var si=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)ln[hi+Fn]=si}Li=1,Ba=Pi[0]}var Xn=15&Br.la,pi=15&_s.la;for(Fn=0;4>Fn;++Fn){var gi=1&pi;for(si=Un=0;4>si;++si)Xn=Xn>>1|(gi=($n=Co(Jn,Ba,$n=gi+(1&Xn),ba.Sc,Li,ln,hi))>Li)<<7,Un=Un<<2|(3<$n?3:1<$n?2:ln[hi+0]!=0),hi+=16;Xn>>=4,pi=pi>>1|gi<<7,mi=(mi<<8|Un)>>>0}for(Ba=Xn,Li=pi>>4,$a=0;4>$a;$a+=2){for(Un=0,Xn=Br.la>>4+$a,pi=_s.la>>4+$a,Fn=0;2>Fn;++Fn){for(gi=1&pi,si=0;2>si;++si)$n=gi+(1&Xn),Xn=Xn>>1|(gi=0<($n=Co(Jn,Pi[2],$n,ba.Qc,0,ln,hi)))<<3,Un=Un<<2|(3<$n?3:1<$n?2:ln[hi+0]!=0),hi+=16;Xn>>=2,pi=pi>>1|gi<<5}hn|=Un<<4*$a,Ba|=Xn<<4<<$a,Li|=(240&pi)<<$a}Br.la=Ba,_s.la=Li,gs.Hc=mi,gs.Gc=hn,gs.ia=43690&hn?0:ba.ia,Pi=!(mi|hn)}if(0<tr.L&&(tr.wa[tr.Y+tr.ja]=tr.gd[an.$b][an.Za],tr.wa[tr.Y+tr.ja].La|=!Pi),Fa.Ka)return en(wn,7,"Premature end-of-file encountered.")}if(bo(wn),tr=Ca,Fa=1,an=(fr=wn).D,Br=0<fr.L&&fr.M>=fr.zb&&fr.M<=fr.Va,fr.Aa==0)t:{if(an.M=fr.M,an.uc=Br,No(fr,an),Fa=1,an=(Un=fr.D).Nb,Br=(hn=oh[fr.L])*fr.R,Jn=hn/2*fr.B,Fn=16*an*fr.R,si=8*an*fr.B,Pi=fr.sa,gs=fr.ta-Br+Fn,ba=fr.qa,ln=fr.ra-Jn+si,hi=fr.Ha,_s=fr.Ia-Jn+si,pi=(Xn=Un.M)==0,mi=Xn>=fr.Va-1,fr.Aa==2&&No(fr,Un),Un.uc)for(gi=($n=fr).D.M,e($n.D.uc),Un=$n.yb;Un<$n.Hb;++Un){Li=Un,Ba=gi;var la=(Rn=(xi=$n).D).Nb;$a=xi.R;var Rn=Rn.wa[Rn.Y+Li],As=xi.sa,Ka=xi.ta+16*la*$a+16*Li,Or=Rn.dd,Er=Rn.tc;if(Er!=0)if(e(3<=Er),xi.L==1)0<Li&&b1(As,Ka,$a,Er+4),Rn.La&&qx(As,Ka,$a,Er),0<Ba&&y1(As,Ka,$a,Er+4),Rn.La&&zx(As,Ka,$a,Er);else{var Bn=xi.B,to=xi.qa,el=xi.ra+8*la*Bn+8*Li,Hs=xi.Ha,xi=xi.Ia+8*la*Bn+8*Li;la=Rn.ld,0<Li&&(ai(As,Ka,$a,Er+4,Or,la),gl(to,el,Hs,xi,Bn,Er+4,Or,la)),Rn.La&&(jm(As,Ka,$a,Er,Or,la),x1(to,el,Hs,xi,Bn,Er,Or,la)),0<Ba&&(ya(As,Ka,$a,Er+4,Or,la),Gl(to,el,Hs,xi,Bn,Er+4,Or,la)),Rn.La&&(Od(As,Ka,$a,Er,Or,la),Hx(to,el,Hs,xi,Bn,Er,Or,la))}}if(fr.ia&&alert("todo:DitherRow"),tr.put!=null){if(Un=16*Xn,Xn=16*(Xn+1),pi?(tr.y=fr.sa,tr.O=fr.ta+Fn,tr.f=fr.qa,tr.N=fr.ra+si,tr.ea=fr.Ha,tr.W=fr.Ia+si):(Un-=hn,tr.y=Pi,tr.O=gs,tr.f=ba,tr.N=ln,tr.ea=hi,tr.W=_s),mi||(Xn-=hn),Xn>tr.o&&(Xn=tr.o),tr.F=null,tr.J=null,fr.Fa!=null&&0<fr.Fa.length&&Un<Xn&&(tr.J=ri(fr,tr,Un,Xn-Un),tr.F=fr.mb,tr.F==null&&tr.F.length==0)){Fa=en(fr,3,"Could not decode alpha data.");break t}Un<tr.j&&(hn=tr.j-Un,Un=tr.j,e(!(1&hn)),tr.O+=fr.R*hn,tr.N+=fr.B*(hn>>1),tr.W+=fr.B*(hn>>1),tr.F!=null&&(tr.J+=tr.width*hn)),Un<Xn&&(tr.O+=tr.v,tr.N+=tr.v>>1,tr.W+=tr.v>>1,tr.F!=null&&(tr.J+=tr.v),tr.ka=Un-tr.j,tr.U=tr.va-tr.v,tr.T=Xn-Un,Fa=tr.put(tr))}an+1!=fr.Ic||mi||(n(fr.sa,fr.ta-Br,Pi,gs+16*fr.R,Br),n(fr.qa,fr.ra-Jn,ba,ln+8*fr.B,Jn),n(fr.Ha,fr.Ia-Jn,hi,_s+8*fr.B,Jn))}if(!Fa)return en(wn,6,"Output aborted.")}return 1})(Te,Xe)),Xe.bc!=null&&Xe.bc(Xe),ot&=1}return ot?(Te.cb=0,ot):0})(C,Q)||(P=C.a)}}else P=C.a}P==0&&xe.Oa!=null&&xe.Oa.fd&&(P=wm(xe.ba))}xe=P}me=xe!=0?null:11>me?je.f.RGBA.eb:je.f.kb.y}else me=null;return me};var g0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(I,B){for(var D="",E=0;E<4;E++)D+=String.fromCharCode(I[B++]);return D}function f(I,B){return I[B+0]|I[B+1]<<8}function m(I,B){return(I[B+0]|I[B+1]<<8|I[B+2]<<16)>>>0}function g(I,B){return(I[B+0]|I[B+1]<<8|I[B+2]<<16|I[B+3]<<24)>>>0}new c;var p=[0],v=[0],w=[],b=new c,N=t,k=(function(I,B){var D={},E=0,H=!1,V=0,Y=0;if(D.frames=[],!(function(U,X){for(var Z=0;Z<4;Z++)if(U[X+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(I,B)){for(g(I,B+=4),B+=8;B<I.length;){var W=u(I,B),F=g(I,B+=4);B+=4;var z=F+(1&F);switch(W){case"VP8 ":case"VP8L":D.frames[E]===void 0&&(D.frames[E]={}),(K=D.frames[E]).src_off=H?Y:B-8,K.src_size=V+F+8,E++,H&&(H=!1,V=0,Y=0);break;case"VP8X":(K=D.header={}).feature_flags=I[B];var J=B+4;K.canvas_width=1+m(I,J),J+=3,K.canvas_height=1+m(I,J),J+=3;break;case"ALPH":H=!0,V=z+8,Y=B-8;break;case"ANIM":(K=D.header).bgcolor=g(I,B),J=B+4,K.loop_count=f(I,J),J+=2;break;case"ANMF":var oe,K;(K=D.frames[E]={}).offset_x=2*m(I,B),B+=3,K.offset_y=2*m(I,B),B+=3,K.width=1+m(I,B),B+=3,K.height=1+m(I,B),B+=3,K.duration=m(I,B),B+=3,oe=I[B++],K.dispose=1&oe,K.blend=oe>>1&1}W!="ANMF"&&(B+=z)}return D}})(N,0);k.response=N,k.rgbaoutput=!0,k.dataurl=!1;var S=k.header?k.header:null,A=k.frames?k.frames:null;if(S){S.loop_counter=S.loop_count,p=[S.canvas_height],v=[S.canvas_width];for(var _=0;_<A.length&&A[_].blend!=0;_++);}var M=A[0],R=b.WebPDecodeRGBA(N,M.src_off,M.src_size,v,p);M.rgba=R,M.imgwidth=v[0],M.imgheight=p[0];for(var L=0;L<v[0]*p[0]*4;L++)w[L]=R[L];return this.width=v,this.height=p,this.data=w,this}(function(t){var e,r,n,a,s,o,l,c,u,f=function(U){return U=U||{},this.isStrokeTransparent=U.isStrokeTransparent||!1,this.strokeOpacity=U.strokeOpacity||1,this.strokeStyle=U.strokeStyle||"#000000",this.fillStyle=U.fillStyle||"#000000",this.isFillTransparent=U.isFillTransparent||!1,this.fillOpacity=U.fillOpacity||1,this.font=U.font||"10px sans-serif",this.textBaseline=U.textBaseline||"alphabetic",this.textAlign=U.textAlign||"left",this.lineWidth=U.lineWidth||1,this.lineJoin=U.lineJoin||"miter",this.lineCap=U.lineCap||"butt",this.path=U.path||[],this.transform=U.transform!==void 0?U.transform.clone():new c,this.globalCompositeOperation=U.globalCompositeOperation||"normal",this.globalAlpha=U.globalAlpha||1,this.clip_path=U.clip_path||[],this.currentPoint=U.currentPoint||new o,this.miterLimit=U.miterLimit||10,this.lastPoint=U.lastPoint||new o,this.lineDashOffset=U.lineDashOffset||0,this.lineDash=U.lineDash||[],this.margin=U.margin||[0,0,0,0],this.prevPageLastElemOffset=U.prevPageLastElemOffset||0,this.ignoreClearRect=typeof U.ignoreClearRect!="boolean"||U.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,u=new f}]);var m=function(U){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var X=U;Object.defineProperty(this,"pdf",{get:function(){return X}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(ae){Z=!!ae}});var ne=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ne},set:function(ae){ne=!!ae}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(ae){isNaN(ae)||(ue=ae)}});var _e=0;Object.defineProperty(this,"posY",{get:function(){return _e},set:function(ae){isNaN(ae)||(_e=ae)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(ae){var ie;typeof ae=="number"?ie=[ae,ae,ae,ae]:((ie=new Array(4))[0]=ae[0],ie[1]=ae.length>=2?ae[1]:ie[0],ie[2]=ae.length>=3?ae[2]:ie[0],ie[3]=ae.length>=4?ae[3]:ie[1]),u.margin=ie}});var Ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Ne},set:function(ae){Ne=ae}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(ae){ge=ae}});var ke=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ke},set:function(ae){ke=ae}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(ae){ae instanceof f&&(u=ae)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(ae){u.path=ae}});var ze=[];Object.defineProperty(this,"ctxStack",{get:function(){return ze},set:function(ae){ze=ae}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(ae){var ie;ie=g(ae),this.ctx.fillStyle=ie.style,this.ctx.isFillTransparent=ie.a===0,this.ctx.fillOpacity=ie.a,this.pdf.setFillColor(ie.r,ie.g,ie.b,{a:ie.a}),this.pdf.setTextColor(ie.r,ie.g,ie.b,{a:ie.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(ae){var ie=g(ae);this.ctx.strokeStyle=ie.style,this.ctx.isStrokeTransparent=ie.a===0,this.ctx.strokeOpacity=ie.a,ie.a===0?this.pdf.setDrawColor(255,255,255):(ie.a,this.pdf.setDrawColor(ie.r,ie.g,ie.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(ae){["butt","round","square"].indexOf(ae)!==-1&&(this.ctx.lineCap=ae,this.pdf.setLineCap(ae))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(ae){isNaN(ae)||(this.ctx.lineWidth=ae,this.pdf.setLineWidth(ae))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(ae){["bevel","round","miter"].indexOf(ae)!==-1&&(this.ctx.lineJoin=ae,this.pdf.setLineJoin(ae))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(ae){isNaN(ae)||(this.ctx.miterLimit=ae,this.pdf.setMiterLimit(ae))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(ae){this.ctx.textBaseline=ae}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(ae){["right","end","center","left","start"].indexOf(ae)!==-1&&(this.ctx.textAlign=ae)}});var he=null,ye=null;Object.defineProperty(this,"fontFaces",{get:function(){return ye},set:function(ae){he=null,ye=ae}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(ae){var ie;if(this.ctx.font=ae,(ie=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(ae))!==null){var dt=ie[1];ie[2];var ct=ie[3],Le=ie[4];ie[5];var Qe=ie[6],yt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Le)[2];Le=Math.floor(yt==="px"?parseFloat(Le)*this.pdf.internal.scaleFactor:yt==="em"?parseFloat(Le)*this.pdf.getFontSize():parseFloat(Le)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Le);var bt=(function(vt){var Pe,$e,Ae=[],Ye=vt.trim();if(Ye==="")return WT;if(Ye in uG)return[uG[Ye]];for(;Ye!=="";){switch($e=null,Pe=(Ye=fG(Ye)).charAt(0)){case'"':case"'":$e=sqe(Ye.substring(1),Pe);break;default:$e=oqe(Ye)}if($e===null||(Ae.push($e[0]),(Ye=fG($e[1]))!==""&&Ye.charAt(0)!==","))return WT;Ye=Ye.replace(/^,/,"")}return Ae})(Qe);if(this.fontFaces){var It=(function(vt,Pe){if(he===null){var $e=(function(Ae){var Ye=[];return Object.keys(Ae).forEach(function(tt){Ae[tt].forEach(function(ve){var pe=null;switch(ve){case"bold":pe={family:tt,weight:"bold"};break;case"italic":pe={family:tt,style:"italic"};break;case"bolditalic":pe={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":pe={family:tt}}pe!==null&&(pe.ref={name:tt,style:ve},Ye.push(pe))})}),Ye})(vt.getFontList());he=(function(Ae){for(var Ye={},tt=0;tt<Ae.length;++tt){var ve=UT(Ae[tt]),pe=ve.family,We=ve.stretch,pt=ve.style,Je=ve.weight;Ye[pe]=Ye[pe]||{},Ye[pe][We]=Ye[pe][We]||{},Ye[pe][We][pt]=Ye[pe][We][pt]||{},Ye[pe][We][pt][Je]=ve}return Ye})($e.concat(Pe))}return he})(this.pdf,this.fontFaces),At=bt.map(function(vt){return{family:vt,stretch:"normal",weight:ct,style:dt}}),Se=(function(vt,Pe,$e){for(var Ae=($e=$e||{}).defaultFontFamily||"times",Ye=Object.assign({},iqe,$e.genericFontFamilies||{}),tt=null,ve=null,pe=0;pe<Pe.length;++pe)if(Ye[(tt=UT(Pe[pe])).family]&&(tt.family=Ye[tt.family]),vt.hasOwnProperty(tt.family)){ve=vt[tt.family];break}if(!(ve=ve||vt[Ae]))throw new Error("Could not find a font-family for the rule '"+dG(tt)+"' and default family '"+Ae+"'.");if(ve=(function(We,pt){if(pt[We])return pt[We];var Je=Q6[We],we=Je<=Q6.normal?-1:1,te=cG(pt,fae,Je,we);if(!te)throw new Error("Could not find a matching font-stretch value for "+We);return te})(tt.stretch,ve),ve=(function(We,pt){if(pt[We])return pt[We];for(var Je=dae[We],we=0;we<Je.length;++we)if(pt[Je[we]])return pt[Je[we]];throw new Error("Could not find a matching font-style for "+We)})(tt.style,ve),!(ve=(function(We,pt){if(pt[We])return pt[We];if(We===400&&pt[500])return pt[500];if(We===500&&pt[400])return pt[400];var Je=aqe[We],we=cG(pt,hae,Je,We<400?-1:1);if(!we)throw new Error("Could not find a matching font-weight for value "+We);return we})(tt.weight,ve)))throw new Error("Failed to resolve a font for the rule '"+dG(tt)+"'.");return ve})(It,At);this.pdf.setFont(Se.ref.name,Se.ref.style)}else{var gt="";(ct==="bold"||parseInt(ct,10)>=700||dt==="bold")&&(gt="bold"),dt==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var rt="",Nt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},kt=0;kt<bt.length;kt++){if(this.pdf.internal.getFont(bt[kt],gt,{noFallback:!0,disableWarning:!0})!==void 0){rt=bt[kt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(bt[kt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)rt=bt[kt],gt="bold";else if(this.pdf.internal.getFont(bt[kt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){rt=bt[kt],gt="normal";break}}if(rt===""){for(var De=0;De<bt.length;De++)if(Nt[bt[De]]){rt=Nt[bt[De]];break}}rt=rt===""?"Times":rt,this.pdf.setFont(rt,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(ae){this.ctx.globalCompositeOperation=ae}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(ae){this.ctx.globalAlpha=ae}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(ae){this.ctx.lineDashOffset=ae,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(ae){this.ctx.lineDash=ae,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(ae){this.ctx.ignoreClearRect=!!ae}})};m.prototype.setLineDash=function(U){this.lineDash=U},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){A.call(this,"fill",!1)},m.prototype.stroke=function(){A.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(U,X){if(isNaN(U)||isNaN(X))throw Aa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(U,X)},m.prototype.closePath=function(){var U=new o(0,0),X=0;for(X=this.path.length-1;X!==-1;X--)if(this.path[X].type==="begin"&&Hn(this.path[X+1])==="object"&&typeof this.path[X+1].x=="number"){U=new o(this.path[X+1].x,this.path[X+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(U.x,U.y)},m.prototype.lineTo=function(U,X){if(isNaN(U)||isNaN(X))throw Aa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},m.prototype.quadraticCurveTo=function(U,X,Z,ne){if(isNaN(Z)||isNaN(ne)||isNaN(U)||isNaN(X))throw Aa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Z,ne)),_e=this.ctx.transform.applyToPoint(new o(U,X));this.path.push({type:"qct",x1:_e.x,y1:_e.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},m.prototype.bezierCurveTo=function(U,X,Z,ne,ue,_e){if(isNaN(ue)||isNaN(_e)||isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne))throw Aa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ne=this.ctx.transform.applyToPoint(new o(ue,_e)),ge=this.ctx.transform.applyToPoint(new o(U,X)),ke=this.ctx.transform.applyToPoint(new o(Z,ne));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:ke.x,y2:ke.y,x:Ne.x,y:Ne.y}),this.ctx.lastPoint=new o(Ne.x,Ne.y)},m.prototype.arc=function(U,X,Z,ne,ue,_e){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne)||isNaN(ue))throw Aa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(_e=!!_e,!this.ctx.transform.isIdentity){var Ne=this.ctx.transform.applyToPoint(new o(U,X));U=Ne.x,X=Ne.y;var ge=this.ctx.transform.applyToPoint(new o(0,Z)),ke=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(ge.x-ke.x,2)+Math.pow(ge.y-ke.y,2))}Math.abs(ue-ne)>=2*Math.PI&&(ne=0,ue=2*Math.PI),this.path.push({type:"arc",x:U,y:X,radius:Z,startAngle:ne,endAngle:ue,counterclockwise:_e})},m.prototype.arcTo=function(U,X,Z,ne,ue){throw new Error("arcTo not implemented.")},m.prototype.rect=function(U,X,Z,ne){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne))throw Aa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(U,X),this.lineTo(U+Z,X),this.lineTo(U+Z,X+ne),this.lineTo(U,X+ne),this.lineTo(U,X),this.lineTo(U+Z,X),this.lineTo(U,X)},m.prototype.fillRect=function(U,X,Z,ne){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne))throw Aa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!p.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(U,X,Z,ne),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},m.prototype.strokeRect=function(U,X,Z,ne){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne))throw Aa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(U,X,Z,ne),this.stroke())},m.prototype.clearRect=function(U,X,Z,ne){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne))throw Aa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(U,X,Z,ne))},m.prototype.save=function(U){U=typeof U!="boolean"||U;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(X),U){this.ctx.fontSize=this.pdf.internal.getFontSize();var ne=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ne}},m.prototype.restore=function(U){U=typeof U!="boolean"||U;for(var X=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(X),U&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var g=function(U){var X,Z,ne,ue;if(U.isCanvasGradient===!0&&(U=U.getColor()),!U)return{r:0,g:0,b:0,a:0,style:U};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(U))X=0,Z=0,ne=0,ue=0;else{var _e=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(U);if(_e!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),ne=parseInt(_e[3]),ue=1;else if((_e=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(U))!==null)X=parseInt(_e[1]),Z=parseInt(_e[2]),ne=parseInt(_e[3]),ue=parseFloat(_e[4]);else{if(ue=1,typeof U=="string"&&U.charAt(0)!=="#"){var Ne=new aae(U);U=Ne.ok?Ne.toHex():"#000000"}U.length===4?(X=U.substring(1,2),X+=X,Z=U.substring(2,3),Z+=Z,ne=U.substring(3,4),ne+=ne):(X=U.substring(1,3),Z=U.substring(3,5),ne=U.substring(5,7)),X=parseInt(X,16),Z=parseInt(Z,16),ne=parseInt(ne,16)}}return{r:X,g:Z,b:ne,a:ue,style:U}},p=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(U,X,Z,ne){if(isNaN(X)||isNaN(Z)||typeof U!="string")throw Aa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ne=isNaN(ne)?void 0:ne,!p.call(this)){var ue=z(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;E.call(this,{text:U,x:X,y:Z,scale:_e,angle:ue,align:this.textAlign,maxWidth:ne})}},m.prototype.strokeText=function(U,X,Z,ne){if(isNaN(X)||isNaN(Z)||typeof U!="string")throw Aa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ne=isNaN(ne)?void 0:ne;var ue=z(this.ctx.transform.rotation),_e=this.ctx.transform.scaleX;E.call(this,{text:U,x:X,y:Z,scale:_e,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ne})}},m.prototype.measureText=function(U){if(typeof U!="string")throw Aa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var X=this.pdf,Z=this.pdf.internal.scaleFactor,ne=X.internal.getFontSize(),ue=X.getStringUnitWidth(U)*ne/X.internal.scaleFactor;return new function(_e){var Ne=(_e=_e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Ne}}),this}({width:ue*=Math.round(96*Z/72*1e4)/1e4})},m.prototype.scale=function(U,X){if(isNaN(U)||isNaN(X))throw Aa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(U,0,0,X,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.rotate=function(U){if(isNaN(U))throw Aa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var X=new c(Math.cos(U),Math.sin(U),-Math.sin(U),Math.cos(U),0,0);this.ctx.transform=this.ctx.transform.multiply(X)},m.prototype.translate=function(U,X){if(isNaN(U)||isNaN(X))throw Aa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,U,X);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.transform=function(U,X,Z,ne,ue,_e){if(isNaN(U)||isNaN(X)||isNaN(Z)||isNaN(ne)||isNaN(ue)||isNaN(_e))throw Aa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ne=new c(U,X,Z,ne,ue,_e);this.ctx.transform=this.ctx.transform.multiply(Ne)},m.prototype.setTransform=function(U,X,Z,ne,ue,_e){U=isNaN(U)?1:U,X=isNaN(X)?0:X,Z=isNaN(Z)?0:Z,ne=isNaN(ne)?1:ne,ue=isNaN(ue)?0:ue,_e=isNaN(_e)?0:_e,this.ctx.transform=new c(U,X,Z,ne,ue,_e)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(U,X,Z,ne,ue,_e,Ne,ge,ke){var ze=this.pdf.getImageProperties(U),he=1,ye=1,ae=1,ie=1;ne!==void 0&&ge!==void 0&&(ae=ge/ne,ie=ke/ue,he=ze.width/ne*ge/ne,ye=ze.height/ue*ke/ue),_e===void 0&&(_e=X,Ne=Z,X=0,Z=0),ne!==void 0&&ge===void 0&&(ge=ne,ke=ue),ne===void 0&&ge===void 0&&(ge=ze.width,ke=ze.height);for(var dt,ct=this.ctx.transform.decompose(),Le=z(ct.rotate.shx),Qe=new c,yt=(Qe=(Qe=(Qe=Qe.multiply(ct.translate)).multiply(ct.skew)).multiply(ct.scale)).applyToRectangle(new l(_e-X*ae,Ne-Z*ie,ne*he,ue*ye)),bt=b.call(this,yt),It=[],At=0;At<bt.length;At+=1)It.indexOf(bt[At])===-1&&It.push(bt[At]);if(S(It),this.autoPaging)for(var Se=It[0],gt=It[It.length-1],rt=Se;rt<gt+1;rt++){this.pdf.setPage(rt);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],kt=rt===1?this.posY+this.margin[0]:this.margin[0],De=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],vt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Pe=rt===1?0:De+(rt-2)*vt;if(this.ctx.clip_path.length!==0){var $e=this.path;dt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(dt,this.posX+this.margin[3],-Pe+kt+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=$e}var Ae=JSON.parse(JSON.stringify(yt));Ae=k([Ae],this.posX+this.margin[3],-Pe+kt+this.ctx.prevPageLastElemOffset)[0];var Ye=(rt>Se||rt<gt)&&w.call(this);Ye&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,vt,null).clip().discardPath()),this.pdf.addImage(U,"JPEG",Ae.x,Ae.y,Ae.w,Ae.h,null,null,Le),Ye&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(U,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Le)};var b=function(U,X,Z){var ne=[];X=X||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(U.type){default:case"mt":case"lt":ne.push(Math.floor((U.y+ue)/Z)+1);break;case"arc":ne.push(Math.floor((U.y+ue-U.radius)/Z)+1),ne.push(Math.floor((U.y+ue+U.radius)/Z)+1);break;case"qct":var _e=J(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x,U.y);ne.push(Math.floor((_e.y+ue)/Z)+1),ne.push(Math.floor((_e.y+_e.h+ue)/Z)+1);break;case"bct":var Ne=oe(this.ctx.lastPoint.x,this.ctx.lastPoint.y,U.x1,U.y1,U.x2,U.y2,U.x,U.y);ne.push(Math.floor((Ne.y+ue)/Z)+1),ne.push(Math.floor((Ne.y+Ne.h+ue)/Z)+1);break;case"rect":ne.push(Math.floor((U.y+ue)/Z)+1),ne.push(Math.floor((U.y+U.h+ue)/Z)+1)}for(var ge=0;ge<ne.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<ne[ge];)N.call(this);return ne},N=function(){var U=this.fillStyle,X=this.strokeStyle,Z=this.font,ne=this.lineCap,ue=this.lineWidth,_e=this.lineJoin;this.pdf.addPage(),this.fillStyle=U,this.strokeStyle=X,this.font=Z,this.lineCap=ne,this.lineWidth=ue,this.lineJoin=_e},k=function(U,X,Z){for(var ne=0;ne<U.length;ne++)switch(U[ne].type){case"bct":U[ne].x2+=X,U[ne].y2+=Z;case"qct":U[ne].x1+=X,U[ne].y1+=Z;default:U[ne].x+=X,U[ne].y+=Z}return U},S=function(U){return U.sort(function(X,Z){return X-Z})},A=function(U,X){for(var Z,ne,ue=this.fillStyle,_e=this.strokeStyle,Ne=this.lineCap,ge=this.lineWidth,ke=Math.abs(ge*this.ctx.transform.scaleX),ze=this.lineJoin,he=JSON.parse(JSON.stringify(this.path)),ye=JSON.parse(JSON.stringify(this.path)),ae=[],ie=0;ie<ye.length;ie++)if(ye[ie].x!==void 0)for(var dt=b.call(this,ye[ie]),ct=0;ct<dt.length;ct+=1)ae.indexOf(dt[ct])===-1&&ae.push(dt[ct]);for(var Le=0;Le<ae.length;Le++)for(;this.pdf.internal.getNumberOfPages()<ae[Le];)N.call(this);if(S(ae),this.autoPaging)for(var Qe=ae[0],yt=ae[ae.length-1],bt=Qe;bt<yt+1;bt++){this.pdf.setPage(bt),this.fillStyle=ue,this.strokeStyle=_e,this.lineCap=Ne,this.lineWidth=ke,this.lineJoin=ze;var It=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],At=bt===1?this.posY+this.margin[0]:this.margin[0],Se=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],gt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],rt=bt===1?0:Se+(bt-2)*gt;if(this.ctx.clip_path.length!==0){var Nt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Z,this.posX+this.margin[3],-rt+At+this.ctx.prevPageLastElemOffset),_.call(this,U,!0),this.path=Nt}if(ne=JSON.parse(JSON.stringify(he)),this.path=k(ne,this.posX+this.margin[3],-rt+At+this.ctx.prevPageLastElemOffset),X===!1||bt===0){var kt=(bt>Qe||bt<yt)&&w.call(this);kt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],It,gt,null).clip().discardPath()),_.call(this,U,X),kt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=ke,_.call(this,U,X),this.lineWidth=ge;this.path=he},_=function(U,X){if((U!=="stroke"||X||!v.call(this))&&(U==="stroke"||X||!p.call(this))){for(var Z,ne,ue=[],_e=this.path,Ne=0;Ne<_e.length;Ne++){var ge=_e[Ne];switch(ge.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:ge,deltas:[],abs:[]});break;case"lt":var ke=ue.length;if(_e[Ne-1]&&!isNaN(_e[Ne-1].x)&&(Z=[ge.x-_e[Ne-1].x,ge.y-_e[Ne-1].y],ke>0)){for(;ke>=0;ke--)if(ue[ke-1].close!==!0&&ue[ke-1].begin!==!0){ue[ke-1].deltas.push(Z),ue[ke-1].abs.push(ge);break}}break;case"bct":Z=[ge.x1-_e[Ne-1].x,ge.y1-_e[Ne-1].y,ge.x2-_e[Ne-1].x,ge.y2-_e[Ne-1].y,ge.x-_e[Ne-1].x,ge.y-_e[Ne-1].y],ue[ue.length-1].deltas.push(Z);break;case"qct":var ze=_e[Ne-1].x+2/3*(ge.x1-_e[Ne-1].x),he=_e[Ne-1].y+2/3*(ge.y1-_e[Ne-1].y),ye=ge.x+2/3*(ge.x1-ge.x),ae=ge.y+2/3*(ge.y1-ge.y),ie=ge.x,dt=ge.y;Z=[ze-_e[Ne-1].x,he-_e[Ne-1].y,ye-_e[Ne-1].x,ae-_e[Ne-1].y,ie-_e[Ne-1].x,dt-_e[Ne-1].y],ue[ue.length-1].deltas.push(Z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(ge)}}ne=X?null:U==="stroke"?"stroke":"fill";for(var ct=!1,Le=0;Le<ue.length;Le++)if(ue[Le].arc)for(var Qe=ue[Le].abs,yt=0;yt<Qe.length;yt++){var bt=Qe[yt];bt.type==="arc"?L.call(this,bt.x,bt.y,bt.radius,bt.startAngle,bt.endAngle,bt.counterclockwise,void 0,X,!ct):H.call(this,bt.x,bt.y),ct=!0}else if(ue[Le].close===!0)this.pdf.internal.out("h"),ct=!1;else if(ue[Le].begin!==!0){var It=ue[Le].start.x,At=ue[Le].start.y;V.call(this,ue[Le].deltas,It,At),ct=!0}ne&&I.call(this,ne),X&&B.call(this)}},M=function(U){var X=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=X*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return U-Z;case"top":return U+X-Z;case"hanging":return U+X-2*Z;case"middle":return U+X/2-Z;default:return U}},R=function(U){return U+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var U=function(){};return U.colorStops=[],U.addColorStop=function(X,Z){this.colorStops.push([X,Z])},U.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},U.isCanvasGradient=!0,U},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var L=function(U,X,Z,ne,ue,_e,Ne,ge,ke){for(var ze=W.call(this,Z,ne,ue,_e),he=0;he<ze.length;he++){var ye=ze[he];he===0&&(ke?D.call(this,ye.x1+U,ye.y1+X):H.call(this,ye.x1+U,ye.y1+X)),Y.call(this,U,X,ye.x2,ye.y2,ye.x3,ye.y3,ye.x4,ye.y4)}ge?B.call(this):I.call(this,Ne)},I=function(U){switch(U){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},B=function(){this.pdf.clip(),this.pdf.discardPath()},D=function(U,X){this.pdf.internal.out(r(U)+" "+n(X)+" m")},E=function(U){var X;switch(U.align){case"right":case"end":X="right";break;case"center":X="center";break;default:X="left"}var Z=this.pdf.getTextDimensions(U.text),ne=M.call(this,U.y),ue=R.call(this,ne)-Z.h,_e=this.ctx.transform.applyToPoint(new o(U.x,ne)),Ne=this.ctx.transform.decompose(),ge=new c;ge=(ge=(ge=ge.multiply(Ne.translate)).multiply(Ne.skew)).multiply(Ne.scale);for(var ke,ze,he,ye=this.ctx.transform.applyToRectangle(new l(U.x,ne,Z.w,Z.h)),ae=ge.applyToRectangle(new l(U.x,ue,Z.w,Z.h)),ie=b.call(this,ae),dt=[],ct=0;ct<ie.length;ct+=1)dt.indexOf(ie[ct])===-1&&dt.push(ie[ct]);if(S(dt),this.autoPaging)for(var Le=dt[0],Qe=dt[dt.length-1],yt=Le;yt<Qe+1;yt++){this.pdf.setPage(yt);var bt=yt===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[2],Se=At-this.margin[0],gt=this.pdf.internal.pageSize.width-this.margin[1],rt=gt-this.margin[3],Nt=yt===1?0:It+(yt-2)*Se;if(this.ctx.clip_path.length!==0){var kt=this.path;ke=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ke,this.posX+this.margin[3],-1*Nt+bt),_.call(this,"fill",!0),this.path=kt}var De=k([JSON.parse(JSON.stringify(ae))],this.posX+this.margin[3],-Nt+bt+this.ctx.prevPageLastElemOffset)[0];U.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale);var vt=this.autoPaging!=="text";if(vt||De.y+De.h<=At){if(vt||De.y>=bt&&De.x<=gt){var Pe=vt?U.text:this.pdf.splitTextToSize(U.text,U.maxWidth||gt-De.x)[0],$e=k([JSON.parse(JSON.stringify(ye))],this.posX+this.margin[3],-Nt+bt+this.ctx.prevPageLastElemOffset)[0],Ae=vt&&(yt>Le||yt<Qe)&&w.call(this);Ae&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],rt,Se,null).clip().discardPath()),this.pdf.text(Pe,$e.x,$e.y,{angle:U.angle,align:X,renderingMode:U.renderingMode}),Ae&&this.pdf.restoreGraphicsState()}}else De.y<At&&(this.ctx.prevPageLastElemOffset+=At-De.y);U.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=he)}else U.scale>=.01&&(ze=this.pdf.internal.getFontSize(),this.pdf.setFontSize(ze*U.scale),he=this.lineWidth,this.lineWidth=he*U.scale),this.pdf.text(U.text,_e.x+this.posX,_e.y+this.posY,{angle:U.angle,align:X,renderingMode:U.renderingMode,maxWidth:U.maxWidth}),U.scale>=.01&&(this.pdf.setFontSize(ze),this.lineWidth=he)},H=function(U,X,Z,ne){Z=Z||0,ne=ne||0,this.pdf.internal.out(r(U+Z)+" "+n(X+ne)+" l")},V=function(U,X,Z){return this.pdf.lines(U,X,Z,null,null)},Y=function(U,X,Z,ne,ue,_e,Ne,ge){this.pdf.internal.out([e(a(Z+U)),e(s(ne+X)),e(a(ue+U)),e(s(_e+X)),e(a(Ne+U)),e(s(ge+X)),"c"].join(" "))},W=function(U,X,Z,ne){for(var ue=2*Math.PI,_e=Math.PI/2;X>Z;)X-=ue;var Ne=Math.abs(Z-X);Ne<ue&&ne&&(Ne=ue-Ne);for(var ge=[],ke=ne?-1:1,ze=X;Ne>1e-5;){var he=ze+ke*Math.min(Ne,_e);ge.push(F.call(this,U,ze,he)),Ne-=Math.abs(he-ze),ze=he}return ge},F=function(U,X,Z){var ne=(Z-X)/2,ue=U*Math.cos(ne),_e=U*Math.sin(ne),Ne=ue,ge=-_e,ke=Ne*Ne+ge*ge,ze=ke+Ne*ue+ge*_e,he=4/3*(Math.sqrt(2*ke*ze)-ze)/(Ne*_e-ge*ue),ye=Ne-he*ge,ae=ge+he*Ne,ie=ye,dt=-ae,ct=ne+X,Le=Math.cos(ct),Qe=Math.sin(ct);return{x1:U*Math.cos(X),y1:U*Math.sin(X),x2:ye*Le-ae*Qe,y2:ye*Qe+ae*Le,x3:ie*Le-dt*Qe,y3:ie*Qe+dt*Le,x4:U*Math.cos(Z),y4:U*Math.sin(Z)}},z=function(U){return 180*U/Math.PI},J=function(U,X,Z,ne,ue,_e){var Ne=U+.5*(Z-U),ge=X+.5*(ne-X),ke=ue+.5*(Z-ue),ze=_e+.5*(ne-_e),he=Math.min(U,ue,Ne,ke),ye=Math.max(U,ue,Ne,ke),ae=Math.min(X,_e,ge,ze),ie=Math.max(X,_e,ge,ze);return new l(he,ae,ye-he,ie-ae)},oe=function(U,X,Z,ne,ue,_e,Ne,ge){var ke,ze,he,ye,ae,ie,dt,ct,Le,Qe,yt,bt,It,At,Se=Z-U,gt=ne-X,rt=ue-Z,Nt=_e-ne,kt=Ne-ue,De=ge-_e;for(ze=0;ze<41;ze++)Le=(dt=(he=U+(ke=ze/40)*Se)+ke*((ae=Z+ke*rt)-he))+ke*(ae+ke*(ue+ke*kt-ae)-dt),Qe=(ct=(ye=X+ke*gt)+ke*((ie=ne+ke*Nt)-ye))+ke*(ie+ke*(_e+ke*De-ie)-ct),ze==0?(yt=Le,bt=Qe,It=Le,At=Qe):(yt=Math.min(yt,Le),bt=Math.min(bt,Qe),It=Math.max(It,Le),At=Math.max(At,Qe));return new l(Math.round(yt),Math.round(bt),Math.round(It-yt),Math.round(At-bt))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var U,X,Z=(U=this.ctx.lineDash,X=this.ctx.lineDashOffset,JSON.stringify({lineDash:U,lineDashOffset:X}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Ar.API),(function(t){var e=function(o){var l,c,u,f,m,g,p,v,w,b;for(c=[],u=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>u;u+=4)(m=(o.charCodeAt(u)<<24)+(o.charCodeAt(u+1)<<16)+(o.charCodeAt(u+2)<<8)+o.charCodeAt(u+3))!==0?(g=(m=((m=((m=((m=(m-(b=m%85))/85)-(w=m%85))/85)-(v=m%85))/85)-(p=m%85))/85)%85,c.push(g+33,p+33,v+33,w+33,b+33)):c.push(122);return(function(N,k){for(var S=k;S>0;S--)N.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,u,f,m,g=String,p="length",v=255,w="charCodeAt",b="slice",N="replace";for(o[b](-2),o=o[b](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),u=[],f=0,m=(o+=l="uuuuu"[b](o[p]%5||5))[p];m>f;f+=5)c=52200625*(o[w](f)-33)+614125*(o[w](f+1)-33)+7225*(o[w](f+2)-33)+85*(o[w](f+3)-33)+(o[w](f+4)-33),u.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(k,S){for(var A=S;A>0;A--)k.pop()})(u,l[p]),g.fromCharCode.apply(g,u)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},a=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",u=0;u<o.length;u+=2)c+=String.fromCharCode("0x"+(o[u]+o[u+1]));return c},s=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=W6(l)).reduce(function(u,f){return u+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,u=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":u=r(u),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":u=e(u),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":u=a(u),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":u=n(u),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":u=s(u),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:u,reverseChain:f.reverse().join(" ")}}})(Ar.API),(function(t){t.loadFile=function(e,r,n){return(function(a,s,o){s=s!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,u,f){var m=new XMLHttpRequest,g=0,p=function(v){var w=v.length,b=[],N=String.fromCharCode;for(g=0;g<w;g+=1)b.push(N(255&v.charCodeAt(g)));return b.join("")};if(m.open("GET",c,!u),m.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(m.onload=function(){m.status===200?f(p(this.responseText)):f(void 0)}),m.send(null),u&&m.status===200)return p(m.responseText)})(a,s,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Ar.API),(function(t){function e(){return(Zr.html2canvas?Promise.resolve(Zr.html2canvas):CT(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Zr.DOMPurify?Promise.resolve(Zr.DOMPurify):CT(()=>Promise.resolve().then(()=>bbe),void 0)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Hn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},a=function(l,c){var u=document.createElement(l);for(var f in c.className&&(u.className=c.className),c.innerHTML&&c.dompurify&&(u.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)u.style[f]=c.style[f];return u},s=function l(c,u){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)u!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,u));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var u=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),u);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(u){switch(n(u)){case"string":return"string";case"element":return u.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(u){return this.set({src:a("div",{innerHTML:l,dompurify:u})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=s(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=a("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=a("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(a("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=Object.assign({},this.opt.html2canvas);return delete u.onrendered,c(this.prop.container,u)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var u=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,g=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete g.onrendered,u.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,u.context2d.posX=this.opt.x,u.context2d.posY=this.opt.y,u.context2d.margin=this.opt.margin,u.context2d.fontFaces=f,f)for(var p=0;p<f.length;++p){var v=f[p],w=v.src.find(function(b){return b.format==="truetype"});w&&u.addFont(w.url,v.ref.name,v.ref.style)}return g.windowHeight=g.windowHeight||0,g.windowHeight=g.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):g.windowHeight,u.context2d.save(!0),c(this.prop.container,g)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,u){return(u=u||"pdf").toLowerCase()==="img"||u.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(u){if(u in o.template.prop)return function(){this.prop[u]=l[u]};switch(u){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[u]=l[u]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var u=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(u):u})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(u,f){return Math.floor(u*f/72*96)}return this.then(function(){(l=l||Ar.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,u,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),u!=null&&(this.progress.n=u),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,u,f){return this.setProgress(l?this.progress.val+l:null,c||null,u?this.progress.n+u:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var u=this;return this.thenCore(l,c,function(f,m){return u.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(g){return u.updateProgress(null,f),g}).then(f,m).then(function(g){return u.updateProgress(1),g})})},o.prototype.thenCore=function(l,c,u){u=u||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),g=u.call(m,l,c);return o.convert(g,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(u){c=c.thenCore(u)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Ar.getPageSize=function(l,c,u){if(Hn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,u=f.format||u}c=c||"mm",u=u||"a4",l=(""+(l||"P")).toLowerCase();var m,g=(""+u).toLowerCase(),p={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var v,w=0,b=0;if(p.hasOwnProperty(g))w=p[g][1]/m,b=p[g][0]/m;else try{w=u[1],b=u[0]}catch{throw new Error("Invalid format: "+u)}if(l==="p"||l==="portrait")l="p",b>w&&(v=b,b=w,w=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>b&&(v=b,b=w,w=v)}return{width:b,height:w,unit:c,k:m,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(UT):null;var u=new o(c);return c.worker?u:u.from(l).doCallback()}})(Ar.API),Ar.API.addJS=function(t){return mG=t,this.internal.events.subscribe("postPutResources",function(){p2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),hG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+mG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p2!==void 0&&hG!==void 0&&this.internal.out("/Names <</JavaScript "+p2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var a=r.outline.render().split(/\r\n/),s=0;s<a.length;s++){var o=a[s],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,f=[];for(s=0;s<u;s++){var m=r.internal.newObject();f.push(m);var g=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+g.objId+" 0 R /XYZ null null null]>> endobj")}var p=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<f.length;s++)r.internal.write("(page_"+(s+1)+")"+f[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+p+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,a,s){var o={title:a,options:s,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var a=0;a<n.children.length;a++)this.genIds_r(n.children[a])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var a=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var o=n.children[s];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+a(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,a){for(var s=0;s<a.children.length;s++)n.count++,this.count_r(n,a.children[s]);return n.count}}])})(Ar.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,a,s,o,l){var c,u=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var g,p=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,w={width:0,height:0,numcomponents:1},b=4;b<v;b+=2){if(b+=p,e.indexOf(m.charCodeAt(b+1))!==-1){g=256*m.charCodeAt(b+5)+m.charCodeAt(b+6),w={width:256*m.charCodeAt(b+7)+m.charCodeAt(b+8),height:g,numcomponents:m.charCodeAt(b+9)};break}p=256*m.charCodeAt(b+2)+m.charCodeAt(b+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:u,index:n,alias:a}}return f}})(Ar.API),Ar.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var a,s=Uze(t,{checkCrc:!0}),o=s.width,l=s.height,c=s.channels,u=s.palette,f=s.depth;a=u&&c===1?(function(L){for(var I=L.width,B=L.height,D=L.data,E=L.palette,H=L.depth,V=!1,Y=[],W=[],F=void 0,z=!1,J=0,oe=0;oe<E.length;oe++){var K=su(E[oe],4),U=K[0],X=K[1],Z=K[2],ne=K[3];Y.push(U,X,Z),ne!=null&&(ne===0?(J++,W.length<1&&W.push(oe)):ne<255&&(z=!0))}if(z||J>1){V=!0,W=void 0;var ue=I*B;F=new Uint8Array(ue);for(var _e=new DataView(D.buffer),Ne=0;Ne<ue;Ne++){var ge=VT(_e,Ne,H),ke=su(E[ge],4)[3];F[Ne]=ke}}else J===0&&(W=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:D,alphaBytes:F,needSMask:V,palette:Y,mask:W}})(s):c===2||c===4?(function(L){for(var I=L.data,B=L.width,D=L.height,E=L.channels,H=L.depth,V=E===2?"DeviceGray":"DeviceRGB",Y=E-1,W=B*D,F=Y,z=W*F,J=1*W,oe=Math.ceil(z*H/8),K=Math.ceil(J*H/8),U=new Uint8Array(oe),X=new Uint8Array(K),Z=new DataView(I.buffer),ne=new DataView(U.buffer),ue=new DataView(X.buffer),_e=!1,Ne=0;Ne<W;Ne++){for(var ge=Ne*E,ke=0;ke<F;ke++)NG(ne,VT(Z,ge+ke,H),Ne*F+ke,H);var ze=VT(Z,ge+F,H);ze<(1<<H)-1&&(_e=!0),NG(ue,ze,1*Ne,H)}return{colorSpace:V,colorsPerPixel:Y,sMaskBitsPerComponent:_e?H:void 0,colorBytes:U,alphaBytes:X,needSMask:_e}})(s):(function(L){var I=L.data,B=L.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:B,colorsPerPixel:B==="DeviceGray"?1:3,colorBytes:I instanceof Uint16Array?(function(D){for(var E=D.length,H=new Uint8Array(2*E),V=new DataView(H.buffer,H.byteOffset,H.byteLength),Y=0;Y<E;Y++)V.setUint16(2*Y,D[Y],!1);return H})(I):I,needSMask:!1}})(s);var m,g,p,v=a,w=v.colorSpace,b=v.colorsPerPixel,N=v.sMaskBitsPerComponent,k=v.colorBytes,S=v.alphaBytes,A=v.needSMask,_=v.palette,M=v.mask,R=null;return n!==Ar.API.image_compression.NONE&&typeof W6=="function"?(R=(function(L){var I;switch(L){case Ar.API.image_compression.FAST:I=11;break;case Ar.API.image_compression.MEDIUM:I=13;break;case Ar.API.image_compression.SLOW:I=14;break;default:I=12}return I})(n),m=this.decode.FLATE_DECODE,g="/Predictor ".concat(R," /Colors ").concat(b," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=yG(k,Math.ceil(o*b*f/8),b,f,n),A&&(p=yG(S,Math.ceil(o*N/8),1,N,n))):(m=void 0,g=void 0,t=k,A&&(p=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(p&&this.__addimage__.isArrayBuffer(p)||this.__addimage__.isArrayBufferView(p))&&(p=this.__addimage__.arrayBufferToBinaryString(p)),{alias:r,data:t,index:e,filter:m,decodeParameters:g,transparency:M,palette:_,sMask:p,predictor:R,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:N,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,a){var s=new dqe(e),o=s.width,l=s.height,c=[];s.decodeAndBlitFrameRGBA(0,c);var u={data:c,width:o,height:l},f=new GT(100).encode(u,100);return t.processJPEG.call(this,f,r,n,a)},t.processGIF87A=t.processGIF89A})(Ar.API),Yc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:a,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Aa.log("bit decode error:"+r)}},Yc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,a=0;a<e;a++)for(var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*a*4,l=0;l<8&&8*a+l<this.width;l++){var c=this.palette[s>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Yc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<t;a++){var s=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*a*4,l=s>>4,c=15&s,u=this.palette[l];if(this.data[o]=u.blue,this.data[o+1]=u.green,this.data[o+2]=u.red,this.data[o+3]=255,2*a+1>=this.width)break;u=this.palette[c],this.data[o+4]=u.blue,this.data[o+4+1]=u.green,this.data[o+4+2]=u.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Yc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var a=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(a<this.palette.length){var o=this.palette[a];this.data[s]=o.red,this.data[s+1]=o.green,this.data[s+2]=o.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Yc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(s&e)/e*255|0,l=(s>>5&e)/e*255|0,c=(s>>10&e)/e*255|0,u=s>>15?255:0,f=n*this.width*4+4*a;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=u}this.pos+=t}},Yc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var a=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,u=(o>>11)/e*255|0,f=a*this.width*4+4*s;this.data[f]=u,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Yc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=a,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Yc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=s,this.data[l+1]=a,this.data[l+2]=n,this.data[l+3]=o}},Yc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,a){var s=new Yc(e,!1),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GT(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Ar.API),kG.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,a){var s=new kG(e),o=s.width,l=s.height,c={data:s.getData(),width:o,height:l},u=new GT(100).encode(c,100);return t.processJPEG.call(this,u,r,n,a)}})(Ar.API),Ar.API.processRGBA=function(t,e,r){for(var n=t.data,a=n.length,s=new Uint8Array(a/4*3),o=new Uint8Array(a/4),l=0,c=0,u=0;u<a;u+=4){var f=n[u],m=n[u+1],g=n[u+2],p=n[u+3];s[l++]=f,s[l++]=m,s[l++]=g,o[c++]=p}var v=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ar.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Y0=Ar.API,g2=Y0.getCharWidthsArray=function(t,e){var r,n,a=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,u=e.kerning?e.kerning:a.metadata.Unicode.kerning,f=u.fof?u.fof:1,m=e.doKerning!==!1,g=0,p=t.length,v=0,w=l[0]||c,b=[];for(r=0;r<p;r++)n=t.charCodeAt(r),typeof a.metadata.widthOfString=="function"?b.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(n))+o*(1e3/s)||0)/1e3):(g=m&&Hn(u[n])==="object"&&!isNaN(parseInt(u[n][v],10))?u[n][v]/f:0,b.push((l[n]||w)/c+g)),v=n;return b},pG=Y0.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),a=e.charSpace||this.internal.getCharSpace();return Y0.processArabic&&(t=Y0.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,a)/r:g2.apply(this,arguments).reduce(function(s,o){return s+o},0)},gG=function(t,e,r,n){for(var a=[],s=0,o=t.length,l=0;s!==o&&l+e[s]<r;)l+=e[s],s++;a.push(t.slice(0,s));var c=s;for(l=0;s!==o;)l+e[s]>n&&(a.push(t.slice(c,s)),l=0,c=s),l+=e[s],s++;return c!==s&&a.push(t.slice(c,s)),a},xG=function(t,e,r){r||(r={});var n,a,s,o,l,c,u,f=[],m=[f],g=r.textIndent||0,p=0,v=0,w=t.split(" "),b=g2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),k=[];w.map(function(A){(A=A.split(/\s*\n/)).length>1?k=k.concat(A.map(function(_,M){return(M&&_.length?`
`:"")+_})):k.push(A[0])}),w=k,c=pG.apply(this,[N,r])}for(s=0,o=w.length;s<o;s++){var S=0;if(n=w[s],c&&n[0]==`
`&&(n=n.substr(1),S=1),g+p+(v=(a=g2.apply(this,[n,r])).reduce(function(A,_){return A+_},0))>e||S){if(v>e){for(l=gG.apply(this,[n,a,e-(g+p),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);v=a.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,_){return A+_},0)}else f=[n];m.push(f),g=v+c,p=b}else f.push(n),g+=p+v,p=b}return u=c?function(A,_){return(_?N:"")+A.join(" ")}:function(A){return A.join(" ")},m.map(u)},Y0.splitTextToSize=function(t,e,r){var n,a=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),g="Unicode";return m.metadata[g]?{widths:m.metadata[g].widths||{0:1},kerning:m.metadata[g].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/a;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/a:0,s.lineIndent=r.lineIndent;var l,c,u=[];for(l=0,c=n.length;l<c;l++)u=u.concat(xG.apply(this,[n[l],o,s]));return u},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},a={},s=0;s<16;s++)n[r[s]]=e[s],a[e[s]]=r[s];var o=function(g){return"0x"+parseInt(g,10).toString(16)},l=t.__fontmetrics__.compress=function(g){var p,v,w,b,N=["{"];for(var k in g){if(p=g[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=o(k).slice(2)).slice(0,-1)+a[v.slice(-1)]),typeof p=="number")p<0?(w=o(p).slice(3),b="-"):(w=o(p).slice(2),b=""),w=b+w.slice(0,-1)+a[w.slice(-1)];else{if(Hn(p)!=="object")throw new Error("Don't know what to do with value type "+Hn(p)+".");w=l(p)}N.push(v+w)}return N.push("}"),N.join("")},c=t.__fontmetrics__.uncompress=function(g){if(typeof g!="string")throw new Error("Invalid argument passed to uncompress.");for(var p,v,w,b,N={},k=1,S=N,A=[],_="",M="",R=g.length-1,L=1;L<R;L+=1)(b=g[L])=="'"?p?(w=p.join(""),p=void 0):p=[]:p?p.push(b):b=="{"?(A.push([S,w]),S={},w=void 0):b=="}"?((v=A.pop())[0][v[1]]=S,w=void 0,S=v[0]):b=="-"?k=-1:w===void 0?n.hasOwnProperty(b)?(_+=n[b],w=parseInt(_,16)*k,k=1,_=""):_+=b:n.hasOwnProperty(b)?(M+=n[b],S[w]=parseInt(M,16)*k,k=1,w=void 0,M=""):M+=b;return N},u={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:u,"Courier-Bold":u,"Courier-BoldOblique":u,"Courier-Oblique":u,Helvetica:u,"Helvetica-Bold":u,"Helvetica-BoldOblique":u,"Helvetica-Oblique":u,"Times-Roman":u,"Times-Bold":u,"Times-BoldItalic":u,"Times-Italic":u}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(g){var p=g.font,v=m.Unicode[p.postScriptName];v&&(p.metadata.Unicode={},p.metadata.Unicode.widths=v.widths,p.metadata.Unicode.kerning=v.kerning);var w=f.Unicode[p.postScriptName];w&&(p.metadata.Unicode.encoding=w,p.encoding=w.codePages[0])}])})(Ar.API),(function(t){var e=function(r){for(var n=r.length,a=new Uint8Array(n),s=0;s<n;s++)a[s]=r.charCodeAt(s);return a};t.API.events.push(["addFont",function(r){var n=void 0,a=r.font,s=r.instance;if(!a.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");if(typeof(n=s.existsFileInVFS(a.postScriptName)===!1?s.loadFile(a.postScriptName):s.getFileFromVFS(a.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+a.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(U2(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(a,n)}}])})(Ar),Ar.API.addSvgAsImage=function(t,e,r,n,a,s,o,l){if(isNaN(e)||isNaN(r))throw Aa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(a))throw Aa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=a;var u=c.getContext("2d");u.fillStyle="#fff",u.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Zr.canvg?Promise.resolve(Zr.canvg):CT(()=>import("./index.es-DWunEbPj.js"),__vite__mapDeps([0,1]))).catch(function(g){return Promise.reject(new Error("Could not load canvg: "+g))}).then(function(g){return g.default?g.default:g}).then(function(g){return g.fromString(u,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(g){return g.render(f)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,r,n,a,o,l)})},Ar.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var a=0;a<this.internal.pages[n].length;a++)this.internal.pages[n][a]=this.internal.pages[n][a].replace(e,r);return this},Ar.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,a,s,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],u=0,f=0,m=0;function g(v,w){var b,N=!1;for(b=0;b<v.length;b+=1)v[b]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var p=l.length;for(m=0;m<p;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Hn(t)==="object"){for(a in t)if(s=t[a],g(l,a)&&s!==void 0){if(r[a].type==="boolean"&&typeof s=="boolean")r[a].value=s;else if(r[a].type==="name"&&g(r[a].valueSet,s))r[a].value=s;else if(r[a].type==="integer"&&Number.isInteger(s))r[a].value=s;else if(r[a].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")c.push(String(s[u]-1));else if(s[u].length>1){for(f=0;f<s[u].length;f+=1)typeof s[u][f]!="number"&&(n=!1);n===!0&&c.push([s[u][0]-1,s[u][1]-1].join(" "))}r[a].value="["+c.join(" ")+"]"}else r[a].value=r[a].defaultValue;r[a].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?w.push("/"+v+" /"+r[v].value):w.push("/"+v+" "+r[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',a=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+o.length+l.length+a.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(a+s+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,a){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:a||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Ar.API),(function(t){var e=t.API,r=e.pdfEscape16=function(s,o){for(var l,c=o.metadata.Unicode.widths,u=["","0","00","000","0000"],f=[""],m=0,g=s.length;m<g;++m){if(l=o.metadata.characterToGlyph(s.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=s.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(u[4-l.length],l)}return f.join("")},n=function(s){var o,l,c,u,f,m,g;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,g=(l=Object.keys(s).sort(function(p,v){return p-v})).length;m<g;m++)o=l[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),s[o]!==void 0&&s[o]!==null&&typeof s[o].toString=="function"&&(u=("0000"+s[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+u+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,g=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),p="",v=0;v<g.length;v++)p+=String.fromCharCode(g[v]);var w=u();f({data:p,addLength1:!0,objectId:w}),c("endobj");var b=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:b}),c("endobj");var N=u();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+tg(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var k=u();c("<<"),c("/Type /Font"),c("/BaseFont /"+tg(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=u(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+b+" 0 R"),c("/BaseFont /"+tg(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(o){var l=o.font,c=o.out,u=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,g="",p=0;p<m.length;p++)g+=String.fromCharCode(m[p]);var v=u();f({data:g,addLength1:!0,objectId:v}),c("endobj");var w=u();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var b=u();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+tg(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=u();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+tg(l.fontName)+"/FontDescriptor "+b+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(s)}]);var a=function(s){var o,l=s.text||"",c=s.x,u=s.y,f=s.options||{},m=s.mutex||{},g=m.pdfEscape,p=m.activeFontKey,v=m.fonts,w=p,b="",N=0,k="",S=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:l,x:c,y:u,options:f,mutex:m};for(k=l,w=p,Array.isArray(l)&&(k=l[0]),N=0;N<k.length;N+=1)v[w].metadata.hasOwnProperty("cmap")&&(o=v[w].metadata.cmap.unicode.codeMap[k[N].charCodeAt(0)]),o||k[N].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?b+=k[N]:b+="";var A="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?A=g(b,w).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(A=r(b,v[w])),m.isHex=!0,{text:A,x:c,y:u,options:f,mutex:m}};e.events.push(["postProcessText",function(s){var o=s.text||"",l=[],c={text:o,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(o)){var u=0;for(u=0;u<o.length;u+=1)Array.isArray(o[u])&&o[u].length===3?l.push([a(Object.assign({},c,{text:o[u][0]})).text,o[u][1],o[u][2]]):l.push(a(Object.assign({},c,{text:o[u]})).text);s.text=l}else s.text=a(Object.assign({},c,{text:o})).text}])})(Ar),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Ar.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var a,s,o,l,c,u,f,m=e,g=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],p=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},b=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,S=0;this.__bidiEngine__={};var A=function(D){var E=D.charCodeAt(),H=E>>8,V=w[H];return V!==void 0?m[256*V+(255&E)]:H===252||H===253?"AL":N.test(H)?"L":H===8?"R":"N"},_=function(D){for(var E,H=0;H<D.length;H++){if((E=A(D.charAt(H)))==="L")return!1;if(E==="R")return!0}return!1},M=function(D,E,H,V){var Y,W,F,z,J=E[V];switch(J){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(J="AN");break;case"AL":k=!0,J="R";break;case"WS":case"BN":J="N";break;case"CS":V<1||V+1>=E.length||(Y=H[V-1])!=="EN"&&Y!=="AN"||(W=E[V+1])!=="EN"&&W!=="AN"?J="N":k&&(W="AN"),J=W===Y?W:"N";break;case"ES":J=(Y=V>0?H[V-1]:"B")==="EN"&&V+1<E.length&&E[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&H[V-1]==="EN"){J="EN";break}if(k){J="N";break}for(F=V+1,z=E.length;F<z&&E[F]==="ET";)F++;J=F<z&&E[F]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=E.length,F=V+1;F<z&&E[F]==="NSM";)F++;if(F<z){var oe=D[V],K=oe>=1425&&oe<=2303||oe===64286;if(Y=E[F],K&&(Y==="R"||Y==="AL")){J="R";break}}}J=V<1||(Y=E[V-1])==="B"?"N":H[V-1];break;case"B":k=!1,a=!0,J=S;break;case"S":s=!0,J="N"}return J},R=function(D,E,H){var V=D.split("");return H&&L(V,H,{hiLevel:S}),V.reverse(),E&&E.reverse(),V.join("")},L=function(D,E,H){var V,Y,W,F,z,J=-1,oe=D.length,K=0,U=[],X=S?p:g,Z=[];for(k=!1,a=!1,s=!1,Y=0;Y<oe;Y++)Z[Y]=A(D[Y]);for(W=0;W<oe;W++){if(z=K,U[W]=M(D,Z,U,W),V=240&(K=X[z][v[U[W]]]),K&=15,E[W]=F=X[K][5],V>0)if(V===16){for(Y=J;Y<W;Y++)E[Y]=1;J=-1}else J=-1;if(X[K][6])J===-1&&(J=W);else if(J>-1){for(Y=J;Y<W;Y++)E[Y]=F;J=-1}Z[W]==="B"&&(E[W]=0),H.hiLevel|=F}s&&(function(ne,ue,_e){for(var Ne=0;Ne<_e;Ne++)if(ne[Ne]==="S"){ue[Ne]=S;for(var ge=Ne-1;ge>=0&&ne[ge]==="WS";ge--)ue[ge]=S}})(Z,E,oe)},I=function(D,E,H,V,Y){if(!(Y.hiLevel<D)){if(D===1&&S===1&&!a)return E.reverse(),void(H&&H.reverse());for(var W,F,z,J,oe=E.length,K=0;K<oe;){if(V[K]>=D){for(z=K+1;z<oe&&V[z]>=D;)z++;for(J=K,F=z-1;J<F;J++,F--)W=E[J],E[J]=E[F],E[F]=W,H&&(W=H[J],H[J]=H[F],H[F]=W);K=z}K++}}},B=function(D,E,H){var V=D.split(""),Y={hiLevel:S};return H||(H=[]),L(V,H,Y),(function(W,F,z){if(z.hiLevel!==0&&f)for(var J,oe=0;oe<W.length;oe++)F[oe]===1&&(J=b.indexOf(W[oe]))>=0&&(W[oe]=b[J+1])})(V,H,Y),I(2,V,E,H,Y),I(1,V,E,H,Y),V.join("")};return this.__bidiEngine__.doBidiReorder=function(D,E,H){if((function(Y,W){if(W)for(var F=0;F<Y.length;F++)W[F]=F;l===void 0&&(l=_(Y)),u===void 0&&(u=_(Y))})(D,E),o||!c||u)if(o&&c&&l^u)S=l?1:0,D=R(D,E,H);else if(!o&&c&&u)S=l?1:0,D=B(D,E,H),D=R(D,E);else if(!o||l||c||u){if(o&&!c&&l^u)D=R(D,E),l?(S=0,D=B(D,E,H)):(S=1,D=B(D,E,H),D=R(D,E));else if(o&&l&&!c&&u)S=1,D=B(D,E,H),D=R(D,E);else if(!o&&!c&&l^u){var V=f;l?(S=1,D=B(D,E,H),S=0,f=!1,D=B(D,E,H),f=V):(S=0,D=B(D,E,H),D=R(D,E),S=1,f=!1,D=B(D,E,H),f=V,D=R(D,E))}}else S=0,D=B(D,E,H);else S=l?1:0,D=B(D,E,H);return D},this.__bidiEngine__.setOptions=function(D){D&&(o=D.isInputVisual,c=D.isOutputVisual,l=D.isInputRtl,u=D.isOutputRtl,f=D.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var a=n.text;n.x,n.y;var s=n.options||{};n.mutex,s.lang;var o=[];if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(a)==="[object Array]"){var l=0;for(o=[],l=0;l<a.length;l+=1)Object.prototype.toString.call(a[l])==="[object Array]"?o.push([r.doBidiReorder(a[l][0]),a[l][1],a[l][2]]):o.push([r.doBidiReorder(a[l])]);n.text=o}else n.text=r.doBidiReorder(a);r.setOptions({isInputVisual:!0})}])})(Ar),Ar.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new cm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new Cqe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new fqe(this.contents),this.head=new mqe(this),this.name=new bqe(this),this.cmap=new pae(this),this.toUnicode={},this.hhea=new pqe(this),this.maxp=new vqe(this),this.hmtx=new wqe(this),this.post=new xqe(this),this.os2=new gqe(this),this.loca=new kqe(this),this.glyf=new jqe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,a,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,u;for(u=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(a=this.post.italic_angle),32768&(r=a>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var a,s,o,l;for(o=0,s=0,l=(e=""+e).length;0<=l?s<l:s>l;s=0<=l?++s:--s)a=e.charCodeAt(s),o+=this.widthOfGlyph(this.characterToGlyph(a))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var xu,cm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,a;for(a=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)a.push(this.writeByte(e.charCodeAt(r)));return a},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,a,s,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),a=this.readByte(),s=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^a)+16777216*(255^s)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*a+16777216*s+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,a,s;for(s=[],n=0,a=e.length;n<a;n++)r=e[n],s.push(this.writeByte(r));return s},t})(),fqe=(function(){var t;function e(r){var n,a,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},a=0,s=this.tableCount;0<=s?a<s:a>s;a=0<=s?++a:--a)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,a,s,o,l,c,u,f,m,g,p,v,w;for(w in p=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(p)/c),o=Math.floor(m/c),f=16*p-m,(a=new cm).writeInt(this.scalarType),a.writeShort(p),a.writeShort(m),a.writeShort(o),a.writeShort(f),s=16*p,u=a.pos+s,l=null,v=[],r)for(g=r[w],a.writeString(w),a.writeInt(t(g)),a.writeInt(u),a.writeInt(g.length),v=v.concat(g),w==="head"&&(l=u),u+=g.length;u%4;)v.push(0),u++;return a.write(v),n=2981146554-t(a.data),a.pos=l+8,a.writeUInt32(n),a.data},t=function(r){var n,a,s,o;for(r=gae.call(r);r.length%4;)r.push(0);for(s=new cm(r),a=0,n=0,o=r.length;n<o;n=n+=4)a+=s.readUInt32();return 4294967295&a},e})(),hqe={}.hasOwnProperty,yd=function(t,e){for(var r in e)hqe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};xu=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var mqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new cm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),CG=(function(){function t(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(p=e.readUInt16(),g=p/2,e.pos+=6,s=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),e.pos+=2,w=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),u=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),f=(function(){var A,_;for(_=[],c=A=0;0<=g?A<g:A>g;c=0<=g?++A:--A)_.push(e.readUInt16());return _})(),a=(this.length-e.pos+this.offset)/2,l=(function(){var A,_;for(_=[],c=A=0;0<=a?A<a:A>a;c=0<=a?++A:--A)_.push(e.readUInt16());return _})(),c=N=0,S=s.length;N<S;c=++N)for(b=s[c],n=k=v=w[c];v<=b?k<=b:k>=b;n=v<=b?++k:--k)f[c]===0?o=n+u[c]:(o=l[f[c]/2+(n-v)-(g-c)]||0)!==0&&(o+=u[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N,k,S,A,_,M,R,L,I,B,D,E,H,V,Y,W,F,z,J,oe,K,U,X,Z,ne,ue,_e,Ne,ge,ke,ze,he;switch(V=new cm,o=Object.keys(e).sort(function(ye,ae){return ye-ae}),r){case"macroman":for(w=0,b=(function(){var ye=[];for(v=0;v<256;++v)ye.push(0);return ye})(),k={0:0},s={},Y=0,J=o.length;Y<J;Y++)k[ge=e[a=o[Y]]]==null&&(k[ge]=++w),s[a]={old:e[a],new:k[e[a]]},b[a]=k[e[a]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(b),{charMap:s,subtable:V.data,maxGlyphID:w+1};case"unicode":for(E=[],m=[],S=0,k={},n={},N=u=null,W=0,oe=o.length;W<oe;W++)k[_=e[a=o[W]]]==null&&(k[_]=++S),n[a]={old:_,new:k[_]},l=k[_]-a,N!=null&&l===u||(N&&m.push(N),E.push(a),u=l),N=a;for(N&&m.push(N),m.push(65535),E.push(65535),B=2*(I=E.length),L=2*Math.pow(Math.log(I)/Math.LN2,2),g=Math.log(L/2)/Math.LN2,R=2*I-L,c=[],M=[],p=[],v=F=0,K=E.length;F<K;v=++F){if(D=E[v],f=m[v],D===65535){c.push(0),M.push(0);break}if(D-(H=n[D].new)>=32768)for(c.push(0),M.push(2*(p.length+I-v)),a=z=D;D<=f?z<=f:z>=f;a=D<=f?++z:--z)p.push(n[a].new);else c.push(H-D),M.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*I+2*p.length),V.writeUInt16(0),V.writeUInt16(B),V.writeUInt16(L),V.writeUInt16(g),V.writeUInt16(R),_e=0,U=m.length;_e<U;_e++)a=m[_e],V.writeUInt16(a);for(V.writeUInt16(0),Ne=0,X=E.length;Ne<X;Ne++)a=E[Ne],V.writeUInt16(a);for(ke=0,Z=c.length;ke<Z;ke++)l=c[ke],V.writeUInt16(l);for(ze=0,ne=M.length;ze<ne;ze++)A=M[ze],V.writeUInt16(A);for(he=0,ue=p.length;he<ue;he++)w=p[he],V.writeUInt16(w);return{charMap:n,subtable:V.data,maxGlyphID:S+1}}},t})(),pae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,a;for(e.pos=this.offset,this.version=e.readUInt16(),a=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=a?n<a:n>a;n=0<=a?++n:--n)r=new CG(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,a;return r==null&&(r="macroman"),n=CG.encode(e,r),(a=new cm).writeUInt16(0),a.writeUInt16(1),n.table=a.data.concat(n.subtable),n},t})(),pqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),gqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),xqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,a;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],a=[];e.pos<this.offset+this.length;)r=e.readByte(),a.push(this.names.push(e.readString(r)));return a;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],s=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;s=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),yqe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},bqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,a,s,o,l,c,u,f,m,g;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],s=0;0<=r?s<r:s>r;s=0<=r?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},s=f=0,m=n.length;f<m;s=++f)a=n[s],e.pos=a.offset,u=e.readString(a.length),o=new yqe(u,a),c[g=a.nameID]==null&&(c[g]=[]),c[a.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),vqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),wqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,a,s,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(a=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var u,f;for(f=[],r=u=0;0<=a?u<a:u>a;r=0<=a?++u:--u)f.push(e.readInt16());return f})(),this.widths=(function(){var u,f,m,g;for(g=[],u=0,f=(m=this.metrics).length;u<f;u++)s=m[u],g.push(s.advance);return g}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=a?o<a:o>a;r=0<=a?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),gae=[].slice,jqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,a,s,o,l,c,u,f,m;return e in this.cache?this.cache[e]:(s=this.file.loca,r=this.file.contents,n=s.indexOf(e),(a=s.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new cm(r.read(a))).readShort(),u=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new Sqe(l,u,m,c,f):new Nqe(l,o,u,m,c,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var a,s,o,l,c;for(o=[],s=[],l=0,c=r.length;l<c;l++)a=e[r[l]],s.push(o.length),a&&(o=o.concat(a.encode(n)));return s.push(o.length),{table:o,offsets:s}},t})(),Nqe=(function(){function t(e,r,n,a,s,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=a,this.xMax=s,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Sqe=(function(){function t(e,r,n,a,s){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=a,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new cm(gae.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),kqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return yd(t,xu),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=2)s.push(2*e.readUInt16());return s}).call(this):(function(){var a,s;for(s=[],n=0,a=this.length;n<a;n+=4)s.push(e.readUInt32());return s}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),a=0,s=0,o=0;o<n.length;++o)if(n[o]=a,s<r.length&&r[s]==o){++s,n[o]=a;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(a+=c)}for(var u=new Array(4*n.length),f=0;f<n.length;++f)u[4*f+3]=255&n[f],u[4*f+2]=(65280&n[f])>>8,u[4*f+1]=(16711680&n[f])>>16,u[4*f]=(4278190080&n[f])>>24;return u},t})(),Cqe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,a,s;for(r in a=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=a[n];return e},t.prototype.glyphsFor=function(e){var r,n,a,s,o,l,c;for(a={},o=0,l=e.length;o<l;o++)a[s=e[o]]=this.font.glyf.glyphFor(s);for(s in r=[],a)(n=a[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in c=this.glyphsFor(r))n=c[s],a[s]=n;return a},t.prototype.encode=function(e,r){var n,a,s,o,l,c,u,f,m,g,p,v,w,b,N;for(a in n=pae.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),p={0:0},N=n.charMap)p[(c=N[a]).old]=c.new;for(v in g=n.maxGlyphID,o)v in p||(p[v]=g++);return f=(function(k){var S,A;for(S in A={},k)A[k[S]]=S;return A})(p),m=Object.keys(f).sort(function(k,S){return k-S}),w=(function(){var k,S,A;for(A=[],k=0,S=m.length;k<S;k++)l=m[k],A.push(f[l]);return A})(),s=this.font.glyf.encode(o,w,p),u=this.font.loca.encode(s.offsets,w),b={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(b["OS/2"]=this.font.os2.raw()),this.font.directory.encode(b)},t})();Ar.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,a,s,o;if(Array.isArray(r))return"["+(function(){var l,c,u;for(u=[],l=0,c=r.length;l<c;l++)n=r[l],u.push(e.convert(n));return u})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(a in s=["<<"],r)o=r[a],s.push("/"+a+" "+e.convert(o));return s.push(">>"),s.join(`
`)}return""+r},e})();function xae(t,e,r,n,a){n=n||{};var s=1.15,o=a.internal.scaleFactor,l=a.internal.getFontSize()/o,c=a.getLineHeightFactor?a.getLineHeightFactor():s,u=l*c,f=/\r\n|\r|\n/g,m="",g=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(f):t,g=m.length||1),r+=l*(2-s),n.valign==="middle"?r-=g/2*u:n.valign==="bottom"&&(r-=g*u),n.halign==="center"||n.halign==="right"){var p=l;if(n.halign==="center"&&(p*=.5),m&&g>=1){for(var v=0;v<m.length;v++)a.text(m[v],e-a.getStringUnitWidth(m[v])*p,r),r+=u;return a}e-=a.getStringUnitWidth(t)*p}return n.halign==="justify"?a.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):a.text(t,e,r),a}var _G={},Mg=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:_G=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,a,s;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var u=this.getFontList()[c];u&&u.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(u[0]),l=u[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(a=this.jsPDFDocument).setTextColor.apply(a,f),f=t.unifyColor(e.lineColor),f&&(s=this.jsPDFDocument).setDrawColor.apply(s,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,a,s){return this.jsPDFDocument.rect(e,r,n,a,s)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return _G||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),Z6=function(t,e){return Z6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(r[a]=n[a])},Z6(t,e)};function yae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");Z6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var bae=(function(t){yae(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function _qe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Aqe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function xN(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],a=n.map(function(s){return r.getTextWidth(s)}).reduce(function(s,o){return Math.max(s,o)},0);return a}function vae(t,e,r,n){var a=e.settings.tableLineWidth,s=e.settings.tableLineColor;t.applyStyles({lineWidth:a,lineColor:s});var o=wae(a,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function wae(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function FS(t,e){var r,n,a,s;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(a=t.right)!==null&&a!==void 0?a:e,bottom:(s=t.bottom)!==null&&s!==void 0?s:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function jae(t,e){var r=FS(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function Tqe(t,e,r,n,a){var s={},o=1.3333333333333333,l=YT(e,function(S){return a.getComputedStyle(S).backgroundColor});l!=null&&(s.fillColor=l);var c=YT(e,function(S){return a.getComputedStyle(S).color});c!=null&&(s.textColor=c);var u=Oqe(n,r);u&&(s.cellPadding=u);var f="borderTopColor",m=o*r,g=n.borderTopWidth;if(n.borderBottomWidth===g&&n.borderRightWidth===g&&n.borderLeftWidth===g){var p=(parseFloat(g)||0)/m;p&&(s.lineWidth=p)}else s.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},s.lineWidth.top||(s.lineWidth.right?f="borderRightColor":s.lineWidth.bottom?f="borderBottomColor":s.lineWidth.left&&(f="borderLeftColor"));var v=YT(e,function(S){return a.getComputedStyle(S)[f]});v!=null&&(s.lineColor=v);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(s.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(s.valign=n.verticalAlign);var b=parseInt(n.fontSize||"");isNaN(b)||(s.fontSize=b/o);var N=Mqe(n);N&&(s.fontStyle=N);var k=(n.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(s.font=k),s}function Mqe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function YT(t,e){var r=Nae(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var a=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],s=parseInt(n[4]);return s===0||isNaN(a[0])||isNaN(a[1])||isNaN(a[2])?null:a}function Nae(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:Nae(t.parentElement,e):r}function Oqe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),a=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,s=r.map(function(l){return parseInt(l||"0")/n}),o=FS(s,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}function Sae(t,e,r,n,a){var s,o;n===void 0&&(n=!1),a===void 0&&(a=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),u=t.scaleFactor(),f=[],m=[],g=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:g};for(var p=0;p<l.rows.length;p++){var v=l.rows[p],w=(o=(s=v==null?void 0:v.parentElement)===null||s===void 0?void 0:s.tagName)===null||o===void 0?void 0:o.toLowerCase(),b=Eqe(c,u,r,v,n,a);b&&(w==="thead"?f.push(b):w==="tfoot"?g.push(b):m.push(b))}return{head:f,body:m,foot:g}}function Eqe(t,e,r,n,a,s){for(var o=new bae(n),l=0;l<n.cells.length;l++){var c=n.cells[l],u=r.getComputedStyle(c);if(a||u.display!=="none"){var f=void 0;s&&(f=Tqe(t,c,e,u,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:Dqe(c)})}}var m=r.getComputedStyle(n);if(o.length>0&&(a||m.display!=="none"))return o}function Dqe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Pqe(t,e,r){for(var n=0,a=[t,e,r];n<a.length;n++){var s=a[n];s&&typeof s!="object"&&console.error("The options parameter should be of type object, is: "+typeof s),s.startY&&typeof s.startY!="number"&&(console.error("Invalid value for startY option",s.startY),delete s.startY)}}function mf(t,e,r,n,a){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var s=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(s[c]=l[c])}return s}function kae(t,e){var r=new Mg(t),n=r.getDocumentOptions(),a=r.getGlobalOptions();Pqe(a,n,e);var s=mf({},a,n,e),o;typeof window<"u"&&(o=window);var l=Lqe(a,n,e),c=Rqe(a,n,e),u=Iqe(r,s),f=$qe(r,s,o);return{id:e.tableId,content:f,hooks:c,styles:l,settings:u}}function Lqe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(c){if(c==="columnStyles"){var u=t[c],f=e[c],m=r[c];n.columnStyles=mf({},u,f,m)}else{var g=[t,e,r],p=g.map(function(v){return v[c]||{}});n[c]=mf({},p[0],p[1],p[2])}},s=0,o=Object.keys(n);s<o.length;s++){var l=o[s];a(l)}return n}function Rqe(t,e,r){for(var n=[t,e,r],a={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,o=n;s<o.length;s++){var l=o[s];l.didParseCell&&a.didParseCell.push(l.didParseCell),l.willDrawCell&&a.willDrawCell.push(l.willDrawCell),l.didDrawCell&&a.didDrawCell.push(l.didDrawCell),l.willDrawPage&&a.willDrawPage.push(l.willDrawPage),l.didDrawPage&&a.didDrawPage.push(l.didDrawPage)}return a}function Iqe(t,e){var r,n,a,s,o,l,c,u,f,m,g,p,v=FS(e.margin,40/t.scaleFactor()),w=(r=Fqe(t,e.startY))!==null&&r!==void 0?r:v.top,b;e.showFoot===!0?b="everyPage":e.showFoot===!1?b="never":b=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(a=e.showHead)!==null&&a!==void 0?a:"everyPage";var k=(s=e.useCss)!==null&&s!==void 0?s:!1,S=e.theme||(k?"plain":"striped"),A=!!e.horizontalPageBreak,_=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:k,theme:S,startY:w,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(u=e.rowPageBreak)!==null&&u!==void 0?u:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:N,showFoot:b,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(g=e.tableLineColor)!==null&&g!==void 0?g:200,horizontalPageBreak:A,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(p=e.horizontalPageBreakBehaviour)!==null&&p!==void 0?p:"afterAllRows"}}function Fqe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),a=t.pageNumber(),s=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;s=o===a}return typeof e=="number"?e:(e==null||e===!1)&&s&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function $qe(t,e,r){var n=e.head||[],a=e.body||[],s=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=Sae(t,e.html,r,o,e.useCss)||{};n=l.head||n,a=l.body||n,s=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Bqe(n,a,s);return{columns:c,head:n,body:a,foot:s}}function Bqe(t,e,r){var n=t[0]||e[0]||r[0]||[],a=[];return Object.keys(n).filter(function(s){return s!=="_element"}).forEach(function(s){var o=1,l;Array.isArray(n)?l=n[parseInt(s)]:l=n[s],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var u=void 0;Array.isArray(n)?u=a.length:u=s+(c>0?"_".concat(c):"");var f={dataKey:u};a.push(f)}}),a}var eE=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),Hqe=(function(t){yae(e,t);function e(r,n,a,s,o,l){var c=t.call(this,r,n,l)||this;return c.cell=a,c.row=s,c.column=o,c.section=s.section,c}return e})(eE),zqe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,a,s,o){for(var l=0,c=r;l<c.length;l++){var u=c[l],f=new Hqe(e,this,n,a,s,o),m=u(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,a=this.hooks.didDrawPage;n<a.length;n++){var s=a[n];s(new eE(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,a=this.hooks.willDrawPage;n<a.length;n++){var s=a[n];s(new eE(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(a,s){return a+s.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),Cae=(function(){function t(e,r,n,a,s){s===void 0&&(s=!1),this.height=0,this.raw=e,e instanceof bae&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=a,this.spansMultiplePages=s}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,a){var s;return Math.max(n,((s=r.cells[a.index])===null||s===void 0?void 0:s.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var a=r.cells[n.index];return a?a.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(a,s){var o=n.cells[s.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),u=c+l;return u>a?u:a},0)},t})(),_ae=(function(){function t(e,r,n){var a;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var s=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,s=(a=e.content)!==null&&a!==void 0?a:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=s!=null?""+s:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var a=this.width-this.padding("horizontal");n=this.x+a/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,a=this.styles.fontSize/e*r,s=n*a+this.padding("vertical");return Math.max(s,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=FS(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),qqe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,a=e.allRows();n<a.length;n++){var s=a[n],o=s.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function Uqe(t,e){Wqe(t,e);var r=[],n=0;e.columns.forEach(function(s){var o=s.getMaxCustomCellWidth(e);o?s.width=o:(s.width=s.wrappedWidth,r.push(s)),n+=s.width});var a=e.getWidth(t.pageSize().width)-n;a&&(a=tE(r,a,function(s){return Math.max(s.minReadableWidth,s.minWidth)})),a&&(a=tE(r,a,function(s){return s.minWidth})),a=Math.abs(a),!e.settings.horizontalPageBreak&&a>.1/t.scaleFactor()&&(a=a<1?a:Math.round(a),console.warn("Of the table content, ".concat(a," units width could not fit page"))),Gqe(e),Yqe(e,t),Vqe(e)}function Wqe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,a=jae(t,e);e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){var f=e.hooks.didParseCell;e.callCellHooks(t,f,u,s,c,null);var m=u.padding("horizontal");u.contentWidth=xN(u.text,u.styles,t)+m;var g=xN(u.text.join(" ").split(/[^\S\u00A0]+/),u.styles,t);if(u.minReadableWidth=g+u.padding("horizontal"),typeof u.styles.cellWidth=="number")u.minWidth=u.styles.cellWidth,u.wrappedWidth=u.styles.cellWidth;else if(u.styles.cellWidth==="wrap"||n===!0)u.contentWidth>a?(u.minWidth=a,u.wrappedWidth=a):(u.minWidth=u.contentWidth,u.wrappedWidth=u.contentWidth);else{var p=10/r;u.minWidth=u.styles.minCellWidth||p,u.wrappedWidth=u.contentWidth,u.minWidth>u.wrappedWidth&&(u.wrappedWidth=u.minWidth)}}}}),e.allRows().forEach(function(s){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u&&u.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,u.wrappedWidth),c.minWidth=Math.max(c.minWidth,u.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,u.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}u&&(u.colSpan>1&&!c.minWidth&&(c.minWidth=u.minWidth),u.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=u.minWidth))}})}function tE(t,e,r){for(var n=e,a=t.reduce(function(p,v){return p+v.wrappedWidth},0),s=0;s<t.length;s++){var o=t[s],l=o.wrappedWidth/a,c=n*l,u=o.width+c,f=r(o),m=u<f?f:u;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var g=t.filter(function(p){return e<0?p.width>r(p):!0});g.length&&(e=tE(g,e,r))}return e}function Vqe(t){for(var e={},r=1,n=t.allRows(),a=0;a<n.length;a++)for(var s=n[a],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=e[c.index];if(r>1)r--,delete s.cells[c.index];else if(u)u.cell.height+=s.height,r=u.cell.colSpan,delete s.cells[c.index],u.left--,u.left<=1&&delete e[c.index];else{var f=s.cells[c.index];if(!f)continue;if(f.height=s.height,f.rowSpan>1){var m=n.length-a,g=f.rowSpan>m?m:f.rowSpan;e[c.index]={cell:f,left:g,row:s}}}}}function Gqe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],a=null,s=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])s+=c.width,delete n.cells[c.index];else if(a){var u=a;delete n.cells[c.index],a=null,u.width=c.width+s}else{var u=n.cells[c.index];if(!u)continue;if(o=u.colSpan,s=0,u.colSpan>1){a=u,s+=c.width;continue}u.width=c.width+s}}}function Yqe(t,e){for(var r={count:0,height:0},n=0,a=t.allRows();n<a.length;n++){for(var s=a[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],u=s.cells[c.index];if(u){e.applyStyles(u.styles,!0);var f=u.width-u.padding("horizontal");if(u.styles.overflow==="linebreak")u.text=e.splitTextToSize(u.text,f+1/e.scaleFactor(),{fontSize:u.styles.fontSize});else if(u.styles.overflow==="ellipsize")u.text=AG(u.text,f,u.styles,e,"...");else if(u.styles.overflow==="hidden")u.text=AG(u.text,f,u.styles,e,"");else if(typeof u.styles.overflow=="function"){var m=u.styles.overflow(u.text,f);typeof m=="string"?u.text=[m]:u.text=m}u.contentHeight=u.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var g=u.contentHeight/u.rowSpan;u.rowSpan>1&&r.count*r.height<g*u.rowSpan?r={height:g,count:u.rowSpan}:r&&r.count>0&&r.height>g&&(g=r.height),g>s.height&&(s.height=g)}}r.count--}}function AG(t,e,r,n,a){return t.map(function(s){return Kqe(s,e,r,n,a)})}function Kqe(t,e,r,n,a){var s=1e4*n.scaleFactor();if(e=Math.ceil(e*s)/s,e>=xN(t,r,n))return t;for(;e<xN(t+a,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+a}function Aae(t,e){var r=new Mg(t),n=Jqe(e,r.scaleFactor()),a=new zqe(e,n);return Uqe(r,a),r.applyStyles(r.userStyles),a}function Jqe(t,e){var r=t.content,n=Qqe(r.columns);if(r.head.length===0){var a=TG(n,"head");a&&r.head.push(a)}if(r.foot.length===0){var a=TG(n,"foot");a&&r.foot.push(a)}var s=t.settings.theme,o=t.styles;return{columns:n,head:KT("head",r.head,n,o,s,e),body:KT("body",r.body,n,o,s,e),foot:KT("foot",r.foot,n,o,s,e)}}function KT(t,e,r,n,a,s){var o={},l=e.map(function(c,u){for(var f=0,m={},g=0,p=0,v=0,w=r;v<w.length;v++){var b=w[v];if(o[b.index]==null||o[b.index].left===0)if(p===0){var N=void 0;Array.isArray(c)?N=c[b.index-g-f]:N=c[b.dataKey];var k={};typeof N=="object"&&!Array.isArray(N)&&(k=(N==null?void 0:N.styles)||{});var S=Zqe(t,b,u,a,n,s,k),A=new _ae(N,S,t);m[b.dataKey]=A,m[b.index]=A,p=A.colSpan-1,o[b.index]={left:A.rowSpan-1,times:p}}else p--,g++;else o[b.index].left--,p=o[b.index].times,f++}return new Cae(c,u,t,m)});return l}function TG(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var a=Xqe(e,n.raw);a!=null&&(r[n.dataKey]=a)}}),Object.keys(r).length>0?r:null}function Xqe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function Qqe(t){return t.map(function(e,r){var n,a;return typeof e=="object"?a=(n=e.dataKey)!==null&&n!==void 0?n:r:a=r,new qqe(a,e,r)})}function Zqe(t,e,r,n,a,s,o){var l=Aqe(n),c;t==="head"?c=a.headStyles:t==="body"?c=a.bodyStyles:t==="foot"&&(c=a.footStyles);var u=mf({},l.table,l[t],a.styles,c),f=a.columnStyles[e.dataKey]||a.columnStyles[e.index]||{},m=t==="body"?f:{},g=t==="body"&&r%2===0?mf({},l.alternateRow,a.alternateRowStyles):{},p=_qe(s),v=mf({},p,u,g,m);return mf(v,o)}function eUe(t,e,r){var n;r===void 0&&(r={});var a=jae(t,e),s=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(g){var p=e.columns.find(function(v){return v.dataKey===g||v.index===g});p&&!s.has(p.index)&&(s.set(p.index,!0),o.push(p.index),l.push(e.columns[p.index]),a-=p.wrappedWidth)});for(var u=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(s.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(u||a>=m)u=!1,o.push(f),l.push(e.columns[f]),a-=m;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function tUe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var a=eUe(t,e,{start:n});a.columns.length&&(r.push(a),n=a.lastIndex)}return r}function Tae(t,e){var r=e.settings,n=r.startY,a=r.margin,s={x:a.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+a.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,u=c.reduce(function(g,p){return g+p.height},0);l+=u}var f=new Mg(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(Oae(f),s.y=a.top),e.callWillDrawPageHooks(f,s);var m=mf({},s);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?rUe(f,e,m,s):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(g){return If(f,e,g,s,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(g,p){var v=p===e.body.length-1;yN(f,e,g,v,m,s,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(g){return If(f,e,g,s,e.columns)})),vae(f,e,m,s),e.callEndPageHooks(f,s),e.finalY=s.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function rUe(t,e,r,n){var a=tUe(t,e),s=e.settings;if(s.horizontalPageBreakBehaviour==="afterAllRows")a.forEach(function(u,f){t.applyStyles(t.userStyles),f>0?Lb(t,e,r,n,u.columns,!0):MG(t,e,n,u.columns),nUe(t,e,r,n,u.columns),JT(t,e,n,u.columns)});else for(var o=-1,l=a[0],c=function(){var u=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?Lb(t,e,r,n,f,!0):MG(t,e,n,f),u=OG(t,e,o+1,n,f),JT(t,e,n,f)}var m=u-o;a.slice(1).forEach(function(g){t.applyStyles(t.userStyles),Lb(t,e,r,n,g.columns,!0),OG(t,e,o+1,n,g.columns,m),JT(t,e,n,g.columns)}),o=u};o<e.body.length-1;)c()}function MG(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showHead==="firstPage"||a.showHead==="everyPage")&&e.head.forEach(function(s){return If(t,e,s,r,n)})}function nUe(t,e,r,n,a){t.applyStyles(t.userStyles),e.body.forEach(function(s,o){var l=o===e.body.length-1;yN(t,e,s,l,r,n,a)})}function OG(t,e,r,n,a,s){t.applyStyles(t.userStyles),s=s??e.body.length;var o=Math.min(r+s,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,u){var f=r+u===e.body.length-1,m=Mae(t,e,f,n);c.canEntireRowFit(m,a)&&(If(t,e,c,n,a),l=r+u)}),l}function JT(t,e,r,n){var a=e.settings;t.applyStyles(t.userStyles),(a.showFoot==="lastPage"||a.showFoot==="everyPage")&&e.foot.forEach(function(s){return If(t,e,s,r,n)})}function aUe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),a=t.padding("vertical"),s=Math.floor((e-a)/n);return Math.max(0,s)}function iUe(t,e,r,n){var a={};t.spansMultiplePages=!0,t.height=0;for(var s=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],u=t.cells[c.index];if(u){Array.isArray(u.text)||(u.text=[u.text]);var f=new _ae(u.raw,u.styles,u.section);f=mf(f,u),f.text=[];var m=aUe(u,e,n);u.text.length>m&&(f.text=u.text.splice(m,u.text.length));var g=n.scaleFactor(),p=n.getLineHeightFactor();u.contentHeight=u.getContentHeight(g,p),u.contentHeight>=e&&(u.contentHeight=e,f.styles.minCellHeight-=e),u.contentHeight>t.height&&(t.height=u.contentHeight),f.contentHeight=f.getContentHeight(g,p),f.contentHeight>s&&(s=f.contentHeight),a[c.index]=f}}var v=new Cae(t.raw,-1,t.section,a,!0);v.height=s;for(var w=0,b=r.columns;w<b.length;w++){var c=b[w],f=v.cells[c.index];f&&(f.height=v.height);var u=t.cells[c.index];u&&(u.height=t.height)}return v}function sUe(t,e,r,n){var a=t.pageSize().height,s=n.settings.margin,o=s.top+s.bottom,l=a-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),u=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!u)return!1;var f=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>l;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function yN(t,e,r,n,a,s,o){var l=Mae(t,e,n,s);if(r.canEntireRowFit(l,o))If(t,e,r,s,o);else if(sUe(t,r,l,e)){var c=iUe(r,l,e,t);If(t,e,r,s,o),Lb(t,e,a,s,o),yN(t,e,c,n,a,s,o)}else Lb(t,e,a,s,o),yN(t,e,r,n,a,s,o)}function If(t,e,r,n,a){n.x=e.settings.margin.left;for(var s=0,o=a;s<o.length;s++){var l=o[s],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var u=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(u===!1){n.x+=l.width;continue}oUe(t,c,n);var f=c.getTextPos();xae(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function oUe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var a=wae(n.lineWidth,n.fillColor);a&&t.rect(e.x,r.y,e.width,e.height,a)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),lUe(t,e,r,n.lineWidth))}function lUe(t,e,r,n){var a,s,o,l;n.top&&(a=r.x,s=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.top,a,s,o,l)),n.bottom&&(a=r.x,s=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(a-=.5*n.left),c(n.bottom,a,s,o,l)),n.left&&(a=r.x,s=r.y,o=r.x,l=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,a,s,o,l)),n.right&&(a=r.x+e.width,s=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(s-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,a,s,o,l));function c(u,f,m,g,p){t.getDocument().setLineWidth(u),t.getDocument().line(f,m,g,p,"S")}}function Mae(t,e,r,n){var a=e.settings.margin.bottom,s=e.settings.showFoot;return(s==="everyPage"||s==="lastPage"&&r)&&(a+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-a}function Lb(t,e,r,n,a,s){a===void 0&&(a=[]),s===void 0&&(s=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!s&&e.foot.forEach(function(l){return If(t,e,l,n,a)}),e.callEndPageHooks(t,n);var o=e.settings.margin;vae(t,e,r,n),Oae(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return If(t,e,l,n,a)}),t.applyStyles(t.userStyles))}function Oae(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function cUe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],a=kae(this,n),s=Aae(this,a);return Tae(this,s),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,a){xae(e,r,n,a,this)},t.API.autoTableSetDefaults=function(e){return Mg.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Mg.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var a=new Mg(this),s=Sae(a,e,window,r,!1),o=s.head,l=s.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(u){return u.content}))||[];return{columns:c,rows:l,data:l}}}var XT;function Xy(t,e){var r=kae(t,e),n=Aae(t,r);Tae(t,n)}try{if(typeof window<"u"&&window){var EG=window,DG=EG.jsPDF||((XT=EG.jspdf)===null||XT===void 0?void 0:XT.jsPDF);DG&&cUe(DG)}}catch(t){console.error("Could not apply autoTable plugin",t)}const PG=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],uUe=({isOpen:t,workOrder:e,onClose:r})=>{var c,u,f,m,g,p,v,w;if(!t||!e)return null;const n=b=>b?new Date(b).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",a=({title:b,children:N,icon:k})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[k&&i.jsx("div",{className:"mr-3 text-blue-600",children:k}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:b})]})}),i.jsx("div",{className:"p-6",children:N})]}),s=({label:b,value:N,icon:k,fullWidth:S=!1,priority:A="medium"})=>{const _={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${S?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${_[A]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[k&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:b}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:N})]})]})})})},o=({label:b,htmlContent:N,icon:k,fullWidth:S=!1})=>{if(!N)return i.jsx(s,{label:b,value:"-",icon:k,fullWidth:S,priority:"low"});const A=md.sanitize(N,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return i.jsx("div",{className:`${S?"col-span-full":""}`,children:i.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:i.jsxs("div",{className:"flex items-start space-x-3",children:[k&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:b}),i.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:A}})]})]})})})},l=({workOrder:b})=>{const N=I=>{switch(I==null?void 0:I.toLowerCase()){case"new":return i.jsx($K,{className:"w-4 h-4"});case"assigned":return i.jsx(un,{className:"w-4 h-4"});case"in progress":return i.jsx(kr,{className:"w-4 h-4"});case"resolved":return i.jsx(WK,{className:"w-4 h-4"});case"closed":return i.jsx(wr,{className:"w-4 h-4"});case"cancel":return i.jsx(UE,{className:"w-4 h-4"});case"escalated":return i.jsx(Ur,{className:"w-4 h-4"});case"vendor handled":return i.jsx(sa,{className:"w-4 h-4"});default:return i.jsx(hc,{className:"w-4 h-4"})}},k=I=>{switch(I==null?void 0:I.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},S=(I,B)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(B==null?void 0:B.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[I.toLowerCase()]||`Status: ${I}`,A=()=>{var B,D;const I=[];if(I.push({id:"created",status:"new",date:b.date,changed_by:((B=b.requester)==null?void 0:B.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),b.status_history&&b.status_history.length>0&&[...b.status_history].sort((H,V)=>new Date(H.changed_at).getTime()-new Date(V.changed_at).getTime()).forEach((H,V)=>{var oe,K;const Y=I[I.length-1],W=_(Y.date,H.changed_at);let F=H.action,z=S(H.action);H.action==="updated"&&((oe=H.new_data)!=null&&oe.handling_status)&&(F=H.new_data.handling_status,z=S(H.new_data.handling_status,{assigned_to:(K=b.assigned_to)==null?void 0:K.name}));let J="System";H.user_id===55?J="DevTest User 1":H.user_id===41?J="Regular User QC":H.user_id===57?J="DevTest User 2":H.user_id===36?J="Super Admin User":H.user_id===37?J="Admin User One":H.user_id===40?J="Regular User IT":H.user_id===42||H.user_id===56?J="Monitor":H.changed_by?J=H.changed_by:J=`User ${H.user_id}`,I.push({id:H.id.toString(),status:F,date:H.changed_at,changed_by:J,description:z,duration:W,comments:H.comments,old_data:H.old_data,new_data:H.new_data,isStatusChange:!0})}),(D=b.received_by)!=null&&D.name&&b.handling_date&&!I.some(H=>{var V,Y;return H.status==="received"||((V=H.new_data)==null?void 0:V.received_by_id)&&((Y=H.new_data)==null?void 0:Y.handling_status)==="Resolved"})){const H=I[I.length-1],V=_(H.date,b.handling_date),Y={id:"received",status:"received",date:b.handling_date,changed_by:b.received_by.name,description:"Diterima oleh teknisi",duration:V,isManualEvent:!0};I.push(Y)}return I.sort((E,H)=>new Date(E.date).getTime()-new Date(H.date).getTime())},_=(I,B)=>{const D=new Date(I),E=new Date(B),H=Math.abs(E.getTime()-D.getTime()),V=Math.ceil(H/(1e3*60*60*24));if(V===0){const Y=Math.ceil(H/36e5),W=Math.ceil(H/(1e3*60));return W<60?`${W} minutes`:`${Y} hours`}return`${V} day${V>1?"s":""}`},M=I=>{const B=new Date(I);return{date:B.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:B.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},R=I=>{var B,D,E;return(B=I.new_data)!=null&&B.handling_status?`Diubah menjadi: ${I.new_data.handling_status}`:(D=I.new_data)!=null&&D.assigned_to_id?"Ditugaskan ke teknisi":(E=I.new_data)!=null&&E.action_taken?`Tindakan diambil: ${I.new_data.action_taken.substring(0,50)}...`:null},L=A();return i.jsxs("div",{className:"space-y-6",children:[L.map((I,B)=>{const D=M(I.date),E=B===L.length-1,H=R(I);return i.jsxs("div",{className:"flex items-start space-x-4",children:[i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full ${k(I.status)}`}),!E&&i.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),i.jsxs("div",{className:"flex-1 pb-4",children:[i.jsxs("div",{className:"flex items-start justify-between mb-2",children:[i.jsxs("div",{className:"flex items-center space-x-2",children:[N(I.status),i.jsxs("div",{children:[i.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:I.status}),i.jsx("p",{className:"text-xs text-gray-600 mt-1",children:I.description})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.date}),i.jsx("div",{className:"text-xs text-gray-500",children:D.time})]})]}),i.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[i.jsxs("div",{className:"flex justify-between items-center text-xs",children:[i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs("span",{className:"text-gray-600",children:[i.jsx("strong",{children:"Changed by:"})," ",I.changed_by]}),I.duration&&I.duration!=="0 days"&&i.jsxs("span",{className:"text-blue-600 font-semibold",children:[" ",I.duration]})]}),I.duration&&I.duration!=="0 days"&&B>0&&i.jsx("div",{className:"text-right",children:i.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),H&&i.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:H}),I.comments&&i.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[i.jsx("strong",{children:"Comments:"})," ",I.comments]}),I.status==="assigned"&&b.assigned_to&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Assigned to:"})," ",b.assigned_to.name,b.assigned_to.email&&` (${b.assigned_to.email})`]}),(I.status==="resolved"||I.status==="closed")&&b.action_taken&&i.jsxs("div",{className:"text-xs text-gray-700",children:[i.jsx("strong",{children:"Action taken:"})," ",b.action_taken.substring(0,100),"..."]})]}),E&&i.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[i.jsxs("div",{className:"flex items-center justify-between text-sm",children:[i.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),i.jsx("span",{className:"font-bold text-blue-600 text-lg",children:_(b.date,I.date)})]}),i.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",M(b.date).date,"  Current: ",D.date]})]})]})]},I.id)}),b.handling_status==="Closed"&&b.handling_date&&i.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),i.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",_(b.date,b.handling_date)]})]}),i.jsx(wr,{className:"w-8 h-8 text-green-500"})]}),i.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[i.jsxs("div",{children:["Created: ",M(b.date).date]}),i.jsxs("div",{children:["Completed: ",M(b.handling_date).date]}),i.jsxs("div",{className:"col-span-2",children:[i.jsx("strong",{children:"Timeline:"})," ",L.length," status changes"]})]})]})]})};return i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[i.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:i.jsx(Ht,{size:24})})]}),i.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),i.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(kr,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),i.jsx(a,{title:"General Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Work Order No",value:e.work_order_no||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Date",value:n(e.date),icon:i.jsx(Oa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Reception Method",value:e.reception_method||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Requester",value:((c=e.requester)==null?void 0:c.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Known By",value:((u=e.known_by)==null?void 0:u.name)||"-",icon:i.jsx(Io,{className:"w-4 h-4"})}),i.jsx(s,{label:"Department",value:((f=e.department)==null?void 0:f.name)||"-",icon:i.jsx(Va,{className:"w-4 h-4"})})]})}),i.jsx(a,{title:"Service Details",icon:i.jsx(sa,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Service Type",value:((m=e.service_type)==null?void 0:m.group_name)||"-",icon:i.jsx(sa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Service",value:((g=e.service)==null?void 0:g.service_name)||"-",icon:i.jsx(sa,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Asset No",value:e.asset_no||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Device Info",value:e.device_info||"-",icon:i.jsx(sa,{className:"w-4 h-4"})}),i.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:i.jsx(Ur,{className:"w-4 h-4"}),fullWidth:!0})]})}),i.jsx(a,{title:"Handling Information",icon:i.jsx(kr,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Status",value:e.handling_status||"-",icon:i.jsx(kr,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Received By",value:((p=e.received_by)==null?void 0:p.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"})}),i.jsx(s,{label:"Assigned To",value:((v=e.assigned_to)==null?void 0:v.name)||"-",icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Handling Date",value:n(e.handling_date),icon:i.jsx(Oa,{className:"w-4 h-4"})}),i.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:i.jsx(wr,{className:"w-4 h-4"}),fullWidth:!0}),i.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:i.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&i.jsx(a,{title:"Work Order Timeline",icon:i.jsx(zK,{className:"w-5 h-5"}),children:i.jsx(l,{workOrder:e})}),i.jsx(a,{title:"Performance Metrics",icon:i.jsx(cu,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),i.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_date&&e.date?`${Math.ceil((new Date(e.handling_date).getTime()-new Date(e.date).getTime())/(1e3*60*60*24))} days`:"Ongoing"})]}),i.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[i.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),i.jsx("p",{className:"text-lg font-bold text-green-600",children:((w=e.service)==null?void 0:w.priority)||"Not Set"})]})]})})]}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:i.jsx(O.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},dUe=()=>{const[t,e]=y.useState(!1),[r,n]=y.useState(""),[a,s]=y.useState("all"),[o,l]=y.useState("all"),[c,u]=y.useState("all"),[f,m]=y.useState("all"),[g,p]=y.useState(!1),[v,w]=y.useState(1),[b]=y.useState(5),[N,k]=y.useState(window.innerWidth<768),[S,A]=y.useState([]),[_,M]=y.useState(!0),[R,L]=y.useState(null),[I,B]=y.useState(),[D,E]=y.useState(!1),[H,V]=y.useState("30days"),{user:Y,getWorkOrdersIT:W,hasPermission:F}=ir(),z=nr(),J=Ui(),oe=J.pathname==="/workorders/it",K=J.pathname==="/workorders/it/receiver",U=J.pathname==="/workorders/it/assignment",X=J.pathname==="/workorders/it/reports",Z=J.pathname==="/workorders/it/knowledgebase";y.useEffect(()=>{const Se=()=>{k(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]);const ne=y.useCallback(async()=>{try{M(!0);const Se=await W();A(Se)}catch(Se){L("Failed to load work orders data"),console.error("Error loading work orders:",Se)}finally{M(!1)}},[W]);y.useEffect(()=>{ne()},[ne]);const ue=Se=>{if(!Se.handling_date||!Se.date)return 0;const gt=new Date(Se.date),rt=new Date(Se.handling_date);return Math.ceil((rt.getTime()-gt.getTime())/(1e3*60*60*24))},Ne=y.useCallback(()=>{const Se=new Date;let gt=new Date;switch(H){case"7days":gt.setDate(Se.getDate()-7);break;case"30days":gt.setDate(Se.getDate()-30);break;case"90days":gt.setDate(Se.getDate()-90);break;case"all":gt=new Date(0);break}return S.filter(rt=>{var Ye,tt,ve,pe,We,pt,Je,we,te;const kt=new Date(rt.date)>=gt,De=((Ye=rt.work_order_no)==null?void 0:Ye.toLowerCase().includes(r.toLowerCase()))||((ve=(tt=rt.requester)==null?void 0:tt.name)==null?void 0:ve.toLowerCase().includes(r.toLowerCase()))||((pe=rt.complaint)==null?void 0:pe.toLowerCase().includes(r.toLowerCase()))||((pt=(We=rt.service)==null?void 0:We.service_name)==null?void 0:pt.toLowerCase().includes(r.toLowerCase())),vt=a==="all"||rt.handling_status===a,Pe=o==="all"||((Je=rt.department)==null?void 0:Je.name)===o,$e=c==="all"||((we=rt.service)==null?void 0:we.priority)===c,Ae=f==="all"||((te=rt.service_type)==null?void 0:te.group_name)===f;return kt&&De&&vt&&Pe&&$e&&Ae})},[S,H,r,a,o,c,f])(),ke=(()=>{const Se=Ne.filter(Je=>["Resolved","Closed"].includes(Je.handling_status)),gt=Ne.filter(Je=>["New","Assigned","In Progress"].includes(Je.handling_status)),rt=Se.length>0?Se.reduce((Je,we)=>Je+ue(we),0)/Se.length:0,Nt=Object.entries(Ne.reduce((Je,we)=>{const te=we.handling_status||"Unknown";return Je[te]=(Je[te]||0)+1,Je},{})).map(([Je,we])=>({status:Je,count:we,percentage:we/Ne.length*100})),kt=Object.entries(Ne.reduce((Je,we)=>{var Oe;const te=((Oe=we.service)==null?void 0:Oe.priority)||"Not Set";return Je[te]=(Je[te]||0)+1,Je},{})).map(([Je,we])=>({priority:Je,count:we,percentage:we/Ne.length*100})),De=Object.entries(Ne.reduce((Je,we)=>{var Oe;const te=((Oe=we.department)==null?void 0:Oe.name)||"Unknown";return Je[te]=(Je[te]||0)+1,Je},{})).map(([Je,we])=>({dept:Je,count:we,percentage:we/Ne.length*100})).sort((Je,we)=>we.count-Je.count).slice(0,8),vt=Object.entries(Ne.reduce((Je,we)=>{var Oe;const te=((Oe=we.service_type)==null?void 0:Oe.group_name)||"Unknown";return Je[te]=(Je[te]||0)+1,Je},{})).map(([Je,we])=>({serviceType:Je,count:we,percentage:we/Ne.length*100})),Pe=Array.from({length:12},(Je,we)=>{const te=new Date;te.setMonth(te.getMonth()-(11-we));const Oe=te.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),He=Ne.filter(ft=>{const Re=new Date(ft.date);return Re.getMonth()===te.getMonth()&&Re.getFullYear()===te.getFullYear()}),Ze=He.filter(ft=>["Resolved","Closed"].includes(ft.handling_status));return{month:Oe,created:He.length,resolved:Ze.length,resolutionRate:He.length>0?Ze.length/He.length*100:0}}),$e=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(Je=>{const we=Ne.filter(Oe=>Oe.handling_status===Je),te=we.length>0?we.reduce((Oe,He)=>{const ft=(He.status_history||[]).find(Re=>Re.action===Je);if(ft){const Re=new Date().getTime()-new Date(ft.changed_at).getTime();return Oe+Math.ceil(Re/(1e3*60*60*24))}return Oe},0)/we.length:0;return{status:Je,avgTimeInStatus:Math.round(te),count:we.length}}),Ae=Object.entries(Ne.reduce((Je,we)=>{var Oe;const te=((Oe=we.service_type)==null?void 0:Oe.group_name)||"Unknown";if(Je[te]||(Je[te]=[]),we.handling_date&&we.date){const He=ue(we);Je[te].push(He)}return Je},{})).map(([Je,we])=>({serviceType:Je,avgResolutionTime:we.length>0?Math.round(we.reduce((te,Oe)=>te+Oe,0)/we.length):0,totalRequests:we.length,maxResolutionTime:we.length>0?Math.max(...we):0,minResolutionTime:we.length>0?Math.min(...we):0})),Ye=Object.entries(Ne.reduce((Je,we)=>{var Oe;const te=((Oe=we.service)==null?void 0:Oe.service_name)||"Unknown";if(Je[te]||(Je[te]=[]),we.handling_date&&we.date){const He=ue(we);Je[te].push(He)}return Je},{})).map(([Je,we])=>({service:Je,avgResolutionTime:we.length>0?Math.round(we.reduce((te,Oe)=>te+Oe,0)/we.length):0,totalRequests:we.length})),tt=["Critical","High","Medium","Low"].map(Je=>{const we=Ne.filter(He=>{var Ze;return((Ze=He.service)==null?void 0:Ze.priority)===Je}),te=we.filter(He=>["Resolved","Closed"].includes(He.handling_status)&&He.handling_date&&He.date),Oe=te.length>0?te.reduce((He,Ze)=>He+ue(Ze),0)/te.length:0;return{priority:Je,avgResolutionTime:Math.round(Oe),total:we.length,resolved:te.length}}),pe=Array.from({length:30},(Je,we)=>{const te=new Date;return te.setDate(te.getDate()-(29-we)),te.toISOString().split("T")[0]}).map(Je=>{const we=Ne.filter(Oe=>Oe.date.startsWith(Je)),te=we.filter(Oe=>["Resolved","Closed"].includes(Oe.handling_status));return{date:new Date(Je).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:we.length,resolved:te.length,backlog:we.length-te.length}}),We=Object.entries(Ne.reduce((Je,we)=>{var Oe,He,Ze,ft;const te=((He=(Oe=we.service)==null?void 0:Oe.owner)==null?void 0:He.name)||"Unknown Owner";if(Je[te]||(Je[te]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),we.handling_date&&we.date){const Re=ue(we);Je[te].workOrders.push({workOrderNo:we.work_order_no,priority:(Ze=we.service)==null?void 0:Ze.priority,resolutionTime:Re,status:we.handling_status,service:(ft=we.service)==null?void 0:ft.service_name}),Je[te].totalResolutionTime+=Re,["Resolved","Closed"].includes(we.handling_status)&&Je[te].resolvedCount++}return Je},{})).map(([Je,we])=>({owner:Je,avgResolutionTime:we.resolvedCount>0?Math.round(we.totalResolutionTime/we.resolvedCount):0,totalWorkOrders:we.workOrders.length,resolvedWorkOrders:we.resolvedCount,workOrders:we.workOrders})),pt=Object.entries(Ne.reduce((Je,we)=>{var Oe,He,Ze;const te=((Oe=we.assigned_to)==null?void 0:Oe.name)||"Unassigned";if(Je[te]||(Je[te]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),we.handling_date&&we.date){const ft=ue(we);Je[te].workOrders.push({workOrderNo:we.work_order_no,priority:(He=we.service)==null?void 0:He.priority,resolutionTime:ft,status:we.handling_status,service:(Ze=we.service)==null?void 0:Ze.service_name}),Je[te].totalResolutionTime+=ft,["Resolved","Closed"].includes(we.handling_status)&&Je[te].resolvedCount++}return Je},{})).map(([Je,we])=>({pic:Je,avgResolutionTime:we.resolvedCount>0?Math.round(we.totalResolutionTime/we.resolvedCount):0,totalWorkOrders:we.workOrders.length,resolvedWorkOrders:we.resolvedCount,workOrders:we.workOrders}));return{total:Ne.length,resolved:Se.length,active:gt.length,avgResolutionTime:Math.round(rt),resolutionRate:Ne.length>0?Se.length/Ne.length*100:0,statusDistribution:Nt,priorityDistribution:kt,departmentDistribution:De,serviceTypeDistribution:vt,monthlyTrends:Pe,statusTimingAnalysis:$e,serviceTypePerformance:Ae,servicePerformance:Ye,priorityTimingAnalysis:tt,dailyTrends:pe,serviceOwnerPerformance:We,picPerformance:pt}})(),ze=[{title:"Total Work Orders",value:ke.total.toString(),change:"+12%",icon:i.jsx(gf,{})},{title:"Avg Resolution Time",value:`${ke.avgResolutionTime} days`,change:ke.avgResolutionTime<5?"-2 days":"+1 day",icon:i.jsx(kr,{})},{title:"Service Types",value:ke.serviceTypePerformance.length.toString(),change:"+3%",icon:i.jsx(Whe,{})},{title:"Active Technicians",value:ke.picPerformance.filter(Se=>Se.pic!=="Unassigned").length.toString(),change:"+2%",icon:i.jsx(Va,{})}],he=y.useCallback(()=>{if(F("export_reports")){const Se=new Ar;Se.setFontSize(20),Se.setTextColor(40,40,40),Se.text("IT WORK ORDER REPORT",105,20,{align:"center"}),Se.setFontSize(12),Se.setTextColor(100,100,100),Se.text(`Generated on: ${new Date().toLocaleDateString("id-ID")}`,105,30,{align:"center"}),Se.text(`Time Range: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,37,{align:"center"}),Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("SUMMARY STATISTICS",20,55),Se.setFontSize(10),Se.setTextColor(80,80,80),Se.text(`Total Work Orders: ${ke.total}`,20,65),Se.text(`Resolved: ${ke.resolved}`,20,72),Se.text(`Active: ${ke.active}`,20,79),Se.text(`Average Resolution Time: ${ke.avgResolutionTime} days`,20,86),Se.text(`Resolution Rate: ${ke.resolutionRate.toFixed(1)}%`,20,93),Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("WORK ORDER DETAILS",20,110);const gt=["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],rt=Ne.map(De=>{var vt,Pe,$e,Ae,Ye;return[De.work_order_no||"-",((vt=De.requester)==null?void 0:vt.name)||"-",((Pe=De.department)==null?void 0:Pe.name)||"-",At(De.date),De.handling_status||"-",(($e=De.service)==null?void 0:$e.priority)||"Not Set",((Ae=De.service_type)==null?void 0:Ae.group_name)||"-",((Ye=De.assigned_to)==null?void 0:Ye.name)||"-",De.handling_date?ue(De).toString():"Ongoing"]});Xy(Se,{head:[gt],body:rt,startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const Nt=Se.lastAutoTable.finalY+15;if(Nt<250){Se.setFontSize(14),Se.setTextColor(40,40,40),Se.text("STATUS DISTRIBUTION",20,Nt);const De=ke.statusDistribution.map(vt=>[vt.status,vt.count.toString(),`${vt.percentage.toFixed(1)}%`]);Xy(Se,{head:[["Status","Count","Percentage"]],body:De,startY:Nt+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}})}const kt=Se.getNumberOfPages();for(let De=1;De<=kt;De++)Se.setPage(De),Se.setFontSize(8),Se.setTextColor(150,150,150),Se.text(`Page ${De} of ${kt}`,105,290,{align:"center"}),Se.text("Confidential - IT Department Report",105,295,{align:"center"});Se.save(`it-workorder-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[F,Ne,ke,H]),ye=y.useCallback(()=>{if(F("export_reports")){const Se=new Ar;Se.setFillColor(59,130,246),Se.rect(0,0,210,297,"F"),Se.setTextColor(255,255,255),Se.setFontSize(24),Se.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),Se.setFontSize(18),Se.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),Se.setFontSize(14),Se.text(`Period: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,150,{align:"center"}),Se.text(`Generated: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),Se.setFontSize(10),Se.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),Se.setTextColor(0,0,0),Se.setFontSize(12);const gt=50;Se.text("Performance Overview:",20,gt),Se.setFontSize(10),Se.text(` Total Work Orders Processed: ${ke.total}`,25,gt+10),Se.text(` Successfully Resolved: ${ke.resolved} (${ke.resolutionRate.toFixed(1)}%)`,25,gt+17),Se.text(` Average Resolution Time: ${ke.avgResolutionTime} days`,25,gt+24),Se.text(` Active/Pending Work Orders: ${ke.active}`,25,gt+31),Se.text("Key Metrics:",20,gt+50),Se.text(` Service Types Handled: ${ke.serviceTypePerformance.length}`,25,gt+60),Se.text(` Departments Served: ${ke.departmentDistribution.length}`,25,gt+67),Se.text(` Active Technicians: ${ke.picPerformance.filter($e=>$e.pic!=="Unassigned").length}`,25,gt+74),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),Se.setTextColor(0,0,0),Se.setFontSize(12),Se.text("Service Type Performance:",20,50);const rt=ke.serviceTypePerformance.sort(($e,Ae)=>Ae.avgResolutionTime-$e.avgResolutionTime).map($e=>[$e.serviceType,$e.avgResolutionTime.toString(),$e.totalRequests.toString()]);Xy(Se,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:rt,startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const Nt=Se.lastAutoTable.finalY+15;Se.setFontSize(12),Se.text("Technician Performance:",20,Nt);const kt=ke.picPerformance.filter($e=>$e.pic!=="Unassigned").sort(($e,Ae)=>Ae.totalWorkOrders-$e.totalWorkOrders).map($e=>[$e.pic,$e.avgResolutionTime.toString(),$e.totalWorkOrders.toString(),$e.resolvedWorkOrders.toString()]);Xy(Se,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:kt,startY:Nt+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),Se.addPage(),Se.setFillColor(59,130,246),Se.rect(0,0,210,30,"F"),Se.setTextColor(255,255,255),Se.setFontSize(16),Se.text("DETAILED WORK ORDERS",105,20,{align:"center"});const De=["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],vt=Ne.map($e=>{var Ae,Ye,tt,ve,pe;return[$e.work_order_no||"-",((Ae=$e.requester)==null?void 0:Ae.name)||"-",((Ye=$e.department)==null?void 0:Ye.name)||"-",At($e.date),$e.handling_status||"-",((tt=$e.service)==null?void 0:tt.priority)||"Not Set",((ve=$e.service_type)==null?void 0:ve.group_name)||"-",((pe=$e.assigned_to)==null?void 0:pe.name)||"-",$e.handling_date?ue($e).toString():"Ongoing"]});Xy(Se,{head:[De],body:vt,startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const Pe=Se.getNumberOfPages();for(let $e=1;$e<=Pe;$e++)Se.setPage($e),Se.setFontSize(8),Se.setTextColor(150,150,150),Se.text(`Page ${$e} of ${Pe}`,105,290,{align:"center"}),Se.text("Confidential IT Department Report",105,295,{align:"center"});Se.save(`it-detailed-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[F,Ne,ke,H]),ae=Se=>{switch(Se==null?void 0:Se.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},ie=()=>{e(Se=>!Se)},dt=v*b,ct=dt-b,Le=Ne.slice(ct,dt),Qe=Math.ceil(Ne.length/b),yt=Se=>w(Se);y.useEffect(()=>{w(1)},[r,a,o,c,f,H]);const bt=Se=>{B(Se),E(!0)},It=()=>{E(!1),B(void 0)},At=Se=>{if(!Se)return"-";try{const gt=new Date(Se);return isNaN(gt.getTime())?"-":gt.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return _?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[i.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),i.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):R?i.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[i.jsx(Ur,{className:"text-red-600 text-5xl"}),i.jsx("p",{className:"ml-4 text-lg text-red-800",children:R}),i.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:i.jsx(cu,{}),isMobile:N,toggleSidebar:ie}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${U?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),i.jsx(O.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsxs("select",{value:H,onChange:Se=>V(Se.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"7days",children:"Last 7 Days"}),i.jsx("option",{value:"30days",children:"Last 30 Days"}),i.jsx("option",{value:"90days",children:"Last 90 Days"}),i.jsx("option",{value:"all",children:"All Time"})]}),F("export_reports")&&i.jsxs(i.Fragment,{children:[i.jsxs(O.button,{onClick:he,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[i.jsx(iI,{className:"mr-2"})," Export Summary PDF"]}),i.jsxs(O.button,{onClick:ye,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[i.jsx(iI,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:ze.map((Se,gt)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:gt*.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:Se.title}),i.jsx("p",{className:"text-2xl font-bold text-gray-900",children:Se.value}),i.jsxs("p",{className:`mt-2 text-xs font-semibold ${Se.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[Se.change," from previous period"]})]}),i.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:Se.icon})]})},Se.title))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2"})," Monthly Work Order Trends"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(w$e,{data:ke.monthlyTrends,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"month"}),i.jsx(Mo,{}),i.jsx(Si,{}),i.jsx(Rf,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),i.jsx(Rf,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(nI,{className:"mr-2"})," Status Distribution"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(tL,{children:[i.jsx(pu,{data:ke.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:Se,percentage:gt})=>`${Se}: ${gt.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:ke.statusDistribution.map((Se,gt)=>i.jsx(Lp,{fill:PG[gt%PG.length]},`cell-${gt}`))}),i.jsx(Si,{})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(nI,{className:"mr-2"})," Priority Resolution Time (Days)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Eb,{data:ke.priorityTimingAnalysis,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"priority"}),i.jsx(Mo,{}),i.jsx(Si,{formatter:Se=>[`${Se} days`,"Avg Resolution Time"]}),i.jsx(lu,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Va,{className:"mr-2"})," Department Distribution"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Eb,{data:ke.departmentDistribution,layout:"vertical",children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{type:"number"}),i.jsx(Mo,{type:"category",dataKey:"dept",width:100}),i.jsx(Si,{}),i.jsx(lu,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2"})," Status Timing Analysis"]}),i.jsx("div",{className:"space-y-4",children:ke.statusTimingAnalysis.filter(Se=>Se.count>0).map((Se,gt)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${ae(Se.status).split(" ")[0]}`}),i.jsx("span",{className:"font-medium text-sm capitalize",children:Se.status})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold",children:[Se.avgTimeInStatus,"d avg"]}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Se.count," tickets"]})]})]},Se.status))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Pl,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(Eb,{data:ke.serviceTypePerformance.sort((Se,gt)=>gt.avgResolutionTime-Se.avgResolutionTime).slice(0,8),layout:"vertical",children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{type:"number"}),i.jsx(Mo,{type:"category",dataKey:"serviceType",width:120}),i.jsx(Si,{formatter:Se=>[`${Se} days`,"Avg Resolution Time"]}),i.jsx(lu,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:ke.serviceTypePerformance.map((Se,gt)=>i.jsx(Lp,{fill:Se.avgResolutionTime>10?"#FF8042":Se.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${gt}`))})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),i.jsx(kl,{width:"100%",height:300,children:i.jsxs(fN,{data:ke.dailyTrends,children:[i.jsx(nu,{strokeDasharray:"3 3"}),i.jsx(To,{dataKey:"date"}),i.jsx(Mo,{}),i.jsx(Si,{}),i.jsx(kf,{}),i.jsx(Lf,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),i.jsx(Lf,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(un,{className:"mr-2"})," Service Owner Performance"]}),i.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:ke.serviceOwnerPerformance.sort((Se,gt)=>gt.totalWorkOrders-Se.totalWorkOrders).map((Se,gt)=>i.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex justify-between items-start mb-3",children:[i.jsxs("div",{children:[i.jsx("h4",{className:"font-semibold text-gray-900",children:Se.owner}),i.jsxs("p",{className:"text-sm text-gray-600",children:[Se.totalWorkOrders," work orders"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[Se.avgResolutionTime," days avg"]}),i.jsxs("div",{className:"text-sm text-gray-500",children:[Se.resolvedWorkOrders," resolved"]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[Se.workOrders.slice(0,3).map((rt,Nt)=>i.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[i.jsx("span",{className:"font-medium",children:rt.workOrderNo}),i.jsx("span",{className:`px-2 py-1 rounded text-xs ${rt.priority==="Critical"?"bg-red-100 text-red-800":rt.priority==="High"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:rt.priority}),i.jsxs("span",{children:[rt.resolutionTime,"d"]})]},Nt)),Se.workOrders.length>3&&i.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",Se.workOrders.length-3," more work orders"]})]})]},Se.owner))})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[i.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Va,{className:"mr-2"})," Technician Performance"]}),i.jsx("div",{className:"space-y-3",children:ke.picPerformance.filter(Se=>Se.pic!=="Unassigned").sort((Se,gt)=>gt.totalWorkOrders-Se.totalWorkOrders).slice(0,6).map((Se,gt)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),i.jsxs("div",{children:[i.jsx("span",{className:"font-medium text-sm",children:Se.pic}),i.jsxs("div",{className:"text-xs text-gray-500",children:[Se.totalWorkOrders," orders  ",Se.avgResolutionTime,"d avg"]})]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("div",{className:"font-semibold",children:[Se.resolvedWorkOrders,"/",Se.totalWorkOrders]}),i.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},Se.pic))})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[i.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[i.jsxs("div",{className:"relative w-full md:w-1/3",children:[i.jsx(Ti,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),i.jsx("input",{type:"text",placeholder:"Search work orders...",value:r,onChange:Se=>n(Se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:a,onChange:Se=>s(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Statuses"}),i.jsx("option",{value:"New",children:"New"}),i.jsx("option",{value:"Assigned",children:"Assigned"}),i.jsx("option",{value:"In Progress",children:"In Progress"}),i.jsx("option",{value:"Escalated",children:"Escalated"}),i.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),i.jsx("option",{value:"Resolved",children:"Resolved"}),i.jsx("option",{value:"Cancel",children:"Cancel"}),i.jsx("option",{value:"Closed",children:"Closed"})]}),i.jsx(Sa,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:o,onChange:Se=>l(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(S.map(Se=>{var gt;return(gt=Se.department)==null?void 0:gt.name}).filter(Boolean))).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]}),i.jsx(Sa,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs("div",{className:"relative w-full sm:w-auto",children:[i.jsxs("select",{value:c,onChange:Se=>u(Se.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[i.jsx("option",{value:"all",children:"All Priorities"}),i.jsx("option",{value:"Critical",children:"Critical"}),i.jsx("option",{value:"High",children:"High"}),i.jsx("option",{value:"Medium",children:"Medium"}),i.jsx("option",{value:"Low",children:"Low"})]}),i.jsx(Sa,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),i.jsxs(O.button,{onClick:()=>p(!g),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[i.jsx(go,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),i.jsx(sr,{children:g&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),i.jsxs("select",{value:f,onChange:Se=>m(Se.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[i.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(S.map(Se=>{var gt;return(gt=Se.service_type)==null?void 0:gt.group_name}).filter(Boolean))).map(Se=>i.jsx("option",{value:Se,children:Se},Se))]})]})})})})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[i.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),Le.length===0?i.jsxs("div",{className:"text-center py-10 text-gray-500",children:[i.jsx(gf,{className:"mx-auto h-12 w-12 text-gray-400"}),i.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),i.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i.jsx(sr,{children:Le.map((Se,gt)=>{var rt,Nt,kt,De,vt,Pe,$e;return i.jsxs(O.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ct+gt+1}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:Se.work_order_no}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((rt=Se.requester)==null?void 0:rt.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Nt=Se.department)==null?void 0:Nt.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:At(Se.date)}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-bold rounded-full ${((kt=Se.service)==null?void 0:kt.priority)==="Critical"?"bg-red-100 text-red-800":((De=Se.service)==null?void 0:De.priority)==="High"?"bg-orange-100 text-orange-800":((vt=Se.service)==null?void 0:vt.priority)==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:((Pe=Se.service)==null?void 0:Pe.priority)||"Not Set"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${ae(Se.handling_status)}`,children:Se.handling_status||"Unknown"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:(($e=Se.assigned_to)==null?void 0:$e.name)||"-"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Se.handling_date?`${ue(Se)} days`:"Ongoing"}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:i.jsxs(O.button,{onClick:()=>bt(Se),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[i.jsx(Io,{className:"mr-1",size:16})," View"]})})]},Se.id)})})})]}),Ne.length>b&&i.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[i.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[i.jsx(O.button,{onClick:()=>yt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),i.jsx(O.button,{onClick:()=>yt(v+1),disabled:v===Qe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),i.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[i.jsx("div",{children:i.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",i.jsx("span",{className:"font-medium",children:ct+1})," to ",i.jsx("span",{className:"font-medium",children:Math.min(dt,Ne.length)})," of"," ",i.jsx("span",{className:"font-medium",children:Ne.length})," results"]})}),i.jsx("div",{children:i.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[i.jsxs(O.button,{onClick:()=>yt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[i.jsx("span",{className:"sr-only",children:"Previous"}),i.jsx(Ff,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Qe)].map((Se,gt)=>i.jsx(O.button,{onClick:()=>yt(gt+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===gt+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:gt+1},gt)),i.jsxs(O.button,{onClick:()=>yt(v+1),disabled:v===Qe,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[i.jsx("span",{className:"sr-only",children:"Next"}),i.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),i.jsx(uUe,{isOpen:D,onClose:It,workOrder:I})]})},fUe=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Kc=t=>t==null||t===""?"N/A":String(t),Eae=({isOpen:t,onClose:e,title:r,children:n,className:a,maxWidth:s="max-w-xl"})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} ${a||"w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"w-5 h-5"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Jc=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>i.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[i.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),i.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),QT=({title:t})=>i.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),hUe=({record:t,onUpdateRecord:e})=>i.jsxs("div",{className:"space-y-6",children:[i.jsx(QT,{title:"Monitoring Details"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Jc,{label:"Monitoring Interval",value:Kc(t.interval)}),i.jsx(Jc,{label:"Unit",value:Kc(t.unitWilayah)}),i.jsx(Jc,{label:"Machine",value:Kc(t.mesin)}),i.jsx(Jc,{label:"Item",value:Kc(t.item)}),i.jsx(Jc,{label:"Unit of Measure",value:Kc(t.unitOfMeasure)}),i.jsx(Jc,{label:"Monitoring Result",value:Kc(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),i.jsx(Jc,{label:"MS Status",value:Kc(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),i.jsx(QT,{title:"Standard"}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(Jc,{label:"Standard (Min)",value:Kc(t.standardMin)}),i.jsx(Jc,{label:"Standard (Max)",value:Kc(t.standardMax)}),i.jsx(Jc,{label:"Visual Standard",value:Kc(t.standartVisual),className:"md:col-span-2"})]}),i.jsx(QT,{title:"Description"}),i.jsx("div",{className:"grid grid-cols-1",children:i.jsx(Jc,{label:"Notes",value:Kc(t.notes)})})]}),mUe=({records:t})=>{const[e,r]=y.useState(""),[n,a]=y.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const s=y.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const v=[...new Set(t.filter(w=>w.mesin&&w.mesin!=="N/A"&&w.mesin.trim()!=="").map(w=>w.mesin))].sort();return console.log("Available machines:",v),["",...v]},[t]),o=y.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const v=t.filter(b=>b.mesin===e&&b.item&&b.item!=="N/A"&&b.item.trim()!=="").map(b=>b.item),w=[...new Set(v)].sort();return console.log(`Available items for ${e}:`,w),["",...w]},[t,e]),l=y.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const v=t.filter(w=>{const b=w.mesin===e,N=w.item===n,k=w.id.startsWith("activity-"),S=w.monitoringResult&&w.monitoringResult!=="N/A"&&w.monitoringResult!=="MS"&&w.monitoringResult!=="TMS"&&!isNaN(parseFloat(w.monitoringResult))&&isFinite(parseFloat(w.monitoringResult));return console.log(`Record ${w.id}:`,{machineMatch:b,itemMatch:N,hasActivity:k,monitoringResult:w.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(w.monitoringResult):null}),b&&N&&k&&S}).sort((w,b)=>new Date(w.date).getTime()-new Date(b.date).getTime()).map(w=>{const b=parseFloat(w.monitoringResult);return console.log(`Trend data point: ${w.date}, ${w.monitoringResult}, numeric: ${b}`),{date:new Date(w.date),dateString:new Date(w.date).toLocaleDateString("en-US"),result:b,msStatus:w.msStatus,notes:w.notes,machine:w.mesin,item:w.item,standardMin:w.standardMin,standardMax:w.standardMax,isActivity:w.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,v),v},[t,e,n]),c=y.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const v=l.map(U=>U.result);console.log("Analysis results:",v);const w=v.reduce((U,X)=>U+X,0)/v.length,b=[...v].sort((U,X)=>U-X),N=b.length%2===0?(b[b.length/2-1]+b[b.length/2])/2:b[Math.floor(b.length/2)],k=v.reduce((U,X)=>U+Math.pow(X-w,2),0)/v.length,S=Math.sqrt(k),A=Math.min(...v),_=Math.max(...v),M=_-A,R=l.map(U=>U.date.getTime()),L=l.map(U=>U.result),I=R.length,B=R.reduce((U,X)=>U+X,0),D=L.reduce((U,X)=>U+X,0),E=R.reduce((U,X,Z)=>U+X*L[Z],0),H=R.reduce((U,X)=>U+X*X,0),V=I*H-B*B,Y=V!==0?(I*E-B*D)/V:0,W=V!==0?(D-Y*B)/I:0,F=Y>.001?"increasing":Y<-.001?"decreasing":"stable",z=S>0?Math.abs(Y)/S:0,J=l.filter(U=>Math.abs(U.result-w)>2*S),oe=l[0],K=oe.standardMin!==null&&oe.standardMax!==null?l.filter(U=>U.result>=(oe.standardMin||0)&&U.result<=(oe.standardMax||1/0)).length/l.length*100:null;return{mean:w,median:N,stdDev:S,min:A,max:_,range:M,count:v.length,trendDirection:F,trendStrength:z*1e3,slope:Y,outliers:J,withinStandard:K,coefficientOfVariation:w>0?S/w*100:0}}catch(v){return console.error("Error in statistical analysis:",v),null}},[l]),u=y.useMemo(()=>{const v=t.length,w=new Set(t.map(k=>k.mesin)).size,b=t.filter(k=>k.msStatus==="MS").length,N=v>0?b/v*100:0;return[{title:"Total Monitoring Items",value:v.toLocaleString("id-ID"),icon:i.jsx(bn,{})},{title:"Machines Monitored",value:w.toLocaleString("id-ID"),icon:i.jsx(Ax,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:i.jsx(wr,{})}]},[t]),f=y.useMemo(()=>{const v={};return t.forEach(w=>{w.mesin&&(v[w.mesin]=(v[w.mesin]||0)+1)}),Object.entries(v).sort(([,w],[,b])=>b-w).slice(0,5).map(([w,b])=>({name:w,count:b}))},[t]),m=y.useMemo(()=>{const v={};return t.forEach(w=>{if(w.date){const b=new Date(w.date),N=b.getFullYear(),k=(b.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${k}`;v[S]=(v[S]||0)+1}}),Object.entries(v).sort(([w],[b])=>w.localeCompare(b)).map(([w,b])=>{const[N,k]=w.split("-");return{name:`${new Date(Number(N),Number(k)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":b}})},[t]),g=y.useMemo(()=>{const v={MS:0,TMS:0,"N/A":0};return t.forEach(w=>{const b=w.msStatus||"N/A";v[b]=(v[b]||0)+1}),[{name:"MS",value:v.MS},{name:"TMS",value:v.TMS},{name:"N/A",value:v["N/A"]}].filter(w=>w.value>0)},[t]),p=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:u.map((v,w)=>i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:w*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:v.title}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.value})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:v.icon})]})},v.title))}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),i.jsx("div",{className:"space-y-3",children:f.map((v,w)=>i.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[i.jsxs("div",{className:"flex items-center",children:[i.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:i.jsx("span",{className:"text-blue-600 font-bold text-sm",children:w+1})}),i.jsx("span",{className:"font-medium text-gray-800",children:v.name})]}),i.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[v.count," events"]})]},v.name))})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(wr,{className:"mr-2 text-blue-600"})," Status Distribution"]}),g.length>0?i.jsx("div",{className:"w-full h-64",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(tL,{children:[i.jsx(pu,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:v,percent:w})=>`${v} ${(w*100).toFixed(0)}%`,children:g.map((v,w)=>i.jsx(Lp,{fill:p[w%p.length]},`cell-${w}`))}),i.jsx(Si,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[`${v} events`,"Count"]})]})})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?i.jsx("div",{className:"h-80",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(fN,{data:m,children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Si,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),i.jsx(Lf,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):i.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[i.jsxs("div",{className:"text-center",children:[i.jsx(lf,{className:"mx-auto text-gray-300 mb-4",size:64}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),i.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),i.jsxs("select",{value:e,onChange:v=>{console.log("Machine selected:",v.target.value),r(v.target.value),a("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[i.jsx("option",{value:"",children:"Choose machine..."}),s.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))]}),e&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),i.jsxs("select",{value:n,onChange:v=>{console.log("Item selected:",v.target.value),a(v.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[i.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))]}),n&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?i.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Zi,{className:"mx-auto text-gray-300 mb-4",size:48}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),i.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),i.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),i.jsx("button",{onClick:()=>{r(""),a("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?i.jsxs("div",{className:"space-y-8",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("p",{className:"text-gray-600",children:[e,"  ",n]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[i.jsx("select",{value:e,onChange:v=>{r(v.target.value),a("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:s.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))}),i.jsx("select",{value:n,onChange:v=>a(v.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(v=>i.jsx("option",{value:v,children:v},v))})]})]})}),i.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(bn,{className:"w-6 h-6"})})]})}),i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(lf,{className:"w-6 h-6"})})]})}),i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:i.jsx(hc,{className:"w-6 h-6"})})]})})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(lf,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),i.jsx("div",{className:"h-80",children:i.jsx(kl,{width:"100%",height:"100%",children:i.jsxs(fN,{data:l,children:[i.jsx(nu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),i.jsx(To,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Mo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),i.jsx(Si,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[v,"Value"]}),i.jsx(Lf,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[i.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[i.jsx(cu,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),i.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),i.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[i.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),i.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[i.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),i.jsx("div",{className:"overflow-x-auto",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((v,w)=>i.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.dateString}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:v.result.toLocaleString()}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:i.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.msStatus==="MS"?"bg-green-100 text-green-800":v.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v.msStatus||"N/A"})}),i.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:v.notes||"-"})]},w))})]})})]})]}):i.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),i.jsxs("div",{className:"text-center py-12",children:[i.jsx(Ur,{className:"mx-auto text-yellow-500 mb-4",size:48}),i.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},pUe=y.createContext(void 0),gUe=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:a})=>{const s=u=>{n(u)},o=r.reduce((u,f)=>{const m=String(f.scheduleId||"unknown");return u[m]||(u[m]={scheduleId:m,machine:f.mesin,unit:f.unitWilayah,interval:f.interval,items:[]}),u[m].items.push(f),u},{}),l=({status:u})=>{const f={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:""},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:""},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:""},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:""}},m=f[u]||f.New;return i.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${m.color}`,children:[i.jsx("span",{className:"text-xs",children:m.icon}),u]})},c=({status:u})=>{const f={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[u]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:u};return i.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${f.color}`,children:f.label})};return i.jsx(Eae,{isOpen:t,onClose:e,title:`Schedules for ${new Date(a).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:i.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[i.jsxs("div",{children:[i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),r.length," total items"]}),i.jsxs("span",{className:"flex items-center gap-2",children:[i.jsx(Hi,{className:"w-4 h-4"}),Object.keys(o).length," schedules"]})]})]}),i.jsxs("div",{className:"flex gap-2",children:[Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="Done"))&&i.jsx(l,{status:"Done"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="On Progress"))&&i.jsx(l,{status:"On Progress"}),Object.values(o).some(u=>u.items.some(f=>f.scheduleStatus==="New"))&&i.jsx(l,{status:"New"})]})]})}),r.length===0?i.jsxs("div",{className:"text-center py-12",children:[i.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:i.jsx(Oa,{className:"text-gray-400 text-2xl"})}),i.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),i.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):i.jsx("div",{className:"space-y-4",children:Object.values(o).map(u=>i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[i.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:i.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[i.jsx("h4",{className:"text-lg font-bold text-gray-900",children:u.machine}),u.items.every(f=>f.scheduleStatus===u.items[0].scheduleStatus)&&i.jsx(l,{status:u.items[0].scheduleStatus||"New"})]}),i.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(bn,{className:"w-4 h-4"}),u.items.length," item",u.items.length>1?"s":""]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(kr,{className:"w-4 h-4"}),u.interval]}),i.jsxs("span",{className:"flex items-center gap-1.5",children:[i.jsx(Za,{className:"w-4 h-4"}),u.unit]})]})]})})}),i.jsx("div",{className:"divide-y divide-gray-100",children:u.items.map((f,m)=>i.jsxs(O.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>s(f),className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsxs("div",{className:"flex items-start justify-between mb-3",children:[i.jsxs("div",{children:[i.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:f.item}),i.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.jsx(l,{status:f.scheduleStatus||"New"}),f.monitoringResult&&f.monitoringResult!=="N/A"&&i.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:[" Result: ",f.monitoringResult]})]})]}),i.jsx(c,{status:f.msStatus})]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[f.standardMin!==null&&f.standardMax!==null&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Standard:"}),i.jsxs("span",{children:[f.standardMin," - ",f.standardMax]})]}),f.unitOfMeasure&&f.unitOfMeasure!=="N/A"&&i.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium",children:"Unit:"}),i.jsx("span",{children:f.unitOfMeasure})]}),f.notes&&f.notes!=="N/A"&&i.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[i.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),i.jsx("span",{className:"flex-1",children:f.notes})]})]})]}),i.jsx("div",{className:"flex-shrink-0",children:i.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:i.jsx(ta,{className:"w-4 h-4"})})})]},`${f.id}-${m}`))})]},u.scheduleId))}),i.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:i.jsx(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},LG=()=>{const t=nr(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=ir(),[a,s]=y.useState(()=>{const de=localStorage.getItem("sidebarOpen");return JSON.parse(de||"false")}),[o,l]=y.useState(!1),[c,u]=y.useState(!0),[f,m]=y.useState(null),[g,p]=y.useState(window.innerWidth<768),[v,w]=y.useState(!1),[b,N]=y.useState(!1),[k,S]=y.useState(!1),[A,_]=y.useState(!1),[M,R]=y.useState(null),[L,I]=y.useState("calendar"),[B,D]=y.useState(null),[E,H]=y.useState(null),[V,Y]=y.useState([]),[W,F]=y.useState([]),[z,J]=y.useState([]),[oe,K]=y.useState(""),[U,X]=y.useState(!1),[Z,ne]=y.useState(1),[ue,_e]=y.useState([]),[Ne,ge]=y.useState([]),[ke,ze]=y.useState([]),[he,ye]=y.useState({startDate:null,endDate:null,selectedUnits:[]}),[ae,ie]=y.useState(!1),[dt,ct]=y.useState([]),[Le,Qe]=y.useState(""),yt=y.useRef(null),bt=y.useRef(null),[It,At]=y.useState([]),[Se,gt]=y.useState([]),[rt,Nt]=y.useState(!1),[kt,De]=y.useState(!1),vt=y.useRef(null),[Pe,$e]=y.useState(!1),Ae=y.useRef(null),[Ye,tt]=y.useState(!1),ve=y.useRef(null),pe=y.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);y.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const We=y.useMemo(()=>ue.map(de=>{var Xr;const Ke=Ne.flatMap(Mt=>Mt.mesin).find(Mt=>Mt.id===de.id_mesins),wt=(Ke==null?void 0:Ke.name)||`Machine ${de.id_mesins}`,or=((Xr=de.monitoring_interval)==null?void 0:Xr.type_interval)||"weekly";return{id:`schedule-${de.id_monitoring_schedule}`,mesin:wt,item:"",interval:or,unitWilayah:de.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ue,Ne]),pt=y.useCallback((de,Ke,wt)=>{const or=[];de.forEach(Mt=>{var pa;const rr=wt.flatMap(Hr=>Hr.mesin).find(Hr=>Hr.id===Mt.id_mesins),Mr=(rr==null?void 0:rr.name)||`Machine ${Mt.id_mesins}`,jr=((pa=Mt.monitoring_interval)==null?void 0:pa.type_interval)||"weekly",ur=jr==="weekly"?"Weekly":jr==="monthly"?"Monthly":jr==="quarterly"?"3 Months":jr==="semi-annual"?"6 Months":jr==="yearly"?"1 Year":"Daily",Fr=Mt.item_mesins&&Mt.item_mesins.length>0?Mt.item_mesins:(rr==null?void 0:rr.item_mesin)||[];Mt.monitoring_activities&&Mt.monitoring_activities.length>0?Mt.monitoring_activities.forEach(Hr=>{var en;let ga=Fr.find(In=>In.id===Hr.id_item_mesin);if(!ga)for(const In of wt){for(const Cc of In.mesin){const Xs=(en=Cc.item_mesin)==null?void 0:en.find(bo=>bo.id===Hr.id_item_mesin);if(Xs){ga=Xs;break}}if(ga)break}ga||(console.warn(`Item mesin not found for activity ${Hr.id_monitoring_activity}, item_mesin_id: ${Hr.id_item_mesin}`),ga={id:Hr.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:Mt.id_mesins,created_at:"",updated_at:""});let jn="N/A";Hr.hasil_ms_tms==="ms"?jn="MS":Hr.hasil_ms_tms==="tms"&&(jn="TMS");let Tn=Hr.hasil_monitoring||"N/A";if(Hr.hasil_monitoring&&Hr.hasil_monitoring!=="N/A"){const In=parseFloat(Hr.hasil_monitoring);!isNaN(In)&&isFinite(In)&&(Tn=In.toString())}or.push({id:`activity-${Hr.id_monitoring_activity}`,mesin:Mr,date:Hr.tgl_monitoring,interval:ur,unitWilayah:Mt.unit,item:ga.item_mesin||"Unknown Item",unitOfMeasure:ga.satuan||"N/A",standardMin:ga.standard_min?parseFloat(ga.standard_min):null,standardMax:ga.standard_max?parseFloat(ga.standard_max):null,standartVisual:ga.standard_visual||"N/A",monitoringResult:Tn,msStatus:jn,notes:Hr.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${Mr}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Mt.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Mt.id_monitoring_schedule,scheduleStatus:Mt.status||"New"})}):Fr.forEach(Hr=>{or.push({id:`schedule-${Mt.id_monitoring_schedule}-scheduled-${Hr.id}`,mesin:Mr,date:Mt.tgl_start,interval:ur,unitWilayah:Mt.unit,item:Hr.item_mesin||"Unknown Item",unitOfMeasure:Hr.satuan||"N/A",standardMin:Hr.standard_min?parseFloat(Hr.standard_min):null,standardMax:Hr.standard_max?parseFloat(Hr.standard_max):null,standartVisual:Hr.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${Mr}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:Mt.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:Mt.id_monitoring_schedule,scheduleStatus:Mt.status||"New"})})}),console.log("Converted records:",or.length),console.log("Sample converted records:",or.slice(0,5));const Xr=or.filter(Mt=>Mt.monitoringResult&&Mt.monitoringResult!=="N/A"&&!isNaN(parseFloat(Mt.monitoringResult)));return console.log("Numeric records available:",Xr.length),console.log("Numeric records sample:",Xr.slice(0,3)),or},[]),[Je,we]=y.useState([]),te=300*1e3,[Oe,He]=y.useState(null);y.useEffect(()=>{let de=!0;const Ke=new AbortController;return(async()=>{var Xr,Mt,rr;if(!de)return;const or=Date.now();if(Oe&&or-Oe.timestamp<te){_e(Oe.schedules),ge(Oe.masterData.unitsWithMachines||[]),ze(Oe.masterData.intervals||[]);const Mr=pt(Oe.schedules,[],Oe.masterData.unitsWithMachines||[]);we(Mr),u(!1);return}try{u(!0),m(null);const[Mr,jr]=await Promise.all([e(),r()]);if(!de)return;console.log("Schedules data:",Mr),console.log("Master data:",jr),console.log("Units with machines:",jr.unitsWithMachines),jr.unitsWithMachines&&jr.unitsWithMachines.length>0&&console.log("Sample machine items:",(rr=(Mt=(Xr=jr.unitsWithMachines[0])==null?void 0:Xr.mesin)==null?void 0:Mt[0])==null?void 0:rr.item_mesin),He({schedules:Mr,masterData:jr,timestamp:or}),_e(Mr),ge(jr.unitsWithMachines||[]),ze(jr.intervals||[]);const ur=pt(Mr,[],jr.unitsWithMachines||[]);we(ur)}catch(Mr){if(!de)return;m(Mr instanceof Error?Mr.message:"Failed to fetch data")}finally{de&&u(!1)}})(),()=>{de=!1,Ke.abort()}},[e,r,pt,Oe]);const Ze={role:"Unit Head Engineering"},ft=y.useMemo(()=>["",...new Set(Je.map(de=>de.unitWilayah))],[Je]),Re=y.useMemo(()=>["",...new Set(Je.map(de=>de.mesin))],[Je]);y.useMemo(()=>["",...new Set(Je.map(de=>de.item))],[Je]);const Fe=y.useMemo(()=>{if(Je.length===0)return[];let de=Je;if(oe){const Ke=oe.toLowerCase();if(de=de.filter(wt=>wt.mesin.toLowerCase().includes(Ke)||wt.item.toLowerCase().includes(Ke)||wt.unitWilayah.toLowerCase().includes(Ke)),de.length===0)return[]}if(B&&E){const Ke=B.toISOString().split("T")[0],wt=E.toISOString().split("T")[0];if(de=de.filter(or=>or.date>=Ke&&or.date<=wt),de.length===0)return[]}if(It.length>0){const Ke=new Set(It);if(de=de.filter(wt=>Ke.has(wt.msStatus)),de.length===0)return[]}if(V.length>0){const Ke=new Set(V);if(de=de.filter(wt=>Ke.has(wt.unitWilayah)),de.length===0)return[]}if(W.length>0){const Ke=new Set(W);if(de=de.filter(wt=>Ke.has(wt.mesin)),de.length===0)return[]}return de},[Je,B,E,It,V,W,oe]);y.useEffect(()=>{const de=()=>{p(window.innerWidth<768),window.innerWidth<768&&s(!1)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),y.useEffect(()=>{const de=Ke=>{yt.current&&!yt.current.contains(Ke.target)&&w(!1),bt.current&&!bt.current.contains(Ke.target)&&N(!1),vt.current&&!vt.current.contains(Ke.target)&&!Ke.target.closest(".status-filter-toggle")&&De(!1),Ae.current&&!Ae.current.contains(Ke.target)&&!Ke.target.closest(".machine-filter-toggle")&&$e(!1),ve.current&&!ve.current.contains(Ke.target)&&!Ke.target.closest(".unit-filter-toggle")&&tt(!1)};return document.addEventListener("mousedown",de),()=>{document.removeEventListener("mousedown",de)}},[]);const Ue=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!a)),s(de=>!de)},Lt=de=>{R(de),S(!0)},zt=y.useCallback(de=>{we(Ke=>Ke.map(wt=>wt.id===de.id?de:wt))},[]),Ut=(de,Ke)=>new Date(de,Ke+1,0).getDate(),st=(de,Ke)=>{const wt=new Date(de,Ke,1).getDay();return wt===0?6:wt-1},jt=y.useMemo(()=>new Date,[]),[Vt,gr]=y.useState(jt),fn=()=>{gr(de=>new Date(de.getFullYear(),de.getMonth()-1,1))},gn=()=>{gr(de=>new Date(de.getFullYear(),de.getMonth()+1,1))},ar=()=>{gr(new Date)},Wr=(de,Ke)=>{ct(de),Qe(Ke),ie(!0)},Kr=de=>{console.log("Navigating with record:",de);let Ke;if(de.scheduleId)Ke=de.scheduleId;else if(de.id.startsWith("schedule-")){const wt=de.id.split("-");wt.length>=2&&(Ke=wt[1])}else if(de.id.startsWith("activity-")){const wt=de.id.split("-");if(wt.length>=2){for(let or of wt)if(/^\d+$/.test(or)){Ke=or;break}}}if(!Ke){console.error("Could not extract schedule ID from record:",de),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",Ke),t(`/monitoringmaintenance/detailmonitoringmaintenance/${Ke}`),ie(!1)},Zt=()=>{const de=Vt.getFullYear(),Ke=Vt.getMonth(),wt=Ut(de,Ke),or=st(de,Ke),Xr=[];let Mt=1,rr=[],Mr=null;for(let jr=0;jr<or;jr++)rr.push(i.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${jr}`));for(;Mt<=wt;){const jr=new Date(de,Ke,Mt);Mr||(Mr=jr);const ur=`${de}-${String(Ke+1).padStart(2,"0")}-${String(Mt).padStart(2,"0")}`,Fr=Fe.filter(Tn=>Tn.date===ur),pa=Fr.reduce((Tn,en)=>{const In=String(en.scheduleId||"unknown");return Tn[In]?Tn[In].items.push(en):Tn[In]={scheduleId:In,machine:en.mesin,items:[en]},Tn},{}),Hr=Object.values(pa),Fs=jt.toDateString()===jr.toDateString(),ga=Hr.length>0;let jn="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(Fs)jn+="bg-blue-50 border-blue-200 shadow-sm ";else if(ga){const Tn=Hr.flatMap(en=>en.items.map(In=>In.scheduleStatus||"New"));Tn.includes("Done")?jn+="bg-green-50 border-green-200 ":Tn.includes("On Progress")?jn+="bg-yellow-50 border-yellow-200 ":jn+="bg-blue-50 border-blue-200 "}else jn+="bg-white border-gray-100 hover:border-gray-200 ";if(jn+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",rr.push(i.jsxs(O.div,{className:jn,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ga&&Wr(Fr,ur),children:[i.jsxs("div",{className:"flex justify-between items-start mb-2",children:[i.jsx("span",{className:`text-sm font-semibold ${Fs?"text-blue-600":ga?"text-gray-900":"text-gray-500"}`,children:Mt}),Fs&&i.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),i.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[Hr.slice(0,2).map((Tn,en)=>i.jsxs("div",{className:`px-2 py-1.5 rounded-lg text-xs font-medium ${Tn.items[0].scheduleStatus==="Done"?"bg-green-100 text-green-800 border border-green-200":Tn.items[0].scheduleStatus==="On Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[i.jsx("div",{className:"font-semibold truncate",children:Tn.machine}),i.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[Tn.items.length," item",Tn.items.length>1?"s":""]})]},Tn.scheduleId)),Hr.length>2&&i.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",Hr.length-2," more"]})]})]},ur)),rr.length===7||Mt===wt){for(;rr.length<7;)rr.push(i.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:i.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${rr.length}`));const Tn=Mr?fUe(Mr):null;Xr.push(i.jsxs(y.Fragment,{children:[i.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:i.jsx("span",{className:"text-sm font-bold text-gray-600",children:Tn!==null?`${String(Tn).padStart(2,"0")}`:""})}),rr]},`week-row-${Mt}`)),rr=[],Mr=null}Mt++}return Xr};y.useMemo(()=>{const de=Je.filter(wt=>wt),Ke=[];return de.forEach(wt=>{Ke.push({id:`approval-${wt.id}`,icon:i.jsx(qE,{className:"text-orange-500"}),title:`Approval Needed: ${wt.mesin} - ${wt.item}`,description:`Record for ${wt.mesin} - ${wt.item} is awaiting your approval ().`,date:new Date(wt.date).toLocaleDateString("en-US")})}),Ke},[Je,Ze.role]);const et=(de,Ke)=>{At(Ke?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))},nt=(de,Ke)=>{F(Ke?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))},Tt=(de,Ke)=>{Y(Ke?wt=>[...wt,de]:wt=>wt.filter(or=>or!==de))};return he.startDate!==null&&he.endDate,he.selectedUnits.length>0,he.selectedUnits.every(de=>de.machines.length>0&&de.machines.every(Ke=>Ke.selectedInterval!==null)),he.selectedUnits.every(de=>de.machines.every(Ke=>Ke.selectedInterval===null||Ke.selectedInterval!==null&&Ke.selectedItems.length>0)),i.jsx(pUe.Provider,{value:{records:Je,setRecords:we,routineSchedules:We},children:i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Ax,{}),isMobile:g,toggleSidebar:Ue}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",i.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsxs(O.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[i.jsx(di,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),i.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[i.jsxs(O.button,{onClick:()=>I("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(Oa,{className:"w-4 h-4 mr-2"})," Calendar"]}),i.jsxs(O.button,{onClick:()=>I("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(bn,{className:"w-4 h-4 mr-2"})," Table"]}),i.jsxs(O.button,{onClick:()=>I("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${L==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[i.jsx(lf,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):Je.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):i.jsx(sr,{mode:"wait",children:i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:oe,onChange:de=>K(de.target.value),"aria-label":"Search records"})]}),i.jsxs(O.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>X(!U),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filter"}),i.jsx(O.span,{animate:{rotate:U?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]}),i.jsx(sr,{children:U&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(Oa,{className:"text-gray-500 text-base"}),i.jsx(im,{selected:B,onChange:de=>D(de),selectsStart:!0,startDate:B,endDate:E,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(im,{selected:E,onChange:de=>H(de),selectsEnd:!0,startDate:B,endDate:E,minDate:B||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(B||E)&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{D(null),H(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(Ht,{className:"text-base"})})]}),i.jsxs("div",{ref:vt,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),De(!kt)},"aria-expanded":kt,"aria-haspopup":"true","aria-label":"Filter by Status",children:[i.jsx("span",{children:It.length>0?It.length===pe.length?"All Status":`Selected (${It.length})`:"All Status"}),i.jsx(Sa,{className:`transform transition-transform ${kt?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:kt&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:It.length===pe.length&&pe.length>0,onChange:de=>{de.target.checked?At(pe.map(Ke=>Ke.value)):At([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),pe.map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:It.includes(de.value),onChange:Ke=>et(de.value,Ke.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de.label})]},de.value))]})})]}),i.jsxs("div",{ref:ve,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),tt(!Ye)},"aria-expanded":Ye,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[i.jsx("span",{children:V.length>0?V.length===ft.length-1?"All Units":`Selected (${V.length})`:"All Units"}),i.jsx(Sa,{className:`transform transition-transform ${Ye?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Ye&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:V.length===ft.length-1&&ft.length>1,onChange:de=>{de.target.checked?Y(ft.slice(1)):Y([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ft.slice(1).map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:V.includes(de),onChange:Ke=>Tt(de,Ke.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de})]},de))]})})]}),i.jsxs("div",{ref:Ae,className:"relative w-full",children:[i.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:de=>{de.stopPropagation(),$e(!Pe)},"aria-expanded":Pe,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[i.jsx("span",{children:W.length>0?W.length===Re.length-1?"All Machines":`Selected (${W.length})`:"All Machines"}),i.jsx(Sa,{className:`transform transition-transform ${Pe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),i.jsx(sr,{children:Pe&&i.jsxs(O.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.length===Re.length-1&&Re.length>1,onChange:de=>{de.target.checked?F(Re.slice(1)):F([])}}),i.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Re.slice(1).map(de=>i.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[i.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:W.includes(de),onChange:Ke=>nt(de,Ke.target.checked)}),i.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:de})]},de))]})})]})]})})]}),L==="calendar"&&i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"text-center lg:text-left",children:[i.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Vt.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),i.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),i.jsxs("div",{className:"flex items-center justify-center gap-3",children:[i.jsx(O.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:fn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:i.jsx(Ff,{size:20})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ar,className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),i.jsx(O.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:gn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:i.jsx(ta,{size:20})})]})]})}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[i.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[i.jsx("div",{className:"p-3 text-center",children:i.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(de=>i.jsx("div",{className:"p-3 text-center",children:i.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:de})},de))]}),i.jsx("div",{className:"grid grid-cols-8 gap-2",children:Zt()})]}),i.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[i.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),i.jsxs("div",{className:"flex flex-wrap gap-6",children:[i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),i.jsxs("div",{className:"flex items-center gap-3",children:[i.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),i.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),L==="table"&&i.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),i.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),i.jsx("th",{className:"relative px-6 py-3",children:i.jsx("span",{className:"sr-only",children:"Actions"})})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:Fe.length>0?Fe.map(de=>i.jsxs(O.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:de.date}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.interval}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.unitWilayah}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.mesin}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:de.item}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:de.monitoringResult}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:i.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${de.msStatus==="MS"?"bg-green-100 text-green-800":de.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:de.msStatus})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Lt(de),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:i.jsx(Io,{size:18})})})]},de.id)):i.jsx("tr",{children:i.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),L==="trend"&&i.jsx(mUe,{records:Fe})]},L)})]})]}),i.jsx(Eae,{isOpen:k,onClose:()=>S(!1),title:"Monitoring Details",children:M&&i.jsxs(i.Fragment,{children:[i.jsx(hUe,{record:M,onUpdateRecord:zt}),i.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:i.jsxs(O.button,{onClick:()=>Kr(M),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[i.jsx(Io,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),i.jsx(gUe,{isOpen:ae,onClose:()=>ie(!1),schedules:dt,onSelectSchedule:Kr,titleDate:Le})]})})};function xUe(t,e){const[r,n]=y.useState(t);return y.useEffect(()=>{const a=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(a)}},[t,e]),r}const RG=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),x2=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},yUe=({vendor:t,onClose:e})=>{const r=o=>o==null?"-":typeof o=="object"&&o!==null?o.name||o.title||o.id||"-":typeof o=="string"?o.trim()!==""?o.trim():"-":typeof o=="number"?o.toString():String(o),n=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",a=({title:o,children:l,icon:c})=>i.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[i.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:i.jsxs("div",{className:"flex items-center",children:[c&&i.jsx("div",{className:"mr-3 text-blue-600",children:c}),i.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o})]})}),i.jsx("div",{className:"p-6",children:l})]}),s=({label:o,value:l,icon:c,fullWidth:u=!1,priority:f="medium"})=>{const m={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return i.jsx("div",{className:`${u?"col-span-full":""}`,children:i.jsx("div",{className:`p-4 rounded-lg ${m[f]} transition-all duration-200 hover:shadow-sm`,children:i.jsxs("div",{className:"flex items-start space-x-3",children:[c&&i.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:c}),i.jsxs("div",{className:"flex-1 min-w-0",children:[i.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:o}),i.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:l})]})]})})})};return i.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[i.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:i.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("div",{className:"flex items-center gap-3 mb-2",children:i.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})}),i.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[i.jsx(Oa,{className:"w-4 h-4"}),"Vendor ID: ",t.id,"  Created: ",n(t.created_at)]})]}),i.jsx("div",{className:"flex items-center gap-2",children:i.jsxs(O.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[i.jsx(Ht,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),i.jsx(a,{title:"Basic Information",icon:i.jsx(un,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Vendor ID",value:r(t.id),icon:i.jsx(bn,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Vendor Name",value:r(t.name),icon:i.jsx(kp,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Contact Person",value:r(t.contact_person),icon:i.jsx(un,{className:"w-4 h-4"}),priority:"high"})]})}),i.jsx(a,{title:"Contact Information",icon:i.jsx(td,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[i.jsx(s,{label:"Email",value:r(t.email),icon:i.jsx(_x,{className:"w-4 h-4"}),priority:"high"}),i.jsx(s,{label:"Telephone",value:r(t.telp),icon:i.jsx(td,{className:"w-4 h-4"})}),i.jsx(s,{label:"Mobile Phone",value:r(t.HP),icon:i.jsx(td,{className:"w-4 h-4"})})]})}),i.jsx(a,{title:"Address Information",icon:i.jsx(yc,{className:"w-5 h-5"}),children:i.jsx("div",{className:"grid grid-cols-1 gap-4",children:i.jsx(s,{label:"Full Address",value:r(t.address),icon:i.jsx(yc,{className:"w-4 h-4"}),fullWidth:!0})})}),i.jsx(a,{title:"Additional Information",icon:i.jsx(Zi,{className:"w-5 h-5"}),children:i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[i.jsx(s,{label:"Created At",value:n(t.created_at),icon:i.jsx(Oa,{className:"w-4 h-4"})}),i.jsx(s,{label:"Updated At",value:n(t.updated_at),icon:i.jsx(Oa,{className:"w-4 h-4"})})]})})]})},bUe=()=>{Ui();const[t,e]=y.useState([]),{getVendor:r,deleteVendor:n,user:a,hasPermission:s}=ir(),[o,l]=y.useState([]),[c,u]=y.useState(!0),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(""),[b,N]=y.useState(""),[k,S]=y.useState(!1),[A,_]=y.useState(null),[M,R]=y.useState(!1),[L,I]=y.useState(null),B=y.useRef(!0),[D,E]=y.useState(null),[H,V]=y.useState(null),Y=y.useRef(null),[W,F]=y.useState(!1),[z,J]=y.useState(""),[oe]=y.useState(window.innerWidth<768),[K,U]=y.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),[X,Z]=y.useState(!1),[ne,ue]=y.useState(null),[_e,Ne]=y.useState(!1),[ge,ke]=y.useState(null),ze=nr(),[he,ye]=y.useState(!1),[ae,ie]=y.useState(!1),[dt,ct]=y.useState(!1),Le=y.useRef(null),Qe=y.useRef(null),[yt,bt]=y.useState(1),[It]=y.useState(10),[At,Se]=y.useState({key:"name",direction:"ascending"}),gt=xUe(z,300),rt=y.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),Nt=y.useCallback(async()=>{try{u(!0);const Oe=[...await r()].sort((He,Ze)=>He.id-Ze.id);e(Oe),l(Oe)}catch(te){I("Failed to load vendors"),console.error("Error loading vendors:",te)}finally{B.current&&u(!1)}},[r]);y.useEffect(()=>{Nt()},[Nt]),y.useEffect(()=>{let te=[...t];if(gt.trim()){const Oe=gt.toLowerCase().trim();te=te.filter(He=>{var Ut,st,jt;const Ze=Oe.split(":");let ft="all",Re=Oe;Ze.length>1&&rt.some(Vt=>Vt.name.toLowerCase()===Ze[0].trim())&&(ft=Ze[0].trim(),Re=Ze.slice(1).join(":").trim());const Fe=(Ut=He.name)==null?void 0:Ut.toLowerCase().includes(Re),Ue=(st=He.contact_person)==null?void 0:st.toLowerCase().includes(Re),Lt=(jt=He.email)==null?void 0:jt.toLowerCase().includes(Re),zt=He.id.toString().includes(Re);return ft==="vendor name"?Fe:ft==="contact person"?Ue:ft==="email"?Lt:ft==="vendor id"?zt:Fe||Ue||Lt||zt})}if(D){const Oe=new Date(D);Oe.setHours(0,0,0,0),te=te.filter(He=>{if(!He.created_at)return!0;const Ze=new Date(He.created_at);return Ze.setHours(0,0,0,0),Ze>=Oe})}if(H){const Oe=new Date(H);Oe.setHours(23,59,59,999),te=te.filter(He=>{if(!He.created_at)return!0;const Ze=new Date(He.created_at);return Ze.setHours(0,0,0,0),Ze<=Oe})}At!==null&&te.sort((Oe,He)=>{const Ze=ve(Oe[At.key]),ft=ve(He[At.key]);return Ze<ft?At.direction==="ascending"?-1:1:Ze>ft?At.direction==="ascending"?1:-1:0}),l(te)},[t,gt,D,H,At,rt]);const kt=()=>{const te=!K;U(te),localStorage.setItem("sidebarOpen",JSON.stringify(te))},De=()=>{alert("Import functionality is not yet implemented.")},vt=te=>{const Oe=te.target.value;J(Oe)},Pe=fe.useMemo(()=>{if(!z)return rt;const te=z.toLowerCase();return rt.filter(Oe=>Oe.name.toLowerCase().includes(te))},[z,rt]),$e=te=>{var Oe;J(`${te}: `),F(!1),(Oe=Y.current)==null||Oe.focus()},Ae=te=>{ue(te),Ne(!0)},Ye=async te=>{try{await n(te),e(t.filter(Oe=>Oe.id!==te)),R(!1),ke(null)}catch(Oe){console.error("Failed to delete Vendor:",Oe),I("Failed to delete vendor. Please try again.")}};y.useCallback(te=>{ke(te),R(!0)},[]);const tt=te=>{let Oe="ascending";At&&At.key===te&&At.direction==="ascending"&&(Oe="descending"),Se({key:te,direction:Oe})},ve=te=>typeof te=="object"&&te!==null?te.name||te.toString():(te==null?void 0:te.toString())||"",pe=yt*It,We=pe-It,pt=o.slice(We,pe),Je=Math.ceil(o.length/It),we=te=>bt(te);return y.useEffect(()=>{const te=Oe=>{Le.current&&!Le.current.contains(Oe.target)&&ie(!1),Qe.current&&!Qe.current.contains(Oe.target)&&ct(!1),Y.current&&!Y.current.contains(Oe.target)&&!Oe.target.closest(".search-suggestions")&&F(!1)};return document.addEventListener("mousedown",te),()=>{document.removeEventListener("mousedown",te)}},[]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:i.jsx(Vfe,{}),isMobile:oe,toggleSidebar:kt}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[s("create_machine_history")&&i.jsxs(O.button,{onClick:()=>ze("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Vendor"})]}),i.jsxs(O.button,{onClick:De,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>Z(!X),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:X?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[i.jsx(x2,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(kp,{className:"w-6 h-6"})}),i.jsx(x2,{title:"Vendors with Email",value:t.filter(te=>te.email).length.toString(),change:`+${Math.floor(t.filter(te=>te.email).length/t.length*100)}%`,icon:i.jsx(_x,{className:"w-6 h-6"})}),i.jsx(x2,{title:"Vendors with Contact",value:t.filter(te=>te.contact_person).length.toString(),change:`+${Math.floor(t.filter(te=>te.contact_person).length/t.length*100)}%`,icon:i.jsx(Va,{className:"w-6 h-6"})}),i.jsx(x2,{title:"Vendors with Phone",value:t.filter(te=>te.telp||te.HP).length.toString(),change:`+${Math.floor(t.filter(te=>te.telp||te.HP).length/t.length*100)}%`,icon:i.jsx(td,{className:"w-6 h-6"})})]}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:Y,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:z,onChange:vt,onFocus:()=>F(!0),"aria-label":"Search vendors"}),i.jsx(sr,{children:W&&Pe.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Pe.map(te=>i.jsx(O.button,{onClick:()=>$e(te.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:te.name})},te.id))})})]})}),i.jsx(sr,{children:X&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:i.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[i.jsx(Oa,{className:"text-gray-500 text-base"}),i.jsx(im,{selected:D,onChange:te=>E(te),selectsStart:!0,startDate:D,endDate:H,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),i.jsx("span",{className:"text-gray-400",children:"-"}),i.jsx(im,{selected:H,onChange:te=>V(te),selectsEnd:!0,startDate:D,endDate:H,minDate:D||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(D||H)&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{E(null),V(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:i.jsx(Ht,{className:"text-base"})})]})})})]}),c?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx(Zi,{className:"text-blue-500 text-4xl mx-auto mb-4"}),i.jsx("p",{className:"text-gray-700 text-base font-medium",children:gt||D||H?"No vendors found matching your filters.":"No vendors available."}),(gt||D||H)&&i.jsx("button",{onClick:()=>{J(""),E(null),V(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>tt("id"),children:["No",(At==null?void 0:At.key)==="id"&&i.jsx("span",{className:"ml-1",children:At.direction==="ascending"?"":""})]}),i.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>tt("name"),children:["Vendor Name",(At==null?void 0:At.key)==="name"&&i.jsx("span",{className:"ml-1",children:At.direction==="ascending"?"":""})]}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:pt.map((te,Oe)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:Oe+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.address||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.contact_person||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.email||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.telp||"-"})}),i.jsx("td",{className:"px-5 py-3",children:i.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:te.HP||"-"})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ae(te),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${te.name}`,children:i.jsx(Io,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ze(`/vendors/editvendor/${te.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${te.name}`,children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ke(te.id),R(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${te.name}`,children:i.jsx(ha,{className:"inline text-base"})})]})]},te.id))})]})})}),o.length>It&&i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[i.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",i.jsx("span",{className:"font-semibold",children:We+1})," to ",i.jsx("span",{className:"font-semibold",children:Math.min(pe,o.length)})," of"," ",i.jsx("span",{className:"font-semibold",children:o.length})," results"]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(yt-1),disabled:yt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Je},(te,Oe)=>i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(Oe+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${yt===Oe+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Oe+1}`,children:Oe+1},Oe+1)),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>we(yt+1),disabled:yt===Je,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),ne&&i.jsx(RG,{isOpen:_e,onClose:()=>{Ne(!1),ue(null)},title:"Vendor Details",className:"max-w-3xl",children:i.jsx(yUe,{vendor:ne,onClose:()=>Ne(!1)})}),i.jsx(RG,{isOpen:M,onClose:()=>R(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>R(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge&&Ye(ge),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},vUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,wUe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),[a,s]=y.useState([]),{addVendor:o,getVendor:l}=ir(),[c,u]=y.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[f,m]=y.useState(null),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b,N]=y.useState(!1),k=nr(),[S,A]=y.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{u(B=>!B)},M=B=>{const{name:D,value:E}=B.target;A(H=>({...H,[D]:D==="sla"?Number(E):E}))},R=y.useCallback(async()=>{try{const[B]=await Promise.all([l()]);n(B)}catch(B){m(B.message||"Failed to load form data")}},[l]);y.useEffect(()=>{R()},[R]);const L=async B=>{B.preventDefault(),N(!0),m(null);try{const D={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(D),p("Vendor created successfully!"),w(!0)}catch(D){m(D.message||"Failed to create Vendor")}finally{N(!1)}},I=()=>{w(!1),k("/vendors")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:t,toggleSidebar:_}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),i.jsxs(O.button,{onClick:()=>k("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Vendors Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:f}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),i.jsxs("form",{onSubmit:L,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>k("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:b,children:b?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),i.jsx(vUe,{isOpen:v,onClose:I,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},jUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,NUe=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getVendor:l,updateVendor:c,getVendorById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({name:s.name||"",address:s.address||"",contact_person:s.contact_person||"",email:s.email||"",telp:s.telp||"",HP:s.HP||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,H),w("Vendor update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Vendor")}finally{S(!1)}},D=()=>{N(!1),A("/vendors")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(kr,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),i.jsxs(O.button,{onClick:()=>A("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Vendors Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),i.jsx(jUe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},SUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,kUe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:a,confirmText:s="Confirm",cancelText:o="Cancel",type:l="approve"})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsx(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:i.jsxs("div",{className:"p-6 text-center",children:[i.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&i.jsx(wr,{className:"text-green-500 text-5xl"}),l==="feedback"&&i.jsx(pg,{className:"text-blue-500 text-5xl"}),l==="reject"&&i.jsx(Ur,{className:"text-red-500 text-5xl"}),l==="edit"&&i.jsx(Ci,{className:"text-purple-500 text-5xl"})]}),i.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),i.jsx("p",{className:"text-gray-600 mb-6",children:a}),i.jsxs("div",{className:"flex justify-center space-x-3",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:s})]})]})})})}),CUe=()=>{var Je;Ui();const t=nr(),{id:e}=js(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:a,hasPermission:s,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=ir(),[u,f]=y.useState(window.innerWidth<768),[m,g]=y.useState(()=>{const we=localStorage.getItem("sidebarOpen");return JSON.parse(we||"false")}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(we=>!we)},[v,w]=y.useState(null),[b,N]=y.useState(null),[k,S]=y.useState(!1),[A,_]=y.useState(!0),[M,R]=y.useState(null),[L,I]=y.useState("approval"),[B,D]=y.useState({}),[E,H]=y.useState(null),[V,Y]=y.useState(!0),[W,F]=y.useState(null),[z,J]=y.useState(!1),[oe,K]=y.useState(!1),[U,X]=y.useState(""),[Z,ne]=y.useState(""),[ue,_e]=y.useState(!0),[Ne,ge]=y.useState(!1),[ke,ze]=y.useState(null);y.useEffect(()=>{(async()=>{var te,Oe,He,Ze;if(e)try{_(!0),R(null);const ft=await n(parseInt(e));if(F(ft),!ft)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",ft),ft.approval_template&&(H(ft.approval_template),console.log("Active template set in first useEffect:",ft.approval_template));const Re={id:ft.id_monitoring_schedule.toString(),name:`${((te=ft.data_mesin)==null?void 0:te.name)||"Mesin"} - ${ft.unit}`,interval:((Oe=ft.monitoring_interval)==null?void 0:Oe.type_interval)||"Weekly",period:`${ft.tgl_start} - ${ft.tgl_end}`,unit:ft.unit,mesin:(He=ft.data_mesin)==null?void 0:He.name,tahun:ft.tahun,bulan:ft.bulan,tgl_start:ft.tgl_start,tgl_end:ft.tgl_end,items:((Ze=ft.item_mesins)==null?void 0:Ze.map(st=>({id:st.id,name:st.item_mesin,uom:st.satuan,min:st.standard_min?parseFloat(st.standard_min):void 0,max:st.standard_max?parseFloat(st.standard_max):void 0,visual:st.standard_visual,standard_min:st.standard_min,standard_max:st.standard_max,standard_visual:st.standard_visual,satuan:st.satuan})))||[]};w(Re);const Fe=ft.monitoring_activities||[],Ue=ft.schedule_approvals||[],Lt={};ft.approval_template&&ft.approval_template.approvers?ft.approval_template.approvers.forEach(st=>{const jt=`step_${st.step}`,Vt=Ue.find(gr=>gr.approval_step===st.step&&gr.approver_id===st.approver_user_id);if(Vt){let gr="Pending";switch(Vt.status){case"approved":gr="Approved";break;case"rejected":gr="Rejected";break;case"feedback_given":gr="FeedbackGiven";break;default:gr="Pending"}Lt[jt]=gr}else Lt[jt]="Pending"}):Ue.forEach(st=>{const jt=`step_${st.approval_step}`;let Vt="Pending";switch(st.status){case"approved":Vt="Approved";break;case"rejected":Vt="Rejected";break;case"feedback_given":Vt="FeedbackGiven";break;default:Vt="Pending"}Lt[jt]=Vt});const zt=Ue.map(st=>{var fn;let jt="approval",Vt="";switch(st.status){case"approved":jt="approval",Vt=`Menyetujui laporan pada step ${st.approval_step}`;break;case"rejected":jt="rejection",Vt=`Menolak laporan pada step ${st.approval_step}`;break;case"feedback_given":jt="feedback",Vt=`Memberikan feedback pada step ${st.approval_step}`;break;default:jt="submission",Vt=`Mengajukan approval pada step ${st.approval_step}`}const gr=st.approved_at||st.created_at;return{type:jt,timestamp:gr||new Date().toISOString(),actor:((fn=st.approver)==null?void 0:fn.name)||`Approver Step ${st.approval_step}`,description:Vt,details:st.comments||void 0}});if(Fe.length>0){const st=Fe[0].created_at;zt.unshift({type:"submission",timestamp:st||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Ut={machineId:Re.id,itemResults:Re.items.map(st=>{const jt=Fe.find(gr=>gr.id_item_mesin===st.id);let Vt="Pending";if(jt!=null&&jt.hasil_ms_tms){const gr=jt.hasil_ms_tms.toLowerCase();gr==="ms"?Vt="MS":gr==="tms"?Vt="TMS":Vt="N/A"}return{itemId:st.id,result:(jt==null?void 0:jt.hasil_monitoring)||"",status:Vt,remarks:(jt==null?void 0:jt.hasil_keterangan)||""}}),approvalStatus:Lt,commentsHistory:[],activityHistory:zt,isSaved:Fe.length>0,submissionDate:Fe.length>0?new Date().toISOString():void 0,currentApprovalStep:ie(Ue,ft.approval_template)};N(Ut)}catch(ft){R(ft instanceof Error?ft.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",ft)}finally{_(!1)}})()},[e,n]);const he=y.useMemo(()=>{var we,te,Oe,He,Ze,ft;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(te=(we=r.department)==null?void 0:we.name)!=null&&te.toLowerCase().includes("engineering")?(Oe=r.position)!=null&&Oe.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(Ze=(He=r.department)==null?void 0:He.name)!=null&&Ze.toLowerCase().includes("process")?(ft=r.position)!=null&&ft.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),ye=y.useCallback(we=>{if(!E||!E.approvers||!r)return console.log(` isUserApproverForStep ${we}: Missing data`),!1;const te=E.approvers.find(He=>He.step===we&&He.approver_user_id.toString()===r.id),Oe=!!te;return console.log(` IS USER APPROVER STEP ${we}:`,{step:we,userID:r.id,userName:r.name,approverUserID:te==null?void 0:te.approver_user_id,approverName:te==null?void 0:te.approver.name,MATCH:Oe}),Oe},[E,r]),ae=y.useCallback(()=>{if(!b||!(E!=null&&E.approvers))return console.log(" GET CURRENT STEP: No monitoringResults or approvers"),1;const we=[...E.approvers].sort((Oe,He)=>Oe.step-He.step);console.log(" GET CURRENT STEP - All approvers status:",b.approvalStatus);for(let Oe=0;Oe<we.length;Oe++){const He=we[Oe],Ze=`step_${He.step}`,ft=b.approvalStatus[Ze]||"Pending";if(console.log(` Checking step ${He.step}:`,{stepKey:Ze,status:ft,isPending:ft==="Pending"}),ft==="Pending")return console.log(` CURRENT ACTIVE STEP FOUND: ${He.step}`),He.step}const te=we.length+1;return console.log(` ALL STEPS APPROVED, NEXT STEP: ${te}`),te},[b,E]);y.useEffect(()=>{var we;b&&E&&r&&(console.log("===  DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",E.name),console.log("Is Saved:",b.isSaved),(we=E.approvers)==null||we.forEach(te=>{const Oe=`step_${te.step}`,He=b.approvalStatus[Oe],Ze=Pe(te.step,te,He);console.log(` Step ${te.step} - ${te.approver.name}:`,{status:He,shouldShowActions:Ze,isCurrentUser:te.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:te.approver_user_id.toString()===r.id,needsAction:He==="Pending",isCurrentStep:ae()===te.step,isPreviousStepApproved:te.step===1?!0:b.approvalStatus[`step_${te.step-1}`]==="Approved"}})}))},[b,E,r]);const ie=(we,te)=>{if(!te||!te.approvers)return 1;const Oe=[...te.approvers].sort((Ze,ft)=>Ze.step-ft.step);console.log("Getting current step from approvals:",{approvalsCount:we.length,approversCount:Oe.length});for(let Ze=0;Ze<Oe.length;Ze++){const ft=Oe[Ze],Re=we.find(Fe=>Fe.approval_step===ft.step&&Fe.approver_id===ft.approver_user_id);if(console.log(`Step ${ft.step}:`,{hasApproval:!!Re,status:Re==null?void 0:Re.status,isApproved:(Re==null?void 0:Re.status)==="approved"}),!Re||Re.status!=="approved")return console.log(`Current step from approvals: ${ft.step}`),ft.step}const He=Oe.length+1;return console.log(`All steps approved from approvals, next step: ${He}`),He},dt=(we,te)=>W?(W.schedule_approvals||[]).find(He=>He.approval_step===we&&He.approver_id===te.approver_user_id):null,ct=y.useCallback(async()=>{var we,te,Oe,He;if(e)try{_(!0),R(null);const Ze=await n(parseInt(e));if(F(Ze),!Ze)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Ze),Ze.approval_template&&(H(Ze.approval_template),console.log("Active template set:",Ze.approval_template));const ft={id:Ze.id_monitoring_schedule.toString(),name:`${((we=Ze.data_mesin)==null?void 0:we.name)||"Mesin"} - ${Ze.unit}`,interval:((te=Ze.monitoring_interval)==null?void 0:te.type_interval)||"Weekly",period:`${Ze.tgl_start} - ${Ze.tgl_end}`,unit:Ze.unit,mesin:(Oe=Ze.data_mesin)==null?void 0:Oe.name,tahun:Ze.tahun,bulan:Ze.bulan,tgl_start:Ze.tgl_start,tgl_end:Ze.tgl_end,items:((He=Ze.item_mesins)==null?void 0:He.map(Ut=>({id:Ut.id,name:Ut.item_mesin,uom:Ut.satuan,min:Ut.standard_min?parseFloat(Ut.standard_min):void 0,max:Ut.standard_max?parseFloat(Ut.standard_max):void 0,visual:Ut.standard_visual,standard_min:Ut.standard_min,standard_max:Ut.standard_max,standard_visual:Ut.standard_visual,satuan:Ut.satuan})))||[]};w(ft);const Re=Ze.monitoring_activities||[],Fe=Ze.schedule_approvals||[],Ue={};Ze.approval_template&&Ze.approval_template.approvers&&Ze.approval_template.approvers.forEach(Ut=>{const st=`step_${Ut.step}`,jt=Fe.find(Vt=>Vt.approval_step===Ut.step&&Vt.approver_id===Ut.approver_user_id);if(jt){let Vt="Pending";switch(jt.status){case"approved":Vt="Approved";break;case"rejected":Vt="Rejected";break;case"feedback_given":Vt="FeedbackGiven";break;default:Vt="Pending"}Ue[st]=Vt}else Ue[st]="Pending",console.log(` Step ${Ut.step} di-set ke Pending (no approval history)`)});const Lt=Fe.map(Ut=>{var gr;let st="approval",jt="";switch(Ut.status){case"approved":st="approval",jt=`Menyetujui laporan pada step ${Ut.approval_step}`;break;case"rejected":st="rejection",jt=`Menolak laporan pada step ${Ut.approval_step}`;break;case"feedback_given":st="feedback",jt=`Memberikan feedback pada step ${Ut.approval_step}`;break;default:st="submission",jt=`Mengajukan approval pada step ${Ut.approval_step}`}const Vt=Ut.approved_at||Ut.created_at;return{type:st,timestamp:Vt||new Date().toISOString(),actor:((gr=Ut.approver)==null?void 0:gr.name)||`Approver Step ${Ut.approval_step}`,description:jt,details:Ut.comments||void 0}});if(Re.length>0){const Ut=Re[0].created_at;Lt.unshift({type:"submission",timestamp:Ut||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const zt={machineId:ft.id,itemResults:ft.items.map(Ut=>{const st=Re.find(Vt=>Vt.id_item_mesin===Ut.id);let jt="Pending";if(st!=null&&st.hasil_ms_tms){const Vt=st.hasil_ms_tms.toLowerCase();Vt==="ms"?jt="MS":Vt==="tms"?jt="TMS":jt="N/A"}return{itemId:Ut.id,result:(st==null?void 0:st.hasil_monitoring)||"",status:jt,remarks:(st==null?void 0:st.hasil_keterangan)||""}}),approvalStatus:Ue,commentsHistory:[],activityHistory:Lt,isSaved:Re.length>0,submissionDate:Re.length>0?new Date().toISOString():void 0,currentApprovalStep:ie(Fe,Ze.approval_template)};N(zt)}catch(Ze){R(Ze instanceof Error?Ze.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Ze)}finally{_(!1)}},[e,n]),Le=(we,te,Oe,He,Ze)=>{N(ft=>ft?{...ft,itemResults:ft.itemResults.map(Re=>Re.itemId===we?{...Re,result:te,status:Oe==="numeric"?yt(Number(te),He,Ze):te==="MS"?"MS":te==="TMS"?"TMS":"Pending"}:Re)}:null)},Qe=(we,te)=>{N(Oe=>Oe?{...Oe,itemResults:Oe.itemResults.map(He=>He.itemId===we?{...He,remarks:te}:He)}:null)},yt=(we,te,Oe)=>isNaN(we)||we===null||we===void 0?te===void 0||Oe===void 0?"N/A":"Pending":te!==void 0&&Oe!==void 0?we>=te&&we<=Oe?"MS":"TMS":"N/A",bt=we=>{switch(we){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},It=we=>{switch(we){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},At=we=>{if(!E||!E.approvers)return"Unknown Role";const te=E.approvers.find(Oe=>Oe.approver_user_id.toString()===we);return(te==null?void 0:te.approver.position)||"Unknown Position"};y.useCallback((we,te,Oe,He=null)=>{N(Ze=>{if(!Ze||Ze.machineId!==we)return Ze;const ft={id:crypto.randomUUID(),role:te,comment:Oe,timestamp:new Date().toLocaleString(),replies:[],parentId:He},Re=(Ue,Lt)=>Lt.parentId===null?[...Ue,Lt]:Ue.map(zt=>zt.id===Lt.parentId?{...zt,replies:zt.replies?[...zt.replies,Lt]:[Lt]}:{...zt,replies:zt.replies?Re(zt.replies,Lt):zt.replies}),Fe=Ze.commentsHistory||[];return{...Ze,commentsHistory:Re(Fe,ft)}})},[]);const Se=(we,te,Oe)=>{let He="",Ze="",ft="approve";switch(te){case"Approved":He="Confirm Approval",Ze=`Are you sure you want to approve this monitoring report for step ${we}?`,ft="approve";break;case"FeedbackGiven":He="Confirm Feedback",Ze=`Are you sure you want to send feedback for step ${we}?`,ft="feedback";break;case"Rejected":He="Confirm Rejection",Ze=`Are you sure you want to reject this monitoring report for step ${we}?`,ft="reject";break;case"Edited":He="Confirm Edit",Ze=`Are you sure you want to mark this as edited for step ${we}?`,ft="edit";break}ze({type:ft,step:we,title:He,message:Ze,feedbackText:Oe}),ge(!0)},gt=async()=>{if(ke)try{await rt(ke.step,ke.type==="approve"?"Approved":ke.type==="feedback"?"FeedbackGiven":ke.type==="reject"?"Rejected":"Edited",ke.feedbackText),ge(!1),ze(null),await ct()}catch(we){console.error("Error during confirmation:",we),ge(!1),ze(null)}},rt=async(we,te,Oe)=>{if(!(!b||!e||!r))try{let He="";(te==="FeedbackGiven"&&Oe||te==="Rejected"&&Oe)&&(He=Oe),console.log(`Sending approval for step ${we}, action: ${te}`);const Ze=await o(parseInt(e),He);if(Ze.success){N(Re=>{if(!Re)return null;const Fe={...Re.approvalStatus,[`step_${we}`]:te},Ue=[...Re.activityHistory],Lt=new Date().toLocaleString();let zt="";switch(te){case"Approved":zt=`Menyetujui laporan pada step ${we}`;break;case"FeedbackGiven":zt=`Memberikan feedback pada step ${we}`;break;case"Rejected":zt=`Menolak laporan pada step ${we}`;break;default:zt=`Melakukan aksi ${te} pada step ${we}`}return Ue.push({type:te==="Approved"?"approval":te==="Rejected"?"rejection":te==="FeedbackGiven"?"feedback":"edit",timestamp:Lt,actor:he.name,description:`${he.name} ${zt}`,details:He||void 0}),te!=="Edited"&&D(Ut=>({...Ut,[`step_${we}`]:{showInput:!1,text:""}})),{...Re,approvalStatus:Fe,activityHistory:Ue}});let ft="";switch(te){case"Approved":ft="Berhasil menyetujui laporan.";break;case"FeedbackGiven":ft="Berhasil mengirim feedback.";break;case"Rejected":ft="Berhasil menolak laporan.";break;case"Edited":ft="Berhasil menyimpan perubahan.";break}We("Success!",ft,!0)}else throw new Error(Ze.message||"Approval failed")}catch(He){console.error("Error during approval:",He),We("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},Nt=y.useCallback(()=>{if(!E||!E.approvers||!b)return!1;const we=[...E.approvers].sort((Oe,He)=>Oe.step-He.step),te=we.every(Oe=>{const He=`step_${Oe.step}`;return b.approvalStatus[He]==="Approved"});return console.log(" CHECK ALL STEPS COMPLETED:",{totalSteps:we.length,allApproved:te,approvalStatus:b.approvalStatus}),te},[E,b]),kt=we=>{D(te=>{var Oe;return{...te,[`step_${we}`]:{...te[`step_${we}`],showInput:!((Oe=te[`step_${we}`])!=null&&Oe.showInput)}}})},De=(we,te)=>{D(Oe=>({...Oe,[`step_${we}`]:{...Oe[`step_${we}`],text:te}}))},vt=async()=>{if(!(!v||!b||!e)){S(!0);try{let we=!0;const te=[];if(b.itemResults.forEach(Re=>{const Fe=v.items.find(Ue=>Ue.id===Re.itemId);Fe&&(Re.result===""||Re.status==="Pending")&&(we=!1,te.push({item:Fe.name}))}),!we){We("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${v.name}. Item yang belum diisi: `+te.map(Re=>Re.item).join(", "),!1);return}const Oe=b.itemResults.map(Re=>{var Lt;const Fe=(Lt=W==null?void 0:W.monitoring_activities)==null?void 0:Lt.find(zt=>zt.id_item_mesin===Re.itemId),Ue={id_monitoring_schedule:parseInt(e),id_item_mesin:Re.itemId,tgl_monitoring:v.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:Re.result.toString(),hasil_keterangan:Re.remarks,hasil_ms_tms:Re.status==="MS"?"ms":Re.status==="TMS"?"tms":"na"};return Fe&&Fe.id_monitoring_activity?{id:Fe.id_monitoring_activity,data:Ue}:{id:0,data:Ue}});console.log(" Data yang akan dikirim ke backend:",Oe);const He=Oe.filter(Re=>Re.id===0),Ze=Oe.filter(Re=>Re.id>0);if(console.log(" Activities to CREATE:",He.length),console.log(" Activities to UPDATE:",Ze.length),He.length>0){const Re=He.map(Fe=>Fe.data);console.log(" CREATE new monitoring activities:",Re),await a(Re)}Ze.length>0&&(console.log(" UPDATE existing monitoring activities:",Ze),await c(Ze)),N(Re=>{if(!Re)return null;const Fe=[...Re.activityHistory],Ue=new Date().toLocaleString(),Lt=Re.isSaved?"edit":"submission",zt=Re.isSaved?`${he.name} mengedit hasil monitoring.`:`${he.name} mengisi hasil monitoring.`;return Fe.push({type:Lt,timestamp:Ue,actor:he.name,description:zt}),{...Re,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:Fe}}),await ct();const ft=b.isSaved?`Hasil monitoring untuk ${v.name} berhasil diupdate!`:`Hasil monitoring untuk ${v.name} berhasil disimpan!`;We("Success!",ft,!0)}catch(we){const te=b.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";We("Error!",te,!1),console.error("Error saving monitoring results:",we)}finally{S(!1)}}},Pe=(we,te,Oe)=>{if(!r||!(b!=null&&b.isSaved))return console.log(` Button step ${we}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!b,isSaved:b==null?void 0:b.isSaved}),!1;const He=te.approver_user_id.toString()===r.id,Ze=Oe==="Pending",ft=ae(),Re=ft===we;let Fe=!0;if(we>1){const Lt=`step_${we-1}`;Fe=b.approvalStatus[Lt]==="Approved"}const Ue=He&&Ze&&Re&&Fe;return console.log(` CALCULATE BUTTON STEP ${we}:`,{step:we,isCurrentApprover:He,needsAction:Ze,isCurrentStep:Re,isPreviousStepApproved:Fe,currentStatus:Oe,currentStep:ft,userID:r.id,approverID:te.approver_user_id,userPosition:r.position,approverPosition:te.approver.position,FINAL_RESULT:Ue}),Ue},$e=async we=>{if(!(!b||!e||we!==1)){if(Nt()){We("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await vt(),N(te=>{if(!te)return null;const Oe={...te.approvalStatus,step_1:"Edited"},He=[...te.activityHistory],Ze=new Date().toLocaleString();return He.push({type:"edit",timestamp:Ze,actor:he.name,description:`${he.name} (Approver Step 1) mengedit hasil monitoring.`}),{...te,approvalStatus:Oe,activityHistory:He}}),await ct(),We("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(te){console.error("Error during edit by approver:",te),We("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};y.useMemo(()=>{if(!(b!=null&&b.commentsHistory))return{};const we=(Oe,He=null)=>Oe.filter(Ze=>Ze.parentId===He).sort((Ze,ft)=>new Date(Ze.timestamp).getTime()-new Date(ft.timestamp).getTime()).map(Ze=>({...Ze,replies:we(Oe,Ze.id)})),te={};return E!=null&&E.approvers&&E.approvers.forEach(Oe=>{const He=b.commentsHistory.filter(Ze=>Ze.role===At(Oe.approver_user_id.toString()));te[`step_${Oe.step}`]=we(He)}),te},[b==null?void 0:b.commentsHistory,E]);const Ae=y.useCallback(()=>{var we;!b||!E||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",E.name),console.log("Approvers:",E.approvers),(we=E.approvers)==null||we.forEach(te=>{const Oe=`step_${te.step}`,He=b.approvalStatus[Oe],Ze=te.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${te.step}:`,{approver:te.approver.name,status:He,isCurrentUser:Ze,stepKey:Oe})}),console.log("Current Step:",ae()),console.log("User ID:",r==null?void 0:r.id))},[b,E,r,ae]);y.useEffect(()=>{b&&E&&Ae()},[b,E,Ae]);const Ye=we=>we.satuan&&we.satuan!=="Visual"&&we.satuan!=="Level"&&we.satuan!=="Kekencangan"?"numeric":"visual";y.useMemo(()=>he.name.toLowerCase().includes("technician")&&!ye(1),[he,ye]);const tt=ye(1),ve=y.useMemo(()=>!(b!=null&&b.isSaved)||b.approvalStatus.step_1==="Pending"?!0:ye(1)&&!Nt(),[b==null?void 0:b.isSaved,b==null?void 0:b.approvalStatus,ye,Nt]),pe=ye(ae()),We=y.useCallback((we,te,Oe=!0)=>{ne(we),X(te),_e(Oe),Oe?J(!0):K(!0)},[]),pt=y.useCallback(()=>{J(!1),K(!1),ct()},[ct]);return A?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(An,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsx("div",{className:"flex justify-center items-center h-64",children:i.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):M?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(An,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[i.jsx(Ur,{className:"text-red-500 text-4xl mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),i.jsx("p",{className:"text-red-600 mb-4",children:M}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ct,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[i.jsx(_me,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!v||!b?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(O.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(An,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[i.jsx(Ur,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),i.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),i.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:i.jsx(Ax,{}),isMobile:u,toggleSidebar:p}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.name})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.interval})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",i.jsx("span",{className:"font-semibold text-gray-800",children:v.period})]}),i.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:v.items.length})," Items"]}),E&&E.approvers&&E.approvers.length>0?i.jsxs("p",{children:["Template: ",i.jsx("span",{className:"font-semibold",children:E.name}),E.is_active&&i.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),Nt()&&i.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):i.jsxs("p",{children:["Template: ",i.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),E&&tt&&i.jsx("p",{className:`font-semibold ${Nt()?"text-gray-500":"text-blue-600"}`,children:Nt()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),E&&pe&&!tt&&i.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",ae(),")"]})]})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[i.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.items.map(we=>{const te=b.itemResults.find(He=>He.itemId===we.id),Oe=Ye(we);return i.jsxs("tr",{children:[i.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[we.name,!ve&&(b==null?void 0:b.isSaved)&&i.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:we.standard_visual?`${we.standard_visual} (${we.satuan})`:`${we.standard_min} - ${we.standard_max} ${we.satuan}`}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Oe==="visual"?i.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(te==null?void 0:te.result)||"",onChange:He=>Le(we.id,He.target.value,"visual"),disabled:!ve,children:[i.jsx("option",{value:"",children:"Pilih"}),i.jsx("option",{value:"MS",children:"MS"}),i.jsx("option",{value:"TMS",children:"TMS"})]}):i.jsx("input",{type:"number",step:"0.01",value:te==null?void 0:te.result,onChange:He=>Le(we.id,He.target.value,"numeric",we.min,we.max),disabled:!ve,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${bt((te==null?void 0:te.status)||"Pending")}`,children:te==null?void 0:te.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("textarea",{rows:1,value:te==null?void 0:te.remarks,onChange:He=>Qe(we.id,He.target.value),disabled:!ve,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},we.id)})})]})}),i.jsxs("div",{className:"flex justify-end mt-6 relative",children:[i.jsx(O.button,{whileHover:{scale:ve?1.05:1},whileTap:{scale:ve?.95:1},onClick:tt?()=>$e(1):vt,disabled:!ve||k||tt&&Nt(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"}),tt?Nt()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),tt&&Nt()&&i.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[i.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>I("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Zi,{className:"h-5 w-5"}),i.jsx("span",{children:"Approval Status"})]}),i.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>I("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${L==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Pg,{className:"h-5 w-5"}),i.jsx("span",{children:"History Activity"})]})]}),L==="approval"?i.jsx(sr,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!E||!E.approvers||E.approvers.length===0?i.jsxs("div",{className:"text-center py-8 text-gray-500",children:[i.jsx(Zi,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),i.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),i.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(Je=E.approvers)==null?void 0:Je.map(we=>{var zt,Ut,st,jt;const te=`step_${we.step}`,Oe=(b==null?void 0:b.approvalStatus[te])||"Pending",He=Pe(we.step,we,Oe),Ze=dt(we.step,we),ft=ae(),Re=we.approver_user_id.toString()===(r==null?void 0:r.id),Fe=we.step-1,Ue=`step_${Fe}`,Lt=b==null?void 0:b.approvalStatus[Ue];return console.log(`Rendering Step ${we.step}:`,{status:Oe,shouldShowActionButtons:He,currentStep:ft,isCurrentUserApprover:Re,previousStepStatus:Lt,userId:r==null?void 0:r.id,approverId:we.approver_user_id}),i.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[i.jsx("div",{className:"flex items-center justify-between mb-3",children:i.jsxs("div",{className:"flex-1",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",we.step,": ",we.approver.name," (",we.approver.position,")"]}),i.jsx("p",{className:"text-xs text-gray-500",children:we.approver.department}),Ze&&i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[Ze.approved_at&&`Disetujui: ${new Date(Ze.approved_at).toLocaleString()}`,Ze.status==="feedback_given"&&" | Feedback diberikan"]})]}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${It(Oe)}`,children:Oe}),Re&&i.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(Ze==null?void 0:Ze.comments)&&i.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:i.jsxs("p",{className:"text-xs text-gray-400",children:[i.jsx("strong",{children:"Komentar:"})," ",Ze.comments]})}),ft===we.step&&Oe!=="Approved"&&!He&&i.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:i.jsxs("p",{className:"text-yellow-700",children:[i.jsx("strong",{children:"Menunggu:"})," Step ",we.step," sedang menunggu approval dari ",we.approver.name,Fe>0&&Lt!=="Approved"&&i.jsxs("span",{children:[" (Step ",Fe," perlu disetujui terlebih dahulu)"]})]})}),Oe==="Approved"&&i.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:i.jsxs("p",{className:"text-green-700",children:[i.jsx("strong",{children:"Selesai:"})," Step ",we.step," telah disetujui"]})}),He&&i.jsxs("div",{className:"flex space-x-2 mt-3",children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Se(we.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[i.jsx(wr,{size:16,className:"mr-1"}),"Approve"]}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>kt(we.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[i.jsx(pg,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),i.jsx(sr,{children:((zt=B[te])==null?void 0:zt.showInput)&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[i.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),i.jsx("textarea",{rows:3,value:((Ut=B[te])==null?void 0:Ut.text)||"",onChange:Vt=>De(we.step,Vt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),i.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var Vt;return Se(we.step,"FeedbackGiven",(Vt=B[te])==null?void 0:Vt.text)},disabled:!((jt=(st=B[te])==null?void 0:st.text)!=null&&jt.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[i.jsx(pg,{size:16,className:"mr-1"}),"Kirim Feedback"]}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>kt(we.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},te)})},"approval-tab")}):i.jsx(sr,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:b.activityHistory.length>0?b.activityHistory.slice().sort((we,te)=>new Date(te.timestamp).getTime()-new Date(we.timestamp).getTime()).map((we,te)=>i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:te*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"mt-1 flex-shrink-0",children:[we.type==="approval"&&i.jsx(wr,{size:20,className:"text-green-500"}),we.type==="rejection"&&i.jsx(UE,{size:20,className:"text-red-500"}),we.type==="feedback"&&i.jsx(pg,{size:20,className:"text-blue-500"}),we.type==="submission"&&i.jsx(Pg,{size:20,className:"text-blue-500"}),we.type==="edit"&&i.jsx(Pn,{size:20,className:"text-purple-500"})]}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:we.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",we.actor]})," - ",new Date(we.timestamp).toLocaleString()]}),we.details&&i.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',we.details,'"']})]})]},te)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),i.jsx(kUe,{isOpen:Ne,onClose:()=>{ge(!1),ze(null)},onConfirm:gt,title:(ke==null?void 0:ke.title)||"Confirm Action",message:(ke==null?void 0:ke.message)||"Are you sure you want to proceed?",confirmText:(ke==null?void 0:ke.type)==="approve"?"Approve":(ke==null?void 0:ke.type)==="feedback"?"Send Feedback":(ke==null?void 0:ke.type)==="reject"?"Reject":(ke==null?void 0:ke.type)==="edit"?"Save & Mark as Edited":"Confirm",type:ke==null?void 0:ke.type}),i.jsx(SUe,{isOpen:z,onClose:pt,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:pt,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},_Ue={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let Qy="technician";const ZT=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],Dae=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a})=>{const[s,o]=y.useState(!1),[l,c]=y.useState(""),u=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},f=a*4;return i.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${a>0?`ml-${f} border-l-4 border-l-blue-200`:""}`,children:[i.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),i.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),i.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[i.jsx(kr,{size:14,className:"mr-1"})," ",t.timestamp,i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!s),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),i.jsx(sr,{children:s&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[i.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:u,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&i.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>i.jsx(Dae,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:a+1},m.id))})]})},AUe=()=>{var I;const t=Ui(),e=nr(),r=((I=t.state)==null?void 0:I.machine)||_Ue,[n,a]=y.useState(null),[s,o]=y.useState(!1),[l,c]=y.useState("approval"),[u,f]=y.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});y.useEffect(()=>{if(r){const B={machineId:r.id,itemResults:r.items.map(D=>({itemId:D.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};a(B)}},[r]);const m=(B,D,E,H,V)=>{a(Y=>Y?{...Y,itemResults:Y.itemResults.map(W=>W.itemId===B?{...W,result:D,status:E==="numeric"?p(Number(D),H,V):D==="MS"?"MS":D==="TMS"?"TMS":"Pending"}:W)}:null)},g=(B,D)=>{a(E=>E?{...E,itemResults:E.itemResults.map(H=>H.itemId===B?{...H,remarks:D}:H)}:null)},p=(B,D,E)=>isNaN(B)||B===null||B===void 0?D===void 0||E===void 0?"N/A":"Pending":D!==void 0&&E!==void 0?B>=D&&B<=E?"MS":"TMS":"N/A",v=B=>{switch(B){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=B=>{switch(B){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},b=B=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[B]||B,N=y.useCallback((B,D,E,H=null)=>{a(V=>{if(!V||V.machineId!==B)return V;const Y={id:crypto.randomUUID(),role:D,comment:E,timestamp:new Date().toLocaleString(),replies:[],parentId:H},W=(z,J)=>J.parentId===null?[...z,J]:z.map(oe=>oe.id===J.parentId?{...oe,replies:oe.replies?[...oe.replies,J]:[J]}:{...oe,replies:oe.replies?W(oe.replies,J):oe.replies}),F=V.commentsHistory||[];return{...V,commentsHistory:W(F,Y)}})},[]),k=(B,D,E)=>{n&&(a(H=>{if(!H)return null;let V=H.commentsHistory||[],Y=[...H.activityHistory];const W=new Date().toLocaleString();if((D==="FeedbackGiven"||D==="Rejected")&&E){const z={id:crypto.randomUUID(),role:B,comment:E,timestamp:W,replies:[],parentId:null};V=[...V,z];const J=D==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";Y.push({type:D==="FeedbackGiven"?"feedback":"rejection",timestamp:W,actor:B,description:`${b(B)} ${J}`,details:E})}else D==="Approved"&&(V=V.filter(z=>!(z.role===B&&(z.parentId===null||z.parentId===void 0)))||[],Y.push({type:"approval",timestamp:W,actor:B,description:`${b(B)} menyetujui laporan.`}));return{...H,approvalStatus:{...H.approvalStatus,[B]:D},commentsHistory:V,activityHistory:Y}}),f(H=>{const V={...H},Y=B;return V[Y]&&(V[Y]={showInput:!1,text:""}),V}))},S=B=>{f(D=>{const E={...D},H=B;return E[H]&&(E[H]={...E[H],showInput:!E[H].showInput}),E})},A=(B,D)=>{f(E=>{const H={...E},V=B;return H[V]&&(H[V]={...H[V],text:D}),H})},_=()=>{if(!r||!n)return;o(!0);let B=!0;const D=[];n.itemResults.forEach(E=>{const H=r.items.find(V=>V.id===E.itemId);H&&(E.result===""||E.status==="Pending")&&(B=!1,D.push({item:H.name}))}),B?(a(E=>{if(!E)return null;let H={...E.approvalStatus},V=E.commentsHistory||[],Y=[...E.activityHistory];const W=new Date().toLocaleString(),F=ZT[0];return H={...H,[F]:"Pending"},Y.push({type:"submission",timestamp:W,actor:Qy,description:`${b(Qy)} mengisi dan mengajukan laporan.`}),{...E,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:H,commentsHistory:V,activityHistory:Y}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+D.map(E=>E.item).join(", ")),o(!1)},M=(B,D,E,H,V,Y)=>!1,R=y.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const B=(E,H=null)=>E.filter(V=>V.parentId===H).sort((V,Y)=>new Date(V.timestamp).getTime()-new Date(Y.timestamp).getTime()).map(V=>({...V,replies:B(E,V.id)})),D={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return ZT.forEach(E=>{const H=n.commentsHistory.filter(V=>V.role===E);D[E]=B(H)}),D},[n==null?void 0:n.commentsHistory]);if(!r||!n)return i.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:i.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const L=!n.isSaved&&Qy==="technician";return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:i.jsxs("div",{className:"flex items-center space-x-4",children:[i.jsxs(O.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[i.jsx(An,{className:"text-xl"}),i.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),i.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsx(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",i.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),i.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),i.jsx("div",{className:"space-y-6",children:i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[i.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:i.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[i.jsx("thead",{className:"bg-gray-50",children:i.jsxs("tr",{children:[i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),i.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(B=>{const D=n.itemResults.find(E=>E.itemId===B.id);return i.jsxs("tr",{children:[i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.name}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:B.visual?`${B.visual} (${B.uom})`:`${B.min} - ${B.max} ${B.uom}`}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:B.uom==="Visual"||B.uom==="Level"||B.uom==="Kekencangan"?i.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(D==null?void 0:D.result)||"",onChange:E=>m(B.id,E.target.value,"visual"),disabled:!L,children:[i.jsx("option",{value:"",children:"Pilih"}),i.jsx("option",{value:"MS",children:"MS"}),i.jsx("option",{value:"TMS",children:"TMS"})]}):i.jsx("input",{type:"number",step:"0.01",value:D==null?void 0:D.result,onChange:E=>m(B.id,E.target.value,"numeric",B.min,B.max),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${v((D==null?void 0:D.status)||"Pending")}`,children:D==null?void 0:D.status})}),i.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:i.jsx("textarea",{rows:1,value:D==null?void 0:D.remarks,onChange:E=>g(B.id,E.target.value),disabled:!L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},B.id)})})]})}),i.jsx("div",{className:"flex justify-end mt-6",children:i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!L||s,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:s?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[i.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[i.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Zi,{className:"h-5 w-5"}),i.jsx("span",{children:"Approval Status"})]}),i.jsxs(O.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[i.jsx(Pg,{className:"h-5 w-5"}),i.jsx("span",{children:"History Activity"})]})]}),l==="approval"?i.jsx(sr,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([B,D])=>{var Y,W;const E=B,H=M(Qy,E,D,n.approvalStatus,ZT,n.isSaved),V=R[E]||[];return i.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("span",{className:"text-sm font-medium text-gray-700",children:b(E)}),i.jsxs("div",{className:"flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${w(D)}`,children:D==="Edited"?`Edited by ${b(E)}`:D}),H&&i.jsxs("div",{className:"flex space-x-1",children:[i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(B,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:i.jsx(wr,{size:20})}),i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(B),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:i.jsx(pg,{size:20})})]})]})]}),i.jsx(sr,{children:((Y=u[E])==null?void 0:Y.showInput)&&i.jsxs(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[i.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",b(E),")"]}),i.jsx("textarea",{rows:2,value:(W=u[E])==null?void 0:W.text,onChange:F=>A(E,F.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),i.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:i.jsx(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(E,"FeedbackGiven",u[E].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),i.jsx("div",{className:"mt-4",children:V.length>0?V.map(F=>i.jsx(Dae,{comment:F,machineId:r.id,currentUserRole:Qy,onAddCommentOrReply:N,depth:0},F.id)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},B)})},"approval-tab")}):i.jsx(sr,{mode:"wait",children:i.jsx(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((B,D)=>i.jsxs(O.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:D*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("div",{className:"mt-1 flex-shrink-0",children:i.jsx(Pg,{size:20,className:"text-blue-500"})}),i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"text-sm font-semibold text-gray-800",children:B.description}),i.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",b(B.actor)]})," - ",B.timestamp]}),B.details&&i.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',B.details,'"']})]})]},D)):i.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},TUe=()=>{const t=nr(),{id:e}=js(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:a,updateApprover:s,deleteApprover:o,getApprovalTemplateById:l}=ir(),[c,u]=y.useState(window.innerWidth<768),[f,m]=y.useState(()=>{const z=localStorage.getItem("sidebarOpen");return JSON.parse(z||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!f)),m(z=>!z)},[p,v]=y.useState([]),[w,b]=y.useState(null),[N,k]=y.useState([]),[S,A]=y.useState(!1),[_,M]=y.useState("");y.useEffect(()=>{e&&(R(),I())},[e]);const R=async()=>{if(!e){M("Template ID is missing");return}try{A(!0);const z=await l(e);console.log("Template data loaded:",z),b(z),z.approvers&&z.approvers.length>0?await L(z.approvers):k([{order:1,role:"Select Position",assignee:""}])}catch(z){M("Failed to load template"),console.error("Error loading template:",z)}finally{A(!1)}},L=async z=>{try{const J=z.map(oe=>{var K,U;return{order:oe.step,role:((K=oe.approver)==null?void 0:K.position)||`Approval Step ${oe.step}`,assignee:((U=oe.approver)==null?void 0:U.name)||"",approver_user_id:oe.approver_user_id}});k(J)}catch(J){console.error("Error loading template approvers from data:",J),k([{order:1,role:"Select Position",assignee:""}])}},I=async()=>{try{const J=(await r()).map(oe=>{var K;return{id:parseInt(oe.id),name:oe.name,email:oe.email,position:oe.position||"No Position",department:((K=oe.department)==null?void 0:K.name)||oe.department_name}});v(J)}catch(z){console.error("Error loading users:",z)}},B=()=>{const z=p.map(J=>J.position).filter(J=>J!=null&&J!=="No Position");return[...new Set(z)]},D=z=>p.filter(J=>J.position===z),E=()=>{const z=N.length>0?Math.max(...N.map(J=>J.order))+1:1;k(J=>[...J,{order:z,role:"Select Position",assignee:""}])},H=z=>{k(J=>J.filter((oe,K)=>K!==z).map((oe,K)=>({...oe,order:K+1})))},V=(z,J)=>{k(oe=>oe.map((K,U)=>U===z?{...K,role:J,assignee:""}:K))},Y=(z,J)=>{const oe=p.find(K=>K.id===J);oe&&k(K=>K.map((U,X)=>X===z?{...U,assignee:oe.name,approver_user_id:oe.id}:U))},W=async()=>{if(!w)return;if(!N.every(J=>J.role&&J.assignee&&J.approver_user_id&&J.role!=="Select Position")){M("Please complete all roles and assignees.");return}try{A(!0),M(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",w.id),console.log("Existing approvers:",w.approvers),console.log("New approval flow:",N);const J=w.approvers||[],oe=N.map(X=>({approver_user_id:X.approver_user_id,step:X.order}));console.log("Existing approvers:",J),console.log("New approvers:",oe);const K=[];for(const X of N){const Z={approver_user_id:X.approver_user_id,step:X.order},ne=J.find(ue=>ue.step===X.order);if(ne)if(ne.approver_user_id!==X.approver_user_id){console.log(`Updating approver for step ${X.order} (ID: ${ne.id})`);try{await s(w.id,ne.id,Z),console.log(` Updated approver for step ${X.order}`)}catch(ue){throw console.error(` Failed to update approver for step ${X.order}:`,ue),new Error(`Failed to update approver for step ${X.order}`)}}else console.log(` Approver for step ${X.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${X.order}`);try{await a(w.id,Z),console.log(` Added new approver for step ${X.order}`)}catch(ue){throw console.error(` Failed to add approver for step ${X.order}:`,ue),new Error(`Failed to add approver for step ${X.order}`)}}K.push(X.order)}const U=J.filter(X=>!K.includes(X.step)).map(X=>({id:X.id,step:X.step}));console.log("Steps to delete:",U);for(const X of U)try{await o(w.id,X.id),console.log(` Deleted unused approver for step ${X.step}`)}catch(Z){console.warn(` Could not delete approver for step ${X.step}:`,Z)}alert(` Approval flow for template "${w.name}" has been successfully saved!`),await R()}catch(J){console.error(" Error saving approval flow:",J),M(J instanceof Error?J.message:"Failed to save approval flow")}finally{A(!1)}},F=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",w),console.log("Custom approval flow:",N),S&&!w?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(rm,{className:"animate-spin text-blue-600",size:32})})]}):w?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:i.jsx(ij,{}),isMobile:c,toggleSidebar:g}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(ij,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",i.jsx("span",{className:"text-blue-600 ml-2",children:w==null?void 0:w.name})]}),i.jsxs(O.button,{onClick:F,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[i.jsx(An,{className:"mr-2",size:18})," Back to Template List"]})]}),i.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),i.jsx("div",{className:"space-y-4",children:N.map((z,J)=>{const oe=B(),K=z.role&&z.role!=="Select Position"?D(z.role):[];return i.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[i.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[z.order,"."]}),i.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),i.jsxs("select",{value:z.role,onChange:U=>V(J,U.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[i.jsx("option",{value:"Select Position",children:"Select Position"}),oe.map(U=>i.jsx("option",{value:U,children:U},U))]})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),i.jsxs("select",{value:z.approver_user_id||"",onChange:U=>Y(J,parseInt(U.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!z.role||z.role==="Select Position"||K.length===0,children:[i.jsx("option",{value:"",children:"Select User"}),K.map(U=>i.jsxs("option",{value:U.id,children:[U.name," (",U.email,")"]},U.id))]}),z.role&&z.role!=="Select Position"&&K.length===0&&i.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(J),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:i.jsx(ha,{size:20})})]},J)})}),i.jsxs("div",{className:"flex justify-between items-center mt-6",children:[i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[i.jsx(di,{size:18,className:"mr-2"})," Add Step"]}),i.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?i.jsx(rm,{className:"animate-spin mr-2",size:16}):i.jsx(Pn,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsxs("div",{className:"text-center",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),i.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),i.jsx("button",{onClick:F,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},MUe=()=>i.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:i.jsxs("div",{className:"max-w-md w-full text-center",children:[i.jsx("div",{className:"mb-8",children:i.jsxs("div",{className:"relative inline-flex",children:[i.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:i.jsx(khe,{className:"w-16 h-16 text-gray-400"})}),i.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:i.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),i.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),i.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),i.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[i.jsxs(Zh,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[i.jsx(Qv,{className:"mr-2"}),"Back to Home"]}),i.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[i.jsx(An,{className:"mr-2"}),"Go Back"]})]}),i.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:i.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",i.jsx(Zh,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),i.jsx("div",{className:"mt-12",children:i.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:i.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),OUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,EUe=()=>{const{id:t}=js(),[e,r]=y.useState(window.innerWidth<768),[n,a]=y.useState([]),[s,o]=y.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:u}=ir(),[f,m]=y.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[g,p]=y.useState(null),[v,w]=y.useState(null),[b,N]=y.useState(!1),[k,S]=y.useState(!1),A=nr(),[_,M]=y.useState({work_area:""}),R=()=>{m(E=>!E)};y.useEffect(()=>{s&&M({work_area:s.work_area||""})},[s]);const L=E=>{const{name:H,value:V}=E.target;M(Y=>({...Y,[H]:H==="sla"?Number(V):V}))},I=y.useCallback(async()=>{try{if(t){const[E]=await Promise.all([u(t)]);o(E)}}catch(E){p(E.message||"Failed to load form data")}},[t,u]);y.useEffect(()=>{t&&I()},[t,I]);const B=async E=>{E.preventDefault(),S(!0),p(null);try{const H={work_area:_.work_area};await c(t,H),w("Work Area update successfully!"),N(!0)}catch(H){p(H.message||"Failed to update Work Area")}finally{S(!1)}},D=()=>{N(!1),A("/worklocation/workarea")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(yc,{}),isMobile:e,toggleSidebar:R}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),i.jsxs(O.button,{onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Area Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:g}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),i.jsxs("form",{onSubmit:B,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:L,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),i.jsx(OUe,{isOpen:b,onClose:D,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},DUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,PUe=()=>{const[t,e]=y.useState(window.innerWidth<768),[r,n]=y.useState([]),{addWorkArea:a,getWorkArea:s}=ir(),[o,l]=y.useState(()=>{const L=localStorage.getItem("sidebarOpen");return L?JSON.parse(L):!1}),[c,u]=y.useState(null),[f,m]=y.useState(null),[g,p]=y.useState(!1),[v,w]=y.useState(!1),b=nr(),[N,k]=y.useState({work_area:""}),S=()=>{l(L=>!L)},A=L=>{const{name:I,value:B}=L.target;k(D=>({...D,[I]:I==="sla"?Number(B):B}))},_=y.useCallback(async()=>{try{const[L]=await Promise.all([s()]);n(L)}catch(L){u(L.message||"Failed to load form data")}},[s]);y.useEffect(()=>{_()},[_]);const M=async L=>{L.preventDefault(),w(!0),u(null);try{const I={work_area:N.work_area};await a(I),m("Work Area created successfully!"),p(!0)}catch(I){u(I.message||"Failed to create Work Area")}finally{w(!1)}},R=()=>{p(!1),b("/worklocation/workarea")};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:i.jsx(yc,{}),isMobile:t,toggleSidebar:S}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),i.jsxs(O.button,{onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Work Area Management"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:c}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),i.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsx(O.button,{type:"button",onClick:()=>b("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),i.jsx(DUe,{isOpen:g,onClose:R,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},LUe=({isOpen:t,onClose:e,title:r,children:n,className:a})=>i.jsx(sr,{children:t&&i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:i.jsxs(O.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${a||"max-w-xl w-full"}`,children:[i.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[i.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),i.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:i.jsx(Ht,{className:"text-xl"})})]}),i.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),RUe=({title:t,value:e,change:r,icon:n})=>{const a=r.startsWith("+");return i.jsxs(O.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[i.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),i.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),i.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),i.jsxs("p",{className:`mt-3 text-xs font-semibold ${a?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},IUe=()=>{const[t,e]=y.useState([]),{getWorkArea:r,deleteWorkArea:n}=ir(),[a,s]=y.useState(!0),[o,l]=y.useState(null),[c,u]=y.useState(""),[f,m]=y.useState(!1),[g,p]=y.useState(null),[v,w]=y.useState(!1),[b]=y.useState(window.innerWidth<768),[N,k]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),S=nr(),A=y.useRef(null),[_,M]=y.useState(!1),R=y.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),L=y.useCallback(async()=>{try{s(!0);const z=[...await r()].sort((J,oe)=>J.id-oe.id);e(z)}catch(F){l("Failed to load Work Area"),console.error("Error loading Work Area:",F)}finally{s(!1)}},[r]);y.useEffect(()=>{L()},[L]);const I=()=>{const F=!N;k(F),localStorage.setItem("sidebarOpen",JSON.stringify(F))},B=()=>{alert("Import functionality is not yet implemented.")},D=F=>{const z=F.target.value;u(z)},E=y.useMemo(()=>{if(!c)return R;const F=c.toLowerCase();return R.filter(z=>z.name.toLowerCase().includes(F))},[c,R]),H=F=>{var z;u(`${F}: `),M(!1),(z=A.current)==null||z.focus()},V=y.useMemo(()=>{if(!c.trim())return t;const F=c.toLowerCase().trim(),z=F.split(":");let J="all",oe=F;return z.length>1&&R.some(K=>K.name.toLowerCase()===z[0].trim())&&(J=z[0].trim(),oe=z.slice(1).join(":").trim()),t.filter(K=>{const U=K.work_area.toLowerCase().includes(oe);return U})},[t,c,R]),Y=async F=>{try{await n(F),e(t.filter(z=>z.id!==F)),m(!1),p(null)}catch(z){console.error("Failed to delete Work Area:",z),l("Failed to delete Work Area. Please try again.")}},W=y.useCallback(F=>{p(F),m(!0)},[]);return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:i.jsx(yc,{}),isMobile:b,toggleSidebar:I}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[i.jsxs("div",{children:[i.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",i.jsx("span",{className:"text-blue-600",children:"Management"})]}),i.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),i.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i.jsxs(O.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[i.jsx(di,{className:"text-base"}),i.jsx("span",{children:"Add Work Area"})]}),i.jsxs(O.button,{onClick:B,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(xo,{className:"text-base"}),i.jsx("span",{children:"Import"})]}),i.jsxs(O.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[i.jsx(go,{className:"text-base"}),i.jsx("span",{children:"Filters"}),i.jsx(O.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:i.jsx(Sa,{className:"text-base"})})]})]})]}),i.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:i.jsx(RUe,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:i.jsx(yc,{className:"w-6 h-6"})})}),i.jsxs(O.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[i.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:i.jsxs("div",{className:"flex-1 relative",children:[i.jsx(Ti,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),i.jsx("input",{ref:A,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:D,onFocus:()=>M(!0),"aria-label":"Search work area"}),i.jsx(sr,{children:_&&E.length>0&&i.jsx(O.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:E.map(F=>i.jsx(O.button,{onClick:()=>H(F.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:i.jsx("span",{className:"font-semibold",children:F.name})},F.id))})})]})}),i.jsx(sr,{children:v&&i.jsx(O.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),a?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),i.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):V.length===0?i.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[i.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&i.jsx("button",{onClick:()=>u(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:i.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:i.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[i.jsx("thead",{className:"bg-blue-50",children:i.jsxs("tr",{children:[i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),i.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),i.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((F,z)=>i.jsxs(O.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),i.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:i.jsx("div",{className:"text-sm font-medium text-gray-900",children:F.work_area})}),i.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${F.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:i.jsx(Ci,{className:"inline text-base"})}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(F.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:i.jsx(ha,{className:"inline text-base"})})]})]},F.id))})]})})})]})]}),i.jsx(LUe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&Y(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},FUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,$Ue=()=>{const{addAsset:t}=ir(),e=nr(),[r,n]=y.useState(!1),[a,s]=y.useState(null),[o,l]=y.useState(!1),[c,u]=y.useState(()=>{const A=localStorage.getItem("sidebarOpen");return A?JSON.parse(A):!1}),[f,m]=y.useState(window.innerWidth<768),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),u(A=>!A)},p={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[v,w]=y.useState(p),b=y.useCallback(A=>{const{name:_,value:M}=A.target;w(R=>({...R,[_]:M}))},[]),N=async A=>{A.preventDefault(),n(!0),s(null);try{const _={...v,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),k()}catch(_){s(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},k=y.useCallback(()=>{w(p),s(null)},[p]),S=y.useCallback(()=>{l(!1),e("/assets")},[e]);return y.useEffect(()=>{const A=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:i.jsx(Za,{}),isMobile:f,toggleSidebar:g}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),i.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),i.jsxs(O.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Assets"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[a&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:a}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>s(null)})})]}),i.jsxs("form",{onSubmit:N,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Za,{className:"mr-2 text-blue-500"})," Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:b,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Hi,{className:"mr-2 text-green-500"})," Technical Specifications"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),i.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Type"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"}),i.jsx("option",{value:"equipment",children:"Equipment"}),i.jsx("option",{value:"tool",children:"Tool"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),i.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),i.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Status"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"}),i.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(sa,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),i.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),i.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),i.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:b,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Health Status"}),i.jsx("option",{value:"excellent",children:"Excellent"}),i.jsx("option",{value:"good",children:"Good"}),i.jsx("option",{value:"fair",children:"Fair"}),i.jsx("option",{value:"poor",children:"Poor"}),i.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(ha,{className:"mr-2 h-5 w-5"})," Clear Form"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Pn,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),i.jsx(FUe,{isOpen:o,onClose:S,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},BUe=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,HUe=()=>{const{editAsset:t,getAssetsData:e}=ir(),r=nr(),{id:n}=js(),[a,s]=y.useState(!1),[o,l]=y.useState(!0),[c,u]=y.useState(null),[f,m]=y.useState(!1),[g,p]=y.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[v,w]=y.useState(window.innerWidth<768),b=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!g)),p(I=>!I)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[k,S]=y.useState(N),A=y.useCallback(I=>{const{name:B,value:D}=I.target;S(E=>({...E,[B]:D}))},[]),_=y.useCallback(async()=>{if(n){l(!0);try{const B=(await e()).find(D=>String(D.id)===n);B?S({id:B.id,name:B.name,category:B.category,location:B.location,purchase_date:B.purchaseDate,description:B.description,type:B.type||"",make:B.make||"",model:B.model||"",status:B.status||"",last_maintenance:B.lastMaintenance||"",next_maintenance:B.nextMaintenance||"",work_orders:B.workOrders||"",health:B.health||"",created_at:B.createdAt,update_at:B.updateAt}):u("Asset not found")}catch(I){u("Failed to load asset data: "+I.message)}finally{l(!1)}}},[n,e]),M=async I=>{I.preventDefault(),s(!0),u(null);try{const B={...k,update_at:new Date().toISOString()};await t(B),m(!0)}catch(B){u(B.message||"Failed to update asset data. Please try again."),console.error("Submission error:",B)}finally{s(!1)}},R=y.useCallback(()=>{_(),u(null)},[_]),L=y.useCallback(()=>{m(!1),r("/assets")},[r]);return y.useEffect(()=>{const I=()=>{w(window.innerWidth<768)};return window.addEventListener("resize",I),()=>window.removeEventListener("resize",I)},[]),y.useEffect(()=>{_()},[_]),o?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:i.jsx(Za,{}),isMobile:v,toggleSidebar:b}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:i.jsxs("div",{className:"flex flex-col items-center",children:[i.jsx(vn,{className:"animate-spin text-blue-600 mb-4",size:32}),i.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:i.jsx(Za,{}),isMobile:v,toggleSidebar:b}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),i.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",k.name]})]}),i.jsxs(O.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[i.jsx(An,{className:"text-lg"})," Back to Assets"]})]}),i.jsxs(O.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&i.jsxs(O.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[i.jsx("strong",{className:"font-bold",children:"Error!"}),i.jsx("span",{className:"block sm:inline ml-2",children:c}),i.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:i.jsx(Ht,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>u(null)})})]}),i.jsxs("form",{onSubmit:M,className:"space-y-6",children:[i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Za,{className:"mr-2 text-blue-500"})," Basic Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"category",id:"category",value:k.category,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"text",name:"location",id:"location",value:k.location,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:k.purchase_date,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),i.jsxs("div",{className:"md:col-span-2",children:[i.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsx("textarea",{name:"description",id:"description",value:k.description,onChange:A,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Za,{className:"mr-2 text-green-500"})," Technical Specifications"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),i.jsxs("select",{name:"type",id:"type",value:k.type||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Type"}),i.jsx("option",{value:"mechanical",children:"Mechanical"}),i.jsx("option",{value:"electrical",children:"Electrical"}),i.jsx("option",{value:"vehicle",children:"Vehicle"}),i.jsx("option",{value:"building",children:"Building"}),i.jsx("option",{value:"equipment",children:"Equipment"}),i.jsx("option",{value:"tool",children:"Tool"})]})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),i.jsx("input",{type:"text",name:"make",id:"make",value:k.make||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),i.jsx("input",{type:"text",name:"model",id:"model",value:k.model||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),i.jsxs("select",{name:"status",id:"status",value:k.status||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Status"}),i.jsx("option",{value:"running",children:"Running"}),i.jsx("option",{value:"maintenance",children:"Maintenance"}),i.jsx("option",{value:"breakdown",children:"Breakdown"}),i.jsx("option",{value:"idle",children:"Idle"}),i.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),i.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[i.jsx(Za,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),i.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:k.last_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),i.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:k.next_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),i.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:k.work_orders||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),i.jsxs("select",{name:"health",id:"health",value:k.health||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Health Status"}),i.jsx("option",{value:"excellent",children:"Excellent"}),i.jsx("option",{value:"good",children:"Good"}),i.jsx("option",{value:"fair",children:"Fair"}),i.jsx("option",{value:"poor",children:"Poor"}),i.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),i.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[i.jsxs(O.button,{type:"button",onClick:R,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[i.jsx(ha,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),i.jsx(O.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:a,children:a?i.jsxs(i.Fragment,{children:[i.jsx(vn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):i.jsxs(i.Fragment,{children:[i.jsx(Ome,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),i.jsx(BUe,{isOpen:f,onClose:L,title:"Success!",children:i.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[i.jsx(wr,{className:"text-green-500 text-6xl mb-4"}),i.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},zUe=()=>{const t=nr(),{user:e}=ir(),[r,n]=y.useState(!1),[a,s]=y.useState(window.innerWidth>=768),[o,l]=y.useState(window.innerWidth<768),[c,u]=y.useState(!1),[f,m]=y.useState(!1),g=y.useRef(null),p=y.useRef(null);y.useEffect(()=>{const b=()=>{l(window.innerWidth<768),window.innerWidth<768?s(!1):s(!0)};return window.addEventListener("resize",b),()=>window.removeEventListener("resize",b)},[]),y.useEffect(()=>{const b=N=>{g.current&&!g.current.contains(N.target)&&u(!1),p.current&&!p.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const v=()=>{s(b=>!b)};y.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=b=>{t(b)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Select Ganba Menu",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:i.jsx(bn,{}),isMobile:o,toggleSidebar:v}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[i.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Ganba Menu"}),i.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the menu you wish to manage other for ganba action."})]}),i.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/ganba/soconfiguration"),children:[i.jsx(Va,{size:64,className:"text-blue-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SO Configuration"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Manage structure organization templates."}),i.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to SO Configuration ",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/ganba/dailyactivity"),children:[i.jsx(NM,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Daily Activity"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Handle report daily tasks."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Daily Activity",i.jsx(ta,{size:18,className:"ml-1"})]})]}),i.jsxs(O.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/ganba/ganbaarea"),children:[i.jsx(NM,{size:64,className:"text-green-600 mb-4"}),i.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Ganba Area"}),i.jsx("p",{className:"text-gray-700 mb-4",children:"Handle Area for 5S."}),i.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Ganba Area",i.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},IG=({isOpen:t,onClose:e,title:r,children:n})=>t?i.jsx(O.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:i.jsxs(O.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[i.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[i.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:i.jsx(Ht,{size:24})})]}),i.jsx("div",{children:n})]})}):null,qUe=()=>{const t=nr(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:a}=ir(),[s,o]=y.useState(window.innerWidth<768),[l,c]=y.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),u=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[f,m]=y.useState(!1),[g,p]=y.useState(""),[v,w]=y.useState([]),[b,N]=y.useState(!1),[k,S]=y.useState(""),[A,_]=y.useState(!1),[M,R]=y.useState(null),L=(H,V,Y)=>{R({type:H,templateId:V,templateName:Y}),_(!0)},I=async()=>{if(M)try{N(!0),M.type==="activate"?(await a(M.templateId),w(H=>H.map(V=>({...V,is_active:V.id===M.templateId})))):M.type==="delete"&&(await n(M.templateId),await B()),_(!1),R(null),S("")}catch(H){S(`Failed to ${M.type} template`),console.error(`Error ${M.type}ing template:`,H)}finally{N(!1)}};y.useEffect(()=>{B()},[]);const B=async()=>{try{N(!0);const H=await e();w(H||[])}catch(H){S("Failed to load structure organization templates"),console.error("Error loading templates:",H)}finally{N(!1)}},D=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:g,is_active:!1});w(V=>[...V,H]),m(!1),p(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},E=H=>{t(`/ganba/soconfiguration/configure/${H.id}`)};return i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations.",icon:i.jsx(Va,{}),isMobile:s,toggleSidebar:u}),i.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(VE,{className:"mr-2 text-gray-700",size:24})," Structure Organization Templates"]}),i.jsxs(O.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:b,children:[i.jsx(BK,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&i.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),b?i.jsx("div",{className:"flex justify-center items-center py-8",children:i.jsx(rm,{className:"animate-spin text-blue-600",size:32})}):i.jsx("div",{className:"space-y-4",children:v.length>0?v.map(H=>i.jsx(O.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:i.jsxs("div",{className:"flex justify-between items-start",children:[i.jsxs("div",{className:"flex-1",children:[i.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[i.jsx(gf,{size:20,className:"mr-2 text-blue-500"}),H.name]}),i.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[i.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),i.jsxs("span",{className:"text-xs text-gray-500",children:["Created: ",new Date().toLocaleDateString()]})]})]}),i.jsxs("div",{className:"flex space-x-2",children:[i.jsx(O.button,{onClick:()=>E(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:b,children:"Configure"}),!H.is_active&&i.jsx(O.button,{onClick:V=>{V.stopPropagation(),L("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:b,children:"Activate"}),i.jsx(O.button,{onClick:V=>{V.stopPropagation(),L("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:b,children:"Delete"})]})]})},H.id)):i.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),i.jsx(IG,{isOpen:A,onClose:()=>{_(!1),R(null)},title:"Confirm Action",children:i.jsxs("div",{className:"space-y-5 text-center py-3",children:[i.jsx(Ur,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),i.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",M==null?void 0:M.type,' template "',M==null?void 0:M.templateName,'"?',(M==null?void 0:M.type)==="delete"&&" This action cannot be undone."]}),i.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),R(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(M==null?void 0:M.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(M==null?void 0:M.type)==="delete"?"Delete":"Activate"})]})]})}),i.jsx(IG,{isOpen:f,onClose:()=>m(!1),title:"Create New Structure Organization Template",children:i.jsxs("div",{className:"space-y-4",children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),i.jsx("input",{type:"text",id:"templateName",value:g,onChange:H=>p(H.target.value),placeholder:"e.g., Production Structure 2024",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&i.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),i.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),p(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),i.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:D,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:b||!g.trim(),children:[b?i.jsx(rm,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},UUe=()=>{const t=nr(),{id:e}=js(),{getUsers:r,getDepartment:n}=ir(),[a,s]=y.useState(window.innerWidth<768),[o,l]=y.useState(()=>{const F=localStorage.getItem("sidebarOpen");return JSON.parse(F||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(F=>!F)},[u,f]=y.useState([]),[m,g]=y.useState([]),[p,v]=y.useState(!1),[w,b]=y.useState(!1),[N,k]=y.useState(""),[S,A]=y.useState({effective_date:new Date().toISOString().split("T")[0],penanggung_jawab:"",coordinators:[{id:1,name:""},{id:2,name:""},{id:3,name:""}],department_coordinators:[{id:1,department:"",personnel_name:""},{id:2,department:"",personnel_name:""},{id:3,department:"",personnel_name:""}],is_active:!1});y.useEffect(()=>{_()},[e]);const _=async()=>{try{v(!0);const[F,z]=await Promise.all([r(),(n==null?void 0:n())||Promise.resolve([])]);f(F||[]),g(z||[])}catch(F){console.error("Error loading data:",F)}finally{v(!1)}},M=F=>{const z=u.find(J=>J.id===F);A(J=>({...J,penanggung_jawab:(z==null?void 0:z.name)||"",penanggung_jawab_id:F}))},R=(F,z)=>{const J=u.find(oe=>oe.id===z);A(oe=>({...oe,coordinators:oe.coordinators.map((K,U)=>U===F?{...K,name:(J==null?void 0:J.name)||"",personnel_id:z}:K)}))},L=(F,z,J)=>{A(oe=>({...oe,department_coordinators:oe.department_coordinators.map((K,U)=>U===F?{...K,[z]:J}:K)}))},I=(F,z)=>{const J=u.find(oe=>oe.id===z);A(oe=>({...oe,department_coordinators:oe.department_coordinators.map((K,U)=>U===F?{...K,personnel_name:(J==null?void 0:J.name)||"",personnel_id:z}:K)}))},B=()=>{A(F=>({...F,coordinators:[...F.coordinators,{id:Date.now(),name:""}]}))},D=F=>{S.coordinators.length>1&&A(z=>({...z,coordinators:z.coordinators.filter((J,oe)=>oe!==F)}))},E=()=>{A(F=>({...F,department_coordinators:[...F.department_coordinators,{id:Date.now(),department:"",personnel_name:""}]}))},H=F=>{S.department_coordinators.length>1&&A(z=>({...z,department_coordinators:z.department_coordinators.filter((J,oe)=>oe!==F)}))},V=F=>{A(z=>({...z,is_active:F}))},Y=async()=>{try{if(b(!0),k(""),!S.penanggung_jawab){k("Penanggung Jawab 5S must be selected");return}await new Promise(F=>setTimeout(F,1e3)),alert("Structure Organization configuration saved successfully!")}catch(F){k("Failed to save configuration"),console.error("Error saving configuration:",F)}finally{b(!1)}},W=()=>{t("/ganba/soconfiguration")};return p?i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsx("div",{className:"flex-1 flex items-center justify-center",children:i.jsx(rm,{className:"animate-spin text-blue-600",size:32})})]}):i.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[i.jsx(er,{}),i.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[i.jsx(cr,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Configure structure organization template with 5S personnel assignments.",icon:i.jsx(Va,{}),isMobile:a,toggleSidebar:c}),i.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:i.jsxs(O.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[i.jsxs("div",{className:"flex justify-between items-center mb-6",children:[i.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[i.jsx(Va,{className:"mr-2 text-gray-700",size:24}),"Structure Organization Configuration"]}),i.jsxs(O.button,{onClick:W,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:w,children:[i.jsx(An,{className:"mr-2",size:18})," Back to Templates"]})]}),N&&i.jsx("div",{className:"mb-6 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:N}),i.jsxs("div",{className:"space-y-6",children:[i.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Effective Date"}),i.jsxs("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-100 text-gray-500",children:[i.jsx(Oa,{size:18,className:"mr-2"}),i.jsx("span",{children:S.effective_date})]}),i.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Automatically set to today's date"})]})}),i.jsxs("div",{children:[i.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Penanggung Jawab 5S ",i.jsx("span",{className:"text-red-500",children:"*"})]}),i.jsxs("select",{value:S.penanggung_jawab_id||"",onChange:F=>M(Number(F.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Penanggung Jawab"}),u.map(F=>i.jsxs("option",{value:F.id,children:[F.name," (",F.position||"No Position",")"]},F.id))]})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Koordinator 5S"}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:B,className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-sm flex items-center",children:[i.jsx(di,{size:16,className:"mr-1"})," Add"]})]}),i.jsx("div",{className:"space-y-3",children:S.coordinators.map((F,z)=>i.jsxs("div",{className:"flex items-center space-x-3",children:[i.jsxs("select",{value:F.personnel_id||"",onChange:J=>R(z,Number(J.target.value)),className:"flex-1 p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Coordinator"}),u.map(J=>i.jsxs("option",{value:J.id,children:[J.name," (",J.position||"No Position",")"]},J.id))]}),S.coordinators.length>1&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>D(z),className:"text-red-600 hover:text-red-800 transition-colors p-2",children:i.jsx(ha,{size:20})})]},F.id))})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"flex justify-between items-center mb-4",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Koordinator 5S Department"}),i.jsxs(O.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:"px-3 py-1 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-sm flex items-center",children:[i.jsx(di,{size:16,className:"mr-1"})," Add"]})]}),i.jsx("div",{className:"space-y-4",children:S.department_coordinators.map((F,z)=>i.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 items-start",children:[i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),i.jsxs("select",{value:F.department,onChange:J=>L(z,"department",J.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Department"}),m.map(J=>i.jsx("option",{value:J.name,children:J.name},J.id))]})]}),i.jsxs("div",{className:"flex items-end space-x-3",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel"}),i.jsxs("select",{value:F.personnel_id||"",onChange:J=>I(z,Number(J.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[i.jsx("option",{value:"",children:"Select Personnel"}),u.map(J=>i.jsxs("option",{value:J.id,children:[J.name," (",J.position||"No Position",")"]},J.id))]})]}),S.department_coordinators.length>1&&i.jsx(O.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(z),className:"text-red-600 hover:text-red-800 transition-colors p-2 mb-2.5",children:i.jsx(ha,{size:20})})]})]},F.id))})]}),i.jsxs("div",{children:[i.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"Status"}),i.jsxs("div",{className:"flex space-x-6",children:[i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"status",checked:S.is_active,onChange:()=>V(!0),className:"text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700",children:"Active"})]}),i.jsxs("label",{className:"flex items-center space-x-2 cursor-pointer",children:[i.jsx("input",{type:"radio",name:"status",checked:!S.is_active,onChange:()=>V(!1),className:"text-blue-600 focus:ring-blue-500"}),i.jsx("span",{className:"text-gray-700",children:"Not Active"})]})]})]}),i.jsxs("div",{className:"flex justify-end space-x-4 pt-6 border-t border-gray-200",children:[i.jsx(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:W,className:"px-6 py-2.5 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors font-semibold",disabled:w,children:"Cancel"}),i.jsxs(O.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold disabled:opacity-50 flex items-center",disabled:w,children:[w?i.jsx(rm,{className:"animate-spin mr-2",size:16}):i.jsx(Pn,{size:18,className:"mr-2"}),"Save Configuration"]})]})]})]})})]})]})};function WUe(){return i.jsx(i.Fragment,{children:i.jsxs(Gse,{children:[i.jsx(Wt,{path:"/login",element:i.jsx(Hoe,{})}),i.jsx(Wt,{path:"/forgot-password",element:i.jsx(ope,{})}),i.jsx(Wt,{path:"/privacy-policy",element:i.jsx(lpe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:i.jsx(sV,{})}),i.jsx(Wt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:i.jsx(AUe,{})}),i.jsxs(Wt,{element:i.jsx(no,{}),children:[i.jsx(Wt,{index:!0,element:i.jsx(cI,{})})," ",i.jsx(Wt,{path:"/dashboard",element:i.jsx(cI,{})})]}),i.jsx(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:i.jsx(Wt,{path:"/audittrail",element:i.jsx(S$e,{})})}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/ganba",element:i.jsx(zUe,{})}),i.jsx(Wt,{path:"/ganba/soconfiguration",element:i.jsx(qUe,{})}),i.jsx(Wt,{path:"/ganba/soconfigurat",element:i.jsx(UUe,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/workflowapproval",element:i.jsx(k$e,{})}),i.jsx(Wt,{path:"/workflowapproval/monitoringapproval",element:i.jsx(C$e,{})}),i.jsx(Wt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:i.jsx(TUe,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/worklocation",element:i.jsx(A_e,{})}),i.jsx(Wt,{path:"/worklocation/department",element:i.jsx($$e,{})}),i.jsx(Wt,{path:"/worklocation/department/adddepartment",element:i.jsx(H$e,{})}),i.jsx(Wt,{path:"/worklocation/department/editdepartment/:id",element:i.jsx(q$e,{})}),i.jsx(Wt,{path:"/worklocation/workunit",element:i.jsx(TBe,{})}),i.jsx(Wt,{path:"/worklocation/workunit/addworkunit",element:i.jsx(kBe,{})}),i.jsx(Wt,{path:"/worklocation/workunit/editworkunit/:id",element:i.jsx(_Be,{})}),i.jsx(Wt,{path:"/worklocation/workgroup",element:i.jsx(fV,{})}),i.jsx(Wt,{path:"/worklocation/workgroup/addworkgroup",element:i.jsx(uV,{})}),i.jsx(Wt,{path:"/worklocation/workgroup/editworkgroup/:id",element:i.jsx(cV,{})}),i.jsx(Wt,{path:"/worklocation/workarea",element:i.jsx(IUe,{})}),i.jsx(Wt,{path:"/worklocation/workarea/addworkarea",element:i.jsx(PUe,{})}),i.jsx(Wt,{path:"/worklocation/workarea/editworkarea/:id",element:i.jsx(EUe,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/workarrangement",element:i.jsx(T_e,{})}),i.jsx(Wt,{path:"/workarrangement/workshift",element:i.jsx(FBe,{})}),i.jsx(Wt,{path:"/workarrangement/workshift/addworkshift",element:i.jsx(RBe,{})}),i.jsx(Wt,{path:"/workarrangement/workshift/editworkshift/:id",element:i.jsx(PBe,{})}),i.jsx(Wt,{path:"/workarrangement/workgroup",element:i.jsx(fV,{})}),i.jsx(Wt,{path:"/workarrangement/workgroup/addworkgroup",element:i.jsx(uV,{})}),i.jsx(Wt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:i.jsx(cV,{})})]}),i.jsx(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:i.jsx(Wt,{path:"/sparepart",element:i.jsx(M_e,{})})}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/assets",element:i.jsx(O_e,{})}),i.jsx(Wt,{path:"/assets/assetsdata",element:i.jsx(hpe,{})}),i.jsx(Wt,{path:"/assets/assetsdata/addasset",element:i.jsx($Ue,{})}),i.jsx(Wt,{path:"/assets/assetsdata/editasset/:id",element:i.jsx(HUe,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/vendors",element:i.jsx(bUe,{})}),i.jsx(Wt,{path:"/vendors/addvendor",element:i.jsx(wUe,{})}),i.jsx(Wt,{path:"/vendors/editvendor/:id",element:i.jsx(NUe,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/services",element:i.jsx(E_e,{})}),i.jsx(Wt,{path:"/services/servicegroups",element:i.jsx(_$e,{})}),i.jsx(Wt,{path:"/services/servicegroups/addservicegroup",element:i.jsx(O$e,{})}),i.jsx(Wt,{path:"/services/servicegroups/editservicegroup/:id",element:i.jsx(D$e,{})}),i.jsx(Wt,{path:"/services/servicecatalogues",element:i.jsx(T$e,{})}),i.jsx(Wt,{path:"/services/servicecatalogues/addservicecatalogue",element:i.jsx(I$e,{})}),i.jsx(Wt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:i.jsx(L$e,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/maintenanceactivity",element:i.jsx(D_e,{})}),i.jsx(Wt,{path:"/maintenanceactivity/stoptimes",element:i.jsx(V$e,{})}),i.jsx(Wt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:i.jsx(Y$e,{})}),i.jsx(Wt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:i.jsx(J$e,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activitytypes",element:i.jsx(Z$e,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:i.jsx(sV,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:i.jsx(rBe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activity",element:i.jsx(bBe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activity/addactivity",element:i.jsx(gBe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/activity/editactivity/:id",element:i.jsx(mBe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/troubleitem",element:i.jsx(jBe,{})}),i.jsx(Wt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:i.jsx(oV,{})}),i.jsx(Wt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:i.jsx(oV,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_machinehistory"]}),children:[i.jsx(Wt,{path:"/machinehistory",element:i.jsx(jbe,{})}),i.jsx(Wt,{path:"/machinehistory/reports",element:i.jsx(j$e,{})}),i.jsx(Wt,{path:"/machinehistory/addmachinehistory",element:i.jsx(c_e,{})}),i.jsx(Wt,{path:"/machinehistory/edit/:id",element:i.jsx(d_e,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_assets"]}),children:[i.jsx(Wt,{path:"/monitoringmaintenance",element:i.jsx(LG,{})}),i.jsx(Wt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:i.jsx(CUe,{})}),i.jsx(Wt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:i.jsx(BBe,{})}),i.jsx(Wt,{path:"/monitoringmaintenance",element:i.jsx(LG,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_workorders"]}),children:[i.jsx(Wt,{path:"/workorders",element:i.jsx(__e,{})}),i.jsx(Wt,{path:"/workorders/it",element:i.jsx(iBe,{})}),i.jsx(Wt,{path:"/workorders/it/addworkorder",element:i.jsx(C_e,{})}),i.jsx(Wt,{path:"/workorders/it/editworkorder/:id",element:i.jsx(oBe,{})}),i.jsx(Wt,{path:"/workorders/it/receiver",element:i.jsx(b_e,{})}),i.jsx(Wt,{path:"/workorders/it/receiver/editreceiver/:id",element:i.jsx(cBe,{})}),i.jsx(Wt,{path:"/workorders/it/assignment",element:i.jsx(uBe,{})}),i.jsx(Wt,{path:"/workorders/it/assignment/editassignment/:id",element:i.jsx(fBe,{})}),i.jsx(Wt,{path:"/workorders/it/reports",element:i.jsx(dUe,{})}),i.jsx(Wt,{path:"/workorders/it/knowledgebase",element:i.jsx(w_e,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_settings"]}),children:[i.jsx(Wt,{path:"/settings",element:i.jsx(mpe,{})}),i.jsx(Wt,{path:"/settings/change-password",element:i.jsx(h_e,{})})]}),i.jsxs(Wt,{element:i.jsx(no,{requiredPermissions:["view_permissions"]}),children:[i.jsx(Wt,{path:"/permissions",element:i.jsx(f_e,{})}),i.jsx(Wt,{path:"/permissions/adduser",element:i.jsx(g_e,{})})]}),i.jsx(Wt,{path:"/logout",element:i.jsx(upe,{})}),i.jsx(Wt,{path:"*",element:i.jsx(MUe,{})})]})})}const VUe=ese.createRoot(document.getElementById("root"));VUe.render(i.jsx(fe.StrictMode,{children:i.jsx(goe,{children:i.jsx(_oe,{children:i.jsx(WUe,{})})})}));export{tb as _,cw as c,Kn as g};
