const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index.es-Bqykn-HJ.js","assets/projectEnvVariables-BdSAgEbo.js"])))=>i.map(i=>d[i]);
var Vse=Object.defineProperty;var Gse=(t,e,r)=>e in t?Vse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Jt=(t,e,r)=>Gse(t,typeof e!="symbol"?e+"":e,r);import{g as HG}from"./projectEnvVariables-BdSAgEbo.js";function Yse(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var cw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Xk={exports:{}},kb={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k7;function Kse(){if(k7)return kb;k7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:i}}return kb.Fragment=e,kb.jsx=r,kb.jsxs=r,kb}var C7;function Jse(){return C7||(C7=1,Xk.exports=Kse()),Xk.exports}var a=Jse(),Qk={exports:{}},sn={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _7;function Xse(){if(_7)return sn;_7=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),p=Symbol.iterator;function g(K){return K===null||typeof K!="object"?null:(K=p&&K[p]||K["@@iterator"],typeof K=="function"?K:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,y={};function N(K,W,J){this.props=K,this.context=W,this.refs=y,this.updater=J||v}N.prototype.isReactComponent={},N.prototype.setState=function(K,W){if(typeof K!="object"&&typeof K!="function"&&K!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,K,W,"setState")},N.prototype.forceUpdate=function(K){this.updater.enqueueForceUpdate(this,K,"forceUpdate")};function k(){}k.prototype=N.prototype;function S(K,W,J){this.props=K,this.context=W,this.refs=y,this.updater=J||v}var A=S.prototype=new k;A.constructor=S,w(A,N.prototype),A.isPureReactComponent=!0;var _=Array.isArray;function O(){}var P={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function R(K,W,J){var Z=J.ref;return{$$typeof:t,type:K,key:W,ref:Z!==void 0?Z:null,props:J}}function F(K,W){return R(K.type,W,K.props)}function E(K){return typeof K=="object"&&K!==null&&K.$$typeof===t}function M(K){var W={"=":"=0",":":"=2"};return"$"+K.replace(/[=:]/g,function(J){return W[J]})}var H=/\/+/g;function V(K,W){return typeof K=="object"&&K!==null&&K.key!=null?M(""+K.key):W.toString(36)}function G(K){switch(K.status){case"fulfilled":return K.value;case"rejected":throw K.reason;default:switch(typeof K.status=="string"?K.then(O,O):(K.status="pending",K.then(function(W){K.status==="pending"&&(K.status="fulfilled",K.value=W)},function(W){K.status==="pending"&&(K.status="rejected",K.reason=W)})),K.status){case"fulfilled":return K.value;case"rejected":throw K.reason}}throw K}function q(K,W,J,Z,ie){var ue=typeof K;(ue==="undefined"||ue==="boolean")&&(K=null);var je=!1;if(K===null)je=!0;else switch(ue){case"bigint":case"string":case"number":je=!0;break;case"object":switch(K.$$typeof){case t:case e:je=!0;break;case f:return je=K._init,q(je(K._payload),W,J,Z,ie)}}if(je)return ie=ie(K),je=Z===""?"."+V(K,0):Z,_(ie)?(J="",je!=null&&(J=je.replace(H,"$&/")+"/"),q(ie,W,J,"",function(pe){return pe})):ie!=null&&(E(ie)&&(ie=F(ie,J+(ie.key==null||K&&K.key===ie.key?"":(""+ie.key).replace(H,"$&/")+"/")+je)),W.push(ie)),1;je=0;var ce=Z===""?".":Z+":";if(_(K))for(var le=0;le<K.length;le++)Z=K[le],ue=ce+V(Z,le),je+=q(Z,W,J,ue,ie);else if(le=g(K),typeof le=="function")for(K=le.call(K),le=0;!(Z=K.next()).done;)Z=Z.value,ue=ce+V(Z,le++),je+=q(Z,W,J,ue,ie);else if(ue==="object"){if(typeof K.then=="function")return q(G(K),W,J,Z,ie);throw W=String(K),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(K).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return je}function B(K,W,J){if(K==null)return K;var Z=[],ie=0;return q(K,Z,"","",function(ue){return W.call(J,ue,ie++)}),Z}function z(K){if(K._status===-1){var W=K._result;W=W(),W.then(function(J){(K._status===0||K._status===-1)&&(K._status=1,K._result=J)},function(J){(K._status===0||K._status===-1)&&(K._status=2,K._result=J)}),K._status===-1&&(K._status=0,K._result=W)}if(K._status===1)return K._result.default;throw K._result}var X=typeof reportError=="function"?reportError:function(K){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof K=="object"&&K!==null&&typeof K.message=="string"?String(K.message):String(K),error:K});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",K);return}console.error(K)},ee={map:B,forEach:function(K,W,J){B(K,function(){W.apply(this,arguments)},J)},count:function(K){var W=0;return B(K,function(){W++}),W},toArray:function(K){return B(K,function(W){return W})||[]},only:function(K){if(!E(K))throw Error("React.Children.only expected to receive a single React element child.");return K}};return sn.Activity=m,sn.Children=ee,sn.Component=N,sn.Fragment=r,sn.Profiler=s,sn.PureComponent=S,sn.StrictMode=n,sn.Suspense=c,sn.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=P,sn.__COMPILER_RUNTIME={__proto__:null,c:function(K){return P.H.useMemoCache(K)}},sn.cache=function(K){return function(){return K.apply(null,arguments)}},sn.cacheSignal=function(){return null},sn.cloneElement=function(K,W,J){if(K==null)throw Error("The argument must be a React element, but you passed "+K+".");var Z=w({},K.props),ie=K.key;if(W!=null)for(ue in W.key!==void 0&&(ie=""+W.key),W)!I.call(W,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&W.ref===void 0||(Z[ue]=W[ue]);var ue=arguments.length-2;if(ue===1)Z.children=J;else if(1<ue){for(var je=Array(ue),ce=0;ce<ue;ce++)je[ce]=arguments[ce+2];Z.children=je}return R(K.type,ie,Z)},sn.createContext=function(K){return K={$$typeof:o,_currentValue:K,_currentValue2:K,_threadCount:0,Provider:null,Consumer:null},K.Provider=K,K.Consumer={$$typeof:i,_context:K},K},sn.createElement=function(K,W,J){var Z,ie={},ue=null;if(W!=null)for(Z in W.key!==void 0&&(ue=""+W.key),W)I.call(W,Z)&&Z!=="key"&&Z!=="__self"&&Z!=="__source"&&(ie[Z]=W[Z]);var je=arguments.length-2;if(je===1)ie.children=J;else if(1<je){for(var ce=Array(je),le=0;le<je;le++)ce[le]=arguments[le+2];ie.children=ce}if(K&&K.defaultProps)for(Z in je=K.defaultProps,je)ie[Z]===void 0&&(ie[Z]=je[Z]);return R(K,ue,ie)},sn.createRef=function(){return{current:null}},sn.forwardRef=function(K){return{$$typeof:l,render:K}},sn.isValidElement=E,sn.lazy=function(K){return{$$typeof:f,_payload:{_status:-1,_result:K},_init:z}},sn.memo=function(K,W){return{$$typeof:d,type:K,compare:W===void 0?null:W}},sn.startTransition=function(K){var W=P.T,J={};P.T=J;try{var Z=K(),ie=P.S;ie!==null&&ie(J,Z),typeof Z=="object"&&Z!==null&&typeof Z.then=="function"&&Z.then(O,X)}catch(ue){X(ue)}finally{W!==null&&J.types!==null&&(W.types=J.types),P.T=W}},sn.unstable_useCacheRefresh=function(){return P.H.useCacheRefresh()},sn.use=function(K){return P.H.use(K)},sn.useActionState=function(K,W,J){return P.H.useActionState(K,W,J)},sn.useCallback=function(K,W){return P.H.useCallback(K,W)},sn.useContext=function(K){return P.H.useContext(K)},sn.useDebugValue=function(){},sn.useDeferredValue=function(K,W){return P.H.useDeferredValue(K,W)},sn.useEffect=function(K,W){return P.H.useEffect(K,W)},sn.useEffectEvent=function(K){return P.H.useEffectEvent(K)},sn.useId=function(){return P.H.useId()},sn.useImperativeHandle=function(K,W,J){return P.H.useImperativeHandle(K,W,J)},sn.useInsertionEffect=function(K,W){return P.H.useInsertionEffect(K,W)},sn.useLayoutEffect=function(K,W){return P.H.useLayoutEffect(K,W)},sn.useMemo=function(K,W){return P.H.useMemo(K,W)},sn.useOptimistic=function(K,W){return P.H.useOptimistic(K,W)},sn.useReducer=function(K,W,J){return P.H.useReducer(K,W,J)},sn.useRef=function(K){return P.H.useRef(K)},sn.useState=function(K){return P.H.useState(K)},sn.useSyncExternalStore=function(K,W,J){return P.H.useSyncExternalStore(K,W,J)},sn.useTransition=function(){return P.H.useTransition()},sn.version="19.2.0",sn}var A7;function Wv(){return A7||(A7=1,Qk.exports=Xse()),Qk.exports}var b=Wv();const be=Yn(b),J2=Yse({__proto__:null,default:be},[b]);var Zk={exports:{}},Cb={},eC={exports:{}},tC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T7;function Qse(){return T7||(T7=1,(function(t){function e(q,B){var z=q.length;q.push(B);e:for(;0<z;){var X=z-1>>>1,ee=q[X];if(0<s(ee,B))q[X]=B,q[z]=ee,z=X;else break e}}function r(q){return q.length===0?null:q[0]}function n(q){if(q.length===0)return null;var B=q[0],z=q.pop();if(z!==B){q[0]=z;e:for(var X=0,ee=q.length,K=ee>>>1;X<K;){var W=2*(X+1)-1,J=q[W],Z=W+1,ie=q[Z];if(0>s(J,z))Z<ee&&0>s(ie,J)?(q[X]=ie,q[Z]=z,X=Z):(q[X]=J,q[W]=z,X=W);else if(Z<ee&&0>s(ie,z))q[X]=ie,q[Z]=z,X=Z;else break e}}return B}function s(q,B){var z=q.sortIndex-B.sortIndex;return z!==0?z:q.id-B.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],f=1,m=null,p=3,g=!1,v=!1,w=!1,y=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function A(q){for(var B=r(d);B!==null;){if(B.callback===null)n(d);else if(B.startTime<=q)n(d),B.sortIndex=B.expirationTime,e(c,B);else break;B=r(d)}}function _(q){if(w=!1,A(q),!v)if(r(c)!==null)v=!0,O||(O=!0,M());else{var B=r(d);B!==null&&G(_,B.startTime-q)}}var O=!1,P=-1,I=5,R=-1;function F(){return y?!0:!(t.unstable_now()-R<I)}function E(){if(y=!1,O){var q=t.unstable_now();R=q;var B=!0;try{e:{v=!1,w&&(w=!1,k(P),P=-1),g=!0;var z=p;try{t:{for(A(q),m=r(c);m!==null&&!(m.expirationTime>q&&F());){var X=m.callback;if(typeof X=="function"){m.callback=null,p=m.priorityLevel;var ee=X(m.expirationTime<=q);if(q=t.unstable_now(),typeof ee=="function"){m.callback=ee,A(q),B=!0;break t}m===r(c)&&n(c),A(q)}else n(c);m=r(c)}if(m!==null)B=!0;else{var K=r(d);K!==null&&G(_,K.startTime-q),B=!1}}break e}finally{m=null,p=z,g=!1}B=void 0}}finally{B?M():O=!1}}}var M;if(typeof S=="function")M=function(){S(E)};else if(typeof MessageChannel<"u"){var H=new MessageChannel,V=H.port2;H.port1.onmessage=E,M=function(){V.postMessage(null)}}else M=function(){N(E,0)};function G(q,B){P=N(function(){q(t.unstable_now())},B)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(q){q.callback=null},t.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<q?Math.floor(1e3/q):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_next=function(q){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var z=p;p=B;try{return q()}finally{p=z}},t.unstable_requestPaint=function(){y=!0},t.unstable_runWithPriority=function(q,B){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var z=p;p=q;try{return B()}finally{p=z}},t.unstable_scheduleCallback=function(q,B,z){var X=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?X+z:X):z=X,q){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,q={id:f++,callback:B,priorityLevel:q,startTime:z,expirationTime:ee,sortIndex:-1},z>X?(q.sortIndex=z,e(d,q),r(c)===null&&q===r(d)&&(w?(k(P),P=-1):w=!0,G(_,z-X))):(q.sortIndex=ee,e(c,q),v||g||(v=!0,O||(O=!0,M()))),q},t.unstable_shouldYield=F,t.unstable_wrapCallback=function(q){var B=p;return function(){var z=p;p=B;try{return q.apply(this,arguments)}finally{p=z}}}})(tC)),tC}var M7;function Zse(){return M7||(M7=1,eC.exports=Qse()),eC.exports}var rC={exports:{}},ao={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O7;function eie(){if(O7)return ao;O7=1;var t=Wv();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)d+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,d,f){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:d,implementation:f}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return ao.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ao.createPortal=function(c,d){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,f)},ao.flushSync=function(c){var d=o.T,f=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=f,n.d.f()}},ao.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},ao.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},ao.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin),p=typeof d.integrity=="string"?d.integrity:void 0,g=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;f==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:p,fetchPriority:g}):f==="script"&&n.d.X(c,{crossOrigin:m,integrity:p,fetchPriority:g,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},ao.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var f=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},ao.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var f=d.as,m=l(f,d.crossOrigin);n.d.L(c,f,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},ao.preloadModule=function(c,d){if(typeof c=="string")if(d){var f=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:f,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},ao.requestFormReset=function(c){n.d.r(c)},ao.unstable_batchedUpdates=function(c,d){return c(d)},ao.useFormState=function(c,d,f){return o.H.useFormState(c,d,f)},ao.useFormStatus=function(){return o.H.useHostTransitionStatus()},ao.version="19.2.0",ao}var E7;function BG(){if(E7)return rC.exports;E7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),rC.exports=eie(),rC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var D7;function tie(){if(D7)return Cb;D7=1;var t=Zse(),e=Wv(),r=BG();function n(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var x=2;x<arguments.length;x++)h+="&args[]="+encodeURIComponent(arguments[x])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var h=u,x=u;if(u.alternate)for(;h.return;)h=h.return;else{u=h;do h=u,(h.flags&4098)!==0&&(x=h.return),u=h.return;while(u)}return h.tag===3?x:null}function o(u){if(u.tag===13){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function l(u){if(u.tag===31){var h=u.memoizedState;if(h===null&&(u=u.alternate,u!==null&&(h=u.memoizedState)),h!==null)return h.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(n(188))}function d(u){var h=u.alternate;if(!h){if(h=i(u),h===null)throw Error(n(188));return h!==u?null:u}for(var x=u,j=h;;){var D=x.return;if(D===null)break;var $=D.alternate;if($===null){if(j=D.return,j!==null){x=j;continue}break}if(D.child===$.child){for($=D.child;$;){if($===x)return c(D),u;if($===j)return c(D),h;$=$.sibling}throw Error(n(188))}if(x.return!==j.return)x=D,j=$;else{for(var re=!1,Ce=D.child;Ce;){if(Ce===x){re=!0,x=D,j=$;break}if(Ce===j){re=!0,j=D,x=$;break}Ce=Ce.sibling}if(!re){for(Ce=$.child;Ce;){if(Ce===x){re=!0,x=$,j=D;break}if(Ce===j){re=!0,j=$,x=D;break}Ce=Ce.sibling}if(!re)throw Error(n(189))}}if(x.alternate!==j)throw Error(n(190))}if(x.tag!==3)throw Error(n(188));return x.stateNode.current===x?u:h}function f(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u;for(u=u.child;u!==null;){if(h=f(u),h!==null)return h;u=u.sibling}return null}var m=Object.assign,p=Symbol.for("react.element"),g=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),S=Symbol.for("react.context"),A=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),F=Symbol.for("react.memo_cache_sentinel"),E=Symbol.iterator;function M(u){return u===null||typeof u!="object"?null:(u=E&&u[E]||u["@@iterator"],typeof u=="function"?u:null)}var H=Symbol.for("react.client.reference");function V(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===H?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case w:return"Fragment";case N:return"Profiler";case y:return"StrictMode";case _:return"Suspense";case O:return"SuspenseList";case R:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case v:return"Portal";case S:return u.displayName||"Context";case k:return(u._context.displayName||"Context")+".Consumer";case A:var h=u.render;return u=u.displayName,u||(u=h.displayName||h.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case P:return h=u.displayName||null,h!==null?h:V(u.type)||"Memo";case I:h=u._payload,u=u._init;try{return V(u(h))}catch{}}return null}var G=Array.isArray,q=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z={pending:!1,data:null,method:null,action:null},X=[],ee=-1;function K(u){return{current:u}}function W(u){0>ee||(u.current=X[ee],X[ee]=null,ee--)}function J(u,h){ee++,X[ee]=u.current,u.current=h}var Z=K(null),ie=K(null),ue=K(null),je=K(null);function ce(u,h){switch(J(ue,h),J(ie,u),J(Z,null),h.nodeType){case 9:case 11:u=(u=h.documentElement)&&(u=u.namespaceURI)?Y8(u):0;break;default:if(u=h.tagName,h=h.namespaceURI)h=Y8(h),u=K8(h,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}W(Z),J(Z,u)}function le(){W(Z),W(ie),W(ue)}function pe(u){u.memoizedState!==null&&J(je,u);var h=Z.current,x=K8(h,u.type);h!==x&&(J(ie,u),J(Z,x))}function $e(u){ie.current===u&&(W(Z),W(ie)),je.current===u&&(W(je),wb._currentValue=z)}var de,Se;function te(u){if(de===void 0)try{throw Error()}catch(x){var h=x.stack.trim().match(/\n( *(at )?)/);de=h&&h[1]||"",Se=-1<x.stack.indexOf(`
    at`)?" (<anonymous>)":-1<x.stack.indexOf("@")?"@unknown:0:0":""}return`
`+de+u+Se}var se=!1;function ut(u,h){if(!u||se)return"";se=!0;var x=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(h){var Ht=function(){throw Error()};if(Object.defineProperty(Ht.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ht,[])}catch(kt){var jt=kt}Reflect.construct(u,[],Ht)}else{try{Ht.call()}catch(kt){jt=kt}u.call(Ht.prototype)}}else{try{throw Error()}catch(kt){jt=kt}(Ht=u())&&typeof Ht.catch=="function"&&Ht.catch(function(){})}}catch(kt){if(kt&&jt&&typeof kt.stack=="string")return[kt.stack,jt.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var D=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");D&&D.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var $=j.DetermineComponentFrameRoot(),re=$[0],Ce=$[1];if(re&&Ce){var We=re.split(`
`),vt=Ce.split(`
`);for(D=j=0;j<We.length&&!We[j].includes("DetermineComponentFrameRoot");)j++;for(;D<vt.length&&!vt[D].includes("DetermineComponentFrameRoot");)D++;if(j===We.length||D===vt.length)for(j=We.length-1,D=vt.length-1;1<=j&&0<=D&&We[j]!==vt[D];)D--;for(;1<=j&&0<=D;j--,D--)if(We[j]!==vt[D]){if(j!==1||D!==1)do if(j--,D--,0>D||We[j]!==vt[D]){var Ot=`
`+We[j].replace(" at new "," at ");return u.displayName&&Ot.includes("<anonymous>")&&(Ot=Ot.replace("<anonymous>",u.displayName)),Ot}while(1<=j&&0<=D);break}}}finally{se=!1,Error.prepareStackTrace=x}return(x=u?u.displayName||u.name:"")?te(x):""}function dt(u,h){switch(u.tag){case 26:case 27:case 5:return te(u.type);case 16:return te("Lazy");case 13:return u.child!==h&&h!==null?te("Suspense Fallback"):te("Suspense");case 19:return te("SuspenseList");case 0:case 15:return ut(u.type,!1);case 11:return ut(u.type.render,!1);case 1:return ut(u.type,!0);case 31:return te("Activity");default:return""}}function De(u){try{var h="",x=null;do h+=dt(u,x),x=u,u=u.return;while(u);return h}catch(j){return`
Error generating stack: `+j.message+`
`+j.stack}}var rt=Object.prototype.hasOwnProperty,wt=t.unstable_scheduleCallback,gt=t.unstable_cancelCallback,Rt=t.unstable_shouldYield,He=t.unstable_requestPaint,he=t.unstable_now,Qe=t.unstable_getCurrentPriorityLevel,Ge=t.unstable_ImmediatePriority,mt=t.unstable_UserBlockingPriority,Le=t.unstable_NormalPriority,_e=t.unstable_LowPriority,qe=t.unstable_IdlePriority,ge=t.log,Oe=t.unstable_setDisableYieldValue,ke=null,Ue=null;function Xe(u){if(typeof ge=="function"&&Oe(u),Ue&&typeof Ue.setStrictMode=="function")try{Ue.setStrictMode(ke,u)}catch{}}var we=Math.clz32?Math.clz32:pt,ye=Math.log,Ke=Math.LN2;function pt(u){return u>>>=0,u===0?32:31-(ye(u)/Ke|0)|0}var tt=256,Te=262144,ne=4194304;function Ie(u){var h=u&42;if(h!==0)return h;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function Ye(u,h,x){var j=u.pendingLanes;if(j===0)return 0;var D=0,$=u.suspendedLanes,re=u.pingedLanes;u=u.warmLanes;var Ce=j&134217727;return Ce!==0?(j=Ce&~$,j!==0?D=Ie(j):(re&=Ce,re!==0?D=Ie(re):x||(x=Ce&~u,x!==0&&(D=Ie(x))))):(Ce=j&~$,Ce!==0?D=Ie(Ce):re!==0?D=Ie(re):x||(x=j&~u,x!==0&&(D=Ie(x)))),D===0?0:h!==0&&h!==D&&(h&$)===0&&($=D&-D,x=h&-h,$>=x||$===32&&(x&4194048)!==0)?h:D}function st(u,h){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&h)===0}function yt(u,h){switch(u){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ze(){var u=ne;return ne<<=1,(ne&62914560)===0&&(ne=4194304),u}function St(u){for(var h=[],x=0;31>x;x++)h.push(u);return h}function Ee(u,h){u.pendingLanes|=h,h!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function It(u,h,x,j,D,$){var re=u.pendingLanes;u.pendingLanes=x,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=x,u.entangledLanes&=x,u.errorRecoveryDisabledLanes&=x,u.shellSuspendCounter=0;var Ce=u.entanglements,We=u.expirationTimes,vt=u.hiddenUpdates;for(x=re&~x;0<x;){var Ot=31-we(x),Ht=1<<Ot;Ce[Ot]=0,We[Ot]=-1;var jt=vt[Ot];if(jt!==null)for(vt[Ot]=null,Ot=0;Ot<jt.length;Ot++){var kt=jt[Ot];kt!==null&&(kt.lane&=-536870913)}x&=~Ht}j!==0&&Pt(u,j,0),$!==0&&D===0&&u.tag!==0&&(u.suspendedLanes|=$&~(re&~h))}function Pt(u,h,x){u.pendingLanes|=h,u.suspendedLanes&=~h;var j=31-we(h);u.entangledLanes|=h,u.entanglements[j]=u.entanglements[j]|1073741824|x&261930}function Bt(u,h){var x=u.entangledLanes|=h;for(u=u.entanglements;x;){var j=31-we(x),D=1<<j;D&h|u[j]&h&&(u[j]|=h),x&=~D}}function ft(u,h){var x=h&-h;return x=(x&42)!==0?1:Ct(x),(x&(u.suspendedLanes|h))!==0?0:x}function Ct(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function Mt(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function pr(){var u=B.p;return u!==0?u:(u=window.event,u===void 0?32:b7(u.type))}function yn(u,h){var x=B.p;try{return B.p=u,h()}finally{B.p=x}}var vn=Math.random().toString(36).slice(2),or="__reactFiber$"+vn,Ur="__reactProps$"+vn,Yr="__reactContainer$"+vn,jn="__reactEvents$"+vn,Ve="__reactListeners$"+vn,it="__reactHandles$"+vn,_t="__reactResources$"+vn,xe="__reactMarker$"+vn;function nt(u){delete u[or],delete u[Ur],delete u[jn],delete u[Ve],delete u[it]}function Nt(u){var h=u[or];if(h)return h;for(var x=u.parentNode;x;){if(h=x[Yr]||x[or]){if(x=h.alternate,h.child!==null||x!==null&&x.child!==null)for(u=r7(u);u!==null;){if(x=u[or])return x;u=r7(u)}return h}u=x,x=u.parentNode}return null}function cr(u){if(u=u[or]||u[Yr]){var h=u.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return u}return null}function rn(u){var h=u.tag;if(h===5||h===26||h===27||h===6)return u.stateNode;throw Error(n(33))}function nr(u){var h=u[_t];return h||(h=u[_t]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function zt(u){u[xe]=!0}var Nr=new Set,jr={};function cn(u,h){ir(u,h),ir(u+"Capture",h)}function ir(u,h){for(jr[u]=h,u=0;u<h.length;u++)Nr.add(h[u])}var Kn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Er={},ii={};function ya(u){return rt.call(ii,u)?!0:rt.call(Er,u)?!1:Kn.test(u)?ii[u]=!0:(Er[u]=!0,!1)}function va(u,h,x){if(ya(h))if(x===null)u.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":u.removeAttribute(h);return;case"boolean":var j=h.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){u.removeAttribute(h);return}}u.setAttribute(h,""+x)}}function nn(u,h,x){if(x===null)u.removeAttribute(h);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(h);return}u.setAttribute(h,""+x)}}function Qr(u,h,x,j){if(j===null)u.removeAttribute(x);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(x);return}u.setAttributeNS(h,x,""+j)}}function Sn(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function kc(u){var h=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Xi(u,h,x){var j=Object.getOwnPropertyDescriptor(u.constructor.prototype,h);if(!u.hasOwnProperty(h)&&typeof j<"u"&&typeof j.get=="function"&&typeof j.set=="function"){var D=j.get,$=j.set;return Object.defineProperty(u,h,{configurable:!0,get:function(){return D.call(this)},set:function(re){x=""+re,$.call(this,re)}}),Object.defineProperty(u,h,{enumerable:j.enumerable}),{getValue:function(){return x},setValue:function(re){x=""+re},stopTracking:function(){u._valueTracker=null,delete u[h]}}}}function vo(u){if(!u._valueTracker){var h=kc(u)?"checked":"value";u._valueTracker=Xi(u,h,""+u[h])}}function Qi(u){if(!u)return!1;var h=u._valueTracker;if(!h)return!0;var x=h.getValue(),j="";return u&&(j=kc(u)?u.checked?"true":"false":u.value),u=j,u!==x?(h.setValue(u),!0):!1}function qo(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var Ha=/[\n"\\]/g;function Vs(u){return u.replace(Ha,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function yu(u,h,x,j,D,$,re,Ce){u.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?u.type=re:u.removeAttribute("type"),h!=null?re==="number"?(h===0&&u.value===""||u.value!=h)&&(u.value=""+Sn(h)):u.value!==""+Sn(h)&&(u.value=""+Sn(h)):re!=="submit"&&re!=="reset"||u.removeAttribute("value"),h!=null?vu(u,re,Sn(h)):x!=null?vu(u,re,Sn(x)):j!=null&&u.removeAttribute("value"),D==null&&$!=null&&(u.defaultChecked=!!$),D!=null&&(u.checked=D&&typeof D!="function"&&typeof D!="symbol"),Ce!=null&&typeof Ce!="function"&&typeof Ce!="symbol"&&typeof Ce!="boolean"?u.name=""+Sn(Ce):u.removeAttribute("name")}function Gf(u,h,x,j,D,$,re,Ce){if($!=null&&typeof $!="function"&&typeof $!="symbol"&&typeof $!="boolean"&&(u.type=$),h!=null||x!=null){if(!($!=="submit"&&$!=="reset"||h!=null)){vo(u);return}x=x!=null?""+Sn(x):"",h=h!=null?""+Sn(h):x,Ce||h===u.value||(u.value=h),u.defaultValue=h}j=j??D,j=typeof j!="function"&&typeof j!="symbol"&&!!j,u.checked=Ce?u.checked:!!j,u.defaultChecked=!!j,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(u.name=re),vo(u)}function vu(u,h,x){h==="number"&&qo(u.ownerDocument)===u||u.defaultValue===""+x||(u.defaultValue=""+x)}function oi(u,h,x,j){if(u=u.options,h){h={};for(var D=0;D<x.length;D++)h["$"+x[D]]=!0;for(x=0;x<u.length;x++)D=h.hasOwnProperty("$"+u[x].value),u[x].selected!==D&&(u[x].selected=D),D&&j&&(u[x].defaultSelected=!0)}else{for(x=""+Sn(x),h=null,D=0;D<u.length;D++){if(u[D].value===x){u[D].selected=!0,j&&(u[D].defaultSelected=!0);return}h!==null||u[D].disabled||(h=u[D])}h!==null&&(h.selected=!0)}}function wu(u,h,x){if(h!=null&&(h=""+Sn(h),h!==u.value&&(u.value=h),x==null)){u.defaultValue!==h&&(u.defaultValue=h);return}u.defaultValue=x!=null?""+Sn(x):""}function ju(u,h,x,j){if(h==null){if(j!=null){if(x!=null)throw Error(n(92));if(G(j)){if(1<j.length)throw Error(n(93));j=j[0]}x=j}x==null&&(x=""),h=x}x=Sn(h),u.defaultValue=x,j=u.textContent,j===x&&j!==""&&j!==null&&(u.value=j),vo(u)}function Ii(u,h){if(h){var x=u.firstChild;if(x&&x===u.lastChild&&x.nodeType===3){x.nodeValue=h;return}}u.textContent=h}var Nu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Yf(u,h,x){var j=h.indexOf("--")===0;x==null||typeof x=="boolean"||x===""?j?u.setProperty(h,""):h==="float"?u.cssFloat="":u[h]="":j?u.setProperty(h,x):typeof x!="number"||x===0||Nu.has(h)?h==="float"?u.cssFloat=x:u[h]=(""+x).trim():u[h]=x+"px"}function Kf(u,h,x){if(h!=null&&typeof h!="object")throw Error(n(62));if(u=u.style,x!=null){for(var j in x)!x.hasOwnProperty(j)||h!=null&&h.hasOwnProperty(j)||(j.indexOf("--")===0?u.setProperty(j,""):j==="float"?u.cssFloat="":u[j]="");for(var D in h)j=h[D],h.hasOwnProperty(D)&&x[D]!==j&&Yf(u,D,j)}else for(var $ in h)h.hasOwnProperty($)&&Yf(u,$,h[$])}function Su(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),oe=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ae(u){return oe.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function Be(){}var Kt=null;function Br(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var Zt=null,ss=null;function Zi(u){var h=cr(u);if(h&&(u=h.stateNode)){var x=u[Ur]||null;e:switch(u=h.stateNode,h.type){case"input":if(yu(u,x.value,x.defaultValue,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name),h=x.name,x.type==="radio"&&h!=null){for(x=u;x.parentNode;)x=x.parentNode;for(x=x.querySelectorAll('input[name="'+Vs(""+h)+'"][type="radio"]'),h=0;h<x.length;h++){var j=x[h];if(j!==u&&j.form===u.form){var D=j[Ur]||null;if(!D)throw Error(n(90));yu(j,D.value,D.defaultValue,D.defaultValue,D.checked,D.defaultChecked,D.type,D.name)}}for(h=0;h<x.length;h++)j=x[h],j.form===u.form&&Qi(j)}break e;case"textarea":wu(u,x.value,x.defaultValue);break e;case"select":h=x.value,h!=null&&oi(u,!!x.multiple,h,!1)}}}var wo=!1;function Cc(u,h,x){if(wo)return u(h,x);wo=!0;try{var j=u(h);return j}finally{if(wo=!1,(Zt!==null||ss!==null)&&(B1(),Zt&&(h=Zt,u=ss,ss=Zt=null,Zi(h),u)))for(h=0;h<u.length;h++)Zi(u[h])}}function eo(u,h){var x=u.stateNode;if(x===null)return null;var j=x[Ur]||null;if(j===null)return null;x=j[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(u=u.type,j=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!j;break e;default:u=!1}if(u)return null;if(x&&typeof x!="function")throw Error(n(231,h,typeof x));return x}var li=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sm=!1;if(li)try{var Cu={};Object.defineProperty(Cu,"passive",{get:function(){Sm=!0}}),window.addEventListener("test",Cu,Cu),window.removeEventListener("test",Cu,Cu)}catch{Sm=!1}var jo=null,_u=null,Rl=null;function Au(){if(Rl)return Rl;var u,h=_u,x=h.length,j,D="value"in jo?jo.value:jo.textContent,$=D.length;for(u=0;u<x&&h[u]===D[u];u++);var re=x-u;for(j=1;j<=re&&h[x-j]===D[$-j];j++);return Rl=D.slice(u,1<j?1-j:void 0)}function _c(u){var h=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&h===13&&(u=13)):u=h,u===10&&(u=13),32<=u||u===13?u:0}function Jf(){return!0}function Xf(){return!1}function Gs(u){function h(x,j,D,$,re){this._reactName=x,this._targetInst=D,this.type=j,this.nativeEvent=$,this.target=re,this.currentTarget=null;for(var Ce in u)u.hasOwnProperty(Ce)&&(x=u[Ce],this[Ce]=x?x($):$[Ce]);return this.isDefaultPrevented=($.defaultPrevented!=null?$.defaultPrevented:$.returnValue===!1)?Jf:Xf,this.isPropagationStopped=Xf,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var x=this.nativeEvent;x&&(x.preventDefault?x.preventDefault():typeof x.returnValue!="unknown"&&(x.returnValue=!1),this.isDefaultPrevented=Jf)},stopPropagation:function(){var x=this.nativeEvent;x&&(x.stopPropagation?x.stopPropagation():typeof x.cancelBubble!="unknown"&&(x.cancelBubble=!0),this.isPropagationStopped=Jf)},persist:function(){},isPersistent:Jf}),h}var No={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Il=Gs(No),Ac=m({},No,{view:0,detail:0}),Qf=Gs(Ac),Tu,Tc,yd,Mu=m({},Ac,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Wr,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==yd&&(yd&&u.type==="mousemove"?(Tu=u.screenX-yd.screenX,Tc=u.screenY-yd.screenY):Tc=Tu=0,yd=u),Tu)},movementY:function(u){return"movementY"in u?u.movementY:Tc}}),Fl=Gs(Mu),Mc=m({},Mu,{dataTransfer:0}),i0=Gs(Mc),o0=m({},Ac,{relatedTarget:0}),Oc=Gs(o0),l0=m({},No,{animationName:0,elapsedTime:0,pseudoElement:0}),U=Gs(l0),fe=m({},No,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),Fe=Gs(fe),Je=m({},No,{data:0}),ot=Gs(Je),Dt={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Vt={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},br={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Sr(u){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(u):(u=br[u])?!!h[u]:!1}function Wr(){return Sr}var Zr=m({},Ac,{key:function(u){if(u.key){var h=Dt[u.key]||u.key;if(h!=="Unidentified")return h}return u.type==="keypress"?(u=_c(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?Vt[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Wr,charCode:function(u){return u.type==="keypress"?_c(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?_c(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),zn=Gs(Zr),Ba=m({},Mu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),is=Gs(Ba),wa=m({},Ac,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Wr}),Ps=Gs(wa),xs=m({},No,{propertyName:0,elapsedTime:0,pseudoElement:0}),ci=Gs(xs),Uo=m({},Mu,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),to=Gs(Uo),c0=m({},No,{newState:0,oldState:0}),Zf=Gs(c0),Ou=[9,13,27,32],$l=li&&"CompositionEvent"in window,hl=null;li&&"documentMode"in document&&(hl=document.documentMode);var Eu=li&&"TextEvent"in window&&!hl,vd=li&&(!$l||hl&&8<hl&&11>=hl),di=" ",wd=!1;function jd(u,h){switch(u){case"keyup":return Ou.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eh(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var Hl=!1;function Xa(u,h){switch(u){case"compositionend":return eh(h);case"keypress":return h.which!==32?null:(wd=!0,di);case"textInput":return u=h.data,u===di&&wd?null:u;default:return null}}function Ec(u,h){if(Hl)return u==="compositionend"||!$l&&jd(u,h)?(u=Au(),Rl=_u=jo=null,Hl=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return vd&&h.locale!=="ko"?null:h.data;default:return null}}var th={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function km(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h==="input"?!!th[u.type]:h==="textarea"}function So(u,h,x,j){Zt?ss?ss.push(j):ss=[j]:Zt=j,h=Y1(h,"onChange"),0<h.length&&(x=new Il("onChange","change",null,x,j),u.push({event:x,listeners:h}))}var ml=null,Dc=null;function Cm(u){z8(u,0)}function pl(u){var h=rn(u);if(Qi(h))return u}function Nd(u,h){if(u==="change")return h}var ro=!1;if(li){var Fi;if(li){var Bl="oninput"in document;if(!Bl){var zl=document.createElement("div");zl.setAttribute("oninput","return;"),Bl=typeof zl.oninput=="function"}Fi=Bl}else Fi=!1;ro=Fi&&(!document.documentMode||9<document.documentMode)}function Pc(){ml&&(ml.detachEvent("onpropertychange",rh),Dc=ml=null)}function rh(u){if(u.propertyName==="value"&&pl(Dc)){var h=[];So(h,Dc,u,Br(u)),Cc(Cm,h)}}function nh(u,h,x){u==="focusin"?(Pc(),ml=h,Dc=x,ml.attachEvent("onpropertychange",rh)):u==="focusout"&&Pc()}function ls(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return pl(Dc)}function d0(u,h){if(u==="click")return pl(h)}function ql(u,h){if(u==="input"||u==="change")return pl(h)}function Ul(u,h){return u===h&&(u!==0||1/u===1/h)||u!==u&&h!==h}var ui=typeof Object.is=="function"?Object.is:Ul;function Lc(u,h){if(ui(u,h))return!0;if(typeof u!="object"||u===null||typeof h!="object"||h===null)return!1;var x=Object.keys(u),j=Object.keys(h);if(x.length!==j.length)return!1;for(j=0;j<x.length;j++){var D=x[j];if(!rt.call(h,D)||!ui(u[D],h[D]))return!1}return!0}function ah(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function sh(u,h){var x=ah(u);u=0;for(var j;x;){if(x.nodeType===3){if(j=u+x.textContent.length,u<=h&&j>=h)return{node:x,offset:h-u};u=j}e:{for(;x;){if(x.nextSibling){x=x.nextSibling;break e}x=x.parentNode}x=void 0}x=ah(x)}}function Rc(u,h){return u&&h?u===h?!0:u&&u.nodeType===3?!1:h&&h.nodeType===3?Rc(u,h.parentNode):"contains"in u?u.contains(h):u.compareDocumentPosition?!!(u.compareDocumentPosition(h)&16):!1:!1}function Ic(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var h=qo(u.document);h instanceof u.HTMLIFrameElement;){try{var x=typeof h.contentWindow.location.href=="string"}catch{x=!1}if(x)u=h.contentWindow;else break;h=qo(u.document)}return h}function Wl(u){var h=u&&u.nodeName&&u.nodeName.toLowerCase();return h&&(h==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||h==="textarea"||u.contentEditable==="true")}var Du=li&&"documentMode"in document&&11>=document.documentMode,ko=null,Fc=null,Ni=null,Wo=!1;function qn(u,h,x){var j=x.window===x?x.document:x.nodeType===9?x:x.ownerDocument;Wo||ko==null||ko!==qo(j)||(j=ko,"selectionStart"in j&&Wl(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),Ni&&Lc(Ni,j)||(Ni=j,j=Y1(Fc,"onSelect"),0<j.length&&(h=new Il("onSelect","select",null,h,x),u.push({event:h,listeners:j}),h.target=ko)))}function Ln(u,h){var x={};return x[u.toLowerCase()]=h.toLowerCase(),x["Webkit"+u]="webkit"+h,x["Moz"+u]="moz"+h,x}var ja={animationend:Ln("Animation","AnimationEnd"),animationiteration:Ln("Animation","AnimationIteration"),animationstart:Ln("Animation","AnimationStart"),transitionrun:Ln("Transition","TransitionRun"),transitionstart:Ln("Transition","TransitionStart"),transitioncancel:Ln("Transition","TransitionCancel"),transitionend:Ln("Transition","TransitionEnd")},cs={},Vl={};li&&(Vl=document.createElement("div").style,"AnimationEvent"in window||(delete ja.animationend.animation,delete ja.animationiteration.animation,delete ja.animationstart.animation),"TransitionEvent"in window||delete ja.transitionend.transition);function gl(u){if(cs[u])return cs[u];if(!ja[u])return u;var h=ja[u],x;for(x in h)if(h.hasOwnProperty(x)&&x in Vl)return cs[u]=h[x];return u}var Pu=gl("animationend"),_m=gl("animationiteration"),Ux=gl("animationstart"),x1=gl("transitionrun"),b1=gl("transitionstart"),y1=gl("transitioncancel"),Wx=gl("transitionend"),Vx=new Map,Lu="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Lu.push("scrollEnd");function Vo(u,h){Vx.set(u,h),cn(h,[u])}var Am=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Co=[],Ru=0,u0=0;function Tm(){for(var u=Ru,h=u0=Ru=0;h<u;){var x=Co[h];Co[h++]=null;var j=Co[h];Co[h++]=null;var D=Co[h];Co[h++]=null;var $=Co[h];if(Co[h++]=null,j!==null&&D!==null){var re=j.pending;re===null?D.next=D:(D.next=re.next,re.next=D),j.pending=D}$!==0&&Om(x,D,$)}}function Mm(u,h,x,j){Co[Ru++]=u,Co[Ru++]=h,Co[Ru++]=x,Co[Ru++]=j,u0|=j,u.lanes|=j,u=u.alternate,u!==null&&(u.lanes|=j)}function f0(u,h,x,j){return Mm(u,h,x,j),Si(u)}function $c(u,h){return Mm(u,null,null,h),Si(u)}function Om(u,h,x){u.lanes|=x;var j=u.alternate;j!==null&&(j.lanes|=x);for(var D=!1,$=u.return;$!==null;)$.childLanes|=x,j=$.alternate,j!==null&&(j.childLanes|=x),$.tag===22&&(u=$.stateNode,u===null||u._visibility&1||(D=!0)),u=$,$=$.return;return u.tag===3?($=u.stateNode,D&&h!==null&&(D=31-we(x),u=$.hiddenUpdates,j=u[D],j===null?u[D]=[h]:j.push(h),h.lane=x|536870912),$):null}function Si(u){if(50<mb)throw mb=0,wk=null,Error(n(185));for(var h=u.return;h!==null;)u=h,h=u.return;return u.tag===3?u.stateNode:null}var fi={};function h0(u,h,x,j){this.tag=u,this.key=x,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ki(u,h,x,j){return new h0(u,h,x,j)}function m0(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Go(u,h){var x=u.alternate;return x===null?(x=ki(u.tag,h,u.key,u.mode),x.elementType=u.elementType,x.type=u.type,x.stateNode=u.stateNode,x.alternate=u,u.alternate=x):(x.pendingProps=h,x.type=u.type,x.flags=0,x.subtreeFlags=0,x.deletions=null),x.flags=u.flags&65011712,x.childLanes=u.childLanes,x.lanes=u.lanes,x.child=u.child,x.memoizedProps=u.memoizedProps,x.memoizedState=u.memoizedState,x.updateQueue=u.updateQueue,h=u.dependencies,x.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},x.sibling=u.sibling,x.index=u.index,x.ref=u.ref,x.refCleanup=u.refCleanup,x}function Em(u,h){u.flags&=65011714;var x=u.alternate;return x===null?(u.childLanes=0,u.lanes=h,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=x.childLanes,u.lanes=x.lanes,u.child=x.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=x.memoizedProps,u.memoizedState=x.memoizedState,u.updateQueue=x.updateQueue,u.type=x.type,h=x.dependencies,u.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),u}function ih(u,h,x,j,D,$){var re=0;if(j=u,typeof u=="function")m0(u)&&(re=1);else if(typeof u=="string")re=Pse(u,x,Z.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case R:return u=ki(31,x,h,D),u.elementType=R,u.lanes=$,u;case w:return Sd(x.children,D,$,h);case y:re=8,D|=24;break;case N:return u=ki(12,x,h,D|2),u.elementType=N,u.lanes=$,u;case _:return u=ki(13,x,h,D),u.elementType=_,u.lanes=$,u;case O:return u=ki(19,x,h,D),u.elementType=O,u.lanes=$,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:re=10;break e;case k:re=9;break e;case A:re=11;break e;case P:re=14;break e;case I:re=16,j=null;break e}re=29,x=Error(n(130,u===null?"null":typeof u,"")),j=null}return h=ki(re,x,h,D),h.elementType=u,h.type=j,h.lanes=$,h}function Sd(u,h,x,j){return u=ki(7,u,j,h),u.lanes=x,u}function Dm(u,h,x){return u=ki(6,u,null,h),u.lanes=x,u}function p0(u){var h=ki(18,null,null,0);return h.stateNode=u,h}function oh(u,h,x){return h=ki(4,u.children!==null?u.children:[],u.key,h),h.lanes=x,h.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},h}var g0=new WeakMap;function Yo(u,h){if(typeof u=="object"&&u!==null){var x=g0.get(u);return x!==void 0?x:(h={value:u,source:h,stack:De(h)},g0.set(u,h),h)}return{value:u,source:h,stack:De(h)}}var lh=[],Iu=0,x0=null,Pm=0,Ko=[],Jo=0,kd=null,Xo=1,Qo="";function _o(u,h){lh[Iu++]=Pm,lh[Iu++]=x0,x0=u,Pm=h}function v1(u,h,x){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=kd,kd=u;var j=Xo;u=Qo;var D=32-we(j)-1;j&=~(1<<D),x+=1;var $=32-we(h)+D;if(30<$){var re=D-D%5;$=(j&(1<<re)-1).toString(32),j>>=re,D-=re,Xo=1<<32-we(h)+D|x<<D|j,Qo=$+u}else Xo=1<<$|x<<D|j,Qo=u}function Gx(u){u.return!==null&&(_o(u,1),v1(u,1,0))}function b0(u){for(;u===x0;)x0=lh[--Iu],lh[Iu]=null,Pm=lh[--Iu],lh[Iu]=null;for(;u===kd;)kd=Ko[--Jo],Ko[Jo]=null,Qo=Ko[--Jo],Ko[Jo]=null,Xo=Ko[--Jo],Ko[Jo]=null}function w1(u,h){Ko[Jo++]=Xo,Ko[Jo++]=Qo,Ko[Jo++]=kd,Xo=h.id,Qo=h.overflow,kd=u}var hi=null,Aa=null,kn=!1,$i=null,Qa=!1,xl=Error(n(519));function Cd(u){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ch(Yo(h,u)),xl}function Yx(u){var h=u.stateNode,x=u.type,j=u.memoizedProps;switch(h[or]=u,h[Ur]=j,x){case"dialog":_n("cancel",h),_n("close",h);break;case"iframe":case"object":case"embed":_n("load",h);break;case"video":case"audio":for(x=0;x<gb.length;x++)_n(gb[x],h);break;case"source":_n("error",h);break;case"img":case"image":case"link":_n("error",h),_n("load",h);break;case"details":_n("toggle",h);break;case"input":_n("invalid",h),Gf(h,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0);break;case"select":_n("invalid",h);break;case"textarea":_n("invalid",h),ju(h,j.value,j.defaultValue,j.children)}x=j.children,typeof x!="string"&&typeof x!="number"&&typeof x!="bigint"||h.textContent===""+x||j.suppressHydrationWarning===!0||V8(h.textContent,x)?(j.popover!=null&&(_n("beforetoggle",h),_n("toggle",h)),j.onScroll!=null&&_n("scroll",h),j.onScrollEnd!=null&&_n("scrollend",h),j.onClick!=null&&(h.onclick=Be),h=!0):h=!1,h||Cd(u,!0)}function Hc(u){for(hi=u.return;hi;)switch(hi.tag){case 5:case 31:case 13:Qa=!1;return;case 27:case 3:Qa=!0;return;default:hi=hi.return}}function mi(u){if(u!==hi)return!1;if(!kn)return Hc(u),kn=!0,!1;var h=u.tag,x;if((x=h!==3&&h!==27)&&((x=h===5)&&(x=u.type,x=!(x!=="form"&&x!=="button")||Rk(u.type,u.memoizedProps)),x=!x),x&&Aa&&Cd(u),Hc(u),h===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));Aa=t7(u)}else if(h===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));Aa=t7(u)}else h===27?(h=Aa,Nh(u.type)?(u=Bk,Bk=null,Aa=u):Aa=h):Aa=hi?Jl(u.stateNode.nextSibling):null;return!0}function Fu(){Aa=hi=null,kn=!1}function Kx(){var u=$i;return u!==null&&(al===null?al=u:al.push.apply(al,u),$i=null),u}function ch(u){$i===null?$i=[u]:$i.push(u)}var y0=K(null),_d=null,Gl=null;function Ad(u,h,x){J(y0,h._currentValue),h._currentValue=x}function Zo(u){u._currentValue=y0.current,W(y0)}function dh(u,h,x){for(;u!==null;){var j=u.alternate;if((u.childLanes&h)!==h?(u.childLanes|=h,j!==null&&(j.childLanes|=h)):j!==null&&(j.childLanes&h)!==h&&(j.childLanes|=h),u===x)break;u=u.return}}function $u(u,h,x,j){var D=u.child;for(D!==null&&(D.return=u);D!==null;){var $=D.dependencies;if($!==null){var re=D.child;$=$.firstContext;e:for(;$!==null;){var Ce=$;$=D;for(var We=0;We<h.length;We++)if(Ce.context===h[We]){$.lanes|=x,Ce=$.alternate,Ce!==null&&(Ce.lanes|=x),dh($.return,x,u),j||(re=null);break e}$=Ce.next}}else if(D.tag===18){if(re=D.return,re===null)throw Error(n(341));re.lanes|=x,$=re.alternate,$!==null&&($.lanes|=x),dh(re,x,u),re=null}else re=D.child;if(re!==null)re.return=D;else for(re=D;re!==null;){if(re===u){re=null;break}if(D=re.sibling,D!==null){D.return=re.return,re=D;break}re=re.return}D=re}}function Td(u,h,x,j){u=null;for(var D=h,$=!1;D!==null;){if(!$){if((D.flags&524288)!==0)$=!0;else if((D.flags&262144)!==0)break}if(D.tag===10){var re=D.alternate;if(re===null)throw Error(n(387));if(re=re.memoizedProps,re!==null){var Ce=D.type;ui(D.pendingProps.value,re.value)||(u!==null?u.push(Ce):u=[Ce])}}else if(D===je.current){if(re=D.alternate,re===null)throw Error(n(387));re.memoizedState.memoizedState!==D.memoizedState.memoizedState&&(u!==null?u.push(wb):u=[wb])}D=D.return}u!==null&&$u(h,u,x,j),h.flags|=262144}function v0(u){for(u=u.firstContext;u!==null;){if(!ui(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function Md(u){_d=u,Gl=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function pi(u){return j1(_d,u)}function w0(u,h){return _d===null&&Md(u),j1(u,h)}function j1(u,h){var x=h._currentValue;if(h={context:h,memoizedValue:x,next:null},Gl===null){if(u===null)throw Error(n(308));Gl=h,u.dependencies={lanes:0,firstContext:h},u.flags|=524288}else Gl=Gl.next=h;return x}var HS=typeof AbortController<"u"?AbortController:function(){var u=[],h=this.signal={aborted:!1,addEventListener:function(x,j){u.push(j)}};this.abort=function(){h.aborted=!0,u.forEach(function(x){return x()})}},BS=t.unstable_scheduleCallback,zS=t.unstable_NormalPriority,ds={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function uh(){return{controller:new HS,data:new Map,refCount:0}}function Lm(u){u.refCount--,u.refCount===0&&BS(zS,function(){u.controller.abort()})}var Rm=null,j0=0,C=0,L=null;function Y(u,h){if(Rm===null){var x=Rm=[];j0=0,C=_k(),L={status:"pending",value:void 0,then:function(j){x.push(j)}}}return j0++,h.then(Q,Q),h}function Q(){if(--j0===0&&Rm!==null){L!==null&&(L.status="fulfilled");var u=Rm;Rm=null,C=0,L=null;for(var h=0;h<u.length;h++)(0,u[h])()}}function me(u,h){var x=[],j={status:"pending",value:null,reason:null,then:function(D){x.push(D)}};return u.then(function(){j.status="fulfilled",j.value=h;for(var D=0;D<x.length;D++)(0,x[D])(h)},function(D){for(j.status="rejected",j.reason=D,D=0;D<x.length;D++)(0,x[D])(void 0)}),j}var ve=q.S;q.S=function(u,h){g8=he(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Y(u,h),ve!==null&&ve(u,h)};var Ne=K(null);function Ae(){var u=Ne.current;return u!==null?u:Ma.pooledCache}function Me(u,h){h===null?J(Ne,Ne.current):J(Ne,h.pool)}function Re(){var u=Ae();return u===null?null:{parent:ds._currentValue,pool:u}}var Ze=Error(n(460)),xt=Error(n(474)),Pe=Error(n(542)),at={then:function(){}};function ct(u){return u=u.status,u==="fulfilled"||u==="rejected"}function Tt(u,h,x){switch(x=u[x],x===void 0?u.push(h):x!==h&&(h.then(Be,Be),h=x),h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Gt(u),u;default:if(typeof h.status=="string")h.then(Be,Be);else{if(u=Ma,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=h,u.status="pending",u.then(function(j){if(h.status==="pending"){var D=h;D.status="fulfilled",D.value=j}},function(j){if(h.status==="pending"){var D=h;D.status="rejected",D.reason=j}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw u=h.reason,Gt(u),u}throw At=h,Ze}}function ht(u){try{var h=u._init;return h(u._payload)}catch(x){throw x!==null&&typeof x=="object"&&typeof x.then=="function"?(At=x,Ze):x}}var At=null;function Lt(){if(At===null)throw Error(n(459));var u=At;return At=null,u}function Gt(u){if(u===Ze||u===Pe)throw Error(n(483))}var qt=null,vr=0;function fr(u){var h=vr;return vr+=1,qt===null&&(qt=[]),Tt(qt,u,h)}function Jr(u,h){h=h.props.ref,u.ref=h!==void 0?h:null}function gr(u,h){throw h.$$typeof===p?Error(n(525)):(u=Object.prototype.toString.call(h),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":u)))}function Nn(u){function h(lt,et){if(u){var bt=lt.deletions;bt===null?(lt.deletions=[et],lt.flags|=16):bt.push(et)}}function x(lt,et){if(!u)return null;for(;et!==null;)h(lt,et),et=et.sibling;return null}function j(lt){for(var et=new Map;lt!==null;)lt.key!==null?et.set(lt.key,lt):et.set(lt.index,lt),lt=lt.sibling;return et}function D(lt,et){return lt=Go(lt,et),lt.index=0,lt.sibling=null,lt}function $(lt,et,bt){return lt.index=bt,u?(bt=lt.alternate,bt!==null?(bt=bt.index,bt<et?(lt.flags|=67108866,et):bt):(lt.flags|=67108866,et)):(lt.flags|=1048576,et)}function re(lt){return u&&lt.alternate===null&&(lt.flags|=67108866),lt}function Ce(lt,et,bt,Ft){return et===null||et.tag!==6?(et=Dm(bt,lt.mode,Ft),et.return=lt,et):(et=D(et,bt),et.return=lt,et)}function We(lt,et,bt,Ft){var Pr=bt.type;return Pr===w?Ot(lt,et,bt.props.children,Ft,bt.key):et!==null&&(et.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===I&&ht(Pr)===et.type)?(et=D(et,bt.props),Jr(et,bt),et.return=lt,et):(et=ih(bt.type,bt.key,bt.props,null,lt.mode,Ft),Jr(et,bt),et.return=lt,et)}function vt(lt,et,bt,Ft){return et===null||et.tag!==4||et.stateNode.containerInfo!==bt.containerInfo||et.stateNode.implementation!==bt.implementation?(et=oh(bt,lt.mode,Ft),et.return=lt,et):(et=D(et,bt.children||[]),et.return=lt,et)}function Ot(lt,et,bt,Ft,Pr){return et===null||et.tag!==7?(et=Sd(bt,lt.mode,Ft,Pr),et.return=lt,et):(et=D(et,bt),et.return=lt,et)}function Ht(lt,et,bt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return et=Dm(""+et,lt.mode,bt),et.return=lt,et;if(typeof et=="object"&&et!==null){switch(et.$$typeof){case g:return bt=ih(et.type,et.key,et.props,null,lt.mode,bt),Jr(bt,et),bt.return=lt,bt;case v:return et=oh(et,lt.mode,bt),et.return=lt,et;case I:return et=ht(et),Ht(lt,et,bt)}if(G(et)||M(et))return et=Sd(et,lt.mode,bt,null),et.return=lt,et;if(typeof et.then=="function")return Ht(lt,fr(et),bt);if(et.$$typeof===S)return Ht(lt,w0(lt,et),bt);gr(lt,et)}return null}function jt(lt,et,bt,Ft){var Pr=et!==null?et.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint")return Pr!==null?null:Ce(lt,et,""+bt,Ft);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case g:return bt.key===Pr?We(lt,et,bt,Ft):null;case v:return bt.key===Pr?vt(lt,et,bt,Ft):null;case I:return bt=ht(bt),jt(lt,et,bt,Ft)}if(G(bt)||M(bt))return Pr!==null?null:Ot(lt,et,bt,Ft,null);if(typeof bt.then=="function")return jt(lt,et,fr(bt),Ft);if(bt.$$typeof===S)return jt(lt,et,w0(lt,bt),Ft);gr(lt,bt)}return null}function kt(lt,et,bt,Ft,Pr){if(typeof Ft=="string"&&Ft!==""||typeof Ft=="number"||typeof Ft=="bigint")return lt=lt.get(bt)||null,Ce(et,lt,""+Ft,Pr);if(typeof Ft=="object"&&Ft!==null){switch(Ft.$$typeof){case g:return lt=lt.get(Ft.key===null?bt:Ft.key)||null,We(et,lt,Ft,Pr);case v:return lt=lt.get(Ft.key===null?bt:Ft.key)||null,vt(et,lt,Ft,Pr);case I:return Ft=ht(Ft),kt(lt,et,bt,Ft,Pr)}if(G(Ft)||M(Ft))return lt=lt.get(bt)||null,Ot(et,lt,Ft,Pr,null);if(typeof Ft.then=="function")return kt(lt,et,bt,fr(Ft),Pr);if(Ft.$$typeof===S)return kt(lt,et,bt,w0(et,Ft),Pr);gr(et,Ft)}return null}function yr(lt,et,bt,Ft){for(var Pr=null,Wn=null,kr=et,hn=et=0,En=null;kr!==null&&hn<bt.length;hn++){kr.index>hn?(En=kr,kr=null):En=kr.sibling;var Vn=jt(lt,kr,bt[hn],Ft);if(Vn===null){kr===null&&(kr=En);break}u&&kr&&Vn.alternate===null&&h(lt,kr),et=$(Vn,et,hn),Wn===null?Pr=Vn:Wn.sibling=Vn,Wn=Vn,kr=En}if(hn===bt.length)return x(lt,kr),kn&&_o(lt,hn),Pr;if(kr===null){for(;hn<bt.length;hn++)kr=Ht(lt,bt[hn],Ft),kr!==null&&(et=$(kr,et,hn),Wn===null?Pr=kr:Wn.sibling=kr,Wn=kr);return kn&&_o(lt,hn),Pr}for(kr=j(kr);hn<bt.length;hn++)En=kt(kr,lt,hn,bt[hn],Ft),En!==null&&(u&&En.alternate!==null&&kr.delete(En.key===null?hn:En.key),et=$(En,et,hn),Wn===null?Pr=En:Wn.sibling=En,Wn=En);return u&&kr.forEach(function(Ah){return h(lt,Ah)}),kn&&_o(lt,hn),Pr}function zr(lt,et,bt,Ft){if(bt==null)throw Error(n(151));for(var Pr=null,Wn=null,kr=et,hn=et=0,En=null,Vn=bt.next();kr!==null&&!Vn.done;hn++,Vn=bt.next()){kr.index>hn?(En=kr,kr=null):En=kr.sibling;var Ah=jt(lt,kr,Vn.value,Ft);if(Ah===null){kr===null&&(kr=En);break}u&&kr&&Ah.alternate===null&&h(lt,kr),et=$(Ah,et,hn),Wn===null?Pr=Ah:Wn.sibling=Ah,Wn=Ah,kr=En}if(Vn.done)return x(lt,kr),kn&&_o(lt,hn),Pr;if(kr===null){for(;!Vn.done;hn++,Vn=bt.next())Vn=Ht(lt,Vn.value,Ft),Vn!==null&&(et=$(Vn,et,hn),Wn===null?Pr=Vn:Wn.sibling=Vn,Wn=Vn);return kn&&_o(lt,hn),Pr}for(kr=j(kr);!Vn.done;hn++,Vn=bt.next())Vn=kt(kr,lt,hn,Vn.value,Ft),Vn!==null&&(u&&Vn.alternate!==null&&kr.delete(Vn.key===null?hn:Vn.key),et=$(Vn,et,hn),Wn===null?Pr=Vn:Wn.sibling=Vn,Wn=Vn);return u&&kr.forEach(function(Wse){return h(lt,Wse)}),kn&&_o(lt,hn),Pr}function Ca(lt,et,bt,Ft){if(typeof bt=="object"&&bt!==null&&bt.type===w&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case g:e:{for(var Pr=bt.key;et!==null;){if(et.key===Pr){if(Pr=bt.type,Pr===w){if(et.tag===7){x(lt,et.sibling),Ft=D(et,bt.props.children),Ft.return=lt,lt=Ft;break e}}else if(et.elementType===Pr||typeof Pr=="object"&&Pr!==null&&Pr.$$typeof===I&&ht(Pr)===et.type){x(lt,et.sibling),Ft=D(et,bt.props),Jr(Ft,bt),Ft.return=lt,lt=Ft;break e}x(lt,et);break}else h(lt,et);et=et.sibling}bt.type===w?(Ft=Sd(bt.props.children,lt.mode,Ft,bt.key),Ft.return=lt,lt=Ft):(Ft=ih(bt.type,bt.key,bt.props,null,lt.mode,Ft),Jr(Ft,bt),Ft.return=lt,lt=Ft)}return re(lt);case v:e:{for(Pr=bt.key;et!==null;){if(et.key===Pr)if(et.tag===4&&et.stateNode.containerInfo===bt.containerInfo&&et.stateNode.implementation===bt.implementation){x(lt,et.sibling),Ft=D(et,bt.children||[]),Ft.return=lt,lt=Ft;break e}else{x(lt,et);break}else h(lt,et);et=et.sibling}Ft=oh(bt,lt.mode,Ft),Ft.return=lt,lt=Ft}return re(lt);case I:return bt=ht(bt),Ca(lt,et,bt,Ft)}if(G(bt))return yr(lt,et,bt,Ft);if(M(bt)){if(Pr=M(bt),typeof Pr!="function")throw Error(n(150));return bt=Pr.call(bt),zr(lt,et,bt,Ft)}if(typeof bt.then=="function")return Ca(lt,et,fr(bt),Ft);if(bt.$$typeof===S)return Ca(lt,et,w0(lt,bt),Ft);gr(lt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"||typeof bt=="bigint"?(bt=""+bt,et!==null&&et.tag===6?(x(lt,et.sibling),Ft=D(et,bt),Ft.return=lt,lt=Ft):(x(lt,et),Ft=Dm(bt,lt.mode,Ft),Ft.return=lt,lt=Ft),re(lt)):x(lt,et)}return function(lt,et,bt,Ft){try{vr=0;var Pr=Ca(lt,et,bt,Ft);return qt=null,Pr}catch(kr){if(kr===Ze||kr===Pe)throw kr;var Wn=ki(29,kr,null,lt.mode);return Wn.lanes=Ft,Wn.return=lt,Wn}finally{}}}var Ta=Nn(!0),an=Nn(!1),hr=!1;function rr(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function za(u,h){u=u.updateQueue,h.updateQueue===u&&(h.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function $r(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function dn(u,h,x){var j=u.updateQueue;if(j===null)return null;if(j=j.shared,(Qn&2)!==0){var D=j.pending;return D===null?h.next=h:(h.next=D.next,D.next=h),j.pending=h,h=Si(u),Om(u,null,x),h}return Mm(u,j,h,x),Si(u)}function Jn(u,h,x){if(h=h.updateQueue,h!==null&&(h=h.shared,(x&4194048)!==0)){var j=h.lanes;j&=u.pendingLanes,x|=j,h.lanes=x,Bt(u,x)}}function Ls(u,h){var x=u.updateQueue,j=u.alternate;if(j!==null&&(j=j.updateQueue,x===j)){var D=null,$=null;if(x=x.firstBaseUpdate,x!==null){do{var re={lane:x.lane,tag:x.tag,payload:x.payload,callback:null,next:null};$===null?D=$=re:$=$.next=re,x=x.next}while(x!==null);$===null?D=$=h:$=$.next=h}else D=$=h;x={baseState:j.baseState,firstBaseUpdate:D,lastBaseUpdate:$,shared:j.shared,callbacks:j.callbacks},u.updateQueue=x;return}u=x.lastBaseUpdate,u===null?x.firstBaseUpdate=h:u.next=h,x.lastBaseUpdate=h}var gi=!1;function Na(){if(gi){var u=L;if(u!==null)throw u}}function bs(u,h,x,j){gi=!1;var D=u.updateQueue;hr=!1;var $=D.firstBaseUpdate,re=D.lastBaseUpdate,Ce=D.shared.pending;if(Ce!==null){D.shared.pending=null;var We=Ce,vt=We.next;We.next=null,re===null?$=vt:re.next=vt,re=We;var Ot=u.alternate;Ot!==null&&(Ot=Ot.updateQueue,Ce=Ot.lastBaseUpdate,Ce!==re&&(Ce===null?Ot.firstBaseUpdate=vt:Ce.next=vt,Ot.lastBaseUpdate=We))}if($!==null){var Ht=D.baseState;re=0,Ot=vt=We=null,Ce=$;do{var jt=Ce.lane&-536870913,kt=jt!==Ce.lane;if(kt?(On&jt)===jt:(j&jt)===jt){jt!==0&&jt===C&&(gi=!0),Ot!==null&&(Ot=Ot.next={lane:0,tag:Ce.tag,payload:Ce.payload,callback:null,next:null});e:{var yr=u,zr=Ce;jt=h;var Ca=x;switch(zr.tag){case 1:if(yr=zr.payload,typeof yr=="function"){Ht=yr.call(Ca,Ht,jt);break e}Ht=yr;break e;case 3:yr.flags=yr.flags&-65537|128;case 0:if(yr=zr.payload,jt=typeof yr=="function"?yr.call(Ca,Ht,jt):yr,jt==null)break e;Ht=m({},Ht,jt);break e;case 2:hr=!0}}jt=Ce.callback,jt!==null&&(u.flags|=64,kt&&(u.flags|=8192),kt=D.callbacks,kt===null?D.callbacks=[jt]:kt.push(jt))}else kt={lane:jt,tag:Ce.tag,payload:Ce.payload,callback:Ce.callback,next:null},Ot===null?(vt=Ot=kt,We=Ht):Ot=Ot.next=kt,re|=jt;if(Ce=Ce.next,Ce===null){if(Ce=D.shared.pending,Ce===null)break;kt=Ce,Ce=kt.next,kt.next=null,D.lastBaseUpdate=kt,D.shared.pending=null}}while(!0);Ot===null&&(We=Ht),D.baseState=We,D.firstBaseUpdate=vt,D.lastBaseUpdate=Ot,$===null&&(D.shared.lanes=0),bh|=re,u.lanes=re,u.memoizedState=Ht}}function Ci(u,h){if(typeof u!="function")throw Error(n(191,u));u.call(h)}function ys(u,h){var x=u.callbacks;if(x!==null)for(u.callbacks=null,u=0;u<x.length;u++)Ci(x[u],h)}var pn=K(null),Fn=K(0);function qa(u,h){u=Ku,J(Fn,u),J(pn,h),Ku=u|h.baseLanes}function Un(){J(Fn,Ku),J(pn,pn.current)}function Rs(){Ku=Fn.current,W(pn),W(Fn)}var Ua=K(null),$n=null;function us(u){var h=u.alternate;J(Rn,Rn.current&1),J(Ua,u),$n===null&&(h===null||pn.current!==null||h.memoizedState!==null)&&($n=u)}function Xn(u){J(Rn,Rn.current),J(Ua,u),$n===null&&($n=u)}function vs(u){u.tag===22?(J(Rn,Rn.current),J(Ua,u),$n===null&&($n=u)):ws()}function ws(){J(Rn,Rn.current),J(Ua,Ua.current)}function ca(u){W(Ua),$n===u&&($n=null),W(Rn)}var Rn=K(0);function _i(u){for(var h=u;h!==null;){if(h.tag===13){var x=h.memoizedState;if(x!==null&&(x=x.dehydrated,x===null||$k(x)||Hk(x)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Za=0,Or=null,Dr=null,Hn=null,no=!1,el=!1,Hi=!1,js=0,Od=0,Ed=null,N0=0;function Sa(){throw Error(n(321))}function Jx(u,h){if(h===null)return!1;for(var x=0;x<h.length&&x<u.length;x++)if(!ui(u[x],h[x]))return!1;return!0}function Xx(u,h,x,j,D,$){return Za=$,Or=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,q.H=u===null||u.memoizedState===null?_L:JS,Hi=!1,$=x(j,D),Hi=!1,el&&($=Bc(h,x,j,D)),S0(u),$}function S0(u){q.H=sb;var h=Dr!==null&&Dr.next!==null;if(Za=0,Hn=Dr=Or=null,no=!1,Od=0,Ed=null,h)throw Error(n(300));u===null||Ks||(u=u.dependencies,u!==null&&v0(u)&&(Ks=!0))}function Bc(u,h,x,j){Or=u;var D=0;do{if(el&&(Ed=null),Od=0,el=!1,25<=D)throw Error(n(301));if(D+=1,Hn=Dr=null,u.updateQueue!=null){var $=u.updateQueue;$.lastEffect=null,$.events=null,$.stores=null,$.memoCache!=null&&($.memoCache.index=0)}q.H=AL,$=h(x,j)}while(el);return $}function qS(){var u=q.H,h=u.useState()[0];return h=typeof h.then=="function"?Dd(h):h,u=u.useState()[0],(Dr!==null?Dr.memoizedState:null)!==u&&(Or.flags|=1024),h}function Qx(){var u=js!==0;return js=0,u}function Zx(u,h,x){h.updateQueue=u.updateQueue,h.flags&=-2053,u.lanes&=~x}function k0(u){if(no){for(u=u.memoizedState;u!==null;){var h=u.queue;h!==null&&(h.pending=null),u=u.next}no=!1}Za=0,Hn=Dr=Or=null,el=!1,Od=js=0,Ed=null}function Ys(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Hn===null?Or.memoizedState=Hn=u:Hn=Hn.next=u,Hn}function es(){if(Dr===null){var u=Or.alternate;u=u!==null?u.memoizedState:null}else u=Dr.next;var h=Hn===null?Or.memoizedState:Hn.next;if(h!==null)Hn=h,Dr=u;else{if(u===null)throw Or.alternate===null?Error(n(467)):Error(n(310));Dr=u,u={memoizedState:Dr.memoizedState,baseState:Dr.baseState,baseQueue:Dr.baseQueue,queue:Dr.queue,next:null},Hn===null?Or.memoizedState=Hn=u:Hn=Hn.next=u}return Hn}function Im(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dd(u){var h=Od;return Od+=1,Ed===null&&(Ed=[]),u=Tt(Ed,u,h),h=Or,(Hn===null?h.memoizedState:Hn.next)===null&&(h=h.alternate,q.H=h===null||h.memoizedState===null?_L:JS),u}function fh(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return Dd(u);if(u.$$typeof===S)return pi(u)}throw Error(n(438,String(u)))}function Hu(u){var h=null,x=Or.updateQueue;if(x!==null&&(h=x.memoCache),h==null){var j=Or.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(h={data:j.data.map(function(D){return D.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),x===null&&(x=Im(),Or.updateQueue=x),x.memoCache=h,x=h.data[h.index],x===void 0)for(x=h.data[h.index]=Array(u),j=0;j<u;j++)x[j]=F;return h.index++,x}function Yl(u,h){return typeof h=="function"?h(u):h}function C0(u){var h=es();return hh(h,Dr,u)}function hh(u,h,x){var j=u.queue;if(j===null)throw Error(n(311));j.lastRenderedReducer=x;var D=u.baseQueue,$=j.pending;if($!==null){if(D!==null){var re=D.next;D.next=$.next,$.next=re}h.baseQueue=D=$,j.pending=null}if($=u.baseState,D===null)u.memoizedState=$;else{h=D.next;var Ce=re=null,We=null,vt=h,Ot=!1;do{var Ht=vt.lane&-536870913;if(Ht!==vt.lane?(On&Ht)===Ht:(Za&Ht)===Ht){var jt=vt.revertLane;if(jt===0)We!==null&&(We=We.next={lane:0,revertLane:0,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null}),Ht===C&&(Ot=!0);else if((Za&jt)===jt){vt=vt.next,jt===C&&(Ot=!0);continue}else Ht={lane:0,revertLane:vt.revertLane,gesture:null,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},We===null?(Ce=We=Ht,re=$):We=We.next=Ht,Or.lanes|=jt,bh|=jt;Ht=vt.action,Hi&&x($,Ht),$=vt.hasEagerState?vt.eagerState:x($,Ht)}else jt={lane:Ht,revertLane:vt.revertLane,gesture:vt.gesture,action:vt.action,hasEagerState:vt.hasEagerState,eagerState:vt.eagerState,next:null},We===null?(Ce=We=jt,re=$):We=We.next=jt,Or.lanes|=Ht,bh|=Ht;vt=vt.next}while(vt!==null&&vt!==h);if(We===null?re=$:We.next=Ce,!ui($,u.memoizedState)&&(Ks=!0,Ot&&(x=L,x!==null)))throw x;u.memoizedState=$,u.baseState=re,u.baseQueue=We,j.lastRenderedState=$}return D===null&&(j.lanes=0),[u.memoizedState,j.dispatch]}function _0(u){var h=es(),x=h.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=u;var j=x.dispatch,D=x.pending,$=h.memoizedState;if(D!==null){x.pending=null;var re=D=D.next;do $=u($,re.action),re=re.next;while(re!==D);ui($,h.memoizedState)||(Ks=!0),h.memoizedState=$,h.baseQueue===null&&(h.baseState=$),x.lastRenderedState=$}return[$,j]}function A0(u,h,x){var j=Or,D=es(),$=kn;if($){if(x===void 0)throw Error(n(407));x=x()}else x=h();var re=!ui((Dr||D).memoizedState,x);if(re&&(D.memoizedState=x,Ks=!0),D=D.queue,US(tb.bind(null,j,D,u),[u]),D.getSnapshot!==h||re||Hn!==null&&Hn.memoizedState.tag&1){if(j.flags|=2048,zu(9,{destroy:void 0},eb.bind(null,j,D,x,h),null),Ma===null)throw Error(n(349));$||(Za&127)!==0||zc(j,h,x)}return x}function zc(u,h,x){u.flags|=16384,u={getSnapshot:h,value:x},h=Or.updateQueue,h===null?(h=Im(),Or.updateQueue=h,h.stores=[u]):(x=h.stores,x===null?h.stores=[u]:x.push(u))}function eb(u,h,x,j){h.value=x,h.getSnapshot=j,N1(h)&&rb(u)}function tb(u,h,x){return x(function(){N1(h)&&rb(u)})}function N1(u){var h=u.getSnapshot;u=u.value;try{var x=h();return!ui(u,x)}catch{return!0}}function rb(u){var h=$c(u,2);h!==null&&sl(h,u,2)}function Pd(u){var h=Ys();if(typeof u=="function"){var x=u;if(u=x(),Hi){Xe(!0);try{x()}finally{Xe(!1)}}}return h.memoizedState=h.baseState=u,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:u},h}function S1(u,h,x,j){return u.baseState=x,hh(u,Dr,typeof j=="function"?j:Yl)}function k1(u,h,x,j,D){if(T1(u))throw Error(n(485));if(u=h.action,u!==null){var $={payload:D,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){$.listeners.push(re)}};q.T!==null?x(!0):$.isTransition=!1,j($),x=h.pending,x===null?($.next=h.pending=$,C1(h,$)):($.next=x.next,h.pending=x.next=$)}}function C1(u,h){var x=h.action,j=h.payload,D=u.state;if(h.isTransition){var $=q.T,re={};q.T=re;try{var Ce=x(D,j),We=q.S;We!==null&&We(re,Ce),nb(u,h,Ce)}catch(vt){Bu(u,h,vt)}finally{$!==null&&re.types!==null&&($.types=re.types),q.T=$}}else try{$=x(D,j),nb(u,h,$)}catch(vt){Bu(u,h,vt)}}function nb(u,h,x){x!==null&&typeof x=="object"&&typeof x.then=="function"?x.then(function(j){_1(u,h,j)},function(j){return Bu(u,h,j)}):_1(u,h,x)}function _1(u,h,x){h.status="fulfilled",h.value=x,T0(h),u.state=x,h=u.pending,h!==null&&(x=h.next,x===h?u.pending=null:(x=x.next,h.next=x,C1(u,x)))}function Bu(u,h,x){var j=u.pending;if(u.pending=null,j!==null){j=j.next;do h.status="rejected",h.reason=x,T0(h),h=h.next;while(h!==j)}u.action=null}function T0(u){u=u.listeners;for(var h=0;h<u.length;h++)(0,u[h])()}function Fm(u,h){return h}function Kl(u,h){if(kn){var x=Ma.formState;if(x!==null){e:{var j=Or;if(kn){if(Aa){t:{for(var D=Aa,$=Qa;D.nodeType!==8;){if(!$){D=null;break t}if(D=Jl(D.nextSibling),D===null){D=null;break t}}$=D.data,D=$==="F!"||$==="F"?D:null}if(D){Aa=Jl(D.nextSibling),j=D.data==="F!";break e}}Cd(j)}j=!1}j&&(h=x[0])}}return x=Ys(),x.memoizedState=x.baseState=h,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Fm,lastRenderedState:h},x.queue=j,x=SL.bind(null,Or,j),j.dispatch=x,j=Pd(!1),$=KS.bind(null,Or,!1,j.queue),j=Ys(),D={state:h,dispatch:null,action:u,pending:null},j.queue=D,x=k1.bind(null,Or,D,$,x),D.dispatch=x,j.memoizedState=u,[h,x,!1]}function qc(u){var h=es();return Uc(h,Dr,u)}function Uc(u,h,x){if(h=hh(u,h,Fm)[0],u=C0(Yl)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var j=Dd(h)}catch(re){throw re===Ze?Pe:re}else j=h;h=es();var D=h.queue,$=D.dispatch;return x!==h.memoizedState&&(Or.flags|=2048,zu(9,{destroy:void 0},M0.bind(null,D,x),null)),[j,$,u]}function M0(u,h){u.action=h}function O0(u){var h=es(),x=Dr;if(x!==null)return Uc(h,x,u);es(),h=h.memoizedState,x=es();var j=x.queue.dispatch;return x.memoizedState=u,[h,j,!1]}function zu(u,h,x,j){return u={tag:u,create:x,deps:j,inst:h,next:null},h=Or.updateQueue,h===null&&(h=Im(),Or.updateQueue=h),x=h.lastEffect,x===null?h.lastEffect=u.next=u:(j=x.next,x.next=u,u.next=j,h.lastEffect=u),u}function A1(){return es().memoizedState}function mh(u,h,x,j){var D=Ys();Or.flags|=u,D.memoizedState=zu(1|h,{destroy:void 0},x,j===void 0?null:j)}function ph(u,h,x,j){var D=es();j=j===void 0?null:j;var $=D.memoizedState.inst;Dr!==null&&j!==null&&Jx(j,Dr.memoizedState.deps)?D.memoizedState=zu(h,$,x,j):(Or.flags|=u,D.memoizedState=zu(1|h,$,x,j))}function dL(u,h){mh(8390656,8,u,h)}function US(u,h){ph(2048,8,u,h)}function $ae(u){Or.flags|=4;var h=Or.updateQueue;if(h===null)h=Im(),Or.updateQueue=h,h.events=[u];else{var x=h.events;x===null?h.events=[u]:x.push(u)}}function uL(u){var h=es().memoizedState;return $ae({ref:h,nextImpl:u}),function(){if((Qn&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function fL(u,h){return ph(4,2,u,h)}function hL(u,h){return ph(4,4,u,h)}function mL(u,h){if(typeof h=="function"){u=u();var x=h(u);return function(){typeof x=="function"?x():h(null)}}if(h!=null)return u=u(),h.current=u,function(){h.current=null}}function pL(u,h,x){x=x!=null?x.concat([u]):null,ph(4,4,mL.bind(null,h,u),x)}function WS(){}function gL(u,h){var x=es();h=h===void 0?null:h;var j=x.memoizedState;return h!==null&&Jx(h,j[1])?j[0]:(x.memoizedState=[u,h],u)}function xL(u,h){var x=es();h=h===void 0?null:h;var j=x.memoizedState;if(h!==null&&Jx(h,j[1]))return j[0];if(j=u(),Hi){Xe(!0);try{u()}finally{Xe(!1)}}return x.memoizedState=[j,h],j}function VS(u,h,x){return x===void 0||(Za&1073741824)!==0&&(On&261930)===0?u.memoizedState=h:(u.memoizedState=x,u=b8(),Or.lanes|=u,bh|=u,x)}function bL(u,h,x,j){return ui(x,h)?x:pn.current!==null?(u=VS(u,x,j),ui(u,h)||(Ks=!0),u):(Za&42)===0||(Za&1073741824)!==0&&(On&261930)===0?(Ks=!0,u.memoizedState=x):(u=b8(),Or.lanes|=u,bh|=u,h)}function yL(u,h,x,j,D){var $=B.p;B.p=$!==0&&8>$?$:8;var re=q.T,Ce={};q.T=Ce,KS(u,!1,h,x);try{var We=D(),vt=q.S;if(vt!==null&&vt(Ce,We),We!==null&&typeof We=="object"&&typeof We.then=="function"){var Ot=me(We,j);ab(u,h,Ot,vl(u))}else ab(u,h,j,vl(u))}catch(Ht){ab(u,h,{then:function(){},status:"rejected",reason:Ht},vl())}finally{B.p=$,re!==null&&Ce.types!==null&&(re.types=Ce.types),q.T=re}}function Hae(){}function GS(u,h,x,j){if(u.tag!==5)throw Error(n(476));var D=vL(u).queue;yL(u,D,h,z,x===null?Hae:function(){return wL(u),x(j)})}function vL(u){var h=u.memoizedState;if(h!==null)return h;h={memoizedState:z,baseState:z,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:z},next:null};var x={};return h.next={memoizedState:x,baseState:x,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Yl,lastRenderedState:x},next:null},u.memoizedState=h,u=u.alternate,u!==null&&(u.memoizedState=h),h}function wL(u){var h=vL(u);h.next===null&&(h=u.alternate.memoizedState),ab(u,h.next.queue,{},vl())}function YS(){return pi(wb)}function jL(){return es().memoizedState}function NL(){return es().memoizedState}function Bae(u){for(var h=u.return;h!==null;){switch(h.tag){case 24:case 3:var x=vl();u=$r(x);var j=dn(h,u,x);j!==null&&(sl(j,h,x),Jn(j,h,x)),h={cache:uh()},u.payload=h;return}h=h.return}}function zae(u,h,x){var j=vl();x={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},T1(u)?kL(h,x):(x=f0(u,h,x,j),x!==null&&(sl(x,u,j),CL(x,h,j)))}function SL(u,h,x){var j=vl();ab(u,h,x,j)}function ab(u,h,x,j){var D={lane:j,revertLane:0,gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null};if(T1(u))kL(h,D);else{var $=u.alternate;if(u.lanes===0&&($===null||$.lanes===0)&&($=h.lastRenderedReducer,$!==null))try{var re=h.lastRenderedState,Ce=$(re,x);if(D.hasEagerState=!0,D.eagerState=Ce,ui(Ce,re))return Mm(u,h,D,0),Ma===null&&Tm(),!1}catch{}finally{}if(x=f0(u,h,D,j),x!==null)return sl(x,u,j),CL(x,h,j),!0}return!1}function KS(u,h,x,j){if(j={lane:2,revertLane:_k(),gesture:null,action:j,hasEagerState:!1,eagerState:null,next:null},T1(u)){if(h)throw Error(n(479))}else h=f0(u,x,j,2),h!==null&&sl(h,u,2)}function T1(u){var h=u.alternate;return u===Or||h!==null&&h===Or}function kL(u,h){el=no=!0;var x=u.pending;x===null?h.next=h:(h.next=x.next,x.next=h),u.pending=h}function CL(u,h,x){if((x&4194048)!==0){var j=h.lanes;j&=u.pendingLanes,x|=j,h.lanes=x,Bt(u,x)}}var sb={readContext:pi,use:fh,useCallback:Sa,useContext:Sa,useEffect:Sa,useImperativeHandle:Sa,useLayoutEffect:Sa,useInsertionEffect:Sa,useMemo:Sa,useReducer:Sa,useRef:Sa,useState:Sa,useDebugValue:Sa,useDeferredValue:Sa,useTransition:Sa,useSyncExternalStore:Sa,useId:Sa,useHostTransitionStatus:Sa,useFormState:Sa,useActionState:Sa,useOptimistic:Sa,useMemoCache:Sa,useCacheRefresh:Sa};sb.useEffectEvent=Sa;var _L={readContext:pi,use:fh,useCallback:function(u,h){return Ys().memoizedState=[u,h===void 0?null:h],u},useContext:pi,useEffect:dL,useImperativeHandle:function(u,h,x){x=x!=null?x.concat([u]):null,mh(4194308,4,mL.bind(null,h,u),x)},useLayoutEffect:function(u,h){return mh(4194308,4,u,h)},useInsertionEffect:function(u,h){mh(4,2,u,h)},useMemo:function(u,h){var x=Ys();h=h===void 0?null:h;var j=u();if(Hi){Xe(!0);try{u()}finally{Xe(!1)}}return x.memoizedState=[j,h],j},useReducer:function(u,h,x){var j=Ys();if(x!==void 0){var D=x(h);if(Hi){Xe(!0);try{x(h)}finally{Xe(!1)}}}else D=h;return j.memoizedState=j.baseState=D,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:D},j.queue=u,u=u.dispatch=zae.bind(null,Or,u),[j.memoizedState,u]},useRef:function(u){var h=Ys();return u={current:u},h.memoizedState=u},useState:function(u){u=Pd(u);var h=u.queue,x=SL.bind(null,Or,h);return h.dispatch=x,[u.memoizedState,x]},useDebugValue:WS,useDeferredValue:function(u,h){var x=Ys();return VS(x,u,h)},useTransition:function(){var u=Pd(!1);return u=yL.bind(null,Or,u.queue,!0,!1),Ys().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,h,x){var j=Or,D=Ys();if(kn){if(x===void 0)throw Error(n(407));x=x()}else{if(x=h(),Ma===null)throw Error(n(349));(On&127)!==0||zc(j,h,x)}D.memoizedState=x;var $={value:x,getSnapshot:h};return D.queue=$,dL(tb.bind(null,j,$,u),[u]),j.flags|=2048,zu(9,{destroy:void 0},eb.bind(null,j,$,x,h),null),x},useId:function(){var u=Ys(),h=Ma.identifierPrefix;if(kn){var x=Qo,j=Xo;x=(j&~(1<<32-we(j)-1)).toString(32)+x,h="_"+h+"R_"+x,x=js++,0<x&&(h+="H"+x.toString(32)),h+="_"}else x=N0++,h="_"+h+"r_"+x.toString(32)+"_";return u.memoizedState=h},useHostTransitionStatus:YS,useFormState:Kl,useActionState:Kl,useOptimistic:function(u){var h=Ys();h.memoizedState=h.baseState=u;var x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=x,h=KS.bind(null,Or,!0,x),x.dispatch=h,[u,h]},useMemoCache:Hu,useCacheRefresh:function(){return Ys().memoizedState=Bae.bind(null,Or)},useEffectEvent:function(u){var h=Ys(),x={impl:u};return h.memoizedState=x,function(){if((Qn&2)!==0)throw Error(n(440));return x.impl.apply(void 0,arguments)}}},JS={readContext:pi,use:fh,useCallback:gL,useContext:pi,useEffect:US,useImperativeHandle:pL,useInsertionEffect:fL,useLayoutEffect:hL,useMemo:xL,useReducer:C0,useRef:A1,useState:function(){return C0(Yl)},useDebugValue:WS,useDeferredValue:function(u,h){var x=es();return bL(x,Dr.memoizedState,u,h)},useTransition:function(){var u=C0(Yl)[0],h=es().memoizedState;return[typeof u=="boolean"?u:Dd(u),h]},useSyncExternalStore:A0,useId:jL,useHostTransitionStatus:YS,useFormState:qc,useActionState:qc,useOptimistic:function(u,h){var x=es();return S1(x,Dr,u,h)},useMemoCache:Hu,useCacheRefresh:NL};JS.useEffectEvent=uL;var AL={readContext:pi,use:fh,useCallback:gL,useContext:pi,useEffect:US,useImperativeHandle:pL,useInsertionEffect:fL,useLayoutEffect:hL,useMemo:xL,useReducer:_0,useRef:A1,useState:function(){return _0(Yl)},useDebugValue:WS,useDeferredValue:function(u,h){var x=es();return Dr===null?VS(x,u,h):bL(x,Dr.memoizedState,u,h)},useTransition:function(){var u=_0(Yl)[0],h=es().memoizedState;return[typeof u=="boolean"?u:Dd(u),h]},useSyncExternalStore:A0,useId:jL,useHostTransitionStatus:YS,useFormState:O0,useActionState:O0,useOptimistic:function(u,h){var x=es();return Dr!==null?S1(x,Dr,u,h):(x.baseState=u,[u,x.queue.dispatch])},useMemoCache:Hu,useCacheRefresh:NL};AL.useEffectEvent=uL;function XS(u,h,x,j){h=u.memoizedState,x=x(j,h),x=x==null?h:m({},h,x),u.memoizedState=x,u.lanes===0&&(u.updateQueue.baseState=x)}var QS={enqueueSetState:function(u,h,x){u=u._reactInternals;var j=vl(),D=$r(j);D.payload=h,x!=null&&(D.callback=x),h=dn(u,D,j),h!==null&&(sl(h,u,j),Jn(h,u,j))},enqueueReplaceState:function(u,h,x){u=u._reactInternals;var j=vl(),D=$r(j);D.tag=1,D.payload=h,x!=null&&(D.callback=x),h=dn(u,D,j),h!==null&&(sl(h,u,j),Jn(h,u,j))},enqueueForceUpdate:function(u,h){u=u._reactInternals;var x=vl(),j=$r(x);j.tag=2,h!=null&&(j.callback=h),h=dn(u,j,x),h!==null&&(sl(h,u,x),Jn(h,u,x))}};function TL(u,h,x,j,D,$,re){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(j,$,re):h.prototype&&h.prototype.isPureReactComponent?!Lc(x,j)||!Lc(D,$):!0}function ML(u,h,x,j){u=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(x,j),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(x,j),h.state!==u&&QS.enqueueReplaceState(h,h.state,null)}function $m(u,h){var x=h;if("ref"in h){x={};for(var j in h)j!=="ref"&&(x[j]=h[j])}if(u=u.defaultProps){x===h&&(x=m({},x));for(var D in u)x[D]===void 0&&(x[D]=u[D])}return x}function OL(u){Am(u)}function EL(u){console.error(u)}function DL(u){Am(u)}function M1(u,h){try{var x=u.onUncaughtError;x(h.value,{componentStack:h.stack})}catch(j){setTimeout(function(){throw j})}}function PL(u,h,x){try{var j=u.onCaughtError;j(x.value,{componentStack:x.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(D){setTimeout(function(){throw D})}}function ZS(u,h,x){return x=$r(x),x.tag=3,x.payload={element:null},x.callback=function(){M1(u,h)},x}function LL(u){return u=$r(u),u.tag=3,u}function RL(u,h,x,j){var D=x.type.getDerivedStateFromError;if(typeof D=="function"){var $=j.value;u.payload=function(){return D($)},u.callback=function(){PL(h,x,j)}}var re=x.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(u.callback=function(){PL(h,x,j),typeof D!="function"&&(yh===null?yh=new Set([this]):yh.add(this));var Ce=j.stack;this.componentDidCatch(j.value,{componentStack:Ce!==null?Ce:""})})}function qae(u,h,x,j,D){if(x.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(h=x.alternate,h!==null&&Td(h,x,D,!0),x=Ua.current,x!==null){switch(x.tag){case 31:case 13:return $n===null?z1():x.alternate===null&&Ns===0&&(Ns=3),x.flags&=-257,x.flags|=65536,x.lanes=D,j===at?x.flags|=16384:(h=x.updateQueue,h===null?x.updateQueue=new Set([j]):h.add(j),Sk(u,j,D)),!1;case 22:return x.flags|=65536,j===at?x.flags|=16384:(h=x.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([j])},x.updateQueue=h):(x=h.retryQueue,x===null?h.retryQueue=new Set([j]):x.add(j)),Sk(u,j,D)),!1}throw Error(n(435,x.tag))}return Sk(u,j,D),z1(),!1}if(kn)return h=Ua.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=D,j!==xl&&(u=Error(n(422),{cause:j}),ch(Yo(u,x)))):(j!==xl&&(h=Error(n(423),{cause:j}),ch(Yo(h,x))),u=u.current.alternate,u.flags|=65536,D&=-D,u.lanes|=D,j=Yo(j,x),D=ZS(u.stateNode,j,D),Ls(u,D),Ns!==4&&(Ns=2)),!1;var $=Error(n(520),{cause:j});if($=Yo($,x),hb===null?hb=[$]:hb.push($),Ns!==4&&(Ns=2),h===null)return!0;j=Yo(j,x),x=h;do{switch(x.tag){case 3:return x.flags|=65536,u=D&-D,x.lanes|=u,u=ZS(x.stateNode,j,u),Ls(x,u),!1;case 1:if(h=x.type,$=x.stateNode,(x.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||$!==null&&typeof $.componentDidCatch=="function"&&(yh===null||!yh.has($))))return x.flags|=65536,D&=-D,x.lanes|=D,D=LL(D),RL(D,u,x,j),Ls(x,D),!1}x=x.return}while(x!==null);return!1}var ek=Error(n(461)),Ks=!1;function Bi(u,h,x,j){h.child=u===null?an(h,null,x,j):Ta(h,u.child,x,j)}function IL(u,h,x,j,D){x=x.render;var $=h.ref;if("ref"in j){var re={};for(var Ce in j)Ce!=="ref"&&(re[Ce]=j[Ce])}else re=j;return Md(h),j=Xx(u,h,x,re,$,D),Ce=Qx(),u!==null&&!Ks?(Zx(u,h,D),qu(u,h,D)):(kn&&Ce&&Gx(h),h.flags|=1,Bi(u,h,j,D),h.child)}function FL(u,h,x,j,D){if(u===null){var $=x.type;return typeof $=="function"&&!m0($)&&$.defaultProps===void 0&&x.compare===null?(h.tag=15,h.type=$,$L(u,h,$,j,D)):(u=ih(x.type,null,j,h,h.mode,D),u.ref=h.ref,u.return=h,h.child=u)}if($=u.child,!lk(u,D)){var re=$.memoizedProps;if(x=x.compare,x=x!==null?x:Lc,x(re,j)&&u.ref===h.ref)return qu(u,h,D)}return h.flags|=1,u=Go($,j),u.ref=h.ref,u.return=h,h.child=u}function $L(u,h,x,j,D){if(u!==null){var $=u.memoizedProps;if(Lc($,j)&&u.ref===h.ref)if(Ks=!1,h.pendingProps=j=$,lk(u,D))(u.flags&131072)!==0&&(Ks=!0);else return h.lanes=u.lanes,qu(u,h,D)}return tk(u,h,x,j,D)}function HL(u,h,x,j){var D=j.children,$=u!==null?u.memoizedState:null;if(u===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),j.mode==="hidden"){if((h.flags&128)!==0){if($=$!==null?$.baseLanes|x:x,u!==null){for(j=h.child=u.child,D=0;j!==null;)D=D|j.lanes|j.childLanes,j=j.sibling;j=D&~$}else j=0,h.child=null;return BL(u,h,$,x,j)}if((x&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},u!==null&&Me(h,$!==null?$.cachePool:null),$!==null?qa(h,$):Un(),vs(h);else return j=h.lanes=536870912,BL(u,h,$!==null?$.baseLanes|x:x,x,j)}else $!==null?(Me(h,$.cachePool),qa(h,$),ws(),h.memoizedState=null):(u!==null&&Me(h,null),Un(),ws());return Bi(u,h,D,x),h.child}function ib(u,h){return u!==null&&u.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function BL(u,h,x,j,D){var $=Ae();return $=$===null?null:{parent:ds._currentValue,pool:$},h.memoizedState={baseLanes:x,cachePool:$},u!==null&&Me(h,null),Un(),vs(h),u!==null&&Td(u,h,j,!0),h.childLanes=D,null}function O1(u,h){return h=D1({mode:h.mode,children:h.children},u.mode),h.ref=u.ref,u.child=h,h.return=u,h}function zL(u,h,x){return Ta(h,u.child,null,x),u=O1(h,h.pendingProps),u.flags|=2,ca(h),h.memoizedState=null,u}function Uae(u,h,x){var j=h.pendingProps,D=(h.flags&128)!==0;if(h.flags&=-129,u===null){if(kn){if(j.mode==="hidden")return u=O1(h,j),h.lanes=536870912,ib(null,u);if(Xn(h),(u=Aa)?(u=e7(u,Qa),u=u!==null&&u.data==="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:kd!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=p0(u),x.return=h,h.child=x,hi=h,Aa=null)):u=null,u===null)throw Cd(h);return h.lanes=536870912,null}return O1(h,j)}var $=u.memoizedState;if($!==null){var re=$.dehydrated;if(Xn(h),D)if(h.flags&256)h.flags&=-257,h=zL(u,h,x);else if(h.memoizedState!==null)h.child=u.child,h.flags|=128,h=null;else throw Error(n(558));else if(Ks||Td(u,h,x,!1),D=(x&u.childLanes)!==0,Ks||D){if(j=Ma,j!==null&&(re=ft(j,x),re!==0&&re!==$.retryLane))throw $.retryLane=re,$c(u,re),sl(j,u,re),ek;z1(),h=zL(u,h,x)}else u=$.treeContext,Aa=Jl(re.nextSibling),hi=h,kn=!0,$i=null,Qa=!1,u!==null&&w1(h,u),h=O1(h,j),h.flags|=4096;return h}return u=Go(u.child,{mode:j.mode,children:j.children}),u.ref=h.ref,h.child=u,u.return=h,u}function E1(u,h){var x=h.ref;if(x===null)u!==null&&u.ref!==null&&(h.flags|=4194816);else{if(typeof x!="function"&&typeof x!="object")throw Error(n(284));(u===null||u.ref!==x)&&(h.flags|=4194816)}}function tk(u,h,x,j,D){return Md(h),x=Xx(u,h,x,j,void 0,D),j=Qx(),u!==null&&!Ks?(Zx(u,h,D),qu(u,h,D)):(kn&&j&&Gx(h),h.flags|=1,Bi(u,h,x,D),h.child)}function qL(u,h,x,j,D,$){return Md(h),h.updateQueue=null,x=Bc(h,j,x,D),S0(u),j=Qx(),u!==null&&!Ks?(Zx(u,h,$),qu(u,h,$)):(kn&&j&&Gx(h),h.flags|=1,Bi(u,h,x,$),h.child)}function UL(u,h,x,j,D){if(Md(h),h.stateNode===null){var $=fi,re=x.contextType;typeof re=="object"&&re!==null&&($=pi(re)),$=new x(j,$),h.memoizedState=$.state!==null&&$.state!==void 0?$.state:null,$.updater=QS,h.stateNode=$,$._reactInternals=h,$=h.stateNode,$.props=j,$.state=h.memoizedState,$.refs={},rr(h),re=x.contextType,$.context=typeof re=="object"&&re!==null?pi(re):fi,$.state=h.memoizedState,re=x.getDerivedStateFromProps,typeof re=="function"&&(XS(h,x,re,j),$.state=h.memoizedState),typeof x.getDerivedStateFromProps=="function"||typeof $.getSnapshotBeforeUpdate=="function"||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(re=$.state,typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount(),re!==$.state&&QS.enqueueReplaceState($,$.state,null),bs(h,j,$,D),Na(),$.state=h.memoizedState),typeof $.componentDidMount=="function"&&(h.flags|=4194308),j=!0}else if(u===null){$=h.stateNode;var Ce=h.memoizedProps,We=$m(x,Ce);$.props=We;var vt=$.context,Ot=x.contextType;re=fi,typeof Ot=="object"&&Ot!==null&&(re=pi(Ot));var Ht=x.getDerivedStateFromProps;Ot=typeof Ht=="function"||typeof $.getSnapshotBeforeUpdate=="function",Ce=h.pendingProps!==Ce,Ot||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(Ce||vt!==re)&&ML(h,$,j,re),hr=!1;var jt=h.memoizedState;$.state=jt,bs(h,j,$,D),Na(),vt=h.memoizedState,Ce||jt!==vt||hr?(typeof Ht=="function"&&(XS(h,x,Ht,j),vt=h.memoizedState),(We=hr||TL(h,x,We,j,jt,vt,re))?(Ot||typeof $.UNSAFE_componentWillMount!="function"&&typeof $.componentWillMount!="function"||(typeof $.componentWillMount=="function"&&$.componentWillMount(),typeof $.UNSAFE_componentWillMount=="function"&&$.UNSAFE_componentWillMount()),typeof $.componentDidMount=="function"&&(h.flags|=4194308)):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=j,h.memoizedState=vt),$.props=j,$.state=vt,$.context=re,j=We):(typeof $.componentDidMount=="function"&&(h.flags|=4194308),j=!1)}else{$=h.stateNode,za(u,h),re=h.memoizedProps,Ot=$m(x,re),$.props=Ot,Ht=h.pendingProps,jt=$.context,vt=x.contextType,We=fi,typeof vt=="object"&&vt!==null&&(We=pi(vt)),Ce=x.getDerivedStateFromProps,(vt=typeof Ce=="function"||typeof $.getSnapshotBeforeUpdate=="function")||typeof $.UNSAFE_componentWillReceiveProps!="function"&&typeof $.componentWillReceiveProps!="function"||(re!==Ht||jt!==We)&&ML(h,$,j,We),hr=!1,jt=h.memoizedState,$.state=jt,bs(h,j,$,D),Na();var kt=h.memoizedState;re!==Ht||jt!==kt||hr||u!==null&&u.dependencies!==null&&v0(u.dependencies)?(typeof Ce=="function"&&(XS(h,x,Ce,j),kt=h.memoizedState),(Ot=hr||TL(h,x,Ot,j,jt,kt,We)||u!==null&&u.dependencies!==null&&v0(u.dependencies))?(vt||typeof $.UNSAFE_componentWillUpdate!="function"&&typeof $.componentWillUpdate!="function"||(typeof $.componentWillUpdate=="function"&&$.componentWillUpdate(j,kt,We),typeof $.UNSAFE_componentWillUpdate=="function"&&$.UNSAFE_componentWillUpdate(j,kt,We)),typeof $.componentDidUpdate=="function"&&(h.flags|=4),typeof $.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof $.componentDidUpdate!="function"||re===u.memoizedProps&&jt===u.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&jt===u.memoizedState||(h.flags|=1024),h.memoizedProps=j,h.memoizedState=kt),$.props=j,$.state=kt,$.context=We,j=Ot):(typeof $.componentDidUpdate!="function"||re===u.memoizedProps&&jt===u.memoizedState||(h.flags|=4),typeof $.getSnapshotBeforeUpdate!="function"||re===u.memoizedProps&&jt===u.memoizedState||(h.flags|=1024),j=!1)}return $=j,E1(u,h),j=(h.flags&128)!==0,$||j?($=h.stateNode,x=j&&typeof x.getDerivedStateFromError!="function"?null:$.render(),h.flags|=1,u!==null&&j?(h.child=Ta(h,u.child,null,D),h.child=Ta(h,null,x,D)):Bi(u,h,x,D),h.memoizedState=$.state,u=h.child):u=qu(u,h,D),u}function WL(u,h,x,j){return Fu(),h.flags|=256,Bi(u,h,x,j),h.child}var rk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function nk(u){return{baseLanes:u,cachePool:Re()}}function ak(u,h,x){return u=u!==null?u.childLanes&~x:0,h&&(u|=yl),u}function VL(u,h,x){var j=h.pendingProps,D=!1,$=(h.flags&128)!==0,re;if((re=$)||(re=u!==null&&u.memoizedState===null?!1:(Rn.current&2)!==0),re&&(D=!0,h.flags&=-129),re=(h.flags&32)!==0,h.flags&=-33,u===null){if(kn){if(D?us(h):ws(),(u=Aa)?(u=e7(u,Qa),u=u!==null&&u.data!=="&"?u:null,u!==null&&(h.memoizedState={dehydrated:u,treeContext:kd!==null?{id:Xo,overflow:Qo}:null,retryLane:536870912,hydrationErrors:null},x=p0(u),x.return=h,h.child=x,hi=h,Aa=null)):u=null,u===null)throw Cd(h);return Hk(u)?h.lanes=32:h.lanes=536870912,null}var Ce=j.children;return j=j.fallback,D?(ws(),D=h.mode,Ce=D1({mode:"hidden",children:Ce},D),j=Sd(j,D,x,null),Ce.return=h,j.return=h,Ce.sibling=j,h.child=Ce,j=h.child,j.memoizedState=nk(x),j.childLanes=ak(u,re,x),h.memoizedState=rk,ib(null,j)):(us(h),sk(h,Ce))}var We=u.memoizedState;if(We!==null&&(Ce=We.dehydrated,Ce!==null)){if($)h.flags&256?(us(h),h.flags&=-257,h=ik(u,h,x)):h.memoizedState!==null?(ws(),h.child=u.child,h.flags|=128,h=null):(ws(),Ce=j.fallback,D=h.mode,j=D1({mode:"visible",children:j.children},D),Ce=Sd(Ce,D,x,null),Ce.flags|=2,j.return=h,Ce.return=h,j.sibling=Ce,h.child=j,Ta(h,u.child,null,x),j=h.child,j.memoizedState=nk(x),j.childLanes=ak(u,re,x),h.memoizedState=rk,h=ib(null,j));else if(us(h),Hk(Ce)){if(re=Ce.nextSibling&&Ce.nextSibling.dataset,re)var vt=re.dgst;re=vt,j=Error(n(419)),j.stack="",j.digest=re,ch({value:j,source:null,stack:null}),h=ik(u,h,x)}else if(Ks||Td(u,h,x,!1),re=(x&u.childLanes)!==0,Ks||re){if(re=Ma,re!==null&&(j=ft(re,x),j!==0&&j!==We.retryLane))throw We.retryLane=j,$c(u,j),sl(re,u,j),ek;$k(Ce)||z1(),h=ik(u,h,x)}else $k(Ce)?(h.flags|=192,h.child=u.child,h=null):(u=We.treeContext,Aa=Jl(Ce.nextSibling),hi=h,kn=!0,$i=null,Qa=!1,u!==null&&w1(h,u),h=sk(h,j.children),h.flags|=4096);return h}return D?(ws(),Ce=j.fallback,D=h.mode,We=u.child,vt=We.sibling,j=Go(We,{mode:"hidden",children:j.children}),j.subtreeFlags=We.subtreeFlags&65011712,vt!==null?Ce=Go(vt,Ce):(Ce=Sd(Ce,D,x,null),Ce.flags|=2),Ce.return=h,j.return=h,j.sibling=Ce,h.child=j,ib(null,j),j=h.child,Ce=u.child.memoizedState,Ce===null?Ce=nk(x):(D=Ce.cachePool,D!==null?(We=ds._currentValue,D=D.parent!==We?{parent:We,pool:We}:D):D=Re(),Ce={baseLanes:Ce.baseLanes|x,cachePool:D}),j.memoizedState=Ce,j.childLanes=ak(u,re,x),h.memoizedState=rk,ib(u.child,j)):(us(h),x=u.child,u=x.sibling,x=Go(x,{mode:"visible",children:j.children}),x.return=h,x.sibling=null,u!==null&&(re=h.deletions,re===null?(h.deletions=[u],h.flags|=16):re.push(u)),h.child=x,h.memoizedState=null,x)}function sk(u,h){return h=D1({mode:"visible",children:h},u.mode),h.return=u,u.child=h}function D1(u,h){return u=ki(22,u,null,h),u.lanes=0,u}function ik(u,h,x){return Ta(h,u.child,null,x),u=sk(h,h.pendingProps.children),u.flags|=2,h.memoizedState=null,u}function GL(u,h,x){u.lanes|=h;var j=u.alternate;j!==null&&(j.lanes|=h),dh(u.return,h,x)}function ok(u,h,x,j,D,$){var re=u.memoizedState;re===null?u.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:j,tail:x,tailMode:D,treeForkCount:$}:(re.isBackwards=h,re.rendering=null,re.renderingStartTime=0,re.last=j,re.tail=x,re.tailMode=D,re.treeForkCount=$)}function YL(u,h,x){var j=h.pendingProps,D=j.revealOrder,$=j.tail;j=j.children;var re=Rn.current,Ce=(re&2)!==0;if(Ce?(re=re&1|2,h.flags|=128):re&=1,J(Rn,re),Bi(u,h,j,x),j=kn?Pm:0,!Ce&&u!==null&&(u.flags&128)!==0)e:for(u=h.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&GL(u,x,h);else if(u.tag===19)GL(u,x,h);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===h)break e;for(;u.sibling===null;){if(u.return===null||u.return===h)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(D){case"forwards":for(x=h.child,D=null;x!==null;)u=x.alternate,u!==null&&_i(u)===null&&(D=x),x=x.sibling;x=D,x===null?(D=h.child,h.child=null):(D=x.sibling,x.sibling=null),ok(h,!1,D,x,$,j);break;case"backwards":case"unstable_legacy-backwards":for(x=null,D=h.child,h.child=null;D!==null;){if(u=D.alternate,u!==null&&_i(u)===null){h.child=D;break}u=D.sibling,D.sibling=x,x=D,D=u}ok(h,!0,x,null,$,j);break;case"together":ok(h,!1,null,null,void 0,j);break;default:h.memoizedState=null}return h.child}function qu(u,h,x){if(u!==null&&(h.dependencies=u.dependencies),bh|=h.lanes,(x&h.childLanes)===0)if(u!==null){if(Td(u,h,x,!1),(x&h.childLanes)===0)return null}else return null;if(u!==null&&h.child!==u.child)throw Error(n(153));if(h.child!==null){for(u=h.child,x=Go(u,u.pendingProps),h.child=x,x.return=h;u.sibling!==null;)u=u.sibling,x=x.sibling=Go(u,u.pendingProps),x.return=h;x.sibling=null}return h.child}function lk(u,h){return(u.lanes&h)!==0?!0:(u=u.dependencies,!!(u!==null&&v0(u)))}function Wae(u,h,x){switch(h.tag){case 3:ce(h,h.stateNode.containerInfo),Ad(h,ds,u.memoizedState.cache),Fu();break;case 27:case 5:pe(h);break;case 4:ce(h,h.stateNode.containerInfo);break;case 10:Ad(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Xn(h),null;break;case 13:var j=h.memoizedState;if(j!==null)return j.dehydrated!==null?(us(h),h.flags|=128,null):(x&h.child.childLanes)!==0?VL(u,h,x):(us(h),u=qu(u,h,x),u!==null?u.sibling:null);us(h);break;case 19:var D=(u.flags&128)!==0;if(j=(x&h.childLanes)!==0,j||(Td(u,h,x,!1),j=(x&h.childLanes)!==0),D){if(j)return YL(u,h,x);h.flags|=128}if(D=h.memoizedState,D!==null&&(D.rendering=null,D.tail=null,D.lastEffect=null),J(Rn,Rn.current),j)break;return null;case 22:return h.lanes=0,HL(u,h,x,h.pendingProps);case 24:Ad(h,ds,u.memoizedState.cache)}return qu(u,h,x)}function KL(u,h,x){if(u!==null)if(u.memoizedProps!==h.pendingProps)Ks=!0;else{if(!lk(u,x)&&(h.flags&128)===0)return Ks=!1,Wae(u,h,x);Ks=(u.flags&131072)!==0}else Ks=!1,kn&&(h.flags&1048576)!==0&&v1(h,Pm,h.index);switch(h.lanes=0,h.tag){case 16:e:{var j=h.pendingProps;if(u=ht(h.elementType),h.type=u,typeof u=="function")m0(u)?(j=$m(u,j),h.tag=1,h=UL(null,h,u,j,x)):(h.tag=0,h=tk(null,h,u,j,x));else{if(u!=null){var D=u.$$typeof;if(D===A){h.tag=11,h=IL(null,h,u,j,x);break e}else if(D===P){h.tag=14,h=FL(null,h,u,j,x);break e}}throw h=V(u)||u,Error(n(306,h,""))}}return h;case 0:return tk(u,h,h.type,h.pendingProps,x);case 1:return j=h.type,D=$m(j,h.pendingProps),UL(u,h,j,D,x);case 3:e:{if(ce(h,h.stateNode.containerInfo),u===null)throw Error(n(387));j=h.pendingProps;var $=h.memoizedState;D=$.element,za(u,h),bs(h,j,null,x);var re=h.memoizedState;if(j=re.cache,Ad(h,ds,j),j!==$.cache&&$u(h,[ds],x,!0),Na(),j=re.element,$.isDehydrated)if($={element:j,isDehydrated:!1,cache:re.cache},h.updateQueue.baseState=$,h.memoizedState=$,h.flags&256){h=WL(u,h,j,x);break e}else if(j!==D){D=Yo(Error(n(424)),h),ch(D),h=WL(u,h,j,x);break e}else{switch(u=h.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(Aa=Jl(u.firstChild),hi=h,kn=!0,$i=null,Qa=!0,x=an(h,null,j,x),h.child=x;x;)x.flags=x.flags&-3|4096,x=x.sibling}else{if(Fu(),j===D){h=qu(u,h,x);break e}Bi(u,h,j,x)}h=h.child}return h;case 26:return E1(u,h),u===null?(x=i7(h.type,null,h.pendingProps,null))?h.memoizedState=x:kn||(x=h.type,u=h.pendingProps,j=K1(ue.current).createElement(x),j[or]=h,j[Ur]=u,zi(j,x,u),zt(j),h.stateNode=j):h.memoizedState=i7(h.type,u.memoizedProps,h.pendingProps,u.memoizedState),null;case 27:return pe(h),u===null&&kn&&(j=h.stateNode=n7(h.type,h.pendingProps,ue.current),hi=h,Qa=!0,D=Aa,Nh(h.type)?(Bk=D,Aa=Jl(j.firstChild)):Aa=D),Bi(u,h,h.pendingProps.children,x),E1(u,h),u===null&&(h.flags|=4194304),h.child;case 5:return u===null&&kn&&((D=j=Aa)&&(j=wse(j,h.type,h.pendingProps,Qa),j!==null?(h.stateNode=j,hi=h,Aa=Jl(j.firstChild),Qa=!1,D=!0):D=!1),D||Cd(h)),pe(h),D=h.type,$=h.pendingProps,re=u!==null?u.memoizedProps:null,j=$.children,Rk(D,$)?j=null:re!==null&&Rk(D,re)&&(h.flags|=32),h.memoizedState!==null&&(D=Xx(u,h,qS,null,null,x),wb._currentValue=D),E1(u,h),Bi(u,h,j,x),h.child;case 6:return u===null&&kn&&((u=x=Aa)&&(x=jse(x,h.pendingProps,Qa),x!==null?(h.stateNode=x,hi=h,Aa=null,u=!0):u=!1),u||Cd(h)),null;case 13:return VL(u,h,x);case 4:return ce(h,h.stateNode.containerInfo),j=h.pendingProps,u===null?h.child=Ta(h,null,j,x):Bi(u,h,j,x),h.child;case 11:return IL(u,h,h.type,h.pendingProps,x);case 7:return Bi(u,h,h.pendingProps,x),h.child;case 8:return Bi(u,h,h.pendingProps.children,x),h.child;case 12:return Bi(u,h,h.pendingProps.children,x),h.child;case 10:return j=h.pendingProps,Ad(h,h.type,j.value),Bi(u,h,j.children,x),h.child;case 9:return D=h.type._context,j=h.pendingProps.children,Md(h),D=pi(D),j=j(D),h.flags|=1,Bi(u,h,j,x),h.child;case 14:return FL(u,h,h.type,h.pendingProps,x);case 15:return $L(u,h,h.type,h.pendingProps,x);case 19:return YL(u,h,x);case 31:return Uae(u,h,x);case 22:return HL(u,h,x,h.pendingProps);case 24:return Md(h),j=pi(ds),u===null?(D=Ae(),D===null&&(D=Ma,$=uh(),D.pooledCache=$,$.refCount++,$!==null&&(D.pooledCacheLanes|=x),D=$),h.memoizedState={parent:j,cache:D},rr(h),Ad(h,ds,D)):((u.lanes&x)!==0&&(za(u,h),bs(h,null,null,x),Na()),D=u.memoizedState,$=h.memoizedState,D.parent!==j?(D={parent:j,cache:j},h.memoizedState=D,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=D),Ad(h,ds,j)):(j=$.cache,Ad(h,ds,j),j!==D.cache&&$u(h,[ds],x,!0))),Bi(u,h,h.pendingProps.children,x),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Uu(u){u.flags|=4}function ck(u,h,x,j,D){if((h=(u.mode&32)!==0)&&(h=!1),h){if(u.flags|=16777216,(D&335544128)===D)if(u.stateNode.complete)u.flags|=8192;else if(j8())u.flags|=8192;else throw At=at,xt}else u.flags&=-16777217}function JL(u,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!u7(h))if(j8())u.flags|=8192;else throw At=at,xt}function P1(u,h){h!==null&&(u.flags|=4),u.flags&16384&&(h=u.tag!==22?ze():536870912,u.lanes|=h,L0|=h)}function ob(u,h){if(!kn)switch(u.tailMode){case"hidden":h=u.tail;for(var x=null;h!==null;)h.alternate!==null&&(x=h),h=h.sibling;x===null?u.tail=null:x.sibling=null;break;case"collapsed":x=u.tail;for(var j=null;x!==null;)x.alternate!==null&&(j=x),x=x.sibling;j===null?h||u.tail===null?u.tail=null:u.tail.sibling=null:j.sibling=null}}function Wa(u){var h=u.alternate!==null&&u.alternate.child===u.child,x=0,j=0;if(h)for(var D=u.child;D!==null;)x|=D.lanes|D.childLanes,j|=D.subtreeFlags&65011712,j|=D.flags&65011712,D.return=u,D=D.sibling;else for(D=u.child;D!==null;)x|=D.lanes|D.childLanes,j|=D.subtreeFlags,j|=D.flags,D.return=u,D=D.sibling;return u.subtreeFlags|=j,u.childLanes=x,h}function Vae(u,h,x){var j=h.pendingProps;switch(b0(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Wa(h),null;case 1:return Wa(h),null;case 3:return x=h.stateNode,j=null,u!==null&&(j=u.memoizedState.cache),h.memoizedState.cache!==j&&(h.flags|=2048),Zo(ds),le(),x.pendingContext&&(x.context=x.pendingContext,x.pendingContext=null),(u===null||u.child===null)&&(mi(h)?Uu(h):u===null||u.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Kx())),Wa(h),null;case 26:var D=h.type,$=h.memoizedState;return u===null?(Uu(h),$!==null?(Wa(h),JL(h,$)):(Wa(h),ck(h,D,null,j,x))):$?$!==u.memoizedState?(Uu(h),Wa(h),JL(h,$)):(Wa(h),h.flags&=-16777217):(u=u.memoizedProps,u!==j&&Uu(h),Wa(h),ck(h,D,u,j,x)),null;case 27:if($e(h),x=ue.current,D=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==j&&Uu(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Wa(h),null}u=Z.current,mi(h)?Yx(h):(u=n7(D,j,x),h.stateNode=u,Uu(h))}return Wa(h),null;case 5:if($e(h),D=h.type,u!==null&&h.stateNode!=null)u.memoizedProps!==j&&Uu(h);else{if(!j){if(h.stateNode===null)throw Error(n(166));return Wa(h),null}if($=Z.current,mi(h))Yx(h);else{var re=K1(ue.current);switch($){case 1:$=re.createElementNS("http://www.w3.org/2000/svg",D);break;case 2:$=re.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;default:switch(D){case"svg":$=re.createElementNS("http://www.w3.org/2000/svg",D);break;case"math":$=re.createElementNS("http://www.w3.org/1998/Math/MathML",D);break;case"script":$=re.createElement("div"),$.innerHTML="<script><\/script>",$=$.removeChild($.firstChild);break;case"select":$=typeof j.is=="string"?re.createElement("select",{is:j.is}):re.createElement("select"),j.multiple?$.multiple=!0:j.size&&($.size=j.size);break;default:$=typeof j.is=="string"?re.createElement(D,{is:j.is}):re.createElement(D)}}$[or]=h,$[Ur]=j;e:for(re=h.child;re!==null;){if(re.tag===5||re.tag===6)$.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===h)break e;for(;re.sibling===null;){if(re.return===null||re.return===h)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}h.stateNode=$;e:switch(zi($,D,j),D){case"button":case"input":case"select":case"textarea":j=!!j.autoFocus;break e;case"img":j=!0;break e;default:j=!1}j&&Uu(h)}}return Wa(h),ck(h,h.type,u===null?null:u.memoizedProps,h.pendingProps,x),null;case 6:if(u&&h.stateNode!=null)u.memoizedProps!==j&&Uu(h);else{if(typeof j!="string"&&h.stateNode===null)throw Error(n(166));if(u=ue.current,mi(h)){if(u=h.stateNode,x=h.memoizedProps,j=null,D=hi,D!==null)switch(D.tag){case 27:case 5:j=D.memoizedProps}u[or]=h,u=!!(u.nodeValue===x||j!==null&&j.suppressHydrationWarning===!0||V8(u.nodeValue,x)),u||Cd(h,!0)}else u=K1(u).createTextNode(j),u[or]=h,h.stateNode=u}return Wa(h),null;case 31:if(x=h.memoizedState,u===null||u.memoizedState!==null){if(j=mi(h),x!==null){if(u===null){if(!j)throw Error(n(318));if(u=h.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(557));u[or]=h}else Fu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Wa(h),u=!1}else x=Kx(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=x),u=!0;if(!u)return h.flags&256?(ca(h),h):(ca(h),null);if((h.flags&128)!==0)throw Error(n(558))}return Wa(h),null;case 13:if(j=h.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(D=mi(h),j!==null&&j.dehydrated!==null){if(u===null){if(!D)throw Error(n(318));if(D=h.memoizedState,D=D!==null?D.dehydrated:null,!D)throw Error(n(317));D[or]=h}else Fu(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Wa(h),D=!1}else D=Kx(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=D),D=!0;if(!D)return h.flags&256?(ca(h),h):(ca(h),null)}return ca(h),(h.flags&128)!==0?(h.lanes=x,h):(x=j!==null,u=u!==null&&u.memoizedState!==null,x&&(j=h.child,D=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(D=j.alternate.memoizedState.cachePool.pool),$=null,j.memoizedState!==null&&j.memoizedState.cachePool!==null&&($=j.memoizedState.cachePool.pool),$!==D&&(j.flags|=2048)),x!==u&&x&&(h.child.flags|=8192),P1(h,h.updateQueue),Wa(h),null);case 4:return le(),u===null&&Ok(h.stateNode.containerInfo),Wa(h),null;case 10:return Zo(h.type),Wa(h),null;case 19:if(W(Rn),j=h.memoizedState,j===null)return Wa(h),null;if(D=(h.flags&128)!==0,$=j.rendering,$===null)if(D)ob(j,!1);else{if(Ns!==0||u!==null&&(u.flags&128)!==0)for(u=h.child;u!==null;){if($=_i(u),$!==null){for(h.flags|=128,ob(j,!1),u=$.updateQueue,h.updateQueue=u,P1(h,u),h.subtreeFlags=0,u=x,x=h.child;x!==null;)Em(x,u),x=x.sibling;return J(Rn,Rn.current&1|2),kn&&_o(h,j.treeForkCount),h.child}u=u.sibling}j.tail!==null&&he()>$1&&(h.flags|=128,D=!0,ob(j,!1),h.lanes=4194304)}else{if(!D)if(u=_i($),u!==null){if(h.flags|=128,D=!0,u=u.updateQueue,h.updateQueue=u,P1(h,u),ob(j,!0),j.tail===null&&j.tailMode==="hidden"&&!$.alternate&&!kn)return Wa(h),null}else 2*he()-j.renderingStartTime>$1&&x!==536870912&&(h.flags|=128,D=!0,ob(j,!1),h.lanes=4194304);j.isBackwards?($.sibling=h.child,h.child=$):(u=j.last,u!==null?u.sibling=$:h.child=$,j.last=$)}return j.tail!==null?(u=j.tail,j.rendering=u,j.tail=u.sibling,j.renderingStartTime=he(),u.sibling=null,x=Rn.current,J(Rn,D?x&1|2:x&1),kn&&_o(h,j.treeForkCount),u):(Wa(h),null);case 22:case 23:return ca(h),Rs(),j=h.memoizedState!==null,u!==null?u.memoizedState!==null!==j&&(h.flags|=8192):j&&(h.flags|=8192),j?(x&536870912)!==0&&(h.flags&128)===0&&(Wa(h),h.subtreeFlags&6&&(h.flags|=8192)):Wa(h),x=h.updateQueue,x!==null&&P1(h,x.retryQueue),x=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),j=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(j=h.memoizedState.cachePool.pool),j!==x&&(h.flags|=2048),u!==null&&W(Ne),null;case 24:return x=null,u!==null&&(x=u.memoizedState.cache),h.memoizedState.cache!==x&&(h.flags|=2048),Zo(ds),Wa(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function Gae(u,h){switch(b0(h),h.tag){case 1:return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 3:return Zo(ds),le(),u=h.flags,(u&65536)!==0&&(u&128)===0?(h.flags=u&-65537|128,h):null;case 26:case 27:case 5:return $e(h),null;case 31:if(h.memoizedState!==null){if(ca(h),h.alternate===null)throw Error(n(340));Fu()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 13:if(ca(h),u=h.memoizedState,u!==null&&u.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Fu()}return u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 19:return W(Rn),null;case 4:return le(),null;case 10:return Zo(h.type),null;case 22:case 23:return ca(h),Rs(),u!==null&&W(Ne),u=h.flags,u&65536?(h.flags=u&-65537|128,h):null;case 24:return Zo(ds),null;case 25:return null;default:return null}}function XL(u,h){switch(b0(h),h.tag){case 3:Zo(ds),le();break;case 26:case 27:case 5:$e(h);break;case 4:le();break;case 31:h.memoizedState!==null&&ca(h);break;case 13:ca(h);break;case 19:W(Rn);break;case 10:Zo(h.type);break;case 22:case 23:ca(h),Rs(),u!==null&&W(Ne);break;case 24:Zo(ds)}}function lb(u,h){try{var x=h.updateQueue,j=x!==null?x.lastEffect:null;if(j!==null){var D=j.next;x=D;do{if((x.tag&u)===u){j=void 0;var $=x.create,re=x.inst;j=$(),re.destroy=j}x=x.next}while(x!==D)}}catch(Ce){ua(h,h.return,Ce)}}function gh(u,h,x){try{var j=h.updateQueue,D=j!==null?j.lastEffect:null;if(D!==null){var $=D.next;j=$;do{if((j.tag&u)===u){var re=j.inst,Ce=re.destroy;if(Ce!==void 0){re.destroy=void 0,D=h;var We=x,vt=Ce;try{vt()}catch(Ot){ua(D,We,Ot)}}}j=j.next}while(j!==$)}}catch(Ot){ua(h,h.return,Ot)}}function QL(u){var h=u.updateQueue;if(h!==null){var x=u.stateNode;try{ys(h,x)}catch(j){ua(u,u.return,j)}}}function ZL(u,h,x){x.props=$m(u.type,u.memoizedProps),x.state=u.memoizedState;try{x.componentWillUnmount()}catch(j){ua(u,h,j)}}function cb(u,h){try{var x=u.ref;if(x!==null){switch(u.tag){case 26:case 27:case 5:var j=u.stateNode;break;case 30:j=u.stateNode;break;default:j=u.stateNode}typeof x=="function"?u.refCleanup=x(j):x.current=j}}catch(D){ua(u,h,D)}}function Ld(u,h){var x=u.ref,j=u.refCleanup;if(x!==null)if(typeof j=="function")try{j()}catch(D){ua(u,h,D)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof x=="function")try{x(null)}catch(D){ua(u,h,D)}else x.current=null}function e8(u){var h=u.type,x=u.memoizedProps,j=u.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":x.autoFocus&&j.focus();break e;case"img":x.src?j.src=x.src:x.srcSet&&(j.srcset=x.srcSet)}}catch(D){ua(u,u.return,D)}}function dk(u,h,x){try{var j=u.stateNode;pse(j,u.type,x,h),j[Ur]=h}catch(D){ua(u,u.return,D)}}function t8(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&Nh(u.type)||u.tag===4}function uk(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||t8(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&Nh(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function fk(u,h,x){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?(x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x).insertBefore(u,h):(h=x.nodeType===9?x.body:x.nodeName==="HTML"?x.ownerDocument.body:x,h.appendChild(u),x=x._reactRootContainer,x!=null||h.onclick!==null||(h.onclick=Be));else if(j!==4&&(j===27&&Nh(u.type)&&(x=u.stateNode,h=null),u=u.child,u!==null))for(fk(u,h,x),u=u.sibling;u!==null;)fk(u,h,x),u=u.sibling}function L1(u,h,x){var j=u.tag;if(j===5||j===6)u=u.stateNode,h?x.insertBefore(u,h):x.appendChild(u);else if(j!==4&&(j===27&&Nh(u.type)&&(x=u.stateNode),u=u.child,u!==null))for(L1(u,h,x),u=u.sibling;u!==null;)L1(u,h,x),u=u.sibling}function r8(u){var h=u.stateNode,x=u.memoizedProps;try{for(var j=u.type,D=h.attributes;D.length;)h.removeAttributeNode(D[0]);zi(h,j,x),h[or]=u,h[Ur]=x}catch($){ua(u,u.return,$)}}var Wu=!1,Js=!1,hk=!1,n8=typeof WeakSet=="function"?WeakSet:Set,Ai=null;function Yae(u,h){if(u=u.containerInfo,Pk=rw,u=Ic(u),Wl(u)){if("selectionStart"in u)var x={start:u.selectionStart,end:u.selectionEnd};else e:{x=(x=u.ownerDocument)&&x.defaultView||window;var j=x.getSelection&&x.getSelection();if(j&&j.rangeCount!==0){x=j.anchorNode;var D=j.anchorOffset,$=j.focusNode;j=j.focusOffset;try{x.nodeType,$.nodeType}catch{x=null;break e}var re=0,Ce=-1,We=-1,vt=0,Ot=0,Ht=u,jt=null;t:for(;;){for(var kt;Ht!==x||D!==0&&Ht.nodeType!==3||(Ce=re+D),Ht!==$||j!==0&&Ht.nodeType!==3||(We=re+j),Ht.nodeType===3&&(re+=Ht.nodeValue.length),(kt=Ht.firstChild)!==null;)jt=Ht,Ht=kt;for(;;){if(Ht===u)break t;if(jt===x&&++vt===D&&(Ce=re),jt===$&&++Ot===j&&(We=re),(kt=Ht.nextSibling)!==null)break;Ht=jt,jt=Ht.parentNode}Ht=kt}x=Ce===-1||We===-1?null:{start:Ce,end:We}}else x=null}x=x||{start:0,end:0}}else x=null;for(Lk={focusedElem:u,selectionRange:x},rw=!1,Ai=h;Ai!==null;)if(h=Ai,u=h.child,(h.subtreeFlags&1028)!==0&&u!==null)u.return=h,Ai=u;else for(;Ai!==null;){switch(h=Ai,$=h.alternate,u=h.flags,h.tag){case 0:if((u&4)!==0&&(u=h.updateQueue,u=u!==null?u.events:null,u!==null))for(x=0;x<u.length;x++)D=u[x],D.ref.impl=D.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&$!==null){u=void 0,x=h,D=$.memoizedProps,$=$.memoizedState,j=x.stateNode;try{var yr=$m(x.type,D);u=j.getSnapshotBeforeUpdate(yr,$),j.__reactInternalSnapshotBeforeUpdate=u}catch(zr){ua(x,x.return,zr)}}break;case 3:if((u&1024)!==0){if(u=h.stateNode.containerInfo,x=u.nodeType,x===9)Fk(u);else if(x===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":Fk(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=h.sibling,u!==null){u.return=h.return,Ai=u;break}Ai=h.return}}function a8(u,h,x){var j=x.flags;switch(x.tag){case 0:case 11:case 15:Gu(u,x),j&4&&lb(5,x);break;case 1:if(Gu(u,x),j&4)if(u=x.stateNode,h===null)try{u.componentDidMount()}catch(re){ua(x,x.return,re)}else{var D=$m(x.type,h.memoizedProps);h=h.memoizedState;try{u.componentDidUpdate(D,h,u.__reactInternalSnapshotBeforeUpdate)}catch(re){ua(x,x.return,re)}}j&64&&QL(x),j&512&&cb(x,x.return);break;case 3:if(Gu(u,x),j&64&&(u=x.updateQueue,u!==null)){if(h=null,x.child!==null)switch(x.child.tag){case 27:case 5:h=x.child.stateNode;break;case 1:h=x.child.stateNode}try{ys(u,h)}catch(re){ua(x,x.return,re)}}break;case 27:h===null&&j&4&&r8(x);case 26:case 5:Gu(u,x),h===null&&j&4&&e8(x),j&512&&cb(x,x.return);break;case 12:Gu(u,x);break;case 31:Gu(u,x),j&4&&o8(u,x);break;case 13:Gu(u,x),j&4&&l8(u,x),j&64&&(u=x.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(x=nse.bind(null,x),Nse(u,x))));break;case 22:if(j=x.memoizedState!==null||Wu,!j){h=h!==null&&h.memoizedState!==null||Js,D=Wu;var $=Js;Wu=j,(Js=h)&&!$?Yu(u,x,(x.subtreeFlags&8772)!==0):Gu(u,x),Wu=D,Js=$}break;case 30:break;default:Gu(u,x)}}function s8(u){var h=u.alternate;h!==null&&(u.alternate=null,s8(h)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(h=u.stateNode,h!==null&&nt(h)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var ts=null,tl=!1;function Vu(u,h,x){for(x=x.child;x!==null;)i8(u,h,x),x=x.sibling}function i8(u,h,x){if(Ue&&typeof Ue.onCommitFiberUnmount=="function")try{Ue.onCommitFiberUnmount(ke,x)}catch{}switch(x.tag){case 26:Js||Ld(x,h),Vu(u,h,x),x.memoizedState?x.memoizedState.count--:x.stateNode&&(x=x.stateNode,x.parentNode.removeChild(x));break;case 27:Js||Ld(x,h);var j=ts,D=tl;Nh(x.type)&&(ts=x.stateNode,tl=!1),Vu(u,h,x),bb(x.stateNode),ts=j,tl=D;break;case 5:Js||Ld(x,h);case 6:if(j=ts,D=tl,ts=null,Vu(u,h,x),ts=j,tl=D,ts!==null)if(tl)try{(ts.nodeType===9?ts.body:ts.nodeName==="HTML"?ts.ownerDocument.body:ts).removeChild(x.stateNode)}catch($){ua(x,h,$)}else try{ts.removeChild(x.stateNode)}catch($){ua(x,h,$)}break;case 18:ts!==null&&(tl?(u=ts,Q8(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,x.stateNode),q0(u)):Q8(ts,x.stateNode));break;case 4:j=ts,D=tl,ts=x.stateNode.containerInfo,tl=!0,Vu(u,h,x),ts=j,tl=D;break;case 0:case 11:case 14:case 15:gh(2,x,h),Js||gh(4,x,h),Vu(u,h,x);break;case 1:Js||(Ld(x,h),j=x.stateNode,typeof j.componentWillUnmount=="function"&&ZL(x,h,j)),Vu(u,h,x);break;case 21:Vu(u,h,x);break;case 22:Js=(j=Js)||x.memoizedState!==null,Vu(u,h,x),Js=j;break;default:Vu(u,h,x)}}function o8(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{q0(u)}catch(x){ua(h,h.return,x)}}}function l8(u,h){if(h.memoizedState===null&&(u=h.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{q0(u)}catch(x){ua(h,h.return,x)}}function Kae(u){switch(u.tag){case 31:case 13:case 19:var h=u.stateNode;return h===null&&(h=u.stateNode=new n8),h;case 22:return u=u.stateNode,h=u._retryCache,h===null&&(h=u._retryCache=new n8),h;default:throw Error(n(435,u.tag))}}function R1(u,h){var x=Kae(u);h.forEach(function(j){if(!x.has(j)){x.add(j);var D=ase.bind(null,u,j);j.then(D,D)}})}function rl(u,h){var x=h.deletions;if(x!==null)for(var j=0;j<x.length;j++){var D=x[j],$=u,re=h,Ce=re;e:for(;Ce!==null;){switch(Ce.tag){case 27:if(Nh(Ce.type)){ts=Ce.stateNode,tl=!1;break e}break;case 5:ts=Ce.stateNode,tl=!1;break e;case 3:case 4:ts=Ce.stateNode.containerInfo,tl=!0;break e}Ce=Ce.return}if(ts===null)throw Error(n(160));i8($,re,D),ts=null,tl=!1,$=D.alternate,$!==null&&($.return=null),D.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)c8(h,u),h=h.sibling}var Wc=null;function c8(u,h){var x=u.alternate,j=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:rl(h,u),nl(u),j&4&&(gh(3,u,u.return),lb(3,u),gh(5,u,u.return));break;case 1:rl(h,u),nl(u),j&512&&(Js||x===null||Ld(x,x.return)),j&64&&Wu&&(u=u.updateQueue,u!==null&&(j=u.callbacks,j!==null&&(x=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=x===null?j:x.concat(j))));break;case 26:var D=Wc;if(rl(h,u),nl(u),j&512&&(Js||x===null||Ld(x,x.return)),j&4){var $=x!==null?x.memoizedState:null;if(j=u.memoizedState,x===null)if(j===null)if(u.stateNode===null){e:{j=u.type,x=u.memoizedProps,D=D.ownerDocument||D;t:switch(j){case"title":$=D.getElementsByTagName("title")[0],(!$||$[xe]||$[or]||$.namespaceURI==="http://www.w3.org/2000/svg"||$.hasAttribute("itemprop"))&&($=D.createElement(j),D.head.insertBefore($,D.querySelector("head > title"))),zi($,j,x),$[or]=u,zt($),j=$;break e;case"link":var re=c7("link","href",D).get(j+(x.href||""));if(re){for(var Ce=0;Ce<re.length;Ce++)if($=re[Ce],$.getAttribute("href")===(x.href==null||x.href===""?null:x.href)&&$.getAttribute("rel")===(x.rel==null?null:x.rel)&&$.getAttribute("title")===(x.title==null?null:x.title)&&$.getAttribute("crossorigin")===(x.crossOrigin==null?null:x.crossOrigin)){re.splice(Ce,1);break t}}$=D.createElement(j),zi($,j,x),D.head.appendChild($);break;case"meta":if(re=c7("meta","content",D).get(j+(x.content||""))){for(Ce=0;Ce<re.length;Ce++)if($=re[Ce],$.getAttribute("content")===(x.content==null?null:""+x.content)&&$.getAttribute("name")===(x.name==null?null:x.name)&&$.getAttribute("property")===(x.property==null?null:x.property)&&$.getAttribute("http-equiv")===(x.httpEquiv==null?null:x.httpEquiv)&&$.getAttribute("charset")===(x.charSet==null?null:x.charSet)){re.splice(Ce,1);break t}}$=D.createElement(j),zi($,j,x),D.head.appendChild($);break;default:throw Error(n(468,j))}$[or]=u,zt($),j=$}u.stateNode=j}else d7(D,u.type,u.stateNode);else u.stateNode=l7(D,j,u.memoizedProps);else $!==j?($===null?x.stateNode!==null&&(x=x.stateNode,x.parentNode.removeChild(x)):$.count--,j===null?d7(D,u.type,u.stateNode):l7(D,j,u.memoizedProps)):j===null&&u.stateNode!==null&&dk(u,u.memoizedProps,x.memoizedProps)}break;case 27:rl(h,u),nl(u),j&512&&(Js||x===null||Ld(x,x.return)),x!==null&&j&4&&dk(u,u.memoizedProps,x.memoizedProps);break;case 5:if(rl(h,u),nl(u),j&512&&(Js||x===null||Ld(x,x.return)),u.flags&32){D=u.stateNode;try{Ii(D,"")}catch(yr){ua(u,u.return,yr)}}j&4&&u.stateNode!=null&&(D=u.memoizedProps,dk(u,D,x!==null?x.memoizedProps:D)),j&1024&&(hk=!0);break;case 6:if(rl(h,u),nl(u),j&4){if(u.stateNode===null)throw Error(n(162));j=u.memoizedProps,x=u.stateNode;try{x.nodeValue=j}catch(yr){ua(u,u.return,yr)}}break;case 3:if(Q1=null,D=Wc,Wc=J1(h.containerInfo),rl(h,u),Wc=D,nl(u),j&4&&x!==null&&x.memoizedState.isDehydrated)try{q0(h.containerInfo)}catch(yr){ua(u,u.return,yr)}hk&&(hk=!1,d8(u));break;case 4:j=Wc,Wc=J1(u.stateNode.containerInfo),rl(h,u),nl(u),Wc=j;break;case 12:rl(h,u),nl(u);break;case 31:rl(h,u),nl(u),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,R1(u,j)));break;case 13:rl(h,u),nl(u),u.child.flags&8192&&u.memoizedState!==null!=(x!==null&&x.memoizedState!==null)&&(F1=he()),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,R1(u,j)));break;case 22:D=u.memoizedState!==null;var We=x!==null&&x.memoizedState!==null,vt=Wu,Ot=Js;if(Wu=vt||D,Js=Ot||We,rl(h,u),Js=Ot,Wu=vt,nl(u),j&8192)e:for(h=u.stateNode,h._visibility=D?h._visibility&-2:h._visibility|1,D&&(x===null||We||Wu||Js||Hm(u)),x=null,h=u;;){if(h.tag===5||h.tag===26){if(x===null){We=x=h;try{if($=We.stateNode,D)re=$.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{Ce=We.stateNode;var Ht=We.memoizedProps.style,jt=Ht!=null&&Ht.hasOwnProperty("display")?Ht.display:null;Ce.style.display=jt==null||typeof jt=="boolean"?"":(""+jt).trim()}}catch(yr){ua(We,We.return,yr)}}}else if(h.tag===6){if(x===null){We=h;try{We.stateNode.nodeValue=D?"":We.memoizedProps}catch(yr){ua(We,We.return,yr)}}}else if(h.tag===18){if(x===null){We=h;try{var kt=We.stateNode;D?Z8(kt,!0):Z8(We.stateNode,!1)}catch(yr){ua(We,We.return,yr)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===u)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===u)break e;for(;h.sibling===null;){if(h.return===null||h.return===u)break e;x===h&&(x=null),h=h.return}x===h&&(x=null),h.sibling.return=h.return,h=h.sibling}j&4&&(j=u.updateQueue,j!==null&&(x=j.retryQueue,x!==null&&(j.retryQueue=null,R1(u,x))));break;case 19:rl(h,u),nl(u),j&4&&(j=u.updateQueue,j!==null&&(u.updateQueue=null,R1(u,j)));break;case 30:break;case 21:break;default:rl(h,u),nl(u)}}function nl(u){var h=u.flags;if(h&2){try{for(var x,j=u.return;j!==null;){if(t8(j)){x=j;break}j=j.return}if(x==null)throw Error(n(160));switch(x.tag){case 27:var D=x.stateNode,$=uk(u);L1(u,$,D);break;case 5:var re=x.stateNode;x.flags&32&&(Ii(re,""),x.flags&=-33);var Ce=uk(u);L1(u,Ce,re);break;case 3:case 4:var We=x.stateNode.containerInfo,vt=uk(u);fk(u,vt,We);break;default:throw Error(n(161))}}catch(Ot){ua(u,u.return,Ot)}u.flags&=-3}h&4096&&(u.flags&=-4097)}function d8(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var h=u;d8(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),u=u.sibling}}function Gu(u,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)a8(u,h.alternate,h),h=h.sibling}function Hm(u){for(u=u.child;u!==null;){var h=u;switch(h.tag){case 0:case 11:case 14:case 15:gh(4,h,h.return),Hm(h);break;case 1:Ld(h,h.return);var x=h.stateNode;typeof x.componentWillUnmount=="function"&&ZL(h,h.return,x),Hm(h);break;case 27:bb(h.stateNode);case 26:case 5:Ld(h,h.return),Hm(h);break;case 22:h.memoizedState===null&&Hm(h);break;case 30:Hm(h);break;default:Hm(h)}u=u.sibling}}function Yu(u,h,x){for(x=x&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var j=h.alternate,D=u,$=h,re=$.flags;switch($.tag){case 0:case 11:case 15:Yu(D,$,x),lb(4,$);break;case 1:if(Yu(D,$,x),j=$,D=j.stateNode,typeof D.componentDidMount=="function")try{D.componentDidMount()}catch(vt){ua(j,j.return,vt)}if(j=$,D=j.updateQueue,D!==null){var Ce=j.stateNode;try{var We=D.shared.hiddenCallbacks;if(We!==null)for(D.shared.hiddenCallbacks=null,D=0;D<We.length;D++)Ci(We[D],Ce)}catch(vt){ua(j,j.return,vt)}}x&&re&64&&QL($),cb($,$.return);break;case 27:r8($);case 26:case 5:Yu(D,$,x),x&&j===null&&re&4&&e8($),cb($,$.return);break;case 12:Yu(D,$,x);break;case 31:Yu(D,$,x),x&&re&4&&o8(D,$);break;case 13:Yu(D,$,x),x&&re&4&&l8(D,$);break;case 22:$.memoizedState===null&&Yu(D,$,x),cb($,$.return);break;case 30:break;default:Yu(D,$,x)}h=h.sibling}}function mk(u,h){var x=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),u=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(u=h.memoizedState.cachePool.pool),u!==x&&(u!=null&&u.refCount++,x!=null&&Lm(x))}function pk(u,h){u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Lm(u))}function Vc(u,h,x,j){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)u8(u,h,x,j),h=h.sibling}function u8(u,h,x,j){var D=h.flags;switch(h.tag){case 0:case 11:case 15:Vc(u,h,x,j),D&2048&&lb(9,h);break;case 1:Vc(u,h,x,j);break;case 3:Vc(u,h,x,j),D&2048&&(u=null,h.alternate!==null&&(u=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==u&&(h.refCount++,u!=null&&Lm(u)));break;case 12:if(D&2048){Vc(u,h,x,j),u=h.stateNode;try{var $=h.memoizedProps,re=$.id,Ce=$.onPostCommit;typeof Ce=="function"&&Ce(re,h.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(We){ua(h,h.return,We)}}else Vc(u,h,x,j);break;case 31:Vc(u,h,x,j);break;case 13:Vc(u,h,x,j);break;case 23:break;case 22:$=h.stateNode,re=h.alternate,h.memoizedState!==null?$._visibility&2?Vc(u,h,x,j):db(u,h):$._visibility&2?Vc(u,h,x,j):($._visibility|=2,E0(u,h,x,j,(h.subtreeFlags&10256)!==0||!1)),D&2048&&mk(re,h);break;case 24:Vc(u,h,x,j),D&2048&&pk(h.alternate,h);break;default:Vc(u,h,x,j)}}function E0(u,h,x,j,D){for(D=D&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var $=u,re=h,Ce=x,We=j,vt=re.flags;switch(re.tag){case 0:case 11:case 15:E0($,re,Ce,We,D),lb(8,re);break;case 23:break;case 22:var Ot=re.stateNode;re.memoizedState!==null?Ot._visibility&2?E0($,re,Ce,We,D):db($,re):(Ot._visibility|=2,E0($,re,Ce,We,D)),D&&vt&2048&&mk(re.alternate,re);break;case 24:E0($,re,Ce,We,D),D&&vt&2048&&pk(re.alternate,re);break;default:E0($,re,Ce,We,D)}h=h.sibling}}function db(u,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var x=u,j=h,D=j.flags;switch(j.tag){case 22:db(x,j),D&2048&&mk(j.alternate,j);break;case 24:db(x,j),D&2048&&pk(j.alternate,j);break;default:db(x,j)}h=h.sibling}}var ub=8192;function D0(u,h,x){if(u.subtreeFlags&ub)for(u=u.child;u!==null;)f8(u,h,x),u=u.sibling}function f8(u,h,x){switch(u.tag){case 26:D0(u,h,x),u.flags&ub&&u.memoizedState!==null&&Lse(x,Wc,u.memoizedState,u.memoizedProps);break;case 5:D0(u,h,x);break;case 3:case 4:var j=Wc;Wc=J1(u.stateNode.containerInfo),D0(u,h,x),Wc=j;break;case 22:u.memoizedState===null&&(j=u.alternate,j!==null&&j.memoizedState!==null?(j=ub,ub=16777216,D0(u,h,x),ub=j):D0(u,h,x));break;default:D0(u,h,x)}}function h8(u){var h=u.alternate;if(h!==null&&(u=h.child,u!==null)){h.child=null;do h=u.sibling,u.sibling=null,u=h;while(u!==null)}}function fb(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];Ai=j,p8(j,u)}h8(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)m8(u),u=u.sibling}function m8(u){switch(u.tag){case 0:case 11:case 15:fb(u),u.flags&2048&&gh(9,u,u.return);break;case 3:fb(u);break;case 12:fb(u);break;case 22:var h=u.stateNode;u.memoizedState!==null&&h._visibility&2&&(u.return===null||u.return.tag!==13)?(h._visibility&=-3,I1(u)):fb(u);break;default:fb(u)}}function I1(u){var h=u.deletions;if((u.flags&16)!==0){if(h!==null)for(var x=0;x<h.length;x++){var j=h[x];Ai=j,p8(j,u)}h8(u)}for(u=u.child;u!==null;){switch(h=u,h.tag){case 0:case 11:case 15:gh(8,h,h.return),I1(h);break;case 22:x=h.stateNode,x._visibility&2&&(x._visibility&=-3,I1(h));break;default:I1(h)}u=u.sibling}}function p8(u,h){for(;Ai!==null;){var x=Ai;switch(x.tag){case 0:case 11:case 15:gh(8,x,h);break;case 23:case 22:if(x.memoizedState!==null&&x.memoizedState.cachePool!==null){var j=x.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:Lm(x.memoizedState.cache)}if(j=x.child,j!==null)j.return=x,Ai=j;else e:for(x=u;Ai!==null;){j=Ai;var D=j.sibling,$=j.return;if(s8(j),j===x){Ai=null;break e}if(D!==null){D.return=$,Ai=D;break e}Ai=$}}}var Jae={getCacheForType:function(u){var h=pi(ds),x=h.data.get(u);return x===void 0&&(x=u(),h.data.set(u,x)),x},cacheSignal:function(){return pi(ds).controller.signal}},Xae=typeof WeakMap=="function"?WeakMap:Map,Qn=0,Ma=null,Cn=null,On=0,da=0,bl=null,xh=!1,P0=!1,gk=!1,Ku=0,Ns=0,bh=0,Bm=0,xk=0,yl=0,L0=0,hb=null,al=null,bk=!1,F1=0,g8=0,$1=1/0,H1=null,yh=null,xi=0,vh=null,R0=null,Ju=0,yk=0,vk=null,x8=null,mb=0,wk=null;function vl(){return(Qn&2)!==0&&On!==0?On&-On:q.T!==null?_k():pr()}function b8(){if(yl===0)if((On&536870912)===0||kn){var u=Te;Te<<=1,(Te&3932160)===0&&(Te=262144),yl=u}else yl=536870912;return u=Ua.current,u!==null&&(u.flags|=32),yl}function sl(u,h,x){(u===Ma&&(da===2||da===9)||u.cancelPendingCommit!==null)&&(I0(u,0),wh(u,On,yl,!1)),Ee(u,x),((Qn&2)===0||u!==Ma)&&(u===Ma&&((Qn&2)===0&&(Bm|=x),Ns===4&&wh(u,On,yl,!1)),Rd(u))}function y8(u,h,x){if((Qn&6)!==0)throw Error(n(327));var j=!x&&(h&127)===0&&(h&u.expiredLanes)===0||st(u,h),D=j?ese(u,h):Nk(u,h,!0),$=j;do{if(D===0){P0&&!j&&wh(u,h,0,!1);break}else{if(x=u.current.alternate,$&&!Qae(x)){D=Nk(u,h,!1),$=!1;continue}if(D===2){if($=h,u.errorRecoveryDisabledLanes&$)var re=0;else re=u.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){h=re;e:{var Ce=u;D=hb;var We=Ce.current.memoizedState.isDehydrated;if(We&&(I0(Ce,re).flags|=256),re=Nk(Ce,re,!1),re!==2){if(gk&&!We){Ce.errorRecoveryDisabledLanes|=$,Bm|=$,D=4;break e}$=al,al=D,$!==null&&(al===null?al=$:al.push.apply(al,$))}D=re}if($=!1,D!==2)continue}}if(D===1){I0(u,0),wh(u,h,0,!0);break}e:{switch(j=u,$=D,$){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:wh(j,h,yl,!xh);break e;case 2:al=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(D=F1+300-he(),10<D)){if(wh(j,h,yl,!xh),Ye(j,0,!0)!==0)break e;Ju=h,j.timeoutHandle=J8(v8.bind(null,j,x,al,H1,bk,h,yl,Bm,L0,xh,$,"Throttled",-0,0),D);break e}v8(j,x,al,H1,bk,h,yl,Bm,L0,xh,$,null,-0,0)}}break}while(!0);Rd(u)}function v8(u,h,x,j,D,$,re,Ce,We,vt,Ot,Ht,jt,kt){if(u.timeoutHandle=-1,Ht=h.subtreeFlags,Ht&8192||(Ht&16785408)===16785408){Ht={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Be},f8(h,$,Ht);var yr=($&62914560)===$?F1-he():($&4194048)===$?g8-he():0;if(yr=Rse(Ht,yr),yr!==null){Ju=$,u.cancelPendingCommit=yr(A8.bind(null,u,h,$,x,j,D,re,Ce,We,Ot,Ht,null,jt,kt)),wh(u,$,re,!vt);return}}A8(u,h,$,x,j,D,re,Ce,We)}function Qae(u){for(var h=u;;){var x=h.tag;if((x===0||x===11||x===15)&&h.flags&16384&&(x=h.updateQueue,x!==null&&(x=x.stores,x!==null)))for(var j=0;j<x.length;j++){var D=x[j],$=D.getSnapshot;D=D.value;try{if(!ui($(),D))return!1}catch{return!1}}if(x=h.child,h.subtreeFlags&16384&&x!==null)x.return=h,h=x;else{if(h===u)break;for(;h.sibling===null;){if(h.return===null||h.return===u)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function wh(u,h,x,j){h&=~xk,h&=~Bm,u.suspendedLanes|=h,u.pingedLanes&=~h,j&&(u.warmLanes|=h),j=u.expirationTimes;for(var D=h;0<D;){var $=31-we(D),re=1<<$;j[$]=-1,D&=~re}x!==0&&Pt(u,x,h)}function B1(){return(Qn&6)===0?(pb(0),!1):!0}function jk(){if(Cn!==null){if(da===0)var u=Cn.return;else u=Cn,Gl=_d=null,k0(u),qt=null,vr=0,u=Cn;for(;u!==null;)XL(u.alternate,u),u=u.return;Cn=null}}function I0(u,h){var x=u.timeoutHandle;x!==-1&&(u.timeoutHandle=-1,bse(x)),x=u.cancelPendingCommit,x!==null&&(u.cancelPendingCommit=null,x()),Ju=0,jk(),Ma=u,Cn=x=Go(u.current,null),On=h,da=0,bl=null,xh=!1,P0=st(u,h),gk=!1,L0=yl=xk=Bm=bh=Ns=0,al=hb=null,bk=!1,(h&8)!==0&&(h|=h&32);var j=u.entangledLanes;if(j!==0)for(u=u.entanglements,j&=h;0<j;){var D=31-we(j),$=1<<D;h|=u[D],j&=~$}return Ku=h,Tm(),x}function w8(u,h){Or=null,q.H=sb,h===Ze||h===Pe?(h=Lt(),da=3):h===xt?(h=Lt(),da=4):da=h===ek?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,bl=h,Cn===null&&(Ns=1,M1(u,Yo(h,u.current)))}function j8(){var u=Ua.current;return u===null?!0:(On&4194048)===On?$n===null:(On&62914560)===On||(On&536870912)!==0?u===$n:!1}function N8(){var u=q.H;return q.H=sb,u===null?sb:u}function S8(){var u=q.A;return q.A=Jae,u}function z1(){Ns=4,xh||(On&4194048)!==On&&Ua.current!==null||(P0=!0),(bh&134217727)===0&&(Bm&134217727)===0||Ma===null||wh(Ma,On,yl,!1)}function Nk(u,h,x){var j=Qn;Qn|=2;var D=N8(),$=S8();(Ma!==u||On!==h)&&(H1=null,I0(u,h)),h=!1;var re=Ns;e:do try{if(da!==0&&Cn!==null){var Ce=Cn,We=bl;switch(da){case 8:jk(),re=6;break e;case 3:case 2:case 9:case 6:Ua.current===null&&(h=!0);var vt=da;if(da=0,bl=null,F0(u,Ce,We,vt),x&&P0){re=0;break e}break;default:vt=da,da=0,bl=null,F0(u,Ce,We,vt)}}Zae(),re=Ns;break}catch(Ot){w8(u,Ot)}while(!0);return h&&u.shellSuspendCounter++,Gl=_d=null,Qn=j,q.H=D,q.A=$,Cn===null&&(Ma=null,On=0,Tm()),re}function Zae(){for(;Cn!==null;)k8(Cn)}function ese(u,h){var x=Qn;Qn|=2;var j=N8(),D=S8();Ma!==u||On!==h?(H1=null,$1=he()+500,I0(u,h)):P0=st(u,h);e:do try{if(da!==0&&Cn!==null){h=Cn;var $=bl;t:switch(da){case 1:da=0,bl=null,F0(u,h,$,1);break;case 2:case 9:if(ct($)){da=0,bl=null,C8(h);break}h=function(){da!==2&&da!==9||Ma!==u||(da=7),Rd(u)},$.then(h,h);break e;case 3:da=7;break e;case 4:da=5;break e;case 7:ct($)?(da=0,bl=null,C8(h)):(da=0,bl=null,F0(u,h,$,7));break;case 5:var re=null;switch(Cn.tag){case 26:re=Cn.memoizedState;case 5:case 27:var Ce=Cn;if(re?u7(re):Ce.stateNode.complete){da=0,bl=null;var We=Ce.sibling;if(We!==null)Cn=We;else{var vt=Ce.return;vt!==null?(Cn=vt,q1(vt)):Cn=null}break t}}da=0,bl=null,F0(u,h,$,5);break;case 6:da=0,bl=null,F0(u,h,$,6);break;case 8:jk(),Ns=6;break e;default:throw Error(n(462))}}tse();break}catch(Ot){w8(u,Ot)}while(!0);return Gl=_d=null,q.H=j,q.A=D,Qn=x,Cn!==null?0:(Ma=null,On=0,Tm(),Ns)}function tse(){for(;Cn!==null&&!Rt();)k8(Cn)}function k8(u){var h=KL(u.alternate,u,Ku);u.memoizedProps=u.pendingProps,h===null?q1(u):Cn=h}function C8(u){var h=u,x=h.alternate;switch(h.tag){case 15:case 0:h=qL(x,h,h.pendingProps,h.type,void 0,On);break;case 11:h=qL(x,h,h.pendingProps,h.type.render,h.ref,On);break;case 5:k0(h);default:XL(x,h),h=Cn=Em(h,Ku),h=KL(x,h,Ku)}u.memoizedProps=u.pendingProps,h===null?q1(u):Cn=h}function F0(u,h,x,j){Gl=_d=null,k0(h),qt=null,vr=0;var D=h.return;try{if(qae(u,D,h,x,On)){Ns=1,M1(u,Yo(x,u.current)),Cn=null;return}}catch($){if(D!==null)throw Cn=D,$;Ns=1,M1(u,Yo(x,u.current)),Cn=null;return}h.flags&32768?(kn||j===1?u=!0:P0||(On&536870912)!==0?u=!1:(xh=u=!0,(j===2||j===9||j===3||j===6)&&(j=Ua.current,j!==null&&j.tag===13&&(j.flags|=16384))),_8(h,u)):q1(h)}function q1(u){var h=u;do{if((h.flags&32768)!==0){_8(h,xh);return}u=h.return;var x=Vae(h.alternate,h,Ku);if(x!==null){Cn=x;return}if(h=h.sibling,h!==null){Cn=h;return}Cn=h=u}while(h!==null);Ns===0&&(Ns=5)}function _8(u,h){do{var x=Gae(u.alternate,u);if(x!==null){x.flags&=32767,Cn=x;return}if(x=u.return,x!==null&&(x.flags|=32768,x.subtreeFlags=0,x.deletions=null),!h&&(u=u.sibling,u!==null)){Cn=u;return}Cn=u=x}while(u!==null);Ns=6,Cn=null}function A8(u,h,x,j,D,$,re,Ce,We){u.cancelPendingCommit=null;do U1();while(xi!==0);if((Qn&6)!==0)throw Error(n(327));if(h!==null){if(h===u.current)throw Error(n(177));if($=h.lanes|h.childLanes,$|=u0,It(u,x,$,re,Ce,We),u===Ma&&(Cn=Ma=null,On=0),R0=h,vh=u,Ju=x,yk=$,vk=D,x8=j,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,sse(Le,function(){return D8(),null})):(u.callbackNode=null,u.callbackPriority=0),j=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||j){j=q.T,q.T=null,D=B.p,B.p=2,re=Qn,Qn|=4;try{Yae(u,h,x)}finally{Qn=re,B.p=D,q.T=j}}xi=1,T8(),M8(),O8()}}function T8(){if(xi===1){xi=0;var u=vh,h=R0,x=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||x){x=q.T,q.T=null;var j=B.p;B.p=2;var D=Qn;Qn|=4;try{c8(h,u);var $=Lk,re=Ic(u.containerInfo),Ce=$.focusedElem,We=$.selectionRange;if(re!==Ce&&Ce&&Ce.ownerDocument&&Rc(Ce.ownerDocument.documentElement,Ce)){if(We!==null&&Wl(Ce)){var vt=We.start,Ot=We.end;if(Ot===void 0&&(Ot=vt),"selectionStart"in Ce)Ce.selectionStart=vt,Ce.selectionEnd=Math.min(Ot,Ce.value.length);else{var Ht=Ce.ownerDocument||document,jt=Ht&&Ht.defaultView||window;if(jt.getSelection){var kt=jt.getSelection(),yr=Ce.textContent.length,zr=Math.min(We.start,yr),Ca=We.end===void 0?zr:Math.min(We.end,yr);!kt.extend&&zr>Ca&&(re=Ca,Ca=zr,zr=re);var lt=sh(Ce,zr),et=sh(Ce,Ca);if(lt&&et&&(kt.rangeCount!==1||kt.anchorNode!==lt.node||kt.anchorOffset!==lt.offset||kt.focusNode!==et.node||kt.focusOffset!==et.offset)){var bt=Ht.createRange();bt.setStart(lt.node,lt.offset),kt.removeAllRanges(),zr>Ca?(kt.addRange(bt),kt.extend(et.node,et.offset)):(bt.setEnd(et.node,et.offset),kt.addRange(bt))}}}}for(Ht=[],kt=Ce;kt=kt.parentNode;)kt.nodeType===1&&Ht.push({element:kt,left:kt.scrollLeft,top:kt.scrollTop});for(typeof Ce.focus=="function"&&Ce.focus(),Ce=0;Ce<Ht.length;Ce++){var Ft=Ht[Ce];Ft.element.scrollLeft=Ft.left,Ft.element.scrollTop=Ft.top}}rw=!!Pk,Lk=Pk=null}finally{Qn=D,B.p=j,q.T=x}}u.current=h,xi=2}}function M8(){if(xi===2){xi=0;var u=vh,h=R0,x=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||x){x=q.T,q.T=null;var j=B.p;B.p=2;var D=Qn;Qn|=4;try{a8(u,h.alternate,h)}finally{Qn=D,B.p=j,q.T=x}}xi=3}}function O8(){if(xi===4||xi===3){xi=0,He();var u=vh,h=R0,x=Ju,j=x8;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?xi=5:(xi=0,R0=vh=null,E8(u,u.pendingLanes));var D=u.pendingLanes;if(D===0&&(yh=null),Mt(x),h=h.stateNode,Ue&&typeof Ue.onCommitFiberRoot=="function")try{Ue.onCommitFiberRoot(ke,h,void 0,(h.current.flags&128)===128)}catch{}if(j!==null){h=q.T,D=B.p,B.p=2,q.T=null;try{for(var $=u.onRecoverableError,re=0;re<j.length;re++){var Ce=j[re];$(Ce.value,{componentStack:Ce.stack})}}finally{q.T=h,B.p=D}}(Ju&3)!==0&&U1(),Rd(u),D=u.pendingLanes,(x&261930)!==0&&(D&42)!==0?u===wk?mb++:(mb=0,wk=u):mb=0,pb(0)}}function E8(u,h){(u.pooledCacheLanes&=h)===0&&(h=u.pooledCache,h!=null&&(u.pooledCache=null,Lm(h)))}function U1(){return T8(),M8(),O8(),D8()}function D8(){if(xi!==5)return!1;var u=vh,h=yk;yk=0;var x=Mt(Ju),j=q.T,D=B.p;try{B.p=32>x?32:x,q.T=null,x=vk,vk=null;var $=vh,re=Ju;if(xi=0,R0=vh=null,Ju=0,(Qn&6)!==0)throw Error(n(331));var Ce=Qn;if(Qn|=4,m8($.current),u8($,$.current,re,x),Qn=Ce,pb(0,!1),Ue&&typeof Ue.onPostCommitFiberRoot=="function")try{Ue.onPostCommitFiberRoot(ke,$)}catch{}return!0}finally{B.p=D,q.T=j,E8(u,h)}}function P8(u,h,x){h=Yo(x,h),h=ZS(u.stateNode,h,2),u=dn(u,h,2),u!==null&&(Ee(u,2),Rd(u))}function ua(u,h,x){if(u.tag===3)P8(u,u,x);else for(;h!==null;){if(h.tag===3){P8(h,u,x);break}else if(h.tag===1){var j=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(yh===null||!yh.has(j))){u=Yo(x,u),x=LL(2),j=dn(h,x,2),j!==null&&(RL(x,j,h,u),Ee(j,2),Rd(j));break}}h=h.return}}function Sk(u,h,x){var j=u.pingCache;if(j===null){j=u.pingCache=new Xae;var D=new Set;j.set(h,D)}else D=j.get(h),D===void 0&&(D=new Set,j.set(h,D));D.has(x)||(gk=!0,D.add(x),u=rse.bind(null,u,h,x),h.then(u,u))}function rse(u,h,x){var j=u.pingCache;j!==null&&j.delete(h),u.pingedLanes|=u.suspendedLanes&x,u.warmLanes&=~x,Ma===u&&(On&x)===x&&(Ns===4||Ns===3&&(On&62914560)===On&&300>he()-F1?(Qn&2)===0&&I0(u,0):xk|=x,L0===On&&(L0=0)),Rd(u)}function L8(u,h){h===0&&(h=ze()),u=$c(u,h),u!==null&&(Ee(u,h),Rd(u))}function nse(u){var h=u.memoizedState,x=0;h!==null&&(x=h.retryLane),L8(u,x)}function ase(u,h){var x=0;switch(u.tag){case 31:case 13:var j=u.stateNode,D=u.memoizedState;D!==null&&(x=D.retryLane);break;case 19:j=u.stateNode;break;case 22:j=u.stateNode._retryCache;break;default:throw Error(n(314))}j!==null&&j.delete(h),L8(u,x)}function sse(u,h){return wt(u,h)}var W1=null,$0=null,kk=!1,V1=!1,Ck=!1,jh=0;function Rd(u){u!==$0&&u.next===null&&($0===null?W1=$0=u:$0=$0.next=u),V1=!0,kk||(kk=!0,ose())}function pb(u,h){if(!Ck&&V1){Ck=!0;do for(var x=!1,j=W1;j!==null;){if(u!==0){var D=j.pendingLanes;if(D===0)var $=0;else{var re=j.suspendedLanes,Ce=j.pingedLanes;$=(1<<31-we(42|u)+1)-1,$&=D&~(re&~Ce),$=$&201326741?$&201326741|1:$?$|2:0}$!==0&&(x=!0,$8(j,$))}else $=On,$=Ye(j,j===Ma?$:0,j.cancelPendingCommit!==null||j.timeoutHandle!==-1),($&3)===0||st(j,$)||(x=!0,$8(j,$));j=j.next}while(x);Ck=!1}}function ise(){R8()}function R8(){V1=kk=!1;var u=0;jh!==0&&xse()&&(u=jh);for(var h=he(),x=null,j=W1;j!==null;){var D=j.next,$=I8(j,h);$===0?(j.next=null,x===null?W1=D:x.next=D,D===null&&($0=x)):(x=j,(u!==0||($&3)!==0)&&(V1=!0)),j=D}xi!==0&&xi!==5||pb(u),jh!==0&&(jh=0)}function I8(u,h){for(var x=u.suspendedLanes,j=u.pingedLanes,D=u.expirationTimes,$=u.pendingLanes&-62914561;0<$;){var re=31-we($),Ce=1<<re,We=D[re];We===-1?((Ce&x)===0||(Ce&j)!==0)&&(D[re]=yt(Ce,h)):We<=h&&(u.expiredLanes|=Ce),$&=~Ce}if(h=Ma,x=On,x=Ye(u,u===h?x:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),j=u.callbackNode,x===0||u===h&&(da===2||da===9)||u.cancelPendingCommit!==null)return j!==null&&j!==null&&gt(j),u.callbackNode=null,u.callbackPriority=0;if((x&3)===0||st(u,x)){if(h=x&-x,h===u.callbackPriority)return h;switch(j!==null&&gt(j),Mt(x)){case 2:case 8:x=mt;break;case 32:x=Le;break;case 268435456:x=qe;break;default:x=Le}return j=F8.bind(null,u),x=wt(x,j),u.callbackPriority=h,u.callbackNode=x,h}return j!==null&&j!==null&&gt(j),u.callbackPriority=2,u.callbackNode=null,2}function F8(u,h){if(xi!==0&&xi!==5)return u.callbackNode=null,u.callbackPriority=0,null;var x=u.callbackNode;if(U1()&&u.callbackNode!==x)return null;var j=On;return j=Ye(u,u===Ma?j:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),j===0?null:(y8(u,j,h),I8(u,he()),u.callbackNode!=null&&u.callbackNode===x?F8.bind(null,u):null)}function $8(u,h){if(U1())return null;y8(u,h,!0)}function ose(){yse(function(){(Qn&6)!==0?wt(Ge,ise):R8()})}function _k(){if(jh===0){var u=C;u===0&&(u=tt,tt<<=1,(tt&261888)===0&&(tt=256)),jh=u}return jh}function H8(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:ae(""+u)}function B8(u,h){var x=h.ownerDocument.createElement("input");return x.name=h.name,x.value=h.value,u.id&&x.setAttribute("form",u.id),h.parentNode.insertBefore(x,h),u=new FormData(u),x.parentNode.removeChild(x),u}function lse(u,h,x,j,D){if(h==="submit"&&x&&x.stateNode===D){var $=H8((D[Ur]||null).action),re=j.submitter;re&&(h=(h=re[Ur]||null)?H8(h.formAction):re.getAttribute("formAction"),h!==null&&($=h,re=null));var Ce=new Il("action","action",null,j,D);u.push({event:Ce,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(jh!==0){var We=re?B8(D,re):new FormData(D);GS(x,{pending:!0,data:We,method:D.method,action:$},null,We)}}else typeof $=="function"&&(Ce.preventDefault(),We=re?B8(D,re):new FormData(D),GS(x,{pending:!0,data:We,method:D.method,action:$},$,We))},currentTarget:D}]})}}for(var Ak=0;Ak<Lu.length;Ak++){var Tk=Lu[Ak],cse=Tk.toLowerCase(),dse=Tk[0].toUpperCase()+Tk.slice(1);Vo(cse,"on"+dse)}Vo(Pu,"onAnimationEnd"),Vo(_m,"onAnimationIteration"),Vo(Ux,"onAnimationStart"),Vo("dblclick","onDoubleClick"),Vo("focusin","onFocus"),Vo("focusout","onBlur"),Vo(x1,"onTransitionRun"),Vo(b1,"onTransitionStart"),Vo(y1,"onTransitionCancel"),Vo(Wx,"onTransitionEnd"),ir("onMouseEnter",["mouseout","mouseover"]),ir("onMouseLeave",["mouseout","mouseover"]),ir("onPointerEnter",["pointerout","pointerover"]),ir("onPointerLeave",["pointerout","pointerover"]),cn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),cn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),cn("onBeforeInput",["compositionend","keypress","textInput","paste"]),cn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),cn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gb="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),use=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gb));function z8(u,h){h=(h&4)!==0;for(var x=0;x<u.length;x++){var j=u[x],D=j.event;j=j.listeners;e:{var $=void 0;if(h)for(var re=j.length-1;0<=re;re--){var Ce=j[re],We=Ce.instance,vt=Ce.currentTarget;if(Ce=Ce.listener,We!==$&&D.isPropagationStopped())break e;$=Ce,D.currentTarget=vt;try{$(D)}catch(Ot){Am(Ot)}D.currentTarget=null,$=We}else for(re=0;re<j.length;re++){if(Ce=j[re],We=Ce.instance,vt=Ce.currentTarget,Ce=Ce.listener,We!==$&&D.isPropagationStopped())break e;$=Ce,D.currentTarget=vt;try{$(D)}catch(Ot){Am(Ot)}D.currentTarget=null,$=We}}}}function _n(u,h){var x=h[jn];x===void 0&&(x=h[jn]=new Set);var j=u+"__bubble";x.has(j)||(q8(h,u,2,!1),x.add(j))}function Mk(u,h,x){var j=0;h&&(j|=4),q8(x,u,j,h)}var G1="_reactListening"+Math.random().toString(36).slice(2);function Ok(u){if(!u[G1]){u[G1]=!0,Nr.forEach(function(x){x!=="selectionchange"&&(use.has(x)||Mk(x,!1,u),Mk(x,!0,u))});var h=u.nodeType===9?u:u.ownerDocument;h===null||h[G1]||(h[G1]=!0,Mk("selectionchange",!1,h))}}function q8(u,h,x,j){switch(b7(h)){case 2:var D=$se;break;case 8:D=Hse;break;default:D=Vk}x=D.bind(null,h,x,u),D=void 0,!Sm||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(D=!0),j?D!==void 0?u.addEventListener(h,x,{capture:!0,passive:D}):u.addEventListener(h,x,!0):D!==void 0?u.addEventListener(h,x,{passive:D}):u.addEventListener(h,x,!1)}function Ek(u,h,x,j,D){var $=j;if((h&1)===0&&(h&2)===0&&j!==null)e:for(;;){if(j===null)return;var re=j.tag;if(re===3||re===4){var Ce=j.stateNode.containerInfo;if(Ce===D)break;if(re===4)for(re=j.return;re!==null;){var We=re.tag;if((We===3||We===4)&&re.stateNode.containerInfo===D)return;re=re.return}for(;Ce!==null;){if(re=Nt(Ce),re===null)return;if(We=re.tag,We===5||We===6||We===26||We===27){j=$=re;continue e}Ce=Ce.parentNode}}j=j.return}Cc(function(){var vt=$,Ot=Br(x),Ht=[];e:{var jt=Vx.get(u);if(jt!==void 0){var kt=Il,yr=u;switch(u){case"keypress":if(_c(x)===0)break e;case"keydown":case"keyup":kt=zn;break;case"focusin":yr="focus",kt=Oc;break;case"focusout":yr="blur",kt=Oc;break;case"beforeblur":case"afterblur":kt=Oc;break;case"click":if(x.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":kt=Fl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":kt=i0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":kt=Ps;break;case Pu:case _m:case Ux:kt=U;break;case Wx:kt=ci;break;case"scroll":case"scrollend":kt=Qf;break;case"wheel":kt=to;break;case"copy":case"cut":case"paste":kt=Fe;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":kt=is;break;case"toggle":case"beforetoggle":kt=Zf}var zr=(h&4)!==0,Ca=!zr&&(u==="scroll"||u==="scrollend"),lt=zr?jt!==null?jt+"Capture":null:jt;zr=[];for(var et=vt,bt;et!==null;){var Ft=et;if(bt=Ft.stateNode,Ft=Ft.tag,Ft!==5&&Ft!==26&&Ft!==27||bt===null||lt===null||(Ft=eo(et,lt),Ft!=null&&zr.push(xb(et,Ft,bt))),Ca)break;et=et.return}0<zr.length&&(jt=new kt(jt,yr,null,x,Ot),Ht.push({event:jt,listeners:zr}))}}if((h&7)===0){e:{if(jt=u==="mouseover"||u==="pointerover",kt=u==="mouseout"||u==="pointerout",jt&&x!==Kt&&(yr=x.relatedTarget||x.fromElement)&&(Nt(yr)||yr[Yr]))break e;if((kt||jt)&&(jt=Ot.window===Ot?Ot:(jt=Ot.ownerDocument)?jt.defaultView||jt.parentWindow:window,kt?(yr=x.relatedTarget||x.toElement,kt=vt,yr=yr?Nt(yr):null,yr!==null&&(Ca=i(yr),zr=yr.tag,yr!==Ca||zr!==5&&zr!==27&&zr!==6)&&(yr=null)):(kt=null,yr=vt),kt!==yr)){if(zr=Fl,Ft="onMouseLeave",lt="onMouseEnter",et="mouse",(u==="pointerout"||u==="pointerover")&&(zr=is,Ft="onPointerLeave",lt="onPointerEnter",et="pointer"),Ca=kt==null?jt:rn(kt),bt=yr==null?jt:rn(yr),jt=new zr(Ft,et+"leave",kt,x,Ot),jt.target=Ca,jt.relatedTarget=bt,Ft=null,Nt(Ot)===vt&&(zr=new zr(lt,et+"enter",yr,x,Ot),zr.target=bt,zr.relatedTarget=Ca,Ft=zr),Ca=Ft,kt&&yr)t:{for(zr=fse,lt=kt,et=yr,bt=0,Ft=lt;Ft;Ft=zr(Ft))bt++;Ft=0;for(var Pr=et;Pr;Pr=zr(Pr))Ft++;for(;0<bt-Ft;)lt=zr(lt),bt--;for(;0<Ft-bt;)et=zr(et),Ft--;for(;bt--;){if(lt===et||et!==null&&lt===et.alternate){zr=lt;break t}lt=zr(lt),et=zr(et)}zr=null}else zr=null;kt!==null&&U8(Ht,jt,kt,zr,!1),yr!==null&&Ca!==null&&U8(Ht,Ca,yr,zr,!0)}}e:{if(jt=vt?rn(vt):window,kt=jt.nodeName&&jt.nodeName.toLowerCase(),kt==="select"||kt==="input"&&jt.type==="file")var Wn=Nd;else if(km(jt))if(ro)Wn=ql;else{Wn=ls;var kr=nh}else kt=jt.nodeName,!kt||kt.toLowerCase()!=="input"||jt.type!=="checkbox"&&jt.type!=="radio"?vt&&Su(vt.elementType)&&(Wn=Nd):Wn=d0;if(Wn&&(Wn=Wn(u,vt))){So(Ht,Wn,x,Ot);break e}kr&&kr(u,jt,vt),u==="focusout"&&vt&&jt.type==="number"&&vt.memoizedProps.value!=null&&vu(jt,"number",jt.value)}switch(kr=vt?rn(vt):window,u){case"focusin":(km(kr)||kr.contentEditable==="true")&&(ko=kr,Fc=vt,Ni=null);break;case"focusout":Ni=Fc=ko=null;break;case"mousedown":Wo=!0;break;case"contextmenu":case"mouseup":case"dragend":Wo=!1,qn(Ht,x,Ot);break;case"selectionchange":if(Du)break;case"keydown":case"keyup":qn(Ht,x,Ot)}var hn;if($l)e:{switch(u){case"compositionstart":var En="onCompositionStart";break e;case"compositionend":En="onCompositionEnd";break e;case"compositionupdate":En="onCompositionUpdate";break e}En=void 0}else Hl?jd(u,x)&&(En="onCompositionEnd"):u==="keydown"&&x.keyCode===229&&(En="onCompositionStart");En&&(vd&&x.locale!=="ko"&&(Hl||En!=="onCompositionStart"?En==="onCompositionEnd"&&Hl&&(hn=Au()):(jo=Ot,_u="value"in jo?jo.value:jo.textContent,Hl=!0)),kr=Y1(vt,En),0<kr.length&&(En=new ot(En,u,null,x,Ot),Ht.push({event:En,listeners:kr}),hn?En.data=hn:(hn=eh(x),hn!==null&&(En.data=hn)))),(hn=Eu?Xa(u,x):Ec(u,x))&&(En=Y1(vt,"onBeforeInput"),0<En.length&&(kr=new ot("onBeforeInput","beforeinput",null,x,Ot),Ht.push({event:kr,listeners:En}),kr.data=hn)),lse(Ht,u,vt,x,Ot)}z8(Ht,h)})}function xb(u,h,x){return{instance:u,listener:h,currentTarget:x}}function Y1(u,h){for(var x=h+"Capture",j=[];u!==null;){var D=u,$=D.stateNode;if(D=D.tag,D!==5&&D!==26&&D!==27||$===null||(D=eo(u,x),D!=null&&j.unshift(xb(u,D,$)),D=eo(u,h),D!=null&&j.push(xb(u,D,$))),u.tag===3)return j;u=u.return}return[]}function fse(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function U8(u,h,x,j,D){for(var $=h._reactName,re=[];x!==null&&x!==j;){var Ce=x,We=Ce.alternate,vt=Ce.stateNode;if(Ce=Ce.tag,We!==null&&We===j)break;Ce!==5&&Ce!==26&&Ce!==27||vt===null||(We=vt,D?(vt=eo(x,$),vt!=null&&re.unshift(xb(x,vt,We))):D||(vt=eo(x,$),vt!=null&&re.push(xb(x,vt,We)))),x=x.return}re.length!==0&&u.push({event:h,listeners:re})}var hse=/\r\n?/g,mse=/\u0000|\uFFFD/g;function W8(u){return(typeof u=="string"?u:""+u).replace(hse,`
`).replace(mse,"")}function V8(u,h){return h=W8(h),W8(u)===h}function ka(u,h,x,j,D,$){switch(x){case"children":typeof j=="string"?h==="body"||h==="textarea"&&j===""||Ii(u,j):(typeof j=="number"||typeof j=="bigint")&&h!=="body"&&Ii(u,""+j);break;case"className":nn(u,"class",j);break;case"tabIndex":nn(u,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":nn(u,x,j);break;case"style":Kf(u,j,$);break;case"data":if(h!=="object"){nn(u,"data",j);break}case"src":case"href":if(j===""&&(h!=="a"||x!=="href")){u.removeAttribute(x);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(x);break}j=ae(""+j),u.setAttribute(x,j);break;case"action":case"formAction":if(typeof j=="function"){u.setAttribute(x,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof $=="function"&&(x==="formAction"?(h!=="input"&&ka(u,h,"name",D.name,D,null),ka(u,h,"formEncType",D.formEncType,D,null),ka(u,h,"formMethod",D.formMethod,D,null),ka(u,h,"formTarget",D.formTarget,D,null)):(ka(u,h,"encType",D.encType,D,null),ka(u,h,"method",D.method,D,null),ka(u,h,"target",D.target,D,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){u.removeAttribute(x);break}j=ae(""+j),u.setAttribute(x,j);break;case"onClick":j!=null&&(u.onclick=Be);break;case"onScroll":j!=null&&_n("scroll",u);break;case"onScrollEnd":j!=null&&_n("scrollend",u);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(D.children!=null)throw Error(n(60));u.innerHTML=x}}break;case"multiple":u.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":u.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){u.removeAttribute("xlink:href");break}x=ae(""+j),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",x);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,""+j):u.removeAttribute(x);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,""):u.removeAttribute(x);break;case"capture":case"download":j===!0?u.setAttribute(x,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?u.setAttribute(x,j):u.removeAttribute(x);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?u.setAttribute(x,j):u.removeAttribute(x);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?u.removeAttribute(x):u.setAttribute(x,j);break;case"popover":_n("beforetoggle",u),_n("toggle",u),va(u,"popover",j);break;case"xlinkActuate":Qr(u,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":Qr(u,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":Qr(u,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":Qr(u,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":Qr(u,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":Qr(u,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":Qr(u,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":Qr(u,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":Qr(u,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":va(u,"is",j);break;case"innerText":case"textContent":break;default:(!(2<x.length)||x[0]!=="o"&&x[0]!=="O"||x[1]!=="n"&&x[1]!=="N")&&(x=ku.get(x)||x,va(u,x,j))}}function Dk(u,h,x,j,D,$){switch(x){case"style":Kf(u,j,$);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(n(61));if(x=j.__html,x!=null){if(D.children!=null)throw Error(n(60));u.innerHTML=x}}break;case"children":typeof j=="string"?Ii(u,j):(typeof j=="number"||typeof j=="bigint")&&Ii(u,""+j);break;case"onScroll":j!=null&&_n("scroll",u);break;case"onScrollEnd":j!=null&&_n("scrollend",u);break;case"onClick":j!=null&&(u.onclick=Be);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!jr.hasOwnProperty(x))e:{if(x[0]==="o"&&x[1]==="n"&&(D=x.endsWith("Capture"),h=x.slice(2,D?x.length-7:void 0),$=u[Ur]||null,$=$!=null?$[x]:null,typeof $=="function"&&u.removeEventListener(h,$,D),typeof j=="function")){typeof $!="function"&&$!==null&&(x in u?u[x]=null:u.hasAttribute(x)&&u.removeAttribute(x)),u.addEventListener(h,j,D);break e}x in u?u[x]=j:j===!0?u.setAttribute(x,""):va(u,x,j)}}}function zi(u,h,x){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":_n("error",u),_n("load",u);var j=!1,D=!1,$;for($ in x)if(x.hasOwnProperty($)){var re=x[$];if(re!=null)switch($){case"src":j=!0;break;case"srcSet":D=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ka(u,h,$,re,x,null)}}D&&ka(u,h,"srcSet",x.srcSet,x,null),j&&ka(u,h,"src",x.src,x,null);return;case"input":_n("invalid",u);var Ce=$=re=D=null,We=null,vt=null;for(j in x)if(x.hasOwnProperty(j)){var Ot=x[j];if(Ot!=null)switch(j){case"name":D=Ot;break;case"type":re=Ot;break;case"checked":We=Ot;break;case"defaultChecked":vt=Ot;break;case"value":$=Ot;break;case"defaultValue":Ce=Ot;break;case"children":case"dangerouslySetInnerHTML":if(Ot!=null)throw Error(n(137,h));break;default:ka(u,h,j,Ot,x,null)}}Gf(u,$,Ce,We,vt,re,D,!1);return;case"select":_n("invalid",u),j=re=$=null;for(D in x)if(x.hasOwnProperty(D)&&(Ce=x[D],Ce!=null))switch(D){case"value":$=Ce;break;case"defaultValue":re=Ce;break;case"multiple":j=Ce;default:ka(u,h,D,Ce,x,null)}h=$,x=re,u.multiple=!!j,h!=null?oi(u,!!j,h,!1):x!=null&&oi(u,!!j,x,!0);return;case"textarea":_n("invalid",u),$=D=j=null;for(re in x)if(x.hasOwnProperty(re)&&(Ce=x[re],Ce!=null))switch(re){case"value":j=Ce;break;case"defaultValue":D=Ce;break;case"children":$=Ce;break;case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(91));break;default:ka(u,h,re,Ce,x,null)}ju(u,j,D,$);return;case"option":for(We in x)if(x.hasOwnProperty(We)&&(j=x[We],j!=null))switch(We){case"selected":u.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:ka(u,h,We,j,x,null)}return;case"dialog":_n("beforetoggle",u),_n("toggle",u),_n("cancel",u),_n("close",u);break;case"iframe":case"object":_n("load",u);break;case"video":case"audio":for(j=0;j<gb.length;j++)_n(gb[j],u);break;case"image":_n("error",u),_n("load",u);break;case"details":_n("toggle",u);break;case"embed":case"source":case"link":_n("error",u),_n("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(vt in x)if(x.hasOwnProperty(vt)&&(j=x[vt],j!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:ka(u,h,vt,j,x,null)}return;default:if(Su(h)){for(Ot in x)x.hasOwnProperty(Ot)&&(j=x[Ot],j!==void 0&&Dk(u,h,Ot,j,x,void 0));return}}for(Ce in x)x.hasOwnProperty(Ce)&&(j=x[Ce],j!=null&&ka(u,h,Ce,j,x,null))}function pse(u,h,x,j){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var D=null,$=null,re=null,Ce=null,We=null,vt=null,Ot=null;for(kt in x){var Ht=x[kt];if(x.hasOwnProperty(kt)&&Ht!=null)switch(kt){case"checked":break;case"value":break;case"defaultValue":We=Ht;default:j.hasOwnProperty(kt)||ka(u,h,kt,null,j,Ht)}}for(var jt in j){var kt=j[jt];if(Ht=x[jt],j.hasOwnProperty(jt)&&(kt!=null||Ht!=null))switch(jt){case"type":$=kt;break;case"name":D=kt;break;case"checked":vt=kt;break;case"defaultChecked":Ot=kt;break;case"value":re=kt;break;case"defaultValue":Ce=kt;break;case"children":case"dangerouslySetInnerHTML":if(kt!=null)throw Error(n(137,h));break;default:kt!==Ht&&ka(u,h,jt,kt,j,Ht)}}yu(u,re,Ce,We,vt,Ot,$,D);return;case"select":kt=re=Ce=jt=null;for($ in x)if(We=x[$],x.hasOwnProperty($)&&We!=null)switch($){case"value":break;case"multiple":kt=We;default:j.hasOwnProperty($)||ka(u,h,$,null,j,We)}for(D in j)if($=j[D],We=x[D],j.hasOwnProperty(D)&&($!=null||We!=null))switch(D){case"value":jt=$;break;case"defaultValue":Ce=$;break;case"multiple":re=$;default:$!==We&&ka(u,h,D,$,j,We)}h=Ce,x=re,j=kt,jt!=null?oi(u,!!x,jt,!1):!!j!=!!x&&(h!=null?oi(u,!!x,h,!0):oi(u,!!x,x?[]:"",!1));return;case"textarea":kt=jt=null;for(Ce in x)if(D=x[Ce],x.hasOwnProperty(Ce)&&D!=null&&!j.hasOwnProperty(Ce))switch(Ce){case"value":break;case"children":break;default:ka(u,h,Ce,null,j,D)}for(re in j)if(D=j[re],$=x[re],j.hasOwnProperty(re)&&(D!=null||$!=null))switch(re){case"value":jt=D;break;case"defaultValue":kt=D;break;case"children":break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(n(91));break;default:D!==$&&ka(u,h,re,D,j,$)}wu(u,jt,kt);return;case"option":for(var yr in x)if(jt=x[yr],x.hasOwnProperty(yr)&&jt!=null&&!j.hasOwnProperty(yr))switch(yr){case"selected":u.selected=!1;break;default:ka(u,h,yr,null,j,jt)}for(We in j)if(jt=j[We],kt=x[We],j.hasOwnProperty(We)&&jt!==kt&&(jt!=null||kt!=null))switch(We){case"selected":u.selected=jt&&typeof jt!="function"&&typeof jt!="symbol";break;default:ka(u,h,We,jt,j,kt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var zr in x)jt=x[zr],x.hasOwnProperty(zr)&&jt!=null&&!j.hasOwnProperty(zr)&&ka(u,h,zr,null,j,jt);for(vt in j)if(jt=j[vt],kt=x[vt],j.hasOwnProperty(vt)&&jt!==kt&&(jt!=null||kt!=null))switch(vt){case"children":case"dangerouslySetInnerHTML":if(jt!=null)throw Error(n(137,h));break;default:ka(u,h,vt,jt,j,kt)}return;default:if(Su(h)){for(var Ca in x)jt=x[Ca],x.hasOwnProperty(Ca)&&jt!==void 0&&!j.hasOwnProperty(Ca)&&Dk(u,h,Ca,void 0,j,jt);for(Ot in j)jt=j[Ot],kt=x[Ot],!j.hasOwnProperty(Ot)||jt===kt||jt===void 0&&kt===void 0||Dk(u,h,Ot,jt,j,kt);return}}for(var lt in x)jt=x[lt],x.hasOwnProperty(lt)&&jt!=null&&!j.hasOwnProperty(lt)&&ka(u,h,lt,null,j,jt);for(Ht in j)jt=j[Ht],kt=x[Ht],!j.hasOwnProperty(Ht)||jt===kt||jt==null&&kt==null||ka(u,h,Ht,jt,j,kt)}function G8(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function gse(){if(typeof performance.getEntriesByType=="function"){for(var u=0,h=0,x=performance.getEntriesByType("resource"),j=0;j<x.length;j++){var D=x[j],$=D.transferSize,re=D.initiatorType,Ce=D.duration;if($&&Ce&&G8(re)){for(re=0,Ce=D.responseEnd,j+=1;j<x.length;j++){var We=x[j],vt=We.startTime;if(vt>Ce)break;var Ot=We.transferSize,Ht=We.initiatorType;Ot&&G8(Ht)&&(We=We.responseEnd,re+=Ot*(We<Ce?1:(Ce-vt)/(We-vt)))}if(--j,h+=8*($+re)/(D.duration/1e3),u++,10<u)break}}if(0<u)return h/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var Pk=null,Lk=null;function K1(u){return u.nodeType===9?u:u.ownerDocument}function Y8(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function K8(u,h){if(u===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&h==="foreignObject"?0:u}function Rk(u,h){return u==="textarea"||u==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var Ik=null;function xse(){var u=window.event;return u&&u.type==="popstate"?u===Ik?!1:(Ik=u,!0):(Ik=null,!1)}var J8=typeof setTimeout=="function"?setTimeout:void 0,bse=typeof clearTimeout=="function"?clearTimeout:void 0,X8=typeof Promise=="function"?Promise:void 0,yse=typeof queueMicrotask=="function"?queueMicrotask:typeof X8<"u"?function(u){return X8.resolve(null).then(u).catch(vse)}:J8;function vse(u){setTimeout(function(){throw u})}function Nh(u){return u==="head"}function Q8(u,h){var x=h,j=0;do{var D=x.nextSibling;if(u.removeChild(x),D&&D.nodeType===8)if(x=D.data,x==="/$"||x==="/&"){if(j===0){u.removeChild(D),q0(h);return}j--}else if(x==="$"||x==="$?"||x==="$~"||x==="$!"||x==="&")j++;else if(x==="html")bb(u.ownerDocument.documentElement);else if(x==="head"){x=u.ownerDocument.head,bb(x);for(var $=x.firstChild;$;){var re=$.nextSibling,Ce=$.nodeName;$[xe]||Ce==="SCRIPT"||Ce==="STYLE"||Ce==="LINK"&&$.rel.toLowerCase()==="stylesheet"||x.removeChild($),$=re}}else x==="body"&&bb(u.ownerDocument.body);x=D}while(x);q0(h)}function Z8(u,h){var x=u;u=0;do{var j=x.nextSibling;if(x.nodeType===1?h?(x._stashedDisplay=x.style.display,x.style.display="none"):(x.style.display=x._stashedDisplay||"",x.getAttribute("style")===""&&x.removeAttribute("style")):x.nodeType===3&&(h?(x._stashedText=x.nodeValue,x.nodeValue=""):x.nodeValue=x._stashedText||""),j&&j.nodeType===8)if(x=j.data,x==="/$"){if(u===0)break;u--}else x!=="$"&&x!=="$?"&&x!=="$~"&&x!=="$!"||u++;x=j}while(x)}function Fk(u){var h=u.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var x=h;switch(h=h.nextSibling,x.nodeName){case"HTML":case"HEAD":case"BODY":Fk(x),nt(x);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(x.rel.toLowerCase()==="stylesheet")continue}u.removeChild(x)}}function wse(u,h,x,j){for(;u.nodeType===1;){var D=x;if(u.nodeName.toLowerCase()!==h.toLowerCase()){if(!j&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(j){if(!u[xe])switch(h){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if($=u.getAttribute("rel"),$==="stylesheet"&&u.hasAttribute("data-precedence"))break;if($!==D.rel||u.getAttribute("href")!==(D.href==null||D.href===""?null:D.href)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin)||u.getAttribute("title")!==(D.title==null?null:D.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if($=u.getAttribute("src"),($!==(D.src==null?null:D.src)||u.getAttribute("type")!==(D.type==null?null:D.type)||u.getAttribute("crossorigin")!==(D.crossOrigin==null?null:D.crossOrigin))&&$&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(h==="input"&&u.type==="hidden"){var $=D.name==null?null:""+D.name;if(D.type==="hidden"&&u.getAttribute("name")===$)return u}else return u;if(u=Jl(u.nextSibling),u===null)break}return null}function jse(u,h,x){if(h==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!x||(u=Jl(u.nextSibling),u===null))return null;return u}function e7(u,h){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!h||(u=Jl(u.nextSibling),u===null))return null;return u}function $k(u){return u.data==="$?"||u.data==="$~"}function Hk(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function Nse(u,h){var x=u.ownerDocument;if(u.data==="$~")u._reactRetry=h;else if(u.data!=="$?"||x.readyState!=="loading")h();else{var j=function(){h(),x.removeEventListener("DOMContentLoaded",j)};x.addEventListener("DOMContentLoaded",j),u._reactRetry=j}}function Jl(u){for(;u!=null;u=u.nextSibling){var h=u.nodeType;if(h===1||h===3)break;if(h===8){if(h=u.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return u}var Bk=null;function t7(u){u=u.nextSibling;for(var h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="/$"||x==="/&"){if(h===0)return Jl(u.nextSibling);h--}else x!=="$"&&x!=="$!"&&x!=="$?"&&x!=="$~"&&x!=="&"||h++}u=u.nextSibling}return null}function r7(u){u=u.previousSibling;for(var h=0;u;){if(u.nodeType===8){var x=u.data;if(x==="$"||x==="$!"||x==="$?"||x==="$~"||x==="&"){if(h===0)return u;h--}else x!=="/$"&&x!=="/&"||h++}u=u.previousSibling}return null}function n7(u,h,x){switch(h=K1(x),u){case"html":if(u=h.documentElement,!u)throw Error(n(452));return u;case"head":if(u=h.head,!u)throw Error(n(453));return u;case"body":if(u=h.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function bb(u){for(var h=u.attributes;h.length;)u.removeAttributeNode(h[0]);nt(u)}var Xl=new Map,a7=new Set;function J1(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Xu=B.d;B.d={f:Sse,r:kse,D:Cse,C:_se,L:Ase,m:Tse,X:Ose,S:Mse,M:Ese};function Sse(){var u=Xu.f(),h=B1();return u||h}function kse(u){var h=cr(u);h!==null&&h.tag===5&&h.type==="form"?wL(h):Xu.r(u)}var H0=typeof document>"u"?null:document;function s7(u,h,x){var j=H0;if(j&&typeof h=="string"&&h){var D=Vs(h);D='link[rel="'+u+'"][href="'+D+'"]',typeof x=="string"&&(D+='[crossorigin="'+x+'"]'),a7.has(D)||(a7.add(D),u={rel:u,crossOrigin:x,href:h},j.querySelector(D)===null&&(h=j.createElement("link"),zi(h,"link",u),zt(h),j.head.appendChild(h)))}}function Cse(u){Xu.D(u),s7("dns-prefetch",u,null)}function _se(u,h){Xu.C(u,h),s7("preconnect",u,h)}function Ase(u,h,x){Xu.L(u,h,x);var j=H0;if(j&&u&&h){var D='link[rel="preload"][as="'+Vs(h)+'"]';h==="image"&&x&&x.imageSrcSet?(D+='[imagesrcset="'+Vs(x.imageSrcSet)+'"]',typeof x.imageSizes=="string"&&(D+='[imagesizes="'+Vs(x.imageSizes)+'"]')):D+='[href="'+Vs(u)+'"]';var $=D;switch(h){case"style":$=B0(u);break;case"script":$=z0(u)}Xl.has($)||(u=m({rel:"preload",href:h==="image"&&x&&x.imageSrcSet?void 0:u,as:h},x),Xl.set($,u),j.querySelector(D)!==null||h==="style"&&j.querySelector(yb($))||h==="script"&&j.querySelector(vb($))||(h=j.createElement("link"),zi(h,"link",u),zt(h),j.head.appendChild(h)))}}function Tse(u,h){Xu.m(u,h);var x=H0;if(x&&u){var j=h&&typeof h.as=="string"?h.as:"script",D='link[rel="modulepreload"][as="'+Vs(j)+'"][href="'+Vs(u)+'"]',$=D;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":$=z0(u)}if(!Xl.has($)&&(u=m({rel:"modulepreload",href:u},h),Xl.set($,u),x.querySelector(D)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(x.querySelector(vb($)))return}j=x.createElement("link"),zi(j,"link",u),zt(j),x.head.appendChild(j)}}}function Mse(u,h,x){Xu.S(u,h,x);var j=H0;if(j&&u){var D=nr(j).hoistableStyles,$=B0(u);h=h||"default";var re=D.get($);if(!re){var Ce={loading:0,preload:null};if(re=j.querySelector(yb($)))Ce.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":h},x),(x=Xl.get($))&&zk(u,x);var We=re=j.createElement("link");zt(We),zi(We,"link",u),We._p=new Promise(function(vt,Ot){We.onload=vt,We.onerror=Ot}),We.addEventListener("load",function(){Ce.loading|=1}),We.addEventListener("error",function(){Ce.loading|=2}),Ce.loading|=4,X1(re,h,j)}re={type:"stylesheet",instance:re,count:1,state:Ce},D.set($,re)}}}function Ose(u,h){Xu.X(u,h);var x=H0;if(x&&u){var j=nr(x).hoistableScripts,D=z0(u),$=j.get(D);$||($=x.querySelector(vb(D)),$||(u=m({src:u,async:!0},h),(h=Xl.get(D))&&qk(u,h),$=x.createElement("script"),zt($),zi($,"link",u),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(D,$))}}function Ese(u,h){Xu.M(u,h);var x=H0;if(x&&u){var j=nr(x).hoistableScripts,D=z0(u),$=j.get(D);$||($=x.querySelector(vb(D)),$||(u=m({src:u,async:!0,type:"module"},h),(h=Xl.get(D))&&qk(u,h),$=x.createElement("script"),zt($),zi($,"link",u),x.head.appendChild($)),$={type:"script",instance:$,count:1,state:null},j.set(D,$))}}function i7(u,h,x,j){var D=(D=ue.current)?J1(D):null;if(!D)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof x.precedence=="string"&&typeof x.href=="string"?(h=B0(x.href),x=nr(D).hoistableStyles,j=x.get(h),j||(j={type:"style",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(x.rel==="stylesheet"&&typeof x.href=="string"&&typeof x.precedence=="string"){u=B0(x.href);var $=nr(D).hoistableStyles,re=$.get(u);if(re||(D=D.ownerDocument||D,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},$.set(u,re),($=D.querySelector(yb(u)))&&!$._p&&(re.instance=$,re.state.loading=5),Xl.has(u)||(x={rel:"preload",as:"style",href:x.href,crossOrigin:x.crossOrigin,integrity:x.integrity,media:x.media,hrefLang:x.hrefLang,referrerPolicy:x.referrerPolicy},Xl.set(u,x),$||Dse(D,u,x,re.state))),h&&j===null)throw Error(n(528,""));return re}if(h&&j!==null)throw Error(n(529,""));return null;case"script":return h=x.async,x=x.src,typeof x=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=z0(x),x=nr(D).hoistableScripts,j=x.get(h),j||(j={type:"script",instance:null,count:0,state:null},x.set(h,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function B0(u){return'href="'+Vs(u)+'"'}function yb(u){return'link[rel="stylesheet"]['+u+"]"}function o7(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function Dse(u,h,x,j){u.querySelector('link[rel="preload"][as="style"]['+h+"]")?j.loading=1:(h=u.createElement("link"),j.preload=h,h.addEventListener("load",function(){return j.loading|=1}),h.addEventListener("error",function(){return j.loading|=2}),zi(h,"link",x),zt(h),u.head.appendChild(h))}function z0(u){return'[src="'+Vs(u)+'"]'}function vb(u){return"script[async]"+u}function l7(u,h,x){if(h.count++,h.instance===null)switch(h.type){case"style":var j=u.querySelector('style[data-href~="'+Vs(x.href)+'"]');if(j)return h.instance=j,zt(j),j;var D=m({},x,{"data-href":x.href,"data-precedence":x.precedence,href:null,precedence:null});return j=(u.ownerDocument||u).createElement("style"),zt(j),zi(j,"style",D),X1(j,x.precedence,u),h.instance=j;case"stylesheet":D=B0(x.href);var $=u.querySelector(yb(D));if($)return h.state.loading|=4,h.instance=$,zt($),$;j=o7(x),(D=Xl.get(D))&&zk(j,D),$=(u.ownerDocument||u).createElement("link"),zt($);var re=$;return re._p=new Promise(function(Ce,We){re.onload=Ce,re.onerror=We}),zi($,"link",j),h.state.loading|=4,X1($,x.precedence,u),h.instance=$;case"script":return $=z0(x.src),(D=u.querySelector(vb($)))?(h.instance=D,zt(D),D):(j=x,(D=Xl.get($))&&(j=m({},x),qk(j,D)),u=u.ownerDocument||u,D=u.createElement("script"),zt(D),zi(D,"link",j),u.head.appendChild(D),h.instance=D);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(j=h.instance,h.state.loading|=4,X1(j,x.precedence,u));return h.instance}function X1(u,h,x){for(var j=x.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),D=j.length?j[j.length-1]:null,$=D,re=0;re<j.length;re++){var Ce=j[re];if(Ce.dataset.precedence===h)$=Ce;else if($!==D)break}$?$.parentNode.insertBefore(u,$.nextSibling):(h=x.nodeType===9?x.head:x,h.insertBefore(u,h.firstChild))}function zk(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.title==null&&(u.title=h.title)}function qk(u,h){u.crossOrigin==null&&(u.crossOrigin=h.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=h.referrerPolicy),u.integrity==null&&(u.integrity=h.integrity)}var Q1=null;function c7(u,h,x){if(Q1===null){var j=new Map,D=Q1=new Map;D.set(x,j)}else D=Q1,j=D.get(x),j||(j=new Map,D.set(x,j));if(j.has(u))return j;for(j.set(u,null),x=x.getElementsByTagName(u),D=0;D<x.length;D++){var $=x[D];if(!($[xe]||$[or]||u==="link"&&$.getAttribute("rel")==="stylesheet")&&$.namespaceURI!=="http://www.w3.org/2000/svg"){var re=$.getAttribute(h)||"";re=u+re;var Ce=j.get(re);Ce?Ce.push($):j.set(re,[$])}}return j}function d7(u,h,x){u=u.ownerDocument||u,u.head.insertBefore(x,h==="title"?u.querySelector("head > title"):null)}function Pse(u,h,x){if(x===1||h.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return u=h.disabled,typeof h.precedence=="string"&&u==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function u7(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function Lse(u,h,x,j){if(x.type==="stylesheet"&&(typeof j.media!="string"||matchMedia(j.media).matches!==!1)&&(x.state.loading&4)===0){if(x.instance===null){var D=B0(j.href),$=h.querySelector(yb(D));if($){h=$._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(u.count++,u=Z1.bind(u),h.then(u,u)),x.state.loading|=4,x.instance=$,zt($);return}$=h.ownerDocument||h,j=o7(j),(D=Xl.get(D))&&zk(j,D),$=$.createElement("link"),zt($);var re=$;re._p=new Promise(function(Ce,We){re.onload=Ce,re.onerror=We}),zi($,"link",j),x.instance=$}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(x,h),(h=x.state.preload)&&(x.state.loading&3)===0&&(u.count++,x=Z1.bind(u),h.addEventListener("load",x),h.addEventListener("error",x))}}var Uk=0;function Rse(u,h){return u.stylesheets&&u.count===0&&tw(u,u.stylesheets),0<u.count||0<u.imgCount?function(x){var j=setTimeout(function(){if(u.stylesheets&&tw(u,u.stylesheets),u.unsuspend){var $=u.unsuspend;u.unsuspend=null,$()}},6e4+h);0<u.imgBytes&&Uk===0&&(Uk=62500*gse());var D=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&tw(u,u.stylesheets),u.unsuspend)){var $=u.unsuspend;u.unsuspend=null,$()}},(u.imgBytes>Uk?50:800)+h);return u.unsuspend=x,function(){u.unsuspend=null,clearTimeout(j),clearTimeout(D)}}:null}function Z1(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)tw(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var ew=null;function tw(u,h){u.stylesheets=null,u.unsuspend!==null&&(u.count++,ew=new Map,h.forEach(Ise,u),ew=null,Z1.call(u))}function Ise(u,h){if(!(h.state.loading&4)){var x=ew.get(u);if(x)var j=x.get(null);else{x=new Map,ew.set(u,x);for(var D=u.querySelectorAll("link[data-precedence],style[data-precedence]"),$=0;$<D.length;$++){var re=D[$];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(x.set(re.dataset.precedence,re),j=re)}j&&x.set(null,j)}D=h.instance,re=D.getAttribute("data-precedence"),$=x.get(re)||j,$===j&&x.set(null,D),x.set(re,D),this.count++,j=Z1.bind(this),D.addEventListener("load",j),D.addEventListener("error",j),$?$.parentNode.insertBefore(D,$.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(D,u.firstChild)),h.state.loading|=4}}var wb={$$typeof:S,Provider:null,Consumer:null,_currentValue:z,_currentValue2:z,_threadCount:0};function Fse(u,h,x,j,D,$,re,Ce,We){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=St(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.hiddenUpdates=St(null),this.identifierPrefix=j,this.onUncaughtError=D,this.onCaughtError=$,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=We,this.incompleteTransitions=new Map}function f7(u,h,x,j,D,$,re,Ce,We,vt,Ot,Ht){return u=new Fse(u,h,x,re,We,vt,Ot,Ht,Ce),h=1,$===!0&&(h|=24),$=ki(3,null,null,h),u.current=$,$.stateNode=u,h=uh(),h.refCount++,u.pooledCache=h,h.refCount++,$.memoizedState={element:j,isDehydrated:x,cache:h},rr($),u}function h7(u){return u?(u=fi,u):fi}function m7(u,h,x,j,D,$){D=h7(D),j.context===null?j.context=D:j.pendingContext=D,j=$r(h),j.payload={element:x},$=$===void 0?null:$,$!==null&&(j.callback=$),x=dn(u,j,h),x!==null&&(sl(x,u,h),Jn(x,u,h))}function p7(u,h){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var x=u.retryLane;u.retryLane=x!==0&&x<h?x:h}}function Wk(u,h){p7(u,h),(u=u.alternate)&&p7(u,h)}function g7(u){if(u.tag===13||u.tag===31){var h=$c(u,67108864);h!==null&&sl(h,u,67108864),Wk(u,67108864)}}function x7(u){if(u.tag===13||u.tag===31){var h=vl();h=Ct(h);var x=$c(u,h);x!==null&&sl(x,u,h),Wk(u,h)}}var rw=!0;function $se(u,h,x,j){var D=q.T;q.T=null;var $=B.p;try{B.p=2,Vk(u,h,x,j)}finally{B.p=$,q.T=D}}function Hse(u,h,x,j){var D=q.T;q.T=null;var $=B.p;try{B.p=8,Vk(u,h,x,j)}finally{B.p=$,q.T=D}}function Vk(u,h,x,j){if(rw){var D=Gk(j);if(D===null)Ek(u,h,j,nw,x),y7(u,j);else if(zse(D,u,h,x,j))j.stopPropagation();else if(y7(u,j),h&4&&-1<Bse.indexOf(u)){for(;D!==null;){var $=cr(D);if($!==null)switch($.tag){case 3:if($=$.stateNode,$.current.memoizedState.isDehydrated){var re=Ie($.pendingLanes);if(re!==0){var Ce=$;for(Ce.pendingLanes|=2,Ce.entangledLanes|=2;re;){var We=1<<31-we(re);Ce.entanglements[1]|=We,re&=~We}Rd($),(Qn&6)===0&&($1=he()+500,pb(0))}}break;case 31:case 13:Ce=$c($,2),Ce!==null&&sl(Ce,$,2),B1(),Wk($,2)}if($=Gk(j),$===null&&Ek(u,h,j,nw,x),$===D)break;D=$}D!==null&&j.stopPropagation()}else Ek(u,h,j,null,x)}}function Gk(u){return u=Br(u),Yk(u)}var nw=null;function Yk(u){if(nw=null,u=Nt(u),u!==null){var h=i(u);if(h===null)u=null;else{var x=h.tag;if(x===13){if(u=o(h),u!==null)return u;u=null}else if(x===31){if(u=l(h),u!==null)return u;u=null}else if(x===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;u=null}else h!==u&&(u=null)}}return nw=u,null}function b7(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Qe()){case Ge:return 2;case mt:return 8;case Le:case _e:return 32;case qe:return 268435456;default:return 32}default:return 32}}var Kk=!1,Sh=null,kh=null,Ch=null,jb=new Map,Nb=new Map,_h=[],Bse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function y7(u,h){switch(u){case"focusin":case"focusout":Sh=null;break;case"dragenter":case"dragleave":kh=null;break;case"mouseover":case"mouseout":Ch=null;break;case"pointerover":case"pointerout":jb.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nb.delete(h.pointerId)}}function Sb(u,h,x,j,D,$){return u===null||u.nativeEvent!==$?(u={blockedOn:h,domEventName:x,eventSystemFlags:j,nativeEvent:$,targetContainers:[D]},h!==null&&(h=cr(h),h!==null&&g7(h)),u):(u.eventSystemFlags|=j,h=u.targetContainers,D!==null&&h.indexOf(D)===-1&&h.push(D),u)}function zse(u,h,x,j,D){switch(h){case"focusin":return Sh=Sb(Sh,u,h,x,j,D),!0;case"dragenter":return kh=Sb(kh,u,h,x,j,D),!0;case"mouseover":return Ch=Sb(Ch,u,h,x,j,D),!0;case"pointerover":var $=D.pointerId;return jb.set($,Sb(jb.get($)||null,u,h,x,j,D)),!0;case"gotpointercapture":return $=D.pointerId,Nb.set($,Sb(Nb.get($)||null,u,h,x,j,D)),!0}return!1}function v7(u){var h=Nt(u.target);if(h!==null){var x=i(h);if(x!==null){if(h=x.tag,h===13){if(h=o(x),h!==null){u.blockedOn=h,yn(u.priority,function(){x7(x)});return}}else if(h===31){if(h=l(x),h!==null){u.blockedOn=h,yn(u.priority,function(){x7(x)});return}}else if(h===3&&x.stateNode.current.memoizedState.isDehydrated){u.blockedOn=x.tag===3?x.stateNode.containerInfo:null;return}}}u.blockedOn=null}function aw(u){if(u.blockedOn!==null)return!1;for(var h=u.targetContainers;0<h.length;){var x=Gk(u.nativeEvent);if(x===null){x=u.nativeEvent;var j=new x.constructor(x.type,x);Kt=j,x.target.dispatchEvent(j),Kt=null}else return h=cr(x),h!==null&&g7(h),u.blockedOn=x,!1;h.shift()}return!0}function w7(u,h,x){aw(u)&&x.delete(h)}function qse(){Kk=!1,Sh!==null&&aw(Sh)&&(Sh=null),kh!==null&&aw(kh)&&(kh=null),Ch!==null&&aw(Ch)&&(Ch=null),jb.forEach(w7),Nb.forEach(w7)}function sw(u,h){u.blockedOn===h&&(u.blockedOn=null,Kk||(Kk=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qse)))}var iw=null;function j7(u){iw!==u&&(iw=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){iw===u&&(iw=null);for(var h=0;h<u.length;h+=3){var x=u[h],j=u[h+1],D=u[h+2];if(typeof j!="function"){if(Yk(j||x)===null)continue;break}var $=cr(x);$!==null&&(u.splice(h,3),h-=3,GS($,{pending:!0,data:D,method:x.method,action:j},j,D))}}))}function q0(u){function h(We){return sw(We,u)}Sh!==null&&sw(Sh,u),kh!==null&&sw(kh,u),Ch!==null&&sw(Ch,u),jb.forEach(h),Nb.forEach(h);for(var x=0;x<_h.length;x++){var j=_h[x];j.blockedOn===u&&(j.blockedOn=null)}for(;0<_h.length&&(x=_h[0],x.blockedOn===null);)v7(x),x.blockedOn===null&&_h.shift();if(x=(u.ownerDocument||u).$$reactFormReplay,x!=null)for(j=0;j<x.length;j+=3){var D=x[j],$=x[j+1],re=D[Ur]||null;if(typeof $=="function")re||j7(x);else if(re){var Ce=null;if($&&$.hasAttribute("formAction")){if(D=$,re=$[Ur]||null)Ce=re.formAction;else if(Yk(D)!==null)continue}else Ce=re.action;typeof Ce=="function"?x[j+1]=Ce:(x.splice(j,3),j-=3),j7(x)}}}function N7(){function u($){$.canIntercept&&$.info==="react-transition"&&$.intercept({handler:function(){return new Promise(function(re){return D=re})},focusReset:"manual",scroll:"manual"})}function h(){D!==null&&(D(),D=null),j||setTimeout(x,20)}function x(){if(!j&&!navigation.transition){var $=navigation.currentEntry;$&&$.url!=null&&navigation.navigate($.url,{state:$.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var j=!1,D=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(x,100),function(){j=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),D!==null&&(D(),D=null)}}}function Jk(u){this._internalRoot=u}ow.prototype.render=Jk.prototype.render=function(u){var h=this._internalRoot;if(h===null)throw Error(n(409));var x=h.current,j=vl();m7(x,j,u,h,null,null)},ow.prototype.unmount=Jk.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var h=u.containerInfo;m7(u.current,2,null,u,null,null),B1(),h[Yr]=null}};function ow(u){this._internalRoot=u}ow.prototype.unstable_scheduleHydration=function(u){if(u){var h=pr();u={blockedOn:null,target:u,priority:h};for(var x=0;x<_h.length&&h!==0&&h<_h[x].priority;x++);_h.splice(x,0,u),x===0&&v7(u)}};var S7=e.version;if(S7!=="19.2.0")throw Error(n(527,S7,"19.2.0"));B.findDOMNode=function(u){var h=u._reactInternals;if(h===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=d(h),u=u!==null?f(u):null,u=u===null?null:u.stateNode,u};var Use={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lw.isDisabled&&lw.supportsFiber)try{ke=lw.inject(Use),Ue=lw}catch{}}return Cb.createRoot=function(u,h){if(!s(u))throw Error(n(299));var x=!1,j="",D=OL,$=EL,re=DL;return h!=null&&(h.unstable_strictMode===!0&&(x=!0),h.identifierPrefix!==void 0&&(j=h.identifierPrefix),h.onUncaughtError!==void 0&&(D=h.onUncaughtError),h.onCaughtError!==void 0&&($=h.onCaughtError),h.onRecoverableError!==void 0&&(re=h.onRecoverableError)),h=f7(u,1,!1,null,null,x,j,null,D,$,re,N7),u[Yr]=h.current,Ok(u),new Jk(h)},Cb.hydrateRoot=function(u,h,x){if(!s(u))throw Error(n(299));var j=!1,D="",$=OL,re=EL,Ce=DL,We=null;return x!=null&&(x.unstable_strictMode===!0&&(j=!0),x.identifierPrefix!==void 0&&(D=x.identifierPrefix),x.onUncaughtError!==void 0&&($=x.onUncaughtError),x.onCaughtError!==void 0&&(re=x.onCaughtError),x.onRecoverableError!==void 0&&(Ce=x.onRecoverableError),x.formState!==void 0&&(We=x.formState)),h=f7(u,1,!0,h,x??null,j,D,We,$,re,Ce,N7),h.context=h7(null),x=h.current,j=vl(),j=Ct(j),D=$r(j),D.callback=null,dn(x,D,j),x=j,h.current.lanes=x,Ee(h,x),Rd(h),u[Yr]=h.current,Ok(u),new ow(h)},Cb.version="19.2.0",Cb}var P7;function rie(){if(P7)return Zk.exports;P7=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Zk.exports=tie(),Zk.exports}var nie=rie();const aie=Yn(nie);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var L7="popstate";function sie(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return t6("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:$y(s)}return oie(e,r,null,t)}function ps(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function iu(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function iie(){return Math.random().toString(36).substring(2,10)}function R7(t,e){return{usr:t.state,key:t.key,idx:e}}function t6(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Cx(e):e,state:r,key:e&&e.key||n||iie()}}function $y({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Cx(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function oie(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,d=f();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function f(){return(o.state||{idx:null}).idx}function m(){l="POP";let y=f(),N=y==null?null:y-d;d=y,c&&c({action:l,location:w.location,delta:N})}function p(y,N){l="PUSH";let k=t6(w.location,y,N);d=f()+1;let S=R7(k,d),A=w.createHref(k);try{o.pushState(S,"",A)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(A)}i&&c&&c({action:l,location:w.location,delta:1})}function g(y,N){l="REPLACE";let k=t6(w.location,y,N);d=f();let S=R7(k,d),A=w.createHref(k);o.replaceState(S,"",A),i&&c&&c({action:l,location:w.location,delta:0})}function v(y){return lie(y)}let w={get action(){return l},get location(){return t(s,o)},listen(y){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(L7,m),c=y,()=>{s.removeEventListener(L7,m),c=null}},createHref(y){return e(s,y)},createURL:v,encodeLocation(y){let N=v(y);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:p,replace:g,go(y){return o.go(y)}};return w}function lie(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ps(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:$y(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function zG(t,e,r="/"){return cie(t,e,r,!1)}function cie(t,e,r,n){let s=typeof e=="string"?Cx(e):e,i=Mf(s.pathname||"/",r);if(i==null)return null;let o=qG(t);die(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=wie(i);l=yie(o[c],d,n)}return l}function qG(t,e=[],r=[],n="",s=!1){let i=(o,l,c=s,d)=>{let f={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;ps(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let m=bf([n,f.relativePath]),p=r.concat(f);o.children&&o.children.length>0&&(ps(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),qG(o.children,e,p,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:xie(m,o.index),routesMeta:p})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of UG(o.path))i(o,l,!0,d)}),e}function UG(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=UG(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function die(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:bie(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var uie=/^:[\w-]+$/,fie=3,hie=2,mie=1,pie=10,gie=-2,I7=t=>t==="*";function xie(t,e){let r=t.split("/"),n=r.length;return r.some(I7)&&(n+=gie),e&&(n+=hie),r.filter(s=>!I7(s)).reduce((s,i)=>s+(uie.test(i)?fie:i===""?mie:pie),n)}function bie(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function yie(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,f=i==="/"?e:e.slice(i.length)||"/",m=X2({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),p=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=X2({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:bf([i,m.pathname]),pathnameBase:kie(bf([i,m.pathnameBase])),route:p}),m.pathnameBase!=="/"&&(i=bf([i,m.pathnameBase]))}return o}function X2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=vie(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:m},p)=>{if(f==="*"){let v=l[p]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const g=l[p];return m&&!g?d[f]=void 0:d[f]=(g||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function vie(t,e=!1,r=!0){iu(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function wie(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return iu(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Mf(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function jie(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Cx(t):t;return{pathname:r?r.startsWith("/")?r:Nie(r,e):e,search:Cie(n),hash:_ie(s)}}function Nie(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function nC(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function Sie(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function WG(t){let e=Sie(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function VG(t,e,r,n=!1){let s;typeof t=="string"?s=Cx(t):(s={...t},ps(!s.pathname||!s.pathname.includes("?"),nC("?","pathname","search",s)),ps(!s.pathname||!s.pathname.includes("#"),nC("#","pathname","hash",s)),ps(!s.search||!s.search.includes("#"),nC("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),m-=1;s.pathname=p.join("/")}l=m>=0?e[m]:"/"}let c=jie(s,l),d=o&&o!=="/"&&o.endsWith("/"),f=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var bf=t=>t.join("/").replace(/\/\/+/g,"/"),kie=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Cie=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_ie=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Aie(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var GG=["POST","PUT","PATCH","DELETE"];new Set(GG);var Tie=["GET",...GG];new Set(Tie);var _x=b.createContext(null);_x.displayName="DataRouter";var vN=b.createContext(null);vN.displayName="DataRouterState";b.createContext(!1);var YG=b.createContext({isTransitioning:!1});YG.displayName="ViewTransition";var Mie=b.createContext(new Map);Mie.displayName="Fetchers";var Oie=b.createContext(null);Oie.displayName="Await";var uu=b.createContext(null);uu.displayName="Navigation";var Vv=b.createContext(null);Vv.displayName="Location";var md=b.createContext({outlet:null,matches:[],isDataRoute:!1});md.displayName="Route";var sE=b.createContext(null);sE.displayName="RouteError";function Eie(t,{relative:e}={}){ps(Gv(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=b.useContext(uu),{hash:s,pathname:i,search:o}=Yv(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:bf([r,i])),n.createHref({pathname:l,search:o,hash:s})}function Gv(){return b.useContext(Vv)!=null}function Ws(){return ps(Gv(),"useLocation() may be used only in the context of a <Router> component."),b.useContext(Vv).location}var KG="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function JG(t){b.useContext(uu).static||b.useLayoutEffect(t)}function tr(){let{isDataRoute:t}=b.useContext(md);return t?Gie():Die()}function Die(){ps(Gv(),"useNavigate() may be used only in the context of a <Router> component.");let t=b.useContext(_x),{basename:e,navigator:r}=b.useContext(uu),{matches:n}=b.useContext(md),{pathname:s}=Ws(),i=JSON.stringify(WG(n)),o=b.useRef(!1);return JG(()=>{o.current=!0}),b.useCallback((c,d={})=>{if(iu(o.current,KG),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=VG(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bf([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,i,s,t])}var Pie=b.createContext(null);function Lie(t){let e=b.useContext(md).outlet;return b.useMemo(()=>e&&b.createElement(Pie.Provider,{value:t},e),[e,t])}function si(){let{matches:t}=b.useContext(md),e=t[t.length-1];return e?e.params:{}}function Yv(t,{relative:e}={}){let{matches:r}=b.useContext(md),{pathname:n}=Ws(),s=JSON.stringify(WG(r));return b.useMemo(()=>VG(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function Rie(t,e){return XG(t,e)}function XG(t,e,r,n,s){var k;ps(Gv(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=b.useContext(uu),{matches:o}=b.useContext(md),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",f=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";QG(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let p=Ws(),g;if(e){let S=typeof e=="string"?Cx(e):e;ps(f==="/"||((k=S.pathname)==null?void 0:k.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${S.pathname}" was given in the \`location\` prop.`),g=S}else g=p;let v=g.pathname||"/",w=v;if(f!=="/"){let S=f.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(S.length).join("/")}let y=zG(t,{pathname:w});iu(m||y!=null,`No routes matched location "${g.pathname}${g.search}${g.hash}" `),iu(y==null||y[y.length-1].route.element!==void 0||y[y.length-1].route.Component!==void 0||y[y.length-1].route.lazy!==void 0,`Matched leaf route at location "${g.pathname}${g.search}${g.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=Bie(y&&y.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:bf([f,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?f:bf([f,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,s);return e&&N?b.createElement(Vv.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...g},navigationType:"POP"}},N):N}function Iie(){let t=Vie(),e=Aie(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=b.createElement(b.Fragment,null,b.createElement("p",null,"💿 Hey developer 👋"),b.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",b.createElement("code",{style:i},"ErrorBoundary")," or"," ",b.createElement("code",{style:i},"errorElement")," prop on your route.")),b.createElement(b.Fragment,null,b.createElement("h2",null,"Unexpected Application Error!"),b.createElement("h3",{style:{fontStyle:"italic"}},e),r?b.createElement("pre",{style:s},r):null,o)}var Fie=b.createElement(Iie,null),$ie=class extends b.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?b.createElement(md.Provider,{value:this.props.routeContext},b.createElement(sE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function Hie({routeContext:t,match:e,children:r}){let n=b.useContext(_x);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),b.createElement(md.Provider,{value:t},r)}function Bie(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);ps(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let f=i[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=d),f.route.id){let{loaderData:m,errors:p}=r,g=f.route.loader&&!m.hasOwnProperty(f.route.id)&&(!p||p[f.route.id]===void 0);if(f.route.lazy||g){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,f,m)=>{let p,g=!1,v=null,w=null;r&&(p=o&&f.route.id?o[f.route.id]:void 0,v=f.route.errorElement||Fie,l&&(c<0&&m===0?(QG("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),g=!0,w=null):c===m&&(g=!0,w=f.route.hydrateFallbackElement||null)));let y=e.concat(i.slice(0,m+1)),N=()=>{let k;return p?k=v:g?k=w:f.route.Component?k=b.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=d,b.createElement(Hie,{match:f,routeContext:{outlet:d,matches:y,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?b.createElement($ie,{location:r.location,revalidation:r.revalidation,component:v,error:p,children:N(),routeContext:{outlet:null,matches:y,isDataRoute:!0},unstable_onError:n}):N()},null)}function iE(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function zie(t){let e=b.useContext(_x);return ps(e,iE(t)),e}function qie(t){let e=b.useContext(vN);return ps(e,iE(t)),e}function Uie(t){let e=b.useContext(md);return ps(e,iE(t)),e}function oE(t){let e=Uie(t),r=e.matches[e.matches.length-1];return ps(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function Wie(){return oE("useRouteId")}function Vie(){var n;let t=b.useContext(sE),e=qie("useRouteError"),r=oE("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Gie(){let{router:t}=zie("useNavigate"),e=oE("useNavigate"),r=b.useRef(!1);return JG(()=>{r.current=!0}),b.useCallback(async(s,i={})=>{iu(r.current,KG),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var F7={};function QG(t,e,r){!e&&!F7[t]&&(F7[t]=!0,iu(!1,r))}b.memo(Yie);function Yie({routes:t,future:e,state:r,unstable_onError:n}){return XG(t,void 0,r,n,e)}function Kie(t){return Lie(t.context)}function Wt(t){ps(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Jie({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){ps(!Gv(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=b.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Cx(r));let{pathname:c="/",search:d="",hash:f="",state:m=null,key:p="default"}=r,g=b.useMemo(()=>{let v=Mf(c,o);return v==null?null:{location:{pathname:v,search:d,hash:f,state:m,key:p},navigationType:n}},[o,c,d,f,m,p,n]);return iu(g!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${f}" because it does not start with the basename, so the <Router> won't render anything.`),g==null?null:b.createElement(uu.Provider,{value:l},b.createElement(Vv.Provider,{children:e,value:g}))}function Xie({children:t,location:e}){return Rie(r6(t),e)}function r6(t,e=[]){let r=[];return b.Children.forEach(t,(n,s)=>{if(!b.isValidElement(n))return;let i=[...e,s];if(n.type===b.Fragment){r.push.apply(r,r6(n.props.children,i));return}ps(n.type===Wt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ps(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=r6(n.props.children,i)),r.push(o)}),r}var b2="get",y2="application/x-www-form-urlencoded";function wN(t){return t!=null&&typeof t.tagName=="string"}function Qie(t){return wN(t)&&t.tagName.toLowerCase()==="button"}function Zie(t){return wN(t)&&t.tagName.toLowerCase()==="form"}function eoe(t){return wN(t)&&t.tagName.toLowerCase()==="input"}function toe(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function roe(t,e){return t.button===0&&(!e||e==="_self")&&!toe(t)}var dw=null;function noe(){if(dw===null)try{new FormData(document.createElement("form"),0),dw=!1}catch{dw=!0}return dw}var aoe=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function aC(t){return t!=null&&!aoe.has(t)?(iu(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${y2}"`),null):t}function soe(t,e){let r,n,s,i,o;if(Zie(t)){let l=t.getAttribute("action");n=l?Mf(l,e):null,r=t.getAttribute("method")||b2,s=aC(t.getAttribute("enctype"))||y2,i=new FormData(t)}else if(Qie(t)||eoe(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?Mf(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||b2,s=aC(t.getAttribute("formenctype"))||aC(l.getAttribute("enctype"))||y2,i=new FormData(l,t),!noe()){let{name:d,type:f,value:m}=t;if(f==="image"){let p=d?`${d}.`:"";i.append(`${p}x`,"0"),i.append(`${p}y`,"0")}else d&&i.append(d,m)}}else{if(wN(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=b2,n=null,s=y2,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function lE(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ioe(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&Mf(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function ooe(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function loe(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function coe(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await ooe(i,r);return o.links?o.links():[]}return[]}));return hoe(n.flat(1).filter(loe).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function $7(t,e,r,n,s,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var f;return r[d].pathname!==c.pathname||((f=r[d].route.path)==null?void 0:f.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function doe(t,e,{includeHydrateFallback:r}={}){return uoe(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function uoe(t){return[...new Set(t)]}function foe(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function hoe(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(foe(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function ZG(){let t=b.useContext(_x);return lE(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function moe(){let t=b.useContext(vN);return lE(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var cE=b.createContext(void 0);cE.displayName="FrameworkContext";function eY(){let t=b.useContext(cE);return lE(t,"You must render this element inside a <HydratedRouter> element"),t}function poe(t,e){let r=b.useContext(cE),[n,s]=b.useState(!1),[i,o]=b.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:m}=e,p=b.useRef(null);b.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=N=>{N.forEach(k=>{o(k.isIntersecting)})},y=new IntersectionObserver(w,{threshold:.5});return p.current&&y.observe(p.current),()=>{y.disconnect()}}},[t]),b.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let g=()=>{s(!0)},v=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,p,{}]:[i,p,{onFocus:_b(l,g),onBlur:_b(c,v),onMouseEnter:_b(d,g),onMouseLeave:_b(f,v),onTouchStart:_b(m,g)}]:[!1,p,{}]}function _b(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function goe({page:t,...e}){let{router:r}=ZG(),n=b.useMemo(()=>zG(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?b.createElement(boe,{page:t,matches:n,...e}):null}function xoe(t){let{manifest:e,routeModules:r}=eY(),[n,s]=b.useState([]);return b.useEffect(()=>{let i=!1;return coe(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function boe({page:t,matches:e,...r}){let n=Ws(),{manifest:s,routeModules:i}=eY(),{basename:o}=ZG(),{loaderData:l,matches:c}=moe(),d=b.useMemo(()=>$7(t,e,c,s,n,"data"),[t,e,c,s,n]),f=b.useMemo(()=>$7(t,e,c,s,n,"assets"),[t,e,c,s,n]),m=b.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let v=new Set,w=!1;if(e.forEach(N=>{var S;let k=s.routes[N.route.id];!k||!k.hasLoader||(!d.some(A=>A.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||k.hasClientLoader?w=!0:v.add(N.route.id))}),v.size===0)return[];let y=ioe(t,o,"data");return w&&v.size>0&&y.searchParams.set("_routes",e.filter(N=>v.has(N.route.id)).map(N=>N.route.id).join(",")),[y.pathname+y.search]},[o,l,n,s,d,e,t,i]),p=b.useMemo(()=>doe(f,s),[f,s]),g=xoe(f);return b.createElement(b.Fragment,null,m.map(v=>b.createElement("link",{key:v,rel:"prefetch",as:"fetch",href:v,...r})),p.map(v=>b.createElement("link",{key:v,rel:"modulepreload",href:v,...r})),g.map(({key:v,link:w})=>b.createElement("link",{key:v,nonce:r.nonce,...w})))}function yoe(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var tY=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{tY&&(window.__reactRouterVersion="7.9.3")}catch{}function voe({basename:t,children:e,window:r}){let n=b.useRef();n.current==null&&(n.current=sie({window:r,v5Compat:!0}));let s=n.current,[i,o]=b.useState({action:s.action,location:s.location}),l=b.useCallback(c=>{b.startTransition(()=>o(c))},[o]);return b.useLayoutEffect(()=>s.listen(l),[s,l]),b.createElement(Jie,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var rY=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,sm=b.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:f,viewTransition:m,...p},g){let{basename:v}=b.useContext(uu),w=typeof d=="string"&&rY.test(d),y,N=!1;if(typeof d=="string"&&w&&(y=d,tY))try{let R=new URL(window.location.href),F=d.startsWith("//")?new URL(R.protocol+d):new URL(d),E=Mf(F.pathname,v);F.origin===R.origin&&E!=null?d=E+F.search+F.hash:N=!0}catch{iu(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=Eie(d,{relative:s}),[S,A,_]=poe(n,p),O=Soe(d,{replace:o,state:l,target:c,preventScrollReset:f,relative:s,viewTransition:m});function P(R){e&&e(R),R.defaultPrevented||O(R)}let I=b.createElement("a",{...p,..._,href:y||k,onClick:N||i?e:P,ref:yoe(g,A),target:c,"data-discover":!w&&r==="render"?"true":void 0});return S&&!w?b.createElement(b.Fragment,null,I,b.createElement(goe,{page:k})):I});sm.displayName="Link";var woe=b.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},f){let m=Yv(o,{relative:d.relative}),p=Ws(),g=b.useContext(vN),{navigator:v,basename:w}=b.useContext(uu),y=g!=null&&Toe(m)&&l===!0,N=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,k=p.pathname,S=g&&g.navigation&&g.navigation.location?g.navigation.location.pathname:null;r||(k=k.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&w&&(S=Mf(S,w)||S);const A=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=k===N||!s&&k.startsWith(N)&&k.charAt(A)==="/",O=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),P={isActive:_,isPending:O,isTransitioning:y},I=_?e:void 0,R;typeof n=="function"?R=n(P):R=[n,_?"active":null,O?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let F=typeof i=="function"?i(P):i;return b.createElement(sm,{...d,"aria-current":I,className:R,ref:f,style:F,to:o,viewTransition:l},typeof c=="function"?c(P):c)});woe.displayName="NavLink";var joe=b.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=b2,action:l,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:m,...p},g)=>{let v=_oe(),w=Aoe(l,{relative:d}),y=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&rY.test(l),k=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let A=S.nativeEvent.submitter,_=(A==null?void 0:A.getAttribute("formmethod"))||o;v(A||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:d,preventScrollReset:f,viewTransition:m})};return b.createElement("form",{ref:g,method:y,action:w,onSubmit:n?c:k,...p,"data-discover":!N&&t==="render"?"true":void 0})});joe.displayName="Form";function Noe(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function nY(t){let e=b.useContext(_x);return ps(e,Noe(t)),e}function Soe(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=tr(),c=Ws(),d=Yv(t,{relative:i});return b.useCallback(f=>{if(roe(f,e)){f.preventDefault();let m=r!==void 0?r:$y(c)===$y(d);l(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,n,e,t,s,i,o])}var koe=0,Coe=()=>`__${String(++koe)}__`;function _oe(){let{router:t}=nY("useSubmit"),{basename:e}=b.useContext(uu),r=Wie();return b.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=soe(n,e);if(s.navigate===!1){let f=s.fetcherKey||Coe();await t.fetch(f,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function Aoe(t,{relative:e}={}){let{basename:r}=b.useContext(uu),n=b.useContext(md);ps(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...Yv(t||".",{relative:e})},o=Ws();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(f=>f==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let f=l.toString();i.search=f?`?${f}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:bf([r,i.pathname])),$y(i)}function Toe(t,{relative:e}={}){let r=b.useContext(YG);ps(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=nY("useViewTransitionState"),s=Yv(t,{relative:e});if(!r.isTransitioning)return!1;let i=Mf(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Mf(r.nextLocation.pathname,n)||r.nextLocation.pathname;return X2(s.pathname,o)!=null||X2(s.pathname,i)!=null}var dE=BG();const aY=Yn(dE),H7=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function Moe(t,e){var s,i,o,l,c,d,f,m,p,g,v,w,y,N,k,S,A,_,O,P,I,R,F,E,M,H,V;const r=((s=t.stoptime)==null?void 0:s.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(G=>String(G.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(d=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(G=>String(G.id)===String(t.itemtrouble_id)))!=null&&d.name,(f=t.jenisaktifitas)!=null&&f.name||(p=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(G=>String(G.id)===String(t.jenisaktifitas_id)))!=null&&p.name,(g=t.kegiatan)!=null&&g.name||(w=(v=e==null?void 0:e.kegiatans)==null?void 0:v.data.find(G=>String(G.id)===String(t.kegiatan_id)))!=null&&w.name;const n=((y=t.unitsp)==null?void 0:y.name)||((k=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(G=>String(G.id)===String(t.unitsp_id)))==null?void 0:k.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((A=t.group)==null?void 0:A.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((O=t.mesin)==null?void 0:O.name)||"-",stopJam:((P=t.startstop)==null?void 0:P.stop_time_hh)??null,stopMenit:((I=t.startstop)==null?void 0:I.stop_time_mm)??null,startJam:((R=t.startstop)==null?void 0:R.start_time_hh)??null,startMenit:((F=t.startstop)==null?void 0:F.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((E=t.itemtrouble)==null?void 0:E.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((M=t.jenisaktifitas)==null?void 0:M.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((H=t.jenisaktifitas)==null?void 0:H.name)||"-",kegiatan:((V=t.kegiatan)==null?void 0:V.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Ab=HG(),sY=b.createContext(null),zm=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,role:t.role,customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null}},Ooe=({children:t})=>{const[e,r]=b.useState(null),[n,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState(null),[d,f]=b.useState(!0),[m,p]=b.useState(!0),[g,v]=b.useState(null),w=tr(),y=b.useRef(!1),N=b.useCallback(async()=>{o(!0);try{const oe=n||localStorage.getItem("token");oe&&await fetch(`${Ab.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),r(null),c(null),o(!1),w("/login")}},[n,w]),k=b.useCallback(async()=>{if(y.current)return new Promise(ae=>{const Be=setInterval(()=>{y.current||(clearInterval(Be),ae(localStorage.getItem("token")))},100)});y.current=!0;const oe=localStorage.getItem("refreshToken");if(!oe)return await N(),null;try{const ae=await fetch(`${Ab.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${oe}`},body:JSON.stringify({refresh_token:oe})});if(!ae.ok){if(ae.status===401)return await N(),null;throw new Error("Token refresh failed")}const Be=await ae.json(),Kt=Be.access_token,Br=Be.refresh_token||oe;return localStorage.setItem("token",Kt),localStorage.setItem("refreshToken",Br),s(Kt),r(Zt=>Zt?{...Zt,access_token:Kt,refresh_token:Br}:null),Kt}catch{return await N(),null}finally{y.current=!1}},[N]),S=b.useCallback(async(oe,ae={})=>{let Be=n||localStorage.getItem("token");const Kt=async Br=>{var wo;if(!Br)throw new Error("No token found");const Zt=new Headers(ae.headers||{});ae.body instanceof FormData||((wo=Zt.get("Content-Type"))!=null&&wo.includes("application/json")||!Zt.has("Content-Type"))&&Zt.set("Content-Type","application/json"),Zt.set("Authorization",`Bearer ${Br}`);const ss=await fetch(`${Ab.envVariables.VITE_REACT_API_URL}${oe}`,{...ae,headers:Zt});if(ss.status===204||ss.statusText==="No Content")return null;if(!ss.ok){let Cc;try{Cc=await ss.json()}catch{Cc=await ss.text()}throw new Error(Cc.message||`HTTP error! Status: ${ss.status}`)}let Zi;try{return Zi=await ss.text(),Zi?JSON.parse(Zi):null}catch{return Zi}};try{return await Kt(Be)}catch(Br){if(Br instanceof Error&&Br.message.includes("status: 401")){const Zt=await k();if(Zt)return await Kt(Zt)}throw Br}},[n,k]),A=b.useCallback(async()=>{const oe=await S("/user/profile?includes_trashed=true"),ae=zm(oe);return r(ae),localStorage.setItem("user",JSON.stringify(ae)),ae},[S]),_=b.useCallback(async()=>{const oe=localStorage.getItem("token"),ae=localStorage.getItem("user"),Be=localStorage.getItem("refreshToken");if(oe&&Be){s(oe);try{if(ae){const Br=JSON.parse(ae);r(zm(Br))}const Kt=await A();r(Kt)}catch{await N()}}},[A,N]),O=b.useCallback(async()=>{const[oe,ae,Be,Kt,Br,Zt,ss,Zi,wo]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:oe,shifts:Be,groups:ae,stoptimes:wo,units:Kt,itemtroubles:Zt,jenisaktivitas:ss,kegiatans:Zi,unitspareparts:Br}},[S]),P=b.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(oe){throw oe}},[S]),I=b.useCallback(async oe=>{const ae=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${oe.name}</Name>
                      <Category>${oe.category}</Category>
                      <Location>${oe.location}</Location>
                      <PurchaseDate>${oe.purchase_date}</PurchaseDate>
                      <Description>${oe.description}</Description>
                      <Type>${oe.type||""}</Type>
                      <Make>${oe.make||""}</Make>
                      <Model>${oe.model||""}</Model>
                      <Status>${oe.status||""}</Status>
                      <LastMaintenance ${oe.last_maintenance?"":'xsi:nil="true"'}>${oe.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${oe.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${oe.work_orders||""}</WorkOrders>
                      <Health>${oe.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const Be=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:ae});if(console.log("ERP SOAP Add Asset Response:",Be),typeof Be=="string"&&Be.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Be}catch(Be){throw console.error("Error adding asset:",Be),Be}},[S]),R=b.useCallback(async oe=>{const ae=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${oe.id}</assetId>
            <assetName>${oe.name}</assetName>
            <assetCategory>${oe.category}</assetCategory>
            <assetLocation>${oe.location}</assetLocation>
            <purchaseDate>${oe.purchase_date}</purchaseDate>
            <description>${oe.description}</description>
            <assetType>${oe.type||""}</assetType>
            <assetMake>${oe.make||""}</assetMake>
            <assetModel>${oe.model||""}</assetModel>
            <assetStatus>${oe.status||""}</assetStatus>
            <lastMaintenance>${oe.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${oe.next_maintenance||""}</nextMaintenance>
            <workOrders>${oe.work_orders||""}</workOrders>
            <health>${oe.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const Be=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:ae});if(console.log("ERP SOAP Edit Asset Response:",Be),typeof Be=="string"&&Be.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Be}catch(Be){throw console.error("Error editing asset:",Be),Be}},[S]),F=b.useCallback(async oe=>{const ae=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${oe}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const Be=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:ae});if(console.log("ERP SOAP Delete Asset Response:",Be),typeof Be=="string"&&Be.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return Be}catch(Be){throw console.error("Error deleting asset:",Be),Be}},[S]),E=b.useCallback(async()=>{try{const oe=await S("/history?includes_trashed=true");return oe&&oe.history&&Array.isArray(oe.history)?oe.history:Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected audit trail response format:",oe),[])}catch(oe){return console.error("Failed to fetch audit trail:",oe),[]}},[S]),M=b.useCallback(oe=>{var Be;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(oe))return oe.some(Kt=>{var Zt;const Br=/^\d+$/.test(Kt)?H7(Kt):Kt;return Br?(Zt=e.permissions)==null?void 0:Zt.includes(Br):!1});const ae=/^\d+$/.test(oe)?H7(oe):oe;return ae&&((Be=e.permissions)==null?void 0:Be.includes(ae))||!1},[e]);b.useEffect(()=>{(async()=>{p(!0);try{if(await _(),n){const ae=await O();c(ae)}}catch{await N()}finally{p(!1),f(!1)}})()},[n,_,O,N]);const H=async(oe,ae,Be,Kt,Br,Zt,ss)=>{const Zi=await fetch(`${Ab.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe,nik:Be,email:ae,password:Kt,department_id:Br,role_id:Zt||null,customPermissions:ss?ss.map(Number):[]})}),wo=await Zi.json();if(!Zi.ok)throw new Error(wo.message||"User creation failed");return wo},V=b.useCallback(async(oe,ae)=>{p(!0);try{const Be=await fetch(`${Ab.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:oe,password:ae})});if(!Be.ok){const Zt=await Be.json();throw new Error(Zt.message||"Login failed")}const Kt=await Be.json(),Br=zm({...Kt.user,access_token:Kt.access_token,refresh_token:Kt.refresh_token,permissions:Kt.user.permissions||Kt.user.allPermissions||[]});localStorage.setItem("token",Kt.access_token),localStorage.setItem("refreshToken",Kt.refresh_token),localStorage.setItem("user",JSON.stringify(Br)),s(Kt.access_token),r(Br);try{const Zt=await O();c(Zt)}catch{}w("/dashboard")}catch(Be){throw Be}finally{p(!1)}},[w,O]),G=b.useCallback(async oe=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),[S]),q=b.useCallback(async(oe="")=>{try{const ae=await S(oe?`/mhs?search=${encodeURIComponent(oe)}?includes_trashed=true`:"/mhs?includes_trashed=true"),Be=await O(),Kt=ae.data||ae;if(!Array.isArray(Kt))throw new Error("Invalid response format");return Kt.map(Br=>Moe(Br,Be))}catch{return[]}},[S,O]),B=b.useCallback(async oe=>await S(`/mhs/${oe}?includes_trashed=true`),[S]),z=b.useCallback(async(oe,ae)=>await S(`/mhs/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),[S]),X=b.useCallback(async oe=>await S(`/mhs/${oe}?includes_trashed=true`,{method:"DELETE"}),[S]),ee=b.useCallback(async(oe,ae)=>{const Be=new FormData;return Object.keys(oe).forEach(Br=>{const Zt=oe[Br];Zt!=null&&Be.append(Br,String(Zt))}),ae&&Be.append("attachment",ae),await S("/ayam?includes_trashed=true",{method:"POST",body:Be})},[S]),K=b.useCallback(async()=>{try{const oe=await S("/ayam?includes_trashed=true");return console.log("Raw work orders response:",oe),oe&&oe.success===!0&&Array.isArray(oe.data)?oe.data:Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected work orders response format:",oe),[])}catch(oe){return console.error("Failed to fetch work orders:",oe),[]}},[S]),W=b.useCallback(async oe=>{const ae=await S(`/ayam/${oe}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",ae),ae},[S]),J=b.useCallback(async(oe,ae)=>{if(!oe.id)throw new Error("Work order ID is required for update.");const Be=new FormData;return Be.append("_method","PUT"),Object.keys(oe).forEach(Br=>{const Zt=oe[Br];Zt!=null&&Be.append(Br,String(Zt))}),ae&&Be.append("attachment",ae),await S(`/ayam/${oe.id}?includes_trashed=true`,{method:"POST",body:Be})},[S]),Z=b.useCallback(async oe=>await S(`/ayam/${oe}?includes_trashed=true`,{method:"DELETE"}),[S]),ie=b.useCallback(async oe=>(await K()).filter(Be=>(Be.requester_id===parseInt(oe)||Be.assigned_to_id===parseInt(oe))&&(Be.handling_status==="New"||Be.handling_status==="Progress")),[K]),ue=b.useCallback(async(oe,ae)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:oe,new_password:ae,new_password_confirmation:ae})})},[S]),je=b.useCallback(async()=>{try{const oe=await S("/users?includes_trashed=true");let ae;return oe&&oe.success!==void 0?ae=oe.data||[]:Array.isArray(oe)?ae=oe:ae=[],ae.map(Be=>zm(Be))}catch(oe){return console.error("Failed to fetch users:",oe),[]}},[S]);b.useCallback(async oe=>{const ae=await S(`/users/${oe}?includes_trashed=true`);return zm(ae)},[S]);const ce=b.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(ae=>zm(ae)),[S]),le=b.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(ae=>({id:String(ae.id),name:ae.name,description:ae.description||`${ae.name} role`,permissions:ae.permissions.map(String),isSuperadmin:ae.name==="superadmin"})),[S]),pe=b.useCallback(async oe=>{const ae=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:oe.name,description:oe.description,permissions:oe.permissions.map(Number)})});return{id:String(ae.id),name:ae.name,description:ae.description,permissions:ae.permissions.map(String)}},[S]),$e=b.useCallback(async(oe,ae)=>{var Kt;const Be=await S(`/roles/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:ae.name,description:ae.description,permissions:(Kt=ae.permissions)==null?void 0:Kt.map(Number)})});return{id:String(Be.id),name:Be.name,description:Be.description,permissions:Be.permissions.map(String)}},[S]),de=b.useCallback(async oe=>{await S(`/roles/${oe}?includes_trashed=true`,{method:"DELETE"})},[S]),Se=b.useCallback(async(oe,ae)=>{const Be=await S(`/users/${oe}?includes_trashed=true`),Kt=await S(`/users/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:Be.name,nik:Be.nik,email:Be.email,department:Be.department,roleId:ae.roleId||null,customPermissions:ae.customPermissions||[]})});return zm(Kt)},[S]),te=b.useCallback(async oe=>{await S(`/users/${oe}?includes_trashed=true`,{method:"DELETE"})},[S]),se=b.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(oe){return console.error("Failed to fetch service groups:",oe),[]}},[S]),ut=b.useCallback(async oe=>{try{return(await S(`/service-groups/${oe}?includes_trashed=true`)).data}catch(ae){throw console.error(`Failed to fetch service group with id ${oe}:`,ae),ae}},[S]),dt=b.useCallback(async oe=>{try{const ae=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!ae)throw new Error("No response from server");if(ae.success===!1)throw new Error(ae.message||"Failed to create service group");const Be=ae.data||ae;return{id:Be.id,group_name:Be.group_name,group_description:Be.group_description}}catch(ae){throw console.error("Error adding service group:",ae),new Error(`Failed to add service group: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),De=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/service-groups/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Kt=Be.data||Be;return{id:Kt.id,group_name:Kt.group_name,group_description:Kt.group_description}}catch(Be){throw console.error(`Failed to update service group with id ${oe}:`,Be),new Error(`Failed to update service group: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),rt=b.useCallback(async oe=>{try{await S(`/service-groups/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete service group with id ${oe}:`,ae),new Error(`Failed to delete service group: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),wt=b.useCallback(async oe=>{try{const ae=await S("/service-catalogues?includes_trashed=true");console.log("Raw services response:",ae);let Be;return ae&&ae.data&&Array.isArray(ae.data)?Be=ae.data:Array.isArray(ae)?Be=ae:(console.warn("Unexpected services response format:",ae),Be=[]),console.log("Processed services data:",Be),Be}catch(ae){return console.error("Failed to fetch services:",ae),[]}},[S]),gt=b.useCallback(async oe=>{try{const ae=await S(`/service-catalogues?owner=${oe}&includes_trashed=true`);return ae.data||ae}catch(ae){return console.error("Failed to fetch services by owner:",ae),[]}},[S]),Rt=b.useCallback(async oe=>{try{const ae=await S("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),Be=ae.data||ae;return{id:Be.id,service_name:Be.service_name,service_description:Be.service_description,service_group:Be.service_group,priority:Be.priority,service_owner:Be.service_owner,sla:Be.sla,impact:Be.impact,created_at:Be.created_at,updated_at:Be.updated_at}}catch(ae){throw console.error("Error adding service catalogue:",ae),new Error(`Failed to add service catalogue: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),He=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/service-catalogues/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Kt=Be.data||Be;return{id:Kt.id,service_name:Kt.service_name,service_description:Kt.service_description,service_group:Kt.service_group,priority:Kt.priority,service_owner:Kt.service_owner,sla:Kt.sla,impact:Kt.impact,created_at:Kt.created_at,updated_at:Kt.updated_at}}catch(Be){throw console.error(`Failed to update service catalogue with id ${oe}:`,Be),new Error(`Failed to update service catalogue: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),he=b.useCallback(async oe=>{try{await S(`/service-catalogues/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete service catalogue with id ${oe}:`,ae),new Error(`Failed to delete service catalogue: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Qe=b.useCallback(oe=>{v(oe)},[]),Ge=b.useCallback(async()=>{try{const oe=await S("/department?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch departments:",oe),[]}},[S]),mt=b.useCallback(async oe=>(await S(`/department/${oe}?includes_trashed=true`)).data,[S]),Le=b.useCallback(async oe=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),[S]),_e=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/department/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Kt=Be.data||Be;return{id:Kt.id,name:Kt.name,head_id:Kt.head_id}}catch(Be){throw console.error(`Failed to update service group with id ${oe}:`,Be),new Error(`Failed to update service group: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),qe=b.useCallback(async oe=>{try{await S(`/department/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete service catalogue with id ${oe}:`,ae),new Error(`Failed to delete service catalogue: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),ge=b.useCallback(async()=>{try{const oe=await S("/stoptime?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected stop times response format:",oe),[])}catch(oe){return console.error("Failed to fetch stop times:",oe),[]}},[S]),Oe=b.useCallback(async oe=>{try{const ae=await S(`/stoptime/${oe}`);if(console.log("StopTimes by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch stop time with id ${oe}:`,ae),new Error(`Failed to fetch stop time: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),ke=b.useCallback(async oe=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding stop time:",ae),new Error(`Failed to add stop time: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ue=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/stoptime/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update stop time response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update stop time with id ${oe}:`,Be),new Error(`Failed to update stop time: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),Xe=b.useCallback(async oe=>{try{await S(`/stoptime/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete stop time with id ${oe}:`,ae),new Error(`Failed to delete stop time: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),we=b.useCallback(async()=>{try{const oe=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected jenis aktifitas response format:",oe),[])}catch(oe){return console.error("Failed to fetch jenis aktifitas:",oe),[]}},[S]),ye=b.useCallback(async oe=>{try{const ae=await S(`/jenisaktifitas/${oe}`);if(console.log("Jenis Aktifitas by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch jenis aktifitas with id ${oe}:`,ae),new Error(`Failed to fetch jenis aktifitas: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ke=b.useCallback(async oe=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding jenis aktifitas:",ae),new Error(`Failed to add jenis aktifitas: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),pt=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/jenisaktifitas/${oe}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update jenis aktifitas response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update jenis aktifitas with id ${oe}:`,Be),new Error(`Failed to update jenis aktifitas: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),tt=b.useCallback(async oe=>{try{await S(`/jenisaktifitas/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete jenis aktifitas with id ${oe}:`,ae),new Error(`Failed to delete jenis aktifitas: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Te=b.useCallback(async()=>{try{const oe=await S("/kegiatan?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected activity response format:",oe),[])}catch(oe){return console.error("Failed to fetch activity:",oe),[]}},[S]),ne=b.useCallback(async oe=>{try{const ae=await S(`/kegiatan/${oe}?includes_trashed=true`);if(console.log("Activity by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch activity with id ${oe}:`,ae),new Error(`Failed to fetch activity: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ie=b.useCallback(async oe=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding activity:",ae),new Error(`Failed to add activity: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ye=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/kegiatan/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update activity response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update activity with id ${oe}:`,Be),new Error(`Failed to update activity: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),st=b.useCallback(async oe=>{try{await S(`/kegiatan/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete activity with id ${oe}:`,ae),new Error(`Failed to delete activity: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),yt=b.useCallback(async()=>{try{const oe=await S("/itemtrouble?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected trouble item response format:",oe),[])}catch(oe){return console.error("Failed to fetch trouble item:",oe),[]}},[S]),ze=b.useCallback(async oe=>{try{const ae=await S(`/itemtrouble/${oe}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch trouble item with id ${oe}:`,ae),new Error(`Failed to fetch trouble item: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),St=b.useCallback(async oe=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding trouble item:",ae),new Error(`Failed to add trouble item: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ee=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/itemtrouble/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update trouble item response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update trouble item with id ${oe}:`,Be),new Error(`Failed to update trouble item: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),It=b.useCallback(async oe=>{try{await S(`/itemtrouble/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete trouble item with id ${oe}:`,ae),new Error(`Failed to delete trouble item: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Pt=b.useCallback(async()=>{try{const oe=await S("/unit?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected Work Unit response format:",oe),[])}catch(oe){return console.error("Failed to fetch Work Unit:",oe),[]}},[S]),Bt=b.useCallback(async oe=>{try{const ae=await S(`/unit/${oe}?includes_trashed=true`);if(console.log("Work Unit by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch work unit with id ${oe}:`,ae),new Error(`Failed to fetch work unit: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),ft=b.useCallback(async oe=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding work unit:",ae),new Error(`Failed to add work unit: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ct=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/unit/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update work unit response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update work unit with id ${oe}:`,Be),new Error(`Failed to update work unit: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),Mt=b.useCallback(async oe=>{try{await S(`/unit/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete work unit with id ${oe}:`,ae),new Error(`Failed to delete work unit: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),pr=b.useCallback(async()=>{try{const oe=await S("/group?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected Work Group response format:",oe),[])}catch(oe){return console.error("Failed to fetch Work Group:",oe),[]}},[S]),yn=b.useCallback(async oe=>{try{const ae=await S(`/group/${oe}?includes_trashed=true`);if(console.log("Work Group by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch work group with id ${oe}:`,ae),new Error(`Failed to fetch work group: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),vn=b.useCallback(async oe=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding work group:",ae),new Error(`Failed to add work group: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),or=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/group/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update work group response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update work group with id ${oe}:`,Be),new Error(`Failed to update work group: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),Ur=b.useCallback(async oe=>{try{await S(`/group/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete work group with id ${oe}:`,ae),new Error(`Failed to delete work group: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Yr=b.useCallback(async()=>{try{const oe=await S("/shift?includes_trashed=true");return Array.isArray(oe)?oe:oe&&Array.isArray(oe.data)?oe.data:(console.warn("Unexpected Work Shift response format:",oe),[])}catch(oe){return console.error("Failed to fetch Work Shift:",oe),[]}},[S]),jn=b.useCallback(async oe=>{try{const ae=await S(`/shift/${oe}?includes_trashed=true`);if(console.log("Work Shift by ID response:",ae),ae&&typeof ae=="object")return ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch work shift with id ${oe}:`,ae),new Error(`Failed to fetch work shift: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Ve=b.useCallback(async oe=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)})}catch(ae){throw console.error("Error adding work shift:",ae),new Error(`Failed to add work shift: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),it=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/shift/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});if(console.log("Update work shift response:",Be),Be&&typeof Be=="object")return Be.data?Be.data:Be;throw new Error("Invalid response format")}catch(Be){throw console.error(`Failed to update work shift with id ${oe}:`,Be),new Error(`Failed to update work shift: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),_t=b.useCallback(async oe=>{try{await S(`/shift/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete work shift with id ${oe}:`,ae),new Error(`Failed to delete work shift: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),xe=b.useCallback(async oe=>{try{const ae=await S(`/unit/${oe}?includes_trashed=true`);if(console.log("Unit by ID response:",ae),ae&&typeof ae=="object")return ae.success!==void 0&&ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch unit with id ${oe}:`,ae),new Error(`Failed to fetch unit: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),nt=b.useCallback(async oe=>{try{const ae=await S(`/mesin/${oe}?includes_trashed=true`);if(console.log("Mesin by ID response:",ae),ae&&typeof ae=="object")return ae.success!==void 0&&ae.data?ae.data:ae;throw new Error("Invalid response format")}catch(ae){throw console.error(`Failed to fetch mesin with id ${oe}:`,ae),new Error(`Failed to fetch mesin: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Nt=b.useCallback(async()=>{try{const oe=await S("/unit?includes_trashed=true");let ae=[];return Array.isArray(oe)?ae=oe:oe&&Array.isArray(oe.data)&&(ae=oe.data),await Promise.all(ae.map(async Kt=>{try{const Br=await S(`/unit/${Kt.id}?includes_trashed=true`);let Zt=Br;return Br&&Br.success!==void 0&&Br.data&&(Zt=Br.data),{id:Zt.id,name:Zt.name,created_at:Zt.created_at,updated_at:Zt.updated_at,deleted_at:Zt.deleted_at,mesin:Zt.mesin||[]}}catch(Br){return console.error(`Failed to get detail for unit ${Kt.id}:`,Br),{id:Kt.id,name:Kt.name,created_at:Kt.created_at,updated_at:Kt.updated_at,deleted_at:Kt.deleted_at,mesin:[]}}}))}catch(oe){return console.error("Failed to fetch units with machines:",oe),[]}},[S]),cr=b.useCallback(async()=>{try{const oe=await S("/interval?includes_trashed=true");let ae=[];Array.isArray(oe)?ae=oe:oe&&Array.isArray(oe.data)&&(ae=oe.data);const Be=await Nt(),Kt=await S("/mesin?includes_trashed=true");let Br=[];return Array.isArray(Kt)?Br=Kt:Kt&&Array.isArray(Kt.data)&&(Br=Kt.data),{unit:Be,mesin:Br,unitsWithMachines:Be,intervals:ae}}catch(oe){return console.error("Error fetching master monitoring data:",oe),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,Nt]),rn=b.useCallback(async()=>{try{const oe=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(oe))return oe;if(oe&&oe.success!==void 0){if(oe.success&&Array.isArray(oe.data))return oe.data;if(oe.success&&Array.isArray(oe.result))return oe.result}return oe&&Array.isArray(oe.data)?oe.data:oe&&Array.isArray(oe.result)?oe.result:(console.warn("Unexpected monitoring schedule response format:",oe),[])}catch(oe){throw console.error("Error fetching monitoring schedule:",oe),new Error(`Failed to fetch monitoring schedule: ${oe instanceof Error?oe.message:String(oe)}`)}},[S]),nr=b.useCallback(async oe=>{try{const ae=await S(`/monitoring-schedules/${oe}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",ae),ae&&ae.success!==void 0){if(ae.success&&ae.data)return ae.data;if(!ae.success)throw new Error(ae.message||"Failed to fetch monitoring schedule")}if(ae&&ae.id_monitoring_schedule)return ae;if(Array.isArray(ae)&&ae.length>0)return ae[0];throw new Error("Invalid response format")}catch(ae){if(console.error(`Failed to fetch monitoring schedule with id ${oe}:`,ae),ae instanceof Error){if(ae.message.includes("404"))throw new Error(`Monitoring schedule with id ${oe} not found`);if(ae.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),zt=b.useCallback(async oe=>{try{const ae=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});if(!ae)throw new Error("No response from server");if(ae.success===!1)throw new Error(ae.message||"Failed to create monitoring schedule");const Be=ae.data||ae.result||ae;if(!Be)throw new Error("Invalid response format");return Be}catch(ae){if(console.error("Error adding monitoring schedule:",ae),ae instanceof Error){if(ae.message.includes("401"))throw new Error("Unauthorized - Please login again");if(ae.message.includes("404"))throw new Error("Endpoint not found");if(ae.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),Nr=b.useCallback(async oe=>{try{const ae=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});return Array.isArray(ae)?ae:ae&&Array.isArray(ae.data)?ae.data:(console.warn("Unexpected response format from monitoring-activities POST:",ae),[])}catch(ae){throw console.error("Error adding monitoring activities:",ae),new Error(`Failed to add monitoring activities: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),jr=b.useCallback(async oe=>{try{const ae=oe.map(Kt=>({id_monitoring_activity:Kt.id,...Kt.data})),Be=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});return Array.isArray(Be)?Be:Be&&Array.isArray(Be.data)?Be.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",Be),[])}catch(ae){throw console.error("Error updating monitoring activities:",ae),new Error(`Failed to update monitoring activities: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),cn=b.useCallback(async oe=>{try{const ae=await S(`/mesin/${oe}?includes_trashed=true`);return console.log("Mesin detail response:",ae),ae&&ae.success!==void 0?ae.data:ae}catch(ae){throw console.error(`Failed to fetch mesin detail with id ${oe}:`,ae),new Error(`Failed to fetch mesin detail: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),ir=b.useCallback(async()=>{try{const oe=await S("/vendor?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch vendor:",oe),[]}},[S]),Kn=b.useCallback(async oe=>(await S(`/vendor/${oe}?includes_trashed=true`)).data,[S]),Er=b.useCallback(async oe=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),[S]),ii=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/vendor/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Kt=Be.data||Be;return{id:Kt.id,name:Kt.name,address:Kt.address,contact_person:Kt.contact_person,email:Kt.email,telp:Kt.telp,HP:Kt.HP}}catch(Be){throw console.error(`Failed to update vendor with id ${oe}:`,Be),new Error(`Failed to update vendor: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),ya=b.useCallback(async oe=>{try{await S(`/vendor/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete vendor with id ${oe}:`,ae),new Error(`Failed to delete vendor: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),va=b.useCallback(async()=>{try{const oe=await S("/approval-templates?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch approval templates:",oe),[]}},[S]),nn=b.useCallback(async oe=>await S(`/approval-templates/${oe}?includes_trashed=true`),[S]),Qr=b.useCallback(async oe=>{const ae=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});return ae.data||ae},[S]),Sn=b.useCallback(async(oe,ae)=>{const Be=await S(`/approval-templates/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});return Be.data||Be},[S]),kc=b.useCallback(async oe=>{await S(`/approval-templates/${oe}?includes_trashed=true`,{method:"DELETE"})},[S]),Xi=b.useCallback(async(oe,ae)=>{const Be=await S(`/approval-templates/${oe}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});return Be.data||Be},[S]),vo=b.useCallback(async(oe,ae,Be)=>{const Kt=await S(`/template-approvers/${ae}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Be)});return Kt.data||Kt},[S]),Qi=b.useCallback(async(oe,ae)=>{await S(`/template-approvers/${ae}?includes_trashed=true`,{method:"DELETE"})},[S]),qo=b.useCallback(async oe=>(await S(`/approval-templates/${oe}?includes_trashed=true`)).approvers||[],[S]),Ha=b.useCallback(async oe=>{const ae=await S(`/approval-templates/${oe}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return ae.data||ae},[S]),Vs=b.useCallback(async(oe,ae)=>{const Be=await S(`/schedules/${oe}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:ae})});return Be&&Be.message?{success:!0,message:Be.message,data:Be.data||Be}:Be},[S]),yu=b.useCallback(async()=>{try{const oe=await S("/workarea?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch workarea:",oe),[]}},[S]),Gf=b.useCallback(async oe=>(await S(`/workarea/${oe}?includes_trashed=true`)).data,[S]),vu=b.useCallback(async oe=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)}),[S]),oi=b.useCallback(async(oe,ae)=>{try{const Be=await S(`/workarea/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)}),Kt=Be.data||Be;return{id:Kt.id,work_area:Kt.work_area}}catch(Be){throw console.error(`Failed to update work area with id ${oe}:`,Be),new Error(`Failed to update work area: ${Be instanceof Error?Be.message:String(Be)}`)}},[S]),wu=b.useCallback(async oe=>{try{await S(`/workarea/${oe}?includes_trashed=true`,{method:"DELETE"})}catch(ae){throw console.error(`Failed to delete work area with id ${oe}:`,ae),new Error(`Failed to delete work area: ${ae instanceof Error?ae.message:String(ae)}`)}},[S]),ju=b.useCallback(async()=>{try{const oe=await S("/genba-roles?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch genba roles:",oe),[]}},[S]),Ii=b.useCallback(async()=>{try{const oe=await S("/genba-sos?includes_trashed=true");return oe.data||oe}catch(oe){return console.error("Failed to fetch genba SOs:",oe),[]}},[S]),Nu=b.useCallback(async oe=>{const ae=await S(`/genba-sos/${oe}?includes_trashed=true`);return ae.data||ae},[S]),Yf=b.useCallback(async oe=>{const ae=await S("/genba-sos",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(oe)});return ae.data||ae},[S]),Kf=b.useCallback(async(oe,ae)=>{const Be=await S(`/genba-sos/${oe}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(ae)});return Be.data||Be},[S]),Su=b.useCallback(async oe=>{await S(`/genba-sos/${oe}?includes_trashed=true`,{method:"DELETE"})},[S]),ku=b.useCallback(async oe=>{const ae=await S(`/genba-sos/${oe}/activate?includes_trashed=true`,{method:"PATCH",headers:{"Content-Type":"application/json"}});return ae.data||ae},[S]);return a.jsx(sY.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:V,register:H,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:O,submitMachineHistory:G,getMachineHistories:q,getMachineHistoryById:B,updateMachineHistory:z,deleteMachineHistory:X,masterData:l,isMasterDataLoading:d,addWorkOrderIT:ee,getWorkOrdersIT:K,updateWorkOrderIT:J,deleteWorkOrder:Z,getWorkOrderById:W,departments:[],services:[],serviceGroups:[],getServices:wt,getServicesByOwner:gt,addServiceCatalogue:Rt,updateServiceCatalogue:He,deleteServiceCatalogue:he,getServiceGroups:se,getServiceGroup:ut,addServiceGroup:dt,updateServiceGroup:De,deleteServiceGroup:rt,changePassword:ue,fetchUser:A,fetchedUsers:ce,getUsers:je,hasPermission:M,setEditingUser:Qe,getRoles:le,createRole:pe,updateRole:$e,deleteRole:de,updateUserPermissions:Se,deleteUser:te,isAuthLoading:m,getAssetsData:P,addAsset:I,editAsset:R,deleteAsset:F,getWorkOrdersForUser:ie,getAuditTrail:E,getDepartment:Ge,getDepartmentById:mt,addDepartment:Le,updateDepartment:_e,deleteDepartment:qe,getMonitoringSchedules:rn,addMonitoringSchedule:zt,addMonitoringActivities:Nr,updateMonitoringActivity:jr,getStopTimes:ge,getStopTimesById:Oe,addStopTimes:ke,updateStopTimes:Ue,deleteStopTimes:Xe,getActivityTypes:we,getActivityTypesById:ye,addActivityTypes:Ke,updateActivityTypes:pt,deleteActivityTypes:tt,getActivity:Te,getActivityById:ne,addActivity:Ie,updateActivity:Ye,deleteActivity:st,getTroubleItem:yt,getTroubleItemById:ze,addTroubleItem:St,updateTroubleItem:Ee,deleteTroubleItem:It,getWorkUnit:Pt,getWorkUnitById:Bt,addWorkUnit:ft,updateWorkUnit:Ct,deleteWorkUnit:Mt,getWorkGroup:pr,getWorkGroupById:yn,addWorkGroup:vn,updateWorkGroup:or,deleteWorkGroup:Ur,getWorkShift:Yr,getWorkShiftById:jn,addWorkShift:Ve,updateWorkShift:it,deleteWorkShift:_t,getUnit:xe,getMesin:nt,getUnitsWithMachines:Nt,getAllMasterMonitoring:cr,getMesinDetail:cn,getMonitoringScheduleById:nr,getVendor:ir,getVendorById:Kn,addVendor:Er,updateVendor:ii,deleteVendor:ya,getApprovalTemplates:va,getApprovalTemplateById:nn,createApprovalTemplate:Qr,updateApprovalTemplate:Sn,deleteApprovalTemplate:kc,addApproverToTemplate:Xi,updateApprover:vo,deleteApprover:Qi,getTemplateApprovers:qo,setApprovalTemplateActive:Ha,approveSchedule:Vs,getWorkArea:yu,getWorkAreaById:Gf,addWorkArea:vu,updateWorkArea:oi,deleteWorkArea:wu,getGenbaRoles:ju,getGenbaSOs:Ii,getGenbaSOById:Nu,createGenbaSO:Yf,updateGenbaSO:Kf,deleteGenbaSO:Su,setGenbaSOActive:ku},children:t})},sr=()=>{const t=b.useContext(sY);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},gp="/assets/logo-wida-OsCBOu3a.png";var iY={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},B7=be.createContext&&be.createContext(iY),Eoe=["attr","size","title"];function Doe(t,e){if(t==null)return{};var r=Poe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Poe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Q2(){return Q2=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q2.apply(this,arguments)}function z7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Z2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?z7(Object(r),!0).forEach(function(n){Loe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):z7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Loe(t,e,r){return e=Roe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Roe(t){var e=Ioe(t,"string");return typeof e=="symbol"?e:e+""}function Ioe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oY(t){return t&&t.map((e,r)=>be.createElement(e.tag,Z2({key:r},e.attr),oY(e.child)))}function Nc(t){return e=>be.createElement(Foe,Q2({attr:Z2({},t.attr)},e),oY(t.child))}function Foe(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=Doe(t,Eoe),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),be.createElement("svg",Q2({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:Z2(Z2({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&be.createElement("title",null,i),t.children)};return B7!==void 0?be.createElement(B7.Consumer,null,r=>e(r)):e(iY)}function uw(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function uE(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function $oe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function Hoe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function Boe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function v2(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function w2(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function zoe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function q7(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function U7(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function qoe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Uoe(t){return Nc({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const fw=["Hello","Bonjour","Holla","こんにちは ","Salam","안녕하세요","Hallo","Namaste","早上好"],Woe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,g]=b.useState(fw[0]),[v,w]=b.useState(!1),{login:y}=sr(),N=tr();b.useEffect(()=>{m(!0);let O;const P=setInterval(()=>{w(!0),O=window.setTimeout(()=>{g(I=>{const F=(fw.indexOf(I)+1)%fw.length;return fw[F]}),w(!1)},500)},3e3);return()=>{clearInterval(P),clearTimeout(O)}},[]);const k={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=v?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},A=async O=>{O.preventDefault(),l(""),d(!0);try{await y(t,r),N("/dashboard")}catch(P){l(P instanceof Error?P.message:"Login failed")}finally{d(!1)}},_=()=>{i(!s)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${f?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${f?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...k,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${f?"opacity-100":"opacity-0"}`,children:p}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${f?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6","aria-label":"Login Form",children:[a.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:O=>e(O.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),a.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:s?"text":"password",placeholder:"••••••••",value:r,onChange:O=>n(O.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":s?"Hide password":"Show password",children:s?a.jsx(v2,{size:18}):a.jsx(w2,{size:18})})]}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),a.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${f?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${f?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${f?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",a.jsx(sm,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${f?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${f?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},fE=b.createContext({});function hE(t){const e=b.useRef(null);return e.current===null&&(e.current=t()),e.current}const mE=typeof window<"u",lY=mE?b.useLayoutEffect:b.useEffect,jN=b.createContext(null);function pE(t,e){t.indexOf(e)===-1&&t.push(e)}function gE(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Of=(t,e,r)=>r>e?e:r<t?t:r;let xE=()=>{};const Ef={},cY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function dY(t){return typeof t=="object"&&t!==null}const uY=t=>/^0[^.\s]+$/u.test(t);function bE(t){let e;return()=>(e===void 0&&(e=t()),e)}const mc=t=>t,Voe=(t,e)=>r=>e(t(r)),Kv=(...t)=>t.reduce(Voe),Hy=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class yE{constructor(){this.subscriptions=[]}add(e){return pE(this.subscriptions,e),()=>gE(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Zd=t=>t*1e3,uc=t=>t/1e3;function fY(t,e){return e?t*(1e3/e):0}const hY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Goe=1e-7,Yoe=12;function Koe(t,e,r,n,s){let i,o,l=0;do o=e+(r-e)/2,i=hY(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>Goe&&++l<Yoe);return o}function Jv(t,e,r,n){if(t===e&&r===n)return mc;const s=i=>Koe(i,0,1,t,r);return i=>i===0||i===1?i:hY(s(i),e,n)}const mY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,pY=t=>e=>1-t(1-e),gY=Jv(.33,1.53,.69,.99),vE=pY(gY),xY=mY(vE),bY=t=>(t*=2)<1?.5*vE(t):.5*(2-Math.pow(2,-10*(t-1))),wE=t=>1-Math.sin(Math.acos(t)),yY=pY(wE),vY=mY(wE),Joe=Jv(.42,0,1,1),Xoe=Jv(0,0,.58,1),wY=Jv(.42,0,.58,1),Qoe=t=>Array.isArray(t)&&typeof t[0]!="number",jY=t=>Array.isArray(t)&&typeof t[0]=="number",Zoe={linear:mc,easeIn:Joe,easeInOut:wY,easeOut:Xoe,circIn:wE,circInOut:vY,circOut:yY,backIn:vE,backInOut:xY,backOut:gY,anticipate:bY},ele=t=>typeof t=="string",W7=t=>{if(jY(t)){xE(t.length===4);const[e,r,n,s]=t;return Jv(e,r,n,s)}else if(ele(t))return Zoe[t];return t},hw=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function tle(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(f){o.has(f)&&(d.schedule(f),t()),f(l)}const d={schedule:(f,m=!1,p=!1)=>{const v=p&&s?r:n;return m&&o.add(f),v.has(f)||v.add(f),f},cancel:f=>{n.delete(f),o.delete(f)},process:f=>{if(l=f,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,d.process(f))}};return d}const rle=40;function NY(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=hw.reduce((S,A)=>(S[A]=tle(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:f,update:m,preRender:p,render:g,postRender:v}=o,w=()=>{const S=Ef.useManualTiming?s.timestamp:performance.now();r=!1,Ef.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(S-s.timestamp,rle),1)),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),f.process(s),m.process(s),p.process(s),g.process(s),v.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(w))},y=()=>{r=!0,n=!0,s.isProcessing||t(w)};return{schedule:hw.reduce((S,A)=>{const _=o[A];return S[A]=(O,P=!1,I=!1)=>(r||y(),_.schedule(O,P,I)),S},{}),cancel:S=>{for(let A=0;A<hw.length;A++)o[hw[A]].cancel(S)},state:s,steps:o}}const{schedule:ns,cancel:im,state:Wi,steps:sC}=NY(typeof requestAnimationFrame<"u"?requestAnimationFrame:mc,!0);let j2;function nle(){j2=void 0}const ol={now:()=>(j2===void 0&&ol.set(Wi.isProcessing||Ef.useManualTiming?Wi.timestamp:performance.now()),j2),set:t=>{j2=t,queueMicrotask(nle)}},SY=t=>e=>typeof e=="string"&&e.startsWith(t),jE=SY("--"),ale=SY("var(--"),NE=t=>ale(t)?sle.test(t.split("/*")[0].trim()):!1,sle=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ax={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},By={...Ax,transform:t=>Of(0,1,t)},mw={...Ax,default:1},hy=t=>Math.round(t*1e5)/1e5,SE=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function ile(t){return t==null}const ole=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,kE=(t,e)=>r=>!!(typeof r=="string"&&ole.test(r)&&r.startsWith(t)||e&&!ile(r)&&Object.prototype.hasOwnProperty.call(r,e)),kY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(SE);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},lle=t=>Of(0,255,t),iC={...Ax,transform:t=>Math.round(lle(t))},np={test:kE("rgb","red"),parse:kY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+iC.transform(t)+", "+iC.transform(e)+", "+iC.transform(r)+", "+hy(By.transform(n))+")"};function cle(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const n6={test:kE("#"),parse:cle,transform:np.transform},Xv=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dh=Xv("deg"),eu=Xv("%"),Kr=Xv("px"),dle=Xv("vh"),ule=Xv("vw"),V7={...eu,parse:t=>eu.parse(t)/100,transform:t=>eu.transform(t*100)},lg={test:kE("hsl","hue"),parse:kY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+eu.transform(hy(e))+", "+eu.transform(hy(r))+", "+hy(By.transform(n))+")"},Qs={test:t=>np.test(t)||n6.test(t)||lg.test(t),parse:t=>np.test(t)?np.parse(t):lg.test(t)?lg.parse(t):n6.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?np.transform(t):lg.transform(t),getAnimatableNone:t=>{const e=Qs.parse(t);return e.alpha=0,Qs.transform(e)}},fle=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function hle(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(SE))==null?void 0:e.length)||0)+(((r=t.match(fle))==null?void 0:r.length)||0)>0}const CY="number",_Y="color",mle="var",ple="var(",G7="${}",gle=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zy(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(gle,c=>(Qs.test(c)?(n.color.push(i),s.push(_Y),r.push(Qs.parse(c))):c.startsWith(ple)?(n.var.push(i),s.push(mle),r.push(c)):(n.number.push(i),s.push(CY),r.push(parseFloat(c))),++i,G7)).split(G7);return{values:r,split:l,indexes:n,types:s}}function AY(t){return zy(t).values}function TY(t){const{split:e,types:r}=zy(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const l=r[o];l===CY?i+=hy(s[o]):l===_Y?i+=Qs.transform(s[o]):i+=s[o]}return i}}const xle=t=>typeof t=="number"?0:Qs.test(t)?Qs.getAnimatableNone(t):t;function ble(t){const e=AY(t);return TY(t)(e.map(xle))}const om={test:hle,parse:AY,createTransformer:TY,getAnimatableNone:ble};function oC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function yle({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=oC(c,l,t+1/3),i=oC(c,l,t),o=oC(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function ej(t,e){return r=>r>0?e:t}const hs=(t,e,r)=>t+(e-t)*r,lC=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},vle=[n6,np,lg],wle=t=>vle.find(e=>e.test(t));function Y7(t){const e=wle(t);if(!e)return!1;let r=e.parse(t);return e===lg&&(r=yle(r)),r}const K7=(t,e)=>{const r=Y7(t),n=Y7(e);if(!r||!n)return ej(t,e);const s={...r};return i=>(s.red=lC(r.red,n.red,i),s.green=lC(r.green,n.green,i),s.blue=lC(r.blue,n.blue,i),s.alpha=hs(r.alpha,n.alpha,i),np.transform(s))},a6=new Set(["none","hidden"]);function jle(t,e){return a6.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function Nle(t,e){return r=>hs(t,e,r)}function CE(t){return typeof t=="number"?Nle:typeof t=="string"?NE(t)?ej:Qs.test(t)?K7:Cle:Array.isArray(t)?MY:typeof t=="object"?Qs.test(t)?K7:Sle:ej}function MY(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>CE(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function Sle(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=CE(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function kle(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],l=t.values[o]??0;r[s]=l,n[i]++}return r}const Cle=(t,e)=>{const r=om.createTransformer(e),n=zy(t),s=zy(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?a6.has(t)&&!s.values.length||a6.has(e)&&!n.values.length?jle(t,e):Kv(MY(kle(n,s),s.values),r):ej(t,e)};function OY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?hs(t,e,r):CE(t)(t,e)}const _le=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ns.update(e,r),stop:()=>im(e),now:()=>Wi.isProcessing?Wi.timestamp:ol.now()}},EY=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},tj=2e4;function _E(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<tj;)e+=r,n=t.next(e);return e>=tj?1/0:e}function Ale(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(_E(n),tj);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:uc(s)}}const Tle=5;function DY(t,e,r){const n=Math.max(e-Tle,0);return fY(r-t(n),e-n)}const Cs={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},cC=.001;function Mle({duration:t=Cs.duration,bounce:e=Cs.bounce,velocity:r=Cs.velocity,mass:n=Cs.mass}){let s,i,o=1-e;o=Of(Cs.minDamping,Cs.maxDamping,o),t=Of(Cs.minDuration,Cs.maxDuration,uc(t)),o<1?(s=d=>{const f=d*o,m=f*t,p=f-r,g=s6(d,o),v=Math.exp(-m);return cC-p/g*v},i=d=>{const m=d*o*t,p=m*r+r,g=Math.pow(o,2)*Math.pow(d,2)*t,v=Math.exp(-m),w=s6(Math.pow(d,2),o);return(-s(d)+cC>0?-1:1)*((p-g)*v)/w}):(s=d=>{const f=Math.exp(-d*t),m=(d-r)*t+1;return-cC+f*m},i=d=>{const f=Math.exp(-d*t),m=(r-d)*(t*t);return f*m});const l=5/t,c=Ele(s,i,l);if(t=Zd(t),isNaN(c))return{stiffness:Cs.stiffness,damping:Cs.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const Ole=12;function Ele(t,e,r){let n=r;for(let s=1;s<Ole;s++)n=n-t(n)/e(n);return n}function s6(t,e){return t*Math.sqrt(1-e*e)}const Dle=["duration","bounce"],Ple=["stiffness","damping","mass"];function J7(t,e){return e.some(r=>t[r]!==void 0)}function Lle(t){let e={velocity:Cs.velocity,stiffness:Cs.stiffness,damping:Cs.damping,mass:Cs.mass,isResolvedFromDuration:!1,...t};if(!J7(t,Ple)&&J7(t,Dle))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*Of(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Cs.mass,stiffness:s,damping:i}}else{const r=Mle(t);e={...e,...r,mass:Cs.mass},e.isResolvedFromDuration=!0}return e}function rj(t=Cs.visualDuration,e=Cs.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:f,duration:m,velocity:p,isResolvedFromDuration:g}=Lle({...r,velocity:-uc(r.velocity||0)}),v=p||0,w=d/(2*Math.sqrt(c*f)),y=o-i,N=uc(Math.sqrt(c/f)),k=Math.abs(y)<5;n||(n=k?Cs.restSpeed.granular:Cs.restSpeed.default),s||(s=k?Cs.restDelta.granular:Cs.restDelta.default);let S;if(w<1){const _=s6(N,w);S=O=>{const P=Math.exp(-w*N*O);return o-P*((v+w*N*y)/_*Math.sin(_*O)+y*Math.cos(_*O))}}else if(w===1)S=_=>o-Math.exp(-N*_)*(y+(v+N*y)*_);else{const _=N*Math.sqrt(w*w-1);S=O=>{const P=Math.exp(-w*N*O),I=Math.min(_*O,300);return o-P*((v+w*N*y)*Math.sinh(I)+_*y*Math.cosh(I))/_}}const A={calculatedDuration:g&&m||null,next:_=>{const O=S(_);if(g)l.done=_>=m;else{let P=_===0?v:0;w<1&&(P=_===0?Zd(v):DY(S,_,O));const I=Math.abs(P)<=n,R=Math.abs(o-O)<=s;l.done=I&&R}return l.value=l.done?o:O,l},toString:()=>{const _=Math.min(_E(A),tj),O=EY(P=>A.next(_*P).value,_,30);return _+"ms "+O},toTransition:()=>{}};return A}rj.applyToOptions=t=>{const e=Ale(t,100,rj);return t.ease=e.ease,t.duration=Zd(e.duration),t.type="keyframes",t};function i6({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:f}){const m=t[0],p={done:!1,value:m},g=I=>l!==void 0&&I<l||c!==void 0&&I>c,v=I=>l===void 0?c:c===void 0||Math.abs(l-I)<Math.abs(c-I)?l:c;let w=r*e;const y=m+w,N=o===void 0?y:o(y);N!==y&&(w=N-m);const k=I=>-w*Math.exp(-I/n),S=I=>N+k(I),A=I=>{const R=k(I),F=S(I);p.done=Math.abs(R)<=d,p.value=p.done?N:F};let _,O;const P=I=>{g(p.value)&&(_=I,O=rj({keyframes:[p.value,v(p.value)],velocity:DY(S,I,p.value),damping:s,stiffness:i,restDelta:d,restSpeed:f}))};return P(0),{calculatedDuration:null,next:I=>{let R=!1;return!O&&_===void 0&&(R=!0,A(I),P(I)),_!==void 0&&I>=_?O.next(I-_):(!R&&A(I),p)}}}function Rle(t,e,r){const n=[],s=r||Ef.mix||OY,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||mc:e;l=Kv(c,l)}n.push(l)}return n}function Ile(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(xE(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=Rle(e,n,s),c=l.length,d=f=>{if(o&&f<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(f<t[m+1]);m++);const p=Hy(t[m],t[m+1],f);return l[m](p)};return r?f=>d(Of(t[0],t[i-1],f)):d}function Fle(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=Hy(0,e,n);t.push(hs(r,1,s))}}function $le(t){const e=[0];return Fle(e,t.length-1),e}function Hle(t,e){return t.map(r=>r*e)}function Ble(t,e){return t.map(()=>e||wY).splice(0,t.length-1)}function my({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Qoe(n)?n.map(W7):W7(n),i={done:!1,value:e[0]},o=Hle(r&&r.length===e.length?r:$le(e),t),l=Ile(o,e,{ease:Array.isArray(s)?s:Ble(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const zle=t=>t!==null;function AE(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(zle),l=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const qle={decay:i6,inertia:i6,tween:my,keyframes:my,spring:rj};function PY(t){typeof t.type=="string"&&(t.type=qle[t.type])}class TE{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Ule=t=>t/100;class ME extends TE{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==ol.now()&&this.tick(ol.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PY(e);const{type:r=my,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||my;c!==my&&typeof l[0]!="number"&&(this.mixKeyframes=Kv(Ule,OY(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=_E(d));const{calculatedDuration:f}=d;this.calculatedDuration=f,this.resolvedDuration=f+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:f,repeat:m,repeatType:p,repeatDelay:g,type:v,onUpdate:w,finalKeyframe:y}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,A=n;if(m){const I=Math.min(this.currentTime,s)/l;let R=Math.floor(I),F=I%1;!F&&I>=1&&(F=1),F===1&&R--,R=Math.min(R,m+1),!!(R%2)&&(p==="reverse"?(F=1-F,g&&(F-=g/l)):p==="mirror"&&(A=o)),S=Of(0,1,F)*l}const _=k?{done:!1,value:f[0]}:A.next(S);i&&(_.value=i(_.value));let{done:O}=_;!k&&c!==null&&(O=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const P=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&O);return P&&v!==i6&&(_.value=AE(f,this.options,y,this.speed)),w&&w(_.value),P&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return uc(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+uc(e)}get time(){return uc(this.currentTime)}set time(e){var r;e=Zd(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(ol.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=uc(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=_le,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(ol.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Wle(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ap=t=>t*180/Math.PI,o6=t=>{const e=ap(Math.atan2(t[1],t[0]));return l6(e)},Vle={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:o6,rotateZ:o6,skewX:t=>ap(Math.atan(t[1])),skewY:t=>ap(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},l6=t=>(t=t%360,t<0&&(t+=360),t),X7=o6,Q7=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),Z7=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Gle={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:Q7,scaleY:Z7,scale:t=>(Q7(t)+Z7(t))/2,rotateX:t=>l6(ap(Math.atan2(t[6],t[5]))),rotateY:t=>l6(ap(Math.atan2(-t[2],t[0]))),rotateZ:X7,rotate:X7,skewX:t=>ap(Math.atan(t[4])),skewY:t=>ap(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function c6(t){return t.includes("scale")?1:0}function d6(t,e){if(!t||t==="none")return c6(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Gle,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Vle,s=l}if(!s)return c6(e);const i=n[e],o=s[1].split(",").map(Kle);return typeof i=="function"?i(o):o[i]}const Yle=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return d6(r,e)};function Kle(t){return parseFloat(t.trim())}const Tx=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mx=new Set(Tx),eR=t=>t===Ax||t===Kr,Jle=new Set(["x","y","z"]),Xle=Tx.filter(t=>!Jle.has(t));function Qle(t){const e=[];return Xle.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const xp={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>d6(e,"x"),y:(t,{transform:e})=>d6(e,"y")};xp.translateX=xp.x;xp.translateY=xp.y;const bp=new Set;let u6=!1,f6=!1,h6=!1;function LY(){if(f6){const t=Array.from(bp).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Qle(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}f6=!1,u6=!1,bp.forEach(t=>t.complete(h6)),bp.clear()}function RY(){bp.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(f6=!0)})}function Zle(){h6=!0,RY(),LY(),h6=!1}class OE{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(bp.add(this),u6||(u6=!0,ns.read(RY),ns.resolveKeyframes(LY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}Wle(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),bp.delete(this)}cancel(){this.state==="scheduled"&&(bp.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const ece=t=>t.startsWith("--");function tce(t,e,r){ece(e)?t.style.setProperty(e,r):t.style[e]=r}const rce=bE(()=>window.ScrollTimeline!==void 0),nce={};function ace(t,e){const r=bE(t);return()=>nce[e]??r()}const IY=ace(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),ry=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,tR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ry([0,.65,.55,1]),circOut:ry([.55,0,1,.45]),backIn:ry([.31,.01,.66,-.59]),backOut:ry([.33,1.53,.69,.99])};function FY(t,e){if(t)return typeof t=="function"?IY()?EY(t,e):"ease-out":jY(t)?ry(t):Array.isArray(t)?t.map(r=>FY(r,e)||tR.easeOut):tR[t]}function sce(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const f={[e]:r};c&&(f.offset=c);const m=FY(l,s);Array.isArray(m)&&(f.easing=m);const p={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(p.pseudoElement=d),t.animate(f,p)}function $Y(t){return typeof t=="function"&&"applyToOptions"in t}function ice({type:t,...e}){return $Y(t)&&IY()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class oce extends TE{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,xE(typeof e.type!="string");const d=ice(e);this.animation=sce(r,n,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const f=AE(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(f):tce(r,n,f),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return uc(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+uc(e)}get time(){return uc(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Zd(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&rce()?(this.animation.timeline=e,mc):r(this)}}const HY={anticipate:bY,backInOut:xY,circInOut:vY};function lce(t){return t in HY}function cce(t){typeof t.ease=="string"&&lce(t.ease)&&(t.ease=HY[t.ease])}const rR=10;class dce extends oce{constructor(e){cce(e),PY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new ME({...o,autoplay:!1}),c=Zd(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-rR).value,l.sample(c).value,rR),l.stop()}}const nR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(om.test(t)||t==="0")&&!t.startsWith("url("));function uce(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function fce(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=nR(s,e),l=nR(i,e);return!o||!l?!1:uce(t)||(r==="spring"||$Y(r))&&n}function m6(t){t.duration=0,t.type="keyframes"}const hce=new Set(["opacity","clipPath","filter","transform"]),mce=bE(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function pce(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return mce()&&r&&hce.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const gce=40;class xce extends TE{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:f,...m}){var v;super(),this.stop=()=>{var w,y;this._animation&&(this._animation.stop(),(w=this.stopTimeline)==null||w.call(this)),(y=this.keyframeResolver)==null||y.cancel()},this.createdAt=ol.now();const p={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:f,...m},g=(f==null?void 0:f.KeyframeResolver)||OE;this.keyframeResolver=new g(l,(w,y,N)=>this.onKeyframesResolved(w,y,p,!N),c,d,f),(v=this.keyframeResolver)==null||v.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:f}=n;this.resolvedAt=ol.now(),fce(e,i,o,l)||((Ef.instantAnimations||!c)&&(f==null||f(AE(e,n,r))),e[0]=e[e.length-1],m6(n),n.repeat=0);const p={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>gce?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},g=!d&&pce(p)?new dce({...p,element:p.motionValue.owner.current}):new ME(p);g.finished.then(()=>this.notifyFinished()).catch(mc),this.pendingTimeline&&(this.stopTimeline=g.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=g}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Zle()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const bce=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function yce(t){const e=bce.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function BY(t,e,r=1){const[n,s]=yce(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return cY(o)?parseFloat(o):o}return NE(s)?BY(s,e,r+1):s}function EE(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const zY=new Set(["width","height","top","left","right","bottom",...Tx]),vce={test:t=>t==="auto",parse:t=>t},qY=t=>e=>e.test(t),UY=[Ax,Kr,eu,Dh,ule,dle,vce],aR=t=>UY.find(qY(t));function wce(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uY(t):!0}const jce=new Set(["brightness","contrast","saturate","opacity"]);function Nce(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(SE)||[];if(!n)return t;const s=r.replace(n,"");let i=jce.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const Sce=/\b([a-z-]*)\(.*?\)/gu,p6={...om,getAnimatableNone:t=>{const e=t.match(Sce);return e?e.map(Nce).join(" "):t}},sR={...Ax,transform:Math.round},kce={rotate:Dh,rotateX:Dh,rotateY:Dh,rotateZ:Dh,scale:mw,scaleX:mw,scaleY:mw,scaleZ:mw,skew:Dh,skewX:Dh,skewY:Dh,distance:Kr,translateX:Kr,translateY:Kr,translateZ:Kr,x:Kr,y:Kr,z:Kr,perspective:Kr,transformPerspective:Kr,opacity:By,originX:V7,originY:V7,originZ:Kr},DE={borderWidth:Kr,borderTopWidth:Kr,borderRightWidth:Kr,borderBottomWidth:Kr,borderLeftWidth:Kr,borderRadius:Kr,radius:Kr,borderTopLeftRadius:Kr,borderTopRightRadius:Kr,borderBottomRightRadius:Kr,borderBottomLeftRadius:Kr,width:Kr,maxWidth:Kr,height:Kr,maxHeight:Kr,top:Kr,right:Kr,bottom:Kr,left:Kr,padding:Kr,paddingTop:Kr,paddingRight:Kr,paddingBottom:Kr,paddingLeft:Kr,margin:Kr,marginTop:Kr,marginRight:Kr,marginBottom:Kr,marginLeft:Kr,backgroundPositionX:Kr,backgroundPositionY:Kr,...kce,zIndex:sR,fillOpacity:By,strokeOpacity:By,numOctaves:sR},Cce={...DE,color:Qs,backgroundColor:Qs,outlineColor:Qs,fill:Qs,stroke:Qs,borderColor:Qs,borderTopColor:Qs,borderRightColor:Qs,borderBottomColor:Qs,borderLeftColor:Qs,filter:p6,WebkitFilter:p6},WY=t=>Cce[t];function VY(t,e){let r=WY(t);return r!==p6&&(r=om),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const _ce=new Set(["auto","none","0"]);function Ace(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!_ce.has(i)&&zy(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=VY(r,s)}class Tce extends OE{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),NE(d))){const f=BY(d,r.current);f!==void 0&&(e[c]=f),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!zY.has(n)||e.length!==2)return;const[s,i]=e,o=aR(s),l=aR(i);if(o!==l)if(eR(o)&&eR(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else xp[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||wce(e[s]))&&n.push(s);n.length&&Ace(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=xp[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=xp[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function Mce(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const GY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YY(t){return dY(t)&&"offsetHeight"in t}const iR=30,Oce=t=>!isNaN(parseFloat(t));class Ece{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=ol.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=ol.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=Oce(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new yE);const n=this.events[e].add(r);return e==="change"?()=>{n(),ns.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=ol.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>iR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,iR);return fY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Ig(t,e){return new Ece(t,e)}const{schedule:PE}=NY(queueMicrotask,!1),Xc={x:!1,y:!1};function KY(){return Xc.x||Xc.y}function Dce(t){return t==="x"||t==="y"?Xc[t]?null:(Xc[t]=!0,()=>{Xc[t]=!1}):Xc.x||Xc.y?null:(Xc.x=Xc.y=!0,()=>{Xc.x=Xc.y=!1})}function JY(t,e){const r=Mce(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function oR(t){return!(t.pointerType==="touch"||KY())}function Pce(t,e,r={}){const[n,s,i]=JY(t,r),o=l=>{if(!oR(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const f=m=>{oR(m)&&(d(m),c.removeEventListener("pointerleave",f))};c.addEventListener("pointerleave",f,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const XY=(t,e)=>e?t===e?!0:XY(t,e.parentElement):!1,LE=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Lce=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Rce(t){return Lce.has(t.tagName)||t.tabIndex!==-1}const N2=new WeakSet;function lR(t){return e=>{e.key==="Enter"&&t(e)}}function dC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Ice=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=lR(()=>{if(N2.has(r))return;dC(r,"down");const s=lR(()=>{dC(r,"up")}),i=()=>dC(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function cR(t){return LE(t)&&!KY()}function Fce(t,e,r={}){const[n,s,i]=JY(t,r),o=l=>{const c=l.currentTarget;if(!cR(l))return;N2.add(c);const d=e(c,l),f=(g,v)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",p),N2.has(c)&&N2.delete(c),cR(g)&&typeof d=="function"&&d(g,{success:v})},m=g=>{f(g,c===window||c===document||r.useGlobalTarget||XY(c,g.target))},p=g=>{f(g,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",p,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),YY(l)&&(l.addEventListener("focus",d=>Ice(d,s)),!Rce(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function QY(t){return dY(t)&&"ownerSVGElement"in t}function $ce(t){return QY(t)&&t.tagName==="svg"}const go=t=>!!(t&&t.getVelocity),Hce=[...UY,Qs,om],Bce=t=>Hce.find(qY(t)),RE=b.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function dR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function zce(...t){return e=>{let r=!1;const n=t.map(s=>{const i=dR(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():dR(t[s],null)}}}}function qce(...t){return b.useCallback(zce(...t),t)}class Uce extends b.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=YY(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Wce({children:t,isPresent:e,anchorX:r,root:n}){const s=b.useId(),i=b.useRef(null),o=b.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=b.useContext(RE),c=qce(i,t==null?void 0:t.ref);return b.useInsertionEffect(()=>{const{width:d,height:f,top:m,left:p,right:g}=o.current;if(e||!i.current||!d||!f)return;const v=r==="left"?`left: ${p}`:`right: ${g}`;i.current.dataset.motionPopId=s;const w=document.createElement("style");l&&(w.nonce=l);const y=n??document.head;return y.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${f}px !important;
            ${v}px !important;
            top: ${m}px !important;
          }
        `),()=>{y.contains(w)&&y.removeChild(w)}},[e]),a.jsx(Uce,{isPresent:e,childRef:i,sizeRef:o,children:b.cloneElement(t,{ref:c})})}const Vce=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=hE(Gce),f=b.useId();let m=!0,p=b.useMemo(()=>(m=!1,{id:f,initial:e,isPresent:r,custom:s,onExitComplete:g=>{d.set(g,!0);for(const v of d.values())if(!v)return;n&&n()},register:g=>(d.set(g,!1),()=>d.delete(g))}),[r,d,n]);return i&&m&&(p={...p}),b.useMemo(()=>{d.forEach((g,v)=>d.set(v,!1))},[r]),b.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(Wce,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(jN.Provider,{value:p,children:t})};function Gce(){return new Map}function ZY(t=!0){const e=b.useContext(jN);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=b.useId();b.useEffect(()=>{if(t)return s(i)},[t]);const o=b.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const pw=t=>t.key||"";function uR(t){const e=[];return b.Children.forEach(t,r=>{b.isValidElement(r)&&e.push(r)}),e}const ar=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,f]=ZY(o),m=b.useMemo(()=>uR(t),[t]),p=o&&!d?[]:m.map(pw),g=b.useRef(!0),v=b.useRef(m),w=hE(()=>new Map),[y,N]=b.useState(m),[k,S]=b.useState(m);lY(()=>{g.current=!1,v.current=m;for(let O=0;O<k.length;O++){const P=pw(k[O]);p.includes(P)?w.delete(P):w.get(P)!==!0&&w.set(P,!1)}},[k,p.length,p.join("-")]);const A=[];if(m!==y){let O=[...m];for(let P=0;P<k.length;P++){const I=k[P],R=pw(I);p.includes(R)||(O.splice(P,0,I),A.push(I))}return i==="wait"&&A.length&&(O=A),S(uR(O)),N(m),null}const{forceRender:_}=b.useContext(fE);return a.jsx(a.Fragment,{children:k.map(O=>{const P=pw(O),I=o&&!d?!1:m===k||p.includes(P),R=()=>{if(w.has(P))w.set(P,!0);else return;let F=!0;w.forEach(E=>{E||(F=!1)}),F&&(_==null||_(),S(v.current),o&&(f==null||f()),n&&n())};return a.jsx(Vce,{isPresent:I,initial:!g.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:I?void 0:R,anchorX:l,children:O},P)})})},eK=b.createContext({strict:!1}),fR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fg={};for(const t in fR)Fg[t]={isEnabled:e=>fR[t].some(r=>!!e[r])};function Yce(t){for(const e in t)Fg[e]={...Fg[e],...t[e]}}const Kce=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function nj(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Kce.has(t)}let tK=t=>!nj(t);function Jce(t){typeof t=="function"&&(tK=e=>e.startsWith("on")?!nj(e):t(e))}try{Jce(require("@emotion/is-prop-valid").default)}catch{}function Xce(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(tK(s)||r===!0&&nj(s)||!e&&!nj(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const NN=b.createContext({});function SN(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function qy(t){return typeof t=="string"||Array.isArray(t)}const IE=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],FE=["initial",...IE];function kN(t){return SN(t.animate)||FE.some(e=>qy(t[e]))}function rK(t){return!!(kN(t)||t.variants)}function Qce(t,e){if(kN(t)){const{initial:r,animate:n}=t;return{initial:r===!1||qy(r)?r:void 0,animate:qy(n)?n:void 0}}return t.inherit!==!1?e:{}}function Zce(t){const{initial:e,animate:r}=Qce(t,b.useContext(NN));return b.useMemo(()=>({initial:e,animate:r}),[hR(e),hR(r)])}function hR(t){return Array.isArray(t)?t.join(" "):t}const Uy={};function ede(t){for(const e in t)Uy[e]=t[e],jE(e)&&(Uy[e].isCSSVariable=!0)}function nK(t,{layout:e,layoutId:r}){return Mx.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Uy[t]||t==="opacity")}const tde={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},rde=Tx.length;function nde(t,e,r){let n="",s=!0;for(let i=0;i<rde;i++){const o=Tx[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=GY(l,DE[o]);if(!c){s=!1;const f=tde[o]||o;n+=`${f}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function $E(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Mx.has(c)){o=!0;continue}else if(jE(c)){s[c]=d;continue}else{const f=GY(d,DE[c]);c.startsWith("origin")?(l=!0,i[c]=f):n[c]=f}}if(e.transform||(o||r?n.transform=nde(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:f=0}=i;n.transformOrigin=`${c} ${d} ${f}`}}const HE=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function aK(t,e,r){for(const n in e)!go(e[n])&&!nK(n,r)&&(t[n]=e[n])}function ade({transformTemplate:t},e){return b.useMemo(()=>{const r=HE();return $E(r,e,t),Object.assign({},r.vars,r.style)},[e])}function sde(t,e){const r=t.style||{},n={};return aK(n,r,t),Object.assign(n,ade(t,e)),n}function ide(t,e){const r={},n=sde(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const ode={offset:"stroke-dashoffset",array:"stroke-dasharray"},lde={offset:"strokeDashoffset",array:"strokeDasharray"};function cde(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?ode:lde;t[i.offset]=Kr.transform(-n);const o=Kr.transform(e),l=Kr.transform(r);t[i.array]=`${o} ${l}`}function sK(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,f){if($E(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:p}=t;m.transform&&(p.transform=m.transform,delete m.transform),(p.transform||m.transformOrigin)&&(p.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),p.transform&&(p.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&cde(m,s,i,o,!1)}const iK=()=>({...HE(),attrs:{}}),oK=t=>typeof t=="string"&&t.toLowerCase()==="svg";function dde(t,e,r,n){const s=b.useMemo(()=>{const i=iK();return sK(i,e,oK(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};aK(i,t.style,t),s.style={...i,...s.style}}return s}const ude=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function BE(t){return typeof t!="string"||t.includes("-")?!1:!!(ude.indexOf(t)>-1||/[A-Z]/u.test(t))}function fde(t,e,r,{latestValues:n},s,i=!1){const l=(BE(t)?dde:ide)(e,n,s,t),c=Xce(e,typeof t=="string",i),d=t!==b.Fragment?{...c,...l,ref:r}:{},{children:f}=e,m=b.useMemo(()=>go(f)?f.get():f,[f]);return b.createElement(t,{...d,children:m})}function mR(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function zE(t,e,r,n){if(typeof e=="function"){const[s,i]=mR(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=mR(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function S2(t){return go(t)?t.get():t}function hde({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:mde(r,n,s,t),renderState:e()}}function mde(t,e,r,n){const s={},i=n(t,{});for(const p in i)s[p]=S2(i[p]);let{initial:o,animate:l}=t;const c=kN(t),d=rK(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let f=r?r.initial===!1:!1;f=f||o===!1;const m=f?l:o;if(m&&typeof m!="boolean"&&!SN(m)){const p=Array.isArray(m)?m:[m];for(let g=0;g<p.length;g++){const v=zE(t,p[g]);if(v){const{transitionEnd:w,transition:y,...N}=v;for(const k in N){let S=N[k];if(Array.isArray(S)){const A=f?S.length-1:0;S=S[A]}S!==null&&(s[k]=S)}for(const k in w)s[k]=w[k]}}}return s}const lK=t=>(e,r)=>{const n=b.useContext(NN),s=b.useContext(jN),i=()=>hde(t,e,n,s);return r?i():hE(i)};function qE(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(go(n[o])||e.style&&go(e.style[o])||nK(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const pde=lK({scrapeMotionValuesFromProps:qE,createRenderState:HE});function cK(t,e,r){const n=qE(t,e,r);for(const s in t)if(go(t[s])||go(e[s])){const i=Tx.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const gde=lK({scrapeMotionValuesFromProps:cK,createRenderState:iK}),xde=Symbol.for("motionComponentSymbol");function cg(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function bde(t,e,r){return b.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):cg(r)&&(r.current=n))},[e])}const UE=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),yde="framerAppearId",dK="data-"+UE(yde),uK=b.createContext({});function vde(t,e,r,n,s){var w,y;const{visualElement:i}=b.useContext(NN),o=b.useContext(eK),l=b.useContext(jN),c=b.useContext(RE).reducedMotion,d=b.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const f=d.current,m=b.useContext(uK);f&&!f.projection&&s&&(f.type==="html"||f.type==="svg")&&wde(d.current,r,s,m);const p=b.useRef(!1);b.useInsertionEffect(()=>{f&&p.current&&f.update(r,l)});const g=r[dK],v=b.useRef(!!g&&!((w=window.MotionHandoffIsComplete)!=null&&w.call(window,g))&&((y=window.MotionHasOptimisedAnimation)==null?void 0:y.call(window,g)));return lY(()=>{f&&(p.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),v.current&&f.animationState&&f.animationState.animateChanges())}),b.useEffect(()=>{f&&(!v.current&&f.animationState&&f.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,g)}),v.current=!1),f.enteringChildren=void 0)}),f}function wde(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:fK(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&cg(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:c,layoutRoot:d})}function fK(t){if(t)return t.options.allowProjection!==!1?t.projection:fK(t.parent)}function uC(t,{forwardMotionProps:e=!1}={},r,n){r&&Yce(r);const s=BE(t)?gde:pde;function i(l,c){let d;const f={...b.useContext(RE),...l,layoutId:jde(l)},{isStatic:m}=f,p=Zce(l),g=s(l,m);if(!m&&mE){Nde();const v=Sde(f);d=v.MeasureLayout,p.visualElement=vde(t,g,f,n,v.ProjectionNode)}return a.jsxs(NN.Provider,{value:p,children:[d&&p.visualElement?a.jsx(d,{visualElement:p.visualElement,...f}):null,fde(t,l,bde(g,p.visualElement,c),g,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=b.forwardRef(i);return o[xde]=t,o}function jde({layoutId:t}){const e=b.useContext(fE).id;return e&&t!==void 0?e+"-"+t:t}function Nde(t,e){b.useContext(eK).strict}function Sde(t){const{drag:e,layout:r}=Fg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function kde(t,e){if(typeof Proxy>"u")return uC;const r=new Map,n=(i,o)=>uC(i,o,t,e),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,uC(o,void 0,t,e)),r.get(o))})}function hK({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Cde({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function _de(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function fC(t){return t===void 0||t===1}function g6({scale:t,scaleX:e,scaleY:r}){return!fC(t)||!fC(e)||!fC(r)}function Ym(t){return g6(t)||mK(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mK(t){return pR(t.x)||pR(t.y)}function pR(t){return t&&t!=="0%"}function aj(t,e,r){const n=t-r,s=e*n;return r+s}function gR(t,e,r,n,s){return s!==void 0&&(t=aj(t,s,n)),aj(t,r,n)+e}function x6(t,e=0,r=1,n,s){t.min=gR(t.min,e,r,n,s),t.max=gR(t.max,e,r,n,s)}function pK(t,{x:e,y:r}){x6(t.x,e.translate,e.scale,e.originPoint),x6(t.y,r.translate,r.scale,r.originPoint)}const xR=.999999999999,bR=1.0000000000001;function Ade(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&ug(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pK(t,o)),n&&Ym(i.latestValues)&&ug(t,i.latestValues))}e.x<bR&&e.x>xR&&(e.x=1),e.y<bR&&e.y>xR&&(e.y=1)}function dg(t,e){t.min=t.min+e,t.max=t.max+e}function yR(t,e,r,n,s=.5){const i=hs(t.min,t.max,s);x6(t,e,r,i,n)}function ug(t,e){yR(t.x,e.x,e.scaleX,e.scale,e.originX),yR(t.y,e.y,e.scaleY,e.scale,e.originY)}function gK(t,e){return hK(_de(t.getBoundingClientRect(),e))}function Tde(t,e,r){const n=gK(t,r),{scroll:s}=e;return s&&(dg(n.x,s.offset.x),dg(n.y,s.offset.y)),n}const vR=()=>({translate:0,scale:1,origin:0,originPoint:0}),fg=()=>({x:vR(),y:vR()}),wR=()=>({min:0,max:0}),Is=()=>({x:wR(),y:wR()}),b6={current:null},xK={current:!1};function Mde(){if(xK.current=!0,!!mE)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>b6.current=t.matches;t.addEventListener("change",e),e()}else b6.current=!1}const Ode=new WeakMap;function Ede(t,e,r){for(const n in e){const s=e[n],i=r[n];if(go(s))t.addValue(n,s);else if(go(i))t.addValue(n,Ig(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Ig(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const jR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dde{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=OE,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const p=ol.now();this.renderScheduledAt<p&&(this.renderScheduledAt=p,ns.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=kN(r),this.isVariantNode=rK(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const p in m){const g=m[p];c[p]!==void 0&&go(g)&&g.set(c[p])}}mount(e){var r;this.current=e,Ode.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),xK.current||Mde(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:b6.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),im(this.notifyUpdate),im(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Mx.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ns.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Fg){const r=Fg[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Is()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<jR.length;n++){const s=jR[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=Ede(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Ig(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(cY(n)||uY(n))?n=parseFloat(n):!Bce(n)&&om.test(r)&&(n=VY(e,r)),this.setBaseTarget(e,go(n)?n.get():n)),go(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=zE(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!go(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new yE),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){PE.render(this.render)}}class bK extends Dde{constructor(){super(...arguments),this.KeyframeResolver=Tce}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;go(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function yK(t,{style:e,vars:r},n,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function Pde(t){return window.getComputedStyle(t)}class Lde extends bK{constructor(){super(...arguments),this.type="html",this.renderInstance=yK}readValueFromInstance(e,r){var n;if(Mx.has(r))return(n=this.projection)!=null&&n.isProjecting?c6(r):Yle(e,r);{const s=Pde(e),i=(jE(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return gK(e,r)}build(e,r,n){$E(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return qE(e,r,n)}}const vK=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rde(t,e,r,n){yK(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(vK.has(s)?s:UE(s),e.attrs[s])}class Ide extends bK{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Is}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Mx.has(r)){const n=WY(r);return n&&n.default||0}return r=vK.has(r)?r:UE(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return cK(e,r,n)}build(e,r,n){sK(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){Rde(e,r,n,s)}mount(e){this.isSVGTag=oK(e.tagName),super.mount(e)}}const Fde=(t,e)=>BE(t)?new Ide(e):new Lde(e,{allowProjection:t!==b.Fragment});function vg(t,e,r){const n=t.getProps();return zE(n,e,r!==void 0?r:n.custom,t)}const y6=t=>Array.isArray(t);function $de(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Ig(r))}function Hde(t){return y6(t)?t[t.length-1]||0:t}function Bde(t,e){const r=vg(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=Hde(i[o]);$de(t,o,l)}}function zde(t){return!!(go(t)&&t.add)}function v6(t,e){const r=t.getValue("willChange");if(zde(r))return r.add(e);if(!r&&Ef.WillChange){const n=new Ef.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function wK(t){return t.props[dK]}const qde=t=>t!==null;function Ude(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(qde),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const Wde={type:"spring",stiffness:500,damping:25,restSpeed:10},Vde=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Gde={type:"keyframes",duration:.8},Yde={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Kde=(t,{keyframes:e})=>e.length>2?Gde:Mx.has(t)?t.startsWith("scale")?Vde(e[1]):Wde:Yde;function Jde({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...f}){return!!Object.keys(f).length}const WE=(t,e,r,n={},s,i)=>o=>{const l=EE(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-Zd(c);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:p=>{e.set(p),l.onUpdate&&l.onUpdate(p)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Jde(l)||Object.assign(f,Kde(t,f)),f.duration&&(f.duration=Zd(f.duration)),f.repeatDelay&&(f.repeatDelay=Zd(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let m=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(m6(f),f.delay===0&&(m=!0)),(Ef.instantAnimations||Ef.skipAnimations)&&(m=!0,m6(f),f.delay=0),f.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const p=Ude(f.keyframes,l);if(p!==void 0){ns.update(()=>{f.onUpdate(p),f.onComplete()});return}}return l.isSync?new ME(f):new xce(f)};function Xde({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function jK(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const f in l){const m=t.getValue(f,t.latestValues[f]??null),p=l[f];if(p===void 0||d&&Xde(d,f))continue;const g={delay:r,...EE(i||{},f)},v=m.get();if(v!==void 0&&!m.isAnimating&&!Array.isArray(p)&&p===v&&!g.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=wK(t);if(N){const k=window.MotionHandoffAnimation(N,f,ns);k!==null&&(g.startTime=k,w=!0)}}v6(t,f),m.start(WE(f,m,p,t.shouldReduceMotion&&zY.has(f)?{type:!1}:g,t,w));const y=m.animation;y&&c.push(y)}return o&&Promise.all(c).then(()=>{ns.update(()=>{o&&Bde(t,o)})}),c}function NK(t,e,r,n=0,s=1){const i=Array.from(t).sort((d,f)=>d.sortNodePosition(f)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function w6(t,e,r={}){var c;const n=vg(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(jK(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:f=0,staggerChildren:m,staggerDirection:p}=s;return Qde(t,e,d,f,m,p,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,f]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>f())}else return Promise.all([i(),o(r.delay)])}function Qde(t,e,r=0,n=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(w6(c,e,{...o,delay:r+(typeof n=="function"?0:n)+NK(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Zde(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>w6(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=w6(t,e,r);else{const s=typeof e=="function"?vg(t,e,r.custom):e;n=Promise.all(jK(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function SK(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const eue=FE.length;function kK(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?kK(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<eue;r++){const n=FE[r],s=t.props[n];(qy(s)||s===!1)&&(e[n]=s)}return e}const tue=[...IE].reverse(),rue=IE.length;function nue(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Zde(t,r,n)))}function aue(t){let e=nue(t),r=NR(),n=!0;const s=c=>(d,f)=>{var p;const m=vg(t,f,c==="exit"?(p=t.presenceContext)==null?void 0:p.custom:void 0);if(m){const{transition:g,transitionEnd:v,...w}=m;d={...d,...w,...v}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,f=kK(t.parent)||{},m=[],p=new Set;let g={},v=1/0;for(let y=0;y<rue;y++){const N=tue[y],k=r[N],S=d[N]!==void 0?d[N]:f[N],A=qy(S),_=N===c?k.isActive:null;_===!1&&(v=y);let O=S===f[N]&&S!==d[N]&&A;if(O&&n&&t.manuallyAnimateOnMount&&(O=!1),k.protectedKeys={...g},!k.isActive&&_===null||!S&&!k.prevProp||SN(S)||typeof S=="boolean")continue;const P=sue(k.prevProp,S);let I=P||N===c&&k.isActive&&!O&&A||y>v&&A,R=!1;const F=Array.isArray(S)?S:[S];let E=F.reduce(s(N),{});_===!1&&(E={});const{prevResolvedValues:M={}}=k,H={...M,...E},V=B=>{I=!0,p.has(B)&&(R=!0,p.delete(B)),k.needsAnimating[B]=!0;const z=t.getValue(B);z&&(z.liveStyle=!1)};for(const B in H){const z=E[B],X=M[B];if(g.hasOwnProperty(B))continue;let ee=!1;y6(z)&&y6(X)?ee=!SK(z,X):ee=z!==X,ee?z!=null?V(B):p.add(B):z!==void 0&&p.has(B)?V(B):k.protectedKeys[B]=!0}k.prevProp=S,k.prevResolvedValues=E,k.isActive&&(g={...g,...E}),n&&t.blockInitialAnimation&&(I=!1);const G=O&&P;I&&(!G||R)&&m.push(...F.map(B=>{const z={type:N};if(typeof B=="string"&&n&&!G&&t.manuallyAnimateOnMount&&t.parent){const{parent:X}=t,ee=vg(X,B);if(X.enteringChildren&&ee){const{delayChildren:K}=ee.transition||{};z.delay=NK(X.enteringChildren,t,K)}}return{animation:B,options:z}}))}if(p.size){const y={};if(typeof d.initial!="boolean"){const N=vg(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(y.transition=N.transition)}p.forEach(N=>{const k=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),y[N]=k??null}),m.push({animation:y})}let w=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(p=>{var g;return(g=p.animationState)==null?void 0:g.setActive(c,d)}),r[c].isActive=d;const f=o(c);for(const p in r)r[p].protectedKeys={};return f}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=NR(),n=!0}}}function sue(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!SK(e,t):!1}function qm(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function NR(){return{animate:qm(!0),whileInView:qm(),whileHover:qm(),whileTap:qm(),whileDrag:qm(),whileFocus:qm(),exit:qm()}}class gm{constructor(e){this.isMounted=!1,this.node=e}update(){}}class iue extends gm{constructor(e){super(e),e.animationState||(e.animationState=aue(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();SN(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let oue=0;class lue extends gm{constructor(){super(...arguments),this.id=oue++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const cue={animation:{Feature:iue},exit:{Feature:lue}};function Wy(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Qv(t){return{point:{x:t.pageX,y:t.pageY}}}const due=t=>e=>LE(e)&&t(e,Qv(e));function py(t,e,r,n){return Wy(t,e,due(r),n)}const CK=1e-4,uue=1-CK,fue=1+CK,_K=.01,hue=0-_K,mue=0+_K;function Eo(t){return t.max-t.min}function pue(t,e,r){return Math.abs(t-e)<=r}function SR(t,e,r,n=.5){t.origin=n,t.originPoint=hs(e.min,e.max,t.origin),t.scale=Eo(r)/Eo(e),t.translate=hs(r.min,r.max,t.origin)-t.originPoint,(t.scale>=uue&&t.scale<=fue||isNaN(t.scale))&&(t.scale=1),(t.translate>=hue&&t.translate<=mue||isNaN(t.translate))&&(t.translate=0)}function gy(t,e,r,n){SR(t.x,e.x,r.x,n?n.originX:void 0),SR(t.y,e.y,r.y,n?n.originY:void 0)}function kR(t,e,r){t.min=r.min+e.min,t.max=t.min+Eo(e)}function gue(t,e,r){kR(t.x,e.x,r.x),kR(t.y,e.y,r.y)}function CR(t,e,r){t.min=e.min-r.min,t.max=t.min+Eo(e)}function xy(t,e,r){CR(t.x,e.x,r.x),CR(t.y,e.y,r.y)}function nc(t){return[t("x"),t("y")]}const AK=({current:t})=>t?t.ownerDocument.defaultView:null,_R=(t,e)=>Math.abs(t-e);function xue(t,e){const r=_R(t.x,e.x),n=_R(t.y,e.y);return Math.sqrt(r**2+n**2)}class TK{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=mC(this.lastMoveEventInfo,this.history),g=this.startEvent!==null,v=xue(p.offset,{x:0,y:0})>=this.distanceThreshold;if(!g&&!v)return;const{point:w}=p,{timestamp:y}=Wi;this.history.push({...w,timestamp:y});const{onStart:N,onMove:k}=this.handlers;g||(N&&N(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,p)},this.handlePointerMove=(p,g)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=hC(g,this.transformPagePoint),ns.update(this.updatePoint,!0)},this.handlePointerUp=(p,g)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:y}=this.handlers;if(this.dragSnapToOrigin&&y&&y(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=mC(p.type==="pointercancel"?this.lastMoveEventInfo:hC(g,this.transformPagePoint),this.history);this.startEvent&&v&&v(p,N),w&&w(p,N)},!LE(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=Qv(e),c=hC(l,this.transformPagePoint),{point:d}=c,{timestamp:f}=Wi;this.history=[{...d,timestamp:f}];const{onSessionStart:m}=r;m&&m(e,mC(c,this.history)),this.removeListeners=Kv(py(this.contextWindow,"pointermove",this.handlePointerMove),py(this.contextWindow,"pointerup",this.handlePointerUp),py(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),im(this.updatePoint)}}function hC(t,e){return e?{point:e(t.point)}:t}function AR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function mC({point:t},e){return{point:t,delta:AR(t,MK(e)),offset:AR(t,bue(e)),velocity:yue(e,.1)}}function bue(t){return t[0]}function MK(t){return t[t.length-1]}function yue(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=MK(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>Zd(e)));)r--;if(!n)return{x:0,y:0};const i=uc(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function vue(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?hs(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?hs(r,t,n.max):Math.min(t,r)),t}function TR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function wue(t,{top:e,left:r,bottom:n,right:s}){return{x:TR(t.x,r,s),y:TR(t.y,e,n)}}function MR(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jue(t,e){return{x:MR(t.x,e.x),y:MR(t.y,e.y)}}function Nue(t,e){let r=.5;const n=Eo(t),s=Eo(e);return s>n?r=Hy(e.min,e.max-n,t.min):n>s&&(r=Hy(t.min,t.max-s,e.min)),Of(0,1,r)}function Sue(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const j6=.35;function kue(t=j6){return t===!1?t=0:t===!0&&(t=j6),{x:OR(t,"left","right"),y:OR(t,"top","bottom")}}function OR(t,e,r){return{min:ER(t,e),max:ER(t,r)}}function ER(t,e){return typeof t=="number"?t:t[e]||0}const Cue=new WeakMap;class _ue{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Is(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Qv(m).point)},o=(m,p)=>{const{drag:g,dragPropagation:v,onDragStart:w}=this.getProps();if(g&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Dce(g),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=p,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),nc(N=>{let k=this.getAxisMotionValue(N).get()||0;if(eu.test(k)){const{projection:S}=this.visualElement;if(S&&S.layout){const A=S.layout.layoutBox[N];A&&(k=Eo(A)*(parseFloat(k)/100))}}this.originPoint[N]=k}),w&&ns.postRender(()=>w(m,p)),v6(this.visualElement,"transform");const{animationState:y}=this.visualElement;y&&y.setActive("whileDrag",!0)},l=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p;const{dragPropagation:g,dragDirectionLock:v,onDirectionLock:w,onDrag:y}=this.getProps();if(!g&&!this.openDragLock)return;const{offset:N}=p;if(v&&this.currentDirection===null){this.currentDirection=Aue(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",p.point,N),this.updateAxis("y",p.point,N),this.visualElement.render(),y&&y(m,p)},c=(m,p)=>{this.latestPointerEvent=m,this.latestPanInfo=p,this.stop(m,p),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>nc(m=>{var p;return this.getAnimationState(m)==="paused"&&((p=this.getAxisMotionValue(m).animation)==null?void 0:p.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new TK(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:AK(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&ns.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!gw(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=vue(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&cg(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=wue(n.layoutBox,e):this.constraints=!1,this.elastic=kue(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&nc(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=Sue(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!cg(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=Tde(n,s.root,this.visualElement.getTransformPagePoint());let o=jue(s.layout.layoutBox,i);if(r){const l=r(Cde(o));this.hasMutatedConstraints=!!l,l&&(o=hK(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=nc(f=>{if(!gw(f,r,this.currentDirection))return;let m=c&&c[f]||{};o&&(m={min:0,max:0});const p=s?200:1e6,g=s?40:1e7,v={type:"inertia",velocity:n?e[f]:0,bounceStiffness:p,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(f,v)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return v6(this.visualElement,e),n.start(WE(e,n,0,r,this.visualElement,!1))}stopAnimation(){nc(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){nc(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){nc(r=>{const{drag:n}=this.getProps();if(!gw(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(e[r]-hs(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!cg(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};nc(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=Nue({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),nc(o=>{if(!gw(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(hs(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;Cue.set(this.visualElement,this);const e=this.visualElement.current,r=py(e,"pointerdown",c=>{const{drag:d,dragListener:f=!0}=this.getProps();d&&f&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();cg(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),ns.read(n);const o=Wy(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(nc(f=>{const m=this.getAxisMotionValue(f);m&&(this.originPoint[f]+=c[f].translate,m.set(m.get()+c[f].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=j6,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function gw(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Aue(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Tue extends gm{constructor(e){super(e),this.removeGroupControls=mc,this.removeListeners=mc,this.controls=new _ue(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mc}unmount(){this.removeGroupControls(),this.removeListeners()}}const DR=t=>(e,r)=>{t&&ns.postRender(()=>t(e,r))};class Mue extends gm{constructor(){super(...arguments),this.removePointerDownListener=mc}onPointerDown(e){this.session=new TK(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AK(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:DR(e),onStart:DR(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&ns.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=py(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const k2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function PR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Tb={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Kr.test(t))t=parseFloat(t);else return t;const r=PR(t,e.target.x),n=PR(t,e.target.y);return`${r}% ${n}%`}},Oue={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=om.parse(t);if(s.length>5)return n;const i=om.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=hs(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let pC=!1;class Eue extends b.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;ede(Due),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),pC&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),k2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,pC=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ns.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),PE.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;pC=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function OK(t){const[e,r]=ZY(),n=b.useContext(fE);return a.jsx(Eue,{...t,layoutGroup:n,switchLayoutGroup:b.useContext(uK),isPresent:e,safeToRemove:r})}const Due={borderRadius:{...Tb,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Tb,borderTopRightRadius:Tb,borderBottomLeftRadius:Tb,borderBottomRightRadius:Tb,boxShadow:Oue};function Pue(t,e,r){const n=go(t)?t:Ig(t);return n.start(WE("",n,e,r)),n.animation}const Lue=(t,e)=>t.depth-e.depth;class Rue{constructor(){this.children=[],this.isDirty=!1}add(e){pE(this.children,e),this.isDirty=!0}remove(e){gE(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(Lue),this.isDirty=!1,this.children.forEach(e)}}function Iue(t,e){const r=ol.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(im(n),t(i-e))};return ns.setup(n,!0),()=>im(n)}const EK=["TopLeft","TopRight","BottomLeft","BottomRight"],Fue=EK.length,LR=t=>typeof t=="string"?parseFloat(t):t,RR=t=>typeof t=="number"||Kr.test(t);function $ue(t,e,r,n,s,i){s?(t.opacity=hs(0,r.opacity??1,Hue(n)),t.opacityExit=hs(e.opacity??1,0,Bue(n))):i&&(t.opacity=hs(e.opacity??1,r.opacity??1,n));for(let o=0;o<Fue;o++){const l=`border${EK[o]}Radius`;let c=IR(e,l),d=IR(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||RR(c)===RR(d)?(t[l]=Math.max(hs(LR(c),LR(d),n),0),(eu.test(d)||eu.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=hs(e.rotate||0,r.rotate||0,n))}function IR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Hue=DK(0,.5,yY),Bue=DK(.5,.95,mc);function DK(t,e,r){return n=>n<t?0:n>e?1:r(Hy(t,e,n))}function FR(t,e){t.min=e.min,t.max=e.max}function Ql(t,e){FR(t.x,e.x),FR(t.y,e.y)}function $R(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function HR(t,e,r,n,s){return t-=e,t=aj(t,1/r,n),s!==void 0&&(t=aj(t,1/s,n)),t}function zue(t,e=0,r=1,n=.5,s,i=t,o=t){if(eu.test(e)&&(e=parseFloat(e),e=hs(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=hs(i.min,i.max,n);t===i&&(l-=e),t.min=HR(t.min,e,r,l,s),t.max=HR(t.max,e,r,l,s)}function BR(t,e,[r,n,s],i,o){zue(t,e[r],e[n],e[s],e.scale,i,o)}const que=["x","scaleX","originX"],Uue=["y","scaleY","originY"];function zR(t,e,r,n){BR(t.x,e,que,r?r.x:void 0,n?n.x:void 0),BR(t.y,e,Uue,r?r.y:void 0,n?n.y:void 0)}function qR(t){return t.translate===0&&t.scale===1}function PK(t){return qR(t.x)&&qR(t.y)}function UR(t,e){return t.min===e.min&&t.max===e.max}function Wue(t,e){return UR(t.x,e.x)&&UR(t.y,e.y)}function WR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function LK(t,e){return WR(t.x,e.x)&&WR(t.y,e.y)}function VR(t){return Eo(t.x)/Eo(t.y)}function GR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Vue{constructor(){this.members=[]}add(e){pE(this.members,e),e.scheduleRender()}remove(e){if(gE(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Gue(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:f,rotateX:m,rotateY:p,skewX:g,skewY:v}=r;d&&(n=`perspective(${d}px) ${n}`),f&&(n+=`rotate(${f}deg) `),m&&(n+=`rotateX(${m}deg) `),p&&(n+=`rotateY(${p}deg) `),g&&(n+=`skewX(${g}deg) `),v&&(n+=`skewY(${v}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const gC=["","X","Y","Z"],Yue=1e3;let Kue=0;function xC(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function RK(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=wK(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ns,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&RK(n)}function IK({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Kue++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Que),this.nodes.forEach(rfe),this.nodes.forEach(nfe),this.nodes.forEach(Zue)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new Rue)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new yE),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=QY(o)&&!$ce(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let f,m=0;const p=()=>this.root.updateBlockedByResize=!1;ns.read(()=>{m=window.innerWidth}),t(o,()=>{const g=window.innerWidth;g!==m&&(m=g,this.root.updateBlockedByResize=!0,f&&f(),f=Iue(p,250),k2.hasAnimatedSinceResize&&(k2.hasAnimatedSinceResize=!1,this.nodes.forEach(JR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:m,hasRelativeLayoutChanged:p,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||d.getDefaultTransition()||lfe,{onLayoutAnimationStart:w,onLayoutAnimationComplete:y}=d.getProps(),N=!this.targetLayout||!LK(this.targetLayout,g),k=!m&&p;if(this.options.layoutRoot||this.resumeFrom||k||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...EE(v,"layout"),onPlay:w,onComplete:y};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(f,k)}else m||JR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),im(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(afe),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RK(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const m=this.path[f];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(YR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(KR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(tfe),this.nodes.forEach(Jue),this.nodes.forEach(Xue)):this.nodes.forEach(KR),this.clearAllSnapshots();const l=ol.now();Wi.delta=Of(0,1e3/60,l-Wi.timestamp),Wi.timestamp=l,Wi.isProcessing=!0,sC.update.process(Wi),sC.preRender.process(Wi),sC.render.process(Wi),Wi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,PE.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(efe),this.sharedNodes.forEach(sfe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ns.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ns.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Eo(this.snapshot.measuredBox.x)&&!Eo(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Is(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!PK(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,f=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||Ym(this.latestValues)||f)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),cfe(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Is();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(dfe))){const{scroll:f}=this.root;f&&(dg(l.x,f.offset.x),dg(l.y,f.offset.y))}return l}removeElementScroll(o){var c;const l=Is();if(Ql(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const f=this.path[d],{scroll:m,options:p}=f;f!==this.root&&m&&p.layoutScroll&&(m.wasRoot&&Ql(l,o),dg(l.x,m.offset.x),dg(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Is();Ql(c,o);for(let d=0;d<this.path.length;d++){const f=this.path[d];!l&&f.options.layoutScroll&&f.scroll&&f!==f.root&&ug(c,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Ym(f.latestValues)&&ug(c,f.latestValues)}return Ym(this.latestValues)&&ug(c,this.latestValues),c}removeTransform(o){const l=Is();Ql(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!Ym(d.latestValues))continue;g6(d.latestValues)&&d.updateSnapshot();const f=Is(),m=d.measurePageBox();Ql(f,m),zR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,f)}return Ym(this.latestValues)&&zR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Wi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var p;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(p=this.parent)!=null&&p.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:m}=this.options;if(!(!this.layout||!(f||m))){if(this.resolvedRelativeTargetAt=Wi.timestamp,!this.targetDelta&&!this.relativeTarget){const g=this.getClosestProjectingParent();g&&g.layout&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),xy(this.relativeTargetOrigin,this.layout.layoutBox,g.layout.layoutBox),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Is(),this.targetWithTransforms=Is()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),gue(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ql(this.target,this.layout.layoutBox),pK(this.target,this.targetDelta)):Ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const g=this.getClosestProjectingParent();g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?(this.relativeParent=g,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Is(),this.relativeTargetOrigin=Is(),xy(this.relativeTargetOrigin,this.target,g.target),Ql(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||g6(this.parent.latestValues)||mK(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var v;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Wi.timestamp&&(c=!1),c)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;Ql(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,p=this.treeScale.y;Ade(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Is());const{target:g}=o;if(!g){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():($R(this.prevProjectionDelta.x,this.projectionDelta.x),$R(this.prevProjectionDelta.y,this.projectionDelta.y)),gy(this.projectionDelta,this.layoutCorrected,g,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==p||!GR(this.projectionDelta.x,this.prevProjectionDelta.x)||!GR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fg(),this.projectionDelta=fg(),this.projectionDeltaWithTransform=fg()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},f={...this.latestValues},m=fg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const p=Is(),g=c?c.source:void 0,v=this.layout?this.layout.source:void 0,w=g!==v,y=this.getStack(),N=!y||y.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(ofe));this.animationProgress=0;let S;this.mixTargetDelta=A=>{const _=A/1e3;XR(m.x,o.x,_),XR(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xy(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ife(this.relativeTarget,this.relativeTargetOrigin,p,_),S&&Wue(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Is()),Ql(S,this.relativeTarget)),w&&(this.animationValues=f,$ue(f,d,this.latestValues,_,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(im(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ns.update(()=>{k2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Ig(0)),this.currentAnimation=Pue(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),o.onUpdate&&o.onUpdate(f)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Yue),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:f}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&FK(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Is();const m=Eo(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const p=Eo(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+p}Ql(l,c),ug(l,f),gy(this.projectionDeltaWithTransform,this.layoutCorrected,l,f)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Vue),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&xC("z",o,d,this.animationValues);for(let f=0;f<gC.length;f++)xC(`rotate${gC[f]}`,o,d,this.animationValues),xC(`skew${gC[f]}`,o,d,this.animationValues);o.render();for(const f in d)o.setStaticValue(f,d[f]),this.animationValues&&(this.animationValues[f]=d[f]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=S2(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=S2(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Ym(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const f=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Gue(this.projectionDeltaWithTransform,this.treeScale,f);c&&(m=c(f,m)),o.transform=m;const{x:p,y:g}=this.projectionDelta;o.transformOrigin=`${p.origin*100}% ${g.origin*100}% 0`,d.animationValues?o.opacity=d===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:o.opacity=d===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const v in Uy){if(f[v]===void 0)continue;const{correct:w,applyTo:y,isCSSVariable:N}=Uy[v],k=m==="none"?f[v]:w(f[v],d);if(y){const S=y.length;for(let A=0;A<S;A++)o[y[A]]=k}else N?this.options.visualElement.renderState.vars[v]=k:o[v]=k}this.options.layoutId&&(o.pointerEvents=d===this?S2(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(YR),this.root.sharedNodes.clear()}}}function Jue(t){t.updateLayout()}function Xue(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?nc(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],g=Eo(p);p.min=n[m].min,p.max=p.min+g}):FK(i,e.layoutBox,n)&&nc(m=>{const p=o?e.measuredBox[m]:e.layoutBox[m],g=Eo(n[m]);p.max=p.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const l=fg();gy(l,n,e.layoutBox);const c=fg();o?gy(c,t.applyTransform(s,!0),e.measuredBox):gy(c,n,e.layoutBox);const d=!PK(l);let f=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:p,layout:g}=m;if(p&&g){const v=Is();xy(v,e.layoutBox,p.layoutBox);const w=Is();xy(w,n,g.layoutBox),LK(v,w)||(f=!0),m.options.layoutRoot&&(t.relativeTarget=w,t.relativeTargetOrigin=v,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Que(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Zue(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function efe(t){t.clearSnapshot()}function YR(t){t.clearMeasurements()}function KR(t){t.isLayoutDirty=!1}function tfe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function JR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function rfe(t){t.resolveTargetDelta()}function nfe(t){t.calcProjection()}function afe(t){t.resetSkewAndRotation()}function sfe(t){t.removeLeadSnapshot()}function XR(t,e,r){t.translate=hs(e.translate,0,r),t.scale=hs(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function QR(t,e,r,n){t.min=hs(e.min,r.min,n),t.max=hs(e.max,r.max,n)}function ife(t,e,r,n){QR(t.x,e.x,r.x,n),QR(t.y,e.y,r.y,n)}function ofe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const lfe={duration:.45,ease:[.4,0,.1,1]},ZR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),eI=ZR("applewebkit/")&&!ZR("chrome/")?Math.round:mc;function tI(t){t.min=eI(t.min),t.max=eI(t.max)}function cfe(t){tI(t.x),tI(t.y)}function FK(t,e,r){return t==="position"||t==="preserve-aspect"&&!pue(VR(e),VR(r),.2)}function dfe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const ufe=IK({attachResizeListener:(t,e)=>Wy(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),bC={current:void 0},$K=IK({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!bC.current){const t=new ufe({});t.mount(window),t.setOptions({layoutScroll:!0}),bC.current=t}return bC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),ffe={pan:{Feature:Mue},drag:{Feature:Tue,ProjectionNode:$K,MeasureLayout:OK}};function rI(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&ns.postRender(()=>i(e,Qv(e)))}class hfe extends gm{mount(){const{current:e}=this.node;e&&(this.unmount=Pce(e,(r,n)=>(rI(this.node,n,"Start"),s=>rI(this.node,s,"End"))))}unmount(){}}class mfe extends gm{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Kv(Wy(this.node.current,"focus",()=>this.onFocus()),Wy(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function nI(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&ns.postRender(()=>i(e,Qv(e)))}class pfe extends gm{mount(){const{current:e}=this.node;e&&(this.unmount=Fce(e,(r,n)=>(nI(this.node,n,"Start"),(s,{success:i})=>nI(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const N6=new WeakMap,yC=new WeakMap,gfe=t=>{const e=N6.get(t.target);e&&e(t)},xfe=t=>{t.forEach(gfe)};function bfe({root:t,...e}){const r=t||document;yC.has(r)||yC.set(r,{});const n=yC.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(xfe,{root:t,...e})),n[s]}function yfe(t,e,r){const n=bfe(e);return N6.set(t,r),n.observe(t),()=>{N6.delete(t),n.unobserve(t)}}const vfe={some:0,all:1};class wfe extends gm{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:vfe[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:f,onViewportLeave:m}=this.node.getProps(),p=d?f:m;p&&p(c)};return yfe(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(jfe(e,r))&&this.startObserver()}unmount(){}}function jfe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Nfe={inView:{Feature:wfe},tap:{Feature:pfe},focus:{Feature:mfe},hover:{Feature:hfe}},Sfe={layout:{ProjectionNode:$K,MeasureLayout:OK}},kfe={...cue,...Nfe,...ffe,...Sfe},T=kde(kfe,Fde);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_fe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),aI=t=>{const e=_fe(t);return e.charAt(0).toUpperCase()+e.slice(1)},HK=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Afe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Tfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=b.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>b.createElement("svg",{ref:c,...Tfe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:HK("lucide",s),...!i&&!Afe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,f])=>b.createElement(d,f)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ut=(t,e)=>{const r=b.forwardRef(({className:n,...s},i)=>b.createElement(Mfe,{ref:i,iconNode:e,className:HK(`lucide-${Cfe(aI(t))}`,`lucide-${t}`,n),...s}));return r.displayName=aI(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],fc=Ut("activity",Ofe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Dfe=Ut("align-center",Efe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],Lfe=Ut("align-justify",Pfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],Ife=Ut("align-left",Rfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],$fe=Ut("align-right",Ffe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],Bfe=Ut("archive",Hfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],mn=Ut("arrow-left",zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ufe=Ut("arrow-right",qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],VE=Ut("bell",Wfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Gfe=Ut("bold",Vfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],df=Ut("book-open",Yfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Jfe=Ut("box",Kfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],BK=Ut("boxes",Xfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],dd=Ut("building",Qfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xa=Ut("calendar",Zfe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],S6=Ut("camera",ehe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],$g=Ut("chart-bar",the);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],nhe=Ut("chart-column",rhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],xc=Ut("chart-no-axes-column",ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],la=Ut("chevron-down",she);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],fu=Ut("chevron-left",ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],ta=Ut("chevron-right",ohe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],sj=Ut("chevron-up",lhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],k6=Ut("circle-alert",che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],ur=Ut("circle-check-big",dhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polygon",{points:"10 8 16 12 10 16 10 8",key:"1cimsy"}]],zK=Ut("circle-play",uhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],GE=Ut("circle-x",fhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],un=Ut("clipboard",hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mhe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Cr=Ut("clock",mhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const phe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ghe=Ut("code",phe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xhe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],bhe=Ut("component",xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yhe=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],vhe=Ut("computer",yhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const whe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],jhe=Ut("copy",whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nhe=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],She=Ut("credit-card",Nhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const khe=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],CN=Ut("database",khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Che=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],_he=Ut("download",Che);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ahe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],YE=Ut("external-link",Ahe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const The=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],bo=Ut("eye",The);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mhe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],yf=Ut("file-text",Mhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ohe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],sI=Ut("file",Ohe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ehe=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],qK=Ut("folder-plus",Ehe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dhe=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],UK=Ut("folder",Dhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Phe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Lhe=Ut("frown",Phe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rhe=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Ki=Ut("funnel",Rhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ihe=[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]],WK=Ut("git-branch",Ihe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],$he=Ut("globe",Fhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hhe=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],C6=Ut("hammer",Hhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bhe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],zhe=Ut("heading-1",Bhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qhe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Uhe=Ut("heading-2",qhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Whe=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],Vhe=Ut("heading-3",Whe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ghe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Kh=Ut("history",Ghe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yhe=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],fn=Ut("hourglass",Yhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Khe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],yp=Ut("house",Khe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jhe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Zs=Ut("info",Jhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xhe=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Qhe=Ut("italic",Xhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zhe=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Ep=Ut("key",Zhe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eme=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],tme=Ut("layers",eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rme=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],VK=Ut("life-buoy",rme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nme=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],ame=Ut("link",nme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sme=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],Hg=Ut("list-check",sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ime=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],_6=Ut("list-checks",ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ome=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],lme=Ut("list-ordered",ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cme=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Ox=Ut("list-plus",cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dme=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],KE=Ut("list",dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ume=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],lm=Ut("loader",ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fme=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],hme=Ut("lock",fme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mme=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],pme=Ut("log-out",mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gme=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Jp=Ut("mail",gme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xme=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],gs=Ut("map-pin",xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bme=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],wg=Ut("message-square",bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yme=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Jh=Ut("monitor",yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vme=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],GK=Ut("moon",vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wme=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Ya=Ut("package",wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jme=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],Nme=Ut("paint-bucket",jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sme=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],kme=Ut("palette",Sme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cme=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],bc=Ut("paperclip",Cme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _me=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],sd=Ut("phone",_me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ame=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],Tme=Ut("pilcrow",Ame);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mme=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],pa=Ut("plus",Mme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ome=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],iI=Ut("printer",Ome);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eme=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],YK=Ut("qr-code",Eme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dme=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Pme=Ut("receipt",Dme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lme=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],Rme=Ut("redo-2",Lme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ime=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Fme=Ut("refresh-cw",Ime);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $me=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],Hme=Ut("remove-formatting",$me);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bme=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],zme=Ut("save-all",Bme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qme=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bn=Ut("save",qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ume=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Pa=Ut("search",Ume);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wme=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],zs=Ut("settings",Wme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vme=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],Gme=Ut("share-2",Vme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yme=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Kme=Ut("shopping-cart",Yme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jme=[["path",{d:"M21 10.656V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h12.344",key:"2acyp4"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],KK=Ut("square-check-big",Jme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xme=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],$a=Ut("square-pen",Xme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qme=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Zme=Ut("strikethrough",Qme);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const epe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],A6=Ut("sun",epe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tpe=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],Pl=Ut("tool-case",tpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rpe=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],In=Ut("trash-2",rpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const npe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],uf=Ut("trending-up",npe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ape=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hr=Ut("triangle-alert",ape);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const spe=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],JK=Ut("type",spe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ipe=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],ope=Ut("undo-2",ipe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lpe=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],ni=Ut("upload",lpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cpe=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],oI=Ut("user-check",cpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dpe=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ij=Ut("user-cog",dpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const upe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],fpe=Ut("user-plus",upe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hpe=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],ln=Ut("user",hpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mpe=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ga=Ut("users",mpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ppe=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],jg=Ut("warehouse",ppe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gpe=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],ia=Ut("wrench",gpe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xpe=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$t=Ut("x",xpe),fa=be.memo(({icon:t,text:e,to:r,expanded:n,onNavigate:s})=>{const i=tr(),l=Ws().pathname===r,c=()=>{i(r),s&&s()};return a.jsxs(T.button,{onClick:c,whileHover:{backgroundColor:l?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${l?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
        ${n?"justify-start":"justify-center"}
      `,children:[a.jsx("span",{className:`text-xl transition-colors duration-200 ${l?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&a.jsx(T.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),bpe=()=>{const[t,e]=b.useState(()=>{const w=localStorage.getItem("sidebarOpen");return w?JSON.parse(w):!1}),r=tr(),[n,s]=b.useState(window.innerWidth<768),[i,o]=b.useState(!1),{user:l,hasPermission:c}=sr(),d=b.useRef(null);b.useEffect(()=>{const w=()=>{const y=window.innerWidth<768;s(y),!y&&t&&e(!0)};return window.addEventListener("resize",w),()=>window.removeEventListener("resize",w)},[t]),b.useEffect(()=>{const w=d.current;if(w){const y=sessionStorage.getItem("sidebarScrollPos");y&&(w.scrollTop=parseInt(y,10));const N=()=>{sessionStorage.setItem("sidebarScrollPos",w.scrollTop.toString())};return w.addEventListener("scroll",N),()=>{w.removeEventListener("scroll",N)}}},[]);const f=()=>{const w=!t;localStorage.setItem("sidebarOpen",JSON.stringify(w)),e(w)},m=()=>{o(!i)},p=()=>{o(!1)},g=()=>a.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-40 md:hidden",children:a.jsxs("div",{className:"flex justify-around items-center py-2",children:[a.jsxs("button",{onClick:m,className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${i?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(yp,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Menu"})]}),a.jsxs("button",{onClick:()=>r("/dashboard"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/dashboard"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(xc,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Dashboard"})]}),a.jsxs("button",{onClick:()=>r("/workorders"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/workorders"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(un,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Work Orders"})]}),a.jsxs("button",{onClick:()=>r("/monitoringmaintenance"),className:`flex flex-col items-center p-2 rounded-lg transition-colors duration-200 ${location.pathname==="/monitoringmaintenance"?"text-blue-600 bg-blue-50":"text-gray-600"}`,children:[a.jsx(Jh,{className:"text-xl"}),a.jsx("span",{className:"text-xs mt-1",children:"Monitoring"})]})]})}),v=()=>a.jsx(ar,{children:i&&a.jsxs(a.Fragment,{children:[a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 bg-black bg-opacity-50 z-40 md:hidden",onClick:m}),a.jsxs(T.div,{initial:{x:"-100%"},animate:{x:0},exit:{x:"-100%"},transition:{duration:.3,ease:"easeOut"},className:"fixed inset-y-0 left-0 w-80 bg-white z-50 md:hidden shadow-xl",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100 bg-white",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-8 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-lg",children:"CMMS"})]}),a.jsx("button",{onClick:m,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx($t,{className:"text-xl"})})]}),a.jsxs("nav",{className:"flex-1 p-4 space-y-2 overflow-y-auto h-[calc(100vh-140px)]",children:[c("1")&&a.jsx(fa,{icon:a.jsx(yp,{}),text:"Dashboard",to:"/dashboard",expanded:!0,onNavigate:p}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"5S"}),c("7")&&a.jsx(fa,{icon:a.jsx(un,{}),text:"Genba",to:"/genba",expanded:!0,onNavigate:p})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"System"}),c("23")&&a.jsxs(a.Fragment,{children:[a.jsx(fa,{icon:a.jsx(Hg,{}),text:"Audit Trail",to:"/audittrail",expanded:!0,onNavigate:p}),a.jsx(fa,{icon:a.jsx(Kh,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:!0,onNavigate:p})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Master"}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Assets",to:"/assets",expanded:!0,onNavigate:p}),c("15")&&a.jsx(fa,{icon:a.jsx(Ep,{}),text:"User Management",to:"/permissions",expanded:!0,onNavigate:p})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Maintenance"}),c("31")&&a.jsxs(a.Fragment,{children:[a.jsx(fa,{icon:a.jsx($g,{}),text:"Machine History",to:"/machinehistory",expanded:!0,onNavigate:p}),a.jsx(fa,{icon:a.jsx(Jh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:!0,onNavigate:p})]})]}),a.jsxs("div",{className:"pt-4",children:[a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-2 pb-2 tracking-wider",children:"Work Orders"}),c("7")&&a.jsx(fa,{icon:a.jsx(un,{}),text:"Work Orders",to:"/workorders",expanded:!0,onNavigate:p})]})]}),a.jsx("div",{className:"p-4 border-t border-gray-100 bg-white",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(l==null?void 0:l.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:(l==null?void 0:l.name)||"User"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Version 1.0.0"})]})]})})]})]})});return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"hidden md:flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:a.jsx(ar,{children:(!n||t)&&a.jsxs(T.div,{initial:{width:n?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:"bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden",children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-9 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),a.jsx("button",{onClick:f,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?a.jsx(fu,{className:"text-xl"}):a.jsx(ta,{className:"text-xl"})})]}),a.jsxs("nav",{ref:d,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[c("1")&&a.jsx(fa,{icon:a.jsx(yp,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"5S"}),c("7")&&a.jsx(fa,{icon:a.jsx(un,{}),text:"Genba",to:"/genba",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),c("23")&&a.jsx(fa,{icon:a.jsx(Hg,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Kh,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Kh,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),c("23")&&a.jsx(fa,{icon:a.jsx(gs,{}),text:"Work Location",to:"/worklocation",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(ga,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),c("15")&&a.jsx(fa,{icon:a.jsx(Ep,{}),text:"User Management",to:"/permissions",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(ia,{}),text:"Spare Part",to:"/sparepart",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Assets",to:"/assets",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Ya,{}),text:"Vendors",to:"/vendors",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(VK,{}),text:"Services",to:"/services",expanded:t}),c("3")&&a.jsx(fa,{icon:a.jsx(Pl,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),c("31")&&a.jsx(fa,{icon:a.jsx($g,{}),text:"Machine History",to:"/machinehistory",expanded:t}),c("31")&&a.jsx(fa,{icon:a.jsx(Jh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),c("7")&&a.jsx(fa,{icon:a.jsx(un,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),c("23")&&a.jsx(fa,{icon:a.jsx(bhe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Kme,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Pme,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),c("23")&&a.jsx(fa,{icon:a.jsx(Bfe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(l==null?void 0:l.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),a.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})]})]})})]})})}),a.jsx(g,{}),a.jsx(v,{})]})},er=be.memo(bpe),lI=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:a.jsx(Hr,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:a.jsx(xa,{className:"text-blue-500"})}],cI={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset/:id":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit/:id":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder/:id":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor/:id":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup/:id":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue/:id":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime/:id":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype/:id":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity/:id":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem/:id":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment/:id":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit/:id":"Edit Work Unit","/worklocation/workarea":"Work Area","/worklocation/workarea/addworkarea":"Add Work Area","/worklocation/workarea/editworkarea/:id":"Edit Work Area","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift/:id":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup/:id":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},lr=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:s,toggleSidebar:i})=>{const{user:o,logout:l}=sr(),c=tr(),d=Ws(),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(!1),y=b.useRef(null),N=b.useRef(null);b.useEffect(()=>{const _=O=>{y.current&&!y.current.contains(O.target)&&m(!1),N.current&&!N.current.contains(O.target)&&g(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=d.pathname.split("/").filter(I=>I!==""),O=[];O.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let P="";for(let I=0;I<_.length;I++){const R=_[I];if(P+=`/${R}`,/^\d+$/.test(R)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(R))continue;const F=cI[P]||R.charAt(0).toUpperCase()+R.slice(1).replace(/([A-Z])/g," $1");O.push({label:F,path:P,isClickable:I<_.length-1&&cI[P]!==void 0})}return O})(),A=()=>{const _={className:`text-blue-600 ${n.props.className||""}`};return be.cloneElement(n,_)};return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"text-blue-600 text-xl",children:A()}),a.jsx("div",{className:"flex flex-col",children:a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>w(!v),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":v?"Switch to light mode":"Switch to dark mode",children:v?a.jsx(A6,{className:"text-yellow-400 text-xl"}):a.jsx(GK,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:y,children:[a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!f),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(VE,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(ar,{children:f&&a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:lI.length>0?lI.map(_=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(T.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>g(!p),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),!s&&a.jsx("span",{className:"font-medium text-gray-900 text-sm",children:o==null?void 0:o.name}),a.jsx(la,{className:"text-gray-500 text-base"})]}),a.jsx(ar,{children:p&&a.jsxs(T.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100 truncate",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/settings"),g(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(zs,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout"),g(!1)},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(pme,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,O)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[O===0?a.jsx(yp,{size:16,className:"text-gray-400"}):a.jsx(ta,{size:16,className:"text-gray-400"}),_.isClickable?a.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):a.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},xw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},dI=()=>{var E;const[t,e]=b.useState(!1),[r,n]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[s,i]=b.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=sr(),[d,f]=b.useState(null),m=tr(),[p,g]=b.useState(!1),[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=b.useRef(null),_=b.useRef(null);b.useEffect(()=>{const M=()=>{w(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",M),()=>window.removeEventListener("resize",M)},[]),b.useEffect(()=>{const M=H=>{A.current&&!A.current.contains(H.target)&&N(!1),_.current&&!_.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",M),()=>{document.removeEventListener("mousedown",M)}},[]);const O=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(uf,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Hr,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(ur,{className:"text-blue-500"}),date:"Jul 28, 2023"}],P=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],I={total:142,running:118,maintenance:15,breakdown:5,idle:4},R={total:86,overdue:5},F=()=>{g(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(M=>!M)};return b.useEffect(()=>{i(1),(async()=>{try{const H=await l("/protected-data");f(H)}catch(H){console.error("Failed to fetch data:",H)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(yp,{}),isMobile:v,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((E=o==null?void 0:o.role)==null?void 0:E.name),"!"]}),a.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(xw,{title:"Total Assets",value:I.total.toString(),change:"+8%",icon:a.jsx(Ya,{})}),a.jsx(xw,{title:"Assets Running",value:I.running.toString(),change:"+5%",icon:a.jsx(ur,{})}),a.jsx(xw,{title:"Work Orders",value:R.total.toString(),change:"-3%",icon:a.jsx(un,{})}),a.jsx(xw,{title:"Overdue Tasks",value:R.overdue.toString(),change:"+2%",icon:a.jsx(Cr,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(T.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:O.map(M=>a.jsxs(T.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:M.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:M.title}),a.jsx("p",{className:"text-sm text-gray-600",children:M.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.date})]})]},M.id))})]}),a.jsxs(T.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(xc,{className:"mx-auto text-4xl mb-2"}),a.jsx("p",{children:"Asset Status Chart"})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(I.running/I.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(I.maintenance/I.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(I.breakdown/I.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(I.idle/I.total*100),"%)"]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(T.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:P.map(M=>a.jsx(T.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(T.img,{whileHover:{rotate:5},src:M.avatar,alt:M.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:M.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:M.role})]}),a.jsx("p",{className:"text-sm mt-1 text-gray-700",children:M.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:M.time})]})]})},M.id))})]}),a.jsxs(T.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:a.jsx(un,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:a.jsx(Ya,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:a.jsx(wg,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:a.jsx(xc,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((M,H)=>a.jsxs(T.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:M.onClick,children:[a.jsx("span",{children:M.text}),M.icon]},H))})]})]})]})]})]})]})},ype=()=>a.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:a.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),so=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:s}=sr(),i=tr(),o=Ws();return b.useEffect(()=>{if(!s){if(!e){i("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,i,o,s]),s?a.jsx(ype,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?a.jsx(Kie,{}):null},vpe=()=>{const[t,e]=b.useState(""),[r,n]=b.useState(""),[s,i]=b.useState(""),[o,l]=b.useState(!1),c=async d=>{d.preventDefault(),n(""),i(""),l(!0);try{await new Promise(f=>setTimeout(f,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(f){n(f instanceof Error?f.message:"Failed to send reset link")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&a.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),s&&a.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),a.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",a.jsx(sm,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},wpe=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-4xl",children:a.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),a.jsx("p",{children:"We collect personal information when you register, including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Full name and contact details"}),a.jsx("li",{children:"Professional credentials (for healthcare providers)"}),a.jsx("li",{children:"Usage data and cookies"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),a.jsx("p",{children:"Your data helps us:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Provide pharmaceutical services"}),a.jsx("li",{children:"Secure your account with authentication"}),a.jsx("li",{children:"Improve our platform"}),a.jsx("li",{children:"Comply with legal requirements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),a.jsx("p",{children:"We implement security measures including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security audits"}),a.jsx("li",{children:"Access controls to personal information"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),a.jsx("p",{children:"We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Verified healthcare partners (with consent)"}),a.jsx("li",{children:"Legal authorities when required"}),a.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You may request to:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Access your personal data"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Delete your account data"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[a.jsx(sm,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),jpe=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],Npe=()=>{const{logout:t,isLoggingOut:e}=sr(),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o]=b.useState(jpe[0]),[l,c]=b.useState(!1);b.useEffect(()=>{i(!0);let g;return c(!0),g=window.setTimeout(()=>{c(!1)},500),()=>{clearTimeout(g)}},[]);const d={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},f=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(g){n("Failed to logout. Please try again."),console.error("Logout error:",g)}},p=()=>{window.history.back()};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${s?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:gp,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...d,...f},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${s?"opacity-100":"opacity-0"}`,children:o}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${s?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?a.jsx(a.Fragment,{children:a.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:a.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):a.jsxs(a.Fragment,{children:[r&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),a.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[a.jsx(qoe,{className:"mr-2"}),"Yes, Sign Out Now"]}),a.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:a.jsxs("button",{onClick:p,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[a.jsx(uE,{className:"mr-2"}),"No, Stay Logged In"]})})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${s?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",a.jsx(sm,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(zoe,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${s?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${s?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Security check on exit completed"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},bw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:"mt-3 text-xs font-semibold text-green-600",children:[r," from last month"]})]})},Spe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,kpe=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[s,i]=b.useState(t);b.useEffect(()=>{i(t)},[t]);const o=d=>{d.preventDefault(),r(s)},l=({title:d,children:f,icon:m})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[m&&a.jsx("div",{className:"mr-3 text-blue-600",children:m}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d})]})}),a.jsx("div",{className:"p-6",children:f})]}),c=({label:d,value:f,icon:m,fullWidth:p=!1,priority:g="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${p?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${v[g]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[m&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:d}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:f})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${s.status==="running"?"bg-green-100 text-green-800 border border-green-300":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":s.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Ya,{className:"w-4 h-4"}),"Asset ID: ",s.id]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"w-4 h-4"}),"Type: ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]})})}),a.jsx(l,{title:"Basic Information",icon:a.jsx(Ya,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Asset ID",value:s.id,icon:a.jsx(Ep,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Name",value:s.name,icon:a.jsx(Ya,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Type",value:s.type.charAt(0).toUpperCase()+s.type.slice(1),icon:a.jsx(zs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Make",value:s.make,icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(c,{label:"Model",value:s.model,icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(c,{label:"Location",value:s.location,icon:a.jsx(yp,{className:"w-4 h-4"})})]})}),a.jsx(l,{title:"Status & Maintenance",icon:a.jsx(un,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Current Status",value:s.status.charAt(0).toUpperCase()+s.status.slice(1),icon:a.jsx(ur,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Last Maintenance",value:s.lastMaintenance,icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(c,{label:"Next Maintenance",value:s.nextMaintenance,icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Work Orders",value:s.workOrders.toString(),icon:a.jsx(un,{className:"w-4 h-4"})}),a.jsx(c,{label:"Health Status",value:`${s.health}`,icon:a.jsx(xc,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(l,{title:"Technical Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Make:"})," ",s.make]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Model:"})," ",s.model]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Health Status:"})," ",s.health]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",s.workOrders]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]})]})]})}),a.jsx(l,{title:"Maintenance Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),a.jsx("span",{className:"text-sm text-green-600",children:s.lastMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),a.jsx("span",{className:"text-sm text-blue-600",children:s.nextMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),a.jsx("span",{className:"text-sm text-yellow-600",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]})}),a.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&a.jsx(T.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},Cpe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(()=>{const Oe=localStorage.getItem("sidebarOpen");return Oe?JSON.parse(Oe):!1}),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(null),[k,S]=b.useState(!1),[A,_]=b.useState(1),[O]=b.useState(5),{user:P,fetchWithAuth:I,hasPermission:R,getAssetsData:F,deleteAsset:E}=sr(),[M,H]=b.useState(null),V=tr(),[G,q]=b.useState(!1),[B,z]=b.useState(window.innerWidth<768),[X,ee]=b.useState(!1),[K,W]=b.useState(!1),J=b.useRef(null),Z=b.useRef(null),[ie,ue]=b.useState([]),[je,ce]=b.useState(!1),[le,pe]=b.useState(null),[$e,de]=b.useState(!1),[Se,te]=b.useState(null),se=(Oe,ke)=>{te({id:Oe,name:ke}),de(!0)},ut=async()=>{if(Se){if(console.log("Attempting to delete asset with ID:",Se.id),!Se.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await E(Se.id),ue(ie.filter(Oe=>String(Oe.id)!==Se.id)),console.log(`Asset with ID: ${Se.id} deleted successfully.`),de(!1),te(null)}catch(Oe){console.error("Failed to delete asset:",Oe),alert("Failed to delete asset.")}}},dt=()=>{de(!1),te(null)};b.useEffect(()=>{const Oe=()=>{z(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Oe),()=>window.removeEventListener("resize",Oe)},[]),b.useEffect(()=>{const Oe=ke=>{J.current&&!J.current.contains(ke.target)&&ee(!1),Z.current&&!Z.current.contains(ke.target)&&W(!1)};return document.addEventListener("mousedown",Oe),()=>{document.removeEventListener("mousedown",Oe)}},[]);const De=async()=>{ce(!0),pe(null);try{const Oe=await F();ue(Oe)}catch(Oe){pe("Failed to load data from ERP."),console.error("Error fetching ERP data:",Oe)}finally{ce(!1)}},rt=()=>{q(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Oe=>!Oe)},wt=ie.filter(Oe=>{const ke=String(Oe.id),Ue=s.toLowerCase();return Oe.name.toLowerCase().includes(Ue)||ke.toLowerCase().includes(Ue)||Oe.category.toLowerCase().includes(Ue)||Oe.location.toLowerCase().includes(Ue)}),gt=A*O,Rt=gt-O,He=wt.slice(Rt,gt),he=Math.ceil(wt.length/O),Qe=Oe=>_(Oe);b.useEffect(()=>{_(1),(async()=>{try{const ke=await I("/protected-data");H(ke)}catch(ke){console.error("Failed to fetch data:",ke)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[s,o,c,r,t,I]);const Ge=Oe=>{N(Oe),w(!0),S(!1)},Le=(()=>{if(ie.length===0)return{total:0,active:0,maintenance:0,critical:0,maintenanceDue:0,needsAttention:0};const Oe=ie.length,ke=new Date,Ue=ie.filter(Ke=>Ke.status==="Aktif"||Ke.status!==null).length,Xe=ie.filter(Ke=>Ke.nextMaintenance?new Date(Ke.nextMaintenance)<=ke:!1).length,we=ie.filter(Ke=>Ke.health==="Buruk"||Ke.health==="Critical").length,ye=Xe+we;return{total:Oe,active:Ue,maintenance:Xe,critical:we,maintenanceDue:Xe,needsAttention:ye}})(),_e=Le.total>0?Math.round(Le.active/Le.total*100):0,qe=Le.total>0?Math.round(Le.maintenance/Le.total*100):0,ge=Le.total>0?Math.round(Le.critical/Le.total*100):0;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Ya,{}),isMobile:B,toggleSidebar:rt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(T.button,{onClick:De,disabled:je,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${je?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(CN,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:je?"Loading...":"Load Data from ERP"})]}),a.jsxs(T.button,{onClick:()=>V("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Asset"})]}),a.jsxs(T.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(T.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ki,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),f?a.jsx(sj,{}):a.jsx(la,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(bw,{title:"Total Assets",value:Le.total.toString(),change:`${Le.total} units`,icon:a.jsx(Ya,{})}),a.jsx(bw,{title:"Active Assets",value:Le.active.toString(),change:`${_e}% operational`,icon:a.jsx(ur,{})}),a.jsx(bw,{title:"Due Maintenance",value:Le.maintenance.toString(),change:`${qe}% need service`,icon:a.jsx(ia,{})}),a.jsx(bw,{title:"Critical Issues",value:Le.critical.toString(),change:`${ge}% critical`,icon:a.jsx(Hr,{})})]}),a.jsx(T.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Oe=>i(Oe.target.value)})]}),a.jsx(ar,{children:f&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Oe=>l(Oe.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]}),a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:Oe=>d(Oe.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]})})]})}),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[je&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),le&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Hr,{className:"text-red-500 mr-2"}),le]})})}),!je&&ie.length===0&&!le&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(Ya,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),He.length>0&&He.map((Oe,ke)=>{const Ue=Rt+ke;return a.jsxs(T.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ue+1})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-0",children:[" ",a.jsx("div",{className:"text-base font-medium text-gray-900",children:Oe.name}),a.jsx("div",{className:"text-sm text-gray-600",children:Oe.category})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:Oe.location})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:Oe.purchaseDate})," "]}),a.jsxs("td",{className:"px-6 py-4",children:[" ",a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:Oe.description})," "]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(T.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>V(`/assets/assetsdata/editasset/${Oe.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:a.jsx($a,{className:"w-5 h-5"})}),a.jsx(T.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>se(String(Oe.id),Oe.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:a.jsx(In,{className:"w-5 h-5"})}),a.jsx(T.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>Ge(Oe),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:a.jsx(bo,{className:"w-5 h-5"})})]})})]},Oe.id)})]})]})})}),wt.length>O&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Rt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(gt,wt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:wt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Qe(A-1),disabled:A===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:he},(Oe,ke)=>a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Qe(ke+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${A===ke+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ke+1},ke+1)),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Qe(A+1),disabled:A===he,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),y&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:k?"Edit Asset":"Asset Details"}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{w(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx($t,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:a.jsx(kpe,{asset:y,isEditing:k,onSave:()=>{},onCancel:()=>{w(!1),N(null),S(!1)}})})]})}),a.jsx(Spe,{isOpen:$e,onClose:dt,title:"Confirm Delete",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Hr,{className:"text-yellow-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),a.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",a.jsx("strong",{children:Se==null?void 0:Se.name})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:dt,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ut,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},_pe=()=>{const{user:t,hasPermission:e,logout:r}=sr(),n=tr();Ws();const[s,i]=b.useState(!1),[o,l]=b.useState(()=>{const E=localStorage.getItem("sidebarOpen");return E?JSON.parse(E):!1}),[c,d]=b.useState(window.innerWidth<768),[f,m]=b.useState("profile"),[p,g]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=b.useRef(null);b.useEffect(()=>{const E=()=>{d(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",E),()=>window.removeEventListener("resize",E)},[]),b.useEffect(()=>{const E=M=>{k.current&&!k.current.contains(M.target)&&N(!1)};return document.addEventListener("mousedown",E),()=>{document.removeEventListener("mousedown",E)}},[]);const[S,A]=b.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(E=>!E)},O=E=>{const{name:M,value:H,type:V}=E.target,G=V==="checkbox"?E.target.checked:void 0;A(q=>({...q,[M]:V==="checkbox"?G:H}))},P=()=>{g(!1)},I=({title:E,children:M})=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:E}),M]}),R=({label:E,value:M,children:H,editable:V=!0,onEdit:G})=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("p",{className:"font-medium text-gray-700",children:E}),M!==void 0&&a.jsx("p",{className:"text-sm text-gray-600",children:typeof M=="boolean"?M?"Enabled":"Disabled":M})]}),V&&a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),H]}),F=({isOpen:E,onClose:M,title:H,children:V,actions:G})=>E?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:H}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:M,className:"text-gray-500 hover:text-gray-700",children:a.jsx($t,{size:20})})]}),a.jsx("div",{className:"p-6",children:V}),G&&a.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:G})]})}):null;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(zs,{}),isMobile:c,toggleSidebar:_}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),a.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[a.jsx(T.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:a.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:a.jsx(ln,{}),label:"Profile"},{id:"security",icon:a.jsx(hme,{}),label:"Security"},{id:"notifications",icon:a.jsx(VE,{}),label:"Notifications"},{id:"preferences",icon:a.jsx(A6,{}),label:"Preferences"},{id:"billing",icon:a.jsx(She,{}),label:"Billing"},{id:"team",icon:a.jsx(ga,{}),label:"Team Settings"},{id:"integrations",icon:a.jsx($he,{}),label:"Integrations"},{id:"data",icon:a.jsx(CN,{}),label:"Data Management"}].map(E=>a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(E.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${f===E.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[a.jsx("span",{className:"text-xl mr-3 text-blue-500",children:E.icon}),a.jsx("span",{className:"text-base",children:E.label})]},E.id))})})}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[f==="profile"&&a.jsx(I,{title:"Profile Information",children:p?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:S.name,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"text",name:"nik",value:S.email,onChange:O,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:P,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx(R,{label:"Name",value:t==null?void 0:t.name,editable:!1}),a.jsx(R,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),a.jsx(R,{label:"Role",value:t==null?void 0:t.role.name,editable:!1}),a.jsx(R,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),f==="security"&&a.jsxs(I,{title:"Security Settings",children:[a.jsx(R,{label:"Password",value:"••••••••",onEdit:()=>n("/settings/change-password")}),a.jsx(R,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),a.jsx(R,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),f==="notifications"&&a.jsxs(I,{title:"Notification Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:O,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx(R,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),f==="preferences"&&a.jsxs(I,{title:"Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),a.jsx(ar,{mode:"wait",children:a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s?a.jsx(A6,{className:"text-yellow-400"}):a.jsx(GK,{})},s?"sun-card":"moon-card")})]}),a.jsx(R,{label:"Language",value:"English",onEdit:()=>{}}),a.jsx(R,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),f==="billing"&&a.jsxs(I,{title:"Billing Information",children:[a.jsx(R,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),a.jsx(R,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),a.jsx(R,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),f==="team"&&a.jsxs(I,{title:"Team Settings",children:[a.jsx(R,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),a.jsx(R,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),a.jsx(R,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),f==="integrations"&&a.jsxs(I,{title:"Integrations",children:[a.jsx(R,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),a.jsx(R,{label:"Slack",value:"Not connected",onEdit:()=>{}}),a.jsx(R,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),f==="data"&&a.jsxs(I,{title:"Data Management",children:[a.jsx(R,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),a.jsx(R,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>w(!0)})]})]})]})]})})]}),a.jsxs(F,{isOpen:v,onClose:()=>w(!1),title:"Delete Account",children:[a.jsx("div",{className:"text-gray-700 mb-6",children:a.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function XK(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=XK(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function _r(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=XK(t))&&(n&&(n+=" "),n+=e);return n}const QK=6048e5,Ape=864e5,_N=6e4,AN=36e5,Tpe=1e3,uI=Symbol.for("constructDateFrom");function ba(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&uI in t?t[uI](e):t instanceof Date?new t.constructor(e):new Date(e)}function Ar(t,e){return ba(e||t,t)}function id(t,e,r){const n=Ar(t,r==null?void 0:r.in);return isNaN(e)?ba((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function ud(t,e,r){const n=Ar(t,r==null?void 0:r.in);if(isNaN(e))return ba(t,NaN);if(!e)return n;const s=n.getDate(),i=ba(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function ZK(t,e,r){return ba(t,+Ar(t)+e)}function Mpe(t,e,r){return ZK(t,e*AN)}let Ope={};function Xp(){return Ope}function Df(t,e){var l,c,d,f;const r=Xp(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.weekStartsOn)??0,s=Ar(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Bg(t,e){return Df(t,{...e,weekStartsOn:1})}function eJ(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=ba(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=Bg(s),o=ba(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=Bg(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function oj(t){const e=Ar(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Bf(t,...e){const r=ba.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Dp(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function zg(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e),i=Dp(n),o=Dp(s),l=+i-oj(i),c=+o-oj(o);return Math.round((l-c)/Ape)}function Epe(t,e){const r=eJ(t,e),n=ba(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),Bg(n)}function T6(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*_N),n}function JE(t,e,r){return ud(t,e*3,r)}function Dpe(t,e,r){return ZK(t,e*1e3)}function lj(t,e,r){return id(t,e*7,r)}function vf(t,e,r){return ud(t,e*12,r)}function fI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=ba.bind(null,s));const i=Ar(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),ba(n,r||NaN)}function hI(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=ba.bind(null,s));const i=Ar(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),ba(n,r||NaN)}function Ppe(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e);return+Dp(n)==+Dp(s)}function wf(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function cj(t){return!(!wf(t)&&typeof t!="number"||isNaN(+Ar(t)))}function dj(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function vp(t,e){const r=Ar(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function uj(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=vp(n)-vp(s);return i*4+o}function fj(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e);return n.getFullYear()-s.getFullYear()}function Lpe(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e),i=mI(n,s),o=Math.abs(zg(n,s));n.setDate(n.getDate()-i*o);const l=+(mI(n,s)===-i),c=i*(o-l);return c===0?0:c}function mI(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function tJ(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function rJ(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function M6(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function nJ(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function aJ(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function TN(t,e){const r=Ar(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function Rpe(t,e){var l,c;const r=Xp(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=Ar(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const Ipe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fpe=(t,e,r)=>{let n;const s=Ipe[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vC(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const $pe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Hpe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Bpe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},zpe={date:vC({formats:$pe,defaultWidth:"full"}),time:vC({formats:Hpe,defaultWidth:"full"}),dateTime:vC({formats:Bpe,defaultWidth:"full"})},qpe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Upe=(t,e,r,n)=>qpe[t];function Mb(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const Wpe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Vpe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gpe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ype={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Kpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Jpe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Xpe=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Qpe={ordinalNumber:Xpe,era:Mb({values:Wpe,defaultWidth:"wide"}),quarter:Mb({values:Vpe,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Mb({values:Gpe,defaultWidth:"wide"}),day:Mb({values:Ype,defaultWidth:"wide"}),dayPeriod:Mb({values:Kpe,defaultWidth:"wide",formattingValues:Jpe,defaultFormattingWidth:"wide"})};function Ob(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?e0e(l,m=>m.test(o)):Zpe(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const f=e.slice(o.length);return{value:d,rest:f}}}function Zpe(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function e0e(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function t0e(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const r0e=/^(\d+)(th|st|nd|rd)?/i,n0e=/\d+/i,a0e={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},s0e={any:[/^b/i,/^(a|c)/i]},i0e={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},o0e={any:[/1/i,/2/i,/3/i,/4/i]},l0e={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},c0e={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},d0e={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},u0e={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},f0e={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},h0e={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},m0e={ordinalNumber:t0e({matchPattern:r0e,parsePattern:n0e,valueCallback:t=>parseInt(t,10)}),era:Ob({matchPatterns:a0e,defaultMatchWidth:"wide",parsePatterns:s0e,defaultParseWidth:"any"}),quarter:Ob({matchPatterns:i0e,defaultMatchWidth:"wide",parsePatterns:o0e,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ob({matchPatterns:l0e,defaultMatchWidth:"wide",parsePatterns:c0e,defaultParseWidth:"any"}),day:Ob({matchPatterns:d0e,defaultMatchWidth:"wide",parsePatterns:u0e,defaultParseWidth:"any"}),dayPeriod:Ob({matchPatterns:f0e,defaultMatchWidth:"any",parsePatterns:h0e,defaultParseWidth:"any"})},sJ={code:"en-US",formatDistance:Fpe,formatLong:zpe,formatRelative:Upe,localize:Qpe,match:m0e,options:{weekStartsOn:0,firstWeekContainsDate:1}};function p0e(t,e){const r=Ar(t,e==null?void 0:e.in);return zg(r,TN(r))+1}function XE(t,e){const r=Ar(t,e==null?void 0:e.in),n=+Bg(r)-+Epe(r);return Math.round(n/QK)+1}function QE(t,e){var f,m,p,g;const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=Xp(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(f=e==null?void 0:e.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(p=s.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=ba((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Df(o,e),c=ba((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Df(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function g0e(t,e){var l,c,d,f;const r=Xp(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((f=(d=r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??1,s=QE(t,e),i=ba((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Df(i,e)}function iJ(t,e){const r=Ar(t,e==null?void 0:e.in),n=+Df(r,e)-+g0e(r,e);return Math.round(n/QK)+1}function ma(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Th={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ma(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ma(r+1,2)},d(t,e){return ma(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ma(t.getHours()%12||12,e.length)},H(t,e){return ma(t.getHours(),e.length)},m(t,e){return ma(t.getMinutes(),e.length)},s(t,e){return ma(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return ma(s,e.length)}},U0={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},pI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Th.y(t,e)},Y:function(t,e,r,n){const s=QE(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return ma(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):ma(i,e.length)},R:function(t,e){const r=eJ(t);return ma(r,e.length)},u:function(t,e){const r=t.getFullYear();return ma(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ma(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ma(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Th.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ma(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=iJ(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):ma(s,e.length)},I:function(t,e,r){const n=XE(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ma(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Th.d(t,e)},D:function(t,e,r){const n=p0e(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ma(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return ma(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return ma(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return ma(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=U0.noon:n===0?s=U0.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=U0.evening:n>=12?s=U0.afternoon:n>=4?s=U0.morning:s=U0.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Th.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Th.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ma(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ma(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Th.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Th.s(t,e)},S:function(t,e){return Th.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return xI(n);case"XXXX":case"XX":return Km(n);case"XXXXX":case"XXX":default:return Km(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return xI(n);case"xxxx":case"xx":return Km(n);case"xxxxx":case"xxx":default:return Km(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+gI(n,":");case"OOOO":default:return"GMT"+Km(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+gI(n,":");case"zzzz":default:return"GMT"+Km(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return ma(n,e.length)},T:function(t,e,r){return ma(+t,e.length)}};function gI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+ma(i,2)}function xI(t,e){return t%60===0?(t>0?"-":"+")+ma(Math.abs(t)/60,2):Km(t,e)}function Km(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=ma(Math.trunc(n/60),2),i=ma(n%60,2);return r+s+e+i}const bI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},oJ=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},x0e=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return bI(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",bI(n,e)).replace("{{time}}",oJ(s,e))},O6={p:oJ,P:x0e},b0e=/^D+$/,y0e=/^Y+$/,v0e=["D","DD","YY","YYYY"];function w0e(t){return b0e.test(t)}function j0e(t){return y0e.test(t)}function N0e(t,e,r){const n=S0e(t,e,r);if(console.warn(n),v0e.includes(t))throw new RangeError(n)}function S0e(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const k0e=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,C0e=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,_0e=/^'([^]*?)'?$/,A0e=/''/g,T0e=/[a-zA-Z]/;function yI(t,e,r){var f,m,p,g,v,w,y,N;const n=Xp(),s=(r==null?void 0:r.locale)??n.locale??sJ,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((g=(p=n.locale)==null?void 0:p.options)==null?void 0:g.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((w=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:w.weekStartsOn)??n.weekStartsOn??((N=(y=n.locale)==null?void 0:y.options)==null?void 0:N.weekStartsOn)??0,l=Ar(t,r==null?void 0:r.in);if(!cj(l))throw new RangeError("Invalid time value");let c=e.match(C0e).map(k=>{const S=k[0];if(S==="p"||S==="P"){const A=O6[S];return A(k,s.formatLong)}return k}).join("").match(k0e).map(k=>{if(k==="''")return{isToken:!1,value:"'"};const S=k[0];if(S==="'")return{isToken:!1,value:M0e(k)};if(pI[S])return{isToken:!0,value:k};if(S.match(T0e))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:k}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(k=>{if(!k.isToken)return k.value;const S=k.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&j0e(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&w0e(S))&&N0e(S,e,String(t));const A=pI[S[0]];return A(l,S,s.localize,d)}).join("")}function M0e(t){const e=t.match(_0e);return e?e[1].replace(A0e,"'"):t}function vI(t,e){return Ar(t,e==null?void 0:e.in).getDate()}function O0e(t,e){return Ar(t,e==null?void 0:e.in).getDay()}function E0e(t,e){const r=Ar(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=ba(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function D0e(){return Object.assign({},Xp())}function jf(t,e){return Ar(t,e==null?void 0:e.in).getHours()}function P0e(t,e){const r=Ar(t,e==null?void 0:e.in).getDay();return r===0?7:r}function Nf(t,e){return Ar(t,e==null?void 0:e.in).getMinutes()}function po(t,e){return Ar(t,e==null?void 0:e.in).getMonth()}function Xh(t){return Ar(t).getSeconds()}function E6(t){return+Ar(t)}function wn(t,e){return Ar(t,e==null?void 0:e.in).getFullYear()}function cm(t,e){return+Ar(t)>+Ar(e)}function Yd(t,e){return+Ar(t)<+Ar(e)}function L0e(t,e){return+Ar(t)==+Ar(e)}function R0e(t,e){const r=I0e(e)?new e(0):ba(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function I0e(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const F0e=10;class lJ{constructor(){Jt(this,"subPriority",0)}validate(e,r){return!0}}class $0e extends lJ{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class H0e extends lJ{constructor(r,n){super();Jt(this,"priority",F0e);Jt(this,"subPriority",-1);this.context=r||(s=>ba(n,s))}set(r,n){return n.timestampIsSet?r:ba(r,R0e(r,this.context))}}class ra{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new $0e(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class B0e extends ra{constructor(){super(...arguments);Jt(this,"priority",140);Jt(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const qs={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},Vd={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Us(t,e){return t&&{value:e(t.value),rest:t.rest}}function ms(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function Gd(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*AN+i*_N+o*Tpe),rest:e.slice(r[0].length)}}function cJ(t){return ms(qs.anyDigitsSigned,t)}function Os(t,e){switch(t){case 1:return ms(qs.singleDigit,e);case 2:return ms(qs.twoDigits,e);case 3:return ms(qs.threeDigits,e);case 4:return ms(qs.fourDigits,e);default:return ms(new RegExp("^\\d{1,"+t+"}"),e)}}function hj(t,e){switch(t){case 1:return ms(qs.singleDigitSigned,e);case 2:return ms(qs.twoDigitsSigned,e);case 3:return ms(qs.threeDigitsSigned,e);case 4:return ms(qs.fourDigitsSigned,e);default:return ms(new RegExp("^-?\\d{1,"+t+"}"),e)}}function ZE(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function dJ(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return r?s:1-s}function uJ(t){return t%400===0||t%4===0&&t%100!==0}class z0e extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return Us(Os(4,r),i);case"yo":return Us(s.ordinalNumber(r,{unit:"year"}),i);default:return Us(Os(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const l=dJ(s.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class q0e extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Us(Os(4,r),i);case"Yo":return Us(s.ordinalNumber(r,{unit:"year"}),i);default:return Us(Os(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=QE(r,i);if(s.isTwoDigitYear){const c=dJ(s.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Df(r,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Df(r,i)}}class U0e extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return hj(n==="R"?4:n.length,r)}set(r,n,s){const i=ba(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),Bg(i)}}class W0e extends ra{constructor(){super(...arguments);Jt(this,"priority",130);Jt(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return hj(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class V0e extends ra{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Os(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class G0e extends ra{constructor(){super(...arguments);Jt(this,"priority",120);Jt(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Os(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class Y0e extends ra{constructor(){super(...arguments);Jt(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Jt(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return Us(ms(qs.month,r),i);case"MM":return Us(Os(2,r),i);case"Mo":return Us(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class K0e extends ra{constructor(){super(...arguments);Jt(this,"priority",110);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return Us(ms(qs.month,r),i);case"LL":return Us(Os(2,r),i);case"Lo":return Us(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function J0e(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=iJ(n,r)-e;return n.setDate(n.getDate()-s*7),Ar(n,r==null?void 0:r.in)}class X0e extends ra{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return ms(qs.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Os(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return Df(J0e(r,s,i),i)}}function Q0e(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=XE(n,r)-e;return n.setDate(n.getDate()-s*7),n}class Z0e extends ra{constructor(){super(...arguments);Jt(this,"priority",100);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return ms(qs.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Os(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return Bg(Q0e(r,s))}}const ege=[31,28,31,30,31,30,31,31,30,31,30,31],tge=[31,29,31,30,31,30,31,31,30,31,30,31];class rge extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subPriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return ms(qs.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Os(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=uJ(s),o=r.getMonth();return i?n>=1&&n<=tge[o]:n>=1&&n<=ege[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class nge extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"subpriority",1);Jt(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return ms(qs.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Os(n.length,r)}}validate(r,n){const s=r.getFullYear();return uJ(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function eD(t,e,r){var m,p,g,v;const n=Xp(),s=(r==null?void 0:r.weekStartsOn)??((p=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:p.weekStartsOn)??n.weekStartsOn??((v=(g=n.locale)==null?void 0:g.options)==null?void 0:v.weekStartsOn)??0,i=Ar(t,r==null?void 0:r.in),o=i.getDay(),c=(e%7+7)%7,d=7-s,f=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return id(i,f,r)}class age extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=eD(r,s,i),r.setHours(0,0,0,0),r}}class sge extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Us(Os(n.length,r),o);case"eo":return Us(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=eD(r,s,i),r.setHours(0,0,0,0),r}}class ige extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Us(Os(n.length,r),o);case"co":return Us(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=eD(r,s,i),r.setHours(0,0,0,0),r}}function oge(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=P0e(n,r),i=e-s;return id(n,i,r)}class lge extends ra{constructor(){super(...arguments);Jt(this,"priority",90);Jt(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Os(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Us(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return Us(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return Us(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return Us(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=oge(r,s),r.setHours(0,0,0,0),r}}class cge extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ZE(s),0,0,0),r}}class dge extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ZE(s),0,0,0),r}}class uge extends ra{constructor(){super(...arguments);Jt(this,"priority",80);Jt(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(ZE(s),0,0,0),r}}class fge extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return ms(qs.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Os(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class hge extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return ms(qs.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Os(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class mge extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return ms(qs.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Os(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class pge extends ra{constructor(){super(...arguments);Jt(this,"priority",70);Jt(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return ms(qs.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Os(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class gge extends ra{constructor(){super(...arguments);Jt(this,"priority",60);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return ms(qs.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Os(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class xge extends ra{constructor(){super(...arguments);Jt(this,"priority",50);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return ms(qs.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Os(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class bge extends ra{constructor(){super(...arguments);Jt(this,"priority",30);Jt(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return Us(Os(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class yge extends ra{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return Gd(Vd.basicOptionalMinutes,r);case"XX":return Gd(Vd.basic,r);case"XXXX":return Gd(Vd.basicOptionalSeconds,r);case"XXXXX":return Gd(Vd.extendedOptionalSeconds,r);case"XXX":default:return Gd(Vd.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ba(r,r.getTime()-oj(r)-s)}}class vge extends ra{constructor(){super(...arguments);Jt(this,"priority",10);Jt(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return Gd(Vd.basicOptionalMinutes,r);case"xx":return Gd(Vd.basic,r);case"xxxx":return Gd(Vd.basicOptionalSeconds,r);case"xxxxx":return Gd(Vd.extendedOptionalSeconds,r);case"xxx":default:return Gd(Vd.extended,r)}}set(r,n,s){return n.timestampIsSet?r:ba(r,r.getTime()-oj(r)-s)}}class wge extends ra{constructor(){super(...arguments);Jt(this,"priority",40);Jt(this,"incompatibleTokens","*")}parse(r){return cJ(r)}set(r,n,s){return[ba(r,s*1e3),{timestampIsSet:!0}]}}class jge extends ra{constructor(){super(...arguments);Jt(this,"priority",20);Jt(this,"incompatibleTokens","*")}parse(r){return cJ(r)}set(r,n,s){return[ba(r,s),{timestampIsSet:!0}]}}const Nge={G:new B0e,y:new z0e,Y:new q0e,R:new U0e,u:new W0e,Q:new V0e,q:new G0e,M:new Y0e,L:new K0e,w:new X0e,I:new Z0e,d:new rge,D:new nge,E:new age,e:new sge,c:new ige,i:new lge,a:new cge,b:new dge,B:new uge,h:new fge,H:new hge,K:new mge,k:new pge,m:new gge,s:new xge,S:new bge,X:new yge,x:new vge,t:new wge,T:new jge},Sge=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,kge=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Cge=/^'([^]*?)'?$/,_ge=/''/g,Age=/\S/,Tge=/[a-zA-Z]/;function Mge(t,e,r,n){var y,N,k,S,A,_,O,P;const s=()=>ba((n==null?void 0:n.in)||r,NaN),i=D0e(),o=(n==null?void 0:n.locale)??i.locale??sJ,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(y=n==null?void 0:n.locale)==null?void 0:y.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(k=i.locale)==null?void 0:k.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(A=n==null?void 0:n.locale)==null?void 0:A.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((P=(O=i.locale)==null?void 0:O.options)==null?void 0:P.weekStartsOn)??0;if(!e)return t?s():Ar(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},f=[new H0e(n==null?void 0:n.in,r)],m=e.match(kge).map(I=>{const R=I[0];if(R in O6){const F=O6[R];return F(I,o.formatLong)}return I}).join("").match(Sge),p=[];for(let I of m){const R=I[0],F=Nge[R];if(F){const{incompatibleTokens:E}=F;if(Array.isArray(E)){const H=p.find(V=>E.includes(V.token)||V.token===R);if(H)throw new RangeError(`The format string mustn't contain \`${H.fullToken}\` and \`${I}\` at the same time`)}else if(F.incompatibleTokens==="*"&&p.length>0)throw new RangeError(`The format string mustn't contain \`${I}\` and any other token at the same time`);p.push({token:R,fullToken:I});const M=F.run(t,I,o.match,d);if(!M)return s();f.push(M.setter),t=M.rest}else{if(R.match(Tge))throw new RangeError("Format string contains an unescaped latin alphabet character `"+R+"`");if(I==="''"?I="'":R==="'"&&(I=Oge(I)),t.indexOf(I)===0)t=t.slice(I.length);else return s()}}if(t.length>0&&Age.test(t))return s();const g=f.map(I=>I.priority).sort((I,R)=>R-I).filter((I,R,F)=>F.indexOf(I)===R).map(I=>f.filter(R=>R.priority===I).sort((R,F)=>F.subPriority-R.subPriority)).map(I=>I[0]);let v=Ar(r,n==null?void 0:n.in);if(isNaN(+v))return s();const w={};for(const I of g){if(!I.validate(v,d))return s();const R=I.set(v,w,d);Array.isArray(R)?(v=R[0],Object.assign(w,R[1])):v=R}return v}function Oge(t){return t.match(Cge)[1].replace(_ge,"'")}function Ege(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function Dge(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e);return+M6(n)==+M6(s)}function Pge(t,e,r){const[n,s]=Bf(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function Vy(t,e,r){const n=+Ar(t,r==null?void 0:r.in),[s,i]=[+Ar(e.start,r==null?void 0:r.in),+Ar(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=s&&n<=i}function Lge(t,e,r){return id(t,-1,r)}function Rge(t,e){const r=()=>ba(e==null?void 0:e.in,NaN),s=Hge(t);let i;if(s.date){const d=Bge(s.date,2);i=zge(d.restDateString,d.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(s.time&&(l=qge(s.time),isNaN(l)))return r();if(s.timezone){if(c=Uge(s.timezone),isNaN(c))return r()}else{const d=new Date(o+l),f=Ar(0,e==null?void 0:e.in);return f.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),f.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),f}return Ar(o+l+c,e==null?void 0:e.in)}const yw={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Ige=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Fge=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$ge=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Hge(t){const e={},r=t.split(yw.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],yw.timeZoneDelimiter.test(e.date)&&(e.date=t.split(yw.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=yw.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function Bge(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function zge(t,e){if(e===null)return new Date(NaN);const r=t.match(Ige);if(!r)return new Date(NaN);const n=!!r[4],s=Eb(r[1]),i=Eb(r[2])-1,o=Eb(r[3]),l=Eb(r[4]),c=Eb(r[5])-1;if(n)return Kge(e,l,c)?Wge(e,l,c):new Date(NaN);{const d=new Date(0);return!Gge(e,i,o)||!Yge(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function Eb(t){return t?parseInt(t):1}function qge(t){const e=t.match(Fge);if(!e)return NaN;const r=wC(e[1]),n=wC(e[2]),s=wC(e[3]);return Jge(r,n,s)?r*AN+n*_N+s*1e3:NaN}function wC(t){return t&&parseFloat(t.replace(",","."))||0}function Uge(t){if(t==="Z")return 0;const e=t.match($ge);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return Xge(n,s)?r*(n*AN+s*_N):NaN}function Wge(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const Vge=[31,null,31,30,31,30,31,31,30,31,30,31];function fJ(t){return t%400===0||t%4===0&&t%100!==0}function Gge(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Vge[e]||(fJ(t)?29:28))}function Yge(t,e){return e>=1&&e<=(fJ(t)?366:365)}function Kge(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Jge(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Xge(t,e){return e>=0&&e<=59}function ic(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=ba(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const l=E0e(o);return n.setMonth(e,Math.min(i,l)),n}function C2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setHours(e),n}function _2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setMinutes(e),n}function tg(t,e,r){const n=Ar(t,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,i=e-s;return ic(n,n.getMonth()+i*3)}function A2(t,e,r){const n=Ar(t,r==null?void 0:r.in);return n.setSeconds(e),n}function zd(t,e,r){const n=Ar(t,r==null?void 0:r.in);return isNaN(+n)?ba(t,NaN):(n.setFullYear(e),n)}function wp(t,e,r){return ud(t,-e,r)}function hJ(t,e,r){return JE(t,-1,r)}function wI(t,e,r){return lj(t,-1,r)}function qg(t,e,r){return vf(t,-e,r)}function MN(){return typeof window<"u"}function Ex(t){return mJ(t)?(t.nodeName||"").toLowerCase():"#document"}function Tl(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function hu(t){var e;return(e=(mJ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function mJ(t){return MN()?t instanceof Node||t instanceof Tl(t).Node:!1}function Do(t){return MN()?t instanceof Element||t instanceof Tl(t).Element:!1}function ou(t){return MN()?t instanceof HTMLElement||t instanceof Tl(t).HTMLElement:!1}function jI(t){return!MN()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Tl(t).ShadowRoot}const Qge=new Set(["inline","contents"]);function Zv(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=yc(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Qge.has(s)}const Zge=new Set(["table","td","th"]);function exe(t){return Zge.has(Ex(t))}const txe=[":popover-open",":modal"];function ON(t){return txe.some(e=>{try{return t.matches(e)}catch{return!1}})}const rxe=["transform","translate","scale","rotate","perspective"],nxe=["transform","translate","scale","rotate","perspective","filter"],axe=["paint","layout","strict","content"];function tD(t){const e=rD(),r=Do(t)?yc(t):t;return rxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||nxe.some(n=>(r.willChange||"").includes(n))||axe.some(n=>(r.contain||"").includes(n))}function sxe(t){let e=dm(t);for(;ou(e)&&!Ug(e);){if(tD(e))return e;if(ON(e))return null;e=dm(e)}return null}function rD(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const ixe=new Set(["html","body","#document"]);function Ug(t){return ixe.has(Ex(t))}function yc(t){return Tl(t).getComputedStyle(t)}function EN(t){return Do(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function dm(t){if(Ex(t)==="html")return t;const e=t.assignedSlot||t.parentNode||jI(t)&&t.host||hu(t);return jI(e)?e.host:e}function pJ(t){const e=dm(t);return Ug(e)?t.ownerDocument?t.ownerDocument.body:t.body:ou(e)&&Zv(e)?e:pJ(e)}function Gy(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=pJ(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=Tl(s);if(i){const l=D6(o);return e.concat(o,o.visualViewport||[],Zv(s)?s:[],l&&r?Gy(l):[])}return e.concat(s,Gy(s,[],r))}function D6(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Wg=Math.min,jp=Math.max,mj=Math.round,vw=Math.floor,tu=t=>({x:t,y:t}),oxe={left:"right",right:"left",bottom:"top",top:"bottom"},lxe={start:"end",end:"start"};function cxe(t,e,r){return jp(t,Wg(e,r))}function DN(t,e){return typeof t=="function"?t(e):t}function Vg(t){return t.split("-")[0]}function e1(t){return t.split("-")[1]}function dxe(t){return t==="x"?"y":"x"}function nD(t){return t==="y"?"height":"width"}const uxe=new Set(["top","bottom"]);function sp(t){return uxe.has(Vg(t))?"y":"x"}function aD(t){return dxe(sp(t))}function fxe(t,e,r){r===void 0&&(r=!1);const n=e1(t),s=aD(t),i=nD(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=pj(o)),[o,pj(o)]}function hxe(t){const e=pj(t);return[P6(t),e,P6(e)]}function P6(t){return t.replace(/start|end/g,e=>lxe[e])}const NI=["left","right"],SI=["right","left"],mxe=["top","bottom"],pxe=["bottom","top"];function gxe(t,e,r){switch(t){case"top":case"bottom":return r?e?SI:NI:e?NI:SI;case"left":case"right":return e?mxe:pxe;default:return[]}}function xxe(t,e,r,n){const s=e1(t);let i=gxe(Vg(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(P6)))),i}function pj(t){return t.replace(/left|right|bottom|top/g,e=>oxe[e])}function bxe(t){return{top:0,right:0,bottom:0,left:0,...t}}function gJ(t){return typeof t!="number"?bxe(t):{top:t,right:t,bottom:t,left:t}}function gj(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var yxe=typeof document<"u",vxe=function(){},xj=yxe?b.useLayoutEffect:vxe;const wxe={...J2},jxe=wxe.useInsertionEffect,Nxe=jxe||(t=>t());function Sxe(t){const e=b.useRef(()=>{});return Nxe(()=>{e.current=t}),b.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function kI(t,e,r){let{reference:n,floating:s}=t;const i=sp(e),o=aD(e),l=nD(o),c=Vg(e),d=i==="y",f=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,p=n[l]/2-s[l]/2;let g;switch(c){case"top":g={x:f,y:n.y-s.height};break;case"bottom":g={x:f,y:n.y+n.height};break;case"right":g={x:n.x+n.width,y:m};break;case"left":g={x:n.x-s.width,y:m};break;default:g={x:n.x,y:n.y}}switch(e1(e)){case"start":g[o]-=p*(r&&d?-1:1);break;case"end":g[o]+=p*(r&&d?-1:1);break}return g}const kxe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:f,y:m}=kI(d,n,c),p=n,g={},v=0;for(let w=0;w<l.length;w++){const{name:y,fn:N}=l[w],{x:k,y:S,data:A,reset:_}=await N({x:f,y:m,initialPlacement:n,placement:p,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});f=k??f,m=S??m,g={...g,[y]:{...g[y],...A}},_&&v<=50&&(v++,typeof _=="object"&&(_.placement&&(p=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:f,y:m}=kI(d,p,c)),w=-1)}return{x:f,y:m,placement:p,strategy:s,middlewareData:g}};async function Cxe(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:f="viewport",elementContext:m="floating",altBoundary:p=!1,padding:g=0}=DN(e,t),v=gJ(g),y=l[p?m==="floating"?"reference":"floating":m],N=gj(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(y)))==null||r?y:y.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:f,strategy:c})),k=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),A=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=gj(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:k,offsetParent:S,strategy:c}):k);return{top:(N.top-_.top+v.top)/A.y,bottom:(_.bottom-N.bottom+v.bottom)/A.y,left:(N.left-_.left+v.left)/A.x,right:(_.right-N.right+v.right)/A.x}}const _xe=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:f=0}=DN(t,e)||{};if(d==null)return{};const m=gJ(f),p={x:r,y:n},g=aD(s),v=nD(g),w=await o.getDimensions(d),y=g==="y",N=y?"top":"left",k=y?"bottom":"right",S=y?"clientHeight":"clientWidth",A=i.reference[v]+i.reference[g]-p[g]-i.floating[v],_=p[g]-i.reference[g],O=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let P=O?O[S]:0;(!P||!await(o.isElement==null?void 0:o.isElement(O)))&&(P=l.floating[S]||i.floating[v]);const I=A/2-_/2,R=P/2-w[v]/2-1,F=Wg(m[N],R),E=Wg(m[k],R),M=F,H=P-w[v]-E,V=P/2-w[v]/2+I,G=cxe(M,V,H),q=!c.arrow&&e1(s)!=null&&V!==G&&i.reference[v]/2-(V<M?F:E)-w[v]/2<0,B=q?V<M?V-M:V-H:0;return{[g]:p[g]+B,data:{[g]:G,centerOffset:V-G-B,...q&&{alignmentOffset:B}},reset:q}}}),Axe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:f=!0,crossAxis:m=!0,fallbackPlacements:p,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...y}=DN(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Vg(s),k=sp(l),S=Vg(l)===l,A=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=p||(S||!w?[pj(l)]:hxe(l)),O=v!=="none";!p&&O&&_.push(...xxe(l,w,v,A));const P=[l,..._],I=await Cxe(e,y),R=[];let F=((n=i.flip)==null?void 0:n.overflows)||[];if(f&&R.push(I[N]),m){const V=fxe(s,o,A);R.push(I[V[0]],I[V[1]])}if(F=[...F,{placement:s,overflows:R}],!R.every(V=>V<=0)){var E,M;const V=(((E=i.flip)==null?void 0:E.index)||0)+1,G=P[V];if(G&&(!(m==="alignment"?k!==sp(G):!1)||F.every(z=>sp(z.placement)===k?z.overflows[0]>0:!0)))return{data:{index:V,overflows:F},reset:{placement:G}};let q=(M=F.filter(B=>B.overflows[0]<=0).sort((B,z)=>B.overflows[1]-z.overflows[1])[0])==null?void 0:M.placement;if(!q)switch(g){case"bestFit":{var H;const B=(H=F.filter(z=>{if(O){const X=sp(z.placement);return X===k||X==="y"}return!0}).map(z=>[z.placement,z.overflows.filter(X=>X>0).reduce((X,ee)=>X+ee,0)]).sort((z,X)=>z[1]-X[1])[0])==null?void 0:H[0];B&&(q=B);break}case"initialPlacement":q=l;break}if(s!==q)return{reset:{placement:q}}}return{}}}},Txe=new Set(["left","top"]);async function Mxe(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Vg(r),l=e1(r),c=sp(r)==="y",d=Txe.has(o)?-1:1,f=i&&c?-1:1,m=DN(e,t);let{mainAxis:p,crossAxis:g,alignmentAxis:v}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof v=="number"&&(g=l==="end"?v*-1:v),c?{x:g*f,y:p*d}:{x:p*d,y:g*f}}const Oxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await Mxe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}};function xJ(t){const e=yc(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=ou(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=mj(r)!==i||mj(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function sD(t){return Do(t)?t:t.contextElement}function Ng(t){const e=sD(t);if(!ou(e))return tu(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=xJ(e);let o=(i?mj(r.width):r.width)/n,l=(i?mj(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const Exe=tu(0);function bJ(t){const e=Tl(t);return!rD()||!e.visualViewport?Exe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Dxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Tl(t)?!1:e}function Pp(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=sD(t);let o=tu(1);e&&(n?Do(n)&&(o=Ng(n)):o=Ng(t));const l=Dxe(i,r,n)?bJ(i):tu(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,f=s.width/o.x,m=s.height/o.y;if(i){const p=Tl(i),g=n&&Do(n)?Tl(n):n;let v=p,w=D6(v);for(;w&&n&&g!==v;){const y=Ng(w),N=w.getBoundingClientRect(),k=yc(w),S=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*y.x,A=N.top+(w.clientTop+parseFloat(k.paddingTop))*y.y;c*=y.x,d*=y.y,f*=y.x,m*=y.y,c+=S,d+=A,v=Tl(w),w=D6(v)}}return gj({width:f,height:m,x:c,y:d})}function PN(t,e){const r=EN(t).scrollLeft;return e?e.left+r:Pp(hu(t)).left+r}function yJ(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-PN(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function Pxe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=hu(n),l=e?ON(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=tu(1);const f=tu(0),m=ou(n);if((m||!m&&!i)&&((Ex(n)!=="body"||Zv(o))&&(c=EN(n)),ou(n))){const g=Pp(n);d=Ng(n),f.x=g.x+n.clientLeft,f.y=g.y+n.clientTop}const p=o&&!m&&!i?yJ(o,c):tu(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+f.x+p.x,y:r.y*d.y-c.scrollTop*d.y+f.y+p.y}}function Lxe(t){return Array.from(t.getClientRects())}function Rxe(t){const e=hu(t),r=EN(t),n=t.ownerDocument.body,s=jp(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=jp(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+PN(t);const l=-r.scrollTop;return yc(n).direction==="rtl"&&(o+=jp(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const CI=25;function Ixe(t,e){const r=Tl(t),n=hu(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const f=rD();(!f||f&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=PN(n);if(d<=0){const f=n.ownerDocument,m=f.body,p=getComputedStyle(m),g=f.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(n.clientWidth-m.clientWidth-g);v<=CI&&(i-=v)}else d<=CI&&(i+=d);return{width:i,height:o,x:l,y:c}}const Fxe=new Set(["absolute","fixed"]);function $xe(t,e){const r=Pp(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=ou(t)?Ng(t):tu(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function _I(t,e,r){let n;if(e==="viewport")n=Ixe(t,r);else if(e==="document")n=Rxe(hu(t));else if(Do(e))n=$xe(e,r);else{const s=bJ(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return gj(n)}function vJ(t,e){const r=dm(t);return r===e||!Do(r)||Ug(r)?!1:yc(r).position==="fixed"||vJ(r,e)}function Hxe(t,e){const r=e.get(t);if(r)return r;let n=Gy(t,[],!1).filter(l=>Do(l)&&Ex(l)!=="body"),s=null;const i=yc(t).position==="fixed";let o=i?dm(t):t;for(;Do(o)&&!Ug(o);){const l=yc(o),c=tD(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&Fxe.has(s.position)||Zv(o)&&!c&&vJ(t,o))?n=n.filter(f=>f!==o):s=l,o=dm(o)}return e.set(t,n),n}function Bxe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?ON(e)?[]:Hxe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,f)=>{const m=_I(e,f,s);return d.top=jp(m.top,d.top),d.right=Wg(m.right,d.right),d.bottom=Wg(m.bottom,d.bottom),d.left=jp(m.left,d.left),d},_I(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function zxe(t){const{width:e,height:r}=xJ(t);return{width:e,height:r}}function qxe(t,e,r){const n=ou(e),s=hu(e),i=r==="fixed",o=Pp(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=tu(0);function d(){c.x=PN(s)}if(n||!n&&!i)if((Ex(e)!=="body"||Zv(s))&&(l=EN(e)),n){const g=Pp(e,!0,i,e);c.x=g.x+e.clientLeft,c.y=g.y+e.clientTop}else s&&d();i&&!n&&s&&d();const f=s&&!n&&!i?yJ(s,l):tu(0),m=o.left+l.scrollLeft-c.x-f.x,p=o.top+l.scrollTop-c.y-f.y;return{x:m,y:p,width:o.width,height:o.height}}function jC(t){return yc(t).position==="static"}function AI(t,e){if(!ou(t)||yc(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return hu(t)===r&&(r=r.ownerDocument.body),r}function wJ(t,e){const r=Tl(t);if(ON(t))return r;if(!ou(t)){let s=dm(t);for(;s&&!Ug(s);){if(Do(s)&&!jC(s))return s;s=dm(s)}return r}let n=AI(t,e);for(;n&&exe(n)&&jC(n);)n=AI(n,e);return n&&Ug(n)&&jC(n)&&!tD(n)?r:n||sxe(t)||r}const Uxe=async function(t){const e=this.getOffsetParent||wJ,r=this.getDimensions,n=await r(t.floating);return{reference:qxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Wxe(t){return yc(t).direction==="rtl"}const Vxe={convertOffsetParentRelativeRectToViewportRelativeRect:Pxe,getDocumentElement:hu,getClippingRect:Bxe,getOffsetParent:wJ,getElementRects:Uxe,getClientRects:Lxe,getDimensions:zxe,getScale:Ng,isElement:Do,isRTL:Wxe};function jJ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function Gxe(t,e){let r=null,n;const s=hu(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:f,top:m,width:p,height:g}=d;if(l||e(),!p||!g)return;const v=vw(m),w=vw(s.clientWidth-(f+p)),y=vw(s.clientHeight-(m+g)),N=vw(f),S={rootMargin:-v+"px "+-w+"px "+-y+"px "+-N+"px",threshold:jp(0,Wg(1,c))||1};let A=!0;function _(O){const P=O[0].intersectionRatio;if(P!==c){if(!A)return o();P?o(!1,P):n=setTimeout(()=>{o(!1,1e-7)},1e3)}P===1&&!jJ(d,t.getBoundingClientRect())&&o(),A=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),i}function NJ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=sD(t),f=s||i?[...d?Gy(d):[],...Gy(e)]:[];f.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?Gxe(d,r):null;let p=-1,g=null;o&&(g=new ResizeObserver(N=>{let[k]=N;k&&k.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var S;(S=g)==null||S.observe(e)})),r()}),d&&!c&&g.observe(d),g.observe(e));let v,w=c?Pp(t):null;c&&y();function y(){const N=Pp(t);w&&!jJ(w,N)&&r(),w=N,v=requestAnimationFrame(y)}return r(),()=>{var N;f.forEach(k=>{s&&k.removeEventListener("scroll",r),i&&k.removeEventListener("resize",r)}),m==null||m(),(N=g)==null||N.disconnect(),g=null,c&&cancelAnimationFrame(v)}}const Yxe=Oxe,Kxe=Axe,TI=_xe,Jxe=(t,e,r)=>{const n=new Map,s={platform:Vxe,...r},i={...s.platform,_c:n};return kxe(t,e,{...s,platform:i})};var Xxe=typeof document<"u",Qxe=function(){},T2=Xxe?b.useLayoutEffect:Qxe;function bj(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!bj(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!bj(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function SJ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function MI(t,e){const r=SJ(t);return Math.round(e*r)/r}function NC(t){const e=b.useRef(t);return T2(()=>{e.current=t}),e}function Zxe(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[f,m]=b.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[p,g]=b.useState(n);bj(p,n)||g(n);const[v,w]=b.useState(null),[y,N]=b.useState(null),k=b.useCallback(z=>{z!==O.current&&(O.current=z,w(z))},[]),S=b.useCallback(z=>{z!==P.current&&(P.current=z,N(z))},[]),A=i||v,_=o||y,O=b.useRef(null),P=b.useRef(null),I=b.useRef(f),R=c!=null,F=NC(c),E=NC(s),M=NC(d),H=b.useCallback(()=>{if(!O.current||!P.current)return;const z={placement:e,strategy:r,middleware:p};E.current&&(z.platform=E.current),Jxe(O.current,P.current,z).then(X=>{const ee={...X,isPositioned:M.current!==!1};V.current&&!bj(I.current,ee)&&(I.current=ee,dE.flushSync(()=>{m(ee)}))})},[p,e,r,E,M]);T2(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,m(z=>({...z,isPositioned:!1})))},[d]);const V=b.useRef(!1);T2(()=>(V.current=!0,()=>{V.current=!1}),[]),T2(()=>{if(A&&(O.current=A),_&&(P.current=_),A&&_){if(F.current)return F.current(A,_,H);H()}},[A,_,H,F,R]);const G=b.useMemo(()=>({reference:O,floating:P,setReference:k,setFloating:S}),[k,S]),q=b.useMemo(()=>({reference:A,floating:_}),[A,_]),B=b.useMemo(()=>{const z={position:r,left:0,top:0};if(!q.floating)return z;const X=MI(q.floating,f.x),ee=MI(q.floating,f.y);return l?{...z,transform:"translate("+X+"px, "+ee+"px)",...SJ(q.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:X,top:ee}},[r,l,q.floating,f.x,f.y]);return b.useMemo(()=>({...f,update:H,refs:G,elements:q,floatingStyles:B}),[f,H,G,q,B])}const ebe=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?TI({element:n.current,padding:s}).fn(r):{}:n?TI({element:n,padding:s}).fn(r):{}}}},tbe=(t,e)=>({...Yxe(t),options:[t,e]}),rbe=(t,e)=>({...Kxe(t),options:[t,e]}),nbe=(t,e)=>({...ebe(t),options:[t,e]}),abe={...J2};let OI=!1,sbe=0;const EI=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+sbe++;function ibe(){const[t,e]=b.useState(()=>OI?EI():void 0);return xj(()=>{t==null&&e(EI())},[]),b.useEffect(()=>{OI=!0},[]),t}const obe=abe.useId,kJ=obe||ibe,lbe=b.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:f=0,staticOffset:m,stroke:p,d:g,style:{transform:v,...w}={},...y}=e,N=kJ(),[k,S]=b.useState(!1);if(xj(()=>{if(!s)return;yc(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[A,_]=n.split("-"),O=A==="top"||A==="bottom";let P=m;(O&&o!=null&&o.x||!O&&o!=null&&o.y)&&(P=null);const I=f*2,R=I/2,F=l/2*(d/-8+1),E=c/2*d/4,M=!!g,H=P&&_==="end"?"bottom":"top";let V=P&&_==="end"?"right":"left";P&&k&&(V=_==="end"?"left":"right");const G=(i==null?void 0:i.x)!=null?P||i.x:"",q=(i==null?void 0:i.y)!=null?P||i.y:"",B=g||"M0,0"+(" H"+l)+(" L"+(l-F)+","+(c-E))+(" Q"+l/2+","+c+" "+F+","+(c-E))+" Z",z={top:M?"rotate(180deg)":"",left:M?"rotate(90deg)":"rotate(-90deg)",bottom:M?"":"rotate(180deg)",right:M?"rotate(-90deg)":"rotate(90deg)"}[A];return a.jsxs("svg",{...y,"aria-hidden":!0,ref:r,width:M?l:l+I,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[V]:G,[H]:q,[A]:O||M?"100%":"calc(100% - "+I/2+"px)",transform:[z,v].filter(X=>!!X).join(" "),...w},children:[I>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:p,strokeWidth:I+(g?0:1),d:B}),a.jsx("path",{stroke:I&&!g?y.fill:"none",d:B}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-R,y:R*(M?-1:1),width:l+I,height:l})})]})});function cbe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const dbe=b.createContext(null),ube=b.createContext(null),fbe=()=>{var t;return((t=b.useContext(dbe))==null?void 0:t.id)||null},hbe=()=>b.useContext(ube);function mbe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=kJ(),i=b.useRef({}),[o]=b.useState(()=>cbe()),l=fbe()!=null,[c,d]=b.useState(n.reference),f=Sxe((g,v,w)=>{i.current.openEvent=g?v:void 0,o.emit("openchange",{open:g,event:v,reason:w,nested:l}),r==null||r(g,v,w)}),m=b.useMemo(()=>({setPositionReference:d}),[]),p=b.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return b.useMemo(()=>({dataRef:i,open:e,onOpenChange:f,elements:p,events:o,floatingId:s,refs:m}),[e,f,p,o,s,m])}function pbe(t){t===void 0&&(t={});const{nodeId:e}=t,r=mbe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[i,o]=b.useState(null),[l,c]=b.useState(null),f=(s==null?void 0:s.domReference)||i,m=b.useRef(null),p=hbe();xj(()=>{f&&(m.current=f)},[f]);const g=Zxe({...t,elements:{...s,...l&&{reference:l}}}),v=b.useCallback(S=>{const A=Do(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(A),g.refs.setReference(A)},[g.refs]),w=b.useCallback(S=>{(Do(S)||S===null)&&(m.current=S,o(S)),(Do(g.refs.reference.current)||g.refs.reference.current===null||S!==null&&!Do(S))&&g.refs.setReference(S)},[g.refs]),y=b.useMemo(()=>({...g.refs,setReference:w,setPositionReference:v,domReference:m}),[g.refs,w,v]),N=b.useMemo(()=>({...g.elements,domReference:f}),[g.elements,f]),k=b.useMemo(()=>({...g,...n,refs:y,elements:N,nodeId:e}),[g,y,N,e,n]);return xj(()=>{n.dataRef.current.floatingContext=k;const S=p==null?void 0:p.nodesRef.current.find(A=>A.id===e);S&&(S.context=k)}),b.useMemo(()=>({...g,context:k,refs:y,elements:N}),[g,y,N,k])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var L6=function(e,r){return L6=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},L6(e,r)};function Ji(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");L6(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Pn=function(){return Pn=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},Pn.apply(this,arguments)};function Kd(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var gbe=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,s=n===void 0?!1:n,i=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return be.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},xbe=function(t,e){var r=b.useRef(null),n=b.useRef(t);n.current=t;var s=b.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,i))},[e]);return b.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},LN=function(t){var e=t.children,r=t.onClickOutside,n=t.className,s=t.containerRef,i=t.style,o=t.ignoreClass,l=xbe(r,o);return be.createElement("div",{className:n,style:i,ref:function(c){l.current=c,s&&(s.current=c)}},e)},dr;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(dr||(dr={}));function CJ(){var t=typeof window<"u"?window:globalThis;return t}var t1=12;function oa(t){if(t==null)return new Date;var e=typeof t=="string"?Rge(t):Ar(t);return RN(e)?e:new Date}function SC(t,e,r,n,s){s===void 0&&(s=oa());for(var i=Gg(r)||Gg(iD()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var d=c[l],f=Mge(t,d,s,{locale:i});if(RN(f)&&(!n||t===Ja(f,d,r)))return f}return null}function RN(t,e){return cj(t)&&!Yd(t,new Date("1/1/1800"))}function Ja(t,e,r){if(r==="en")return yI(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Gg(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Gg(iD()),yI(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function sc(t,e){var r=e.dateFormat,n=e.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return t&&Ja(t,s,n)||""}var _J=" - ";function bbe(t,e,r){if(!t&&!e)return"";var n=t?sc(t,r):"",s=e?sc(e,r):"",i=r.rangeSeparator||_J;return"".concat(n).concat(i).concat(s)}function ybe(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?sc(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=sc(t[1],e);return"".concat(r,", ").concat(n)}var s=t.length-1;return"".concat(r," (+").concat(s,")")}function kC(t,e){var r=e.hour,n=r===void 0?0:r,s=e.minute,i=s===void 0?0:s,o=e.second,l=o===void 0?0:o;return C2(_2(A2(t,l),i),n)}function vbe(t){return XE(t)}function wbe(t,e){return Ja(t,"ddd",e)}function M2(t){return Dp(t)}function Qh(t,e,r){var n=Gg(e||iD());return Df(t,{locale:n,weekStartsOn:r})}function Sf(t){return nJ(t)}function ny(t){return TN(t)}function DI(t){return M6(t)}function PI(){return Dp(oa())}function LI(t){return tJ(t)}function jbe(t){return Rpe(t)}function Nbe(t){return rJ(t)}function qd(t,e){return t&&e?Pge(t,e):!t&&!e}function To(t,e){return t&&e?Ege(t,e):!t&&!e}function yj(t,e){return t&&e?Dge(t,e):!t&&!e}function Dn(t,e){return t&&e?Ppe(t,e):!t&&!e}function ip(t,e){return t&&e?L0e(t,e):!t&&!e}function Jm(t,e,r){var n,s=Dp(e),i=tJ(r);try{n=Vy(t,{start:s,end:i})}catch{n=!1}return n}function iD(){var t=CJ();return t.__localeId__}function Gg(t){if(typeof t=="string"){var e=CJ();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Sbe(t,e,r){return e(Ja(t,"EEEE",r))}function kbe(t,e){return Ja(t,"EEEEEE",e)}function Cbe(t,e){return Ja(t,"EEE",e)}function oD(t,e){return Ja(ic(oa(),t),"LLLL",e)}function AJ(t,e){return Ja(ic(oa(),t),"LLL",e)}function _be(t,e){return Ja(tg(oa(),t),"QQQ",e)}function lc(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate;return r1(t,{minDate:n,maxDate:s})||i&&i.some(function(f){return f instanceof Date?Dn(t,f):Dn(t,f.date)})||o&&o.some(function(f){var m=f.start,p=f.end;return Vy(t,{start:m,end:p})})||l&&!l.some(function(f){return Dn(t,f)})||c&&!c.some(function(f){var m=f.start,p=f.end;return Vy(t,{start:m,end:p})})||d&&!d(oa(t))||!1}function lD(t,e){var r=e===void 0?{}:e,n=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return Vy(t,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?Dn(t,i):Dn(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function TJ(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return r1(t,{minDate:n?nJ(n):void 0,maxDate:s?rJ(s):void 0})||(i==null?void 0:i.some(function(c){return To(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return To(t,c)})||l&&!l(oa(t))||!1}function ww(t,e,r,n){var s=wn(t),i=po(t),o=wn(e),l=po(e),c=wn(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function Abe(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates;return r1(t,{minDate:n,maxDate:s})||i&&i.some(function(l){return To(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return To(l,t)})||!1}function jw(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return r1(t,{minDate:n,maxDate:s})||(i==null?void 0:i.some(function(c){return yj(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return yj(t,c)})||l&&!l(oa(t))||!1}function Nw(t,e,r){if(!e||!r||!cj(e)||!cj(r))return!1;var n=wn(e),s=wn(r);return n<=t&&s>=t}function O2(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return r1(c,{minDate:n?TN(n):void 0,maxDate:s?aJ(s):void 0})||(i==null?void 0:i.some(function(d){return qd(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return qd(c,d)})||l&&!l(oa(c))||!1}function Sw(t,e,r,n){var s=wn(t),i=vp(t),o=wn(e),l=vp(e),c=wn(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function r1(t,e){var r,n=e===void 0?{}:e,s=n.minDate,i=n.maxDate;return(r=s&&zg(t,s)<0||i&&zg(t,i)>0)!==null&&r!==void 0?r:!1}function RI(t,e){return e.some(function(r){return jf(r)===jf(t)&&Nf(r)===Nf(t)&&Xh(r)===Xh(t)})}function II(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,s=r.includeTimes,i=r.filterTime;return n&&RI(t,n)||s&&!RI(t,s)||i&&!i(t)||!1}function FI(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var s=oa();s=C2(s,jf(t)),s=_2(s,Nf(t)),s=A2(s,Xh(t));var i=oa();i=C2(i,jf(r)),i=_2(i,Nf(r)),i=A2(i,Xh(r));var o=oa();o=C2(o,jf(n)),o=_2(o,Nf(n)),o=A2(o,Xh(n));var l;try{l=!Vy(s,{start:i,end:o})}catch{l=!1}return l}function $I(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=wp(t,1);return n&&dj(n,i)>0||s&&s.every(function(o){return dj(o,i)>0})||!1}function HI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=ud(t,1);return n&&dj(i,n)>0||s&&s.every(function(o){return dj(i,o)>0})||!1}function Tbe(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=TN(t),o=hJ(i);return n&&uj(n,o)>0||s&&s.every(function(l){return uj(l,o)>0})||!1}function Mbe(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=aJ(t),o=JE(i,1);return n&&uj(o,n)>0||s&&s.every(function(l){return uj(o,l)>0})||!1}function BI(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=qg(t,1);return n&&fj(n,i)>0||s&&s.every(function(o){return fj(o,i)>0})||!1}function Obe(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.yearItemNumber,i=s===void 0?t1:s,o=ny(qg(t,i)),l=ff(o,i).endPeriod,c=n&&wn(n);return c&&c>l||!1}function zI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=vf(t,1);return n&&fj(i,n)>0||s&&s.every(function(o){return fj(i,o)>0})||!1}function Ebe(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.yearItemNumber,i=s===void 0?t1:s,o=vf(t,i),l=ff(o,i).startPeriod,c=n&&wn(n);return c&&c<l||!1}function MJ(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return zg(s,e)>=0});return hI(n)}else return r?hI(r):e}function OJ(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return zg(s,e)<=0});return fI(n)}else return r?fI(r):e}function qI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(wf(o)){var l=Ja(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),f=(r=d[0])!==null&&r!==void 0?r:"",m=o[f];if(typeof f=="string"&&Array.isArray(m))for(var p=0,g=m.length;p<g;p++){var v=m[p];if(v){var l=Ja(v,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(f)||(c.push(f),n.set(l,c))}}}}return n}function Dbe(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function Pbe(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var s=n.date,i=n.holidayName;if(wf(s)){var o=Ja(s,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&Dbe(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?Kd(Kd([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function Lbe(t,e,r,n,s){for(var i=s.length,o=[],l=0;l<i;l++){var c=t,d=s[l];d&&(c=Mpe(c,jf(d)),c=T6(c,Nf(d)),c=Dpe(c,Xh(d)));var f=T6(t,(r+1)*n);cm(c,e)&&Yd(c,f)&&d!=null&&o.push(d)}return o}function UI(t){return t<10?"0".concat(t):"".concat(t)}function ff(t,e){e===void 0&&(e=t1);var r=Math.ceil(wn(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function Rbe(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function WI(t){var e=t.getSeconds(),r=t.getMilliseconds();return Ar(t.getTime()-e*1e3-r)}function Ibe(t,e){return WI(t).getTime()===WI(e).getTime()}function VI(t){if(!wf(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function CC(t,e){if(!wf(t)||!wf(e))throw new Error("Invalid date received");var r=VI(t),n=VI(e);return Yd(r,n)}function EJ(t){return t.key===dr.Space}var Fbe=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=be.createRef(),n.onTimeChange=function(s){var i,o;n.setState({time:s});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(s!=null&&s.includes(":")){var f=s.split(":"),m=f[0],p=f[1];d.setHours(Number(m)),d.setMinutes(Number(p))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,d)},n.renderTimeInput=function(){var s=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?b.cloneElement(c,{date:o,value:s,onChange:n.onTimeChange}):be.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return be.createElement("div",{className:"react-datepicker__input-time-container"},be.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),be.createElement("div",{className:"react-datepicker-time__input-container"},be.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(b.Component),$be=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=b.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===dr.Space&&(n.preventDefault(),n.key=dr.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isSameDay=function(n){return Dn(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),lc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return lD(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return Dn(r.props.day,Qh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&Dn(n,Qh(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,s=n.day,i=n.highlightDates;if(!i)return!1;var o=Ja(s,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,s=r.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=Ja(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Jm(s,i,o)},r.isInSelectingRange=function(){var n,s=r.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.selectsDisabledDaysInRange,f=s.startDate,m=s.swapRange,p=s.endDate,g=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!g||!d&&r.isDisabled())return!1;if(o&&p&&(Yd(g,p)||ip(g,p)))return Jm(i,g,p);if(l&&f&&(cm(g,f)||ip(g,f)))return Jm(i,f,g);if(c&&f&&!p){if(ip(g,f)||cm(g,f))return Jm(i,f,g);if(m&&Yd(g,f))return Jm(i,g,f)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,d=s.selectsRange,f=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Dn(i,f):d&&c&&o&&f?Dn(i,Yd(f,o)?f:o):Dn(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=s.swapRange,f=s.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?Dn(i,m):c&&d&&f&&m?Dn(i,Yd(m,f)?f:m):c?Dn(i,m):Dn(i,o)},r.isRangeStart=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Dn(i,s)},r.isRangeEnd=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:Dn(o,s)},r.isWeekend=function(){var n=O0e(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===po(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(po(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(oa())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var s=r.props.dayClassName?r.props.dayClassName(n):void 0;return _r("react-datepicker__day",s,"react-datepicker__day--"+wbe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,s=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:o;return"".concat(d," ").concat(Ja(s,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,s=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=Ja(s,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(f){return f instanceof Date?Dn(f,s):Dn(f==null?void 0:f.date,s)}).map(function(f){if(!(f instanceof Date))return f==null?void 0:f.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,s=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&Dn(s,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(vI(r.props.day),r.props.day):vI(r.props.day)},r.render=function(){return be.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&be.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,s;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(b.Component),Hbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=b.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===dr.Space&&(n.preventDefault(),n.key=dr.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Dn(r.props.date,r.props.selected)&&Dn(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||Dn(r.props.date,r.props.selected)&&Dn(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var s=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&Dn(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,s=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&Dn(this.props.date,this.props.selected)};return be.createElement("div",{ref:this.weekNumberEl,className:_r(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(b.Component),Bbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return lc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,s){r.props.onDayClick&&r.props.onDayClick(n,s)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,s,i){for(var o,l,c,d=new Date(n),f=0;f<7;f++){var m=new Date(n);m.setDate(m.getDate()+f);var p=!r.isDisabled(m);if(p){d=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,s,i),r.props.showWeekPicker&&r.handleDayClick(d,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):vbe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),s=id(n,6),i=new Date(n);i<=s;){if(!r.isDisabled(i))return!1;i=id(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),s=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;s.push(be.createElement(Hbe,Pn({key:"W"},e.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=id(n,l);return be.createElement($be,Pn({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Qh(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!Dn(r.startOfWeek(),r.props.selected)&&Dn(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":Dn(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return be.createElement("div",{className:_r(r,n),role:"row"},this.renderDays())},e})(b.Component),Db,zbe=6,Sg={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},_C=(Db={},Db[Sg.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},Db[Sg.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},Db[Sg.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},Db),kw=1;function GI(t,e){return t?Sg.FOUR_COLUMNS:e?Sg.TWO_COLUMNS:Sg.THREE_COLUMNS}var qbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=Kd([],Array(12),!0).map(function(){return b.createRef()}),r.QUARTER_REFS=Kd([],Array(4),!0).map(function(){return b.createRef()}),r.isDisabled=function(n){return lc(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return lD(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,s){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var s,i;(i=(s=r.props).onDayMouseEnter)===null||i===void 0||i.call(s,n)},r.handleMouseLeave=function(){var n,s;(s=(n=r.props).onMouseLeave)===null||s===void 0||s.call(n)},r.isRangeStartMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:To(ic(i,n),o)},r.isRangeStartQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:yj(tg(i,n),o)},r.isRangeEndMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:To(ic(i,n),l)},r.isRangeEndQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:yj(tg(i,n),l)},r.isInSelectingRangeMonth=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.startDate,m=i.endDate,p=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!p?!1:l&&m?ww(p,m,n,o):c&&f||d&&f&&!m?ww(f,p,n,o):!1},r.isSelectingMonthRangeStart=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,d=ic(o,n),f=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c?To(d,f):To(d,l)},r.isSelectingMonthRangeEnd=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,f=ic(o,n),m=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c||d?To(f,m):To(f,l)},r.isInSelectingRangeQuarter=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,f=i.startDate,m=i.endDate,p=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!p?!1:l&&m?Sw(p,m,n,o):c&&f||d&&f&&!m?Sw(f,p,n,o):!1},r.isWeekInMonth=function(n){var s=r.props.day,i=id(n,6);return To(n,s)||To(i,s)},r.isCurrentMonth=function(n,s){return wn(n)===wn(oa())&&s===po(oa())},r.isCurrentQuarter=function(n,s){return wn(n)===wn(oa())&&s===vp(oa())},r.isSelectedMonth=function(n,s,i){return po(i)===s&&wn(n)===wn(i)},r.isSelectMonthInList=function(n,s,i){return i.some(function(o){return r.isSelectedMonth(n,s,o)})},r.isSelectedQuarter=function(n,s,i){return vp(n)===s&&wn(n)===wn(i)},r.isMonthSelected=function(){var n=r.props,s=n.day,i=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=po(s);return l?o==null?void 0:o.some(function(d){return r.isSelectedMonth(s,c,d)}):!!i&&r.isSelectedMonth(s,c,i)},r.renderWeeks=function(){for(var n=[],s=r.props.fixedHeight,i=0,o=!1,l=Qh(Sf(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(v){return r.props.showWeekPicker?Qh(v,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(v){return r.props.showWeekPicker?Qh(v,r.props.locale,r.props.calendarStartDay):r.props.selected},f=r.props.selected?d(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(be.createElement(Bbe,Pn({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:po(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:f,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=lj(l,1);var p=s&&i>=zbe,g=!s&&!r.isWeekInMonth(l);if(p||g)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,s){var i=r.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(Sf(l),n)},r.onMonthMouseEnter=function(n){var s=r.isMonthDisabledForLabelDate(n),i=s.isDisabled,o=s.labelDate;i||r.handleDayMouseEnter(Sf(o))},r.handleMonthNavigation=function(n,s){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,s,i){var o,l=r.props,c=l.selected,d=l.preSelection,f=l.setPreSelection,m=l.minDate,p=l.maxDate,g=l.showFourColumnMonthYearPicker,v=l.showTwoColumnMonthYearPicker;if(d){var w=GI(g,v),y=r.getVerticalOffset(w),N=(o=_C[w])===null||o===void 0?void 0:o.grid,k=function(P,I,R){var F,E,M=I,H=R;switch(P){case dr.ArrowRight:M=ud(I,kw),H=R===11?0:R+kw;break;case dr.ArrowLeft:M=wp(I,kw),H=R===0?11:R-kw;break;case dr.ArrowUp:M=wp(I,y),H=!((F=N==null?void 0:N[0])===null||F===void 0)&&F.includes(R)?R+12-y:R-y;break;case dr.ArrowDown:M=ud(I,y),H=!((E=N==null?void 0:N[N.length-1])===null||E===void 0)&&E.includes(R)?R-12+y:R+y;break}return{newCalculatedDate:M,newCalculatedMonth:H}},S=function(P,I,R){for(var F=40,E=P,M=!1,H=0,V=k(E,I,R),G=V.newCalculatedDate,q=V.newCalculatedMonth;!M;){if(H>=F){G=I,q=R;break}if(m&&G<m){E=dr.ArrowRight;var B=k(E,G,q);G=B.newCalculatedDate,q=B.newCalculatedMonth}if(p&&G>p){E=dr.ArrowLeft;var B=k(E,G,q);G=B.newCalculatedDate,q=B.newCalculatedMonth}if(Abe(G,r.props)){var B=k(E,G,q);G=B.newCalculatedDate,q=B.newCalculatedMonth}else M=!0;H++}return{newCalculatedDate:G,newCalculatedMonth:q}};if(s===dr.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),f==null||f(c));return}var A=S(s,d,i),_=A.newCalculatedDate,O=A.newCalculatedMonth;switch(s){case dr.ArrowRight:case dr.ArrowLeft:case dr.ArrowUp:case dr.ArrowDown:r.handleMonthNavigation(O,_);break}}},r.getVerticalOffset=function(n){var s,i;return(i=(s=_C[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,s){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==dr.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,s),l&&l(n)},r.onQuarterClick=function(n,s){var i=tg(r.props.day,s);jw(i,r.props)||r.handleDayClick(DI(i),n)},r.onQuarterMouseEnter=function(n){var s=tg(r.props.day,n);jw(s,r.props)||r.handleDayMouseEnter(DI(s))},r.handleQuarterNavigation=function(n,s){var i,o,l,c;r.isDisabled(s)||r.isExcluded(s)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,s){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case dr.Enter:r.onQuarterClick(n,s),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case dr.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,JE(r.props.preSelection,1));break;case dr.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,hJ(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var s,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,m=ic(o,n);return{isDisabled:(s=(l||c||d||f)&&TJ(m,r.props))!==null&&s!==void 0?s:!1,labelDate:m}},r.isMonthDisabled=function(n){var s=r.isMonthDisabledForLabelDate(n).isDisabled;return s},r.getMonthClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,d=s.monthClassName,f=d?d(ic(i,n)):void 0,m=r.getSelection();return _r("react-datepicker__month-text","react-datepicker__month-".concat(n),f,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(i,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?ww(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=po(r.props.preSelection),i=r.isMonthDisabledForLabelDate(s).isDisabled,o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=vp(r.props.preSelection),i=jw(r.props.day,r.props),o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var s=r.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=s.day,f=s.locale,m=ic(d,n),p=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(p," ").concat(Ja(m,"MMMM yyyy",f))},r.getQuarterClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.selected,d=s.minDate,f=s.maxDate,m=s.excludeDates,p=s.includeDates,g=s.filterDate,v=s.preSelection,w=s.disabledKeyboardNavigation,y=(d||f||m||p||g)&&jw(tg(i,n),r.props);return _r("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":y,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!w&&v&&r.isSelectedQuarter(i,n,v)&&!y,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Sw(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var s=r.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,d=AJ(n,l),f=oD(n,l);return o?o(n,d,f,c):i?f:d},r.getQuarterContent=function(n){var s,i=r.props,o=i.renderQuarterContent,l=i.locale,c=_be(n,l);return(s=o==null?void 0:o(n,c))!==null&&s!==void 0?s:c},r.renderMonths=function(){var n,s=r.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,d=(n=_C[GI(o,i)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(f,m){return be.createElement("div",{className:"react-datepicker__month-wrapper",key:m},f.map(function(p,g){return be.createElement("div",{ref:r.MONTH_REFS[p],key:g,onClick:function(v){r.onMonthClick(v,p)},onKeyDown:function(v){EJ(v)&&(v.preventDefault(),v.key=dr.Enter),r.onMonthKeyDown(v,p)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(p)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(p)}:void 0,tabIndex:Number(r.getTabIndex(p)),className:r.getMonthClassNames(p),"aria-disabled":r.isMonthDisabled(p),role:"option","aria-label":r.getAriaLabel(p),"aria-current":r.isCurrentMonth(l,p)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,p,c):void 0},r.getMonthContent(p))}))})},r.renderQuarters=function(){var n=r.props,s=n.day,i=n.selected,o=[1,2,3,4];return be.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return be.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(s,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,s=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return _r("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,s=r.selectedDates,i=r.selectsMultiple;if(i)return s;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,s=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=n||s;return d?be.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ja(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):be.createElement("div",{role:"table"},this.props.dayNamesHeader&&be.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),be.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(Ja(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(b.Component),Ube=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,s){var i;switch(s.key){case"Enter":s.preventDefault(),r.onChange(n);break;case"Escape":s.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(n+(s.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(i=r.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,s){return be.createElement("div",{ref:function(i){r.monthOptionButtonsRef[s]=i,r.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,s),onKeyDown:r.handleOptionKeyDown.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?be.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return be.createElement(LN,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),Wbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(s,i){return be.createElement("option",{key:s,value:i},s)})},r.renderSelectMode=function(n){return be.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,s){return be.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},be.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(n){return be.createElement(Ube,Pn({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var s=r.state.dropdownVisible,i=[r.renderReadView(!s,n)];return s&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return AJ(i,r.props.locale)}:function(i){return oD(i,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return be.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(b.Component);function Vbe(t,e){for(var r=[],n=Sf(t),s=Sf(e);!cm(n,s);)r.push(oa(n)),n=ud(n,1);return r}var Gbe=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var i=E6(s),o=qd(n.props.date,s)&&To(n.props.date,s);return be.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?be.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",Ja(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:Vbe(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=_r({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return be.createElement(LN,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),Ybe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=Sf(r.props.minDate),s=Sf(r.props.maxDate),i=[];!cm(n,s);){var o=E6(n);i.push(be.createElement("option",{key:o,value:o},Ja(n,r.props.dateFormat,r.props.locale))),n=ud(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return be.createElement("select",{value:E6(Sf(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var s=Ja(r.props.date,r.props.dateFormat,r.props.locale);return be.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},be.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return be.createElement(Gbe,Pn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown();var s=oa(n);qd(r.props.date,s)&&To(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return be.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(b.Component),Kbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var s,i;(r.props.minTime||r.props.maxTime)&&FI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&II(n,r.props)||(i=(s=r.props).onChange)===null||i===void 0||i.call(s,n)},r.isSelectedTime=function(n){return r.props.selected&&Ibe(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&FI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&II(n,r.props)},r.liClasses=function(n){var s,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(jf(n)*3600+Nf(n)*60+Xh(n))%(((s=r.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,s){var i,o;n.key===dr.Space&&(n.preventDefault(),n.key=dr.Enter),(n.key===dr.ArrowUp||n.key===dr.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===dr.ArrowDown||n.key===dr.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===dr.Enter&&r.handleClick(s),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,s=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||oa(),c=M2(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(y,N){return y.getTime()-N.getTime()}),f=60*Rbe(l),m=f/o,p=0;p<m;p++){var g=T6(c,p*o);if(s.push(g),d){var v=Lbe(c,g,p,o,d);s=s.concat(v)}}var w=s.reduce(function(y,N){return N.getTime()<=l.getTime()?N:y},s[0]);return s.map(function(y){return be.createElement("li",{key:y.valueOf(),onClick:r.handleClick.bind(r,y),className:r.liClasses(y),ref:function(N){y===w&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,y)},tabIndex:y===w?0:-1,role:"option","aria-selected":r.isSelectedTime(y)?"true":void 0,"aria-disabled":r.isDisabledTime(y)?"true":void 0},Ja(y,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?be.createElement(be.Fragment,null):be.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},be.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,s=this.state.height;return be.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),be.createElement("div",{className:"react-datepicker__time"},be.createElement("div",{className:"react-datepicker__time-box"},be.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(b.Component),YI=3,Jbe=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=Kd([],Array(n.props.yearItemNumber),!0).map(function(){return b.createRef()}),n.isDisabled=function(s){return lc(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return lD(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=n.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(s,i){n.props.onDayClick&&n.props.onDayClick(s,i)},n.handleYearNavigation=function(s,i){var o,l,c,d,f=n.props,m=f.date,p=f.yearItemNumber;if(!(m===void 0||p===void 0)){var g=ff(m,p).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),s-g<0?n.updateFocusOnPaginate(p-(g-s)):s-g>=p?n.updateFocusOnPaginate(Math.abs(p-(s-g))):(d=(c=n.YEAR_REFS[s-g])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(s,i){return Dn(s,i)},n.isCurrentYear=function(s){return s===wn(oa())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&qd(zd(oa(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&qd(zd(oa(),s),n.props.endDate)},n.isInRange=function(s){return Nw(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,f=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&f?Nw(s,n.selectingDate(),f):l&&d||c&&d&&!f?Nw(s,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,d=zd(oa(),s);return c?qd(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):qd(d,l??null)},n.isSelectingRangeEnd=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,f=zd(oa(),s);return c||d?qd(f,(i=n.selectingDate())!==null&&i!==void 0?i:null):qd(f,l??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,f=i.filterDate,m=i.selected,p=ny(zd(n.props.date,s)),g=(o||l||c||d||f)&&O2(s,n.props),v=!!m&&Dn(p,ny(m)),w=Dn(p,ny(n.props.preSelection));return!n.props.inline&&!v&&w&&!g}},n.isSelectedYear=function(s){var i=n.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return s===wn(d)}):!!l&&s===wn(l)},n.onYearClick=function(s,i){var o=n.props.date;o!==void 0&&n.handleYearClick(ny(zd(o,i)),s)},n.onYearKeyDown=function(s,i){var o,l,c=s.key,d=n.props,f=d.date,m=d.yearItemNumber,p=d.handleOnKeyDown;if(c!==dr.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case dr.Enter:if(n.props.selected==null)break;n.onYearClick(s,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case dr.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,vf(n.props.preSelection,1));break;case dr.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,qg(n.props.preSelection,1));break;case dr.ArrowUp:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var g=ff(f,m).startPeriod,v=YI,w=i-v;if(w<g){var y=m%v;i>=g&&i<g+y?v=y:v+=y,w=i-v}n.handleYearNavigation(w,qg(n.props.preSelection,v));break}case dr.ArrowDown:{if(f===void 0||m===void 0||n.props.preSelection==null)break;var N=ff(f,m).endPeriod,v=YI,w=i+v;if(w>N){var y=m%v;i<=N&&i>N-y?v=y:v+=y,w=i+v}n.handleYearNavigation(w,vf(n.props.preSelection,v));break}}p&&p(s)},n.getYearClassNames=function(s){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,f=i.includeDates,m=i.filterDate,p=i.yearClassName;return _r("react-datepicker__year-text","react-datepicker__year-".concat(s),o?p==null?void 0:p(zd(o,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||f||m)&&O2(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=wn(n.props.preSelection),o=O2(s,n.props);return s===i&&!o?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var r=this,n=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var d=ff(i,o),f=d.startPeriod,m=d.endPeriod,p=function(w){n.push(be.createElement("div",{ref:g.YEAR_REFS[w-f],onClick:function(y){r.onYearClick(y,w)},onKeyDown:function(y){EJ(y)&&(y.preventDefault(),y.key=dr.Enter),r.onYearKeyDown(y,w)},tabIndex:Number(g.getYearTabIndex(w)),className:g.getYearClassNames(w),onMouseEnter:g.props.usePointerEvent?void 0:function(y){return l(y,w)},onPointerEnter:g.props.usePointerEvent?function(y){return l(y,w)}:void 0,onMouseLeave:g.props.usePointerEvent?void 0:function(y){return c(y,w)},onPointerLeave:g.props.usePointerEvent?function(y){return c(y,w)}:void 0,key:w,"aria-current":g.isCurrentYear(w)?"date":void 0},g.getYearContent(w)))},g=this,v=f;v<=m;v++)p(v);return be.createElement("div",{className:"react-datepicker__year"},be.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(b.Component);function Xbe(t,e,r,n){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;r&&(l=wn(r)<=o),n&&l&&(l=wn(n)>=o),l&&s.push(o)}return s}var Qbe=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var f=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[f]&&((d=n.yearOptionButtonsRef[f])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return be.createElement("div",{ref:function(p){n.yearOptionButtonsRef[m]=p,m===l&&(p==null||p.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?be.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),d=n.props.minDate?wn(n.props.minDate):null,f=n.props.maxDate?wn(n.props.maxDate):null;return(!f||!n.state.yearsList.find(function(m){return m===f}))&&c.unshift(be.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(m){return m===d}))&&c.push(be.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},be.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=s||(i?10:5);return n.state={yearsList:Xbe(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=b.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,s=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=_r({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return be.createElement(LN,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(b.Component),Zbe=(function(t){Ji(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?wn(r.props.minDate):1900,s=r.props.maxDate?wn(r.props.maxDate):2100,i=[],o=n;o<=s;o++)i.push(be.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return be.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return be.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},be.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),be.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return be.createElement(Qbe,Pn({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,s){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,s),r.setOpen()},r.onSelect=function(n,s){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,s)},r.setOpen=function(){var n,s;(s=(n=r.props).setOpen)===null||s===void 0||s.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return be.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(b.Component),eye=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],DJ="react-datepicker-ignore-onclickoutside",tye=function(t){var e=(t.className||"").split(/\s+/);return eye.some(function(r){return e.indexOf(r)>=0})},rye=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var i,o;tye(s.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},n.getDateInView=function(){var s=n.props,i=s.preSelection,o=s.selected,l=s.openToDate,c=MJ(n.props),d=OJ(n.props),f=oa(),m=l||o||i;return m||(c&&Yd(f,c)?c:d&&cm(f,d)?d:f)},n.increaseMonth=function(){n.setState(function(s){var i=s.date;return{date:ud(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var i=s.date;return{date:wp(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,i,o){n.props.onSelect(s,i,o),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,i){n.setState({selectingDate:zd(oa(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,i)},n.handleYearMouseLeave=function(s,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,i)},n.handleYearChange=function(s){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!lc(s,n.props))return s;for(var i=Sf(s),o=Nbe(s),l=Lpe(o,i),c=null,d=0;d<=l;d++){var f=id(i,d);if(!lc(f,n.props)){c=f;break}}return c},n.handleMonthChange=function(s){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(s){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(i){var o=i.date;return{date:zd(o,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(i){var o=i.date;return{date:ic(o,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(i){var o=i.date;return{date:zd(ic(o,po(s)),wn(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var i=Qh(s,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(be.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},be.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),be.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=id(i,l),d=n.formatWeekday(c,n.props.locale),f=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return be.createElement("div",{key:l,role:"columnheader",className:_r("react-datepicker__day-name",f)},be.createElement("span",{className:"react-datepicker__sr-only"},Ja(c,"EEEE",n.props.locale)),be.createElement("span",{"aria-hidden":"true"},d))}))},n.formatWeekday=function(s,i){return n.props.formatWeekDay?Sbe(s,n.props.formatWeekDay,i):n.props.useWeekdaysShort?Cbe(s,i):kbe(s,i)},n.decreaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:qg(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,i,o;if(!n.props.renderCustomHeader){var l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,f=wp(n.state.date,d),m;switch(!0){case n.props.showMonthYearPicker:m=BI(n.state.date,n.props);break;case n.props.showYearPicker:m=Obe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=Tbe(n.state.date,n.props);break;default:m=$I(f,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var p=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],g=["react-datepicker__navigation","react-datepicker__navigation--previous"],v=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(v=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(g.push("react-datepicker__navigation--previous--disabled"),v=void 0);var w=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,y=n.props,N=y.previousMonthButtonLabel,k=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=y.previousYearButtonLabel,A=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,O=_.previousMonthAriaLabel,P=O===void 0?typeof k=="string"?k:"Previous Month":O,I=_.previousYearAriaLabel,R=I===void 0?typeof A=="string"?A:"Previous Year":I;return be.createElement("button",{type:"button",className:g.join(" "),onClick:v,onKeyDown:n.props.handleOnKeyDown,"aria-label":w?R:P},be.createElement("span",{className:p.join(" ")},w?A:k))}}},n.increaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:vf(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=zI(n.state.date,n.props);break;case n.props.showYearPicker:i=Ebe(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=Mbe(n.state.date,n.props);break;default:i=HI(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,f=n.props,m=f.nextMonthButtonLabel,p=m===void 0?e.defaultProps.nextMonthButtonLabel:m,g=f.nextYearButtonLabel,v=g===void 0?e.defaultProps.nextYearButtonLabel:g,w=n.props,y=w.nextMonthAriaLabel,N=y===void 0?typeof p=="string"?p:"Next Month":y,k=w.nextYearAriaLabel,S=k===void 0?typeof v=="string"?v:"Next Year":k;return be.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?S:N},be.createElement("span",{className:l.join(" ")},d?v:p))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),be.createElement("h2",{className:i.join(" ")},Ja(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return be.createElement(Zbe,Pn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:wn(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return be.createElement(Wbe,Pn({},e.defaultProps,n.props,{month:po(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return be.createElement(Ybe,Pn({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(PI(),s),n.props.setPreSelection&&n.props.setPreSelection(PI())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return be.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return be.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return be.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),be.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(s){var i,o,l=s.monthDate,c=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,f=d.showYearPicker,m=d.yearItemNumber,p;if(f){var g=ff(l,m),v=g.startPeriod,w=g.endPeriod;p={startYear:v,endYear:w}}var y=$I(n.state.date,n.props),N=HI(n.state.date,n.props),k=BI(n.state.date,n.props),S=zI(n.state.date,n.props);return be.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,Pn(Pn(Pn({},n.state),f&&{visibleYearsRange:p}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:y,nextMonthButtonDisabled:N,prevYearButtonDisabled:k,nextYearButtonDisabled:S})))},n.renderYearHeader=function(s){var i=s.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,f=ff(i,d),m=f.startPeriod,p=f.endPeriod;return be.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(p):wn(i))},n.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var s,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?vf(n.state.date,c):wp(n.state.date,c),f=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,m=0;m<l;++m){var p=m-f+c,g=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?vf(d,p):ud(d,p),v="month-".concat(m),w=m<l-1,y=m>0;o.push(be.createElement("div",{key:v,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:g,i:m}),be.createElement(qbe,Pn({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:g,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:w,monthShowsDuplicateDaysStart:y,dayNamesHeader:n.renderDayNamesHeader(g)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return be.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),be.createElement(Jbe,Pn({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return be.createElement(Kbe,Pn({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,i=s&&RN(s)&&!!n.props.selected,o=i?"".concat(UI(s.getHours()),":").concat(UI(s.getMinutes())):"";if(n.props.showTimeInput)return be.createElement(Fbe,Pn({},e.defaultProps,n.props,{date:s,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,i=ff(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=wn(n.state.date):c="".concat(oD(po(n.state.date),n.props.locale)," ").concat(wn(n.state.date)),be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return be.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=b.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:DJ,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:t1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!Dn(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!To(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!Dn(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||gbe;return be.createElement(LN,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},be.createElement("div",{style:{display:"contents"},ref:this.containerRef},be.createElement(r,{className:_r("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(b.Component),nye=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,s=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return be.createElement("i",{className:"".concat(i," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(be.isValidElement(e)){var o=e;return be.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return be.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},be.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},PJ=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return aY.createPortal(this.props.children,this.el)},e})(b.Component),aye="[tabindex], a, button, input, select, textarea",sye=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},LJ=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(aye),1,-1).filter(sye)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=b.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?be.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},be.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,be.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(b.Component);function iye(t){function e(r){var n,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=b.useRef(null),o=pbe(Pn({open:!s,whileElementsMounted:NJ,placement:r.popperPlacement,middleware:Kd([rbe({padding:15}),tbe(10),nbe({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=Pn(Pn({},r),{hidePopper:s,popperProps:Pn(Pn({},o),{arrowRef:i})});return be.createElement(t,Pn({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var oye=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,s=n===void 0?!0:n,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,d=t.portalId,f=t.portalHost,m=t.popperProps,p=t.showArrow,g=void 0;if(!s){var v=_r("react-datepicker-popper",e);g=be.createElement(LJ,{enableTabLoop:l},be.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:v,"data-placement":m.placement,onKeyDown:c},i,p&&be.createElement(lbe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(g=b.createElement(t.popperContainer,{},g)),d&&!s&&(g=be.createElement(PJ,{portalId:d,portalHost:f},g));var w=_r("react-datepicker-wrapper",r);return be.createElement(be.Fragment,null,be.createElement("div",{ref:m.refs.setReference,className:w},o),g)},lye=iye(oye);function cye(t,e){return t&&e?po(t)!==po(e)||wn(t)!==wn(e):t!==e}var AC="Date input not valid.",um=(function(t){Ji(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:oa()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return RN(l)?Kd(Kd([],i,!0),[Pn(Pn({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var s,i=n.getPreSelection(),o=MJ(n.props),l=OJ(n.props),c=o&&Yd(i,M2(o))?o:l&&cm(i,LI(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:c,highlightDates:qI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,i=n.props,o=i.locale,l=i.startDate,c=i.endDate,d=i.rangeSeparator,f=i.selected,m=i.selectedDates,p=i.selectsMultiple,g=i.selectsRange,v=i.value,w=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,y=n.state.inputValue;return typeof v=="string"?v:typeof y=="string"?y:g?bbe(l,c,{dateFormat:w,locale:o,rangeSeparator:d}):p?ybe(m??[],{dateFormat:w,locale:o}):sc(f,{dateFormat:w,locale:o})},n.resetHiddenStatus=function(){n.setState(Pn(Pn({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(Pn(Pn({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},n.setBlur=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,i){i===void 0&&(i=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:TC},function(){s||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return wf(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,s),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(Pn(Pn({},n.state),{inputValue:null}))},n.handleBlur=function(s){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,i,o,l,c,d=[],f=0;f<arguments.length;f++)d[f]=arguments[f];var m=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:dye});var p=n.props,g=p.selectsRange,v=p.startDate,w=p.endDate,y=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,N=(i=n.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,k=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(g){var S=n.props.rangeSeparator,A=S.trim(),_=k.split(y.includes(A)?S:A,2).map(function(H){return H.trim()}),O=_[0],P=_[1],I=SC(O??"",y,n.props.locale,N),R=I?SC(P??"",y,n.props.locale,N):null,F=(v==null?void 0:v.getTime())!==(I==null?void 0:I.getTime()),E=(w==null?void 0:w.getTime())!==(R==null?void 0:R.getTime());if(!F&&!E||I&&lc(I,n.props)||R&&lc(R,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[I,R],m)}else{var M=SC(k,y,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(M||!k)&&n.setSelected(M,m,!0)}}},n.handleSelect=function(s,i,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,d=l.startDate,f=l.endDate,m=l.swapRange,p=!c||d&&!f&&(m||!CC(s,d));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&p&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(s,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):p&&n.setOpen(!1)}},n.setSelected=function(s,i,o,l){var c,d,f=s;if(n.props.showYearPicker){if(f!==null&&O2(wn(f),n.props))return}else if(n.props.showMonthYearPicker){if(f!==null&&TJ(f,n.props))return}else if(f!==null&&lc(f,n.props))return;var m=n.props,p=m.onChange,g=m.selectsRange,v=m.startDate,w=m.endDate,y=m.selectsMultiple,N=m.selectedDates,k=m.minTime,S=m.swapRange;if(!ip(n.props.selected,f)||n.props.allowSameDay||g||y)if(f!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(f=kC(f,{hour:jf(n.props.selected),minute:Nf(n.props.selected),second:Xh(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&k&&(f=kC(f,{hour:k.getHours(),minute:k.getMinutes(),second:k.getSeconds()})),n.props.inline||n.setState({preSelection:f}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),g){var A=!v&&!w,_=v&&!w,O=!v&&!!w,P=v&&w;A?p==null||p([f,null],i):_?f===null?p==null||p([null,null],i):CC(f,v)?S?p==null||p([f,v],i):p==null||p([f,null],i):p==null||p([v,f],i):O&&(f&&CC(f,w)?p==null||p([f,w],i):p==null||p([f,null],i)),P&&(p==null||p([f,null],i))}else if(y){if(f!==null)if(!(N!=null&&N.length))p==null||p([f],i);else{var I=N.some(function(F){return Dn(F,f)});if(I){var R=N.filter(function(F){return!Dn(F,f)});p==null||p(R,i)}else p==null||p(Kd(Kd([],N,!0),[f],!1),i)}}else p==null||p(f,i);o||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,f,i),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var i=wf(n.props.minDate),o=wf(n.props.maxDate),l=!0;if(s){var c=M2(s);if(i&&o)l=Jm(s,n.props.minDate,n.props.maxDate);else if(i){var d=M2(n.props.minDate);l=cm(s,d)||ip(c,d)}else if(o){var f=LI(n.props.maxDate);l=Yd(s,f)||ip(c,f)}}l&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?s:kC(l,{hour:jf(s),minute:Nf(s)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(s=n.props).onInputClick)===null||i===void 0||i.call(s)},n.onInputKeyDown=function(s){var i,o,l,c,d,f;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s);var m=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===dr.ArrowDown||m===dr.ArrowUp||m===dr.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===dr.ArrowDown||m===dr.ArrowUp){s.preventDefault();var p=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',g=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(p);g instanceof HTMLElement&&g.focus({preventScroll:!0});return}var v=oa(n.state.preSelection);m===dr.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===TC?(n.handleSelect(v,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(v)):n.setOpen(!1)):m===dr.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===dr.Tab&&n.setOpen(!1),n.inputOk()||(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:AC})}},n.onPortalKeyDown=function(s){var i=s.key;i===dr.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var i,o,l,c,d,f,m=n.props,p=m.minDate,g=m.maxDate,v=m.disabledKeyboardNavigation,w=m.showWeekPicker,y=m.shouldCloseOnSelect,N=m.locale,k=m.calendarStartDay,S=m.adjustDateOnChange,A=m.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s),!v){var _=s.key,O=s.shiftKey,P=oa(n.state.preSelection),I=function(G,q){var B=q;switch(G){case dr.ArrowRight:B=w?lj(q,1):id(q,1);break;case dr.ArrowLeft:B=w?wI(q):Lge(q);break;case dr.ArrowUp:B=wI(q);break;case dr.ArrowDown:B=lj(q,1);break;case dr.PageUp:B=O?qg(q,1):wp(q,1);break;case dr.PageDown:B=O?vf(q,1):ud(q,1);break;case dr.Home:B=Qh(q,N,k);break;case dr.End:B=jbe(q);break}return B},R=function(G,q){for(var B=40,z=G,X=!1,ee=0,K=I(G,q);!X;){if(ee>=B){K=q;break}p&&K<p&&(z=dr.ArrowRight,K=lc(p,n.props)?I(z,K):p),g&&K>g&&(z=dr.ArrowLeft,K=lc(g,n.props)?I(z,K):g),lc(K,n.props)?((z===dr.PageUp||z===dr.Home)&&(z=dr.ArrowRight),(z===dr.PageDown||z===dr.End)&&(z=dr.ArrowLeft),K=I(z,K)):X=!0,ee++}return K};if(_===dr.Enter){s.preventDefault(),n.handleSelect(P,s),!y&&n.setPreSelection(P);return}else if(_===dr.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:AC});return}var F=null;switch(_){case dr.ArrowLeft:case dr.ArrowRight:case dr.ArrowUp:case dr.ArrowDown:case dr.PageUp:case dr.PageDown:case dr.Home:case dr.End:F=R(_,P);break}if(!F){(f=(d=n.props).onInputError)===null||f===void 0||f.call(d,{code:1,msg:AC});return}if(s.preventDefault(),n.setState({lastPreSelectChange:TC}),S&&n.setSelected(F),n.setPreSelection(F),A){var E=po(P),M=po(F),H=wn(P),V=wn(F);E!==M||H!==V?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var i=s.key;i===dr.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,i;return!n.props.inline&&!n.isCalendarOpen()?null:be.createElement(rye,Pn({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:Pbe(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,i=n.props.locale,o=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(sc(n.props.startDate,{dateFormat:c,locale:i}),". ").concat(n.props.endDate?"End date: "+sc(n.props.endDate,{dateFormat:c,locale:i}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(sc(n.props.selected,{dateFormat:o,locale:i})):n.props.showYearPicker?d="Selected year: ".concat(sc(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?d="Selected month: ".concat(sc(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(sc(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(sc(n.props.selected,{dateFormat:c,locale:i})),be.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var s,i,o=_r(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),l=n.props.customInput||be.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return b.cloneElement(l,(i={},i[c]=function(d){n.input=d},i.value=n.getInputValue(),i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=_r(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var s=n.props,i=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,d=s.endDate,f=s.clearButtonTitle,m=s.clearButtonClassName,p=m===void 0?"":m,g=s.ariaLabelClose,v=g===void 0?"Close":g,w=s.selectedDates,y=s.readOnly;return i&&!y&&(l!=null||c!=null||d!=null||w!=null&&w.length)?be.createElement("button",{type:"button",className:_r("react-datepicker__close-icon",p,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":v,onClick:n.onClearClick,title:f,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:DJ,readOnly:!1,rangeSeparator:_J,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:t1,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var s,i,o,l;r.inline&&cye(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:qI(this.props.highlightDates)}),!n.focused&&!ip(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,s=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),be.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&be.createElement(nye,Pn({icon:s,className:_r(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?be.createElement(LJ,{enableTabLoop:this.props.enableTabLoop},be.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=be.createElement(PJ,Pn({portalId:this.props.portalId},this.props),n)),be.createElement("div",null,this.renderInputContainer(),n)}return be.createElement(lye,Pn({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(b.Component),dye="input",TC="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:RJ,setPrototypeOf:KI,isFrozen:uye,getPrototypeOf:fye,getOwnPropertyDescriptor:hye}=Object;let{freeze:Fo,seal:vc,create:IJ}=Object,{apply:R6,construct:I6}=typeof Reflect<"u"&&Reflect;Fo||(Fo=function(e){return e});vc||(vc=function(e){return e});R6||(R6=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return e.apply(r,s)});I6||(I6=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const Cw=$o(Array.prototype.forEach),mye=$o(Array.prototype.lastIndexOf),JI=$o(Array.prototype.pop),Pb=$o(Array.prototype.push),pye=$o(Array.prototype.splice),E2=$o(String.prototype.toLowerCase),MC=$o(String.prototype.toString),OC=$o(String.prototype.match),Lb=$o(String.prototype.replace),gye=$o(String.prototype.indexOf),xye=$o(String.prototype.trim),Qc=$o(Object.prototype.hasOwnProperty),Ao=$o(RegExp.prototype.test),Rb=bye(TypeError);function $o(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return R6(t,e,n)}}function bye(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return I6(t,r)}}function An(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:E2;KI&&KI(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const i=r(s);i!==s&&(uye(e)||(e[n]=i),s=i)}t[s]=!0}return t}function yye(t){for(let e=0;e<t.length;e++)Qc(t,e)||(t[e]=null);return t}function af(t){const e=IJ(null);for(const[r,n]of RJ(t))Qc(t,r)&&(Array.isArray(n)?e[r]=yye(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=af(n):e[r]=n);return e}function Ib(t,e){for(;t!==null;){const n=hye(t,e);if(n){if(n.get)return $o(n.get);if(typeof n.value=="function")return $o(n.value)}t=fye(t)}function r(){return null}return r}const XI=Fo(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),EC=Fo(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),DC=Fo(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),vye=Fo(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),PC=Fo(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),wye=Fo(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),QI=Fo(["#text"]),ZI=Fo(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),LC=Fo(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),e9=Fo(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),_w=Fo(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),jye=vc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Nye=vc(/<%[\w\W]*|[\w\W]*%>/gm),Sye=vc(/\$\{[\w\W]*/gm),kye=vc(/^data-[\-\w.\u00B7-\uFFFF]+$/),Cye=vc(/^aria-[\-\w]+$/),FJ=vc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),_ye=vc(/^(?:\w+script|data):/i),Aye=vc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),$J=vc(/^html$/i),Tye=vc(/^[a-z][.\w]*(-[.\w]+)+$/i);var t9=Object.freeze({__proto__:null,ARIA_ATTR:Cye,ATTR_WHITESPACE:Aye,CUSTOM_ELEMENT:Tye,DATA_ATTR:kye,DOCTYPE_NAME:$J,ERB_EXPR:Nye,IS_ALLOWED_URI:FJ,IS_SCRIPT_OR_DATA:_ye,MUSTACHE_EXPR:jye,TMPLIT_EXPR:Sye});const Fb={element:1,text:3,progressingInstruction:7,comment:8,document:9},Mye=function(){return typeof window>"u"?null:window},Oye=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},r9=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function HJ(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Mye();const e=_t=>HJ(_t);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Fb.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:f=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:p,trustedTypes:g}=t,v=c.prototype,w=Ib(v,"cloneNode"),y=Ib(v,"remove"),N=Ib(v,"nextSibling"),k=Ib(v,"childNodes"),S=Ib(v,"parentNode");if(typeof o=="function"){const _t=r.createElement("template");_t.content&&_t.content.ownerDocument&&(r=_t.content.ownerDocument)}let A,_="";const{implementation:O,createNodeIterator:P,createDocumentFragment:I,getElementsByTagName:R}=r,{importNode:F}=n;let E=r9();e.isSupported=typeof RJ=="function"&&typeof S=="function"&&O&&O.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:M,ERB_EXPR:H,TMPLIT_EXPR:V,DATA_ATTR:G,ARIA_ATTR:q,IS_SCRIPT_OR_DATA:B,ATTR_WHITESPACE:z,CUSTOM_ELEMENT:X}=t9;let{IS_ALLOWED_URI:ee}=t9,K=null;const W=An({},[...XI,...EC,...DC,...PC,...QI]);let J=null;const Z=An({},[...ZI,...LC,...e9,..._w]);let ie=Object.seal(IJ(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),ue=null,je=null,ce=!0,le=!0,pe=!1,$e=!0,de=!1,Se=!0,te=!1,se=!1,ut=!1,dt=!1,De=!1,rt=!1,wt=!0,gt=!1;const Rt="user-content-";let He=!0,he=!1,Qe={},Ge=null;const mt=An({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let Le=null;const _e=An({},["audio","video","img","source","image","track"]);let qe=null;const ge=An({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),Oe="http://www.w3.org/1998/Math/MathML",ke="http://www.w3.org/2000/svg",Ue="http://www.w3.org/1999/xhtml";let Xe=Ue,we=!1,ye=null;const Ke=An({},[Oe,ke,Ue],MC);let pt=An({},["mi","mo","mn","ms","mtext"]),tt=An({},["annotation-xml"]);const Te=An({},["title","style","font","a","script"]);let ne=null;const Ie=["application/xhtml+xml","text/html"],Ye="text/html";let st=null,yt=null;const ze=r.createElement("form"),St=function(xe){return xe instanceof RegExp||xe instanceof Function},Ee=function(){let xe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(yt&&yt===xe)){if((!xe||typeof xe!="object")&&(xe={}),xe=af(xe),ne=Ie.indexOf(xe.PARSER_MEDIA_TYPE)===-1?Ye:xe.PARSER_MEDIA_TYPE,st=ne==="application/xhtml+xml"?MC:E2,K=Qc(xe,"ALLOWED_TAGS")?An({},xe.ALLOWED_TAGS,st):W,J=Qc(xe,"ALLOWED_ATTR")?An({},xe.ALLOWED_ATTR,st):Z,ye=Qc(xe,"ALLOWED_NAMESPACES")?An({},xe.ALLOWED_NAMESPACES,MC):Ke,qe=Qc(xe,"ADD_URI_SAFE_ATTR")?An(af(ge),xe.ADD_URI_SAFE_ATTR,st):ge,Le=Qc(xe,"ADD_DATA_URI_TAGS")?An(af(_e),xe.ADD_DATA_URI_TAGS,st):_e,Ge=Qc(xe,"FORBID_CONTENTS")?An({},xe.FORBID_CONTENTS,st):mt,ue=Qc(xe,"FORBID_TAGS")?An({},xe.FORBID_TAGS,st):af({}),je=Qc(xe,"FORBID_ATTR")?An({},xe.FORBID_ATTR,st):af({}),Qe=Qc(xe,"USE_PROFILES")?xe.USE_PROFILES:!1,ce=xe.ALLOW_ARIA_ATTR!==!1,le=xe.ALLOW_DATA_ATTR!==!1,pe=xe.ALLOW_UNKNOWN_PROTOCOLS||!1,$e=xe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,de=xe.SAFE_FOR_TEMPLATES||!1,Se=xe.SAFE_FOR_XML!==!1,te=xe.WHOLE_DOCUMENT||!1,dt=xe.RETURN_DOM||!1,De=xe.RETURN_DOM_FRAGMENT||!1,rt=xe.RETURN_TRUSTED_TYPE||!1,ut=xe.FORCE_BODY||!1,wt=xe.SANITIZE_DOM!==!1,gt=xe.SANITIZE_NAMED_PROPS||!1,He=xe.KEEP_CONTENT!==!1,he=xe.IN_PLACE||!1,ee=xe.ALLOWED_URI_REGEXP||FJ,Xe=xe.NAMESPACE||Ue,pt=xe.MATHML_TEXT_INTEGRATION_POINTS||pt,tt=xe.HTML_INTEGRATION_POINTS||tt,ie=xe.CUSTOM_ELEMENT_HANDLING||{},xe.CUSTOM_ELEMENT_HANDLING&&St(xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ie.tagNameCheck=xe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&St(xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ie.attributeNameCheck=xe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),xe.CUSTOM_ELEMENT_HANDLING&&typeof xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ie.allowCustomizedBuiltInElements=xe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),de&&(le=!1),De&&(dt=!0),Qe&&(K=An({},QI),J=[],Qe.html===!0&&(An(K,XI),An(J,ZI)),Qe.svg===!0&&(An(K,EC),An(J,LC),An(J,_w)),Qe.svgFilters===!0&&(An(K,DC),An(J,LC),An(J,_w)),Qe.mathMl===!0&&(An(K,PC),An(J,e9),An(J,_w))),xe.ADD_TAGS&&(K===W&&(K=af(K)),An(K,xe.ADD_TAGS,st)),xe.ADD_ATTR&&(J===Z&&(J=af(J)),An(J,xe.ADD_ATTR,st)),xe.ADD_URI_SAFE_ATTR&&An(qe,xe.ADD_URI_SAFE_ATTR,st),xe.FORBID_CONTENTS&&(Ge===mt&&(Ge=af(Ge)),An(Ge,xe.FORBID_CONTENTS,st)),He&&(K["#text"]=!0),te&&An(K,["html","head","body"]),K.table&&(An(K,["tbody"]),delete ue.tbody),xe.TRUSTED_TYPES_POLICY){if(typeof xe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Rb('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof xe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Rb('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');A=xe.TRUSTED_TYPES_POLICY,_=A.createHTML("")}else A===void 0&&(A=Oye(g,s)),A!==null&&typeof _=="string"&&(_=A.createHTML(""));Fo&&Fo(xe),yt=xe}},It=An({},[...EC,...DC,...vye]),Pt=An({},[...PC,...wye]),Bt=function(xe){let nt=S(xe);(!nt||!nt.tagName)&&(nt={namespaceURI:Xe,tagName:"template"});const Nt=E2(xe.tagName),cr=E2(nt.tagName);return ye[xe.namespaceURI]?xe.namespaceURI===ke?nt.namespaceURI===Ue?Nt==="svg":nt.namespaceURI===Oe?Nt==="svg"&&(cr==="annotation-xml"||pt[cr]):!!It[Nt]:xe.namespaceURI===Oe?nt.namespaceURI===Ue?Nt==="math":nt.namespaceURI===ke?Nt==="math"&&tt[cr]:!!Pt[Nt]:xe.namespaceURI===Ue?nt.namespaceURI===ke&&!tt[cr]||nt.namespaceURI===Oe&&!pt[cr]?!1:!Pt[Nt]&&(Te[Nt]||!It[Nt]):!!(ne==="application/xhtml+xml"&&ye[xe.namespaceURI]):!1},ft=function(xe){Pb(e.removed,{element:xe});try{S(xe).removeChild(xe)}catch{y(xe)}},Ct=function(xe,nt){try{Pb(e.removed,{attribute:nt.getAttributeNode(xe),from:nt})}catch{Pb(e.removed,{attribute:null,from:nt})}if(nt.removeAttribute(xe),xe==="is")if(dt||De)try{ft(nt)}catch{}else try{nt.setAttribute(xe,"")}catch{}},Mt=function(xe){let nt=null,Nt=null;if(ut)xe="<remove></remove>"+xe;else{const nr=OC(xe,/^[\r\n\t ]+/);Nt=nr&&nr[0]}ne==="application/xhtml+xml"&&Xe===Ue&&(xe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+xe+"</body></html>");const cr=A?A.createHTML(xe):xe;if(Xe===Ue)try{nt=new p().parseFromString(cr,ne)}catch{}if(!nt||!nt.documentElement){nt=O.createDocument(Xe,"template",null);try{nt.documentElement.innerHTML=we?_:cr}catch{}}const rn=nt.body||nt.documentElement;return xe&&Nt&&rn.insertBefore(r.createTextNode(Nt),rn.childNodes[0]||null),Xe===Ue?R.call(nt,te?"html":"body")[0]:te?nt.documentElement:rn},pr=function(xe){return P.call(xe.ownerDocument||xe,xe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},yn=function(xe){return xe instanceof m&&(typeof xe.nodeName!="string"||typeof xe.textContent!="string"||typeof xe.removeChild!="function"||!(xe.attributes instanceof f)||typeof xe.removeAttribute!="function"||typeof xe.setAttribute!="function"||typeof xe.namespaceURI!="string"||typeof xe.insertBefore!="function"||typeof xe.hasChildNodes!="function")},vn=function(xe){return typeof l=="function"&&xe instanceof l};function or(_t,xe,nt){Cw(_t,Nt=>{Nt.call(e,xe,nt,yt)})}const Ur=function(xe){let nt=null;if(or(E.beforeSanitizeElements,xe,null),yn(xe))return ft(xe),!0;const Nt=st(xe.nodeName);if(or(E.uponSanitizeElement,xe,{tagName:Nt,allowedTags:K}),Se&&xe.hasChildNodes()&&!vn(xe.firstElementChild)&&Ao(/<[/\w!]/g,xe.innerHTML)&&Ao(/<[/\w!]/g,xe.textContent)||xe.nodeType===Fb.progressingInstruction||Se&&xe.nodeType===Fb.comment&&Ao(/<[/\w]/g,xe.data))return ft(xe),!0;if(!K[Nt]||ue[Nt]){if(!ue[Nt]&&jn(Nt)&&(ie.tagNameCheck instanceof RegExp&&Ao(ie.tagNameCheck,Nt)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Nt)))return!1;if(He&&!Ge[Nt]){const cr=S(xe)||xe.parentNode,rn=k(xe)||xe.childNodes;if(rn&&cr){const nr=rn.length;for(let zt=nr-1;zt>=0;--zt){const Nr=w(rn[zt],!0);Nr.__removalCount=(xe.__removalCount||0)+1,cr.insertBefore(Nr,N(xe))}}}return ft(xe),!0}return xe instanceof c&&!Bt(xe)||(Nt==="noscript"||Nt==="noembed"||Nt==="noframes")&&Ao(/<\/no(script|embed|frames)/i,xe.innerHTML)?(ft(xe),!0):(de&&xe.nodeType===Fb.text&&(nt=xe.textContent,Cw([M,H,V],cr=>{nt=Lb(nt,cr," ")}),xe.textContent!==nt&&(Pb(e.removed,{element:xe.cloneNode()}),xe.textContent=nt)),or(E.afterSanitizeElements,xe,null),!1)},Yr=function(xe,nt,Nt){if(wt&&(nt==="id"||nt==="name")&&(Nt in r||Nt in ze))return!1;if(!(le&&!je[nt]&&Ao(G,nt))){if(!(ce&&Ao(q,nt))){if(!J[nt]||je[nt]){if(!(jn(xe)&&(ie.tagNameCheck instanceof RegExp&&Ao(ie.tagNameCheck,xe)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(xe))&&(ie.attributeNameCheck instanceof RegExp&&Ao(ie.attributeNameCheck,nt)||ie.attributeNameCheck instanceof Function&&ie.attributeNameCheck(nt,xe))||nt==="is"&&ie.allowCustomizedBuiltInElements&&(ie.tagNameCheck instanceof RegExp&&Ao(ie.tagNameCheck,Nt)||ie.tagNameCheck instanceof Function&&ie.tagNameCheck(Nt))))return!1}else if(!qe[nt]){if(!Ao(ee,Lb(Nt,z,""))){if(!((nt==="src"||nt==="xlink:href"||nt==="href")&&xe!=="script"&&gye(Nt,"data:")===0&&Le[xe])){if(!(pe&&!Ao(B,Lb(Nt,z,"")))){if(Nt)return!1}}}}}}return!0},jn=function(xe){return xe!=="annotation-xml"&&OC(xe,X)},Ve=function(xe){or(E.beforeSanitizeAttributes,xe,null);const{attributes:nt}=xe;if(!nt||yn(xe))return;const Nt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:J,forceKeepAttr:void 0};let cr=nt.length;for(;cr--;){const rn=nt[cr],{name:nr,namespaceURI:zt,value:Nr}=rn,jr=st(nr),cn=Nr;let ir=nr==="value"?cn:xye(cn);if(Nt.attrName=jr,Nt.attrValue=ir,Nt.keepAttr=!0,Nt.forceKeepAttr=void 0,or(E.uponSanitizeAttribute,xe,Nt),ir=Nt.attrValue,gt&&(jr==="id"||jr==="name")&&(Ct(nr,xe),ir=Rt+ir),Se&&Ao(/((--!?|])>)|<\/(style|title|textarea)/i,ir)){Ct(nr,xe);continue}if(jr==="attributename"&&OC(ir,"href")){Ct(nr,xe);continue}if(Nt.forceKeepAttr)continue;if(!Nt.keepAttr){Ct(nr,xe);continue}if(!$e&&Ao(/\/>/i,ir)){Ct(nr,xe);continue}de&&Cw([M,H,V],Er=>{ir=Lb(ir,Er," ")});const Kn=st(xe.nodeName);if(!Yr(Kn,jr,ir)){Ct(nr,xe);continue}if(A&&typeof g=="object"&&typeof g.getAttributeType=="function"&&!zt)switch(g.getAttributeType(Kn,jr)){case"TrustedHTML":{ir=A.createHTML(ir);break}case"TrustedScriptURL":{ir=A.createScriptURL(ir);break}}if(ir!==cn)try{zt?xe.setAttributeNS(zt,nr,ir):xe.setAttribute(nr,ir),yn(xe)?ft(xe):JI(e.removed)}catch{Ct(nr,xe)}}or(E.afterSanitizeAttributes,xe,null)},it=function _t(xe){let nt=null;const Nt=pr(xe);for(or(E.beforeSanitizeShadowDOM,xe,null);nt=Nt.nextNode();)or(E.uponSanitizeShadowNode,nt,null),Ur(nt),Ve(nt),nt.content instanceof i&&_t(nt.content);or(E.afterSanitizeShadowDOM,xe,null)};return e.sanitize=function(_t){let xe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},nt=null,Nt=null,cr=null,rn=null;if(we=!_t,we&&(_t="<!-->"),typeof _t!="string"&&!vn(_t))if(typeof _t.toString=="function"){if(_t=_t.toString(),typeof _t!="string")throw Rb("dirty is not a string, aborting")}else throw Rb("toString is not a function");if(!e.isSupported)return _t;if(se||Ee(xe),e.removed=[],typeof _t=="string"&&(he=!1),he){if(_t.nodeName){const Nr=st(_t.nodeName);if(!K[Nr]||ue[Nr])throw Rb("root node is forbidden and cannot be sanitized in-place")}}else if(_t instanceof l)nt=Mt("<!---->"),Nt=nt.ownerDocument.importNode(_t,!0),Nt.nodeType===Fb.element&&Nt.nodeName==="BODY"||Nt.nodeName==="HTML"?nt=Nt:nt.appendChild(Nt);else{if(!dt&&!de&&!te&&_t.indexOf("<")===-1)return A&&rt?A.createHTML(_t):_t;if(nt=Mt(_t),!nt)return dt?null:rt?_:""}nt&&ut&&ft(nt.firstChild);const nr=pr(he?_t:nt);for(;cr=nr.nextNode();)Ur(cr),Ve(cr),cr.content instanceof i&&it(cr.content);if(he)return _t;if(dt){if(De)for(rn=I.call(nt.ownerDocument);nt.firstChild;)rn.appendChild(nt.firstChild);else rn=nt;return(J.shadowroot||J.shadowrootmode)&&(rn=F.call(n,rn,!0)),rn}let zt=te?nt.outerHTML:nt.innerHTML;return te&&K["!doctype"]&&nt.ownerDocument&&nt.ownerDocument.doctype&&nt.ownerDocument.doctype.name&&Ao($J,nt.ownerDocument.doctype.name)&&(zt="<!DOCTYPE "+nt.ownerDocument.doctype.name+`>
`+zt),de&&Cw([M,H,V],Nr=>{zt=Lb(zt,Nr," ")}),A&&rt?A.createHTML(zt):zt},e.setConfig=function(){let _t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Ee(_t),se=!0},e.clearConfig=function(){yt=null,se=!1},e.isValidAttribute=function(_t,xe,nt){yt||Ee({});const Nt=st(_t),cr=st(xe);return Yr(Nt,cr,nt)},e.addHook=function(_t,xe){typeof xe=="function"&&Pb(E[_t],xe)},e.removeHook=function(_t,xe){if(xe!==void 0){const nt=mye(E[_t],xe);return nt===-1?void 0:pye(E[_t],nt,1)[0]}return JI(E[_t])},e.removeHooks=function(_t){E[_t]=[]},e.removeAllHooks=function(){E=r9()},e}var mu=HJ();const Eye=Object.freeze(Object.defineProperty({__proto__:null,default:mu},Symbol.toStringTag,{value:"Module"}));function Dye(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const Aw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},n9=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),F6=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},$6=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},Pye=({record:t,onClose:e})=>{const r=(m,p)=>{if(m==null||p===null||p===void 0)return"-";const g=m.toString().padStart(2,"0"),v=p.toString().padStart(2,"0");return`${g}:${v}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),s=F6(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=$6(s),o=({status:m})=>{const p={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${p[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const p={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${p[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:p,icon:g})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[g&&a.jsx("div",{className:"mr-3 text-blue-600",children:g}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),a.jsx("div",{className:"p-6",children:p})]}),d=({label:m,value:p,icon:g,fullWidth:v=!1,priority:w="medium"})=>{const y={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${v?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${y[w]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[g&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:g}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:p})]})]})})})},f=({label:m,htmlContent:p,icon:g,fullWidth:v=!1})=>{if(!p)return a.jsx(d,{label:m,value:"-",icon:g,fullWidth:v,priority:"low"});const w=mu.sanitize(p,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${v?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[g&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:g}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:w}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),a.jsx(l,{activity:t.perbaikanPerawatan}),a.jsx(o,{status:t.stopTime})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Duration: ",n(i)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ia,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),a.jsx(c,{title:"Basic Information",icon:a.jsx(un,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(d,{label:"Date",value:n(t.date),icon:a.jsx(xa,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Shift",value:n(t.shift),icon:a.jsx(Cr,{className:"w-4 h-4"})}),a.jsx(d,{label:"Group",value:n(t.group),icon:a.jsx(ga,{className:"w-4 h-4"})}),a.jsx(d,{label:"Machine",value:n(t.mesin),icon:a.jsx(zs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Unit",value:n(t.unit),icon:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx(d,{label:"Running Hour",value:n(t.runningHour),icon:a.jsx(Cr,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Time Details",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Duration",value:n(i),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Stop Type",value:n(t.stopTime),icon:a.jsx(Hr,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Issue & Problem Details",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Item Trouble",value:n(t.itemTrouble),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Issue Description",value:n(t.jenisGangguan),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(f,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:a.jsx(ur,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(d,{label:"Root Cause",value:n(t.rootCause),icon:a.jsx(Pa,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Maintenance Activity",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:a.jsx(zs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(d,{label:"Kegiatan",value:n(t.kegiatan),icon:a.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Spare Parts Used",icon:a.jsx(Ya,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Part Code",value:n(t.kodePart),icon:a.jsx(Ya,{className:"w-4 h-4"})}),a.jsx(d,{label:"Part Name",value:n(t.sparePart),icon:a.jsx(Ya,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"ID Part",value:n(t.idPart),icon:a.jsx(Ep,{className:"w-4 h-4"})}),a.jsx(d,{label:"Quantity",value:n(t.jumlah),icon:a.jsx(xc,{className:"w-4 h-4"})}),a.jsx(d,{label:"Unit",value:n(t.unitSparePart),icon:a.jsx(Ya,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Event Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),a.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),a.jsx("span",{className:"text-sm text-green-600",children:n(i)})]})]})}),a.jsx(c,{title:"Technical Summary",icon:a.jsx(xc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(i)," downtime"]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(T.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},Lye=()=>{const[t,e]=b.useState(()=>{const Ve=localStorage.getItem("sidebarOpen");return Ve?JSON.parse(Ve):!1}),[r,n]=b.useState(""),[s,i]=b.useState(!1),[o,l]=b.useState([]),[c,d]=b.useState([]),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(1),[k]=b.useState(10),{user:S,getMachineHistories:A,deleteMachineHistory:_,isAuthenticated:O,isMasterDataLoading:P,hasPermission:I}=sr(),[R,F]=b.useState([]),[E,M]=b.useState([]),[H,V]=b.useState(!0),[G,q]=b.useState(null),[B,z]=b.useState([]),X=tr(),[ee,K]=b.useState(window.innerWidth<768),[W,J]=b.useState(!1),[Z,ie]=b.useState(null),[ue,je]=b.useState(null),[ce,le]=b.useState(null),[pe,$e]=b.useState([]),[de,Se]=b.useState(!1),[te,se]=b.useState(!1),ut=b.useRef(null),dt=b.useRef(null),[De,rt]=b.useState({key:"date",direction:"descending"}),[wt,gt]=b.useState(!1),Rt=b.useRef(null),He=b.useRef(null),[he,Qe]=b.useState(!1),[Ge,mt]=b.useState(!1),[Le,_e]=b.useState(null),[qe,ge]=b.useState(!1),Oe=b.useRef(null),[ke,Ue]=b.useState(!1),Xe=b.useRef(null),we=location.pathname==="/machinehistory",ye=location.pathname==="/machinehistory/reports",Ke=Dye(r,300),pt=b.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),tt=b.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),Te=b.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),ne=b.useCallback(async()=>{try{V(!0);const Ve=await A();F(Ve||[]),M(Ve||[]);const it=Array.from(new Set(Ve.map(_t=>_t.mesin))).filter(Boolean).map(_t=>({id:_t,name:_t}));z(it)}catch(Ve){console.error("Failed to load data:",Ve),F([]),z([])}finally{V(!1)}},[A]),Ie=Ve=>{const it=Ve.target.value;n(it)};b.useEffect(()=>{N(1)},[]),b.useEffect(()=>{ne()},[ne]),b.useEffect(()=>{let Ve=[...R];if(Ke.trim()){const it=Ke.toLowerCase().trim();Ve=Ve.filter(_t=>{var Nr,jr,cn,ir;const xe=it.split(":");let nt="all",Nt=it;xe.length>1&&pt.some(Kn=>Kn.name.toLowerCase()===xe[0].trim())&&(nt=xe[0].trim(),Nt=xe.slice(1).join(":").trim());const cr=(Nr=_t.mesin)==null?void 0:Nr.toLowerCase().includes(Nt),rn=(jr=_t.jenisGangguan)==null?void 0:jr.toLowerCase().includes(Nt),nr=(cn=_t.id)==null?void 0:cn.toLowerCase().includes(Nt),zt=(ir=_t.itemTrouble)==null?void 0:ir.toLowerCase().includes(Nt);return nt==="machine name"?cr:nt==="issue description"?rn:nt==="record id"?nr:nt==="item trouble"?zt:cr||rn||nr||zt})}if(ue){const it=new Date(ue);it.setHours(0,0,0,0),Ve=Ve.filter(_t=>{const xe=new Date(_t.date);return xe.setHours(0,0,0,0),xe>=it})}if(ce){const it=new Date(ce);it.setHours(23,59,59,999),Ve=Ve.filter(_t=>{const xe=new Date(_t.date);return xe.setHours(0,0,0,0),xe<=it})}o.length>0&&(Ve=Ve.filter(it=>o.includes(it.perbaikanPerawatan))),c.length>0&&(Ve=Ve.filter(it=>c.includes(it.mesin))),pe.length>0&&(Ve=Ve.filter(it=>pe.includes(it.shift))),De!==null&&Ve.sort((it,_t)=>{const xe=ze(it[De.key]),nt=ze(_t[De.key]);return xe<nt?De.direction==="ascending"?-1:1:xe>nt?De.direction==="ascending"?1:-1:0}),M(Ve)},[R,Ke,ue,ce,o,c,pe,De,pt,tt,Te]),b.useEffect(()=>{const Ve=()=>{K(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Ve),()=>window.removeEventListener("resize",Ve)},[]),b.useEffect(()=>{const Ve=it=>{ut.current&&!ut.current.contains(it.target)&&Se(!1),dt.current&&!dt.current.contains(it.target)&&se(!1),Rt.current&&!Rt.current.contains(it.target)&&!it.target.closest(".search-suggestions")&&gt(!1),He.current&&!He.current.contains(it.target)&&!it.target.closest(".machine-filter-toggle")&&Qe(!1),Oe.current&&!Oe.current.contains(it.target)&&!it.target.closest(".status-filter-toggle")&&ge(!1),Xe.current&&!Xe.current.contains(it.target)&&!it.target.closest(".shift-filter-toggle")&&Ue(!1)};return document.addEventListener("mousedown",Ve),()=>{document.removeEventListener("mousedown",Ve)}},[]);const Ye=be.useMemo(()=>{if(!r)return pt;const Ve=r.toLowerCase();return pt.filter(it=>it.name.toLowerCase().includes(Ve))},[r,pt]),st=Ve=>{var it;n(`${Ve}: `),gt(!1),(it=Rt.current)==null||it.focus()},yt=Ve=>{let it="ascending";De&&De.key===Ve&&De.direction==="ascending"&&(it="descending"),rt({key:Ve,direction:it})},ze=Ve=>typeof Ve=="object"&&Ve!==null?Ve.name||Ve.toString():(Ve==null?void 0:Ve.toString())||"",St=async Ve=>{try{await _(Ve),F(R.filter(it=>it.id!==Ve)),J(!1),ie(null)}catch(it){console.error("Failed to delete record:",it),q("Failed to delete record. Please try again.")}},Ee=y*k,It=Ee-k,Pt=E.slice(It,Ee),Bt=Math.ceil(E.length/k),ft=Ve=>N(Ve),Ct=(Ve,it)=>{if(Ve==null||it===null||it===void 0)return"-";const _t=Ve.toString().padStart(2,"0"),xe=it.toString().padStart(2,"0");return`${_t}:${xe}`},Mt=Ve=>{const it=F6(Ve.stopJam,Ve.stopMenit,Ve.startJam,Ve.startMenit);return $6(it)},pr=Ve=>{switch((Ve||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},yn=(Ve,it)=>{d(it?_t=>[..._t,Ve]:_t=>_t.filter(xe=>xe!==Ve))},vn=(Ve,it)=>{l(it?_t=>[..._t,Ve]:_t=>_t.filter(xe=>xe!==Ve))},or=(Ve,it)=>{$e(it?_t=>[..._t,Ve]:_t=>_t.filter(xe=>xe!==Ve))},Ur=()=>{alert("Import functionality is not yet implemented.")},Yr=Ve=>{w(Ve),g(!0)},jn=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Ve=>!Ve)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx($g,{}),isMobile:ee,toggleSidebar:jn}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>X("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${we?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>X("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Records"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[I("create_machine_history")&&a.jsxs(T.button,{onClick:()=>X("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Record"})]}),a.jsxs(T.button,{onClick:Ur,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>m(!f),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:f?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Aw,{title:"Total Records",value:E.length.toLocaleString("id-ID"),change:"+8%",icon:a.jsx(un,{})}),a.jsx(Aw,{title:"Avg Durationtime",value:E.length>0?$6(Math.round(E.reduce((Ve,it)=>{const _t=F6(it.stopJam,it.stopMenit,it.startJam,it.startMenit)||0;return Ve+_t},0)/E.length)):"0min",change:"-5%",icon:a.jsx(Cr,{})}),a.jsx(Aw,{title:"Repairs",value:E.filter(Ve=>Ve.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:a.jsx(ia,{})}),a.jsx(Aw,{title:"Maintenance",value:E.filter(Ve=>Ve.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:a.jsx(ur,{})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:Rt,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:Ie,onFocus:()=>gt(!0),"aria-label":"Search records"}),a.jsx(ar,{children:wt&&Ye.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:Ye.map(Ve=>a.jsx(T.button,{onClick:()=>st(Ve.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:Ve.name})},Ve.id))})})]})}),a.jsx(ar,{children:f&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xa,{className:"text-gray-500 text-base"}),a.jsx(um,{selected:ue,onChange:Ve=>je(Ve),selectsStart:!0,startDate:ue,endDate:ce,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(um,{selected:ce,onChange:Ve=>le(Ve),selectsEnd:!0,startDate:ue,endDate:ce,minDate:ue||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(ue||ce)&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{je(null),le(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx($t,{className:"text-base"})})]}),a.jsxs("div",{ref:Oe,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Ve=>{Ve.stopPropagation(),ge(!qe)},"aria-expanded":qe,"aria-haspopup":"true","aria-label":"Filter by Type",children:[a.jsx("span",{children:o.length>0?o.length===tt.length?"All Types":`Selected (${o.length})`:"All Types"}),a.jsx(la,{className:`transform transition-transform ${qe?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:qe&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===tt.length&&tt.length>0,onChange:Ve=>{Ve.target.checked?l(tt.map(it=>it.value)):l([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),tt.map(Ve=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(Ve.value),onChange:it=>vn(Ve.value,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ve.label})]},Ve.value))]})})]}),a.jsxs("div",{ref:He,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>Qe(!he),"aria-expanded":he,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:c.length>0?c.length===B.length&&B.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),a.jsx(la,{className:`transform transition-transform ${he?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:he&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===B.length&&B.length>0,onChange:Ve=>{Ve.target.checked?d(B.map(it=>it.name)):d([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),B.map(Ve=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(Ve.name),onChange:it=>yn(Ve.name,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ve.name})]},Ve.id))]})})]}),a.jsxs("div",{ref:Xe,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Ve=>{Ve.stopPropagation(),Ue(!ke)},"aria-expanded":ke,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[a.jsx("span",{children:pe.length>0?pe.length===Te.length?"All Shifts":`Selected (${pe.length})`:"All Shifts"}),a.jsx(la,{className:`transform transition-transform ${ke?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:ke&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:pe.length===Te.length&&Te.length>0,onChange:Ve=>{Ve.target.checked?$e(Te.map(it=>it.value)):$e([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),Te.map(Ve=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:pe.includes(Ve.value),onChange:it=>or(Ve.value,it.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Ve.label})]},Ve.value))]})})]})]})})]}),H?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):E.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Ke||o.length>0||c.length>0||ue||ce||pe.length>0?"No records found matching your filters.":"No records available."}),(Ke||o.length>0||c.length>0||ue||ce||pe.length>0)&&a.jsx("button",{onClick:()=>{n(""),l([]),d([]),je(null),le(null),$e([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>yt("date"),children:["Date",(De==null?void 0:De.key)==="date"&&a.jsx("span",{className:"ml-1",children:De.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Pt.map(Ve=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ve.date}),a.jsxs("div",{className:"text-xs text-gray-600",children:[Ct(Ve.stopJam,Ve.stopMenit)," - ",Ct(Ve.startJam,Ve.startMenit)]})]}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ve.mesin}),a.jsx("div",{className:"text-xs text-gray-600",children:Ve.unit})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",Ve.shift,", Group ",Ve.group]})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Mt(Ve)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ve.itemTrouble}),a.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:Ve.jenisGangguan})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx(T.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${pr(Ve.stopTime)}`,children:Ve.stopTime})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(`/machinehistory/edit/${Ve.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${Ve.mesin} on ${Ve.date}`,children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ie(Ve.id),J(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${Ve.mesin} on ${Ve.date}`,children:a.jsx(In,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Yr(Ve),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${Ve.mesin} on ${Ve.date}`,children:a.jsx(bo,{className:"inline text-base"})})]})]},Ve.id))})]})})}),E.length>k&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:It+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Ee,E.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:E.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(y-1),disabled:y===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Bt},(Ve,it)=>a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(it+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${y===it+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${it+1}`,children:it+1},it+1)),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ft(y+1),disabled:y===Bt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),v&&a.jsx(n9,{isOpen:p,onClose:()=>{g(!1),w(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:a.jsx(Pye,{record:v,onClose:()=>g(!1)})}),a.jsx(n9,{isOpen:W,onClose:()=>J(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>J(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Z&&St(Z),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Bn(t){"@babel/helpers - typeof";return Bn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bn(t)}function Rye(t,e){if(Bn(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bn(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BJ(t){var e=Rye(t,"string");return Bn(e)=="symbol"?e:e+""}function ay(t,e,r){return(e=BJ(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function a9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ir(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?a9(Object(r),!0).forEach(function(n){ay(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):a9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Iye(t){if(Array.isArray(t))return t}function Fye(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function H6(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function zJ(t,e){if(t){if(typeof t=="string")return H6(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?H6(t,e):void 0}}function $ye(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function od(t,e){return Iye(t)||Fye(t,e)||zJ(t,e)||$ye()}function Hye(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function pu(t,e){if(t==null)return{};var r,n,s=Hye(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var Bye=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function qJ(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,s=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,f=t.onInputChange,m=t.onMenuClose,p=t.onMenuOpen,g=t.value,v=pu(t,Bye),w=b.useState(l!==void 0?l:r),y=od(w,2),N=y[0],k=y[1],S=b.useState(c!==void 0?c:s),A=od(S,2),_=A[0],O=A[1],P=b.useState(g!==void 0?g:o),I=od(P,2),R=I[0],F=I[1],E=b.useCallback(function(z,X){typeof d=="function"&&d(z,X),F(z)},[d]),M=b.useCallback(function(z,X){var ee;typeof f=="function"&&(ee=f(z,X)),k(ee!==void 0?ee:z)},[f]),H=b.useCallback(function(){typeof p=="function"&&p(),O(!0)},[p]),V=b.useCallback(function(){typeof m=="function"&&m(),O(!1)},[m]),G=l!==void 0?l:N,q=c!==void 0?c:_,B=g!==void 0?g:R;return Ir(Ir({},v),{},{inputValue:G,menuIsOpen:q,onChange:E,onInputChange:M,onMenuClose:V,onMenuOpen:H,value:B})}function qr(){return qr=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qr.apply(null,arguments)}function zye(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,BJ(n.key),n)}}function qye(t,e,r){return e&&s9(t.prototype,e),r&&s9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function B6(t,e){return B6=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},B6(t,e)}function Uye(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&B6(t,e)}function vj(t){return vj=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},vj(t)}function UJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(UJ=function(){return!!t})()}function Wye(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Vye(t,e){if(e&&(Bn(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Wye(t)}function Gye(t){var e=UJ();return function(){var r,n=vj(t);if(e){var s=vj(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return Vye(this,r)}}function Yye(t){if(Array.isArray(t))return H6(t)}function Kye(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Jye(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kg(t){return Yye(t)||Kye(t)||zJ(t)||Jye()}function Xye(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function Qye(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Zye=(function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(Qye(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Xye(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t})(),uo="-ms-",wj="-moz-",Zn="-webkit-",WJ="comm",cD="rule",dD="decl",eve="@import",VJ="@keyframes",tve="@layer",rve=Math.abs,IN=String.fromCharCode,nve=Object.assign;function ave(t,e){return Vi(t,0)^45?(((e<<2^Vi(t,0))<<2^Vi(t,1))<<2^Vi(t,2))<<2^Vi(t,3):0}function GJ(t){return t.trim()}function sve(t,e){return(t=e.exec(t))?t[0]:t}function ea(t,e,r){return t.replace(e,r)}function z6(t,e){return t.indexOf(e)}function Vi(t,e){return t.charCodeAt(e)|0}function Yy(t,e,r){return t.slice(e,r)}function Ud(t){return t.length}function uD(t){return t.length}function Tw(t,e){return e.push(t),t}function ive(t,e){return t.map(e).join("")}var FN=1,Yg=1,YJ=0,dl=0,ei=0,Dx="";function $N(t,e,r,n,s,i,o){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:FN,column:Yg,length:o,return:""}}function $b(t,e){return nve($N("",null,null,"",null,null,0),t,{length:-t.length},e)}function ove(){return ei}function lve(){return ei=dl>0?Vi(Dx,--dl):0,Yg--,ei===10&&(Yg=1,FN--),ei}function Ml(){return ei=dl<YJ?Vi(Dx,dl++):0,Yg++,ei===10&&(Yg=1,FN++),ei}function ru(){return Vi(Dx,dl)}function D2(){return dl}function n1(t,e){return Yy(Dx,t,e)}function Ky(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function KJ(t){return FN=Yg=1,YJ=Ud(Dx=t),dl=0,[]}function JJ(t){return Dx="",t}function P2(t){return GJ(n1(dl-1,q6(t===91?t+2:t===40?t+1:t)))}function cve(t){for(;(ei=ru())&&ei<33;)Ml();return Ky(t)>2||Ky(ei)>3?"":" "}function dve(t,e){for(;--e&&Ml()&&!(ei<48||ei>102||ei>57&&ei<65||ei>70&&ei<97););return n1(t,D2()+(e<6&&ru()==32&&Ml()==32))}function q6(t){for(;Ml();)switch(ei){case t:return dl;case 34:case 39:t!==34&&t!==39&&q6(ei);break;case 40:t===41&&q6(t);break;case 92:Ml();break}return dl}function uve(t,e){for(;Ml()&&t+ei!==57;)if(t+ei===84&&ru()===47)break;return"/*"+n1(e,dl-1)+"*"+IN(t===47?t:Ml())}function fve(t){for(;!Ky(ru());)Ml();return n1(t,dl)}function hve(t){return JJ(L2("",null,null,null,[""],t=KJ(t),0,[0],t))}function L2(t,e,r,n,s,i,o,l,c){for(var d=0,f=0,m=o,p=0,g=0,v=0,w=1,y=1,N=1,k=0,S="",A=s,_=i,O=n,P=S;y;)switch(v=k,k=Ml()){case 40:if(v!=108&&Vi(P,m-1)==58){z6(P+=ea(P2(k),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:P+=P2(k);break;case 9:case 10:case 13:case 32:P+=cve(v);break;case 92:P+=dve(D2()-1,7);continue;case 47:switch(ru()){case 42:case 47:Tw(mve(uve(Ml(),D2()),e,r),c);break;default:P+="/"}break;case 123*w:l[d++]=Ud(P)*N;case 125*w:case 59:case 0:switch(k){case 0:case 125:y=0;case 59+f:N==-1&&(P=ea(P,/\f/g,"")),g>0&&Ud(P)-m&&Tw(g>32?o9(P+";",n,r,m-1):o9(ea(P," ","")+";",n,r,m-2),c);break;case 59:P+=";";default:if(Tw(O=i9(P,e,r,d,f,s,l,S,A=[],_=[],m),i),k===123)if(f===0)L2(P,e,O,O,A,i,m,l,_);else switch(p===99&&Vi(P,3)===110?100:p){case 100:case 108:case 109:case 115:L2(t,O,O,n&&Tw(i9(t,O,O,0,0,s,l,S,s,A=[],m),_),s,_,m,l,n?A:_);break;default:L2(P,O,O,O,[""],_,0,l,_)}}d=f=g=0,w=N=1,S=P="",m=o;break;case 58:m=1+Ud(P),g=v;default:if(w<1){if(k==123)--w;else if(k==125&&w++==0&&lve()==125)continue}switch(P+=IN(k),k*w){case 38:N=f>0?1:(P+="\f",-1);break;case 44:l[d++]=(Ud(P)-1)*N,N=1;break;case 64:ru()===45&&(P+=P2(Ml())),p=ru(),f=m=Ud(S=P+=fve(D2())),k++;break;case 45:v===45&&Ud(P)==2&&(w=0)}}return i}function i9(t,e,r,n,s,i,o,l,c,d,f){for(var m=s-1,p=s===0?i:[""],g=uD(p),v=0,w=0,y=0;v<n;++v)for(var N=0,k=Yy(t,m+1,m=rve(w=o[v])),S=t;N<g;++N)(S=GJ(w>0?p[N]+" "+k:ea(k,/&\f/g,p[N])))&&(c[y++]=S);return $N(t,e,r,s===0?cD:l,c,d,f)}function mve(t,e,r){return $N(t,e,r,WJ,IN(ove()),Yy(t,2,-2),0)}function o9(t,e,r,n){return $N(t,e,r,dD,Yy(t,0,n),Yy(t,n+1,-1),n)}function Cg(t,e){for(var r="",n=uD(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function pve(t,e,r,n){switch(t.type){case tve:if(t.children.length)break;case eve:case dD:return t.return=t.return||t.value;case WJ:return"";case VJ:return t.return=t.value+"{"+Cg(t.children,n)+"}";case cD:t.value=t.props.join(",")}return Ud(r=Cg(t.children,n))?t.return=t.value+"{"+r+"}":""}function gve(t){var e=uD(t);return function(r,n,s,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,i)||"";return o}}function xve(t){return function(e){e.root||(e=e.return)&&t(e)}}function bve(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var yve=function(e,r,n){for(var s=0,i=0;s=i,i=ru(),s===38&&i===12&&(r[n]=1),!Ky(i);)Ml();return n1(e,dl)},vve=function(e,r){var n=-1,s=44;do switch(Ky(s)){case 0:s===38&&ru()===12&&(r[n]=1),e[n]+=yve(dl-1,r,n);break;case 2:e[n]+=P2(s);break;case 4:if(s===44){e[++n]=ru()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=IN(s)}while(s=Ml());return e},wve=function(e,r){return JJ(vve(KJ(e),r))},l9=new WeakMap,jve=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!l9.get(n))&&!s){l9.set(e,!0);for(var i=[],o=wve(r,i),l=n.props,c=0,d=0;c<o.length;c++)for(var f=0;f<l.length;f++,d++)e.props[d]=i[c]?o[c].replace(/&\f/g,l[f]):l[f]+" "+o[c]}}},Nve=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function XJ(t,e){switch(ave(t,e)){case 5103:return Zn+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Zn+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Zn+t+wj+t+uo+t+t;case 6828:case 4268:return Zn+t+uo+t+t;case 6165:return Zn+t+uo+"flex-"+t+t;case 5187:return Zn+t+ea(t,/(\w+).+(:[^]+)/,Zn+"box-$1$2"+uo+"flex-$1$2")+t;case 5443:return Zn+t+uo+"flex-item-"+ea(t,/flex-|-self/,"")+t;case 4675:return Zn+t+uo+"flex-line-pack"+ea(t,/align-content|flex-|-self/,"")+t;case 5548:return Zn+t+uo+ea(t,"shrink","negative")+t;case 5292:return Zn+t+uo+ea(t,"basis","preferred-size")+t;case 6060:return Zn+"box-"+ea(t,"-grow","")+Zn+t+uo+ea(t,"grow","positive")+t;case 4554:return Zn+ea(t,/([^-])(transform)/g,"$1"+Zn+"$2")+t;case 6187:return ea(ea(ea(t,/(zoom-|grab)/,Zn+"$1"),/(image-set)/,Zn+"$1"),t,"")+t;case 5495:case 3959:return ea(t,/(image-set\([^]*)/,Zn+"$1$`$1");case 4968:return ea(ea(t,/(.+:)(flex-)?(.*)/,Zn+"box-pack:$3"+uo+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Zn+t+t;case 4095:case 3583:case 4068:case 2532:return ea(t,/(.+)-inline(.+)/,Zn+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ud(t)-1-e>6)switch(Vi(t,e+1)){case 109:if(Vi(t,e+4)!==45)break;case 102:return ea(t,/(.+:)(.+)-([^]+)/,"$1"+Zn+"$2-$3$1"+wj+(Vi(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~z6(t,"stretch")?XJ(ea(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Vi(t,e+1)!==115)break;case 6444:switch(Vi(t,Ud(t)-3-(~z6(t,"!important")&&10))){case 107:return ea(t,":",":"+Zn)+t;case 101:return ea(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Zn+(Vi(t,14)===45?"inline-":"")+"box$3$1"+Zn+"$2$3$1"+uo+"$2box$3")+t}break;case 5936:switch(Vi(t,e+11)){case 114:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Zn+t+uo+ea(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Zn+t+uo+t+t}return t}var Sve=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case dD:e.return=XJ(e.value,e.length);break;case VJ:return Cg([$b(e,{value:ea(e.value,"@","@"+Zn)})],s);case cD:if(e.length)return ive(e.props,function(i){switch(sve(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Cg([$b(e,{props:[ea(i,/:(read-\w+)/,":"+wj+"$1")]})],s);case"::placeholder":return Cg([$b(e,{props:[ea(i,/:(plac\w+)/,":"+Zn+"input-$1")]}),$b(e,{props:[ea(i,/:(plac\w+)/,":"+wj+"$1")]}),$b(e,{props:[ea(i,/:(plac\w+)/,uo+"input-$1")]})],s)}return""})}},kve=[Sve],Cve=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(w){var y=w.getAttribute("data-emotion");y.indexOf(" ")!==-1&&(document.head.appendChild(w),w.setAttribute("data-s",""))})}var s=e.stylisPlugins||kve,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(w){for(var y=w.getAttribute("data-emotion").split(" "),N=1;N<y.length;N++)i[y[N]]=!0;l.push(w)});var c,d=[jve,Nve];{var f,m=[pve,xve(function(w){f.insert(w)})],p=gve(d.concat(s,m)),g=function(y){return Cg(hve(y),p)};c=function(y,N,k,S){f=k,g(y?y+"{"+N.styles+"}":N.styles),S&&(v.inserted[N.name]=!0)}}var v={key:r,sheet:new Zye({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return v.sheet.hydrate(l),v},RC={exports:{}},na={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c9;function _ve(){if(c9)return na;c9=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,g=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,w=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,k=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var O=_.$$typeof;switch(O){case e:switch(_=_.type,_){case c:case d:case n:case i:case s:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case f:case v:case g:case o:return _;default:return O}}case r:return O}}}function A(_){return S(_)===d}return na.AsyncMode=c,na.ConcurrentMode=d,na.ContextConsumer=l,na.ContextProvider=o,na.Element=e,na.ForwardRef=f,na.Fragment=n,na.Lazy=v,na.Memo=g,na.Portal=r,na.Profiler=i,na.StrictMode=s,na.Suspense=m,na.isAsyncMode=function(_){return A(_)||S(_)===c},na.isConcurrentMode=A,na.isContextConsumer=function(_){return S(_)===l},na.isContextProvider=function(_){return S(_)===o},na.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},na.isForwardRef=function(_){return S(_)===f},na.isFragment=function(_){return S(_)===n},na.isLazy=function(_){return S(_)===v},na.isMemo=function(_){return S(_)===g},na.isPortal=function(_){return S(_)===r},na.isProfiler=function(_){return S(_)===i},na.isStrictMode=function(_){return S(_)===s},na.isSuspense=function(_){return S(_)===m},na.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===d||_===i||_===s||_===m||_===p||typeof _=="object"&&_!==null&&(_.$$typeof===v||_.$$typeof===g||_.$$typeof===o||_.$$typeof===l||_.$$typeof===f||_.$$typeof===y||_.$$typeof===N||_.$$typeof===k||_.$$typeof===w)},na.typeOf=S,na}var d9;function Ave(){return d9||(d9=1,RC.exports=_ve()),RC.exports}var IC,u9;function Tve(){if(u9)return IC;u9=1;var t=Ave(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=s;function o(v){return t.isMemo(v)?s:i[v.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,f=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,p=Object.prototype;function g(v,w,y){if(typeof w!="string"){if(p){var N=m(w);N&&N!==p&&g(v,N,y)}var k=c(w);d&&(k=k.concat(d(w)));for(var S=o(v),A=o(w),_=0;_<k.length;++_){var O=k[_];if(!r[O]&&!(y&&y[O])&&!(A&&A[O])&&!(S&&S[O])){var P=f(w,O);try{l(v,O,P)}catch{}}}}return v}return IC=g,IC}Tve();var Mve=!0;function Ove(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var QJ=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||Mve===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},Eve=function(e,r,n){QJ(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function Dve(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var Pve={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Lve=/[A-Z]|^ms/g,Rve=/_EMO_([^_]+?)_([^]*?)_EMO_/g,ZJ=function(e){return e.charCodeAt(1)===45},f9=function(e){return e!=null&&typeof e!="boolean"},FC=bve(function(t){return ZJ(t)?t:t.replace(Lve,"-$&").toLowerCase()}),h9=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(Rve,function(n,s,i){return Wd={name:s,styles:i,next:Wd},s})}return Pve[e]!==1&&!ZJ(e)&&typeof r=="number"&&r!==0?r+"px":r};function Jy(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return Wd={name:s.name,styles:s.styles,next:Wd},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)Wd={name:o.name,styles:o.styles,next:Wd},o=o.next;var l=i.styles+";";return l}return Ive(t,e,r)}case"function":{if(t!==void 0){var c=Wd,d=r(t);return Wd=c,Jy(t,e,d)}break}}var f=r;return f}function Ive(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=Jy(t,e,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;f9(l)&&(n+=FC(i)+":"+h9(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)f9(o[c])&&(n+=FC(i)+":"+h9(i,o[c])+";");else{var d=Jy(t,e,o);switch(i){case"animation":case"animationName":{n+=FC(i)+":"+d+";";break}default:n+=i+"{"+d+"}"}}}return n}var m9=/label:\s*([^\s;{]+)\s*(;|$)/g,Wd;function eX(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";Wd=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,s+=Jy(r,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=Jy(r,e,t[l]),n){var c=i;s+=c[l]}m9.lastIndex=0;for(var d="",f;(f=m9.exec(s))!==null;)d+="-"+f[1];var m=Dve(s)+d;return{name:m,styles:s,next:Wd}}var Fve=function(e){return e()},$ve=J2.useInsertionEffect?J2.useInsertionEffect:!1,Hve=$ve||Fve,tX=b.createContext(typeof HTMLElement<"u"?Cve({key:"css"}):null);tX.Provider;var Bve=function(e){return b.forwardRef(function(r,n){var s=b.useContext(tX);return e(r,s,n)})},zve=b.createContext({}),fD={}.hasOwnProperty,U6="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",qve=function(e,r){var n={};for(var s in r)fD.call(r,s)&&(n[s]=r[s]);return n[U6]=e,n},Uve=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return QJ(r,n,s),Hve(function(){return Eve(r,n,s)}),null},Wve=Bve(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[U6],i=[n],o="";typeof t.className=="string"?o=Ove(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=eX(i,void 0,b.useContext(zve));o+=e.key+"-"+l.name;var c={};for(var d in t)fD.call(t,d)&&d!=="css"&&d!==U6&&(c[d]=t[d]);return c.className=o,r&&(c.ref=r),b.createElement(b.Fragment,null,b.createElement(Uve,{cache:e,serialized:l,isStringTag:typeof s=="string"}),b.createElement(s,c))}),Vve=Wve,Rr=function(e,r){var n=arguments;if(r==null||!fD.call(r,"css"))return b.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=Vve,i[1]=qve(e,r);for(var o=2;o<s;o++)i[o]=n[o];return b.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(Rr||(Rr={}));function hD(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return eX(e)}function Gve(){var t=hD.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function Yve(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var W6=b.useLayoutEffect,Kve=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],jj=function(){};function Jve(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function Xve(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(Jve(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Nj=function(e){return i1e(e)?e.filter(Boolean):Bn(e)==="object"&&e!==null?[e]:[]},rX=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=pu(e,Kve);return Ir({},r)},Ms=function(e,r,n){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:s(n??{},o(r,e),l)}};function HN(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function Qve(t){return HN(t)?window.innerHeight:t.clientHeight}function nX(t){return HN(t)?window.pageYOffset:t.scrollTop}function Sj(t,e){if(HN(t)){window.scrollTo(0,e);return}t.scrollTop=e}function Zve(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function e1e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function Mw(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:jj,s=nX(t),i=e-s,o=10,l=0;function c(){l+=o;var d=e1e(l,s,i,r);Sj(t,d),l<r?window.requestAnimationFrame(c):n(t)}c()}function p9(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>r.bottom?Sj(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):n.top-s<r.top&&Sj(t,Math.max(e.offsetTop-s,0))}function t1e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function g9(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function r1e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var aX=!1,n1e={get passive(){return aX=!0}},Ow=typeof window<"u"?window:{};Ow.addEventListener&&Ow.removeEventListener&&(Ow.addEventListener("p",jj,n1e),Ow.removeEventListener("p",jj,!1));var a1e=aX;function s1e(t){return t!=null}function i1e(t){return Array.isArray(t)}function sy(t,e,r){return t?e:r}var o1e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=od(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=od(l,2),d=c[0],f=c[1];return o[d]=f,o},{})},l1e=["children","innerProps"],c1e=["children","innerProps"];function d1e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=Zve(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var f=c.getBoundingClientRect(),m=f.height,p=r.getBoundingClientRect(),g=p.bottom,v=p.height,w=p.top,y=r.offsetParent.getBoundingClientRect(),N=y.top,k=o?window.innerHeight:Qve(c),S=nX(c),A=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),O=N-_,P=k-w,I=O+S,R=m-S-w,F=g-k+S+A,E=S+w-_,M=160;switch(s){case"auto":case"bottom":if(P>=v)return{placement:"bottom",maxHeight:e};if(R>=v&&!o)return i&&Mw(c,F,M),{placement:"bottom",maxHeight:e};if(!o&&R>=n||o&&P>=n){i&&Mw(c,F,M);var H=o?P-A:R-A;return{placement:"bottom",maxHeight:H}}if(s==="auto"||o){var V=e,G=o?O:I;return G>=n&&(V=Math.min(G-A-l,e)),{placement:"top",maxHeight:V}}if(s==="bottom")return i&&Sj(c,F),{placement:"bottom",maxHeight:e};break;case"top":if(O>=v)return{placement:"top",maxHeight:e};if(I>=v&&!o)return i&&Mw(c,E,M),{placement:"top",maxHeight:e};if(!o&&I>=n||o&&O>=n){var q=e;return(!o&&I>=n||o&&O>=n)&&(q=o?O-_:I-_),i&&Mw(c,E,M),{placement:"top",maxHeight:q}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function u1e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var sX=function(e){return e==="auto"?"bottom":e},f1e=function(e,r){var n,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Ir((n={label:"menu"},ay(n,u1e(s),"100%"),ay(n,"position","absolute"),ay(n,"width","100%"),ay(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},iX=b.createContext(null),h1e=function(e){var r=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=b.useContext(iX)||{},f=d.setPortalPlacement,m=b.useRef(null),p=b.useState(s),g=od(p,2),v=g[0],w=g[1],y=b.useState(null),N=od(y,2),k=N[0],S=N[1],A=c.spacing.controlHeight;return W6(function(){var _=m.current;if(_){var O=o==="fixed",P=l&&!O,I=d1e({maxHeight:s,menuEl:_,minHeight:n,placement:i,shouldScroll:P,isFixedPosition:O,controlHeight:A});w(I.maxHeight),S(I.placement),f==null||f(I.placement)}},[s,i,o,l,n,f,A]),r({ref:m,placerProps:Ir(Ir({},e),{},{placement:k||sX(i),maxHeight:v})})},m1e=function(e){var r=e.children,n=e.innerRef,s=e.innerProps;return Rr("div",qr({},Ms(e,"menu",{menu:!0}),{ref:n},s),r)},p1e=m1e,g1e=function(e,r){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Ir({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},x1e=function(e){var r=e.children,n=e.innerProps,s=e.innerRef,i=e.isMulti;return Rr("div",qr({},Ms(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},oX=function(e,r){var n=e.theme,s=n.spacing.baseUnit,i=n.colors;return Ir({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},b1e=oX,y1e=oX,v1e=function(e){var r=e.children,n=r===void 0?"No options":r,s=e.innerProps,i=pu(e,l1e);return Rr("div",qr({},Ms(Ir(Ir({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},w1e=function(e){var r=e.children,n=r===void 0?"Loading...":r,s=e.innerProps,i=pu(e,c1e);return Rr("div",qr({},Ms(Ir(Ir({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},j1e=function(e){var r=e.rect,n=e.offset,s=e.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},N1e=function(e){var r=e.appendTo,n=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=b.useRef(null),d=b.useRef(null),f=b.useState(sX(o)),m=od(f,2),p=m[0],g=m[1],v=b.useMemo(function(){return{setPortalPlacement:g}},[]),w=b.useState(null),y=od(w,2),N=y[0],k=y[1],S=b.useCallback(function(){if(s){var P=t1e(s),I=l==="fixed"?0:window.pageYOffset,R=P[p]+I;(R!==(N==null?void 0:N.offset)||P.left!==(N==null?void 0:N.rect.left)||P.width!==(N==null?void 0:N.rect.width))&&k({offset:R,rect:P})}},[s,l,p,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);W6(function(){S()},[S]);var A=b.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&c.current&&(d.current=NJ(s,c.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);W6(function(){A()},[A]);var _=b.useCallback(function(P){c.current=P,A()},[A]);if(!r&&l!=="fixed"||!N)return null;var O=Rr("div",qr({ref:_},Ms(Ir(Ir({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),n);return Rr(iX.Provider,{value:v},r?dE.createPortal(O,r):O)},S1e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},k1e=function(e){var r=e.children,n=e.innerProps,s=e.isDisabled,i=e.isRtl;return Rr("div",qr({},Ms(e,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},C1e=function(e,r){var n=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Ir({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},_1e=function(e){var r=e.children,n=e.innerProps,s=e.isMulti,i=e.hasValue;return Rr("div",qr({},Ms(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},A1e=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},T1e=function(e){var r=e.children,n=e.innerProps;return Rr("div",qr({},Ms(e,"indicatorsContainer",{indicators:!0}),n),r)},x9,M1e=["size"],O1e=["innerProps","isRtl","size"],E1e={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},lX=function(e){var r=e.size,n=pu(e,M1e);return Rr("svg",qr({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:E1e},n))},mD=function(e){return Rr(lX,qr({size:20},e),Rr("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},cX=function(e){return Rr(lX,qr({size:20},e),Rr("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},dX=function(e,r){var n=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ir({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},D1e=dX,P1e=function(e){var r=e.children,n=e.innerProps;return Rr("div",qr({},Ms(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||Rr(cX,null))},L1e=dX,R1e=function(e){var r=e.children,n=e.innerProps;return Rr("div",qr({},Ms(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||Rr(mD,null))},I1e=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Ir({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},F1e=function(e){var r=e.innerProps;return Rr("span",qr({},r,Ms(e,"indicatorSeparator",{"indicator-separator":!0})))},$1e=Gve(x9||(x9=Yve([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),H1e=function(e,r){var n=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Ir({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},$C=function(e){var r=e.delay,n=e.offset;return Rr("span",{css:hD({animation:"".concat($1e," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},B1e=function(e){var r=e.innerProps,n=e.isRtl,s=e.size,i=s===void 0?4:s,o=pu(e,O1e);return Rr("div",qr({},Ms(Ir(Ir({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),Rr($C,{delay:0,offset:n}),Rr($C,{delay:160,offset:!0}),Rr($C,{delay:320,offset:!n}))},z1e=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Ir({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},q1e=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return Rr("div",qr({ref:i},Ms(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},U1e=q1e,W1e=["data"],V1e=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},G1e=function(e){var r=e.children,n=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,f=e.theme,m=e.selectProps;return Rr("div",qr({},Ms(e,"group",{group:!0}),c),Rr(o,qr({},l,{selectProps:m,theme:f,getStyles:s,getClassNames:i,cx:n}),d),Rr("div",null,r))},Y1e=function(e,r){var n=e.theme,s=n.colors,i=n.spacing;return Ir({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},K1e=function(e){var r=rX(e);r.data;var n=pu(r,W1e);return Rr("div",qr({},Ms(e,"groupHeading",{"group-heading":!0}),n))},J1e=G1e,X1e=["innerRef","isDisabled","isHidden","inputClassName"],Q1e=function(e,r){var n=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return Ir(Ir({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},Z1e),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},uX={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Z1e={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Ir({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},uX)},ewe=function(e){return Ir({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},uX)},twe=function(e){var r=e.cx,n=e.value,s=rX(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,d=pu(s,X1e);return Rr("div",qr({},Ms(e,"input",{"input-container":!0}),{"data-value":n||""}),Rr("input",qr({className:r({input:!0},c),ref:i,style:ewe(l),disabled:o},d)))},rwe=twe,nwe=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Ir({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},awe=function(e,r){var n=e.theme,s=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Ir({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},swe=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return Ir({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},fX=function(e){var r=e.children,n=e.innerProps;return Rr("div",n,r)},iwe=fX,owe=fX;function lwe(t){var e=t.children,r=t.innerProps;return Rr("div",qr({role:"button"},r),e||Rr(mD,{size:14}))}var cwe=function(e){var r=e.children,n=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,d=n.Container,f=n.Label,m=n.Remove;return Rr(d,{data:s,innerProps:Ir(Ir({},Ms(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},Rr(f,{data:s,innerProps:Ir({},Ms(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),Rr(m,{data:s,innerProps:Ir(Ir({},Ms(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},dwe=cwe,uwe=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Ir({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},fwe=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return Rr("div",qr({},Ms(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},hwe=fwe,mwe=function(e,r){var n=e.theme,s=n.spacing,i=n.colors;return Ir({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},pwe=function(e){var r=e.children,n=e.innerProps;return Rr("div",qr({},Ms(e,"placeholder",{placeholder:!0}),n),r)},gwe=pwe,xwe=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return Ir({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},bwe=function(e){var r=e.children,n=e.isDisabled,s=e.innerProps;return Rr("div",qr({},Ms(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},ywe=bwe,vwe={ClearIndicator:R1e,Control:U1e,DropdownIndicator:P1e,DownChevron:cX,CrossIcon:mD,Group:J1e,GroupHeading:K1e,IndicatorsContainer:T1e,IndicatorSeparator:F1e,Input:rwe,LoadingIndicator:B1e,Menu:p1e,MenuList:x1e,MenuPortal:N1e,LoadingMessage:w1e,NoOptionsMessage:v1e,MultiValue:dwe,MultiValueContainer:iwe,MultiValueLabel:owe,MultiValueRemove:lwe,Option:hwe,Placeholder:gwe,SelectContainer:k1e,SingleValue:ywe,ValueContainer:_1e},wwe=function(e){return Ir(Ir({},vwe),e.components)},b9=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function jwe(t,e){return!!(t===e||b9(t)&&b9(e))}function Nwe(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!jwe(t[r],e[r]))return!1;return!0}function Swe(t,e){e===void 0&&(e=Nwe);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&e(s,r.lastArgs))return r.lastResult;var o=t.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var kwe={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Cwe=function(e){return Rr("span",qr({css:kwe},e))},y9=Cwe,_we={guidance:function(e){var r=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,s=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,d=e.isSelected,f=e.isAppleDevice,m=function(w,y){return w&&w.length?"".concat(w.indexOf(y)+1," of ").concat(w.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&f){var p=c?" disabled":"",g="".concat(d?" selected":"").concat(p);return"".concat(o).concat(g,", ").concat(m(s,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},Awe=function(e){var r=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,f=e.isAppleDevice,m=c.ariaLiveMessages,p=c.getOptionLabel,g=c.inputValue,v=c.isMulti,w=c.isOptionDisabled,y=c.isSearchable,N=c.menuIsOpen,k=c.options,S=c.screenReaderStatus,A=c.tabSelectsValue,_=c.isLoading,O=c["aria-label"],P=c["aria-live"],I=b.useMemo(function(){return Ir(Ir({},_we),m||{})},[m]),R=b.useMemo(function(){var G="";if(r&&I.onChange){var q=r.option,B=r.options,z=r.removedValue,X=r.removedValues,ee=r.value,K=function(ce){return Array.isArray(ce)?null:ce},W=z||q||K(ee),J=W?p(W):"",Z=B||X||void 0,ie=Z?Z.map(p):[],ue=Ir({isDisabled:W&&w(W,l),label:J,labels:ie},r);G=I.onChange(ue)}return G},[r,I,w,l,p]),F=b.useMemo(function(){var G="",q=n||s,B=!!(n&&l&&l.includes(n));if(q&&I.onFocus){var z={focused:q,label:p(q),isDisabled:w(q,l),isSelected:B,options:i,context:q===n?"menu":"value",selectValue:l,isAppleDevice:f};G=I.onFocus(z)}return G},[n,s,p,w,I,i,l,f]),E=b.useMemo(function(){var G="";if(N&&k.length&&!_&&I.onFilter){var q=S({count:i.length});G=I.onFilter({inputValue:g,resultsMessage:q})}return G},[i,g,N,I,k,S,_]),M=(r==null?void 0:r.action)==="initial-input-focus",H=b.useMemo(function(){var G="";if(I.guidance){var q=s?"value":N?"menu":"input";G=I.guidance({"aria-label":O,context:q,isDisabled:n&&w(n,l),isMulti:v,isSearchable:y,tabSelectsValue:A,isInitialFocus:M})}return G},[O,n,s,v,w,y,N,I,l,A,M]),V=Rr(b.Fragment,null,Rr("span",{id:"aria-selection"},R),Rr("span",{id:"aria-focused"},F),Rr("span",{id:"aria-results"},E),Rr("span",{id:"aria-guidance"},H));return Rr(b.Fragment,null,Rr(y9,{id:d},M&&V),Rr(y9,{"aria-live":P,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!M&&V))},Twe=Awe,V6=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],Mwe=new RegExp("["+V6.map(function(t){return t.letters}).join("")+"]","g"),hX={};for(var HC=0;HC<V6.length;HC++)for(var BC=V6[HC],zC=0;zC<BC.letters.length;zC++)hX[BC.letters[zC]]=BC.base;var mX=function(e){return e.replace(Mwe,function(r){return hX[r]})},Owe=Swe(mX),v9=function(e){return e.replace(/^\s+|\s+$/g,"")},Ewe=function(e){return"".concat(e.label," ").concat(e.value)},Dwe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var s=Ir({ignoreCase:!0,ignoreAccents:!0,stringify:Ewe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,d=s.matchFrom,f=c?v9(n):n,m=c?v9(l(r)):l(r);return i&&(f=f.toLowerCase(),m=m.toLowerCase()),o&&(f=Owe(f),m=mX(m)),d==="start"?m.substr(0,f.length)===f:m.indexOf(f)>-1}},Pwe=["innerRef"];function Lwe(t){var e=t.innerRef,r=pu(t,Pwe),n=o1e(r,"onExited","in","enter","exit","appear");return Rr("input",qr({ref:e},n,{css:hD({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var Rwe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function Iwe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=b.useRef(!1),l=b.useRef(!1),c=b.useRef(0),d=b.useRef(null),f=b.useCallback(function(y,N){if(d.current!==null){var k=d.current,S=k.scrollTop,A=k.scrollHeight,_=k.clientHeight,O=d.current,P=N>0,I=A-_-S,R=!1;I>N&&o.current&&(n&&n(y),o.current=!1),P&&l.current&&(i&&i(y),l.current=!1),P&&N>I?(r&&!o.current&&r(y),O.scrollTop=A,R=!0,o.current=!0):!P&&-N>S&&(s&&!l.current&&s(y),O.scrollTop=0,R=!0,l.current=!0),R&&Rwe(y)}},[r,n,s,i]),m=b.useCallback(function(y){f(y,y.deltaY)},[f]),p=b.useCallback(function(y){c.current=y.changedTouches[0].clientY},[]),g=b.useCallback(function(y){var N=c.current-y.changedTouches[0].clientY;f(y,N)},[f]),v=b.useCallback(function(y){if(y){var N=a1e?{passive:!1}:!1;y.addEventListener("wheel",m,N),y.addEventListener("touchstart",p,N),y.addEventListener("touchmove",g,N)}},[g,p,m]),w=b.useCallback(function(y){y&&(y.removeEventListener("wheel",m,!1),y.removeEventListener("touchstart",p,!1),y.removeEventListener("touchmove",g,!1))},[g,p,m]);return b.useEffect(function(){if(e){var y=d.current;return v(y),function(){w(y)}}},[e,v,w]),function(y){d.current=y}}var w9=["boxSizing","height","overflow","paddingRight","position"],j9={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function N9(t){t.cancelable&&t.preventDefault()}function S9(t){t.stopPropagation()}function k9(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function C9(){return"ontouchstart"in window||navigator.maxTouchPoints}var _9=!!(typeof window<"u"&&window.document&&window.document.createElement),Hb=0,W0={capture:!1,passive:!1};function Fwe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,s=b.useRef({}),i=b.useRef(null),o=b.useCallback(function(c){if(_9){var d=document.body,f=d&&d.style;if(n&&w9.forEach(function(v){var w=f&&f[v];s.current[v]=w}),n&&Hb<1){var m=parseInt(s.current.paddingRight,10)||0,p=document.body?document.body.clientWidth:0,g=window.innerWidth-p+m||0;Object.keys(j9).forEach(function(v){var w=j9[v];f&&(f[v]=w)}),f&&(f.paddingRight="".concat(g,"px"))}d&&C9()&&(d.addEventListener("touchmove",N9,W0),c&&(c.addEventListener("touchstart",k9,W0),c.addEventListener("touchmove",S9,W0))),Hb+=1}},[n]),l=b.useCallback(function(c){if(_9){var d=document.body,f=d&&d.style;Hb=Math.max(Hb-1,0),n&&Hb<1&&w9.forEach(function(m){var p=s.current[m];f&&(f[m]=p)}),d&&C9()&&(d.removeEventListener("touchmove",N9,W0),c&&(c.removeEventListener("touchstart",k9,W0),c.removeEventListener("touchmove",S9,W0)))}},[n]);return b.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var $we=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},Hwe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Bwe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,s=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=Iwe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),f=Fwe({isEnabled:r}),m=function(g){d(g),f(g)};return Rr(b.Fragment,null,r&&Rr("div",{onClick:$we,css:Hwe}),e(m))}var zwe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},qwe=function(e){var r=e.name,n=e.onFocus;return Rr("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:zwe,value:"",onChange:function(){}})},Uwe=qwe;function pD(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function Wwe(){return pD(/^iPhone/i)}function pX(){return pD(/^Mac/i)}function Vwe(){return pD(/^iPad/i)||pX()&&navigator.maxTouchPoints>1}function Gwe(){return Wwe()||Vwe()}function Ywe(){return pX()||Gwe()}var Kwe=function(e){return e.label},gX=function(e){return e.label},xX=function(e){return e.value},Jwe=function(e){return!!e.isDisabled},Xwe={clearIndicator:L1e,container:S1e,control:z1e,dropdownIndicator:D1e,group:V1e,groupHeading:Y1e,indicatorsContainer:A1e,indicatorSeparator:I1e,input:Q1e,loadingIndicator:H1e,loadingMessage:y1e,menu:f1e,menuList:g1e,menuPortal:j1e,multiValue:nwe,multiValueLabel:awe,multiValueRemove:swe,noOptionsMessage:b1e,option:uwe,placeholder:mwe,singleValue:xwe,valueContainer:C1e},Qwe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Zwe=4,bX=4,e2e=38,t2e=bX*2,r2e={baseUnit:bX,controlHeight:e2e,menuGutter:t2e},qC={borderRadius:Zwe,colors:Qwe,spacing:r2e},n2e={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:g9(),captureMenuScroll:!g9(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:Dwe(),formatGroupLabel:Kwe,getOptionLabel:gX,getOptionValue:xX,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Jwe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!r1e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function A9(t,e,r,n){var s=wX(t,e,r),i=jX(t,e,r),o=vX(t,e),l=kj(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function R2(t,e){return t.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return A9(t,o,e,l)}).filter(function(o){return M9(t,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=A9(t,r,e,n);return M9(t,i)?i:void 0}).filter(s1e)}function yX(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,kg(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function T9(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,kg(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function a2e(t,e){return yX(R2(t,e))}function M9(t,e){var r=t.inputValue,n=r===void 0?"":r,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!SX(t)||!i)&&NX(t,{label:o,value:l,data:s},n)}function s2e(t,e){var r=t.focusedValue,n=t.selectValue,s=n.indexOf(r);if(s>-1){var i=e.indexOf(r);if(i>-1)return r;if(s<e.length)return e[s]}return null}function i2e(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var UC=function(e,r){var n,s=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},vX=function(e,r){return e.getOptionLabel(r)},kj=function(e,r){return e.getOptionValue(r)};function wX(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function jX(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=kj(t,e);return r.some(function(s){return kj(t,s)===n})}function NX(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var SX=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},o2e=1,gD=(function(t){Uye(r,t);var e=Gye(r);function r(n){var s;if(zye(this,r),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,d){var f=s.props,m=f.onChange,p=f.name;d.name=p,s.ariaOnChange(c,d),m(c,d)},s.setValue=function(c,d,f){var m=s.props,p=m.closeMenuOnSelect,g=m.isMulti,v=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:v}),p&&(s.setState({inputIsHiddenAfterUpdate:!g}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:d,option:f})},s.selectOption=function(c){var d=s.props,f=d.blurInputOnSelect,m=d.isMulti,p=d.name,g=s.state.selectValue,v=m&&s.isOptionSelected(c,g),w=s.isOptionDisabled(c,g);if(v){var y=s.getOptionValue(c);s.setValue(g.filter(function(N){return s.getOptionValue(N)!==y}),"deselect-option",c)}else if(!w)m?s.setValue([].concat(kg(g),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:p});return}f&&s.blurInput()},s.removeValue=function(c){var d=s.props.isMulti,f=s.state.selectValue,m=s.getOptionValue(c),p=f.filter(function(v){return s.getOptionValue(v)!==m}),g=sy(d,p,p[0]||null);s.onChange(g,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(sy(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,d=s.state.selectValue,f=d[d.length-1],m=d.slice(0,d.length-1),p=sy(c,m,m[0]||null);f&&s.onChange(p,{action:"pop-value",removedValue:f})},s.getFocusedOptionId=function(c){return UC(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return T9(R2(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,d=new Array(c),f=0;f<c;f++)d[f]=arguments[f];return Xve.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(c){return vX(s.props,c)},s.getOptionValue=function(c){return kj(s.props,c)},s.getStyles=function(c,d){var f=s.props.unstyled,m=Xwe[c](d,f);m.boxSizing="border-box";var p=s.props.styles[c];return p?p(m,d):m},s.getClassNames=function(c,d){var f,m;return(f=(m=s.props.classNames)[c])===null||f===void 0?void 0:f.call(m,d)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return wwe(s.props)},s.buildCategorizedOptions=function(){return R2(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return yX(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,d){s.setState({ariaSelection:Ir({value:c},d)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var d=s.props,f=d.isMulti,m=d.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!f}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&HN(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var d=c.touches,f=d&&d.item(0);f&&(s.initialTouchX=f.clientX,s.initialTouchY=f.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var d=c.touches,f=d&&d.item(0);if(f){var m=Math.abs(f.clientX-s.initialTouchX),p=Math.abs(f.clientY-s.initialTouchY),g=5;s.userIsDragging=m>g||p>g}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var d=s.props.inputValue,f=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(f,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var d=s.getFocusableOptions(),f=d.indexOf(c);s.setState({focusedOption:c,focusedOptionId:f>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return SX(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var d=s.props,f=d.isMulti,m=d.backspaceRemovesValue,p=d.escapeClearsValue,g=d.inputValue,v=d.isClearable,w=d.isDisabled,y=d.menuIsOpen,N=d.onKeyDown,k=d.tabSelectsValue,S=d.openMenuOnFocus,A=s.state,_=A.focusedOption,O=A.focusedValue,P=A.selectValue;if(!w&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!f||g)return;s.focusValue("previous");break;case"ArrowRight":if(!f||g)return;s.focusValue("next");break;case"Delete":case"Backspace":if(g)return;if(O)s.removeValue(O);else{if(!m)return;f?s.popValue():v&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!y||!k||!_||S&&s.isOptionSelected(_,P))return;s.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(y){if(!_||s.isComposing)return;s.selectOption(_);break}return;case"Escape":y?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:g}),s.onMenuClose()):v&&p&&s.clearValue();break;case" ":if(g)return;if(!y){s.openMenu("first");break}if(!_)return;s.selectOption(_);break;case"ArrowUp":y?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":y?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!y)return;s.focusOption("pageup");break;case"PageDown":if(!y)return;s.focusOption("pagedown");break;case"Home":if(!y)return;s.focusOption("first");break;case"End":if(!y)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++o2e),s.state.selectValue=Nj(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=UC(i,o[l])}return s}return qye(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&p9(this.menuListRef,this.focusedOptionRef),Ywe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(p9(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),f=s==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(f=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[f],focusedOptionId:this.getFocusedOptionId(d[f])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,f=-1;if(o.length){switch(s){case"previous":c===0?f=0:c===-1?f=d:f=c-1;break;case"next":c>-1&&c<d&&(f=c+1);break}this.setState({inputIsHidden:f!==-1,focusedValue:o[f]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),s==="up"?c=d>0?d-1:l.length-1:s==="down"?c=(d+1)%l.length:s==="pageup"?(c=d-i,c<0&&(c=0)):s==="pagedown"?(c=d+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(qC):Ir(Ir({},qC),this.props.theme):qC})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,f=this.setValue,m=this.props,p=m.isMulti,g=m.isRtl,v=m.options,w=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:w,isMulti:p,isRtl:g,options:v,selectOption:d,selectProps:m,setValue:f,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return wX(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return jX(this.props,s,i)}},{key:"filterOption",value:function(s,i){return NX(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,d=s.tabIndex,f=s.form,m=s.menuIsOpen,p=s.required,g=this.getComponents(),v=g.Input,w=this.state,y=w.inputIsHidden,N=w.ariaSelection,k=this.commonProps,S=l||this.getElementId("input"),A=Ir(Ir(Ir({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":p,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?b.createElement(v,qr({},k,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:y,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:f,type:"text",value:c},A)):b.createElement(Lwe,qr({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:jj,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:f,value:""},A))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,d=i.MultiValueRemove,f=i.SingleValue,m=i.Placeholder,p=this.commonProps,g=this.props,v=g.controlShouldRenderValue,w=g.isDisabled,y=g.isMulti,N=g.inputValue,k=g.placeholder,S=this.state,A=S.selectValue,_=S.focusedValue,O=S.isFocused;if(!this.hasValue()||!v)return N?null:b.createElement(m,qr({},p,{key:"placeholder",isDisabled:w,isFocused:O,innerProps:{id:this.getElementId("placeholder")}}),k);if(y)return A.map(function(I,R){var F=I===_,E="".concat(s.getOptionLabel(I),"-").concat(s.getOptionValue(I));return b.createElement(o,qr({},p,{components:{Container:l,Label:c,Remove:d},isFocused:F,isDisabled:w,key:E,index:R,removeProps:{onClick:function(){return s.removeValue(I)},onTouchEnd:function(){return s.removeValue(I)},onMouseDown:function(H){H.preventDefault()}},data:I}),s.formatOptionLabel(I,"value"))});if(N)return null;var P=A[0];return b.createElement(f,qr({},p,{data:P,isDisabled:w}),this.formatOptionLabel(P,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,qr({},o,{innerProps:m,isFocused:f}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,f=this.state.isFocused;if(!i||!d)return null;var m={"aria-hidden":"true"};return b.createElement(i,qr({},o,{innerProps:m,isDisabled:c,isFocused:f}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return b.createElement(o,qr({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return b.createElement(i,qr({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,d=i.MenuList,f=i.MenuPortal,m=i.LoadingMessage,p=i.NoOptionsMessage,g=i.Option,v=this.commonProps,w=this.state.focusedOption,y=this.props,N=y.captureMenuScroll,k=y.inputValue,S=y.isLoading,A=y.loadingMessage,_=y.minMenuHeight,O=y.maxMenuHeight,P=y.menuIsOpen,I=y.menuPlacement,R=y.menuPosition,F=y.menuPortalTarget,E=y.menuShouldBlockScroll,M=y.menuShouldScrollIntoView,H=y.noOptionsMessage,V=y.onMenuScrollToTop,G=y.onMenuScrollToBottom;if(!P)return null;var q=function(J,Z){var ie=J.type,ue=J.data,je=J.isDisabled,ce=J.isSelected,le=J.label,pe=J.value,$e=w===ue,de=je?void 0:function(){return s.onOptionHover(ue)},Se=je?void 0:function(){return s.selectOption(ue)},te="".concat(s.getElementId("option"),"-").concat(Z),se={id:te,onClick:Se,onMouseMove:de,onMouseOver:de,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:ce};return b.createElement(g,qr({},v,{innerProps:se,data:ue,isDisabled:je,isSelected:ce,key:te,label:le,type:ie,value:pe,isFocused:$e,innerRef:$e?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(J.data,"menu"))},B;if(this.hasOptions())B=this.getCategorizedOptions().map(function(W){if(W.type==="group"){var J=W.data,Z=W.options,ie=W.index,ue="".concat(s.getElementId("group"),"-").concat(ie),je="".concat(ue,"-heading");return b.createElement(o,qr({},v,{key:ue,data:J,options:Z,Heading:l,headingProps:{id:je,data:W.data},label:s.formatGroupLabel(W.data)}),W.options.map(function(ce){return q(ce,"".concat(ie,"-").concat(ce.index))}))}else if(W.type==="option")return q(W,"".concat(W.index))});else if(S){var z=A({inputValue:k});if(z===null)return null;B=b.createElement(m,v,z)}else{var X=H({inputValue:k});if(X===null)return null;B=b.createElement(p,v,X)}var ee={minMenuHeight:_,maxMenuHeight:O,menuPlacement:I,menuPosition:R,menuShouldScrollIntoView:M},K=b.createElement(h1e,qr({},v,ee),function(W){var J=W.ref,Z=W.placerProps,ie=Z.placement,ue=Z.maxHeight;return b.createElement(c,qr({},v,ee,{innerRef:J,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:ie}),b.createElement(Bwe,{captureEnabled:N,onTopArrive:V,onBottomArrive:G,lockEnabled:E},function(je){return b.createElement(d,qr({},v,{innerRef:function(le){s.getMenuListRef(le),je(le)},innerProps:{role:"listbox","aria-multiselectable":v.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:ue,focusedOption:w}),B)}))});return F||R==="fixed"?b.createElement(f,qr({},v,{appendTo:F,controlElement:this.controlRef,menuPlacement:I,menuPosition:R}),K):K}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,d=i.name,f=i.required,m=this.state.selectValue;if(f&&!this.hasValue()&&!l)return b.createElement(Uwe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var p=m.map(function(w){return s.getOptionValue(w)}).join(o);return b.createElement("input",{name:d,type:"hidden",value:p})}else{var g=m.length>0?m.map(function(w,y){return b.createElement("input",{key:"i-".concat(y),name:d,type:"hidden",value:s.getOptionValue(w)})}):b.createElement("input",{name:d,type:"hidden",value:""});return b.createElement("div",null,g)}else{var v=m[0]?this.getOptionValue(m[0]):"";return b.createElement("input",{name:d,type:"hidden",value:v})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,d=i.isFocused,f=i.selectValue,m=this.getFocusableOptions();return b.createElement(Twe,qr({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:f,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,d=this.props,f=d.className,m=d.id,p=d.isDisabled,g=d.menuIsOpen,v=this.state.isFocused,w=this.commonProps=this.getCommonProps();return b.createElement(l,qr({},w,{className:f,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:p,isFocused:v}),this.renderLiveRegion(),b.createElement(i,qr({},w,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:p,isFocused:v,menuIsOpen:g}),b.createElement(c,qr({},w,{isDisabled:p}),this.renderPlaceholderOrValue(),this.renderInput()),b.createElement(o,qr({},w,{isDisabled:p}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,f=i.isFocused,m=i.prevWasFocused,p=i.instancePrefix,g=s.options,v=s.value,w=s.menuIsOpen,y=s.inputValue,N=s.isMulti,k=Nj(v),S={};if(o&&(v!==o.value||g!==o.options||w!==o.menuIsOpen||y!==o.inputValue)){var A=w?a2e(s,k):[],_=w?T9(R2(s,k),"".concat(p,"-option")):[],O=l?s2e(i,k):null,P=i2e(i,A),I=UC(_,P);S={selectValue:k,focusedOption:P,focusedOptionId:I,focusableOptionsWithIds:_,focusedValue:O,clearFocusValueOnUpdate:!1}}var R=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},F=d,E=f&&m;return f&&!E&&(F={value:sy(N,k,k[0]||null),options:k,action:"initial-input-focus"},E=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(F=null),Ir(Ir(Ir({},S),R),{},{prevProps:s,ariaSelection:F,prevWasFocused:E})}}]),r})(b.Component);gD.defaultProps=n2e;var l2e=b.forwardRef(function(t,e){var r=qJ(t);return b.createElement(gD,qr({ref:e},r))}),Tn=l2e;function Ui(t){this.content=t}Ui.prototype={constructor:Ui,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new Ui(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new Ui(r)},addToStart:function(t,e){return new Ui([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new Ui(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new Ui(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Ui.from(t),t.size?new Ui(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Ui.from(t),t.size?new Ui(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Ui.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};Ui.from=function(t){if(t instanceof Ui)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new Ui(e)};function kX(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=kX(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function CX(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),l=e.child(--i),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let d=0,f=Math.min(o.text.length,l.text.length);for(;d<f&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let d=CX(o.content,l.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class Yt{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,l=0;l<r;o++){let c=this.content[o],d=l+c.nodeSize;if(d>e&&n(c,s+l,i||null,o)!==!1&&c.content.size){let f=l+1;c.nodesBetween(Math.max(0,e-f),Math.min(c.content.size,r-f),n,s+f)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new Yt(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),s+=l.nodeSize),o=c}return new Yt(n,s)}cutByIndex(e,r){return e==r?Yt.empty:e==0&&r==this.content.length?this:new Yt(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new Yt(s,i)}addToStart(e){return new Yt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new Yt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return kX(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return CX(this,e,r,n)}findIndex(e){if(e==0)return Ew(0,e);if(e==this.size)return Ew(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),i=n+s.nodeSize;if(i>=e)return i==e?Ew(r+1,i):Ew(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return Yt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new Yt(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return Yt.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new Yt(r||e,n)}static from(e){if(!e)return Yt.empty;if(e instanceof Yt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new Yt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}Yt.empty=new Yt([],0);const WC={index:0,offset:0};function Ew(t,e){return WC.index=t,WC.offset=e,WC}function Cj(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Cj(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Cj(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let Ea=class G6{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Cj(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return G6.none;if(e instanceof G6)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};Ea.none=[];class _j extends Error{}class mr{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=AX(this.content,e+this.openStart,r);return n&&new mr(n,this.openStart,this.openEnd)}removeBetween(e,r){return new mr(_X(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return mr.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new mr(Yt.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new mr(e,n,s)}}mr.empty=new mr(Yt.empty,0,0);function _X(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(s==e||i.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(_X(i.content,e-s-1,r-s-1)))}function AX(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=AX(o.content,e-i-1,r,o);return l&&t.replaceChild(s,o.copy(l))}function c2e(t,e,r){if(r.openStart>t.depth)throw new _j("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new _j("Inconsistent open depths");return TX(t,e,r,0)}function TX(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=TX(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return Sp(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=d2e(r,t);return Sp(i,OX(t,o,l,e,n))}else return Sp(i,Aj(t,e,n))}function MX(t,e){if(!e.type.compatibleContent(t.type))throw new _j("Cannot join "+e.type.name+" onto "+t.type.name)}function Y6(t,e,r){let n=t.node(r);return MX(n,e.node(r)),n}function Np(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function by(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Np(t.nodeAfter,n),i++));for(let l=i;l<o;l++)Np(s.child(l),n);e&&e.depth==r&&e.textOffset&&Np(e.nodeBefore,n)}function Sp(t,e){return t.type.checkContent(e),t.copy(e)}function OX(t,e,r,n,s){let i=t.depth>s&&Y6(t,e,s+1),o=n.depth>s&&Y6(r,n,s+1),l=[];return by(null,t,s,l),i&&o&&e.index(s)==r.index(s)?(MX(i,o),Np(Sp(i,OX(t,e,r,n,s+1)),l)):(i&&Np(Sp(i,Aj(t,e,s+1)),l),by(e,r,s,l),o&&Np(Sp(o,Aj(r,n,s+1)),l)),by(n,null,s,l),new Yt(l)}function Aj(t,e,r){let n=[];if(by(null,t,r,n),t.depth>r){let s=Y6(t,e,r+1);Np(Sp(s,Aj(t,e,r+1)),n)}return by(e,null,r,n),new Yt(n)}function d2e(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(Yt.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class Xy{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return Ea.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let l=n;n=s,s=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Tj(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),d=i-c;if(n.push(o,l,s+c),!d||(o=o.child(l),o.isText))break;i=d-1,s+=c+1}return new Xy(r,n,i)}static resolveCached(e,r){let n=O9.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else O9.set(e,n=new u2e);let s=n.elts[n.i]=Xy.resolve(e,r);return n.i=(n.i+1)%f2e,s}}class u2e{constructor(){this.elts=[],this.i=0}}const f2e=12,O9=new WeakMap;class Tj{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const h2e=Object.create(null);let Zh=class K6{constructor(e,r,n,s=Ea.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||Yt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Cj(this.attrs,r||e.defaultAttrs||h2e)&&Ea.sameSet(this.marks,n||Ea.none)}copy(e=null){return e==this.content?this:new K6(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new K6(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return mr.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),l=s.start(o),d=s.node(o).content.cut(s.pos-l,i.pos-l);return new mr(d,s.depth-o,i.depth-o)}replace(e,r,n){return c2e(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return Xy.resolveCached(this,e)}resolveNoCache(e){return Xy.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),EX(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=Yt.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=Ea.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!Ea.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=Yt.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};Zh.prototype.text=void 0;class Mj extends Zh{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):EX(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new Mj(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new Mj(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function EX(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Lp{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new m2e(e,r);if(n.next==null)return Lp.empty;let s=DX(n);n.next&&n.err("Unexpected trailing text");let i=w2e(v2e(s));return j2e(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return Yt.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:f,next:m}=o.next[d];if(!(f.isText||f.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let p=i(m,l.concat(f));if(p)return p}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!s.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Lp.empty=new Lp(!0);class m2e{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function DX(t){let e=[];do e.push(p2e(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function p2e(t){let e=[];do e.push(g2e(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function g2e(t){let e=y2e(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=x2e(t,e);else break;return e}function E9(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function x2e(t,e){let r=E9(t),n=r;return t.eat(",")&&(t.next!="}"?n=E9(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function b2e(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function y2e(t){if(t.eat("(")){let e=DX(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=b2e(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function v2e(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let d={term:c,to:l};return e[o].push(d),d}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(o.type=="seq")for(let c=0;;c++){let d=i(o.exprs[c],l);if(c==o.exprs.length-1)return d;s(d,l=r())}else if(o.type=="star"){let c=r();return n(l,c),s(i(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return s(i(o.expr,l),c),s(i(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let d=0;d<o.min;d++){let f=r();s(i(o.expr,c),f),c=f}if(o.max==-1)s(i(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let f=r();n(c,f),s(i(o.expr,c),f),c=f}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function PX(t,e){return e-t}function D9(t,e){let r=[];return n(e),r.sort(PX);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&r.indexOf(c)==-1&&n(c)}}}function w2e(t){let e=Object.create(null);return r(D9(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let f=0;f<s.length;f++)s[f][0]==l&&(d=s[f][1]);D9(t,c).forEach(f=>{d||s.push([l,d=[]]),d.indexOf(f)==-1&&d.push(f)})})});let i=e[n.join(",")]=new Lp(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(PX);i.next.push({type:s[o][0],next:e[l.join(",")]||r(l)})}return i}}function j2e(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),n.indexOf(d)==-1&&n.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function LX(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function RX(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function IX(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function FX(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new S2e(t,n,e[n]);return r}let P9=class $X{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=FX(e,n.attrs),this.defaultAttrs=LX(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Lp.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:RX(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new Zh(this,this.computeAttrs(e),Yt.from(r),Ea.setFrom(n))}createChecked(e=null,r,n){return r=Yt.from(r),this.checkContent(r),new Zh(this,this.computeAttrs(e),r,Ea.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=Yt.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(Yt.empty,!0);return i?new Zh(this,e,r.append(i),Ea.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){IX(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:Ea.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new $X(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function N2e(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class S2e{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?N2e(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class BN{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=FX(e,s.attrs),this.excluded=null;let i=LX(this.attrs);this.instance=i?new Ea(this,i):null}create(e=null){return!e&&this.instance?this.instance:new Ea(this,RX(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new BN(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){IX(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class HX{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=Ui.from(e.nodes),r.marks=Ui.from(e.marks||{}),this.nodes=P9.compile(this.spec.nodes,this),this.marks=BN.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=Lp.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?L9(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:L9(this,o.split(" "))}this.nodeFromJSON=s=>Zh.fromJSON(this,s),this.markFromJSON=s=>Ea.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof P9){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new Mj(n,n.defaultAttrs,e,Ea.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function L9(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function k2e(t){return t.tag!=null}function C2e(t){return t.style!=null}class em{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(k2e(s))this.tags.push(s);else if(C2e(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new I9(this,r,!1);return n.addAll(e,Ea.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new I9(this,r,!0);return n.addAll(e,Ea.none,r.from,r.to),mr.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(T2e(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=F9(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=F9(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new em(e,em.schemaRules(e)))}}const BX={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},_2e={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},zX={ol:!0,ul:!0},Qy=1,J6=2,yy=4;function R9(t,e,r){return e!=null?(e?Qy:0)|(e==="full"?J6:0):t&&t.whitespace=="pre"?Qy|J6:r&~yy}class Dw{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=Ea.none,this.match=i||(o&yy?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(Yt.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&Qy)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=Yt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(Yt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!BX.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class I9{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,i,o=R9(null,r.preserveWhitespace,0)|(n?yy:0);s?i=new Dw(s.type,s.attrs,Ea.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new Dw(null,null,Ea.none,!0,null,o):i=new Dw(e.schema.topNodeType,null,Ea.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,i=s.options&J6?"full":this.localPreserveWS||(s.options&Qy)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;zX.hasOwnProperty(o)&&this.parser.normalizeLists&&A2e(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:_2e.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,f=this.needsBlock;if(BX.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),d&&this.sync(i),this.needsBlock=f}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r,n){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+l)&&(s=d,i=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)r=this.enterInner(s[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=Ea.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):$9(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=R9(e,i,o.options);o.options&yy&&o.content.length==0&&(l|=yy);let c=Ea.none;return n=n.filter(d=>(o.type?o.type.allowsMarkType(d.type):$9(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new Dw(e,r,c,s,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=Qy)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let d=r[l];if(d==""){if(l==r.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let f=c>0||c==0&&s?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!f||f.name!=d&&!f.isInGroup(d))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function A2e(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&zX.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function T2e(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function F9(t){let e={};for(let r in t)e[r]=t[r];return e}function $9(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:f}=l.edge(c);if(d==e||i.indexOf(f)<0&&o(f))return!0}};if(o(s.contentMatch))return!0}}class Qp{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=VC(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],f=this.serializeMark(d,o.isInline,r);f&&(i.push([d,s]),s.appendChild(f.dom),s=f.contentDOM||f.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=I2(VC(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&I2(VC(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return I2(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new Qp(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=H9(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return H9(e.marks)}}function H9(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function VC(t){return t.document||window.document}const B9=new WeakMap;function M2e(t){let e=B9.get(t);return e===void 0&&B9.set(t,e=O2e(t)),e}function O2e(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function I2(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=M2e(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let l,c=r?t.createElementNS(r,s):t.createElement(s),d=e[1],f=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){f=2;for(let m in d)if(d[m]!=null){let p=m.indexOf(" ");p>0?c.setAttributeNS(m.slice(0,p),m.slice(p+1),d[m]):m=="style"&&c.style?c.style.cssText=d[m]:c.setAttribute(m,d[m])}}for(let m=f;m<e.length;m++){let p=e[m];if(p===0){if(m<e.length-1||m>f)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:g,contentDOM:v}=I2(t,p,r,n);if(c.appendChild(g),v){if(l)throw new RangeError("Multiple content holes");l=v}}}return{dom:c,contentDOM:l}}const qX=65535,UX=Math.pow(2,16);function E2e(t,e){return t+e*UX}function z9(t){return t&qX}function D2e(t){return(t-(t&qX))/UX}const WX=1,VX=2,F2=4,GX=8;class X6{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&GX)>0}get deletedBefore(){return(this.delInfo&(WX|F2))>0}get deletedAfter(){return(this.delInfo&(VX|F2))>0}get deletedAcross(){return(this.delInfo&F2)>0}}class Cl{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Cl.empty)return Cl.empty}recover(e){let r=0,n=z9(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+D2e(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[l+i],f=this.ranges[l+o],m=c+d;if(e<=m){let p=d?e==c?-1:e==m?1:r:r,g=c+s+(p<0?0:f);if(n)return g;let v=e==(r<0?c:m)?null:E2e(l/3,e-c),w=e==c?VX:e==m?WX:F2;return(r<0?e!=c:e!=m)&&(w|=GX),new X6(g,w,v)}s+=f-d}return n?e+s:new X6(e+s,0,null)}touches(e,r){let n=0,s=z9(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[l+i],f=c+d;if(e<=f&&l==s*3)return!0;n+=this.ranges[l+o]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),d=this.ranges[s+r],f=this.ranges[s+n];e(l,l+d,c,c+f),i+=f-d}}invert(){return new Cl(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Cl.empty:new Cl(e<0?[0,-e,0]:[0,0,e])}}Cl.empty=new Cl([]);class Zy{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new Zy(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new Zy;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new X6(e,s,null)}}const GC=Object.create(null);let yo=class{getMap(){return Cl.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=GC[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in GC)throw new RangeError("Duplicate use of step JSON ID "+e);return GC[e]=r,r.prototype.jsonID=e,r}};class ti{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new ti(e,null)}static fail(e){return new ti(null,e)}static fromReplace(e,r,n,s){try{return ti.ok(e.replace(r,n,s))}catch(i){if(i instanceof _j)return ti.fail(i.message);throw i}}}function xD(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(xD(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return Yt.fromArray(n)}class qh extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new mr(xD(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return ti.fromReplace(e,this.from,this.to,i)}invert(){return new ad(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new qh(r.pos,n.pos,this.mark)}merge(e){return e instanceof qh&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new qh(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new qh(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("addMark",qh);class ad extends yo{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new mr(xD(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return ti.fromReplace(e,this.from,this.to,n)}invert(){return new qh(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new ad(r.pos,n.pos,this.mark)}merge(e){return e instanceof ad&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ad(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ad(r.from,r.to,e.markFromJSON(r.mark))}}yo.jsonID("removeMark",ad);class Uh extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return ti.fromReplace(e,this.pos,this.pos+1,new mr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new Uh(this.pos,r.marks[s]);return new Uh(this.pos,this.mark)}}return new Rp(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Uh(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new Uh(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("addNodeMark",Uh);class Rp extends yo{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return ti.fromReplace(e,this.pos,this.pos+1,new mr(Yt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new Uh(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Rp(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Rp(r.pos,e.markFromJSON(r.mark))}}yo.jsonID("removeNodeMark",Rp);class Oi extends yo{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&Q6(e,this.from,this.to)?ti.fail("Structure replace would overwrite content"):ti.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Cl([this.from,this.to-this.from,this.slice.size])}invert(e){return new Oi(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new Oi(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof Oi)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?mr.empty:new mr(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Oi(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?mr.empty:new mr(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Oi(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Oi(r.from,r.to,mr.fromJSON(e,r.slice),!!r.structure)}}yo.jsonID("replace",Oi);class Di extends yo{constructor(e,r,n,s,i,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(Q6(e,this.from,this.gapFrom)||Q6(e,this.gapTo,this.to)))return ti.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return ti.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?ti.fromReplace(e,this.from,this.to,n):ti.fail("Content does not fit in gap")}getMap(){return new Cl([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new Di(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new Di(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Di(r.from,r.to,r.gapFrom,r.gapTo,mr.fromJSON(e,r.slice),r.insert,!!r.structure)}}yo.jsonID("replaceAround",Di);function Q6(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function P2e(t,e,r,n){let s=[],i=[],o,l;t.doc.nodesBetween(e,r,(c,d,f)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&f.type.allowsMarkType(n.type)){let p=Math.max(d,e),g=Math.min(d+c.nodeSize,r),v=n.addToSet(m);for(let w=0;w<m.length;w++)m[w].isInSet(v)||(o&&o.to==p&&o.mark.eq(m[w])?o.to=g:s.push(o=new ad(p,g,m[w])));l&&l.to==p?l.to=g:i.push(l=new qh(p,g,n))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function L2e(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(n instanceof BN){let d=o.marks,f;for(;f=n.isInSet(d);)(c||(c=[])).push(f),d=f.removeFromSet(d)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let d=Math.min(l+o.nodeSize,r);for(let f=0;f<c.length;f++){let m=c[f],p;for(let g=0;g<s.length;g++){let v=s[g];v.step==i-1&&m.eq(s[g].style)&&(p=v)}p?(p.to=d,p.step=i):s.push({style:m,from:Math.max(l,e),to:d,step:i})}}}),s.forEach(o=>t.step(new ad(o.from,o.to,o.style)))}function bD(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),f=l+d.nodeSize,m=n.matchType(d.type);if(!m)o.push(new Oi(l,f,mr.empty));else{n=m;for(let p=0;p<d.marks.length;p++)r.allowsMarkType(d.marks[p].type)||t.step(new ad(l,f,d.marks[p]));if(s&&d.isText&&r.whitespace!="pre"){let p,g=/\r?\n|\r/g,v;for(;p=g.exec(d.text);)v||(v=new mr(Yt.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),o.push(new Oi(l+p.index,l+p.index+p[0].length,v))}}l=f}if(!n.validEnd){let c=n.fillBefore(Yt.empty,!0);t.replace(l,l,new mr(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function R2e(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Px(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!R2e(s,i,o))break}return null}function I2e(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),l=s.after(i+1),c=o,d=l,f=Yt.empty,m=0;for(let v=i,w=!1;v>r;v--)w||n.index(v)>0?(w=!0,f=Yt.from(n.node(v).copy(f)),m++):c--;let p=Yt.empty,g=0;for(let v=i,w=!1;v>r;v--)w||s.after(v+1)<s.end(v)?(w=!0,p=Yt.from(s.node(v).copy(p)),g++):d++;t.step(new Di(c,d,o,l,new mr(f.append(p),m,g),f.size-m,!0))}function yD(t,e,r=null,n=t){let s=F2e(t,e),i=s&&$2e(n,e);return i?s.map(q9).concat({type:e,attrs:r}).concat(i.map(q9)):null}function q9(t){return{type:t,attrs:null}}function F2e(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function $2e(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=n;c&&d<s;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:o}function H2e(t,e,r){let n=Yt.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=Yt.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new Di(s,i,s,i,new mr(n,0,0),r.length,!0))}function B2e(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,c)&&z2e(t.doc,t.mapping.slice(i).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let g=n.whitespace=="pre",v=!!n.contentMatch.matchType(n.schema.linebreakReplacement);g&&!v?d=!1:!g&&v&&(d=!0)}d===!1&&KX(t,o,l,i),bD(t,t.mapping.slice(i).map(l,1),n,void 0,d===null);let f=t.mapping.slice(i),m=f.map(l,1),p=f.map(l+o.nodeSize,1);return t.step(new Di(m,p,m+1,p-1,new mr(Yt.from(n.create(c,null,o.marks)),0,0),1,!0)),d===!0&&YX(t,o,l,i),!1}})}function YX(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function KX(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function z2e(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function q2e(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new Di(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new mr(Yt.from(o),0,0),1,!0))}function kf(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,f=r-2;d>i;d--,f--){let m=s.node(d),p=s.index(d);if(m.type.spec.isolating)return!1;let g=m.content.cutByIndex(p,m.childCount),v=n&&n[f+1];v&&(g=g.replaceChild(0,v.type.create(v.attrs)));let w=n&&n[f]||m;if(!m.canReplace(p+1,m.childCount)||!w.type.validContent(g))return!1}let l=s.indexAfter(i),c=n&&n[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function U2e(t,e,r=1,n){let s=t.doc.resolve(e),i=Yt.empty,o=Yt.empty;for(let l=s.depth,c=s.depth-r,d=r-1;l>c;l--,d--){i=Yt.from(s.node(l).copy(i));let f=n&&n[d];o=Yt.from(f?f.type.create(f.attrs,o):s.node(l).copy(o))}t.step(new Oi(e,e,new mr(i.append(o),r,r),!0))}function xm(t,e){let r=t.resolve(e),n=r.index();return JX(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function W2e(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function JX(t,e){return!!(t&&e&&!t.isLeaf&&W2e(t,e))}function zN(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,l=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),l++,o=n.node(s).maybeChild(l)):(i=n.node(s).maybeChild(l-1),o=n.node(s+1)),i&&!i.isTextblock&&JX(i,o)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function V2e(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-r),o=i.node().type;if(s&&o.inlineContent){let f=o.whitespace=="pre",m=!!o.contentMatch.matchType(s);f&&!m?n=!1:!f&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let f=t.doc.resolve(e+r);KX(t,f.node(),f.before(),l)}o.inlineContent&&bD(t,e+r-1,o,i.node().contentMatchAt(i.index()),n==null);let c=t.mapping.slice(l),d=c.map(e-r);if(t.step(new Oi(d,c.map(e+r,-1),mr.empty,!0)),n===!0){let f=t.doc.resolve(d);YX(t,f.node(),f.before(),t.steps.length)}return t}function G2e(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function XX(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),d=n.node(o),f=!1;if(i==1)f=d.canReplace(c,c,s);else{let m=d.contentMatchAt(c).findWrapping(s.firstChild.type);f=m&&d.canReplaceWith(c,c,m[0])}if(f)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function qN(t,e,r=e,n=mr.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return QX(s,i,n)?new Oi(e,r,n):new Y2e(s,i,n).fit()}function QX(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class Y2e{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=Yt.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=Yt.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new mr(i,o,l);return e>-1?new Di(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new Oi(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=YC(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],f,m=null;if(r==1&&(o?d.matchType(o.type)||(m=d.fillBefore(Yt.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:m};if(r==2&&o&&(f=d.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:f};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=YC(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new mr(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=YC(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new mr(iy(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new mr(iy(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let w=0;w<i.length;w++)this.openFrontierNode(i[w]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,d=0,f=[],{match:m,type:p}=this.frontier[r];if(s){for(let w=0;w<s.childCount;w++)f.push(s.child(w));m=m.matchFragment(s)}let g=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let w=l.child(d),y=m.matchType(w.type);if(!y)break;d++,(d>1||c==0||w.content.size)&&(m=y,f.push(ZX(w.mark(p.allowedMarks(w.marks)),d==1?c:0,d==l.childCount?g:-1)))}let v=d==l.childCount;v||(g=-1),this.placed=oy(this.placed,r,Yt.from(f)),this.frontier[r].match=m,v&&g<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let w=0,y=l;w<g;w++){let N=y.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),y=N.content}this.unplaced=v?e==0?mr.empty:new mr(iy(o.content,e-1,1),e-1,g<0?o.openEnd:e-1):new mr(iy(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!KC(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=KC(e,r,s,n,i);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],f=KC(e,l,d,c,!0);if(!f||f.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=oy(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=oy(this.placed,this.depth,Yt.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(Yt.empty,!0);r.childCount&&(this.placed=oy(this.placed,this.frontier.length,r))}}function iy(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(iy(t.firstChild.content,e-1,r)))}function oy(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(oy(t.lastChild.content,e-1,r)))}function YC(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function ZX(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,ZX(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(Yt.empty,!0)))),t.copy(n)}function KC(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!K2e(r,i.content,o)?l:null}function K2e(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function J2e(t){return t.spec.defining||t.spec.definingForContent}function X2e(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(QX(s,i,n))return t.step(new Oi(e,r,n));let o=tQ(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let p=s.depth,g=s.pos-1;p>0;p--,g--){let v=s.node(p).type.spec;if(v.defining||v.definingAsContext||v.isolating)break;o.indexOf(p)>-1?l=p:s.before(p)==g&&o.splice(1,0,-p)}let c=o.indexOf(l),d=[],f=n.openStart;for(let p=n.content,g=0;;g++){let v=p.firstChild;if(d.push(v),g==n.openStart)break;p=v.content}for(let p=f-1;p>=0;p--){let g=d[p],v=J2e(g.type);if(v&&!g.sameMarkup(s.node(Math.abs(l)-1)))f=p;else if(v||!g.type.isTextblock)break}for(let p=n.openStart;p>=0;p--){let g=(p+f+1)%(n.openStart+1),v=d[g];if(v)for(let w=0;w<o.length;w++){let y=o[(w+c)%o.length],N=!0;y<0&&(N=!1,y=-y);let k=s.node(y-1),S=s.index(y-1);if(k.canReplaceWith(S,S,v.type,v.marks))return t.replace(s.before(y),N?i.after(y):r,new mr(eQ(n.content,0,n.openStart,g),g,n.openEnd))}}let m=t.steps.length;for(let p=o.length-1;p>=0&&(t.replace(e,r,n),!(t.steps.length>m));p--){let g=o[p];g<0||(e=s.before(g),r=i.after(g))}}function eQ(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(eQ(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(Yt.empty,!0))}return t}function Q2e(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=G2e(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new mr(Yt.from(n),0,0))}function Z2e(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=tQ(n,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),s.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return t.delete(n.before(l),s.after(l))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o&&n.start(o-1)==s.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),s.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function tQ(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class _g extends yo{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return ti.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return ti.fromReplace(e,this.pos,this.pos+1,new mr(Yt.from(s),0,r.isLeaf?0:1))}getMap(){return Cl.empty}invert(e){return new _g(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new _g(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new _g(r.pos,r.attr,r.value)}}yo.jsonID("attr",_g);class ev extends yo{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return ti.ok(n)}getMap(){return Cl.empty}invert(e){return new ev(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new ev(r.attr,r.value)}}yo.jsonID("docAttr",ev);let Kg=class extends Error{};Kg=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Kg.prototype=Object.create(Error.prototype);Kg.prototype.constructor=Kg;Kg.prototype.name="TransformError";class rQ{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new Zy}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Kg(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=mr.empty){let s=qN(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new mr(Yt.from(n),0,0))}delete(e,r){return this.replace(e,r,mr.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return X2e(this,e,r,n),this}replaceRangeWith(e,r,n){return Q2e(this,e,r,n),this}deleteRange(e,r){return Z2e(this,e,r),this}lift(e,r){return I2e(this,e,r),this}join(e,r=1){return V2e(this,e,r),this}wrap(e,r){return H2e(this,e,r),this}setBlockType(e,r=e,n,s=null){return B2e(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return q2e(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new _g(e,r,n)),this}setDocAttribute(e,r){return this.step(new ev(e,r)),this}addNodeMark(e,r){return this.step(new Uh(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof Ea)r.isInSet(n.marks)&&this.step(new Rp(e,r));else{let s=n.marks,i,o=[];for(;i=r.isInSet(s);)o.push(new Rp(e,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return U2e(this,e,r,n),this}addMark(e,r,n){return P2e(this,e,r,n),this}removeMark(e,r,n){return L2e(this,e,r,n),this}clearIncompatible(e,r,n){return bD(this,e,r,n),this}}const JC=Object.create(null);class xn{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new eje(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=mr.empty){let n=r.content.lastChild,s=null;for(let l=0;l<r.openEnd;l++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:d}=o[l],f=e.mapping.slice(i);e.replaceRange(f.map(c.pos),f.map(d.pos),l?mr.empty:r),l==0&&V9(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=e.mapping.slice(n),d=c.map(o.pos),f=c.map(l.pos);i?e.deleteRange(d,f):(e.replaceRangeWith(d,f,r),V9(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new en(e):rg(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?rg(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):rg(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Ol(e.node(0))}static atStart(e){return rg(e,e,0,0,1)||new Ol(e)}static atEnd(e){return rg(e,e,e.content.size,e.childCount,-1)||new Ol(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=JC[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in JC)throw new RangeError("Duplicate use of selection JSON ID "+e);return JC[e]=r,r.prototype.jsonID=e,r}getBookmark(){return en.between(this.$anchor,this.$head).getBookmark()}}xn.prototype.visible=!0;class eje{constructor(e,r){this.$from=e,this.$to=r}}let U9=!1;function W9(t){!U9&&!t.parent.inlineContent&&(U9=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class en extends xn{constructor(e,r=e){W9(e),W9(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return xn.near(n);let s=e.resolve(r.map(this.anchor));return new en(s.parent.inlineContent?s:n,n)}replace(e,r=mr.empty){if(super.replace(e,r),r==mr.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof en&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new UN(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new en(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=xn.findFrom(r,n,!0)||xn.findFrom(r,-n,!0);if(i)r=i.$head;else return xn.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(xn.findFrom(e,-n,!0)||xn.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new en(e,r)}}xn.jsonID("text",en);class UN{constructor(e,r){this.anchor=e,this.head=r}map(e){return new UN(e.map(this.anchor),e.map(this.head))}resolve(e){return en.between(e.resolve(this.anchor),e.resolve(this.head))}}class Fr extends xn{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?xn.near(i):new Fr(i)}content(){return new mr(Yt.from(this.node),0,0)}eq(e){return e instanceof Fr&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new vD(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new Fr(e.resolve(r.anchor))}static create(e,r){return new Fr(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}Fr.prototype.visible=!1;xn.jsonID("node",Fr);class vD{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new UN(n,n):new vD(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&Fr.isSelectable(n)?new Fr(r):xn.near(r)}}class Ol extends xn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=mr.empty){if(r==mr.empty){e.delete(0,e.doc.content.size);let n=xn.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Ol(e)}map(e){return new Ol(e)}eq(e){return e instanceof Ol}getBookmark(){return tje}}xn.jsonID("all",Ol);const tje={map(){return this},resolve(t){return new Ol(t)}};function rg(t,e,r,n,s,i=!1){if(e.inlineContent)return en.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&Fr.isSelectable(l))return Fr.create(t,r-(s<0?l.nodeSize:0))}else{let c=rg(t,l,r+s,s<0?l.childCount:0,s,i);if(c)return c}r+=l.nodeSize*s}return null}function V9(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof Oi||s instanceof Di))return;let i=t.mapping.maps[n],o;i.forEach((l,c,d,f)=>{o==null&&(o=f)}),t.setSelection(xn.near(t.doc.resolve(o),r))}const G9=1,Pw=2,Y9=4;class rje extends rQ{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|G9)&~Pw,this.storedMarks=null,this}get selectionSet(){return(this.updated&G9)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Pw,this}ensureMarks(e){return Ea.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Pw)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~Pw,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||Ea.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(xn.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=Y9,this}get scrolledIntoView(){return(this.updated&Y9)>0}}function K9(t,e){return!e||!t?t:t.bind(e)}class ly{constructor(e,r,n){this.name=e,this.init=K9(r.init,n),this.apply=K9(r.apply,n)}}const nje=[new ly("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new ly("selection",{init(t,e){return t.selection||xn.atStart(e.doc)},apply(t){return t.selection}}),new ly("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new ly("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class XC{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=nje.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new ly(n.key,n.spec.state,n))})}}class hg{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,d=s?s[o].state:this,f=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,d,n);if(f&&n.filterTransaction(f,o)){if(f.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(f),n=n.applyInner(f),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new hg(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new rje(this)}static create(e){let r=new XC(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new hg(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new XC(this.schema,e.plugins),n=r.fields,s=new hg(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new XC(e.schema,e.plugins),i=new hg(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=Zh.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=xn.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[o.name]=d.fromJSON.call(c,e,r[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function nQ(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=nQ(s,e,{})),r[n]=s}return r}class Ds{constructor(e){this.spec=e,this.props={},e.props&&nQ(e.props,this,this.props),this.key=e.key?e.key.key:aQ("plugin")}getState(e){return e[this.key]}}const QC=Object.create(null);function aQ(t){return t in QC?t+"$"+ ++QC[t]:(QC[t]=0,t+"$")}class Li{constructor(e="key"){this.key=aQ(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Gi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Jg=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let Z6=null;const of=function(t,e,r){let n=Z6||(Z6=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},aje=function(){Z6=null},Ip=function(t,e,r,n){return r&&(J9(t,e,r,n,-1)||J9(t,e,r,n,1))},sje=/^(img|br|input|textarea|hr)$/i;function J9(t,e,r,n,s){for(var i;;){if(t==r&&e==n)return!0;if(e==(s<0?0:cc(t))){let o=t.parentNode;if(!o||o.nodeType!=1||a1(t)||sje.test(t.nodeName)||t.contentEditable=="false")return!1;e=Gi(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?cc(t):0}else return!1}}function cc(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function ije(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=cc(t)}else if(t.parentNode&&!a1(t))e=Gi(t),t=t.parentNode;else return null}}function oje(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!a1(t))e=Gi(t)+1,t=t.parentNode;else return null}}function lje(t,e,r){for(let n=e==0,s=e==cc(t);n||s;){if(t==r)return!0;let i=Gi(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==cc(t)}}function a1(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const WN=function(t){return t.focusNode&&Ip(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function ep(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function cje(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function dje(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(cc(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(cc(n.startContainer),n.startOffset)}}}const lu=typeof navigator<"u"?navigator:null,X9=typeof document<"u"?document:null,bm=lu&&lu.userAgent||"",eM=/Edge\/(\d+)/.exec(bm),sQ=/MSIE \d/.exec(bm),tM=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(bm),cl=!!(sQ||tM||eM),tm=sQ?document.documentMode:tM?+tM[1]:eM?+eM[1]:0,pc=!cl&&/gecko\/(\d+)/i.test(bm);pc&&+(/Firefox\/(\d+)/.exec(bm)||[0,0])[1];const rM=!cl&&/Chrome\/(\d+)/.exec(bm),xo=!!rM,iQ=rM?+rM[1]:0,Ho=!cl&&!!lu&&/Apple Computer/.test(lu.vendor),Xg=Ho&&(/Mobile\/\w+/.test(bm)||!!lu&&lu.maxTouchPoints>2),oc=Xg||(lu?/Mac/.test(lu.platform):!1),uje=lu?/Win/.test(lu.platform):!1,hf=/Android \d/.test(bm),s1=!!X9&&"webkitFontSmoothing"in X9.documentElement.style,fje=s1?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function hje(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Qu(t,e){return typeof t=="number"?t:t[e]}function mje(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function Q9(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Jg(o);continue}let l=o,c=l==i.body,d=c?hje(i):mje(l),f=0,m=0;if(e.top<d.top+Qu(n,"top")?m=-(d.top-e.top+Qu(s,"top")):e.bottom>d.bottom-Qu(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Qu(s,"top")-d.top:e.bottom-d.bottom+Qu(s,"bottom")),e.left<d.left+Qu(n,"left")?f=-(d.left-e.left+Qu(s,"left")):e.right>d.right-Qu(n,"right")&&(f=e.right-d.right+Qu(s,"right")),f||m)if(c)i.defaultView.scrollBy(f,m);else{let g=l.scrollLeft,v=l.scrollTop;m&&(l.scrollTop+=m),f&&(l.scrollLeft+=f);let w=l.scrollLeft-g,y=l.scrollTop-v;e={left:e.left-w,top:e.top-y,right:e.right-w,bottom:e.bottom-y}}let p=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(p))break;o=p=="absolute"?o.offsetParent:Jg(o)}}function pje(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,s=c.top;break}}return{refDOM:n,refTop:s,stack:oQ(t.dom)}}function oQ(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Jg(n));return e}function gje({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;lQ(r,n==0?0:n-e)}function lQ(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let V0=null;function xje(t){if(t.setActive)return t.setActive();if(V0)return t.focus(V0);let e=oQ(t);t.focus(V0==null?{get preventScroll(){return V0={preventScroll:!0},!0}}:void 0),V0||(V0=!1,lQ(e,0))}function cQ(t,e){let r,n=2e8,s,i=0,o=e.top,l=e.top,c,d;for(let f=t.firstChild,m=0;f;f=f.nextSibling,m++){let p;if(f.nodeType==1)p=f.getClientRects();else if(f.nodeType==3)p=of(f).getClientRects();else continue;for(let g=0;g<p.length;g++){let v=p[g];if(v.top<=o&&v.bottom>=l){o=Math.max(v.bottom,o),l=Math.min(v.top,l);let w=v.left>e.left?v.left-e.left:v.right<e.left?e.left-v.right:0;if(w<n){r=f,n=w,s=w&&r.nodeType==3?{left:v.right<e.left?v.right:v.left,top:e.top}:e,f.nodeType==1&&w&&(i=m+(e.left>=(v.left+v.right)/2?1:0));continue}}else v.top>e.top&&!c&&v.left<=e.left&&v.right>=e.left&&(c=f,d={left:Math.max(v.left,Math.min(v.right,e.left)),top:v.top});!r&&(e.left>=v.right&&e.top>=v.top||e.left>=v.left&&e.top>=v.bottom)&&(i=m+1)}}return!r&&c&&(r=c,s=d,n=0),r&&r.nodeType==3?bje(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:cQ(r,s)}function bje(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=Ph(n,1);if(i.top!=i.bottom&&wD(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function wD(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function yje(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function vje(t,e,r){let{node:n,offset:s}=cQ(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function wje(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?s=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function dQ(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(wD(e,d))return dQ(o,e,d)}}if((i=(i+1)%n)==s)break}return t}function jje(t,e){let r=t.dom.ownerDocument,n,s=0,i=dje(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!wD(e,d)||(o=dQ(t.dom,e,d),!o))return null}if(Ho)for(let d=o;n&&d;d=Jg(d))d.draggable&&(n=void 0);if(o=yje(o,e),n){if(pc&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let f=n.childNodes[s],m;f.nodeName=="IMG"&&(m=f.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let d;s1&&s&&n.nodeType==1&&(d=n.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=wje(t,n,s,e))}l==null&&(l=vje(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function Z9(t){return t.top<t.bottom||t.left<t.right}function Ph(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(Z9(n))return n}return Array.prototype.find.call(r,Z9)||t.getBoundingClientRect()}const Nje=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function uQ(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=s1||pc;if(n.nodeType==3)if(o&&(Nje.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=Ph(of(n,s,s),r);if(pc&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let d=Ph(of(n,s-1,s-1),-1);if(d.top==c.top){let f=Ph(of(n,s,s+1),-1);if(f.top!=c.top)return Bb(f,f.left<d.left)}}return c}else{let c=s,d=s,f=r<0?1:-1;return r<0&&!s?(d++,f=-1):r>=0&&s==n.nodeValue.length?(c--,f=1):r<0?c--:d++,Bb(Ph(of(n,c,d),f),f<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==cc(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return ZC(c.getBoundingClientRect(),!1)}if(i==null&&s<cc(n)){let c=n.childNodes[s];if(c.nodeType==1)return ZC(c.getBoundingClientRect(),!0)}return ZC(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==cc(n))){let c=n.childNodes[s-1],d=c.nodeType==3?of(c,cc(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Bb(Ph(d,1),!1)}if(i==null&&s<cc(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?of(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return Bb(Ph(d,-1),!0)}return Bb(Ph(n.nodeType==3?of(n):n,-r),r>=0)}function Bb(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function ZC(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function fQ(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function Sje(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return fQ(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=uQ(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=of(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let f=c[d];if(f.bottom>f.top+1&&(r=="up"?o.top-f.top>(f.bottom-o.top)*2:f.bottom-o.bottom>(o.bottom-f.top)*2))return!1}}return!0})}const kje=/[\u0590-\u08ac]/;function Cje(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,l=t.domSelection();return l?!kje.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:o:fQ(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:f,anchorOffset:m}=t.domSelectionRange(),p=l.caretBidiLevel;l.modify("move",r,"character");let g=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:v,focusOffset:w}=t.domSelectionRange(),y=v&&!g.contains(v.nodeType==1?v:v.parentNode)||c==v&&d==w;try{l.collapse(f,m),c&&(c!=f||d!=m)&&l.extend&&l.extend(c,d)}catch{}return p!=null&&(l.caretBidiLevel=p),y}):n.pos==n.start()||n.pos==n.end()}let eF=null,tF=null,rF=!1;function _je(t,e,r){return eF==e&&tF==r?rF:(eF=e,tF=r,rF=r=="up"||r=="down"?Sje(t,e,r):Cje(t,e,r))}const gc=0,nF=1,op=2,cu=3;class i1{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=gc,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Gi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof mQ){s=e-i;break}i=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof hQ&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Gi(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Gi(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,l=0;;l++){let c=this.children[l],d=o+c.size;if(s==-1&&e<=d){let f=o+c.border;if(e>=f&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,f);e=o;for(let m=l;m>0;m--){let p=this.children[m-1];if(p.size&&p.dom.parentNode==this.contentDOM&&!p.emptyChildAt(1)){s=Gi(p.dom)+1;break}e-=p.size}s==-1&&(s=0)}if(s>-1&&(d>r||l==this.children.length-1)){r=d;for(let f=l+1;f<this.children.length;f++){let m=this.children[f];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Gi(m.dom);break}r+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let g=0,v=0;g<this.children.length;g++){let w=this.children[g],y=v+w.size;if(i>v&&o<y)return w.setSelection(e-v-w.border,r-v-w.border,n,s);v=y}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),f=n.domSelectionRange(),m=!1;if((pc||Ho)&&e==r){let{node:g,offset:v}=l;if(g.nodeType==3){if(m=!!(v&&g.nodeValue[v-1]==`
`),m&&v==g.nodeValue.length)for(let w=g,y;w;w=w.parentNode){if(y=w.nextSibling){y.nodeName=="BR"&&(l=c={node:y.parentNode,offset:Gi(y)+1});break}let N=w.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let w=g.childNodes[v-1];m=w&&(w.nodeName=="BR"||w.contentEditable=="false")}}if(pc&&f.focusNode&&f.focusNode!=c.node&&f.focusNode.nodeType==1){let g=f.focusNode.childNodes[f.focusOffset];g&&g.contentEditable=="false"&&(s=!0)}if(!(s||m&&Ho)&&Ip(l.node,l.offset,f.anchorNode,f.anchorOffset)&&Ip(c.node,c.offset,f.focusNode,f.focusOffset))return;let p=!1;if((d.extend||e==r)&&!(m&&pc)){d.collapse(l.node,l.offset);try{e!=r&&d.extend(c.node,c.offset),p=!0}catch{}}if(!p){if(e>r){let v=l;l=c,c=v}let g=document.createRange();g.setEnd(c.node,c.offset),g.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(g)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+i.border,c=o-i.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?op:nF,e==l&&r==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=cu:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?op:cu}n=o}this.dirty=op}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?op:nF;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class hQ extends i1{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==gc&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class Aje extends i1{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class Fp extends i1{constructor(e,r,n,s,i){super(e,[],n,s),this.mark=r,this.spec=i}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=Qp.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new Fp(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&cu||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=cu&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=gc){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=gc}}slice(e,r,n){let s=Fp.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=aM(i,r,o,n)),e>0&&(i=aM(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class rm extends i1{constructor(e,r,n,s,i,o,l,c,d){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,r,n,s,i,o){let l=i.nodeViews[r.type.name],c,d=l&&l(r,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,s),f=d&&d.dom,m=d&&d.contentDOM;if(r.isText){if(!f)f=document.createTextNode(r.text);else if(f.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else f||({dom:f,contentDOM:m}=Qp.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&f.nodeName!="BR"&&(f.hasAttribute("contenteditable")||(f.contentEditable="false"),r.type.spec.draggable&&(f.draggable=!0));let p=f;return f=xQ(f,n,r),d?c=new Tje(e,r,n,s,f,m||null,p,d,i,o+1):r.isText?new VN(e,r,n,s,f,p,i):new rm(e,r,n,s,f,m||null,p,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>Yt.empty)}return e}matchesNode(e,r,n){return this.dirty==gc&&e.eq(this.node)&&Oj(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new Oje(this,o&&o.node,e);Pje(this.node,this.innerDeco,(d,f,m)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&c.syncToMarks(f==this.node.childCount?Ea.none:this.node.child(f).marks,n,e),c.placeWidget(d,e,s)},(d,f,m,p)=>{c.syncToMarks(d.marks,n,e);let g;c.findNodeMatch(d,f,m,p)||l&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(g=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,f,m,g,e)||c.updateNextNode(d,f,m,e,p,s)||c.addNode(d,f,m,e,s),s+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==op)&&(o&&this.protectLocalComposition(e,o),pQ(this.contentDOM,this.children,e),Xg&&Lje(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof en)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=Rje(this.node.content,o,n-r,s-r);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new Aje(this,i,r,s);e.input.compositionNodes.push(o),this.children=aM(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==cu||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=gc}updateOuterDeco(e){if(Oj(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=gQ(this.dom,this.nodeDOM,nM(this.outerDeco,this.node,r),nM(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function aF(t,e,r,n,s){xQ(n,e,t);let i=new rm(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class VN extends rm{constructor(e,r,n,s,i,o,l){super(e,r,n,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==cu||this.dirty!=gc&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=gc||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=gc,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new VN(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=cu)}get domAtom(){return!1}isText(e){return this.node.text==e}}class mQ extends i1{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==gc&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class Tje extends rm{constructor(e,r,n,s,i,o,l,c,d,f){super(e,r,n,s,i,o,l,d,f),this.spec=c}update(e,r,n,s){if(this.dirty==cu)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function pQ(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=sF(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(l,n);if(o instanceof Fp){let c=n?n.previousSibling:t.lastChild;pQ(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=sF(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const vy=function(t){t&&(this.nodeName=t)};vy.prototype=Object.create(null);const lp=[new vy];function nM(t,e,r){if(t.length==0)return lp;let n=r?lp[0]:new vy,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new vy(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&s.length==1&&s.push(n=new vy(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return s}function gQ(t,e,r,n){if(r==lp&&n==lp)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],l=r[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=lp[0]),s=c}Mje(s,l||lp[0],o)}return s}function Mje(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function xQ(t,e,r){return gQ(t,t,lp,nM(e,r,t.nodeType!=1))}function Oj(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function sF(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class Oje{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=Eje(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=gc,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=Fp.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==cu&&o.dom==o.contentDOM&&(o.dirty=op),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof rm){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let f=c.dom,m,p=this.isLocked(f)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=cu&&Oj(r,c.outerDeco));if(!p&&c.update(e,r,n,s))return this.destroyBetween(this.index,l),c.dom!=f&&(this.changed=!0),this.index++,!0;if(!p&&(m=this.recreateWrapper(c,e,r,n,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=op,m.updateChildren(s,o+1),m.dirty=gc),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Oj(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=rm.create(this.top,r,n,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,s,i){let o=rm.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new hQ(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof Fp;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof VN)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((Ho||xo)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new mQ(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function Eje(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(n){let d=r.children[n-1];if(d instanceof Fp)r=d,n=d.children.length;else{l=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function Dje(t,e){return t.type.side-e.type.side}function Pje(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let f=t.child(d);n(f,s,e.forChild(i,f),d),i+=f.nodeSize}return}let o=0,l=[],c=null;for(let d=0;;){let f,m;for(;o<s.length&&s[o].to==i;){let y=s[o++];y.widget&&(f?(m||(m=[f])).push(y):f=y)}if(f)if(m){m.sort(Dje);for(let y=0;y<m.length;y++)r(m[y],d,!!c)}else r(f,d,!!c);let p,g;if(c)g=-1,p=c,c=null;else if(d<t.childCount)g=d,p=t.child(d++);else break;for(let y=0;y<l.length;y++)l[y].to<=i&&l.splice(y--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let v=i+p.nodeSize;if(p.isText){let y=v;o<s.length&&s[o].from<y&&(y=s[o].from);for(let N=0;N<l.length;N++)l[N].to<y&&(y=l[N].to);y<v&&(c=p.cut(y-i),p=p.cut(0,y-i),v=y,g=-1)}else for(;o<s.length&&s[o].to<v;)o++;let w=p.isInline&&!p.isLeaf?l.filter(y=>!y.inline):l.slice();n(p,w,e.forChild(i,p),g),i=v}}function Lje(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function Rje(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<t.childCount;){let d=t.child(s++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=r){if(i>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let d=l<n?c.lastIndexOf(e,n-l-1):-1;if(d>=0&&d+e.length+l>=r)return l+d;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function aM(t,e,r,n,s){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],d=l,f=l+=c.size;d>=r||f<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,n)),s&&(i.push(s),s=void 0),f>r&&i.push(c.slice(r-d,c.size,n)))}return i}function jD(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,d;if(WN(r)){for(c=o;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&Fr.isSelectable(m)&&s.parent&&!(m.isInline&&lje(r.focusNode,r.focusOffset,s.dom))){let p=s.posBefore;d=new Fr(o==p?l:n.resolve(p))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,p=o;for(let g=0;g<r.rangeCount;g++){let v=r.getRangeAt(g);m=Math.min(m,t.docView.posFromDOM(v.startContainer,v.startOffset,1)),p=Math.max(p,t.docView.posFromDOM(v.endContainer,v.endOffset,-1))}if(m<0)return null;[c,o]=p==t.state.selection.anchor?[p,m]:[m,p],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let f=n.resolve(c);if(!d){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=ND(t,f,l,m)}return d}function bQ(t){return t.editable?t.hasFocus():vQ(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Cf(t,e=!1){let r=t.state.selection;if(yQ(t,r),!!bQ(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&xo){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&Ip(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)Fje(t);else{let{anchor:n,head:s}=r,i,o;iF&&!(r instanceof en)&&(r.$from.parent.inlineContent||(i=oF(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=oF(t,r.to))),t.docView.setSelection(n,s,t,e),iF&&(i&&lF(i),o&&lF(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&Ije(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const iF=Ho||xo&&iQ<63;function oF(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(Ho&&s&&s.contentEditable=="false")return e_(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return e_(s);if(i)return e_(i)}}function e_(t){return t.contentEditable="true",Ho&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function lF(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function Ije(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!bQ(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function Fje(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Gi(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&cl&&tm<=11&&(r.disabled=!0,r.disabled=!1)}function yQ(t,e){if(e instanceof Fr){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(cF(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else cF(t)}function cF(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function ND(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||en.between(e,r,n)}function dF(t){return t.editable&&!t.hasFocus()?!1:vQ(t)}function vQ(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function $je(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return Ip(e.node,e.offset,r.anchorNode,r.anchorOffset)}function sM(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&xn.findFrom(i,e)}function Rh(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function uF(t,e,r){let n=t.state.selection;if(n instanceof en)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return Rh(t,new en(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=sM(t.state,e);return s&&s instanceof Fr?Rh(t,s):!1}else if(!(oc&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?Fr.isSelectable(i)?Rh(t,new Fr(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):s1?Rh(t,new en(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof Fr&&n.node.isInline)return Rh(t,new en(e>0?n.$to:n.$from));{let s=sM(t.state,e);return s?Rh(t,s):!1}}}function Ej(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function wy(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function G0(t,e){return e<0?Hje(t):Bje(t)}function Hje(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(pc&&r.nodeType==1&&n<Ej(r)&&wy(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(wy(l,-1))s=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(wQ(r))break;{let l=r.previousSibling;for(;l&&wy(l,-1);)s=r.parentNode,i=Gi(l),l=l.previousSibling;if(l)r=l,n=Ej(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?iM(t,r,n):s&&iM(t,s,i)}function Bje(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Ej(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let l=r.childNodes[n];if(wy(l,1))i=r,o=++n;else break}else{if(wQ(r))break;{let l=r.nextSibling;for(;l&&wy(l,1);)i=l.parentNode,o=Gi(l)+1,l=l.nextSibling;if(l)r=l,n=0,s=Ej(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&iM(t,i,o)}function wQ(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function zje(t,e){for(;t&&e==t.childNodes.length&&!a1(t);)e=Gi(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function qje(t,e){for(;t&&!e&&!a1(t);)e=Gi(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function iM(t,e,r){if(e.nodeType!=3){let i,o;(o=zje(e,r))?(e=o,r=0):(i=qje(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(WN(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&Cf(t)},50)}function fF(t,e){let r=t.state.doc.resolve(e);if(!(xo||uje)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function hF(t,e,r){let n=t.state.selection;if(n instanceof en&&!n.empty||r.indexOf("s")>-1||oc&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=sM(t.state,e);if(o&&o instanceof Fr)return Rh(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=n instanceof Ol?xn.near(o,e):xn.findFrom(o,e);return l?Rh(t,l):!1}return!1}function mF(t,e){if(!(t.state.selection instanceof en))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function pF(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function Uje(t){if(!Ho||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;pF(t,n,"true"),setTimeout(()=>pF(t,n,"false"),20)}return!1}function Wje(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function Vje(t,e){let r=e.keyCode,n=Wje(e);if(r==8||oc&&r==72&&n=="c")return mF(t,-1)||G0(t,-1);if(r==46&&!e.shiftKey||oc&&r==68&&n=="c")return mF(t,1)||G0(t,1);if(r==13||r==27)return!0;if(r==37||oc&&r==66&&n=="c"){let s=r==37?fF(t,t.state.selection.from)=="ltr"?-1:1:-1;return uF(t,s,n)||G0(t,s)}else if(r==39||oc&&r==70&&n=="c"){let s=r==39?fF(t,t.state.selection.from)=="ltr"?1:-1:1;return uF(t,s,n)||G0(t,s)}else{if(r==38||oc&&r==80&&n=="c")return hF(t,-1,n)||G0(t,-1);if(r==40||oc&&r==78&&n=="c")return Uje(t)||hF(t,1,n)||G0(t,1);if(n==(oc?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function SD(t,e){t.someProp("transformCopied",g=>{e=g(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let g=n.firstChild;r.push(g.type.name,g.attrs!=g.type.defaultAttrs?g.attrs:null),n=g.content}let o=t.someProp("clipboardSerializer")||Qp.fromSchema(t.state.schema),l=_Q(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let d=c.firstChild,f,m=0;for(;d&&d.nodeType==1&&(f=CQ[d.nodeName.toLowerCase()]);){for(let g=f.length-1;g>=0;g--){let v=l.createElement(f[g]);for(;c.firstChild;)v.appendChild(c.firstChild);c.appendChild(v),m++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(r)}`);let p=t.someProp("clipboardTextSerializer",g=>g(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:p,slice:e}}function jQ(t,e,r,n,s){let i=s.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||i||!r);if(c){if(t.someProp("transformPastedText",p=>{e=p(e,i||n,t)}),i)return l=new mr(Yt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",p=>{l=p(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",p=>p(e,s,n,t));if(m)l=m;else{let p=s.marks(),{schema:g}=t.state,v=Qp.fromSchema(g);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(w=>{let y=o.appendChild(document.createElement("p"));w&&y.appendChild(v.serializeNode(g.text(w,p)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=Jje(r),s1&&Xje(o);let d=o&&o.querySelector("[data-pm-slice]"),f=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(f&&f[3])for(let m=+f[3];m>0;m--){let p=o.firstChild;for(;p&&p.nodeType!=1;)p=p.nextSibling;if(!p)break;o=p}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||em.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||f),context:s,ruleFromNode(p){return p.nodeName=="BR"&&!p.nextSibling&&p.parentNode&&!Gje.test(p.parentNode.nodeName)?{ignore:!0}:null}})),f)l=Qje(gF(l,+f[1],+f[2]),f[4]);else if(l=mr.maxOpen(Yje(l.content,s),!0),l.openStart||l.openEnd){let m=0,p=0;for(let g=l.content.firstChild;m<l.openStart&&!g.type.spec.isolating;m++,g=g.firstChild);for(let g=l.content.lastChild;p<l.openEnd&&!g.type.spec.isolating;p++,g=g.lastChild);l=gF(l,m,p)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const Gje=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function Yje(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),d;if(!c)return o=null;if(d=o.length&&i.length&&SQ(c,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=kQ(o[o.length-1],i.length));let f=NQ(l,c);o.push(f),s=s.matchType(f.type),i=c}}),o)return Yt.from(o)}return t}function NQ(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,Yt.from(t));return t}function SQ(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=SQ(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(Yt.from(NQ(r,t,s+1))))}}function kQ(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,kQ(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(Yt.empty,!0);return t.copy(r.append(n))}function oM(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<n-1&&(l=oM(l,e,r,n,s+1,i)),s>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(Yt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function gF(t,e,r){return e<t.openStart&&(t=new mr(oM(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new mr(oM(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const CQ={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let xF=null;function _Q(){return xF||(xF=document.implementation.createHTMLDocument("title"))}let t_=null;function Kje(t){let e=window.trustedTypes;return e?(t_||(t_=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),t_.createHTML(t)):t}function Jje(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=_Q().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&CQ[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=Kje(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function Xje(t){let e=t.querySelectorAll(xo?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function Qje(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;s=Yt.from(c.create(n[l+1],s)),i++,o++}return new mr(s,i,o)}const Bo={},zo={},Zje={touchstart:!0,touchmove:!0};class e5e{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function t5e(t){for(let e in Bo){let r=Bo[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{n5e(t,n)&&!kD(t,n)&&(t.editable||!(n.type in zo))&&r(t,n)},Zje[e]?{passive:!0}:void 0)}Ho&&t.dom.addEventListener("input",()=>null),lM(t)}function Wh(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function r5e(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function lM(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>kD(t,n))})}function kD(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function n5e(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function a5e(t,e){!kD(t,e)&&Bo[e.type]&&(t.editable||!(e.type in zo))&&Bo[e.type](t,e)}zo.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!TQ(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(hf&&xo&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Xg&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,ep(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||Vje(t,r)?r.preventDefault():Wh(t,"key")};zo.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};zo.keypress=(t,e)=>{let r=e;if(TQ(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||oc&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof en)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,s,i))&&t.dispatch(i()),r.preventDefault()}};function GN(t){return{left:t.clientX,top:t.clientY}}function s5e(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function CD(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,r,i.nodeAfter,i.before(o),s,!0):l(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ag(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function i5e(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&Fr.isSelectable(n)?(Ag(t,new Fr(r)),!0):!1}function o5e(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof Fr&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(Fr.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Ag(t,Fr.create(t.state.doc,s)),!0):!1}function l5e(t,e,r,n,s){return CD(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?o5e(t,r):i5e(t,r))}function c5e(t,e,r,n){return CD(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function d5e(t,e,r,n){return CD(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||u5e(t,r,n)}function u5e(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ag(t,en.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)Ag(t,en.create(n,l+1,l+1+o.content.size));else if(Fr.isSelectable(o))Ag(t,Fr.create(n,l));else continue;return!0}}function _D(t){return Dj(t)}const AQ=oc?"metaKey":"ctrlKey";Bo.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=_D(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&s5e(r,t.input.lastClick)&&!r[AQ]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i,button:r.button};let o=t.posAtCoords(GN(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new f5e(t,o,r,!!n)):(i=="doubleClick"?c5e:d5e)(t,o.pos,o.inside,r)?r.preventDefault():Wh(t,"pointer"))};class f5e{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[AQ],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let f=e.state.doc.resolve(r.pos);i=f.parent,o=f.depth?f.before():0}const l=s?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof Fr&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pc&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),Wh(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Cf(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(GN(e))),this.updateAllowDefault(e),this.allowDefault||!r?Wh(this.view,"pointer"):l5e(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||Ho&&this.mightDrag&&!this.mightDrag.node.isAtom||xo&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ag(this.view,xn.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):Wh(this.view,"pointer")}move(e){this.updateAllowDefault(e),Wh(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}Bo.touchstart=t=>{t.input.lastTouch=Date.now(),_D(t),Wh(t,"pointer")};Bo.touchmove=t=>{t.input.lastTouch=Date.now(),Wh(t,"pointer")};Bo.contextmenu=t=>_D(t);function TQ(t,e){return t.composing?!0:Ho&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const h5e=hf?5e3:-1;zo.compositionstart=zo.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof en&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Dj(t,!0),t.markCursor=null;else if(Dj(t,!e.selection.empty),pc&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}MQ(t,h5e)};zo.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,MQ(t,20))};function MQ(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Dj(t),e))}function OQ(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=p5e());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function m5e(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=ije(e.focusNode,e.focusOffset),n=oje(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function p5e(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Dj(t,e=!1){if(!(hf&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),OQ(t),e||t.docView&&t.docView.dirty){let r=jD(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function g5e(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const tv=cl&&tm<15||Xg&&fje<604;Bo.copy=zo.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=tv?null:r.clipboardData,o=n.content(),{dom:l,text:c}=SD(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):g5e(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function x5e(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function b5e(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?rv(t,n.value,null,s,e):rv(t,n.textContent,n.innerHTML,s,e)},50)}function rv(t,e,r,n,s){let i=jQ(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||mr.empty)))return!0;if(!i)return!1;let o=x5e(i),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function EQ(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}zo.paste=(t,e)=>{let r=e;if(t.composing&&!hf)return;let n=tv?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&rv(t,EQ(n),n.getData("text/html"),s,r)?r.preventDefault():b5e(t,r)};class DQ{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const y5e=oc?"altKey":"ctrlKey";function PQ(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[y5e]}Bo.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(GN(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof Fr?s.to-1:s.to))){if(n&&n.mightDrag)o=Fr.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=Fr.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:d,slice:f}=SD(t,l);(!r.dataTransfer.files.length||!xo||iQ>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(tv?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",tv||r.dataTransfer.setData("text/plain",d),t.dragging=new DQ(f,PQ(t,r),o)};Bo.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};zo.dragover=zo.dragenter=(t,e)=>e.preventDefault();zo.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(GN(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",v=>{o=v(o,t,!1)}):o=jQ(t,EQ(r.dataTransfer),tv?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&PQ(t,r));if(t.someProp("handleDrop",v=>v(t,r,o||mr.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?XX(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:v}=n;v?v.replace(d):d.deleteSelection()}let f=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,p=d.doc;if(m?d.replaceRangeWith(f,f,o.content.firstChild):d.replaceRange(f,f,o),d.doc.eq(p))return;let g=d.doc.resolve(f);if(m&&Fr.isSelectable(o.content.firstChild)&&g.nodeAfter&&g.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new Fr(g));else{let v=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((w,y,N,k)=>v=k),d.setSelection(ND(t,g,d.doc.resolve(v)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};Bo.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Cf(t)},20))};Bo.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};Bo.beforeinput=(t,e)=>{if(xo&&hf&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,ep(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in zo)Bo[t]=zo[t];function nv(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Pj{constructor(e,r){this.toDOM=e,this.spec=r||kp,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new Po(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Pj&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&nv(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class nm{constructor(e,r){this.attrs=e,this.spec=r||kp}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Po(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof nm&&nv(this.attrs,e.attrs)&&nv(this.spec,e.spec)}static is(e){return e.type instanceof nm}destroy(){}}class AD{constructor(e,r){this.attrs=e,this.spec=r||kp}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Po(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof AD&&nv(this.attrs,e.attrs)&&nv(this.spec,e.spec)}destroy(){}}class Po{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Po(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Po(e,e,new Pj(r,n))}static inline(e,r,n,s){return new Po(e,r,new nm(n,s))}static node(e,r,n,s){return new Po(e,r,new AD(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof nm}get widget(){return this.type instanceof Pj}}const ng=[],kp={};class fs{constructor(e,r){this.local=e.length?e:ng,this.children=r.length?r:ng}static create(e,r){return r.length?Lj(r,e,0,kp):fo}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,s+l,i)}}map(e,r,n){return this==fo||e.maps.length==0?this:this.mapInner(e,r,0,0,n||kp)}mapInner(e,r,n,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,s);c&&c.type.valid(r,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?v5e(this.children,o||[],e,r,n,s,i):o?new fs(o.sort(Cp),ng):fo}add(e,r){return r.length?this==fo?fs.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((l,c)=>{let d=c+n,f;if(f=RQ(r,l,d)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,f,d+1):s.splice(i,0,c,c+l.nodeSize,Lj(f,l,d+1,kp)),i+=3}});let o=LQ(i?IQ(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new fs(o.length?this.local.concat(o).sort(Cp):this.local,s||this.children)}remove(e){return e.length==0||this==fo?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+r,c=n[i+1]+r;for(let f=0,m;f<e.length;f++)(m=e[f])&&m.from>l&&m.to<c&&(e[f]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let d=n[i+2].removeInner(o,l+1);d!=fo?n[i+2]=d:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new fs(s,n):fo}forChild(e,r){if(this==fo)return this;if(r.isLeaf)return fs.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof nm){let d=Math.max(i,c.from)-i,f=Math.min(o,c.to)-i;d<f&&(s||(s=[])).push(c.copy(d,f))}}if(s){let l=new fs(s.sort(Cp),ng);return n?new Hh([l,n]):l}return n||fo}eq(e){if(this==e)return!0;if(!(e instanceof fs)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return TD(this.localsInner(e))}localsInner(e){if(this==fo)return ng;if(e.inlineContent||!this.local.some(nm.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof nm||r.push(this.local[n]);return r}forEachSet(e){e(this)}}fs.empty=new fs([],[]);fs.removeOverlap=TD;const fo=fs.empty;class Hh{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,kp));return Hh.from(n)}forChild(e,r){if(r.isLeaf)return fs.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=fo&&(i instanceof Hh?n=n.concat(i.members):n.push(i))}return Hh.from(n)}eq(e){if(!(e instanceof Hh)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?TD(n?r:r.sort(Cp)):ng}static from(e){switch(e.length){case 0:return fo;case 1:return e[0];default:return new Hh(e.every(r=>r instanceof fs)?e:e.reduce((r,n)=>r.concat(n instanceof fs?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function v5e(t,e,r,n,s,i,o){let l=t.slice();for(let d=0,f=i;d<r.maps.length;d++){let m=0;r.maps[d].forEach((p,g,v,w)=>{let y=w-v-(g-p);for(let N=0;N<l.length;N+=3){let k=l[N+1];if(k<0||p>k+f-m)continue;let S=l[N]+f-m;g>=S?l[N+1]=p<=S?-2:-1:p>=f&&y&&(l[N]+=y,l[N+1]+=y)}m+=y}),f=r.maps[d].map(f,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let f=r.map(t[d]+i),m=f-s;if(m<0||m>=n.content.size){c=!0;continue}let p=r.map(t[d+1]+i,-1),g=p-s,{index:v,offset:w}=n.content.findIndex(m),y=n.maybeChild(v);if(y&&w==m&&w+y.nodeSize==g){let N=l[d+2].mapInner(r,y,f+1,t[d]+i+1,o);N!=fo?(l[d]=m,l[d+1]=g,l[d+2]=N):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=w5e(l,t,e,r,s,i,o),f=Lj(d,n,0,o);e=f.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,p=0;m<f.children.length;m+=3){let g=f.children[m];for(;p<l.length&&l[p]<g;)p+=3;l.splice(p,0,f.children[m],f.children[m+1],f.children[m+2])}}return new fs(e.sort(Cp),l)}function LQ(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new Po(s.from+e,s.to+e,s.type))}return r}function w5e(t,e,r,n,s,i,o){function l(c,d){for(let f=0;f<c.local.length;f++){let m=c.local[f].map(n,s,d);m?r.push(m):o.onRemove&&o.onRemove(c.local[f].spec)}for(let f=0;f<c.children.length;f+=3)l(c.children[f+2],c.children[f]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return r}function RQ(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function IQ(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Lj(t,e,r,n){let s=[],i=!1;e.forEach((l,c)=>{let d=RQ(t,l,c+r);if(d){i=!0;let f=Lj(d,l,r+c+1,n);f!=fo&&s.push(c,c+l.nodeSize,f)}});let o=LQ(i?IQ(t):t,-r).sort(Cp);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new fs(o,s):fo}function Cp(t,e){return t.from-e.from||t.to-e.to}function TD(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),bF(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),bF(e,s,n.copy(i.from,n.to)));break}}}return e}function bF(t,e,r){for(;e<t.length&&Cp(r,t[e])>0;)e++;t.splice(e,0,r)}function r_(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=fo&&e.push(n)}),t.cursorWrapper&&e.push(fs.create(t.state.doc,[t.cursorWrapper.deco])),Hh.from(e)}const j5e={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},N5e=cl&&tm<=11;class S5e{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class k5e{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new S5e,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);cl&&tm<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),N5e&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,j5e)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(dF(this.view)){if(this.suppressingSelectionUpdates)return Cf(this.view);if(cl&&tm<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&Ip(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Jg(i))r.add(i);for(let i=e.anchorNode;i;i=Jg(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&dF(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let f=0;f<r.length;f++){let m=this.registerMutation(r[f],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(pc&&c.length){let f=c.filter(m=>m.nodeName=="BR");if(f.length==2){let[m,p]=f;m.parentNode&&m.parentNode.parentNode==p.parentNode?p.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let p of f){let g=p.parentNode;g&&g.nodeName=="LI"&&(!m||A5e(e,m)!=g)&&p.remove()}}}let d=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&WN(n)&&(d=jD(e))&&d.eq(xn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Cf(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),C5e(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||Cf(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let f=0;f<e.addedNodes.length;f++){let m=e.addedNodes[f];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(cl&&tm<=11&&e.addedNodes.length)for(let f=0;f<e.addedNodes.length;f++){let{previousSibling:m,nextSibling:p}=e.addedNodes[f];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!p||Array.prototype.indexOf.call(e.addedNodes,p)<0)&&(i=p)}let o=s&&s.parentNode==e.target?Gi(s)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?Gi(i):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let yF=new WeakMap,vF=!1;function C5e(t){if(!yF.has(t)&&(yF.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pc,vF)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),vF=!0}}function wF(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return Ip(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function _5e(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return wF(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?wF(t,r):null}function A5e(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function T5e(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,f=c.anchorNode;if(f&&t.dom.contains(f.nodeType==1?f:f.parentNode)&&(d=[{node:f,offset:c.anchorOffset}],WN(c)||d.push({node:c.focusNode,offset:c.focusOffset})),xo&&t.input.lastKeyCode===8)for(let y=i;y>s;y--){let N=n.childNodes[y-1],k=N.pmViewDesc;if(N.nodeName=="BR"&&!k){i=y;break}if(!k||k.size)break}let m=t.state.doc,p=t.someProp("domParser")||em.fromSchema(t.state.schema),g=m.resolve(o),v=null,w=p.parse(n,{topNode:g.parent,topMatch:g.parent.contentMatchAt(g.index()),topOpen:!0,from:s,to:i,preserveWhitespace:g.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:M5e,context:g});if(d&&d[0].pos!=null){let y=d[0].pos,N=d[1]&&d[1].pos;N==null&&(N=y),v={anchor:y+o,head:N+o}}return{doc:w,sel:v,from:o,to:l}}function M5e(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(Ho&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||Ho&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const O5e=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function E5e(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let P=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,I=jD(t,P);if(I&&!t.state.selection.eq(I)){if(xo&&hf&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",F=>F(t,ep(13,"Enter"))))return;let R=t.state.tr.setSelection(I);P=="pointer"?R.setMeta("pointer",!0):P=="key"&&R.scrollIntoView(),i&&R.setMeta("composition",i),t.dispatch(R)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,d=T5e(t,e,r),f=t.state.doc,m=f.slice(d.from,d.to),p,g;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(p=t.state.selection.to,g="end"):(p=t.state.selection.from,g="start"),t.input.lastKeyCode=null;let v=L5e(m.content,d.doc.content,d.from,p,g);if(v&&t.input.domChangeCount++,(Xg&&t.input.lastIOSEnter>Date.now()-225||hf)&&s.some(P=>P.nodeType==1&&!O5e.test(P.nodeName))&&(!v||v.endA>=v.endB)&&t.someProp("handleKeyDown",P=>P(t,ep(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!v)if(n&&c instanceof en&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))v={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let P=jF(t,t.state.doc,d.sel);if(P&&!P.eq(t.state.selection)){let I=t.state.tr.setSelection(P);i&&I.setMeta("composition",i),t.dispatch(I)}}return}t.state.selection.from<t.state.selection.to&&v.start==v.endB&&t.state.selection instanceof en&&(v.start>t.state.selection.from&&v.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?v.start=t.state.selection.from:v.endA<t.state.selection.to&&v.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(v.endB+=t.state.selection.to-v.endA,v.endA=t.state.selection.to)),cl&&tm<=11&&v.endB==v.start+1&&v.endA==v.start&&v.start>d.from&&d.doc.textBetween(v.start-d.from-1,v.start-d.from+1)=="  "&&(v.start--,v.endA--,v.endB--);let w=d.doc.resolveNoCache(v.start-d.from),y=d.doc.resolveNoCache(v.endB-d.from),N=f.resolve(v.start),k=w.sameParent(y)&&w.parent.inlineContent&&N.end()>=v.endA;if((Xg&&t.input.lastIOSEnter>Date.now()-225&&(!k||s.some(P=>P.nodeName=="DIV"||P.nodeName=="P"))||!k&&w.pos<d.doc.content.size&&(!w.sameParent(y)||!w.parent.inlineContent)&&w.pos<y.pos&&!/\S/.test(d.doc.textBetween(w.pos,y.pos,"","")))&&t.someProp("handleKeyDown",P=>P(t,ep(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>v.start&&P5e(f,v.start,v.endA,w,y)&&t.someProp("handleKeyDown",P=>P(t,ep(8,"Backspace")))){hf&&xo&&t.domObserver.suppressSelectionUpdates();return}xo&&v.endB==v.start&&(t.input.lastChromeDelete=Date.now()),hf&&!k&&w.start()!=y.start()&&y.parentOffset==0&&w.depth==y.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==v.endA&&(v.endB-=2,y=d.doc.resolveNoCache(v.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(P){return P(t,ep(13,"Enter"))})},20));let S=v.start,A=v.endA,_=P=>{let I=P||t.state.tr.replace(S,A,d.doc.slice(v.start-d.from,v.endB-d.from));if(d.sel){let R=jF(t,I.doc,d.sel);R&&!(xo&&t.composing&&R.empty&&(v.start!=v.endB||t.input.lastChromeDelete<Date.now()-100)&&(R.head==S||R.head==I.mapping.map(A)-1)||cl&&R.empty&&R.head==S)&&I.setSelection(R)}return i&&I.setMeta("composition",i),I.scrollIntoView()},O;if(k){if(w.pos==y.pos){cl&&tm<=11&&w.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Cf(t),20));let P=_(t.state.tr.delete(S,A)),I=f.resolve(v.start).marksAcross(f.resolve(v.endA));I&&P.ensureMarks(I),t.dispatch(P)}else if(v.endA==v.endB&&(O=D5e(w.parent.content.cut(w.parentOffset,y.parentOffset),N.parent.content.cut(N.parentOffset,v.endA-N.start())))){let P=_(t.state.tr);O.type=="add"?P.addMark(S,A,O.mark):P.removeMark(S,A,O.mark),t.dispatch(P)}else if(w.parent.child(w.index()).isText&&w.index()==y.index()-(y.textOffset?0:1)){let P=w.parent.textBetween(w.parentOffset,y.parentOffset),I=()=>_(t.state.tr.insertText(P,S,A));t.someProp("handleTextInput",R=>R(t,S,A,P,I))||t.dispatch(I())}}else t.dispatch(_())}function jF(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:ND(t,e.resolve(r.anchor),e.resolve(r.head))}function D5e(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,l,c;for(let f=0;f<n.length;f++)s=n[f].removeFromSet(s);for(let f=0;f<r.length;f++)i=r[f].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=f=>f.mark(l.addToSet(f.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=f=>f.mark(l.removeFromSet(f.marks));else return null;let d=[];for(let f=0;f<e.childCount;f++)d.push(c(e.child(f)));if(Yt.from(d).eq(t))return{mark:l,type:o}}function P5e(t,e,r,n,s){if(r-e<=s.pos-n.pos||n_(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(n_(i,!0,!0));return!o.parent.isTextblock||o.pos>r||n_(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function n_(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function L5e(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));n-=o+c-i}if(o<i&&t.size<e.size){let c=n<=i&&n>=o?i-n:0;i-=c,i&&i<e.size&&NF(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=n<=i&&n>=l?i-n:0;i-=c,i&&i<t.size&&NF(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function NF(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class FQ{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new e5e,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(AF),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=CF(this),kF(this),this.nodeViews=_F(this),this.docView=aF(this.state.doc,SF(this),r_(this),this.dom,this),this.domObserver=new k5e(this,(n,s,i,o)=>E5e(this,n,s,i,o)),this.domObserver.start(),t5e(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&lM(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(AF),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(OQ(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let g=_F(this);I5e(g,this.nodeViews)&&(this.nodeViews=g,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&lM(this),this.editable=CF(this),kF(this);let c=r_(this),d=SF(this),f=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,d,c);(m||!e.selection.eq(s.selection))&&(o=!0);let p=f=="preserve"&&o&&this.dom.style.overflowAnchor==null&&pje(this);if(o){this.domObserver.stop();let g=m&&(cl||xo)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&R5e(s.selection,e.selection);if(m){let v=xo?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=m5e(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=aF(e.doc,d,c,this.dom,this)),v&&!this.trackWrites&&(g=!0)}g||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&$je(this))?Cf(this,g):(yQ(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),f=="reset"?this.dom.scrollTop=0:f=="to selection"?this.scrollToSelection():p&&gje(p)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof Fr){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&Q9(this,r.getBoundingClientRect(),e)}else Q9(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new DQ(e.slice,e.move,s<0?void 0:Fr.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=r?r(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=r?r(l):l))return s}}hasFocus(){if(cl){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&xje(this.dom),Cf(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return jje(this,e)}coordsAtPos(e,r=1){return uQ(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return _je(this,r||this.state,e)}pasteHTML(e,r){return rv(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return rv(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return SD(this,e)}destroy(){this.docView&&(r5e(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],r_(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,aje())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return a5e(this,e)}domSelectionRange(){let e=this.domSelection();return e?Ho&&this.root.nodeType===11&&cje(this.dom.ownerDocument)==this.dom&&_5e(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}FQ.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function SF(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Po.node(0,t.state.doc.content.size,e)]}function kF(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Po.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function CF(t){return!t.someProp("editable",e=>e(t.state)===!1)}function R5e(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function _F(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function I5e(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function AF(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var fm={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Rj={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},F5e=typeof navigator<"u"&&/Mac/.test(navigator.platform),$5e=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Yi=0;Yi<10;Yi++)fm[48+Yi]=fm[96+Yi]=String(Yi);for(var Yi=1;Yi<=24;Yi++)fm[Yi+111]="F"+Yi;for(var Yi=65;Yi<=90;Yi++)fm[Yi]=String.fromCharCode(Yi+32),Rj[Yi]=String.fromCharCode(Yi);for(var a_ in fm)Rj.hasOwnProperty(a_)||(Rj[a_]=fm[a_]);function H5e(t){var e=F5e&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||$5e&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Rj:fm)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const B5e=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),z5e=typeof navigator<"u"&&/Win/.test(navigator.platform);function q5e(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))B5e?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function U5e(t){let e=Object.create(null);for(let r in t)e[q5e(r)]=t[r];return e}function s_(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function W5e(t){return new Ds({props:{handleKeyDown:$Q(t)}})}function $Q(t){let e=U5e(t);return function(r,n){let s=H5e(n),i,o=e[s_(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[s_(s,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(z5e&&n.ctrlKey&&n.altKey)&&(i=fm[n.keyCode])&&i!=s){let l=e[s_(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const MD=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function HQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const BQ=(t,e,r)=>{let n=HQ(t,r);if(!n)return!1;let s=OD(n);if(!s){let o=n.blockRange(),l=o&&Px(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(JQ(t,s,e,-1))return!0;if(n.parent.content.size==0&&(Qg(i,"end")||Fr.isSelectable(i)))for(let o=n.depth;;o--){let l=qN(t.doc,n.before(o),n.after(o),mr.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(Qg(i,"end")?xn.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):Fr.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},V5e=(t,e,r)=>{let n=HQ(t,r);if(!n)return!1;let s=OD(n);return s?zQ(t,s,e):!1},G5e=(t,e,r)=>{let n=UQ(t,r);if(!n)return!1;let s=ED(n);return s?zQ(t,s,e):!1};function zQ(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let f=s.lastChild;if(!f)return!1;s=f}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let f=l.firstChild;if(!f)return!1;l=f}let d=qN(t.doc,i,c,mr.empty);if(!d||d.from!=i||d instanceof Oi&&d.slice.size>=c-i)return!1;if(r){let f=t.tr.step(d);f.setSelection(en.create(f.doc,i)),r(f.scrollIntoView())}return!0}function Qg(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const qQ=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=OD(n)}let o=i&&i.nodeBefore;return!o||!Fr.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Fr.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function OD(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function UQ(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const WQ=(t,e,r)=>{let n=UQ(t,r);if(!n)return!1;let s=ED(n);if(!s)return!1;let i=s.nodeAfter;if(JQ(t,s,e,1))return!0;if(n.parent.content.size==0&&(Qg(i,"start")||Fr.isSelectable(i))){let o=qN(t.doc,n.before(),n.after(),mr.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(Qg(i,"start")?xn.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):Fr.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},VQ=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=ED(n)}let o=i&&i.nodeAfter;return!o||!Fr.isSelectable(o)?!1:(e&&e(t.tr.setSelection(Fr.create(t.doc,i.pos)).scrollIntoView()),!0)};function ED(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const Y5e=(t,e)=>{let r=t.selection,n=r instanceof Fr,s;if(n){if(r.node.isTextblock||!xm(t.doc,r.from))return!1;s=r.from}else if(s=zN(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(Fr.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},K5e=(t,e)=>{let r=t.selection,n;if(r instanceof Fr){if(r.node.isTextblock||!xm(t.doc,r.to))return!1;n=r.to}else if(n=zN(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},J5e=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&Px(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},GQ=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function DD(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const X5e=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=DD(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(xn.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},YQ=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Ol||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=DD(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(en.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},KQ=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(kf(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Px(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function Q5e(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof Fr&&e.selection.node.isBlock)return!n.parentOffset||!kf(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,c=!1,d=!1;for(let g=n.depth;;g--)if(n.node(g).isBlock){c=n.end(g)==n.pos+(n.depth-g),d=n.start(g)==n.pos-(n.depth-g),l=DD(n.node(g-1).contentMatchAt(n.indexAfter(g-1))),i.unshift(c&&l?{type:l}:null),o=g;break}else{if(g==1)return!1;i.unshift(null)}let f=e.tr;(e.selection instanceof en||e.selection instanceof Ol)&&f.deleteSelection();let m=f.mapping.map(n.pos),p=kf(f.doc,m,i.length,i);if(p||(i[0]=l?{type:l}:null,p=kf(f.doc,m,i.length,i)),!p)return!1;if(f.split(m,i.length,i),!c&&d&&n.node(o).type!=l){let g=f.mapping.map(n.before(o)),v=f.doc.resolve(g);l&&n.node(o-1).canReplaceWith(v.index(),v.index()+1,l)&&f.setNodeMarkup(f.mapping.map(n.before(o)),l)}return r&&r(f.scrollIntoView()),!0}}const Z5e=Q5e(),eNe=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(Fr.create(t.doc,s))),!0)};function tNe(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||xm(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function JQ(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&tNe(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(r){let g=e.pos+i.nodeSize,v=Yt.empty;for(let N=o.length-1;N>=0;N--)v=Yt.from(o[N].create(null,v));v=Yt.from(s.copy(v));let w=t.tr.step(new Di(e.pos-1,g,e.pos,g,new mr(v,1,0),o.length,!0)),y=w.doc.resolve(g+2*o.length);y.nodeAfter&&y.nodeAfter.type==s.type&&xm(w.doc,y.pos)&&w.join(y.pos),r(w.scrollIntoView())}return!0}let f=i.type.spec.isolating||n>0&&c?null:xn.findFrom(e,1),m=f&&f.$from.blockRange(f.$to),p=m&&Px(m);if(p!=null&&p>=e.depth)return r&&r(t.tr.lift(m,p).scrollIntoView()),!0;if(d&&Qg(i,"start",!0)&&Qg(s,"end")){let g=s,v=[];for(;v.push(g),!g.isTextblock;)g=g.lastChild;let w=i,y=1;for(;!w.isTextblock;w=w.firstChild)y++;if(g.canReplace(g.childCount,g.childCount,w.content)){if(r){let N=Yt.empty;for(let S=v.length-1;S>=0;S--)N=Yt.from(v[S].copy(N));let k=t.tr.step(new Di(e.pos-v.length,e.pos+i.nodeSize,e.pos+y,e.pos+i.nodeSize-y,new mr(N,v.length,0),0,!0));r(k.scrollIntoView())}return!0}}return!1}function XQ(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(en.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const rNe=XQ(-1),nNe=XQ(1);function aNe(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),l=o&&yD(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function TF(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(o,l,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let f=r.doc.resolve(d),m=f.index();s=f.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];i.setBlockType(l,c,t,e)}n(i.scrollIntoView())}return!0}}function PD(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}PD(MD,BQ,qQ);PD(MD,WQ,VQ);PD(GQ,YQ,KQ,Z5e);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function sNe(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i);if(!o)return!1;let l=n?r.tr:null;return iNe(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function iNe(t,e,r,n=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Tj(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Tj(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=yD(i,r,n,e);return l?(t&&oNe(t,e,l,s,r),!0):!1}function oNe(t,e,r,n,s){let i=Yt.empty;for(let f=r.length-1;f>=0;f--)i=Yt.from(r[f].type.create(r[f].attrs,i));t.step(new Di(e.start-(n?2:0),e.end,e.start,e.end,new mr(i,0,0),r.length,!0));let o=0;for(let f=0;f<r.length;f++)r[f].type==s&&(o=f+1);let l=r.length-o,c=e.start+r.length-(n?2:0),d=e.parent;for(let f=e.startIndex,m=e.endIndex,p=!0;f<m;f++,p=!1)!p&&kf(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(f).nodeSize;return t}function lNe(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?cNe(e,r,t,i):dNe(e,r,i):!0:!1}}function cNe(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new Di(i-1,o,i,o,new mr(Yt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Tj(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const l=Px(n);if(l==null)return!1;s.lift(n,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return xm(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function dNe(t,e,r){let n=t.tr,s=r.parent;for(let g=r.end,v=r.endIndex-1,w=r.startIndex;v>w;v--)g-=s.child(v).nodeSize,n.delete(g-1,g+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==s.childCount,d=i.node(-1),f=i.index(-1);if(!d.canReplace(f+(l?0:1),f+1,o.content.append(c?Yt.empty:Yt.from(s))))return!1;let m=i.pos,p=m+o.nodeSize;return n.step(new Di(m-(l?1:0),p+(c?1:0),m+1,p-1,new mr((l?Yt.empty:Yt.from(s.copy(Yt.empty))).append(c?Yt.empty:Yt.from(s.copy(Yt.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function uNe(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let d=c.lastChild&&c.lastChild.type==l.type,f=Yt.from(d?t.create():null),m=new mr(Yt.from(t.create(null,Yt.from(l.type.create(null,f)))),d?3:1,0),p=i.start,g=i.end;r(e.tr.step(new Di(p-(d?3:1),g,p,g,m,1,!0)).scrollIntoView())}return!0}}var fNe=Object.defineProperty,QQ=(t,e)=>{for(var r in e)fNe(t,r,{get:e[r],enumerable:!0})};function YN(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}var KN=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const f=l(...d)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),f}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o=[],l=!!t,c=t||s.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),f={...Object.fromEntries(Object.entries(r).map(([m,p])=>[m,(...v)=>{const w=this.buildProps(c,e),y=p(...v)(w);return o.push(y),f}])),run:d};return f}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,i=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o={tr:t,editor:n,view:i,state:YN({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(o)]))}};return o}},hNe=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}once(e,r){const n=(...s)=>{this.off(e,n),r.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function ZQ(t,e){const r=new rQ(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}var eZ=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&eZ(n)}return t};function Lw(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return eZ(r)}function av(t,e,r){if(t instanceof Zh||t instanceof Yt)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return Yt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),av("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,l="";const c=new HX({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?em.fromSchema(c).parseSlice(Lw(t),r.parseOptions):em.fromSchema(c).parse(Lw(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=em.fromSchema(e);return r.slice?i.parseSlice(Lw(t),r.parseOptions).content:i.parse(Lw(t),r.parseOptions)}return av("",e,r)}function cM(t,e,r={},n={}){return av(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function mNe(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function pNe(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,i)=>{r(s)&&n.push({node:s,pos:i})}),n}function gNe(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function JN(t){return e=>gNe(e.$from,t)}function Lr(t,e,r){return t.config[e]===void 0&&t.parent?Lr(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Lr(t.parent,e,r):null}):t.config[e]}function LD(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Lr(e,"addExtensions",r);return n?[e,...LD(n())]:e}).flat(10)}function RD(t,e){const r=Qp.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function tZ(t){return typeof t=="function"}function ha(t,e=void 0,...r){return tZ(t)?e?t.bind(e)(...r):t(...r):t}function xNe(t={}){return Object.keys(t).length===0&&t.constructor===Object}function sv(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function rZ(t){const e=[],{nodeExtensions:r,markExtensions:n}=sv(t),s=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Lr(o,"addGlobalAttributes",l);if(!c)return;c().forEach(f=>{f.types.forEach(m=>{Object.entries(f.attributes).forEach(([p,g])=>{e.push({type:m,name:p,attribute:{...i,...g}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Lr(o,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([f,m])=>{const p={...i,...m};typeof(p==null?void 0:p.default)=="function"&&(p.default=p.default()),p!=null&&p.isRequired&&(p==null?void 0:p.default)===void 0&&delete p.default,e.push({type:o.name,name:f,attribute:p})})}),e}function Es(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=n[s]?n[s].split(" "):[],d=l.filter(f=>!c.includes(f));n[s]=[...c,...d].join(" ")}else if(s==="style"){const l=i?i.split(";").map(f=>f.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(f=>f.trim()).filter(Boolean):[],d=new Map;c.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());d.set(m,p)}),l.forEach(f=>{const[m,p]=f.split(":").map(g=>g.trim());d.set(m,p)}),n[s]=Array.from(d.entries()).map(([f,m])=>`${f}: ${m}`).join("; ")}else n[s]=i}),n},{})}function Ij(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Es(r,n),{})}function bNe(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function MF(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):bNe(r.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...s}}}}function OF(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&xNe(r)?!1:r!=null))}function yNe(t,e){var r;const n=rZ(t),{nodeExtensions:s,markExtensions:i}=sv(t),o=(r=s.find(d=>Lr(d,"topNode")))==null?void 0:r.name,l=Object.fromEntries(s.map(d=>{const f=n.filter(N=>N.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((N,k)=>{const S=Lr(k,"extendNodeSchema",m);return{...N,...S?S(d):{}}},{}),g=OF({...p,content:ha(Lr(d,"content",m)),marks:ha(Lr(d,"marks",m)),group:ha(Lr(d,"group",m)),inline:ha(Lr(d,"inline",m)),atom:ha(Lr(d,"atom",m)),selectable:ha(Lr(d,"selectable",m)),draggable:ha(Lr(d,"draggable",m)),code:ha(Lr(d,"code",m)),whitespace:ha(Lr(d,"whitespace",m)),linebreakReplacement:ha(Lr(d,"linebreakReplacement",m)),defining:ha(Lr(d,"defining",m)),isolating:ha(Lr(d,"isolating",m)),attrs:Object.fromEntries(f.map(N=>{var k,S;return[N.name,{default:(k=N==null?void 0:N.attribute)==null?void 0:k.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),v=ha(Lr(d,"parseHTML",m));v&&(g.parseDOM=v.map(N=>MF(N,f)));const w=Lr(d,"renderHTML",m);w&&(g.toDOM=N=>w({node:N,HTMLAttributes:Ij(N,f)}));const y=Lr(d,"renderText",m);return y&&(g.toText=y),[d.name,g]})),c=Object.fromEntries(i.map(d=>{const f=n.filter(y=>y.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},p=t.reduce((y,N)=>{const k=Lr(N,"extendMarkSchema",m);return{...y,...k?k(d):{}}},{}),g=OF({...p,inclusive:ha(Lr(d,"inclusive",m)),excludes:ha(Lr(d,"excludes",m)),group:ha(Lr(d,"group",m)),spanning:ha(Lr(d,"spanning",m)),code:ha(Lr(d,"code",m)),attrs:Object.fromEntries(f.map(y=>{var N,k;return[y.name,{default:(N=y==null?void 0:y.attribute)==null?void 0:N.default,validate:(k=y==null?void 0:y.attribute)==null?void 0:k.validate}]}))}),v=ha(Lr(d,"parseHTML",m));v&&(g.parseDOM=v.map(y=>MF(y,f)));const w=Lr(d,"renderHTML",m);return w&&(g.toDOM=y=>w({mark:y,HTMLAttributes:Ij(y,f)})),[d.name,g]}));return new HX({topNode:o,nodes:l,marks:c})}function vNe(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function ID(t){return t.sort((r,n)=>{const s=Lr(r,"priority")||100,i=Lr(n,"priority")||100;return s>i?-1:s<i?1:0})}function nZ(t){const e=ID(LD(t)),r=vNe(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function aZ(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,s,(c,d,f,m)=>{var p;c.isBlock&&d>n&&(l+=i);const g=o==null?void 0:o[c.type.name];if(g)return f&&(l+=g({node:c,pos:d,parent:f,index:m,range:e})),!1;c.isText&&(l+=(p=c==null?void 0:c.text)==null?void 0:p.slice(Math.max(n,d)-d,s-d))}),l}function wNe(t,e){const r={from:0,to:t.content.size};return aZ(t,r,e)}function sZ(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function zf(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function iZ(t,e){const r=zf(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function ai(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function jNe(t,e){const r=ai(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function XN(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function oZ(t,e){const r=XN(typeof e=="string"?e:e.name,t.schema);return r==="node"?jNe(t,e):r==="mark"?iZ(t,e):{}}function NNe(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function SNe(t){const e=NNe(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,o)=>o!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function lZ(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),f=e.slice(i).map(c),m=e.invert().map(d,-1),p=e.invert().map(f);n.push({oldRange:{from:m,to:p},newRange:{from:d,to:f}})})}),SNe(n)}function FD(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Fj(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:FD(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function cZ(t,e,r={}){return t.find(n=>n.type===e&&Fj(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function EF(t,e,r={}){return!!cZ(t,e,r)}function $D(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(f=>f.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(f=>f.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!cZ([...s.node.marks],e,r)))return;let o=s.index,l=t.start()+s.offset,c=o+1,d=l+s.node.nodeSize;for(;o>0&&EF([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&EF([...t.parent.child(c).marks],e,r);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function HD(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=$D(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}var kNe=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let i=n,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function i_(t,e){return e.nodes[t]||e.marks[t]||null}function $2(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}var CNe=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,l)=>{var c,d;const f=((d=(c=s.type.spec).toText)==null?void 0:d.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?f:f.slice(0,Math.max(0,n-i))}),r};function dM(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?zf(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Fj(m.attrs,r,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:m,$to:p})=>{const g=m.pos,v=p.pos;t.doc.nodesBetween(g,v,(w,y)=>{if(!w.isText&&!w.marks.length)return;const N=Math.max(g,y),k=Math.min(v,y+w.nodeSize),S=k-N;o+=S,l.push(...w.marks.map(A=>({mark:A,from:N,to:k})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Fj(m.mark.attrs,r,{strict:!1})).reduce((m,p)=>m+p.to-p.from,0),d=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,p)=>m+p.to-p.from,0);return(c>0?c+d:c)>=o}function hm(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?ai(e,t.schema):null,l=[];t.doc.nodesBetween(n,s,(m,p)=>{if(m.isText)return;const g=Math.max(n,p),v=Math.min(s,p+m.nodeSize);l.push({node:m,from:g,to:v})});const c=s-n,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Fj(m.node.attrs,r,{strict:!1}));return i?!!d.length:d.reduce((m,p)=>m+p.to-p.from,0)>=c}function _Ne(t,e,r={}){if(!e)return hm(t,null,r)||dM(t,null,r);const n=XN(e,t.schema);return n==="node"?hm(t,e,r):n==="mark"?dM(t,e,r):!1}var ANe=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const i=JN(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},TNe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function DF(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function PF(t,e){const{nodeExtensions:r}=sv(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=ha(Lr(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function QN(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(QN(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function dZ(t){return t instanceof Fr}function uZ(t){return t instanceof en}function cp(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function fZ(t,e=null){if(!e)return null;const r=xn.atStart(t),n=xn.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?en.create(t,cp(0,s,i),cp(t.content.size,s,i)):en.create(t,cp(e,s,i),cp(e,s,i))}function MNe(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof Oi||s instanceof Di))return;const i=t.mapping.maps[n];let o=0;i.forEach((l,c,d,f)=>{o===0&&(o=f)}),t.setSelection(xn.near(t.doc.resolve(o),r))}var ZN=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},ONe=(t,e)=>{if(FD(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function Rw(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(p=>p.type.spec.code))return!1;let f=!1;const m=CNe(d)+i;return o.forEach(p=>{if(f)return;const g=ONe(m,p.find);if(!g)return;const v=c.state.tr,w=YN({state:c.state,transaction:v}),y={from:n-(g[0].length-i.length),to:s},{commands:N,chain:k,can:S}=new KN({editor:r,state:w});p.handler({state:w,range:y,match:g,commands:N,chain:k,can:S})===null||!v.steps.length||(p.undoable&&v.setMeta(l,{transform:v,from:n,to:s,text:i}),c.dispatch(v),f=!0)}),f}function ENe(t){const{editor:e,rules:r}=t,n=new Ds({state:{init(){return null},apply(s,i,o){const l=s.getMeta(n);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:f}=c;typeof f=="string"?f=f:f=RD(Yt.from(f),o.schema);const{from:m}=c,p=m+f.length;Rw({editor:e,from:m,to:p,text:f,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return Rw({editor:e,from:i,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&Rw({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?Rw({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function DNe(t){return Object.prototype.toString.call(t).slice(8,-1)}function Iw(t){return DNe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function hZ(t,e){const r={...t};return Iw(t)&&Iw(e)&&Object.keys(e).forEach(n=>{Iw(e[n])&&Iw(t[n])?r[n]=hZ(t[n],e[n]):r[n]=e[n]}),r}var BD=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...ha(Lr(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...ha(Lr(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>hZ(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},qf=class mZ extends BD{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new mZ(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function PNe(t){return typeof t=="number"}var LNe=class{constructor(t){this.find=t.find,this.handler=t.handler}},RNe=(t,e,r)=>{if(FD(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function INe(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:d,can:f}=new KN({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,s,(g,v)=>{var w,y,N,k,S;if((y=(w=g.type)==null?void 0:w.spec)!=null&&y.code||!(g.isText||g.isTextblock||g.isInline))return;const A=(S=(k=(N=g.content)==null?void 0:N.size)!=null?k:g.nodeSize)!=null?S:0,_=Math.max(n,v),O=Math.min(s,v+A);if(_>=O)return;const P=g.isText?g.text||"":g.textBetween(_-v,O-v,void 0,"￼");RNe(P,i.find,o).forEach(R=>{if(R.index===void 0)return;const F=_+R.index+1,E=F+R[0].length,M={from:r.tr.mapping.map(F),to:r.tr.mapping.map(E)},H=i.handler({state:r,range:M,match:R,commands:c,chain:d,can:f,pasteEvent:o,dropEvent:l});m.push(H)})}),m.every(g=>g!==null)}var Fw=null,FNe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function $Ne(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:f,from:m,to:p,rule:g,pasteEvt:v})=>{const w=f.tr,y=YN({state:f,transaction:w});if(!(!INe({editor:e,state:y,from:Math.max(m-1,0),to:p.b-1,rule:g,pasteEvent:v,dropEvent:l})||!w.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,w}};return r.map(f=>new Ds({view(m){const p=v=>{var w;n=(w=m.dom.parentElement)!=null&&w.contains(v.target)?m.dom.parentElement:null,n&&(Fw=e)},g=()=>{Fw&&(Fw=null)};return window.addEventListener("dragstart",p),window.addEventListener("dragend",g),{destroy(){window.removeEventListener("dragstart",p),window.removeEventListener("dragend",g)}}},props:{handleDOMEvents:{drop:(m,p)=>{if(i=n===m.dom.parentElement,l=p,!i){const g=Fw;g!=null&&g.isEditable&&setTimeout(()=>{const v=g.state.selection;v&&g.commands.deleteRange({from:v.from,to:v.to})},10)}return!1},paste:(m,p)=>{var g;const v=(g=p.clipboardData)==null?void 0:g.getData("text/html");return o=p,s=!!(v!=null&&v.includes("data-pm-slice")),!1}}},appendTransaction:(m,p,g)=>{const v=m[0],w=v.getMeta("uiEvent")==="paste"&&!s,y=v.getMeta("uiEvent")==="drop"&&!i,N=v.getMeta("applyPasteRules"),k=!!N;if(!w&&!y&&!k)return;if(k){let{text:_}=N;typeof _=="string"?_=_:_=RD(Yt.from(_),g.schema);const{from:O}=N,P=O+_.length,I=FNe(_);return c({rule:f,state:g,from:O,to:{b:P},pasteEvt:I})}const S=p.doc.content.findDiffStart(g.doc.content),A=p.doc.content.findDiffEnd(g.doc.content);if(!(!PNe(S)||!A||S===A.b))return c({rule:f,state:g,from:S,to:A,pasteEvt:o})}}))}var eS=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=nZ(t),this.schema=yNe(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)},n=Lr(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return ID([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:i_(n.name,this.schema)},i=[],o=Lr(n,"addKeyboardShortcuts",s);let l={};if(n.type==="mark"&&Lr(n,"exitable",s)&&(l.ArrowRight=()=>qf.handleExit({editor:t,mark:n})),o){const p=Object.fromEntries(Object.entries(o()).map(([g,v])=>[g,()=>v({editor:t})]));l={...l,...p}}const c=W5e(l);i.push(c);const d=Lr(n,"addInputRules",s);if(DF(n,t.options.enableInputRules)&&d){const p=d();if(p&&p.length){const g=ENe({editor:t,rules:p}),v=Array.isArray(g)?g:[g];i.push(...v)}}const f=Lr(n,"addPasteRules",s);if(DF(n,t.options.enablePasteRules)&&f){const p=f();if(p&&p.length){const g=$Ne({editor:t,rules:p});i.push(...g)}}const m=Lr(n,"addProseMirrorPlugins",s);if(m){const p=m();i.push(...p)}return i})}get attributes(){return rZ(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=sv(this.extensions);return Object.fromEntries(e.filter(r=>!!Lr(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ai(r.name,this.schema)},i=Lr(r,"addNodeView",s);if(!i)return[];const o=(l,c,d,f,m)=>{const p=Ij(l,n);return i()({node:l,view:c,getPos:d,decorations:f,innerDecorations:m,editor:t,extension:r,HTMLAttributes:p})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=sv(this.extensions);return Object.fromEntries(e.filter(r=>!!Lr(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:zf(r.name,this.schema)},i=Lr(r,"addMarkView",s);if(!i)return[];const o=(l,c,d)=>{const f=Ij(l,n);return i()({mark:l,view:c,inline:d,editor:t,extension:r,HTMLAttributes:f,updateAttributes:m=>{tke(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:i_(e.name,this.schema)};e.type==="mark"&&((r=ha(Lr(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=Lr(e,"onBeforeCreate",n),i=Lr(e,"onCreate",n),o=Lr(e,"onUpdate",n),l=Lr(e,"onSelectionUpdate",n),c=Lr(e,"onTransaction",n),d=Lr(e,"onFocus",n),f=Lr(e,"onBlur",n),m=Lr(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),f&&this.editor.on("blur",f),m&&this.editor.on("destroy",m)})}};eS.resolve=nZ;eS.sort=ID;eS.flatten=LD;var HNe={};QQ(HNe,{ClipboardTextSerializer:()=>gZ,Commands:()=>yZ,Delete:()=>vZ,Drop:()=>wZ,Editable:()=>jZ,FocusEvents:()=>SZ,Keymap:()=>kZ,Paste:()=>CZ,Tabindex:()=>_Z,focusEventsPluginKey:()=>NZ});var La=class pZ extends BD{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new pZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},gZ=La.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ds({key:new Li("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(f=>f.$from.pos)),l=Math.max(...i.map(f=>f.$to.pos)),c=sZ(r);return aZ(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),xZ={};QQ(xZ,{blur:()=>BNe,clearContent:()=>zNe,clearNodes:()=>qNe,command:()=>UNe,createParagraphNear:()=>WNe,cut:()=>VNe,deleteCurrentNode:()=>GNe,deleteNode:()=>YNe,deleteRange:()=>KNe,deleteSelection:()=>JNe,enter:()=>XNe,exitCode:()=>QNe,extendMarkRange:()=>ZNe,first:()=>eSe,focus:()=>rSe,forEach:()=>nSe,insertContent:()=>aSe,insertContentAt:()=>iSe,joinBackward:()=>cSe,joinDown:()=>lSe,joinForward:()=>dSe,joinItemBackward:()=>uSe,joinItemForward:()=>fSe,joinTextblockBackward:()=>hSe,joinTextblockForward:()=>mSe,joinUp:()=>oSe,keyboardShortcut:()=>gSe,lift:()=>xSe,liftEmptyBlock:()=>bSe,liftListItem:()=>ySe,newlineInCode:()=>vSe,resetAttributes:()=>wSe,scrollIntoView:()=>jSe,selectAll:()=>NSe,selectNodeBackward:()=>SSe,selectNodeForward:()=>kSe,selectParentNode:()=>CSe,selectTextblockEnd:()=>_Se,selectTextblockStart:()=>ASe,setContent:()=>TSe,setMark:()=>OSe,setMeta:()=>ESe,setNode:()=>DSe,setNodeSelection:()=>PSe,setTextSelection:()=>LSe,sinkListItem:()=>RSe,splitBlock:()=>ISe,splitListItem:()=>FSe,toggleList:()=>$Se,toggleMark:()=>HSe,toggleNode:()=>BSe,toggleWrap:()=>zSe,undoInputRule:()=>qSe,unsetAllMarks:()=>USe,unsetMark:()=>WSe,updateAttributes:()=>VSe,wrapIn:()=>GSe,wrapInList:()=>YSe});var BNe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),zNe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),qNe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:f}=e,m=d.resolve(f.map(c)),p=d.resolve(f.map(c+l.nodeSize)),g=m.blockRange(p);if(!g)return;const v=Px(g);if(l.type.isTextblock){const{defaultType:w}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(g.start,w)}(v||v===0)&&e.lift(g,v)})}),!0},UNe=t=>e=>t(e),WNe=()=>({state:t,dispatch:e})=>YQ(t,e),VNe=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new en(n.doc.resolve(Math.max(o-1,0)))),!0},GNe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},YNe=t=>({tr:e,state:r,dispatch:n})=>{const s=ai(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const c=i.before(o),d=i.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},KNe=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},JNe=()=>({state:t,dispatch:e})=>MD(t,e),XNe=()=>({commands:t})=>t.keyboardShortcut("Enter"),QNe=()=>({state:t,dispatch:e})=>X5e(t,e),ZNe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=zf(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:d,to:f}=l;if(s){const m=$D(c,i,e);if(m&&m.from<=d&&m.to>=f){const p=en.create(o,m.from,m.to);r.setSelection(p)}}return!0},eSe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function tSe(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function zD(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var rSe=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(zD()||tSe())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!uZ(r.state.selection))return o(),!0;const l=fZ(s.doc,t)||r.state.selection,c=r.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},nSe=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),aSe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),sSe=t=>!("type"in t),iSe=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=y=>{i.emit("contentError",{editor:i,error:y,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{av(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(y){c(y)}try{l=av(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(y){return c(y),!1}let{from:f,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},p=!0,g=!0;if((sSe(l)?l:[l]).forEach(y=>{y.check(),p=p?y.isText&&y.marks.length===0:!1,g=g?y.isBlock:!1}),f===m&&g){const{parent:y}=n.doc.resolve(f);y.isTextblock&&!y.type.spec.code&&!y.childCount&&(f-=1,m+=1)}let w;if(p){if(Array.isArray(e))w=e.map(y=>y.text||"").join("");else if(e instanceof Yt){let y="";e.forEach(N=>{N.text&&(y+=N.text)}),w=y}else typeof e=="object"&&e&&e.text?w=e.text:w=e;n.insertText(w,f,m)}else{w=l;const y=n.doc.resolve(f),N=y.node(),k=y.parentOffset===0,S=N.isText||N.isTextblock,A=N.content.size>0;k&&S&&A&&(f=Math.max(0,f-1)),n.replaceWith(f,m,w)}r.updateSelection&&MNe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:f,text:w}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:f,text:w})}return!0},oSe=()=>({state:t,dispatch:e})=>Y5e(t,e),lSe=()=>({state:t,dispatch:e})=>K5e(t,e),cSe=()=>({state:t,dispatch:e})=>BQ(t,e),dSe=()=>({state:t,dispatch:e})=>WQ(t,e),uSe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=zN(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},fSe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=zN(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},hSe=()=>({state:t,dispatch:e})=>V5e(t,e),mSe=()=>({state:t,dispatch:e})=>G5e(t,e);function bZ(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function pSe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))zD()||bZ()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var gSe=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=pSe(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,l))});return c==null||c.steps.forEach(d=>{const f=d.map(n.mapping);f&&s&&n.maybeStep(f)}),!0},xSe=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return hm(r,s,e)?J5e(r,n):!1},bSe=()=>({state:t,dispatch:e})=>KQ(t,e),ySe=t=>({state:e,dispatch:r})=>{const n=ai(t,e.schema);return lNe(n)(e,r)},vSe=()=>({state:t,dispatch:e})=>GQ(t,e);function LF(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var wSe=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=XN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ai(t,n.schema)),l==="mark"&&(o=zf(t,n.schema)),s&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,f)=>{i&&i===d.type&&r.setNodeMarkup(f,void 0,LF(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&r.addMark(f,f+d.nodeSize,o.create(LF(m.attrs,e)))})})}),!0):!1},jSe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),NSe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Ol(t.doc);t.setSelection(r)}return!0},SSe=()=>({state:t,dispatch:e})=>qQ(t,e),kSe=()=>({state:t,dispatch:e})=>VQ(t,e),CSe=()=>({state:t,dispatch:e})=>eNe(t,e),_Se=()=>({state:t,dispatch:e})=>nNe(t,e),ASe=()=>({state:t,dispatch:e})=>rNe(t,e),TSe=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(n.preserveWhitespace!=="full"){const d=cM(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!r),!0}return o&&i.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function MSe(t,e,r){var n;const{selection:s}=e;let i=null;if(uZ(s)&&(i=s.$cursor),i){const l=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(d=>d.type.excludes(r)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(f,m,p)=>{if(d)return!1;if(f.isInline){const g=!p||p.type.allowsMarkType(r),v=!!r.isInSet(f.marks)||!f.marks.some(w=>w.type.excludes(r));d=g&&v}return!d}),d})}var OSe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:l}=i,c=zf(t,n.schema);if(s)if(o){const d=iZ(n,c);r.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const f=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(f,m,(p,g)=>{const v=Math.max(g,f),w=Math.min(g+p.nodeSize,m);p.marks.find(N=>N.type===c)?p.marks.forEach(N=>{c===N.type&&r.addMark(v,w,c.create({...N.attrs,...e}))}):r.addMark(v,w,c.create(e))})});return MSe(n,r,c)},ESe=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),DSe=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=ai(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>TF(i,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>TF(i,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},PSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=cp(t,0,n.content.size),i=Fr.create(n,s);e.setSelection(i)}return!0},LSe=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=en.atStart(n).from,l=en.atEnd(n).to,c=cp(s,o,l),d=cp(i,o,l),f=en.create(n,c,d);e.setSelection(f)}return!0},RSe=t=>({state:e,dispatch:r})=>{const n=ai(t,e.schema);return uNe(n)(e,r)};function RF(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var ISe=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,d=s.extensionManager.attributes,f=$2(d,l.node().type.name,l.node().attrs);if(i instanceof Fr&&i.node.isBlock)return!l.parentOffset||!kf(o,l.pos)?!1:(n&&(t&&RF(r,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,p=l.depth===0?void 0:mNe(l.node(-1).contentMatchAt(l.indexAfter(-1)));let g=m&&p?[{type:p,attrs:f}]:void 0,v=kf(e.doc,e.mapping.map(l.pos),1,g);if(!g&&!v&&kf(e.doc,e.mapping.map(l.pos),1,p?[{type:p}]:void 0)&&(v=!0,g=p?[{type:p,attrs:f}]:void 0),n){if(v&&(i instanceof en&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,g),p&&!m&&!l.parentOffset&&l.parent.type!==p)){const w=e.mapping.map(l.before()),y=e.doc.resolve(w);l.node(-1).canReplaceWith(y.index(),y.index()+1,p)&&e.setNodeMarkup(e.mapping.map(l.before()),p)}t&&RF(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return v},FSe=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const l=ai(t,n.schema),{$from:c,$to:d}=n.selection,f=n.selection.node;if(f&&f.isBlock||c.depth<2||!c.sameParent(d))return!1;const m=c.node(-1);if(m.type!==l)return!1;const p=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let N=Yt.empty;const k=c.index(-1)?1:c.index(-2)?2:3;for(let I=c.depth-k;I>=c.depth-3;I-=1)N=Yt.from(c.node(I).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,A={...$2(p,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(A))||void 0;N=N.append(Yt.from(l.createAndFill(null,_)||void 0));const O=c.before(c.depth-(k-1));r.replace(O,c.after(-S),new mr(N,4-k,0));let P=-1;r.doc.nodesBetween(O,r.doc.content.size,(I,R)=>{if(P>-1)return!1;I.isTextblock&&I.content.size===0&&(P=R+1)}),P>-1&&r.setSelection(en.near(r.doc.resolve(P))),r.scrollIntoView()}return!0}const g=d.pos===c.end()?m.contentMatchAt(0).defaultType:null,v={...$2(p,m.type.name,m.attrs),...e},w={...$2(p,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,d.pos);const y=g?[{type:l,attrs:v},{type:g,attrs:w}]:[{type:l,attrs:v}];if(!kf(r.doc,c.pos,2))return!1;if(s){const{selection:N,storedMarks:k}=n,{splittableMarks:S}=i.extensionManager,A=k||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,y).scrollIntoView(),!A||!s)return!0;const _=A.filter(O=>S.includes(O.type.name));r.ensureMarks(_)}return!0},o_=(t,e)=>{const r=JN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&xm(t.doc,r.pos)&&t.join(r.pos),!0},l_=(t,e)=>{const r=JN(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&xm(t.doc,n)&&t.join(n),!0},$Se=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:d,can:f})=>{const{extensions:m,splittableMarks:p}=s.extensionManager,g=ai(t,o.schema),v=ai(e,o.schema),{selection:w,storedMarks:y}=o,{$from:N,$to:k}=w,S=N.blockRange(k),A=y||w.$to.parentOffset&&w.$from.marks();if(!S)return!1;const _=JN(O=>PF(O.type.name,m))(w);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===g)return d.liftListItem(v);if(PF(_.node.type.name,m)&&g.validContent(_.node.content)&&l)return c().command(()=>(i.setNodeMarkup(_.pos,g),!0)).command(()=>o_(i,g)).command(()=>l_(i,g)).run()}return!r||!A||!l?c().command(()=>f().wrapInList(g,n)?!0:d.clearNodes()).wrapInList(g,n).command(()=>o_(i,g)).command(()=>l_(i,g)).run():c().command(()=>{const O=f().wrapInList(g,n),P=A.filter(I=>p.includes(I.type.name));return i.ensureMarks(P),O?!0:d.clearNodes()}).wrapInList(g,n).command(()=>o_(i,g)).command(()=>l_(i,g)).run()},HSe=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=zf(t,n.schema);return dM(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},BSe=(t,e,r={})=>({state:n,commands:s})=>{const i=ai(t,n.schema),o=ai(e,n.schema),l=hm(n,i,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...r})},zSe=(t,e={})=>({state:r,commands:n})=>{const s=ai(t,r.schema);return hm(r,s,e)?n.lift(s):n.wrapIn(s,e)},qSe=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},USe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},WSe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=zf(t,n.schema),{$from:d,empty:f,ranges:m}=l;if(!s)return!0;if(f&&o){let{from:p,to:g}=l;const v=(i=d.marks().find(y=>y.type===c))==null?void 0:i.attrs,w=$D(d,c,v);w&&(p=w.from,g=w.to),r.removeMark(p,g,c)}else m.forEach(p=>{r.removeMark(p.$from.pos,p.$to.pos,c)});return r.removeStoredMark(c),!0},VSe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=XN(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ai(t,n.schema)),l==="mark"&&(o=zf(t,n.schema)),s&&r.selection.ranges.forEach(c=>{const d=c.$from.pos,f=c.$to.pos;let m,p,g,v;r.selection.empty?n.doc.nodesBetween(d,f,(w,y)=>{i&&i===w.type&&(g=Math.max(y,d),v=Math.min(y+w.nodeSize,f),m=y,p=w)}):n.doc.nodesBetween(d,f,(w,y)=>{y<d&&i&&i===w.type&&(g=Math.max(y,d),v=Math.min(y+w.nodeSize,f),m=y,p=w),y>=d&&y<=f&&(i&&i===w.type&&r.setNodeMarkup(y,void 0,{...w.attrs,...e}),o&&w.marks.length&&w.marks.forEach(N=>{if(o===N.type){const k=Math.max(y,d),S=Math.min(y+w.nodeSize,f);r.addMark(k,S,o.create({...N.attrs,...e}))}}))}),p&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...p.attrs,...e}),o&&p.marks.length&&p.marks.forEach(w=>{o===w.type&&r.addMark(g,v,o.create({...w.attrs,...e}))}))}),!0):!1},GSe=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return aNe(s,e)(r,n)},YSe=(t,e={})=>({state:r,dispatch:n})=>{const s=ai(t,r.schema);return sNe(s,e)(r,n)},yZ=La.create({name:"commands",addCommands(){return{...xZ}}}),vZ=La.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const i=()=>{var o,l,c,d;if((d=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const f=ZQ(t.before,[t,...e]);lZ(f).forEach(g=>{f.mapping.mapResult(g.oldRange.from).deletedAfter&&f.mapping.mapResult(g.oldRange.to).deletedBefore&&f.before.nodesBetween(g.oldRange.from,g.oldRange.to,(v,w)=>{const y=w+v.nodeSize-2,N=g.oldRange.from<=w&&y<=g.oldRange.to;this.editor.emit("delete",{type:"node",node:v,from:w,to:y,newFrom:f.mapping.map(w),newTo:f.mapping.map(y),deletedRange:g.oldRange,newRange:g.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:f})})});const p=f.mapping;f.steps.forEach((g,v)=>{var w,y;if(g instanceof ad){const N=p.slice(v).map(g.from,-1),k=p.slice(v).map(g.to),S=p.invert().map(N,-1),A=p.invert().map(k),_=(w=f.doc.nodeAt(N-1))==null?void 0:w.marks.some(P=>P.eq(g.mark)),O=(y=f.doc.nodeAt(k))==null?void 0:y.marks.some(P=>P.eq(g.mark));this.editor.emit("delete",{type:"mark",mark:g.mark,from:g.from,to:g.to,deletedRange:{from:S,to:A},newRange:{from:N,to:k},partial:!!(O||_),editor:this.editor,transaction:t,combinedTransform:f})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(i,0):i()}}),wZ=La.create({name:"drop",addProseMirrorPlugins(){return[new Ds({key:new Li("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),jZ=La.create({name:"editable",addProseMirrorPlugins(){return[new Ds({key:new Li("editable"),props:{editable:()=>this.editor.options.editable}})]}}),NZ=new Li("focusEvents"),SZ=La.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ds({key:NZ,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),kZ=La.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:f,$anchor:m}=c,{pos:p,parent:g}=m,v=m.parent.isTextblock&&p>0?l.doc.resolve(p-1):m,w=v.parent.type.spec.isolating,y=m.pos-m.parentOffset,N=w&&v.parent.childCount===1?y===m.pos:xn.atStart(d).from===p;return!f||!g.type.isTextblock||g.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return zD()||bZ()?i:s},addProseMirrorPlugins(){return[new Ds({key:new Li("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(w=>w.getMeta("composition")))return;const n=t.some(w=>w.docChanged)&&!e.doc.eq(r.doc),s=t.some(w=>w.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:o,to:l}=e.selection,c=xn.atStart(e.doc).from,d=xn.atEnd(e.doc).to;if(i||!(o===c&&l===d)||!QN(r.doc))return;const p=r.tr,g=YN({state:r,transaction:p}),{commands:v}=new KN({editor:this.editor,state:g});if(v.clearNodes(),!!p.steps.length)return p}})]}}),CZ=La.create({name:"paste",addProseMirrorPlugins(){return[new Ds({key:new Li("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),_Z=La.create({name:"tabindex",addProseMirrorPlugins(){return[new Ds({key:new Li("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),KSe=class ag{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new ag(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new ag(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new ag(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,o=this.pos+n+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new ag(l,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new ag(l,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(c=>r[c]===o.node.attrs[c])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},JSe=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function XSe(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var QSe=class extends hNe{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=fZ(e,this.options.autofocus);this.editorState=hg.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=XSe(JSe,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=tZ(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(o=>!o.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[jZ,gZ.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),yZ,SZ,kZ,_Z,wZ,CZ,vZ].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new eS(n,this)}createCommandManager(){this.commandManager=new KN({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=cM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=cM(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new FQ(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var f;return(f=this.capturedTransaction)==null?void 0:f.step(d)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return oZ(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return _Ne(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return RD(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return wNe(this.state.doc,{blockSeparator:e,textSerializers:{...sZ(this.schema),...r}})}get isEmpty(){return QN(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new KSe(e,this)}get $doc(){return this.$pos(0)}};function $p(t){return new ZN({find:t.find,handler:({state:e,range:r,match:n})=>{const s=ha(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),d=r.from+l.indexOf(o),f=d+o.length;if(HD(r.from,r.to,e.doc).filter(g=>g.mark.type.excluded.find(w=>w===t.type&&w!==g.mark.type)).filter(g=>g.to>d).length)return null;f<r.to&&i.delete(f,r.to),d>r.from&&i.delete(r.from+c,d);const p=r.from+c+o.length;i.addMark(r.from+c,p,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function ZSe(t){return new ZN({find:t.find,handler:({state:e,range:r,match:n})=>{const s=ha(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let l=r.to;const c=t.type.create(s);if(n[1]){const d=n[0].lastIndexOf(n[1]);let f=o+d;f>l?f=l:l=f+n[1].length;const m=n[0][n[0].length-1];i.insertText(m,o+n[0].length-1),i.replaceWith(f,l,c)}else if(n[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function uM(t){return new ZN({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=ha(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function Zg(t){return new ZN({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=ha(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),d=c&&yD(c,t.type,i);if(!d)return null;if(o.wrap(c,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:p}=e,{splittableMarks:g}=t.editor.extensionManager,v=p||m.$to.parentOffset&&m.$from.marks();if(v){const w=v.filter(y=>g.includes(y.type.name));o.ensureMarks(w)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const f=o.doc.resolve(r.from-1).nodeBefore;f&&f.type===t.type&&xm(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,f))&&o.join(r.from-1)},undoable:t.undoable})}function eke(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof Fr){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let s=n.depth;for(;s>=0;){const i=n.index(s);if(n.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function tke(t,e,r={}){const{state:n}=e,{doc:s,tr:i}=n,o=t;s.descendants((l,c)=>{const d=i.mapping.map(c),f=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(g=>{if(g!==o)return!1;m=g}),!m)return;let p=!1;if(Object.keys(r).forEach(g=>{r[g]!==m.attrs[g]&&(p=!0)}),p){const g=t.type.create({...t.attrs,...r});i.removeMark(d,f,t.type),i.addMark(d,f,g)}}),i.docChanged&&e.view.dispatch(i)}var Ll=class AZ extends BD{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new AZ(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function mm(t){return new LNe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=ha(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let d=r.to;if(l){const f=c.search(/\S/),m=r.from+c.indexOf(l),p=m+l.length;if(HD(r.from,r.to,e.doc).filter(v=>v.mark.type.excluded.find(y=>y===t.type&&y!==v.mark.type)).filter(v=>v.to>m).length)return null;p<r.to&&o.delete(p,r.to),m>r.from&&o.delete(r.from+f,m),d=r.from+f+l.length,o.addMark(r.from+f,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var rke=20,TZ=(t,e=0)=>{const r=[];return!t.children.length||e>rke||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...TZ(n,e+1))}),r},nke=t=>{if(!t.children.length)return;const e=TZ(t);e&&e.forEach(r=>{var n,s;const i=r.getAttribute("style"),o=(s=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:s.getAttribute("style");r.setAttribute("style",`${o};${i}`)})},ake=qf.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&nke(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),ske=La.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),MZ=La.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),OZ=La.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),ike=La.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),oke=La.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),lke=La.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(ske.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(MZ.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(OZ.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(ike.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(oke.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(ake.configure(this.options.textStyle)),t}}),cke=La.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),dke=cke,uke=MZ,fke=OZ;const hke="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",mke="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",fM="numeric",hM="ascii",mM="alpha",jy="asciinumeric",cy="alphanumeric",pM="domain",EZ="emoji",pke="scheme",gke="slashscheme",c_="whitespace";function xke(t,e){return t in e||(e[t]=[]),e[t]}function dp(t,e,r){e[fM]&&(e[jy]=!0,e[cy]=!0),e[hM]&&(e[jy]=!0,e[mM]=!0),e[jy]&&(e[cy]=!0),e[mM]&&(e[cy]=!0),e[cy]&&(e[pM]=!0),e[EZ]&&(e[pM]=!0);for(const n in e){const s=xke(n,r);s.indexOf(t)<0&&s.push(t)}}function bke(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function il(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}il.groups={};il.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],i=e.jr[n][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||il.groups;let s;return e&&e.j?s=e:(s=new il(e),r&&n&&dp(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||il.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,l=s.go(t);if(l?(o=new il,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new il,i){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(bke(o.t,n),r);dp(i,c,n)}else r&&dp(i,r,n);o.t=i}return s.j[t]=o,o}};const gn=(t,e,r,n,s)=>t.ta(e,r,n,s),Ss=(t,e,r,n,s)=>t.tr(e,r,n,s),IF=(t,e,r,n,s)=>t.ts(e,r,n,s),Xt=(t,e,r,n,s)=>t.tt(e,r,n,s),sf="WORD",gM="UWORD",DZ="ASCIINUMERICAL",PZ="ALPHANUMERICAL",iv="LOCALHOST",xM="TLD",bM="UTLD",H2="SCHEME",sg="SLASH_SCHEME",qD="NUM",yM="WS",UD="NL",Ny="OPENBRACE",Sy="CLOSEBRACE",$j="OPENBRACKET",Hj="CLOSEBRACKET",Bj="OPENPAREN",zj="CLOSEPAREN",qj="OPENANGLEBRACKET",Uj="CLOSEANGLEBRACKET",Wj="FULLWIDTHLEFTPAREN",Vj="FULLWIDTHRIGHTPAREN",Gj="LEFTCORNERBRACKET",Yj="RIGHTCORNERBRACKET",Kj="LEFTWHITECORNERBRACKET",Jj="RIGHTWHITECORNERBRACKET",Xj="FULLWIDTHLESSTHAN",Qj="FULLWIDTHGREATERTHAN",Zj="AMPERSAND",e5="APOSTROPHE",t5="ASTERISK",Ih="AT",r5="BACKSLASH",n5="BACKTICK",a5="CARET",Bh="COLON",WD="COMMA",s5="DOLLAR",$d="DOT",i5="EQUALS",VD="EXCLAMATION",ac="HYPHEN",ky="PERCENT",o5="PIPE",l5="PLUS",c5="POUND",Cy="QUERY",GD="QUOTE",LZ="FULLWIDTHMIDDLEDOT",YD="SEMI",Hd="SLASH",_y="TILDE",d5="UNDERSCORE",RZ="EMOJI",u5="SYM";var IZ=Object.freeze({__proto__:null,ALPHANUMERICAL:PZ,AMPERSAND:Zj,APOSTROPHE:e5,ASCIINUMERICAL:DZ,ASTERISK:t5,AT:Ih,BACKSLASH:r5,BACKTICK:n5,CARET:a5,CLOSEANGLEBRACKET:Uj,CLOSEBRACE:Sy,CLOSEBRACKET:Hj,CLOSEPAREN:zj,COLON:Bh,COMMA:WD,DOLLAR:s5,DOT:$d,EMOJI:RZ,EQUALS:i5,EXCLAMATION:VD,FULLWIDTHGREATERTHAN:Qj,FULLWIDTHLEFTPAREN:Wj,FULLWIDTHLESSTHAN:Xj,FULLWIDTHMIDDLEDOT:LZ,FULLWIDTHRIGHTPAREN:Vj,HYPHEN:ac,LEFTCORNERBRACKET:Gj,LEFTWHITECORNERBRACKET:Kj,LOCALHOST:iv,NL:UD,NUM:qD,OPENANGLEBRACKET:qj,OPENBRACE:Ny,OPENBRACKET:$j,OPENPAREN:Bj,PERCENT:ky,PIPE:o5,PLUS:l5,POUND:c5,QUERY:Cy,QUOTE:GD,RIGHTCORNERBRACKET:Yj,RIGHTWHITECORNERBRACKET:Jj,SCHEME:H2,SEMI:YD,SLASH:Hd,SLASH_SCHEME:sg,SYM:u5,TILDE:_y,TLD:xM,UNDERSCORE:d5,UTLD:bM,UWORD:gM,WORD:sf,WS:yM});const Zu=/[a-z]/,zb=new RegExp("\\p{L}","u"),d_=new RegExp("\\p{Emoji}","u"),ef=/\d/,u_=/\s/,FF="\r",f_=`
`,yke="️",vke="‍",h_="￼";let $w=null,Hw=null;function wke(t=[]){const e={};il.groups=e;const r=new il;$w==null&&($w=$F(hke)),Hw==null&&(Hw=$F(mke)),Xt(r,"'",e5),Xt(r,"{",Ny),Xt(r,"}",Sy),Xt(r,"[",$j),Xt(r,"]",Hj),Xt(r,"(",Bj),Xt(r,")",zj),Xt(r,"<",qj),Xt(r,">",Uj),Xt(r,"（",Wj),Xt(r,"）",Vj),Xt(r,"「",Gj),Xt(r,"」",Yj),Xt(r,"『",Kj),Xt(r,"』",Jj),Xt(r,"＜",Xj),Xt(r,"＞",Qj),Xt(r,"&",Zj),Xt(r,"*",t5),Xt(r,"@",Ih),Xt(r,"`",n5),Xt(r,"^",a5),Xt(r,":",Bh),Xt(r,",",WD),Xt(r,"$",s5),Xt(r,".",$d),Xt(r,"=",i5),Xt(r,"!",VD),Xt(r,"-",ac),Xt(r,"%",ky),Xt(r,"|",o5),Xt(r,"+",l5),Xt(r,"#",c5),Xt(r,"?",Cy),Xt(r,'"',GD),Xt(r,"/",Hd),Xt(r,";",YD),Xt(r,"~",_y),Xt(r,"_",d5),Xt(r,"\\",r5),Xt(r,"・",LZ);const n=Ss(r,ef,qD,{[fM]:!0});Ss(n,ef,n);const s=Ss(n,Zu,DZ,{[jy]:!0}),i=Ss(n,zb,PZ,{[cy]:!0}),o=Ss(r,Zu,sf,{[hM]:!0});Ss(o,ef,s),Ss(o,Zu,o),Ss(s,ef,s),Ss(s,Zu,s);const l=Ss(r,zb,gM,{[mM]:!0});Ss(l,Zu),Ss(l,ef,i),Ss(l,zb,l),Ss(i,ef,i),Ss(i,Zu),Ss(i,zb,i);const c=Xt(r,f_,UD,{[c_]:!0}),d=Xt(r,FF,yM,{[c_]:!0}),f=Ss(r,u_,yM,{[c_]:!0});Xt(r,h_,f),Xt(d,f_,c),Xt(d,h_,f),Ss(d,u_,f),Xt(f,FF),Xt(f,f_),Ss(f,u_,f),Xt(f,h_,f);const m=Ss(r,d_,RZ,{[EZ]:!0});Xt(m,"#"),Ss(m,d_,m),Xt(m,yke,m);const p=Xt(m,vke);Xt(p,"#"),Ss(p,d_,m);const g=[[Zu,o],[ef,s]],v=[[Zu,null],[zb,l],[ef,i]];for(let w=0;w<$w.length;w++)Mh(r,$w[w],xM,sf,g);for(let w=0;w<Hw.length;w++)Mh(r,Hw[w],bM,gM,v);dp(xM,{tld:!0,ascii:!0},e),dp(bM,{utld:!0,alpha:!0},e),Mh(r,"file",H2,sf,g),Mh(r,"mailto",H2,sf,g),Mh(r,"http",sg,sf,g),Mh(r,"https",sg,sf,g),Mh(r,"ftp",sg,sf,g),Mh(r,"ftps",sg,sf,g),dp(H2,{scheme:!0,ascii:!0},e),dp(sg,{slashscheme:!0,ascii:!0},e),t=t.sort((w,y)=>w[0]>y[0]?1:-1);for(let w=0;w<t.length;w++){const y=t[w][0],k=t[w][1]?{[pke]:!0}:{[gke]:!0};y.indexOf("-")>=0?k[pM]=!0:Zu.test(y)?ef.test(y)?k[jy]=!0:k[hM]=!0:k[fM]=!0,IF(r,y,y,k)}return IF(r,"localhost",iv,{ascii:!0}),r.jd=new il(u5),{start:r,tokens:Object.assign({groups:e},IZ)}}function FZ(t,e){const r=jke(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,s=[];let i=0,o=0;for(;o<n;){let l=t,c=null,d=0,f=null,m=-1,p=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,p=0,f=l):m>=0&&(m+=r[o].length,p++),d+=r[o].length,i+=r[o].length,o++;i-=m,o-=p,d-=m,s.push({t:f.t,v:e.slice(i-d,i),s:i-d,e:i})}return s}function jke(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),i,o=s<55296||s>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function Mh(t,e,r,n,s){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new il(n),i.jr=s.slice(),t.j[c]=i),t=i}return i=new il(r),i.jr=s.slice(),t.j[e[o-1]]=i,i}function $F(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let i=0;for(;s.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+i),10);o>0;o--)r.pop();n+=i}else r.push(t[n]),n++}return e}const ov={defaultProtocol:"http",events:null,format:HF,formatHref:HF,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function KD(t,e=null){let r=Object.assign({},ov);t&&(r=Object.assign(r,t instanceof KD?t.o:t));const n=r.ignoreTags,s=[];for(let i=0;i<n.length;i++)s.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}KD.prototype={o:ov,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:ov[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function HF(t){return t}function $Z(t,e){this.t="token",this.v=t,this.tk=e}$Z.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=ov.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),i=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),d=t.get("rel",r,e),f=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),d&&(o.rel=d),f&&Object.assign(o,f),{tagName:s,attributes:o,content:i,eventListeners:m}}};function tS(t,e){class r extends $Z{constructor(s,i){super(s,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const BF=tS("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),zF=tS("text"),Nke=tS("nl"),Bw=tS("url",{isLink:!0,toHref(t=ov.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==iv&&t[1].t===Bh}}),Zl=t=>new il(t);function Ske({groups:t}){const e=t.domain.concat([Zj,t5,Ih,r5,n5,a5,s5,i5,ac,qD,ky,o5,l5,c5,Hd,u5,_y,d5]),r=[e5,Bh,WD,$d,VD,ky,Cy,GD,YD,qj,Uj,Ny,Sy,Hj,$j,Bj,zj,Wj,Vj,Gj,Yj,Kj,Jj,Xj,Qj],n=[Zj,e5,t5,r5,n5,a5,s5,i5,ac,Ny,Sy,ky,o5,l5,c5,Cy,Hd,u5,_y,d5],s=Zl(),i=Xt(s,_y);gn(i,n,i),gn(i,t.domain,i);const o=Zl(),l=Zl(),c=Zl();gn(s,t.domain,o),gn(s,t.scheme,l),gn(s,t.slashscheme,c),gn(o,n,i),gn(o,t.domain,o);const d=Xt(o,Ih);Xt(i,Ih,d),Xt(l,Ih,d),Xt(c,Ih,d);const f=Xt(i,$d);gn(f,n,i),gn(f,t.domain,i);const m=Zl();gn(d,t.domain,m),gn(m,t.domain,m);const p=Xt(m,$d);gn(p,t.domain,m);const g=Zl(BF);gn(p,t.tld,g),gn(p,t.utld,g),Xt(d,iv,g);const v=Xt(m,ac);Xt(v,ac,v),gn(v,t.domain,m),gn(g,t.domain,m),Xt(g,$d,p),Xt(g,ac,v);const w=Xt(g,Bh);gn(w,t.numeric,BF);const y=Xt(o,ac),N=Xt(o,$d);Xt(y,ac,y),gn(y,t.domain,o),gn(N,n,i),gn(N,t.domain,o);const k=Zl(Bw);gn(N,t.tld,k),gn(N,t.utld,k),gn(k,t.domain,o),gn(k,n,i),Xt(k,$d,N),Xt(k,ac,y),Xt(k,Ih,d);const S=Xt(k,Bh),A=Zl(Bw);gn(S,t.numeric,A);const _=Zl(Bw),O=Zl();gn(_,e,_),gn(_,r,O),gn(O,e,_),gn(O,r,O),Xt(k,Hd,_),Xt(A,Hd,_);const P=Xt(l,Bh),I=Xt(c,Bh),R=Xt(I,Hd),F=Xt(R,Hd);gn(l,t.domain,o),Xt(l,$d,N),Xt(l,ac,y),gn(c,t.domain,o),Xt(c,$d,N),Xt(c,ac,y),gn(P,t.domain,_),Xt(P,Hd,_),Xt(P,Cy,_),gn(F,t.domain,_),gn(F,e,_),Xt(F,Hd,_);const E=[[Ny,Sy],[$j,Hj],[Bj,zj],[qj,Uj],[Wj,Vj],[Gj,Yj],[Kj,Jj],[Xj,Qj]];for(let M=0;M<E.length;M++){const[H,V]=E[M],G=Xt(_,H);Xt(O,H,G),Xt(G,V,_);const q=Zl(Bw);gn(G,e,q);const B=Zl();gn(G,r),gn(q,e,q),gn(q,r,B),gn(B,e,q),gn(B,r,B),Xt(q,V,_),Xt(B,V,_)}return Xt(s,iv,k),Xt(s,UD,Nke),{start:s,tokens:IZ}}function kke(t,e,r){let n=r.length,s=0,i=[],o=[];for(;s<n;){let l=t,c=null,d=null,f=0,m=null,p=-1;for(;s<n&&!(c=l.go(r[s].t));)o.push(r[s++]);for(;s<n&&(d=c||l.go(r[s].t));)c=null,l=d,l.accepts()?(p=0,m=l):p>=0&&p++,s++,f++;if(p<0)s-=f,s<n&&(o.push(r[s]),s++);else{o.length>0&&(i.push(m_(zF,e,o)),o=[]),s-=p,f-=p;const g=m.t,v=r.slice(s-f,s);i.push(m_(g,e,v))}}return o.length>0&&i.push(m_(zF,e,o)),i}function m_(t,e,r){const n=r[0].s,s=r[r.length-1].e,i=e.slice(n,s);return new t(i,r)}const Cke=typeof console<"u"&&console&&console.warn||(()=>{}),_ke="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",Va={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Ake(){return il.groups={},Va.scanner=null,Va.parser=null,Va.tokenQueue=[],Va.pluginQueue=[],Va.customSchemes=[],Va.initialized=!1,Va}function qF(t,e=!1){if(Va.initialized&&Cke(`linkifyjs: already initialized - will not register custom scheme "${t}" ${_ke}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);Va.customSchemes.push([t,e])}function Tke(){Va.scanner=wke(Va.customSchemes);for(let t=0;t<Va.tokenQueue.length;t++)Va.tokenQueue[t][1]({scanner:Va.scanner});Va.parser=Ske(Va.scanner.tokens);for(let t=0;t<Va.pluginQueue.length;t++)Va.pluginQueue[t][1]({scanner:Va.scanner,parser:Va.parser});return Va.initialized=!0,Va}function JD(t){return Va.initialized||Tke(),kke(Va.parser.start,t,FZ(Va.scanner.start,t))}JD.scan=FZ;function HZ(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new KD(r),s=JD(t),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&i.push(l.toFormattedObject(n))}return i}var XD="[\0-   ᠎ -\u2029 　]",Mke=new RegExp(XD),Oke=new RegExp(`${XD}$`),Eke=new RegExp(XD,"g");function Dke(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function Pke(t){return new Ds({key:new Li("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(d=>d.docChanged)&&!r.doc.eq(n.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=n,l=ZQ(r.doc,[...e]);if(lZ(l).forEach(({newRange:d})=>{const f=pNe(n.doc,d,g=>g.isTextblock);let m,p;if(f.length>1)m=f[0],p=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(f.length){const g=n.doc.textBetween(d.from,d.to," "," ");if(!Oke.test(g))return;m=f[0],p=n.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&p){const g=p.split(Mke).filter(Boolean);if(g.length<=0)return!1;const v=g[g.length-1],w=m.pos+p.lastIndexOf(v);if(!v)return!1;const y=JD(v).map(N=>N.toObject(t.defaultProtocol));if(!Dke(y))return!1;y.filter(N=>N.isLink).map(N=>({...N,from:w+N.start+1,to:w+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{HD(N.from,N.to,n.doc).some(k=>k.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function Lke(t){return new Ds({key:new Li("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,i;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let f=n.target;const m=[];for(;f.nodeName!=="DIV";)m.push(f),f=f.parentNode;o=m.find(p=>p.nodeName==="A")}if(!o)return!1;const l=oZ(e.state,t.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,d=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,d),!0):!1}}})}function Rke(t){return new Ds({key:new Li("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let l="";n.content.forEach(d=>{l+=d.textContent});const c=HZ(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function Um(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(Eke,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var BZ=qf.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){qF(t);return}qF(t.scheme,t.optionalSlashes)})},onDestroy(){Ake()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!Um(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!Um(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!Um(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Es(this.options.HTMLAttributes,t),0]:["a",Es(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!Um(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!Um(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[mm({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=HZ(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!Um(o,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(Pke({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!Um(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(Lke({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(Rke({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),Ike=BZ,p_={exports:{}},g_={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UF;function Fke(){if(UF)return g_;UF=1;var t=Wv();function e(m,p){return m===p&&(m!==0||1/m===1/p)||m!==m&&p!==p}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,p){var g=p(),v=n({inst:{value:g,getSnapshot:p}}),w=v[0].inst,y=v[1];return i(function(){w.value=g,w.getSnapshot=p,c(w)&&y({inst:w})},[m,g,p]),s(function(){return c(w)&&y({inst:w}),m(function(){c(w)&&y({inst:w})})},[m]),o(g),g}function c(m){var p=m.getSnapshot;m=m.value;try{var g=p();return!r(m,g)}catch{return!0}}function d(m,p){return p()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return g_.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,g_}var WF;function zZ(){return WF||(WF=1,p_.exports=Fke()),p_.exports}var qZ=zZ(),x_,VF;function $ke(){return VF||(VF=1,x_=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),x_}var Hke=$ke();const Bke=Yn(Hke);var b_={exports:{}},y_={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GF;function zke(){if(GF)return y_;GF=1;var t=Wv(),e=zZ();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return y_.useSyncExternalStoreWithSelector=function(d,f,m,p,g){var v=i(null);if(v.current===null){var w={hasValue:!1,value:null};v.current=w}else w=v.current;v=l(function(){function N(O){if(!k){if(k=!0,S=O,O=p(O),g!==void 0&&w.hasValue){var P=w.value;if(g(P,O))return A=P}return A=O}if(P=A,n(S,O))return P;var I=p(O);return g!==void 0&&g(P,I)?(S=O,P):(S=O,A=I)}var k=!1,S,A,_=m===void 0?null:m;return[function(){return N(f())},_===null?void 0:function(){return N(_())}]},[f,m,p,g]);var y=s(d,v[0],v[1]);return o(function(){w.hasValue=!0,w.value=y},[y]),c(y),y},y_}var YF;function qke(){return YF||(YF=1,b_.exports=zke()),b_.exports}var Uke=qke(),Wke=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},Vke=({contentComponent:t})=>{const e=qZ.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function Gke(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:aY.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var Yke=class extends be.Component{constructor(t){var e;super(t),this.editorContentRef=be.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=Gke(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:Wke(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&a.jsx(Vke,{contentComponent:t.contentComponent})]})}},Kke=b.forwardRef((t,e)=>{const r=be.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return be.createElement(Yke,{key:r,innerRef:e,...t})}),Jke=be.memo(Kke),Xke=typeof window<"u"?b.useLayoutEffect:b.useEffect,Qke=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function UZ(t){var e;const[r]=b.useState(()=>new Qke(t.editor)),n=Uke.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:Bke);return Xke(()=>r.watch(t.editor),[t.editor,r]),b.useDebugValue(n),n}var Zke=!1,vM=typeof window>"u",eCe=vM||!!(typeof window<"u"&&window.next),tCe=class WZ{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?vM||eCe?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...n)},onDrop:(...n)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...n)},onPaste:(...n)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...n)},onDelete:(...n)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...n)}};return new QSe(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=r.extensions)==null?void 0:o[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?WZ.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function rCe(t={},e=[]){const r=b.useRef(t);r.current=t;const[n]=b.useState(()=>new tCe(r)),s=qZ.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return b.useDebugValue(s),b.useEffect(n.onRender(e)),UZ({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var nCe=b.createContext({editor:null});nCe.Consumer;var aCe=b.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),sCe=()=>b.useContext(aCe);be.forwardRef((t,e)=>{const{onDragStart:r}=sCe(),n=t.as||"div";return a.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});be.createContext({markViewContentRef:()=>{}});var f5=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},iCe=/^\s*>\s$/,oCe=Ll.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return f5("blockquote",{...Es(this.options.HTMLAttributes,t),children:f5("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Zg({find:iCe,type:this.type})]}}),lCe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,cCe=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,dCe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,uCe=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,fCe=qf.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return f5("strong",{...Es(this.options.HTMLAttributes,t),children:f5("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[$p({find:lCe,type:this.type}),$p({find:dCe,type:this.type})]},addPasteRules(){return[mm({find:cCe,type:this.type}),mm({find:uCe,type:this.type})]}}),hCe=/(^|[^`])`([^`]+)`(?!`)$/,mCe=/(^|[^`])`([^`]+)`(?!`)/g,pCe=qf.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[$p({find:hCe,type:this.type})]},addPasteRules(){return[mm({find:mCe,type:this.type})]}}),v_=4,gCe=/^```([a-z]+)?[\s\n]$/,xCe=/^~~~([a-z]+)?[\s\n]$/,bCe=Ll.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:v_,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Es(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:v_,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:f}=s,g=n.doc.textBetween(d,f,`
`,`
`).split(`
`).map(v=>l+v).join(`
`);return c.replaceWith(d,f,n.schema.text(g)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:v_,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:d}=i,f=i.start(),m=i.end(),g=n.doc.textBetween(f,m,`
`,`
`).split(`
`);let v=0,w=0;const y=d-f;for(let O=0;O<g.length;O+=1){if(w+g[O].length>=y){v=O;break}w+=g[O].length+1}const k=((c=g[v].match(/^ */))==null?void 0:c[0])||"",S=Math.min(k.length,r);if(S===0)return!0;let A=f;for(let O=0;O<v;O+=1)A+=g[O].length+1;return l.delete(A,A+S),d-A<=S&&l.setSelection(en.create(l.doc,A)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=s,p=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(g=>{var v;const w=((v=g.match(/^ */))==null?void 0:v[0])||"",y=Math.min(w.length,r);return g.slice(y)}).join(`
`);return l.replaceWith(c,d,n.schema.text(p)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(xn.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[uM({find:gCe,type:this.type,getAttributes:t=>({language:t[1]})}),uM({find:xCe,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ds({key:new Li("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(en.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),yCe=Ll.create({name:"doc",topNode:!0,content:"block+"}),vCe=Ll.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Es(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:f})=>{if(f&&c&&o){const m=c.filter(p=>l.includes(p.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),wCe=Ll.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Es(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>uM({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),jCe=Ll.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Es(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!eke(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return dZ(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(en.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(Fr.create(o.doc,c.pos)):o.setSelection(en.create(o.doc,c.pos));else{const f=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=f==null?void 0:f.create();m&&(o.insert(d,m),o.setSelection(en.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[ZSe({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),NCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,SCe=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,kCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,CCe=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,_Ce=qf.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[$p({find:NCe,type:this.type}),$p({find:kCe,type:this.type})]},addPasteRules(){return[mm({find:SCe,type:this.type}),mm({find:CCe,type:this.type})]}}),ACe=Object.defineProperty,TCe=(t,e)=>{for(var r in e)ACe(t,r,{get:e[r],enumerable:!0})},MCe="listItem",KF="textStyle",JF=/^\s*([-+*])\s$/,VZ=Ll.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(MCe,this.editor.getAttributes(KF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=Zg({find:JF,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zg({find:JF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(KF),editor:this.editor})),[t]}}),GZ=Ll.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Es(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),OCe={};TCe(OCe,{findListItemPos:()=>o1,getNextListDepth:()=>QD,handleBackspace:()=>wM,handleDelete:()=>jM,hasListBefore:()=>YZ,hasListItemAfter:()=>ECe,hasListItemBefore:()=>KZ,listItemHasSubList:()=>JZ,nextListIsDeeper:()=>XZ,nextListIsHigher:()=>QZ});var o1=(t,e)=>{const{$from:r}=e.selection,n=ai(t,e.schema);let s=null,i=r.depth,o=r.pos,l=null;for(;i>0&&l===null;)s=r.node(i),s.type===n?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},QD=(t,e)=>{const r=o1(t,e);if(!r)return!1;const[,n]=kNe(e,t,r.$pos.pos+4);return n},YZ=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),i=t.doc.resolve(s).node();return!(!i||!r.includes(i.type.name))},KZ=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},JZ=(t,e,r)=>{if(!r)return!1;const n=ai(t,e.schema);let s=!1;return r.descendants(i=>{i.type===n&&(s=!0)}),s},wM=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!hm(t.state,e)&&YZ(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((p,g)=>{p.type.name===e&&d.push({node:p,pos:g})});const f=d.at(-1);if(!f)return!1;const m=t.state.doc.resolve(c.start()+f.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!hm(t.state,e)||!TNe(t.state))return!1;const n=o1(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=JZ(e,t.state,i);return KZ(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},XZ=(t,e)=>{const r=QD(t,e),n=o1(t,e);return!n||!r?!1:r>n.depth},QZ=(t,e)=>{const r=QD(t,e),n=o1(t,e);return!n||!r?!1:r<n.depth},jM=(t,e)=>{if(!hm(t.state,e)||!ANe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:XZ(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():QZ(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},ECe=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},ZZ=La.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&jM(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&jM(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&wM(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&wM(t,r,n)&&(e=!0)}),e}}}}),DCe="listItem",XF="textStyle",QF=/^(\d+)\.\s$/,eee=Ll.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Es(this.options.HTMLAttributes,r),0]:["ol",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(DCe,this.editor.getAttributes(XF)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=Zg({find:QF,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=Zg({find:QF,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(XF)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),PCe=/^\s*(\[([( |x])?\])\s$/,LCe=Ll.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Es(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=f=>{var m,p;l.ariaLabel=((p=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:p.call(m,f,l.checked))||`Task item checkbox for ${f.textContent||"empty task item"}`};return d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",f=>f.preventDefault()),l.addEventListener("change",f=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=f.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:p})=>{const g=r();if(typeof g!="number")return!1;const v=p.doc.nodeAt(g);return p.setNodeMarkup(g,void 0,{...v==null?void 0:v.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([f,m])=>{s.setAttribute(f,m)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(e).forEach(([f,m])=>{s.setAttribute(f,m)}),{dom:s,contentDOM:c,update:f=>f.type!==this.type?!1:(s.dataset.checked=f.attrs.checked,l.checked=f.attrs.checked,d(f),!0)}}},addInputRules(){return[Zg({find:PCe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),RCe=Ll.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Es(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});La.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(VZ.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(GZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(ZZ.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(eee.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(LCe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(RCe.configure(this.options.taskList)),t}});var ICe=Ll.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),FCe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,$Ce=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,HCe=qf.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[$p({find:FCe,type:this.type})]},addPasteRules(){return[mm({find:$Ce,type:this.type})]}}),BCe=Ll.create({name:"text",group:"inline"}),zCe=qf.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function qCe(t={}){return new Ds({view(e){return new UCe(e,t)}})}class UCe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(r){let m=e.nodeBefore,p=e.nodeAfter;if(m||p){let g=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(g){let v=g.getBoundingClientRect(),w=m?v.bottom:v.top;m&&p&&(w=(w+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let y=this.width/2*l;n={left:v.left,right:v.right,top:w-y,bottom:w+y}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),p=this.width/2*o;n={left:m.left-p,right:m.left+p,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,f;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,f=-pageYOffset;else{let m=c.getBoundingClientRect(),p=m.width/c.offsetWidth,g=m.height/c.offsetHeight;d=m.left-c.scrollLeft*p,f=m.top-c.scrollTop*g}this.element.style.left=(n.left-d)/o+"px",this.element.style.top=(n.top-f)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=XX(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class As extends xn{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return As.valid(n)?new As(n):xn.near(n)}content(){return mr.empty}eq(e){return e instanceof As&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new As(e.resolve(r.pos))}getBookmark(){return new ZD(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!WCe(e)||!VCe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&As.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let c=e.doc.resolve(s);if(As.valid(c))return c}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!Fr.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let l=e.doc.resolve(s);if(As.valid(l))return l}return null}}}As.prototype.visible=!1;As.findFrom=As.findGapCursorFrom;xn.jsonID("gapcursor",As);class ZD{constructor(e){this.pos=e}map(e){return new ZD(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return As.valid(r)?new As(r):xn.near(r)}}function WCe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function VCe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function GCe(){return new Ds({props:{decorations:XCe,createSelectionBetween(t,e,r){return e.pos==r.pos&&As.valid(r)?new As(r):null},handleClick:KCe,handleKeyDown:YCe,handleDOMEvents:{beforeinput:JCe}}})}const YCe=$Q({ArrowLeft:zw("horiz",-1),ArrowRight:zw("horiz",1),ArrowUp:zw("vert",-1),ArrowDown:zw("vert",1)});function zw(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof en){if(!i.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let d=As.findGapCursorFrom(l,e,c);return d?(s&&s(n.tr.setSelection(new As(d))),!0):!1}}function KCe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!As.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&Fr.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new As(n))),!0)}function JCe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof As))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=Yt.empty;for(let o=n.length-1;o>=0;o--)s=Yt.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new mr(s,0,0));return i.setSelection(en.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function XCe(t){if(!(t.selection instanceof As))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",fs.create(t.doc,[Po.widget(t.selection.head,e,{key:"gapcursor"})])}var h5=200,Pi=function(){};Pi.prototype.append=function(e){return e.length?(e=Pi.from(e),!this.length&&e||e.length<h5&&this.leafAppend(e)||this.length<h5&&e.leafPrepend(this)||this.appendInner(e)):this};Pi.prototype.prepend=function(e){return e.length?Pi.from(e).append(this):this};Pi.prototype.appendInner=function(e){return new QCe(this,e)};Pi.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?Pi.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};Pi.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pi.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};Pi.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};Pi.from=function(e){return e instanceof Pi?e:e&&e.length?new tee(e):Pi.empty};var tee=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=h5)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=h5)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(Pi);Pi.empty=new tee([]);var QCe=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(Pi);const ZCe=500;class td{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,l,c,d=[],f=[];return this.items.forEach((m,p)=>{if(!m.step){s||(s=this.remapping(n,p+1),i=s.maps.length),i--,f.push(m);return}if(s){f.push(new Bd(m.map));let g=m.step.map(s.slice(i)),v;g&&o.maybeStep(g).doc&&(v=o.mapping.maps[o.mapping.maps.length-1],d.push(new Bd(v,void 0,void 0,d.length+f.length))),i--,v&&s.appendMap(v,i)}else o.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,c=new td(this.items.slice(0,n).append(f.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let f=0;f<e.steps.length;f++){let m=e.steps[f].invert(e.docs[f]),p=new Bd(e.mapping.maps[f],m,r),g;(g=c&&c.merge(p))&&(p=g,f?i.pop():l=l.slice(0,l.length-1)),i.push(p),r&&(o++,r=void 0),s||(c=p)}let d=o-n.depth;return d>t_e&&(l=e_e(l,d),o-=d),new td(l.append(i),o)}remapping(e,r){let n=new Zy;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new td(this.items.append(e.map(r=>new Bd(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(p=>{p.selection&&l--},s);let c=r;this.items.forEach(p=>{let g=i.getMirror(--c);if(g==null)return;o=Math.min(o,g);let v=i.maps[g];if(p.step){let w=e.steps[g].invert(e.docs[g]),y=p.selection&&p.selection.map(i.slice(c+1,g));y&&l++,n.push(new Bd(v,w,y))}else n.push(new Bd(v))},s);let d=[];for(let p=r;p<o;p++)d.push(new Bd(i.maps[p]));let f=this.items.slice(0,s).append(d).append(n),m=new td(f,l);return m.emptyItemCount()>ZCe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let f=o.selection&&o.selection.map(r.slice(n));f&&i++;let m=new Bd(d.invert(),c,f),p,g=s.length-1;(p=s.length&&s[g].merge(m))?s[g]=p:s.push(m)}}else o.map&&n--},this.items.length,0),new td(Pi.from(s.reverse()),i)}}td.empty=new td(Pi.empty,0);function e_e(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Bd{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Bd(r.getMap().invert(),r,this.selection)}}}class Fh{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const t_e=20;function r_e(t,e,r,n){let s=r.getMeta(_p),i;if(s)return s.historyState;r.getMeta(s_e)&&(t=new Fh(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(_p))return o.getMeta(_p).redo?new Fh(t.done.addTransform(r,void 0,n,B2(e)),t.undone,ZF(r.mapping.maps),t.prevTime,t.prevComposition):new Fh(t.done,t.undone.addTransform(r,void 0,n,B2(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!n_e(r,t.prevRanges)),d=o?w_(t.prevRanges,r.mapping):ZF(r.mapping.maps);return new Fh(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,B2(e)),td.empty,d,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new Fh(t.done.rebased(r,i),t.undone.rebased(r,i),w_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new Fh(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),w_(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function n_e(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function ZF(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function w_(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function a_e(t,e,r){let n=B2(e),s=_p.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),c=new Fh(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(_p,{redo:r,historyState:c})}let j_=!1,e$=null;function B2(t){let e=t.plugins;if(e$!=e){j_=!1,e$=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){j_=!0;break}}return j_}const _p=new Li("history"),s_e=new Li("closeHistory");function i_e(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ds({key:_p,state:{init(){return new Fh(td.empty,td.empty,null,0,-1)},apply(e,r,n){return r_e(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?nee:n=="historyRedo"?aee:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function ree(t,e){return(r,n)=>{let s=_p.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=a_e(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const nee=ree(!1,!0),aee=ree(!0,!0);La.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Ds({key:new Li("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||s>n&&i>n&&i<=s)return!0;if(s>n&&i>n&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-n,d=l-c,f=l;return e.deleteRange(d,f),!(this.storage.characters({node:e.doc})>n)}})]}});var o_e=La.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[qCe(this.options)]}});La.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ds({key:new Li("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,i=[];if(!r||!n)return fs.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(s>=d&&s<=d+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(s>=d&&s<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Po.node(d,d+c.nodeSize,{class:this.options.className}))}),fs.create(t,i)}}})]}});var l_e=La.create({name:"gapCursor",addProseMirrorPlugins(){return[GCe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=ha(Lr(t,"allowGapCursor",r)))!=null?e:null}}});La.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ds({key:new Li("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,d=!o.isLeaf&&QN(o);if((c||!this.options.showOnlyCurrent)&&d){const f=[this.options.emptyNodeClass];i&&f.push(this.options.emptyEditorClass);const m=Po.node(l,l+o.nodeSize,{class:f.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),fs.create(t,s)}}})]}});La.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ds({key:new Li("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||dZ(r.selection)||t.view.dragging?null:fs.create(r.doc,[Po.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function t$({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var c_e=La.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new Li(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Ds({key:t,appendTransaction:(r,n,s)=>{const{doc:i,tr:o,schema:l}=s,c=t.getState(s),d=i.content.size,f=l.nodes[this.options.node];if(c)return o.insert(d,f.create())},state:{init:(r,n)=>{const s=n.tr.doc.lastChild;return!t$({node:s,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const s=r.doc.lastChild;return!t$({node:s,types:e})}}})]}}),d_e=La.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>nee(t,e),redo:()=>({state:t,dispatch:e})=>aee(t,e)}},addProseMirrorPlugins(){return[i_e(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),u_e=La.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(fCe.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(oCe.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(VZ.configure(this.options.bulletList)),this.options.code!==!1&&s.push(pCe.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(bCe.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(yCe.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(o_e.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(l_e.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(vCe.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(wCe.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(d_e.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(jCe.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(_Ce.configure(this.options.italic)),this.options.listItem!==!1&&s.push(GZ.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(ZZ.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(BZ.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(eee.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(ICe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(HCe.configure(this.options.strike)),this.options.text!==!1&&s.push(BCe.configure(this.options.text)),this.options.underline!==!1&&s.push(zCe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(c_e.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),f_e=u_e,h_e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,m_e=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,p_e=qf.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Es(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[$p({find:h_e,type:this.type})]},addPasteRules(){return[mm({find:m_e,type:this.type})]}}),g_e=p_e;const x_e=[lke,f_e.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),uke.configure({types:["textStyle"]}),g_e.configure({multicolor:!0}),fke.configure({types:["textStyle"]}),Ike.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),dke.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],b_e=({editor:t,onClose:e})=>{const[r,n]=b.useState(()=>t.getAttributes("link").href||""),[s,i]=b.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=b.useState(()=>{try{const{from:f,to:m}=t.state.selection;return f===m?"":t.state.doc.textBetween(f,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(s).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},d=()=>{t.chain().focus().setTextSelection(s).run(),t.chain().focus().unsetLink().run(),e()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:r,onChange:f=>n(f.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&a.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),a.jsx("input",{type:"text",value:o,onChange:f=>l(f.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),a.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},y_e=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],s=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>a.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${s===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function v_e({editor:t}){const[e,r]=b.useState(!1),[n,s]=b.useState(null),[i,o]=b.useState(!1);if(!t)return null;const l=UZ({editor:t,selector:d=>({isBold:d.editor.isActive("bold")??!1,canBold:d.editor.can().chain().toggleBold().run()??!1,isItalic:d.editor.isActive("italic")??!1,canItalic:d.editor.can().chain().toggleItalic().run()??!1,isStrike:d.editor.isActive("strike")??!1,canStrike:d.editor.can().chain().toggleStrike().run()??!1,isCode:d.editor.isActive("code")??!1,canCode:d.editor.can().chain().toggleCode().run()??!1,isLink:d.editor.isActive("link")??!1,currentColor:d.editor.getAttributes("textStyle").color,currentBackgroundColor:d.editor.getAttributes("highlight").color,currentFontFamily:d.editor.getAttributes("textStyle").fontFamily,isAlignLeft:d.editor.isActive({textAlign:"left"})??!1,isAlignCenter:d.editor.isActive({textAlign:"center"})??!1,isAlignRight:d.editor.isActive({textAlign:"right"})??!1,isAlignJustify:d.editor.isActive({textAlign:"justify"})??!1,canClearMarks:d.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:d.editor.isActive("paragraph")??!1,isHeading1:d.editor.isActive("heading",{level:1})??!1,isHeading2:d.editor.isActive("heading",{level:2})??!1,isHeading3:d.editor.isActive("heading",{level:3})??!1,isBulletList:d.editor.isActive("bulletList")??!1,isOrderedList:d.editor.isActive("orderedList")??!1,canUndo:d.editor.can().chain().undo().run()??!1,canRedo:d.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:a.jsx(Gfe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:a.jsx(Qhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:a.jsx(Zme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:a.jsx(ghe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:a.jsx(Ife,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:a.jsx(Dfe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:a.jsx($fe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:a.jsx(Lfe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>s("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[a.jsx(kme,{size:18}),l.currentColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),a.jsxs("button",{type:"button",onClick:()=>s("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[a.jsx(Nme,{size:18}),l.currentBackgroundColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[a.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:a.jsx(JK,{size:18})}),i&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(d=>a.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(d).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:d},children:d.split(",")[0]},d)),a.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:a.jsx(ame,{size:18})}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:a.jsx(Hme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:a.jsx(In,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:a.jsx(Tme,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:a.jsx(zhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:a.jsx(Uhe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:a.jsx(Vhe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:a.jsx(KE,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:a.jsx(lme,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:a.jsx(ope,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:a.jsx(Rme,{size:18})})]})]})}),e&&a.jsx(b_e,{editor:t,onClose:()=>r(!1)}),n&&a.jsx(y_e,{editor:t,type:n,onClose:()=>s(null)})]})}const Pf=({value:t,onChange:e})=>{const r=rCe({extensions:x_e,content:t,onUpdate:({editor:n})=>{const s=n.getHTML();e(s)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?a.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[a.jsx(v_e,{editor:r}),a.jsx(Jke,{editor:r,className:"min-h-[120px]"})]}):a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},w_e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,j_e=()=>{var je,ce,le,pe,$e,de,Se;const{getAllMasterData:t,submitMachineHistory:e}=sr(),r=tr(),[n,s]=b.useState(!1),[i,o]=b.useState(null),[l,c]=b.useState(null),[d,f]=b.useState(!1),[m,p]=b.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),p(te=>!te)},[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState([]),[k,S]=b.useState([]),[A,_]=b.useState([]),[O,P]=b.useState([]),[I,R]=b.useState([]),[F,E]=b.useState([]),[M,H]=b.useState([]),[V,G]=b.useState([]),[q,B]=b.useState([]),z={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[X,ee]=b.useState(z),K=b.useCallback((te,se)=>{if(te&&typeof te=="object"&&"value"in te&&se)ee(ut=>({...ut,[se]:te.value}));else if(te&&"target"in te){const{name:ut,value:dt}=te.target;ee(De=>{if(["stopJam","startJam"].includes(ut)){const rt=dt.replace(/[^\d]/g,""),wt=parseInt(rt,10);return{...De,[ut]:rt===""?0:Math.max(0,Math.min(23,isNaN(wt)?0:wt))}}if(["stopMenit","startMenit"].includes(ut)){const rt=dt.replace(/[^\d]/g,""),wt=parseInt(rt,10);return{...De,[ut]:rt===""?0:Math.max(0,Math.min(59,isNaN(wt)?0:wt))}}return ut==="runningHour"||ut==="jumlah"?{...De,[ut]:dt.replace(/[^\d.]/g,"")}:{...De,[ut]:dt}})}},[]),W=b.useCallback(te=>{if(typeof te=="string"){const se=te.replace(/[^\d]/g,""),ut=parseInt(se,10);return isNaN(ut)?"":ut.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(te)||te===null||te===void 0?"":te.toLocaleString("id-ID").replace(/,/g,".")},[]),J=async te=>{te.preventDefault(),s(!0),o(null),c(null);const se={...X,perbaikanPerawatan:X.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:X.runningHour?parseInt(String(X.runningHour).replace(/\./g,""),10):0,jumlah:X.jumlah?parseInt(String(X.jumlah).replace(/\./g,""),10):0,stopJam:X.stopJam===0&&String(X.stopJam)===""?null:X.stopJam,stopMenit:X.stopMenit===0&&String(X.stopMenit)===""?null:X.stopMenit,startJam:X.startJam===0&&String(X.startJam)===""?null:X.startJam,startMenit:X.startMenit===0&&String(X.startMenit)===""?null:X.startMenit};try{await e(se),c("Data history mesin berhasil disimpan!"),f(!0),Z()}catch(ut){o(ut.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",ut)}finally{s(!1)}},Z=b.useCallback(()=>{ee(z),o(null),c(null)},[]),ie=b.useCallback(()=>{f(!1),r("/machinehistory")},[r]);b.useEffect(()=>{(async()=>{var se,ut,dt,De,rt,wt,gt,Rt,He;try{const he=await t();N(((se=he.mesin)==null?void 0:se.data)||[]),S(((ut=he.shifts)==null?void 0:ut.data)||[]),_(((dt=he.groups)==null?void 0:dt.data)||[]),P(((De=he.stoptimes)==null?void 0:De.data)||[]),R(((rt=he.units)==null?void 0:rt.data)||[]),E(((wt=he.itemtroubles)==null?void 0:wt.data)||[]),H(((gt=he.jenisaktivitas)==null?void 0:gt.data)||[]),G(((Rt=he.kegiatans)==null?void 0:Rt.data)||[]),B(((He=he.unitspareparts)==null?void 0:He.data)||[])}catch(he){console.error("Gagal mengambil semua data master:",he),o(he.message||"Gagal memuat daftar data master.")}})()},[t]);const ue={control:(te,se)=>({...te,minHeight:"42px",borderColor:se.isFocused?"#3B82F6":"#D1D5DB",boxShadow:se.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:te=>({...te,padding:"0"}),singleValue:te=>({...te,color:"#374151"}),placeholder:te=>({...te,color:"#6B7280"}),dropdownIndicator:te=>({...te,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:te=>({...te,display:"none"}),menu:te=>({...te,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(te,se)=>({...te,backgroundColor:se.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx($g,{}),isMobile:v,toggleSidebar:g}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),a.jsxs(T.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:i}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),a.jsxs("form",{onSubmit:J,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:X.date,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"shift",id:"shift",options:(k||[]).map(te=>({value:te.id,label:te.name})),value:k.map(te=>({value:te.id,label:te.name})).find(te=>te.value===X.shift),onChange:te=>K(te,"shift"),placeholder:"Select Shift",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"group",id:"group",options:(A||[]).map(te=>({value:te.id,label:te.name})),value:A.map(te=>({value:te.id,label:te.name})).find(te=>te.value===X.group),onChange:te=>K(te,"group"),placeholder:"Select Group",styles:ue,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:X.startJam===null?"":X.startJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:X.startMenit===null?"":X.startMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:X.stopJam===null?"":X.stopJam,onChange:K,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:X.stopMenit===null?"":X.stopMenit,onChange:K,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"stopTime",id:"stopTime",options:(O||[]).map(te=>({value:te.id,label:te.name})),value:O.find(te=>te.id===X.stopTime)?{value:X.stopTime,label:((je=O.find(te=>te.id===X.stopTime))==null?void 0:je.name)||""}:null,onChange:te=>K(te,"stopTime"),placeholder:"Select Stop Type",styles:ue,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"mesin",id:"mesin",options:(y||[]).map(te=>({value:te.id,label:te.name})),value:y.find(te=>te.id===X.mesin)?{value:X.mesin,label:((ce=y.find(te=>te.id===X.mesin))==null?void 0:ce.name)||""}:null,onChange:te=>K(te,"mesin"),placeholder:"Select Machine",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:W(X.runningHour),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"unit",id:"unit",options:(I||[]).map(te=>({value:te.id,label:te.name})),value:I.find(te=>te.id===X.unit)?{value:X.unit,label:((le=I.find(te=>te.id===X.unit))==null?void 0:le.name)||""}:null,onChange:te=>K(te,"unit"),placeholder:"Select Unit",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"itemTrouble",id:"itemTrouble",options:(F||[]).map(te=>({value:te.id,label:te.name})),value:F.find(te=>te.id===X.itemTrouble)?{value:X.itemTrouble,label:((pe=F.find(te=>te.id===X.itemTrouble))==null?void 0:pe.name)||""}:null,onChange:te=>K(te,"itemTrouble"),placeholder:"Select Item Trouble",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:X.jenisGangguan,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:X.bentukTindakan,onChange:te=>{ee(se=>({...se,bentukTindakan:te}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:X.rootCause,onChange:K,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"jenisAktivitas",id:"jenisAktivitas",options:(M||[]).map(te=>({value:te.id,label:te.name})),value:M.find(te=>te.id===X.jenisAktivitas)?{value:X.jenisAktivitas,label:(($e=M.find(te=>te.id===X.jenisAktivitas))==null?void 0:$e.name)||""}:null,onChange:te=>K(te,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"kegiatan",id:"kegiatan",options:(V||[]).map(te=>({value:te.id,label:te.name})),value:V.find(te=>te.id===X.kegiatan)?{value:X.kegiatan,label:((de=V.find(te=>te.id===X.kegiatan))==null?void 0:de.name)||""}:null,onChange:te=>K(te,"kegiatan"),placeholder:"Select Activity",styles:ue,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:X.kodePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:X.sparePart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:X.idPart,onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:W(X.jumlah),onChange:K,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Tn,{name:"unitSparePart",id:"unitSparePart",options:(q||[]).map(te=>({value:te.id,label:te.name})),value:q.find(te=>te.id===X.unitSparePart)?{value:X.unitSparePart,label:((Se=q.find(te=>te.id===X.unitSparePart))==null?void 0:Se.name)||""}:null,onChange:te=>K(te,"unitSparePart"),placeholder:"Select Unit",styles:ue})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:Z,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),a.jsx(w_e,{isOpen:d,onClose:ie,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ie,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},N_e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,S_e=()=>{var H,V,G,q,B,z,X,ee,K,W,J,Z,ie,ue,je,ce,le,pe,$e,de,Se,te,se,ut,dt,De,rt,wt,gt,Rt,He,he,Qe,Ge,mt,Le;const{id:t}=si(),e=tr(),[r,n]=b.useState(()=>{const _e=localStorage.getItem("sidebarOpen");return _e?JSON.parse(_e):!1}),s=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(_e=>!_e)},[i,o]=b.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:d,isMasterDataLoading:f}=sr(),[m,p]=b.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[g,v]=b.useState(!0),[w,y]=b.useState(!1),[N,k]=b.useState(null),[S,A]=b.useState(null),[_,O]=b.useState(!1);b.useEffect(()=>{(async()=>{var qe,ge,Oe,ke,Ue;try{if(v(!0),f||!d)return;if(t){const we=(await l(t)).data;we?p({date:we.date||"",shift:String(we.shift_id)||"",group:String(we.group_id)||"",stopJam:((qe=we.startstop)==null?void 0:qe.stop_time_hh)??null,stopMenit:((ge=we.startstop)==null?void 0:ge.stop_time_mm)??null,startJam:((Oe=we.startstop)==null?void 0:Oe.start_time_hh)??null,startMenit:((ke=we.startstop)==null?void 0:ke.start_time_mm)??null,stopTime:String(we.stoptime_id)||"",unit:String(we.unit_id)||"",mesin:String(we.mesin_id)||"",runningHour:we.running_hour??0,itemTrouble:String(we.itemtrouble_id)||"",jenisGangguan:we.jenis_gangguan||"",bentukTindakan:we.bentuk_tindakan||"",perbaikanPerawatan:((Ue=we.jenisaktifitas)==null?void 0:Ue.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:we.root_cause||"",jenisAktivitas:String(we.jenisaktifitas_id)||"",kegiatan:String(we.kegiatan_id)||"",kodePart:we.kode_part||"",sparePart:we.spare_part||"",idPart:we.id_part||"",jumlah:we.jumlah??0,unitSparePart:String(we.unitsp_id)||""}):k("Data history mesin tidak ditemukan.")}else k("ID history mesin tidak diberikan untuk pengeditan.")}catch(Xe){console.error("Error fetching machine history:",Xe),k(Xe.message||"Terjadi kesalahan saat memuat data.")}finally{v(!1)}})()},[t,d,f,l]);const P=b.useCallback((_e,qe)=>{if(_e&&typeof _e=="object"&&"value"in _e&&qe)p(ge=>({...ge,[qe]:_e.value}));else if(_e&&"target"in _e){const{name:ge,value:Oe,type:ke}=_e.target;p(Ue=>{if(["stopJam","startJam"].includes(ge)){const Xe=Oe.replace(/[^\d]/g,""),we=parseInt(Xe,10);return{...Ue,[ge]:Xe===""?null:Math.max(0,Math.min(23,isNaN(we)?0:we))}}if(["stopMenit","startMenit"].includes(ge)){const Xe=Oe.replace(/[^\d]/g,""),we=parseInt(Xe,10);return{...Ue,[ge]:Xe===""?null:Math.max(0,Math.min(59,isNaN(we)?0:we))}}return ge==="runningHour"||ge==="jumlah"?{...Ue,[ge]:Oe.replace(/[^\d.]/g,"")}:{...Ue,[ge]:Oe}})}},[]),I=b.useCallback(_e=>{if(_e===null||isNaN(Number(_e)))return"";if(typeof _e=="string"){const qe=_e.replace(/[^\d]/g,""),ge=parseInt(qe,10);return isNaN(ge)?"":ge.toLocaleString("id-ID").replace(/,/g,".")}return _e.toLocaleString("id-ID").replace(/,/g,".")},[]),R=async _e=>{_e.preventDefault(),y(!0),k(null),A(null);const qe={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const ge=await c(t,qe);A(ge.message||"Machine history updated successfully!"),O(!0)}catch(ge){console.error("Error updating machine history:",ge),k(ge.message||"Failed to update machine history.")}finally{y(!1)}},F=b.useCallback(()=>{p({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),k(null),A(null)},[]),E=b.useCallback(()=>{O(!1),e("/machinehistory")},[e]),M={control:(_e,qe)=>({..._e,minHeight:"42px",borderColor:qe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:qe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:_e=>({..._e,padding:"0"}),singleValue:_e=>({..._e,color:"#374151"}),placeholder:_e=>({..._e,color:"#6B7280"}),dropdownIndicator:_e=>({..._e,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:_e=>({..._e,display:"none"}),menu:_e=>({..._e,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(_e,qe)=>({..._e,backgroundColor:qe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return f||g?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(fn,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!d&&!f?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx($t,{className:"mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx($t,{className:"mr-3 text-2xl"}),a.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx($g,{}),isMobile:i,toggleSidebar:s}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),a.jsxs(T.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to History"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>k(null)})})]}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"shift",id:"shift",options:((V=(H=d==null?void 0:d.shifts)==null?void 0:H.data)==null?void 0:V.map(_e=>({value:_e.id,label:_e.name})))||[],value:((q=(G=d==null?void 0:d.shifts)==null?void 0:G.data)==null?void 0:q.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.shift)))||null,onChange:_e=>P(_e,"shift"),placeholder:"Select Shift",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"group",id:"group",options:((z=(B=d==null?void 0:d.groups)==null?void 0:B.data)==null?void 0:z.map(_e=>({value:_e.id,label:_e.name})))||[],value:((ee=(X=d==null?void 0:d.groups)==null?void 0:X.data)==null?void 0:ee.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.group)))||null,onChange:_e=>P(_e,"group"),placeholder:"Select Group",styles:M,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:P,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:P,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:P,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:P,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"stopTime",id:"stopTime",options:((W=(K=d==null?void 0:d.stoptimes)==null?void 0:K.data)==null?void 0:W.map(_e=>({value:_e.id,label:_e.name})))||[],value:((Z=(J=d==null?void 0:d.stoptimes)==null?void 0:J.data)==null?void 0:Z.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.stopTime)))||null,onChange:_e=>P(_e,"stopTime"),placeholder:"Select Stop Type",styles:M,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"mesin",id:"mesin",options:((ue=(ie=d==null?void 0:d.mesin)==null?void 0:ie.data)==null?void 0:ue.map(_e=>({value:_e.id,label:_e.name})))||[],value:((ce=(je=d==null?void 0:d.mesin)==null?void 0:je.data)==null?void 0:ce.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.mesin)))||null,onChange:_e=>P(_e,"mesin"),placeholder:"Select Machine",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:I(m.runningHour),onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"unit",id:"unit",options:((pe=(le=d==null?void 0:d.units)==null?void 0:le.data)==null?void 0:pe.map(_e=>({value:_e.id,label:_e.name})))||[],value:((de=($e=d==null?void 0:d.units)==null?void 0:$e.data)==null?void 0:de.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.unit)))||null,onChange:_e=>P(_e,"unit"),placeholder:"Select Unit",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"itemTrouble",id:"itemTrouble",options:((te=(Se=d==null?void 0:d.itemtroubles)==null?void 0:Se.data)==null?void 0:te.map(_e=>({value:_e.id,label:_e.name})))||[],value:((ut=(se=d==null?void 0:d.itemtroubles)==null?void 0:se.data)==null?void 0:ut.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.itemTrouble)))||null,onChange:_e=>P(_e,"itemTrouble"),placeholder:"Select Item Trouble",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:m.bentukTindakan,onChange:_e=>{p(qe=>({...qe,bentukTindakan:_e}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:P,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"jenisAktivitas",id:"jenisAktivitas",options:((De=(dt=d==null?void 0:d.jenisaktivitas)==null?void 0:dt.data)==null?void 0:De.map(_e=>({value:_e.id,label:_e.name})))||[],value:((wt=(rt=d==null?void 0:d.jenisaktivitas)==null?void 0:rt.data)==null?void 0:wt.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.jenisAktivitas)))||null,onChange:_e=>P(_e,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"kegiatan",id:"kegiatan",options:((Rt=(gt=d==null?void 0:d.kegiatans)==null?void 0:gt.data)==null?void 0:Rt.map(_e=>({value:_e.id,label:_e.name})))||[],value:((he=(He=d==null?void 0:d.kegiatans)==null?void 0:He.data)==null?void 0:he.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.kegiatan)))||null,onChange:_e=>P(_e,"kegiatan"),placeholder:"Select Activity",styles:M,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:I(m.jumlah),onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Tn,{name:"unitSparePart",id:"unitSparePart",options:((Ge=(Qe=d==null?void 0:d.unitspareparts)==null?void 0:Qe.data)==null?void 0:Ge.map(_e=>({value:_e.id,label:_e.name})))||[],value:((Le=(mt=d==null?void 0:d.unitspareparts)==null?void 0:mt.data)==null?void 0:Le.map(_e=>({value:_e.id,label:_e.name})).find(_e=>String(_e.value)===String(m.unitSparePart)))||null,onChange:_e=>P(_e,"unitSparePart"),placeholder:"Select Unit",styles:M})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:F,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),a.jsx(N_e,{isOpen:_,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},r$={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},k_e=()=>{var $e;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:s,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=sr(),d=tr();Ws();const[f,m]=b.useState(()=>{const de=localStorage.getItem("sidebarOpen");return de?JSON.parse(de):!1}),[p,g]=b.useState(window.innerWidth<768),[v,w]=b.useState("roles"),[y,N]=b.useState(null),[k,S]=b.useState(null),[A,_]=b.useState(!1),[O,P]=b.useState({}),[I,R]=b.useState("all"),[F,E]=b.useState(""),[M,H]=b.useState([]),[V,G]=b.useState([]),[q,B]=b.useState(!1);b.useRef(null),b.useEffect(()=>{const de=()=>{g(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",de),()=>window.removeEventListener("resize",de)},[]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(f))},[f]),b.useEffect(()=>{const de=async()=>{try{const[Se,te]=await Promise.all([n(),r("/roles")]),ut=Se.map(De=>({id:String(De.id),name:De.name,nik:De.nik,email:De.email,roleId:De.role_id?String(De.role_id):null,role:De.role?{id:De.role.id,name:De.role.name}:void 0,customPermissions:De.customPermissions||[],department:De.department||null,department_id:De.department_id||null,permissions:De.permissions||De.allPermissions||[]})),dt=te.map(De=>({id:String(De.id),name:De.name,description:De.description||`${De.name} role`,permissions:De.permissions.map(String),isSuperadmin:De.name==="superadmin"}));H(ut),G(dt)}catch(Se){console.error("Failed to fetch data:",Se)}};s("view_permissions")&&de()},[n,r,s]);const z=()=>{m(de=>!de)},X=de=>{P(Se=>({...Se,[de]:!Se[de]}))},ee=de=>{!y||y.isSuperadmin||N(Se=>({...Se,permissions:Se.permissions.includes(de)?Se.permissions.filter(te=>te!==de):[...Se.permissions,de]}))},K=de=>{!k||k.roleId==="3"||S(Se=>{if(!Se)return null;const te=Se.customPermissions.includes(de)?Se.customPermissions.filter(se=>se!==de):[...Se.customPermissions,de];return{...Se,customPermissions:te,permissions:[...new Set([...Se.rolePermissions||[],...te])]}})},W=de=>{N(de),_(!0)},J=b.useCallback(async()=>{if(!y||!s("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!y.name.trim()){alert("Role name cannot be empty!");return}try{const de={name:y.name,description:y.description,permissions:y.permissions};y.id?await c(y.id,de):await l(de);const te=(await r("/roles")).map(se=>({id:String(se.id),name:se.name,description:se.description,permissions:se.permissions.map(String),isSuperadmin:se.name==="superadmin"}));G(te),_(!1),N(null)}catch(de){console.error("Failed to save role:",de)}},[y,s,c,l,r]),Z=de=>{const Se=V.find(te=>String(te.id)===String(de.roleId));S({...de,rolePermissions:(Se==null?void 0:Se.permissions)||[],customPermissions:de.customPermissions||[],permissions:de.permissions||[]})},ie=async()=>{if(k)try{const de=await i(k.id,{roleId:k.roleId||null,customPermissions:k.customPermissions||[]});H(M.map(Se=>{if(Se.id===de.id){const te=de.roleId||null,se=V.find(rt=>String(rt.id)===String(te)),ut=(se==null?void 0:se.permissions)||[],dt=de.customPermissions||[],De=[...new Set([...ut,...dt])];return{...de,roleId:te,customPermissions:dt,rolePermissions:ut,permissions:De}}return Se})),S(null)}catch(de){console.error("Failed to save user:",de)}},ue=async de=>{if(!(!s("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${de}`,{method:"DELETE"});const te=(await r("/roles")).map(se=>({id:String(se.id),name:se.name,description:se.description,permissions:se.permissions.map(String),isSuperadmin:se.name==="superadmin"}));G(te)}catch(Se){console.error("Failed to delete role:",Se)}},je=b.useCallback(async de=>{if(window.confirm("Are you sure you want to delete this user?")){B(!0);try{await o(de);const Se=await n();H(Se)}catch(Se){console.error("Failed to delete user:",Se)}finally{B(!1)}}},[o,n]),ce=de=>{if(!de)return"No Role";const Se=V.find(te=>String(te.id)===String(de));return Se?Se.name:"No Role"},le=["all",...new Set(M.map(de=>{var Se;return((Se=de.department)==null?void 0:Se.name)||""}).filter(Boolean))],pe=M.filter(de=>{var Se;return I==="all"||((Se=de.department)==null?void 0:Se.name)===I}).filter(de=>de.name.toLowerCase().includes(F.toLowerCase())||de.nik.toLowerCase().includes(F.toLowerCase()));return s("15")?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Ep,{}),isMobile:p,toggleSidebar:z}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>w("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Ep,{className:"mr-2 text-base"}),"Roles & Permissions"]}),a.jsxs("button",{onClick:()=>w("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${v==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(ga,{className:"mr-2 text-base"}),"User Permissions"]})]})}),v==="roles"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),s("16")&&a.jsxs(T.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Role"})]})]}),A&&a.jsxs(T.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:y!=null&&y.id?"Edit Role":"Add New Role"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),a.jsx("input",{type:"text",value:(y==null?void 0:y.name)||"",onChange:de=>N(Se=>({...Se,name:de.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:(y==null?void 0:y.description)||"",onChange:de=>N(Se=>({...Se,description:de.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(r$).map(([de,Se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(de),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:de.replace(/([A-Z])/g," $1").trim()}),O[de]?a.jsx(sj,{}):a.jsx(la,{})]}),a.jsx(ar,{children:O[de]&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(Se).map(([te,se])=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`perm-${se}`,checked:(y==null?void 0:y.isSuperadmin)||(y==null?void 0:y.permissions.includes(se))||!1,onChange:()=>ee(se),disabled:y==null?void 0:y.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("label",{htmlFor:`perm-${se}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium",children:[te," ",de.replace(/([A-Z])/g," $1").trim(),(y==null?void 0:y.isSuperadmin)&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},se))})})]},de))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:J,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:V.map(de=>a.jsxs(T.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[de.name,de.isSuperadmin&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!de.isSuperadmin&&s("16")&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(de),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx($a,{className:"text-base"})}),!de.isSuperadmin&&s("17")&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ue(de.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"text-base"})})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:de.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium text-gray-900",children:de.permissions.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),a.jsx("span",{className:"font-medium text-gray-900",children:M.filter(Se=>Se.roleId===de.id).length})]})]})]},de.id))})]}),v==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:F,onChange:de=>E(de.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),a.jsx("select",{value:I,onChange:de=>R(de.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:le.map(de=>a.jsx("option",{value:de,children:de==="all"?"All Departments":de},de))}),s("17")&&a.jsxs(T.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(fpe,{className:"text-base"}),a.jsx("span",{children:"Add User"})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:pe.map(de=>{var Se,te,se;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:de.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:de.nik}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:de.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((Se=de.department)==null?void 0:Se.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((te=de.role)==null?void 0:te.name)||ce(de.roleId)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:de.roleId==="3"?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(se=de.customPermissions)!=null&&se.length?a.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:de.customPermissions.join(", "),children:[de.customPermissions.length," custom"]}):a.jsx("span",{className:"italic text-gray-400",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:s("edit_permissions")&&a.jsxs(a.Fragment,{children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(de),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx($a,{className:"text-base"})}),de.id!==(t==null?void 0:t.id)&&s("manage_users")&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>je(de.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"text-base"})})]})})]},de.id)})})]})})})]})]})]}),a.jsx(ar,{children:k&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),a.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:a.jsx($t,{className:"text-xl"})})]}),a.jsxs("div",{className:"p-6",children:[!k.roleId&&a.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:a.jsx("p",{className:"text-yellow-700",children:"⚠️ This user has no role assigned. Permissions will come only from custom permissions."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"font-medium text-gray-900",children:k.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("div",{className:"text-gray-600",children:k.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:k.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"text-gray-600",children:(($e=k.department)==null?void 0:$e.name)||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:k.roleId||"",onChange:de=>{const Se=de.target.value||null,te=V.find(se=>String(se.id)===String(Se));S({...k,roleId:Se,rolePermissions:(te==null?void 0:te.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No Role"}),V.map(de=>a.jsx("option",{value:String(de.id),children:de.name},de.id))]})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(r$).map(([de,Se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>X(de),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:de.replace(/([A-Z])/g," $1").trim()}),O[de]?a.jsx(sj,{}):a.jsx(la,{})]}),a.jsx(ar,{children:O[de]&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(Se).map(([te,se])=>{var wt,gt;const ut=((wt=k.rolePermissions)==null?void 0:wt.includes(se))||!1,dt=k.roleId==="3",De=dt||ut||((gt=k.customPermissions)==null?void 0:gt.includes(se)),rt=dt||ut;return a.jsxs("div",{className:`flex items-center ${rt?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`user-perm-${se}`,checked:De,onChange:()=>!rt&&K(se),disabled:rt,className:`h-4 w-4 rounded focus:ring-blue-500 ${dt?"text-blue-600":ut?"text-purple-600":"text-blue-600"}`}),a.jsx("label",{htmlFor:`user-perm-${se}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium flex items-center",children:[te," ",de.replace(/([A-Z])/g," $1").trim(),dt&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),ut&&!dt&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},se)})})})]},de))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ie,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},C_e=()=>{const{changePassword:t}=sr(),e=tr(),[r,n]=b.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=b.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=b.useState(!1),[c,d]=b.useState({current:!1,new:!1,confirm:!1}),[f,m]=b.useState(""),p=y=>{const{name:N,value:k}=y.target;n(S=>({...S,[N]:k})),s[N]&&i(S=>({...S,[N]:"",general:""}))},g=y=>{d(N=>({...N,[y]:!N[y]}))},v=()=>{let y=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",y=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",y=!1):(N.newPassword="New password is required",y=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",y=!1),i(N),y},w=async y=>{if(y.preventDefault(),!!v()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(k=>({...k,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:a.jsx(uE,{className:"text-xl text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),a.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(U7,{className:"text-blue-600 text-lg"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),a.jsxs("form",{onSubmit:w,className:"space-y-6",children:[a.jsxs(ar,{children:[s.general&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[a.jsx(uw,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:s.general})]})]}),f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[a.jsx($oe,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),a.jsx("p",{className:"text-green-600 text-sm",children:f})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:p,className:`w-full border ${s.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>g("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?a.jsx(v2,{}):a.jsx(w2,{})})]}),s.currentPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(uw,{className:"mr-1"})," ",s.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:p,className:`w-full border ${s.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>g("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?a.jsx(v2,{}):a.jsx(w2,{})})]}),a.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(q7,{className:"mr-1 text-blue-500"})," Password requirement:"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),s.newPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(uw,{className:"mr-1"})," ",s.newPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:p,className:`w-full border ${s.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>g("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?a.jsx(v2,{}):a.jsx(w2,{})})]}),s.confirmPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(uw,{className:"mr-1"})," ",s.confirmPassword]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(T.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(U7,{className:"mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(q7,{className:"text-blue-500 mr-2"})," Security Tip"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},__e=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],A_e=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],T_e=()=>{const t=tr(),{user:e,register:r,getRoles:n,hasPermission:s,getDepartment:i}=sr(),[o,l]=b.useState(!1),[c,d]=b.useState({}),[f,m]=b.useState(!1),[p,g]=b.useState({}),[v,w]=b.useState([]),[y,N]=b.useState([]),[k,S]=b.useState(window.innerWidth<768),[A,_]=b.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),O=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!A)),_(q=>!q)},[P,I]=b.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department_id:"",password:"",confirmPassword:""});b.useEffect(()=>{(async()=>{try{const B=await n();w(B);const z=await i();N(z)}catch(B){console.error("Failed to fetch data:",B)}})()},[n,i,t]);const R=__e.reduce((q,B)=>(q[B]=A_e.filter(z=>z.category===B),q),{}),F=q=>{d(B=>({...B,[q]:!B[q]}))},E=q=>{I(B=>({...B,customPermissions:B.customPermissions.includes(q)?B.customPermissions.filter(z=>z!==q):[...B.customPermissions,q]}))},M=q=>{const{name:B,value:z}=q.target;I(X=>({...X,[B]:z})),p[B]&&g(X=>({...X,[B]:""}))},H=()=>{const q={};return P.name.trim()||(q.name="Name is required"),P.nik.trim()?/^\d+$/.test(P.nik)||(q.nik="NIK must be numeric"):q.nik="NIK is required",P.password?P.password.length<6&&(q.password="Password must be at least 6 characters"):q.password="Password is required",P.password!==P.confirmPassword&&(q.confirmPassword="Passwords do not match"),P.department_id||(q.department="Department is required"),P.roleId||(q.roleId="Role is required"),g(q),Object.keys(q).length===0},V=q=>{const B=v.find(z=>z.id===q);return B?B.permissions:[]},G=async q=>{if(q.preventDefault(),!H())return;const B={name:P.name,nik:P.nik,email:P.email,password:P.password,confirmPassword:P.confirmPassword,department:P.department_id,roleId:P.roleId,customPermissions:P.customPermissions,customPermissionsCount:P.customPermissions.length};console.log("🔄 Submit Payload:",JSON.stringify(B,null,2)),console.log("📊 Payload Details:",{hasName:!!P.name,hasNIK:!!P.nik,hasEmail:!!P.email,hasPassword:!!P.password,passwordsMatch:P.password===P.confirmPassword,hasDepartment:!!P.department_id,hasRole:!!P.roleId,customPermissionsSelected:P.customPermissions.length}),m(!0);try{console.log("🚀 Starting user registration..."),await r(P.name,P.email,P.nik,P.password,P.department_id,P.roleId,P.customPermissions),console.log("✅ User created successfully"),t("/permissions",{state:{success:"User created successfully"}})}catch(z){console.error("❌ Failed to create user:",z),console.error("🔍 Error details:",{message:z.message,stack:z.stack,payload:B}),g({form:z.message||"Failed to create user. Please try again."})}finally{m(!1)}};return s("manage_users")?a.jsxs("div",{className:`flex h-screen font-sans antialiased ${o?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[a.jsx(er,{})," ",a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ln,{}),isMobile:k,toggleSidebar:O}),a.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${o?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`${o?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),a.jsx("p",{className:`${o?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),a.jsxs(T.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${o?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[a.jsx(uE,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),p.form&&a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${o?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",p.form]})]}),a.jsxs("form",{onSubmit:G,children:[a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${o?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${o?"text-gray-100":"text-gray-900"}`,children:"User Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),a.jsx("input",{type:"text",name:"name",value:P.name,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),p.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),a.jsx("input",{type:"text",name:"nik",value:P.nik,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),p.nik&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Email*"}),a.jsx("input",{type:"text",name:"email",value:P.email,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),p.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Department*"}),a.jsxs("select",{name:"department_id",value:P.department_id,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Department"}),y.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]}),p.department_id&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.department_id})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Password*"}),a.jsx("input",{type:"password",name:"password",value:P.password,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),p.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),a.jsx("input",{type:"password",name:"confirmPassword",value:P.confirmPassword,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),p.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.confirmPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${o?"text-gray-300":"text-gray-700"}`,children:"Role*"}),a.jsxs("select",{name:"roleId",value:P.roleId,onChange:M,className:`mt-1 block w-full border ${o?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Role"}),v.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]}),p.roleId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.roleId})]})]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${o?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${o?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),a.jsx("p",{className:`text-sm mb-4 ${o?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),a.jsx("div",{className:"space-y-4",children:Object.entries(R).map(([q,B])=>a.jsxs("div",{className:`${o?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[a.jsxs("button",{type:"button",onClick:()=>F(q),className:`w-full flex justify-between items-center p-3 ${o?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[a.jsx("span",{className:`font-medium ${o?"text-gray-200":"text-gray-700"}`,children:q}),c[q]?a.jsx(Boe,{className:`${o?"text-gray-400":"text-gray-500"}`}):a.jsx(Hoe,{className:`${o?"text-gray-400":"text-gray-500"}`})]}),a.jsx(ar,{children:c[q]&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${o?"bg-gray-800":"bg-white"}`,children:B.map(z=>{const X=P.roleId?V(P.roleId).includes(z.id):!1,ee=P.customPermissions.includes(z.id),K=X;return a.jsxs("div",{className:`flex items-center ${K?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`perm-${z.id}`,checked:ee||X,onChange:()=>!K&&E(z.id),disabled:K,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${X?o?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":o?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),a.jsxs("label",{htmlFor:`perm-${z.id}`,className:`ml-2 text-sm ${o?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"font-medium flex items-center",children:[z.name,X&&a.jsx("span",{className:`ml-2 text-xs ${o?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),a.jsx("div",{className:"text-gray-500 text-xs",children:z.description})]})]},z.id)})})})]},q))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(T.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${o?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:f,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${o?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:f?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Uoe,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:a.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},qw=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},M_e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,O_e=({isOpen:t,onClose:e,onAssign:r,workOrder:n,users:s})=>{const[i,o]=b.useState(""),l=()=>{n&&i&&(r(n.id,i),e())};return!t||!n?null:a.jsx(M_e,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Work Order ",a.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",a.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"user-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select User"}),a.jsxs("select",{id:"user-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Select User"}),s.map(c=>{var d;return a.jsxs("option",{value:c.id,children:[c.name," - ",((d=c.department)==null?void 0:d.name)||c.department_name," (",c.position||"No Position",")"]},c.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},E_e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(1),[k]=b.useState(5),[S,A]=b.useState(window.innerWidth<768),[_,O]=b.useState(!1),[P,I]=b.useState(!1),[R,F]=b.useState([]),[E,M]=b.useState(!0),[H,V]=b.useState(null),[G,q]=b.useState(!1),[B,z]=b.useState(null),[X,ee]=b.useState(!1),[K,W]=b.useState([]),[J,Z]=b.useState(!1),ie=tr(),ue=Ws(),je=b.useRef(null),ce=b.useRef(null),{user:le,getWorkOrdersIT:pe,updateWorkOrderIT:$e,getUsers:de,hasPermission:Se,getVendor:te}=sr(),se=ue.pathname==="/workorders/it/assignment",ut=ue.pathname==="/workorders/it/reports",dt=ue.pathname==="/workorders/it/knowledgebase",De=ue.pathname==="/workorders/it",rt=ue.pathname==="/workorders/it/receiver";ue.pathname;const wt=b.useCallback(async()=>{M(!0),V(null);try{const Ie=(await pe()).filter(Ye=>{var yt,ze,St;return(((ze=(yt=Ye.service)==null?void 0:yt.owner)==null?void 0:ze.id)||((St=Ye.service)==null?void 0:St.service_owner))===Number(le==null?void 0:le.id)});F(Ie)}catch(ne){V(ne.message||"Failed to load work orders.")}finally{M(!1)}},[pe,le==null?void 0:le.id]),gt=b.useCallback(async()=>{try{const ne=await de();W(ne)}catch(ne){console.error("Failed to fetch users:",ne)}},[de]),Rt=b.useCallback(async(ne,Ie)=>{q(!0),z(null),ee(!1);try{const Ye=await $e({...Ie,id:ne});return F(st=>st.map(yt=>yt.id===ne?Ye:yt)),ee(!0),setTimeout(()=>ee(!1),3e3),Ye}catch(Ye){throw z(Ye.message||"Failed to update work order."),Ye}finally{q(!1)}},[$e]),He=()=>{A(window.innerWidth<768),window.innerWidth<768&&n(!1)},he=ne=>{je.current&&!je.current.contains(ne.target)&&O(!1),ce.current&&!ce.current.contains(ne.target)&&I(!1)};b.useEffect(()=>(window.addEventListener("resize",He),document.addEventListener("mousedown",he),wt(),gt(),()=>{window.removeEventListener("resize",He),document.removeEventListener("mousedown",he)}),[wt,gt]);const Qe=ne=>{switch(ne){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},Ge=ne=>{switch(ne==null?void 0:ne.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},mt=ne=>{switch(ne){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},Le=ne=>{switch(ne==null?void 0:ne.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},_e=b.useCallback(ne=>{const Ie=R.find(Ye=>Ye.id===ne);Ie&&(w(Ie),m(!0))},[R]);b.useCallback(ne=>{const Ie=R.find(Ye=>Ye.id===ne);Ie&&(w(Ie),g(!0))},[R]),b.useCallback(async ne=>{try{await Rt(ne.id,ne),g(!1),w(null)}catch{}},[Rt]);const qe=()=>{n(ne=>!ne)},ge=R.filter(ne=>{var st,yt,ze,St;const Ie=((yt=(st=ne.requester)==null?void 0:st.name)==null?void 0:yt.toLowerCase().includes(s.toLowerCase()))||((ze=ne.work_order_no)==null?void 0:ze.toLowerCase().includes(s.toLowerCase()))||((St=ne.complaint)==null?void 0:St.toLowerCase().includes(s.toLowerCase()))||String(ne.id).includes(s),Ye=o==="all"||ne.handling_status===o;return Ie&&Ye}).sort((ne,Ie)=>{var St,Ee;const Ye=mt(ne.handling_status),st=mt(Ie.handling_status);if(Ye!==st)return Ye-st;const yt=Le(((St=ne.service)==null?void 0:St.priority)||"Medium"),ze=Le(((Ee=Ie.service)==null?void 0:Ee.priority)||"Medium");return yt!==ze?yt-ze:new Date(Ie.created_at).getTime()-new Date(ne.created_at).getTime()}),Oe=y*k,ke=Oe-k,Ue=ge.slice(ke,Oe),Xe=Math.ceil(ge.length/k),we=ne=>N(ne),ye=b.useCallback(ne=>{w(ne),Z(!0)},[]),Ke=b.useCallback(async(ne,Ie)=>{try{await Rt(ne,{assigned_to_id:parseInt(Ie),handling_status:"Assigned",handling_date:new Date().toISOString()}),Z(!1),w(null)}catch(Ye){console.error("Failed to assign work order:",Ye)}},[Rt]),pt=ne=>{var Ie;return ne.vendor?`${ne.vendor.name}`:((Ie=ne.assigned_to)==null?void 0:Ie.name)||"Unassigned"},tt=ne=>ne.vendor?"vendor":ne.assigned_to?"user":"unassigned",Te=({order:ne,onClose:Ie})=>{var Bt,ft,Ct,Mt,pr,yn,vn,or,Ur,Yr,jn,Ve;const Ye=it=>it==null?"-":typeof it=="object"&&it!==null?it.name||it.title||it.id||"-":typeof it=="string"?it.trim()!==""?it.trim():"-":typeof it=="number"?it.toString():String(it),st=it=>it?new Date(it).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",yt=({status:it})=>{const _t={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${_t[it]||_t.New}`,children:it})},ze=({priority:it})=>{const _t={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${_t[it]||_t.Medium}`,children:it||"Medium"})},St=({title:it,children:_t,icon:xe})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[xe&&a.jsx("div",{className:"mr-3 text-blue-600",children:xe}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:it})]})}),a.jsx("div",{className:"p-6",children:_t})]}),Ee=({label:it,value:_t,icon:xe,fullWidth:nt=!1,priority:Nt="medium"})=>{const cr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${nt?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${cr[Nt]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[xe&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:xe}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:it}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:_t})]})]})})})},It=({label:it,htmlContent:_t,icon:xe,fullWidth:nt=!1})=>{if(!_t)return a.jsx(Ee,{label:it,value:"-",icon:xe,fullWidth:nt,priority:"low"});const Nt=mu.sanitize(_t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${nt?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[xe&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:xe}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:it}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Nt}})]})]})})})},Pt=({order:it})=>{const _t=it.handling_status==="New",xe=it.handling_status==="Assigned",nt=_t&&Se("assign_workorders");return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[nt&&a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{Z(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(ln,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),xe&&a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ie(`/workorders/it/receiver/editreceiver/${it.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx($a,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ie,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",ne.work_order_no||ne.id]}),a.jsx(yt,{status:ne.handling_status}),a.jsx(ze,{priority:(Bt=ne.service)==null?void 0:Bt.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Created: ",st(ne.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),ne.handling_date?`Handling: ${st(ne.handling_date)}`:"Not yet handled"]})]})]})})}),a.jsx(St,{title:"Service Owner Information",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ee,{label:"Service Owner",value:Ye(((Ct=(ft=ne.service)==null?void 0:ft.owner)==null?void 0:Ct.name)||(le==null?void 0:le.name)),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Service Department",value:Ye((Mt=le==null?void 0:le.department)==null?void 0:Mt.name),icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Service Type",value:Ye((pr=ne.service_type)==null?void 0:pr.group_name),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Service Name",value:Ye((yn=ne.service)==null?void 0:yn.service_name),icon:a.jsx(un,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(St,{title:"Request Information",icon:a.jsx(un,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ee,{label:"Requester",value:Ye((vn=ne.requester)==null?void 0:vn.name),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Requester Department",value:Ye(ne.department_name||((or=ne.department)==null?void 0:or.name)),icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Reception Method",value:Ye(ne.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Known By",value:Ye((Ur=ne.known_by)==null?void 0:Ur.name),icon:a.jsx(bo,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Asset Number",value:Ye(ne.asset_no),icon:a.jsx(un,{className:"w-4 h-4"})})]})}),a.jsx(St,{title:"Technical Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ee,{label:"Device Information",value:Ye(ne.device_info),icon:a.jsx(zs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(It,{label:"Complaint Details",htmlContent:ne.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(St,{title:"Assignment & Handling",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Ee,{label:"Current Status",value:Ye(ne.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Priority Level",value:Ye(((Yr=ne.service)==null?void 0:Yr.priority)||"Medium"),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]}),a.jsx(Ee,{label:"Assigned To",value:Ye(((jn=ne.assigned_to)==null?void 0:jn.name)||"Unassigned"),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Assignment Type",value:ne.vendor?"Vendor":ne.assigned_to?"Internal Technician":"Not Assigned",icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Handling Start Date",value:st(ne.handling_date||"-"),icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Received By",value:Ye(((Ve=ne.received_by)==null?void 0:Ve.name)||"-"),icon:a.jsx(ur,{className:"w-4 h-4"})}),a.jsx(It,{label:"Action Taken",htmlContent:ne.action_taken||"",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(It,{label:"Technical Remarks",htmlContent:ne.remarks||"",icon:a.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),ne.vendor&&a.jsx(St,{title:"Vendor Assignment",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ee,{label:"Vendor Name",value:Ye(ne.vendor.name),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ee,{label:"Contact Person",value:Ye(ne.vendor.contact_person),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Email",value:Ye(ne.vendor.email),icon:a.jsx(Jp,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Phone",value:Ye(ne.vendor.telp),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Mobile",value:Ye(ne.vendor.HP),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(Ee,{label:"Address",value:Ye(ne.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(St,{title:"Timeline",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:st(ne.date)})]}),ne.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:st(ne.handling_date)})]}),ne.assigned_to&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),a.jsx("span",{className:"text-sm text-purple-600",children:Ye(ne.assigned_to.name)})]})]})}),ne.attachment&&a.jsx(St,{title:"Attachment",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),a.jsxs("a",{href:ne.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(YE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(Pt,{order:ne})]})};return b.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),E?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):H?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:H}),a.jsx("button",{onClick:wt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:S,toggleSidebar:qe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${De?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${rt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ut?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>ie("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${dt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),B&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:B}),a.jsx("button",{onClick:()=>z(null),className:"absolute top-0 right-0 p-3",children:a.jsx($t,{size:16})})]}),X&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>ee(!1),className:"absolute top-0 right-0 p-3",children:a.jsx($t,{size:16})})]}),a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(qw,{title:"Total IT Assignments",value:ge.length.toString(),change:"+8%",icon:a.jsx(un,{})}),a.jsx(qw,{title:"In Progress",value:ge.filter(ne=>["In Progress","Escalated","Vendor Handled"].includes(ne.handling_status)).length.toString(),change:"-1",icon:a.jsx(ia,{})}),a.jsx(qw,{title:"Resolved",value:ge.filter(ne=>["Resolved","Done"].includes(ne.handling_status)).length.toString(),change:"+1",icon:a.jsx(ur,{})}),a.jsx(qw,{title:"Assigned",value:ge.filter(ne=>ne.handling_status==="Assigned").length.toString(),change:"+3",icon:a.jsx(Cr,{})})]}),a.jsx(T.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:ne=>i(ne.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:ne=>l(ne.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ue.length>0?Ue.map(ne=>{var St,Ee,It,Pt;const Ye=!(ne.handling_status==="Resolved"||ne.handling_status==="Done"||ne.handling_status==="Cancel"||ne.handling_status==="Closed")&&Se("edit_workorders"),st=ne.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(ne.handling_status);const yt=pt(ne),ze=tt(ne);return a.jsxs(T.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>_e(ne.id),title:"Click to view details",children:ne.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ne.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(ne.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ne.handling_date?new Date(ne.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ge((St=ne.service)==null?void 0:St.priority)} shadow-sm`,children:((Ee=ne.service)==null?void 0:Ee.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Qe(ne.handling_status)} shadow-sm`,children:ne.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:st?a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ye(ne),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${ze==="vendor"?"text-purple-600":ze==="user"?"text-blue-600":"text-gray-500"}`,children:yt}),ze==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>_e(ne.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),Ye&&(ne.handling_status!=="In Progress"||!((It=ne.assigned_to)!=null&&It.name)||((Pt=ne.assigned_to)==null?void 0:Pt.name)==="N/A")&&a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ie(`/workorders/it/receiver/editreceiver/${ne.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx($a,{className:"text-lg"})})]})]},ne.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),ge.length>k&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ke+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Oe,ge.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ge.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(y-1),disabled:y===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Xe},(ne,Ie)=>a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(Ie+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${y===Ie+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ie+1},Ie+1)),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(y+1),disabled:y===Xe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",v.work_order_no||v.id]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),w(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(Te,{order:v,onClose:()=>{m(!1),w(null)}})})]})})}),v&&a.jsx(O_e,{isOpen:J,onClose:()=>{Z(!1),w(null)},onAssign:Ke,workOrder:v,users:K})]})},n$=({content:t,className:e=""})=>{if(!t)return a.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=mu.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},D_e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,P_e=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,A]=b.useState(!1),[_,O]=b.useState(!1),[P,I]=b.useState(!0),[R,F]=b.useState(null),{user:E,hasPermission:M,getWorkOrdersIT:H}=sr(),V=tr(),G=Ws(),q=b.useRef(null),B=b.useRef(null);G.pathname,G.pathname;const z=G.pathname==="/workorders/it";G.pathname;const X=G.pathname==="/workorders/it/assignment",ee=G.pathname==="/workorders/it/receiver",K=G.pathname==="/workorders/it/reports",W=G.pathname==="/workorders/it/knowledgebase",[J,Z]=b.useState([]),ie=b.useCallback(async()=>{try{I(!0),F(null);const ut=(await H()).filter(dt=>dt.action_taken&&dt.handling_status==="Closed").map(dt=>{var wt,gt,Rt;const De=dt.complaint.split(" ").slice(0,5).join(" "),rt=`Solution for: ${De}${De.length<dt.complaint.length?"...":""}`;return{id:dt.id,title:rt,content:dt.action_taken||"No action taken details available.",category:((wt=dt.service)==null?void 0:wt.service_name)||"General",tags:[((gt=dt.service_type)==null?void 0:gt.group_name)||"General",dt.handling_status||"Completed",...dt.asset_no?[`Asset: ${dt.asset_no}`]:[]],lastUpdated:dt.handling_date||dt.updated_at||dt.created_at,workOrderNo:dt.work_order_no,technician:((Rt=dt.assigned_to)==null?void 0:Rt.name)||"Unknown Technician",completionDate:dt.handling_date||dt.updated_at}});Z(ut)}catch(se){F("Failed to load knowledge base articles"),console.error("Error loading work orders:",se)}finally{I(!1)}},[H]);b.useEffect(()=>{const se=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),b.useEffect(()=>{const se=ut=>{q.current&&!q.current.contains(ut.target)&&A(!1),B.current&&!B.current.contains(ut.target)&&O(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]),b.useEffect(()=>{ie()},[ie]),b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,r,t]);const ue=()=>{n(se=>!se)},je=b.useCallback(se=>{g(se),d(!0)},[]),ce=J.filter(se=>{const ut=se.title.toLowerCase().includes(s.toLowerCase())||se.content.toLowerCase().includes(s.toLowerCase())||se.tags.some(De=>De.toLowerCase().includes(s.toLowerCase())),dt=o==="all"||se.category===o;return ut&&dt}),le=Array.from(new Set(J.map(se=>se.category))),pe=v*y,$e=pe-y,de=ce.slice($e,pe),Se=Math.ceil(ce.length/y),te=se=>w(se);return E?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(df,{}),isMobile:N,toggleSidebar:ue}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ee?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${X?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>V("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-2/3",children:[a.jsx(Pa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:s,onChange:se=>i(se.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsxs("select",{value:o,onChange:se=>l(se.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),le.map(se=>a.jsx("option",{value:se,children:se},se))]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[ce.length," articles found"]})]}),P?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):R?a.jsxs("div",{className:"text-center py-10 text-red-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),a.jsx("p",{className:"text-lg font-medium",children:R}),a.jsx("button",{onClick:ie,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):de.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(ar,{children:de.map(se=>a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>je(se),children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:se.title}),a.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:a.jsx(n$,{content:se.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:se.category}),se.tags.map(ut=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:ut},ut))]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(yf,{size:12,className:"mr-1"}),se.workOrderNo]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(oI,{size:12,className:"mr-1"}),se.technician]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(xa,{size:12,className:"mr-1"}),new Date(se.lastUpdated).toLocaleDateString()]})]})]},se.id))})}),ce.length>y&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(T.button,{onClick:()=>te(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx(T.button,{onClick:()=>te(v+1),disabled:v===Se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:$e+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(pe,ce.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ce.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(T.button,{onClick:()=>te(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(fu,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(Se)].map((se,ut)=>a.jsx(T.button,{onClick:()=>te(ut+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===ut+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:ut+1},ut)),a.jsxs(T.button,{onClick:()=>te(v+1),disabled:v===Se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),p&&a.jsx(D_e,{isOpen:c,onClose:()=>d(!1),title:p.title,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(yf,{size:16,className:"mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Work Order:"}),a.jsx("span",{className:"ml-2",children:p.workOrderNo})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(oI,{size:16,className:"mr-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Technician:"}),a.jsx("span",{className:"ml-2",children:p.technician})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(xa,{size:16,className:"mr-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:new Date(p.completionDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(df,{size:16,className:"mr-2 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("span",{className:"ml-2",children:p.category})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),a.jsx(n$,{content:p.content})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:p.tags.map(se=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:se},se))})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(p.lastUpdated).toLocaleDateString()," at ",new Date(p.lastUpdated).toLocaleTimeString()]})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var L_e=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],a$=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),i=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return i===s||o===s},N_={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,s){return!(!e||r.some(function(i){return a$(e,i,s)})||n.some(function(i){return a$(e,i,s)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function R_e(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,s=n===void 0?"last":n,i=t.formatCreateLabel,o=i===void 0?N_.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?N_.isValidNewOption:l,d=t.getNewOptionData,f=d===void 0?N_.getNewOptionData:d,m=t.onCreateOption,p=t.options,g=p===void 0?[]:p,v=t.onChange,w=pu(t,L_e),y=w.getOptionValue,N=y===void 0?xX:y,k=w.getOptionLabel,S=k===void 0?gX:k,A=w.inputValue,_=w.isLoading,O=w.isMulti,P=w.value,I=w.name,R=b.useMemo(function(){return c(A,Nj(P),g,{getOptionValue:N,getOptionLabel:S})?f(A,o(A)):void 0},[o,f,S,N,A,c,g,P]),F=b.useMemo(function(){return(r||!_)&&R?s==="first"?[R].concat(kg(g)):[].concat(kg(g),[R]):g},[r,s,_,R,g]),E=b.useCallback(function(M,H){if(H.action!=="select-option")return v(M,H);var V=Array.isArray(M)?M:[M];if(V[V.length-1]===R){if(m)m(A);else{var G=f(A,A),q={action:"create-option",name:I,option:G};v(sy(O,[].concat(kg(Nj(P)),[G]),G),q)}return}v(M,H)},[f,A,O,I,R,m,v,P]);return Ir(Ir({},w),{},{options:F,onChange:E})}var I_e=b.forwardRef(function(t,e){var r=qJ(t),n=R_e(r);return b.createElement(gD,qr({ref:e},n))}),see=I_e;const F_e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,$_e=()=>{var Ge,mt,Le,_e,qe;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i}=sr(),o=tr(),[l,c]=b.useState([]),[d,f]=b.useState([]),[m,p]=b.useState([]),[g,v]=b.useState([]),[w,y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const ge=localStorage.getItem("sidebarOpen");return ge?JSON.parse(ge):!1}),[S,A]=b.useState(!1),[_,O]=b.useState(null),[P,I]=b.useState(null),[R,F]=b.useState(!1),[E,M]=b.useState(null),[H,V]=b.useState([]),[G,q]=b.useState([]),[B,z]=b.useState(!1),[X,ee]=b.useState(null),K=b.useRef(null),W=b.useRef(null),J=ge=>{ge.preventDefault(),ge.stopPropagation(),z(!0)},Z=()=>{const ge=document.createElement("input");ge.type="file",ge.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",ge.onchange=Oe=>{const ke=Oe.target;if(ke.files&&ke.files.length>0){const Ue=ke.files[0];M(Ue),pe(Xe=>({...Xe,attachment:null}))}z(!1)},ge.click()},ie=async()=>{try{const ge=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});ee(ge),K.current&&(K.current.srcObject=ge)}catch(ge){console.error("Error accessing camera:",ge),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},ue=()=>{if(K.current&&W.current){const ge=W.current,Oe=ge.getContext("2d");if(Oe){ge.width=K.current.videoWidth,ge.height=K.current.videoHeight,Oe.drawImage(K.current,0,0);const ke=ge.toDataURL("image/jpeg",.8);pe(Xe=>({...Xe,attachment:ke}));const Ue={name:`photo-${Date.now()}.jpg`,type:"image/jpeg",size:ke.length,lastModified:Date.now(),data:ke};M(Ue),X&&(X.getTracks().forEach(Xe=>Xe.stop()),ee(null))}}z(!1)},je=()=>{X&&(X.getTracks().forEach(ge=>ge.stop()),ee(null)),z(!1)},ce={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Ge=e==null?void 0:e.department)==null?void 0:Ge.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null},[le,pe]=b.useState(ce),$e=le.reception_method==="Electronic Work Order System";b.useEffect(()=>{e&&(async()=>{try{const Oe=await i(e!=null&&e.id?parseInt(e.id):0);console.log("Raw service groups data:",Oe);const ke=Oe.map(we=>({id:Number(we.id),name:we.group_name||we.name||"",description:we.group_description||we.description||void 0}));console.log("Mapped service groups:",ke),q(ke);const Ue=await s();f(Ue);const Xe=await r();if(c(Xe),e&&e.id){const we=await n(parseInt(e.id));console.log("Services data:",we),p(we)}}catch(Oe){console.error("Failed to fetch master data:",Oe)}})()},[e,r,n,s,i]),b.useEffect(()=>{if(le.reception_method==="Electronic Work Order System"&&e&&d.length>0){const ge=d.find(ke=>ke.id===e.department_id),Oe=(ge==null?void 0:ge.head_id)||null;pe(ke=>({...ke,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Oe}))}},[le.reception_method,e,d]),b.useEffect(()=>{const ge=()=>{y(window.innerWidth<768),window.innerWidth<768&&k(!1)};return window.addEventListener("resize",ge),()=>window.removeEventListener("resize",ge)},[]),b.useEffect(()=>{if(le.service_group_id!==null&&m.length>0){const ge=m.filter(Oe=>Oe.service_group&&Oe.service_group.id===le.service_group_id);V(ge),console.log("Filtered services for group",le.service_group_id,":",ge)}else V([])},[le.service_group_id,m]),b.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N]);const de=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),k(ge=>!ge)},Se=b.useCallback((ge,Oe)=>{let ke,Ue;if(ge&&"target"in ge)ke=ge.target.name,Ue=ge.target.value;else if(ge&&typeof ge=="object"&&"value"in ge&&Oe)ke=Oe,Ue=ge.value;else if(ge===null&&Oe)ke=Oe,Ue=null;else return;pe(Xe=>({...Xe,[ke]:Ue}))},[]),te=ge=>{const Oe=(ge==null?void 0:ge.value)||"";pe(ke=>{var Xe,we;const Ue={...ke,reception_method:Oe};return Oe==="Electronic Work Order System"&&e?{...Ue,requester_id:parseInt(e.id),department_id:((Xe=e.department)==null?void 0:Xe.id)||0,known_by_id:((we=e.department)==null?void 0:we.head_id)||null}:Ue})},se=ge=>{pe(Oe=>({...Oe,asset_no:ge?ge.value:""}))},ut=b.useCallback(()=>{M(null),pe(ge=>({...ge,attachment:null}))},[]),dt=async ge=>{if(ge.preventDefault(),A(!0),O(null),!le.service_group_id){O("Service Type is required"),A(!1);return}if(!le.service_catalogue_id){O("Service is required"),A(!1);return}if(!H.find(Ue=>Ue.id===le.service_catalogue_id)){O("Selected service is not available for the chosen service type"),A(!1);return}const ke={...le,service_group_id:le.service_group_id,service_catalogue_id:le.service_catalogue_id};console.log("Submitting data:",ke);try{const Ue=await t(ke,E);I({message:"Work Order created successfully!",work_order:Ue.work_order||Ue}),F(!0)}catch(Ue){O(Ue.message||"Gagal menyimpan work order. Silakan coba lagi."),console.error("Submission error:",Ue)}finally{A(!1)}},De=ge=>{const Oe=ge?parseInt(ge.value):null;pe(ke=>({...ke,service_group_id:Oe,service_catalogue_id:null}))},rt=ge=>{const Oe=ge?parseInt(ge.value):null;pe(ke=>({...ke,service_catalogue_id:Oe}))},wt=b.useCallback(()=>{F(!1),o("/workorders/it")},[o]);b.useEffect(()=>{const ge=Oe=>{B&&z(!1)};return B&&document.addEventListener("mousedown",ge),()=>{document.removeEventListener("mousedown",ge)}},[B]);const gt={control:(ge,Oe)=>({...ge,minHeight:"42px",borderColor:Oe.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Oe.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ge=>({...ge,padding:"0"}),singleValue:ge=>({...ge,color:"#374151"}),placeholder:ge=>({...ge,color:"#6B7280"}),dropdownIndicator:ge=>({...ge,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ge=>({...ge,display:"none"}),menu:ge=>({...ge,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ge,Oe)=>({...ge,backgroundColor:Oe.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Rt=b.useCallback(ge=>{if(!ge)return;const Oe=parseInt(ge.value),ke=l.find(Ue=>parseInt(Ue.id)===Oe);if(ke){const Ue=d.find(Xe=>Xe.id===ke.department_id);pe(Xe=>({...Xe,requester_id:Oe,department_id:ke.department_id||0,known_by_id:(Ue==null?void 0:Ue.head_id)||null}))}},[l,d]),He=()=>{if($e){const Oe=d.find(ke=>ke.id===(e==null?void 0:e.department_id));return(Oe==null?void 0:Oe.name)||"No department assigned"}const ge=d.find(Oe=>Oe.id===le.department_id);return(ge==null?void 0:ge.name)||"No department assigned"},he=()=>{if($e){const Oe=d.find(ke=>ke.id===(e==null?void 0:e.department_id));if(Oe&&Oe.head_id){const ke=l.find(Ue=>parseInt(Ue.id)===Oe.head_id);return(ke==null?void 0:ke.name)||"No department head assigned"}return"No department head assigned"}const ge=d.find(Oe=>Oe.id===le.department_id);if(ge&&ge.head_id){const Oe=l.find(ke=>parseInt(ke.id)===ge.head_id);return(Oe==null?void 0:Oe.name)||"No department head assigned"}return"No department head assigned"},Qe=({selectedFile:ge,attachment:Oe,onRemove:ke})=>{if(!ge&&!Oe)return null;const Xe=ge&&ge.type.startsWith("image/")?URL.createObjectURL(ge):Oe&&Oe.startsWith("data:image")||Oe&&Oe.startsWith("blob:")?Oe:null,we=Xe!==null,ye=ge?ge.name:Oe||"Attachment";return a.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-xl bg-white shadow-sm",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:`p-3 rounded-lg ${ge?"bg-blue-50":"bg-purple-50"}`,children:we?a.jsx(S6,{className:"h-6 w-6 text-green-600"}):a.jsx(sI,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-900 truncate",children:ye}),a.jsxs("div",{className:"flex items-center space-x-4 mt-1",children:[a.jsx("p",{className:"text-xs text-gray-500",children:ge?`${(ge.size/1024/1024).toFixed(2)} MB`:"Existing file"}),a.jsx("span",{className:"text-xs px-2 py-1 bg-green-100 text-green-700 rounded-full",children:ge?"Ready to upload":"Attached"})]})]})]}),a.jsx(T.button,{type:"button",onClick:ke,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-lg transition-colors duration-200",title:"Remove attachment",children:a.jsx($t,{size:18})})]}),we&&Xe&&a.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-100",children:[a.jsx("p",{className:"text-xs text-gray-500 mb-2",children:"Preview:"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:Xe,alt:"Preview",className:"h-32 w-32 object-cover rounded-lg border shadow-sm"})})]})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:w,toggleSidebar:de}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),a.jsxs(T.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(fu,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[_&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:_}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>O(null)})})]}),a.jsxs("form",{onSubmit:dt,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:le.date,onChange:Se,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:le.reception_method,label:le.reception_method},onChange:te,placeholder:"Select Reception Method",styles:gt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),$e?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Tn,{id:"requester_id",name:"requester_id",options:l.map(ge=>({value:String(ge.id),label:ge.name})),value:l.find(ge=>parseInt(ge.id)===le.requester_id)?{value:String(le.requester_id),label:((mt=l.find(ge=>parseInt(ge.id)===le.requester_id))==null?void 0:mt.name)||""}:null,onChange:Rt,placeholder:"Select Requester",styles:gt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:He()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:he()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"service_group_id",name:"service_group_id",options:G.map(ge=>({value:String(ge.id),label:ge.name})),value:le.service_group_id!==null?{value:String(le.service_group_id),label:((Le=G.find(ge=>ge.id===le.service_group_id))==null?void 0:Le.name)||""}:null,onChange:De,placeholder:"Select Service Type",styles:gt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"service_catalogue_id",name:"service_catalogue_id",options:H.map(ge=>({value:String(ge.id),label:ge.service_name})),value:le.service_catalogue_id!==null?{value:String(le.service_catalogue_id),label:((_e=H.find(ge=>ge.id===le.service_catalogue_id))==null?void 0:_e.service_name)||""}:null,onChange:rt,placeholder:le.service_group_id!==null?H.length===0?"No services available for selected type":"Select Service":"Please select Service Type first",styles:gt,isDisabled:le.service_group_id===null||H.length===0,required:!0}),H.length===0&&le.service_group_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),a.jsx(see,{name:"asset_no",id:"asset_no",options:g,value:le.asset_no?{value:le.asset_no,label:le.asset_no}:null,onChange:se,onCreateOption:ge=>{const Oe={value:ge,label:ge};v(ke=>[...ke,Oe]),se(Oe)},placeholder:"Type or select Asset No.",styles:gt,isClearable:!0,required:!1})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:le.device_info,onChange:Se,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:le.complaint,onChange:ge=>{pe(Oe=>({...Oe,complaint:ge}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[a.jsxs("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:["Attachment ",a.jsx("span",{className:"text-gray-400 font-normal",children:"(Optional)"})]}),!E&&!le.attachment?a.jsx(T.button,{type:"button",whileHover:{scale:1.01},whileTap:{scale:.99},className:"w-full p-8 border-2 border-dashed border-gray-300 rounded-xl bg-white hover:border-blue-400 hover:bg-blue-50/50 transition-all duration-300 group",onClick:J,children:a.jsxs("div",{className:"space-y-3 text-center",children:[a.jsx("div",{className:"mx-auto w-12 h-12 bg-gray-100 rounded-lg flex items-center justify-center group-hover:bg-blue-100 transition-colors",children:a.jsx(bc,{className:"h-6 w-6 text-gray-400 group-hover:text-blue-500"})}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Click to select attachment"}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"PNG, JPG, GIF, PDF up to 10MB"})]})]})}):a.jsx("div",{className:"w-full p-6 border-2 border-blue-200 border-dashed rounded-xl bg-blue-50/30",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"mx-auto w-10 h-10 bg-blue-100 rounded-lg flex items-center justify-center mb-3",children:a.jsx(bc,{className:"h-5 w-5 text-blue-600"})}),a.jsx("p",{className:"text-sm font-medium text-blue-900",children:E?`File selected: ${E.name}`:"Photo captured from camera"}),a.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"File ready for upload. Click to change."})]})}),a.jsx(Qe,{selectedFile:E,attachment:le.attachment,onRemove:ut}),a.jsx(ar,{children:B&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",onClick:()=>z(!1),children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-xl w-full max-w-md mx-auto overflow-hidden",onClick:ge=>ge.stopPropagation(),children:[a.jsxs("div",{className:"flex justify-between items-center p-6 border-b border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Select Attachment"}),a.jsx("button",{type:"button",onClick:()=>z(!1),className:"text-gray-400 hover:text-gray-600 transition-colors p-1 rounded-lg hover:bg-gray-100",children:a.jsx($t,{size:20})})]}),X?a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:K,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:W,className:"hidden"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ue,className:"flex-1 bg-blue-600 text-white py-3 px-4 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Take Photo"}),a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:je,className:"flex-1 bg-gray-200 text-gray-700 py-3 px-4 rounded-lg font-medium hover:bg-gray-300 transition-colors",children:"Cancel"})]})]}):a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs(T.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Z,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-blue-300 hover:bg-blue-50/50 transition-all duration-200 flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-lg flex items-center justify-center",children:a.jsx(sI,{className:"h-6 w-6 text-blue-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Select File"}),a.jsx("div",{className:"text-sm text-gray-500",children:"From your device"})]})]}),a.jsxs(T.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ie,className:"w-full p-4 border-2 border-dashed border-gray-200 rounded-xl hover:border-purple-300 hover:bg-purple-50/50 transition-all duration-200 flex items-center space-x-4",children:[a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-lg flex items-center justify-center",children:a.jsx(S6,{className:"h-6 w-6 text-purple-600"})}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Take Photo"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Use camera"})]})]})]})]})})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:()=>{pe(ce),M(null),O(null),I(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:S,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:S?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),a.jsx(F_e,{isOpen:R,onClose:wt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:P==null?void 0:P.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(qe=P==null?void 0:P.work_order)==null?void 0:qe.work_order_no]}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:wt,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},H_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Select Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/it"),children:[a.jsx(vhe,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workorders/td"),children:[a.jsx(C6,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},B_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(gs,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workarea"),children:[a.jsx(gs,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/department"),children:[a.jsx(dd,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/worklocation/workunit"),children:[a.jsx(jg,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},z_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(ga,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workgroup"),children:[a.jsx(ga,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workarrangement/workshift"),children:[a.jsx(Cr,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},q_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(ia,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/generalsettings"),children:[a.jsx(zs,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/spareparttype"),children:[a.jsx(JK,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartgroup"),children:[a.jsx(BK,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/sparepart/sparepartmaintenance"),children:[a.jsx(Pl,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},U_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Ya,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsgroup"),children:[a.jsx(BK,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/assets/assetsdata"),children:[a.jsx(CN,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},W_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(VK,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicegroups"),children:[a.jsx(ga,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/services/servicecatalogues"),children:[a.jsx(df,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},V_e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Pl,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activitytypes"),children:[a.jsx(_6,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/activity"),children:[a.jsx(fc,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/stoptimes"),children:[a.jsx(Cr,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/maintenanceactivity/troubleitem"),children:[a.jsx(Hr,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})};var S_,s$;function ul(){if(s$)return S_;s$=1;var t=Array.isArray;return S_=t,S_}var k_,i$;function iee(){if(i$)return k_;i$=1;var t=typeof cw=="object"&&cw&&cw.Object===Object&&cw;return k_=t,k_}var C_,o$;function gu(){if(o$)return C_;o$=1;var t=iee(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return C_=r,C_}var __,l$;function l1(){if(l$)return __;l$=1;var t=gu(),e=t.Symbol;return __=e,__}var A_,c$;function G_e(){if(c$)return A_;c$=1;var t=l1(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var f=n.call(o);return d&&(l?o[s]=c:delete o[s]),f}return A_=i,A_}var T_,d$;function Y_e(){if(d$)return T_;d$=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return T_=r,T_}var M_,u$;function Uf(){if(u$)return M_;u$=1;var t=l1(),e=G_e(),r=Y_e(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return M_=o,M_}var O_,f$;function Wf(){if(f$)return O_;f$=1;function t(e){return e!=null&&typeof e=="object"}return O_=t,O_}var E_,h$;function Lx(){if(h$)return E_;h$=1;var t=Uf(),e=Wf(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return E_=n,E_}var D_,m$;function eP(){if(m$)return D_;m$=1;var t=ul(),e=Lx(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return D_=s,D_}var P_,p$;function ym(){if(p$)return P_;p$=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return P_=t,P_}var L_,g$;function tP(){if(g$)return L_;g$=1;var t=Uf(),e=ym(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==s||c==r||c==i}return L_=o,L_}var R_,x$;function K_e(){if(x$)return R_;x$=1;var t=gu(),e=t["__core-js_shared__"];return R_=e,R_}var I_,b$;function J_e(){if(b$)return I_;b$=1;var t=K_e(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return I_=r,I_}var F_,y$;function oee(){if(y$)return F_;y$=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return F_=r,F_}var $_,v$;function X_e(){if(v$)return $_;v$=1;var t=tP(),e=J_e(),r=ym(),n=oee(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,f=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(p){if(!r(p)||e(p))return!1;var g=t(p)?f:i;return g.test(n(p))}return $_=m,$_}var H_,w$;function Q_e(){if(w$)return H_;w$=1;function t(e,r){return e==null?void 0:e[r]}return H_=t,H_}var B_,j$;function Zp(){if(j$)return B_;j$=1;var t=X_e(),e=Q_e();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return B_=r,B_}var z_,N$;function rS(){if(N$)return z_;N$=1;var t=Zp(),e=t(Object,"create");return z_=e,z_}var q_,S$;function Z_e(){if(S$)return q_;S$=1;var t=rS();function e(){this.__data__=t?t(null):{},this.size=0}return q_=e,q_}var U_,k$;function e3e(){if(k$)return U_;k$=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return U_=t,U_}var W_,C$;function t3e(){if(C$)return W_;C$=1;var t=rS(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return W_=s,W_}var V_,_$;function r3e(){if(_$)return V_;_$=1;var t=rS(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return V_=n,V_}var G_,A$;function n3e(){if(A$)return G_;A$=1;var t=rS(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return G_=r,G_}var Y_,T$;function a3e(){if(T$)return Y_;T$=1;var t=Z_e(),e=e3e(),r=t3e(),n=r3e(),s=n3e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,Y_=i,Y_}var K_,M$;function s3e(){if(M$)return K_;M$=1;function t(){this.__data__=[],this.size=0}return K_=t,K_}var J_,O$;function rP(){if(O$)return J_;O$=1;function t(e,r){return e===r||e!==e&&r!==r}return J_=t,J_}var X_,E$;function nS(){if(E$)return X_;E$=1;var t=rP();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return X_=e,X_}var Q_,D$;function i3e(){if(D$)return Q_;D$=1;var t=nS(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return Q_=n,Q_}var Z_,P$;function o3e(){if(P$)return Z_;P$=1;var t=nS();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return Z_=e,Z_}var e3,L$;function l3e(){if(L$)return e3;L$=1;var t=nS();function e(r){return t(this.__data__,r)>-1}return e3=e,e3}var t3,R$;function c3e(){if(R$)return t3;R$=1;var t=nS();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return t3=e,t3}var r3,I$;function aS(){if(I$)return r3;I$=1;var t=s3e(),e=i3e(),r=o3e(),n=l3e(),s=c3e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,r3=i,r3}var n3,F$;function nP(){if(F$)return n3;F$=1;var t=Zp(),e=gu(),r=t(e,"Map");return n3=r,n3}var a3,$$;function d3e(){if($$)return a3;$$=1;var t=a3e(),e=aS(),r=nP();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return a3=n,a3}var s3,H$;function u3e(){if(H$)return s3;H$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return s3=t,s3}var i3,B$;function sS(){if(B$)return i3;B$=1;var t=u3e();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return i3=e,i3}var o3,z$;function f3e(){if(z$)return o3;z$=1;var t=sS();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return o3=e,o3}var l3,q$;function h3e(){if(q$)return l3;q$=1;var t=sS();function e(r){return t(this,r).get(r)}return l3=e,l3}var c3,U$;function m3e(){if(U$)return c3;U$=1;var t=sS();function e(r){return t(this,r).has(r)}return c3=e,c3}var d3,W$;function p3e(){if(W$)return d3;W$=1;var t=sS();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return d3=e,d3}var u3,V$;function aP(){if(V$)return u3;V$=1;var t=d3e(),e=f3e(),r=h3e(),n=m3e(),s=p3e();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,u3=i,u3}var f3,G$;function lee(){if(G$)return f3;G$=1;var t=aP(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,f3=r,f3}var h3,Y$;function g3e(){if(Y$)return h3;Y$=1;var t=lee(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return h3=r,h3}var m3,K$;function x3e(){if(K$)return m3;K$=1;var t=g3e(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return m3=n,m3}var p3,J$;function sP(){if(J$)return p3;J$=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return p3=t,p3}var g3,X$;function b3e(){if(X$)return g3;X$=1;var t=l1(),e=sP(),r=ul(),n=Lx(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return g3=o,g3}var x3,Q$;function cee(){if(Q$)return x3;Q$=1;var t=b3e();function e(r){return r==null?"":t(r)}return x3=e,x3}var b3,Z$;function dee(){if(Z$)return b3;Z$=1;var t=ul(),e=eP(),r=x3e(),n=cee();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return b3=s,b3}var y3,eH;function iS(){if(eH)return y3;eH=1;var t=Lx();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return y3=e,y3}var v3,tH;function iP(){if(tH)return v3;tH=1;var t=dee(),e=iS();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return v3=r,v3}var w3,rH;function uee(){if(rH)return w3;rH=1;var t=iP();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return w3=e,w3}var y3e=uee();const El=Yn(y3e);var j3,nH;function v3e(){if(nH)return j3;nH=1;function t(e){return e==null}return j3=t,j3}var w3e=v3e();const tn=Yn(w3e);var N3,aH;function j3e(){if(aH)return N3;aH=1;var t=Uf(),e=ul(),r=Wf(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return N3=s,N3}var N3e=j3e();const Hp=Yn(N3e);var S3e=tP();const Gr=Yn(S3e);var k3e=ym();const Rx=Yn(k3e);var S3={exports:{}},aa={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sH;function C3e(){if(sH)return aa;sH=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen"),v;v=Symbol.for("react.module.reference");function w(y){if(typeof y=="object"&&y!==null){var N=y.$$typeof;switch(N){case t:switch(y=y.type,y){case r:case s:case n:case d:case f:return y;default:switch(y=y&&y.$$typeof,y){case l:case o:case c:case p:case m:case i:return y;default:return N}}case e:return N}}}return aa.ContextConsumer=o,aa.ContextProvider=i,aa.Element=t,aa.ForwardRef=c,aa.Fragment=r,aa.Lazy=p,aa.Memo=m,aa.Portal=e,aa.Profiler=s,aa.StrictMode=n,aa.Suspense=d,aa.SuspenseList=f,aa.isAsyncMode=function(){return!1},aa.isConcurrentMode=function(){return!1},aa.isContextConsumer=function(y){return w(y)===o},aa.isContextProvider=function(y){return w(y)===i},aa.isElement=function(y){return typeof y=="object"&&y!==null&&y.$$typeof===t},aa.isForwardRef=function(y){return w(y)===c},aa.isFragment=function(y){return w(y)===r},aa.isLazy=function(y){return w(y)===p},aa.isMemo=function(y){return w(y)===m},aa.isPortal=function(y){return w(y)===e},aa.isProfiler=function(y){return w(y)===s},aa.isStrictMode=function(y){return w(y)===n},aa.isSuspense=function(y){return w(y)===d},aa.isSuspenseList=function(y){return w(y)===f},aa.isValidElementType=function(y){return typeof y=="string"||typeof y=="function"||y===r||y===s||y===n||y===d||y===f||y===g||typeof y=="object"&&y!==null&&(y.$$typeof===p||y.$$typeof===m||y.$$typeof===i||y.$$typeof===o||y.$$typeof===c||y.$$typeof===v||y.getModuleId!==void 0)},aa.typeOf=w,aa}var iH;function _3e(){return iH||(iH=1,S3.exports=C3e()),S3.exports}var A3e=_3e(),k3,oH;function fee(){if(oH)return k3;oH=1;var t=Uf(),e=Wf(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return k3=n,k3}var C3,lH;function T3e(){if(lH)return C3;lH=1;var t=fee();function e(r){return t(r)&&r!=+r}return C3=e,C3}var M3e=T3e();const Ix=Yn(M3e);var O3e=fee();const E3e=Yn(O3e);var Lo=function(e){return e===0?0:e>0?1:-1},up=function(e){return Hp(e)&&e.indexOf("%")===e.length-1},Qt=function(e){return E3e(e)&&!Ix(e)},D3e=function(e){return tn(e)},wi=function(e){return Qt(e)||Hp(e)},P3e=0,e0=function(e){var r=++P3e;return"".concat(e||"").concat(r)},Ro=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qt(e)&&!Hp(e))return n;var i;if(up(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return Ix(i)&&(i=n),s&&i>r&&(i=r),i},zh=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},L3e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},vi=function(e,r){return Qt(e)&&Qt(r)?function(n){return e+n*(r-e)}:function(){return r}};function m5(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):El(n,e))===r})}var R3e=function(e,r){return Qt(e)&&Qt(r)?e-r:Hp(e)&&Hp(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Tg(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function NM(t){"@babel/helpers - typeof";return NM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},NM(t)}var I3e=["viewBox","children"],F3e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],cH=["points","pathLength"],_3={svg:I3e,polygon:cH,polyline:cH},oP=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],p5=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(b.isValidElement(e)&&(n=e.props),!Rx(n))return null;var s={};return Object.keys(n).forEach(function(i){oP.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},$3e=function(e,r,n){return function(s){return e(r,n,s),null}},Bp=function(e,r,n){if(!Rx(e)||NM(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];oP.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=$3e(o,r,n))}),s},H3e=["children"],B3e=["children"];function dH(t,e){if(t==null)return{};var r=z3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function z3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SM(t){"@babel/helpers - typeof";return SM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},SM(t)}var uH={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},_f=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},fH=null,A3=null,lP=function t(e){if(e===fH&&Array.isArray(A3))return A3;var r=[];return b.Children.forEach(e,function(n){tn(n)||(A3e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),A3=r,fH=e,r};function Dl(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return _f(s)}):n=[_f(e)],lP(t).forEach(function(s){var i=El(s,"type.displayName")||El(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Sl(t,e){var r=Dl(t,e);return r&&r[0]}var hH=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!Qt(n)||n<=0||!Qt(s)||s<=0)},q3e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],U3e=function(e){return e&&e.type&&Hp(e.type)&&q3e.indexOf(e.type)>=0},hee=function(e){return e&&SM(e)==="object"&&"clipDot"in e},W3e=function(e,r,n,s){var i,o=(i=_3==null?void 0:_3[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Gr(e)&&(s&&o.includes(r)||F3e.includes(r))||n&&oP.includes(r)},Mr=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(b.isValidElement(e)&&(s=e.props),!Rx(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;W3e((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},kM=function t(e,r){if(e===r)return!0;var n=b.Children.count(e);if(n!==b.Children.count(r))return!1;if(n===0)return!0;if(n===1)return mH(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!mH(i,o))return!1}return!0},mH=function(e,r){if(tn(e)&&tn(r))return!0;if(!tn(e)&&!tn(r)){var n=e.props||{},s=n.children,i=dH(n,H3e),o=r.props||{},l=o.children,c=dH(o,B3e);return s&&l?Tg(i,c)&&kM(s,l):!s&&!l?Tg(i,c):!1}return!1},pH=function(e,r){var n=[],s={};return lP(e).forEach(function(i,o){if(U3e(i))n.push(i);else if(i){var l=_f(i.type),c=r[l]||{},d=c.handler,f=c.once;if(d&&(!f||!s[l])){var m=d(i,l,o);n.push(m),s[l]=!0}}}),n},V3e=function(e){var r=e&&e.type;return r&&uH[r]?uH[r]:null},G3e=function(e,r){return lP(r).indexOf(e)},Y3e=["children","width","height","viewBox","className","style","title","desc"];function CM(){return CM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CM.apply(this,arguments)}function K3e(t,e){if(t==null)return{};var r=J3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function J3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _M(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=K3e(t,Y3e),f=s||{width:r,height:n,x:0,y:0},m=_r("recharts-surface",i);return be.createElement("svg",CM({},Mr(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height)}),be.createElement("title",null,l),be.createElement("desc",null,c),e)}var X3e=["children","className"];function AM(){return AM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AM.apply(this,arguments)}function Q3e(t,e){if(t==null)return{};var r=Z3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Z3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Mn=be.forwardRef(function(t,e){var r=t.children,n=t.className,s=Q3e(t,X3e),i=_r("recharts-layer",n);return be.createElement("g",AM({className:i},Mr(s,!0),{ref:e}),r)}),ld=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},T3,gH;function eAe(){if(gH)return T3;gH=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return T3=t,T3}var M3,xH;function tAe(){if(xH)return M3;xH=1;var t=eAe();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return M3=e,M3}var O3,bH;function mee(){if(bH)return O3;bH=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(d){return l.test(d)}return O3=c,O3}var E3,yH;function rAe(){if(yH)return E3;yH=1;function t(e){return e.split("")}return E3=t,E3}var D3,vH;function nAe(){if(vH)return D3;vH=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",f="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",p="[\\ud800-\\udbff][\\udc00-\\udfff]",g="\\u200d",v=d+"?",w="["+i+"]?",y="(?:"+g+"(?:"+[f,m,p].join("|")+")"+w+v+")*",N=w+v+y,k="(?:"+[f+l+"?",l,m,p,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+k+N,"g");function A(_){return _.match(S)||[]}return D3=A,D3}var P3,wH;function aAe(){if(wH)return P3;wH=1;var t=rAe(),e=mee(),r=nAe();function n(s){return e(s)?r(s):t(s)}return P3=n,P3}var L3,jH;function sAe(){if(jH)return L3;jH=1;var t=tAe(),e=mee(),r=aAe(),n=cee();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return L3=s,L3}var R3,NH;function iAe(){if(NH)return R3;NH=1;var t=sAe(),e=t("toUpperCase");return R3=e,R3}var oAe=iAe();const oS=Yn(oAe);function Ia(t){return function(){return t}}const pee=Math.cos,g5=Math.sin,pd=Math.sqrt,x5=Math.PI,lS=2*x5,TM=Math.PI,MM=2*TM,Xm=1e-6,lAe=MM-Xm;function gee(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function cAe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return gee;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class dAe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?gee:cAe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=s-r,f=o-e,m=l-r,p=f*f+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(p>Xm)if(!(Math.abs(m*c-d*f)>Xm)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let g=n-o,v=s-l,w=c*c+d*d,y=g*g+v*v,N=Math.sqrt(w),k=Math.sqrt(p),S=i*Math.tan((TM-Math.acos((w+p-y)/(2*N*k)))/2),A=S/k,_=S/N;Math.abs(A-1)>Xm&&this._append`L${e+A*f},${r+A*m}`,this._append`A${i},${i},0,0,${+(m*g>f*v)},${this._x1=e+_*c},${this._y1=r+_*d}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=e+l,f=r+c,m=1^o,p=o?s-i:i-s;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Xm||Math.abs(this._y1-f)>Xm)&&this._append`L${d},${f}`,n&&(p<0&&(p=p%MM+MM),p>lAe?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=f}`:p>Xm&&this._append`A${n},${n},0,${+(p>=TM)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function cP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new dAe(e)}function dP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function xee(t){this._context=t}xee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function cS(t){return new xee(t)}function bee(t){return t[0]}function yee(t){return t[1]}function vee(t,e){var r=Ia(!0),n=null,s=cS,i=null,o=cP(l);t=typeof t=="function"?t:t===void 0?bee:Ia(t),e=typeof e=="function"?e:e===void 0?yee:Ia(e);function l(c){var d,f=(c=dP(c)).length,m,p=!1,g;for(n==null&&(i=s(g=o())),d=0;d<=f;++d)!(d<f&&r(m=c[d],d,c))===p&&((p=!p)?i.lineStart():i.lineEnd()),p&&i.point(+t(m,d,c),+e(m,d,c));if(g)return i=null,g+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ia(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ia(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ia(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function Uw(t,e,r){var n=null,s=Ia(!0),i=null,o=cS,l=null,c=cP(d);t=typeof t=="function"?t:t===void 0?bee:Ia(+t),e=typeof e=="function"?e:Ia(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?yee:Ia(+r);function d(m){var p,g,v,w=(m=dP(m)).length,y,N=!1,k,S=new Array(w),A=new Array(w);for(i==null&&(l=o(k=c())),p=0;p<=w;++p){if(!(p<w&&s(y=m[p],p,m))===N)if(N=!N)g=p,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),v=p-1;v>=g;--v)l.point(S[v],A[v]);l.lineEnd(),l.areaEnd()}N&&(S[p]=+t(y,p,m),A[p]=+e(y,p,m),l.point(n?+n(y,p,m):S[p],r?+r(y,p,m):A[p]))}if(k)return l=null,k+""||null}function f(){return vee().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ia(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ia(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ia(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ia(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ia(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ia(+m),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:Ia(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class wee{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function uAe(t){return new wee(t,!0)}function fAe(t){return new wee(t,!1)}const uP={draw(t,e){const r=pd(e/x5);t.moveTo(r,0),t.arc(0,0,r,0,lS)}},hAe={draw(t,e){const r=pd(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},jee=pd(1/3),mAe=jee*2,pAe={draw(t,e){const r=pd(e/mAe),n=r*jee;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},gAe={draw(t,e){const r=pd(e),n=-r/2;t.rect(n,n,r,r)}},xAe=.8908130915292852,Nee=g5(x5/10)/g5(7*x5/10),bAe=g5(lS/10)*Nee,yAe=-pee(lS/10)*Nee,vAe={draw(t,e){const r=pd(e*xAe),n=bAe*r,s=yAe*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=lS*i/5,l=pee(o),c=g5(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},I3=pd(3),wAe={draw(t,e){const r=-pd(e/(I3*3));t.moveTo(0,r*2),t.lineTo(-I3*r,-r),t.lineTo(I3*r,-r),t.closePath()}},ec=-.5,tc=pd(3)/2,OM=1/pd(12),jAe=(OM/2+1)*3,NAe={draw(t,e){const r=pd(e/jAe),n=r/2,s=r*OM,i=n,o=r*OM+r,l=-i,c=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ec*n-tc*s,tc*n+ec*s),t.lineTo(ec*i-tc*o,tc*i+ec*o),t.lineTo(ec*l-tc*c,tc*l+ec*c),t.lineTo(ec*n+tc*s,ec*s-tc*n),t.lineTo(ec*i+tc*o,ec*o-tc*i),t.lineTo(ec*l+tc*c,ec*c-tc*l),t.closePath()}};function SAe(t,e){let r=null,n=cP(s);t=typeof t=="function"?t:Ia(t||uP),e=typeof e=="function"?e:Ia(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:Ia(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function b5(){}function y5(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function See(t){this._context=t}See.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:y5(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function kAe(t){return new See(t)}function kee(t){this._context=t}kee.prototype={areaStart:b5,areaEnd:b5,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function CAe(t){return new kee(t)}function Cee(t){this._context=t}Cee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:y5(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _Ae(t){return new Cee(t)}function _ee(t){this._context=t}_ee.prototype={areaStart:b5,areaEnd:b5,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function AAe(t){return new _ee(t)}function SH(t){return t<0?-1:1}function kH(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(SH(i)+SH(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function CH(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function F3(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function v5(t){this._context=t}v5.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:F3(this,this._t0,CH(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,F3(this,CH(this,r=kH(this,t,e)),r);break;default:F3(this,this._t0,r=kH(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Aee(t){this._context=new Tee(t)}(Aee.prototype=Object.create(v5.prototype)).point=function(t,e){v5.prototype.point.call(this,e,t)};function Tee(t){this._context=t}Tee.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function TAe(t){return new v5(t)}function MAe(t){return new Aee(t)}function Mee(t){this._context=t}Mee.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=_H(t),s=_H(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function _H(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function OAe(t){return new Mee(t)}function dS(t,e){this._context=t,this._t=e}dS.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function EAe(t){return new dS(t,.5)}function DAe(t){return new dS(t,0)}function PAe(t){return new dS(t,1)}function ex(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function EM(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function LAe(t,e){return t[e]}function RAe(t){const e=[];return e.key=t,e}function IAe(){var t=Ia([]),e=EM,r=ex,n=LAe;function s(i){var o=Array.from(t.apply(this,arguments),RAe),l,c=o.length,d=-1,f;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,f=dP(e(o));l<c;++l)o[f[l]].index=l;return r(o,f),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:Ia(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:Ia(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?EM:typeof i=="function"?i:Ia(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??ex,s):r},s}function FAe(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}ex(t,e)}}function $Ae(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}ex(t,e)}}function HAe(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var f=t[e[l]],m=f[n][1]||0,p=f[n-1][1]||0,g=(m-p)/2,v=0;v<l;++v){var w=t[e[v]],y=w[n][1]||0,N=w[n-1][1]||0;g+=y-N}c+=m,d+=g*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,ex(t,e)}}function lv(t){"@babel/helpers - typeof";return lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lv(t)}var BAe=["type","size","sizeType"];function DM(){return DM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DM.apply(this,arguments)}function AH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function TH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(r),!0).forEach(function(n){zAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zAe(t,e,r){return e=qAe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qAe(t){var e=UAe(t,"string");return lv(e)=="symbol"?e:e+""}function UAe(t,e){if(lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WAe(t,e){if(t==null)return{};var r=VAe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Oee={symbolCircle:uP,symbolCross:hAe,symbolDiamond:pAe,symbolSquare:gAe,symbolStar:vAe,symbolTriangle:wAe,symbolWye:NAe},GAe=Math.PI/180,YAe=function(e){var r="symbol".concat(oS(e));return Oee[r]||uP},KAe=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*GAe;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},JAe=function(e,r){Oee["symbol".concat(oS(e))]=r},fP=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=WAe(e,BAe),d=TH(TH({},c),{},{type:n,size:i,sizeType:l}),f=function(){var y=YAe(n),N=SAe().type(y).size(KAe(i,l,n));return N()},m=d.className,p=d.cx,g=d.cy,v=Mr(d,!0);return p===+p&&g===+g&&i===+i?be.createElement("path",DM({},v,{className:_r("recharts-symbols",m),transform:"translate(".concat(p,", ").concat(g,")"),d:f()})):null};fP.registerSymbol=JAe;function tx(t){"@babel/helpers - typeof";return tx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},tx(t)}function PM(){return PM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PM.apply(this,arguments)}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function XAe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){cv(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dee(n.key),n)}}function e4e(t,e,r){return e&&ZAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function t4e(t,e,r){return e=w5(e),r4e(t,Eee()?Reflect.construct(e,r||[],w5(t).constructor):e.apply(t,r))}function r4e(t,e){if(e&&(tx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n4e(t)}function n4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Eee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eee=function(){return!!t})()}function w5(t){return w5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},w5(t)}function a4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LM(t,e)}function LM(t,e){return LM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LM(t,e)}function cv(t,e,r){return e=Dee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dee(t){var e=s4e(t,"string");return tx(e)=="symbol"?e:e+""}function s4e(t,e){if(tx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(tx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var rc=32,hP=(function(t){function e(){return QAe(this,e),t4e(this,e,arguments)}return a4e(e,t),e4e(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=rc/2,o=rc/6,l=rc/3,c=n.inactive?s:n.color;if(n.type==="plainline")return be.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:rc,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return be.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(rc,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return be.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(rc/8,"h").concat(rc,"v").concat(rc*3/4,"h").concat(-rc,"z"),className:"recharts-legend-icon"});if(be.isValidElement(n.legendIcon)){var d=XAe({},n);return delete d.legendIcon,be.cloneElement(n.legendIcon,d)}return be.createElement(fP,{fill:c,cx:i,cy:i,size:rc,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,f={x:0,y:0,width:rc,height:rc},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},p={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(g,v){var w=g.formatter||c,y=_r(cv(cv({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",g.inactive));if(g.type==="none")return null;var N=Gr(g.value)?null:g.value;ld(!Gr(g.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var k=g.inactive?d:g.color;return be.createElement("li",PM({className:y,style:m,key:"legend-item-".concat(v)},Bp(n.props,g,v)),be.createElement(_M,{width:o,height:o,viewBox:f,style:p},n.renderIcon(g)),be.createElement("span",{className:"recharts-legend-item-text",style:{color:k}},w?w(N,g,v):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return be.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(b.PureComponent);cv(hP,"displayName","Legend");cv(hP,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var $3,OH;function i4e(){if(OH)return $3;OH=1;var t=aS();function e(){this.__data__=new t,this.size=0}return $3=e,$3}var H3,EH;function o4e(){if(EH)return H3;EH=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return H3=t,H3}var B3,DH;function l4e(){if(DH)return B3;DH=1;function t(e){return this.__data__.get(e)}return B3=t,B3}var z3,PH;function c4e(){if(PH)return z3;PH=1;function t(e){return this.__data__.has(e)}return z3=t,z3}var q3,LH;function d4e(){if(LH)return q3;LH=1;var t=aS(),e=nP(),r=aP(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return q3=s,q3}var U3,RH;function Pee(){if(RH)return U3;RH=1;var t=aS(),e=i4e(),r=o4e(),n=l4e(),s=c4e(),i=d4e();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,U3=o,U3}var W3,IH;function u4e(){if(IH)return W3;IH=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return W3=e,W3}var V3,FH;function f4e(){if(FH)return V3;FH=1;function t(e){return this.__data__.has(e)}return V3=t,V3}var G3,$H;function Lee(){if($H)return G3;$H=1;var t=aP(),e=u4e(),r=f4e();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,G3=n,G3}var Y3,HH;function Ree(){if(HH)return Y3;HH=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return Y3=t,Y3}var K3,BH;function Iee(){if(BH)return K3;BH=1;function t(e,r){return e.has(r)}return K3=t,K3}var J3,zH;function Fee(){if(zH)return J3;zH=1;var t=Lee(),e=Ree(),r=Iee(),n=1,s=2;function i(o,l,c,d,f,m){var p=c&n,g=o.length,v=l.length;if(g!=v&&!(p&&v>g))return!1;var w=m.get(o),y=m.get(l);if(w&&y)return w==l&&y==o;var N=-1,k=!0,S=c&s?new t:void 0;for(m.set(o,l),m.set(l,o);++N<g;){var A=o[N],_=l[N];if(d)var O=p?d(_,A,N,l,o,m):d(A,_,N,o,l,m);if(O!==void 0){if(O)continue;k=!1;break}if(S){if(!e(l,function(P,I){if(!r(S,I)&&(A===P||f(A,P,c,d,m)))return S.push(I)})){k=!1;break}}else if(!(A===_||f(A,_,c,d,m))){k=!1;break}}return m.delete(o),m.delete(l),k}return J3=i,J3}var X3,qH;function h4e(){if(qH)return X3;qH=1;var t=gu(),e=t.Uint8Array;return X3=e,X3}var Q3,UH;function m4e(){if(UH)return Q3;UH=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return Q3=t,Q3}var Z3,WH;function mP(){if(WH)return Z3;WH=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return Z3=t,Z3}var eA,VH;function p4e(){if(VH)return eA;VH=1;var t=l1(),e=h4e(),r=rP(),n=Fee(),s=m4e(),i=mP(),o=1,l=2,c="[object Boolean]",d="[object Date]",f="[object Error]",m="[object Map]",p="[object Number]",g="[object RegExp]",v="[object Set]",w="[object String]",y="[object Symbol]",N="[object ArrayBuffer]",k="[object DataView]",S=t?t.prototype:void 0,A=S?S.valueOf:void 0;function _(O,P,I,R,F,E,M){switch(I){case k:if(O.byteLength!=P.byteLength||O.byteOffset!=P.byteOffset)return!1;O=O.buffer,P=P.buffer;case N:return!(O.byteLength!=P.byteLength||!E(new e(O),new e(P)));case c:case d:case p:return r(+O,+P);case f:return O.name==P.name&&O.message==P.message;case g:case w:return O==P+"";case m:var H=s;case v:var V=R&o;if(H||(H=i),O.size!=P.size&&!V)return!1;var G=M.get(O);if(G)return G==P;R|=l,M.set(O,P);var q=n(H(O),H(P),R,F,E,M);return M.delete(O),q;case y:if(A)return A.call(O)==A.call(P)}return!1}return eA=_,eA}var tA,GH;function $ee(){if(GH)return tA;GH=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return tA=t,tA}var rA,YH;function g4e(){if(YH)return rA;YH=1;var t=$ee(),e=ul();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return rA=r,rA}var nA,KH;function x4e(){if(KH)return nA;KH=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return nA=t,nA}var aA,JH;function b4e(){if(JH)return aA;JH=1;function t(){return[]}return aA=t,aA}var sA,XH;function y4e(){if(XH)return sA;XH=1;var t=x4e(),e=b4e(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return sA=i,sA}var iA,QH;function v4e(){if(QH)return iA;QH=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return iA=t,iA}var oA,ZH;function w4e(){if(ZH)return oA;ZH=1;var t=Uf(),e=Wf(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return oA=n,oA}var lA,eB;function pP(){if(eB)return lA;eB=1;var t=w4e(),e=Wf(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return lA=i,lA}var dy={exports:{}},cA,tB;function j4e(){if(tB)return cA;tB=1;function t(){return!1}return cA=t,cA}dy.exports;var rB;function Hee(){return rB||(rB=1,(function(t,e){var r=gu(),n=j4e(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(dy,dy.exports)),dy.exports}var dA,nB;function gP(){if(nB)return dA;nB=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return dA=r,dA}var uA,aB;function xP(){if(aB)return uA;aB=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return uA=e,uA}var fA,sB;function N4e(){if(sB)return fA;sB=1;var t=Uf(),e=xP(),r=Wf(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",m="[object Object]",p="[object RegExp]",g="[object Set]",v="[object String]",w="[object WeakMap]",y="[object ArrayBuffer]",N="[object DataView]",k="[object Float32Array]",S="[object Float64Array]",A="[object Int8Array]",_="[object Int16Array]",O="[object Int32Array]",P="[object Uint8Array]",I="[object Uint8ClampedArray]",R="[object Uint16Array]",F="[object Uint32Array]",E={};E[k]=E[S]=E[A]=E[_]=E[O]=E[P]=E[I]=E[R]=E[F]=!0,E[n]=E[s]=E[y]=E[i]=E[N]=E[o]=E[l]=E[c]=E[d]=E[f]=E[m]=E[p]=E[g]=E[v]=E[w]=!1;function M(H){return r(H)&&e(H.length)&&!!E[t(H)]}return fA=M,fA}var hA,iB;function Bee(){if(iB)return hA;iB=1;function t(e){return function(r){return e(r)}}return hA=t,hA}var uy={exports:{}};uy.exports;var oB;function S4e(){return oB||(oB=1,(function(t,e){var r=iee(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(uy,uy.exports)),uy.exports}var mA,lB;function zee(){if(lB)return mA;lB=1;var t=N4e(),e=Bee(),r=S4e(),n=r&&r.isTypedArray,s=n?e(n):t;return mA=s,mA}var pA,cB;function k4e(){if(cB)return pA;cB=1;var t=v4e(),e=pP(),r=ul(),n=Hee(),s=gP(),i=zee(),o=Object.prototype,l=o.hasOwnProperty;function c(d,f){var m=r(d),p=!m&&e(d),g=!m&&!p&&n(d),v=!m&&!p&&!g&&i(d),w=m||p||g||v,y=w?t(d.length,String):[],N=y.length;for(var k in d)(f||l.call(d,k))&&!(w&&(k=="length"||g&&(k=="offset"||k=="parent")||v&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||s(k,N)))&&y.push(k);return y}return pA=c,pA}var gA,dB;function C4e(){if(dB)return gA;dB=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return gA=e,gA}var xA,uB;function qee(){if(uB)return xA;uB=1;function t(e,r){return function(n){return e(r(n))}}return xA=t,xA}var bA,fB;function _4e(){if(fB)return bA;fB=1;var t=qee(),e=t(Object.keys,Object);return bA=e,bA}var yA,hB;function A4e(){if(hB)return yA;hB=1;var t=C4e(),e=_4e(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return yA=s,yA}var vA,mB;function c1(){if(mB)return vA;mB=1;var t=tP(),e=xP();function r(n){return n!=null&&e(n.length)&&!t(n)}return vA=r,vA}var wA,pB;function uS(){if(pB)return wA;pB=1;var t=k4e(),e=A4e(),r=c1();function n(s){return r(s)?t(s):e(s)}return wA=n,wA}var jA,gB;function T4e(){if(gB)return jA;gB=1;var t=g4e(),e=y4e(),r=uS();function n(s){return t(s,r,e)}return jA=n,jA}var NA,xB;function M4e(){if(xB)return NA;xB=1;var t=T4e(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,d,f){var m=l&e,p=t(i),g=p.length,v=t(o),w=v.length;if(g!=w&&!m)return!1;for(var y=g;y--;){var N=p[y];if(!(m?N in o:n.call(o,N)))return!1}var k=f.get(i),S=f.get(o);if(k&&S)return k==o&&S==i;var A=!0;f.set(i,o),f.set(o,i);for(var _=m;++y<g;){N=p[y];var O=i[N],P=o[N];if(c)var I=m?c(P,O,N,o,i,f):c(O,P,N,i,o,f);if(!(I===void 0?O===P||d(O,P,l,c,f):I)){A=!1;break}_||(_=N=="constructor")}if(A&&!_){var R=i.constructor,F=o.constructor;R!=F&&"constructor"in i&&"constructor"in o&&!(typeof R=="function"&&R instanceof R&&typeof F=="function"&&F instanceof F)&&(A=!1)}return f.delete(i),f.delete(o),A}return NA=s,NA}var SA,bB;function O4e(){if(bB)return SA;bB=1;var t=Zp(),e=gu(),r=t(e,"DataView");return SA=r,SA}var kA,yB;function E4e(){if(yB)return kA;yB=1;var t=Zp(),e=gu(),r=t(e,"Promise");return kA=r,kA}var CA,vB;function Uee(){if(vB)return CA;vB=1;var t=Zp(),e=gu(),r=t(e,"Set");return CA=r,CA}var _A,wB;function D4e(){if(wB)return _A;wB=1;var t=Zp(),e=gu(),r=t(e,"WeakMap");return _A=r,_A}var AA,jB;function P4e(){if(jB)return AA;jB=1;var t=O4e(),e=nP(),r=E4e(),n=Uee(),s=D4e(),i=Uf(),o=oee(),l="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",m="[object WeakMap]",p="[object DataView]",g=o(t),v=o(e),w=o(r),y=o(n),N=o(s),k=i;return(t&&k(new t(new ArrayBuffer(1)))!=p||e&&k(new e)!=l||r&&k(r.resolve())!=d||n&&k(new n)!=f||s&&k(new s)!=m)&&(k=function(S){var A=i(S),_=A==c?S.constructor:void 0,O=_?o(_):"";if(O)switch(O){case g:return p;case v:return l;case w:return d;case y:return f;case N:return m}return A}),AA=k,AA}var TA,NB;function L4e(){if(NB)return TA;NB=1;var t=Pee(),e=Fee(),r=p4e(),n=M4e(),s=P4e(),i=ul(),o=Hee(),l=zee(),c=1,d="[object Arguments]",f="[object Array]",m="[object Object]",p=Object.prototype,g=p.hasOwnProperty;function v(w,y,N,k,S,A){var _=i(w),O=i(y),P=_?f:s(w),I=O?f:s(y);P=P==d?m:P,I=I==d?m:I;var R=P==m,F=I==m,E=P==I;if(E&&o(w)){if(!o(y))return!1;_=!0,R=!1}if(E&&!R)return A||(A=new t),_||l(w)?e(w,y,N,k,S,A):r(w,y,P,N,k,S,A);if(!(N&c)){var M=R&&g.call(w,"__wrapped__"),H=F&&g.call(y,"__wrapped__");if(M||H){var V=M?w.value():w,G=H?y.value():y;return A||(A=new t),S(V,G,N,k,A)}}return E?(A||(A=new t),n(w,y,N,k,S,A)):!1}return TA=v,TA}var MA,SB;function bP(){if(SB)return MA;SB=1;var t=L4e(),e=Wf();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return MA=r,MA}var OA,kB;function R4e(){if(kB)return OA;kB=1;var t=Pee(),e=bP(),r=1,n=2;function s(i,o,l,c){var d=l.length,f=d,m=!c;if(i==null)return!f;for(i=Object(i);d--;){var p=l[d];if(m&&p[2]?p[1]!==i[p[0]]:!(p[0]in i))return!1}for(;++d<f;){p=l[d];var g=p[0],v=i[g],w=p[1];if(m&&p[2]){if(v===void 0&&!(g in i))return!1}else{var y=new t;if(c)var N=c(v,w,g,i,o,y);if(!(N===void 0?e(w,v,r|n,c,y):N))return!1}}return!0}return OA=s,OA}var EA,CB;function Wee(){if(CB)return EA;CB=1;var t=ym();function e(r){return r===r&&!t(r)}return EA=e,EA}var DA,_B;function I4e(){if(_B)return DA;_B=1;var t=Wee(),e=uS();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return DA=r,DA}var PA,AB;function Vee(){if(AB)return PA;AB=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return PA=t,PA}var LA,TB;function F4e(){if(TB)return LA;TB=1;var t=R4e(),e=I4e(),r=Vee();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return LA=n,LA}var RA,MB;function $4e(){if(MB)return RA;MB=1;function t(e,r){return e!=null&&r in Object(e)}return RA=t,RA}var IA,OB;function H4e(){if(OB)return IA;OB=1;var t=dee(),e=pP(),r=ul(),n=gP(),s=xP(),i=iS();function o(l,c,d){c=t(c,l);for(var f=-1,m=c.length,p=!1;++f<m;){var g=i(c[f]);if(!(p=l!=null&&d(l,g)))break;l=l[g]}return p||++f!=m?p:(m=l==null?0:l.length,!!m&&s(m)&&n(g,m)&&(r(l)||e(l)))}return IA=o,IA}var FA,EB;function B4e(){if(EB)return FA;EB=1;var t=$4e(),e=H4e();function r(n,s){return n!=null&&e(n,s,t)}return FA=r,FA}var $A,DB;function z4e(){if(DB)return $A;DB=1;var t=bP(),e=uee(),r=B4e(),n=eP(),s=Wee(),i=Vee(),o=iS(),l=1,c=2;function d(f,m){return n(f)&&s(m)?i(o(f),m):function(p){var g=e(p,f);return g===void 0&&g===m?r(p,f):t(m,g,l|c)}}return $A=d,$A}var HA,PB;function Fx(){if(PB)return HA;PB=1;function t(e){return e}return HA=t,HA}var BA,LB;function q4e(){if(LB)return BA;LB=1;function t(e){return function(r){return r==null?void 0:r[e]}}return BA=t,BA}var zA,RB;function U4e(){if(RB)return zA;RB=1;var t=iP();function e(r){return function(n){return t(n,r)}}return zA=e,zA}var qA,IB;function W4e(){if(IB)return qA;IB=1;var t=q4e(),e=U4e(),r=eP(),n=iS();function s(i){return r(i)?t(n(i)):e(i)}return qA=s,qA}var UA,FB;function xu(){if(FB)return UA;FB=1;var t=F4e(),e=z4e(),r=Fx(),n=ul(),s=W4e();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return UA=i,UA}var WA,$B;function Gee(){if($B)return WA;$B=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return WA=t,WA}var VA,HB;function V4e(){if(HB)return VA;HB=1;function t(e){return e!==e}return VA=t,VA}var GA,BB;function G4e(){if(BB)return GA;BB=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return GA=t,GA}var YA,zB;function Y4e(){if(zB)return YA;zB=1;var t=Gee(),e=V4e(),r=G4e();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return YA=n,YA}var KA,qB;function K4e(){if(qB)return KA;qB=1;var t=Y4e();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return KA=e,KA}var JA,UB;function J4e(){if(UB)return JA;UB=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return JA=t,JA}var XA,WB;function X4e(){if(WB)return XA;WB=1;function t(){}return XA=t,XA}var QA,VB;function Q4e(){if(VB)return QA;VB=1;var t=Uee(),e=X4e(),r=mP(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return QA=s,QA}var ZA,GB;function Z4e(){if(GB)return ZA;GB=1;var t=Lee(),e=K4e(),r=J4e(),n=Iee(),s=Q4e(),i=mP(),o=200;function l(c,d,f){var m=-1,p=e,g=c.length,v=!0,w=[],y=w;if(f)v=!1,p=r;else if(g>=o){var N=d?null:s(c);if(N)return i(N);v=!1,p=n,y=new t}else y=d?[]:w;e:for(;++m<g;){var k=c[m],S=d?d(k):k;if(k=f||k!==0?k:0,v&&S===S){for(var A=y.length;A--;)if(y[A]===S)continue e;d&&y.push(S),w.push(k)}else p(y,S,f)||(y!==w&&y.push(S),w.push(k))}return w}return ZA=l,ZA}var e4,YB;function eTe(){if(YB)return e4;YB=1;var t=xu(),e=Z4e();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return e4=r,e4}var tTe=eTe();const KB=Yn(tTe);function Yee(t,e,r){return e===!0?KB(t,r):Gr(e)?KB(t,e):t}function rx(t){"@babel/helpers - typeof";return rx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rx(t)}var rTe=["ref"];function JB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JB(Object(r),!0).forEach(function(n){fS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Jee(n.key),n)}}function aTe(t,e,r){return e&&XB(t.prototype,e),r&&XB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function sTe(t,e,r){return e=j5(e),iTe(t,Kee()?Reflect.construct(e,r||[],j5(t).constructor):e.apply(t,r))}function iTe(t,e){if(e&&(rx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return oTe(t)}function oTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Kee(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Kee=function(){return!!t})()}function j5(t){return j5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},j5(t)}function lTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RM(t,e)}function RM(t,e){return RM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RM(t,e)}function fS(t,e,r){return e=Jee(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jee(t){var e=cTe(t,"string");return rx(e)=="symbol"?e:e+""}function cTe(t,e){if(rx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(rx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function dTe(t,e){if(t==null)return{};var r=uTe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function uTe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function fTe(t){return t.value}function hTe(t,e){if(be.isValidElement(t))return be.cloneElement(t,e);if(typeof t=="function")return be.createElement(t,e);e.ref;var r=dTe(e,rTe);return be.createElement(hP,r)}var QB=1,Af=(function(t){function e(){var r;nTe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=sTe(this,e,[].concat(s)),fS(r,"lastBoundingBox",{width:-1,height:-1}),r}return lTe(e,t),aTe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>QB||Math.abs(s.height-this.lastBoundingBox.height)>QB)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?tf({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,f=s.chartHeight,m,p;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var g=this.getBBoxSnapshot();m={left:((d||0)-g.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var v=this.getBBoxSnapshot();p={top:((f||0)-v.height)/2}}else p=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return tf(tf({},m),p)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,f=s.payload,m=tf(tf({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return be.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(g){n.wrapperNode=g}},hTe(i,tf(tf({},this.props),{},{payload:Yee(f,d,fTe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=tf(tf({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&Qt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(b.PureComponent);fS(Af,"displayName","Legend");fS(Af,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var t4,ZB;function mTe(){if(ZB)return t4;ZB=1;var t=l1(),e=pP(),r=ul(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return t4=s,t4}var r4,ez;function Xee(){if(ez)return r4;ez=1;var t=$ee(),e=mTe();function r(n,s,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var f=n[c];s>0&&i(f)?s>1?r(f,s-1,i,o,l):t(l,f):o||(l[l.length]=f)}return l}return r4=r,r4}var n4,tz;function pTe(){if(tz)return n4;tz=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return r}}return n4=t,n4}var a4,rz;function gTe(){if(rz)return a4;rz=1;var t=pTe(),e=t();return a4=e,a4}var s4,nz;function Qee(){if(nz)return s4;nz=1;var t=gTe(),e=uS();function r(n,s){return n&&t(n,s,e)}return s4=r,s4}var i4,az;function xTe(){if(az)return i4;az=1;var t=c1();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return i4=e,i4}var o4,sz;function yP(){if(sz)return o4;sz=1;var t=Qee(),e=xTe(),r=e(t);return o4=r,o4}var l4,iz;function Zee(){if(iz)return l4;iz=1;var t=yP(),e=c1();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=s(l,c,d)}),o}return l4=r,l4}var c4,oz;function bTe(){if(oz)return c4;oz=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return c4=t,c4}var d4,lz;function yTe(){if(lz)return d4;lz=1;var t=Lx();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,f=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&f&&!d&&!m||i&&c&&f||!s&&f||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||d&&s&&o||!c&&o||!f)return-1}return 0}return d4=e,d4}var u4,cz;function vTe(){if(cz)return u4;cz=1;var t=yTe();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,d=s.length;++i<c;){var f=t(o[i],l[i]);if(f){if(i>=d)return f;var m=s[i];return f*(m=="desc"?-1:1)}}return r.index-n.index}return u4=e,u4}var f4,dz;function wTe(){if(dz)return f4;dz=1;var t=sP(),e=iP(),r=xu(),n=Zee(),s=bTe(),i=Bee(),o=vTe(),l=Fx(),c=ul();function d(f,m,p){m.length?m=t(m,function(w){return c(w)?function(y){return e(y,w.length===1?w[0]:w)}:w}):m=[l];var g=-1;m=t(m,i(r));var v=n(f,function(w,y,N){var k=t(m,function(S){return S(w)});return{criteria:k,index:++g,value:w}});return s(v,function(w,y){return o(w,y,p)})}return f4=d,f4}var h4,uz;function jTe(){if(uz)return h4;uz=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return h4=t,h4}var m4,fz;function NTe(){if(fz)return m4;fz=1;var t=jTe(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),d=Array(c);++l<c;)d[l]=o[s+l];l=-1;for(var f=Array(s+1);++l<s;)f[l]=o[l];return f[s]=i(d),t(n,this,f)}}return m4=r,m4}var p4,hz;function STe(){if(hz)return p4;hz=1;function t(e){return function(){return e}}return p4=t,p4}var g4,mz;function ete(){if(mz)return g4;mz=1;var t=Zp(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return g4=e,g4}var x4,pz;function kTe(){if(pz)return x4;pz=1;var t=STe(),e=ete(),r=Fx(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return x4=n,x4}var b4,gz;function CTe(){if(gz)return b4;gz=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return b4=n,b4}var y4,xz;function _Te(){if(xz)return y4;xz=1;var t=kTe(),e=CTe(),r=e(t);return y4=r,y4}var v4,bz;function ATe(){if(bz)return v4;bz=1;var t=Fx(),e=NTe(),r=_Te();function n(s,i){return r(e(s,i,t),s+"")}return v4=n,v4}var w4,yz;function hS(){if(yz)return w4;yz=1;var t=rP(),e=c1(),r=gP(),n=ym();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return w4=s,w4}var j4,vz;function TTe(){if(vz)return j4;vz=1;var t=Xee(),e=wTe(),r=ATe(),n=hS(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return j4=s,j4}var MTe=TTe();const vP=Yn(MTe);function dv(t){"@babel/helpers - typeof";return dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dv(t)}function IM(){return IM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IM.apply(this,arguments)}function OTe(t,e){return LTe(t)||PTe(t,e)||DTe(t,e)||ETe()}function ETe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DTe(t,e){if(t){if(typeof t=="string")return wz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return wz(t,e)}}function wz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function LTe(t){if(Array.isArray(t))return t}function jz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function N4(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jz(Object(r),!0).forEach(function(n){RTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RTe(t,e,r){return e=ITe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ITe(t){var e=FTe(t,"string");return dv(e)=="symbol"?e:e+""}function FTe(t,e){if(dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Te(t){return Array.isArray(t)&&wi(t[0])&&wi(t[1])?t.join(" ~ "):t}var HTe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,f=e.payload,m=e.formatter,p=e.itemSorter,g=e.wrapperClassName,v=e.labelClassName,w=e.label,y=e.labelFormatter,N=e.accessibilityLayer,k=N===void 0?!1:N,S=function(){if(f&&f.length){var M={padding:0,margin:0},H=(p?vP(f,p):f).map(function(V,G){if(V.type==="none")return null;var q=N4({display:"block",paddingTop:4,paddingBottom:4,color:V.color||"#000"},l),B=V.formatter||m||$Te,z=V.value,X=V.name,ee=z,K=X;if(B&&ee!=null&&K!=null){var W=B(z,X,V,G,f);if(Array.isArray(W)){var J=OTe(W,2);ee=J[0],K=J[1]}else ee=W}return be.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(G),style:q},wi(K)?be.createElement("span",{className:"recharts-tooltip-item-name"},K):null,wi(K)?be.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,be.createElement("span",{className:"recharts-tooltip-item-value"},ee),be.createElement("span",{className:"recharts-tooltip-item-unit"},V.unit||""))});return be.createElement("ul",{className:"recharts-tooltip-item-list",style:M},H)}return null},A=N4({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=N4({margin:0},d),O=!tn(w),P=O?w:"",I=_r("recharts-default-tooltip",g),R=_r("recharts-tooltip-label",v);O&&y&&f!==void 0&&f!==null&&(P=y(w,f));var F=k?{role:"status","aria-live":"assertive"}:{};return be.createElement("div",IM({className:I,style:A},F),be.createElement("p",{className:R,style:_},be.isValidElement(P)?P:"".concat(P)),S())};function uv(t){"@babel/helpers - typeof";return uv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uv(t)}function Ww(t,e,r){return e=BTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function BTe(t){var e=zTe(t,"string");return uv(e)=="symbol"?e:e+""}function zTe(t,e){if(uv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var qb="recharts-tooltip-wrapper",qTe={visibility:"hidden"};function UTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return _r(qb,Ww(Ww(Ww(Ww({},"".concat(qb,"-right"),Qt(r)&&e&&Qt(e.x)&&r>=e.x),"".concat(qb,"-left"),Qt(r)&&e&&Qt(e.x)&&r<e.x),"".concat(qb,"-bottom"),Qt(n)&&e&&Qt(e.y)&&n>=e.y),"".concat(qb,"-top"),Qt(n)&&e&&Qt(e.y)&&n<e.y))}function Nz(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&Qt(i[n]))return i[n];var f=r[n]-l-s,m=r[n]+s;if(e[n])return o[n]?f:m;if(o[n]){var p=f,g=c[n];return p<g?Math.max(m,c[n]):Math.max(f,c[n])}var v=m+l,w=c[n]+d;return v>w?Math.max(f,c[n]):Math.max(m,c[n])}function WTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function VTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,f,m;return o.height>0&&o.width>0&&r?(f=Nz({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=Nz({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=WTe({translateX:f,translateY:m,useTranslate3d:l})):d=qTe,{cssProperties:d,cssClasses:UTe({translateX:f,translateY:m,coordinate:r})}}function nx(t){"@babel/helpers - typeof";return nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nx(t)}function Sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Sz(Object(r),!0).forEach(function(n){$M(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rte(n.key),n)}}function KTe(t,e,r){return e&&YTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function JTe(t,e,r){return e=N5(e),XTe(t,tte()?Reflect.construct(e,r||[],N5(t).constructor):e.apply(t,r))}function XTe(t,e){if(e&&(nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return QTe(t)}function QTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tte=function(){return!!t})()}function N5(t){return N5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},N5(t)}function ZTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FM(t,e)}function FM(t,e){return FM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FM(t,e)}function $M(t,e,r){return e=rte(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rte(t){var e=e6e(t,"string");return nx(e)=="symbol"?e:e+""}function e6e(t,e){if(nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Cz=1,t6e=(function(t){function e(){var r;GTe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=JTe(this,e,[].concat(s)),$M(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),$M(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,f;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(f=r.props.coordinate)===null||f===void 0?void 0:f.y)!==null&&d!==void 0?d:0}})}}),r}return ZTe(e,t),KTe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>Cz||Math.abs(n.height-this.state.lastBoundingBox.height)>Cz)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,f=s.coordinate,m=s.hasPayload,p=s.isAnimationActive,g=s.offset,v=s.position,w=s.reverseDirection,y=s.useTranslate3d,N=s.viewBox,k=s.wrapperStyle,S=VTe({allowEscapeViewBox:o,coordinate:f,offsetTopLeft:g,position:v,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:y,viewBox:N}),A=S.cssClasses,_=S.cssProperties,O=kz(kz({transition:p&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},k);return be.createElement("div",{tabIndex:-1,className:A,style:O,ref:function(I){n.wrapperNode=I}},d)}}])})(b.PureComponent),r6e=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},vm={isSsr:r6e()};function ax(t){"@babel/helpers - typeof";return ax=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ax(t)}function _z(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Az(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_z(Object(r),!0).forEach(function(n){wP(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_z(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ate(n.key),n)}}function s6e(t,e,r){return e&&a6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function i6e(t,e,r){return e=S5(e),o6e(t,nte()?Reflect.construct(e,r||[],S5(t).constructor):e.apply(t,r))}function o6e(t,e){if(e&&(ax(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l6e(t)}function l6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nte(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nte=function(){return!!t})()}function S5(t){return S5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},S5(t)}function c6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HM(t,e)}function HM(t,e){return HM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},HM(t,e)}function wP(t,e,r){return e=ate(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ate(t){var e=d6e(t,"string");return ax(e)=="symbol"?e:e+""}function d6e(t,e){if(ax(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ax(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function u6e(t){return t.dataKey}function f6e(t,e){return be.isValidElement(t)?be.cloneElement(t,e):typeof t=="function"?be.createElement(t,e):be.createElement(HTe,e)}var Ts=(function(t){function e(){return n6e(this,e),i6e(this,e,arguments)}return c6e(e,t),s6e(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,f=s.coordinate,m=s.filterNull,p=s.isAnimationActive,g=s.offset,v=s.payload,w=s.payloadUniqBy,y=s.position,N=s.reverseDirection,k=s.useTranslate3d,S=s.viewBox,A=s.wrapperStyle,_=v??[];m&&_.length&&(_=Yee(v.filter(function(P){return P.value!=null&&(P.hide!==!0||n.props.includeHidden)}),w,u6e));var O=_.length>0;return be.createElement(t6e,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:p,active:i,coordinate:f,hasPayload:O,offset:g,position:y,reverseDirection:N,useTranslate3d:k,viewBox:S,wrapperStyle:A},f6e(d,Az(Az({},this.props),{},{payload:_})))}}])})(b.PureComponent);wP(Ts,"displayName","Tooltip");wP(Ts,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!vm.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var S4,Tz;function h6e(){if(Tz)return S4;Tz=1;var t=gu(),e=function(){return t.Date.now()};return S4=e,S4}var k4,Mz;function m6e(){if(Mz)return k4;Mz=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return k4=e,k4}var C4,Oz;function p6e(){if(Oz)return C4;Oz=1;var t=m6e(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return C4=r,C4}var _4,Ez;function ste(){if(Ez)return _4;Ez=1;var t=p6e(),e=ym(),r=Lx(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var f=typeof d.valueOf=="function"?d.valueOf():d;d=e(f)?f+"":f}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?n:+d}return _4=c,_4}var A4,Dz;function g6e(){if(Dz)return A4;Dz=1;var t=ym(),e=h6e(),r=ste(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var f,m,p,g,v,w,y=0,N=!1,k=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(N=!!d.leading,k="maxWait"in d,p=k?s(r(d.maxWait)||0,c):p,S="trailing"in d?!!d.trailing:S);function A(H){var V=f,G=m;return f=m=void 0,y=H,g=l.apply(G,V),g}function _(H){return y=H,v=setTimeout(I,c),N?A(H):g}function O(H){var V=H-w,G=H-y,q=c-V;return k?i(q,p-G):q}function P(H){var V=H-w,G=H-y;return w===void 0||V>=c||V<0||k&&G>=p}function I(){var H=e();if(P(H))return R(H);v=setTimeout(I,O(H))}function R(H){return v=void 0,S&&f?A(H):(f=m=void 0,g)}function F(){v!==void 0&&clearTimeout(v),y=0,f=w=m=v=void 0}function E(){return v===void 0?g:R(e())}function M(){var H=e(),V=P(H);if(f=arguments,m=this,w=H,V){if(v===void 0)return _(w);if(k)return clearTimeout(v),v=setTimeout(I,c),A(w)}return v===void 0&&(v=setTimeout(I,c)),g}return M.cancel=F,M.flush=E,M}return A4=o,A4}var T4,Pz;function x6e(){if(Pz)return T4;Pz=1;var t=g6e(),e=ym(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return T4=n,T4}var b6e=x6e();const ite=Yn(b6e);function fv(t){"@babel/helpers - typeof";return fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fv(t)}function Lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Lz(Object(r),!0).forEach(function(n){y6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y6e(t,e,r){return e=v6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v6e(t){var e=w6e(t,"string");return fv(e)=="symbol"?e:e+""}function w6e(t,e){if(fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function j6e(t,e){return C6e(t)||k6e(t,e)||S6e(t,e)||N6e()}function N6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function S6e(t,e){if(t){if(typeof t=="string")return Rz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Rz(t,e)}}function Rz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function C6e(t){if(Array.isArray(t))return t}var kl=b.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,f=d===void 0?0:d,m=t.minHeight,p=t.maxHeight,g=t.children,v=t.debounce,w=v===void 0?0:v,y=t.id,N=t.className,k=t.onResize,S=t.style,A=S===void 0?{}:S,_=b.useRef(null),O=b.useRef();O.current=k,b.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var P=b.useState({containerWidth:s.width,containerHeight:s.height}),I=j6e(P,2),R=I[0],F=I[1],E=b.useCallback(function(H,V){F(function(G){var q=Math.round(H),B=Math.round(V);return G.containerWidth===q&&G.containerHeight===B?G:{containerWidth:q,containerHeight:B}})},[]);b.useEffect(function(){var H=function(X){var ee,K=X[0].contentRect,W=K.width,J=K.height;E(W,J),(ee=O.current)===null||ee===void 0||ee.call(O,W,J)};w>0&&(H=ite(H,w,{trailing:!0,leading:!1}));var V=new ResizeObserver(H),G=_.current.getBoundingClientRect(),q=G.width,B=G.height;return E(q,B),V.observe(_.current),function(){V.disconnect()}},[E,w]);var M=b.useMemo(function(){var H=R.containerWidth,V=R.containerHeight;if(H<0||V<0)return null;ld(up(o)||up(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),ld(!r||r>0,"The aspect(%s) must be greater than zero.",r);var G=up(o)?H:o,q=up(c)?V:c;r&&r>0&&(G?q=G/r:q&&(G=q*r),p&&q>p&&(q=p)),ld(G>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,G,q,o,c,f,m,r);var B=!Array.isArray(g)&&_f(g.type).endsWith("Chart");return be.Children.map(g,function(z){return be.isValidElement(z)?b.cloneElement(z,Vw({width:G,height:q},B?{style:Vw({height:"100%",width:"100%",maxHeight:q,maxWidth:G},z.props.style)}:{})):z})},[r,g,c,p,m,f,R,o]);return be.createElement("div",{id:y?"".concat(y):void 0,className:_r("recharts-responsive-container",N),style:Vw(Vw({},A),{},{width:o,height:c,minWidth:f,minHeight:m,maxHeight:p}),ref:_},M)}),zp=function(e){return null};zp.displayName="Cell";function hv(t){"@babel/helpers - typeof";return hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hv(t)}function Iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function BM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Iz(Object(r),!0).forEach(function(n){_6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _6e(t,e,r){return e=A6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6e(t){var e=T6e(t,"string");return hv(e)=="symbol"?e:e+""}function T6e(t,e){if(hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Y0={widthCache:{},cacheCount:0},M6e=2e3,O6e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},Fz="recharts_measurement_span";function E6e(t){var e=BM({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ay=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||vm.isSsr)return{width:0,height:0};var n=E6e(r),s=JSON.stringify({text:e,copyStyle:n});if(Y0.widthCache[s])return Y0.widthCache[s];try{var i=document.getElementById(Fz);i||(i=document.createElement("span"),i.setAttribute("id",Fz),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=BM(BM({},O6e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return Y0.widthCache[s]=c,++Y0.cacheCount>M6e&&(Y0.cacheCount=0,Y0.widthCache={}),c}catch{return{width:0,height:0}}},D6e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function mv(t){"@babel/helpers - typeof";return mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mv(t)}function k5(t,e){return I6e(t)||R6e(t,e)||L6e(t,e)||P6e()}function P6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function L6e(t,e){if(t){if(typeof t=="string")return $z(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return $z(t,e)}}function $z(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function R6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function I6e(t){if(Array.isArray(t))return t}function F6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Hz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,H6e(n.key),n)}}function $6e(t,e,r){return e&&Hz(t.prototype,e),r&&Hz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function H6e(t){var e=B6e(t,"string");return mv(e)=="symbol"?e:e+""}function B6e(t,e){if(mv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Bz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,zz=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,z6e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,q6e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ote={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},U6e=Object.keys(ote),mg="NaN";function W6e(t,e){return t*ote[e]}var Gw=(function(){function t(e,r){F6e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!z6e.test(r)&&(this.num=NaN,this.unit=""),U6e.includes(r)&&(this.num=W6e(e,r),this.unit="px")}return $6e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=q6e.exec(r))!==null&&n!==void 0?n:[],i=k5(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function lte(t){if(t.includes(mg))return mg;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=Bz.exec(e))!==null&&r!==void 0?r:[],s=k5(n,4),i=s[1],o=s[2],l=s[3],c=Gw.parse(i??""),d=Gw.parse(l??""),f=o==="*"?c.multiply(d):c.divide(d);if(f.isNaN())return mg;e=e.replace(Bz,f.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,p=(m=zz.exec(e))!==null&&m!==void 0?m:[],g=k5(p,4),v=g[1],w=g[2],y=g[3],N=Gw.parse(v??""),k=Gw.parse(y??""),S=w==="+"?N.add(k):N.subtract(k);if(S.isNaN())return mg;e=e.replace(zz,S.toString())}return e}var qz=/\(([^()]*)\)/;function V6e(t){for(var e=t;e.includes("(");){var r=qz.exec(e),n=k5(r,2),s=n[1];e=e.replace(qz,lte(s))}return e}function G6e(t){var e=t.replace(/\s+/g,"");return e=V6e(e),e=lte(e),e}function Y6e(t){try{return G6e(t)}catch{return mg}}function M4(t){var e=Y6e(t.slice(5,-1));return e===mg?"":e}var K6e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],J6e=["dx","dy","angle","className","breakAll"];function zM(){return zM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zM.apply(this,arguments)}function Uz(t,e){if(t==null)return{};var r=X6e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function X6e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Wz(t,e){return tMe(t)||eMe(t,e)||Z6e(t,e)||Q6e()}function Q6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Z6e(t,e){if(t){if(typeof t=="string")return Vz(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Vz(t,e)}}function Vz(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eMe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function tMe(t){if(Array.isArray(t))return t}var cte=/[ \f\n\r\t\v\u2028\u2029]+/,dte=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];tn(r)||(n?i=r.toString().split(""):i=r.toString().split(cte));var o=i.map(function(c){return{word:c,width:Ay(c,s).width}}),l=n?0:Ay(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},rMe=function(e,r,n,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,f=Qt(o),m=l,p=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return G.reduce(function(q,B){var z=B.word,X=B.width,ee=q[q.length-1];if(ee&&(s==null||i||ee.width+X+n<Number(s)))ee.words.push(z),ee.width+=X+n;else{var K={words:[z],width:X};q.push(K)}return q},[])},g=p(r),v=function(G){return G.reduce(function(q,B){return q.width>B.width?q:B})};if(!f)return g;for(var w="…",y=function(G){var q=m.slice(0,G),B=dte({breakAll:d,style:c,children:q+w}).wordsWithComputedWidth,z=p(B),X=z.length>o||v(z).width>Number(s);return[X,z]},N=0,k=m.length-1,S=0,A;N<=k&&S<=m.length-1;){var _=Math.floor((N+k)/2),O=_-1,P=y(O),I=Wz(P,2),R=I[0],F=I[1],E=y(_),M=Wz(E,1),H=M[0];if(!R&&!H&&(N=_+1),R&&H&&(k=_-1),!R&&H){A=F;break}S++}return A||g},Gz=function(e){var r=tn(e)?[]:e.toString().split(cte);return[{words:r}]},nMe=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!vm.isSsr){var c,d,f=dte({breakAll:o,children:s,style:i});if(f){var m=f.wordsWithComputedWidth,p=f.spaceWidth;c=m,d=p}else return Gz(s);return rMe({breakAll:o,children:s,maxLines:l,style:i},c,d,r,n)}return Gz(s)},Yz="#808080",qp=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,f=e.scaleToFit,m=f===void 0?!1:f,p=e.textAnchor,g=p===void 0?"start":p,v=e.verticalAnchor,w=v===void 0?"end":v,y=e.fill,N=y===void 0?Yz:y,k=Uz(e,K6e),S=b.useMemo(function(){return nMe({breakAll:k.breakAll,children:k.children,maxLines:k.maxLines,scaleToFit:m,style:k.style,width:k.width})},[k.breakAll,k.children,k.maxLines,m,k.style,k.width]),A=k.dx,_=k.dy,O=k.angle,P=k.className,I=k.breakAll,R=Uz(k,J6e);if(!wi(n)||!wi(i))return null;var F=n+(Qt(A)?A:0),E=i+(Qt(_)?_:0),M;switch(w){case"start":M=M4("calc(".concat(d,")"));break;case"middle":M=M4("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:M=M4("calc(".concat(S.length-1," * -").concat(l,")"));break}var H=[];if(m){var V=S[0].width,G=k.width;H.push("scale(".concat((Qt(G)?G/V:1)/V,")"))}return O&&H.push("rotate(".concat(O,", ").concat(F,", ").concat(E,")")),H.length&&(R.transform=H.join(" ")),be.createElement("text",zM({},Mr(R,!0),{x:F,y:E,className:_r("recharts-text",P),textAnchor:g,fill:N.includes("url")?Yz:N}),S.map(function(q,B){var z=q.words.join(I?"":" ");return be.createElement("tspan",{x:F,dy:B===0?M:l,key:"".concat(z,"-").concat(B)},z)}))};function am(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function aMe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function jP(t){let e,r,n;t.length!==2?(e=am,r=(l,c)=>am(t(l),c),n=(l,c)=>t(l)-c):(e=t===am||t===aMe?t:sMe,r=t,n=t);function s(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<0?d=m+1:f=m}while(d<f)}return d}function i(l,c,d=0,f=l.length){if(d<f){if(e(c,c)!==0)return f;do{const m=d+f>>>1;r(l[m],c)<=0?d=m+1:f=m}while(d<f)}return d}function o(l,c,d=0,f=l.length){const m=s(l,c,d,f-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function sMe(){return 0}function ute(t){return t===null?NaN:+t}function*iMe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const oMe=jP(am),d1=oMe.right;jP(ute).center;class Kz extends Map{constructor(e,r=dMe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(Jz(this,e))}has(e){return super.has(Jz(this,e))}set(e,r){return super.set(lMe(this,e),r)}delete(e){return super.delete(cMe(this,e))}}function Jz({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function lMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function cMe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function dMe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function uMe(t=am){if(t===am)return fte;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function fte(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const fMe=Math.sqrt(50),hMe=Math.sqrt(10),mMe=Math.sqrt(2);function C5(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=fMe?10:i>=hMe?5:i>=mMe?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?C5(t,e,r*2):[l,c,d]}function qM(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?C5(e,t,r):C5(t,e,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function UM(t,e,r){return e=+e,t=+t,r=+r,C5(t,e,r)[2]}function WM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?UM(e,t,r):UM(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function Xz(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Qz(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function hte(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?fte:uMe(s);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),m=.5*Math.exp(2*f/3),p=.5*Math.sqrt(f*m*(c-m)/c)*(d-c/2<0?-1:1),g=Math.max(r,Math.floor(e-d*m/c+p)),v=Math.min(n,Math.floor(e+(c-d)*m/c+p));hte(t,e,g,v,s)}const i=t[e];let o=r,l=n;for(Ub(t,r,e),s(t[n],i)>0&&Ub(t,r,n);o<l;){for(Ub(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?Ub(t,r,l):(++l,Ub(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function Ub(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function pMe(t,e,r){if(t=Float64Array.from(iMe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Qz(t);if(e>=1)return Xz(t);var n,s=(n-1)*e,i=Math.floor(s),o=Xz(hte(t,i).subarray(0,i+1)),l=Qz(t.subarray(i+1));return o+(l-o)*(s-i)}}function gMe(t,e,r=ute){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function xMe(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function Sc(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Vf(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const VM=Symbol("implicit");function NP(){var t=new Kz,e=[],r=[],n=VM;function s(i){let o=t.get(i);if(o===void 0){if(n!==VM)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new Kz;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return NP(e,r).unknown(n)},Sc.apply(s,arguments),s}function pv(){var t=NP().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,c=0,d=0,f=.5;delete t.unknown;function m(){var p=e().length,g=s<n,v=g?s:n,w=g?n:s;i=(w-v)/Math.max(1,p-c+d*2),l&&(i=Math.floor(i)),v+=(w-v-i*(p-c))*f,o=i*(1-c),l&&(v=Math.round(v),o=Math.round(o));var y=xMe(p).map(function(N){return v+i*N});return r(g?y.reverse():y)}return t.domain=function(p){return arguments.length?(e(p),m()):e()},t.range=function(p){return arguments.length?([n,s]=p,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(p){return[n,s]=p,n=+n,s=+s,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(p){return arguments.length?(l=!!p,m()):l},t.padding=function(p){return arguments.length?(c=Math.min(1,d=+p),m()):c},t.paddingInner=function(p){return arguments.length?(c=Math.min(1,p),m()):c},t.paddingOuter=function(p){return arguments.length?(d=+p,m()):d},t.align=function(p){return arguments.length?(f=Math.max(0,Math.min(1,p)),m()):f},t.copy=function(){return pv(e(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(f)},Sc.apply(m(),arguments)}function mte(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return mte(e())},t}function Ty(){return mte(pv.apply(null,arguments).paddingInner(1))}function SP(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function pte(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function u1(){}var gv=.7,_5=1/gv,Mg="\\s*([+-]?\\d+)\\s*",xv="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",bMe=/^#([0-9a-f]{3,8})$/,yMe=new RegExp(`^rgb\\(${Mg},${Mg},${Mg}\\)$`),vMe=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),wMe=new RegExp(`^rgba\\(${Mg},${Mg},${Mg},${xv}\\)$`),jMe=new RegExp(`^rgba\\(${nu},${nu},${nu},${xv}\\)$`),NMe=new RegExp(`^hsl\\(${xv},${nu},${nu}\\)$`),SMe=new RegExp(`^hsla\\(${xv},${nu},${nu},${xv}\\)$`),Zz={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SP(u1,bv,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:eq,formatHex:eq,formatHex8:kMe,formatHsl:CMe,formatRgb:tq,toString:tq});function eq(){return this.rgb().formatHex()}function kMe(){return this.rgb().formatHex8()}function CMe(){return gte(this).formatHsl()}function tq(){return this.rgb().formatRgb()}function bv(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=bMe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?rq(e):r===3?new ll(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Yw(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Yw(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=yMe.exec(t))?new ll(e[1],e[2],e[3],1):(e=vMe.exec(t))?new ll(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=wMe.exec(t))?Yw(e[1],e[2],e[3],e[4]):(e=jMe.exec(t))?Yw(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=NMe.exec(t))?sq(e[1],e[2]/100,e[3]/100,1):(e=SMe.exec(t))?sq(e[1],e[2]/100,e[3]/100,e[4]):Zz.hasOwnProperty(t)?rq(Zz[t]):t==="transparent"?new ll(NaN,NaN,NaN,0):null}function rq(t){return new ll(t>>16&255,t>>8&255,t&255,1)}function Yw(t,e,r,n){return n<=0&&(t=e=r=NaN),new ll(t,e,r,n)}function _Me(t){return t instanceof u1||(t=bv(t)),t?(t=t.rgb(),new ll(t.r,t.g,t.b,t.opacity)):new ll}function GM(t,e,r,n){return arguments.length===1?_Me(t):new ll(t,e,r,n??1)}function ll(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}SP(ll,GM,pte(u1,{brighter(t){return t=t==null?_5:Math.pow(_5,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gv:Math.pow(gv,t),new ll(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new ll(Ap(this.r),Ap(this.g),Ap(this.b),A5(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:nq,formatHex:nq,formatHex8:AMe,formatRgb:aq,toString:aq}));function nq(){return`#${fp(this.r)}${fp(this.g)}${fp(this.b)}`}function AMe(){return`#${fp(this.r)}${fp(this.g)}${fp(this.b)}${fp((isNaN(this.opacity)?1:this.opacity)*255)}`}function aq(){const t=A5(this.opacity);return`${t===1?"rgb(":"rgba("}${Ap(this.r)}, ${Ap(this.g)}, ${Ap(this.b)}${t===1?")":`, ${t})`}`}function A5(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Ap(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function fp(t){return t=Ap(t),(t<16?"0":"")+t.toString(16)}function sq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new rd(t,e,r,n)}function gte(t){if(t instanceof rd)return new rd(t.h,t.s,t.l,t.opacity);if(t instanceof u1||(t=bv(t)),!t)return new rd;if(t instanceof rd)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new rd(o,l,c,t.opacity)}function TMe(t,e,r,n){return arguments.length===1?gte(t):new rd(t,e,r,n??1)}function rd(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}SP(rd,TMe,pte(u1,{brighter(t){return t=t==null?_5:Math.pow(_5,t),new rd(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gv:Math.pow(gv,t),new rd(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new ll(O4(t>=240?t-240:t+120,s,n),O4(t,s,n),O4(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new rd(iq(this.h),Kw(this.s),Kw(this.l),A5(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=A5(this.opacity);return`${t===1?"hsl(":"hsla("}${iq(this.h)}, ${Kw(this.s)*100}%, ${Kw(this.l)*100}%${t===1?")":`, ${t})`}`}}));function iq(t){return t=(t||0)%360,t<0?t+360:t}function Kw(t){return Math.max(0,Math.min(1,t||0))}function O4(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const kP=t=>()=>t;function MMe(t,e){return function(r){return t+r*e}}function OMe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function EMe(t){return(t=+t)==1?xte:function(e,r){return r-e?OMe(e,r,t):kP(isNaN(e)?r:e)}}function xte(t,e){var r=e-t;return r?MMe(t,r):kP(isNaN(t)?e:t)}const oq=(function t(e){var r=EMe(e);function n(s,i){var o=r((s=GM(s)).r,(i=GM(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=xte(s.opacity,i.opacity);return function(f){return s.r=o(f),s.g=l(f),s.b=c(f),s.opacity=d(f),s+""}}return n.gamma=t,n})(1);function DMe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function PMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function LMe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=$x(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function RMe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function T5(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function IMe(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=$x(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var YM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,E4=new RegExp(YM.source,"g");function FMe(t){return function(){return t}}function $Me(t){return function(e){return t(e)+""}}function HMe(t,e){var r=YM.lastIndex=E4.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=YM.exec(t))&&(s=E4.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:T5(n,s)})),r=E4.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?$Me(c[0].x):FMe(e):(e=c.length,function(d){for(var f=0,m;f<e;++f)l[(m=c[f]).i]=m.x(d);return l.join("")})}function $x(t,e){var r=typeof e,n;return e==null||r==="boolean"?kP(e):(r==="number"?T5:r==="string"?(n=bv(e))?(e=n,oq):HMe:e instanceof bv?oq:e instanceof Date?RMe:PMe(e)?DMe:Array.isArray(e)?LMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?IMe:T5)(t,e)}function CP(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function BMe(t,e){e===void 0&&(e=t,t=$x);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function zMe(t){return function(){return t}}function M5(t){return+t}var lq=[0,1];function Io(t){return t}function KM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:zMe(isNaN(e)?NaN:.5)}function qMe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function UMe(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=KM(s,n),i=r(o,i)):(n=KM(n,s),i=r(i,o)),function(l){return i(n(l))}}function WMe(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=KM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=d1(t,l,1,n)-1;return i[c](s[c](l))}}function f1(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function mS(){var t=lq,e=lq,r=$x,n,s,i,o=Io,l,c,d;function f(){var p=Math.min(t.length,e.length);return o!==Io&&(o=qMe(t[0],t[p-1])),l=p>2?WMe:UMe,c=d=null,m}function m(p){return p==null||isNaN(p=+p)?i:(c||(c=l(t.map(n),e,r)))(n(o(p)))}return m.invert=function(p){return o(s((d||(d=l(e,t.map(n),T5)))(p)))},m.domain=function(p){return arguments.length?(t=Array.from(p,M5),f()):t.slice()},m.range=function(p){return arguments.length?(e=Array.from(p),f()):e.slice()},m.rangeRound=function(p){return e=Array.from(p),r=CP,f()},m.clamp=function(p){return arguments.length?(o=p?!0:Io,f()):o!==Io},m.interpolate=function(p){return arguments.length?(r=p,f()):r},m.unknown=function(p){return arguments.length?(i=p,m):i},function(p,g){return n=p,s=g,f()}}function _P(){return mS()(Io,Io)}function VMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function O5(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function sx(t){return t=O5(Math.abs(t)),t?t[1]:NaN}function GMe(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function YMe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var KMe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function yv(t){if(!(e=KMe.exec(t)))throw new Error("invalid format: "+t);var e;return new AP({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}yv.prototype=AP.prototype;function AP(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AP.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function JMe(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var bte;function XMe(t,e){var r=O5(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(bte=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+O5(t,Math.max(0,e+i-1))[0]}function cq(t,e){var r=O5(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const dq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:VMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>cq(t*100,e),r:cq,s:XMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function uq(t){return t}var fq=Array.prototype.map,hq=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function QMe(t){var e=t.grouping===void 0||t.thousands===void 0?uq:GMe(fq.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?uq:YMe(fq.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=yv(m);var p=m.fill,g=m.align,v=m.sign,w=m.symbol,y=m.zero,N=m.width,k=m.comma,S=m.precision,A=m.trim,_=m.type;_==="n"?(k=!0,_="g"):dq[_]||(S===void 0&&(S=12),A=!0,_="g"),(y||p==="0"&&g==="=")&&(y=!0,p="0",g="=");var O=w==="$"?r:w==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",P=w==="$"?n:/[%p]/.test(_)?o:"",I=dq[_],R=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function F(E){var M=O,H=P,V,G,q;if(_==="c")H=I(E)+H,E="";else{E=+E;var B=E<0||1/E<0;if(E=isNaN(E)?c:I(Math.abs(E),S),A&&(E=JMe(E)),B&&+E==0&&v!=="+"&&(B=!1),M=(B?v==="("?v:l:v==="-"||v==="("?"":v)+M,H=(_==="s"?hq[8+bte/3]:"")+H+(B&&v==="("?")":""),R){for(V=-1,G=E.length;++V<G;)if(q=E.charCodeAt(V),48>q||q>57){H=(q===46?s+E.slice(V+1):E.slice(V))+H,E=E.slice(0,V);break}}}k&&!y&&(E=e(E,1/0));var z=M.length+E.length+H.length,X=z<N?new Array(N-z+1).join(p):"";switch(k&&y&&(E=e(X+E,X.length?N-H.length:1/0),X=""),g){case"<":E=M+E+H+X;break;case"=":E=M+X+E+H;break;case"^":E=X.slice(0,z=X.length>>1)+M+E+H+X.slice(z);break;default:E=X+M+E+H;break}return i(E)}return F.toString=function(){return m+""},F}function f(m,p){var g=d((m=yv(m),m.type="f",m)),v=Math.max(-8,Math.min(8,Math.floor(sx(p)/3)))*3,w=Math.pow(10,-v),y=hq[8+v/3];return function(N){return g(w*N)+y}}return{format:d,formatPrefix:f}}var Jw,TP,yte;ZMe({thousands:",",grouping:[3],currency:["$",""]});function ZMe(t){return Jw=QMe(t),TP=Jw.format,yte=Jw.formatPrefix,Jw}function eOe(t){return Math.max(0,-sx(Math.abs(t)))}function tOe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(sx(e)/3)))*3-sx(Math.abs(t)))}function rOe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,sx(e)-sx(t))+1}function vte(t,e,r,n){var s=WM(t,e,r),i;switch(n=yv(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=tOe(s,o))&&(n.precision=i),yte(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=rOe(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=eOe(s))&&(n.precision=i-(n.type==="%")*2);break}}return TP(n)}function wm(t){var e=t.domain;return t.ticks=function(r){var n=e();return qM(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return vte(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,f=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);f-- >0;){if(d=UM(o,l,r),d===c)return n[s]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function E5(){var t=_P();return t.copy=function(){return f1(t,E5())},Sc.apply(t,arguments),wm(t)}function wte(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,M5),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return wte(t).unknown(e)},t=arguments.length?Array.from(t,M5):[0,1],wm(r)}function jte(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function mq(t){return Math.log(t)}function pq(t){return Math.exp(t)}function nOe(t){return-Math.log(-t)}function aOe(t){return-Math.exp(-t)}function sOe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function iOe(t){return t===10?sOe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function oOe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function gq(t){return(e,r)=>-t(-e,r)}function MP(t){const e=t(mq,pq),r=e.domain;let n=10,s,i;function o(){return s=oOe(n),i=iOe(n),r()[0]<0?(s=gq(s),i=gq(i),t(nOe,aOe)):t(mq,pq),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],f=c[c.length-1];const m=f<d;m&&([d,f]=[f,d]);let p=s(d),g=s(f),v,w;const y=l==null?10:+l;let N=[];if(!(n%1)&&g-p<y){if(p=Math.floor(p),g=Math.ceil(g),d>0){for(;p<=g;++p)for(v=1;v<n;++v)if(w=p<0?v/i(-p):v*i(p),!(w<d)){if(w>f)break;N.push(w)}}else for(;p<=g;++p)for(v=n-1;v>=1;--v)if(w=p>0?v/i(-p):v*i(p),!(w<d)){if(w>f)break;N.push(w)}N.length*2<y&&(N=qM(d,f,y))}else N=qM(p,g,Math.min(g-p,y)).map(i);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=yv(c)).precision==null&&(c.trim=!0),c=TP(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return f=>{let m=f/i(Math.round(s(f)));return m*n<n-.5&&(m*=n),m<=d?c(f):""}},e.nice=()=>r(jte(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function Nte(){const t=MP(mS()).domain([1,10]);return t.copy=()=>f1(t,Nte()).base(t.base()),Sc.apply(t,arguments),t}function xq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function bq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function OP(t){var e=1,r=t(xq(e),bq(e));return r.constant=function(n){return arguments.length?t(xq(e=+n),bq(e)):e},wm(r)}function Ste(){var t=OP(mS());return t.copy=function(){return f1(t,Ste()).constant(t.constant())},Sc.apply(t,arguments)}function yq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function lOe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function cOe(t){return t<0?-t*t:t*t}function EP(t){var e=t(Io,Io),r=1;function n(){return r===1?t(Io,Io):r===.5?t(lOe,cOe):t(yq(r),yq(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},wm(e)}function DP(){var t=EP(mS());return t.copy=function(){return f1(t,DP()).exponent(t.exponent())},Sc.apply(t,arguments),t}function dOe(){return DP.apply(null,arguments).exponent(.5)}function vq(t){return Math.sign(t)*t*t}function uOe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function kte(){var t=_P(),e=[0,1],r=!1,n;function s(i){var o=uOe(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(vq(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,M5)).map(vq)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return kte(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Sc.apply(s,arguments),wm(s)}function Cte(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=gMe(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[d1(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(am),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return Cte().domain(t).range(e).unknown(n)},Sc.apply(i,arguments)}function _te(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[d1(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return _te().domain([t,e]).range(s).unknown(i)},Sc.apply(wm(o),arguments)}function Ate(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[d1(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return Ate().domain(t).range(e).unknown(r)},Sc.apply(s,arguments)}const D4=new Date,P4=new Date;function ji(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>ji(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(D4.setTime(+i),P4.setTime(+o),t(D4),t(P4),Math.floor(r(D4,P4))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const D5=ji(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);D5.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ji(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):D5);D5.range;const mf=1e3,hc=mf*60,pf=hc*60,Lf=pf*24,PP=Lf*7,wq=Lf*30,L4=Lf*365,hp=ji(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*mf)},(t,e)=>(e-t)/mf,t=>t.getUTCSeconds());hp.range;const LP=ji(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mf)},(t,e)=>{t.setTime(+t+e*hc)},(t,e)=>(e-t)/hc,t=>t.getMinutes());LP.range;const RP=ji(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hc)},(t,e)=>(e-t)/hc,t=>t.getUTCMinutes());RP.range;const IP=ji(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*mf-t.getMinutes()*hc)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getHours());IP.range;const FP=ji(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*pf)},(t,e)=>(e-t)/pf,t=>t.getUTCHours());FP.range;const h1=ji(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hc)/Lf,t=>t.getDate()-1);h1.range;const pS=ji(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lf,t=>t.getUTCDate()-1);pS.range;const Tte=ji(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Lf,t=>Math.floor(t/Lf));Tte.range;function t0(t){return ji(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*hc)/PP)}const gS=t0(0),P5=t0(1),fOe=t0(2),hOe=t0(3),ix=t0(4),mOe=t0(5),pOe=t0(6);gS.range;P5.range;fOe.range;hOe.range;ix.range;mOe.range;pOe.range;function r0(t){return ji(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/PP)}const xS=r0(0),L5=r0(1),gOe=r0(2),xOe=r0(3),ox=r0(4),bOe=r0(5),yOe=r0(6);xS.range;L5.range;gOe.range;xOe.range;ox.range;bOe.range;yOe.range;const $P=ji(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());$P.range;const HP=ji(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());HP.range;const Rf=ji(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Rf.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ji(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Rf.range;const If=ji(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());If.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ji(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});If.range;function Mte(t,e,r,n,s,i){const o=[[hp,1,mf],[hp,5,5*mf],[hp,15,15*mf],[hp,30,30*mf],[i,1,hc],[i,5,5*hc],[i,15,15*hc],[i,30,30*hc],[s,1,pf],[s,3,3*pf],[s,6,6*pf],[s,12,12*pf],[n,1,Lf],[n,2,2*Lf],[r,1,PP],[e,1,wq],[e,3,3*wq],[t,1,L4]];function l(d,f,m){const p=f<d;p&&([d,f]=[f,d]);const g=m&&typeof m.range=="function"?m:c(d,f,m),v=g?g.range(d,+f+1):[];return p?v.reverse():v}function c(d,f,m){const p=Math.abs(f-d)/m,g=jP(([,,y])=>y).right(o,p);if(g===o.length)return t.every(WM(d/L4,f/L4,m));if(g===0)return D5.every(Math.max(WM(d,f,m),1));const[v,w]=o[p/o[g-1][2]<o[g][2]/p?g-1:g];return v.every(w)}return[l,c]}const[vOe,wOe]=Mte(If,HP,xS,Tte,FP,RP),[jOe,NOe]=Mte(Rf,$P,gS,h1,IP,LP);function R4(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function I4(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Wb(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function SOe(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=Vb(s),f=Gb(s),m=Vb(i),p=Gb(i),g=Vb(o),v=Gb(o),w=Vb(l),y=Gb(l),N=Vb(c),k=Gb(c),S={a:B,A:z,b:X,B:ee,c:null,d:_q,e:_q,f:GOe,g:nEe,G:sEe,H:UOe,I:WOe,j:VOe,L:Ote,m:YOe,M:KOe,p:K,q:W,Q:Mq,s:Oq,S:JOe,u:XOe,U:QOe,V:ZOe,w:eEe,W:tEe,x:null,X:null,y:rEe,Y:aEe,Z:iEe,"%":Tq},A={a:J,A:Z,b:ie,B:ue,c:null,d:Aq,e:Aq,f:dEe,g:vEe,G:jEe,H:oEe,I:lEe,j:cEe,L:Dte,m:uEe,M:fEe,p:je,q:ce,Q:Mq,s:Oq,S:hEe,u:mEe,U:pEe,V:gEe,w:xEe,W:bEe,x:null,X:null,y:yEe,Y:wEe,Z:NEe,"%":Tq},_={a:F,A:E,b:M,B:H,c:V,d:kq,e:kq,f:HOe,g:Sq,G:Nq,H:Cq,I:Cq,j:ROe,L:$Oe,m:LOe,M:IOe,p:R,q:POe,Q:zOe,s:qOe,S:FOe,u:TOe,U:MOe,V:OOe,w:AOe,W:EOe,x:G,X:q,y:Sq,Y:Nq,Z:DOe,"%":BOe};S.x=O(r,S),S.X=O(n,S),S.c=O(e,S),A.x=O(r,A),A.X=O(n,A),A.c=O(e,A);function O(le,pe){return function($e){var de=[],Se=-1,te=0,se=le.length,ut,dt,De;for($e instanceof Date||($e=new Date(+$e));++Se<se;)le.charCodeAt(Se)===37&&(de.push(le.slice(te,Se)),(dt=jq[ut=le.charAt(++Se)])!=null?ut=le.charAt(++Se):dt=ut==="e"?" ":"0",(De=pe[ut])&&(ut=De($e,dt)),de.push(ut),te=Se+1);return de.push(le.slice(te,Se)),de.join("")}}function P(le,pe){return function($e){var de=Wb(1900,void 0,1),Se=I(de,le,$e+="",0),te,se;if(Se!=$e.length)return null;if("Q"in de)return new Date(de.Q);if("s"in de)return new Date(de.s*1e3+("L"in de?de.L:0));if(pe&&!("Z"in de)&&(de.Z=0),"p"in de&&(de.H=de.H%12+de.p*12),de.m===void 0&&(de.m="q"in de?de.q:0),"V"in de){if(de.V<1||de.V>53)return null;"w"in de||(de.w=1),"Z"in de?(te=I4(Wb(de.y,0,1)),se=te.getUTCDay(),te=se>4||se===0?L5.ceil(te):L5(te),te=pS.offset(te,(de.V-1)*7),de.y=te.getUTCFullYear(),de.m=te.getUTCMonth(),de.d=te.getUTCDate()+(de.w+6)%7):(te=R4(Wb(de.y,0,1)),se=te.getDay(),te=se>4||se===0?P5.ceil(te):P5(te),te=h1.offset(te,(de.V-1)*7),de.y=te.getFullYear(),de.m=te.getMonth(),de.d=te.getDate()+(de.w+6)%7)}else("W"in de||"U"in de)&&("w"in de||(de.w="u"in de?de.u%7:"W"in de?1:0),se="Z"in de?I4(Wb(de.y,0,1)).getUTCDay():R4(Wb(de.y,0,1)).getDay(),de.m=0,de.d="W"in de?(de.w+6)%7+de.W*7-(se+5)%7:de.w+de.U*7-(se+6)%7);return"Z"in de?(de.H+=de.Z/100|0,de.M+=de.Z%100,I4(de)):R4(de)}}function I(le,pe,$e,de){for(var Se=0,te=pe.length,se=$e.length,ut,dt;Se<te;){if(de>=se)return-1;if(ut=pe.charCodeAt(Se++),ut===37){if(ut=pe.charAt(Se++),dt=_[ut in jq?pe.charAt(Se++):ut],!dt||(de=dt(le,$e,de))<0)return-1}else if(ut!=$e.charCodeAt(de++))return-1}return de}function R(le,pe,$e){var de=d.exec(pe.slice($e));return de?(le.p=f.get(de[0].toLowerCase()),$e+de[0].length):-1}function F(le,pe,$e){var de=g.exec(pe.slice($e));return de?(le.w=v.get(de[0].toLowerCase()),$e+de[0].length):-1}function E(le,pe,$e){var de=m.exec(pe.slice($e));return de?(le.w=p.get(de[0].toLowerCase()),$e+de[0].length):-1}function M(le,pe,$e){var de=N.exec(pe.slice($e));return de?(le.m=k.get(de[0].toLowerCase()),$e+de[0].length):-1}function H(le,pe,$e){var de=w.exec(pe.slice($e));return de?(le.m=y.get(de[0].toLowerCase()),$e+de[0].length):-1}function V(le,pe,$e){return I(le,e,pe,$e)}function G(le,pe,$e){return I(le,r,pe,$e)}function q(le,pe,$e){return I(le,n,pe,$e)}function B(le){return o[le.getDay()]}function z(le){return i[le.getDay()]}function X(le){return c[le.getMonth()]}function ee(le){return l[le.getMonth()]}function K(le){return s[+(le.getHours()>=12)]}function W(le){return 1+~~(le.getMonth()/3)}function J(le){return o[le.getUTCDay()]}function Z(le){return i[le.getUTCDay()]}function ie(le){return c[le.getUTCMonth()]}function ue(le){return l[le.getUTCMonth()]}function je(le){return s[+(le.getUTCHours()>=12)]}function ce(le){return 1+~~(le.getUTCMonth()/3)}return{format:function(le){var pe=O(le+="",S);return pe.toString=function(){return le},pe},parse:function(le){var pe=P(le+="",!1);return pe.toString=function(){return le},pe},utcFormat:function(le){var pe=O(le+="",A);return pe.toString=function(){return le},pe},utcParse:function(le){var pe=P(le+="",!0);return pe.toString=function(){return le},pe}}}var jq={"-":"",_:" ",0:"0"},Ri=/^\s*\d+/,kOe=/^%/,COe=/[\\^$*+?|[\]().{}]/g;function Gn(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function _Oe(t){return t.replace(COe,"\\$&")}function Vb(t){return new RegExp("^(?:"+t.map(_Oe).join("|")+")","i")}function Gb(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function AOe(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function TOe(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function MOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function OOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function EOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Nq(t,e,r){var n=Ri.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Sq(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function DOe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function POe(t,e,r){var n=Ri.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function LOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function kq(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function ROe(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Cq(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function IOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function FOe(t,e,r){var n=Ri.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function $Oe(t,e,r){var n=Ri.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function HOe(t,e,r){var n=Ri.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function BOe(t,e,r){var n=kOe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function zOe(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function qOe(t,e,r){var n=Ri.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function _q(t,e){return Gn(t.getDate(),e,2)}function UOe(t,e){return Gn(t.getHours(),e,2)}function WOe(t,e){return Gn(t.getHours()%12||12,e,2)}function VOe(t,e){return Gn(1+h1.count(Rf(t),t),e,3)}function Ote(t,e){return Gn(t.getMilliseconds(),e,3)}function GOe(t,e){return Ote(t,e)+"000"}function YOe(t,e){return Gn(t.getMonth()+1,e,2)}function KOe(t,e){return Gn(t.getMinutes(),e,2)}function JOe(t,e){return Gn(t.getSeconds(),e,2)}function XOe(t){var e=t.getDay();return e===0?7:e}function QOe(t,e){return Gn(gS.count(Rf(t)-1,t),e,2)}function Ete(t){var e=t.getDay();return e>=4||e===0?ix(t):ix.ceil(t)}function ZOe(t,e){return t=Ete(t),Gn(ix.count(Rf(t),t)+(Rf(t).getDay()===4),e,2)}function eEe(t){return t.getDay()}function tEe(t,e){return Gn(P5.count(Rf(t)-1,t),e,2)}function rEe(t,e){return Gn(t.getFullYear()%100,e,2)}function nEe(t,e){return t=Ete(t),Gn(t.getFullYear()%100,e,2)}function aEe(t,e){return Gn(t.getFullYear()%1e4,e,4)}function sEe(t,e){var r=t.getDay();return t=r>=4||r===0?ix(t):ix.ceil(t),Gn(t.getFullYear()%1e4,e,4)}function iEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Gn(e/60|0,"0",2)+Gn(e%60,"0",2)}function Aq(t,e){return Gn(t.getUTCDate(),e,2)}function oEe(t,e){return Gn(t.getUTCHours(),e,2)}function lEe(t,e){return Gn(t.getUTCHours()%12||12,e,2)}function cEe(t,e){return Gn(1+pS.count(If(t),t),e,3)}function Dte(t,e){return Gn(t.getUTCMilliseconds(),e,3)}function dEe(t,e){return Dte(t,e)+"000"}function uEe(t,e){return Gn(t.getUTCMonth()+1,e,2)}function fEe(t,e){return Gn(t.getUTCMinutes(),e,2)}function hEe(t,e){return Gn(t.getUTCSeconds(),e,2)}function mEe(t){var e=t.getUTCDay();return e===0?7:e}function pEe(t,e){return Gn(xS.count(If(t)-1,t),e,2)}function Pte(t){var e=t.getUTCDay();return e>=4||e===0?ox(t):ox.ceil(t)}function gEe(t,e){return t=Pte(t),Gn(ox.count(If(t),t)+(If(t).getUTCDay()===4),e,2)}function xEe(t){return t.getUTCDay()}function bEe(t,e){return Gn(L5.count(If(t)-1,t),e,2)}function yEe(t,e){return Gn(t.getUTCFullYear()%100,e,2)}function vEe(t,e){return t=Pte(t),Gn(t.getUTCFullYear()%100,e,2)}function wEe(t,e){return Gn(t.getUTCFullYear()%1e4,e,4)}function jEe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ox(t):ox.ceil(t),Gn(t.getUTCFullYear()%1e4,e,4)}function NEe(){return"+0000"}function Tq(){return"%"}function Mq(t){return+t}function Oq(t){return Math.floor(+t/1e3)}var K0,Lte,Rte;SEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function SEe(t){return K0=SOe(t),Lte=K0.format,K0.parse,Rte=K0.utcFormat,K0.utcParse,K0}function kEe(t){return new Date(t)}function CEe(t){return t instanceof Date?+t:+new Date(+t)}function BP(t,e,r,n,s,i,o,l,c,d){var f=_P(),m=f.invert,p=f.domain,g=d(".%L"),v=d(":%S"),w=d("%I:%M"),y=d("%I %p"),N=d("%a %d"),k=d("%b %d"),S=d("%B"),A=d("%Y");function _(O){return(c(O)<O?g:l(O)<O?v:o(O)<O?w:i(O)<O?y:n(O)<O?s(O)<O?N:k:r(O)<O?S:A)(O)}return f.invert=function(O){return new Date(m(O))},f.domain=function(O){return arguments.length?p(Array.from(O,CEe)):p().map(kEe)},f.ticks=function(O){var P=p();return t(P[0],P[P.length-1],O??10)},f.tickFormat=function(O,P){return P==null?_:d(P)},f.nice=function(O){var P=p();return(!O||typeof O.range!="function")&&(O=e(P[0],P[P.length-1],O??10)),O?p(jte(P,O)):f},f.copy=function(){return f1(f,BP(t,e,r,n,s,i,o,l,c,d))},f}function _Ee(){return Sc.apply(BP(jOe,NOe,Rf,$P,gS,h1,IP,LP,hp,Lte).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function AEe(){return Sc.apply(BP(vOe,wOe,If,HP,xS,pS,FP,RP,hp,Rte).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function bS(){var t=0,e=1,r,n,s,i,o=Io,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function f(m){return function(p){var g,v;return arguments.length?([g,v]=p,o=m(g,v),d):[o(0),o(1)]}}return d.range=f($x),d.rangeRound=f(CP),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),d}}function jm(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function Ite(){var t=wm(bS()(Io));return t.copy=function(){return jm(t,Ite())},Vf.apply(t,arguments)}function Fte(){var t=MP(bS()).domain([1,10]);return t.copy=function(){return jm(t,Fte()).base(t.base())},Vf.apply(t,arguments)}function $te(){var t=OP(bS());return t.copy=function(){return jm(t,$te()).constant(t.constant())},Vf.apply(t,arguments)}function zP(){var t=EP(bS());return t.copy=function(){return jm(t,zP()).exponent(t.exponent())},Vf.apply(t,arguments)}function TEe(){return zP.apply(null,arguments).exponent(.5)}function Hte(){var t=[],e=Io;function r(n){if(n!=null&&!isNaN(n=+n))return e((d1(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(am),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>pMe(t,i/n))},r.copy=function(){return Hte(e).domain(t)},Vf.apply(r,arguments)}function yS(){var t=0,e=.5,r=1,n=1,s,i,o,l,c,d=Io,f,m=!1,p;function g(w){return isNaN(w=+w)?p:(w=.5+((w=+f(w))-i)*(n*w<n*i?l:c),d(m?Math.max(0,Math.min(1,w)):w))}g.domain=function(w){return arguments.length?([t,e,r]=w,s=f(t=+t),i=f(e=+e),o=f(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g):[t,e,r]},g.clamp=function(w){return arguments.length?(m=!!w,g):m},g.interpolator=function(w){return arguments.length?(d=w,g):d};function v(w){return function(y){var N,k,S;return arguments.length?([N,k,S]=y,d=BMe(w,[N,k,S]),g):[d(0),d(.5),d(1)]}}return g.range=v($x),g.rangeRound=v(CP),g.unknown=function(w){return arguments.length?(p=w,g):p},function(w){return f=w,s=w(t),i=w(e),o=w(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,g}}function Bte(){var t=wm(yS()(Io));return t.copy=function(){return jm(t,Bte())},Vf.apply(t,arguments)}function zte(){var t=MP(yS()).domain([.1,1,10]);return t.copy=function(){return jm(t,zte()).base(t.base())},Vf.apply(t,arguments)}function qte(){var t=OP(yS());return t.copy=function(){return jm(t,qte()).constant(t.constant())},Vf.apply(t,arguments)}function qP(){var t=EP(yS());return t.copy=function(){return jm(t,qP()).exponent(t.exponent())},Vf.apply(t,arguments)}function MEe(){return qP.apply(null,arguments).exponent(.5)}const Eq=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:pv,scaleDiverging:Bte,scaleDivergingLog:zte,scaleDivergingPow:qP,scaleDivergingSqrt:MEe,scaleDivergingSymlog:qte,scaleIdentity:wte,scaleImplicit:VM,scaleLinear:E5,scaleLog:Nte,scaleOrdinal:NP,scalePoint:Ty,scalePow:DP,scaleQuantile:Cte,scaleQuantize:_te,scaleRadial:kte,scaleSequential:Ite,scaleSequentialLog:Fte,scaleSequentialPow:zP,scaleSequentialQuantile:Hte,scaleSequentialSqrt:TEe,scaleSequentialSymlog:$te,scaleSqrt:dOe,scaleSymlog:Ste,scaleThreshold:Ate,scaleTime:_Ee,scaleUtc:AEe,tickFormat:vte},Symbol.toStringTag,{value:"Module"}));var F4,Dq;function vS(){if(Dq)return F4;Dq=1;var t=Lx();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):s(c,d)))var d=c,f=l}return f}return F4=e,F4}var $4,Pq;function Ute(){if(Pq)return $4;Pq=1;function t(e,r){return e>r}return $4=t,$4}var H4,Lq;function OEe(){if(Lq)return H4;Lq=1;var t=vS(),e=Ute(),r=Fx();function n(s){return s&&s.length?t(s,r,e):void 0}return H4=n,H4}var EEe=OEe();const Vh=Yn(EEe);var B4,Rq;function Wte(){if(Rq)return B4;Rq=1;function t(e,r){return e<r}return B4=t,B4}var z4,Iq;function DEe(){if(Iq)return z4;Iq=1;var t=vS(),e=Wte(),r=Fx();function n(s){return s&&s.length?t(s,r,e):void 0}return z4=n,z4}var PEe=DEe();const wS=Yn(PEe);var q4,Fq;function LEe(){if(Fq)return q4;Fq=1;var t=sP(),e=xu(),r=Zee(),n=ul();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return q4=s,q4}var U4,$q;function REe(){if($q)return U4;$q=1;var t=Xee(),e=LEe();function r(n,s){return t(e(n,s),1)}return U4=r,U4}var IEe=REe();const FEe=Yn(IEe);var W4,Hq;function $Ee(){if(Hq)return W4;Hq=1;var t=bP();function e(r,n){return t(r,n)}return W4=e,W4}var HEe=$Ee();const Up=Yn(HEe);var Hx=1e9,BEe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},WP,as=!0,wc="[DecimalError] ",Tp=wc+"Invalid argument: ",UP=wc+"Exponent out of range: ",Bx=Math.floor,Qm=Math.pow,zEe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,_l,Ti=1e7,Ga=7,Vte=9007199254740991,R5=Bx(Vte/Ga),xr={};xr.absoluteValue=xr.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};xr.comparedTo=xr.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};xr.decimalPlaces=xr.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Ga;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};xr.dividedBy=xr.div=function(t){return Tf(this,new this.constructor(t))};xr.dividedToIntegerBy=xr.idiv=function(t){var e=this,r=e.constructor;return Da(Tf(e,new r(t),0,1),r.precision)};xr.equals=xr.eq=function(t){return!this.cmp(t)};xr.exponent=function(){return ri(this)};xr.greaterThan=xr.gt=function(t){return this.cmp(t)>0};xr.greaterThanOrEqualTo=xr.gte=function(t){return this.cmp(t)>=0};xr.isInteger=xr.isint=function(){return this.e>this.d.length-2};xr.isNegative=xr.isneg=function(){return this.s<0};xr.isPositive=xr.ispos=function(){return this.s>0};xr.isZero=function(){return this.s===0};xr.lessThan=xr.lt=function(t){return this.cmp(t)<0};xr.lessThanOrEqualTo=xr.lte=function(t){return this.cmp(t)<1};xr.logarithm=xr.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(_l))throw Error(wc+"NaN");if(r.s<1)throw Error(wc+(r.s?"NaN":"-Infinity"));return r.eq(_l)?new n(0):(as=!1,e=Tf(vv(r,i),vv(t,i),i),as=!0,Da(e,s))};xr.minus=xr.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Kte(e,t):Gte(e,(t.s=-t.s,t))};xr.modulo=xr.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(wc+"NaN");return r.s?(as=!1,e=Tf(r,t,0,1).times(t),as=!0,r.minus(e)):Da(new n(r),s)};xr.naturalExponential=xr.exp=function(){return Yte(this)};xr.naturalLogarithm=xr.ln=function(){return vv(this)};xr.negated=xr.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};xr.plus=xr.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Gte(e,t):Kte(e,(t.s=-t.s,t))};xr.precision=xr.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Tp+t);if(e=ri(s)+1,n=s.d.length-1,r=n*Ga+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};xr.squareRoot=xr.sqrt=function(){var t,e,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(wc+"NaN")}for(t=ri(l),as=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=Jd(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=Bx((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(Tf(l,i,o+2)).times(.5),Jd(i.d).slice(0,o)===(e=Jd(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(Da(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return as=!0,Da(n,r)};xr.times=xr.mul=function(t){var e,r,n,s,i,o,l,c,d,f=this,m=f.constructor,p=f.d,g=(t=new m(t)).d;if(!f.s||!t.s)return new m(0);for(t.s*=f.s,r=f.e+t.e,c=p.length,d=g.length,c<d&&(i=p,p=g,g=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=c+n;s>n;)l=i[s]+g[n]*p[s-n-1]+e,i[s--]=l%Ti|0,e=l/Ti|0;i[s]=(i[s]+e)%Ti|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,as?Da(t,m.precision):t};xr.toDecimalPlaces=xr.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(du(t,0,Hx),e===void 0?e=n.rounding:du(e,0,8),Da(r,t+ri(r)+1,e))};xr.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=Wp(n,!0):(du(t,0,Hx),e===void 0?e=s.rounding:du(e,0,8),n=Da(new s(n),t+1,e),r=Wp(n,!0,t+1)),r};xr.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?Wp(s):(du(t,0,Hx),e===void 0?e=i.rounding:du(e,0,8),n=Da(new i(s),t+ri(s)+1,e),r=Wp(n.abs(),!1,t+ri(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};xr.toInteger=xr.toint=function(){var t=this,e=t.constructor;return Da(new e(t),ri(t)+1,e.rounding)};xr.toNumber=function(){return+this};xr.toPower=xr.pow=function(t){var e,r,n,s,i,o,l=this,c=l.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(_l);if(l=new c(l),!l.s){if(t.s<1)throw Error(wc+"Infinity");return l}if(l.eq(_l))return l;if(n=c.precision,t.eq(_l))return Da(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=f<0?-f:f)<=Vte){for(s=new c(_l),e=Math.ceil(n/Ga+4),as=!1;r%2&&(s=s.times(l),zq(s.d,e)),r=Bx(r/2),r!==0;)l=l.times(l),zq(l.d,e);return as=!0,t.s<0?new c(_l).div(s):Da(s,n)}}else if(i<0)throw Error(wc+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,as=!1,s=t.times(vv(l,n+d)),as=!0,s=Yte(s),s.s=i,s};xr.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=ri(s),n=Wp(s,r<=i.toExpNeg||r>=i.toExpPos)):(du(t,1,Hx),e===void 0?e=i.rounding:du(e,0,8),s=Da(new i(s),t,e),r=ri(s),n=Wp(s,t<=r||r<=i.toExpNeg,t)),n};xr.toSignificantDigits=xr.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(du(t,1,Hx),e===void 0?e=n.rounding:du(e,0,8)),Da(new n(r),t,e)};xr.toString=xr.valueOf=xr.val=xr.toJSON=xr[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ri(t),r=t.constructor;return Wp(t,e<=r.toExpNeg||e>=r.toExpPos)};function Gte(t,e){var r,n,s,i,o,l,c,d,f=t.constructor,m=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),as?Da(e,m):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/Ga),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/Ti|0,c[i]%=Ti;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,as?Da(e,m):e}function du(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Tp+t)}function Jd(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=Ga-n.length,r&&(i+=$h(r)),i+=n;o=t[e],n=o+"",r=Ga-n.length,r&&(i+=$h(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var Tf=(function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%Ti|0,o=i/Ti|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*Ti+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,f,m,p,g,v,w,y,N,k,S,A,_,O,P,I,R=n.constructor,F=n.s==s.s?1:-1,E=n.d,M=s.d;if(!n.s)return new R(n);if(!s.s)throw Error(wc+"Division by zero");for(c=n.e-s.e,P=M.length,_=E.length,g=new R(F),v=g.d=[],d=0;M[d]==(E[d]||0);)++d;if(M[d]>(E[d]||0)&&--c,i==null?k=i=R.precision:o?k=i+(ri(n)-ri(s))+1:k=i,k<0)return new R(0);if(k=k/Ga+2|0,d=0,P==1)for(f=0,M=M[0],k++;(d<_||f)&&k--;d++)S=f*Ti+(E[d]||0),v[d]=S/M|0,f=S%M|0;else{for(f=Ti/(M[0]+1)|0,f>1&&(M=t(M,f),E=t(E,f),P=M.length,_=E.length),A=P,w=E.slice(0,P),y=w.length;y<P;)w[y++]=0;I=M.slice(),I.unshift(0),O=M[0],M[1]>=Ti/2&&++O;do f=0,l=e(M,w,P,y),l<0?(N=w[0],P!=y&&(N=N*Ti+(w[1]||0)),f=N/O|0,f>1?(f>=Ti&&(f=Ti-1),m=t(M,f),p=m.length,y=w.length,l=e(m,w,p,y),l==1&&(f--,r(m,P<p?I:M,p))):(f==0&&(l=f=1),m=M.slice()),p=m.length,p<y&&m.unshift(0),r(w,m,y),l==-1&&(y=w.length,l=e(M,w,P,y),l<1&&(f++,r(w,P<y?I:M,y))),y=w.length):l===0&&(f++,w=[0]),v[d++]=f,l&&w[0]?w[y++]=E[A]||0:(w=[E[A]],y=1);while((A++<_||w[0]!==void 0)&&k--)}return v[0]||v.shift(),g.e=c,Da(g,o?i+ri(g)+1:i)}})();function Yte(t,e){var r,n,s,i,o,l,c=0,d=0,f=t.constructor,m=f.precision;if(ri(t)>16)throw Error(UP+ri(t));if(!t.s)return new f(_l);for(as=!1,l=m,o=new f(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(Qm(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new f(_l),f.precision=l;;){if(s=Da(s.times(t),l),r=r.times(++c),o=i.plus(Tf(s,r,l)),Jd(o.d).slice(0,l)===Jd(i.d).slice(0,l)){for(;d--;)i=Da(i.times(i),l);return f.precision=m,e==null?(as=!0,Da(i,m)):i}i=o}}function ri(t){for(var e=t.e*Ga,r=t.d[0];r>=10;r/=10)e++;return e}function V4(t,e,r){if(e>t.LN10.sd())throw as=!0,r&&(t.precision=r),Error(wc+"LN10 precision limit exceeded");return Da(new t(t.LN10),e)}function $h(t){for(var e="";t--;)e+="0";return e}function vv(t,e){var r,n,s,i,o,l,c,d,f,m=1,p=10,g=t,v=g.d,w=g.constructor,y=w.precision;if(g.s<1)throw Error(wc+(g.s?"NaN":"-Infinity"));if(g.eq(_l))return new w(0);if(e==null?(as=!1,d=y):d=e,g.eq(10))return e==null&&(as=!0),V4(w,d);if(d+=p,w.precision=d,r=Jd(v),n=r.charAt(0),i=ri(g),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)g=g.times(t),r=Jd(g.d),n=r.charAt(0),m++;i=ri(g),n>1?(g=new w("0."+r),i++):g=new w(n+"."+r.slice(1))}else return c=V4(w,d+2,y).times(i+""),g=vv(new w(n+"."+r.slice(1)),d-p).plus(c),w.precision=y,e==null?(as=!0,Da(g,y)):g;for(l=o=g=Tf(g.minus(_l),g.plus(_l),d),f=Da(g.times(g),d),s=3;;){if(o=Da(o.times(f),d),c=l.plus(Tf(o,new w(s),d)),Jd(c.d).slice(0,d)===Jd(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(V4(w,d+2,y).times(i+""))),l=Tf(l,new w(m),d),w.precision=y,e==null?(as=!0,Da(l,y)):l;l=c,s+=2}}function Bq(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=Bx(r/Ga),t.d=[],n=(r+1)%Ga,r<0&&(n+=Ga),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=Ga;n<s;)t.d.push(+e.slice(n,n+=Ga));e=e.slice(n),n=Ga-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),as&&(t.e>R5||t.e<-R5))throw Error(UP+r)}else t.s=0,t.e=0,t.d=[0];return t}function Da(t,e,r){var n,s,i,o,l,c,d,f,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=Ga,s=e,d=m[f=0];else{if(f=Math.ceil((n+1)/Ga),i=m.length,f>=i)return t;for(d=i=m[f],o=1;i>=10;i/=10)o++;n%=Ga,s=n-Ga+o}if(r!==void 0&&(i=Qm(10,o-s-1),l=d/i%10|0,c=e<0||m[f+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/Qm(10,o-s):0:m[f-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(i=ri(t),m.length=1,e=e-i-1,m[0]=Qm(10,(Ga-e%Ga)%Ga),t.e=Bx(-e/Ga)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=f,i=1,f--):(m.length=f+1,i=Qm(10,Ga-n),m[f]=s>0?(d/Qm(10,o-s)%Qm(10,s)|0)*i:0),c)for(;;)if(f==0){(m[0]+=i)==Ti&&(m[0]=1,++t.e);break}else{if(m[f]+=i,m[f]!=Ti)break;m[f--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(as&&(t.e>R5||t.e<-R5))throw Error(UP+ri(t));return t}function Kte(t,e){var r,n,s,i,o,l,c,d,f,m,p=t.constructor,g=p.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new p(t),as?Da(e,g):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(f=o<0,f?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(g/Ga),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,f=s<l,f&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){f=c[s]<m[s];break}o=0}for(f&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=Ti-1;--c[i],c[s]+=Ti}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,as?Da(e,g):e):new p(0)}function Wp(t,e,r){var n,s=ri(t),i=Jd(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+$h(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+$h(-s-1)+i,r&&(n=r-o)>0&&(i+=$h(n))):s>=o?(i+=$h(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+$h(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=$h(n))),t.s<0?"-"+i:i}function zq(t,e){if(t.length>e)return t.length=e,!0}function Jte(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Tp+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return Bq(o,i.toString())}else if(typeof i!="string")throw Error(Tp+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,zEe.test(i))Bq(o,i);else throw Error(Tp+i)}if(s.prototype=xr,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=Jte,s.config=s.set=qEe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function qEe(t){if(!t||typeof t!="object")throw Error(wc+"Object expected");var e,r,n,s=["precision",1,Hx,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(Bx(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Tp+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Tp+r+": "+n);return this}var WP=Jte(BEe);_l=new WP(1);const _a=WP;function UEe(t){return YEe(t)||GEe(t)||VEe(t)||WEe()}function WEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function VEe(t,e){if(t){if(typeof t=="string")return JM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return JM(t,e)}}function GEe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function YEe(t){if(Array.isArray(t))return JM(t)}function JM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var KEe=function(e){return e},Xte={},Qte=function(e){return e===Xte},qq=function(e){return function r(){return arguments.length===0||arguments.length===1&&Qte(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},JEe=function t(e,r){return e===1?r:qq(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==Xte}).length;return o>=e?r.apply(void 0,s):t(e-o,qq(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var f=s.map(function(m){return Qte(m)?c.shift():m});return r.apply(void 0,UEe(f).concat(c))}))})},jS=function(e){return JEe(e.length,e)},XM=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},XEe=jS(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),QEe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return KEe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},QM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},Zte=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function ZEe(t){var e;return t===0?e=1:e=Math.floor(new _a(t).abs().log(10).toNumber())+1,e}function eDe(t,e,r){for(var n=new _a(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var tDe=jS(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),rDe=jS(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),nDe=jS(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const NS={rangeStep:eDe,getDigitCount:ZEe,interpolateNumber:tDe,uninterpolateNumber:rDe,uninterpolateTruncation:nDe};function ZM(t){return iDe(t)||sDe(t)||ere(t)||aDe()}function aDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function sDe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function iDe(t){if(Array.isArray(t))return eO(t)}function wv(t,e){return cDe(t)||lDe(t,e)||ere(t,e)||oDe()}function oDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ere(t,e){if(t){if(typeof t=="string")return eO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eO(t,e)}}function eO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lDe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function cDe(t){if(Array.isArray(t))return t}function tre(t){var e=wv(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function rre(t,e,r){if(t.lte(0))return new _a(0);var n=NS.getDigitCount(t.toNumber()),s=new _a(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new _a(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new _a(Math.ceil(c))}function dDe(t,e,r){var n=1,s=new _a(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new _a(10).pow(NS.getDigitCount(t)-1),s=new _a(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new _a(Math.floor(t)))}else t===0?s=new _a(Math.floor((e-1)/2)):r||(s=new _a(Math.floor(t)));var o=Math.floor((e-1)/2),l=QEe(XEe(function(c){return s.add(new _a(c-o).mul(n)).toNumber()}),XM);return l(0,e)}function nre(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new _a(0),tickMin:new _a(0),tickMax:new _a(0)};var i=rre(new _a(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new _a(0):(o=new _a(t).add(e).div(2),o=o.sub(new _a(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new _a(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?nre(t,e,r,n,s+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new _a(l).mul(i)),tickMax:o.add(new _a(c).mul(i))})}function uDe(t){var e=wv(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=tre([r,n]),c=wv(l,2),d=c[0],f=c[1];if(d===-1/0||f===1/0){var m=f===1/0?[d].concat(ZM(XM(0,s-1).map(function(){return 1/0}))):[].concat(ZM(XM(0,s-1).map(function(){return-1/0})),[f]);return r>n?QM(m):m}if(d===f)return dDe(d,s,i);var p=nre(d,f,o,i),g=p.step,v=p.tickMin,w=p.tickMax,y=NS.rangeStep(v,w.add(new _a(.1).mul(g)),g);return r>n?QM(y):y}function fDe(t,e){var r=wv(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=tre([n,s]),l=wv(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var f=Math.max(e,2),m=rre(new _a(d).sub(c).div(f-1),i,0),p=[].concat(ZM(NS.rangeStep(new _a(c),new _a(d).sub(new _a(.99).mul(m)),m)),[d]);return n>s?QM(p):p}var hDe=Zte(uDe),mDe=Zte(fDe),pDe="Invariant failed";function Vp(t,e){throw new Error(pDe)}var gDe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function lx(t){"@babel/helpers - typeof";return lx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lx(t)}function I5(){return I5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},I5.apply(this,arguments)}function xDe(t,e){return wDe(t)||vDe(t,e)||yDe(t,e)||bDe()}function bDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yDe(t,e){if(t){if(typeof t=="string")return Uq(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Uq(t,e)}}function Uq(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function wDe(t){if(Array.isArray(t))return t}function jDe(t,e){if(t==null)return{};var r=NDe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NDe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function SDe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kDe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ire(n.key),n)}}function CDe(t,e,r){return e&&kDe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _De(t,e,r){return e=F5(e),ADe(t,are()?Reflect.construct(e,r||[],F5(t).constructor):e.apply(t,r))}function ADe(t,e){if(e&&(lx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return TDe(t)}function TDe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function are(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(are=function(){return!!t})()}function F5(t){return F5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},F5(t)}function MDe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&tO(t,e)}function tO(t,e){return tO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},tO(t,e)}function sre(t,e,r){return e=ire(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ire(t){var e=ODe(t,"string");return lx(e)=="symbol"?e:e+""}function ODe(t,e){if(lx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(lx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var m1=(function(t){function e(){return SDe(this,e),_De(this,e,arguments)}return MDe(e,t),CDe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,f=n.xAxis,m=n.yAxis,p=jDe(n,gDe),g=Mr(p,!1);this.props.direction==="x"&&f.type!=="number"&&Vp();var v=c.map(function(w){var y=d(w,l),N=y.x,k=y.y,S=y.value,A=y.errorVal;if(!A)return null;var _=[],O,P;if(Array.isArray(A)){var I=xDe(A,2);O=I[0],P=I[1]}else O=P=A;if(i==="vertical"){var R=f.scale,F=k+s,E=F+o,M=F-o,H=R(S-O),V=R(S+P);_.push({x1:V,y1:E,x2:V,y2:M}),_.push({x1:H,y1:F,x2:V,y2:F}),_.push({x1:H,y1:E,x2:H,y2:M})}else if(i==="horizontal"){var G=m.scale,q=N+s,B=q-o,z=q+o,X=G(S-O),ee=G(S+P);_.push({x1:B,y1:ee,x2:z,y2:ee}),_.push({x1:q,y1:X,x2:q,y2:ee}),_.push({x1:B,y1:X,x2:z,y2:X})}return be.createElement(Mn,I5({className:"recharts-errorBar",key:"bar-".concat(_.map(function(K){return"".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))},g),_.map(function(K){return be.createElement("line",I5({},K,{key:"line-".concat(K.x1,"-").concat(K.x2,"-").concat(K.y1,"-").concat(K.y2)}))}))});return be.createElement(Mn,{className:"recharts-errorBars"},v)}}])})(be.Component);sre(m1,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});sre(m1,"displayName","ErrorBar");function jv(t){"@babel/helpers - typeof";return jv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jv(t)}function Wq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Wm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(r),!0).forEach(function(n){EDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EDe(t,e,r){return e=DDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DDe(t){var e=PDe(t,"string");return jv(e)=="symbol"?e:e+""}function PDe(t,e){if(jv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ore=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Sl(r,Af);if(!o)return null;var l=Af.defaultProps,c=l!==void 0?Wm(Wm({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(f,m){var p=m.item,g=m.props,v=g.sectors||g.data||[];return f.concat(v.map(function(w){return{type:o.props.iconType||p.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(n||[]).map(function(f){var m=f.item,p=m.type.defaultProps,g=p!==void 0?Wm(Wm({},p),m.props):{},v=g.dataKey,w=g.name,y=g.legendType,N=g.hide;return{inactive:N,dataKey:v,type:c.iconType||y||"square",color:VP(m),value:w||v,payload:g}}),Wm(Wm(Wm({},c),Af.getWithHeight(o,s)),{},{payload:d,item:o})};function Nv(t){"@babel/helpers - typeof";return Nv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nv(t)}function Vq(t){return FDe(t)||IDe(t)||RDe(t)||LDe()}function LDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RDe(t,e){if(t){if(typeof t=="string")return rO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return rO(t,e)}}function IDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FDe(t){if(Array.isArray(t))return rO(t)}function rO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Gq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _s(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gq(Object(r),!0).forEach(function(n){Og(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Og(t,e,r){return e=$De(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $De(t){var e=HDe(t,"string");return Nv(e)=="symbol"?e:e+""}function HDe(t,e){if(Nv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bs(t,e,r){return tn(t)||tn(e)?r:wi(e)?El(t,e,r):Gr(e)?e(t):r}function My(t,e,r,n){var s=FEe(t,function(l){return Bs(l,e)});if(r==="number"){var i=s.filter(function(l){return Qt(l)||parseFloat(l)});return i.length?[wS(i),Vh(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!tn(l)}):s;return o.map(function(l){return wi(l)||l instanceof Date?l:""})}var BDe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var f=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,p=d>=l-1?s[0].coordinate:s[d+1].coordinate,g=void 0;if(Lo(m-f)!==Lo(p-m)){var v=[];if(Lo(p-m)===Lo(c[1]-c[0])){g=p;var w=m+c[1]-c[0];v[0]=Math.min(w,(w+f)/2),v[1]=Math.max(w,(w+f)/2)}else{g=f;var y=p+c[1]-c[0];v[0]=Math.min(m,(y+m)/2),v[1]=Math.max(m,(y+m)/2)}var N=[Math.min(m,(g+m)/2),Math.max(m,(g+m)/2)];if(e>N[0]&&e<=N[1]||e>=v[0]&&e<=v[1]){o=s[d].index;break}}else{var k=Math.min(f,p),S=Math.max(f,p);if(e>(k+m)/2&&e<=(S+m)/2){o=s[d].index;break}}}else for(var A=0;A<l;A++)if(A===0&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A>0&&A<l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2&&e<=(n[A].coordinate+n[A+1].coordinate)/2||A===l-1&&e>(n[A].coordinate+n[A-1].coordinate)/2){o=n[A].index;break}return o},VP=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},zDe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var f=i[l[c]].stackGroups,m=Object.keys(f),p=0,g=m.length;p<g;p++){var v=f[m[p]],w=v.items,y=v.cateAxisId,N=w.filter(function(P){return _f(P.type).indexOf("Bar")>=0});if(N&&N.length){var k=N[0].type.defaultProps,S=k!==void 0?_s(_s({},k),N[0].props):N[0].props,A=S.barSize,_=S[y];o[_]||(o[_]=[]);var O=tn(A)?r:A;o[_].push({item:N[0],stackList:N.slice(1),barSize:tn(O)?void 0:Ro(O,n,0)})}}return o},qDe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=Ro(r,s,0,!0),f,m=[];if(o[0].barSize===+o[0].barSize){var p=!1,g=s/c,v=o.reduce(function(A,_){return A+_.barSize||0},0);v+=(c-1)*d,v>=s&&(v-=(c-1)*d,d=0),v>=s&&g>0&&(p=!0,g*=.9,v=c*g);var w=(s-v)/2>>0,y={offset:w-d,size:0};f=o.reduce(function(A,_){var O={item:_.item,position:{offset:y.offset+y.size+d,size:p?g:_.barSize}},P=[].concat(Vq(A),[O]);return y=P[P.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(I){P.push({item:I,position:y})}),P},m)}else{var N=Ro(n,s,0,!0);s-2*N-(c-1)*d<=0&&(d=0);var k=(s-2*N-(c-1)*d)/c;k>1&&(k>>=0);var S=l===+l?Math.min(k,l):k;f=o.reduce(function(A,_,O){var P=[].concat(Vq(A),[{item:_.item,position:{offset:N+(k+d)*O+(k-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(I){P.push({item:I,position:P[P.length-1].position})}),P},m)}return f},UDe=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=ore({children:i,legendWidth:c});if(d){var f=s||{},m=f.width,p=f.height,g=d.align,v=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&v==="middle")&&g!=="center"&&Qt(e[g]))return _s(_s({},e),{},Og({},g,e[g]+(m||0)));if((w==="horizontal"||w==="vertical"&&g==="center")&&v!=="middle"&&Qt(e[v]))return _s(_s({},e),{},Og({},v,e[v]+(p||0)))}return e},WDe=function(e,r,n){return tn(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},lre=function(e,r,n,s,i){var o=r.props.children,l=Dl(o,m1).filter(function(d){return WDe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,f){var m=Bs(f,n);if(tn(m))return d;var p=Array.isArray(m)?[wS(m),Vh(m)]:[m,m],g=c.reduce(function(v,w){var y=Bs(f,w,0),N=p[0]-Math.abs(Array.isArray(y)?y[0]:y),k=p[1]+Math.abs(Array.isArray(y)?y[1]:y);return[Math.min(N,v[0]),Math.max(k,v[1])]},[1/0,-1/0]);return[Math.min(g[0],d[0]),Math.max(g[1],d[1])]},[1/0,-1/0])}return null},VDe=function(e,r,n,s,i){var o=r.map(function(l){return lre(e,l,n,i,s)}).filter(function(l){return!tn(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},cre=function(e,r,n,s,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&lre(e,c,d,s)||My(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var f=0,m=d.length;f<m;f++)l[d[f]]||(l[d[f]]=!0,c.push(d[f]));return c},[])},dre=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},ure=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},gf=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Lo(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var f=(e.ticks||e.niceTicks).map(function(m){var p=i?i.indexOf(m):m;return{coordinate:s(p)+d,value:m,offset:d}});return f.filter(function(m){return!Ix(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,p){return{coordinate:s(m)+d,value:m,index:p,offset:d}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,p){return{coordinate:s(m)+d,value:i?i[m]:m,index:p,offset:d}})},G4=new WeakMap,Xw=function(e,r){if(typeof r!="function")return e;G4.has(e)||G4.set(e,new WeakMap);var n=G4.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},fre=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:pv(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:E5(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Ty(),realScaleType:"point"}:i==="category"?{scale:pv(),realScaleType:"band"}:{scale:E5(),realScaleType:"linear"};if(Hp(s)){var c="scale".concat(oS(s));return{scale:(Eq[c]||Ty)(),realScaleType:Eq[c]?c:"point"}}return Gr(s)?{scale:s}:{scale:Ty(),realScaleType:"point"}},Yq=1e-4,hre=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-Yq,o=Math.max(s[0],s[1])+Yq,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},GDe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},YDe=function(e,r){if(!r||r.length!==2||!Qt(r[0])||!Qt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!Qt(e[0])||e[0]<n)&&(i[0]=n),(!Qt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},KDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=Ix(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},JDe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=Ix(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},XDe={sign:KDe,expand:FAe,none:ex,silhouette:$Ae,wiggle:HAe,positive:JDe},QDe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=XDe[n],o=IAe().keys(s).value(function(l,c){return+Bs(l,c,0)}).order(EM).offset(i);return o(e)},ZDe=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,p){var g,v=(g=p.type)!==null&&g!==void 0&&g.defaultProps?_s(_s({},p.type.defaultProps),p.props):p.props,w=v.stackId,y=v.hide;if(y)return m;var N=v[n],k=m[N]||{hasStack:!1,stackGroups:{}};if(wi(w)){var S=k.stackGroups[w]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(p),k.hasStack=!0,k.stackGroups[w]=S}else k.stackGroups[e0("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[p]};return _s(_s({},m),{},Og({},N,k))},c),f={};return Object.keys(d).reduce(function(m,p){var g=d[p];if(g.hasStack){var v={};g.stackGroups=Object.keys(g.stackGroups).reduce(function(w,y){var N=g.stackGroups[y];return _s(_s({},w),{},Og({},y,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:QDe(e,N.items,i)}))},v)}return _s(_s({},m),{},Og({},p,g))},f)},mre=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var f=hDe(d,i,l);return e.domain([wS(f),Vh(f)]),{niceTicks:f}}if(i&&s==="number"){var m=e.domain(),p=mDe(m,i,l);return{niceTicks:p}}return null};function $5(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tn(s[e.dataKey])){var l=m5(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=Bs(s,tn(o)?e.dataKey:o);return tn(c)?null:e.scale(c)}var Kq=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=Bs(o,r.dataKey,r.domain[l]);return tn(c)?null:r.scale(c)-i/2+s},ePe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},tPe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(wi(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},rPe=function(e){return e.reduce(function(r,n){return[wS(n.concat([r[0]]).filter(Qt)),Vh(n.concat([r[1]]).filter(Qt))]},[1/0,-1/0])},pre=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,f){var m=rPe(f.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},Jq=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Xq=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,nO=function(e,r,n){if(Gr(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(Qt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(Jq.test(e[0])){var i=+Jq.exec(e[0])[1];s[0]=r[0]-i}else Gr(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(Qt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(Xq.test(e[1])){var o=+Xq.exec(e[1])[1];s[1]=r[1]+o}else Gr(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},H5=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=vP(r,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],f=i[l-1];o=Math.min((d.coordinate||0)-(f.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},Qq=function(e,r,n){return!e||!e.length||Up(e,El(n,"type.defaultProps.domain"))?r:e},gre=function(e,r){var n=e.type.defaultProps?_s(_s({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,f=n.hide;return _s(_s({},Mr(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:VP(e),value:Bs(r,s),type:c,payload:r,chartType:d,hide:f})};function Sv(t){"@babel/helpers - typeof";return Sv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sv(t)}function Zq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Zq(Object(r),!0).forEach(function(n){xre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Zq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xre(t,e,r){return e=nPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nPe(t){var e=aPe(t,"string");return Sv(e)=="symbol"?e:e+""}function aPe(t,e){if(Sv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function sPe(t,e){return cPe(t)||lPe(t,e)||oPe(t,e)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return eU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return eU(t,e)}}function eU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function cPe(t){if(Array.isArray(t))return t}var B5=Math.PI/180,dPe=function(e){return e*180/Math.PI},Fa=function(e,r,n,s){return{x:e+Math.cos(-B5*s)*n,y:r+Math.sin(-B5*s)*n}},bre=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},uPe=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,f=Ro(e.cx,o,o/2),m=Ro(e.cy,l,l/2),p=bre(o,l,n),g=Ro(e.innerRadius,p,0),v=Ro(e.outerRadius,p,p*.8),w=Object.keys(r);return w.reduce(function(y,N){var k=r[N],S=k.domain,A=k.reversed,_;if(tn(k.range))s==="angleAxis"?_=[c,d]:s==="radiusAxis"&&(_=[g,v]),A&&(_=[_[1],_[0]]);else{_=k.range;var O=_,P=sPe(O,2);c=P[0],d=P[1]}var I=fre(k,i),R=I.realScaleType,F=I.scale;F.domain(S).range(_),hre(F);var E=mre(F,lf(lf({},k),{},{realScaleType:R})),M=lf(lf(lf({},k),E),{},{range:_,radius:v,realScaleType:R,scale:F,cx:f,cy:m,innerRadius:g,outerRadius:v,startAngle:c,endAngle:d});return lf(lf({},y),{},xre({},N,M))},{})},fPe=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},hPe=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=fPe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:dPe(d),angleInRadian:d}},mPe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},pPe=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},tU=function(e,r){var n=e.x,s=e.y,i=hPe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var f=mPe(r),m=f.startAngle,p=f.endAngle,g=l,v;if(m<=p){for(;g>p;)g-=360;for(;g<m;)g+=360;v=g>=m&&g<=p}else{for(;g>m;)g-=360;for(;g<p;)g+=360;v=g>=p&&g<=m}return v?lf(lf({},r),{},{radius:o,angle:pPe(g,r)}):null},yre=function(e){return!b.isValidElement(e)&&!Gr(e)&&typeof e!="boolean"?e.className:""};function kv(t){"@babel/helpers - typeof";return kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kv(t)}var gPe=["offset"];function xPe(t){return wPe(t)||vPe(t)||yPe(t)||bPe()}function bPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yPe(t,e){if(t){if(typeof t=="string")return aO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return aO(t,e)}}function vPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function wPe(t){if(Array.isArray(t))return aO(t)}function aO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function jPe(t,e){if(t==null)return{};var r=NPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function NPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function rU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function yi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rU(Object(r),!0).forEach(function(n){SPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SPe(t,e,r){return e=kPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kPe(t){var e=CPe(t,"string");return kv(e)=="symbol"?e:e+""}function CPe(t,e){if(kv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Cv(){return Cv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cv.apply(this,arguments)}var _Pe=function(e){var r=e.value,n=e.formatter,s=tn(e.children)?r:e.children;return Gr(n)?n(s):s},APe=function(e,r){var n=Lo(r-e),s=Math.min(Math.abs(r-e),360);return n*s},TPe=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,f=c.cy,m=c.innerRadius,p=c.outerRadius,g=c.startAngle,v=c.endAngle,w=c.clockWise,y=(m+p)/2,N=APe(g,v),k=N>=0?1:-1,S,A;s==="insideStart"?(S=g+k*o,A=w):s==="insideEnd"?(S=v-k*o,A=!w):s==="end"&&(S=v+k*o,A=w),A=N<=0?A:!A;var _=Fa(d,f,y,S),O=Fa(d,f,y,S+(A?1:-1)*359),P="M".concat(_.x,",").concat(_.y,`
    A`).concat(y,",").concat(y,",0,1,").concat(A?0:1,`,
    `).concat(O.x,",").concat(O.y),I=tn(e.id)?e0("recharts-radial-line-"):e.id;return be.createElement("text",Cv({},n,{dominantBaseline:"central",className:_r("recharts-radial-bar-label",l)}),be.createElement("defs",null,be.createElement("path",{id:I,d:P})),be.createElement("textPath",{xlinkHref:"#".concat(I)},r))},MPe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,f=i.startAngle,m=i.endAngle,p=(f+m)/2;if(s==="outside"){var g=Fa(o,l,d+n,p),v=g.x,w=g.y;return{x:v,y:w,textAnchor:v>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var y=(c+d)/2,N=Fa(o,l,y,p),k=N.x,S=N.y;return{x:k,y:S,textAnchor:"middle",verticalAnchor:"middle"}},OPe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,f=o.height,m=f>=0?1:-1,p=m*s,g=m>0?"end":"start",v=m>0?"start":"end",w=d>=0?1:-1,y=w*s,N=w>0?"end":"start",k=w>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:g};return yi(yi({},S),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var A={x:l+d/2,y:c+f+p,textAnchor:"middle",verticalAnchor:v};return yi(yi({},A),n?{height:Math.max(n.y+n.height-(c+f),0),width:d}:{})}if(i==="left"){var _={x:l-y,y:c+f/2,textAnchor:N,verticalAnchor:"middle"};return yi(yi({},_),n?{width:Math.max(_.x-n.x,0),height:f}:{})}if(i==="right"){var O={x:l+d+y,y:c+f/2,textAnchor:k,verticalAnchor:"middle"};return yi(yi({},O),n?{width:Math.max(n.x+n.width-O.x,0),height:f}:{})}var P=n?{width:d,height:f}:{};return i==="insideLeft"?yi({x:l+y,y:c+f/2,textAnchor:k,verticalAnchor:"middle"},P):i==="insideRight"?yi({x:l+d-y,y:c+f/2,textAnchor:N,verticalAnchor:"middle"},P):i==="insideTop"?yi({x:l+d/2,y:c+p,textAnchor:"middle",verticalAnchor:v},P):i==="insideBottom"?yi({x:l+d/2,y:c+f-p,textAnchor:"middle",verticalAnchor:g},P):i==="insideTopLeft"?yi({x:l+y,y:c+p,textAnchor:k,verticalAnchor:v},P):i==="insideTopRight"?yi({x:l+d-y,y:c+p,textAnchor:N,verticalAnchor:v},P):i==="insideBottomLeft"?yi({x:l+y,y:c+f-p,textAnchor:k,verticalAnchor:g},P):i==="insideBottomRight"?yi({x:l+d-y,y:c+f-p,textAnchor:N,verticalAnchor:g},P):Rx(i)&&(Qt(i.x)||up(i.x))&&(Qt(i.y)||up(i.y))?yi({x:l+Ro(i.x,d),y:c+Ro(i.y,f),textAnchor:"end",verticalAnchor:"end"},P):yi({x:l+d/2,y:c+f/2,textAnchor:"middle",verticalAnchor:"middle"},P)},EPe=function(e){return"cx"in e&&Qt(e.cx)};function Ei(t){var e=t.offset,r=e===void 0?5:e,n=jPe(t,gPe),s=yi({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,f=s.className,m=f===void 0?"":f,p=s.textBreakAll;if(!i||tn(l)&&tn(c)&&!b.isValidElement(d)&&!Gr(d))return null;if(b.isValidElement(d))return b.cloneElement(d,s);var g;if(Gr(d)){if(g=b.createElement(d,s),b.isValidElement(g))return g}else g=_Pe(s);var v=EPe(i),w=Mr(s,!0);if(v&&(o==="insideStart"||o==="insideEnd"||o==="end"))return TPe(s,g,w);var y=v?MPe(s):OPe(s);return be.createElement(qp,Cv({className:_r("recharts-label",m)},w,y,{breakAll:p}),g)}Ei.displayName="Label";var vre=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,f=e.outerRadius,m=e.x,p=e.y,g=e.top,v=e.left,w=e.width,y=e.height,N=e.clockWise,k=e.labelViewBox;if(k)return k;if(Qt(w)&&Qt(y)){if(Qt(m)&&Qt(p))return{x:m,y:p,width:w,height:y};if(Qt(g)&&Qt(v))return{x:g,y:v,width:w,height:y}}return Qt(m)&&Qt(p)?{x:m,y:p,width:0,height:0}:Qt(r)&&Qt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:f||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},DPe=function(e,r){return e?e===!0?be.createElement(Ei,{key:"label-implicit",viewBox:r}):wi(e)?be.createElement(Ei,{key:"label-implicit",viewBox:r,value:e}):b.isValidElement(e)?e.type===Ei?b.cloneElement(e,{key:"label-implicit",viewBox:r}):be.createElement(Ei,{key:"label-implicit",content:e,viewBox:r}):Gr(e)?be.createElement(Ei,{key:"label-implicit",content:e,viewBox:r}):Rx(e)?be.createElement(Ei,Cv({viewBox:r},e,{key:"label-implicit"})):null:null},PPe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=vre(e),o=Dl(s,Ei).map(function(c,d){return b.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=DPe(e.label,r||i);return[l].concat(xPe(o))};Ei.parseViewBox=vre;Ei.renderCallByParent=PPe;var Y4,nU;function LPe(){if(nU)return Y4;nU=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return Y4=t,Y4}var RPe=LPe();const IPe=Yn(RPe);function _v(t){"@babel/helpers - typeof";return _v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_v(t)}var FPe=["valueAccessor"],$Pe=["data","dataKey","clockWise","id","textBreakAll"];function HPe(t){return UPe(t)||qPe(t)||zPe(t)||BPe()}function BPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zPe(t,e){if(t){if(typeof t=="string")return sO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return sO(t,e)}}function qPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UPe(t){if(Array.isArray(t))return sO(t)}function sO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function z5(){return z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},z5.apply(this,arguments)}function aU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aU(Object(r),!0).forEach(function(n){WPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WPe(t,e,r){return e=VPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VPe(t){var e=GPe(t,"string");return _v(e)=="symbol"?e:e+""}function GPe(t,e){if(_v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iU(t,e){if(t==null)return{};var r=YPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function YPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var KPe=function(e){return Array.isArray(e.value)?IPe(e.value):e.value};function au(t){var e=t.valueAccessor,r=e===void 0?KPe:e,n=iU(t,FPe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=iU(n,$Pe);return!s||!s.length?null:be.createElement(Mn,{className:"recharts-label-list"},s.map(function(f,m){var p=tn(i)?r(f,m):Bs(f&&f.payload,i),g=tn(l)?{}:{id:"".concat(l,"-").concat(m)};return be.createElement(Ei,z5({},Mr(f,!0),d,g,{parentViewBox:f.parentViewBox,value:p,textBreakAll:c,viewBox:Ei.parseViewBox(tn(o)?f:sU(sU({},f),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}au.displayName="LabelList";function JPe(t,e){return t?t===!0?be.createElement(au,{key:"labelList-implicit",data:e}):be.isValidElement(t)||Gr(t)?be.createElement(au,{key:"labelList-implicit",data:e,content:t}):Rx(t)?be.createElement(au,z5({data:e},t,{key:"labelList-implicit"})):null:null}function XPe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=Dl(n,au).map(function(o,l){return b.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=JPe(t.label,e);return[i].concat(HPe(s))}au.renderCallByParent=XPe;function Av(t){"@babel/helpers - typeof";return Av=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Av(t)}function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iO.apply(this,arguments)}function oU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oU(Object(r),!0).forEach(function(n){QPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QPe(t,e,r){return e=ZPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZPe(t){var e=eLe(t,"string");return Av(e)=="symbol"?e:e+""}function eLe(t,e){if(Av(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Av(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tLe=function(e,r){var n=Lo(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Qw=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,f=c*(l?1:-1)+s,m=Math.asin(c/f)/B5,p=d?i:i+o*m,g=Fa(r,n,f,p),v=Fa(r,n,s,p),w=d?i-o*m:i,y=Fa(r,n,f*Math.cos(m*B5),w);return{center:g,circleTangency:v,lineTangency:y,theta:m}},wre=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=tLe(o,l),d=o+c,f=Fa(r,n,i,o),m=Fa(r,n,i,d),p="M ".concat(f.x,",").concat(f.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var g=Fa(r,n,s,o),v=Fa(r,n,s,d);p+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(g.x,",").concat(g.y," Z")}else p+="L ".concat(r,",").concat(n," Z");return p},rLe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,f=e.endAngle,m=Lo(f-d),p=Qw({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),g=p.circleTangency,v=p.lineTangency,w=p.theta,y=Qw({cx:r,cy:n,radius:i,angle:f,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=y.circleTangency,k=y.lineTangency,S=y.theta,A=c?Math.abs(d-f):Math.abs(d-f)-w-S;if(A<0)return l?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):wre({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:f});var _="M ".concat(v.x,",").concat(v.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(g.x,",").concat(g.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(A>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(k.x,",").concat(k.y,`
  `);if(s>0){var O=Qw({cx:r,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),P=O.circleTangency,I=O.lineTangency,R=O.theta,F=Qw({cx:r,cy:n,radius:s,angle:f,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=F.circleTangency,M=F.lineTangency,H=F.theta,V=c?Math.abs(d-f):Math.abs(d-f)-R-H;if(V<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(M.x,",").concat(M.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(V>180),",").concat(+(m>0),",").concat(P.x,",").concat(P.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(I.x,",").concat(I.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},nLe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},jre=function(e){var r=lU(lU({},nLe),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,f=r.startAngle,m=r.endAngle,p=r.className;if(o<i||f===m)return null;var g=_r("recharts-sector",p),v=o-i,w=Ro(l,v,0,!0),y;return w>0&&Math.abs(f-m)<360?y=rLe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(w,v/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:f,endAngle:m}):y=wre({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:f,endAngle:m}),be.createElement("path",iO({},Mr(r,!0),{className:g,d:y,role:"img"}))};function Tv(t){"@babel/helpers - typeof";return Tv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Tv(t)}function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(this,arguments)}function cU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cU(Object(r),!0).forEach(function(n){aLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aLe(t,e,r){return e=sLe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sLe(t){var e=iLe(t,"string");return Tv(e)=="symbol"?e:e+""}function iLe(t,e){if(Tv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Tv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uU={curveBasisClosed:CAe,curveBasisOpen:_Ae,curveBasis:kAe,curveBumpX:uAe,curveBumpY:fAe,curveLinearClosed:AAe,curveLinear:cS,curveMonotoneX:TAe,curveMonotoneY:MAe,curveNatural:OAe,curveStep:EAe,curveStepAfter:PAe,curveStepBefore:DAe},Zw=function(e){return e.x===+e.x&&e.y===+e.y},Yb=function(e){return e.x},Kb=function(e){return e.y},oLe=function(e,r){if(Gr(e))return e;var n="curve".concat(oS(e));return(n==="curveMonotone"||n==="curveBump")&&r?uU["".concat(n).concat(r==="vertical"?"Y":"X")]:uU[n]||cS},lLe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,f=oLe(n,l),m=d?i.filter(function(w){return Zw(w)}):i,p;if(Array.isArray(o)){var g=d?o.filter(function(w){return Zw(w)}):o,v=m.map(function(w,y){return dU(dU({},w),{},{base:g[y]})});return l==="vertical"?p=Uw().y(Kb).x1(Yb).x0(function(w){return w.base.x}):p=Uw().x(Yb).y1(Kb).y0(function(w){return w.base.y}),p.defined(Zw).curve(f),p(v)}return l==="vertical"&&Qt(o)?p=Uw().y(Kb).x1(Yb).x0(o):Qt(o)?p=Uw().x(Yb).y1(Kb).y0(o):p=vee().x(Yb).y(Kb),p.defined(Zw).curve(f),p(m)},Mp=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?lLe(e):s;return b.createElement("path",oO({},Mr(e,!1),p5(e),{className:_r("recharts-curve",r),d:o,ref:i}))},K4={exports:{}},J4,fU;function cLe(){if(fU)return J4;fU=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return J4=t,J4}var X4,hU;function dLe(){if(hU)return X4;hU=1;var t=cLe();function e(){}function r(){}return r.resetWarningCache=e,X4=function(){function n(o,l,c,d,f,m){if(m!==t){var p=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw p.name="Invariant Violation",p}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},X4}var mU;function uLe(){return mU||(mU=1,K4.exports=dLe()()),K4.exports}var fLe=uLe();const sa=Yn(fLe);var hLe=Object.getOwnPropertyNames,mLe=Object.getOwnPropertySymbols,pLe=Object.prototype.hasOwnProperty;function pU(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function e2(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,s);return i.delete(r),i.delete(n),c}}function gLe(t){return t!=null?t[Symbol.toStringTag]:void 0}function gU(t){return hLe(t).concat(mLe(t))}var xLe=Object.hasOwn||(function(t,e){return pLe.call(t,e)});function n0(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var bLe="__v",yLe="__o",vLe="_owner",xU=Object.getOwnPropertyDescriptor,bU=Object.keys;function wLe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function jLe(t,e){return n0(t.getTime(),e.getTime())}function NLe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function SLe(t,e){return t===e}function yU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),f=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var p=o.value,g=l.value;if(r.equals(p[0],g[0],c,m,t,e,r)&&r.equals(p[1],g[1],p[0],g[0],t,e,r)){f=s[m]=!0;break}m++}if(!f)return!1;c++}return!0}var kLe=n0;function CLe(t,e,r){var n=bU(t),s=n.length;if(bU(e).length!==s)return!1;for(;s-- >0;)if(!Nre(t,e,r,n[s]))return!1;return!0}function Jb(t,e,r){var n=gU(t),s=n.length;if(gU(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!Nre(t,e,r,i)||(o=xU(t,i),l=xU(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function _Le(t,e){return n0(t.valueOf(),e.valueOf())}function ALe(t,e){return t.source===e.source&&t.flags===e.flags}function vU(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,f=0;(l=c.next())&&!l.done;){if(!s[f]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=s[f]=!0;break}f++}if(!d)return!1}return!0}function TLe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function MLe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function Nre(t,e,r,n){return(n===vLe||n===yLe||n===bLe)&&(t.$$typeof||e.$$typeof)?!0:xLe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var OLe="[object Arguments]",ELe="[object Boolean]",DLe="[object Date]",PLe="[object Error]",LLe="[object Map]",RLe="[object Number]",ILe="[object Object]",FLe="[object RegExp]",$Le="[object Set]",HLe="[object String]",BLe="[object URL]",zLe=Array.isArray,wU=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,jU=Object.assign,qLe=Object.prototype.toString.call.bind(Object.prototype.toString);function ULe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,f=t.areSetsEqual,m=t.areTypedArraysEqual,p=t.areUrlsEqual,g=t.unknownTagComparators;return function(w,y,N){if(w===y)return!0;if(w==null||y==null)return!1;var k=typeof w;if(k!==typeof y)return!1;if(k!=="object")return k==="number"?o(w,y,N):k==="function"?s(w,y,N):!1;var S=w.constructor;if(S!==y.constructor)return!1;if(S===Object)return l(w,y,N);if(zLe(w))return e(w,y,N);if(wU!=null&&wU(w))return m(w,y,N);if(S===Date)return r(w,y,N);if(S===RegExp)return d(w,y,N);if(S===Map)return i(w,y,N);if(S===Set)return f(w,y,N);var A=qLe(w);if(A===DLe)return r(w,y,N);if(A===FLe)return d(w,y,N);if(A===LLe)return i(w,y,N);if(A===$Le)return f(w,y,N);if(A===ILe)return typeof w.then!="function"&&typeof y.then!="function"&&l(w,y,N);if(A===BLe)return p(w,y,N);if(A===PLe)return n(w,y,N);if(A===OLe)return l(w,y,N);if(A===ELe||A===RLe||A===HLe)return c(w,y,N);if(g){var _=g[A];if(!_){var O=gLe(w);O&&(_=g[O])}if(_)return _(w,y,N)}return!1}}function WLe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?Jb:wLe,areDatesEqual:jLe,areErrorsEqual:NLe,areFunctionsEqual:SLe,areMapsEqual:n?pU(yU,Jb):yU,areNumbersEqual:kLe,areObjectsEqual:n?Jb:CLe,arePrimitiveWrappersEqual:_Le,areRegExpsEqual:ALe,areSetsEqual:n?pU(vU,Jb):vU,areTypedArraysEqual:n?Jb:TLe,areUrlsEqual:MLe,unknownTagComparators:void 0};if(r&&(s=jU({},s,r(s))),e){var i=e2(s.areArraysEqual),o=e2(s.areMapsEqual),l=e2(s.areObjectsEqual),c=e2(s.areSetsEqual);s=jU({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function VLe(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function GLe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(c,d){var f=n(),m=f.cache,p=m===void 0?e?new WeakMap:void 0:m,g=f.meta;return r(c,d,{cache:p,equals:s,meta:g,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var YLe=Nm();Nm({strict:!0});Nm({circular:!0});Nm({circular:!0,strict:!0});Nm({createInternalComparator:function(){return n0}});Nm({strict:!0,createInternalComparator:function(){return n0}});Nm({circular:!0,createInternalComparator:function(){return n0}});Nm({circular:!0,createInternalComparator:function(){return n0},strict:!0});function Nm(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=WLe(t),c=ULe(l),d=n?n(c):VLe(c);return GLe({circular:r,comparator:c,createState:s,equals:d,strict:o})}function KLe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function NU(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):KLe(s)};requestAnimationFrame(n)}function lO(t){"@babel/helpers - typeof";return lO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lO(t)}function JLe(t){return e8e(t)||ZLe(t)||QLe(t)||XLe()}function XLe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QLe(t,e){if(t){if(typeof t=="string")return SU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return SU(t,e)}}function SU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function e8e(t){if(Array.isArray(t))return t}function t8e(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=JLe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){NU(s.bind(null,d),c);return}s(c),NU(s.bind(null,d));return}lO(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function Mv(t){"@babel/helpers - typeof";return Mv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mv(t)}function kU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function CU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kU(Object(r),!0).forEach(function(n){Sre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Sre(t,e,r){return e=r8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r8e(t){var e=n8e(t,"string");return Mv(e)==="symbol"?e:String(e)}function n8e(t,e){if(Mv(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Mv(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a8e=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},s8e=function(e){return e},i8e=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Oy=function(e,r){return Object.keys(r).reduce(function(n,s){return CU(CU({},n),{},Sre({},s,e(s,r[s])))},{})},_U=function(e,r,n){return e.map(function(s){return"".concat(i8e(s)," ").concat(r,"ms ").concat(n)}).join(",")};function o8e(t,e){return d8e(t)||c8e(t,e)||kre(t,e)||l8e()}function l8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function d8e(t){if(Array.isArray(t))return t}function u8e(t){return m8e(t)||h8e(t)||kre(t)||f8e()}function f8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kre(t,e){if(t){if(typeof t=="string")return cO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cO(t,e)}}function h8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function m8e(t){if(Array.isArray(t))return cO(t)}function cO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var q5=1e-4,Cre=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},_re=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},AU=function(e,r){return function(n){var s=Cre(e,r);return _re(s,n)}},p8e=function(e,r){return function(n){var s=Cre(e,r),i=[].concat(u8e(s.map(function(o,l){return o*l}).slice(1)),[0]);return _re(i,n)}},TU=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(y){return parseFloat(y)}),f=o8e(d,4);s=f[0],i=f[1],o=f[2],l=f[3]}}}var m=AU(s,o),p=AU(i,l),g=p8e(s,o),v=function(N){return N>1?1:N<0?0:N},w=function(N){for(var k=N>1?1:N,S=k,A=0;A<8;++A){var _=m(S)-k,O=g(S);if(Math.abs(_-k)<q5||O<q5)return p(S);S=v(S-_/O)}return p(S)};return w.isStepper=!1,w},g8e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(f,m,p){var g=-(f-m)*n,v=p*i,w=p+(g-v)*l/1e3,y=p*l/1e3+f;return Math.abs(y-m)<q5&&Math.abs(w)<q5?[m,0]:[y,w]};return c.isStepper=!0,c.dt=l,c},x8e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return TU(s);case"spring":return g8e();default:if(s.split("(")[0]==="cubic-bezier")return TU(s)}return typeof s=="function"?s:null};function Ov(t){"@babel/helpers - typeof";return Ov=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ov(t)}function MU(t){return v8e(t)||y8e(t)||Are(t)||b8e()}function b8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function y8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function v8e(t){if(Array.isArray(t))return uO(t)}function OU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OU(Object(r),!0).forEach(function(n){dO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dO(t,e,r){return e=w8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w8e(t){var e=j8e(t,"string");return Ov(e)==="symbol"?e:String(e)}function j8e(t,e){if(Ov(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ov(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N8e(t,e){return C8e(t)||k8e(t,e)||Are(t,e)||S8e()}function S8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Are(t,e){if(t){if(typeof t=="string")return uO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uO(t,e)}}function uO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function C8e(t){if(Array.isArray(t))return t}var U5=function(e,r,n){return e+(r-e)*n},fO=function(e){var r=e.from,n=e.to;return r!==n},_8e=function t(e,r,n){var s=Oy(function(i,o){if(fO(o)){var l=e(o.from,o.to,o.velocity),c=N8e(l,2),d=c[0],f=c[1];return qi(qi({},o),{},{from:d,velocity:f})}return o},r);return n<1?Oy(function(i,o){return fO(o)?qi(qi({},o),{},{velocity:U5(o.velocity,s[i].velocity,n),from:U5(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const A8e=(function(t,e,r,n,s){var i=a8e(t,e),o=i.reduce(function(y,N){return qi(qi({},y),{},dO({},N,[t[N],e[N]]))},{}),l=i.reduce(function(y,N){return qi(qi({},y),{},dO({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,f,m=function(){return null},p=function(){return Oy(function(N,k){return k.from},l)},g=function(){return!Object.values(l).filter(fO).length},v=function(N){d||(d=N);var k=N-d,S=k/r.dt;l=_8e(r,l,S),s(qi(qi(qi({},t),e),p())),d=N,g()||(c=requestAnimationFrame(m))},w=function(N){f||(f=N);var k=(N-f)/n,S=Oy(function(_,O){return U5.apply(void 0,MU(O).concat([r(k)]))},o);if(s(qi(qi(qi({},t),e),S)),k<1)c=requestAnimationFrame(m);else{var A=Oy(function(_,O){return U5.apply(void 0,MU(O).concat([r(1)]))},o);s(qi(qi(qi({},t),e),A))}};return m=r.isStepper?v:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function cx(t){"@babel/helpers - typeof";return cx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},cx(t)}var T8e=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function M8e(t,e){if(t==null)return{};var r=O8e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function O8e(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function Q4(t){return L8e(t)||P8e(t)||D8e(t)||E8e()}function E8e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function D8e(t,e){if(t){if(typeof t=="string")return hO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return hO(t,e)}}function P8e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function L8e(t){if(Array.isArray(t))return hO(t)}function hO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function EU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EU(Object(r),!0).forEach(function(n){fy(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function fy(t,e,r){return e=Tre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R8e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function I8e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Tre(n.key),n)}}function F8e(t,e,r){return e&&I8e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Tre(t){var e=$8e(t,"string");return cx(e)==="symbol"?e:String(e)}function $8e(t,e){if(cx(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(cx(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function H8e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&mO(t,e)}function mO(t,e){return mO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},mO(t,e)}function B8e(t){var e=z8e();return function(){var n=W5(t),s;if(e){var i=W5(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return pO(this,s)}}function pO(t,e){if(e&&(cx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return gO(t)}function gO(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function z8e(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function W5(t){return W5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},W5(t)}var fd=(function(t){H8e(r,t);var e=B8e(r);function r(n,s){var i;R8e(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,f=o.to,m=o.steps,p=o.children,g=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind(gO(i)),i.changeStyle=i.changeStyle.bind(gO(i)),!l||g<=0)return i.state={style:{}},typeof p=="function"&&(i.state={style:f}),pO(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof p=="function")return i.state={style:d},pO(i);i.state={style:c?fy({},c,d):d}}else i.state={style:{}};return i}return F8e(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,f=i.to,m=i.from,p=this.state.style;if(l){if(!o){var g={style:c?fy({},c,f):f};this.state&&p&&(c&&p[c]!==f||!c&&p!==f)&&this.setState(g);return}if(!(YLe(s.to,f)&&s.canBegin&&s.isActive)){var v=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=v||d?m:s.to;if(this.state&&p){var y={style:c?fy({},c,w):w};(c&&p[c]!==w||!c&&p!==w)&&this.setState(y)}this.runAnimation(Gc(Gc({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,f=s.begin,m=s.onAnimationEnd,p=s.onAnimationStart,g=A8e(o,l,x8e(d),c,this.changeStyle),v=function(){i.stopJSAnimation=g()};this.manager.start([p,f,v,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],f=d.style,m=d.duration,p=m===void 0?0:m,g=function(w,y,N){if(N===0)return w;var k=y.duration,S=y.easing,A=S===void 0?"ease":S,_=y.style,O=y.properties,P=y.onAnimationEnd,I=N>0?o[N-1]:y,R=O||Object.keys(_);if(typeof A=="function"||A==="spring")return[].concat(Q4(w),[i.runJSAnimation.bind(i,{from:I.style,to:_,duration:k,easing:A}),k]);var F=_U(R,k,A),E=Gc(Gc(Gc({},I.style),_),{},{transition:F});return[].concat(Q4(w),[E,k,P]).filter(s8e)};return this.manager.start([c].concat(Q4(o.reduce(g,[f,Math.max(p,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=t8e());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,f=s.onAnimationStart,m=s.onAnimationEnd,p=s.steps,g=s.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof d=="function"||typeof g=="function"||d==="spring"){this.runJSAnimation(s);return}if(p.length>1){this.runStepAnimation(s);return}var w=l?fy({},l,c):c,y=_U(Object.keys(w),o,d);v.start([f,i,Gc(Gc({},w),{},{transition:y}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=M8e(s,T8e),d=b.Children.count(i),f=this.state.style;if(typeof i=="function")return i(f);if(!l||d===0||o<=0)return i;var m=function(g){var v=g.props,w=v.style,y=w===void 0?{}:w,N=v.className,k=b.cloneElement(g,Gc(Gc({},c),{},{style:Gc(Gc({},y),f),className:N}));return k};return d===1?m(b.Children.only(i)):be.createElement("div",null,b.Children.map(i,function(p){return m(p)}))}}]),r})(b.PureComponent);fd.displayName="Animate";fd.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};fd.propTypes={from:sa.oneOfType([sa.object,sa.string]),to:sa.oneOfType([sa.object,sa.string]),attributeName:sa.string,duration:sa.number,begin:sa.number,easing:sa.oneOfType([sa.string,sa.func]),steps:sa.arrayOf(sa.shape({duration:sa.number.isRequired,style:sa.object.isRequired,easing:sa.oneOfType([sa.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),sa.func]),properties:sa.arrayOf("string"),onAnimationEnd:sa.func})),children:sa.oneOfType([sa.node,sa.func]),isActive:sa.bool,canBegin:sa.bool,onAnimationEnd:sa.func,shouldReAnimate:sa.bool,onAnimationStart:sa.func,onAnimationReStart:sa.func};function Ev(t){"@babel/helpers - typeof";return Ev=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ev(t)}function V5(){return V5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},V5.apply(this,arguments)}function q8e(t,e){return G8e(t)||V8e(t,e)||W8e(t,e)||U8e()}function U8e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function W8e(t,e){if(t){if(typeof t=="string")return DU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DU(t,e)}}function DU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function V8e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function G8e(t){if(Array.isArray(t))return t}function PU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function LU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PU(Object(r),!0).forEach(function(n){Y8e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Y8e(t,e,r){return e=K8e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function K8e(t){var e=J8e(t,"string");return Ev(e)=="symbol"?e:e+""}function J8e(t,e){if(Ev(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ev(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RU=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,f;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],p=0,g=4;p<g;p++)m[p]=i[p]>o?o:i[p];f="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(f+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),f+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(f+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),f+="L ".concat(e+n,",").concat(r+s-l*m[2]),m[2]>0&&(f+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+s)),f+="L ".concat(e+c*m[3],",").concat(r+s),m[3]>0&&(f+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+s-l*m[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var v=Math.min(o,i);f="M ".concat(e,",").concat(r+l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+c*v,",").concat(r,`
            L `).concat(e+n-c*v,",").concat(r,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*v,`
            L `).concat(e+n,",").concat(r+s-l*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e+n-c*v,",").concat(r+s,`
            L `).concat(e+c*v,",").concat(r+s,`
            A `).concat(v,",").concat(v,",0,0,").concat(d,",").concat(e,",").concat(r+s-l*v," Z")}else f="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return f},X8e=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),f=Math.max(i,i+l),m=Math.min(o,o+c),p=Math.max(o,o+c);return n>=d&&n<=f&&s>=m&&s<=p}return!1},Q8e={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GP=function(e){var r=LU(LU({},Q8e),e),n=b.useRef(),s=b.useState(-1),i=q8e(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var A=n.current.getTotalLength();A&&l(A)}catch{}},[]);var c=r.x,d=r.y,f=r.width,m=r.height,p=r.radius,g=r.className,v=r.animationEasing,w=r.animationDuration,y=r.animationBegin,N=r.isAnimationActive,k=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||f===0||m===0)return null;var S=_r("recharts-rectangle",g);return k?be.createElement(fd,{canBegin:o>0,from:{width:f,height:m,x:c,y:d},to:{width:f,height:m,x:c,y:d},duration:w,animationEasing:v,isActive:k},function(A){var _=A.width,O=A.height,P=A.x,I=A.y;return be.createElement(fd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,isActive:N,easing:v},be.createElement("path",V5({},Mr(r,!0),{className:S,d:RU(P,I,_,O,p),ref:n})))}):be.createElement("path",V5({},Mr(r,!0),{className:S,d:RU(c,d,f,m,p)}))},Z8e=["points","className","baseLinePoints","connectNulls"];function pg(){return pg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pg.apply(this,arguments)}function e7e(t,e){if(t==null)return{};var r=t7e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function t7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function IU(t){return s7e(t)||a7e(t)||n7e(t)||r7e()}function r7e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function n7e(t,e){if(t){if(typeof t=="string")return xO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xO(t,e)}}function a7e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function s7e(t){if(Array.isArray(t))return xO(t)}function xO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var FU=function(e){return e&&e.x===+e.x&&e.y===+e.y},i7e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){FU(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),FU(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Ey=function(e,r){var n=i7e(e);r&&(n=[n.reduce(function(i,o){return[].concat(IU(i),IU(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},o7e=function(e,r,n){var s=Ey(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Ey(r.reverse(),n).slice(1))},l7e=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,i=e.connectNulls,o=e7e(e,Z8e);if(!r||!r.length)return null;var l=_r("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=o7e(r,s,i);return be.createElement("g",{className:l},be.createElement("path",pg({},Mr(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?be.createElement("path",pg({},Mr(o,!0),{fill:"none",d:Ey(r,i)})):null,c?be.createElement("path",pg({},Mr(o,!0),{fill:"none",d:Ey(s,i)})):null)}var f=Ey(r,i);return be.createElement("path",pg({},Mr(o,!0),{fill:f.slice(-1)==="Z"?o.fill:"none",className:l,d:f}))};function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bO.apply(this,arguments)}var p1=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=_r("recharts-dot",i);return r===+r&&n===+n&&s===+s?b.createElement("circle",bO({},Mr(e,!1),p5(e),{className:o,cx:r,cy:n,r:s})):null};function Dv(t){"@babel/helpers - typeof";return Dv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Dv(t)}var c7e=["x","y","top","left","width","height","className"];function yO(){return yO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yO.apply(this,arguments)}function $U(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function d7e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$U(Object(r),!0).forEach(function(n){u7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$U(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u7e(t,e,r){return e=f7e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function f7e(t){var e=h7e(t,"string");return Dv(e)=="symbol"?e:e+""}function h7e(t,e){if(Dv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Dv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m7e(t,e){if(t==null)return{};var r=p7e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var g7e=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},x7e=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,f=e.width,m=f===void 0?0:f,p=e.height,g=p===void 0?0:p,v=e.className,w=m7e(e,c7e),y=d7e({x:n,y:i,top:l,left:d,width:m,height:g},w);return!Qt(n)||!Qt(i)||!Qt(m)||!Qt(g)||!Qt(l)||!Qt(d)?null:be.createElement("path",yO({},Mr(y,!0),{className:_r("recharts-cross",v),d:g7e(n,i,m,g,l,d)}))},Z4,HU;function b7e(){if(HU)return Z4;HU=1;var t=vS(),e=Ute(),r=xu();function n(s,i){return s&&s.length?t(s,r(i,2),e):void 0}return Z4=n,Z4}var y7e=b7e();const v7e=Yn(y7e);var eT,BU;function w7e(){if(BU)return eT;BU=1;var t=vS(),e=xu(),r=Wte();function n(s,i){return s&&s.length?t(s,e(i,2),r):void 0}return eT=n,eT}var j7e=w7e();const N7e=Yn(j7e);var S7e=["cx","cy","angle","ticks","axisLine"],k7e=["ticks","tick","angle","tickFormatter","stroke"];function dx(t){"@babel/helpers - typeof";return dx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dx(t)}function Dy(){return Dy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Dy.apply(this,arguments)}function zU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(r),!0).forEach(function(n){SS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qU(t,e){if(t==null)return{};var r=C7e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function C7e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function _7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ore(n.key),n)}}function A7e(t,e,r){return e&&UU(t.prototype,e),r&&UU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function T7e(t,e,r){return e=G5(e),M7e(t,Mre()?Reflect.construct(e,r||[],G5(t).constructor):e.apply(t,r))}function M7e(t,e){if(e&&(dx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return O7e(t)}function O7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Mre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mre=function(){return!!t})()}function G5(t){return G5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},G5(t)}function E7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vO(t,e)}function vO(t,e){return vO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},vO(t,e)}function SS(t,e,r){return e=Ore(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ore(t){var e=D7e(t,"string");return dx(e)=="symbol"?e:e+""}function D7e(t,e){if(dx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var kS=(function(t){function e(){return _7e(this,e),T7e(this,e,arguments)}return E7e(e,t),A7e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return Fa(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=v7e(l,function(f){return f.coordinate||0}),d=N7e(l,function(f){return f.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=qU(n,S7e),f=l.reduce(function(v,w){return[Math.min(v[0],w.coordinate),Math.max(v[1],w.coordinate)]},[1/0,-1/0]),m=Fa(s,i,f[0],o),p=Fa(s,i,f[1],o),g=Vm(Vm(Vm({},Mr(d,!1)),{},{fill:"none"},Mr(c,!1)),{},{x1:m.x,y1:m.y,x2:p.x,y2:p.y});return be.createElement("line",Dy({className:"recharts-polar-radius-axis-line"},g))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,f=qU(s,k7e),m=this.getTickTextAnchor(),p=Mr(f,!1),g=Mr(o,!1),v=i.map(function(w,y){var N=n.getTickValueCoord(w),k=Vm(Vm(Vm(Vm({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},p),{},{stroke:"none",fill:d},g),{},{index:y},N),{},{payload:w});return be.createElement(Mn,Dy({className:_r("recharts-polar-radius-axis-tick",yre(o)),key:"tick-".concat(w.coordinate)},Bp(n.props,w,y)),e.renderTickItem(o,k,c?c(w.value,y):w.value))});return be.createElement(Mn,{className:"recharts-polar-radius-axis-ticks"},v)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:be.createElement(Mn,{className:_r("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),Ei.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return be.isValidElement(n)?o=be.cloneElement(n,s):Gr(n)?o=n(s):o=be.createElement(qp,Dy({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(b.PureComponent);SS(kS,"displayName","PolarRadiusAxis");SS(kS,"axisType","radiusAxis");SS(kS,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function ux(t){"@babel/helpers - typeof";return ux=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ux(t)}function tp(){return tp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tp.apply(this,arguments)}function WU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Gm(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WU(Object(r),!0).forEach(function(n){CS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function P7e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VU(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Dre(n.key),n)}}function L7e(t,e,r){return e&&VU(t.prototype,e),r&&VU(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function R7e(t,e,r){return e=Y5(e),I7e(t,Ere()?Reflect.construct(e,r||[],Y5(t).constructor):e.apply(t,r))}function I7e(t,e){if(e&&(ux(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return F7e(t)}function F7e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Ere(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Ere=function(){return!!t})()}function Y5(t){return Y5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Y5(t)}function $7e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wO(t,e)}function wO(t,e){return wO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},wO(t,e)}function CS(t,e,r){return e=Dre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Dre(t){var e=H7e(t,"string");return ux(e)=="symbol"?e:e+""}function H7e(t,e){if(ux(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ux(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var B7e=Math.PI/180,GU=1e-5,_S=(function(t){function e(){return P7e(this,e),R7e(this,e,arguments)}return $7e(e,t),L7e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,f=d||8,m=Fa(i,o,l,n.coordinate),p=Fa(i,o,l+(c==="inner"?-1:1)*f,n.coordinate);return{x1:m.x,y1:m.y,x2:p.x,y2:p.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*B7e),o;return i>GU?o=s==="outer"?"start":"end":i<-GU?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=Gm(Gm({},Mr(this.props,!1)),{},{fill:"none"},Mr(l,!1));if(c==="circle")return be.createElement(p1,tp({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var f=this.props.ticks,m=f.map(function(p){return Fa(s,i,o,p.coordinate)});return be.createElement(l7e,tp({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,f=Mr(this.props,!1),m=Mr(o,!1),p=Gm(Gm({},f),{},{fill:"none"},Mr(l,!1)),g=i.map(function(v,w){var y=n.getTickLineCoord(v),N=n.getTickTextAnchor(v),k=Gm(Gm(Gm({textAnchor:N},f),{},{stroke:"none",fill:d},m),{},{index:w,payload:v,x:y.x2,y:y.y2});return be.createElement(Mn,tp({className:_r("recharts-polar-angle-axis-tick",yre(o)),key:"tick-".concat(v.coordinate)},Bp(n.props,v,w)),l&&be.createElement("line",tp({className:"recharts-polar-angle-axis-tick-line"},p,y)),o&&e.renderTickItem(o,k,c?c(v.value,w):v.value))});return be.createElement(Mn,{className:"recharts-polar-angle-axis-ticks"},g)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:be.createElement(Mn,{className:_r("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return be.isValidElement(n)?o=be.cloneElement(n,s):Gr(n)?o=n(s):o=be.createElement(qp,tp({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(b.PureComponent);CS(_S,"displayName","PolarAngleAxis");CS(_S,"axisType","angleAxis");CS(_S,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var tT,YU;function z7e(){if(YU)return tT;YU=1;var t=qee(),e=t(Object.getPrototypeOf,Object);return tT=e,tT}var rT,KU;function q7e(){if(KU)return rT;KU=1;var t=Uf(),e=z7e(),r=Wf(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var m=e(f);if(m===null)return!0;var p=l.call(m,"constructor")&&m.constructor;return typeof p=="function"&&p instanceof p&&o.call(p)==c}return rT=d,rT}var U7e=q7e();const W7e=Yn(U7e);var nT,JU;function V7e(){if(JU)return nT;JU=1;var t=Uf(),e=Wf(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return nT=n,nT}var G7e=V7e();const Y7e=Yn(G7e);function Pv(t){"@babel/helpers - typeof";return Pv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pv(t)}function K5(){return K5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K5.apply(this,arguments)}function K7e(t,e){return Z7e(t)||Q7e(t,e)||X7e(t,e)||J7e()}function J7e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X7e(t,e){if(t){if(typeof t=="string")return XU(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return XU(t,e)}}function XU(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Q7e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function Z7e(t){if(Array.isArray(t))return t}function QU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZU(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QU(Object(r),!0).forEach(function(n){eRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eRe(t,e,r){return e=tRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tRe(t){var e=rRe(t,"string");return Pv(e)=="symbol"?e:e+""}function rRe(t,e){if(Pv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Pv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eW=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},nRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},aRe=function(e){var r=ZU(ZU({},nRe),e),n=b.useRef(),s=b.useState(-1),i=K7e(s,2),o=i[0],l=i[1];b.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,f=r.upperWidth,m=r.lowerWidth,p=r.height,g=r.className,v=r.animationEasing,w=r.animationDuration,y=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||f!==+f||m!==+m||p!==+p||f===0&&m===0||p===0)return null;var k=_r("recharts-trapezoid",g);return N?be.createElement(fd,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:p,x:c,y:d},to:{upperWidth:f,lowerWidth:m,height:p,x:c,y:d},duration:w,animationEasing:v,isActive:N},function(S){var A=S.upperWidth,_=S.lowerWidth,O=S.height,P=S.x,I=S.y;return be.createElement(fd,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:y,duration:w,easing:v},be.createElement("path",K5({},Mr(r,!0),{className:k,d:eW(P,I,A,_,O),ref:n})))}):be.createElement("g",null,be.createElement("path",K5({},Mr(r,!0),{className:k,d:eW(c,d,f,m,p)})))},sRe=["option","shapeType","propTransformer","activeClassName","isActive"];function Lv(t){"@babel/helpers - typeof";return Lv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lv(t)}function iRe(t,e){if(t==null)return{};var r=oRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function J5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(r),!0).forEach(function(n){lRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lRe(t,e,r){return e=cRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cRe(t){var e=dRe(t,"string");return Lv(e)=="symbol"?e:e+""}function dRe(t,e){if(Lv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Lv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function uRe(t,e){return J5(J5({},e),t)}function fRe(t,e){return t==="symbols"}function rW(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return be.createElement(GP,r);case"trapezoid":return be.createElement(aRe,r);case"sector":return be.createElement(jre,r);case"symbols":if(fRe(e))return be.createElement(fP,r);break;default:return null}}function hRe(t){return b.isValidElement(t)?t.props:t}function Pre(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?uRe:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=iRe(t,sRe),d;if(b.isValidElement(e))d=b.cloneElement(e,J5(J5({},c),hRe(e)));else if(Gr(e))d=e(c);else if(W7e(e)&&!Y7e(e)){var f=s(e,c);d=be.createElement(rW,{shapeType:r,elementProps:f})}else{var m=c;d=be.createElement(rW,{shapeType:r,elementProps:m})}return l?be.createElement(Mn,{className:o},d):d}function AS(t,e){return e!=null&&"trapezoids"in t.props}function TS(t,e){return e!=null&&"sectors"in t.props}function Rv(t,e){return e!=null&&"points"in t.props}function mRe(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function pRe(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function gRe(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function xRe(t,e){var r;return AS(t,e)?r=mRe:TS(t,e)?r=pRe:Rv(t,e)&&(r=gRe),r}function bRe(t,e){var r;return AS(t,e)?r="trapezoids":TS(t,e)?r="sectors":Rv(t,e)&&(r="points"),r}function yRe(t,e){if(AS(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(TS(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return Rv(t,e)?e.payload:{}}function vRe(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=bRe(r,e),i=yRe(r,e),o=n.filter(function(c,d){var f=Up(i,c),m=r.props[s].filter(function(v){var w=xRe(r,e);return w(v,e)}),p=r.props[s].indexOf(m[m.length-1]),g=d===p;return f&&g}),l=n.indexOf(o[o.length-1]);return l}var z2;function fx(t){"@babel/helpers - typeof";return fx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fx(t)}function gg(){return gg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gg.apply(this,arguments)}function nW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ra(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(r),!0).forEach(function(n){dc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function aW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Rre(n.key),n)}}function jRe(t,e,r){return e&&aW(t.prototype,e),r&&aW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function NRe(t,e,r){return e=X5(e),SRe(t,Lre()?Reflect.construct(e,r||[],X5(t).constructor):e.apply(t,r))}function SRe(t,e){if(e&&(fx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return kRe(t)}function kRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Lre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Lre=function(){return!!t})()}function X5(t){return X5=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},X5(t)}function CRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&jO(t,e)}function jO(t,e){return jO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},jO(t,e)}function dc(t,e,r){return e=Rre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rre(t){var e=_Re(t,"string");return fx(e)=="symbol"?e:e+""}function _Re(t,e){if(fx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gd=(function(t){function e(r){var n;return wRe(this,e),n=NRe(this,e,[r]),dc(n,"pieRef",null),dc(n,"sectorRefs",[]),dc(n,"id",e0("recharts-pie-")),dc(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Gr(s)&&s()}),dc(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Gr(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return CRe(e,t),jRe(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,f=Mr(this.props,!1),m=Mr(o,!1),p=Mr(l,!1),g=o&&o.offsetRadius||20,v=n.map(function(w,y){var N=(w.startAngle+w.endAngle)/2,k=Fa(w.cx,w.cy,w.outerRadius+g,N),S=Ra(Ra(Ra(Ra({},f),w),{},{stroke:"none"},m),{},{index:y,textAnchor:e.getTextAnchor(k.x,w.cx)},k),A=Ra(Ra(Ra(Ra({},f),w),{},{fill:"none",stroke:w.fill},p),{},{index:y,points:[Fa(w.cx,w.cy,w.outerRadius,N),k]}),_=c;return tn(c)&&tn(d)?_="value":tn(c)&&(_=d),be.createElement(Mn,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(y)},l&&e.renderLabelLineItem(l,A,"line"),e.renderLabelItem(o,S,Bs(w,_)))});return be.createElement(Mn,{className:"recharts-pie-labels"},v)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,f){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(f),p=c&&s.hasActiveIndex()?c:null,g=m?o:p,v=Ra(Ra({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return be.createElement(Mn,gg({ref:function(y){y&&!s.sectorRefs.includes(y)&&s.sectorRefs.push(y)},tabIndex:-1,className:"recharts-pie-sector"},Bp(s.props,d,f),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(f)}),be.createElement(Pre,gg({option:g,isActive:m,shapeType:"sector"},v)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,f=s.animationId,m=this.state,p=m.prevSectors,g=m.prevIsAnimationActive;return be.createElement(fd,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(f,"-").concat(g),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(v){var w=v.t,y=[],N=i&&i[0],k=N.startAngle;return i.forEach(function(S,A){var _=p&&p[A],O=A>0?El(S,"paddingAngle",0):0;if(_){var P=vi(_.endAngle-_.startAngle,S.endAngle-S.startAngle),I=Ra(Ra({},S),{},{startAngle:k+O,endAngle:k+P(w)+O});y.push(I),k=I.endAngle}else{var R=S.endAngle,F=S.startAngle,E=vi(0,R-F),M=E(w),H=Ra(Ra({},S),{},{startAngle:k+O,endAngle:k+M+O});y.push(H),k=H.endAngle}}),be.createElement(Mn,null,n.renderSectorsStatically(y))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!Up(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,f=s.cy,m=s.innerRadius,p=s.outerRadius,g=s.isAnimationActive,v=this.state.isAnimationFinished;if(i||!o||!o.length||!Qt(d)||!Qt(f)||!Qt(m)||!Qt(p))return null;var w=_r("recharts-pie",l);return be.createElement(Mn,{tabIndex:this.props.rootTabIndex,className:w,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),Ei.renderCallByParent(this.props,null,!1),(!g||v)&&au.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(be.isValidElement(n))return be.cloneElement(n,s);if(Gr(n))return n(s);var o=_r("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return be.createElement(Mp,gg({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(be.isValidElement(n))return be.cloneElement(n,s);var o=i;if(Gr(n)&&(o=n(s),be.isValidElement(o)))return o;var l=_r("recharts-pie-label-text",typeof n!="boolean"&&!Gr(n)?n.className:"");return be.createElement(qp,gg({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(b.PureComponent);z2=gd;dc(gd,"displayName","Pie");dc(gd,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!vm.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});dc(gd,"parseDeltaAngle",function(t,e){var r=Lo(e-t),n=Math.min(Math.abs(e-t),360);return r*n});dc(gd,"getRealPieData",function(t){var e=t.data,r=t.children,n=Mr(t,!1),s=Dl(r,zp);return e&&e.length?e.map(function(i,o){return Ra(Ra(Ra({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return Ra(Ra({},n),i.props)}):[]});dc(gd,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,i=e.height,o=bre(s,i),l=n+Ro(t.cx,s,s/2),c=r+Ro(t.cy,i,i/2),d=Ro(t.innerRadius,o,0),f=Ro(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:f,maxRadius:m}});dc(gd,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?Ra(Ra({},e.type.defaultProps),e.props):e.props,s=z2.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,f=n.nameKey,m=n.valueKey,p=n.tooltipType,g=Math.abs(n.minAngle),v=z2.parseCoordinateOfPie(n,r),w=z2.parseDeltaAngle(o,l),y=Math.abs(w),N=d;tn(d)&&tn(m)?(ld(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):tn(d)&&(ld(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var k=s.filter(function(I){return Bs(I,N,0)!==0}).length,S=(y>=360?k:k-1)*c,A=y-k*g-S,_=s.reduce(function(I,R){var F=Bs(R,N,0);return I+(Qt(F)?F:0)},0),O;if(_>0){var P;O=s.map(function(I,R){var F=Bs(I,N,0),E=Bs(I,f,R),M=(Qt(F)?F:0)/_,H;R?H=P.endAngle+Lo(w)*c*(F!==0?1:0):H=o;var V=H+Lo(w)*((F!==0?g:0)+M*A),G=(H+V)/2,q=(v.innerRadius+v.outerRadius)/2,B=[{name:E,value:F,payload:I,dataKey:N,type:p}],z=Fa(v.cx,v.cy,q,G);return P=Ra(Ra(Ra({percent:M,cornerRadius:i,name:E,tooltipPayload:B,midAngle:G,middleRadius:q,tooltipPosition:z},I),v),{},{value:Bs(I,N),startAngle:H,endAngle:V,payload:I,paddingAngle:Lo(w)*c}),P})}return Ra(Ra({},v),{},{sectors:O,data:s})});var aT,sW;function ARe(){if(sW)return aT;sW=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,c=e(t((s-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return aT=r,aT}var sT,iW;function Ire(){if(iW)return sT;iW=1;var t=ste(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return sT=n,sT}var iT,oW;function TRe(){if(oW)return iT;oW=1;var t=ARe(),e=hS(),r=Ire();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return iT=n,iT}var oT,lW;function MRe(){if(lW)return oT;lW=1;var t=TRe(),e=t();return oT=e,oT}var ORe=MRe();const Q5=Yn(ORe);function Iv(t){"@babel/helpers - typeof";return Iv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Iv(t)}function cW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function dW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(r),!0).forEach(function(n){Fre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Fre(t,e,r){return e=ERe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ERe(t){var e=DRe(t,"string");return Iv(e)=="symbol"?e:e+""}function DRe(t,e){if(Iv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Iv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var PRe=["Webkit","Moz","O","ms"],LRe=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=PRe.reduce(function(i,o){return dW(dW({},i),{},Fre({},o+n,r))},{});return s[e]=r,s};function hx(t){"@babel/helpers - typeof";return hx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hx(t)}function Z5(){return Z5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Z5.apply(this,arguments)}function uW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uW(Object(r),!0).forEach(function(n){Nl(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Hre(n.key),n)}}function IRe(t,e,r){return e&&fW(t.prototype,e),r&&fW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function FRe(t,e,r){return e=eN(e),$Re(t,$re()?Reflect.construct(e,r||[],eN(t).constructor):e.apply(t,r))}function $Re(t,e){if(e&&(hx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return HRe(t)}function HRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $re(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($re=function(){return!!t})()}function eN(t){return eN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},eN(t)}function BRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&NO(t,e)}function NO(t,e){return NO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},NO(t,e)}function Nl(t,e,r){return e=Hre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hre(t){var e=zRe(t,"string");return hx(e)=="symbol"?e:e+""}function zRe(t,e){if(hx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qRe=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Ty().domain(Q5(0,c)).range([i,i+o-l]),f=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:f}},hW=function(e){return e.changedTouches&&!!e.changedTouches.length},mx=(function(t){function e(r){var n;return RRe(this,e),n=FRe(this,e,[r]),Nl(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Nl(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Nl(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Nl(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Nl(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Nl(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Nl(n,"handleSlideDragStart",function(s){var i=hW(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return BRe(e,t),IRe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,f=d.length-1,m=Math.min(s,i),p=Math.max(s,i),g=e.getIndexInRange(o,m),v=e.getIndexInRange(o,p);return{startIndex:g-g%c,endIndex:v===f?f:v-v%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=Bs(i[n],l,n);return Gr(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,f=c.width,m=c.travellerWidth,p=c.startIndex,g=c.endIndex,v=c.onChange,w=n.pageX-i;w>0?w=Math.min(w,d+f-m-l,d+f-m-o):w<0&&(w=Math.max(w,d-o,d-l));var y=this.getIndex({startX:o+w,endX:l+w});(y.startIndex!==p||y.endIndex!==g)&&v&&v(y),this.setState({startX:o+w,endX:l+w,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=hW(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],f=this.props,m=f.x,p=f.width,g=f.travellerWidth,v=f.onChange,w=f.gap,y=f.data,N={startX:this.state.startX,endX:this.state.endX},k=n.pageX-i;k>0?k=Math.min(k,m+p-g-d):k<0&&(k=Math.max(k,m-d)),N[o]=d+k;var S=this.getIndex(N),A=S.startIndex,_=S.endIndex,O=function(){var I=y.length-1;return o==="startX"&&(l>c?A%w===0:_%w===0)||l<c&&_===I||o==="endX"&&(l>c?_%w===0:A%w===0)||l>c&&_===I};this.setState(Nl(Nl({},o,d+k),"brushMoveStartX",n.pageX),function(){v&&O()&&v(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,f=this.state[s],m=l.indexOf(f);if(m!==-1){var p=m+n;if(!(p===-1||p>=l.length)){var g=l[p];s==="startX"&&g>=d||s==="endX"&&g<=c||this.setState(Nl({},s,g),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return be.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,f=n.padding,m=b.Children.only(d);return m?be.cloneElement(m,{x:s,y:i,width:o,height:l,margin:f,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,d=c.y,f=c.travellerWidth,m=c.height,p=c.traveller,g=c.ariaLabel,v=c.data,w=c.startIndex,y=c.endIndex,N=Math.max(n,this.props.x),k=lT(lT({},Mr(this.props,!1)),{},{x:N,y:d,width:f,height:m}),S=g||"Min value: ".concat((i=v[w])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=v[y])===null||o===void 0?void 0:o.name);return be.createElement(Mn,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(p,k))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,f=Math.min(n,s)+d,m=Math.max(Math.abs(s-n)-d,0);return be.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:f,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,f=this.state,m=f.startX,p=f.endX,g=5,v={pointerEvents:"none",fill:d};return be.createElement(Mn,{className:"recharts-brush-texts"},be.createElement(qp,Z5({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,p)-g,y:o+l/2},v),this.getTextOfTick(s)),be.createElement(qp,Z5({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,p)+c+g,y:o+l/2},v),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,f=n.height,m=n.alwaysShowText,p=this.state,g=p.startX,v=p.endX,w=p.isTextActive,y=p.isSlideMoving,N=p.isTravellerMoving,k=p.isTravellerFocused;if(!s||!s.length||!Qt(l)||!Qt(c)||!Qt(d)||!Qt(f)||d<=0||f<=0)return null;var S=_r("recharts-brush",i),A=be.Children.count(o)===1,_=LRe("userSelect","none");return be.createElement(Mn,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),A&&this.renderPanorama(),this.renderSlide(g,v),this.renderTravellerLayer(g,"startX"),this.renderTravellerLayer(v,"endX"),(w||y||N||k||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return be.createElement(be.Fragment,null,be.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),be.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),be.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return be.isValidElement(n)?i=be.cloneElement(n,s):Gr(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,f=n.startIndex,m=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return lT({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?qRe({data:i,width:o,x:l,travellerWidth:c,startIndex:f,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var p=s.scale.domain().map(function(g){return s.scale(g)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:p}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(b.PureComponent);Nl(mx,"displayName","Brush");Nl(mx,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var cT,mW;function URe(){if(mW)return cT;mW=1;var t=yP();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return cT=e,cT}var dT,pW;function WRe(){if(pW)return dT;pW=1;var t=Ree(),e=xu(),r=URe(),n=ul(),s=hS();function i(o,l,c){var d=n(o)?t:r;return c&&s(o,l,c)&&(l=void 0),d(o,e(l,3))}return dT=i,dT}var VRe=WRe();const GRe=Yn(VRe);var su=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},uT,gW;function YRe(){if(gW)return uT;gW=1;var t=ete();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return uT=e,uT}var fT,xW;function KRe(){if(xW)return fT;xW=1;var t=YRe(),e=Qee(),r=xu();function n(s,i){var o={};return i=r(i,3),e(s,function(l,c,d){t(o,c,i(l,c,d))}),o}return fT=n,fT}var JRe=KRe();const XRe=Yn(JRe);var hT,bW;function QRe(){if(bW)return hT;bW=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return hT=t,hT}var mT,yW;function ZRe(){if(yW)return mT;yW=1;var t=yP();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return mT=e,mT}var pT,vW;function eIe(){if(vW)return pT;vW=1;var t=QRe(),e=ZRe(),r=xu(),n=ul(),s=hS();function i(o,l,c){var d=n(o)?t:e;return c&&s(o,l,c)&&(l=void 0),d(o,r(l,3))}return pT=i,pT}var tIe=eIe();const Bre=Yn(tIe);var rIe=["x","y"];function Fv(t){"@babel/helpers - typeof";return Fv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Fv(t)}function SO(){return SO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SO.apply(this,arguments)}function wW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(r),!0).forEach(function(n){nIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nIe(t,e,r){return e=aIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aIe(t){var e=sIe(t,"string");return Fv(e)=="symbol"?e:e+""}function sIe(t,e){if(Fv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Fv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iIe(t,e){if(t==null)return{};var r=oIe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function oIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function lIe(t,e){var r=t.x,n=t.y,s=iIe(t,rIe),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||s.height),f=parseInt(d,10),m="".concat(e.width||s.width),p=parseInt(m,10);return Xb(Xb(Xb(Xb(Xb({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:f,width:p,name:e.name,radius:e.radius})}function jW(t){return be.createElement(Pre,SO({shapeType:"rectangle",propTransformer:lIe,activeClassName:"recharts-active-bar"},t))}var cIe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=Qt(n)||D3e(n);return i?e(n,s):(i||Vp(),r)}},dIe=["value","background"],zre;function px(t){"@babel/helpers - typeof";return px=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},px(t)}function uIe(t,e){if(t==null)return{};var r=fIe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function fIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function tN(){return tN=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tN.apply(this,arguments)}function NW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(r),!0).forEach(function(n){Gh(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Ure(n.key),n)}}function mIe(t,e,r){return e&&SW(t.prototype,e),r&&SW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function pIe(t,e,r){return e=rN(e),gIe(t,qre()?Reflect.construct(e,r||[],rN(t).constructor):e.apply(t,r))}function gIe(t,e){if(e&&(px(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xIe(t)}function xIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function qre(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(qre=function(){return!!t})()}function rN(t){return rN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},rN(t)}function bIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&kO(t,e)}function kO(t,e){return kO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},kO(t,e)}function Gh(t,e,r){return e=Ure(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ure(t){var e=yIe(t,"string");return px(e)=="symbol"?e:e+""}function yIe(t,e){if(px(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(px(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cd=(function(t){function e(){var r;hIe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=pIe(this,e,[].concat(s)),Gh(r,"state",{isAnimationFinished:!1}),Gh(r,"id",e0("recharts-bar-")),Gh(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),Gh(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return bIe(e,t),mIe(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,f=Mr(this.props,!1);return n&&n.map(function(m,p){var g=p===c,v=g?d:o,w=Xs(Xs(Xs({},f),m),{},{isActive:g,option:v,index:p,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return be.createElement(Mn,tN({className:"recharts-bar-rectangle"},Bp(s.props,m,p),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(p)}),be.createElement(jW,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,f=s.animationEasing,m=s.animationId,p=this.state.prevData;return be.createElement(fd,{begin:c,duration:d,isActive:l,easing:f,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(g){var v=g.t,w=i.map(function(y,N){var k=p&&p[N];if(k){var S=vi(k.x,y.x),A=vi(k.y,y.y),_=vi(k.width,y.width),O=vi(k.height,y.height);return Xs(Xs({},y),{},{x:S(v),y:A(v),width:_(v),height:O(v)})}if(o==="horizontal"){var P=vi(0,y.height),I=P(v);return Xs(Xs({},y),{},{y:y.y+y.height-I,height:I})}var R=vi(0,y.width),F=R(v);return Xs(Xs({},y),{},{width:F})});return be.createElement(Mn,null,n.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!Up(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Mr(this.props.background,!1);return i.map(function(d,f){d.value;var m=d.background,p=uIe(d,dIe);if(!m)return null;var g=Xs(Xs(Xs(Xs(Xs({},p),{},{fill:"#eee"},m),c),Bp(n.props,d,f)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:f,className:"recharts-bar-background-rectangle"});return be.createElement(jW,tN({key:"background-bar-".concat(f),option:n.props.background,isActive:f===l},g))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,f=i.children,m=Dl(f,m1);if(!m)return null;var p=d==="vertical"?o[0].height/2:o[0].width/2,g=function(y,N){var k=Array.isArray(y.value)?y.value[1]:y.value;return{x:y.x,y:y.y,value:k,errorVal:Bs(y,N)}},v={clipPath:n?"url(#clipPath-".concat(s,")"):null};return be.createElement(Mn,v,m.map(function(w){return be.cloneElement(w,{key:"error-bar-".concat(s,"-").concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:p,dataPointFormatter:g})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,f=n.top,m=n.width,p=n.height,g=n.isAnimationActive,v=n.background,w=n.id;if(s||!i||!i.length)return null;var y=this.state.isAnimationFinished,N=_r("recharts-bar",o),k=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,A=k||S,_=tn(w)?this.id:w;return be.createElement(Mn,{className:N},k||S?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(_)},be.createElement("rect",{x:k?d:d-m/2,y:S?f:f-p/2,width:k?m:m*2,height:S?p:p*2}))):null,be.createElement(Mn,{className:"recharts-bar-rectangles",clipPath:A?"url(#clipPath-".concat(_,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(A,_),(!g||y)&&au.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(b.PureComponent);zre=cd;Gh(cd,"displayName","Bar");Gh(cd,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!vm.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Gh(cd,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,g=GDe(n,r);if(!g)return null;var v=e.layout,w=r.type.defaultProps,y=w!==void 0?Xs(Xs({},w),r.props):r.props,N=y.dataKey,k=y.children,S=y.minPointSize,A=v==="horizontal"?o:i,_=d?A.scale.domain():null,O=ePe({numericAxis:A}),P=Dl(k,zp),I=m.map(function(R,F){var E,M,H,V,G,q;d?E=YDe(d[f+F],_):(E=Bs(R,N),Array.isArray(E)||(E=[O,E]));var B=cIe(S,zre.defaultProps.minPointSize)(E[1],F);if(v==="horizontal"){var z,X=[o.scale(E[0]),o.scale(E[1])],ee=X[0],K=X[1];M=Kq({axis:i,ticks:l,bandSize:s,offset:g.offset,entry:R,index:F}),H=(z=K??ee)!==null&&z!==void 0?z:void 0,V=g.size;var W=ee-K;if(G=Number.isNaN(W)?0:W,q={x:M,y:o.y,width:V,height:o.height},Math.abs(B)>0&&Math.abs(G)<Math.abs(B)){var J=Lo(G||B)*(Math.abs(B)-Math.abs(G));H-=J,G+=J}}else{var Z=[i.scale(E[0]),i.scale(E[1])],ie=Z[0],ue=Z[1];if(M=ie,H=Kq({axis:o,ticks:c,bandSize:s,offset:g.offset,entry:R,index:F}),V=ue-ie,G=g.size,q={x:i.x,y:H,width:i.width,height:G},Math.abs(B)>0&&Math.abs(V)<Math.abs(B)){var je=Lo(V||B)*(Math.abs(B)-Math.abs(V));V+=je}}return Xs(Xs(Xs({},R),{},{x:M,y:H,width:V,height:G,value:d?E:E[1],payload:R,background:q},P&&P[F]&&P[F].props),{},{tooltipPayload:[gre(r,R)],tooltipPosition:{x:M+V/2,y:H+G/2}})});return Xs({data:I,layout:v},p)});function $v(t){"@babel/helpers - typeof";return $v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$v(t)}function vIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function kW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Wre(n.key),n)}}function wIe(t,e,r){return e&&kW(t.prototype,e),r&&kW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function CW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Zc(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CW(Object(r),!0).forEach(function(n){MS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MS(t,e,r){return e=Wre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Wre(t){var e=jIe(t,"string");return $v(e)=="symbol"?e:e+""}function jIe(t,e){if($v(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($v(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var YP=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,f=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},p=!!Sl(d,cd);return f.reduce(function(g,v){var w=r[v],y=w.orientation,N=w.domain,k=w.padding,S=k===void 0?{}:k,A=w.mirror,_=w.reversed,O="".concat(y).concat(A?"Mirror":""),P,I,R,F,E;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var M=N[1]-N[0],H=1/0,V=w.categoricalDomain.sort(R3e);if(V.forEach(function(Z,ie){ie>0&&(H=Math.min((Z||0)-(V[ie-1]||0),H))}),Number.isFinite(H)){var G=H/M,q=w.layout==="vertical"?n.height:n.width;if(w.padding==="gap"&&(P=G*q/2),w.padding==="no-gap"){var B=Ro(e.barCategoryGap,G*q),z=G*q/2;P=z-B-(z-B)/q*B}}}s==="xAxis"?I=[n.left+(S.left||0)+(P||0),n.left+n.width-(S.right||0)-(P||0)]:s==="yAxis"?I=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(P||0),n.top+n.height-(S.bottom||0)-(P||0)]:I=w.range,_&&(I=[I[1],I[0]]);var X=fre(w,i,p),ee=X.scale,K=X.realScaleType;ee.domain(N).range(I),hre(ee);var W=mre(ee,Zc(Zc({},w),{},{realScaleType:K}));s==="xAxis"?(E=y==="top"&&!A||y==="bottom"&&A,R=n.left,F=m[O]-E*w.height):s==="yAxis"&&(E=y==="left"&&!A||y==="right"&&A,R=m[O]-E*w.width,F=n.top);var J=Zc(Zc(Zc({},w),W),{},{realScaleType:K,x:R,y:F,scale:ee,width:s==="xAxis"?n.width:w.width,height:s==="yAxis"?n.height:w.height});return J.bandSize=H5(J,W),!w.hide&&s==="xAxis"?m[O]+=(E?-1:1)*J.height:w.hide||(m[O]+=(E?-1:1)*J.width),Zc(Zc({},g),{},MS({},v,J))},{})},Vre=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},NIe=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return Vre({x:r,y:n},{x:s,y:i})},Gre=(function(){function t(e){vIe(this,t),this.scale=e}return wIe(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])})();MS(Gre,"EPS",1e-4);var KP=function(e){var r=Object.keys(e).reduce(function(n,s){return Zc(Zc({},n),{},MS({},s,Gre.create(e[s])))},{});return Zc(Zc({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return XRe(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return Bre(s,function(i,o){return r[o].isInRange(i)})}})};function SIe(t){return(t%180+180)%180}var kIe=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=SIe(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},gT,_W;function CIe(){if(_W)return gT;_W=1;var t=xu(),e=c1(),r=uS();function n(s){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(m){return d(c[m],m,c)}}var f=s(i,o,l);return f>-1?c[d?i[f]:f]:void 0}}return gT=n,gT}var xT,AW;function _Ie(){if(AW)return xT;AW=1;var t=Ire();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return xT=e,xT}var bT,TW;function AIe(){if(TW)return bT;TW=1;var t=Gee(),e=xu(),r=_Ie(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return bT=s,bT}var yT,MW;function TIe(){if(MW)return yT;MW=1;var t=CIe(),e=AIe(),r=t(e);return yT=r,yT}var MIe=TIe();const OIe=Yn(MIe);var EIe=lee();const DIe=Yn(EIe);var PIe=DIe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),JP=b.createContext(void 0),XP=b.createContext(void 0),Yre=b.createContext(void 0),Kre=b.createContext({}),Jre=b.createContext(void 0),Xre=b.createContext(0),Qre=b.createContext(0),OW=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,f=PIe(i);return be.createElement(JP.Provider,{value:n},be.createElement(XP.Provider,{value:s},be.createElement(Kre.Provider,{value:i},be.createElement(Yre.Provider,{value:f},be.createElement(Jre.Provider,{value:o},be.createElement(Xre.Provider,{value:d},be.createElement(Qre.Provider,{value:c},l)))))))},LIe=function(){return b.useContext(Jre)},Zre=function(e){var r=b.useContext(JP);r==null&&Vp();var n=r[e];return n==null&&Vp(),n},RIe=function(){var e=b.useContext(JP);return zh(e)},IIe=function(){var e=b.useContext(XP),r=OIe(e,function(n){return Bre(n.domain,Number.isFinite)});return r||zh(e)},ene=function(e){var r=b.useContext(XP);r==null&&Vp();var n=r[e];return n==null&&Vp(),n},FIe=function(){var e=b.useContext(Yre);return e},$Ie=function(){return b.useContext(Kre)},QP=function(){return b.useContext(Qre)},ZP=function(){return b.useContext(Xre)};function gx(t){"@babel/helpers - typeof";return gx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gx(t)}function HIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,rne(n.key),n)}}function zIe(t,e,r){return e&&BIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qIe(t,e,r){return e=nN(e),UIe(t,tne()?Reflect.construct(e,r||[],nN(t).constructor):e.apply(t,r))}function UIe(t,e){if(e&&(gx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return WIe(t)}function WIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function tne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(tne=function(){return!!t})()}function nN(t){return nN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},nN(t)}function VIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&CO(t,e)}function CO(t,e){return CO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},CO(t,e)}function EW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function DW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EW(Object(r),!0).forEach(function(n){eL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eL(t,e,r){return e=rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rne(t){var e=GIe(t,"string");return gx(e)=="symbol"?e:e+""}function GIe(t,e){if(gx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(gx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function YIe(t,e){return QIe(t)||XIe(t,e)||JIe(t,e)||KIe()}function KIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function JIe(t,e){if(t){if(typeof t=="string")return PW(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return PW(t,e)}}function PW(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function QIe(t){if(Array.isArray(t))return t}function _O(){return _O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_O.apply(this,arguments)}var ZIe=function(e,r){var n;return be.isValidElement(e)?n=be.cloneElement(e,r):Gr(e)?n=e(r):n=be.createElement("line",_O({},r,{className:"recharts-reference-line-line"})),n},e9e=function(e,r,n,s,i,o,l,c,d){var f=i.x,m=i.y,p=i.width,g=i.height;if(n){var v=d.y,w=e.y.apply(v,{position:o});if(su(d,"discard")&&!e.y.isInRange(w))return null;var y=[{x:f+p,y:w},{x:f,y:w}];return c==="left"?y.reverse():y}if(r){var N=d.x,k=e.x.apply(N,{position:o});if(su(d,"discard")&&!e.x.isInRange(k))return null;var S=[{x:k,y:m+g},{x:k,y:m}];return l==="top"?S.reverse():S}if(s){var A=d.segment,_=A.map(function(O){return e.apply(O,{position:o})});return su(d,"discard")&&GRe(_,function(O){return!e.isInRange(O)})?null:_}return null};function t9e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=LIe(),f=Zre(s),m=ene(i),p=FIe();if(!d||!p)return null;ld(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var g=KP({x:f.scale,y:m.scale}),v=wi(e),w=wi(r),y=n&&n.length===2,N=e9e(g,v,w,y,p,t.position,f.orientation,m.orientation,t);if(!N)return null;var k=YIe(N,2),S=k[0],A=S.x,_=S.y,O=k[1],P=O.x,I=O.y,R=su(t,"hidden")?"url(#".concat(d,")"):void 0,F=DW(DW({clipPath:R},Mr(t,!0)),{},{x1:A,y1:_,x2:P,y2:I});return be.createElement(Mn,{className:_r("recharts-reference-line",l)},ZIe(o,F),Ei.renderCallByParent(t,NIe({x1:A,y1:_,x2:P,y2:I})))}var tL=(function(t){function e(){return HIe(this,e),qIe(this,e,arguments)}return VIe(e,t),zIe(e,[{key:"render",value:function(){return be.createElement(t9e,this.props)}}])})(be.Component);eL(tL,"displayName","ReferenceLine");eL(tL,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function AO(){return AO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},AO.apply(this,arguments)}function xx(t){"@babel/helpers - typeof";return xx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xx(t)}function LW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function RW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LW(Object(r),!0).forEach(function(n){OS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ane(n.key),n)}}function a9e(t,e,r){return e&&n9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function s9e(t,e,r){return e=aN(e),i9e(t,nne()?Reflect.construct(e,r||[],aN(t).constructor):e.apply(t,r))}function i9e(t,e){if(e&&(xx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return o9e(t)}function o9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nne=function(){return!!t})()}function aN(t){return aN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},aN(t)}function l9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TO(t,e)}function TO(t,e){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},TO(t,e)}function OS(t,e,r){return e=ane(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ane(t){var e=c9e(t,"string");return xx(e)=="symbol"?e:e+""}function c9e(t,e){if(xx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var d9e=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=KP({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return su(e,"discard")&&!o.isInRange(l)?null:l},ES=(function(t){function e(){return r9e(this,e),s9e(this,e,arguments)}return l9e(e,t),a9e(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=wi(s),f=wi(i);if(ld(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!f)return null;var m=d9e(this.props);if(!m)return null;var p=m.x,g=m.y,v=this.props,w=v.shape,y=v.className,N=su(this.props,"hidden")?"url(#".concat(c,")"):void 0,k=RW(RW({clipPath:N},Mr(this.props,!0)),{},{cx:p,cy:g});return be.createElement(Mn,{className:_r("recharts-reference-dot",y)},e.renderDot(w,k),Ei.renderCallByParent(this.props,{x:p-o,y:g-o,width:2*o,height:2*o}))}}])})(be.Component);OS(ES,"displayName","ReferenceDot");OS(ES,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});OS(ES,"renderDot",function(t,e){var r;return be.isValidElement(t)?r=be.cloneElement(t,e):Gr(t)?r=t(e):r=be.createElement(p1,AO({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MO.apply(this,arguments)}function bx(t){"@babel/helpers - typeof";return bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bx(t)}function IW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function FW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(r),!0).forEach(function(n){DS(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f9e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ine(n.key),n)}}function h9e(t,e,r){return e&&f9e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function m9e(t,e,r){return e=sN(e),p9e(t,sne()?Reflect.construct(e,r||[],sN(t).constructor):e.apply(t,r))}function p9e(t,e){if(e&&(bx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return g9e(t)}function g9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(sne=function(){return!!t})()}function sN(t){return sN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sN(t)}function x9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&OO(t,e)}function OO(t,e){return OO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},OO(t,e)}function DS(t,e,r){return e=ine(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ine(t){var e=b9e(t,"string");return bx(e)=="symbol"?e:e+""}function b9e(t,e){if(bx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var y9e=function(e,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,f=i.xAxis,m=i.yAxis;if(!f||!m)return null;var p=KP({x:f.scale,y:m.scale}),g={x:e?p.x.apply(o,{position:"start"}):p.x.rangeMin,y:n?p.y.apply(c,{position:"start"}):p.y.rangeMin},v={x:r?p.x.apply(l,{position:"end"}):p.x.rangeMax,y:s?p.y.apply(d,{position:"end"}):p.y.rangeMax};return su(i,"discard")&&(!p.isInRange(g)||!p.isInRange(v))?null:Vre(g,v)},PS=(function(t){function e(){return u9e(this,e),m9e(this,e,arguments)}return x9e(e,t),h9e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,f=n.clipPathId;ld(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=wi(s),p=wi(i),g=wi(o),v=wi(l),w=this.props.shape;if(!m&&!p&&!g&&!v&&!w)return null;var y=y9e(m,p,g,v,this.props);if(!y&&!w)return null;var N=su(this.props,"hidden")?"url(#".concat(f,")"):void 0;return be.createElement(Mn,{className:_r("recharts-reference-area",c)},e.renderRect(w,FW(FW({clipPath:N},Mr(this.props,!0)),y)),Ei.renderCallByParent(this.props,y))}}])})(be.Component);DS(PS,"displayName","ReferenceArea");DS(PS,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});DS(PS,"renderRect",function(t,e){var r;return be.isValidElement(t)?r=be.cloneElement(t,e):Gr(t)?r=t(e):r=be.createElement(GP,MO({},e,{className:"recharts-reference-area-rect"})),r});function one(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function v9e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return kIe(n,r)}function w9e(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function iN(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function j9e(t,e){return one(t,e+1)}function N9e(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,f=o,m=function(){var v=n==null?void 0:n[c];if(v===void 0)return{v:one(n,d)};var w=c,y,N=function(){return y===void 0&&(y=r(v,w)),y},k=v.coordinate,S=c===0||iN(t,k,N,f,l);S||(c=0,f=o,d+=1),S&&(f=k+t*(N()/2+s),c+=d)},p;d<=i.length;)if(p=m(),p)return p.v;return[]}function Hv(t){"@babel/helpers - typeof";return Hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Hv(t)}function $W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ho(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$W(Object(r),!0).forEach(function(n){S9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S9e(t,e,r){return e=k9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function k9e(t){var e=C9e(t,"string");return Hv(e)=="symbol"?e:e+""}function C9e(t,e){if(Hv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Hv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _9e(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(p){var g=i[p],v,w=function(){return v===void 0&&(v=r(g,p)),v};if(p===o-1){var y=t*(g.coordinate+t*w()/2-c);i[p]=g=ho(ho({},g),{},{tickCoord:y>0?g.coordinate-y*t:g.coordinate})}else i[p]=g=ho(ho({},g),{},{tickCoord:g.coordinate});var N=iN(t,g.tickCoord,w,l,c);N&&(c=g.tickCoord-t*(w()/2+s),i[p]=ho(ho({},g),{},{isShow:!0}))},f=o-1;f>=0;f--)d(f);return i}function A9e(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var f=n[l-1],m=r(f,l-1),p=t*(f.coordinate+t*m/2-d);o[l-1]=f=ho(ho({},f),{},{tickCoord:p>0?f.coordinate-p*t:f.coordinate});var g=iN(t,f.tickCoord,function(){return m},c,d);g&&(d=f.tickCoord-t*(m/2+s),o[l-1]=ho(ho({},f),{},{isShow:!0}))}for(var v=i?l-1:l,w=function(k){var S=o[k],A,_=function(){return A===void 0&&(A=r(S,k)),A};if(k===0){var O=t*(S.coordinate-t*_()/2-c);o[k]=S=ho(ho({},S),{},{tickCoord:O<0?S.coordinate-O*t:S.coordinate})}else o[k]=S=ho(ho({},S),{},{tickCoord:S.coordinate});var P=iN(t,S.tickCoord,_,c,d);P&&(c=S.tickCoord+t*(_()/2+s),o[k]=ho(ho({},S),{},{isShow:!0}))},y=0;y<v;y++)w(y);return o}function rL(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,f=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(Qt(c)||vm.isSsr)return j9e(s,typeof c=="number"&&Qt(c)?c:0);var p=[],g=l==="top"||l==="bottom"?"width":"height",v=f&&g==="width"?Ay(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=function(S,A){var _=Gr(d)?d(S.value,A):S.value;return g==="width"?v9e(Ay(_,{fontSize:e,letterSpacing:r}),v,m):Ay(_,{fontSize:e,letterSpacing:r})[g]},y=s.length>=2?Lo(s[1].coordinate-s[0].coordinate):1,N=w9e(i,y,g);return c==="equidistantPreserveStart"?N9e(y,N,w,s,o):(c==="preserveStart"||c==="preserveStartEnd"?p=A9e(y,N,w,s,o,c==="preserveStartEnd"):p=_9e(y,N,w,s,o),p.filter(function(k){return k.isShow}))}var T9e=["viewBox"],M9e=["viewBox"],O9e=["ticks"];function yx(t){"@babel/helpers - typeof";return yx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yx(t)}function xg(){return xg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xg.apply(this,arguments)}function HW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HW(Object(r),!0).forEach(function(n){nL(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vT(t,e){if(t==null)return{};var r=E9e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function E9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function D9e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function BW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,cne(n.key),n)}}function P9e(t,e,r){return e&&BW(t.prototype,e),r&&BW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function L9e(t,e,r){return e=oN(e),R9e(t,lne()?Reflect.construct(e,r||[],oN(t).constructor):e.apply(t,r))}function R9e(t,e){if(e&&(yx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return I9e(t)}function I9e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lne=function(){return!!t})()}function oN(t){return oN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},oN(t)}function F9e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&EO(t,e)}function EO(t,e){return EO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},EO(t,e)}function nL(t,e,r){return e=cne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cne(t){var e=$9e(t,"string");return yx(e)=="symbol"?e:e+""}function $9e(t,e){if(yx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var zx=(function(t){function e(r){var n;return D9e(this,e),n=L9e(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return F9e(e,t),P9e(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=vT(n,T9e),l=this.props,c=l.viewBox,d=vT(l,M9e);return!Tg(i,c)||!Tg(o,d)||!Tg(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,f=s.tickSize,m=s.mirror,p=s.tickMargin,g,v,w,y,N,k,S=m?-1:1,A=n.tickSize||f,_=Qt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":g=v=n.coordinate,y=o+ +!m*c,w=y-S*A,k=w-S*p,N=_;break;case"left":w=y=n.coordinate,v=i+ +!m*l,g=v-S*A,N=g-S*p,k=_;break;case"right":w=y=n.coordinate,v=i+ +m*l,g=v+S*A,N=g+S*p,k=_;break;default:g=v=n.coordinate,y=o+ +m*c,w=y+S*A,k=w+S*p,N=_;break}return{line:{x1:g,y1:w,x2:v,y2:y},tick:{x:N,y:k}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,f=n.axisLine,m=bi(bi(bi({},Mr(this.props,!1)),Mr(f,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var p=+(c==="top"&&!d||c==="bottom"&&d);m=bi(bi({},m),{},{x1:s,y1:i+p*l,x2:s+o,y2:i+p*l})}else{var g=+(c==="left"&&!d||c==="right"&&d);m=bi(bi({},m),{},{x1:s+g*o,y1:i,x2:s+g*o,y2:i+l})}return be.createElement("line",xg({},m,{className:_r("recharts-cartesian-axis-line",El(f,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,f=l.tick,m=l.tickFormatter,p=l.unit,g=rL(bi(bi({},this.props),{},{ticks:n}),s,i),v=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),y=Mr(this.props,!1),N=Mr(f,!1),k=bi(bi({},y),{},{fill:"none"},Mr(c,!1)),S=g.map(function(A,_){var O=o.getTickLineCoord(A),P=O.line,I=O.tick,R=bi(bi(bi(bi({textAnchor:v,verticalAnchor:w},y),{},{stroke:"none",fill:d},N),I),{},{index:_,payload:A,visibleTicksCount:g.length,tickFormatter:m});return be.createElement(Mn,xg({className:"recharts-cartesian-axis-tick",key:"tick-".concat(A.value,"-").concat(A.coordinate,"-").concat(A.tickCoord)},Bp(o.props,A,_)),c&&be.createElement("line",xg({},k,P,{className:_r("recharts-cartesian-axis-tick-line",El(c,"className"))})),f&&e.renderTickItem(f,R,"".concat(Gr(m)?m(A.value,_):A.value).concat(p||"")))});return be.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,f=s.hide;if(f)return null;var m=this.props,p=m.ticks,g=vT(m,O9e),v=p;return Gr(c)&&(v=p&&p.length>0?c(this.props):c(g)),o<=0||l<=0||!v||!v.length?null:be.createElement(Mn,{className:_r("recharts-cartesian-axis",d),ref:function(y){n.layerReference=y}},i&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),Ei.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=_r(s.className,"recharts-cartesian-axis-tick-value");return be.isValidElement(n)?o=be.cloneElement(n,bi(bi({},s),{},{className:l})):Gr(n)?o=n(bi(bi({},s),{},{className:l})):o=be.createElement(qp,xg({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(b.Component);nL(zx,"displayName","CartesianAxis");nL(zx,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var H9e=["x1","y1","x2","y2","key"],B9e=["offset"];function Gp(t){"@babel/helpers - typeof";return Gp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gp(t)}function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){z9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function z9e(t,e,r){return e=q9e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function q9e(t){var e=U9e(t,"string");return Gp(e)=="symbol"?e:e+""}function U9e(t,e){if(Gp(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Gp(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mp(){return mp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mp.apply(this,arguments)}function qW(t,e){if(t==null)return{};var r=W9e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function W9e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var V9e=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return be.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function dne(t,e){var r;if(be.isValidElement(t))r=be.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=qW(e,H9e),d=Mr(c,!1);d.offset;var f=qW(d,B9e);r=be.createElement("line",mp({},f,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function G9e(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=mo(mo({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return dne(s,d)});return be.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function Y9e(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=mo(mo({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return dne(s,d)});return be.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function K9e(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var f=l.map(function(p){return Math.round(p+s-s)}).sort(function(p,g){return p-g});s!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],w=v?s+o-p:f[g+1]-p;if(w<=0)return null;var y=g%e.length;return be.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:w,width:i,stroke:"none",fill:e[y],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function J9e(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var f=d.map(function(p){return Math.round(p+i-i)}).sort(function(p,g){return p-g});i!==f[0]&&f.unshift(0);var m=f.map(function(p,g){var v=!f[g+1],w=v?i+l-p:f[g+1]-p;if(w<=0)return null;var y=g%n.length;return be.createElement("rect",{key:"react-".concat(g),x:p,y:o,width:w,height:c,stroke:"none",fill:n[y],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return be.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var X9e=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return ure(rL(mo(mo(mo({},zx.defaultProps),n),{},{ticks:gf(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},Q9e=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return ure(rL(mo(mo(mo({},zx.defaultProps),n),{},{ticks:gf(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},J0={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function nd(t){var e,r,n,s,i,o,l=QP(),c=ZP(),d=$Ie(),f=mo(mo({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:J0.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:J0.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:J0.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:J0.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:J0.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:J0.verticalFill,x:Qt(t.x)?t.x:d.left,y:Qt(t.y)?t.y:d.top,width:Qt(t.width)?t.width:d.width,height:Qt(t.height)?t.height:d.height}),m=f.x,p=f.y,g=f.width,v=f.height,w=f.syncWithTicks,y=f.horizontalValues,N=f.verticalValues,k=RIe(),S=IIe();if(!Qt(g)||g<=0||!Qt(v)||v<=0||!Qt(m)||m!==+m||!Qt(p)||p!==+p)return null;var A=f.verticalCoordinatesGenerator||X9e,_=f.horizontalCoordinatesGenerator||Q9e,O=f.horizontalPoints,P=f.verticalPoints;if((!O||!O.length)&&Gr(_)){var I=y&&y.length,R=_({yAxis:S?mo(mo({},S),{},{ticks:I?y:S.ticks}):void 0,width:l,height:c,offset:d},I?!0:w);ld(Array.isArray(R),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(Gp(R),"]")),Array.isArray(R)&&(O=R)}if((!P||!P.length)&&Gr(A)){var F=N&&N.length,E=A({xAxis:k?mo(mo({},k),{},{ticks:F?N:k.ticks}):void 0,width:l,height:c,offset:d},F?!0:w);ld(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(Gp(E),"]")),Array.isArray(E)&&(P=E)}return be.createElement("g",{className:"recharts-cartesian-grid"},be.createElement(V9e,{fill:f.fill,fillOpacity:f.fillOpacity,x:f.x,y:f.y,width:f.width,height:f.height,ry:f.ry}),be.createElement(G9e,mp({},f,{offset:d,horizontalPoints:O,xAxis:k,yAxis:S})),be.createElement(Y9e,mp({},f,{offset:d,verticalPoints:P,xAxis:k,yAxis:S})),be.createElement(K9e,mp({},f,{horizontalPoints:O})),be.createElement(J9e,mp({},f,{verticalPoints:P})))}nd.displayName="CartesianGrid";var Z9e=["type","layout","connectNulls","ref"],eFe=["key"];function vx(t){"@babel/helpers - typeof";return vx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vx(t)}function UW(t,e){if(t==null)return{};var r=tFe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function tFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function Py(){return Py=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Py.apply(this,arguments)}function WW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function jl(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WW(Object(r),!0).forEach(function(n){ed(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X0(t){return sFe(t)||aFe(t)||nFe(t)||rFe()}function rFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nFe(t,e){if(t){if(typeof t=="string")return DO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DO(t,e)}}function aFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function sFe(t){if(Array.isArray(t))return DO(t)}function DO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function iFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function VW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,fne(n.key),n)}}function oFe(t,e,r){return e&&VW(t.prototype,e),r&&VW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function lFe(t,e,r){return e=lN(e),cFe(t,une()?Reflect.construct(e,r||[],lN(t).constructor):e.apply(t,r))}function cFe(t,e){if(e&&(vx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dFe(t)}function dFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function une(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(une=function(){return!!t})()}function lN(t){return lN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lN(t)}function uFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PO(t,e)}function PO(t,e){return PO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},PO(t,e)}function ed(t,e,r){return e=fne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fne(t){var e=fFe(t,"string");return vx(e)=="symbol"?e:e+""}function fFe(t,e){if(vx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ff=(function(t){function e(){var r;iFe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=lFe(this,e,[].concat(s)),ed(r,"state",{isAnimationFinished:!0,totalLength:0}),ed(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),ed(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,k){return N+k});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var f=Math.floor(o/d),m=o%d,p=l-o,g=[],v=0,w=0;v<c.length;w+=c[v],++v)if(w+c[v]>m){g=[].concat(X0(c.slice(0,v)),[m-w]);break}var y=g.length%2===0?[0,p]:[p];return[].concat(X0(e.repeat(c,f)),X0(g),y).map(function(N){return"".concat(N,"px")}).join(", ")}),ed(r,"id",e0("recharts-line-")),ed(r,"pathRef",function(o){r.mainCurve=o}),ed(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),ed(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return uFe(e,t),oFe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,f=i.children,m=Dl(f,m1);if(!m)return null;var p=function(w,y){return{x:w.x,y:w.y,value:w.value,errorVal:Bs(w.payload,y)}},g={clipPath:n?"url(#clipPath-".concat(s,")"):null};return be.createElement(Mn,g,m.map(function(v){return be.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:p})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,f=l.dataKey,m=Mr(this.props,!1),p=Mr(c,!0),g=d.map(function(w,y){var N=jl(jl(jl({key:"dot-".concat(y),r:3},m),p),{},{index:y,cx:w.x,cy:w.y,value:w.value,dataKey:f,payload:w.payload,points:d});return e.renderDotItem(c,N)}),v={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return be.createElement(Mn,Py({className:"recharts-line-dots",key:"dots"},v),g)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,d=l.layout,f=l.connectNulls;l.ref;var m=UW(l,Z9e),p=jl(jl(jl({},Mr(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:f});return be.createElement(Mp,Py({},p,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,v=o.animateNewValues,w=o.width,y=o.height,N=this.state,k=N.prevPoints,S=N.totalLength;return be.createElement(fd,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"line-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(A){var _=A.t;if(k){var O=k.length/l.length,P=l.map(function(M,H){var V=Math.floor(H*O);if(k[V]){var G=k[V],q=vi(G.x,M.x),B=vi(G.y,M.y);return jl(jl({},M),{},{x:q(_),y:B(_)})}if(v){var z=vi(w*2,M.x),X=vi(y/2,M.y);return jl(jl({},M),{},{x:z(_),y:X(_)})}return jl(jl({},M),{},{x:M.x,y:M.y})});return i.renderCurveStatically(P,n,s)}var I=vi(0,S),R=I(_),F;if(c){var E="".concat(c).split(/[,\s]+/gim).map(function(M){return parseFloat(M)});F=i.getStrokeDasharray(R,S,E)}else F=i.generateSimpleStrokeDasharray(S,R);return i.renderCurveStatically(l,n,s,{strokeDasharray:F})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,f=c.totalLength;return l&&o&&o.length&&(!d&&f>0||!Up(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,f=s.yAxis,m=s.top,p=s.left,g=s.width,v=s.height,w=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=_r("recharts-line",c),A=d&&d.allowDataOverflow,_=f&&f.allowDataOverflow,O=A||_,P=tn(y)?this.id:y,I=(n=Mr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=I.r,F=R===void 0?3:R,E=I.strokeWidth,M=E===void 0?2:E,H=hee(o)?o:{},V=H.clipDot,G=V===void 0?!0:V,q=F*2+M;return be.createElement(Mn,{className:S},A||_?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(P)},be.createElement("rect",{x:A?p:p-g/2,y:_?m:m-v/2,width:A?g:g*2,height:_?v:v*2})),!G&&be.createElement("clipPath",{id:"clipPath-dots-".concat(P)},be.createElement("rect",{x:p-q/2,y:m-q/2,width:g+q,height:v+q}))):null,!k&&this.renderCurve(O,P),this.renderErrorBar(O,P),(k||o)&&this.renderDots(O,G,P),(!w||N)&&au.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(X0(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(X0(o),X0(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(be.isValidElement(n))i=be.cloneElement(n,s);else if(Gr(n))i=n(s);else{var o=s.key,l=UW(s,eFe),c=_r("recharts-line-dot",typeof n!="boolean"?n.className:"");i=be.createElement(p1,Py({key:o},l,{className:c}))}return i}}])})(b.PureComponent);ed(Ff,"displayName","Line");ed(Ff,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!vm.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});ed(Ff,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,f=e.layout,m=c.map(function(p,g){var v=Bs(p,o);return f==="horizontal"?{x:$5({axis:r,ticks:s,bandSize:l,entry:p,index:g}),y:tn(v)?null:n.scale(v),value:v,payload:p}:{x:tn(v)?null:r.scale(v),y:$5({axis:n,ticks:i,bandSize:l,entry:p,index:g}),value:v,payload:p}});return jl({points:m,layout:f},d)});var hFe=["layout","type","stroke","connectNulls","isRange","ref"],mFe=["key"],hne;function wx(t){"@babel/helpers - typeof";return wx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wx(t)}function mne(t,e){if(t==null)return{};var r=pFe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function pFe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pp(){return pp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pp.apply(this,arguments)}function GW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(r),!0).forEach(function(n){Xd(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function YW(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,gne(n.key),n)}}function xFe(t,e,r){return e&&YW(t.prototype,e),r&&YW(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function bFe(t,e,r){return e=cN(e),yFe(t,pne()?Reflect.construct(e,r||[],cN(t).constructor):e.apply(t,r))}function yFe(t,e){if(e&&(wx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return vFe(t)}function vFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pne=function(){return!!t})()}function cN(t){return cN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},cN(t)}function wFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&LO(t,e)}function LO(t,e){return LO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},LO(t,e)}function Xd(t,e,r){return e=gne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gne(t){var e=jFe(t,"string");return wx(e)=="symbol"?e:e+""}function jFe(t,e){if(wx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $f=(function(t){function e(){var r;gFe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=bFe(this,e,[].concat(s)),Xd(r,"state",{isAnimationFinished:!0}),Xd(r,"id",e0("recharts-area-")),Xd(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Gr(o)&&o()}),Xd(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Gr(o)&&o()}),r}return wFe(e,t),xFe(e,[{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive,l=this.state.isAnimationFinished;if(o&&!l)return null;var c=this.props,d=c.dot,f=c.points,m=c.dataKey,p=Mr(this.props,!1),g=Mr(d,!0),v=f.map(function(y,N){var k=Lh(Lh(Lh({key:"dot-".concat(N),r:3},p),g),{},{index:N,cx:y.x,cy:y.y,dataKey:m,value:y.value,payload:y.payload,points:f});return e.renderDotItem(d,k)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return be.createElement(Mn,pp({className:"recharts-area-dots"},w),v)}},{key:"renderHorizontalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].x,d=o[o.length-1].x,f=n*Math.abs(c-d),m=Vh(o.map(function(p){return p.y||0}));return Qt(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Vh(i.map(function(p){return p.y||0})),m)),Qt(m)?be.createElement("rect",{x:c<d?c:c-f,y:0,width:f,height:Math.floor(m+(l?parseInt("".concat(l),10):1))}):null}},{key:"renderVerticalRect",value:function(n){var s=this.props,i=s.baseLine,o=s.points,l=s.strokeWidth,c=o[0].y,d=o[o.length-1].y,f=n*Math.abs(c-d),m=Vh(o.map(function(p){return p.x||0}));return Qt(i)&&typeof i=="number"?m=Math.max(i,m):i&&Array.isArray(i)&&i.length&&(m=Math.max(Vh(i.map(function(p){return p.x||0})),m)),Qt(m)?be.createElement("rect",{x:0,y:c<d?c:c-f,width:m+(l?parseInt("".concat(l),10):1),height:Math.floor(f)}):null}},{key:"renderClipRect",value:function(n){var s=this.props.layout;return s==="vertical"?this.renderVerticalRect(n):this.renderHorizontalRect(n)}},{key:"renderAreaStatically",value:function(n,s,i,o){var l=this.props,c=l.layout,d=l.type,f=l.stroke,m=l.connectNulls,p=l.isRange;l.ref;var g=mne(l,hFe);return be.createElement(Mn,{clipPath:i?"url(#clipPath-".concat(o,")"):null},be.createElement(Mp,pp({},Mr(g,!0),{points:n,connectNulls:m,type:d,baseLine:s,layout:c,stroke:"none",className:"recharts-area-area"})),f!=="none"&&be.createElement(Mp,pp({},Mr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:n})),f!=="none"&&p&&be.createElement(Mp,pp({},Mr(this.props,!1),{className:"recharts-area-curve",layout:c,type:d,connectNulls:m,fill:"none",points:s})))}},{key:"renderAreaWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.baseLine,d=o.isAnimationActive,f=o.animationBegin,m=o.animationDuration,p=o.animationEasing,g=o.animationId,v=this.state,w=v.prevPoints,y=v.prevBaseLine;return be.createElement(fd,{begin:f,duration:m,isActive:d,easing:p,from:{t:0},to:{t:1},key:"area-".concat(g),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(N){var k=N.t;if(w){var S=w.length/l.length,A=l.map(function(I,R){var F=Math.floor(R*S);if(w[F]){var E=w[F],M=vi(E.x,I.x),H=vi(E.y,I.y);return Lh(Lh({},I),{},{x:M(k),y:H(k)})}return I}),_;if(Qt(c)&&typeof c=="number"){var O=vi(y,c);_=O(k)}else if(tn(c)||Ix(c)){var P=vi(y,0);_=P(k)}else _=c.map(function(I,R){var F=Math.floor(R*S);if(y[F]){var E=y[F],M=vi(E.x,I.x),H=vi(E.y,I.y);return Lh(Lh({},I),{},{x:M(k),y:H(k)})}return I});return i.renderAreaStatically(A,_,n,s)}return be.createElement(Mn,null,be.createElement("defs",null,be.createElement("clipPath",{id:"animationClipPath-".concat(s)},i.renderClipRect(k))),be.createElement(Mn,{clipPath:"url(#animationClipPath-".concat(s,")")},i.renderAreaStatically(l,c,n,s)))})}},{key:"renderArea",value:function(n,s){var i=this.props,o=i.points,l=i.baseLine,c=i.isAnimationActive,d=this.state,f=d.prevPoints,m=d.prevBaseLine,p=d.totalLength;return c&&o&&o.length&&(!f&&p>0||!Up(f,o)||!Up(m,l))?this.renderAreaWithAnimation(n,s):this.renderAreaStatically(o,l,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.top,f=s.left,m=s.xAxis,p=s.yAxis,g=s.width,v=s.height,w=s.isAnimationActive,y=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,k=l.length===1,S=_r("recharts-area",c),A=m&&m.allowDataOverflow,_=p&&p.allowDataOverflow,O=A||_,P=tn(y)?this.id:y,I=(n=Mr(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},R=I.r,F=R===void 0?3:R,E=I.strokeWidth,M=E===void 0?2:E,H=hee(o)?o:{},V=H.clipDot,G=V===void 0?!0:V,q=F*2+M;return be.createElement(Mn,{className:S},A||_?be.createElement("defs",null,be.createElement("clipPath",{id:"clipPath-".concat(P)},be.createElement("rect",{x:A?f:f-g/2,y:_?d:d-v/2,width:A?g:g*2,height:_?v:v*2})),!G&&be.createElement("clipPath",{id:"clipPath-dots-".concat(P)},be.createElement("rect",{x:f-q/2,y:d-q/2,width:g+q,height:v+q}))):null,k?null:this.renderArea(O,P),(o||k)&&this.renderDots(O,G,P),(!w||N)&&au.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,curBaseLine:n.baseLine,prevPoints:s.curPoints,prevBaseLine:s.curBaseLine}:n.points!==s.curPoints||n.baseLine!==s.curBaseLine?{curPoints:n.points,curBaseLine:n.baseLine}:null}}])})(b.PureComponent);hne=$f;Xd($f,"displayName","Area");Xd($f,"defaultProps",{stroke:"#3182bd",fill:"#3182bd",fillOpacity:.6,xAxisId:0,yAxisId:0,legendType:"line",connectNulls:!1,points:[],dot:!1,activeDot:!0,hide:!1,isAnimationActive:!vm.isSsr,animationBegin:0,animationDuration:1500,animationEasing:"ease"});Xd($f,"getBaseValue",function(t,e,r,n){var s=t.layout,i=t.baseValue,o=e.props.baseValue,l=o??i;if(Qt(l)&&typeof l=="number")return l;var c=s==="horizontal"?n:r,d=c.scale.domain();if(c.type==="number"){var f=Math.max(d[0],d[1]),m=Math.min(d[0],d[1]);return l==="dataMin"?m:l==="dataMax"||f<0?f:Math.max(Math.min(d[0],d[1]),0)}return l==="dataMin"?d[0]:l==="dataMax"?d[1]:d[0]});Xd($f,"getComposedData",function(t){var e=t.props,r=t.item,n=t.xAxis,s=t.yAxis,i=t.xAxisTicks,o=t.yAxisTicks,l=t.bandSize,c=t.dataKey,d=t.stackedData,f=t.dataStartIndex,m=t.displayedData,p=t.offset,g=e.layout,v=d&&d.length,w=hne.getBaseValue(e,r,n,s),y=g==="horizontal",N=!1,k=m.map(function(A,_){var O;v?O=d[f+_]:(O=Bs(A,c),Array.isArray(O)?N=!0:O=[w,O]);var P=O[1]==null||v&&Bs(A,c)==null;return y?{x:$5({axis:n,ticks:i,bandSize:l,entry:A,index:_}),y:P?null:s.scale(O[1]),value:O,payload:A}:{x:P?null:n.scale(O[1]),y:$5({axis:s,ticks:o,bandSize:l,entry:A,index:_}),value:O,payload:A}}),S;return v||N?S=k.map(function(A){var _=Array.isArray(A.value)?A.value[0]:null;return y?{x:A.x,y:_!=null&&A.y!=null?s.scale(_):null}:{x:_!=null?n.scale(_):null,y:A.y}}):S=y?s.scale(w):n.scale(w),Lh({points:k,baseLine:S,layout:g,isRange:N},p)});Xd($f,"renderDotItem",function(t,e){var r;if(be.isValidElement(t))r=be.cloneElement(t,e);else if(Gr(t))r=t(e);else{var n=_r("recharts-area-dot",typeof t!="boolean"?t.className:""),s=e.key,i=mne(e,mFe);r=be.createElement(p1,pp({},i,{key:s,className:n}))}return r});function jx(t){"@babel/helpers - typeof";return jx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jx(t)}function NFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function SFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yne(n.key),n)}}function kFe(t,e,r){return e&&SFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function CFe(t,e,r){return e=dN(e),_Fe(t,xne()?Reflect.construct(e,r||[],dN(t).constructor):e.apply(t,r))}function _Fe(t,e){if(e&&(jx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return AFe(t)}function AFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function xne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(xne=function(){return!!t})()}function dN(t){return dN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dN(t)}function TFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&RO(t,e)}function RO(t,e){return RO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},RO(t,e)}function bne(t,e,r){return e=yne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yne(t){var e=MFe(t,"string");return jx(e)=="symbol"?e:e+""}function MFe(t,e){if(jx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function IO(){return IO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},IO.apply(this,arguments)}function OFe(t){var e=t.xAxisId,r=QP(),n=ZP(),s=Zre(e);return s==null?null:b.createElement(zx,IO({},s,{className:_r("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return gf(o,!0)}}))}var Mo=(function(t){function e(){return NFe(this,e),CFe(this,e,arguments)}return TFe(e,t),kFe(e,[{key:"render",value:function(){return b.createElement(OFe,this.props)}}])})(b.Component);bne(Mo,"displayName","XAxis");bne(Mo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nx(t){"@babel/helpers - typeof";return Nx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nx(t)}function EFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function DFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,jne(n.key),n)}}function PFe(t,e,r){return e&&DFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LFe(t,e,r){return e=uN(e),RFe(t,vne()?Reflect.construct(e,r||[],uN(t).constructor):e.apply(t,r))}function RFe(t,e){if(e&&(Nx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return IFe(t)}function IFe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function vne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(vne=function(){return!!t})()}function uN(t){return uN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},uN(t)}function FFe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&FO(t,e)}function FO(t,e){return FO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},FO(t,e)}function wne(t,e,r){return e=jne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jne(t){var e=$Fe(t,"string");return Nx(e)=="symbol"?e:e+""}function $Fe(t,e){if(Nx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$O.apply(this,arguments)}var HFe=function(e){var r=e.yAxisId,n=QP(),s=ZP(),i=ene(r);return i==null?null:b.createElement(zx,$O({},i,{className:_r("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return gf(l,!0)}}))},Oo=(function(t){function e(){return EFe(this,e),LFe(this,e,arguments)}return FFe(e,t),PFe(e,[{key:"render",value:function(){return b.createElement(HFe,this.props)}}])})(b.Component);wne(Oo,"displayName","YAxis");wne(Oo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function KW(t){return UFe(t)||qFe(t)||zFe(t)||BFe()}function BFe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function zFe(t,e){if(t){if(typeof t=="string")return HO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HO(t,e)}}function qFe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UFe(t){if(Array.isArray(t))return HO(t)}function HO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var BO=function(e,r,n,s,i){var o=Dl(e,tL),l=Dl(e,ES),c=[].concat(KW(o),KW(l)),d=Dl(e,PS),f="".concat(s,"Id"),m=s[0],p=r;if(c.length&&(p=c.reduce(function(w,y){if(y.props[f]===n&&su(y.props,"extendDomain")&&Qt(y.props[m])){var N=y.props[m];return[Math.min(w[0],N),Math.max(w[1],N)]}return w},p)),d.length){var g="".concat(m,"1"),v="".concat(m,"2");p=d.reduce(function(w,y){if(y.props[f]===n&&su(y.props,"extendDomain")&&Qt(y.props[g])&&Qt(y.props[v])){var N=y.props[g],k=y.props[v];return[Math.min(w[0],N,k),Math.max(w[1],N,k)]}return w},p)}return i&&i.length&&(p=i.reduce(function(w,y){return Qt(y)?[Math.min(w[0],y),Math.max(w[1],y)]:w},p)),p},wT={exports:{}},JW;function WFe(){return JW||(JW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function i(c,d,f,m,p){if(typeof f!="function")throw new TypeError("The listener must be a function");var g=new s(f,m||c,p),v=r?r+d:d;return c._events[v]?c._events[v].fn?c._events[v]=[c._events[v],g]:c._events[v].push(g):(c._events[v]=g,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],f,m;if(this._eventsCount===0)return d;for(m in f=this._events)e.call(f,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},l.prototype.listeners=function(d){var f=r?r+d:d,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var p=0,g=m.length,v=new Array(g);p<g;p++)v[p]=m[p].fn;return v},l.prototype.listenerCount=function(d){var f=r?r+d:d,m=this._events[f];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,f,m,p,g,v){var w=r?r+d:d;if(!this._events[w])return!1;var y=this._events[w],N=arguments.length,k,S;if(y.fn){switch(y.once&&this.removeListener(d,y.fn,void 0,!0),N){case 1:return y.fn.call(y.context),!0;case 2:return y.fn.call(y.context,f),!0;case 3:return y.fn.call(y.context,f,m),!0;case 4:return y.fn.call(y.context,f,m,p),!0;case 5:return y.fn.call(y.context,f,m,p,g),!0;case 6:return y.fn.call(y.context,f,m,p,g,v),!0}for(S=1,k=new Array(N-1);S<N;S++)k[S-1]=arguments[S];y.fn.apply(y.context,k)}else{var A=y.length,_;for(S=0;S<A;S++)switch(y[S].once&&this.removeListener(d,y[S].fn,void 0,!0),N){case 1:y[S].fn.call(y[S].context);break;case 2:y[S].fn.call(y[S].context,f);break;case 3:y[S].fn.call(y[S].context,f,m);break;case 4:y[S].fn.call(y[S].context,f,m,p);break;default:if(!k)for(_=1,k=new Array(N-1);_<N;_++)k[_-1]=arguments[_];y[S].fn.apply(y[S].context,k)}}return!0},l.prototype.on=function(d,f,m){return i(this,d,f,m,!1)},l.prototype.once=function(d,f,m){return i(this,d,f,m,!0)},l.prototype.removeListener=function(d,f,m,p){var g=r?r+d:d;if(!this._events[g])return this;if(!f)return o(this,g),this;var v=this._events[g];if(v.fn)v.fn===f&&(!p||v.once)&&(!m||v.context===m)&&o(this,g);else{for(var w=0,y=[],N=v.length;w<N;w++)(v[w].fn!==f||p&&!v[w].once||m&&v[w].context!==m)&&y.push(v[w]);y.length?this._events[g]=y.length===1?y[0]:y:o(this,g)}return this},l.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&o(this,f)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(wT)),wT.exports}var VFe=WFe();const GFe=Yn(VFe);var jT=new GFe,NT="recharts.syncMouseEvents";function Bv(t){"@babel/helpers - typeof";return Bv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Bv(t)}function YFe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KFe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,Nne(n.key),n)}}function JFe(t,e,r){return e&&KFe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ST(t,e,r){return e=Nne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Nne(t){var e=XFe(t,"string");return Bv(e)=="symbol"?e:e+""}function XFe(t,e){if(Bv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Bv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var QFe=(function(){function t(){YFe(this,t),ST(this,"activeIndex",0),ST(this,"coordinateList",[]),ST(this,"layout","horizontal")}return JFe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,f=r.offset,m=f===void 0?null:f,p=r.mouseHandlerCallback,g=p===void 0?null:p;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=g??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,f=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+d,p=o+this.offset.top+l/2+f;this.mouseHandlerCallback({pageX:m,pageY:p})}}}])})();function ZFe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&Qt(n)&&Qt(s))return!0}return!1}function e$e(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function Sne(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=Fa(e,r,n,s),l=Fa(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function t$e(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,f=e.outerRadius,m=e.angle,p=Fa(l,c,d,m),g=Fa(l,c,f,m);n=p.x,s=p.y,i=g.x,o=g.y}else return Sne(e);return[{x:n,y:s},{x:i,y:o}]}function zv(t){"@babel/helpers - typeof";return zv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},zv(t)}function XW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function t2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XW(Object(r),!0).forEach(function(n){r$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function r$e(t,e,r){return e=n$e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function n$e(t){var e=a$e(t,"string");return zv(e)=="symbol"?e:e+""}function a$e(t,e){if(zv(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(zv(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function s$e(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,f=t.tooltipAxisBandSize,m=t.layout,p=t.chartName,g=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!g||!i||!o||p!=="ScatterChart"&&s!=="axis")return null;var v,w=Mp;if(p==="ScatterChart")v=o,w=x7e;else if(p==="BarChart")v=e$e(m,o,c,f),w=GP;else if(m==="radial"){var y=Sne(o),N=y.cx,k=y.cy,S=y.radius,A=y.startAngle,_=y.endAngle;v={cx:N,cy:k,startAngle:A,endAngle:_,innerRadius:S,outerRadius:S},w=jre}else v={points:t$e(m,o,c)},w=Mp;var O=t2(t2(t2(t2({stroke:"#ccc",pointerEvents:"none"},c),v),Mr(g,!1)),{},{payload:l,payloadIndex:d,className:_r("recharts-tooltip-cursor",g.className)});return b.isValidElement(g)?b.cloneElement(g,O):b.createElement(w,O)}var i$e=["item"],o$e=["children","className","width","height","style","compact","title","desc"];function Sx(t){"@babel/helpers - typeof";return Sx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sx(t)}function bg(){return bg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bg.apply(this,arguments)}function QW(t,e){return d$e(t)||c$e(t,e)||Cne(t,e)||l$e()}function l$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c$e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(f){d=!0,s=f}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function d$e(t){if(Array.isArray(t))return t}function ZW(t,e){if(t==null)return{};var r=u$e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function u$e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function f$e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h$e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ne(n.key),n)}}function m$e(t,e,r){return e&&h$e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function p$e(t,e,r){return e=fN(e),g$e(t,kne()?Reflect.construct(e,r||[],fN(t).constructor):e.apply(t,r))}function g$e(t,e){if(e&&(Sx(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return x$e(t)}function x$e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function kne(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(kne=function(){return!!t})()}function fN(t){return fN=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},fN(t)}function b$e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zO(t,e)}function zO(t,e){return zO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zO(t,e)}function kx(t){return w$e(t)||v$e(t)||Cne(t)||y$e()}function y$e(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Cne(t,e){if(t){if(typeof t=="string")return qO(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qO(t,e)}}function v$e(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function w$e(t){if(Array.isArray(t))return qO(t)}function qO(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function eV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Et(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eV(Object(r),!0).forEach(function(n){Vr(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Vr(t,e,r){return e=_ne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _ne(t){var e=j$e(t,"string");return Sx(e)=="symbol"?e:e+""}function j$e(t,e){if(Sx(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sx(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var N$e={xAxis:["bottom","top"],yAxis:["left","right"]},S$e={width:"100%",height:"100%"},Ane={x:0,y:0};function r2(t){return t}var k$e=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},C$e=function(e,r,n,s){var i=r.find(function(f){return f&&f.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Et(Et(Et({},s),Fa(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Et(Et(Et({},s),Fa(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return Ane},LS=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(kx(l),kx(d)):l},[]);return o.length>0?o:e&&e.length&&Qt(s)&&Qt(i)?e.slice(s,i+1):[]};function Tne(t){return t==="number"?[0,"auto"]:void 0}var UO=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=LS(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var f,m=(f=d.props.data)!==null&&f!==void 0?f:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var p;if(o.dataKey&&!o.allowDuplicatedCategory){var g=m===void 0?l:m;p=m5(g,o.dataKey,s)}else p=m&&m[n]||l[n];return p?[].concat(kx(c),[gre(d,p)]):c},[])},tV=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=k$e(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,f=BDe(o,l,d,c);if(f>=0&&d){var m=d[f]&&d[f].value,p=UO(e,r,f,m),g=C$e(n,l,f,i);return{activeTooltipIndex:f,activeLabel:m,activePayload:p,activeCoordinate:g}}return null},_$e=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=e.stackOffset,g=dre(f,i);return n.reduce(function(v,w){var y,N=w.type.defaultProps!==void 0?Et(Et({},w.type.defaultProps),w.props):w.props,k=N.type,S=N.dataKey,A=N.allowDataOverflow,_=N.allowDuplicatedCategory,O=N.scale,P=N.ticks,I=N.includeHidden,R=N[o];if(v[R])return v;var F=LS(e.data,{graphicalItems:s.filter(function(W){var J,Z=o in W.props?W.props[o]:(J=W.type.defaultProps)===null||J===void 0?void 0:J[o];return Z===R}),dataStartIndex:c,dataEndIndex:d}),E=F.length,M,H,V;ZFe(N.domain,A,k)&&(M=nO(N.domain,null,A),g&&(k==="number"||O!=="auto")&&(V=My(F,S,"category")));var G=Tne(k);if(!M||M.length===0){var q,B=(q=N.domain)!==null&&q!==void 0?q:G;if(S){if(M=My(F,S,k),k==="category"&&g){var z=L3e(M);_&&z?(H=M,M=Q5(0,E)):_||(M=Qq(B,M,w).reduce(function(W,J){return W.indexOf(J)>=0?W:[].concat(kx(W),[J])},[]))}else if(k==="category")_?M=M.filter(function(W){return W!==""&&!tn(W)}):M=Qq(B,M,w).reduce(function(W,J){return W.indexOf(J)>=0||J===""||tn(J)?W:[].concat(kx(W),[J])},[]);else if(k==="number"){var X=VDe(F,s.filter(function(W){var J,Z,ie=o in W.props?W.props[o]:(J=W.type.defaultProps)===null||J===void 0?void 0:J[o],ue="hide"in W.props?W.props.hide:(Z=W.type.defaultProps)===null||Z===void 0?void 0:Z.hide;return ie===R&&(I||!ue)}),S,i,f);X&&(M=X)}g&&(k==="number"||O!=="auto")&&(V=My(F,S,"category"))}else g?M=Q5(0,E):l&&l[R]&&l[R].hasStack&&k==="number"?M=p==="expand"?[0,1]:pre(l[R].stackGroups,c,d):M=cre(F,s.filter(function(W){var J=o in W.props?W.props[o]:W.type.defaultProps[o],Z="hide"in W.props?W.props.hide:W.type.defaultProps.hide;return J===R&&(I||!Z)}),k,f,!0);if(k==="number")M=BO(m,M,R,i,P),B&&(M=nO(B,M,A));else if(k==="category"&&B){var ee=B,K=M.every(function(W){return ee.indexOf(W)>=0});K&&(M=ee)}}return Et(Et({},v),{},Vr({},R,Et(Et({},N),{},{axisType:i,domain:M,categoricalDomain:V,duplicateDomain:H,originalDomain:(y=N.domain)!==null&&y!==void 0?y:G,isCategorical:g,layout:f})))},{})},A$e=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.layout,m=e.children,p=LS(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),g=p.length,v=dre(f,i),w=-1;return n.reduce(function(y,N){var k=N.type.defaultProps!==void 0?Et(Et({},N.type.defaultProps),N.props):N.props,S=k[o],A=Tne("number");if(!y[S]){w++;var _;return v?_=Q5(0,g):l&&l[S]&&l[S].hasStack?(_=pre(l[S].stackGroups,c,d),_=BO(m,_,S,i)):(_=nO(A,cre(p,n.filter(function(O){var P,I,R=o in O.props?O.props[o]:(P=O.type.defaultProps)===null||P===void 0?void 0:P[o],F="hide"in O.props?O.props.hide:(I=O.type.defaultProps)===null||I===void 0?void 0:I.hide;return R===S&&!F}),"number",f),s.defaultProps.allowDataOverflow),_=BO(m,_,S,i)),Et(Et({},y),{},Vr({},S,Et(Et({axisType:i},s.defaultProps),{},{hide:!0,orientation:El(N$e,"".concat(i,".").concat(w%2),null),domain:_,originalDomain:A,isCategorical:v,layout:f})))}return y},{})},T$e=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,f=e.children,m="".concat(s,"Id"),p=Dl(f,i),g={};return p&&p.length?g=_$e(e,{axes:p,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(g=A$e(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),g},M$e=function(e){var r=zh(e),n=gf(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:vP(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:H5(r,n)}},rV=function(e){var r=e.children,n=e.defaultShowTooltip,s=Sl(r,mx),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},O$e=function(e){return!e||!e.length?!1:e.some(function(r){var n=_f(r&&r.type);return n&&n.indexOf("Bar")>=0})},nV=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},E$e=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,f=n.height,m=n.children,p=n.margin||{},g=Sl(m,mx),v=Sl(m,Af),w=Object.keys(c).reduce(function(_,O){var P=c[O],I=P.orientation;return!P.mirror&&!P.hide?Et(Et({},_),{},Vr({},I,_[I]+P.width)):_},{left:p.left||0,right:p.right||0}),y=Object.keys(o).reduce(function(_,O){var P=o[O],I=P.orientation;return!P.mirror&&!P.hide?Et(Et({},_),{},Vr({},I,El(_,"".concat(I))+P.height)):_},{top:p.top||0,bottom:p.bottom||0}),N=Et(Et({},y),w),k=N.bottom;g&&(N.bottom+=g.props.height||mx.defaultProps.height),v&&r&&(N=UDe(N,s,n,r));var S=d-N.left-N.right,A=f-N.top-N.bottom;return Et(Et({brushBottom:k},N),{},{width:Math.max(S,0),height:Math.max(A,0)})},D$e=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},RS=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,f=e.formatAxisMap,m=e.defaultProps,p=function(N,k){var S=k.graphicalItems,A=k.stackGroups,_=k.offset,O=k.updateId,P=k.dataStartIndex,I=k.dataEndIndex,R=N.barSize,F=N.layout,E=N.barGap,M=N.barCategoryGap,H=N.maxBarSize,V=nV(F),G=V.numericAxisName,q=V.cateAxisName,B=O$e(S),z=[];return S.forEach(function(X,ee){var K=LS(N.data,{graphicalItems:[X],dataStartIndex:P,dataEndIndex:I}),W=X.type.defaultProps!==void 0?Et(Et({},X.type.defaultProps),X.props):X.props,J=W.dataKey,Z=W.maxBarSize,ie=W["".concat(G,"Id")],ue=W["".concat(q,"Id")],je={},ce=c.reduce(function(gt,Rt){var He=k["".concat(Rt.axisType,"Map")],he=W["".concat(Rt.axisType,"Id")];He&&He[he]||Rt.axisType==="zAxis"||Vp();var Qe=He[he];return Et(Et({},gt),{},Vr(Vr({},Rt.axisType,Qe),"".concat(Rt.axisType,"Ticks"),gf(Qe)))},je),le=ce[q],pe=ce["".concat(q,"Ticks")],$e=A&&A[ie]&&A[ie].hasStack&&tPe(X,A[ie].stackGroups),de=_f(X.type).indexOf("Bar")>=0,Se=H5(le,pe),te=[],se=B&&zDe({barSize:R,stackGroups:A,totalSize:D$e(ce,q)});if(de){var ut,dt,De=tn(Z)?H:Z,rt=(ut=(dt=H5(le,pe,!0))!==null&&dt!==void 0?dt:De)!==null&&ut!==void 0?ut:0;te=qDe({barGap:E,barCategoryGap:M,bandSize:rt!==Se?rt:Se,sizeList:se[ue],maxBarSize:De}),rt!==Se&&(te=te.map(function(gt){return Et(Et({},gt),{},{position:Et(Et({},gt.position),{},{offset:gt.position.offset-rt/2})})}))}var wt=X&&X.type&&X.type.getComposedData;wt&&z.push({props:Et(Et({},wt(Et(Et({},ce),{},{displayedData:K,props:N,dataKey:J,item:X,bandSize:Se,barPosition:te,offset:_,stackedData:$e,layout:F,dataStartIndex:P,dataEndIndex:I}))),{},Vr(Vr(Vr({key:X.key||"item-".concat(ee)},G,ce[G]),q,ce[q]),"animationId",O)),childIndex:G3e(X,N.children),item:X})}),z},g=function(N,k){var S=N.props,A=N.dataStartIndex,_=N.dataEndIndex,O=N.updateId;if(!hH({props:S}))return null;var P=S.children,I=S.layout,R=S.stackOffset,F=S.data,E=S.reverseStackOrder,M=nV(I),H=M.numericAxisName,V=M.cateAxisName,G=Dl(P,n),q=ZDe(F,G,"".concat(H,"Id"),"".concat(V,"Id"),R,E),B=c.reduce(function(W,J){var Z="".concat(J.axisType,"Map");return Et(Et({},W),{},Vr({},Z,T$e(S,Et(Et({},J),{},{graphicalItems:G,stackGroups:J.axisType===H&&q,dataStartIndex:A,dataEndIndex:_}))))},{}),z=E$e(Et(Et({},B),{},{props:S,graphicalItems:G}),k==null?void 0:k.legendBBox);Object.keys(B).forEach(function(W){B[W]=f(S,B[W],z,W.replace("Map",""),r)});var X=B["".concat(V,"Map")],ee=M$e(X),K=p(S,Et(Et({},B),{},{dataStartIndex:A,dataEndIndex:_,updateId:O,graphicalItems:G,stackGroups:q,offset:z}));return Et(Et({formattedGraphicalItems:K,graphicalItems:G,offset:z,stackGroups:q},ee),B)},v=(function(y){function N(k){var S,A,_;return f$e(this,N),_=p$e(this,N,[k]),Vr(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Vr(_,"accessibilityManager",new QFe),Vr(_,"handleLegendBBoxUpdate",function(O){if(O){var P=_.state,I=P.dataStartIndex,R=P.dataEndIndex,F=P.updateId;_.setState(Et({legendBBox:O},g({props:_.props,dataStartIndex:I,dataEndIndex:R,updateId:F},Et(Et({},_.state),{},{legendBBox:O}))))}}),Vr(_,"handleReceiveSyncEvent",function(O,P,I){if(_.props.syncId===O){if(I===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(P)}}),Vr(_,"handleBrushChange",function(O){var P=O.startIndex,I=O.endIndex;if(P!==_.state.dataStartIndex||I!==_.state.dataEndIndex){var R=_.state.updateId;_.setState(function(){return Et({dataStartIndex:P,dataEndIndex:I},g({props:_.props,dataStartIndex:P,dataEndIndex:I,updateId:R},_.state))}),_.triggerSyncEvent({dataStartIndex:P,dataEndIndex:I})}}),Vr(_,"handleMouseEnter",function(O){var P=_.getMouseInfo(O);if(P){var I=Et(Et({},P),{},{isTooltipActive:!0});_.setState(I),_.triggerSyncEvent(I);var R=_.props.onMouseEnter;Gr(R)&&R(I,O)}}),Vr(_,"triggeredAfterMouseMove",function(O){var P=_.getMouseInfo(O),I=P?Et(Et({},P),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(I),_.triggerSyncEvent(I);var R=_.props.onMouseMove;Gr(R)&&R(I,O)}),Vr(_,"handleItemMouseEnter",function(O){_.setState(function(){return{isTooltipActive:!0,activeItem:O,activePayload:O.tooltipPayload,activeCoordinate:O.tooltipPosition||{x:O.cx,y:O.cy}}})}),Vr(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Vr(_,"handleMouseMove",function(O){O.persist(),_.throttleTriggeredAfterMouseMove(O)}),Vr(_,"handleMouseLeave",function(O){_.throttleTriggeredAfterMouseMove.cancel();var P={isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var I=_.props.onMouseLeave;Gr(I)&&I(P,O)}),Vr(_,"handleOuterEvent",function(O){var P=V3e(O),I=El(_.props,"".concat(P));if(P&&Gr(I)){var R,F;/.*touch.*/i.test(P)?F=_.getMouseInfo(O.changedTouches[0]):F=_.getMouseInfo(O),I((R=F)!==null&&R!==void 0?R:{},O)}}),Vr(_,"handleClick",function(O){var P=_.getMouseInfo(O);if(P){var I=Et(Et({},P),{},{isTooltipActive:!0});_.setState(I),_.triggerSyncEvent(I);var R=_.props.onClick;Gr(R)&&R(I,O)}}),Vr(_,"handleMouseDown",function(O){var P=_.props.onMouseDown;if(Gr(P)){var I=_.getMouseInfo(O);P(I,O)}}),Vr(_,"handleMouseUp",function(O){var P=_.props.onMouseUp;if(Gr(P)){var I=_.getMouseInfo(O);P(I,O)}}),Vr(_,"handleTouchMove",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(O.changedTouches[0])}),Vr(_,"handleTouchStart",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseDown(O.changedTouches[0])}),Vr(_,"handleTouchEnd",function(O){O.changedTouches!=null&&O.changedTouches.length>0&&_.handleMouseUp(O.changedTouches[0])}),Vr(_,"handleDoubleClick",function(O){var P=_.props.onDoubleClick;if(Gr(P)){var I=_.getMouseInfo(O);P(I,O)}}),Vr(_,"handleContextMenu",function(O){var P=_.props.onContextMenu;if(Gr(P)){var I=_.getMouseInfo(O);P(I,O)}}),Vr(_,"triggerSyncEvent",function(O){_.props.syncId!==void 0&&jT.emit(NT,_.props.syncId,O,_.eventEmitterSymbol)}),Vr(_,"applySyncEvent",function(O){var P=_.props,I=P.layout,R=P.syncMethod,F=_.state.updateId,E=O.dataStartIndex,M=O.dataEndIndex;if(O.dataStartIndex!==void 0||O.dataEndIndex!==void 0)_.setState(Et({dataStartIndex:E,dataEndIndex:M},g({props:_.props,dataStartIndex:E,dataEndIndex:M,updateId:F},_.state)));else if(O.activeTooltipIndex!==void 0){var H=O.chartX,V=O.chartY,G=O.activeTooltipIndex,q=_.state,B=q.offset,z=q.tooltipTicks;if(!B)return;if(typeof R=="function")G=R(z,O);else if(R==="value"){G=-1;for(var X=0;X<z.length;X++)if(z[X].value===O.activeLabel){G=X;break}}var ee=Et(Et({},B),{},{x:B.left,y:B.top}),K=Math.min(H,ee.x+ee.width),W=Math.min(V,ee.y+ee.height),J=z[G]&&z[G].value,Z=UO(_.state,_.props.data,G),ie=z[G]?{x:I==="horizontal"?z[G].coordinate:K,y:I==="horizontal"?W:z[G].coordinate}:Ane;_.setState(Et(Et({},O),{},{activeLabel:J,activeCoordinate:ie,activePayload:Z,activeTooltipIndex:G}))}else _.setState(O)}),Vr(_,"renderCursor",function(O){var P,I=_.state,R=I.isTooltipActive,F=I.activeCoordinate,E=I.activePayload,M=I.offset,H=I.activeTooltipIndex,V=I.tooltipAxisBandSize,G=_.getTooltipEventType(),q=(P=O.props.active)!==null&&P!==void 0?P:R,B=_.props.layout,z=O.key||"_recharts-cursor";return be.createElement(s$e,{key:z,activeCoordinate:F,activePayload:E,activeTooltipIndex:H,chartName:r,element:O,isActive:q,layout:B,offset:M,tooltipAxisBandSize:V,tooltipEventType:G})}),Vr(_,"renderPolarAxis",function(O,P,I){var R=El(O,"type.axisType"),F=El(_.state,"".concat(R,"Map")),E=O.type.defaultProps,M=E!==void 0?Et(Et({},E),O.props):O.props,H=F&&F[M["".concat(R,"Id")]];return b.cloneElement(O,Et(Et({},H),{},{className:_r(R,H.className),key:O.key||"".concat(P,"-").concat(I),ticks:gf(H,!0)}))}),Vr(_,"renderPolarGrid",function(O){var P=O.props,I=P.radialLines,R=P.polarAngles,F=P.polarRadius,E=_.state,M=E.radiusAxisMap,H=E.angleAxisMap,V=zh(M),G=zh(H),q=G.cx,B=G.cy,z=G.innerRadius,X=G.outerRadius;return b.cloneElement(O,{polarAngles:Array.isArray(R)?R:gf(G,!0).map(function(ee){return ee.coordinate}),polarRadius:Array.isArray(F)?F:gf(V,!0).map(function(ee){return ee.coordinate}),cx:q,cy:B,innerRadius:z,outerRadius:X,key:O.key||"polar-grid",radialLines:I})}),Vr(_,"renderLegend",function(){var O=_.state.formattedGraphicalItems,P=_.props,I=P.children,R=P.width,F=P.height,E=_.props.margin||{},M=R-(E.left||0)-(E.right||0),H=ore({children:I,formattedGraphicalItems:O,legendWidth:M,legendContent:d});if(!H)return null;var V=H.item,G=ZW(H,i$e);return b.cloneElement(V,Et(Et({},G),{},{chartWidth:R,chartHeight:F,margin:E,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Vr(_,"renderTooltip",function(){var O,P=_.props,I=P.children,R=P.accessibilityLayer,F=Sl(I,Ts);if(!F)return null;var E=_.state,M=E.isTooltipActive,H=E.activeCoordinate,V=E.activePayload,G=E.activeLabel,q=E.offset,B=(O=F.props.active)!==null&&O!==void 0?O:M;return b.cloneElement(F,{viewBox:Et(Et({},q),{},{x:q.left,y:q.top}),active:B,label:G,payload:B?V:[],coordinate:H,accessibilityLayer:R})}),Vr(_,"renderBrush",function(O){var P=_.props,I=P.margin,R=P.data,F=_.state,E=F.offset,M=F.dataStartIndex,H=F.dataEndIndex,V=F.updateId;return b.cloneElement(O,{key:O.key||"_recharts-brush",onChange:Xw(_.handleBrushChange,O.props.onChange),data:R,x:Qt(O.props.x)?O.props.x:E.left,y:Qt(O.props.y)?O.props.y:E.top+E.height+E.brushBottom-(I.bottom||0),width:Qt(O.props.width)?O.props.width:E.width,startIndex:M,endIndex:H,updateId:"brush-".concat(V)})}),Vr(_,"renderReferenceElement",function(O,P,I){if(!O)return null;var R=_,F=R.clipPathId,E=_.state,M=E.xAxisMap,H=E.yAxisMap,V=E.offset,G=O.type.defaultProps||{},q=O.props,B=q.xAxisId,z=B===void 0?G.xAxisId:B,X=q.yAxisId,ee=X===void 0?G.yAxisId:X;return b.cloneElement(O,{key:O.key||"".concat(P,"-").concat(I),xAxis:M[z],yAxis:H[ee],viewBox:{x:V.left,y:V.top,width:V.width,height:V.height},clipPathId:F})}),Vr(_,"renderActivePoints",function(O){var P=O.item,I=O.activePoint,R=O.basePoint,F=O.childIndex,E=O.isRange,M=[],H=P.props.key,V=P.item.type.defaultProps!==void 0?Et(Et({},P.item.type.defaultProps),P.item.props):P.item.props,G=V.activeDot,q=V.dataKey,B=Et(Et({index:F,dataKey:q,cx:I.x,cy:I.y,r:4,fill:VP(P.item),strokeWidth:2,stroke:"#fff",payload:I.payload,value:I.value},Mr(G,!1)),p5(G));return M.push(N.renderActiveDot(G,B,"".concat(H,"-activePoint-").concat(F))),R?M.push(N.renderActiveDot(G,Et(Et({},B),{},{cx:R.x,cy:R.y}),"".concat(H,"-basePoint-").concat(F))):E&&M.push(null),M}),Vr(_,"renderGraphicChild",function(O,P,I){var R=_.filterFormatItem(O,P,I);if(!R)return null;var F=_.getTooltipEventType(),E=_.state,M=E.isTooltipActive,H=E.tooltipAxis,V=E.activeTooltipIndex,G=E.activeLabel,q=_.props.children,B=Sl(q,Ts),z=R.props,X=z.points,ee=z.isRange,K=z.baseLine,W=R.item.type.defaultProps!==void 0?Et(Et({},R.item.type.defaultProps),R.item.props):R.item.props,J=W.activeDot,Z=W.hide,ie=W.activeBar,ue=W.activeShape,je=!!(!Z&&M&&B&&(J||ie||ue)),ce={};F!=="axis"&&B&&B.props.trigger==="click"?ce={onClick:Xw(_.handleItemMouseEnter,O.props.onClick)}:F!=="axis"&&(ce={onMouseLeave:Xw(_.handleItemMouseLeave,O.props.onMouseLeave),onMouseEnter:Xw(_.handleItemMouseEnter,O.props.onMouseEnter)});var le=b.cloneElement(O,Et(Et({},R.props),ce));function pe(Rt){return typeof H.dataKey=="function"?H.dataKey(Rt.payload):null}if(je)if(V>=0){var $e,de;if(H.dataKey&&!H.allowDuplicatedCategory){var Se=typeof H.dataKey=="function"?pe:"payload.".concat(H.dataKey.toString());$e=m5(X,Se,G),de=ee&&K&&m5(K,Se,G)}else $e=X==null?void 0:X[V],de=ee&&K&&K[V];if(ue||ie){var te=O.props.activeIndex!==void 0?O.props.activeIndex:V;return[b.cloneElement(O,Et(Et(Et({},R.props),ce),{},{activeIndex:te})),null,null]}if(!tn($e))return[le].concat(kx(_.renderActivePoints({item:R,activePoint:$e,basePoint:de,childIndex:V,isRange:ee})))}else{var se,ut=(se=_.getItemByXY(_.state.activeCoordinate))!==null&&se!==void 0?se:{graphicalItem:le},dt=ut.graphicalItem,De=dt.item,rt=De===void 0?O:De,wt=dt.childIndex,gt=Et(Et(Et({},R.props),ce),{},{activeIndex:wt});return[b.cloneElement(rt,gt),null,null]}return ee?[le,null,null]:[le,null]}),Vr(_,"renderCustomized",function(O,P,I){return b.cloneElement(O,Et(Et({key:"recharts-customized-".concat(I)},_.props),_.state))}),Vr(_,"renderMap",{CartesianGrid:{handler:r2,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:r2},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:r2},YAxis:{handler:r2},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=k.id)!==null&&S!==void 0?S:e0("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=ite(_.triggeredAfterMouseMove,(A=k.throttleDelay)!==null&&A!==void 0?A:1e3/60),_.state={},_}return b$e(N,y),m$e(N,[{key:"componentDidMount",value:function(){var S,A;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,A=S.children,_=S.data,O=S.height,P=S.layout,I=Sl(A,Ts);if(I){var R=I.props.defaultIndex;if(!(typeof R!="number"||R<0||R>this.state.tooltipTicks.length-1)){var F=this.state.tooltipTicks[R]&&this.state.tooltipTicks[R].value,E=UO(this.state,_,R,F),M=this.state.tooltipTicks[R].coordinate,H=(this.state.offset.top+O)/2,V=P==="horizontal",G=V?{x:M,y:H}:{y:M,x:H},q=this.state.formattedGraphicalItems.find(function(z){var X=z.item;return X.type.name==="Scatter"});q&&(G=Et(Et({},G),q.props.points[R].tooltipPosition),E=q.props.points[R].tooltipPayload);var B={activeTooltipIndex:R,isTooltipActive:!0,activeLabel:F,activePayload:E,activeCoordinate:G};this.setState(B),this.renderCursor(I),this.accessibilityManager.setIndex(R)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,A){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==A.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,O;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0}})}return null}},{key:"componentDidUpdate",value:function(S){kM([Sl(S.children,Ts)],[Sl(this.props.children,Ts)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Sl(this.props.children,Ts);if(S&&typeof S.props.shared=="boolean"){var A=S.props.shared?"axis":"item";return l.indexOf(A)>=0?A:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var A=this.container,_=A.getBoundingClientRect(),O=D6e(_),P={chartX:Math.round(S.pageX-O.left),chartY:Math.round(S.pageY-O.top)},I=_.width/A.offsetWidth||1,R=this.inRange(P.chartX,P.chartY,I);if(!R)return null;var F=this.state,E=F.xAxisMap,M=F.yAxisMap,H=this.getTooltipEventType(),V=tV(this.state,this.props.data,this.props.layout,R);if(H!=="axis"&&E&&M){var G=zh(E).scale,q=zh(M).scale,B=G&&G.invert?G.invert(P.chartX):null,z=q&&q.invert?q.invert(P.chartY):null;return Et(Et({},P),{},{xValue:B,yValue:z},V)}return V?Et(Et({},P),V):null}},{key:"inRange",value:function(S,A){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,O=this.props.layout,P=S/_,I=A/_;if(O==="horizontal"||O==="vertical"){var R=this.state.offset,F=P>=R.left&&P<=R.left+R.width&&I>=R.top&&I<=R.top+R.height;return F?{x:P,y:I}:null}var E=this.state,M=E.angleAxisMap,H=E.radiusAxisMap;if(M&&H){var V=zh(M);return tU({x:P,y:I},V)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,A=this.getTooltipEventType(),_=Sl(S,Ts),O={};_&&A==="axis"&&(_.props.trigger==="click"?O={onClick:this.handleClick}:O={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var P=p5(this.props,this.handleOuterEvent);return Et(Et({},P),O)}},{key:"addListener",value:function(){jT.on(NT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){jT.removeListener(NT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,A,_){for(var O=this.state.formattedGraphicalItems,P=0,I=O.length;P<I;P++){var R=O[P];if(R.item===S||R.props.key===S.key||A===_f(R.item.type)&&_===R.childIndex)return R}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,A=this.state.offset,_=A.left,O=A.top,P=A.height,I=A.width;return be.createElement("defs",null,be.createElement("clipPath",{id:S},be.createElement("rect",{x:_,y:O,height:P,width:I})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(A,_){var O=QW(_,2),P=O[0],I=O[1];return Et(Et({},A),{},Vr({},P,I.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(A,_){var O=QW(_,2),P=O[0],I=O[1];return Et(Et({},A),{},Vr({},P,I.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var A;return(A=this.state.xAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getYScaleByAxisId",value:function(S){var A;return(A=this.state.yAxisMap)===null||A===void 0||(A=A[S])===null||A===void 0?void 0:A.scale}},{key:"getItemByXY",value:function(S){var A=this.state,_=A.formattedGraphicalItems,O=A.activeItem;if(_&&_.length)for(var P=0,I=_.length;P<I;P++){var R=_[P],F=R.props,E=R.item,M=E.type.defaultProps!==void 0?Et(Et({},E.type.defaultProps),E.props):E.props,H=_f(E.type);if(H==="Bar"){var V=(F.data||[]).find(function(z){return X8e(S,z)});if(V)return{graphicalItem:R,payload:V}}else if(H==="RadialBar"){var G=(F.data||[]).find(function(z){return tU(S,z)});if(G)return{graphicalItem:R,payload:G}}else if(AS(R,O)||TS(R,O)||Rv(R,O)){var q=vRe({graphicalItem:R,activeTooltipItem:O,itemData:M.data}),B=M.activeIndex===void 0?q:M.activeIndex;return{graphicalItem:Et(Et({},R),{},{childIndex:B}),payload:Rv(R,O)?M.data[q]:R.props.data[q]}}}return null}},{key:"render",value:function(){var S=this;if(!hH(this))return null;var A=this.props,_=A.children,O=A.className,P=A.width,I=A.height,R=A.style,F=A.compact,E=A.title,M=A.desc,H=ZW(A,o$e),V=Mr(H,!1);if(F)return be.createElement(OW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement(_M,bg({},V,{width:P,height:I,title:E,desc:M}),this.renderClipPath(),pH(_,this.renderMap)));if(this.props.accessibilityLayer){var G,q;V.tabIndex=(G=this.props.tabIndex)!==null&&G!==void 0?G:0,V.role=(q=this.props.role)!==null&&q!==void 0?q:"application",V.onKeyDown=function(z){S.accessibilityManager.keyboardEvent(z)},V.onFocus=function(){S.accessibilityManager.focus()}}var B=this.parseEventsOfWrapper();return be.createElement(OW,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},be.createElement("div",bg({className:_r("recharts-wrapper",O),style:Et({position:"relative",cursor:"default",width:P,height:I},R)},B,{ref:function(X){S.container=X}}),be.createElement(_M,bg({},V,{width:P,height:I,title:E,desc:M,style:S$e}),this.renderClipPath(),pH(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(b.Component);Vr(v,"displayName",r),Vr(v,"defaultProps",Et({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Vr(v,"getDerivedStateFromProps",function(y,N){var k=y.dataKey,S=y.data,A=y.children,_=y.width,O=y.height,P=y.layout,I=y.stackOffset,R=y.margin,F=N.dataStartIndex,E=N.dataEndIndex;if(N.updateId===void 0){var M=rV(y);return Et(Et(Et({},M),{},{updateId:0},g(Et(Et({props:y},M),{},{updateId:0}),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:A})}if(k!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||O!==N.prevHeight||P!==N.prevLayout||I!==N.prevStackOffset||!Tg(R,N.prevMargin)){var H=rV(y),V={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},G=Et(Et({},tV(N,S,P)),{},{updateId:N.updateId+1}),q=Et(Et(Et({},H),V),G);return Et(Et(Et({},q),g(Et({props:y},q),N)),{},{prevDataKey:k,prevData:S,prevWidth:_,prevHeight:O,prevLayout:P,prevStackOffset:I,prevMargin:R,prevChildren:A})}if(!kM(A,N.prevChildren)){var B,z,X,ee,K=Sl(A,mx),W=K&&(B=(z=K.props)===null||z===void 0?void 0:z.startIndex)!==null&&B!==void 0?B:F,J=K&&(X=(ee=K.props)===null||ee===void 0?void 0:ee.endIndex)!==null&&X!==void 0?X:E,Z=W!==F||J!==E,ie=!tn(S),ue=ie&&!Z?N.updateId:N.updateId+1;return Et(Et({updateId:ue},g(Et(Et({props:y},N),{},{updateId:ue,dataStartIndex:W,dataEndIndex:J}),N)),{},{prevChildren:A,dataStartIndex:W,dataEndIndex:J})}return null}),Vr(v,"renderActiveDot",function(y,N,k){var S;return b.isValidElement(y)?S=b.cloneElement(y,N):Gr(y)?S=y(N):S=be.createElement(p1,N),be.createElement(Mn,{className:"recharts-active-dot",key:k},S)});var w=b.forwardRef(function(N,k){return be.createElement(v,bg({},N,{ref:k}))});return w.displayName=v.displayName,w},hN=RS({chartName:"LineChart",GraphicalChild:Ff,axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Oo}],formatAxisMap:YP}),Ly=RS({chartName:"BarChart",GraphicalChild:cd,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Oo}],formatAxisMap:YP}),aL=RS({chartName:"PieChart",GraphicalChild:gd,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:_S},{axisType:"radiusAxis",AxisComp:kS}],formatAxisMap:uPe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}}),P$e=RS({chartName:"AreaChart",GraphicalChild:$f,axisComponents:[{axisType:"xAxis",AxisComp:Mo},{axisType:"yAxis",AxisComp:Oo}],formatAxisMap:YP});const aV=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},n2=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},kT=({title:t,value:e,change:r,icon:n})=>{const s=r==null?void 0:r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},L$e=()=>{const[t,e]=b.useState(()=>{const G=localStorage.getItem("sidebarOpen");return G?JSON.parse(G):!1}),[r,n]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(null),{user:f,getMachineHistories:m}=sr(),p=tr(),g=Ws(),[v,w]=b.useState(window.innerWidth<768),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=be.useRef(null),_=be.useRef(null),O=g.pathname==="/machinehistory",P=g.pathname==="/machinehistory/reports";b.useEffect(()=>{(async()=>{l(!0);try{const q=await m();i(q||[])}catch(q){console.error("Failed to fetch machine history for reports:",q),d("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[m]),b.useEffect(()=>{const G=()=>{w(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",G),()=>window.removeEventListener("resize",G)},[]),b.useEffect(()=>{const G=q=>{A.current&&!A.current.contains(q.target)&&N(!1),_.current&&!_.current.contains(q.target)&&S(!1)};return document.addEventListener("mousedown",G),()=>{document.removeEventListener("mousedown",G)}},[]);const I=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(G=>!G)},R=b.useMemo(()=>s.length,[s]),F=b.useMemo(()=>{const G={};return s.forEach(q=>{q.mesin&&(G[q.mesin]=(G[q.mesin]||0)+1)}),Object.entries(G).sort(([,q],[,B])=>B-q).slice(0,3).map(([q,B])=>({name:q,count:B}))},[s]),E=b.useMemo(()=>{const G={};return s.forEach(q=>{if(q.mesin){const B=aV(q.stopJam,q.stopMenit,q.startJam,q.startMenit);B!==null&&(G[q.mesin]||(G[q.mesin]={totalMinutes:0,count:0}),G[q.mesin].totalMinutes+=B,G[q.mesin].count+=1)}}),Object.entries(G).map(([q,B])=>{const z=B.count>0?B.totalMinutes/B.count:0,X=Math.round(z*100)/100;return{name:q,averageDowntimeMinutes:X,displayDowntime:n2(X)}})},[s]),M=b.useMemo(()=>{const G={};return s.forEach(q=>{if(q.date){const B=new Date(q.date),z=B.getFullYear(),X=(B.getMonth()+1).toString().padStart(2,"0"),ee=`${z}-${X}`;G[ee]=(G[ee]||0)+1}}),Object.entries(G).sort(([q],[B])=>q.localeCompare(B)).map(([q,B])=>{const[z,X]=q.split("-");return{name:`${new Date(Number(z),Number(X)-1,1).toLocaleString("en-US",{month:"short"})} ${z}`,"Maintenance Events":B}})},[s]),H=b.useMemo(()=>{const G={Perbaikan:0,Perawatan:0};return s.forEach(q=>{q.perbaikanPerawatan==="Perbaikan"?G.Perbaikan+=1:q.perbaikanPerawatan==="Perawatan"&&(G.Perawatan+=1)}),[{name:"Repairs",value:G.Perbaikan},{name:"Maintenance",value:G.Perawatan}].filter(q=>q.value>0)},[s]),V=["#8884d8","#82ca9d","#ffc658","#ff7300"];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx($g,{}),isMobile:v,toggleSidebar:I}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${O?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>p("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${P?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):s.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(kT,{title:"Total Maintenance Events",value:R.toLocaleString("id-ID"),icon:a.jsx(un,{})}),a.jsx(kT,{title:"Avg. Downtime (All Machines)",value:n2(Math.round(s.reduce((G,q)=>G+(aV(q.stopJam,q.stopMenit,q.startJam,q.startMenit)||0),0)/s.length*100)/100),icon:a.jsx(Cr,{})}),a.jsx(kT,{title:"Machines Maintained",value:new Set(s.map(G=>G.mesin)).size.toLocaleString("id-ID"),icon:a.jsx(ia,{})}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(xc,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(Ly,{data:F,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(nd,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Oo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(cd,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),F.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ur,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),H.length>0?a.jsx(kl,{width:"100%",height:300,children:a.jsxs(aL,{children:[a.jsx(gd,{data:H,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:H.map((G,q)=>a.jsx(zp,{fill:V[q%V.length]},`cell-${q}`))}),a.jsx(Ts,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(G,q)=>[`${G} events`,q]}),a.jsx(Af,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),a.jsx(kl,{width:"100%",height:350,children:a.jsxs(Ly,{data:E,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(nd,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Oo,{tickFormatter:G=>n2(G),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:G=>n2(G)}),a.jsx(cd,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),E.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(uf,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),a.jsx(kl,{width:"100%",height:350,children:a.jsxs(hN,{data:M,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(nd,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Oo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(Af,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),a.jsx(Ff,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),M.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function R$e(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const I$e=()=>{const[t,e]=b.useState(()=>{const Se=localStorage.getItem("sidebarOpen");return Se?JSON.parse(Se):!1}),[r,n]=b.useState(!1),[s,i]=b.useState([]),[o,l]=b.useState(!0),[c,d]=b.useState(null),[f,m]=b.useState(1),[p]=b.useState(10),{user:g,getAuditTrail:v,isAuthenticated:w}=sr();tr();const[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(!1),[A,_]=b.useState(!1),O=b.useRef(null),P=b.useRef(null),[I,R]=b.useState({key:"changed_at",direction:"descending"}),[F,E]=b.useState(""),M=R$e(F,300),[H,V]=b.useState(!1),[G,q]=b.useState(null),B=b.useCallback(async()=>{try{l(!0),d(null);const Se=await v();i(Se)}catch(Se){console.error("Failed to fetch audit trail:",Se),d("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[v]);b.useEffect(()=>{B()},[B]),b.useEffect(()=>{const Se=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Se),()=>window.removeEventListener("resize",Se)},[]),b.useEffect(()=>{const Se=te=>{O.current&&!O.current.contains(te.target)&&S(!1),P.current&&!P.current.contains(te.target)&&_(!1)};return document.addEventListener("mousedown",Se),()=>{document.removeEventListener("mousedown",Se)}},[]);const z=Se=>{E(Se.target.value)},X=Se=>{let te="ascending";I&&I.key===Se&&I.direction==="ascending"&&(te="descending"),R({key:Se,direction:te})},ee=Se=>typeof Se=="object"&&Se!==null?Se.name||Se.toString():(Se==null?void 0:Se.toString())||"",K=b.useCallback(Se=>{q(Se),V(!0)},[]),W=Se=>{switch(Se){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},J=Se=>Se?Se.replace("App\\Models\\",""):"Unknown",Z=be.useMemo(()=>{let Se=[...s||[]];if(M.trim()){const te=M.toLowerCase().trim();Se=Se.filter(se=>{var dt,De,rt;return[((dt=se.changed_by)==null?void 0:dt.toLowerCase())||"",((De=se.action)==null?void 0:De.toLowerCase())||"",((rt=se.recordable_type)==null?void 0:rt.toLowerCase())||"",JSON.stringify(se.old_data_snapshot||{}).toLowerCase(),JSON.stringify(se.new_data_snapshot||{}).toLowerCase()].some(wt=>wt.includes(te))})}return I!==null?Se.sort((te,se)=>{if(I.key==="changed_at"){const De=new Date(te.changed_at).getTime(),rt=new Date(se.changed_at).getTime();return I.direction==="ascending"?De-rt:rt-De}const ut=ee(te[I.key]),dt=ee(se[I.key]);return ut<dt?I.direction==="ascending"?-1:1:ut>dt?I.direction==="ascending"?1:-1:0}):Se.sort((te,se)=>{const ut=new Date(te.changed_at).getTime();return new Date(se.changed_at).getTime()-ut}),Se},[s,M,I]),ie=f*p,ue=ie-p,je=Z.slice(ue,ie),ce=Math.ceil(Z.length/p),le=Se=>m(Se),pe=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Se=>!Se)},$e=Se=>{try{return new Date(Se).toLocaleString()}catch{return Se}},de=({log:Se,onClose:te})=>{const se=Ge=>Ge==null?"-":typeof Ge=="object"&&Ge!==null?JSON.stringify(Ge):typeof Ge=="string"?Ge.trim()!==""?Ge.trim():"-":typeof Ge=="number"?Ge.toString():typeof Ge=="boolean"?Ge?"Yes":"No":String(Ge),ut=Ge=>!Ge||Ge.trim()===""?"-":mu.sanitize(Ge,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),dt=Ge=>{try{return new Date(Ge).toLocaleString()}catch{return Ge}},De=Ge=>Ge?Ge.replace("App\\Models\\",""):"Unknown",rt=({title:Ge,children:mt,icon:Le})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Le&&a.jsx("div",{className:"mr-3 text-blue-600",children:Le}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ge})]})}),a.jsx("div",{className:"p-6",children:mt})]}),wt=({label:Ge,value:mt,icon:Le,fullWidth:_e=!1,priority:qe="medium"})=>{const ge={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${_e?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${ge[qe]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Le&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Le}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ge}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:mt})]})]})})})},gt=()=>{const Ge=Se.old_data_snapshot?Object.keys(Se.old_data_snapshot):[],mt=Se.new_data_snapshot?Object.keys(Se.new_data_snapshot):[];return[...new Set([...Ge,...mt])].filter(_e=>!["id","created_at","updated_at","deleted_at"].includes(_e))},Rt=(Ge,mt)=>{if(Ge===void 0&&mt===void 0||Ge===null&&mt===null)return!0;if(Ge===void 0&&mt===null||Ge===null&&mt===void 0)return!1;if(Ge===mt)return!0;if(!isNaN(Number(Ge))&&!isNaN(Number(mt)))return Number(Ge)===Number(mt);if(typeof Ge=="boolean"&&typeof mt=="boolean")return Ge===mt;if(typeof Ge=="string"&&typeof mt=="string")return Ge.trim().toLowerCase()===mt.trim().toLowerCase();if(typeof Ge=="object"&&typeof mt=="object"&&Ge!==null&&mt!==null)try{return JSON.stringify(Ge)===JSON.stringify(mt)}catch{return String(Ge)===String(mt)}const Le=String(Ge||"").trim(),_e=String(mt||"").trim();return(Le===""||Le==="null"||Le==="undefined")&&(_e===""||_e==="null"||_e==="undefined")?!0:Le===_e},He=()=>{const Ge=gt();if(Ge.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const mt=Ge.map(qe=>{const ge=Se.old_data_snapshot??{},Oe=Se.new_data_snapshot??{},ke=Object.prototype.hasOwnProperty.call(ge,qe),Ue=Object.prototype.hasOwnProperty.call(Oe,qe),Xe=ke?ge[qe]:void 0;let we=Ue?Oe[qe]:void 0;Se.action==="updated"&&ke&&!Ue&&(we=Xe);let ye;return!ke&&Ue?ye="added":ke&&!Ue?ye=Se.action==="deleted"?"removed":"unchanged":Rt(Xe,we)?ye="unchanged":ye="updated",{key:qe,oldValue:Xe,newValue:we,status:ye}}),Le=mt.filter(qe=>qe.status!=="unchanged").length,_e=mt.length-Le;return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:mt.map(({key:qe,oldValue:ge,newValue:Oe,status:ke})=>{const Ue=qe.split("_").map(pt=>pt.charAt(0).toUpperCase()+pt.slice(1)).join(" "),Xe=qe.toLowerCase().includes("complaint")||qe.toLowerCase().includes("action_taken")||qe.toLowerCase().includes("remarks"),we=Xe?ut(String(ge||"")):se(ge),ye=Xe?ut(String(Oe||"")):se(Oe),Ke=ke==="updated"?"bg-yellow-50":ke==="added"?"bg-green-50":ke==="removed"?"bg-red-50":"";return a.jsxs("tr",{className:Ke,children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:Ue}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Xe?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${ke==="removed"?"bg-red-100 text-red-800 border border-red-200":ke==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:we}}):a.jsx("div",{className:`p-2 rounded ${ke==="removed"?"bg-red-100 text-red-800 border border-red-200":ke==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:we})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Xe?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${ke==="added"?"bg-green-100 text-green-800 border border-green-200":ke==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ye}}):a.jsx("div",{className:`p-2 rounded ${ke==="added"?"bg-green-100 text-green-800 border border-green-200":ke==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ye})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ke==="added"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(pa,{className:"w-3 h-3 mr-1"}),"Added"]}):ke==="removed"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(In,{className:"w-3 h-3 mr-1"}),"Removed"]}):ke==="updated"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(fc,{className:"w-3 h-3 mr-1"}),"Updated"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[a.jsx(ur,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},qe)})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:Le})," field(s) changed • ",a.jsx("span",{className:"font-medium",children:_e})," field(s) unchanged"]})]})},he=(Ge,mt)=>{if(!Ge||Object.keys(Ge).length===0)return a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",mt," data available"]});const Le=Object.entries(Ge).filter(([_e])=>!["id","created_at","updated_at","deleted_at"].includes(_e));return Le.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",mt," data available"]}):a.jsx("div",{className:"space-y-4",children:Le.map(([_e,qe])=>{const ge=_e.split("_").map(ke=>ke.charAt(0).toUpperCase()+ke.slice(1)).join(" "),Oe=_e.toLowerCase().includes("complaint")||_e.toLowerCase().includes("action_taken")||_e.toLowerCase().includes("remarks");return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:ge})}),a.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:Oe?a.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:ut(String(qe||""))}}):a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:se(qe)})})]},_e)})})},Qe=(Ge,mt)=>{if(!Ge||Object.keys(Ge).length===0)return a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",mt.toLowerCase()," available"]});const Le=Object.entries(Ge).filter(([_e,qe])=>!(["id","created_at","updated_at","deleted_at"].includes(_e)||qe==null||qe===""));return Le.length===0?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",mt.toLowerCase()," available"]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:Le.map(([_e,qe])=>{const ge=_e.split("_").map(Oe=>Oe.charAt(0).toUpperCase()+Oe.slice(1)).join(" ");return a.jsx(wt,{label:ge,value:se(qe)},_e)})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",Se.id]}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Se.action==="created"?"bg-green-100 text-green-800 border border-green-300":Se.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":Se.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:Se.action.charAt(0).toUpperCase()+Se.action.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Timestamp: ",dt(Se.changed_at)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(ln,{className:"w-4 h-4"}),"User: ",Se.changed_by||"N/A"]})]})]})})}),a.jsx(rt,{title:"General Information",icon:a.jsx(un,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(wt,{label:"Audit ID",value:se(Se.id),icon:a.jsx(Ep,{className:"w-4 h-4"}),priority:"high"}),a.jsx(wt,{label:"Timestamp",value:dt(Se.changed_at),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(wt,{label:"User",value:se(Se.changed_by),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(wt,{label:"Action",value:se(Se.action),icon:a.jsx(fc,{className:"w-4 h-4"}),priority:"high"}),a.jsx(wt,{label:"Record Type",value:De(Se.recordable_type),icon:a.jsx(yf,{className:"w-4 h-4"})}),a.jsx(wt,{label:"Record ID",value:se(Se.recordable_id),icon:a.jsx(Hg,{className:"w-4 h-4"})})]})}),Se.recordable_details&&Object.keys(Se.recordable_details).length>0&&a.jsx(rt,{title:"Record Details",icon:a.jsx(yf,{className:"w-5 h-5"}),children:Qe(Se.recordable_details,"Record Details")}),a.jsx(rt,{title:"Data Changes Comparison",icon:a.jsx(fc,{className:"w-5 h-5"}),children:He()}),a.jsx(rt,{title:"Complete Data Snapshots",icon:a.jsx(CN,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-8",children:[Se.old_data_snapshot&&Object.keys(Se.old_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:he(Se.old_data_snapshot,"old")})]}),Se.new_data_snapshot&&Object.keys(Se.new_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:he(Se.new_data_snapshot,"new")})]})]})}),a.jsx(rt,{title:"Audit Summary",icon:a.jsx(xc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:Se.action.charAt(0).toUpperCase()+Se.action.slice(1)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),a.jsxs("p",{className:"text-sm text-green-600",children:[De(Se.recordable_type)," • ID: ",Se.recordable_id]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(T.button,{type:"button",onClick:te,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Hg,{}),isMobile:y,toggleSidebar:pe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",a.jsx("span",{className:"text-blue-600",children:"Trail"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),a.jsx(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:z,"aria-label":"Search audit logs"})]})})}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),a.jsx("button",{onClick:B,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):Z.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:M?"No audit entries found matching your search.":"No audit entries available."}),M&&a.jsx("button",{onClick:()=>E(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_at"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-sm"})," Timestamp",(I==null?void 0:I.key)==="changed_at"?a.jsx("span",{className:"ml-1",children:I.direction==="ascending"?"↑":"↓"}):a.jsx("span",{className:"ml-1 text-gray-400",children:"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("changed_by"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(ln,{className:"mr-2 text-sm"})," User",(I==null?void 0:I.key)==="changed_by"&&a.jsx("span",{className:"ml-1",children:I.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("action"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(fc,{className:"mr-2 text-sm"})," Action",(I==null?void 0:I.key)==="action"&&a.jsx("span",{className:"ml-1",children:I.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>X("recordable_type"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(yf,{className:"mr-2 text-sm"})," Record Type",(I==null?void 0:I.key)==="recordable_type"&&a.jsx("span",{className:"ml-1",children:I.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:je.map(Se=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:$e(Se.changed_at)})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Se.changed_by||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${W(Se.action)} shadow-sm`,children:Se.action.charAt(0).toUpperCase()+Se.action.slice(1)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:J(Se.recordable_type)}),Se.recordable_id&&a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",Se.recordable_id]})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(Se),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(bo,{className:"text-lg"}),a.jsx("span",{children:"View"})]})})]},Se.id))})]})})}),Z.length>p&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ue+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ie,Z.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:Z.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le(f-1),disabled:f===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:ce},(Se,te)=>a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le(te+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${f===te+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${te+1}`,children:te+1},te+1)),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le(f+1),disabled:f===ce,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),G&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",G.id]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{V(!1),q(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(de,{log:G,onClose:()=>{V(!1),q(null)}})})]})})})]})},F$e=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(ij,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:a.jsxs(T.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/workflowapproval/monitoringapproval"),children:[a.jsx(Jh,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",a.jsx(ta,{size:18,className:"ml-1"})]})]})})]})]})]})},sV=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,$$e=()=>{const t=tr(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:s}=sr(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[f,m]=b.useState(!1),[p,g]=b.useState(""),[v,w]=b.useState([]),[y,N]=b.useState(!1),[k,S]=b.useState(""),[A,_]=b.useState(!1),[O,P]=b.useState(null),I=(H,V,G)=>{P({type:H,templateId:V,templateName:G}),_(!0)},R=async()=>{if(O)try{N(!0),O.type==="activate"?(await s(O.templateId),w(H=>H.map(V=>({...V,is_active:V.id===O.templateId})))):O.type==="delete"&&(await n(O.templateId),await F()),_(!1),P(null),S("")}catch(H){S(`Failed to ${O.type} template`),console.error(`Error ${O.type}ing template:`,H)}finally{N(!1)}};b.useEffect(()=>{F()},[]);const F=async()=>{try{N(!0);const H=await e();w(H||[])}catch(H){S("Failed to load approval templates"),console.error("Error loading templates:",H)}finally{N(!1)}},E=async()=>{if(!p.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:p,is_active:!1});w(V=>[...V,H]),m(!1),g(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},M=H=>{t(`/workflowapproval/monitoringapproval/configureapproval/${H.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(ij,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(KE,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),a.jsxs(T.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:y,children:[a.jsx(qK,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),y?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(lm,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(H=>a.jsx(T.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(yf,{size:20,className:"mr-2 text-blue-500"}),H.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),H.approvers&&a.jsxs("span",{className:"text-xs text-gray-500",children:[H.approvers.length," approver(s)"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{onClick:()=>M(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:y,children:"Configure"}),!H.is_active&&a.jsx(T.button,{onClick:V=>{V.stopPropagation(),I("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:y,children:"Activate"}),a.jsx(T.button,{onClick:V=>{V.stopPropagation(),I("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:y,children:"Delete"})]})]})},H.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(sV,{isOpen:A,onClose:()=>{_(!1),P(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",O==null?void 0:O.type,' template "',O==null?void 0:O.templateName,'"?',(O==null?void 0:O.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),P(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(O==null?void 0:O.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(O==null?void 0:O.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(sV,{isOpen:f,onClose:()=>m(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:p,onChange:H=>g(H.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),g(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:y||!p.trim(),children:[y?a.jsx(lm,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},iV=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),H$e=()=>{const[t,e]=b.useState([]),[r,n]=b.useState(!0),[s,i]=b.useState(!1),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(""),[p,g]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),A=b.useRef(!0),[_,O]=b.useState(null),[P]=b.useState(window.innerWidth<768),[I,R]=b.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),F=tr(),{getServiceGroups:E,getServiceGroup:M,hasPermission:H,deleteServiceGroup:V}=sr(),G=()=>{const ee=!I;R(ee),localStorage.setItem("sidebarOpen",JSON.stringify(ee))},q=b.useCallback(async()=>{try{n(!0);const K=(await E(0)).map(W=>({id:Number(W.id),name:W.group_name??"",description:W.group_description??void 0}));e(K)}catch(ee){S("Failed to load service groups"),console.error("Error loading service groups:",ee)}finally{A.current&&n(!1)}},[E]);b.useEffect(()=>(A.current=!0,q(),()=>{A.current=!1}),[q]);const B=async()=>{if(!c.trim()){S("Group Name is required");return}g(!0),S(null);try{if(await new Promise(ee=>setTimeout(ee,500)),o)e(ee=>ee.map(K=>K.id===o.id?{...K,name:c.trim(),description:f.trim()||void 0}:K));else{const ee={id:t.length>0?Math.max(...t.map(K=>K.id))+1:1,name:c.trim(),description:f.trim()||void 0};e(K=>[...K,ee])}i(!1),l(null),d(""),m("")}catch(ee){S("Failed to save service group"),console.error("Error saving service group:",ee)}finally{g(!1)}},z=ee=>{w(ee),N(!0),S(null)},X=async ee=>{try{await V(ee),e(t.filter(K=>K.id!==ee)),N(!1),w(null)}catch(K){console.error("Failed to delete Service Group:",K),S("Failed to delete service group. Please try again.")}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(ga,{}),isMobile:P,toggleSidebar:G}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Groups"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),H("manage_users")&&a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>F("/services/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Group"})]})]}),r?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:a.jsx(UK,{})}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),H("manage_users")&&a.jsx("button",{onClick:()=>F("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map((ee,K)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ee.description||"-"})}),H("manage_users")&&a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>F(`/services/servicegroups/editservicegroup/${ee.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>z(ee.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},ee.id))})]})})}),k&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})]}),a.jsx(iV,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),a.jsx("input",{value:c,onChange:ee=>d(ee.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),a.jsx("textarea",{value:f,onChange:ee=>m(ee.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),d(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:B,disabled:p,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:p?"Saving...":"Save"})]}),k&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:k})})]})}),a.jsx(iV,{isOpen:y,onClose:()=>N(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:a.jsx(In,{})}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v&&X(v),disabled:p,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:p?"Deleting...":"Delete"})]})]})})]})};function B$e(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const CT=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),a2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const l=s?((f,m)=>{if(m===0)return f>0?"+100%":"0%";const p=(f-m)/m*100;return`${p>=0?"+":""}${Math.round(p)}%`})(e,r):((f,m)=>{const p=f-m;return`${p>0?"+":p<0?"":"+"}${p}`})(e,r),c=e>=r,d=s?`${l} from last month`:`${l} from last month`;return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:d})]})},z$e=()=>{const t=sr(),[e,r]=b.useState(()=>{const ze=localStorage.getItem("sidebarOpen");return JSON.parse(ze||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(ze=>!ze)},s=tr(),[i,o]=b.useState(null),l=ze=>{o(ze),d(!0)},[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(!1),[y,N]=b.useState(""),[k,S]=b.useState(!1),[A,_]=b.useState(""),[O,P]=b.useState(""),[I,R]=b.useState(!0),[F,E]=b.useState([]),[M,H]=b.useState([]),[V,G]=b.useState([]),[q,B]=b.useState(!1),[z,X]=b.useState(null),[ee,K]=b.useState(!1),[W,J]=b.useState(null),[Z,ie]=b.useState(null),[ue,je]=b.useState(!1),ce=B$e(y,300),le=b.useRef(null),[pe,$e]=b.useState(1),de=10,[Se,te]=b.useState({key:"created_at",direction:"descending"}),[se,ut]=b.useState(null),[dt,De]=b.useState(!1),[rt,wt]=b.useState(window.innerWidth<768),gt=b.useRef(null),Rt=b.useRef(null),He=b.useCallback(async()=>{try{const St=(await t.getServiceGroups(0)||[]).map(Ee=>Ee.group_name||Ee.group_description?{id:Ee.id,group_name:Ee.group_name,group_description:Ee.group_description,name:Ee.group_name||Ee.name}:{id:Ee.id,name:Ee.name||null});H(St)}catch{H([])}},[t]),he=b.useCallback(async()=>{try{const St=(await t.getUsers()||[]).map(Ee=>({id:Number(Ee.id),name:Ee.name}));G(St)}catch{G([])}},[t]),Qe=b.useCallback(ze=>({id:ze.id??0,service_name:ze.service_name??ze.name??"",service_description:ze.service_description??ze.description??"",service_group:ze.service_group??ze.service_group??0,priority:ze.priority??"Low",service_owner:Number(ze.service_owner??ze.service_owner??ze.owner??0),sla:Number(ze.sla??ze.sla??0),impact:ze.impact??"",created_at:ze.created_at??ze.createdAt??new Date().toISOString(),updated_at:ze.updated_at??ze.updatedAt??new Date().toISOString()}),[]),Ge=b.useCallback(async()=>{R(!0),ut(null);try{const St=(await t.getServices(0)||[]).map(Qe);St.sort((Ee,It)=>Ee.created_at<It.created_at?1:-1),E(St)}catch{ut("Failed to load service catalogue."),E([])}finally{R(!1)}},[t,Qe]);b.useEffect(()=>{let ze=!0;return ze&&(Ge(),He(),he()),()=>{ze=!1}},[Ge,He,he]),b.useEffect(()=>{const ze=()=>{wt(window.innerWidth<768)};return window.addEventListener("resize",ze),()=>window.removeEventListener("resize",ze)},[]),b.useEffect(()=>{const ze=St=>{gt.current&&!gt.current.contains(St.target)&&w(!1),Rt.current&&!Rt.current.contains(St.target)&&g(!1)};return document.addEventListener("mousedown",ze),()=>{document.removeEventListener("mousedown",ze)}},[]);const mt=(ze,St)=>{ie({type:ze,message:St}),setTimeout(()=>ie(null),3e3)},Le=F.length,_e=b.useMemo(()=>{const ze={Critical:0,High:0,Medium:0,Low:0};return F.forEach(St=>{const Ee=St.priority||"Low";ze[Ee]=(ze[Ee]||0)+1}),ze},[F]),qe=b.useMemo(()=>{if(F.length===0)return 0;const ze=F.reduce((St,Ee)=>St+(Ee.sla||0),0);return Math.round(ze/F.length*100)/100},[F]),ge=b.useMemo(()=>{const ze=new Set;return F.forEach(St=>ze.add(St.service_owner)),ze.size},[F]),Oe=b.useMemo(()=>{const ze=new Date;return ze.setMonth(ze.getMonth()-1),F.filter(St=>new Date(St.created_at)<ze)},[F]),ke=()=>{_(""),P(""),N("")},Ue=ze=>{let St="ascending";Se&&Se.key===ze&&Se.direction==="ascending"&&(St="descending"),te({key:ze,direction:St})},Xe=async ze=>{if(ze){je(!0);try{const Ee=(await ze.text()).split(`
`).map(Pt=>Pt.trim()).filter(Boolean),It=[];for(let Pt=0;Pt<Ee.length;Pt++){const Bt=Ee[Pt].split(",").map(Ct=>Ct.trim()),ft={service_name:Bt[1]||`Imported Service ${Pt+1}`,service_description:Bt[2]||"",service_type:M[0]?Number(M[0].id):0,priority:Bt[4]||"Low",service_owner:V[0]?V[0].id:0,sla:Number(Bt[6])||24,impact:Bt[7]||""};It.push(ft)}for(const Pt of It)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Pt)});await Ge(),mt("success",`Imported ${It.length} services`)}catch{mt("error","Import failed")}finally{je(!1)}}},we=ze=>{var Ee;const St=((Ee=ze.target.files)==null?void 0:Ee[0])||null;St&&Xe(St),ze.target.value=""},ye=ze=>{J(ze),K(!0)},Ke=async()=>{if(W){De(!0);try{await t.fetchWithAuth(`/service-catalogues/${W}`,{method:"DELETE"}),await Ge(),K(!1),J(null),mt("success","Service deleted")}catch{mt("error","Failed to delete service")}finally{De(!1)}}},pt=b.useMemo(()=>{let ze=[...F];if(ce.trim()){const St=ce.toLowerCase().trim();ze=ze.filter(Ee=>Ee.service_name.toLowerCase().includes(St)||(Ee.service_description||"").toLowerCase().includes(St))}return A&&(ze=ze.filter(St=>String(St.service_group.id)===String(A))),O&&(ze=ze.filter(St=>St.priority===O)),Se&&ze.sort((St,Ee)=>{const It=St[Se.key],Pt=Ee[Se.key];return It<Pt?Se.direction==="ascending"?-1:1:It>Pt?Se.direction==="ascending"?1:-1:0}),ze},[F,ce,A,O,Se]),tt=ze=>{switch(ze){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},Te=pe*de,ne=Te-de,Ie=pt.slice(ne,Te),Ye=Math.max(1,Math.ceil(pt.length/de)),st=()=>{const[ze,St]=b.useState((z==null?void 0:z.service_name)||""),[Ee,It]=b.useState((z==null?void 0:z.service_description)||""),[Pt,Bt]=b.useState((z==null?void 0:z.service_group.id)||""),[ft,Ct]=b.useState((z==null?void 0:z.priority)||"Low"),[Mt,pr]=b.useState((z==null?void 0:z.service_owner)||(V[0]?V[0].id:"")),[yn,vn]=b.useState((z==null?void 0:z.sla)||24),[or,Ur]=b.useState((z==null?void 0:z.impact)||""),[Yr,jn]=b.useState({}),Ve=async()=>{if(jn({}),!ze.trim()){jn({service_name:"Service Name is required"});return}if(!Pt){jn(it=>({...it,service_type:"Service Type is required"}));return}if(!ft){jn(it=>({...it,priority:"Priority is required"}));return}if(isNaN(Number(yn))){jn(it=>({...it,sla:"SLA must be a number"}));return}De(!0);try{const it={service_name:ze.trim(),service_description:Ee.trim(),service_type:Number(Pt),priority:ft,service_owner:Number(Mt)||0,sla:Number(yn)||0,impact:or.trim()};z?(await t.fetchWithAuth(`/service-catalogues/${z.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(it)}),mt("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(it)}),mt("success","Service created")),await Ge(),B(!1)}catch{mt("error","Save failed")}finally{De(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),a.jsx("input",{value:ze,onChange:it=>St(it.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Yr.service_name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Yr.service_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),a.jsx("textarea",{value:Ee,onChange:it=>It(it.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),a.jsxs("select",{value:Pt,onChange:it=>Bt(it.target.value?Number(it.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Group --"}),M.map(it=>a.jsx("option",{value:String(it.id),children:it.group_name??it.name??String(it.id)},String(it.id)))]}),Yr.service_type&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Yr.service_type})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),a.jsxs("select",{value:ft,onChange:it=>Ct(it.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}),Yr.priority&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Yr.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),a.jsx("input",{type:"number",value:yn,onChange:it=>vn(Number(it.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),Yr.sla&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:Yr.sla})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),a.jsxs("select",{value:Mt,onChange:it=>pr(it.target.value?Number(it.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Owner --"}),V.map(it=>a.jsx("option",{value:it.id,children:it.name},it.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),a.jsx("textarea",{value:or,onChange:it=>Ur(it.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[a.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>B(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ve,disabled:dt,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:dt?"Saving...":"Save"})]})]})},yt=({service:ze,onClose:St})=>{var pr,yn,vn;const Ee=or=>or==null?"-":typeof or=="string"?or.trim()!==""?or.trim():"-":typeof or=="number"?or.toString():String(or),It=or=>or?new Date(or).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Pt=({priority:or})=>{const Ur={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ur[or]||Ur.Low}`,children:or})},Bt=({title:or,children:Ur,icon:Yr})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Yr&&a.jsx("div",{className:"mr-3 text-blue-600",children:Yr}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:or})]})}),a.jsx("div",{className:"p-6",children:Ur})]}),ft=({label:or,value:Ur,icon:Yr,fullWidth:jn=!1,priority:Ve="medium"})=>{const it={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${jn?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${it[Ve]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Yr&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Yr}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:or}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ur})]})]})})})},Ct=((pr=V.find(or=>or.id===Number(ze.service_owner)))==null?void 0:pr.name)??String(ze.service_owner),Mt=((yn=M.find(or=>String(or.id)===String(ze.service_group.id)))==null?void 0:yn.group_name)??((vn=M.find(or=>String(or.id)===String(ze.service_group.id)))==null?void 0:vn.name)??String(ze.service_group.id);return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:ze.service_name}),a.jsx(Pt,{priority:ze.priority})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Created: ",It(ze.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:St,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(Bt,{title:"Service Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(ft,{label:"Service Name",value:Ee(ze.service_name),icon:a.jsx(df,{className:"w-4 h-4"}),priority:"high"}),a.jsx(ft,{label:"Service Type",value:Ee(Mt),icon:a.jsx(UK,{className:"w-4 h-4"}),priority:"high"}),a.jsx(ft,{label:"Priority",value:Ee(ze.priority),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(Bt,{title:"Service Details",icon:a.jsx(df,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ft,{label:"Service Description",value:Ee(ze.service_description),icon:a.jsx(df,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ft,{label:"Service Owner",value:Ee(Ct),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(ft,{label:"SLA (hours)",value:Ee(ze.sla),icon:a.jsx(Cr,{className:"w-4 h-4"})})]})]})}),a.jsx(Bt,{title:"Additional Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ft,{label:"Impact",value:Ee(ze.impact),icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(ft,{label:"Created At",value:It(ze.created_at),icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(ft,{label:"Updated At",value:It(ze.updated_at),icon:a.jsx(xa,{className:"w-4 h-4"})})]})]})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:rt,toggleSidebar:n}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>s("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Service"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:we,className:"hidden"}),a.jsxs(T.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:ue?"Importing...":"Import"})]})]}),a.jsxs(T.button,{onClick:()=>S(ze=>!ze),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:k?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(a2,{title:"Total Services",currentCount:Le,lastMonthCount:Oe.length,icon:a.jsx(Zs,{})}),a.jsx(a2,{title:"Critical",currentCount:_e.Critical,lastMonthCount:Oe.filter(ze=>ze.priority==="Critical").length,icon:a.jsx(Zs,{}),usePercentage:!1}),a.jsx(a2,{title:"Average SLA (hrs)",currentCount:qe,lastMonthCount:Oe.length>0?Math.round(Oe.reduce((ze,St)=>ze+(St.sla||0),0)/Oe.length*100)/100:0,icon:a.jsx(Zs,{}),usePercentage:!1}),a.jsx(a2,{title:"Total Owners",currentCount:ge,lastMonthCount:new Set(Oe.map(ze=>ze.service_owner)).size,icon:a.jsx(ln,{}),usePercentage:!1})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[a.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:le,value:y,onChange:ze=>N(ze.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),a.jsx(ar,{children:k&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{value:A,onChange:ze=>_(ze.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Groups"}),M.map(ze=>a.jsx("option",{value:String(ze.id),children:ze.group_name??ze.name??String(ze.id)},String(ze.id)))]}),a.jsxs("select",{value:O,onChange:ze=>P(ze.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),I?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):se?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[a.jsx(Zs,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:se}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Ge,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):pt.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:ce||A||O?"No services found matching your filters.":"No services available."}),(ce||A||O)&&a.jsx("button",{onClick:ke,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>Ue("service_name"),children:"Service Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:Ie.map((ze,St)=>{var Pt,Bt,ft;const Ee=((Pt=V.find(Ct=>Ct.id===Number(ze.service_owner)))==null?void 0:Pt.name)??String(ze.service_owner),It=((Bt=M.find(Ct=>String(Ct.id)===String(ze.service_group.id)))==null?void 0:Bt.group_name)??((ft=M.find(Ct=>String(Ct.id)===String(ze.service_group.id)))==null?void 0:ft.name)??String(ze.service_group.id);return a.jsxs(T.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ne+St+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:ze.service_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:It}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${tt(ze.priority)} shadow-sm`,children:ze.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ee}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ze.sla}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:ze.impact||"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(ze),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(`/services/servicecatalogues/editservicecatalogue/${ze.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:a.jsx($a,{className:"text-lg"})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ye(ze.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:a.jsx(In,{className:"text-lg"})})]})]},ze.id)})})]})})}),pt.length>de&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ne+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Te,pt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:pt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(ze=>Math.max(1,ze-1)),disabled:pe===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Ye},(ze,St)=>a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(St+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${pe===St+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:St+1},St+1)),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>$e(ze=>Math.min(Ye,ze+1)),disabled:pe===Ye,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),a.jsx(CT,{isOpen:q,onClose:()=>B(!1),title:z?"Edit Service":"Add Service",className:"max-w-3xl",children:a.jsx(st,{})}),a.jsx(CT,{isOpen:ee,onClose:()=>K(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Zs,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ke,disabled:dt,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),a.jsx(CT,{isOpen:c,onClose:()=>d(!1),title:"Service Details",className:"max-w-5xl",children:i&&a.jsx(yt,{service:i,onClose:()=>d(!1)})}),Z&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${Z.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:Z.message})})]})},q$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,U$e=()=>{const t=sr(),{addServiceGroup:e}=t,[r,n]=b.useState(window.innerWidth<768),[s,i]=b.useState(()=>{const A=localStorage.getItem("sidebarOpen");return JSON.parse(A||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(A=>!A)},l=tr(),[c,d]=b.useState(""),[f,m]=b.useState(""),[p,g]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),k=async A=>{if(A.preventDefault(),w(null),!c.trim()){w("Group Name is required");return}g(!0);try{await e({group_name:c.trim(),group_description:f.trim()||null}),N(!0)}catch(_){const O=_ instanceof Error?_.message:"Failed to save service group";w(O)}finally{g(!1)}},S=()=>{N(!1),l("/services/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ga,{}),isMobile:r,toggleSidebar:o}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),a.jsxs(T.button,{onClick:()=>l("/services/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[v&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:v})]}),a.jsxs("form",{onSubmit:k,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:c,onChange:A=>d(A.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:f,onChange:A=>m(A.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(T.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:p,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:p?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),a.jsx(q$e,{isOpen:y,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},W$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,V$e=()=>{const e=si().id,r=tr(),n=sr(),{getServiceGroup:s,updateServiceGroup:i}=n,[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return JSON.parse(R||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(R=>!R)},[m,p]=b.useState(""),[g,v]=b.useState(""),[w,y]=b.useState(!1),[N,k]=b.useState(!0),[S,A]=b.useState(null),[_,O]=b.useState(!1);b.useEffect(()=>{let R=!0;return(async()=>{k(!0),A(null);try{if(!e){A("Missing service group id");return}const E=await s(e);if(!R)return;p(String(E.group_name??"")),v(String(E.group_description??"")||"")}catch(E){const M=E instanceof Error?E.message:"Failed to load service group";A(M)}finally{R&&k(!1)}})(),()=>{R=!1}},[s,e]);const P=async R=>{if(R.preventDefault(),A(null),!m.trim()){A("Group Name is required");return}y(!0);try{const F=Number(e);await i(F,{group_name:m.trim(),group_description:g.trim()||null}),O(!0)}catch(F){const E=F instanceof Error?F.message:"Failed to update service group";A(E)}finally{y(!1)}},I=()=>{O(!1),r("/services/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ga,{}),isMobile:o,toggleSidebar:f}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):a.jsxs(a.Fragment,{children:[S&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:S})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:m,onChange:R=>p(R.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:g,onChange:R=>v(R.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(T.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/services/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:w,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:w?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),a.jsx(W$e,{isOpen:_,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},G$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Y$e=()=>{const{id:t}=si(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:s}=sr(),i=tr(),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(()=>{const G=localStorage.getItem("sidebarOpen");return JSON.parse(G||"false")}),f=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(G=>!G)},[m,p]=b.useState(!1),[g,v]=b.useState(!0),[w,y]=b.useState(null),[N,k]=b.useState(null),[S,A]=b.useState(!1),[_,O]=b.useState([]),[P,I]=b.useState([]),[R,F]=b.useState({service_name:"",service_description:"",service_group:null,priority:"Low",service_owner:"",sla:24,impact:""}),E=b.useCallback(async()=>{var G;try{const[q,B,z]=await Promise.all([s(`/service-catalogues/${t}`),r(0),n()]),X=q.data||q;O(B),I(z),X&&(console.log("Service Data from API:",X),F({service_name:X.service_name||"",service_description:X.service_description||"",service_group:((G=X.service_group)==null?void 0:G.id)||null,priority:X.priority||"Low",service_owner:String(X.service_owner||""),sla:X.sla?parseFloat(X.sla):24,impact:X.impact||""}))}catch(q){console.error("Error fetching service data:",q),y(q.message||"Failed to load service data")}finally{v(!1)}},[t,s,r,n]);b.useEffect(()=>{t&&E()},[t,E]);const M=G=>{const{name:q,value:B}=G.target;F(z=>({...z,[q]:q==="sla"?Number(B):q==="service_group"?B===""?null:Number(B):B}))},H=async G=>{if(G.preventDefault(),p(!0),y(null),!R.service_name||R.service_group===null||!R.priority||!R.service_owner||!R.sla){y("Please fill all required fields"),p(!1);return}try{const q={service_name:R.service_name,service_description:R.service_description,service_group:R.service_group,priority:R.priority,service_owner:Number(R.service_owner),sla:R.sla,impact:R.impact};await e(t,q),k("Service Catalogue updated successfully!"),A(!0)}catch(q){y(q.message||"Failed to update Service Catalogue")}finally{p(!1)}},V=()=>{A(!1),i("/services/servicecatalogues")};return g?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:o,toggleSidebar:f}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),a.jsxs(T.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:w}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:H,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:R.service_name,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_group",id:"service_group",value:R.service_group||"",onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),_.map(G=>a.jsx("option",{value:G.id,children:G.group_name||G.name},G.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:R.priority,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:R.service_owner,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),P.map(G=>a.jsx("option",{value:G.id,children:G.name},G.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:R.sla,onChange:M,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:R.impact,onChange:M,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:R.service_description,onChange:M,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),a.jsx(G$e,{isOpen:S,onClose:V,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:V,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},K$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,J$e=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=sr(),n=tr(),[s,i]=b.useState(window.innerWidth<768),[o,l]=b.useState(()=>{const E=localStorage.getItem("sidebarOpen");return JSON.parse(E||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(E=>!E)},[d,f]=b.useState(!1),[m,p]=b.useState(null),[g,v]=b.useState(null),[w,y]=b.useState(!1),[N,k]=b.useState([]),[S,A]=b.useState([]),[_,O]=b.useState({service_name:"",service_description:"",service_group:"",priority:"Low",service_owner:"",sla:24,impact:""}),P=b.useCallback(async()=>{try{const[E,M]=await Promise.all([e(0),r()]),H=M.filter(V=>{var q,B,z,X;const G=((B=(q=V.department)==null?void 0:q.name)==null?void 0:B.toLowerCase())||((X=(z=V.department)==null?void 0:z.name)==null?void 0:X.toLowerCase())||"";return G.includes("information and technology")&&G.includes("technology")||G==="it"});k(E),A(H)}catch(E){p(E.message||"Failed to load form data")}},[e,r]);b.useEffect(()=>{P()},[P]);const I=E=>{const{name:M,value:H}=E.target;O(V=>({...V,[M]:M==="sla"?Number(H):H}))},R=async E=>{if(E.preventDefault(),f(!0),p(null),!_.service_name||!_.service_group||!_.priority||!_.service_owner||!_.sla){p("Please fill all required fields"),f(!1);return}try{const M={service_name:_.service_name,service_description:_.service_description,service_group:Number(_.service_group),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(M),v("Service Catalogue created successfully!"),y(!0)}catch(M){p(M.message||"Failed to create Service Catalogue")}finally{f(!1)}},F=()=>{y(!1),n("/services/servicecatalogues")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(df,{}),isMobile:s,toggleSidebar:c}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),a.jsxs(T.button,{onClick:()=>n("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:m}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>p(null)})})]}),a.jsxs("form",{onSubmit:R,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_group",id:"service_group",value:_.service_group,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),N.map(E=>a.jsx("option",{value:E.id,children:E.group_name||E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),S.map(E=>a.jsx("option",{value:E.id,children:E.name},E.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:I,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:I,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>n("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(K$e,{isOpen:w,onClose:F,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:F,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},X$e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),s2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Q$e=()=>{const[t,e]=b.useState([]),[r,n]=b.useState([]),{getDepartment:s,getUsers:i,deleteDepartment:o}=sr(),[l,c]=b.useState(!0),[d,f]=b.useState(null),[m,p]=b.useState(""),[g,v]=b.useState(!1),[w,y]=b.useState(null),[N,k]=b.useState(!1),[S]=b.useState(window.innerWidth<768),[A,_]=b.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),O=tr(),P=b.useRef(null),[I,R]=b.useState(!1),F=b.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),E=b.useCallback(async()=>{try{c(!0);const ee=await s(),K=await i(),W=[...ee].sort((J,Z)=>J.id-Z.id);e(W),n(K)}catch(ee){f("Failed to load departments"),console.error("Error loading departments:",ee)}finally{c(!1)}},[s,i]);b.useEffect(()=>{E()},[E]);const M=()=>{const ee=!A;_(ee),localStorage.setItem("sidebarOpen",JSON.stringify(ee))},H=()=>{alert("Import functionality is not yet implemented.")},V=ee=>{const K=ee.target.value;p(K)},G=b.useMemo(()=>{if(!m)return F;const ee=m.toLowerCase();return F.filter(K=>K.name.toLowerCase().includes(ee))},[m,F]),q=ee=>{var K;p(`${ee}: `),R(!1),(K=P.current)==null||K.focus()},B=b.useMemo(()=>{if(!m.trim())return t;const ee=m.toLowerCase().trim(),K=ee.split(":");let W="all",J=ee;return K.length>1&&F.some(Z=>Z.name.toLowerCase()===K[0].trim())&&(W=K[0].trim(),J=K.slice(1).join(":").trim()),t.filter(Z=>{var je,ce,le;const ie=(je=Z.name)==null?void 0:je.toLowerCase().includes(J),ue=(le=(ce=Z.head)==null?void 0:ce.name)==null?void 0:le.toLowerCase().includes(J);return W==="department"?ie:W==="head"?ue:ie||ue})},[t,m,F]),z=async ee=>{try{await o(ee),e(t.filter(K=>K.id!==ee)),v(!1),y(null)}catch(K){console.error("Failed to delete department:",K),f("Failed to delete department. Please try again.")}},X=b.useCallback(ee=>{y(ee),v(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:a.jsx(dd,{}),isMobile:S,toggleSidebar:M}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>O("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Department"})]}),a.jsxs(T.button,{onClick:H,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>k(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(s2,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(dd,{className:"w-6 h-6"})}),a.jsx(s2,{title:"Head Departments",value:t.filter(ee=>ee.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(ee=>ee.head_id!==null).length/t.length*100)}%`,icon:a.jsx(ln,{className:"w-6 h-6"})}),a.jsx(s2,{title:"Departments with Email",value:t.filter(ee=>{var K;return(K=ee.head)==null?void 0:K.email}).length.toString(),change:`+${Math.floor(t.filter(ee=>{var K;return(K=ee.head)==null?void 0:K.email}).length/t.length*100)}%`,icon:a.jsx(Jp,{className:"w-6 h-6"})}),a.jsx(s2,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:a.jsx(ga,{className:"w-6 h-6"})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:P,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:V,onFocus:()=>R(!0),"aria-label":"Search departments"}),a.jsx(ar,{children:I&&G.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:G.map(ee=>a.jsx(T.button,{onClick:()=>q(ee.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:ee.name})},ee.id))})})]})}),a.jsx(ar,{children:N&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):B.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&a.jsx("button",{onClick:()=>p(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:B.map((ee,K)=>{var W,J;return a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:K+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ee.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((W=ee.head)==null?void 0:W.name)||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((J=ee.head)==null?void 0:J.email)||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>O(`/worklocation/department/editdepartment/${ee.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(ee.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},ee.id)})})]})})})]})]}),a.jsx(X$e,{isOpen:g,onClose:()=>v(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>v(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w&&z(w),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},Z$e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,eHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addDepartment:o,getUsers:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",head_id:0}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,head_id:S.head_id};await o(E),g("Department created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Department")}finally{N(!1)}};b.useCallback(F=>{if(!F)return;const E=parseInt(F.value),M=r.find(H=>parseInt(H.id)===E);if(M){const H=s.find(V=>V.id===M.department_id);A(V=>({...V,id:E,department_id:M.department_id||0,known_by_id:(H==null?void 0:H.head_id)||null}))}},[r,s]);const R=()=>{w(!1),k("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(dd,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),a.jsxs(T.button,{onClick:()=>k("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Department Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),r.map(F=>a.jsx("option",{value:F.id,children:F.name||F.name},F.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),a.jsx(Z$e,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department"})]})})]})},tHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{addDepartment:l,getUsers:c,updateDepartment:d,getDepartmentById:f}=sr(),[m,p]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return H?JSON.parse(H):!1}),[g,v]=b.useState(null),[w,y]=b.useState(null),[N,k]=b.useState(!1),[S,A]=b.useState(!1),_=tr(),[O,P]=b.useState({name:"",head_id:0}),I=()=>{p(H=>!H)};b.useEffect(()=>{i&&P({name:i.name||"",head_id:i.head_id||0})},[i]);const R=H=>{const{name:V,value:G}=H.target;P(q=>({...q,[V]:V==="sla"?Number(G):G}))},F=b.useCallback(async()=>{try{if(t){const[H,V]=await Promise.all([f(t),c()]);o(H),s(V)}}catch(H){v(H.message||"Failed to load form data")}},[t,f,c]);b.useEffect(()=>{t&&F()},[t,F]);const E=async H=>{H.preventDefault(),A(!0),v(null);try{const V={name:O.name,head_id:O.head_id};await d(t,V),y("Department update successfully!"),k(!0)}catch(V){v(V.message||"Failed to create Department")}finally{A(!1)}},M=()=>{k(!1),_("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(dd,{}),isMobile:e,toggleSidebar:I}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),a.jsxs(T.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Department Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Department Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:O.name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:O.head_id,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),n.map(H=>a.jsx("option",{value:H.id,children:H.name||H.name},H.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Department"]})})]})]})]})]})]}),a.jsx(tHe,{isOpen:N,onClose:M,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:M,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Department Management"})]})})]})},nHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),aHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},sHe=()=>{const[t,e]=b.useState([]),{getStopTimes:r,deleteStopTimes:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load stop times"),console.error("Error loading stop times:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="stop time"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete stop time:",z),l("Failed to delete stop time. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:a.jsx(Cr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Stop Time"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(aHe,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})})}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search stop times"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(nHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},iHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addStopTimes:o,getStopTimes:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,description:S.description};await o(E),g("Stop Time created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Stop Time")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),a.jsxs(T.button,{onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(iHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},lHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,cHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",description:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",description:i.description||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Stop Time update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Stop Time")}finally{S(!1)}},E=()=>{N(!1),A("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),a.jsxs(T.button,{onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(lHe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},dHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),uHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},fHe=()=>{const[t,e]=b.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load activity types"),console.error("Error loading activity types:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var J;const W=(J=K.name)==null?void 0:J.toLowerCase().includes(ee);return W})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete activity type:",z),l("Failed to delete activity type. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:a.jsx(_6,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Activity Type"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(uHe,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(_6,{className:"w-6 h-6"})})}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search activity types"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(dHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},hHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addActivityTypes:o,getActivityTypes:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name};await o(E),g("Activity Type created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Activity Type")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Hg,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),a.jsxs(T.button,{onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Activity Types Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(hHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},mHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,pHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name};await c(t,H),w("Activity Type update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Activity Type")}finally{S(!1)}},E=()=>{N(!1),A("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Hg,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),a.jsxs(T.button,{onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Activity Type Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(mHe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},i2=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const i=s?gHe(e,r):xHe(e,r),o=e>=r,l=s?`${i} from last month`:`${i} from last month`;return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},gHe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},xHe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},bHe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),[A,_]=b.useState(1),[O]=b.useState(5),[P,I]=b.useState(window.innerWidth<768),[R,F]=b.useState(!1),[E,M]=b.useState(!1),[H,V]=b.useState([]),[G,q]=b.useState([]),[B,z]=b.useState(!0),[X,ee]=b.useState(null),[K,W]=b.useState(null),J=HG(),[Z,ie]=b.useState([]),[ue,je]=b.useState(!1),[ce,le]=b.useState(!1),[pe,$e]=b.useState(null),[de,Se]=b.useState(null),{user:te,getWorkOrdersIT:se,deleteWorkOrder:ut,hasPermission:dt,fetchWithAuth:De,getVendor:rt}=sr(),wt=tr(),gt=Ws(),Rt=b.useRef(null),He=b.useRef(null);gt.pathname,gt.pathname;const he=gt.pathname==="/workorders/it";gt.pathname;const Qe=gt.pathname==="/workorders/it/assignment",Ge=gt.pathname==="/workorders/it/receiver",mt=gt.pathname==="/workorders/it/reports",Le=gt.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const Ee=()=>{I(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Ee),()=>window.removeEventListener("resize",Ee)},[]),b.useEffect(()=>{const Ee=It=>{Rt.current&&!Rt.current.contains(It.target)&&F(!1),He.current&&!He.current.contains(It.target)&&M(!1)};return document.addEventListener("mousedown",Ee),()=>{document.removeEventListener("mousedown",Ee)}},[]),b.useEffect(()=>{let Ee=!0;return(async()=>{try{z(!0),ee(null);const Pt=await se();if(!Ee)return;const Bt=Pt.filter(Mt=>Mt.requester_id===Number(te==null?void 0:te.id));V(Bt);const ft=new Date;ft.setMonth(ft.getMonth()-1);const Ct=Bt.filter(Mt=>new Date(Mt.date)<ft);ie(Ct)}catch(Pt){if(!Ee)return;ee("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Pt)}finally{Ee&&z(!1)}})(),()=>{Ee=!1}},[se,te==null?void 0:te.id]),b.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]);const _e=Ee=>{switch(Ee){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},qe=b.useCallback(Ee=>{const It=H.find(Pt=>Pt.id===Ee);It&&(g(It),m(!0))},[H]);b.useCallback(Ee=>{S(Ee),N(!0)},[]);const ge=b.useCallback(async Ee=>{try{z(!0),ee(null),await ut(Ee);const Pt=(await se()).filter(Bt=>Bt.requester_id===Number(te==null?void 0:te.id));V(Pt),N(!1),S(null),W("Work order deleted successfully."),setTimeout(()=>W(null),2500)}catch(It){ee("Failed to delete work order."),console.error("Error deleting work order:",It)}finally{z(!1)}},[ut,se,te==null?void 0:te.id]),Oe=b.useCallback(Ee=>{Se(Ee),le(!0)},[]),ke=b.useCallback(Ee=>{$e(Ee),je(!0)},[]),Ue=b.useCallback(async Ee=>{try{z(!0),ee(null),await De(`/ayam/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Pt=(await se()).filter(Ct=>Ct.requester_id===Number(te==null?void 0:te.id));V(Pt);const Bt=new Date;Bt.setMonth(Bt.getMonth()-1);const ft=Pt.filter(Ct=>new Date(Ct.date)<Bt);ie(ft),m(!1),g(null),le(!1),Se(null),W("Work order cancelled successfully."),setTimeout(()=>W(null),2500)}catch(It){ee("Failed to cancel work order."),console.error("Error cancelling work order:",It)}finally{z(!1)}},[De,se,te==null?void 0:te.id]),Xe=b.useCallback(async Ee=>{try{z(!0),ee(null),await De(`/ayam/${Ee}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Pt=(await se()).filter(Ct=>Ct.requester_id===Number(te==null?void 0:te.id));V(Pt);const Bt=new Date;Bt.setMonth(Bt.getMonth()-1);const ft=Pt.filter(Ct=>new Date(Ct.date)<Bt);ie(ft),m(!1),g(null),je(!1),$e(null),W("Work order completed successfully."),setTimeout(()=>W(null),2500)}catch(It){ee("Failed to complete work order."),console.error("Error completing work order:",It)}finally{z(!1)}},[De,se,te==null?void 0:te.id]),we=Ee=>Ee.filter(It=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(It.handling_status)),ye=Ee=>Ee.filter(It=>["Closed","Cancel"].includes(It.handling_status)),Ke=Ee=>Ee.filter(It=>It.handling_status==="New"),pt=()=>{n(Ee=>!Ee)},tt=Ee=>{var It;return Ee.vendor?`${Ee.vendor.name}`:((It=Ee.assigned_to)==null?void 0:It.name)||"Unassigned"},Te=Ee=>Ee.vendor?"vendor":Ee.assigned_to?"user":"unassigned",ne=H.filter(Ee=>{var Bt,ft,Ct,Mt;const It=((ft=(Bt=Ee.requester)==null?void 0:Bt.name)==null?void 0:ft.toLowerCase().includes(s.toLowerCase()))||((Ct=Ee.work_order_no)==null?void 0:Ct.toLowerCase().includes(s.toLowerCase()))||((Mt=Ee.complaint)==null?void 0:Mt.toLowerCase().includes(s.toLowerCase()))||String(Ee.id).includes(s),Pt=o==="all"||Ee.handling_status===o;return It&&Pt}).sort((Ee,It)=>new Date(It.created_at).getTime()-new Date(Ee.created_at).getTime()),Ie=A*O,Ye=Ie-O,st=ne.slice(Ye,Ie),yt=Math.ceil(ne.length/O),ze=Ee=>_(Ee),St=({order:Ee,onClose:It})=>{var vn,or,Ur,Yr,jn;const Pt=Ve=>Ve==null?"-":typeof Ve=="object"&&Ve!==null?Ve.name||Ve.title||Ve.id||"-":typeof Ve=="string"?Ve.trim()!==""?Ve.trim():"-":typeof Ve=="number"?Ve.toString():String(Ve),Bt=Ve=>Ve?new Date(Ve).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ft=({status:Ve})=>{const it={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${it[Ve]||it.New}`,children:Ve})},Ct=({title:Ve,children:it,icon:_t})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[_t&&a.jsx("div",{className:"mr-3 text-blue-600",children:_t}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ve})]})}),a.jsx("div",{className:"p-6",children:it})]}),Mt=({label:Ve,value:it,icon:_t,fullWidth:xe=!1,priority:nt="medium"})=>{const Nt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${xe?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${Nt[nt]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[_t&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_t}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ve}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:it})]})]})})})},pr=({label:Ve,htmlContent:it,icon:_t,fullWidth:xe=!1})=>{if(!it)return a.jsx(Mt,{label:Ve,value:"-",icon:_t,fullWidth:xe,priority:"low"});const nt=mu.sanitize(it,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${xe?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[_t&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:_t}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Ve}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:nt}})]})]})})})},yn=({order:Ve})=>{const it=zt=>{switch(zt==null?void 0:zt.toLowerCase()){case"new":return a.jsx(zK,{className:"w-4 h-4"});case"assigned":return a.jsx(ln,{className:"w-4 h-4"});case"in progress":return a.jsx(Cr,{className:"w-4 h-4"});case"resolved":return a.jsx(KK,{className:"w-4 h-4"});case"closed":return a.jsx(ur,{className:"w-4 h-4"});case"cancel":return a.jsx(GE,{className:"w-4 h-4"});case"escalated":return a.jsx(Hr,{className:"w-4 h-4"});case"vendor handled":return a.jsx(ia,{className:"w-4 h-4"});default:return a.jsx(fc,{className:"w-4 h-4"})}},_t=zt=>{switch(zt==null?void 0:zt.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},xe=(zt,Nr)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(Nr==null?void 0:Nr.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[zt.toLowerCase()]||`Status: ${zt}`,nt=()=>{var Nr,jr;const zt=[];if(zt.push({id:"created",status:"new",date:Ve.date,changed_by:((Nr=Ve.requester)==null?void 0:Nr.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),Ve.status_history&&Ve.status_history.length>0&&[...Ve.status_history].sort((ir,Kn)=>new Date(ir.changed_at).getTime()-new Date(Kn.changed_at).getTime()).forEach((ir,Kn)=>{var Qr,Sn;const Er=zt[zt.length-1],ii=Nt(Er.date,ir.changed_at);let ya=ir.action,va=xe(ir.action);ir.action==="updated"&&((Qr=ir.new_data)!=null&&Qr.handling_status)&&(ya=ir.new_data.handling_status,va=xe(ir.new_data.handling_status,{assigned_to:(Sn=Ve.assigned_to)==null?void 0:Sn.name}));let nn="System";ir.user_id===55?nn="DevTest User 1":ir.user_id===41?nn="Regular User QC":ir.user_id===57?nn="DevTest User 2":ir.user_id===36?nn="Super Admin User":ir.user_id===37?nn="Admin User One":ir.user_id===40?nn="Regular User IT":ir.user_id===42||ir.user_id===56?nn="Monitor":ir.changed_by?nn=ir.changed_by:nn=`User ${ir.user_id}`,zt.push({id:ir.id.toString(),status:ya,date:ir.changed_at,changed_by:nn,description:va,duration:ii,comments:ir.comments,old_data:ir.old_data,new_data:ir.new_data,isStatusChange:!0})}),(jr=Ve.received_by)!=null&&jr.name&&Ve.handling_date&&!zt.some(ir=>{var Kn,Er;return ir.status==="received"||((Kn=ir.new_data)==null?void 0:Kn.received_by_id)&&((Er=ir.new_data)==null?void 0:Er.handling_status)==="Resolved"})){const ir=zt[zt.length-1],Kn=Nt(ir.date,Ve.handling_date),Er={id:"received",status:"received",date:Ve.handling_date,changed_by:Ve.received_by.name,description:"Diterima oleh teknisi",duration:Kn,isManualEvent:!0};zt.push(Er)}return zt.sort((cn,ir)=>new Date(cn.date).getTime()-new Date(ir.date).getTime())},Nt=(zt,Nr)=>{const jr=new Date(zt),cn=new Date(Nr),ir=Math.abs(cn.getTime()-jr.getTime()),Kn=Math.ceil(ir/(1e3*60*60*24));if(Kn===0){const Er=Math.ceil(ir/36e5),ii=Math.ceil(ir/(1e3*60));return ii<60?`${ii} minutes`:`${Er} hours`}return`${Kn} day${Kn>1?"s":""}`},cr=zt=>{const Nr=new Date(zt);return{date:Nr.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:Nr.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},rn=zt=>{var Nr,jr,cn;return(Nr=zt.new_data)!=null&&Nr.handling_status?`Diubah menjadi: ${zt.new_data.handling_status}`:(jr=zt.new_data)!=null&&jr.assigned_to_id?"Ditugaskan ke teknisi":(cn=zt.new_data)!=null&&cn.action_taken?`Tindakan diambil: ${zt.new_data.action_taken.substring(0,50)}...`:null},nr=nt();return a.jsxs("div",{className:"space-y-6",children:[nr.map((zt,Nr)=>{const jr=cr(zt.date),cn=Nr===nr.length-1,ir=rn(zt);return a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${_t(zt.status)}`}),!cn&&a.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[it(zt.status),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:zt.status}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:zt.description})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:jr.date}),a.jsx("div",{className:"text-xs text-gray-500",children:jr.time})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-600",children:[a.jsx("strong",{children:"Changed by:"})," ",zt.changed_by]}),zt.duration&&zt.duration!=="0 days"&&a.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",zt.duration]})]}),zt.duration&&zt.duration!=="0 days"&&Nr>0&&a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),ir&&a.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:ir}),zt.comments&&a.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[a.jsx("strong",{children:"Comments:"})," ",zt.comments]}),zt.status==="assigned"&&Ve.assigned_to&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Assigned to:"})," ",Ve.assigned_to.name,Ve.assigned_to.email&&` (${Ve.assigned_to.email})`]}),(zt.status==="resolved"||zt.status==="closed")&&Ve.action_taken&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Action taken:"})," ",Ve.action_taken.substring(0,100),"..."]})]}),cn&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),a.jsx("span",{className:"font-bold text-blue-600 text-lg",children:Nt(Ve.date,zt.date)})]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",cr(Ve.date).date," • Current: ",jr.date]})]})]})]},zt.id)}),Ve.handling_status==="Closed"&&Ve.handling_date&&a.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",Nt(Ve.date,Ve.handling_date)]})]}),a.jsx(ur,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:["Created: ",cr(Ve.date).date]}),a.jsxs("div",{children:["Completed: ",cr(Ve.handling_date).date]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("strong",{children:"Timeline:"})," ",nr.length," status changes"]})]})]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",Ee.work_order_no||Ee.id]}),a.jsx(ft,{status:Ee.handling_status})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Created: ",Bt(Ee.date)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:It,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(Ct,{title:"General Information",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Mt,{label:"Work Order No",value:Pt(Ee.work_order_no),icon:a.jsx(un,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"Reception Method",value:Pt(Ee.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Requester",value:Pt((vn=Ee.requester)==null?void 0:vn.name),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"Department",value:Pt((or=Ee.department)==null?void 0:or.name),icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Known By",value:Pt((Ur=Ee.known_by)==null?void 0:Ur.name),icon:a.jsx(bo,{className:"w-4 h-4"})})]})}),a.jsx(Ct,{title:"Service Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Mt,{label:"Service Type",value:Pt(Ee.service_type.group_name),icon:a.jsx(zs,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"Service",value:Pt(Ee.service.service_name),icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"No Asset",value:Pt(Ee.asset_no),icon:a.jsx(un,{className:"w-4 h-4"})})]})}),a.jsx(Ct,{title:"Device & Complaint",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Mt,{label:"Device Information",value:Pt(Ee.device_info),icon:a.jsx(zs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(pr,{label:"Complaint Details",htmlContent:Ee.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(Ct,{title:"Handling Information",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Mt,{label:"Ticket Status",value:Pt(Ee.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"Handling Date",value:Bt(Ee.handling_date||"-"),icon:a.jsx(xa,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Mt,{label:"Assigned To",value:Pt((Yr=Ee.assigned_to)==null?void 0:Yr.name),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Received By",value:Pt((jn=Ee.received_by)==null?void 0:jn.name),icon:a.jsx(ur,{className:"w-4 h-4"})})]}),a.jsx(pr,{label:"Action Taken",htmlContent:Ee.action_taken||"",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(pr,{label:"Remarks",htmlContent:Ee.remarks||"",icon:a.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),Ee.status_history&&Ee.status_history.length>0&&a.jsx(Ct,{title:"Work Order Timeline",icon:a.jsx(WK,{className:"w-5 h-5"}),children:a.jsx(yn,{order:Ee})}),Ee.vendor&&a.jsx(Ct,{title:"Vendor Details",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Mt,{label:"Vendor Name",value:Pt(Ee.vendor.name),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Mt,{label:"Contact Person",value:Pt(Ee.vendor.contact_person),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Email",value:Pt(Ee.vendor.email),icon:a.jsx(Jp,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Phone",value:Pt(Ee.vendor.telp),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Mobile",value:Pt(Ee.vendor.HP),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(Mt,{label:"Address",value:Pt(Ee.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),Ee.attachment&&a.jsx(Ct,{title:"Attachment",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[a.jsx("p",{className:"text-sm font-medium text-gray-700 mb-3",children:"Preview Attachment:"}),a.jsx("div",{className:"flex justify-center",children:a.jsx("img",{src:`${J.envVariables.VITE_BACKEND_API_URL}${Ee.attachment}`,alt:"Work order attachment",className:"max-w-full max-h-64 rounded-lg shadow-md object-contain",onError:Ve=>{Ve.currentTarget.style.display="none"}})})]}),a.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Attachment File"}),a.jsx("p",{className:"text-xs text-gray-500",children:"Click to download or view full size"})]})]}),a.jsxs("a",{href:`${J.envVariables.VITE_BACKEND_API_URL}${Ee.attachment}`,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center px-3 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 text-sm font-medium",children:[a.jsx(YE,{className:"w-4 h-4 mr-1"}),"Open Full Size"]})]})]})})]})};return B?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):X?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:X}),a.jsx("button",{onClick:()=>{(async()=>{try{z(!0),ee(null);const Pt=(await se()).filter(Ct=>Ct.requester_id===Number(te==null?void 0:te.id));V(Pt);const Bt=new Date;Bt.setMonth(Bt.getMonth()-1);const ft=Pt.filter(Ct=>new Date(Ct.date)<Bt);ie(ft)}catch{ee("Failed to load work orders. Please try again.")}finally{z(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:P,toggleSidebar:pt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>wt("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${he?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>wt("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>wt("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Qe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>wt("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${mt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>wt("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(T.button,{onClick:()=>wt("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(pa,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),a.jsxs(T.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ki,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),c?a.jsx(sj,{}):a.jsx(la,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(i2,{title:"Total IT Requests",currentCount:ne.length,lastMonthCount:Z.length,icon:a.jsx(un,{})}),a.jsx(i2,{title:"IT New WO",currentCount:Ke(ne).length,lastMonthCount:Ke(Z).length,icon:a.jsx(Cr,{}),usePercentage:!1}),a.jsx(i2,{title:"IT Progress",currentCount:we(ne).length,lastMonthCount:we(Z).length,icon:a.jsx(ia,{}),usePercentage:!1}),a.jsx(i2,{title:"IT Closed",currentCount:ye(ne).length,lastMonthCount:ye(Z).length,icon:a.jsx(ur,{}),usePercentage:!1})]}),a.jsx(T.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:Ee=>i(Ee.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:Ee=>l(Ee.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:st.length>0?st.map(Ee=>{const It=tt(Ee),Pt=Te(Ee);return a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>qe(Ee.id),title:"Click to view details",children:Ee.work_order_no||"-"}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:new Date(Ee.date).toLocaleDateString()})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.device_info})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.asset_no||"-"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ee.service_type.group_name||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${_e(Ee.handling_status)}`,children:Ee.handling_status})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Pt==="vendor"?"text-purple-600":Pt==="user"?"text-blue-600":"text-gray-500"}`,children:It}),Pt==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>qe(Ee.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details",children:a.jsx(bo,{className:"text-base"})}),Ee.handling_status==="New"&&a.jsxs(a.Fragment,{children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>wt(`/workorders/it/editworkorder/${Ee.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 p-1 rounded-full hover:bg-gray-50",title:"Edit Work Order",children:a.jsx($a,{className:"text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Oe(Ee.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Cancel Work Order",children:a.jsx($t,{className:"text-base"})})]}),Ee.handling_status==="Resolved"&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Bt=>{ke(Ee.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 p-1 rounded-full hover:bg-green-50",title:"Mark as Closed",children:a.jsx(ur,{className:"text-base"})})]})]},Ee.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-5 py-8 text-center text-gray-600 text-base",children:"No IT work order requests found matching your criteria."})})})]})})}),ne.length>O&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ye+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Ie,ne.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ne.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ze(A-1),disabled:A===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:yt},(Ee,It)=>a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ze(It+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
            ${A===It+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
          `,"aria-label":`Go to page ${It+1}`,children:It+1},It+1)),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ze(A+1),disabled:A===yt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),p&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",p.id]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),g(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[80vh]",children:a.jsx(St,{order:p,onClose:()=>{m(!1),g(null)}})})]})})}),a.jsx(ar,{children:y&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>k!==null&&ge(k),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),K&&a.jsx(T.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:K}),a.jsx(ar,{children:ue&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(ur,{className:"text-green-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>je(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>pe!==null&&Xe(pe),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),a.jsx(ar,{children:ce&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-orange-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>de!==null&&Ue(de),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),X&&a.jsxs(T.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[X,a.jsx("button",{onClick:()=>ee(null),className:"ml-2 underline",children:"Dismiss"})]})]})},yHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,vHe=()=>{var Oe,ke,Ue,Xe,we;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o}=sr(),l=tr(),{id:c}=si(),[d,f]=b.useState([]),[m,p]=b.useState([]),[g,v]=b.useState([]),[w,y]=b.useState([]),[N,k]=b.useState(window.innerWidth<768),[S,A]=b.useState(()=>{const ye=localStorage.getItem("sidebarOpen");return ye?JSON.parse(ye):!1}),[_,O]=b.useState(!1),[P,I]=b.useState(!1),[R,F]=b.useState(!1),[E,M]=b.useState(!1),[H,V]=b.useState(!0),[G,q]=b.useState(null),[B,z]=b.useState(null),[X,ee]=b.useState(!1),[K,W]=b.useState(null),J=b.useRef(null),Z=b.useRef(null),[ie,ue]=b.useState([]),[je,ce]=b.useState([]),[le,pe]=b.useState([]),[$e,de]=b.useState(!1),Se={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((Oe=e==null?void 0:e.department)==null?void 0:Oe.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[te,se]=b.useState(Se),ut=te.reception_method==="Electronic Work Order System";b.useEffect(()=>{(async()=>{if(c)try{V(!0);const Ke=await o(parseInt(c));console.log("Work Order Data:",Ke),se({id:Ke.id,date:Ke.date.split("T")[0],reception_method:Ke.reception_method,requester_id:Ke.requester_id,known_by_id:Ke.known_by_id,department_id:Ke.department_id,service_group_id:Ke.service_group_id,service_catalogue_id:Ke.service_catalogue_id,asset_no:Ke.asset_no,device_info:Ke.device_info,complaint:Ke.complaint,attachment:Ke.attachment,received_by_id:Ke.received_by_id,handling_date:Ke.handling_date?Ke.handling_date.split("T")[0]:null,action_taken:Ke.action_taken,handling_status:Ke.handling_status,remarks:Ke.remarks})}catch(Ke){console.error("Failed to fetch work order data:",Ke),q(Ke.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{V(!1)}})()},[c,o]),b.useEffect(()=>{e&&(async()=>{try{const pt=(await i(0)).map(ne=>({id:Number(ne.id),name:ne.group_name??"",description:ne.group_description??void 0}));ce(pt),pe(pt);const tt=await s();p(tt);const Te=await r();if(f(Te),e&&e.id){const Ie=await n(parseInt(e.id));v(Ie),console.log("Services loaded:",Ie)}}catch(Ke){console.error("Failed to fetch master data:",Ke)}})()},[e,r,n,s,i]),b.useEffect(()=>{var ye;if(te.reception_method==="Electronic Work Order System"&&e){const Ke=((ye=e.department)==null?void 0:ye.head_id)||null;se(pt=>({...pt,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Ke}))}},[te.reception_method,e]),b.useEffect(()=>{const ye=()=>{k(window.innerWidth<768),window.innerWidth<768&&A(!1)};return window.addEventListener("resize",ye),()=>window.removeEventListener("resize",ye)},[]),b.useEffect(()=>{const ye=Ke=>{J.current&&!J.current.contains(Ke.target)&&I(!1),Z.current&&!Z.current.contains(Ke.target)&&F(!1)};return document.addEventListener("mousedown",ye),()=>{document.removeEventListener("mousedown",ye)}},[]),b.useEffect(()=>{if(te.service_group_id&&g.length>0){const ye=g.filter(Ke=>Ke.service_group.id===te.service_group_id);ue(ye)}else ue([])},[te.service_group_id,g]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const dt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),A(ye=>!ye)},De=b.useCallback((ye,Ke)=>{let pt,tt;if(ye&&"target"in ye)pt=ye.target.name,tt=ye.target.value;else if(ye&&typeof ye=="object"&&"value"in ye&&Ke)pt=Ke,tt=ye.value;else if(ye===null&&Ke)pt=Ke,tt=null;else return;se(Te=>({...Te,[pt]:tt}))},[]),rt=ye=>{const Ke=(ye==null?void 0:ye.value)||"";se(pt=>{var Te,ne;const tt={...pt,reception_method:Ke};return Ke==="Electronic Work Order System"&&e?{...tt,requester_id:parseInt(e.id),department_id:((Te=e.department)==null?void 0:Te.id)||0,known_by_id:((ne=e.department)==null?void 0:ne.head_id)||null}:tt})},wt=ye=>{se(Ke=>({...Ke,asset_no:ye?ye.value:""}))},gt=b.useCallback(ye=>{if(ye.target.files&&ye.target.files.length>0){const Ke=ye.target.files[0];W(Ke),se(pt=>({...pt,attachment:null}))}else W(null),se(Ke=>({...Ke,attachment:null}))},[]),Rt=b.useCallback(()=>{W(null),se(ye=>({...ye,attachment:null}))},[]),He=async ye=>{ye.preventDefault(),M(!0),q(null);const Ke={id:te.id,date:te.date,reception_method:te.reception_method,requester_id:te.requester_id,known_by_id:te.known_by_id,department_id:te.department_id,service_group_id:te.service_group_id,service_catalogue_id:te.service_catalogue_id,asset_no:te.asset_no,device_info:te.device_info,complaint:te.complaint,attachment:te.attachment};try{await t(Ke,K),z({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${te.id}`}}),ee(!0)}catch(pt){q(pt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",pt)}finally{M(!1)}},he=ye=>{const Ke=ye?parseInt(ye.value):null;se(pt=>({...pt,service_group_id:Ke,service_catalogue_id:null}))},Qe=ye=>{const Ke=ye?parseInt(ye.value):null;se(pt=>({...pt,service_catalogue_id:Ke}))},Ge=b.useCallback(()=>{ee(!1),l("/workorders/it")},[l]),mt={control:(ye,Ke)=>({...ye,minHeight:"42px",borderColor:Ke.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Ke.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ye=>({...ye,padding:"0"}),singleValue:ye=>({...ye,color:"#374151"}),placeholder:ye=>({...ye,color:"#6B7280"}),dropdownIndicator:ye=>({...ye,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ye=>({...ye,display:"none"}),menu:ye=>({...ye,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ye,Ke)=>({...ye,backgroundColor:Ke.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Le=b.useCallback(ye=>{if(!ye)return;const Ke=parseInt(ye.value),pt=d.find(tt=>parseInt(tt.id)===Ke);if(pt){const tt=m.find(Te=>Te.id===pt.department_id);se(Te=>({...Te,requester_id:Ke,department_id:pt.department_id||0,known_by_id:(tt==null?void 0:tt.head_id)||null}))}},[d,m]),_e=()=>{if(ut){const Ke=m.find(pt=>pt.id===(e==null?void 0:e.department_id));return(Ke==null?void 0:Ke.name)||"No department assigned"}const ye=m.find(Ke=>Ke.id===te.department_id);return(ye==null?void 0:ye.name)||"No department assigned"},qe=()=>{if(ut){const Ke=m.find(pt=>pt.id===(e==null?void 0:e.department_id));if(Ke&&Ke.head_id){const pt=d.find(tt=>parseInt(tt.id)===Ke.head_id);return(pt==null?void 0:pt.name)||"No department head assigned"}return"No department head assigned"}const ye=m.find(Ke=>Ke.id===te.department_id);if(ye&&ye.head_id){const Ke=d.find(pt=>parseInt(pt.id)===ye.head_id);return(Ke==null?void 0:Ke.name)||"No department head assigned"}return"No department head assigned"},ge=()=>{if(!te.attachment)return null;try{const Ke=new URL(te.attachment).pathname;return Ke.substring(Ke.lastIndexOf("/")+1)}catch{return te.attachment}};return H?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:N,toggleSidebar:dt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),a.jsxs(T.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(fu,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[G&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:G}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>q(null)})})]}),a.jsxs("form",{onSubmit:He,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:te.date,onChange:De,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:te.reception_method,label:te.reception_method},onChange:rt,placeholder:"Select Reception Method",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),ut?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Tn,{id:"requester_id",name:"requester_id",options:d.map(ye=>({value:String(ye.id),label:ye.name})),value:d.find(ye=>parseInt(ye.id)===te.requester_id)?{value:String(te.requester_id),label:((ke=d.find(ye=>parseInt(ye.id)===te.requester_id))==null?void 0:ke.name)||""}:null,onChange:Le,placeholder:"Select Requester",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:_e()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:qe()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_group_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"service_group_id",name:"service_group_id",options:je.map(ye=>({value:String(ye.id),label:ye.name})),value:te.service_group_id!==null?{value:String(te.service_group_id),label:((Ue=je.find(ye=>ye.id===te.service_group_id))==null?void 0:Ue.name)||""}:null,onChange:he,placeholder:"Select Service Type",styles:mt,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_catalogue_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"service_catalogue_id",name:"service_catalogue_id",options:ie.map(ye=>({value:String(ye.id),label:ye.service_name})),value:te.service_catalogue_id!==null?{value:String(te.service_catalogue_id),label:((Xe=ie.find(ye=>ye.id===te.service_catalogue_id))==null?void 0:Xe.service_name)||""}:null,onChange:Qe,placeholder:te.service_group_id!==null?ie.length===0?"No services available for selected type":"Select Service":"Please select Service Type first",styles:mt,isDisabled:te.service_group_id===null||ie.length===0,required:!0}),ie.length===0&&te.service_group_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset "}),a.jsx(see,{name:"asset_no",id:"asset_no",options:w,value:te.asset_no?{value:te.asset_no,label:te.asset_no}:null,onChange:wt,onCreateOption:ye=>{const Ke={value:ye,label:ye};y(pt=>[...pt,Ke]),wt(Ke)},placeholder:"Type or select Asset No.",styles:mt,isClearable:!0,required:!1})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:te.device_info,onChange:De,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:te.complaint,onChange:ye=>{se(Ke=>({...Ke,complaint:ye}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(bc,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[a.jsx("span",{children:"Upload a file"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:gt})]}),a.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),K&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(bc,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:K.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(T.button,{type:"button",onClick:Rt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},K.name)}),te.attachment&&!K&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",ge()]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(mn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:E,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:E?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(yHe,{isOpen:X,onClose:Ge,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:B==null?void 0:B.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(we=B==null?void 0:B.work_order)==null?void 0:we.work_order_no]}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ge,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},wHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,jHe=()=>{var ke,Ue,Xe;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=sr(),c=tr(),{id:d}=si(),[f,m]=b.useState([]),[p,g]=b.useState([]),[v,w]=b.useState([]),[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(()=>{const we=localStorage.getItem("sidebarOpen");return we?JSON.parse(we):!1}),[A,_]=b.useState(!1),[O,P]=b.useState(!1),[I,R]=b.useState(!1),[F,E]=b.useState(!1),[M,H]=b.useState(!0),[V,G]=b.useState(null),[q,B]=b.useState(null),[z,X]=b.useState(!1),ee=b.useRef(null),K=b.useRef(null),[W,J]=b.useState([]),[Z,ie]=b.useState([]),[ue,je]=b.useState(!1),[ce,le]=b.useState([]),[pe,$e]=b.useState(!1),[de,Se]=b.useState(null),[te,se]=b.useState(!1),ut=({content:we,className:ye=""})=>{if(!we)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ye}`,children:a.jsx("span",{children:"-"})});const Ke=mu.sanitize(we,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ye}`,dangerouslySetInnerHTML:{__html:Ke}})},dt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ke=e==null?void 0:e.department)==null?void 0:ke.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[De,rt]=b.useState(dt);b.useEffect(()=>{const we=De.handling_status==="Escalated",ye=De.handling_status==="Vendor Handled";je(we),$e(ye),!we&&De.assigned_to_id&&rt(Ke=>({...Ke,assigned_to_id:null})),ye||(rt(Ke=>({...Ke,vendor_id:null})),Se(null),se(!1))},[De.handling_status]),b.useEffect(()=>{const we=async()=>{if(d)try{H(!0);const ye=await o(parseInt(d));if(rt({id:ye.id,date:ye.date.split("T")[0],reception_method:ye.reception_method,requester_id:ye.requester_id,known_by_id:ye.known_by_id,department_id:ye.department_id,service_group_id:ye.service_group_id,service_catalogue_id:ye.service_catalogue_id,asset_no:ye.asset_no,device_info:ye.device_info,complaint:ye.complaint,attachment:ye.attachment,received_by_id:ye.received_by_id,handling_date:ye.handling_date?ye.handling_date.split("T")[0]:null,action_taken:ye.action_taken,handling_status:ye.handling_status,remarks:ye.remarks,vendor_id:ye.vendor_id||null}),ye.vendor_id&&ce.length>0){const Ke=ce.find(pt=>pt.id===ye.vendor_id);Ke&&Se(Ke)}}catch(ye){console.error("Failed to fetch work order data:",ye),G(ye.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};ce.length>0&&we()},[d,o,ce]),b.useEffect(()=>{e&&(async()=>{try{const ye=await l();le(ye);const pt=(await i(0)).map(ne=>({id:Number(ne.id),name:ne.group_name??"",description:ne.group_description??void 0}));ie(pt);const tt=await s();g(tt);const Te=await r();if(m(Te),e&&e.id){const ne=await n(parseInt(e.id));w(ne)}}catch(ye){console.error("Failed to fetch master data:",ye)}})()},[e,r,n,s,i,l]),b.useEffect(()=>{const we=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),b.useEffect(()=>{const we=ye=>{ee.current&&!ee.current.contains(ye.target)&&P(!1),K.current&&!K.current.contains(ye.target)&&R(!1)};return document.addEventListener("mousedown",we),()=>{document.removeEventListener("mousedown",we)}},[]),b.useEffect(()=>{if(De.service_group_id&&v.length>0){const we=v.filter(ye=>ye.service_group.id===De.service_group_id);J(we)}else J([])},[De.service_group_id,v]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const wt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(we=>!we)},gt=b.useCallback((we,ye)=>{let Ke,pt;if(we&&"target"in we)Ke=we.target.name,pt=we.target.value;else if(we&&typeof we=="object"&&"value"in we&&ye)Ke=ye,ye==="assigned_to_id"||ye==="requester_id"||ye==="known_by_id"?pt=we.value?parseInt(we.value):null:pt=we.value;else if(we===null&&ye)Ke=ye,pt=null;else return;rt(tt=>({...tt,[Ke]:pt}))},[]),Rt=we=>{Se(we),rt(ye=>({...ye,vendor_id:we.id})),se(!1)},He=async we=>{if(we.preventDefault(),E(!0),G(null),De.handling_status==="Escalated"&&!De.assigned_to_id){G("Assigned To is required for Escalated status"),E(!1);return}if(De.handling_status==="Vendor Handled"&&!De.vendor_id){G("Vendor selection is required for Vendor Handled status"),E(!1);return}if(!De.handling_status){G("Handling status is required"),E(!1);return}if(!De.handling_date){G("Handling date is required"),E(!1);return}if(!De.action_taken||De.action_taken.length<5){G("Action taken must be at least 5 characters"),E(!1);return}const ye={...De,id:De.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:De.handling_date,action_taken:De.action_taken,handling_status:De.handling_status,remarks:De.remarks,assigned_to_id:De.assigned_to_id?parseInt(De.assigned_to_id):null,vendor_id:De.vendor_id};try{await t(ye),B({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${De.id}`}}),X(!0)}catch(Ke){G(Ke.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Ke)}finally{E(!1)}},he=b.useCallback(()=>{X(!1),c("/workorders/it/receiver")},[c]),Qe={control:(we,ye)=>({...we,minHeight:"42px",borderColor:ye.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ye.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:we=>({...we,padding:"0"}),singleValue:we=>({...we,color:"#374151"}),placeholder:we=>({...we,color:"#6B7280"}),dropdownIndicator:we=>({...we,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:we=>({...we,display:"none"}),menu:we=>({...we,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(we,ye)=>({...we,backgroundColor:ye.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ge=()=>{const we=f.find(ye=>parseInt(ye.id)===De.requester_id);return(we==null?void 0:we.name)||"Unknown"},mt=()=>{const we=p.find(ye=>ye.id===De.department_id);return(we==null?void 0:we.name)||"No department assigned"},Le=()=>{const we=p.find(ye=>ye.id===De.department_id);if(we&&we.head_id){const ye=f.find(Ke=>parseInt(Ke.id)===we.head_id);return(ye==null?void 0:ye.name)||"No department head assigned"}return"No department head assigned"},_e=()=>{const we=Z.find(ye=>ye.id===De.service_group_id);return(we==null?void 0:we.name)||"Unknown"},qe=()=>{const we=v.find(ye=>ye.id===De.service_catalogue_id);return(we==null?void 0:we.service_name)||"Unknown"},ge=()=>{if(!De.attachment)return null;try{const ye=new URL(De.attachment).pathname;return ye.substring(ye.lastIndexOf("/")+1)}catch{return De.attachment}},Oe=()=>{De.attachment&&window.open(De.attachment,"_blank")};return M?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:y,toggleSidebar:wt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(T.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(fu,{className:"text-lg"})," Back to Receiver"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[V&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:V}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>G(null)})})]}),a.jsxs("form",{onSubmit:He,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ge()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:mt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Le()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:_e()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:qe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(ut,{content:De.complaint,className:"min-h-[100px]"})]})]})]}),De.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:ge()}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Oe,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ur,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:De.handling_date||"",onChange:gt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:De.handling_status?{value:De.handling_status,label:De.handling_status}:null,onChange:we=>gt(we,"handling_status"),placeholder:"Select Handling Status",styles:Qe,required:!0})]}),ue&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(we=>({value:String(we.id),label:we.name})),value:De.assigned_to_id?{value:String(De.assigned_to_id),label:((Ue=f.find(we=>parseInt(we.id)===De.assigned_to_id))==null?void 0:Ue.name)||"Unknown"}:null,onChange:we=>gt(we,"assigned_to_id"),placeholder:"Select Assignee",styles:Qe,required:ue})]}),pe&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),de?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Se(null),rt(we=>({...we,vendor_id:null})),se(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>se(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ce.length>0?ce.map(we=>a.jsxs(T.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Rt(we),children:[a.jsx("div",{className:"font-medium text-gray-900",children:we.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[we.contact_person," • ",we.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:we.address})]},we.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Hr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:De.action_taken||"",onChange:we=>{rt(ye=>({...ye,action_taken:we}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:De.remarks||"",onChange:we=>{rt(ye=>({...ye,remarks:we}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(mn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:F,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(wHe,{isOpen:z,onClose:he,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:q==null?void 0:q.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Xe=q==null?void 0:q.work_order)==null?void 0:Xe.work_order_no]}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:he,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},o2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},NHe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(!1),[s,i]=b.useState(""),[o,l]=b.useState("all"),[c,d]=b.useState(!1),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,A]=b.useState(!1),[_,O]=b.useState(!1),[P,I]=b.useState([]),[R,F]=b.useState(!0),[E,M]=b.useState(null),[H,V]=b.useState(!1),[G,q]=b.useState(null),[B,z]=b.useState(!1),[X,ee]=b.useState(""),K=tr(),W=Ws(),J=b.useRef(null),Z=b.useRef(null),{user:ie,getWorkOrdersIT:ue,updateWorkOrderIT:je,hasPermission:ce}=sr(),le=W.pathname==="/workorders/it/assignment",pe=W.pathname==="/workorders/it/reports",$e=W.pathname==="/workorders/it/knowledgebase",de=W.pathname==="/workorders/it",Se=W.pathname==="/workorders/it/receiver";W.pathname;const te=({order:ke,onClose:Ue})=>{var Ie,Ye,st,yt,ze,St,Ee,It,Pt,Bt;const Xe=ft=>ft==null?"-":typeof ft=="object"&&ft!==null?ft.name||ft.title||ft.id||"-":typeof ft=="string"?ft.trim()!==""?ft.trim():"-":typeof ft=="number"?ft.toString():String(ft),we=ft=>ft?new Date(ft).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ye=({status:ft})=>{const Ct={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ct[ft]||Ct.New}`,children:ft})},Ke=({priority:ft})=>{const Ct={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Ct[ft]||Ct.Medium}`,children:ft||"Medium"})},pt=({title:ft,children:Ct,icon:Mt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Mt&&a.jsx("div",{className:"mr-3 text-blue-600",children:Mt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ft})]})}),a.jsx("div",{className:"p-6",children:Ct})]}),tt=({label:ft,value:Ct,icon:Mt,fullWidth:pr=!1,priority:yn="medium"})=>{const vn={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${pr?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${vn[yn]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Mt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Mt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:ft}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Ct})]})]})})})},Te=({label:ft,htmlContent:Ct,icon:Mt,fullWidth:pr=!1})=>{if(!Ct)return a.jsx(tt,{label:ft,value:"-",icon:Mt,fullWidth:pr,priority:"low"});const yn=mu.sanitize(Ct,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${pr?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Mt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Mt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:ft}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:yn}})]})]})})})},ne=({order:ft})=>{const Mt=!["Resolved","Cancel","Closed"].includes(ft.handling_status)&&ft.assigned_to_id===Number(ie==null?void 0:ie.id);return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Mt&&a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>K(`/workorders/it/assignment/editassignment/${ft.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx($a,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Ue,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",ke.work_order_no||ke.id]}),a.jsx(ye,{status:ke.handling_status}),a.jsx(Ke,{priority:(Ie=ke.service)==null?void 0:Ie.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Created: ",we(ke.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),ke.handling_date?`Assigned: ${we(ke.handling_date)}`:"Not yet assigned"]})]})]})})}),a.jsx(pt,{title:"My Assignment Details",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(tt,{label:"Assigned To",value:Xe(((Ye=ke.assigned_to)==null?void 0:Ye.name)||(ie==null?void 0:ie.name)),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(tt,{label:"Assignment Type",value:ke.vendor?"Vendor":"Internal Technician",icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Current Status",value:Xe(ke.handling_status),icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(tt,{label:"Priority Level",value:Xe(((st=ke.service)==null?void 0:st.priority)||"Medium"),icon:a.jsx(Hr,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(pt,{title:"Service & Technical Information",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(tt,{label:"Service Type",value:Xe((yt=ke.service_type)==null?void 0:yt.group_name),icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Service Name",value:Xe((ze=ke.service)==null?void 0:ze.service_name),icon:a.jsx(un,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Service Owner",value:Xe((Ee=(St=ke.service)==null?void 0:St.owner)==null?void 0:Ee.name),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Asset Number",value:Xe(ke.asset_no),icon:a.jsx(un,{className:"w-4 h-4"})})]})}),a.jsx(pt,{title:"Request Information",icon:a.jsx(un,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(tt,{label:"Requester",value:Xe((It=ke.requester)==null?void 0:It.name),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Requester Department",value:Xe(ke.department_name||((Pt=ke.department)==null?void 0:Pt.name)),icon:a.jsx(zs,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Reception Method",value:Xe(ke.reception_method),icon:a.jsx(ni,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Known By",value:Xe((Bt=ke.known_by)==null?void 0:Bt.name),icon:a.jsx(bo,{className:"w-4 h-4"})})]})}),a.jsx(pt,{title:"Problem Details",icon:a.jsx(Hr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(tt,{label:"Device Information",value:Xe(ke.device_info),icon:a.jsx(zs,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Te,{label:"Complaint Description",htmlContent:ke.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(pt,{title:"Progress & Actions",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Te,{label:"Action Taken",htmlContent:ke.action_taken||"No actions recorded yet",icon:a.jsx(ia,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Te,{label:"Technical Notes & Remarks",htmlContent:ke.remarks||"No remarks yet",icon:a.jsx(un,{className:"w-4 h-4"}),fullWidth:!0})]})}),ke.vendor&&a.jsx(pt,{title:"Vendor Information",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(tt,{label:"Vendor Name",value:Xe(ke.vendor.name),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(tt,{label:"Contact Person",value:Xe(ke.vendor.contact_person),icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Email",value:Xe(ke.vendor.email),icon:a.jsx(Jp,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Phone",value:Xe(ke.vendor.telp),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Mobile",value:Xe(ke.vendor.HP),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(tt,{label:"Address",value:Xe(ke.vendor.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(pt,{title:"Timeline & Status History",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:we(ke.date)})]}),ke.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),a.jsx("span",{className:"text-sm text-blue-600",children:we(ke.handling_date)})]}),ke.action_taken&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),a.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(ke.handling_status)&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),a.jsx("span",{className:"text-sm text-orange-600",children:ke.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(ke.handling_status)&&a.jsx(pt,{title:"Next Steps",icon:a.jsx(ur,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[a.jsx(ur,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),ke.handling_status==="Assigned"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[a.jsx(Cr,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),ke.handling_status==="In Progress"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[a.jsx(ia,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),ke.attachment&&a.jsx(pt,{title:"Supporting Documents",icon:a.jsx(bc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(bc,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),a.jsxs("a",{href:ke.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(YE,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(ne,{order:ke})]})},se=b.useCallback(async()=>{F(!0),M(null);try{const Ue=(await ue()).filter(Xe=>Xe.assigned_to_id===Number(ie==null?void 0:ie.id));I(Ue)}catch(ke){M(ke.message||"Failed to load work orders.")}finally{F(!1)}},[ue,ie==null?void 0:ie.id]),ut=b.useCallback(async(ke,Ue)=>{V(!0),q(null),z(!1);try{const Xe=await je({...Ue,id:ke});return I(we=>we.map(ye=>ye.id===ke?Xe:ye)),z(!0),setTimeout(()=>z(!1),3e3),Xe}catch(Xe){throw q(Xe.message||"Failed to update work order."),Xe}finally{V(!1)}},[je]),dt=()=>{k(window.innerWidth<768),window.innerWidth<768&&n(!1)},De=ke=>{J.current&&!J.current.contains(ke.target)&&A(!1),Z.current&&!Z.current.contains(ke.target)&&O(!1)};b.useEffect(()=>(window.addEventListener("resize",dt),document.addEventListener("mousedown",De),se(),()=>{window.removeEventListener("resize",dt),document.removeEventListener("mousedown",De)}),[se]);const rt=ke=>{switch(ke){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},wt=ke=>{switch(ke==null?void 0:ke.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},gt=ke=>{switch(ke){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},Rt=ke=>{switch(ke==null?void 0:ke.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},He=b.useCallback(ke=>{const Ue=P.find(Xe=>Xe.id===ke);Ue&&(g(Ue),m(!0))},[P]);b.useCallback(async ke=>{if(!X.trim()){q("Vendor name is required");return}try{await ut(ke,{assigned_to_name:X.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),ee(""),z(!0)}catch(Ue){console.error("Failed to assign vendor:",Ue)}},[ut,X]),b.useCallback(async(ke,Ue)=>{try{await ut(ke,{handling_status:Ue,handling_date:new Date().toISOString()})}catch(Xe){console.error("Failed to update status:",Xe)}},[ut]);const he=ke=>{var Ue;return ke.vendor?`${ke.vendor.name}`:((Ue=ke.assigned_to)==null?void 0:Ue.name)||"Unassigned"},Qe=ke=>ke.vendor?"vendor":ke.assigned_to?"user":"unassigned",Ge=()=>{n(ke=>!ke)},mt=P.filter(ke=>{var we,ye,Ke,pt;const Ue=((ye=(we=ke.requester)==null?void 0:we.name)==null?void 0:ye.toLowerCase().includes(s.toLowerCase()))||((Ke=ke.work_order_no)==null?void 0:Ke.toLowerCase().includes(s.toLowerCase()))||((pt=ke.complaint)==null?void 0:pt.toLowerCase().includes(s.toLowerCase()))||String(ke.id).includes(s),Xe=o==="all"||ke.handling_status===o;return Ue&&Xe}).sort((ke,Ue)=>{var pt,tt;const Xe=gt(ke.handling_status),we=gt(Ue.handling_status);if(Xe!==we)return Xe-we;const ye=Rt((pt=ke.service)==null?void 0:pt.priority),Ke=Rt((tt=Ue.service)==null?void 0:tt.priority);return ye!==Ke?ye-Ke:new Date(Ue.created_at).getTime()-new Date(ke.created_at).getTime()}),Le=v*y,_e=Le-y,qe=mt.slice(_e,Le),ge=Math.ceil(mt.length/y),Oe=ke=>w(ke);return b.useEffect(()=>{w(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),R?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):E?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:E}),a.jsx("button",{onClick:se,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:N,toggleSidebar:Ge}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${de?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${pe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>K("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${$e?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),G&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:G}),a.jsx("button",{onClick:()=>q(null),className:"absolute top-0 right-0 p-3",children:a.jsx($t,{size:16})})]}),B&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>z(!1),className:"absolute top-0 right-0 p-3",children:a.jsx($t,{size:16})})]}),a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(o2,{title:"Total Assignments",value:mt.length.toString(),change:"+8%",icon:a.jsx(un,{})}),a.jsx(o2,{title:"In Progress",value:mt.filter(ke=>ke.handling_status==="In Progress").length.toString(),change:"-1",icon:a.jsx(ia,{})}),a.jsx(o2,{title:"Resolved",value:mt.filter(ke=>ke.handling_status==="Resolved").length.toString(),change:"+1",icon:a.jsx(ur,{})}),a.jsx(o2,{title:"Vendor Handled",value:mt.filter(ke=>ke.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:a.jsx(Cr,{})})]}),a.jsx(T.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:ke=>i(ke.target.value)})]}),a.jsx(ar,{children:c&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:ke=>l(ke.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:qe.length>0?qe.map(ke=>{var we,ye;ke.handling_status,["Resolved","Cancel","Closed"].includes(ke.handling_status),ke.handling_status;const Ue=he(ke),Xe=Qe(ke);return a.jsxs(T.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>He(ke.id),title:"Click to view details",children:ke.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ke.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(ke.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ke.handling_date?new Date(ke.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${wt((we=ke.service)==null?void 0:we.priority)} shadow-sm`,children:((ye=ke.service)==null?void 0:ye.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${rt(ke.handling_status)} shadow-sm`,children:ke.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Xe==="vendor"?"text-purple-600":Xe==="user"?"text-blue-600":"text-gray-500"}`,children:Ue}),Xe==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>He(ke.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(bo,{className:"text-lg"})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>K(`/workorders/it/assignment/editassignment/${ke.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx($a,{className:"text-lg"})})]})]},ke.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),mt.length>y&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:_e+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Le,mt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:mt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Oe(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ge},(ke,Ue)=>a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Oe(Ue+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===Ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Ue+1},Ue+1)),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Oe(v+1),disabled:v===ge,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),p&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",p.work_order_no||p.id]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),g(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(te,{order:p,onClose:()=>{m(!1),g(null)}})})]})})})]})},SHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,kHe=()=>{var ke,Ue,Xe;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=sr(),c=tr(),{id:d}=si(),[f,m]=b.useState([]),[p,g]=b.useState([]),[v,w]=b.useState([]),[y,N]=b.useState(window.innerWidth<768),[k,S]=b.useState(()=>{const we=localStorage.getItem("sidebarOpen");return we?JSON.parse(we):!1}),[A,_]=b.useState(!1),[O,P]=b.useState(!1),[I,R]=b.useState(!1),[F,E]=b.useState(!1),[M,H]=b.useState(!0),[V,G]=b.useState(null),[q,B]=b.useState(null),[z,X]=b.useState(!1),ee=b.useRef(null),K=b.useRef(null),[W,J]=b.useState([]),[Z,ie]=b.useState([]),[ue,je]=b.useState(!1),[ce,le]=b.useState([]),[pe,$e]=b.useState(!1),[de,Se]=b.useState(null),[te,se]=b.useState(!1),ut=({content:we,className:ye=""})=>{if(!we)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ye}`,children:a.jsx("span",{children:"-"})});const Ke=mu.sanitize(we,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ye}`,dangerouslySetInnerHTML:{__html:Ke}})},dt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ke=e==null?void 0:e.department)==null?void 0:ke.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_group_id:null,service_catalogue_id:null,asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[De,rt]=b.useState(dt);b.useEffect(()=>{const we=De.handling_status!=="New",ye=De.handling_status==="Vendor Handled";je(we),$e(ye),!ye&&De.vendor_id&&(rt(Ke=>({...Ke,vendor_id:null})),Se(null),se(!1))},[De.handling_status]),b.useEffect(()=>{const we=async()=>{if(d)try{H(!0);const ye=await o(parseInt(d));if(rt({id:ye.id,date:ye.date.split("T")[0],reception_method:ye.reception_method,requester_id:ye.requester_id,known_by_id:ye.known_by_id,department_id:ye.department_id,service_group_id:ye.service_group_id,service_catalogue_id:ye.service_catalogue_id,asset_no:ye.asset_no,device_info:ye.device_info,complaint:ye.complaint,attachment:ye.attachment,received_by_id:ye.received_by_id,handling_date:ye.handling_date?ye.handling_date.split("T")[0]:null,action_taken:ye.action_taken,handling_status:ye.handling_status,remarks:ye.remarks,assigned_to_id:ye.assigned_to_id,vendor_id:ye.vendor_id||null}),ye.vendor_id&&ce.length>0){const Ke=ce.find(pt=>pt.id===ye.vendor_id);Ke&&Se(Ke)}}catch(ye){console.error("Failed to fetch work order data:",ye),G(ye.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{H(!1)}};ce.length>0&&we()},[d,o,ce]),b.useEffect(()=>{e&&(async()=>{try{const ye=await l();le(ye);const pt=(await i(0)).map(ne=>({id:Number(ne.id),name:ne.group_name??"",description:ne.group_description??void 0}));ie(pt);const tt=await s();g(tt);const Te=await r();if(m(Te),e&&e.id){const ne=await n(parseInt(e.id));w(ne)}}catch(ye){console.error("Failed to fetch master data:",ye)}})()},[e,r,n,s,i,l]),b.useEffect(()=>{const we=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),b.useEffect(()=>{const we=ye=>{ee.current&&!ee.current.contains(ye.target)&&P(!1),K.current&&!K.current.contains(ye.target)&&R(!1)};return document.addEventListener("mousedown",we),()=>{document.removeEventListener("mousedown",we)}},[]),b.useEffect(()=>{if(De.service_group_id&&v.length>0){const we=v.filter(ye=>ye.service_group.id===De.service_group_id);J(we)}else J([])},[De.service_group_id,v]),b.useEffect(()=>{document.documentElement.classList.toggle("dark",A),localStorage.setItem("sidebarOpen",JSON.stringify(k))},[k,A]);const wt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!k)),S(we=>!we)},gt=b.useCallback((we,ye)=>{let Ke,pt;if(we&&"target"in we)Ke=we.target.name,pt=we.target.value;else if(we&&typeof we=="object"&&"value"in we&&ye)Ke=ye,ye==="assigned_to_id"||ye==="requester_id"||ye==="known_by_id"?pt=we.value?parseInt(we.value):null:pt=we.value;else if(we===null&&ye)Ke=ye,pt=null;else return;rt(tt=>({...tt,[Ke]:pt}))},[]),Rt=we=>{Se(we),rt(ye=>({...ye,vendor_id:we.id})),se(!1)},He=async we=>{we.preventDefault(),E(!0),G(null);const ye=["In Progress","Escalated","Vendor Handled","Resolved"];if(De.handling_status&&ye.includes(De.handling_status)&&!De.assigned_to_id){G("Assigned To is required for this status"),E(!1);return}if(De.handling_status==="Vendor Handled"&&!De.vendor_id){G("Vendor selection is required for Vendor Handled status"),E(!1);return}if(!De.handling_status){G("Handling status is required"),E(!1);return}if(!De.handling_date){G("Handling date is required"),E(!1);return}if(!De.action_taken||De.action_taken.length<5){G("Action taken must be at least 5 characters"),E(!1);return}const Ke={...De,id:De.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:De.handling_date,action_taken:De.action_taken,handling_status:De.handling_status,remarks:De.remarks,assigned_to_id:De.assigned_to_id?parseInt(De.assigned_to_id):null,vendor_id:De.vendor_id};try{await t(Ke),B({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${De.id}`}}),X(!0)}catch(pt){G(pt.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",pt)}finally{E(!1)}},he=b.useCallback(()=>{X(!1),c("/workorders/it/assignment")},[c]),Qe={control:(we,ye)=>({...we,minHeight:"42px",borderColor:ye.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ye.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:we=>({...we,padding:"0"}),singleValue:we=>({...we,color:"#374151"}),placeholder:we=>({...we,color:"#6B7280"}),dropdownIndicator:we=>({...we,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:we=>({...we,display:"none"}),menu:we=>({...we,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(we,ye)=>({...we,backgroundColor:ye.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ge=()=>{const we=f.find(ye=>parseInt(ye.id)===De.requester_id);return(we==null?void 0:we.name)||"Unknown"},mt=()=>{const we=p.find(ye=>ye.id===De.department_id);return(we==null?void 0:we.name)||"No department assigned"},Le=()=>{const we=p.find(ye=>ye.id===De.department_id);if(we&&we.head_id){const ye=f.find(Ke=>parseInt(Ke.id)===we.head_id);return(ye==null?void 0:ye.name)||"No department head assigned"}return"No department head assigned"},_e=()=>{const we=Z.find(ye=>ye.id===De.service_group_id);return(we==null?void 0:we.name)||"Unknown"},qe=()=>{const we=v.find(ye=>ye.id===De.service_catalogue_id);return(we==null?void 0:we.service_name)||"Unknown"},ge=()=>{if(!De.attachment)return null;try{const ye=new URL(De.attachment).pathname;return ye.substring(ye.lastIndexOf("/")+1)}catch{return De.attachment}},Oe=()=>{De.attachment&&window.open(De.attachment,"_blank")};return M?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(fn,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:y,toggleSidebar:wt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(T.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(fu,{className:"text-lg"})," Back to Assignment"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[V&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:V}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>G(null)})})]}),a.jsxs("form",{onSubmit:He,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Cr,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ge()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:mt()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Le()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:_e()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:qe()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ox,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:De.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(ut,{content:De.complaint,className:"min-h-[100px]"})]})]})]}),De.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(bc,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:ge()}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Oe,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ur,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:De.handling_date||"",onChange:gt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:De.handling_status?{value:De.handling_status,label:De.handling_status}:null,onChange:we=>gt(we,"handling_status"),placeholder:"Select Handling Status",styles:Qe,required:!0})]}),ue&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{id:"assigned_to_id",name:"assigned_to_id",options:f.map(we=>({value:String(we.id),label:we.name})),value:De.assigned_to_id?{value:String(De.assigned_to_id),label:((Ue=f.find(we=>parseInt(we.id)===De.assigned_to_id))==null?void 0:Ue.name)||"Unknown"}:null,onChange:we=>gt(we,"assigned_to_id"),placeholder:"Select Assignee",styles:Qe,required:ue})]}),pe&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2 text-gray-600"})," Vendor Information"]}),de?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{Se(null),rt(we=>({...we,vendor_id:null})),se(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:de.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(T.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>se(!te),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:te?"Hide Vendors":"Select Vendor"})]}),te&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:ce.length>0?ce.map(we=>a.jsxs(T.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>Rt(we),children:[a.jsx("div",{className:"font-medium text-gray-900",children:we.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[we.contact_person," • ",we.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:we.address})]},we.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Hr,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:De.action_taken||"",onChange:we=>{rt(ye=>({...ye,action_taken:we}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:De.remarks||"",onChange:we=>{rt(ye=>({...ye,remarks:we}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(mn,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:F,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:F?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(SHe,{isOpen:z,onClose:he,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:q==null?void 0:q.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Xe=q==null?void 0:q.work_order)==null?void 0:Xe.work_order_no]}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:he,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},CHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,_He=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getActivity:l,updateActivity:c,getActivityById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",description:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",description:i.description||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Activity update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Activity")}finally{S(!1)}},E=()=>{N(!1),A("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(fc,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),a.jsxs(T.button,{onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(CHe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},AHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,THe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addActivity:o,getActivity:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,description:S.description};await o(E),g("Activity created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Activity")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(fc,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),a.jsxs(T.button,{onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(AHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},MHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),OHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},EHe=()=>{const[t,e]=b.useState([]),{getActivity:r,deleteActivity:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load activities"),console.error("Error loading activities:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="activity"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete activity:",z),l("Failed to delete activity. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:a.jsx(fc,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Activity"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(OHe,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(fc,{className:"w-6 h-6"})})}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search activities"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(MHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},DHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),PHe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},LHe=()=>{const[t,e]=b.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load trouble items"),console.error("Error loading trouble items:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="trouble item"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete trouble item:",z),l("Failed to delete trouble item. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:a.jsx(Hr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Trouble Item"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(PHe,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Hr,{className:"w-6 h-6"})})}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search trouble items"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(DHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},RHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,lV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addTroubleItem:o,getTroubleItem:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,description:S.description};await o(E),g("Trouble Item created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Trouble Item")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/troubleitem")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Hr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),a.jsxs(T.button,{onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Trouble Item Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),a.jsx(RHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},IHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,FHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkUnit:o,getWorkUnit:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",is_production:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,is_production:S.is_production,description:S.description};await o(E),g("Work Unit created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Work Unit")}finally{N(!1)}},R=()=>{w(!1),k("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(jg,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),a.jsxs(T.button,{onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Pf,{value:S.description,onChange:F=>{A(E=>({...E,description:F}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(IHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},$He=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,HHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",is_production:"",description:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,is_production:_.is_production,description:_.description};await c(t,H),w("Work Unit update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Work Unit")}finally{S(!1)}},E=()=>{N(!1),A("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(jg,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),a.jsxs(T.button,{onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx($He,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},BHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),cV=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},zHe=()=>{const[t,e]=b.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load work units"),console.error("Error loading work units:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="work unit"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete work unit:",z),l("Failed to delete work unit. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(jg,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Unit"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(cV,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(jg,{className:"w-6 h-6"})}),a.jsx(cV,{title:"Production Units",value:t.filter(B=>String(B.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter(B=>String(B.is_production)==="1").length/t.length*100)}%`,icon:a.jsx(jg,{className:"w-6 h-6"})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search work units"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:String(B.is_production)==="1"?"Yes":"No"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(BHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},qHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,dV=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",description:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",description:i.description||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Group update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Work Group")}finally{S(!1)}},E=()=>{N(!1),A("/workarrangement/workgroup")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ga,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),a.jsxs(T.button,{onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(qHe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},UHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,uV=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkGroup:o,getWorkGroup:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,description:S.description};await o(E),g("Work Group created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Work Group")}finally{N(!1)}},R=()=>{w(!1),k("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ga,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),a.jsxs(T.button,{onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(UHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},WHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),fV=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},hV=()=>{const[t,e]=b.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load work groups"),console.error("Error loading work groups:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="work group"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete work group:",z),l("Failed to delete work group. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:a.jsx(ga,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Group"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(fV,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(ga,{className:"w-6 h-6"})}),a.jsx(fV,{title:"Active Groups",value:t.filter(B=>B.description&&B.description.length>0).length.toString(),change:`+${Math.floor(t.filter(B=>B.description&&B.description.length>0).length/t.length*100)}%`,icon:a.jsx(ga,{className:"w-6 h-6"})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search work groups"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(WHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},VHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,GHe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",description:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",description:i.description||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,description:_.description};await c(t,H),w("Work Shift update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Work Shift")}finally{S(!1)}},E=()=>{N(!1),A("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),a.jsxs(T.button,{onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(VHe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},YHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,KHe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addWorkShift:o,getWorkShift:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",description:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,description:S.description};await o(E),g("Work Shift created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Work Shift")}finally{N(!1)}},R=()=>{w(!1),k("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),a.jsxs(T.button,{onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(YHe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},JHe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),mV=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},XHe=()=>{const[t,e]=b.useState([]),{getWorkShift:r,deleteWorkShift:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load work shifts"),console.error("Error loading work shifts:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{var Z,ie;const W=(Z=K.name)==null?void 0:Z.toLowerCase().includes(ee),J=(ie=K.description)==null?void 0:ie.toLowerCase().includes(ee);return X==="work shift"?W:X==="description"?J:W||J})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete work shift:",z),l("Failed to delete work shift. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(Cr,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Shift"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(mV,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})}),a.jsx(mV,{title:"Active Shifts",value:t.filter(B=>B.description&&B.description.length>0).length.toString(),change:`+${Math.floor(t.filter(B=>B.description&&B.description.length>0).length/t.length*100)}%`,icon:a.jsx(Cr,{className:"w-6 h-6"})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search work shifts"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(JHe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},QHe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,ZHe=()=>{const t=tr(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:s}=sr(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const Z=localStorage.getItem("sidebarOpen");return JSON.parse(Z||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(Z=>!Z)},[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(null),[A,_]=b.useState(!0),[O,P]=b.useState(1),[I,R]=b.useState({startDate:null,endDate:null,units:[]}),F={control:(Z,ie)=>({...Z,minHeight:"42px",borderColor:ie.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ie.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:Z=>({...Z,padding:"0"}),singleValue:Z=>({...Z,color:"#374151"}),placeholder:Z=>({...Z,color:"#6B7280"}),dropdownIndicator:Z=>({...Z,color:"#9CA3AF"}),clearIndicator:Z=>({...Z,color:"#9CA3AF"}),menu:Z=>({...Z,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(Z,ie)=>({...Z,backgroundColor:ie.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};b.useEffect(()=>{(async()=>{try{_(!0);const ie=await e();S(ie)}catch{g("Gagal memuat data master")}finally{_(!1)}})()},[e]);const E=b.useCallback(()=>{R(Z=>({...Z,units:[...Z.units,{id:0,name:"",machines:[]}]}))},[]),M=b.useCallback(Z=>{R(ie=>({...ie,units:ie.units.filter((ue,je)=>je!==Z)}))},[]),H=b.useCallback((Z,ie)=>{var ue;if(ie){const je=(ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.find(ce=>ce.id===ie.value);je&&R(ce=>{const le=[...ce.units];return le[Z]={id:je.id,name:je.name,machines:[]},{...ce,units:le}})}else R(je=>{const ce=[...je.units];return ce[Z]={id:0,name:"",machines:[]},{...je,units:ce}})},[k]),V=b.useCallback(Z=>{R(ie=>{const ue=[...ie.units];return ue[Z].machines=[...ue[Z].machines,{id:0,name:"",intervalId:null,items:[]}],{...ie,units:ue}})},[]),G=b.useCallback((Z,ie)=>{R(ue=>{const je=[...ue.units];return je[Z].machines=je[Z].machines.filter((ce,le)=>le!==ie),{...ue,units:je}})},[]),q=b.useCallback(async(Z,ie,ue)=>{if(ue)try{const je=await s(ue.value);je&&R(ce=>{const le=[...ce.units];return le[Z].machines[ie]={id:je.id,name:je.name,intervalId:null,items:je.item_mesin.map(pe=>({...pe,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...ce,units:le}})}catch(je){console.error("Error fetching machine detail:",je),g("Gagal memuat detail mesin")}else R(je=>{const ce=[...je.units];return ce[Z].machines[ie]={id:0,name:"",intervalId:null,items:[]},{...je,units:ce}})},[s]),B=b.useCallback((Z,ie,ue)=>{var je,ce,le;if(ue&&((ce=(je=I.units[Z])==null?void 0:je.machines[ie])!=null&&ce.id)){const pe=(le=k==null?void 0:k.intervals)==null?void 0:le.find($e=>$e.id_interval===ue.value);pe&&R($e=>{const de=[...$e.units],Se=de[Z].machines[ie],te=Se.items.filter(se=>se.interval_id===pe.id_interval);return de[Z].machines[ie]={...Se,intervalId:pe.id_interval,intervalType:pe.type_interval,items:te.map(se=>({...se,interval_type:pe.type_interval}))},{...$e,units:de}})}else R(pe=>{const $e=[...pe.units],de=$e[Z].machines[ie];return $e[Z].machines[ie]={...de,intervalId:null,intervalType:void 0,items:de.items.map(Se=>({...Se,interval_type:""}))},{...pe,units:$e}})},[k,I.units]);b.useCallback((Z,ie,ue,je,ce)=>{R(le=>{const pe=[...le.units];return pe[Z].machines[ie].items[ue]={...pe[Z].machines[ie].items[ue],[je]:ce},{...le,units:pe}})},[]);const z=["January","February","March","April","May","June","July","August","September","October","November","December"],X=async Z=>{Z.preventDefault(),m(!0),g(null);try{if(!I.startDate||!I.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(I.units.length===0||I.units.some(ce=>!ce.id))throw new Error("Pilih setidaknya satu unit");const ie=ce=>{const le=ce.getFullYear(),pe=String(ce.getMonth()+1).padStart(2,"0"),$e=String(ce.getDate()).padStart(2,"0");return`${le}-${pe}-${$e}`},ue=[],je=[];for(const ce of I.units)for(const le of ce.machines)if(le.id&&le.items.length>0){const pe=le.items.map(Se=>Se.id),$e={tahun:I.startDate.getFullYear(),bulan:z[I.startDate.getMonth()],tgl_start:ie(I.startDate),tgl_end:ie(I.endDate),unit:ce.name,id_mesins:le.id,id_interval:le.intervalId||1,item_mesin_ids:pe},de=await r($e);ue.push(de)}if(ue.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");w("Data monitoring berhasil disimpan!"),N(!0)}catch(ie){g(ie.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},ee=b.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),K=b.useMemo(()=>{switch(O){case 1:return!I.startDate||!I.endDate;case 2:return I.units.length===0||I.units.every(ie=>!ie.id);case 3:return I.units.every(ie=>ie.machines.length===0||ie.machines.every(ue=>!ue.id||!ue.intervalId||ue.items.length===0));case 4:return!I.units.some(ie=>ie.machines.some(ue=>ue.id&&ue.intervalId&&ue.items.length>0));default:return!0}},[O,I]),W=()=>a.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(Z=>a.jsxs("button",{type:"button",onClick:()=>P(Z),disabled:Z===2&&(!I.startDate||!I.endDate)||Z===3&&(I.units.length===0||I.units.every(ie=>!ie.id))||Z===4&&I.units.every(ie=>ie.machines.every(ue=>!ue.id||!ue.intervalId)),className:`px-4 py-2 font-medium ${O===Z?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${Z===2&&(!I.startDate||!I.endDate)||Z===3&&(I.units.length===0||I.units.every(ie=>!ie.id))||Z===4&&I.units.every(ie=>ie.machines.every(ue=>!ue.id||!ue.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[Z,". ",["Date","Unit","Machine & Interval","Item"][Z-1]]},Z))}),J=()=>{if(A)return a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(O){case 1:return a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx(um,{selected:I.startDate,onChange:Z=>R(ie=>({...ie,startDate:Z})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),a.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:a.jsx(Ufe,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx(um,{selected:I.endDate,onChange:Z=>R(ie=>({...ie,endDate:Z})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),a.jsxs("div",{className:"space-y-4",children:[I.units.map((Z,ie)=>{var ue;return a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Tn,{options:((ue=k==null?void 0:k.unitsWithMachines)==null?void 0:ue.map(je=>({value:je.id,label:je.name})))||[],value:Z.id?{value:Z.id,label:Z.name}:null,onChange:je=>H(ie,je),isClearable:!0,placeholder:"Pilih Unit",styles:F,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),I.units.length>1&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>M(ie),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:a.jsx(In,{size:20})})]},ie)}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:E,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[a.jsx(pa,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),a.jsx("div",{className:"space-y-6",children:I.units.map((Z,ie)=>Z.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:Z.name}),a.jsx("div",{className:"space-y-4",children:Z.machines.map((ue,je)=>{var ce,le,pe,$e;return a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),a.jsx(Tn,{options:((pe=(le=(ce=k==null?void 0:k.unitsWithMachines)==null?void 0:ce.find(de=>de.id===Z.id))==null?void 0:le.mesin)==null?void 0:pe.map(de=>({value:de.id,label:de.name})))||[],value:ue.id?{value:ue.id,label:ue.name}:null,onChange:de=>q(ie,je,de),isClearable:!0,placeholder:"Select Machine",styles:F})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),a.jsx(Tn,{options:(($e=k==null?void 0:k.intervals)==null?void 0:$e.map(de=>({value:de.id_interval,label:de.type_interval})))||[],value:ue.intervalId?{value:ue.intervalId,label:ue.intervalType}:null,onChange:de=>B(ie,je,de),isClearable:!0,placeholder:ue.id?"Select Interval":"Please Select Machine",isDisabled:!ue.id||ue.items.length===0,styles:F})]})]}),ue.id&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",ue.items.length," item monitoring tersedia"]}),ue.intervalId&&a.jsxs("span",{className:"text-sm text-green-600",children:[ue.items.filter(de=>de.interval_id===ue.intervalId).length," item untuk interval ",ue.intervalType]})]}),ue.items.length===0&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>G(ie,je),className:"text-red-500 hover:text-red-700",children:a.jsx(In,{size:20})})})]},je)})}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>V(ie),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[a.jsx(pa,{size:20,className:"mr-2"})," Add Machine"]})]},ie))})]},"step3");case 4:return a.jsxs(T.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),a.jsx("div",{className:"space-y-6",children:I.units.map((Z,ie)=>Z.id&&Z.machines.map((ue,je)=>ue.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[Z.name," - ",ue.name]}),ue.items.length>0?a.jsx("div",{className:"space-y-4",children:ue.items.map((ce,le)=>a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[ce.item_mesin," (",ce.satuan,")"]}),ce.interval_type&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:ce.interval_type}),ce.standard_min&&ce.standard_max&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",ce.standard_min," - ",ce.standard_max]}),ce.standard_visual&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",ce.standard_visual]})]},le))}):a.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${ie}-${je}`)))})]},"step4");default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Jh,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),a.jsxs(T.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),W(),a.jsx(ar,{mode:"wait",children:J()}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[O>1&&a.jsxs(T.button,{type:"button",onClick:()=>P(Z=>Z-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[a.jsx(fu,{className:"mr-2 h-5 w-5"})," Back"]}),O<4?a.jsxs(T.button,{type:"button",onClick:()=>P(Z=>Z+1),disabled:K,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",a.jsx(ta,{className:"ml-2 h-5 w-5"})]}):a.jsx(T.button,{type:"button",onClick:X,disabled:K||f,whileHover:{scale:K?1:1.03},whileTap:{scale:K?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${K||f?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:f?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),a.jsx(QHe,{isOpen:y,onClose:ee,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ee,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},eBe="modulepreload",tBe=function(t){return"/"+t},pV={},q2=function(e,r,n){let s=Promise.resolve();if(r&&r.length>0){let o=function(d){return Promise.all(d.map(f=>Promise.resolve(f).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=o(r.map(d=>{if(d=tBe(d),d in pV)return;pV[d]=!0;const f=d.endsWith(".css"),m=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const p=document.createElement("link");if(p.rel=f?"stylesheet":eBe,f||(p.as="script"),p.crossOrigin="",p.href=d,c&&p.setAttribute("nonce",c),document.head.appendChild(p),f)return new Promise((g,v)=>{p.addEventListener("load",g),p.addEventListener("error",()=>v(new Error(`Unable to preload CSS for ${d}`)))})}))}function i(o){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=o,window.dispatchEvent(l),!l.defaultPrevented)throw o}return s.then(o=>{for(const l of o||[])l.status==="rejected"&&i(l.reason);return e().catch(i)})};var hd=Uint8Array,Al=Uint16Array,sL=Int32Array,iL=new hd([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),oL=new hd([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),gV=new hd([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Mne=function(t,e){for(var r=new Al(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var s=new sL(r[30]),n=1;n<30;++n)for(var i=r[n];i<r[n+1];++i)s[i]=i-r[n]<<5|n;return{b:r,r:s}},One=Mne(iL,2),rBe=One.b,WO=One.r;rBe[28]=258,WO[258]=28;var nBe=Mne(oL,0),xV=nBe.r,VO=new Al(32768);for(var Ka=0;Ka<32768;++Ka){var Oh=(Ka&43690)>>1|(Ka&21845)<<1;Oh=(Oh&52428)>>2|(Oh&13107)<<2,Oh=(Oh&61680)>>4|(Oh&3855)<<4,VO[Ka]=((Oh&65280)>>8|(Oh&255)<<8)>>1}var Ry=(function(t,e,r){for(var n=t.length,s=0,i=new Al(e);s<n;++s)t[s]&&++i[t[s]-1];var o=new Al(e);for(s=1;s<e;++s)o[s]=o[s-1]+i[s-1]<<1;var l;if(r){l=new Al(1<<e);var c=15-e;for(s=0;s<n;++s)if(t[s])for(var d=s<<4|t[s],f=e-t[s],m=o[t[s]-1]++<<f,p=m|(1<<f)-1;m<=p;++m)l[VO[m]>>c]=d}else for(l=new Al(n),s=0;s<n;++s)t[s]&&(l[s]=VO[o[t[s]-1]++]>>15-t[s]);return l}),Yp=new hd(288);for(var Ka=0;Ka<144;++Ka)Yp[Ka]=8;for(var Ka=144;Ka<256;++Ka)Yp[Ka]=9;for(var Ka=256;Ka<280;++Ka)Yp[Ka]=7;for(var Ka=280;Ka<288;++Ka)Yp[Ka]=8;var mN=new hd(32);for(var Ka=0;Ka<32;++Ka)mN[Ka]=5;var aBe=Ry(Yp,9,0),sBe=Ry(mN,5,0),Ene=function(t){return(t+7)/8|0},iBe=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new hd(t.subarray(e,r))},rf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Qb=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},_T=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var s=r.length,i=r.slice();if(!s)return{t:Pne,l:0};if(s==1){var o=new hd(r[0].s+1);return o[r[0].s]=1,{t:o,l:1}}r.sort(function(_,O){return _.f-O.f}),r.push({s:-1,f:25001});var l=r[0],c=r[1],d=0,f=1,m=2;for(r[0]={s:-1,f:l.f+c.f,l,r:c};f!=s-1;)l=r[r[d].f<r[m].f?d++:m++],c=r[d!=f&&r[d].f<r[m].f?d++:m++],r[f++]={s:-1,f:l.f+c.f,l,r:c};for(var p=i[0].s,n=1;n<s;++n)i[n].s>p&&(p=i[n].s);var g=new Al(p+1),v=GO(r[f-1],g,0);if(v>e){var n=0,w=0,y=v-e,N=1<<y;for(i.sort(function(O,P){return g[P.s]-g[O.s]||O.f-P.f});n<s;++n){var k=i[n].s;if(g[k]>e)w+=N-(1<<v-g[k]),g[k]=e;else break}for(w>>=y;w>0;){var S=i[n].s;g[S]<e?w-=1<<e-g[S]++-1:++n}for(;n>=0&&w;--n){var A=i[n].s;g[A]==e&&(--g[A],++w)}v=e}return{t:new hd(g),l:v}},GO=function(t,e,r){return t.s==-1?Math.max(GO(t.l,e,r+1),GO(t.r,e,r+1)):e[t.s]=r},bV=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new Al(++e),n=0,s=t[0],i=1,o=function(c){r[n++]=c},l=1;l<=e;++l)if(t[l]==s&&l!=e)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=t[l]}return{c:r.subarray(0,n),n:e}},Zb=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},Dne=function(t,e,r){var n=r.length,s=Ene(e+2);t[s]=n&255,t[s+1]=n>>8,t[s+2]=t[s]^255,t[s+3]=t[s+1]^255;for(var i=0;i<n;++i)t[s+i+4]=r[i];return(s+4+n)*8},yV=function(t,e,r,n,s,i,o,l,c,d,f){rf(e,f++,r),++s[256];for(var m=_T(s,15),p=m.t,g=m.l,v=_T(i,15),w=v.t,y=v.l,N=bV(p),k=N.c,S=N.n,A=bV(w),_=A.c,O=A.n,P=new Al(19),I=0;I<k.length;++I)++P[k[I]&31];for(var I=0;I<_.length;++I)++P[_[I]&31];for(var R=_T(P,7),F=R.t,E=R.l,M=19;M>4&&!F[gV[M-1]];--M);var H=d+5<<3,V=Zb(s,Yp)+Zb(i,mN)+o,G=Zb(s,p)+Zb(i,w)+o+14+3*M+Zb(P,F)+2*P[16]+3*P[17]+7*P[18];if(c>=0&&H<=V&&H<=G)return Dne(e,f,t.subarray(c,c+d));var q,B,z,X;if(rf(e,f,1+(G<V)),f+=2,G<V){q=Ry(p,g,0),B=p,z=Ry(w,y,0),X=w;var ee=Ry(F,E,0);rf(e,f,S-257),rf(e,f+5,O-1),rf(e,f+10,M-4),f+=14;for(var I=0;I<M;++I)rf(e,f+3*I,F[gV[I]]);f+=3*M;for(var K=[k,_],W=0;W<2;++W)for(var J=K[W],I=0;I<J.length;++I){var Z=J[I]&31;rf(e,f,ee[Z]),f+=F[Z],Z>15&&(rf(e,f,J[I]>>5&127),f+=J[I]>>12)}}else q=aBe,B=Yp,z=sBe,X=mN;for(var I=0;I<l;++I){var ie=n[I];if(ie>255){var Z=ie>>18&31;Qb(e,f,q[Z+257]),f+=B[Z+257],Z>7&&(rf(e,f,ie>>23&31),f+=iL[Z]);var ue=ie&31;Qb(e,f,z[ue]),f+=X[ue],ue>3&&(Qb(e,f,ie>>5&8191),f+=oL[ue])}else Qb(e,f,q[ie]),f+=B[ie]}return Qb(e,f,q[256]),f+B[256]},oBe=new sL([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Pne=new hd(0),lBe=function(t,e,r,n,s,i){var o=i.z||t.length,l=new hd(n+o+5*(1+Math.ceil(o/7e3))+s),c=l.subarray(n,l.length-s),d=i.l,f=(i.r||0)&7;if(e){f&&(c[0]=i.r>>3);for(var m=oBe[e-1],p=m>>13,g=m&8191,v=(1<<r)-1,w=i.p||new Al(32768),y=i.h||new Al(v+1),N=Math.ceil(r/3),k=2*N,S=function(te){return(t[te]^t[te+1]<<N^t[te+2]<<k)&v},A=new sL(25e3),_=new Al(288),O=new Al(32),P=0,I=0,R=i.i||0,F=0,E=i.w||0,M=0;R+2<o;++R){var H=S(R),V=R&32767,G=y[H];if(w[V]=G,y[H]=V,E<=R){var q=o-R;if((P>7e3||F>24576)&&(q>423||!d)){f=yV(t,c,0,A,_,O,I,F,M,R-M,f),F=P=I=0,M=R;for(var B=0;B<286;++B)_[B]=0;for(var B=0;B<30;++B)O[B]=0}var z=2,X=0,ee=g,K=V-G&32767;if(q>2&&H==S(R-K))for(var W=Math.min(p,q)-1,J=Math.min(32767,R),Z=Math.min(258,q);K<=J&&--ee&&V!=G;){if(t[R+z]==t[R+z-K]){for(var ie=0;ie<Z&&t[R+ie]==t[R+ie-K];++ie);if(ie>z){if(z=ie,X=K,ie>W)break;for(var ue=Math.min(K,ie-2),je=0,B=0;B<ue;++B){var ce=R-K+B&32767,le=w[ce],pe=ce-le&32767;pe>je&&(je=pe,G=ce)}}}V=G,G=w[V],K+=V-G&32767}if(X){A[F++]=268435456|WO[z]<<18|xV[X];var $e=WO[z]&31,de=xV[X]&31;I+=iL[$e]+oL[de],++_[257+$e],++O[de],E=R+z,++P}else A[F++]=t[R],++_[t[R]]}}for(R=Math.max(R,E);R<o;++R)A[F++]=t[R],++_[t[R]];f=yV(t,c,d,A,_,O,I,F,M,R-M,f),d||(i.r=f&7|c[f/8|0]<<3,f-=7,i.h=y,i.p=w,i.i=R,i.w=E)}else{for(var R=i.w||0;R<o+d;R+=65535){var Se=R+65535;Se>=o&&(c[f/8|0]=d,Se=o),f=Dne(c,f+1,t.subarray(R,Se))}i.i=o}return iBe(l,0,n+Ene(f)+s)},Lne=function(){var t=1,e=0;return{p:function(r){for(var n=t,s=e,i=r.length|0,o=0;o!=i;){for(var l=Math.min(o+2655,i);o<l;++o)s+=n+=r[o];n=(n&65535)+15*(n>>16),s=(s&65535)+15*(s>>16)}t=n,e=s},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},cBe=function(t,e,r,n,s){if(!s&&(s={l:1},e.dictionary)){var i=e.dictionary.subarray(-32768),o=new hd(i.length+t.length);o.set(i),o.set(t,i.length),t=o,s.w=i.length}return lBe(t,e.level==null?6:e.level,e.mem==null?s.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,s)},Rne=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},dBe=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var s=Lne();s.p(e.dictionary),Rne(t,2,s.d())}};function YO(t,e){e||(e={});var r=Lne();r.p(t);var n=cBe(t,e,e.dictionary?6:2,4);return dBe(n,e),Rne(n,n.length-4,r.d()),n}var uBe=typeof TextDecoder<"u"&&new TextDecoder,fBe=0;try{uBe.decode(Pne,{stream:!0}),fBe=1}catch{}function vV(t,e="utf8"){return new TextDecoder(e).decode(t)}const hBe=new TextEncoder;function mBe(t){return hBe.encode(t)}const pBe=1024*8,gBe=(()=>{const t=new Uint8Array(4),e=new Uint32Array(t.buffer);return!((e[0]=1)&t[0])})(),AT={int8:globalThis.Int8Array,uint8:globalThis.Uint8Array,int16:globalThis.Int16Array,uint16:globalThis.Uint16Array,int32:globalThis.Int32Array,uint32:globalThis.Uint32Array,uint64:globalThis.BigUint64Array,int64:globalThis.BigInt64Array,float32:globalThis.Float32Array,float64:globalThis.Float64Array};class lL{constructor(e=pBe,r={}){Jt(this,"buffer");Jt(this,"byteLength");Jt(this,"byteOffset");Jt(this,"length");Jt(this,"offset");Jt(this,"lastWrittenByte");Jt(this,"littleEndian");Jt(this,"_data");Jt(this,"_mark");Jt(this,"_marks");let n=!1;typeof e=="number"?e=new ArrayBuffer(e):(n=!0,this.lastWrittenByte=e.byteLength);const s=r.offset?r.offset>>>0:0,i=e.byteLength-s;let o=s;(ArrayBuffer.isView(e)||e instanceof lL)&&(e.byteLength!==e.buffer.byteLength&&(o=e.byteOffset+s),e=e.buffer),n?this.lastWrittenByte=i:this.lastWrittenByte=0,this.buffer=e,this.length=i,this.byteLength=i,this.byteOffset=o,this.offset=0,this.littleEndian=!0,this._data=new DataView(this.buffer,o,i),this._mark=0,this._marks=[]}available(e=1){return this.offset+e<=this.length}isLittleEndian(){return this.littleEndian}setLittleEndian(){return this.littleEndian=!0,this}isBigEndian(){return!this.littleEndian}setBigEndian(){return this.littleEndian=!1,this}skip(e=1){return this.offset+=e,this}back(e=1){return this.offset-=e,this}seek(e){return this.offset=e,this}mark(){return this._mark=this.offset,this}reset(){return this.offset=this._mark,this}pushMark(){return this._marks.push(this.offset),this}popMark(){const e=this._marks.pop();if(e===void 0)throw new Error("Mark stack empty");return this.seek(e),this}rewind(){return this.offset=0,this}ensureAvailable(e=1){if(!this.available(e)){const n=(this.offset+e)*2,s=new Uint8Array(n);s.set(new Uint8Array(this.buffer)),this.buffer=s.buffer,this.length=n,this.byteLength=n,this._data=new DataView(this.buffer)}return this}readBoolean(){return this.readUint8()!==0}readInt8(){return this._data.getInt8(this.offset++)}readUint8(){return this._data.getUint8(this.offset++)}readByte(){return this.readUint8()}readBytes(e=1){return this.readArray(e,"uint8")}readArray(e,r){const n=AT[r].BYTES_PER_ELEMENT*e,s=this.byteOffset+this.offset,i=this.buffer.slice(s,s+n);if(this.littleEndian===gBe&&r!=="uint8"&&r!=="int8"){const l=new Uint8Array(this.buffer.slice(s,s+n));l.reverse();const c=new AT[r](l.buffer);return this.offset+=n,c.reverse(),c}const o=new AT[r](i);return this.offset+=n,o}readInt16(){const e=this._data.getInt16(this.offset,this.littleEndian);return this.offset+=2,e}readUint16(){const e=this._data.getUint16(this.offset,this.littleEndian);return this.offset+=2,e}readInt32(){const e=this._data.getInt32(this.offset,this.littleEndian);return this.offset+=4,e}readUint32(){const e=this._data.getUint32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat32(){const e=this._data.getFloat32(this.offset,this.littleEndian);return this.offset+=4,e}readFloat64(){const e=this._data.getFloat64(this.offset,this.littleEndian);return this.offset+=8,e}readBigInt64(){const e=this._data.getBigInt64(this.offset,this.littleEndian);return this.offset+=8,e}readBigUint64(){const e=this._data.getBigUint64(this.offset,this.littleEndian);return this.offset+=8,e}readChar(){return String.fromCharCode(this.readInt8())}readChars(e=1){let r="";for(let n=0;n<e;n++)r+=this.readChar();return r}readUtf8(e=1){return vV(this.readBytes(e))}decodeText(e=1,r="utf8"){return vV(this.readBytes(e),r)}writeBoolean(e){return this.writeUint8(e?255:0),this}writeInt8(e){return this.ensureAvailable(1),this._data.setInt8(this.offset++,e),this._updateLastWrittenByte(),this}writeUint8(e){return this.ensureAvailable(1),this._data.setUint8(this.offset++,e),this._updateLastWrittenByte(),this}writeByte(e){return this.writeUint8(e)}writeBytes(e){this.ensureAvailable(e.length);for(let r=0;r<e.length;r++)this._data.setUint8(this.offset++,e[r]);return this._updateLastWrittenByte(),this}writeInt16(e){return this.ensureAvailable(2),this._data.setInt16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeUint16(e){return this.ensureAvailable(2),this._data.setUint16(this.offset,e,this.littleEndian),this.offset+=2,this._updateLastWrittenByte(),this}writeInt32(e){return this.ensureAvailable(4),this._data.setInt32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeUint32(e){return this.ensureAvailable(4),this._data.setUint32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat32(e){return this.ensureAvailable(4),this._data.setFloat32(this.offset,e,this.littleEndian),this.offset+=4,this._updateLastWrittenByte(),this}writeFloat64(e){return this.ensureAvailable(8),this._data.setFloat64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigInt64(e){return this.ensureAvailable(8),this._data.setBigInt64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeBigUint64(e){return this.ensureAvailable(8),this._data.setBigUint64(this.offset,e,this.littleEndian),this.offset+=8,this._updateLastWrittenByte(),this}writeChar(e){return this.writeUint8(e.charCodeAt(0))}writeChars(e){for(let r=0;r<e.length;r++)this.writeUint8(e.charCodeAt(r));return this}writeUtf8(e){return this.writeBytes(mBe(e))}toArray(){return new Uint8Array(this.buffer,this.byteOffset,this.lastWrittenByte)}getWrittenByteLength(){return this.lastWrittenByte-this.byteOffset}_updateLastWrittenByte(){this.offset>this.lastWrittenByte&&(this.lastWrittenByte=this.offset)}}function qx(t){let e=t.length;for(;--e>=0;)t[e]=0}const xBe=3,bBe=258,Ine=29,yBe=256,vBe=yBe+1+Ine,Fne=30,wBe=512,jBe=new Array((vBe+2)*2);qx(jBe);const NBe=new Array(Fne*2);qx(NBe);const SBe=new Array(wBe);qx(SBe);const kBe=new Array(bBe-xBe+1);qx(kBe);const CBe=new Array(Ine);qx(CBe);const _Be=new Array(Fne);qx(_Be);const ABe=(t,e,r,n)=>{let s=t&65535|0,i=t>>>16&65535|0,o=0;for(;r!==0;){o=r>2e3?2e3:r,r-=o;do s=s+e[n++]|0,i=i+s|0;while(--o);s%=65521,i%=65521}return s|i<<16|0};var KO=ABe;const TBe=()=>{let t,e=[];for(var r=0;r<256;r++){t=r;for(var n=0;n<8;n++)t=t&1?3988292384^t>>>1:t>>>1;e[r]=t}return e},MBe=new Uint32Array(TBe()),OBe=(t,e,r,n)=>{const s=MBe,i=n+r;t^=-1;for(let o=n;o<i;o++)t=t>>>8^s[(t^e[o])&255];return t^-1};var Id=OBe,JO={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"},$ne={Z_NO_FLUSH:0,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_MEM_ERROR:-4,Z_BUF_ERROR:-5,Z_DEFLATED:8};const EBe=(t,e)=>Object.prototype.hasOwnProperty.call(t,e);var DBe=function(t){const e=Array.prototype.slice.call(arguments,1);for(;e.length;){const r=e.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(const n in r)EBe(r,n)&&(t[n]=r[n])}}return t},PBe=t=>{let e=0;for(let n=0,s=t.length;n<s;n++)e+=t[n].length;const r=new Uint8Array(e);for(let n=0,s=0,i=t.length;n<i;n++){let o=t[n];r.set(o,s),s+=o.length}return r},Hne={assign:DBe,flattenChunks:PBe};let Bne=!0;try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{Bne=!1}const qv=new Uint8Array(256);for(let t=0;t<256;t++)qv[t]=t>=252?6:t>=248?5:t>=240?4:t>=224?3:t>=192?2:1;qv[254]=qv[254]=1;var LBe=t=>{if(typeof TextEncoder=="function"&&TextEncoder.prototype.encode)return new TextEncoder().encode(t);let e,r,n,s,i,o=t.length,l=0;for(s=0;s<o;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),l+=r<128?1:r<2048?2:r<65536?3:4;for(e=new Uint8Array(l),i=0,s=0;i<l;s++)r=t.charCodeAt(s),(r&64512)===55296&&s+1<o&&(n=t.charCodeAt(s+1),(n&64512)===56320&&(r=65536+(r-55296<<10)+(n-56320),s++)),r<128?e[i++]=r:r<2048?(e[i++]=192|r>>>6,e[i++]=128|r&63):r<65536?(e[i++]=224|r>>>12,e[i++]=128|r>>>6&63,e[i++]=128|r&63):(e[i++]=240|r>>>18,e[i++]=128|r>>>12&63,e[i++]=128|r>>>6&63,e[i++]=128|r&63);return e};const RBe=(t,e)=>{if(e<65534&&t.subarray&&Bne)return String.fromCharCode.apply(null,t.length===e?t:t.subarray(0,e));let r="";for(let n=0;n<e;n++)r+=String.fromCharCode(t[n]);return r};var IBe=(t,e)=>{const r=e||t.length;if(typeof TextDecoder=="function"&&TextDecoder.prototype.decode)return new TextDecoder().decode(t.subarray(0,e));let n,s;const i=new Array(r*2);for(s=0,n=0;n<r;){let o=t[n++];if(o<128){i[s++]=o;continue}let l=qv[o];if(l>4){i[s++]=65533,n+=l-1;continue}for(o&=l===2?31:l===3?15:7;l>1&&n<r;)o=o<<6|t[n++]&63,l--;if(l>1){i[s++]=65533;continue}o<65536?i[s++]=o:(o-=65536,i[s++]=55296|o>>10&1023,i[s++]=56320|o&1023)}return RBe(i,s)},FBe=(t,e)=>{e=e||t.length,e>t.length&&(e=t.length);let r=e-1;for(;r>=0&&(t[r]&192)===128;)r--;return r<0||r===0?e:r+qv[t[r]]>e?r:e},XO={string2buf:LBe,buf2string:IBe,utf8border:FBe};function $Be(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}var HBe=$Be;const l2=16209,BBe=16191;var zBe=function(e,r){let n,s,i,o,l,c,d,f,m,p,g,v,w,y,N,k,S,A,_,O,P,I,R,F;const E=e.state;n=e.next_in,R=e.input,s=n+(e.avail_in-5),i=e.next_out,F=e.output,o=i-(r-e.avail_out),l=i+(e.avail_out-257),c=E.dmax,d=E.wsize,f=E.whave,m=E.wnext,p=E.window,g=E.hold,v=E.bits,w=E.lencode,y=E.distcode,N=(1<<E.lenbits)-1,k=(1<<E.distbits)-1;e:do{v<15&&(g+=R[n++]<<v,v+=8,g+=R[n++]<<v,v+=8),S=w[g&N];t:for(;;){if(A=S>>>24,g>>>=A,v-=A,A=S>>>16&255,A===0)F[i++]=S&65535;else if(A&16){_=S&65535,A&=15,A&&(v<A&&(g+=R[n++]<<v,v+=8),_+=g&(1<<A)-1,g>>>=A,v-=A),v<15&&(g+=R[n++]<<v,v+=8,g+=R[n++]<<v,v+=8),S=y[g&k];r:for(;;){if(A=S>>>24,g>>>=A,v-=A,A=S>>>16&255,A&16){if(O=S&65535,A&=15,v<A&&(g+=R[n++]<<v,v+=8,v<A&&(g+=R[n++]<<v,v+=8)),O+=g&(1<<A)-1,O>c){e.msg="invalid distance too far back",E.mode=l2;break e}if(g>>>=A,v-=A,A=i-o,O>A){if(A=O-A,A>f&&E.sane){e.msg="invalid distance too far back",E.mode=l2;break e}if(P=0,I=p,m===0){if(P+=d-A,A<_){_-=A;do F[i++]=p[P++];while(--A);P=i-O,I=F}}else if(m<A){if(P+=d+m-A,A-=m,A<_){_-=A;do F[i++]=p[P++];while(--A);if(P=0,m<_){A=m,_-=A;do F[i++]=p[P++];while(--A);P=i-O,I=F}}}else if(P+=m-A,A<_){_-=A;do F[i++]=p[P++];while(--A);P=i-O,I=F}for(;_>2;)F[i++]=I[P++],F[i++]=I[P++],F[i++]=I[P++],_-=3;_&&(F[i++]=I[P++],_>1&&(F[i++]=I[P++]))}else{P=i-O;do F[i++]=F[P++],F[i++]=F[P++],F[i++]=F[P++],_-=3;while(_>2);_&&(F[i++]=F[P++],_>1&&(F[i++]=F[P++]))}}else if((A&64)===0){S=y[(S&65535)+(g&(1<<A)-1)];continue r}else{e.msg="invalid distance code",E.mode=l2;break e}break}}else if((A&64)===0){S=w[(S&65535)+(g&(1<<A)-1)];continue t}else if(A&32){E.mode=BBe;break e}else{e.msg="invalid literal/length code",E.mode=l2;break e}break}}while(n<s&&i<l);_=v>>3,n-=_,v-=_<<3,g&=(1<<v)-1,e.next_in=n,e.next_out=i,e.avail_in=n<s?5+(s-n):5-(n-s),e.avail_out=i<l?257+(l-i):257-(i-l),E.hold=g,E.bits=v};const Q0=15,wV=852,jV=592,NV=0,TT=1,SV=2,qBe=new Uint16Array([3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0]),UBe=new Uint8Array([16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78]),WBe=new Uint16Array([1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0]),VBe=new Uint8Array([16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64]),GBe=(t,e,r,n,s,i,o,l)=>{const c=l.bits;let d=0,f=0,m=0,p=0,g=0,v=0,w=0,y=0,N=0,k=0,S,A,_,O,P,I=null,R;const F=new Uint16Array(Q0+1),E=new Uint16Array(Q0+1);let M=null,H,V,G;for(d=0;d<=Q0;d++)F[d]=0;for(f=0;f<n;f++)F[e[r+f]]++;for(g=c,p=Q0;p>=1&&F[p]===0;p--);if(g>p&&(g=p),p===0)return s[i++]=1<<24|64<<16|0,s[i++]=1<<24|64<<16|0,l.bits=1,0;for(m=1;m<p&&F[m]===0;m++);for(g<m&&(g=m),y=1,d=1;d<=Q0;d++)if(y<<=1,y-=F[d],y<0)return-1;if(y>0&&(t===NV||p!==1))return-1;for(E[1]=0,d=1;d<Q0;d++)E[d+1]=E[d]+F[d];for(f=0;f<n;f++)e[r+f]!==0&&(o[E[e[r+f]]++]=f);if(t===NV?(I=M=o,R=20):t===TT?(I=qBe,M=UBe,R=257):(I=WBe,M=VBe,R=0),k=0,f=0,d=m,P=i,v=g,w=0,_=-1,N=1<<g,O=N-1,t===TT&&N>wV||t===SV&&N>jV)return 1;for(;;){H=d-w,o[f]+1<R?(V=0,G=o[f]):o[f]>=R?(V=M[o[f]-R],G=I[o[f]-R]):(V=96,G=0),S=1<<d-w,A=1<<v,m=A;do A-=S,s[P+(k>>w)+A]=H<<24|V<<16|G|0;while(A!==0);for(S=1<<d-1;k&S;)S>>=1;if(S!==0?(k&=S-1,k+=S):k=0,f++,--F[d]===0){if(d===p)break;d=e[r+o[f]]}if(d>g&&(k&O)!==_){for(w===0&&(w=g),P+=m,v=d-w,y=1<<v;v+w<p&&(y-=F[v+w],!(y<=0));)v++,y<<=1;if(N+=1<<v,t===TT&&N>wV||t===SV&&N>jV)return 1;_=k&O,s[_]=g<<24|v<<16|P-i|0}}return k!==0&&(s[P+k]=d-w<<24|64<<16|0),l.bits=g,0};var Iy=GBe;const YBe=0,zne=1,qne=2,{Z_FINISH:kV,Z_BLOCK:KBe,Z_TREES:c2,Z_OK:Kp,Z_STREAM_END:JBe,Z_NEED_DICT:XBe,Z_STREAM_ERROR:jc,Z_DATA_ERROR:Une,Z_MEM_ERROR:Wne,Z_BUF_ERROR:QBe,Z_DEFLATED:CV}=$ne,IS=16180,_V=16181,AV=16182,TV=16183,MV=16184,OV=16185,EV=16186,DV=16187,PV=16188,LV=16189,pN=16190,nf=16191,MT=16192,RV=16193,OT=16194,IV=16195,FV=16196,$V=16197,HV=16198,d2=16199,u2=16200,BV=16201,zV=16202,qV=16203,UV=16204,WV=16205,ET=16206,VV=16207,GV=16208,rs=16209,Vne=16210,Gne=16211,ZBe=852,eze=592,tze=15,rze=tze,YV=t=>(t>>>24&255)+(t>>>8&65280)+((t&65280)<<8)+((t&255)<<24);function nze(){this.strm=null,this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Uint16Array(320),this.work=new Uint16Array(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}const a0=t=>{if(!t)return 1;const e=t.state;return!e||e.strm!==t||e.mode<IS||e.mode>Gne?1:0},Yne=t=>{if(a0(t))return jc;const e=t.state;return t.total_in=t.total_out=e.total=0,t.msg="",e.wrap&&(t.adler=e.wrap&1),e.mode=IS,e.last=0,e.havedict=0,e.flags=-1,e.dmax=32768,e.head=null,e.hold=0,e.bits=0,e.lencode=e.lendyn=new Int32Array(ZBe),e.distcode=e.distdyn=new Int32Array(eze),e.sane=1,e.back=-1,Kp},Kne=t=>{if(a0(t))return jc;const e=t.state;return e.wsize=0,e.whave=0,e.wnext=0,Yne(t)},Jne=(t,e)=>{let r;if(a0(t))return jc;const n=t.state;return e<0?(r=0,e=-e):(r=(e>>4)+5,e<48&&(e&=15)),e&&(e<8||e>15)?jc:(n.window!==null&&n.wbits!==e&&(n.window=null),n.wrap=r,n.wbits=e,Kne(t))},Xne=(t,e)=>{if(!t)return jc;const r=new nze;t.state=r,r.strm=t,r.window=null,r.mode=IS;const n=Jne(t,e);return n!==Kp&&(t.state=null),n},aze=t=>Xne(t,rze);let KV=!0,DT,PT;const sze=t=>{if(KV){DT=new Int32Array(512),PT=new Int32Array(32);let e=0;for(;e<144;)t.lens[e++]=8;for(;e<256;)t.lens[e++]=9;for(;e<280;)t.lens[e++]=7;for(;e<288;)t.lens[e++]=8;for(Iy(zne,t.lens,0,288,DT,0,t.work,{bits:9}),e=0;e<32;)t.lens[e++]=5;Iy(qne,t.lens,0,32,PT,0,t.work,{bits:5}),KV=!1}t.lencode=DT,t.lenbits=9,t.distcode=PT,t.distbits=5},Qne=(t,e,r,n)=>{let s;const i=t.state;return i.window===null&&(i.wsize=1<<i.wbits,i.wnext=0,i.whave=0,i.window=new Uint8Array(i.wsize)),n>=i.wsize?(i.window.set(e.subarray(r-i.wsize,r),0),i.wnext=0,i.whave=i.wsize):(s=i.wsize-i.wnext,s>n&&(s=n),i.window.set(e.subarray(r-n,r-n+s),i.wnext),n-=s,n?(i.window.set(e.subarray(r-n,r),0),i.wnext=n,i.whave=i.wsize):(i.wnext+=s,i.wnext===i.wsize&&(i.wnext=0),i.whave<i.wsize&&(i.whave+=s))),0},ize=(t,e)=>{let r,n,s,i,o,l,c,d,f,m,p,g,v,w,y=0,N,k,S,A,_,O,P,I;const R=new Uint8Array(4);let F,E;const M=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]);if(a0(t)||!t.output||!t.input&&t.avail_in!==0)return jc;r=t.state,r.mode===nf&&(r.mode=MT),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,m=l,p=c,I=Kp;e:for(;;)switch(r.mode){case IS:if(r.wrap===0){r.mode=MT;break}for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&2&&d===35615){r.wbits===0&&(r.wbits=15),r.check=0,R[0]=d&255,R[1]=d>>>8&255,r.check=Id(r.check,R,2,0),d=0,f=0,r.mode=_V;break}if(r.head&&(r.head.done=!1),!(r.wrap&1)||(((d&255)<<8)+(d>>8))%31){t.msg="incorrect header check",r.mode=rs;break}if((d&15)!==CV){t.msg="unknown compression method",r.mode=rs;break}if(d>>>=4,f-=4,P=(d&15)+8,r.wbits===0&&(r.wbits=P),P>15||P>r.wbits){t.msg="invalid window size",r.mode=rs;break}r.dmax=1<<r.wbits,r.flags=0,t.adler=r.check=1,r.mode=d&512?LV:nf,d=0,f=0;break;case _V:for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.flags=d,(r.flags&255)!==CV){t.msg="unknown compression method",r.mode=rs;break}if(r.flags&57344){t.msg="unknown header flags set",r.mode=rs;break}r.head&&(r.head.text=d>>8&1),r.flags&512&&r.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,r.check=Id(r.check,R,2,0)),d=0,f=0,r.mode=AV;case AV:for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.head&&(r.head.time=d),r.flags&512&&r.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,R[2]=d>>>16&255,R[3]=d>>>24&255,r.check=Id(r.check,R,4,0)),d=0,f=0,r.mode=TV;case TV:for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.head&&(r.head.xflags=d&255,r.head.os=d>>8),r.flags&512&&r.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,r.check=Id(r.check,R,2,0)),d=0,f=0,r.mode=MV;case MV:if(r.flags&1024){for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.length=d,r.head&&(r.head.extra_len=d),r.flags&512&&r.wrap&4&&(R[0]=d&255,R[1]=d>>>8&255,r.check=Id(r.check,R,2,0)),d=0,f=0}else r.head&&(r.head.extra=null);r.mode=OV;case OV:if(r.flags&1024&&(g=r.length,g>l&&(g=l),g&&(r.head&&(P=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Uint8Array(r.head.extra_len)),r.head.extra.set(n.subarray(i,i+g),P)),r.flags&512&&r.wrap&4&&(r.check=Id(r.check,n,g,i)),l-=g,i+=g,r.length-=g),r.length))break e;r.length=0,r.mode=EV;case EV:if(r.flags&2048){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.name+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Id(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=DV;case DV:if(r.flags&4096){if(l===0)break e;g=0;do P=n[i+g++],r.head&&P&&r.length<65536&&(r.head.comment+=String.fromCharCode(P));while(P&&g<l);if(r.flags&512&&r.wrap&4&&(r.check=Id(r.check,n,g,i)),l-=g,i+=g,P)break e}else r.head&&(r.head.comment=null);r.mode=PV;case PV:if(r.flags&512){for(;f<16;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.check&65535)){t.msg="header crc mismatch",r.mode=rs;break}d=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),t.adler=r.check=0,r.mode=nf;break;case LV:for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}t.adler=r.check=YV(d),d=0,f=0,r.mode=pN;case pN:if(r.havedict===0)return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=f,XBe;t.adler=r.check=1,r.mode=nf;case nf:if(e===KBe||e===c2)break e;case MT:if(r.last){d>>>=f&7,f-=f&7,r.mode=ET;break}for(;f<3;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}switch(r.last=d&1,d>>>=1,f-=1,d&3){case 0:r.mode=RV;break;case 1:if(sze(r),r.mode=d2,e===c2){d>>>=2,f-=2;break e}break;case 2:r.mode=FV;break;case 3:t.msg="invalid block type",r.mode=rs}d>>>=2,f-=2;break;case RV:for(d>>>=f&7,f-=f&7;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if((d&65535)!==(d>>>16^65535)){t.msg="invalid stored block lengths",r.mode=rs;break}if(r.length=d&65535,d=0,f=0,r.mode=OT,e===c2)break e;case OT:r.mode=IV;case IV:if(g=r.length,g){if(g>l&&(g=l),g>c&&(g=c),g===0)break e;s.set(n.subarray(i,i+g),o),l-=g,i+=g,c-=g,o+=g,r.length-=g;break}r.mode=nf;break;case FV:for(;f<14;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.nlen=(d&31)+257,d>>>=5,f-=5,r.ndist=(d&31)+1,d>>>=5,f-=5,r.ncode=(d&15)+4,d>>>=4,f-=4,r.nlen>286||r.ndist>30){t.msg="too many length or distance symbols",r.mode=rs;break}r.have=0,r.mode=$V;case $V:for(;r.have<r.ncode;){for(;f<3;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.lens[M[r.have++]]=d&7,d>>>=3,f-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,F={bits:r.lenbits},I=Iy(YBe,r.lens,0,19,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid code lengths set",r.mode=rs;break}r.have=0,r.mode=HV;case HV:for(;r.have<r.nlen+r.ndist;){for(;y=r.lencode[d&(1<<r.lenbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(S<16)d>>>=N,f-=N,r.lens[r.have++]=S;else{if(S===16){for(E=N+2;f<E;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(d>>>=N,f-=N,r.have===0){t.msg="invalid bit length repeat",r.mode=rs;break}P=r.lens[r.have-1],g=3+(d&3),d>>>=2,f-=2}else if(S===17){for(E=N+3;f<E;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=N,f-=N,P=0,g=3+(d&7),d>>>=3,f-=3}else{for(E=N+7;f<E;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=N,f-=N,P=0,g=11+(d&127),d>>>=7,f-=7}if(r.have+g>r.nlen+r.ndist){t.msg="invalid bit length repeat",r.mode=rs;break}for(;g--;)r.lens[r.have++]=P}}if(r.mode===rs)break;if(r.lens[256]===0){t.msg="invalid code -- missing end-of-block",r.mode=rs;break}if(r.lenbits=9,F={bits:r.lenbits},I=Iy(zne,r.lens,0,r.nlen,r.lencode,0,r.work,F),r.lenbits=F.bits,I){t.msg="invalid literal/lengths set",r.mode=rs;break}if(r.distbits=6,r.distcode=r.distdyn,F={bits:r.distbits},I=Iy(qne,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,F),r.distbits=F.bits,I){t.msg="invalid distances set",r.mode=rs;break}if(r.mode=d2,e===c2)break e;case d2:r.mode=u2;case u2:if(l>=6&&c>=258){t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=f,zBe(t,p),o=t.next_out,s=t.output,c=t.avail_out,i=t.next_in,n=t.input,l=t.avail_in,d=r.hold,f=r.bits,r.mode===nf&&(r.back=-1);break}for(r.back=0;y=r.lencode[d&(1<<r.lenbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(k&&(k&240)===0){for(A=N,_=k,O=S;y=r.lencode[O+((d&(1<<A+_)-1)>>A)],N=y>>>24,k=y>>>16&255,S=y&65535,!(A+N<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=A,f-=A,r.back+=A}if(d>>>=N,f-=N,r.back+=N,r.length=S,k===0){r.mode=WV;break}if(k&32){r.back=-1,r.mode=nf;break}if(k&64){t.msg="invalid literal/length code",r.mode=rs;break}r.extra=k&15,r.mode=BV;case BV:if(r.extra){for(E=r.extra;f<E;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.length+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=zV;case zV:for(;y=r.distcode[d&(1<<r.distbits)-1],N=y>>>24,k=y>>>16&255,S=y&65535,!(N<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if((k&240)===0){for(A=N,_=k,O=S;y=r.distcode[O+((d&(1<<A+_)-1)>>A)],N=y>>>24,k=y>>>16&255,S=y&65535,!(A+N<=f);){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}d>>>=A,f-=A,r.back+=A}if(d>>>=N,f-=N,r.back+=N,k&64){t.msg="invalid distance code",r.mode=rs;break}r.offset=S,r.extra=k&15,r.mode=qV;case qV:if(r.extra){for(E=r.extra;f<E;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}r.offset+=d&(1<<r.extra)-1,d>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){t.msg="invalid distance too far back",r.mode=rs;break}r.mode=UV;case UV:if(c===0)break e;if(g=p-c,r.offset>g){if(g=r.offset-g,g>r.whave&&r.sane){t.msg="invalid distance too far back",r.mode=rs;break}g>r.wnext?(g-=r.wnext,v=r.wsize-g):v=r.wnext-g,g>r.length&&(g=r.length),w=r.window}else w=s,v=o-r.offset,g=r.length;g>c&&(g=c),c-=g,r.length-=g;do s[o++]=w[v++];while(--g);r.length===0&&(r.mode=u2);break;case WV:if(c===0)break e;s[o++]=r.length,c--,r.mode=u2;break;case ET:if(r.wrap){for(;f<32;){if(l===0)break e;l--,d|=n[i++]<<f,f+=8}if(p-=c,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Id(r.check,s,p,o-p):KO(r.check,s,p,o-p)),p=c,r.wrap&4&&(r.flags?d:YV(d))!==r.check){t.msg="incorrect data check",r.mode=rs;break}d=0,f=0}r.mode=VV;case VV:if(r.wrap&&r.flags){for(;f<32;){if(l===0)break e;l--,d+=n[i++]<<f,f+=8}if(r.wrap&4&&d!==(r.total&4294967295)){t.msg="incorrect length check",r.mode=rs;break}d=0,f=0}r.mode=GV;case GV:I=JBe;break e;case rs:I=Une;break e;case Vne:return Wne;case Gne:default:return jc}return t.next_out=o,t.avail_out=c,t.next_in=i,t.avail_in=l,r.hold=d,r.bits=f,(r.wsize||p!==t.avail_out&&r.mode<rs&&(r.mode<ET||e!==kV))&&Qne(t,t.output,t.next_out,p-t.avail_out),m-=t.avail_in,p-=t.avail_out,t.total_in+=m,t.total_out+=p,r.total+=p,r.wrap&4&&p&&(t.adler=r.check=r.flags?Id(r.check,s,p,t.next_out-p):KO(r.check,s,p,t.next_out-p)),t.data_type=r.bits+(r.last?64:0)+(r.mode===nf?128:0)+(r.mode===d2||r.mode===OT?256:0),(m===0&&p===0||e===kV)&&I===Kp&&(I=QBe),I},oze=t=>{if(a0(t))return jc;let e=t.state;return e.window&&(e.window=null),t.state=null,Kp},lze=(t,e)=>{if(a0(t))return jc;const r=t.state;return(r.wrap&2)===0?jc:(r.head=e,e.done=!1,Kp)},cze=(t,e)=>{const r=e.length;let n,s,i;return a0(t)||(n=t.state,n.wrap!==0&&n.mode!==pN)?jc:n.mode===pN&&(s=1,s=KO(s,e,r,0),s!==n.check)?Une:(i=Qne(t,e,r,r),i?(n.mode=Vne,Wne):(n.havedict=1,Kp))};var dze=Kne,uze=Jne,fze=Yne,hze=aze,mze=Xne,pze=ize,gze=oze,xze=lze,bze=cze,yze="pako inflate (from Nodeca project)",cf={inflateReset:dze,inflateReset2:uze,inflateResetKeep:fze,inflateInit:hze,inflateInit2:mze,inflate:pze,inflateEnd:gze,inflateGetHeader:xze,inflateSetDictionary:bze,inflateInfo:yze};function vze(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}var wze=vze;const Zne=Object.prototype.toString,{Z_NO_FLUSH:jze,Z_FINISH:Nze,Z_OK:Uv,Z_STREAM_END:LT,Z_NEED_DICT:RT,Z_STREAM_ERROR:Sze,Z_DATA_ERROR:JV,Z_MEM_ERROR:kze}=$ne;function g1(t){this.options=Hne.assign({chunkSize:1024*64,windowBits:15,to:""},t||{});const e=this.options;e.raw&&e.windowBits>=0&&e.windowBits<16&&(e.windowBits=-e.windowBits,e.windowBits===0&&(e.windowBits=-15)),e.windowBits>=0&&e.windowBits<16&&!(t&&t.windowBits)&&(e.windowBits+=32),e.windowBits>15&&e.windowBits<48&&(e.windowBits&15)===0&&(e.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new HBe,this.strm.avail_out=0;let r=cf.inflateInit2(this.strm,e.windowBits);if(r!==Uv)throw new Error(JO[r]);if(this.header=new wze,cf.inflateGetHeader(this.strm,this.header),e.dictionary&&(typeof e.dictionary=="string"?e.dictionary=XO.string2buf(e.dictionary):Zne.call(e.dictionary)==="[object ArrayBuffer]"&&(e.dictionary=new Uint8Array(e.dictionary)),e.raw&&(r=cf.inflateSetDictionary(this.strm,e.dictionary),r!==Uv)))throw new Error(JO[r])}g1.prototype.push=function(t,e){const r=this.strm,n=this.options.chunkSize,s=this.options.dictionary;let i,o,l;if(this.ended)return!1;for(e===~~e?o=e:o=e===!0?Nze:jze,Zne.call(t)==="[object ArrayBuffer]"?r.input=new Uint8Array(t):r.input=t,r.next_in=0,r.avail_in=r.input.length;;){for(r.avail_out===0&&(r.output=new Uint8Array(n),r.next_out=0,r.avail_out=n),i=cf.inflate(r,o),i===RT&&s&&(i=cf.inflateSetDictionary(r,s),i===Uv?i=cf.inflate(r,o):i===JV&&(i=RT));r.avail_in>0&&i===LT&&r.state.wrap>0&&t[r.next_in]!==0;)cf.inflateReset(r),i=cf.inflate(r,o);switch(i){case Sze:case JV:case RT:case kze:return this.onEnd(i),this.ended=!0,!1}if(l=r.avail_out,r.next_out&&(r.avail_out===0||i===LT))if(this.options.to==="string"){let c=XO.utf8border(r.output,r.next_out),d=r.next_out-c,f=XO.buf2string(r.output,c);r.next_out=d,r.avail_out=n-d,d&&r.output.set(r.output.subarray(c,c+d),0),this.onData(f)}else this.onData(r.output.length===r.next_out?r.output:r.output.subarray(0,r.next_out));if(!(i===Uv&&l===0)){if(i===LT)return i=cf.inflateEnd(this.strm),this.onEnd(i),this.ended=!0,!0;if(r.avail_in===0)break}}return!0};g1.prototype.onData=function(t){this.chunks.push(t)};g1.prototype.onEnd=function(t){t===Uv&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=Hne.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg};function Cze(t,e){const r=new g1(e);if(r.push(t),r.err)throw r.msg||JO[r.err];return r.result}var _ze=g1,Aze=Cze,Tze={Inflate:_ze,inflate:Aze};const{Inflate:Mze,inflate:Oze}=Tze;var XV=Mze,Eze=Oze;const eae=[];for(let t=0;t<256;t++){let e=t;for(let r=0;r<8;r++)e&1?e=3988292384^e>>>1:e=e>>>1;eae[t]=e}const QV=4294967295;function Dze(t,e,r){let n=t;for(let s=0;s<r;s++)n=eae[(n^e[s])&255]^n>>>8;return n}function Pze(t,e){return(Dze(QV,t,e)^QV)>>>0}function ZV(t,e,r){const n=t.readUint32(),s=Pze(new Uint8Array(t.buffer,t.byteOffset+t.offset-e-4,e),e);if(s!==n)throw new Error(`CRC mismatch for chunk ${r}. Expected ${n}, found ${s}`)}function tae(t,e,r){for(let n=0;n<r;n++)e[n]=t[n]}function rae(t,e,r,n){let s=0;for(;s<n;s++)e[s]=t[s];for(;s<r;s++)e[s]=t[s]+e[s-n]&255}function nae(t,e,r,n){let s=0;if(r.length===0)for(;s<n;s++)e[s]=t[s];else for(;s<n;s++)e[s]=t[s]+r[s]&255}function aae(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+(e[i-s]>>1)&255}else{for(;i<s;i++)e[i]=t[i]+(r[i]>>1)&255;for(;i<n;i++)e[i]=t[i]+(e[i-s]+r[i]>>1)&255}}function sae(t,e,r,n,s){let i=0;if(r.length===0){for(;i<s;i++)e[i]=t[i];for(;i<n;i++)e[i]=t[i]+e[i-s]&255}else{for(;i<s;i++)e[i]=t[i]+r[i]&255;for(;i<n;i++)e[i]=t[i]+Lze(e[i-s],r[i],r[i-s])&255}}function Lze(t,e,r){const n=t+e-r,s=Math.abs(n-t),i=Math.abs(n-e),o=Math.abs(n-r);return s<=i&&s<=o?t:i<=o?e:r}function Rze(t,e,r,n,s,i){switch(t){case 0:tae(e,r,s);break;case 1:rae(e,r,s,i);break;case 2:nae(e,r,n,s);break;case 3:aae(e,r,n,s,i);break;case 4:sae(e,r,n,s,i);break;default:throw new Error(`Unsupported filter: ${t}`)}}const Ize=new Uint16Array([255]),Fze=new Uint8Array(Ize.buffer),$ze=Fze[0]===255;function Hze(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=[{x:0,y:0,xStep:8,yStep:8},{x:4,y:0,xStep:8,yStep:8},{x:0,y:4,xStep:4,yStep:8},{x:2,y:0,xStep:4,yStep:4},{x:0,y:2,xStep:2,yStep:4},{x:1,y:0,xStep:2,yStep:2},{x:0,y:1,xStep:1,yStep:2}],l=Math.ceil(i/8)*s,c=new Uint8Array(n*r*l);let d=0;for(let f=0;f<7;f++){const m=o[f],p=Math.ceil((r-m.x)/m.xStep),g=Math.ceil((n-m.y)/m.yStep);if(p<=0||g<=0)continue;const v=p*l,w=new Uint8Array(v);for(let y=0;y<g;y++){const N=e[d++],k=e.subarray(d,d+v);d+=v;const S=new Uint8Array(v);Rze(N,k,S,w,v,l),w.set(S);for(let A=0;A<p;A++){const _=m.x+A*m.xStep,O=m.y+y*m.yStep;if(!(_>=r||O>=n))for(let P=0;P<l;P++)c[(O*r+_)*l+P]=S[A*l+P]}}}if(i===16){const f=new Uint16Array(c.buffer);if($ze)for(let m=0;m<f.length;m++)f[m]=Bze(f[m]);return f}else return c}function Bze(t){return(t&255)<<8|t>>8&255}const zze=new Uint16Array([255]),qze=new Uint8Array(zze.buffer),Uze=qze[0]===255,Wze=new Uint8Array(0);function eG(t){const{data:e,width:r,height:n,channels:s,depth:i}=t,o=Math.ceil(i/8)*s,l=Math.ceil(i/8*s*r),c=new Uint8Array(n*l);let d=Wze,f=0,m,p;for(let g=0;g<n;g++){switch(m=e.subarray(f+1,f+1+l),p=c.subarray(g*l,(g+1)*l),e[f]){case 0:tae(m,p,l);break;case 1:rae(m,p,l,o);break;case 2:nae(m,p,d,l);break;case 3:aae(m,p,d,l,o);break;case 4:sae(m,p,d,l,o);break;default:throw new Error(`Unsupported filter: ${e[f]}`)}d=p,f+=l+1}if(i===16){const g=new Uint16Array(c.buffer);if(Uze)for(let v=0;v<g.length;v++)g[v]=Vze(g[v]);return g}else return c}function Vze(t){return(t&255)<<8|t>>8&255}const U2=Uint8Array.of(137,80,78,71,13,10,26,10);function tG(t){if(!Gze(t.readBytes(U2.length)))throw new Error("wrong PNG signature")}function Gze(t){if(t.length<U2.length)return!1;for(let e=0;e<U2.length;e++)if(t[e]!==U2[e])return!1;return!0}const Yze="tEXt",Kze=0,iae=new TextDecoder("latin1");function Jze(t){if(Qze(t),t.length===0||t.length>79)throw new Error("keyword length must be between 1 and 79")}const Xze=/^[\u0000-\u00FF]*$/;function Qze(t){if(!Xze.test(t))throw new Error("invalid latin1 text")}function Zze(t,e,r){const n=oae(e);t[n]=eqe(e,r-n.length-1)}function oae(t){for(t.mark();t.readByte()!==Kze;);const e=t.offset;t.reset();const r=iae.decode(t.readBytes(e-t.offset-1));return t.skip(1),Jze(r),r}function eqe(t,e){return iae.decode(t.readBytes(e))}const wl={UNKNOWN:-1,GREYSCALE:0,TRUECOLOUR:2,INDEXED_COLOUR:3,GREYSCALE_ALPHA:4,TRUECOLOUR_ALPHA:6},IT={UNKNOWN:-1,DEFLATE:0},rG={UNKNOWN:-1,ADAPTIVE:0},FT={UNKNOWN:-1,NO_INTERLACE:0,ADAM7:1},f2={NONE:0,BACKGROUND:1,PREVIOUS:2},$T={SOURCE:0,OVER:1};class tqe extends lL{constructor(r,n={}){super(r);Jt(this,"_checkCrc");Jt(this,"_inflator");Jt(this,"_png");Jt(this,"_apng");Jt(this,"_end");Jt(this,"_hasPalette");Jt(this,"_palette");Jt(this,"_hasTransparency");Jt(this,"_transparency");Jt(this,"_compressionMethod");Jt(this,"_filterMethod");Jt(this,"_interlaceMethod");Jt(this,"_colorType");Jt(this,"_isAnimated");Jt(this,"_numberOfFrames");Jt(this,"_numberOfPlays");Jt(this,"_frames");Jt(this,"_writingDataChunks");const{checkCrc:s=!1}=n;this._checkCrc=s,this._inflator=new XV,this._png={width:-1,height:-1,channels:-1,data:new Uint8Array(0),depth:1,text:{}},this._apng={width:-1,height:-1,channels:-1,depth:1,numberOfFrames:1,numberOfPlays:0,text:{},frames:[]},this._end=!1,this._hasPalette=!1,this._palette=[],this._hasTransparency=!1,this._transparency=new Uint16Array(0),this._compressionMethod=IT.UNKNOWN,this._filterMethod=rG.UNKNOWN,this._interlaceMethod=FT.UNKNOWN,this._colorType=wl.UNKNOWN,this._isAnimated=!1,this._numberOfFrames=1,this._numberOfPlays=0,this._frames=[],this._writingDataChunks=!1,this.setBigEndian()}decode(){for(tG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeChunk(r,n)}return this.decodeImage(),this._png}decodeApng(){for(tG(this);!this._end;){const r=this.readUint32(),n=this.readChars(4);this.decodeApngChunk(r,n)}return this.decodeApngImage(),this._apng}decodeChunk(r,n){const s=this.offset;switch(n){case"IHDR":this.decodeIHDR();break;case"PLTE":this.decodePLTE(r);break;case"IDAT":this.decodeIDAT(r);break;case"IEND":this._end=!0;break;case"tRNS":this.decodetRNS(r);break;case"iCCP":this.decodeiCCP(r);break;case Yze:Zze(this._png.text,this,r);break;case"pHYs":this.decodepHYs();break;default:this.skip(r);break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ZV(this,r+4,n):this.skip(4)}decodeApngChunk(r,n){const s=this.offset;switch(n!=="fdAT"&&n!=="IDAT"&&this._writingDataChunks&&this.pushDataToFrame(),n){case"acTL":this.decodeACTL();break;case"fcTL":this.decodeFCTL();break;case"fdAT":this.decodeFDAT(r);break;default:this.decodeChunk(r,n),this.offset=s+r;break}if(this.offset-s!==r)throw new Error(`Length mismatch while decoding chunk ${n}`);this._checkCrc?ZV(this,r+4,n):this.skip(4)}decodeIHDR(){const r=this._png;r.width=this.readUint32(),r.height=this.readUint32(),r.depth=rqe(this.readUint8());const n=this.readUint8();this._colorType=n;let s;switch(n){case wl.GREYSCALE:s=1;break;case wl.TRUECOLOUR:s=3;break;case wl.INDEXED_COLOUR:s=1;break;case wl.GREYSCALE_ALPHA:s=2;break;case wl.TRUECOLOUR_ALPHA:s=4;break;case wl.UNKNOWN:default:throw new Error(`Unknown color type: ${n}`)}if(this._png.channels=s,this._compressionMethod=this.readUint8(),this._compressionMethod!==IT.DEFLATE)throw new Error(`Unsupported compression method: ${this._compressionMethod}`);this._filterMethod=this.readUint8(),this._interlaceMethod=this.readUint8()}decodeACTL(){this._numberOfFrames=this.readUint32(),this._numberOfPlays=this.readUint32(),this._isAnimated=!0}decodeFCTL(){const r={sequenceNumber:this.readUint32(),width:this.readUint32(),height:this.readUint32(),xOffset:this.readUint32(),yOffset:this.readUint32(),delayNumber:this.readUint16(),delayDenominator:this.readUint16(),disposeOp:this.readUint8(),blendOp:this.readUint8(),data:new Uint8Array(0)};this._frames.push(r)}decodePLTE(r){if(r%3!==0)throw new RangeError(`PLTE field length must be a multiple of 3. Got ${r}`);const n=r/3;this._hasPalette=!0;const s=[];this._palette=s;for(let i=0;i<n;i++)s.push([this.readUint8(),this.readUint8(),this.readUint8()])}decodeIDAT(r){this._writingDataChunks=!0;const n=r,s=this.offset+this.byteOffset;if(this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodeFDAT(r){this._writingDataChunks=!0;let n=r,s=this.offset+this.byteOffset;if(s+=4,n-=4,this._inflator.push(new Uint8Array(this.buffer,s,n)),this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);this.skip(r)}decodetRNS(r){switch(this._colorType){case wl.GREYSCALE:case wl.TRUECOLOUR:{if(r%2!==0)throw new RangeError(`tRNS chunk length must be a multiple of 2. Got ${r}`);if(r/2>this._png.width*this._png.height)throw new Error(`tRNS chunk contains more alpha values than there are pixels (${r/2} vs ${this._png.width*this._png.height})`);this._hasTransparency=!0,this._transparency=new Uint16Array(r/2);for(let n=0;n<r/2;n++)this._transparency[n]=this.readUint16();break}case wl.INDEXED_COLOUR:{if(r>this._palette.length)throw new Error(`tRNS chunk contains more alpha values than there are palette colors (${r} vs ${this._palette.length})`);let n=0;for(;n<r;n++){const s=this.readByte();this._palette[n].push(s)}for(;n<this._palette.length;n++)this._palette[n].push(255);break}case wl.UNKNOWN:case wl.GREYSCALE_ALPHA:case wl.TRUECOLOUR_ALPHA:default:throw new Error(`tRNS chunk is not supported for color type ${this._colorType}`)}}decodeiCCP(r){const n=oae(this),s=this.readUint8();if(s!==IT.DEFLATE)throw new Error(`Unsupported iCCP compression method: ${s}`);const i=this.readBytes(r-n.length-2);this._png.iccEmbeddedProfile={name:n,profile:Eze(i)}}decodepHYs(){const r=this.readUint32(),n=this.readUint32(),s=this.readByte();this._png.resolution={x:r,y:n,unit:s}}decodeApngImage(){this._apng.width=this._png.width,this._apng.height=this._png.height,this._apng.channels=this._png.channels,this._apng.depth=this._png.depth,this._apng.numberOfFrames=this._numberOfFrames,this._apng.numberOfPlays=this._numberOfPlays,this._apng.text=this._png.text,this._apng.resolution=this._png.resolution;for(let r=0;r<this._numberOfFrames;r++){const n={sequenceNumber:this._frames[r].sequenceNumber,delayNumber:this._frames[r].delayNumber,delayDenominator:this._frames[r].delayDenominator,data:this._apng.depth===8?new Uint8Array(this._apng.width*this._apng.height*this._apng.channels):new Uint16Array(this._apng.width*this._apng.height*this._apng.channels)},s=this._frames.at(r);if(s){if(s.data=eG({data:s.data,width:s.width,height:s.height,channels:this._apng.channels,depth:this._apng.depth}),this._hasPalette&&(this._apng.palette=this._palette),this._hasTransparency&&(this._apng.transparency=this._transparency),r===0||s.xOffset===0&&s.yOffset===0&&s.width===this._png.width&&s.height===this._png.height)n.data=s.data;else{const i=this._apng.frames.at(r-1);this.disposeFrame(s,i,n),this.addFrameDataToCanvas(n,s)}this._apng.frames.push(n)}}return this._apng}disposeFrame(r,n,s){switch(r.disposeOp){case f2.NONE:break;case f2.BACKGROUND:for(let i=0;i<this._png.height;i++)for(let o=0;o<this._png.width;o++){const l=(i*r.width+o)*this._png.channels;for(let c=0;c<this._png.channels;c++)s.data[l+c]=0}break;case f2.PREVIOUS:s.data.set(n.data);break;default:throw new Error("Unknown disposeOp")}}addFrameDataToCanvas(r,n){const s=1<<this._png.depth,i=(o,l)=>{const c=((o+n.yOffset)*this._png.width+n.xOffset+l)*this._png.channels,d=(o*n.width+l)*this._png.channels;return{index:c,frameIndex:d}};switch(n.blendOp){case $T.SOURCE:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++)r.data[c+f]=n.data[d+f]}break;case $T.OVER:for(let o=0;o<n.height;o++)for(let l=0;l<n.width;l++){const{index:c,frameIndex:d}=i(o,l);for(let f=0;f<this._png.channels;f++){const m=n.data[d+this._png.channels-1]/s,p=f%(this._png.channels-1)===0?1:n.data[d+f],g=Math.floor(m*p+(1-m)*r.data[c+f]);r.data[c+f]+=g}}break;default:throw new Error("Unknown blendOp")}}decodeImage(){var n;if(this._inflator.err)throw new Error(`Error while decompressing the data: ${this._inflator.err}`);const r=this._isAnimated?((n=this._frames)==null?void 0:n.at(0)).data:this._inflator.result;if(this._filterMethod!==rG.ADAPTIVE)throw new Error(`Filter method ${this._filterMethod} not supported`);if(this._interlaceMethod===FT.NO_INTERLACE)this._png.data=eG({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else if(this._interlaceMethod===FT.ADAM7)this._png.data=Hze({data:r,width:this._png.width,height:this._png.height,channels:this._png.channels,depth:this._png.depth});else throw new Error(`Interlace method ${this._interlaceMethod} not supported`);this._hasPalette&&(this._png.palette=this._palette),this._hasTransparency&&(this._png.transparency=this._transparency)}pushDataToFrame(){const r=this._inflator.result,n=this._frames.at(-1);n?n.data=r:this._frames.push({sequenceNumber:0,width:this._png.width,height:this._png.height,xOffset:0,yOffset:0,delayNumber:0,delayDenominator:0,disposeOp:f2.NONE,blendOp:$T.SOURCE,data:r}),this._inflator=new XV,this._writingDataChunks=!1}}function rqe(t){if(t!==1&&t!==2&&t!==4&&t!==8&&t!==16)throw new Error(`invalid bit depth: ${t}`);return t}var nG;(function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.METRE=1]="METRE"})(nG||(nG={}));function nqe(t,e){return new tqe(t,e).decode()}var Xr=(function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this})();function HT(){Xr.console&&typeof Xr.console.log=="function"&&Xr.console.log.apply(Xr.console,arguments)}var Oa={log:HT,warn:function(t){Xr.console&&(typeof Xr.console.warn=="function"?Xr.console.warn.apply(Xr.console,arguments):HT.call(null,arguments))},error:function(t){Xr.console&&(typeof Xr.console.error=="function"?Xr.console.error.apply(Xr.console,arguments):HT(t))}};function BT(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){Zm(n.response,e,r)},n.onerror=function(){Oa.error("could not download file")},n.send()}function aG(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function h2(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Zm=Xr.saveAs||((typeof window>"u"?"undefined":Bn(window))!=="object"||window!==Xr?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Xr.URL||Xr.webkitURL,s=document.createElement("a");e=e||t.name||"download",s.download=e,s.rel="noopener",typeof t=="string"?(s.href=t,s.origin!==location.origin?aG(s.href)?BT(t,e,r):h2(s,s.target="_blank"):h2(s)):(s.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(s.href)},4e4),setTimeout(function(){h2(s)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(aG(t))BT(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){h2(n)})}else navigator.msSaveOrOpenBlob((function(s,i){return i===void 0?i={autoBom:!1}:Bn(i)!=="object"&&(Oa.warn("Deprecated: Expected third argument to be a object"),i={autoBom:!i}),i.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(s.type)?new Blob(["\uFEFF",s],{type:s.type}):s})(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return BT(t,e,r);var s=t.type==="application/octet-stream",i=/constructor/i.test(Xr.HTMLElement)||Xr.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||s&&i)&&(typeof FileReader>"u"?"undefined":Bn(FileReader))==="object"){var l=new FileReader;l.onloadend=function(){var f=l.result;f=o?f:f.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=f:location=f,n=null},l.readAsDataURL(t)}else{var c=Xr.URL||Xr.webkitURL,d=c.createObjectURL(t);n?n.location=d:location.href=d,n=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function lae(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(l){return[parseInt(l[1]),parseInt(l[2]),parseInt(l[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(l){return[parseInt(l[1],16),parseInt(l[2],16),parseInt(l[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(l){return[parseInt(l[1]+l[1],16),parseInt(l[2]+l[2],16),parseInt(l[3]+l[3],16)]}}],n=0;n<r.length;n++){var s=r[n].re,i=r[n].process,o=s.exec(t);o&&(e=i(o),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var l=this.r.toString(16),c=this.g.toString(16),d=this.b.toString(16);return l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),d.length==1&&(d="0"+d),"#"+l+c+d}}var W2=Xr.atob.bind(Xr),sG=Xr.btoa.bind(Xr);/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function zT(t,e){var r=t[0],n=t[1],s=t[2],i=t[3];r=io(r,n,s,i,e[0],7,-680876936),i=io(i,r,n,s,e[1],12,-389564586),s=io(s,i,r,n,e[2],17,606105819),n=io(n,s,i,r,e[3],22,-1044525330),r=io(r,n,s,i,e[4],7,-176418897),i=io(i,r,n,s,e[5],12,1200080426),s=io(s,i,r,n,e[6],17,-1473231341),n=io(n,s,i,r,e[7],22,-45705983),r=io(r,n,s,i,e[8],7,1770035416),i=io(i,r,n,s,e[9],12,-1958414417),s=io(s,i,r,n,e[10],17,-42063),n=io(n,s,i,r,e[11],22,-1990404162),r=io(r,n,s,i,e[12],7,1804603682),i=io(i,r,n,s,e[13],12,-40341101),s=io(s,i,r,n,e[14],17,-1502002290),r=oo(r,n=io(n,s,i,r,e[15],22,1236535329),s,i,e[1],5,-165796510),i=oo(i,r,n,s,e[6],9,-1069501632),s=oo(s,i,r,n,e[11],14,643717713),n=oo(n,s,i,r,e[0],20,-373897302),r=oo(r,n,s,i,e[5],5,-701558691),i=oo(i,r,n,s,e[10],9,38016083),s=oo(s,i,r,n,e[15],14,-660478335),n=oo(n,s,i,r,e[4],20,-405537848),r=oo(r,n,s,i,e[9],5,568446438),i=oo(i,r,n,s,e[14],9,-1019803690),s=oo(s,i,r,n,e[3],14,-187363961),n=oo(n,s,i,r,e[8],20,1163531501),r=oo(r,n,s,i,e[13],5,-1444681467),i=oo(i,r,n,s,e[2],9,-51403784),s=oo(s,i,r,n,e[7],14,1735328473),r=lo(r,n=oo(n,s,i,r,e[12],20,-1926607734),s,i,e[5],4,-378558),i=lo(i,r,n,s,e[8],11,-2022574463),s=lo(s,i,r,n,e[11],16,1839030562),n=lo(n,s,i,r,e[14],23,-35309556),r=lo(r,n,s,i,e[1],4,-1530992060),i=lo(i,r,n,s,e[4],11,1272893353),s=lo(s,i,r,n,e[7],16,-155497632),n=lo(n,s,i,r,e[10],23,-1094730640),r=lo(r,n,s,i,e[13],4,681279174),i=lo(i,r,n,s,e[0],11,-358537222),s=lo(s,i,r,n,e[3],16,-722521979),n=lo(n,s,i,r,e[6],23,76029189),r=lo(r,n,s,i,e[9],4,-640364487),i=lo(i,r,n,s,e[12],11,-421815835),s=lo(s,i,r,n,e[15],16,530742520),r=co(r,n=lo(n,s,i,r,e[2],23,-995338651),s,i,e[0],6,-198630844),i=co(i,r,n,s,e[7],10,1126891415),s=co(s,i,r,n,e[14],15,-1416354905),n=co(n,s,i,r,e[5],21,-57434055),r=co(r,n,s,i,e[12],6,1700485571),i=co(i,r,n,s,e[3],10,-1894986606),s=co(s,i,r,n,e[10],15,-1051523),n=co(n,s,i,r,e[1],21,-2054922799),r=co(r,n,s,i,e[8],6,1873313359),i=co(i,r,n,s,e[15],10,-30611744),s=co(s,i,r,n,e[6],15,-1560198380),n=co(n,s,i,r,e[13],21,1309151649),r=co(r,n,s,i,e[4],6,-145523070),i=co(i,r,n,s,e[11],10,-1120210379),s=co(s,i,r,n,e[2],15,718787259),n=co(n,s,i,r,e[9],21,-343485551),t[0]=Yh(r,t[0]),t[1]=Yh(n,t[1]),t[2]=Yh(s,t[2]),t[3]=Yh(i,t[3])}function FS(t,e,r,n,s,i){return e=Yh(Yh(e,t),Yh(n,i)),Yh(e<<s|e>>>32-s,r)}function io(t,e,r,n,s,i,o){return FS(e&r|~e&n,t,e,s,i,o)}function oo(t,e,r,n,s,i,o){return FS(e&n|r&~n,t,e,s,i,o)}function lo(t,e,r,n,s,i,o){return FS(e^r^n,t,e,s,i,o)}function co(t,e,r,n,s,i,o){return FS(r^(e|~n),t,e,s,i,o)}function cae(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)zT(n,aqe(t.substring(e-64,e)));t=t.substring(e-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)s[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(s[e>>2]|=128<<(e%4<<3),e>55)for(zT(n,s),e=0;e<16;e++)s[e]=0;return s[14]=8*r,zT(n,s),n}function aqe(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}var iG="0123456789abcdef".split("");function sqe(t){for(var e="",r=0;r<4;r++)e+=iG[t>>8*r+4&15]+iG[t>>8*r&15];return e}function iqe(t){return String.fromCharCode(255&t,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function QO(t){return cae(t).map(iqe).join("")}var oqe=(function(t){for(var e=0;e<t.length;e++)t[e]=sqe(t[e]);return t.join("")})(cae("hello"))!="5d41402abc4b2a76b9719d911017c592";function Yh(t,e){if(oqe){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function ZO(t,e){var r,n,s,i;if(t!==r){for(var o=(s=t,i=1+(256/t.length|0),new Array(i+1).join(s)),l=[],c=0;c<256;c++)l[c]=c;var d=0;for(c=0;c<256;c++){var f=l[c];d=(d+f+o.charCodeAt(c))%256,l[c]=l[d],l[d]=f}r=t,n=l}else l=n;var m=e.length,p=0,g=0,v="";for(c=0;c<m;c++)g=(g+(f=l[p=(p+1)%256]))%256,l[p]=l[g],l[g]=f,o=l[(l[p]+l[g])%256],v+=String.fromCharCode(e.charCodeAt(c)^o);return v}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var oG={print:4,modify:8,copy:16,"annot-forms":32};function ig(t,e,r,n){this.v=1,this.r=2;var s=192;t.forEach(function(l){if(oG.perm!==void 0)throw new Error("Invalid permission: "+l);s+=oG[l]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var i=(e+this.padding).substr(0,32),o=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(i,o),this.P=-(1+(255^s)),this.encryptionKey=QO(i+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=ZO(this.encryptionKey,this.padding)}function og(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var s=t.charCodeAt(n);e+=s<33||s===35||s===37||s===40||s===41||s===47||s===60||s===62||s===91||s===93||s===123||s===125||s>126?"#"+("0"+s.toString(16)).slice(-2):t[n]}return e}function lG(t){if(Bn(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,s){if(s=s||!1,typeof r!="string"||typeof n!="function"||typeof s!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var i=Math.random().toString(35);return e[r][i]=[n,!!s],i},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),s=[];for(var i in e[r]){var o=e[r][i];try{o[0].apply(t,n)}catch(l){Xr.console&&Oa.error("jsPDF PubSub Error",l.message,l)}o[1]&&s.push(i)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function gN(t){if(!(this instanceof gN))return new gN(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function dae(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function rp(t,e,r,n,s){if(!(this instanceof rp))return new rp(t,e,r,n,s);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,dae.call(this,n,s)}function yg(t,e,r,n,s){if(!(this instanceof yg))return new yg(t,e,r,n,s);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,dae.call(this,n,s)}function Tr(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],s=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",f=null;Bn(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,s=t.format||s,i=t.compress||t.compressPdf||i,(f=t.encryption||null)!==null&&(f.userPassword=f.userPassword||"",f.ownerPassword=f.ownerPassword||"",f.userPermissions=f.userPermissions||[]),l=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(c=t.floatPrecision),d=t.defaultPathOperation||"S"),o=t.filters||(i===!0?["FlateEncode"]:o),n=n||"mm",r=(""+(r||"P")).toLowerCase();var m=t.putOnlyUsedFonts||!1,p={},g={internal:{},__private__:{}};g.__private__.PubSub=lG;var v="1.3",w=g.__private__.getPdfVersion=function(){return v};g.__private__.setPdfVersion=function(U){v=U};var y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};g.__private__.getPageFormats=function(){return y};var N=g.__private__.getPageFormat=function(U){return y[U]};s=s||"a4";var k="compat",S="advanced",A=k;function _(){this.saveGraphicsState(),se(new Ee(qe,0,0,-qe,0,Oc()*qe).toString()+" cm"),this.setFontSize(this.getFontSize()/qe),d="n",A=S}function O(){this.restoreGraphicsState(),d="S",A=k}var P=g.__private__.combineFontStyleAndFontWeight=function(U,fe){if(U=="bold"&&fe=="normal"||U=="bold"&&fe==400||U=="normal"&&fe=="italic"||U=="bold"&&fe=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return fe&&(U=fe==400||fe==="normal"?U==="italic"?"italic":"normal":fe!=700&&fe!=="bold"||U!=="normal"?(fe==700?"bold":fe)+""+U:"bold"),U};g.advancedAPI=function(U){var fe=A===k;return fe&&_.call(this),typeof U!="function"||(U(this),fe&&O.call(this)),this},g.compatAPI=function(U){var fe=A===S;return fe&&O.call(this),typeof U!="function"||(U(this),fe&&_.call(this)),this},g.isAdvancedAPI=function(){return A===S};var I,R=function(U){if(A!==S)throw new Error(U+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},F=g.roundToPrecision=g.__private__.roundToPrecision=function(U,fe){var Fe=e||fe;if(isNaN(U)||isNaN(Fe))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return U.toFixed(Fe).replace(/0+$/,"")};I=g.hpf=g.__private__.hpf=typeof c=="number"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,c)}:c==="smart"?function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,U>-1&&U<1?16:5)}:function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.hpf");return F(U,16)};var E=g.f2=g.__private__.f2=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f2");return F(U,2)},M=g.__private__.f3=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.f3");return F(U,3)},H=g.scale=g.__private__.scale=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.scale");return A===k?U*qe:A===S?U:void 0},V=function(U){return H((function(fe){return A===k?Oc()-fe:A===S?fe:void 0})(U))};g.__private__.setPrecision=g.setPrecision=function(U){typeof parseInt(U,10)=="number"&&(e=parseInt(U,10))};var G,q="00000000000000000000000000000000",B=g.__private__.getFileId=function(){return q},z=g.__private__.setFileId=function(U){return q=U!==void 0&&/^[a-fA-F0-9]{32}$/.test(U)?U.toUpperCase():q.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),f!==null&&(Ha=new ig(f.userPermissions,f.userPassword,f.ownerPassword,q)),q};g.setFileId=function(U){return z(U),this},g.getFileId=function(){return B()};var X=g.__private__.convertDateToPDFDate=function(U){var fe=U.getTimezoneOffset(),Fe=fe<0?"+":"-",Je=Math.floor(Math.abs(fe/60)),ot=Math.abs(fe%60),Dt=[Fe,Z(Je),"'",Z(ot),"'"].join("");return["D:",U.getFullYear(),Z(U.getMonth()+1),Z(U.getDate()),Z(U.getHours()),Z(U.getMinutes()),Z(U.getSeconds()),Dt].join("")},ee=g.__private__.convertPDFDateToDate=function(U){var fe=parseInt(U.substr(2,4),10),Fe=parseInt(U.substr(6,2),10)-1,Je=parseInt(U.substr(8,2),10),ot=parseInt(U.substr(10,2),10),Dt=parseInt(U.substr(12,2),10),Vt=parseInt(U.substr(14,2),10);return new Date(fe,Fe,Je,ot,Dt,Vt,0)},K=g.__private__.setCreationDate=function(U){var fe;if(U===void 0&&(U=new Date),U instanceof Date)fe=X(U);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(U))throw new Error("Invalid argument passed to jsPDF.setCreationDate");fe=U}return G=fe},W=g.__private__.getCreationDate=function(U){var fe=G;return U==="jsDate"&&(fe=ee(G)),fe};g.setCreationDate=function(U){return K(U),this},g.getCreationDate=function(U){return W(U)};var J,Z=g.__private__.padd2=function(U){return("0"+parseInt(U)).slice(-2)},ie=g.__private__.padd2Hex=function(U){return("00"+(U=U.toString())).substr(U.length)},ue=0,je=[],ce=[],le=0,pe=[],$e=[],de=!1,Se=ce;g.__private__.setCustomOutputDestination=function(U){de=!0,Se=U};var te=function(U){de||(Se=U)};g.__private__.resetCustomOutputDestination=function(){de=!1,Se=ce};var se=g.__private__.out=function(U){return U=U.toString(),le+=U.length+1,Se.push(U),Se},ut=g.__private__.write=function(U){return se(arguments.length===1?U.toString():Array.prototype.join.call(arguments," "))},dt=g.__private__.getArrayBuffer=function(U){for(var fe=U.length,Fe=new ArrayBuffer(fe),Je=new Uint8Array(Fe);fe--;)Je[fe]=U.charCodeAt(fe);return Fe},De=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];g.__private__.getStandardFonts=function(){return De};var rt=t.fontSize||16;g.__private__.setFontSize=g.setFontSize=function(U){return rt=A===S?U/qe:U,this};var wt,gt=g.__private__.getFontSize=g.getFontSize=function(){return A===k?rt:rt*qe},Rt=t.R2L||!1;g.__private__.setR2L=g.setR2L=function(U){return Rt=U,this},g.__private__.getR2L=g.getR2L=function(){return Rt};var He,he=g.__private__.setZoomMode=function(U){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(U))wt=U;else if(isNaN(U)){if([void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(U)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+U+'" is not recognized.');wt=U}else wt=parseInt(U,10)};g.__private__.getZoomMode=function(){return wt};var Qe,Ge=g.__private__.setPageMode=function(U){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(U)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+U+'" is not recognized.');He=U};g.__private__.getPageMode=function(){return He};var mt=g.__private__.setLayoutMode=function(U){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(U)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+U+'" is not recognized.');Qe=U};g.__private__.getLayoutMode=function(){return Qe},g.__private__.setDisplayMode=g.setDisplayMode=function(U,fe,Fe){return he(U),mt(fe),Ge(Fe),this};var Le={title:"",subject:"",author:"",keywords:"",creator:""};g.__private__.getDocumentProperty=function(U){if(Object.keys(Le).indexOf(U)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Le[U]},g.__private__.getDocumentProperties=function(){return Le},g.__private__.setDocumentProperties=g.setProperties=g.setDocumentProperties=function(U){for(var fe in Le)Le.hasOwnProperty(fe)&&U[fe]&&(Le[fe]=U[fe]);return this},g.__private__.setDocumentProperty=function(U,fe){if(Object.keys(Le).indexOf(U)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Le[U]=fe};var _e,qe,ge,Oe,ke,Ue={},Xe={},we=[],ye={},Ke={},pt={},tt={},Te=null,ne=0,Ie=[],Ye=new lG(g),st=t.hotfixes||[],yt={},ze={},St=[],Ee=function U(fe,Fe,Je,ot,Dt,Vt){if(!(this instanceof U))return new U(fe,Fe,Je,ot,Dt,Vt);isNaN(fe)&&(fe=1),isNaN(Fe)&&(Fe=0),isNaN(Je)&&(Je=0),isNaN(ot)&&(ot=1),isNaN(Dt)&&(Dt=0),isNaN(Vt)&&(Vt=0),this._matrix=[fe,Fe,Je,ot,Dt,Vt]};Object.defineProperty(Ee.prototype,"sx",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Ee.prototype,"shy",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Ee.prototype,"shx",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Ee.prototype,"sy",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Ee.prototype,"tx",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Ee.prototype,"ty",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Ee.prototype,"a",{get:function(){return this._matrix[0]},set:function(U){this._matrix[0]=U}}),Object.defineProperty(Ee.prototype,"b",{get:function(){return this._matrix[1]},set:function(U){this._matrix[1]=U}}),Object.defineProperty(Ee.prototype,"c",{get:function(){return this._matrix[2]},set:function(U){this._matrix[2]=U}}),Object.defineProperty(Ee.prototype,"d",{get:function(){return this._matrix[3]},set:function(U){this._matrix[3]=U}}),Object.defineProperty(Ee.prototype,"e",{get:function(){return this._matrix[4]},set:function(U){this._matrix[4]=U}}),Object.defineProperty(Ee.prototype,"f",{get:function(){return this._matrix[5]},set:function(U){this._matrix[5]=U}}),Object.defineProperty(Ee.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ee.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ee.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ee.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ee.prototype.join=function(U){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(I).join(U)},Ee.prototype.multiply=function(U){var fe=U.sx*this.sx+U.shy*this.shx,Fe=U.sx*this.shy+U.shy*this.sy,Je=U.shx*this.sx+U.sy*this.shx,ot=U.shx*this.shy+U.sy*this.sy,Dt=U.tx*this.sx+U.ty*this.shx+this.tx,Vt=U.tx*this.shy+U.ty*this.sy+this.ty;return new Ee(fe,Fe,Je,ot,Dt,Vt)},Ee.prototype.decompose=function(){var U=this.sx,fe=this.shy,Fe=this.shx,Je=this.sy,ot=this.tx,Dt=this.ty,Vt=Math.sqrt(U*U+fe*fe),br=(U/=Vt)*Fe+(fe/=Vt)*Je;Fe-=U*br,Je-=fe*br;var Sr=Math.sqrt(Fe*Fe+Je*Je);return br/=Sr,U*(Je/=Sr)<fe*(Fe/=Sr)&&(U=-U,fe=-fe,br=-br,Vt=-Vt),{scale:new Ee(Vt,0,0,Sr,0,0),translate:new Ee(1,0,0,1,ot,Dt),rotate:new Ee(U,fe,-fe,U,0,0),skew:new Ee(1,0,br,1,0,0)}},Ee.prototype.toString=function(U){return this.join(" ")},Ee.prototype.inversed=function(){var U=this.sx,fe=this.shy,Fe=this.shx,Je=this.sy,ot=this.tx,Dt=this.ty,Vt=1/(U*Je-fe*Fe),br=Je*Vt,Sr=-fe*Vt,Wr=-Fe*Vt,Zr=U*Vt;return new Ee(br,Sr,Wr,Zr,-br*ot-Wr*Dt,-Sr*ot-Zr*Dt)},Ee.prototype.applyToPoint=function(U){var fe=U.x*this.sx+U.y*this.shx+this.tx,Fe=U.x*this.shy+U.y*this.sy+this.ty;return new Il(fe,Fe)},Ee.prototype.applyToRectangle=function(U){var fe=this.applyToPoint(U),Fe=this.applyToPoint(new Il(U.x+U.w,U.y+U.h));return new Ac(fe.x,fe.y,Fe.x-fe.x,Fe.y-fe.y)},Ee.prototype.clone=function(){var U=this.sx,fe=this.shy,Fe=this.shx,Je=this.sy,ot=this.tx,Dt=this.ty;return new Ee(U,fe,Fe,Je,ot,Dt)},g.Matrix=Ee;var It=g.matrixMult=function(U,fe){return fe.multiply(U)},Pt=new Ee(1,0,0,1,0,0);g.unitMatrix=g.identityMatrix=Pt;var Bt=function(U,fe){if(!Ke[U]){var Fe=(fe instanceof rp?"Sh":"P")+(Object.keys(ye).length+1).toString(10);fe.id=Fe,Ke[U]=Fe,ye[Fe]=fe,Ye.publish("addPattern",fe)}};g.ShadingPattern=rp,g.TilingPattern=yg,g.addShadingPattern=function(U,fe){return R("addShadingPattern()"),Bt(U,fe),this},g.beginTilingPattern=function(U){R("beginTilingPattern()"),Tu(U.boundingBox[0],U.boundingBox[1],U.boundingBox[2]-U.boundingBox[0],U.boundingBox[3]-U.boundingBox[1],U.matrix)},g.endTilingPattern=function(U,fe){R("endTilingPattern()"),fe.stream=$e[J].join(`
`),Bt(U,fe),Ye.publish("endTilingPattern",fe),St.pop().restore()};var ft,Ct=g.__private__.newObject=function(){var U=Mt();return pr(U,!0),U},Mt=g.__private__.newObjectDeferred=function(){return ue++,je[ue]=function(){return le},ue},pr=function(U,fe){return fe=typeof fe=="boolean"&&fe,je[U]=le,fe&&se(U+" 0 obj"),U},yn=g.__private__.newAdditionalObject=function(){var U={objId:Mt(),content:""};return pe.push(U),U},vn=Mt(),or=Mt(),Ur=g.__private__.decodeColorString=function(U){var fe=U.split(" ");if(fe.length!==2||fe[1]!=="g"&&fe[1]!=="G")fe.length!==5||fe[4]!=="k"&&fe[4]!=="K"||(fe=[(1-fe[0])*(1-fe[3]),(1-fe[1])*(1-fe[3]),(1-fe[2])*(1-fe[3]),"r"]);else{var Fe=parseFloat(fe[0]);fe=[Fe,Fe,Fe,"r"]}for(var Je="#",ot=0;ot<3;ot++)Je+=("0"+Math.floor(255*parseFloat(fe[ot])).toString(16)).slice(-2);return Je},Yr=g.__private__.encodeColorString=function(U){var fe;typeof U=="string"&&(U={ch1:U});var Fe=U.ch1,Je=U.ch2,ot=U.ch3,Dt=U.ch4,Vt=U.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Fe=="string"&&Fe.charAt(0)!=="#"){var br=new lae(Fe);if(br.ok)Fe=br.toHex();else if(!/^\d*\.?\d*$/.test(Fe))throw new Error('Invalid color "'+Fe+'" passed to jsPDF.encodeColorString.')}if(typeof Fe=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Fe)&&(Fe="#"+Fe[1]+Fe[1]+Fe[2]+Fe[2]+Fe[3]+Fe[3]),typeof Fe=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Fe)){var Sr=parseInt(Fe.substr(1),16);Fe=Sr>>16&255,Je=Sr>>8&255,ot=255&Sr}if(Je===void 0||Dt===void 0&&Fe===Je&&Je===ot)fe=typeof Fe=="string"?Fe+" "+Vt[0]:U.precision===2?E(Fe/255)+" "+Vt[0]:M(Fe/255)+" "+Vt[0];else if(Dt===void 0||Bn(Dt)==="object"){if(Dt&&!isNaN(Dt.a)&&Dt.a===0)return["1.","1.","1.",Vt[1]].join(" ");fe=typeof Fe=="string"?[Fe,Je,ot,Vt[1]].join(" "):U.precision===2?[E(Fe/255),E(Je/255),E(ot/255),Vt[1]].join(" "):[M(Fe/255),M(Je/255),M(ot/255),Vt[1]].join(" ")}else fe=typeof Fe=="string"?[Fe,Je,ot,Dt,Vt[2]].join(" "):U.precision===2?[E(Fe),E(Je),E(ot),E(Dt),Vt[2]].join(" "):[M(Fe),M(Je),M(ot),M(Dt),Vt[2]].join(" ");return fe},jn=g.__private__.getFilters=function(){return o},Ve=g.__private__.putStream=function(U){var fe=(U=U||{}).data||"",Fe=U.filters||jn(),Je=U.alreadyAppliedFilters||[],ot=U.addLength1||!1,Dt=fe.length,Vt=U.objectId,br=function(Ps){return Ps};if(f!==null&&Vt===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");f!==null&&(br=Ha.encryptor(Vt,0));var Sr={};Fe===!0&&(Fe=["FlateEncode"]);var Wr=U.additionalKeyValues||[],Zr=(Sr=Tr.API.processDataByFilters!==void 0?Tr.API.processDataByFilters(fe,Fe):{data:fe,reverseChain:[]}).reverseChain+(Array.isArray(Je)?Je.join(" "):Je.toString());if(Sr.data.length!==0&&(Wr.push({key:"Length",value:Sr.data.length}),ot===!0&&Wr.push({key:"Length1",value:Dt})),Zr.length!=0)if(Zr.split("/").length-1==1)Wr.push({key:"Filter",value:Zr});else{Wr.push({key:"Filter",value:"["+Zr+"]"});for(var zn=0;zn<Wr.length;zn+=1)if(Wr[zn].key==="DecodeParms"){for(var Ba=[],is=0;is<Sr.reverseChain.split("/").length-1;is+=1)Ba.push("null");Ba.push(Wr[zn].value),Wr[zn].value="["+Ba.join(" ")+"]"}}se("<<");for(var wa=0;wa<Wr.length;wa++)se("/"+Wr[wa].key+" "+Wr[wa].value);se(">>"),Sr.data.length!==0&&(se("stream"),se(br(Sr.data)),se("endstream"))},it=g.__private__.putPage=function(U){var fe=U.number,Fe=U.data,Je=U.objId,ot=U.contentsObjId;pr(Je,!0),se("<</Type /Page"),se("/Parent "+U.rootDictionaryObjId+" 0 R"),se("/Resources "+U.resourceDictionaryObjId+" 0 R"),se("/MediaBox ["+parseFloat(I(U.mediaBox.bottomLeftX))+" "+parseFloat(I(U.mediaBox.bottomLeftY))+" "+I(U.mediaBox.topRightX)+" "+I(U.mediaBox.topRightY)+"]"),U.cropBox!==null&&se("/CropBox ["+I(U.cropBox.bottomLeftX)+" "+I(U.cropBox.bottomLeftY)+" "+I(U.cropBox.topRightX)+" "+I(U.cropBox.topRightY)+"]"),U.bleedBox!==null&&se("/BleedBox ["+I(U.bleedBox.bottomLeftX)+" "+I(U.bleedBox.bottomLeftY)+" "+I(U.bleedBox.topRightX)+" "+I(U.bleedBox.topRightY)+"]"),U.trimBox!==null&&se("/TrimBox ["+I(U.trimBox.bottomLeftX)+" "+I(U.trimBox.bottomLeftY)+" "+I(U.trimBox.topRightX)+" "+I(U.trimBox.topRightY)+"]"),U.artBox!==null&&se("/ArtBox ["+I(U.artBox.bottomLeftX)+" "+I(U.artBox.bottomLeftY)+" "+I(U.artBox.topRightX)+" "+I(U.artBox.topRightY)+"]"),typeof U.userUnit=="number"&&U.userUnit!==1&&se("/UserUnit "+U.userUnit),Ye.publish("putPage",{objId:Je,pageContext:Ie[fe],pageNumber:fe,page:Fe}),se("/Contents "+ot+" 0 R"),se(">>"),se("endobj");var Dt=Fe.join(`
`);return A===S&&(Dt+=`
Q`),pr(ot,!0),Ve({data:Dt,filters:jn(),objectId:ot}),se("endobj"),Je},_t=g.__private__.putPages=function(){var U,fe,Fe=[];for(U=1;U<=ne;U++)Ie[U].objId=Mt(),Ie[U].contentsObjId=Mt();for(U=1;U<=ne;U++)Fe.push(it({number:U,data:$e[U],objId:Ie[U].objId,contentsObjId:Ie[U].contentsObjId,mediaBox:Ie[U].mediaBox,cropBox:Ie[U].cropBox,bleedBox:Ie[U].bleedBox,trimBox:Ie[U].trimBox,artBox:Ie[U].artBox,userUnit:Ie[U].userUnit,rootDictionaryObjId:vn,resourceDictionaryObjId:or}));pr(vn,!0),se("<</Type /Pages");var Je="/Kids [";for(fe=0;fe<ne;fe++)Je+=Fe[fe]+" 0 R ";se(Je+"]"),se("/Count "+ne),se(">>"),se("endobj"),Ye.publish("postPutPages")},xe=function(U){Ye.publish("putFont",{font:U,out:se,newObject:Ct,putStream:Ve}),U.isAlreadyPutted!==!0&&(U.objectNumber=Ct(),se("<<"),se("/Type /Font"),se("/BaseFont /"+og(U.postScriptName)),se("/Subtype /Type1"),typeof U.encoding=="string"&&se("/Encoding /"+U.encoding),se("/FirstChar 32"),se("/LastChar 255"),se(">>"),se("endobj"))},nt=function(U){U.objectNumber=Ct();var fe=[];fe.push({key:"Type",value:"/XObject"}),fe.push({key:"Subtype",value:"/Form"}),fe.push({key:"BBox",value:"["+[I(U.x),I(U.y),I(U.x+U.width),I(U.y+U.height)].join(" ")+"]"}),fe.push({key:"Matrix",value:"["+U.matrix.toString()+"]"});var Fe=U.pages[1].join(`
`);Ve({data:Fe,additionalKeyValues:fe,objectId:U.objectNumber}),se("endobj")},Nt=function(U,fe){fe||(fe=21);var Fe=Ct(),Je=(function(Vt,br){var Sr,Wr=[],Zr=1/(br-1);for(Sr=0;Sr<1;Sr+=Zr)Wr.push(Sr);if(Wr.push(1),Vt[0].offset!=0){var zn={offset:0,color:Vt[0].color};Vt.unshift(zn)}if(Vt[Vt.length-1].offset!=1){var Ba={offset:1,color:Vt[Vt.length-1].color};Vt.push(Ba)}for(var is="",wa=0,Ps=0;Ps<Wr.length;Ps++){for(Sr=Wr[Ps];Sr>Vt[wa+1].offset;)wa++;var xs=Vt[wa].offset,ci=(Sr-xs)/(Vt[wa+1].offset-xs),Uo=Vt[wa].color,to=Vt[wa+1].color;is+=ie(Math.round((1-ci)*Uo[0]+ci*to[0]).toString(16))+ie(Math.round((1-ci)*Uo[1]+ci*to[1]).toString(16))+ie(Math.round((1-ci)*Uo[2]+ci*to[2]).toString(16))}return is.trim()})(U.colors,fe),ot=[];ot.push({key:"FunctionType",value:"0"}),ot.push({key:"Domain",value:"[0.0 1.0]"}),ot.push({key:"Size",value:"["+fe+"]"}),ot.push({key:"BitsPerSample",value:"8"}),ot.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ot.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ve({data:Je,additionalKeyValues:ot,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Fe}),se("endobj"),U.objectNumber=Ct(),se("<< /ShadingType "+U.type),se("/ColorSpace /DeviceRGB");var Dt="/Coords ["+I(parseFloat(U.coords[0]))+" "+I(parseFloat(U.coords[1]))+" ";U.type===2?Dt+=I(parseFloat(U.coords[2]))+" "+I(parseFloat(U.coords[3])):Dt+=I(parseFloat(U.coords[2]))+" "+I(parseFloat(U.coords[3]))+" "+I(parseFloat(U.coords[4]))+" "+I(parseFloat(U.coords[5])),se(Dt+="]"),U.matrix&&se("/Matrix ["+U.matrix.toString()+"]"),se("/Function "+Fe+" 0 R"),se("/Extend [true true]"),se(">>"),se("endobj")},cr=function(U,fe){var Fe=Mt(),Je=Ct();fe.push({resourcesOid:Fe,objectOid:Je}),U.objectNumber=Je;var ot=[];ot.push({key:"Type",value:"/Pattern"}),ot.push({key:"PatternType",value:"1"}),ot.push({key:"PaintType",value:"1"}),ot.push({key:"TilingType",value:"1"}),ot.push({key:"BBox",value:"["+U.boundingBox.map(I).join(" ")+"]"}),ot.push({key:"XStep",value:I(U.xStep)}),ot.push({key:"YStep",value:I(U.yStep)}),ot.push({key:"Resources",value:Fe+" 0 R"}),U.matrix&&ot.push({key:"Matrix",value:"["+U.matrix.toString()+"]"}),Ve({data:U.stream,additionalKeyValues:ot,objectId:U.objectNumber}),se("endobj")},rn=function(U){for(var fe in U.objectNumber=Ct(),se("<<"),U)switch(fe){case"opacity":se("/ca "+E(U[fe]));break;case"stroke-opacity":se("/CA "+E(U[fe]))}se(">>"),se("endobj")},nr=function(U){pr(U.resourcesOid,!0),se("<<"),se("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),(function(){for(var fe in se("/Font <<"),Ue)Ue.hasOwnProperty(fe)&&(m===!1||m===!0&&p.hasOwnProperty(fe))&&se("/"+fe+" "+Ue[fe].objectNumber+" 0 R");se(">>")})(),(function(){if(Object.keys(ye).length>0){for(var fe in se("/Shading <<"),ye)ye.hasOwnProperty(fe)&&ye[fe]instanceof rp&&ye[fe].objectNumber>=0&&se("/"+fe+" "+ye[fe].objectNumber+" 0 R");Ye.publish("putShadingPatternDict"),se(">>")}})(),(function(fe){if(Object.keys(ye).length>0){for(var Fe in se("/Pattern <<"),ye)ye.hasOwnProperty(Fe)&&ye[Fe]instanceof g.TilingPattern&&ye[Fe].objectNumber>=0&&ye[Fe].objectNumber<fe&&se("/"+Fe+" "+ye[Fe].objectNumber+" 0 R");Ye.publish("putTilingPatternDict"),se(">>")}})(U.objectOid),(function(){if(Object.keys(pt).length>0){var fe;for(fe in se("/ExtGState <<"),pt)pt.hasOwnProperty(fe)&&pt[fe].objectNumber>=0&&se("/"+fe+" "+pt[fe].objectNumber+" 0 R");Ye.publish("putGStateDict"),se(">>")}})(),(function(){for(var fe in se("/XObject <<"),yt)yt.hasOwnProperty(fe)&&yt[fe].objectNumber>=0&&se("/"+fe+" "+yt[fe].objectNumber+" 0 R");Ye.publish("putXobjectDict"),se(">>")})(),se(">>"),se("endobj")},zt=function(U){Xe[U.fontName]=Xe[U.fontName]||{},Xe[U.fontName][U.fontStyle]=U.id},Nr=function(U,fe,Fe,Je,ot){var Dt={id:"F"+(Object.keys(Ue).length+1).toString(10),postScriptName:U,fontName:fe,fontStyle:Fe,encoding:Je,isStandardFont:ot||!1,metadata:{}};return Ye.publish("addFont",{font:Dt,instance:this}),Ue[Dt.id]=Dt,zt(Dt),Dt.id},jr=g.__private__.pdfEscape=g.pdfEscape=function(U,fe){return(function(Fe,Je){var ot,Dt,Vt,br,Sr,Wr,Zr,zn,Ba;if(Vt=(Je=Je||{}).sourceEncoding||"Unicode",Sr=Je.outputEncoding,(Je.autoencode||Sr)&&Ue[_e].metadata&&Ue[_e].metadata[Vt]&&Ue[_e].metadata[Vt].encoding&&(br=Ue[_e].metadata[Vt].encoding,!Sr&&Ue[_e].encoding&&(Sr=Ue[_e].encoding),!Sr&&br.codePages&&(Sr=br.codePages[0]),typeof Sr=="string"&&(Sr=br[Sr]),Sr)){for(Zr=!1,Wr=[],ot=0,Dt=Fe.length;ot<Dt;ot++)(zn=Sr[Fe.charCodeAt(ot)])?Wr.push(String.fromCharCode(zn)):Wr.push(Fe[ot]),Wr[ot].charCodeAt(0)>>8&&(Zr=!0);Fe=Wr.join("")}for(ot=Fe.length;Zr===void 0&&ot!==0;)Fe.charCodeAt(ot-1)>>8&&(Zr=!0),ot--;if(!Zr)return Fe;for(Wr=Je.noBOM?[]:[254,255],ot=0,Dt=Fe.length;ot<Dt;ot++){if((Ba=(zn=Fe.charCodeAt(ot))>>8)>>8)throw new Error("Character at position "+ot+" of string '"+Fe+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Wr.push(Ba),Wr.push(zn-(Ba<<8))}return String.fromCharCode.apply(void 0,Wr)})(U,fe).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},cn=g.__private__.beginPage=function(U){$e[++ne]=[],Ie[ne]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(U[0]),topRightY:Number(U[1])}},Er(ne),te($e[J])},ir=function(U,fe){var Fe,Je,ot;switch(r=fe||r,typeof U=="string"&&(Fe=N(U.toLowerCase()),Array.isArray(Fe)&&(Je=Fe[0],ot=Fe[1])),Array.isArray(U)&&(Je=U[0]*qe,ot=U[1]*qe),isNaN(Je)&&(Je=s[0],ot=s[1]),(Je>14400||ot>14400)&&(Oa.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Je=Math.min(14400,Je),ot=Math.min(14400,ot)),s=[Je,ot],r.substr(0,1)){case"l":ot>Je&&(s=[ot,Je]);break;case"p":Je>ot&&(s=[ot,Je])}cn(s),ss(Br),se(jo),Xf!==0&&se(Xf+" J"),Gs!==0&&se(Gs+" j"),Ye.publish("addPage",{pageNumber:ne})},Kn=function(U){U>0&&U<=ne&&($e.splice(U,1),Ie.splice(U,1),ne--,J>ne&&(J=ne),this.setPage(J))},Er=function(U){U>0&&U<=ne&&(J=U)},ii=g.__private__.getNumberOfPages=g.getNumberOfPages=function(){return $e.length-1},ya=function(U,fe,Fe){var Je,ot=void 0;return Fe=Fe||{},U=U!==void 0?U:Ue[_e].fontName,fe=fe!==void 0?fe:Ue[_e].fontStyle,Je=U.toLowerCase(),Xe[Je]!==void 0&&Xe[Je][fe]!==void 0?ot=Xe[Je][fe]:Xe[U]!==void 0&&Xe[U][fe]!==void 0?ot=Xe[U][fe]:Fe.disableWarning===!1&&Oa.warn("Unable to look up font label for font '"+U+"', '"+fe+"'. Refer to getFontList() for available fonts."),ot||Fe.noFallback||(ot=Xe.times[fe])==null&&(ot=Xe.times.normal),ot},va=g.__private__.putInfo=function(){var U=Ct(),fe=function(Je){return Je};for(var Fe in f!==null&&(fe=Ha.encryptor(U,0)),se("<<"),se("/Producer ("+jr(fe("jsPDF "+Tr.version))+")"),Le)Le.hasOwnProperty(Fe)&&Le[Fe]&&se("/"+Fe.substr(0,1).toUpperCase()+Fe.substr(1)+" ("+jr(fe(Le[Fe]))+")");se("/CreationDate ("+jr(fe(G))+")"),se(">>"),se("endobj")},nn=g.__private__.putCatalog=function(U){var fe=(U=U||{}).rootDictionaryObjId||vn;switch(Ct(),se("<<"),se("/Type /Catalog"),se("/Pages "+fe+" 0 R"),wt||(wt="fullwidth"),wt){case"fullwidth":se("/OpenAction [3 0 R /FitH null]");break;case"fullheight":se("/OpenAction [3 0 R /FitV null]");break;case"fullpage":se("/OpenAction [3 0 R /Fit]");break;case"original":se("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Fe=""+wt;Fe.substr(Fe.length-1)==="%"&&(wt=parseInt(wt)/100),typeof wt=="number"&&se("/OpenAction [3 0 R /XYZ null null "+E(wt)+"]")}switch(Qe||(Qe="continuous"),Qe){case"continuous":se("/PageLayout /OneColumn");break;case"single":se("/PageLayout /SinglePage");break;case"two":case"twoleft":se("/PageLayout /TwoColumnLeft");break;case"tworight":se("/PageLayout /TwoColumnRight")}He&&se("/PageMode /"+He),Ye.publish("putCatalog"),se(">>"),se("endobj")},Qr=g.__private__.putTrailer=function(){se("trailer"),se("<<"),se("/Size "+(ue+1)),se("/Root "+ue+" 0 R"),se("/Info "+(ue-1)+" 0 R"),f!==null&&se("/Encrypt "+Ha.oid+" 0 R"),se("/ID [ <"+q+"> <"+q+"> ]"),se(">>")},Sn=g.__private__.putHeader=function(){se("%PDF-"+v),se("%ºß¬à")},kc=g.__private__.putXRef=function(){var U="0000000000";se("xref"),se("0 "+(ue+1)),se("0000000000 65535 f ");for(var fe=1;fe<=ue;fe++)typeof je[fe]=="function"?se((U+je[fe]()).slice(-10)+" 00000 n "):je[fe]!==void 0?se((U+je[fe]).slice(-10)+" 00000 n "):se("0000000000 00000 n ")},Xi=g.__private__.buildDocument=function(){var U;ue=0,le=0,ce=[],je=[],pe=[],vn=Mt(),or=Mt(),te(ce),Ye.publish("buildDocument"),Sn(),_t(),(function(){Ye.publish("putAdditionalObjects");for(var Fe=0;Fe<pe.length;Fe++){var Je=pe[Fe];pr(Je.objId,!0),se(Je.content),se("endobj")}Ye.publish("postPutAdditionalObjects")})(),U=[],(function(){for(var Fe in Ue)Ue.hasOwnProperty(Fe)&&(m===!1||m===!0&&p.hasOwnProperty(Fe))&&xe(Ue[Fe])})(),(function(){var Fe;for(Fe in pt)pt.hasOwnProperty(Fe)&&rn(pt[Fe])})(),(function(){for(var Fe in yt)yt.hasOwnProperty(Fe)&&nt(yt[Fe])})(),(function(Fe){var Je;for(Je in ye)ye.hasOwnProperty(Je)&&(ye[Je]instanceof rp?Nt(ye[Je]):ye[Je]instanceof yg&&cr(ye[Je],Fe))})(U),Ye.publish("putResources"),U.forEach(nr),nr({resourcesOid:or,objectOid:Number.MAX_SAFE_INTEGER}),Ye.publish("postPutResources"),f!==null&&(Ha.oid=Ct(),se("<<"),se("/Filter /Standard"),se("/V "+Ha.v),se("/R "+Ha.r),se("/U <"+Ha.toHexString(Ha.U)+">"),se("/O <"+Ha.toHexString(Ha.O)+">"),se("/P "+Ha.P),se(">>"),se("endobj")),va(),nn();var fe=le;return kc(),Qr(),se("startxref"),se(""+fe),se("%%EOF"),te($e[J]),ce.join(`
`)},vo=g.__private__.getBlob=function(U){return new Blob([dt(U)],{type:"application/pdf"})},Qi=g.output=g.__private__.output=(ft=function(U,fe){switch(typeof(fe=fe||{})=="string"?fe={filename:fe}:fe.filename=fe.filename||"generated.pdf",U){case void 0:return Xi();case"save":g.save(fe.filename);break;case"arraybuffer":return dt(Xi());case"blob":return vo(Xi());case"bloburi":case"bloburl":if(Xr.URL!==void 0&&typeof Xr.URL.createObjectURL=="function")return Xr.URL&&Xr.URL.createObjectURL(vo(Xi()))||void 0;Oa.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Fe="",Je=Xi();try{Fe=sG(Je)}catch{Fe=sG(unescape(encodeURIComponent(Je)))}return"data:application/pdf;filename="+fe.filename+";base64,"+Fe;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Xr)==="[object Window]"){var ot="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Dt=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';fe.pdfObjectUrl&&(ot=fe.pdfObjectUrl,Dt="");var Vt='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+ot+'"'+Dt+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(fe)+");<\/script></body></html>",br=Xr.open();return br!==null&&br.document.write(Vt),br}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Xr)==="[object Window]"){var Sr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(fe.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+fe.filename+'" width="500px" height="400px" /></body></html>',Wr=Xr.open();if(Wr!==null){Wr.document.write(Sr);var Zr=this;Wr.document.documentElement.querySelector("#pdfViewer").onload=function(){Wr.document.title=fe.filename,Wr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Zr.output("bloburl"))}}return Wr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Xr)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var zn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",fe)+'"></iframe></body></html>',Ba=Xr.open();if(Ba!==null&&(Ba.document.write(zn),Ba.document.title=fe.filename),Ba||typeof safari>"u")return Ba;break;case"datauri":case"dataurl":return Xr.document.location.href=this.output("datauristring",fe);default:return null}},ft.foo=function(){try{return ft.apply(this,arguments)}catch(Fe){var U=Fe.stack||"";~U.indexOf(" at ")&&(U=U.split(" at ")[1]);var fe="Error in function "+U.split(`
`)[0].split("<")[0]+": "+Fe.message;if(!Xr.console)throw new Error(fe);Xr.console.error(fe,Fe),Xr.alert&&alert(fe)}},ft.foo.bar=ft,ft.foo),qo=function(U){return Array.isArray(st)===!0&&st.indexOf(U)>-1};switch(n){case"pt":qe=1;break;case"mm":qe=72/25.4;break;case"cm":qe=72/2.54;break;case"in":qe=72;break;case"px":qe=qo("px_scaling")==1?.75:96/72;break;case"pc":case"em":qe=12;break;case"ex":qe=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);qe=n}var Ha=null;K(),z();var Vs=g.__private__.getPageInfo=g.getPageInfo=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Ie[U].objId,pageNumber:U,pageContext:Ie[U]}},yu=g.__private__.getPageInfoByObjId=function(U){if(isNaN(U)||U%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var fe in Ie)if(Ie[fe].objId===U)break;return Vs(fe)},Gf=g.__private__.getCurrentPageInfo=g.getCurrentPageInfo=function(){return{objId:Ie[J].objId,pageNumber:J,pageContext:Ie[J]}};g.addPage=function(){return ir.apply(this,arguments),this},g.setPage=function(){return Er.apply(this,arguments),te.call(this,$e[J]),this},g.insertPage=function(U){return this.addPage(),this.movePage(J,U),this},g.movePage=function(U,fe){var Fe,Je;if(U>fe){Fe=$e[U],Je=Ie[U];for(var ot=U;ot>fe;ot--)$e[ot]=$e[ot-1],Ie[ot]=Ie[ot-1];$e[fe]=Fe,Ie[fe]=Je,this.setPage(fe)}else if(U<fe){Fe=$e[U],Je=Ie[U];for(var Dt=U;Dt<fe;Dt++)$e[Dt]=$e[Dt+1],Ie[Dt]=Ie[Dt+1];$e[fe]=Fe,Ie[fe]=Je,this.setPage(fe)}return this},g.deletePage=function(){return Kn.apply(this,arguments),this},g.__private__.text=g.text=function(U,fe,Fe,Je,ot){var Dt,Vt,br,Sr,Wr,Zr,zn,Ba,is,wa=(Je=Je||{}).scope||this;if(typeof U=="number"&&typeof fe=="number"&&(typeof Fe=="string"||Array.isArray(Fe))){var Ps=Fe;Fe=fe,fe=U,U=Ps}if(arguments[3]instanceof Ee==0?(br=arguments[4],Sr=arguments[5],Bn(zn=arguments[3])==="object"&&zn!==null||(typeof br=="string"&&(Sr=br,br=null),typeof zn=="string"&&(Sr=zn,zn=null),typeof zn=="number"&&(br=zn,zn=null),Je={flags:zn,angle:br,align:Sr})):(R("The transform parameter of text() with a Matrix value"),is=ot),isNaN(fe)||isNaN(Fe)||U==null)throw new Error("Invalid arguments passed to jsPDF.text");if(U.length===0)return wa;var xs,ci="",Uo=typeof Je.lineHeightFactor=="number"?Je.lineHeightFactor:Kt,to=wa.internal.scaleFactor;function c0(qn){return qn=qn.split("	").join(Array(Je.TabLen||9).join(" ")),jr(qn,zn)}function Zf(qn){for(var Ln,ja=qn.concat(),cs=[],Vl=ja.length;Vl--;)typeof(Ln=ja.shift())=="string"?cs.push(Ln):Array.isArray(qn)&&(Ln.length===1||Ln[1]===void 0&&Ln[2]===void 0)?cs.push(Ln[0]):cs.push([Ln[0],Ln[1],Ln[2]]);return cs}function Ou(qn,Ln){var ja;if(typeof qn=="string")ja=Ln(qn)[0];else if(Array.isArray(qn)){for(var cs,Vl,gl=qn.concat(),Pu=[],_m=gl.length;_m--;)typeof(cs=gl.shift())=="string"?Pu.push(Ln(cs)[0]):Array.isArray(cs)&&typeof cs[0]=="string"&&(Vl=Ln(cs[0],cs[1],cs[2]),Pu.push([Vl[0],Vl[1],Vl[2]]));ja=Pu}return ja}var $l=!1,hl=!0;if(typeof U=="string")$l=!0;else if(Array.isArray(U)){var Eu=U.concat();Vt=[];for(var vd,di=Eu.length;di--;)(typeof(vd=Eu.shift())!="string"||Array.isArray(vd)&&typeof vd[0]!="string")&&(hl=!1);$l=hl}if($l===!1)throw new Error('Type of text must be string or Array. "'+U+'" is not recognized.');typeof U=="string"&&(U=U.match(/[\r?\n]/)?U.split(/\r\n|\r|\n/g):[U]);var wd=rt/wa.internal.scaleFactor,jd=wd*(Uo-1);switch(Je.baseline){case"bottom":Fe-=jd;break;case"top":Fe+=wd-jd;break;case"hanging":Fe+=wd-2*jd;break;case"middle":Fe+=wd/2-jd}if((Zr=Je.maxWidth||0)>0&&(typeof U=="string"?U=wa.splitTextToSize(U,Zr):Object.prototype.toString.call(U)==="[object Array]"&&(U=U.reduce(function(qn,Ln){return qn.concat(wa.splitTextToSize(Ln,Zr))},[]))),Dt={text:U,x:fe,y:Fe,options:Je,mutex:{pdfEscape:jr,activeFontKey:_e,fonts:Ue,activeFontSize:rt}},Ye.publish("preProcessText",Dt),U=Dt.text,br=(Je=Dt.options).angle,is instanceof Ee==0&&br&&typeof br=="number"){br*=Math.PI/180,Je.rotationDirection===0&&(br=-br),A===S&&(br=-br);var eh=Math.cos(br),Hl=Math.sin(br);is=new Ee(eh,Hl,-Hl,eh,0,0)}else br&&br instanceof Ee&&(is=br);A!==S||is||(is=Pt),(Wr=Je.charSpace||_c)!==void 0&&(ci+=I(H(Wr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ba=Je.horizontalScale)!==void 0&&(ci+=I(100*Ba)+` Tz
`),Je.lang;var Xa=-1,Ec=Je.renderingMode!==void 0?Je.renderingMode:Je.stroke,th=wa.internal.getCurrentPageInfo().pageContext;switch(Ec){case 0:case!1:case"fill":Xa=0;break;case 1:case!0:case"stroke":Xa=1;break;case 2:case"fillThenStroke":Xa=2;break;case 3:case"invisible":Xa=3;break;case 4:case"fillAndAddForClipping":Xa=4;break;case 5:case"strokeAndAddPathForClipping":Xa=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Xa=6;break;case 7:case"addToPathForClipping":Xa=7}var km=th.usedRenderingMode!==void 0?th.usedRenderingMode:-1;Xa!==-1?ci+=Xa+` Tr
`:km!==-1&&(ci+=`0 Tr
`),Xa!==-1&&(th.usedRenderingMode=Xa),Sr=Je.align||"left";var So,ml=rt*Uo,Dc=wa.internal.pageSize.getWidth(),Cm=Ue[_e];Wr=Je.charSpace||_c,Zr=Je.maxWidth||0,zn=Object.assign({autoencode:!0,noBOM:!0},Je.flags);var pl=[],Nd=function(qn){return wa.getStringUnitWidth(qn,{font:Cm,charSpace:Wr,fontSize:rt,doKerning:!1})*rt/to};if(Object.prototype.toString.call(U)==="[object Array]"){var ro;Vt=Zf(U),Sr!=="left"&&(So=Vt.map(Nd));var Fi,Bl=0;if(Sr==="right"){fe-=So[0],U=[],di=Vt.length;for(var zl=0;zl<di;zl++)zl===0?(Fi=eo(fe),ro=li(Fe)):(Fi=H(Bl-So[zl]),ro=-ml),U.push([Vt[zl],Fi,ro]),Bl=So[zl]}else if(Sr==="center"){fe-=So[0]/2,U=[],di=Vt.length;for(var Pc=0;Pc<di;Pc++)Pc===0?(Fi=eo(fe),ro=li(Fe)):(Fi=H((Bl-So[Pc])/2),ro=-ml),U.push([Vt[Pc],Fi,ro]),Bl=So[Pc]}else if(Sr==="left"){U=[],di=Vt.length;for(var rh=0;rh<di;rh++)U.push(Vt[rh])}else if(Sr==="justify"&&Cm.encoding==="Identity-H"){U=[],di=Vt.length,Zr=Zr!==0?Zr:Dc;for(var nh=0,ls=0;ls<di;ls++)if(ro=ls===0?li(Fe):-ml,Fi=ls===0?eo(fe):nh,ls<di-1){var d0=H((Zr-So[ls])/(Vt[ls].split(" ").length-1)),ql=Vt[ls].split(" ");U.push([ql[0]+" ",Fi,ro]),nh=0;for(var Ul=1;Ul<ql.length;Ul++){var ui=(Nd(ql[Ul-1]+" "+ql[Ul])-Nd(ql[Ul]))*to+d0;Ul==ql.length-1?U.push([ql[Ul],ui,0]):U.push([ql[Ul]+" ",ui,0]),nh-=ui}}else U.push([Vt[ls],Fi,ro]);U.push(["",nh,0])}else{if(Sr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(U=[],di=Vt.length,Zr=Zr!==0?Zr:Dc,ls=0;ls<di;ls++){ro=ls===0?li(Fe):-ml,Fi=ls===0?eo(fe):0;var Lc=Vt[ls].split(" ").length-1,ah=Lc>0?(Zr-So[ls])/Lc:0;ls<di-1?pl.push(I(H(ah))):pl.push(0),U.push([Vt[ls],Fi,ro])}}}(typeof Je.R2L=="boolean"?Je.R2L:Rt)===!0&&(U=Ou(U,function(qn,Ln,ja){return[qn.split("").reverse().join(""),Ln,ja]})),Dt={text:U,x:fe,y:Fe,options:Je,mutex:{pdfEscape:jr,activeFontKey:_e,fonts:Ue,activeFontSize:rt}},Ye.publish("postProcessText",Dt),U=Dt.text,xs=Dt.mutex.isHex||!1;var sh=Ue[_e].encoding;sh!=="WinAnsiEncoding"&&sh!=="StandardEncoding"||(U=Ou(U,function(qn,Ln,ja){return[c0(qn),Ln,ja]})),Vt=Zf(U),U=[];for(var Rc,Ic,Wl,Du=Array.isArray(Vt[0])?1:0,ko="",Fc=function(qn,Ln,ja){var cs="";return ja instanceof Ee?(ja=typeof Je.angle=="number"?It(ja,new Ee(1,0,0,1,qn,Ln)):It(new Ee(1,0,0,1,qn,Ln),ja),A===S&&(ja=It(new Ee(1,0,0,-1,0,0),ja)),cs=ja.join(" ")+` Tm
`):cs=I(qn)+" "+I(Ln)+` Td
`,cs},Ni=0;Ni<Vt.length;Ni++){switch(ko="",Du){case 1:Wl=(xs?"<":"(")+Vt[Ni][0]+(xs?">":")"),Rc=parseFloat(Vt[Ni][1]),Ic=parseFloat(Vt[Ni][2]);break;case 0:Wl=(xs?"<":"(")+Vt[Ni]+(xs?">":")"),Rc=eo(fe),Ic=li(Fe)}pl!==void 0&&pl[Ni]!==void 0&&(ko=pl[Ni]+` Tw
`),Ni===0?U.push(ko+Fc(Rc,Ic,is)+Wl):Du===0?U.push(ko+Wl):Du===1&&U.push(ko+Fc(Rc,Ic,is)+Wl)}U=Du===0?U.join(` Tj
T* `):U.join(` Tj
`),U+=` Tj
`;var Wo=`BT
/`;return Wo+=_e+" "+rt+` Tf
`,Wo+=I(rt*Uo)+` TL
`,Wo+=Rl+`
`,Wo+=ci,Wo+=U,se(Wo+="ET"),p[_e]=!0,wa};var vu=g.__private__.clip=g.clip=function(U){return se(U==="evenodd"?"W*":"W"),this};g.clipEvenOdd=function(){return vu("evenodd")},g.__private__.discardPath=g.discardPath=function(){return se("n"),this};var oi=g.__private__.isValidStyle=function(U){var fe=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(U)!==-1&&(fe=!0),fe};g.__private__.setDefaultPathOperation=g.setDefaultPathOperation=function(U){return oi(U)&&(d=U),this};var wu=g.__private__.getStyle=g.getStyle=function(U){var fe=d;switch(U){case"D":case"S":fe="S";break;case"F":fe="f";break;case"FD":case"DF":fe="B";break;case"f":case"f*":case"B":case"B*":fe=U}return fe},ju=g.close=function(){return se("h"),this};g.stroke=function(){return se("S"),this},g.fill=function(U){return Ii("f",U),this},g.fillEvenOdd=function(U){return Ii("f*",U),this},g.fillStroke=function(U){return Ii("B",U),this},g.fillStrokeEvenOdd=function(U){return Ii("B*",U),this};var Ii=function(U,fe){Bn(fe)==="object"?Kf(fe,U):se(U)},Nu=function(U){U===null||A===S&&U===void 0||(U=wu(U),se(U))};function Yf(U,fe,Fe,Je,ot){var Dt=new yg(fe||this.boundingBox,Fe||this.xStep,Je||this.yStep,this.gState,ot||this.matrix);Dt.stream=this.stream;var Vt=U+"$$"+this.cloneIndex+++"$$";return Bt(Vt,Dt),Dt}var Kf=function(U,fe){var Fe=Ke[U.key],Je=ye[Fe];if(Je instanceof rp)se("q"),se(Su(fe)),Je.gState&&g.setGState(Je.gState),se(U.matrix.toString()+" cm"),se("/"+Fe+" sh"),se("Q");else if(Je instanceof yg){var ot=new Ee(1,0,0,-1,0,Oc());U.matrix&&(ot=ot.multiply(U.matrix||Pt),Fe=Yf.call(Je,U.key,U.boundingBox,U.xStep,U.yStep,ot).id),se("q"),se("/Pattern cs"),se("/"+Fe+" scn"),Je.gState&&g.setGState(Je.gState),se(fe),se("Q")}},Su=function(U){switch(U){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},ku=g.moveTo=function(U,fe){return se(I(H(U))+" "+I(V(fe))+" m"),this},oe=g.lineTo=function(U,fe){return se(I(H(U))+" "+I(V(fe))+" l"),this},ae=g.curveTo=function(U,fe,Fe,Je,ot,Dt){return se([I(H(U)),I(V(fe)),I(H(Fe)),I(V(Je)),I(H(ot)),I(V(Dt)),"c"].join(" ")),this};g.__private__.line=g.line=function(U,fe,Fe,Je,ot){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||isNaN(Je)||!oi(ot))throw new Error("Invalid arguments passed to jsPDF.line");return A===k?this.lines([[Fe-U,Je-fe]],U,fe,[1,1],ot||"S"):this.lines([[Fe-U,Je-fe]],U,fe,[1,1]).stroke()},g.__private__.lines=g.lines=function(U,fe,Fe,Je,ot,Dt){var Vt,br,Sr,Wr,Zr,zn,Ba,is,wa,Ps,xs,ci;if(typeof U=="number"&&(ci=Fe,Fe=fe,fe=U,U=ci),Je=Je||[1,1],Dt=Dt||!1,isNaN(fe)||isNaN(Fe)||!Array.isArray(U)||!Array.isArray(Je)||!oi(ot)||typeof Dt!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ku(fe,Fe),Vt=Je[0],br=Je[1],Wr=U.length,Ps=fe,xs=Fe,Sr=0;Sr<Wr;Sr++)(Zr=U[Sr]).length===2?(Ps=Zr[0]*Vt+Ps,xs=Zr[1]*br+xs,oe(Ps,xs)):(zn=Zr[0]*Vt+Ps,Ba=Zr[1]*br+xs,is=Zr[2]*Vt+Ps,wa=Zr[3]*br+xs,Ps=Zr[4]*Vt+Ps,xs=Zr[5]*br+xs,ae(zn,Ba,is,wa,Ps,xs));return Dt&&ju(),Nu(ot),this},g.path=function(U){for(var fe=0;fe<U.length;fe++){var Fe=U[fe],Je=Fe.c;switch(Fe.op){case"m":ku(Je[0],Je[1]);break;case"l":oe(Je[0],Je[1]);break;case"c":ae.apply(this,Je);break;case"h":ju()}}return this},g.__private__.rect=g.rect=function(U,fe,Fe,Je,ot){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||isNaN(Je)||!oi(ot))throw new Error("Invalid arguments passed to jsPDF.rect");return A===k&&(Je=-Je),se([I(H(U)),I(V(fe)),I(H(Fe)),I(H(Je)),"re"].join(" ")),Nu(ot),this},g.__private__.triangle=g.triangle=function(U,fe,Fe,Je,ot,Dt,Vt){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||isNaN(Je)||isNaN(ot)||isNaN(Dt)||!oi(Vt))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Fe-U,Je-fe],[ot-Fe,Dt-Je],[U-ot,fe-Dt]],U,fe,[1,1],Vt,!0),this},g.__private__.roundedRect=g.roundedRect=function(U,fe,Fe,Je,ot,Dt,Vt){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||isNaN(Je)||isNaN(ot)||isNaN(Dt)||!oi(Vt))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var br=4/3*(Math.SQRT2-1);return ot=Math.min(ot,.5*Fe),Dt=Math.min(Dt,.5*Je),this.lines([[Fe-2*ot,0],[ot*br,0,ot,Dt-Dt*br,ot,Dt],[0,Je-2*Dt],[0,Dt*br,-ot*br,Dt,-ot,Dt],[2*ot-Fe,0],[-ot*br,0,-ot,-Dt*br,-ot,-Dt],[0,2*Dt-Je],[0,-Dt*br,ot*br,-Dt,ot,-Dt]],U+ot,fe,[1,1],Vt,!0),this},g.__private__.ellipse=g.ellipse=function(U,fe,Fe,Je,ot){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||isNaN(Je)||!oi(ot))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Dt=4/3*(Math.SQRT2-1)*Fe,Vt=4/3*(Math.SQRT2-1)*Je;return ku(U+Fe,fe),ae(U+Fe,fe-Vt,U+Dt,fe-Je,U,fe-Je),ae(U-Dt,fe-Je,U-Fe,fe-Vt,U-Fe,fe),ae(U-Fe,fe+Vt,U-Dt,fe+Je,U,fe+Je),ae(U+Dt,fe+Je,U+Fe,fe+Vt,U+Fe,fe),Nu(ot),this},g.__private__.circle=g.circle=function(U,fe,Fe,Je){if(isNaN(U)||isNaN(fe)||isNaN(Fe)||!oi(Je))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(U,fe,Fe,Fe,Je)},g.setFont=function(U,fe,Fe){return Fe&&(fe=P(fe,Fe)),_e=ya(U,fe,{disableWarning:!1}),this};var Be=g.__private__.getFont=g.getFont=function(){return Ue[ya.apply(g,arguments)]};g.__private__.getFontList=g.getFontList=function(){var U,fe,Fe={};for(U in Xe)if(Xe.hasOwnProperty(U))for(fe in Fe[U]=[],Xe[U])Xe[U].hasOwnProperty(fe)&&Fe[U].push(fe);return Fe},g.addFont=function(U,fe,Fe,Je,ot){var Dt=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Dt.indexOf(arguments[3])!==-1?ot=arguments[3]:arguments[3]&&Dt.indexOf(arguments[3])==-1&&(Fe=P(Fe,Je)),Nr.call(this,U,fe,Fe,ot=ot||"Identity-H")};var Kt,Br=t.lineWidth||.200025,Zt=g.__private__.getLineWidth=g.getLineWidth=function(){return Br},ss=g.__private__.setLineWidth=g.setLineWidth=function(U){return Br=U,se(I(H(U))+" w"),this};g.__private__.setLineDash=Tr.API.setLineDash=Tr.API.setLineDashPattern=function(U,fe){if(U=U||[],fe=fe||0,isNaN(fe)||!Array.isArray(U))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return U=U.map(function(Fe){return I(H(Fe))}).join(" "),fe=I(H(fe)),se("["+U+"] "+fe+" d"),this};var Zi=g.__private__.getLineHeight=g.getLineHeight=function(){return rt*Kt};g.__private__.getLineHeight=g.getLineHeight=function(){return rt*Kt};var wo=g.__private__.setLineHeightFactor=g.setLineHeightFactor=function(U){return typeof(U=U||1.15)=="number"&&(Kt=U),this},Cc=g.__private__.getLineHeightFactor=g.getLineHeightFactor=function(){return Kt};wo(t.lineHeight);var eo=g.__private__.getHorizontalCoordinate=function(U){return H(U)},li=g.__private__.getVerticalCoordinate=function(U){return A===S?U:Ie[J].mediaBox.topRightY-Ie[J].mediaBox.bottomLeftY-H(U)},Sm=g.__private__.getHorizontalCoordinateString=g.getHorizontalCoordinateString=function(U){return I(eo(U))},Cu=g.__private__.getVerticalCoordinateString=g.getVerticalCoordinateString=function(U){return I(li(U))},jo=t.strokeColor||"0 G";g.__private__.getStrokeColor=g.getDrawColor=function(){return Ur(jo)},g.__private__.setStrokeColor=g.setDrawColor=function(U,fe,Fe,Je){return jo=Yr({ch1:U,ch2:fe,ch3:Fe,ch4:Je,pdfColorType:"draw",precision:2}),se(jo),this};var _u=t.fillColor||"0 g";g.__private__.getFillColor=g.getFillColor=function(){return Ur(_u)},g.__private__.setFillColor=g.setFillColor=function(U,fe,Fe,Je){return _u=Yr({ch1:U,ch2:fe,ch3:Fe,ch4:Je,pdfColorType:"fill",precision:2}),se(_u),this};var Rl=t.textColor||"0 g",Au=g.__private__.getTextColor=g.getTextColor=function(){return Ur(Rl)};g.__private__.setTextColor=g.setTextColor=function(U,fe,Fe,Je){return Rl=Yr({ch1:U,ch2:fe,ch3:Fe,ch4:Je,pdfColorType:"text",precision:3}),this};var _c=t.charSpace,Jf=g.__private__.getCharSpace=g.getCharSpace=function(){return parseFloat(_c||0)};g.__private__.setCharSpace=g.setCharSpace=function(U){if(isNaN(U))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return _c=U,this};var Xf=0;g.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},g.__private__.setLineCap=g.setLineCap=function(U){var fe=g.CapJoinStyles[U];if(fe===void 0)throw new Error("Line cap style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Xf=fe,se(fe+" J"),this};var Gs=0;g.__private__.setLineJoin=g.setLineJoin=function(U){var fe=g.CapJoinStyles[U];if(fe===void 0)throw new Error("Line join style of '"+U+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Gs=fe,se(fe+" j"),this},g.__private__.setLineMiterLimit=g.__private__.setMiterLimit=g.setLineMiterLimit=g.setMiterLimit=function(U){if(U=U||0,isNaN(U))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return se(I(H(U))+" M"),this},g.GState=gN,g.setGState=function(U){(U=typeof U=="string"?pt[tt[U]]:No(null,U)).equals(Te)||(se("/"+U.id+" gs"),Te=U)};var No=function(U,fe){if(!U||!tt[U]){var Fe=!1;for(var Je in pt)if(pt.hasOwnProperty(Je)&&pt[Je].equals(fe)){Fe=!0;break}if(Fe)fe=pt[Je];else{var ot="GS"+(Object.keys(pt).length+1).toString(10);pt[ot]=fe,fe.id=ot}return U&&(tt[U]=fe.id),Ye.publish("addGState",fe),fe}};g.addGState=function(U,fe){return No(U,fe),this},g.saveGraphicsState=function(){return se("q"),we.push({key:_e,size:rt,color:Rl}),this},g.restoreGraphicsState=function(){se("Q");var U=we.pop();return _e=U.key,rt=U.size,Rl=U.color,Te=null,this},g.setCurrentTransformationMatrix=function(U){return se(U.toString()+" cm"),this},g.comment=function(U){return se("#"+U),this};var Il=function(U,fe){var Fe=U||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Fe},set:function(Dt){isNaN(Dt)||(Fe=parseFloat(Dt))}});var Je=fe||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Je},set:function(Dt){isNaN(Dt)||(Je=parseFloat(Dt))}});var ot="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return ot},set:function(Dt){ot=Dt.toString()}}),this},Ac=function(U,fe,Fe,Je){Il.call(this,U,fe),this.type="rect";var ot=Fe||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return ot},set:function(Vt){isNaN(Vt)||(ot=parseFloat(Vt))}});var Dt=Je||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Dt},set:function(Vt){isNaN(Vt)||(Dt=parseFloat(Vt))}}),this},Qf=function(){this.page=ne,this.currentPage=J,this.pages=$e.slice(0),this.pagesContext=Ie.slice(0),this.x=ge,this.y=Oe,this.matrix=ke,this.width=yd(J),this.height=Fl(J),this.outputDestination=Se,this.id="",this.objectNumber=-1};Qf.prototype.restore=function(){ne=this.page,J=this.currentPage,Ie=this.pagesContext,$e=this.pages,ge=this.x,Oe=this.y,ke=this.matrix,Mu(J,this.width),Mc(J,this.height),Se=this.outputDestination};var Tu=function(U,fe,Fe,Je,ot){St.push(new Qf),ne=J=0,$e=[],ge=U,Oe=fe,ke=ot,cn([Fe,Je])};for(var Tc in g.beginFormObject=function(U,fe,Fe,Je,ot){return Tu(U,fe,Fe,Je,ot),this},g.endFormObject=function(U){return(function(fe){if(ze[fe])St.pop().restore();else{var Fe=new Qf,Je="Xo"+(Object.keys(yt).length+1).toString(10);Fe.id=Je,ze[fe]=Je,yt[Je]=Fe,Ye.publish("addFormObject",Fe),St.pop().restore()}})(U),this},g.doFormObject=function(U,fe){var Fe=yt[ze[U]];return se("q"),se(fe.toString()+" cm"),se("/"+Fe.id+" Do"),se("Q"),this},g.getFormObject=function(U){var fe=yt[ze[U]];return{x:fe.x,y:fe.y,width:fe.width,height:fe.height,matrix:fe.matrix}},g.save=function(U,fe){return U=U||"generated.pdf",(fe=fe||{}).returnPromise=fe.returnPromise||!1,fe.returnPromise===!1?(Zm(vo(Xi()),U),typeof Zm.unload=="function"&&Xr.setTimeout&&setTimeout(Zm.unload,911),this):new Promise(function(Fe,Je){try{var ot=Zm(vo(Xi()),U);typeof Zm.unload=="function"&&Xr.setTimeout&&setTimeout(Zm.unload,911),Fe(ot)}catch(Dt){Je(Dt.message)}})},Tr.API)Tr.API.hasOwnProperty(Tc)&&(Tc==="events"&&Tr.API.events.length?(function(U,fe){var Fe,Je,ot;for(ot=fe.length-1;ot!==-1;ot--)Fe=fe[ot][0],Je=fe[ot][1],U.subscribe.apply(U,[Fe].concat(typeof Je=="function"?[Je]:Je))})(Ye,Tr.API.events):g[Tc]=Tr.API[Tc]);function yd(U){return Ie[U].mediaBox.topRightX-Ie[U].mediaBox.bottomLeftX}function Mu(U,fe){Ie[U].mediaBox.topRightX=fe+Ie[U].mediaBox.bottomLeftX}function Fl(U){return Ie[U].mediaBox.topRightY-Ie[U].mediaBox.bottomLeftY}function Mc(U,fe){Ie[U].mediaBox.topRightY=fe+Ie[U].mediaBox.bottomLeftY}var i0=g.getPageWidth=function(U){return yd(U=U||J)/qe},o0=g.setPageWidth=function(U,fe){Mu(U,fe*qe)},Oc=g.getPageHeight=function(U){return Fl(U=U||J)/qe},l0=g.setPageHeight=function(U,fe){Mc(U,fe*qe)};return g.internal={pdfEscape:jr,getStyle:wu,getFont:Be,getFontSize:gt,getCharSpace:Jf,getTextColor:Au,getLineHeight:Zi,getLineHeightFactor:Cc,getLineWidth:Zt,write:ut,getHorizontalCoordinate:eo,getVerticalCoordinate:li,getCoordinateString:Sm,getVerticalCoordinateString:Cu,collections:{},newObject:Ct,newAdditionalObject:yn,newObjectDeferred:Mt,newObjectDeferredBegin:pr,getFilters:jn,putStream:Ve,events:Ye,scaleFactor:qe,pageSize:{getWidth:function(){return i0(J)},setWidth:function(U){o0(J,U)},getHeight:function(){return Oc(J)},setHeight:function(U){l0(J,U)}},encryptionOptions:f,encryption:Ha,getEncryptor:function(U){return f!==null?Ha.encryptor(U,0):function(fe){return fe}},output:Qi,getNumberOfPages:ii,pages:$e,out:se,f2:E,f3:M,getPageInfo:Vs,getPageInfoByObjId:yu,getCurrentPageInfo:Gf,getPDFVersion:w,Point:Il,Rectangle:Ac,Matrix:Ee,hasHotfix:qo},Object.defineProperty(g.internal.pageSize,"width",{get:function(){return i0(J)},set:function(U){o0(J,U)},enumerable:!0,configurable:!0}),Object.defineProperty(g.internal.pageSize,"height",{get:function(){return Oc(J)},set:function(U){l0(J,U)},enumerable:!0,configurable:!0}),(function(U){for(var fe=0,Fe=De.length;fe<Fe;fe++){var Je=Nr.call(this,U[fe][0],U[fe][1],U[fe][2],De[fe][3],!0);m===!1&&(p[Je]=!0);var ot=U[fe][0].split("-");zt({id:Je,fontName:ot[0],fontStyle:ot[1]||""})}Ye.publish("addFonts",{fonts:Ue,dictionary:Xe})}).call(g,De),_e="F1",ir(s,r),Ye.publish("initialized"),g}ig.prototype.lsbFirstWord=function(t){return String.fromCharCode(255&t,t>>8&255,t>>16&255,t>>24&255)},ig.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},ig.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},ig.prototype.processOwnerPassword=function(t,e){return ZO(QO(e).substr(0,5),t)},ig.prototype.encryptor=function(t,e){var r=QO(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return ZO(r,n)}},gN.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||Bn(t)!==Bn(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Tr.API={events:[]},Tr.version="3.0.3";var ks=Tr.API,cL=1,s0=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Z0=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},on=function(t){return t.toFixed(2)},Eh=function(t){return t.toFixed(5)};ks.__acroform__={};var fl=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},cG=function(t){return t*cL},Fd=function(t){var e=new fae,r=wr.internal.getHeight(t)||0,n=wr.internal.getWidth(t)||0;return e.BBox=[0,0,Number(on(n)),Number(on(r))],e},lqe=ks.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|1<<e},cqe=ks.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&~(1<<e)},dqe=ks.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},Fs=ks.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return dqe(t,e-1)},$s=ks.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return lqe(t,e-1)},Hs=ks.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return cqe(t,e-1)},uqe=ks.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,s=t[0],i=t[1],o=t[2],l=t[3],c={};return c.lowerLeft_X=r(s)||0,c.lowerLeft_Y=n(i+l)||0,c.upperRight_X=r(s+o)||0,c.upperRight_Y=n(i)||0,[Number(on(c.lowerLeft_X)),Number(on(c.lowerLeft_Y)),Number(on(c.upperRight_X)),Number(on(c.upperRight_Y))]},fqe=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=eE(t,r),s=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+s+" "+on(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var i=Fd(t);return i.scope=t.scope,i.stream=e.join(`
`),i}},eE=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},s=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");s=t.multiline?s.map(function(E){return E.split(`
`)}):s.map(function(E){return[E]});var i=r,o=wr.internal.getHeight(t)||0;o=o<0?-o:o;var l=wr.internal.getWidth(t)||0;l=l<0?-l:l;var c=function(E,M,H){if(E+1<s.length){var V=M+" "+s[E+1][0];return m2(V,t,H).width<=l-4}return!1};i++;e:for(;i>0;){e="",i--;var d,f,m=m2("3",t,i).height,p=t.multiline?o-i:(o-m)/2,g=p+=2,v=0,w=0,y=0;if(i<=0){e=`(...) Tj
`,e+="% Width of Text: "+m2(e,t,i=12).width+", FieldWidth:"+l+`
`;break}for(var N="",k=0,S=0;S<s.length;S++)if(s.hasOwnProperty(S)){var A=!1;if(s[S].length!==1&&y!==s[S].length-1){if((m+2)*(k+2)+2>o)continue e;N+=s[S][y],A=!0,w=S,S--}else{N=(N+=s[S][y]+" ").substr(N.length-1)==" "?N.substr(0,N.length-1):N;var _=parseInt(S),O=c(_,N,i),P=S>=s.length-1;if(O&&!P){N+=" ",y=0;continue}if(O||P){if(P)w=_;else if(t.multiline&&(m+2)*(k+2)+2>o)continue e}else{if(!t.multiline||(m+2)*(k+2)+2>o)continue e;w=_}}for(var I="",R=v;R<=w;R++){var F=s[R];if(t.multiline){if(R===w){I+=F[y]+" ",y=(y+1)%F.length;continue}if(R===v){I+=F[F.length-1]+" ";continue}}I+=F[0]+" "}switch(I=I.substr(I.length-1)==" "?I.substr(0,I.length-1):I,f=m2(I,t,i).width,t.textAlign){case"right":d=l-f-2;break;case"center":d=(l-f)/2;break;default:d=2}e+=on(d)+" "+on(g)+` Td
`,e+="("+s0(I)+`) Tj
`,e+=-on(d)+` 0 Td
`,g=-(i+2),f=0,v=A?w:w+1,k++,N=""}break}return n.text=e,n.fontSize=i,n},m2=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),s=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:s}},hqe={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},mqe=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},pqe=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(xd.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(hqe)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");cL=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new hae,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var s in n)if(n.hasOwnProperty(s)){var i=n[s];i.objId=void 0,i.hasAnnotation&&mqe(i,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,s){var i=!n;for(var o in n||(s.internal.newObjectDeferredBegin(s.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),s.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||s.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(o)){var l=n[o],c=[],d=l.Rect;if(l.Rect&&(l.Rect=uqe(l.Rect,s)),s.internal.newObjectDeferredBegin(l.objId,!0),l.DA=wr.createDefaultAppearanceStream(l),Bn(l)==="object"&&typeof l.getKeyValueListForStream=="function"&&(c=l.getKeyValueListForStream()),l.Rect=d,l.hasAppearanceStream&&!l.appearanceStreamContent){var f=fqe(l);c.push({key:"AP",value:"<</N "+f+">>"}),s.internal.acroformPlugin.xForms.push(f)}if(l.appearanceStreamContent){var m="";for(var p in l.appearanceStreamContent)if(l.appearanceStreamContent.hasOwnProperty(p)){var g=l.appearanceStreamContent[p];if(m+="/"+p+" ",m+="<<",Object.keys(g).length>=1||Array.isArray(g)){for(var o in g)if(g.hasOwnProperty(o)){var v=g[o];typeof v=="function"&&(v=v.call(s,l)),m+="/"+o+" "+v+" ",s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v)}}else typeof(v=g)=="function"&&(v=v.call(s,l)),m+="/"+o+" "+v,s.internal.acroformPlugin.xForms.indexOf(v)>=0||s.internal.acroformPlugin.xForms.push(v);m+=">>"}c.push({key:"AP",value:`<<
`+m+">>"})}s.internal.putStream({additionalKeyValues:c,objectId:l.objId}),s.internal.out("endobj")}i&&(function(w,y){for(var N in w)if(w.hasOwnProperty(N)){var k=N,S=w[N];y.internal.newObjectDeferredBegin(S.objId,!0),Bn(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete w[k]}})(s.internal.acroformPlugin.xForms,s)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},uae=ks.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(o){return o};if(Array.isArray(t)){for(var s="[",i=0;i<t.length;i++)switch(i!==0&&(s+=" "),Bn(t[i])){case"boolean":case"number":case"object":s+=t[i].toString();break;case"string":t[i].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),s+="("+s0(n(t[i].toString()))+")"):s+=t[i].toString()}return s+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},qT=function(t,e,r){var n=function(s){return s};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),"("+s0(n(t))+")"},Qd=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Qd.prototype.toString=function(){return this.objId+" 0 R"},Qd.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Qd.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(i){return i!="content"&&i!="appearanceStreamContent"&&i!="scope"&&i!="objId"&&i.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],s=this[n];s&&(Array.isArray(s)?t.push({key:n,value:uae(s,this.objId,this.scope)}):s instanceof Qd?(s.scope=this.scope,t.push({key:n,value:s.objId+" 0 R"})):typeof s!="function"&&t.push({key:n,value:s}))}return t};var fae=function(){Qd.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};fl(fae,Qd);var hae=function(){Qd.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+s0(r(t))+")"}},set:function(r){t=r}})};fl(hae,Qd);var xd=function t(){Qd.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute F supplied.');e=N}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!Fs(e,3)},set:function(N){N?this.F=$s(e,3):this.F=Hs(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(N){if(isNaN(N))throw new Error('Invalid value "'+N+'" for attribute Ff supplied.');r=N}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(N){n=N!==void 0?N:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(N){n[0]=N}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(N){n[1]=N}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(N){n[2]=N}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(N){n[3]=N}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(N){switch(N){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=N;break;default:throw new Error('Invalid value "'+N+'" for attribute FT supplied.')}}});var i=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!i||i.length<1){if(this instanceof xN)return;i="FieldObject"+t.FieldNum++}var N=function(k){return k};return this.scope&&(N=this.scope.internal.getEncryptor(this.objId)),"("+s0(N(i))+")"},set:function(N){i=N.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return i},set:function(N){i=N}});var o="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return o},set:function(N){o=N}});var l="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return l},set:function(N){l=N}});var c=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return c},set:function(N){c=N}});var d=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return d===void 0?50/cL:d},set:function(N){d=N}});var f="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return f},set:function(N){f=N}});var m="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!m||this instanceof xN||this instanceof Op))return qT(m,this.objId,this.scope)},set:function(N){N=N.toString(),m=N}});var p=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(p)return this instanceof Mi==0?qT(p,this.objId,this.scope):p},set:function(N){N=N.toString(),p=this instanceof Mi==0?N.substr(0,1)==="("?Z0(N.substr(1,N.length-2)):Z0(N):N}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Z0(p.substr(1,p.length-1)):p},set:function(N){N=N.toString(),p=this instanceof Mi==1?"/"+N:N}});var g=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(g)return g},set:function(N){this.V=N}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(g)return this instanceof Mi==0?qT(g,this.objId,this.scope):g},set:function(N){N=N.toString(),g=this instanceof Mi==0?N.substr(0,1)==="("?Z0(N.substr(1,N.length-2)):Z0(N):N}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Mi==1?Z0(g.substr(1,g.length-1)):g},set:function(N){N=N.toString(),g=this instanceof Mi==1?"/"+N:N}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var v,w=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return w},set:function(N){N=!!N,w=N}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(v)return v},set:function(N){v=N}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,1)},set:function(N){N?this.Ff=$s(this.Ff,1):this.Ff=Hs(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,2)},set:function(N){N?this.Ff=$s(this.Ff,2):this.Ff=Hs(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,3)},set:function(N){N?this.Ff=$s(this.Ff,3):this.Ff=Hs(this.Ff,3)}});var y=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(y!==null)return y},set:function(N){if([0,1,2].indexOf(N)===-1)throw new Error('Invalid value "'+N+'" for attribute Q supplied.');y=N}}),Object.defineProperty(this,"textAlign",{get:function(){var N;switch(y){case 0:default:N="left";break;case 1:N="center";break;case 2:N="right"}return N},configurable:!0,enumerable:!0,set:function(N){switch(N){case"right":case 2:y=2;break;case"center":case 1:y=1;break;default:y=0}}})};fl(xd,Qd);var Eg=function(){xd.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return uae(e,this.objId,this.scope)},set:function(r){var n,s;s=[],typeof(n=r)=="string"&&(s=(function(i,o,l){l||(l=1);for(var c,d=[];c=o.exec(i);)d.push(c[l]);return d})(n,/\((.*?)\)/g)),e=s}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,18)},set:function(r){r?this.Ff=$s(this.Ff,18):this.Ff=Hs(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=$s(this.Ff,19):this.Ff=Hs(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,20)},set:function(r){r?(this.Ff=$s(this.Ff,20),e.sort()):this.Ff=Hs(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,22)},set:function(r){r?this.Ff=$s(this.Ff,22):this.Ff=Hs(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,23)},set:function(r){r?this.Ff=$s(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,27)},set:function(r){r?this.Ff=$s(this.Ff,27):this.Ff=Hs(this.Ff,27)}}),this.hasAppearanceStream=!1};fl(Eg,xd);var Dg=function(){Eg.call(this),this.fontName="helvetica",this.combo=!1};fl(Dg,Eg);var Pg=function(){Dg.call(this),this.combo=!0};fl(Pg,Dg);var V2=function(){Pg.call(this),this.edit=!0};fl(V2,Pg);var Mi=function(){xd.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,15)},set:function(r){r?this.Ff=$s(this.Ff,15):this.Ff=Hs(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,16)},set:function(r){r?this.Ff=$s(this.Ff,16):this.Ff=Hs(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,17)},set:function(r){r?this.Ff=$s(this.Ff,17):this.Ff=Hs(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,26)},set:function(r){r?this.Ff=$s(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(i){return i};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,s=[];for(n in s.push("<<"),e)s.push("/"+n+" ("+s0(r(e[n]))+")");return s.push(">>"),s.join(`
`)}},set:function(r){Bn(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};fl(Mi,xd);var G2=function(){Mi.call(this),this.pushButton=!0};fl(G2,Mi);var Lg=function(){Mi.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};fl(Lg,Mi);var xN=function(){var t,e;xd.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(s){t=s}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(s){e=s}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var s=function(l){return l};this.scope&&(s=this.scope.internal.getEncryptor(this.objId));var i,o=[];for(i in o.push("<<"),n)o.push("/"+i+" ("+s0(s(n[i]))+")");return o.push(">>"),o.join(`
`)},set:function(s){Bn(s)==="object"&&(n=s)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(s){typeof s=="string"&&(n.CA=s)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(s){r=s}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(s){r="/"+s}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};fl(xN,xd),Lg.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},Lg.prototype.createOption=function(t){var e=new xN;return e.Parent=this,e.optionName=t,this.Kids.push(e),gqe.call(this.scope,e),e};var Y2=function(){Mi.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wr.CheckBox.createAppearanceStream()};fl(Y2,Mi);var Op=function(){xd.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,13)},set:function(e){e?this.Ff=$s(this.Ff,13):this.Ff=Hs(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,21)},set:function(e){e?this.Ff=$s(this.Ff,21):this.Ff=Hs(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,23)},set:function(e){e?this.Ff=$s(this.Ff,23):this.Ff=Hs(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,24)},set:function(e){e?this.Ff=$s(this.Ff,24):this.Ff=Hs(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,25)},set:function(e){e?this.Ff=$s(this.Ff,25):this.Ff=Hs(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,26)},set:function(e){e?this.Ff=$s(this.Ff,26):this.Ff=Hs(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};fl(Op,xd);var K2=function(){Op.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!Fs(this.Ff,14)},set:function(t){t?this.Ff=$s(this.Ff,14):this.Ff=Hs(this.Ff,14)}}),this.password=!0};fl(K2,Op);var wr={CheckBox:{createAppearanceStream:function(){return{N:{On:wr.CheckBox.YesNormal},D:{On:wr.CheckBox.YesPushDown,Off:wr.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,s=t.scope.__private__.encodeColorString(t.color),i=eE(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+on(wr.internal.getWidth(t))+" "+on(wr.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+on(i.fontSize)+" Tf "+s),r.push("BT"),r.push(i.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Fd(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),s=[],i=wr.internal.getHeight(t),o=wr.internal.getWidth(t),l=eE(t,t.caption);return s.push("1 g"),s.push("0 0 "+on(o)+" "+on(i)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+on(o-1)+" "+on(i-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+r+" "+on(l.fontSize)+" Tf "+n),s.push(l.text),s.push("ET"),s.push("Q"),e.stream=s.join(`
`),e},OffPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(wr.internal.getWidth(t))+" "+on(wr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:wr.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=wr.RadioButton.Circle.YesNormal,e.D[t]=wr.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Fd(t);e.scope=t.scope;var r=[],n=wr.internal.getWidth(t)<=wr.internal.getHeight(t)?wr.internal.getWidth(t)/4:wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=wr.internal.Bezier_C,i=Number((n*s).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Eh(wr.internal.getWidth(t)/2)+" "+Eh(wr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+i+" "+i+" "+n+" 0 "+n+" c"),r.push("-"+i+" "+n+" -"+n+" "+i+" -"+n+" 0 c"),r.push("-"+n+" -"+i+" -"+i+" -"+n+" 0 -"+n+" c"),r.push(i+" -"+n+" "+n+" -"+i+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=[],n=wr.internal.getWidth(t)<=wr.internal.getHeight(t)?wr.internal.getWidth(t)/4:wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*wr.internal.Bezier_C).toFixed(5)),o=Number((n*wr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eh(wr.internal.getWidth(t)/2)+" "+Eh(wr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Eh(wr.internal.getWidth(t)/2)+" "+Eh(wr.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+o+" "+o+" "+n+" 0 "+n+" c"),r.push("-"+o+" "+n+" -"+n+" "+o+" -"+n+" 0 c"),r.push("-"+n+" -"+o+" -"+o+" -"+n+" 0 -"+n+" c"),r.push(o+" -"+n+" "+n+" -"+o+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=[],n=wr.internal.getWidth(t)<=wr.internal.getHeight(t)?wr.internal.getWidth(t)/4:wr.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var s=Number((2*n).toFixed(5)),i=Number((s*wr.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Eh(wr.internal.getWidth(t)/2)+" "+Eh(wr.internal.getHeight(t)/2)+" cm"),r.push(s+" 0 m"),r.push(s+" "+i+" "+i+" "+s+" 0 "+s+" c"),r.push("-"+i+" "+s+" -"+s+" "+i+" -"+s+" 0 c"),r.push("-"+s+" -"+i+" -"+i+" -"+s+" 0 -"+s+" c"),r.push(i+" -"+s+" "+s+" -"+i+" "+s+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:wr.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=wr.RadioButton.Cross.YesNormal,e.D[t]=wr.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Fd(t);e.scope=t.scope;var r=[],n=wr.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+on(wr.internal.getWidth(t)-2)+" "+on(wr.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(on(n.x1.x)+" "+on(n.x1.y)+" m"),r.push(on(n.x2.x)+" "+on(n.x2.y)+" l"),r.push(on(n.x4.x)+" "+on(n.x4.y)+" m"),r.push(on(n.x3.x)+" "+on(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=wr.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+on(wr.internal.getWidth(t))+" "+on(wr.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+on(wr.internal.getWidth(t)-2)+" "+on(wr.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(on(r.x1.x)+" "+on(r.x1.y)+" m"),n.push(on(r.x2.x)+" "+on(r.x2.y)+" l"),n.push(on(r.x4.x)+" "+on(r.x4.y)+" m"),n.push(on(r.x3.x)+" "+on(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Fd(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+on(wr.internal.getWidth(t))+" "+on(wr.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};wr.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=wr.internal.getWidth(t),r=wr.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},wr.internal.getWidth=function(t){var e=0;return Bn(t)==="object"&&(e=cG(t.Rect[2])),e},wr.internal.getHeight=function(t){var e=0;return Bn(t)==="object"&&(e=cG(t.Rect[3])),e};var gqe=ks.addField=function(t){if(pqe(this,t),!(t instanceof xd))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};ks.AcroFormChoiceField=Eg,ks.AcroFormListBox=Dg,ks.AcroFormComboBox=Pg,ks.AcroFormEditBox=V2,ks.AcroFormButton=Mi,ks.AcroFormPushButton=G2,ks.AcroFormRadioButton=Lg,ks.AcroFormCheckBox=Y2,ks.AcroFormTextField=Op,ks.AcroFormPasswordField=K2,ks.AcroFormAppearance=wr,ks.AcroForm={ChoiceField:Eg,ListBox:Dg,ComboBox:Pg,EditBox:V2,Button:Mi,PushButton:G2,RadioButton:Lg,CheckBox:Y2,TextField:Op,PasswordField:K2,Appearance:wr},Tr.AcroForm={ChoiceField:Eg,ListBox:Dg,ComboBox:Pg,EditBox:V2,Button:Mi,PushButton:G2,RadioButton:Lg,CheckBox:Y2,TextField:Op,PasswordField:K2,Appearance:wr};Tr.AcroForm;function mae(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){var e="addImage_";t.__addimage__={};var r="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=t.__addimage__.getImageFileTypeByImageData=function(E,M){var H,V,G,q,B,z=r;if((M=M||r)==="RGBA"||E.data!==void 0&&E.data instanceof Uint8ClampedArray&&"height"in E&&"width"in E)return"RGBA";if(O(E))for(B in n)for(G=n[B],H=0;H<G.length;H+=1){for(q=!0,V=0;V<G[H].length;V+=1)if(G[H][V]!==void 0&&G[H][V]!==E[V]){q=!1;break}if(q===!0){z=B;break}}else for(B in n)for(G=n[B],H=0;H<G.length;H+=1){for(q=!0,V=0;V<G[H].length;V+=1)if(G[H][V]!==void 0&&G[H][V]!==E.charCodeAt(V)){q=!1;break}if(q===!0){z=B;break}}return z===r&&M!==r&&(z=M),z},i=function E(M){for(var H=this.internal.write,V=this.internal.putStream,G=(0,this.internal.getFilters)();G.indexOf("FlateEncode")!==-1;)G.splice(G.indexOf("FlateEncode"),1);M.objectId=this.internal.newObject();var q=[];if(q.push({key:"Type",value:"/XObject"}),q.push({key:"Subtype",value:"/Image"}),q.push({key:"Width",value:M.width}),q.push({key:"Height",value:M.height}),M.colorSpace===N.INDEXED?q.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(M.palette.length/3-1)+" "+("sMask"in M&&M.sMask!==void 0?M.objectId+2:M.objectId+1)+" 0 R]"}):(q.push({key:"ColorSpace",value:"/"+M.colorSpace}),M.colorSpace===N.DEVICE_CMYK&&q.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),q.push({key:"BitsPerComponent",value:M.bitsPerComponent}),"decodeParameters"in M&&M.decodeParameters!==void 0&&q.push({key:"DecodeParms",value:"<<"+M.decodeParameters+">>"}),"transparency"in M&&Array.isArray(M.transparency)&&M.transparency.length>0){for(var B="",z=0,X=M.transparency.length;z<X;z++)B+=M.transparency[z]+" "+M.transparency[z]+" ";q.push({key:"Mask",value:"["+B+"]"})}M.sMask!==void 0&&q.push({key:"SMask",value:M.objectId+1+" 0 R"});var ee=M.filter!==void 0?["/"+M.filter]:void 0;if(V({data:M.data,additionalKeyValues:q,alreadyAppliedFilters:ee,objectId:M.objectId}),H("endobj"),"sMask"in M&&M.sMask!==void 0){var K,W=(K=M.sMaskBitsPerComponent)!==null&&K!==void 0?K:M.bitsPerComponent,J={width:M.width,height:M.height,colorSpace:"DeviceGray",bitsPerComponent:W,data:M.sMask};"filter"in M&&(J.decodeParameters="/Predictor ".concat(M.predictor," /Colors 1 /BitsPerComponent ").concat(W," /Columns ").concat(M.width),J.filter=M.filter),E.call(this,J)}if(M.colorSpace===N.INDEXED){var Z=this.internal.newObject();V({data:I(new Uint8Array(M.palette)),objectId:Z}),H("endobj")}},o=function(){var E=this.internal.collections[e+"images"];for(var M in E)i.call(this,E[M])},l=function(){var E,M=this.internal.collections[e+"images"],H=this.internal.write;for(var V in M)H("/I"+(E=M[V]).index,E.objectId,"0","R")},c=function(){this.internal.collections[e+"images"]||(this.internal.collections[e+"images"]={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},d=function(){var E=this.internal.collections[e+"images"];return c.call(this),E},f=function(){return Object.keys(this.internal.collections[e+"images"]).length},m=function(E){return typeof t["process"+E.toUpperCase()]=="function"},p=function(E){return Bn(E)==="object"&&E.nodeType===1},g=function(E,M){if(E.nodeName==="IMG"&&E.hasAttribute("src")){var H=""+E.getAttribute("src");if(H.indexOf("data:image/")===0)return W2(unescape(H).split("base64,").pop());var V=t.loadFile(H,!0);if(V!==void 0)return V}if(E.nodeName==="CANVAS"){if(E.width===0||E.height===0)throw new Error("Given canvas must have data. Canvas width: "+E.width+", height: "+E.height);var G;switch(M){case"PNG":G="image/png";break;case"WEBP":G="image/webp";break;default:G="image/jpeg"}return W2(E.toDataURL(G,1).split("base64,").pop())}},v=function(E){var M=this.internal.collections[e+"images"];if(M){for(var H in M)if(E===M[H].alias)return M[H]}},w=function(E,M,H){return E||M||(E=-96,M=-96),E<0&&(E=-1*H.width*72/E/this.internal.scaleFactor),M<0&&(M=-1*H.height*72/M/this.internal.scaleFactor),E===0&&(E=M*H.width/H.height),M===0&&(M=E*H.height/H.width),[E,M]},y=function(E,M,H,V,G,q){var B=w.call(this,H,V,G),z=this.internal.getCoordinateString,X=this.internal.getVerticalCoordinateString,ee=d.call(this);if(H=B[0],V=B[1],ee[G.index]=G,q){q*=Math.PI/180;var K=Math.cos(q),W=Math.sin(q),J=function(ie){return ie.toFixed(4)},Z=[J(K),J(W),J(-1*W),J(K),0,0,"cm"]}this.internal.write("q"),q?(this.internal.write([1,"0","0",1,z(E),X(M+V),"cm"].join(" ")),this.internal.write(Z.join(" ")),this.internal.write([z(H),"0","0",z(V),"0","0","cm"].join(" "))):this.internal.write([z(H),"0","0",z(V),z(E),X(M+V),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+G.index+" Do"),this.internal.write("Q")},N=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var k=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},S=t.__addimage__.sHashCode=function(E){var M,H,V=0;if(typeof E=="string")for(H=E.length,M=0;M<H;M++)V=(V<<5)-V+E.charCodeAt(M),V|=0;else if(O(E))for(H=E.byteLength/2,M=0;M<H;M++)V=(V<<5)-V+E[M],V|=0;return V},A=t.__addimage__.validateStringAsBase64=function(E){(E=E||"").toString().trim();var M=!0;return E.length===0&&(M=!1),E.length%4!=0&&(M=!1),/^[A-Za-z0-9+/]+$/.test(E.substr(0,E.length-2))===!1&&(M=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(E.substr(-2))===!1&&(M=!1),M},_=t.__addimage__.extractImageFromDataUrl=function(E){if(E==null||!(E=E.trim()).startsWith("data:"))return null;var M=E.indexOf(",");return M<0?null:E.substring(0,M).trim().endsWith("base64")?E.substring(M+1):null};t.__addimage__.isArrayBuffer=function(E){return E instanceof ArrayBuffer};var O=t.__addimage__.isArrayBufferView=function(E){return E instanceof Int8Array||E instanceof Uint8Array||E instanceof Uint8ClampedArray||E instanceof Int16Array||E instanceof Uint16Array||E instanceof Int32Array||E instanceof Uint32Array||E instanceof Float32Array||E instanceof Float64Array},P=t.__addimage__.binaryStringToUint8Array=function(E){for(var M=E.length,H=new Uint8Array(M),V=0;V<M;V++)H[V]=E.charCodeAt(V);return H},I=t.__addimage__.arrayBufferToBinaryString=function(E){for(var M="",H=O(E)?E:new Uint8Array(E),V=0;V<H.length;V+=8192)M+=String.fromCharCode.apply(null,H.subarray(V,V+8192));return M};t.addImage=function(){var E,M,H,V,G,q,B,z,X;if(typeof arguments[1]=="number"?(M=r,H=arguments[1],V=arguments[2],G=arguments[3],q=arguments[4],B=arguments[5],z=arguments[6],X=arguments[7]):(M=arguments[1],H=arguments[2],V=arguments[3],G=arguments[4],q=arguments[5],B=arguments[6],z=arguments[7],X=arguments[8]),Bn(E=arguments[0])==="object"&&!p(E)&&"imageData"in E){var ee=E;E=ee.imageData,M=ee.format||M||r,H=ee.x||H||0,V=ee.y||V||0,G=ee.w||ee.width||G,q=ee.h||ee.height||q,B=ee.alias||B,z=ee.compression||z,X=ee.rotation||ee.angle||X}var K=this.internal.getFilters();if(z===void 0&&K.indexOf("FlateEncode")!==-1&&(z="SLOW"),isNaN(H)||isNaN(V))throw new Error("Invalid coordinates passed to jsPDF.addImage");c.call(this);var W=R.call(this,E,M,B,z);return y.call(this,H,V,G,q,W,X),this};var R=function(E,M,H,V){var G,q,B;if(typeof E=="string"&&s(E)===r){E=unescape(E);var z=F(E,!1);(z!==""||(z=t.loadFile(E,!0))!==void 0)&&(E=z)}if(p(E)&&(E=g(E,M)),M=s(E,M),!m(M))throw new Error("addImage does not support files of type '"+M+"', please ensure that a plugin for '"+M+"' support is added.");if(((B=H)==null||B.length===0)&&(H=(function(X){return typeof X=="string"||O(X)?S(X):O(X.data)?S(X.data):null})(E)),(G=v.call(this,H))||(E instanceof Uint8Array||M==="RGBA"||(q=E,E=P(E)),G=this["process"+M.toUpperCase()](E,f.call(this),H,(function(X){return X&&typeof X=="string"&&(X=X.toUpperCase()),X in t.image_compression?X:k.NONE})(V),q)),!G)throw new Error("An unknown error occurred whilst processing the image.");return G},F=t.__addimage__.convertBase64ToBinaryString=function(E,M){M=typeof M!="boolean"||M;var H,V="";if(typeof E=="string"){var G;H=(G=_(E))!==null&&G!==void 0?G:E;try{V=W2(H)}catch(q){if(M)throw A(H)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+q.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return V};t.getImageProperties=function(E){var M,H,V="";if(p(E)&&(E=g(E)),typeof E=="string"&&s(E)===r&&((V=F(E,!1))===""&&(V=t.loadFile(E)||""),E=V),H=s(E),!m(H))throw new Error("addImage does not support files of type '"+H+"', please ensure that a plugin for '"+H+"' support is added.");if(E instanceof Uint8Array||(E=P(E)),!(M=this["process"+H.toUpperCase()](E)))throw new Error("An unknown error occurred whilst processing the image");return M.fileType=H,M}})(Tr.API),(function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Tr.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,s,i,o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,c=this.internal.getPageInfoByObjId(r.objId),d=r.pageContext.annotations,f=!1,m=0;m<d.length&&!f;m++)switch((n=d[m]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(f=!0);break;case"reference":case"text":case"freetext":f=!0}if(f!=0){this.internal.write("/Annots [");for(var p=0;p<d.length;p++){n=d[p];var g=this.internal.pdfEscape,v=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var w=this.internal.newAdditionalObject(),y=this.internal.newAdditionalObject(),N=this.internal.getEncryptor(w.objId),k=n.title||"Note";i="<</Type /Annot /Subtype /Text "+(s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y)+"] ")+"/Contents ("+g(N(n.contents))+")",i+=" /Popup "+y.objId+" 0 R",i+=" /P "+c.objId+" 0 R",i+=" /T ("+g(N(k))+") >>",w.content=i;var S=w.objId+" 0 R";i="<</Type /Annot /Subtype /Popup "+(s="/Rect ["+o(n.bounds.x+30)+" "+l(n.bounds.y+n.bounds.h)+" "+o(n.bounds.x+n.bounds.w+30)+" "+l(n.bounds.y)+"] ")+" /Parent "+S,n.open&&(i+=" /Open true"),i+=" >>",y.content=i,this.internal.write(w.objId,"0 R",y.objId,"0 R");break;case"freetext":s="/Rect ["+o(n.bounds.x)+" "+l(n.bounds.y)+" "+o(n.bounds.x+n.bounds.w)+" "+l(n.bounds.y+n.bounds.h)+"] ";var A=n.color||"#000000";i="<</Type /Annot /Subtype /FreeText "+s+"/Contents ("+g(v(n.contents))+")",i+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+A+")",i+=" /Border [0 0 0]",i+=" >>",this.internal.write(i);break;case"link":if(n.options.name){var _=this.annotations._nameMap[n.options.name];n.options.pageNumber=_.page,n.options.top=_.y}else n.options.top||(n.options.top=0);if(s="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",i="",n.options.url)i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /A <</S /URI /URI ("+g(v(n.options.url))+") >>";else if(n.options.pageNumber)switch(i="<</Type /Annot /Subtype /Link "+s+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":i+=" /Fit]";break;case"FitH":i+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,i+=" /FitV "+n.options.left+"]";break;default:var O=l(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),i+=" /XYZ "+n.options.left+" "+O+" "+n.options.zoom+"]"}i!=""&&(i+=" >>",this.internal.write(i))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,s,i,o){var l=this.internal.getCurrentPageInfo(),c=this.internal.getCoordinateString,d=this.internal.getVerticalCoordinateString;l.pageContext.annotations.push({finalBounds:{x:c(r),y:d(n),w:c(r+s),h:d(n+i)},options:o,type:"link"})},t.textWithLink=function(r,n,s,i){var o,l,c=this.getTextWidth(r),d=this.internal.getLineHeight()/this.internal.scaleFactor;if(i.maxWidth!==void 0){l=i.maxWidth;var f=this.splitTextToSize(r,l).length;o=Math.ceil(d*f)}else l=c,o=d;return this.text(r,n,s,i),s+=.2*d,i.align==="center"&&(n-=c/2),i.align==="right"&&(n-=c),this.link(n,s-d,l,o,i),c},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}})(Tr.API),(function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];t.__arabicParser__={};var i=t.__arabicParser__.isInArabicSubstitutionA=function(w){return e[w.charCodeAt(0)]!==void 0},o=t.__arabicParser__.isArabicLetter=function(w){return typeof w=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(w)},l=t.__arabicParser__.isArabicEndLetter=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length<=2},c=t.__arabicParser__.isArabicAlfLetter=function(w){return o(w)&&s.indexOf(w.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=1};var d=t.__arabicParser__.arabicLetterHasFinalForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length>=3};var f=t.__arabicParser__.arabicLetterHasMedialForm=function(w){return o(w)&&i(w)&&e[w.charCodeAt(0)].length==4},m=t.__arabicParser__.resolveLigatures=function(w){var y=0,N=r,k="",S=0;for(y=0;y<w.length;y+=1)N[w.charCodeAt(y)]!==void 0?(S++,typeof(N=N[w.charCodeAt(y)])=="number"&&(k+=String.fromCharCode(N),N=r,S=0),y===w.length-1&&(N=r,k+=w.charAt(y-(S-1)),y-=S-1,S=0)):(N=r,k+=w.charAt(y-S),y-=S,S=0);return k};t.__arabicParser__.isArabicDiacritic=function(w){return w!==void 0&&n[w.charCodeAt(0)]!==void 0};var p=t.__arabicParser__.getCorrectForm=function(w,y,N){return o(w)?i(w)===!1?-1:!d(w)||!o(y)&&!o(N)||!o(N)&&l(y)||l(w)&&!o(y)||l(w)&&c(y)||l(w)&&l(y)?0:f(w)&&o(y)&&!l(y)&&o(N)&&d(N)?3:l(w)||!o(N)?1:2:-1},g=function(w){var y=0,N=0,k=0,S="",A="",_="",O=(w=w||"").split("\\s+"),P=[];for(y=0;y<O.length;y+=1){for(P.push(""),N=0;N<O[y].length;N+=1)S=O[y][N],A=O[y][N-1],_=O[y][N+1],o(S)?(k=p(S,A,_),P[y]+=k!==-1?String.fromCharCode(e[S.charCodeAt(0)][k]):S):P[y]+=S;P[y]=m(P[y])}return P.join(" ")},v=t.__arabicParser__.processArabic=t.processArabic=function(){var w,y=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,N=[];if(Array.isArray(y)){var k=0;for(N=[],k=0;k<y.length;k+=1)Array.isArray(y[k])?N.push([g(y[k][0]),y[k][1],y[k][2]]):N.push([g(y[k])]);w=N}else w=g(y);return typeof arguments[0]=="string"?w:(arguments[0].text=w,arguments[0])};t.events.push(["preProcessText",v])})(Tr.API),Tr.API.autoPrint=function(t){var e;return(t=t||{}).variant=t.variant||"non-conform",t.variant==="javascript"?this.addJS("print({});"):(this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})),this},(function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(l){r=l}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(l){n=isNaN(l)||Number.isInteger(l)===!1||l<0?150:l,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var s=300;Object.defineProperty(this,"height",{get:function(){return s},set:function(l){s=isNaN(l)||Number.isInteger(l)===!1||l<0?300:l,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=s+1)}});var i=[];Object.defineProperty(this,"childNodes",{get:function(){return i},set:function(l){i=l}});var o={};Object.defineProperty(this,"style",{get:function(){return o},set:function(l){o=l}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var s;if((r=r||"2d")!=="2d")return null;for(s in n)this.pdf.context2d.hasOwnProperty(s)&&(this.pdf.context2d[s]=n[s]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])})(Tr.API),(function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),s.call(this))},s=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var c=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return c},set:function(w){c=w}});var d=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return d},set:function(w){d=w}});var f=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return f},set:function(w){f=w}});var m=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return m},set:function(w){m=w}});var p=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return p},set:function(w){p=w}});var g=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return g},set:function(w){g=w}});var v=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return v},set:function(w){v=w}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(c){return n.call(this),this.internal.__cell__.headerFunction=typeof c=="function"?c:void 0,this},t.getTextDimensions=function(c,d){n.call(this);var f=(d=d||{}).fontSize||this.getFontSize(),m=d.font||this.getFont(),p=d.scaleFactor||this.internal.scaleFactor,g=0,v=0,w=0,y=this;if(!Array.isArray(c)&&typeof c!="string"){if(typeof c!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");c=String(c)}var N=d.maxWidth;N>0?typeof c=="string"?c=this.splitTextToSize(c,N):Object.prototype.toString.call(c)==="[object Array]"&&(c=c.reduce(function(S,A){return S.concat(y.splitTextToSize(A,N))},[])):c=Array.isArray(c)?c:[c];for(var k=0;k<c.length;k++)g<(w=this.getStringUnitWidth(c[k],{font:m})*f)&&(g=w);return g!==0&&(v=c.length),{w:g/=p,h:Math.max((v*f*this.getLineHeightFactor()-f*(this.getLineHeightFactor()-1))/p,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var c=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new i(c.left,c.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=t.cell=function(){var c;c=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var d=this.internal.__cell__.lastCell,f=this.internal.__cell__.padding,m=this.internal.__cell__.margins||e,p=this.internal.__cell__.tableHeaderRow,g=this.internal.__cell__.printHeaders;return d.lineNumber!==void 0&&(d.lineNumber===c.lineNumber?(c.x=(d.x||0)+(d.width||0),c.y=d.y||0):d.y+d.height+c.height+m.bottom>this.getPageHeight()?(this.cellAddPage(),c.y=m.top,g&&p&&(this.printHeaderRow(c.lineNumber,!0),c.y+=p[0].height)):c.y=d.y+d.height||c.y),c.text[0]!==void 0&&(this.rect(c.x,c.y,c.width,c.height,r===!0?"FD":void 0),c.align==="right"?this.text(c.text,c.x+c.width-f,c.y+f,{align:"right",baseline:"top"}):c.align==="center"?this.text(c.text,c.x+c.width/2,c.y+f,{align:"center",baseline:"top",maxWidth:c.width-f-f}):this.text(c.text,c.x+f,c.y+f,{align:"left",baseline:"top",maxWidth:c.width-f-f})),this.internal.__cell__.lastCell=c,this};t.table=function(c,d,f,m,p){if(n.call(this),!f)throw new Error("No data for PDF table.");var g,v,w,y,N=[],k=[],S=[],A={},_={},O=[],P=[],I=(p=p||{}).autoSize||!1,R=p.printHeaders!==!1,F=p.css&&p.css["font-size"]!==void 0?16*p.css["font-size"]:p.fontSize||12,E=p.margins||Object.assign({width:this.getPageWidth()},e),M=typeof p.padding=="number"?p.padding:3,H=p.headerBackgroundColor||"#c8c8c8",V=p.headerTextColor||"#000";if(s.call(this),this.internal.__cell__.printHeaders=R,this.internal.__cell__.margins=E,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=M,this.internal.__cell__.headerBackgroundColor=H,this.internal.__cell__.headerTextColor=V,this.setFontSize(F),m==null)k=N=Object.keys(f[0]),S=N.map(function(){return"left"});else if(Array.isArray(m)&&Bn(m[0])==="object")for(N=m.map(function(ee){return ee.name}),k=m.map(function(ee){return ee.prompt||ee.name||""}),S=m.map(function(ee){return ee.align||"left"}),g=0;g<m.length;g+=1)_[m[g].name]=.7499990551181103*m[g].width;else Array.isArray(m)&&typeof m[0]=="string"&&(k=N=m,S=N.map(function(){return"left"}));if(I||Array.isArray(m)&&typeof m[0]=="string")for(g=0;g<N.length;g+=1){for(A[y=N[g]]=f.map(function(ee){return ee[y]}),this.setFont(void 0,"bold"),O.push(this.getTextDimensions(k[g],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),v=A[y],this.setFont(void 0,"normal"),w=0;w<v.length;w+=1)O.push(this.getTextDimensions(v[w],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);_[y]=Math.max.apply(null,O)+M+M,O=[]}if(R){var G={};for(g=0;g<N.length;g+=1)G[N[g]]={},G[N[g]].text=k[g],G[N[g]].align=S[g];var q=l.call(this,G,_);P=N.map(function(ee){return new i(c,d,_[ee],q,G[ee].text,void 0,G[ee].align)}),this.setTableHeaderRow(P),this.printHeaderRow(1,!1)}var B=m.reduce(function(ee,K){return ee[K.name]=K.align,ee},{});for(g=0;g<f.length;g+=1){"rowStart"in p&&p.rowStart instanceof Function&&p.rowStart({row:g,data:f[g]},this);var z=l.call(this,f[g],_);for(w=0;w<N.length;w+=1){var X=f[g][N[w]];"cellStart"in p&&p.cellStart instanceof Function&&p.cellStart({row:g,col:w,data:X},this),o.call(this,new i(c,d,_[N[w]],z,X,g+2,B[N[w]]))}}return this.internal.__cell__.table_x=c,this.internal.__cell__.table_y=d,this};var l=function(c,d){var f=this.internal.__cell__.padding,m=this.internal.__cell__.table_font_size,p=this.internal.scaleFactor;return Object.keys(c).map(function(g){var v=c[g];return this.splitTextToSize(v.hasOwnProperty("text")?v.text:v,d[g]-f-f)},this).map(function(g){return this.getLineHeightFactor()*g.length*m/p+f+f},this).reduce(function(g,v){return Math.max(g,v)},0)};t.setTableHeaderRow=function(c){n.call(this),this.internal.__cell__.tableHeaderRow=c},t.printHeaderRow=function(c,d){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var f;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var m=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(m[0],m[1],m[2],m[3],void 0,-1)}this.setFont(void 0,"bold");for(var p=[],g=0;g<this.internal.__cell__.tableHeaderRow.length;g+=1){f=this.internal.__cell__.tableHeaderRow[g].clone(),d&&(f.y=this.internal.__cell__.margins.top||0,p.push(f)),f.lineNumber=c;var v=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,f),this.setTextColor(v)}p.length>0&&this.setTableHeaderRow(p),this.setFont(void 0,"normal"),r=!1}})(Tr.API);var pae={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gae=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],tE=mae(gae),xae=[100,200,300,400,500,600,700,800,900],xqe=mae(xae);function UT(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=(function(i){return pae[i=i||"normal"]?i:"normal"})(t.style),n=(function(i){return i?typeof i=="number"?i>=100&&i<=900&&i%100==0?i:400:/^\d00$/.test(i)?parseInt(i):i==="bold"?700:400:400})(t.weight),s=(function(i){return typeof tE[i=i||"normal"]=="number"?i:"normal"})(t.stretch);return{family:e,style:r,weight:n,stretch:s,src:t.src||[],ref:t.ref||{name:e,style:[s,r,n].join(" ")}}}function dG(t,e,r,n){var s;for(s=r;s>=0&&s<e.length;s+=n)if(t[e[s]])return t[e[s]];for(s=r;s>=0&&s<e.length;s-=n)if(t[e[s]])return t[e[s]]}var bqe={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},uG={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function fG(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function hG(t){return t.trimLeft()}function yqe(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function vqe(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var p2,mG,pG,eg,g2,gG,xG,bG,WT=["times"];function yG(t,e,r,n,s){var i=4,o=wG;switch(s){case Tr.API.image_compression.FAST:i=1,o=vG;break;case Tr.API.image_compression.MEDIUM:i=6,o=jG;break;case Tr.API.image_compression.SLOW:i=9,o=NG}t=(function(c,d,f,m){for(var p,g=c.length/d,v=new Uint8Array(c.length+g),w=[wqe,vG,wG,jG,NG],y=0;y<g;y+=1){var N=y*d,k=c.subarray(N,N+d);if(m)v.set(m(k,f,p),N+y);else{for(var S=w.length,A=[],_=0;_<S;_+=1)A[_]=w[_](k,f,p);var O=Nqe(A.concat());v.set(A[O],N+y)}p=k}return v})(t,e,Math.ceil(r*n/8),o);var l=YO(t,{level:i});return Tr.API.__addimage__.arrayBufferToBinaryString(l)}function wqe(t){var e=Array.apply([],t);return e.unshift(0),e}function vG(t,e){var r=t.length,n=[];n[0]=1;for(var s=0;s<r;s+=1){var i=t[s-e]||0;n[s+1]=t[s]-i+256&255}return n}function wG(t,e,r){var n=t.length,s=[];s[0]=2;for(var i=0;i<n;i+=1){var o=r&&r[i]||0;s[i+1]=t[i]-o+256&255}return s}function jG(t,e,r){var n=t.length,s=[];s[0]=3;for(var i=0;i<n;i+=1){var o=t[i-e]||0,l=r&&r[i]||0;s[i+1]=t[i]+256-(o+l>>>1)&255}return s}function NG(t,e,r){var n=t.length,s=[];s[0]=4;for(var i=0;i<n;i+=1){var o=jqe(t[i-e]||0,r&&r[i]||0,r&&r[i-e]||0);s[i+1]=t[i]-o+256&255}return s}function jqe(t,e,r){if(t===e&&e===r)return t;var n=Math.abs(e-r),s=Math.abs(t-r),i=Math.abs(t+e-r-r);return n<=s&&n<=i?t:s<=i?e:r}function Nqe(t){var e=t.map(function(r){return r.reduce(function(n,s){return n+Math.abs(s)},0)});return e.indexOf(Math.min.apply(null,e))}function VT(t,e,r){var n=e*r,s=Math.floor(n/8),i=16-(n-8*s+r),o=(1<<r)-1;return bae(t,s)>>i&o}function SG(t,e,r,n){var s=r*n,i=Math.floor(s/8),o=16-(s-8*i+n),l=(1<<n)-1,c=(e&l)<<o;(function(d,f,m){if(f+1<d.byteLength)d.setUint16(f,m,!1);else{var p=m>>8&255;d.setUint8(f,p)}})(t,i,bae(t,i)&~(l<<o)&65535|c)}function bae(t,e){return e+1<t.byteLength?t.getUint16(e,!1):t.getUint8(e)<<8}function Sqe(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,s=t[e++],i=s>>7,o=1<<1+(7&s);t[e++],t[e++];var l=null,c=null;i&&(l=e,c=o,e+=3*o);var d=!0,f=[],m=0,p=null,g=0,v=null;for(this.width=r,this.height=n;d&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,v=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var w=t[e++];m=t[e++]|t[e++]<<8,p=t[e++],1&w||(p=null),g=w>>2&7,e++;break;case 254:for(;;){if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var y=t[e++]|t[e++]<<8,N=t[e++]|t[e++]<<8,k=t[e++]|t[e++]<<8,S=t[e++]|t[e++]<<8,A=t[e++],_=A>>6&1,O=1<<1+(7&A),P=l,I=c,R=!1;A>>7&&(R=!0,P=e,I=O,e+=3*O);var F=e;for(e++;;){var E;if(!((E=t[e++])>=0))throw Error("Invalid block size");if(E===0)break;e+=E}f.push({x:y,y:N,width:k,height:S,has_local_palette:R,palette_offset:P,palette_size:I,data_offset:F,data_length:e-F,transparent_index:p,interlaced:!!_,delay:m,disposal:g});break;case 59:d=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return f.length},this.loopCount=function(){return v},this.frameInfo=function(M){if(M<0||M>=f.length)throw new Error("Frame index out of range.");return f[M]},this.decodeAndBlitFrameBGRA=function(M,H){var V=this.frameInfo(M),G=V.width*V.height,q=new Uint8Array(G);kG(t,V.data_offset,q,G);var B=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var X=V.width,ee=r-X,K=X,W=4*(V.y*r+V.x),J=4*((V.y+V.height)*r+V.x),Z=W,ie=4*ee;V.interlaced===!0&&(ie+=4*r*7);for(var ue=8,je=0,ce=q.length;je<ce;++je){var le=q[je];if(K===0&&(K=X,(Z+=ie)>=J&&(ie=4*ee+4*r*(ue-1),Z=W+(X+ee)*(ue<<1),ue>>=1)),le===z)Z+=4;else{var pe=t[B+3*le],$e=t[B+3*le+1],de=t[B+3*le+2];H[Z++]=de,H[Z++]=$e,H[Z++]=pe,H[Z++]=255}--K}},this.decodeAndBlitFrameRGBA=function(M,H){var V=this.frameInfo(M),G=V.width*V.height,q=new Uint8Array(G);kG(t,V.data_offset,q,G);var B=V.palette_offset,z=V.transparent_index;z===null&&(z=256);var X=V.width,ee=r-X,K=X,W=4*(V.y*r+V.x),J=4*((V.y+V.height)*r+V.x),Z=W,ie=4*ee;V.interlaced===!0&&(ie+=4*r*7);for(var ue=8,je=0,ce=q.length;je<ce;++je){var le=q[je];if(K===0&&(K=X,(Z+=ie)>=J&&(ie=4*ee+4*r*(ue-1),Z=W+(X+ee)*(ue<<1),ue>>=1)),le===z)Z+=4;else{var pe=t[B+3*le],$e=t[B+3*le+1],de=t[B+3*le+2];H[Z++]=pe,H[Z++]=$e,H[Z++]=de,H[Z++]=255}--K}}}function kG(t,e,r,n){for(var s=t[e++],i=1<<s,o=i+1,l=o+1,c=s+1,d=(1<<c)-1,f=0,m=0,p=0,g=t[e++],v=new Int32Array(4096),w=null;;){for(;f<16&&g!==0;)m|=t[e++]<<f,f+=8,g===1?g=t[e++]:--g;if(f<c)break;var y=m&d;if(m>>=c,f-=c,y!==i){if(y===o)break;for(var N=y<l?y:w,k=0,S=N;S>i;)S=v[S]>>8,++k;var A=S;if(p+k+(N!==y?1:0)>n)return void Oa.log("Warning, gif stream longer than expected.");r[p++]=A;var _=p+=k;for(N!==y&&(r[p++]=A),S=N;k--;)S=v[S],r[--_]=255&S,S>>=8;w!==null&&l<4096&&(v[l++]=w<<8|A,l>=d+1&&c<12&&(++c,d=d<<1|1)),w=y}else l=o+1,d=(1<<(c=s+1))-1,w=null}return p!==n&&Oa.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function GT(t){var e,r,n,s,i,o=Math.floor,l=new Array(64),c=new Array(64),d=new Array(64),f=new Array(64),m=new Array(65535),p=new Array(65535),g=new Array(64),v=new Array(64),w=[],y=0,N=7,k=new Array(64),S=new Array(64),A=new Array(64),_=new Array(256),O=new Array(2048),P=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],I=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],E=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],M=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],H=[0,1,2,3,4,5,6,7,8,9,10,11],V=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],G=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function q(W,J){for(var Z=0,ie=0,ue=new Array,je=1;je<=16;je++){for(var ce=1;ce<=W[je];ce++)ue[J[ie]]=[],ue[J[ie]][0]=Z,ue[J[ie]][1]=je,ie++,Z++;Z*=2}return ue}function B(W){for(var J=W[0],Z=W[1]-1;Z>=0;)J&1<<Z&&(y|=1<<N),Z--,--N<0&&(y==255?(z(255),z(0)):z(y),N=7,y=0)}function z(W){w.push(W)}function X(W){z(W>>8&255),z(255&W)}function ee(W,J,Z,ie,ue){for(var je,ce=ue[0],le=ue[240],pe=(function(rt,wt){var gt,Rt,He,he,Qe,Ge,mt,Le,_e,qe,ge=0;for(_e=0;_e<8;++_e){gt=rt[ge],Rt=rt[ge+1],He=rt[ge+2],he=rt[ge+3],Qe=rt[ge+4],Ge=rt[ge+5],mt=rt[ge+6];var Oe=gt+(Le=rt[ge+7]),ke=gt-Le,Ue=Rt+mt,Xe=Rt-mt,we=He+Ge,ye=He-Ge,Ke=he+Qe,pt=he-Qe,tt=Oe+Ke,Te=Oe-Ke,ne=Ue+we,Ie=Ue-we;rt[ge]=tt+ne,rt[ge+4]=tt-ne;var Ye=.707106781*(Ie+Te);rt[ge+2]=Te+Ye,rt[ge+6]=Te-Ye;var st=.382683433*((tt=pt+ye)-(Ie=Xe+ke)),yt=.5411961*tt+st,ze=1.306562965*Ie+st,St=.707106781*(ne=ye+Xe),Ee=ke+St,It=ke-St;rt[ge+5]=It+yt,rt[ge+3]=It-yt,rt[ge+1]=Ee+ze,rt[ge+7]=Ee-ze,ge+=8}for(ge=0,_e=0;_e<8;++_e){gt=rt[ge],Rt=rt[ge+8],He=rt[ge+16],he=rt[ge+24],Qe=rt[ge+32],Ge=rt[ge+40],mt=rt[ge+48];var Pt=gt+(Le=rt[ge+56]),Bt=gt-Le,ft=Rt+mt,Ct=Rt-mt,Mt=He+Ge,pr=He-Ge,yn=he+Qe,vn=he-Qe,or=Pt+yn,Ur=Pt-yn,Yr=ft+Mt,jn=ft-Mt;rt[ge]=or+Yr,rt[ge+32]=or-Yr;var Ve=.707106781*(jn+Ur);rt[ge+16]=Ur+Ve,rt[ge+48]=Ur-Ve;var it=.382683433*((or=vn+pr)-(jn=Ct+Bt)),_t=.5411961*or+it,xe=1.306562965*jn+it,nt=.707106781*(Yr=pr+Ct),Nt=Bt+nt,cr=Bt-nt;rt[ge+40]=cr+_t,rt[ge+24]=cr-_t,rt[ge+8]=Nt+xe,rt[ge+56]=Nt-xe,ge++}for(_e=0;_e<64;++_e)qe=rt[_e]*wt[_e],g[_e]=qe>0?qe+.5|0:qe-.5|0;return g})(W,J),$e=0;$e<64;++$e)v[P[$e]]=pe[$e];var de=v[0]-Z;Z=v[0],de==0?B(ie[0]):(B(ie[p[je=32767+de]]),B(m[je]));for(var Se=63;Se>0&&v[Se]==0;)Se--;if(Se==0)return B(ce),Z;for(var te,se=1;se<=Se;){for(var ut=se;v[se]==0&&se<=Se;)++se;var dt=se-ut;if(dt>=16){te=dt>>4;for(var De=1;De<=te;++De)B(le);dt&=15}je=32767+v[se],B(ue[(dt<<4)+p[je]]),B(m[je]),se++}return Se!=63&&B(ce),Z}function K(W){W=Math.min(Math.max(W,1),100),i!=W&&((function(J){for(var Z=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],ie=0;ie<64;ie++){var ue=o((Z[ie]*J+50)/100);ue=Math.min(Math.max(ue,1),255),l[P[ie]]=ue}for(var je=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ce=0;ce<64;ce++){var le=o((je[ce]*J+50)/100);le=Math.min(Math.max(le,1),255),c[P[ce]]=le}for(var pe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],$e=0,de=0;de<8;de++)for(var Se=0;Se<8;Se++)d[$e]=1/(l[P[$e]]*pe[de]*pe[Se]*8),f[$e]=1/(c[P[$e]]*pe[de]*pe[Se]*8),$e++})(W<50?Math.floor(5e3/W):Math.floor(200-2*W)),i=W)}this.encode=function(W,J){J&&K(J),w=new Array,y=0,N=7,X(65496),X(65504),X(16),z(74),z(70),z(73),z(70),z(0),z(1),z(1),z(0),X(1),X(1),z(0),z(0),(function(){X(65499),X(132),z(0);for(var Rt=0;Rt<64;Rt++)z(l[Rt]);z(1);for(var He=0;He<64;He++)z(c[He])})(),(function(Rt,He){X(65472),X(17),z(8),X(He),X(Rt),z(3),z(1),z(17),z(0),z(2),z(17),z(1),z(3),z(17),z(1)})(W.width,W.height),(function(){X(65476),X(418),z(0);for(var Rt=0;Rt<16;Rt++)z(I[Rt+1]);for(var He=0;He<=11;He++)z(R[He]);z(16);for(var he=0;he<16;he++)z(F[he+1]);for(var Qe=0;Qe<=161;Qe++)z(E[Qe]);z(1);for(var Ge=0;Ge<16;Ge++)z(M[Ge+1]);for(var mt=0;mt<=11;mt++)z(H[mt]);z(17);for(var Le=0;Le<16;Le++)z(V[Le+1]);for(var _e=0;_e<=161;_e++)z(G[_e])})(),X(65498),X(12),z(3),z(1),z(0),z(2),z(17),z(3),z(17),z(0),z(63),z(0);var Z=0,ie=0,ue=0;y=0,N=7,this.encode.displayName="_encode_";for(var je,ce,le,pe,$e,de,Se,te,se,ut=W.data,dt=W.width,De=W.height,rt=4*dt,wt=0;wt<De;){for(je=0;je<rt;){for($e=rt*wt+je,Se=-1,te=0,se=0;se<64;se++)de=$e+(te=se>>3)*rt+(Se=4*(7&se)),wt+te>=De&&(de-=rt*(wt+1+te-De)),je+Se>=rt&&(de-=je+Se-rt+4),ce=ut[de++],le=ut[de++],pe=ut[de++],k[se]=(O[ce]+O[le+256|0]+O[pe+512|0]>>16)-128,S[se]=(O[ce+768|0]+O[le+1024|0]+O[pe+1280|0]>>16)-128,A[se]=(O[ce+1280|0]+O[le+1536|0]+O[pe+1792|0]>>16)-128;Z=ee(k,d,Z,e,n),ie=ee(S,f,ie,r,s),ue=ee(A,f,ue,r,s),je+=32}wt+=8}if(N>=0){var gt=[];gt[1]=N+1,gt[0]=(1<<N+1)-1,B(gt)}return X(65497),new Uint8Array(w)},t=t||50,(function(){for(var W=String.fromCharCode,J=0;J<256;J++)_[J]=W(J)})(),e=q(I,R),r=q(M,H),n=q(F,E),s=q(V,G),(function(){for(var W=1,J=2,Z=1;Z<=15;Z++){for(var ie=W;ie<J;ie++)p[32767+ie]=Z,m[32767+ie]=[],m[32767+ie][1]=Z,m[32767+ie][0]=ie;for(var ue=-(J-1);ue<=-W;ue++)p[32767+ue]=Z,m[32767+ue]=[],m[32767+ue][1]=Z,m[32767+ue][0]=J-1+ue;W<<=1,J<<=1}})(),(function(){for(var W=0;W<256;W++)O[W]=19595*W,O[W+256|0]=38470*W,O[W+512|0]=7471*W+32768,O[W+768|0]=-11059*W,O[W+1024|0]=-21709*W,O[W+1280|0]=32768*W+8421375,O[W+1536|0]=-27439*W,O[W+1792|0]=-5329*W})(),K(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Yc(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function CG(t){function e(R){if(!R)throw Error("assert :P")}function r(R,F,E){for(var M=0;4>M;M++)if(R[F+M]!=E.charCodeAt(M))return!0;return!1}function n(R,F,E,M,H){for(var V=0;V<H;V++)R[F+V]=E[M+V]}function s(R,F,E,M){for(var H=0;H<M;H++)R[F+H]=E}function i(R){return new Int32Array(R)}function o(R,F){for(var E=[],M=0;M<R;M++)E.push(new F);return E}function l(R,F){var E=[];return(function M(H,V,G){for(var q=G[V],B=0;B<q&&(H.push(G.length>V+1?[]:new F),!(G.length<V+1));B++)M(H[B],V+1,G)})(E,0,R),E}var c=function(){var R=this;function F(C,L){for(var Y=1<<L-1>>>0;C&Y;)Y>>>=1;return Y?(C&Y-1)+Y:C}function E(C,L,Y,Q,me){e(!(Q%Y));do C[L+(Q-=Y)]=me;while(0<Q)}function M(C,L,Y,Q,me){if(e(2328>=me),512>=me)var ve=i(512);else if((ve=i(me))==null)return 0;return(function(Ne,Ae,Me,Re,Ze,xt){var Pe,at,ct=Ae,Tt=1<<Me,ht=i(16),At=i(16);for(e(Ze!=0),e(Re!=null),e(Ne!=null),e(0<Me),at=0;at<Ze;++at){if(15<Re[at])return 0;++ht[Re[at]]}if(ht[0]==Ze)return 0;for(At[1]=0,Pe=1;15>Pe;++Pe){if(ht[Pe]>1<<Pe)return 0;At[Pe+1]=At[Pe]+ht[Pe]}for(at=0;at<Ze;++at)Pe=Re[at],0<Re[at]&&(xt[At[Pe]++]=at);if(At[15]==1)return(Re=new H).g=0,Re.value=xt[0],E(Ne,ct,1,Tt,Re),Tt;var Lt,Gt=-1,qt=Tt-1,vr=0,fr=1,Jr=1,gr=1<<Me;for(at=0,Pe=1,Ze=2;Pe<=Me;++Pe,Ze<<=1){if(fr+=Jr<<=1,0>(Jr-=ht[Pe]))return 0;for(;0<ht[Pe];--ht[Pe])(Re=new H).g=Pe,Re.value=xt[at++],E(Ne,ct+vr,Ze,gr,Re),vr=F(vr,Pe)}for(Pe=Me+1,Ze=2;15>=Pe;++Pe,Ze<<=1){if(fr+=Jr<<=1,0>(Jr-=ht[Pe]))return 0;for(;0<ht[Pe];--ht[Pe]){if(Re=new H,(vr&qt)!=Gt){for(ct+=gr,Lt=1<<(Gt=Pe)-Me;15>Gt&&!(0>=(Lt-=ht[Gt]));)++Gt,Lt<<=1;Tt+=gr=1<<(Lt=Gt-Me),Ne[Ae+(Gt=vr&qt)].g=Lt+Me,Ne[Ae+Gt].value=ct-Ae-Gt}Re.g=Pe-Me,Re.value=xt[at++],E(Ne,ct+(vr>>Me),Ze,gr,Re),vr=F(vr,Pe)}}return fr!=2*At[15]-1?0:Tt})(C,L,Y,Q,me,ve)}function H(){this.value=this.g=0}function V(){this.value=this.g=0}function G(){this.G=o(5,H),this.H=i(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=o(Nd,V)}function q(C,L,Y,Q){e(C!=null),e(L!=null),e(2147483648>Q),C.Ca=254,C.I=0,C.b=-8,C.Ka=0,C.oa=L,C.pa=Y,C.Jd=L,C.Yc=Y+Q,C.Zc=4<=Q?Y+Q-4+1:Y,ce(C)}function B(C,L){for(var Y=0;0<L--;)Y|=pe(C,128)<<L;return Y}function z(C,L){var Y=B(C,L);return le(C)?-Y:Y}function X(C,L,Y,Q){var me,ve=0;for(e(C!=null),e(L!=null),e(4294967288>Q),C.Sb=Q,C.Ra=0,C.u=0,C.h=0,4<Q&&(Q=4),me=0;me<Q;++me)ve+=L[Y+me]<<8*me;C.Ra=ve,C.bb=Q,C.oa=L,C.pa=Y}function ee(C){for(;8<=C.u&&C.bb<C.Sb;)C.Ra>>>=8,C.Ra+=C.oa[C.pa+C.bb]<<Bl-8>>>0,++C.bb,C.u-=8;ie(C)&&(C.h=1,C.u=0)}function K(C,L){if(e(0<=L),!C.h&&L<=Fi){var Y=Z(C)&ro[L];return C.u+=L,ee(C),Y}return C.h=1,C.u=0}function W(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function J(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Z(C){return C.Ra>>>(C.u&Bl-1)>>>0}function ie(C){return e(C.bb<=C.Sb),C.h||C.bb==C.Sb&&C.u>Bl}function ue(C,L){C.u=L,C.h=ie(C)}function je(C){C.u>=zl&&(e(C.u>=zl),ee(C))}function ce(C){e(C!=null&&C.oa!=null),C.pa<C.Zc?(C.I=(C.oa[C.pa++]|C.I<<8)>>>0,C.b+=8):(e(C!=null&&C.oa!=null),C.pa<C.Yc?(C.b+=8,C.I=C.oa[C.pa++]|C.I<<8):C.Ka?C.b=0:(C.I<<=8,C.b+=8,C.Ka=1))}function le(C){return B(C,1)}function pe(C,L){var Y=C.Ca;0>C.b&&ce(C);var Q=C.b,me=Y*L>>>8,ve=(C.I>>>Q>me)+0;for(ve?(Y-=me,C.I-=me+1<<Q>>>0):Y=me+1,Q=Y,me=0;256<=Q;)me+=8,Q>>=8;return Q=7^me+Pc[Q],C.b-=Q,C.Ca=(Y<<Q)-1,ve}function $e(C,L,Y){C[L+0]=Y>>24&255,C[L+1]=Y>>16&255,C[L+2]=Y>>8&255,C[L+3]=255&Y}function de(C,L){return C[L+0]|C[L+1]<<8}function Se(C,L){return de(C,L)|C[L+2]<<16}function te(C,L){return de(C,L)|de(C,L+2)<<16}function se(C,L){var Y=1<<L;return e(C!=null),e(0<L),C.X=i(Y),C.X==null?0:(C.Mb=32-L,C.Xa=L,1)}function ut(C,L){e(C!=null),e(L!=null),e(C.Xa==L.Xa),n(L.X,0,C.X,0,1<<L.Xa)}function dt(){this.X=[],this.Xa=this.Mb=0}function De(C,L,Y,Q){e(Y!=null),e(Q!=null);var me=Y[0],ve=Q[0];return me==0&&(me=(C*ve+L/2)/L),ve==0&&(ve=(L*me+C/2)/C),0>=me||0>=ve?0:(Y[0]=me,Q[0]=ve,1)}function rt(C,L){return C+(1<<L)-1>>>L}function wt(C,L){return((4278255360&C)+(4278255360&L)>>>0&4278255360)+((16711935&C)+(16711935&L)>>>0&16711935)>>>0}function gt(C,L){R[L]=function(Y,Q,me,ve,Ne,Ae,Me){var Re;for(Re=0;Re<Ne;++Re){var Ze=R[C](Ae[Me+Re-1],me,ve+Re);Ae[Me+Re]=wt(Y[Q+Re],Ze)}}}function Rt(){this.ud=this.hd=this.jd=0}function He(C,L){return((4278124286&(C^L))>>>1)+(C&L)>>>0}function he(C){return 0<=C&&256>C?C:0>C?0:255<C?255:void 0}function Qe(C,L){return he(C+(C-L+.5>>1))}function Ge(C,L,Y){return Math.abs(L-Y)-Math.abs(C-Y)}function mt(C,L,Y,Q,me,ve,Ne){for(Q=ve[Ne-1],Y=0;Y<me;++Y)ve[Ne+Y]=Q=wt(C[L+Y],Q)}function Le(C,L,Y,Q,me){var ve;for(ve=0;ve<Y;++ve){var Ne=C[L+ve],Ae=Ne>>8&255,Me=16711935&(Me=(Me=16711935&Ne)+((Ae<<16)+Ae));Q[me+ve]=(4278255360&Ne)+Me>>>0}}function _e(C,L){L.jd=255&C,L.hd=C>>8&255,L.ud=C>>16&255}function qe(C,L,Y,Q,me,ve){var Ne;for(Ne=0;Ne<Q;++Ne){var Ae=L[Y+Ne],Me=Ae>>>8,Re=Ae,Ze=255&(Ze=(Ze=Ae>>>16)+((C.jd<<24>>24)*(Me<<24>>24)>>>5));Re=255&(Re=(Re+=(C.hd<<24>>24)*(Me<<24>>24)>>>5)+((C.ud<<24>>24)*(Ze<<24>>24)>>>5)),me[ve+Ne]=(4278255360&Ae)+(Ze<<16)+Re}}function ge(C,L,Y,Q,me){R[L]=function(ve,Ne,Ae,Me,Re,Ze,xt,Pe,at){for(Me=xt;Me<Pe;++Me)for(xt=0;xt<at;++xt)Re[Ze++]=me(Ae[Q(ve[Ne++])])},R[C]=function(ve,Ne,Ae,Me,Re,Ze,xt){var Pe=8>>ve.b,at=ve.Ea,ct=ve.K[0],Tt=ve.w;if(8>Pe)for(ve=(1<<ve.b)-1,Tt=(1<<Pe)-1;Ne<Ae;++Ne){var ht,At=0;for(ht=0;ht<at;++ht)ht&ve||(At=Q(Me[Re++])),Ze[xt++]=me(ct[At&Tt]),At>>=Pe}else R["VP8LMapColor"+Y](Me,Re,ct,Tt,Ze,xt,Ne,Ae,at)}}function Oe(C,L,Y,Q,me){for(Y=L+Y;L<Y;){var ve=C[L++];Q[me++]=ve>>16&255,Q[me++]=ve>>8&255,Q[me++]=255&ve}}function ke(C,L,Y,Q,me){for(Y=L+Y;L<Y;){var ve=C[L++];Q[me++]=ve>>16&255,Q[me++]=ve>>8&255,Q[me++]=255&ve,Q[me++]=ve>>24&255}}function Ue(C,L,Y,Q,me){for(Y=L+Y;L<Y;){var ve=(Ne=C[L++])>>16&240|Ne>>12&15,Ne=240&Ne|Ne>>28&15;Q[me++]=ve,Q[me++]=Ne}}function Xe(C,L,Y,Q,me){for(Y=L+Y;L<Y;){var ve=(Ne=C[L++])>>16&248|Ne>>13&7,Ne=Ne>>5&224|Ne>>3&31;Q[me++]=ve,Q[me++]=Ne}}function we(C,L,Y,Q,me){for(Y=L+Y;L<Y;){var ve=C[L++];Q[me++]=255&ve,Q[me++]=ve>>8&255,Q[me++]=ve>>16&255}}function ye(C,L,Y,Q,me,ve){if(ve==0)for(Y=L+Y;L<Y;)$e(Q,((ve=C[L++])[0]>>24|ve[1]>>8&65280|ve[2]<<8&16711680|ve[3]<<24)>>>0),me+=32;else n(Q,me,C,L,Y)}function Ke(C,L){R[L][0]=R[C+"0"],R[L][1]=R[C+"1"],R[L][2]=R[C+"2"],R[L][3]=R[C+"3"],R[L][4]=R[C+"4"],R[L][5]=R[C+"5"],R[L][6]=R[C+"6"],R[L][7]=R[C+"7"],R[L][8]=R[C+"8"],R[L][9]=R[C+"9"],R[L][10]=R[C+"10"],R[L][11]=R[C+"11"],R[L][12]=R[C+"12"],R[L][13]=R[C+"13"],R[L][14]=R[C+"0"],R[L][15]=R[C+"0"]}function pt(C){return C==Dm||C==p0||C==oh||C==g0}function tt(){this.eb=[],this.size=this.A=this.fb=0}function Te(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ne(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new tt,this.f.kb=new Te,this.sd=null}function Ie(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Ye(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function st(C){return alert("todo:WebPSamplerProcessPlane"),C.T}function yt(C,L){var Y=C.T,Q=L.ba.f.RGBA,me=Q.eb,ve=Q.fb+C.ka*Q.A,Ne=mi[L.ba.S],Ae=C.y,Me=C.O,Re=C.f,Ze=C.N,xt=C.ea,Pe=C.W,at=L.cc,ct=L.dc,Tt=L.Mc,ht=L.Nc,At=C.ka,Lt=C.ka+C.T,Gt=C.U,qt=Gt+1>>1;for(At==0?Ne(Ae,Me,null,null,Re,Ze,xt,Pe,Re,Ze,xt,Pe,me,ve,null,null,Gt):(Ne(L.ec,L.fc,Ae,Me,at,ct,Tt,ht,Re,Ze,xt,Pe,me,ve-Q.A,me,ve,Gt),++Y);At+2<Lt;At+=2)at=Re,ct=Ze,Tt=xt,ht=Pe,Ze+=C.Rc,Pe+=C.Rc,ve+=2*Q.A,Ne(Ae,(Me+=2*C.fa)-C.fa,Ae,Me,at,ct,Tt,ht,Re,Ze,xt,Pe,me,ve-Q.A,me,ve,Gt);return Me+=C.fa,C.j+Lt<C.o?(n(L.ec,L.fc,Ae,Me,Gt),n(L.cc,L.dc,Re,Ze,qt),n(L.Mc,L.Nc,xt,Pe,qt),Y--):1&Lt||Ne(Ae,Me,null,null,Re,Ze,xt,Pe,Re,Ze,xt,Pe,me,ve+Q.A,null,null,Gt),Y}function ze(C,L,Y){var Q=C.F,me=[C.J];if(Q!=null){var ve=C.U,Ne=L.ba.S,Ae=Ne==Em||Ne==oh;L=L.ba.f.RGBA;var Me=[0],Re=C.ka;Me[0]=C.T,C.Kb&&(Re==0?--Me[0]:(--Re,me[0]-=C.width),C.j+C.ka+C.T==C.o&&(Me[0]=C.o-C.j-Re));var Ze=L.eb;Re=L.fb+Re*L.A,C=Am(Q,me[0],C.width,ve,Me,Ze,Re+(Ae?0:3),L.A),e(Y==Me),C&&pt(Ne)&&Lu(Ze,Re,Ae,ve,Me,L.A)}return 0}function St(C){var L=C.ma,Y=L.ba.S,Q=11>Y,me=Y==ki||Y==Go||Y==Em||Y==ih||Y==12||pt(Y);if(L.memory=null,L.Ib=null,L.Jb=null,L.Nd=null,!Dc(L.Oa,C,me?11:12))return 0;if(me&&pt(Y)&&c0(),C.da)alert("todo:use_scaling");else{if(Q){if(L.Ib=st,C.Kb){if(Y=C.U+1>>1,L.memory=i(C.U+2*Y),L.memory==null)return 0;L.ec=L.memory,L.fc=0,L.cc=L.ec,L.dc=L.fc+C.U,L.Mc=L.cc,L.Nc=L.dc+Y,L.Ib=yt,c0()}}else alert("todo:EmitYUV");me&&(L.Jb=ze,Q&&Uo())}if(Q&&!Md){for(C=0;256>C;++C)pi[C]=89858*(C-128)+dh>>Zo,HS[C]=-22014*(C-128)+dh,j1[C]=-45773*(C-128),w0[C]=113618*(C-128)+dh>>Zo;for(C=$u;C<Td;++C)L=76283*(C-16)+dh>>Zo,BS[C-$u]=Xa(L,255),zS[C-$u]=Xa(L+8>>4,15);Md=1}return 1}function Ee(C){var L=C.ma,Y=C.U,Q=C.T;return e(!(1&C.ka)),0>=Y||0>=Q?0:(Y=L.Ib(C,L),L.Jb!=null&&L.Jb(C,L,Y),L.Dc+=Y,1)}function It(C){C.ma.memory=null}function Pt(C,L,Y,Q){return K(C,8)!=47?0:(L[0]=K(C,14)+1,Y[0]=K(C,14)+1,Q[0]=K(C,1),K(C,3)!=0?0:!C.h)}function Bt(C,L){if(4>C)return C+1;var Y=C-2>>1;return(2+(1&C)<<Y)+K(L,Y)+1}function ft(C,L){return 120<L?L-120:1<=(Y=((Y=Ko[L-1])>>4)*C+(8-(15&Y)))?Y:1;var Y}function Ct(C,L,Y){var Q=Z(Y),me=C[L+=255&Q].g-8;return 0<me&&(ue(Y,Y.u+8),Q=Z(Y),L+=C[L].value,L+=Q&(1<<me)-1),ue(Y,Y.u+C[L].g),C[L].value}function Mt(C,L,Y){return Y.g+=C.g,Y.value+=C.value<<L>>>0,e(8>=Y.g),C.g}function pr(C,L,Y){var Q=C.xc;return e((L=Q==0?0:C.vc[C.md*(Y>>Q)+(L>>Q)])<C.Wb),C.Ya[L]}function yn(C,L,Y,Q){var me=C.ab,ve=C.c*L,Ne=C.C;L=Ne+L;var Ae=Y,Me=Q;for(Q=C.Ta,Y=C.Ua;0<me--;){var Re=C.gc[me],Ze=Ne,xt=L,Pe=Ae,at=Me,ct=(Me=Q,Ae=Y,Re.Ea);switch(e(Ze<xt),e(xt<=Re.nc),Re.hc){case 2:ls(Pe,at,(xt-Ze)*ct,Me,Ae);break;case 0:var Tt=Ze,ht=xt,At=Me,Lt=Ae,Gt=(gr=Re).Ea;Tt==0&&(rh(Pe,at,null,null,1,At,Lt),mt(Pe,at+1,0,0,Gt-1,At,Lt+1),at+=Gt,Lt+=Gt,++Tt);for(var qt=1<<gr.b,vr=qt-1,fr=rt(Gt,gr.b),Jr=gr.K,gr=gr.w+(Tt>>gr.b)*fr;Tt<ht;){var Nn=Jr,Ta=gr,an=1;for(nh(Pe,at,At,Lt-Gt,1,At,Lt);an<Gt;){var hr=(an&~vr)+qt;hr>Gt&&(hr=Gt),(0,Lc[Nn[Ta++]>>8&15])(Pe,at+ +an,At,Lt+an-Gt,hr-an,At,Lt+an),an=hr}at+=Gt,Lt+=Gt,++Tt&vr||(gr+=fr)}xt!=Re.nc&&n(Me,Ae-ct,Me,Ae+(xt-Ze-1)*ct,ct);break;case 1:for(ct=Pe,ht=at,Gt=(Pe=Re.Ea)-(Lt=Pe&~(At=(at=1<<Re.b)-1)),Tt=rt(Pe,Re.b),qt=Re.K,Re=Re.w+(Ze>>Re.b)*Tt;Ze<xt;){for(vr=qt,fr=Re,Jr=new Rt,gr=ht+Lt,Nn=ht+Pe;ht<gr;)_e(vr[fr++],Jr),ah(Jr,ct,ht,at,Me,Ae),ht+=at,Ae+=at;ht<Nn&&(_e(vr[fr++],Jr),ah(Jr,ct,ht,Gt,Me,Ae),ht+=Gt,Ae+=Gt),++Ze&At||(Re+=Tt)}break;case 3:if(Pe==Me&&at==Ae&&0<Re.b){for(ht=Me,Pe=ct=Ae+(xt-Ze)*ct-(Lt=(xt-Ze)*rt(Re.Ea,Re.b)),at=Me,At=Ae,Tt=[],Lt=(Gt=Lt)-1;0<=Lt;--Lt)Tt[Lt]=at[At+Lt];for(Lt=Gt-1;0<=Lt;--Lt)ht[Pe+Lt]=Tt[Lt];d0(Re,Ze,xt,Me,ct,Me,Ae)}else d0(Re,Ze,xt,Pe,at,Me,Ae)}Ae=Q,Me=Y}Me!=Y&&n(Q,Y,Ae,Me,ve)}function vn(C,L){var Y=C.V,Q=C.Ba+C.c*C.C,me=L-C.C;if(e(L<=C.l.o),e(16>=me),0<me){var ve=C.l,Ne=C.Ta,Ae=C.Ua,Me=ve.width;if(yn(C,me,Y,Q),me=Ae=[Ae],e((Y=C.C)<(Q=L)),e(ve.v<ve.va),Q>ve.o&&(Q=ve.o),Y<ve.j){var Re=ve.j-Y;Y=ve.j,me[0]+=Re*Me}if(Y>=Q?Y=0:(me[0]+=4*ve.v,ve.ka=Y-ve.j,ve.U=ve.va-ve.v,ve.T=Q-Y,Y=1),Y){if(Ae=Ae[0],11>(Y=C.ca).S){var Ze=Y.f.RGBA,xt=(Q=Y.S,me=ve.U,ve=ve.T,Re=Ze.eb,Ze.A),Pe=ve;for(Ze=Ze.fb+C.Ma*Ze.A;0<Pe--;){var at=Ne,ct=Ae,Tt=me,ht=Re,At=Ze;switch(Q){case h0:sh(at,ct,Tt,ht,At);break;case ki:Rc(at,ct,Tt,ht,At);break;case Dm:Rc(at,ct,Tt,ht,At),Lu(ht,At,0,Tt,1,0);break;case m0:Du(at,ct,Tt,ht,At);break;case Go:ye(at,ct,Tt,ht,At,1);break;case p0:ye(at,ct,Tt,ht,At,1),Lu(ht,At,0,Tt,1,0);break;case Em:ye(at,ct,Tt,ht,At,0);break;case oh:ye(at,ct,Tt,ht,At,0),Lu(ht,At,1,Tt,1,0);break;case ih:Ic(at,ct,Tt,ht,At);break;case g0:Ic(at,ct,Tt,ht,At),Vo(ht,At,Tt,1,0);break;case Sd:Wl(at,ct,Tt,ht,At);break;default:e(0)}Ae+=Me,Ze+=xt}C.Ma+=ve}else alert("todo:EmitRescaledRowsYUVA");e(C.Ma<=Y.height)}}C.C=L,e(C.C<=C.i)}function or(C){var L;if(0<C.ua)return 0;for(L=0;L<C.Wb;++L){var Y=C.Ya[L].G,Q=C.Ya[L].H;if(0<Y[1][Q[1]+0].g||0<Y[2][Q[2]+0].g||0<Y[3][Q[3]+0].g)return 0}return 1}function Ur(C,L,Y,Q,me,ve){if(C.Z!=0){var Ne=C.qd,Ae=C.rd;for(e(Hc[C.Z]!=null);L<Y;++L)Hc[C.Z](Ne,Ae,Q,me,Q,me,ve),Ne=Q,Ae=me,me+=ve;C.qd=Ne,C.rd=Ae}}function Yr(C,L){var Y=C.l.ma,Q=Y.Z==0||Y.Z==1?C.l.j:C.C;if(Q=C.C<Q?Q:C.C,e(L<=C.l.o),L>Q){var me=C.l.width,ve=Y.ca,Ne=Y.tb+me*Q,Ae=C.V,Me=C.Ba+C.c*Q,Re=C.gc;e(C.ab==1),e(Re[0].hc==3),Ul(Re[0],Q,L,Ae,Me,ve,Ne),Ur(Y,Q,L,ve,Ne,me)}C.C=C.Ma=L}function jn(C,L,Y,Q,me,ve,Ne){var Ae=C.$/Q,Me=C.$%Q,Re=C.m,Ze=C.s,xt=Y+C.$,Pe=xt;me=Y+Q*me;var at=Y+Q*ve,ct=280+Ze.ua,Tt=C.Pb?Ae:16777216,ht=0<Ze.ua?Ze.Wa:null,At=Ze.wc,Lt=xt<at?pr(Ze,Me,Ae):null;e(C.C<ve),e(at<=me);var Gt=!1;e:for(;;){for(;Gt||xt<at;){var qt=0;if(Ae>=Tt){var vr=xt-Y;e((Tt=C).Pb),Tt.wd=Tt.m,Tt.xd=vr,0<Tt.s.ua&&ut(Tt.s.Wa,Tt.s.vb),Tt=Ae+kd}if(Me&At||(Lt=pr(Ze,Me,Ae)),e(Lt!=null),Lt.Qb&&(L[xt]=Lt.qb,Gt=!0),!Gt)if(je(Re),Lt.jc){qt=Re,vr=L;var fr=xt,Jr=Lt.pd[Z(qt)&Nd-1];e(Lt.jc),256>Jr.g?(ue(qt,qt.u+Jr.g),vr[fr]=Jr.value,qt=0):(ue(qt,qt.u+Jr.g-256),e(256<=Jr.value),qt=Jr.value),qt==0&&(Gt=!0)}else qt=Ct(Lt.G[0],Lt.H[0],Re);if(Re.h)break;if(Gt||256>qt){if(!Gt)if(Lt.nd)L[xt]=(Lt.qb|qt<<8)>>>0;else{if(je(Re),Gt=Ct(Lt.G[1],Lt.H[1],Re),je(Re),vr=Ct(Lt.G[2],Lt.H[2],Re),fr=Ct(Lt.G[3],Lt.H[3],Re),Re.h)break;L[xt]=(fr<<24|Gt<<16|qt<<8|vr)>>>0}if(Gt=!1,++xt,++Me>=Q&&(Me=0,++Ae,Ne!=null&&Ae<=ve&&!(Ae%16)&&Ne(C,Ae),ht!=null))for(;Pe<xt;)qt=L[Pe++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else if(280>qt){if(qt=Bt(qt-256,Re),vr=Ct(Lt.G[4],Lt.H[4],Re),je(Re),vr=ft(Q,vr=Bt(vr,Re)),Re.h)break;if(xt-Y<vr||me-xt<qt)break e;for(fr=0;fr<qt;++fr)L[xt+fr]=L[xt+fr-vr];for(xt+=qt,Me+=qt;Me>=Q;)Me-=Q,++Ae,Ne!=null&&Ae<=ve&&!(Ae%16)&&Ne(C,Ae);if(e(xt<=me),Me&At&&(Lt=pr(Ze,Me,Ae)),ht!=null)for(;Pe<xt;)qt=L[Pe++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt}else{if(!(qt<ct))break e;for(Gt=qt-280,e(ht!=null);Pe<xt;)qt=L[Pe++],ht.X[(506832829*qt&4294967295)>>>ht.Mb]=qt;qt=xt,e(!(Gt>>>(vr=ht).Xa)),L[qt]=vr.X[Gt],Gt=!0}Gt||e(Re.h==ie(Re))}if(C.Pb&&Re.h&&xt<me)e(C.m.h),C.a=5,C.m=C.wd,C.$=C.xd,0<C.s.ua&&ut(C.s.vb,C.s.Wa);else{if(Re.h)break e;Ne!=null&&Ne(C,Ae>ve?ve:Ae),C.a=0,C.$=xt-Y}return 1}return C.a=3,0}function Ve(C){e(C!=null),C.vc=null,C.yc=null,C.Ya=null;var L=C.Wa;L!=null&&(L.X=null),C.vb=null,e(C!=null)}function it(){var C=new Sr;return C==null?null:(C.a=0,C.xb=Yx,Ke("Predictor","VP8LPredictors"),Ke("Predictor","VP8LPredictors_C"),Ke("PredictorAdd","VP8LPredictorsAdd"),Ke("PredictorAdd","VP8LPredictorsAdd_C"),ls=Le,ah=qe,sh=Oe,Rc=ke,Ic=Ue,Wl=Xe,Du=we,R.VP8LMapColor32b=ql,R.VP8LMapColor8b=ui,C)}function _t(C,L,Y,Q,me){var ve=1,Ne=[C],Ae=[L],Me=Q.m,Re=Q.s,Ze=null,xt=0;e:for(;;){if(Y)for(;ve&&K(Me,1);){var Pe=Ne,at=Ae,ct=Q,Tt=1,ht=ct.m,At=ct.gc[ct.ab],Lt=K(ht,2);if(ct.Oc&1<<Lt)ve=0;else{switch(ct.Oc|=1<<Lt,At.hc=Lt,At.Ea=Pe[0],At.nc=at[0],At.K=[null],++ct.ab,e(4>=ct.ab),Lt){case 0:case 1:At.b=K(ht,3)+2,Tt=_t(rt(At.Ea,At.b),rt(At.nc,At.b),0,ct,At.K),At.K=At.K[0];break;case 3:var Gt,qt=K(ht,8)+1,vr=16<qt?0:4<qt?1:2<qt?2:3;if(Pe[0]=rt(At.Ea,vr),At.b=vr,Gt=Tt=_t(qt,1,0,ct,At.K)){var fr,Jr=qt,gr=At,Nn=1<<(8>>gr.b),Ta=i(Nn);if(Ta==null)Gt=0;else{var an=gr.K[0],hr=gr.w;for(Ta[0]=gr.K[0][0],fr=1;fr<1*Jr;++fr)Ta[fr]=wt(an[hr+fr],Ta[fr-1]);for(;fr<4*Nn;++fr)Ta[fr]=0;gr.K[0]=null,gr.K[0]=Ta,Gt=1}}Tt=Gt;break;case 2:break;default:e(0)}ve=Tt}}if(Ne=Ne[0],Ae=Ae[0],ve&&K(Me,1)&&!(ve=1<=(xt=K(Me,4))&&11>=xt)){Q.a=3;break e}var rr;if(rr=ve)t:{var za,$r,dn,Jn=Q,Ls=Ne,gi=Ae,Na=xt,bs=Y,Ci=Jn.m,ys=Jn.s,pn=[null],Fn=1,qa=0,Un=Jo[Na];r:for(;;){if(bs&&K(Ci,1)){var Rs=K(Ci,3)+2,Ua=rt(Ls,Rs),$n=rt(gi,Rs),us=Ua*$n;if(!_t(Ua,$n,0,Jn,pn))break r;for(pn=pn[0],ys.xc=Rs,za=0;za<us;++za){var Xn=pn[za]>>8&65535;pn[za]=Xn,Xn>=Fn&&(Fn=Xn+1)}}if(Ci.h)break r;for($r=0;5>$r;++$r){var vs=Iu[$r];!$r&&0<Na&&(vs+=1<<Na),qa<vs&&(qa=vs)}var ws=o(Fn*Un,H),ca=Fn,Rn=o(ca,G);if(Rn==null)var _i=null;else e(65536>=ca),_i=Rn;var Za=i(qa);if(_i==null||Za==null||ws==null){Jn.a=1;break r}var Or=ws;for(za=dn=0;za<Fn;++za){var Dr=_i[za],Hn=Dr.G,no=Dr.H,el=0,Hi=1,js=0;for($r=0;5>$r;++$r){vs=Iu[$r],Hn[$r]=Or,no[$r]=dn,!$r&&0<Na&&(vs+=1<<Na);a:{var Od,Ed=vs,N0=Jn,Sa=Za,Jx=Or,Xx=dn,S0=0,Bc=N0.m,qS=K(Bc,1);if(s(Sa,0,0,Ed),qS){var Qx=K(Bc,1)+1,Zx=K(Bc,1),k0=K(Bc,Zx==0?1:8);Sa[k0]=1,Qx==2&&(Sa[k0=K(Bc,8)]=1);var Ys=1}else{var es=i(19),Im=K(Bc,4)+4;if(19<Im){N0.a=3;var Dd=0;break a}for(Od=0;Od<Im;++Od)es[Pm[Od]]=K(Bc,3);var fh=void 0,Hu=void 0,Yl=N0,C0=es,hh=Ed,_0=Sa,A0=0,zc=Yl.m,eb=8,tb=o(128,H);n:for(;M(tb,0,7,C0,19);){if(K(zc,1)){var N1=2+2*K(zc,3);if((fh=2+K(zc,N1))>hh)break n}else fh=hh;for(Hu=0;Hu<hh&&fh--;){je(zc);var rb=tb[0+(127&Z(zc))];ue(zc,zc.u+rb.g);var Pd=rb.value;if(16>Pd)_0[Hu++]=Pd,Pd!=0&&(eb=Pd);else{var S1=Pd==16,k1=Pd-16,C1=lh[k1],nb=K(zc,Yo[k1])+C1;if(Hu+nb>hh)break n;for(var _1=S1?eb:0;0<nb--;)_0[Hu++]=_1}}A0=1;break n}A0||(Yl.a=3),Ys=A0}(Ys=Ys&&!Bc.h)&&(S0=M(Jx,Xx,8,Sa,Ed)),Ys&&S0!=0?Dd=S0:(N0.a=3,Dd=0)}if(Dd==0)break r;if(Hi&&x0[$r]==1&&(Hi=Or[dn].g==0),el+=Or[dn].g,dn+=Dd,3>=$r){var Bu,T0=Za[0];for(Bu=1;Bu<vs;++Bu)Za[Bu]>T0&&(T0=Za[Bu]);js+=T0}}if(Dr.nd=Hi,Dr.Qb=0,Hi&&(Dr.qb=(Hn[3][no[3]+0].value<<24|Hn[1][no[1]+0].value<<16|Hn[2][no[2]+0].value)>>>0,el==0&&256>Hn[0][no[0]+0].value&&(Dr.Qb=1,Dr.qb+=Hn[0][no[0]+0].value<<8)),Dr.jc=!Dr.Qb&&6>js,Dr.jc){var Fm,Kl=Dr;for(Fm=0;Fm<Nd;++Fm){var qc=Fm,Uc=Kl.pd[qc],M0=Kl.G[0][Kl.H[0]+qc];256<=M0.value?(Uc.g=M0.g+256,Uc.value=M0.value):(Uc.g=0,Uc.value=0,qc>>=Mt(M0,8,Uc),qc>>=Mt(Kl.G[1][Kl.H[1]+qc],16,Uc),qc>>=Mt(Kl.G[2][Kl.H[2]+qc],0,Uc),Mt(Kl.G[3][Kl.H[3]+qc],24,Uc))}}}ys.vc=pn,ys.Wb=Fn,ys.Ya=_i,ys.yc=ws,rr=1;break t}rr=0}if(!(ve=rr)){Q.a=3;break e}if(0<xt){if(Re.ua=1<<xt,!se(Re.Wa,xt)){Q.a=1,ve=0;break e}}else Re.ua=0;var O0=Q,zu=Ne,A1=Ae,mh=O0.s,ph=mh.xc;if(O0.c=zu,O0.i=A1,mh.md=rt(zu,ph),mh.wc=ph==0?-1:(1<<ph)-1,Y){Q.xb=Cd;break e}if((Ze=i(Ne*Ae))==null){Q.a=1,ve=0;break e}ve=(ve=jn(Q,Ze,0,Ne,Ae,Ae,null))&&!Me.h;break e}return ve?(me!=null?me[0]=Ze:(e(Ze==null),e(Y)),Q.$=0,Y||Ve(Re)):Ve(Re),ve}function xe(C,L){var Y=C.c*C.i,Q=Y+L+16*L;return e(C.c<=L),C.V=i(Q),C.V==null?(C.Ta=null,C.Ua=0,C.a=1,0):(C.Ta=C.V,C.Ua=C.Ba+Y+L,1)}function nt(C,L){var Y=C.C,Q=L-Y,me=C.V,ve=C.Ba+C.c*Y;for(e(L<=C.l.o);0<Q;){var Ne=16<Q?16:Q,Ae=C.l.ma,Me=C.l.width,Re=Me*Ne,Ze=Ae.ca,xt=Ae.tb+Me*Y,Pe=C.Ta,at=C.Ua;yn(C,Ne,me,ve),Co(Pe,at,Ze,xt,Re),Ur(Ae,Y,Y+Ne,Ze,xt,Me),Q-=Ne,me+=Ne*C.c,Y+=Ne}e(Y==L),C.C=C.Ma=L}function Nt(){this.ub=this.yd=this.td=this.Rb=0}function cr(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function rn(){this.Fb=this.Bb=this.Cb=0,this.Zb=i(4),this.Lb=i(4)}function nr(){this.Yb=(function(){var C=[];return(function L(Y,Q,me){for(var ve=me[Q],Ne=0;Ne<ve&&(Y.push(me.length>Q+1?[]:0),!(me.length<Q+1));Ne++)L(Y[Ne],Q+1,me)})(C,0,[3,11]),C})()}function zt(){this.jb=i(3),this.Wc=l([4,8],nr),this.Xc=l([4,17],nr)}function Nr(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new i(4),this.od=new i(4)}function jr(){this.ld=this.La=this.dd=this.tc=0}function cn(){this.Na=this.la=0}function ir(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Kn(){this.ad=i(384),this.Za=0,this.Ob=i(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Er(){this.uc=this.M=this.Nb=0,this.wa=Array(new jr),this.Y=0,this.ya=Array(new Kn),this.aa=0,this.l=new va}function ii(){this.y=i(16),this.f=i(8),this.ea=i(8)}function ya(){this.cb=this.a=0,this.sc="",this.m=new W,this.Od=new Nt,this.Kc=new cr,this.ed=new Nr,this.Qa=new rn,this.Ic=this.$c=this.Aa=0,this.D=new Er,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=o(8,W),this.ia=0,this.pb=o(4,ir),this.Pa=new zt,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new ii),this.Hd=0,this.rb=Array(new cn),this.sb=0,this.wa=Array(new jr),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Kn),this.L=this.aa=0,this.gd=l([4,2],jr),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function va(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function nn(){var C=new ya;return C!=null&&(C.a=0,C.sc="OK",C.cb=0,C.Xb=0,_o||(_o=Xi)),C}function Qr(C,L,Y){return C.a==0&&(C.a=L,C.sc=Y,C.cb=0),0}function Sn(C,L,Y){return 3<=Y&&C[L+0]==157&&C[L+1]==1&&C[L+2]==42}function kc(C,L){if(C==null)return 0;if(C.a=0,C.sc="OK",L==null)return Qr(C,2,"null VP8Io passed to VP8GetHeaders()");var Y=L.data,Q=L.w,me=L.ha;if(4>me)return Qr(C,7,"Truncated header.");var ve=Y[Q+0]|Y[Q+1]<<8|Y[Q+2]<<16,Ne=C.Od;if(Ne.Rb=!(1&ve),Ne.td=ve>>1&7,Ne.yd=ve>>4&1,Ne.ub=ve>>5,3<Ne.td)return Qr(C,3,"Incorrect keyframe parameters.");if(!Ne.yd)return Qr(C,4,"Frame not displayable.");Q+=3,me-=3;var Ae=C.Kc;if(Ne.Rb){if(7>me)return Qr(C,7,"cannot parse picture header");if(!Sn(Y,Q,me))return Qr(C,3,"Bad code word");Ae.c=16383&(Y[Q+4]<<8|Y[Q+3]),Ae.Td=Y[Q+4]>>6,Ae.i=16383&(Y[Q+6]<<8|Y[Q+5]),Ae.Ud=Y[Q+6]>>6,Q+=7,me-=7,C.za=Ae.c+15>>4,C.Ub=Ae.i+15>>4,L.width=Ae.c,L.height=Ae.i,L.Da=0,L.j=0,L.v=0,L.va=L.width,L.o=L.height,L.da=0,L.ib=L.width,L.hb=L.height,L.U=L.width,L.T=L.height,s((ve=C.Pa).jb,0,255,ve.jb.length),e((ve=C.Qa)!=null),ve.Cb=0,ve.Bb=0,ve.Fb=1,s(ve.Zb,0,0,ve.Zb.length),s(ve.Lb,0,0,ve.Lb)}if(Ne.ub>me)return Qr(C,7,"bad partition length");q(ve=C.m,Y,Q,Ne.ub),Q+=Ne.ub,me-=Ne.ub,Ne.Rb&&(Ae.Ld=le(ve),Ae.Kd=le(ve)),Ae=C.Qa;var Me,Re=C.Pa;if(e(ve!=null),e(Ae!=null),Ae.Cb=le(ve),Ae.Cb){if(Ae.Bb=le(ve),le(ve)){for(Ae.Fb=le(ve),Me=0;4>Me;++Me)Ae.Zb[Me]=le(ve)?z(ve,7):0;for(Me=0;4>Me;++Me)Ae.Lb[Me]=le(ve)?z(ve,6):0}if(Ae.Bb)for(Me=0;3>Me;++Me)Re.jb[Me]=le(ve)?B(ve,8):255}else Ae.Bb=0;if(ve.Ka)return Qr(C,3,"cannot parse segment header");if((Ae=C.ed).zd=le(ve),Ae.Tb=B(ve,6),Ae.wb=B(ve,3),Ae.Pc=le(ve),Ae.Pc&&le(ve)){for(Re=0;4>Re;++Re)le(ve)&&(Ae.vd[Re]=z(ve,6));for(Re=0;4>Re;++Re)le(ve)&&(Ae.od[Re]=z(ve,6))}if(C.L=Ae.Tb==0?0:Ae.zd?1:2,ve.Ka)return Qr(C,3,"cannot parse filter header");var Ze=me;if(me=Me=Q,Q=Me+Ze,Ae=Ze,C.Xb=(1<<B(C.m,2))-1,Ze<3*(Re=C.Xb))Y=7;else{for(Me+=3*Re,Ae-=3*Re,Ze=0;Ze<Re;++Ze){var xt=Y[me+0]|Y[me+1]<<8|Y[me+2]<<16;xt>Ae&&(xt=Ae),q(C.Jc[+Ze],Y,Me,xt),Me+=xt,Ae-=xt,me+=3}q(C.Jc[+Re],Y,Me,Ae),Y=Me<Q?0:5}if(Y!=0)return Qr(C,Y,"cannot parse partitions");for(Y=B(Me=C.m,7),me=le(Me)?z(Me,4):0,Q=le(Me)?z(Me,4):0,Ae=le(Me)?z(Me,4):0,Re=le(Me)?z(Me,4):0,Me=le(Me)?z(Me,4):0,Ze=C.Qa,xt=0;4>xt;++xt){if(Ze.Cb){var Pe=Ze.Zb[xt];Ze.Fb||(Pe+=Y)}else{if(0<xt){C.pb[xt]=C.pb[0];continue}Pe=Y}var at=C.pb[xt];at.Sc[0]=Xo[Xa(Pe+me,127)],at.Sc[1]=Qo[Xa(Pe+0,127)],at.Eb[0]=2*Xo[Xa(Pe+Q,127)],at.Eb[1]=101581*Qo[Xa(Pe+Ae,127)]>>16,8>at.Eb[1]&&(at.Eb[1]=8),at.Qc[0]=Xo[Xa(Pe+Re,117)],at.Qc[1]=Qo[Xa(Pe+Me,127)],at.lc=Pe+Me}if(!Ne.Rb)return Qr(C,4,"Not a key frame.");for(le(ve),Ne=C.Pa,Y=0;4>Y;++Y){for(me=0;8>me;++me)for(Q=0;3>Q;++Q)for(Ae=0;11>Ae;++Ae)Re=pe(ve,Aa[Y][me][Q][Ae])?B(ve,8):w1[Y][me][Q][Ae],Ne.Wc[Y][me].Yb[Q][Ae]=Re;for(me=0;17>me;++me)Ne.Xc[Y][me]=Ne.Wc[Y][kn[me]]}return C.kc=le(ve),C.kc&&(C.Bd=B(ve,8)),C.cb=1}function Xi(C,L,Y,Q,me,ve,Ne){var Ae=L[me].Yb[Y];for(Y=0;16>me;++me){if(!pe(C,Ae[Y+0]))return me;for(;!pe(C,Ae[Y+1]);)if(Ae=L[++me].Yb[0],Y=0,me==16)return 16;var Me=L[me+1].Yb;if(pe(C,Ae[Y+2])){var Re=C,Ze=0;if(pe(Re,(Pe=Ae)[(xt=Y)+3]))if(pe(Re,Pe[xt+6])){for(Ae=0,xt=2*(Ze=pe(Re,Pe[xt+8]))+(Pe=pe(Re,Pe[xt+9+Ze])),Ze=0,Pe=v1[xt];Pe[Ae];++Ae)Ze+=Ze+pe(Re,Pe[Ae]);Ze+=3+(8<<xt)}else pe(Re,Pe[xt+7])?(Ze=7+2*pe(Re,165),Ze+=pe(Re,145)):Ze=5+pe(Re,159);else Ze=pe(Re,Pe[xt+4])?3+pe(Re,Pe[xt+5]):2;Ae=Me[2]}else Ze=1,Ae=Me[1];Me=Ne+Gx[me],0>(Re=C).b&&ce(Re);var xt,Pe=Re.b,at=(xt=Re.Ca>>1)-(Re.I>>Pe)>>31;--Re.b,Re.Ca+=at,Re.Ca|=1,Re.I-=(xt+1&at)<<Pe,ve[Me]=((Ze^at)-at)*Q[(0<me)+0]}return 16}function vo(C){var L=C.rb[C.sb-1];L.la=0,L.Na=0,s(C.zc,0,0,C.zc.length),C.ja=0}function Qi(C,L,Y,Q,me){me=C[L+Y+32*Q]+(me>>3),C[L+Y+32*Q]=-256&me?0>me?0:255:me}function qo(C,L,Y,Q,me,ve){Qi(C,L,0,Y,Q+me),Qi(C,L,1,Y,Q+ve),Qi(C,L,2,Y,Q-ve),Qi(C,L,3,Y,Q-me)}function Ha(C){return(20091*C>>16)+C}function Vs(C,L,Y,Q){var me,ve=0,Ne=i(16);for(me=0;4>me;++me){var Ae=C[L+0]+C[L+8],Me=C[L+0]-C[L+8],Re=(35468*C[L+4]>>16)-Ha(C[L+12]),Ze=Ha(C[L+4])+(35468*C[L+12]>>16);Ne[ve+0]=Ae+Ze,Ne[ve+1]=Me+Re,Ne[ve+2]=Me-Re,Ne[ve+3]=Ae-Ze,ve+=4,L++}for(me=ve=0;4>me;++me)Ae=(C=Ne[ve+0]+4)+Ne[ve+8],Me=C-Ne[ve+8],Re=(35468*Ne[ve+4]>>16)-Ha(Ne[ve+12]),Qi(Y,Q,0,0,Ae+(Ze=Ha(Ne[ve+4])+(35468*Ne[ve+12]>>16))),Qi(Y,Q,1,0,Me+Re),Qi(Y,Q,2,0,Me-Re),Qi(Y,Q,3,0,Ae-Ze),ve++,Q+=32}function yu(C,L,Y,Q){var me=C[L+0]+4,ve=35468*C[L+4]>>16,Ne=Ha(C[L+4]),Ae=35468*C[L+1]>>16;qo(Y,Q,0,me+Ne,C=Ha(C[L+1]),Ae),qo(Y,Q,1,me+ve,C,Ae),qo(Y,Q,2,me-ve,C,Ae),qo(Y,Q,3,me-Ne,C,Ae)}function Gf(C,L,Y,Q,me){Vs(C,L,Y,Q),me&&Vs(C,L+16,Y,Q+4)}function vu(C,L,Y,Q){Fc(C,L+0,Y,Q,1),Fc(C,L+32,Y,Q+128,1)}function oi(C,L,Y,Q){var me;for(C=C[L+0]+4,me=0;4>me;++me)for(L=0;4>L;++L)Qi(Y,Q,L,me,C)}function wu(C,L,Y,Q){C[L+0]&&qn(C,L+0,Y,Q),C[L+16]&&qn(C,L+16,Y,Q+4),C[L+32]&&qn(C,L+32,Y,Q+128),C[L+48]&&qn(C,L+48,Y,Q+128+4)}function ju(C,L,Y,Q){var me,ve=i(16);for(me=0;4>me;++me){var Ne=C[L+0+me]+C[L+12+me],Ae=C[L+4+me]+C[L+8+me],Me=C[L+4+me]-C[L+8+me],Re=C[L+0+me]-C[L+12+me];ve[0+me]=Ne+Ae,ve[8+me]=Ne-Ae,ve[4+me]=Re+Me,ve[12+me]=Re-Me}for(me=0;4>me;++me)Ne=(C=ve[0+4*me]+3)+ve[3+4*me],Ae=ve[1+4*me]+ve[2+4*me],Me=ve[1+4*me]-ve[2+4*me],Re=C-ve[3+4*me],Y[Q+0]=Ne+Ae>>3,Y[Q+16]=Re+Me>>3,Y[Q+32]=Ne-Ae>>3,Y[Q+48]=Re-Me>>3,Q+=64}function Ii(C,L,Y){var Q,me=L-32,ve=Si,Ne=255-C[me-1];for(Q=0;Q<Y;++Q){var Ae,Me=ve,Re=Ne+C[L-1];for(Ae=0;Ae<Y;++Ae)C[L+Ae]=Me[Re+C[me+Ae]];L+=32}}function Nu(C,L){Ii(C,L,4)}function Yf(C,L){Ii(C,L,8)}function Kf(C,L){Ii(C,L,16)}function Su(C,L){var Y;for(Y=0;16>Y;++Y)n(C,L+32*Y,C,L-32,16)}function ku(C,L){var Y;for(Y=16;0<Y;--Y)s(C,L,C[L-1],16),L+=32}function oe(C,L,Y){var Q;for(Q=0;16>Q;++Q)s(L,Y+32*Q,C,16)}function ae(C,L){var Y,Q=16;for(Y=0;16>Y;++Y)Q+=C[L-1+32*Y]+C[L+Y-32];oe(Q>>5,C,L)}function Be(C,L){var Y,Q=8;for(Y=0;16>Y;++Y)Q+=C[L-1+32*Y];oe(Q>>4,C,L)}function Kt(C,L){var Y,Q=8;for(Y=0;16>Y;++Y)Q+=C[L+Y-32];oe(Q>>4,C,L)}function Br(C,L){oe(128,C,L)}function Zt(C,L,Y){return C+2*L+Y+2>>2}function ss(C,L){var Y,Q=L-32;for(Q=new Uint8Array([Zt(C[Q-1],C[Q+0],C[Q+1]),Zt(C[Q+0],C[Q+1],C[Q+2]),Zt(C[Q+1],C[Q+2],C[Q+3]),Zt(C[Q+2],C[Q+3],C[Q+4])]),Y=0;4>Y;++Y)n(C,L+32*Y,Q,0,Q.length)}function Zi(C,L){var Y=C[L-1],Q=C[L-1+32],me=C[L-1+64],ve=C[L-1+96];$e(C,L+0,16843009*Zt(C[L-1-32],Y,Q)),$e(C,L+32,16843009*Zt(Y,Q,me)),$e(C,L+64,16843009*Zt(Q,me,ve)),$e(C,L+96,16843009*Zt(me,ve,ve))}function wo(C,L){var Y,Q=4;for(Y=0;4>Y;++Y)Q+=C[L+Y-32]+C[L-1+32*Y];for(Q>>=3,Y=0;4>Y;++Y)s(C,L+32*Y,Q,4)}function Cc(C,L){var Y=C[L-1+0],Q=C[L-1+32],me=C[L-1+64],ve=C[L-1-32],Ne=C[L+0-32],Ae=C[L+1-32],Me=C[L+2-32],Re=C[L+3-32];C[L+0+96]=Zt(Q,me,C[L-1+96]),C[L+1+96]=C[L+0+64]=Zt(Y,Q,me),C[L+2+96]=C[L+1+64]=C[L+0+32]=Zt(ve,Y,Q),C[L+3+96]=C[L+2+64]=C[L+1+32]=C[L+0+0]=Zt(Ne,ve,Y),C[L+3+64]=C[L+2+32]=C[L+1+0]=Zt(Ae,Ne,ve),C[L+3+32]=C[L+2+0]=Zt(Me,Ae,Ne),C[L+3+0]=Zt(Re,Me,Ae)}function eo(C,L){var Y=C[L+1-32],Q=C[L+2-32],me=C[L+3-32],ve=C[L+4-32],Ne=C[L+5-32],Ae=C[L+6-32],Me=C[L+7-32];C[L+0+0]=Zt(C[L+0-32],Y,Q),C[L+1+0]=C[L+0+32]=Zt(Y,Q,me),C[L+2+0]=C[L+1+32]=C[L+0+64]=Zt(Q,me,ve),C[L+3+0]=C[L+2+32]=C[L+1+64]=C[L+0+96]=Zt(me,ve,Ne),C[L+3+32]=C[L+2+64]=C[L+1+96]=Zt(ve,Ne,Ae),C[L+3+64]=C[L+2+96]=Zt(Ne,Ae,Me),C[L+3+96]=Zt(Ae,Me,Me)}function li(C,L){var Y=C[L-1+0],Q=C[L-1+32],me=C[L-1+64],ve=C[L-1-32],Ne=C[L+0-32],Ae=C[L+1-32],Me=C[L+2-32],Re=C[L+3-32];C[L+0+0]=C[L+1+64]=ve+Ne+1>>1,C[L+1+0]=C[L+2+64]=Ne+Ae+1>>1,C[L+2+0]=C[L+3+64]=Ae+Me+1>>1,C[L+3+0]=Me+Re+1>>1,C[L+0+96]=Zt(me,Q,Y),C[L+0+64]=Zt(Q,Y,ve),C[L+0+32]=C[L+1+96]=Zt(Y,ve,Ne),C[L+1+32]=C[L+2+96]=Zt(ve,Ne,Ae),C[L+2+32]=C[L+3+96]=Zt(Ne,Ae,Me),C[L+3+32]=Zt(Ae,Me,Re)}function Sm(C,L){var Y=C[L+0-32],Q=C[L+1-32],me=C[L+2-32],ve=C[L+3-32],Ne=C[L+4-32],Ae=C[L+5-32],Me=C[L+6-32],Re=C[L+7-32];C[L+0+0]=Y+Q+1>>1,C[L+1+0]=C[L+0+64]=Q+me+1>>1,C[L+2+0]=C[L+1+64]=me+ve+1>>1,C[L+3+0]=C[L+2+64]=ve+Ne+1>>1,C[L+0+32]=Zt(Y,Q,me),C[L+1+32]=C[L+0+96]=Zt(Q,me,ve),C[L+2+32]=C[L+1+96]=Zt(me,ve,Ne),C[L+3+32]=C[L+2+96]=Zt(ve,Ne,Ae),C[L+3+64]=Zt(Ne,Ae,Me),C[L+3+96]=Zt(Ae,Me,Re)}function Cu(C,L){var Y=C[L-1+0],Q=C[L-1+32],me=C[L-1+64],ve=C[L-1+96];C[L+0+0]=Y+Q+1>>1,C[L+2+0]=C[L+0+32]=Q+me+1>>1,C[L+2+32]=C[L+0+64]=me+ve+1>>1,C[L+1+0]=Zt(Y,Q,me),C[L+3+0]=C[L+1+32]=Zt(Q,me,ve),C[L+3+32]=C[L+1+64]=Zt(me,ve,ve),C[L+3+64]=C[L+2+64]=C[L+0+96]=C[L+1+96]=C[L+2+96]=C[L+3+96]=ve}function jo(C,L){var Y=C[L-1+0],Q=C[L-1+32],me=C[L-1+64],ve=C[L-1+96],Ne=C[L-1-32],Ae=C[L+0-32],Me=C[L+1-32],Re=C[L+2-32];C[L+0+0]=C[L+2+32]=Y+Ne+1>>1,C[L+0+32]=C[L+2+64]=Q+Y+1>>1,C[L+0+64]=C[L+2+96]=me+Q+1>>1,C[L+0+96]=ve+me+1>>1,C[L+3+0]=Zt(Ae,Me,Re),C[L+2+0]=Zt(Ne,Ae,Me),C[L+1+0]=C[L+3+32]=Zt(Y,Ne,Ae),C[L+1+32]=C[L+3+64]=Zt(Q,Y,Ne),C[L+1+64]=C[L+3+96]=Zt(me,Q,Y),C[L+1+96]=Zt(ve,me,Q)}function _u(C,L){var Y;for(Y=0;8>Y;++Y)n(C,L+32*Y,C,L-32,8)}function Rl(C,L){var Y;for(Y=0;8>Y;++Y)s(C,L,C[L-1],8),L+=32}function Au(C,L,Y){var Q;for(Q=0;8>Q;++Q)s(L,Y+32*Q,C,8)}function _c(C,L){var Y,Q=8;for(Y=0;8>Y;++Y)Q+=C[L+Y-32]+C[L-1+32*Y];Au(Q>>4,C,L)}function Jf(C,L){var Y,Q=4;for(Y=0;8>Y;++Y)Q+=C[L+Y-32];Au(Q>>3,C,L)}function Xf(C,L){var Y,Q=4;for(Y=0;8>Y;++Y)Q+=C[L-1+32*Y];Au(Q>>3,C,L)}function Gs(C,L){Au(128,C,L)}function No(C,L,Y){var Q=C[L-Y],me=C[L+0],ve=3*(me-Q)+$c[1020+C[L-2*Y]-C[L+Y]],Ne=Om[112+(ve+4>>3)];C[L-Y]=Si[255+Q+Om[112+(ve+3>>3)]],C[L+0]=Si[255+me-Ne]}function Il(C,L,Y,Q){var me=C[L+0],ve=C[L+Y];return fi[255+C[L-2*Y]-C[L-Y]]>Q||fi[255+ve-me]>Q}function Ac(C,L,Y,Q){return 4*fi[255+C[L-Y]-C[L+0]]+fi[255+C[L-2*Y]-C[L+Y]]<=Q}function Qf(C,L,Y,Q,me){var ve=C[L-3*Y],Ne=C[L-2*Y],Ae=C[L-Y],Me=C[L+0],Re=C[L+Y],Ze=C[L+2*Y],xt=C[L+3*Y];return 4*fi[255+Ae-Me]+fi[255+Ne-Re]>Q?0:fi[255+C[L-4*Y]-ve]<=me&&fi[255+ve-Ne]<=me&&fi[255+Ne-Ae]<=me&&fi[255+xt-Ze]<=me&&fi[255+Ze-Re]<=me&&fi[255+Re-Me]<=me}function Tu(C,L,Y,Q){var me=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,L+Q,Y,me)&&No(C,L+Q,Y)}function Tc(C,L,Y,Q){var me=2*Q+1;for(Q=0;16>Q;++Q)Ac(C,L+Q*Y,1,me)&&No(C,L+Q*Y,1)}function yd(C,L,Y,Q){var me;for(me=3;0<me;--me)Tu(C,L+=4*Y,Y,Q)}function Mu(C,L,Y,Q){var me;for(me=3;0<me;--me)Tc(C,L+=4,Y,Q)}function Fl(C,L,Y,Q,me,ve,Ne,Ae){for(ve=2*ve+1;0<me--;){if(Qf(C,L,Y,ve,Ne))if(Il(C,L,Y,Ae))No(C,L,Y);else{var Me=C,Re=L,Ze=Y,xt=Me[Re-2*Ze],Pe=Me[Re-Ze],at=Me[Re+0],ct=Me[Re+Ze],Tt=Me[Re+2*Ze],ht=27*(Lt=$c[1020+3*(at-Pe)+$c[1020+xt-ct]])+63>>7,At=18*Lt+63>>7,Lt=9*Lt+63>>7;Me[Re-3*Ze]=Si[255+Me[Re-3*Ze]+Lt],Me[Re-2*Ze]=Si[255+xt+At],Me[Re-Ze]=Si[255+Pe+ht],Me[Re+0]=Si[255+at-ht],Me[Re+Ze]=Si[255+ct-At],Me[Re+2*Ze]=Si[255+Tt-Lt]}L+=Q}}function Mc(C,L,Y,Q,me,ve,Ne,Ae){for(ve=2*ve+1;0<me--;){if(Qf(C,L,Y,ve,Ne))if(Il(C,L,Y,Ae))No(C,L,Y);else{var Me=C,Re=L,Ze=Y,xt=Me[Re-Ze],Pe=Me[Re+0],at=Me[Re+Ze],ct=Om[112+(4+(Tt=3*(Pe-xt))>>3)],Tt=Om[112+(Tt+3>>3)],ht=ct+1>>1;Me[Re-2*Ze]=Si[255+Me[Re-2*Ze]+ht],Me[Re-Ze]=Si[255+xt+Tt],Me[Re+0]=Si[255+Pe-ct],Me[Re+Ze]=Si[255+at-ht]}L+=Q}}function i0(C,L,Y,Q,me,ve){Fl(C,L,Y,1,16,Q,me,ve)}function o0(C,L,Y,Q,me,ve){Fl(C,L,1,Y,16,Q,me,ve)}function Oc(C,L,Y,Q,me,ve){var Ne;for(Ne=3;0<Ne;--Ne)Mc(C,L+=4*Y,Y,1,16,Q,me,ve)}function l0(C,L,Y,Q,me,ve){var Ne;for(Ne=3;0<Ne;--Ne)Mc(C,L+=4,1,Y,16,Q,me,ve)}function U(C,L,Y,Q,me,ve,Ne,Ae){Fl(C,L,me,1,8,ve,Ne,Ae),Fl(Y,Q,me,1,8,ve,Ne,Ae)}function fe(C,L,Y,Q,me,ve,Ne,Ae){Fl(C,L,1,me,8,ve,Ne,Ae),Fl(Y,Q,1,me,8,ve,Ne,Ae)}function Fe(C,L,Y,Q,me,ve,Ne,Ae){Mc(C,L+4*me,me,1,8,ve,Ne,Ae),Mc(Y,Q+4*me,me,1,8,ve,Ne,Ae)}function Je(C,L,Y,Q,me,ve,Ne,Ae){Mc(C,L+4,1,me,8,ve,Ne,Ae),Mc(Y,Q+4,1,me,8,ve,Ne,Ae)}function ot(){this.ba=new ne,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Ye,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Dt(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Vt(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function br(){this.ua=0,this.Wa=new dt,this.vb=new dt,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new H}function Sr(){this.xb=this.a=0,this.l=new va,this.ca=new ne,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new J,this.Pb=0,this.wd=new J,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new br,this.ab=0,this.gc=o(4,Vt),this.Oc=0}function Wr(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new va,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function Zr(C,L,Y,Q,me,ve,Ne){for(C=C==null?0:C[L+0],L=0;L<Ne;++L)me[ve+L]=C+Y[Q+L]&255,C=me[ve+L]}function zn(C,L,Y,Q,me,ve,Ne){var Ae;if(C==null)Zr(null,null,Y,Q,me,ve,Ne);else for(Ae=0;Ae<Ne;++Ae)me[ve+Ae]=C[L+Ae]+Y[Q+Ae]&255}function Ba(C,L,Y,Q,me,ve,Ne){if(C==null)Zr(null,null,Y,Q,me,ve,Ne);else{var Ae,Me=C[L+0],Re=Me,Ze=Me;for(Ae=0;Ae<Ne;++Ae)Re=Ze+(Me=C[L+Ae])-Re,Ze=Y[Q+Ae]+(-256&Re?0>Re?0:255:Re)&255,Re=Me,me[ve+Ae]=Ze}}function is(C,L,Y,Q){var me=L.width,ve=L.o;if(e(C!=null&&L!=null),0>Y||0>=Q||Y+Q>ve)return null;if(!C.Cc){if(C.ga==null){var Ne;if(C.ga=new Wr,(Ne=C.ga==null)||(Ne=L.width*L.o,e(C.Gb.length==0),C.Gb=i(Ne),C.Uc=0,C.Gb==null?Ne=0:(C.mb=C.Gb,C.nb=C.Uc,C.rc=null,Ne=1),Ne=!Ne),!Ne){Ne=C.ga;var Ae=C.Fa,Me=C.P,Re=C.qc,Ze=C.mb,xt=C.nb,Pe=Me+1,at=Re-1,ct=Ne.l;if(e(Ae!=null&&Ze!=null&&L!=null),Hc[0]=null,Hc[1]=Zr,Hc[2]=zn,Hc[3]=Ba,Ne.ca=Ze,Ne.tb=xt,Ne.c=L.width,Ne.i=L.height,e(0<Ne.c&&0<Ne.i),1>=Re)L=0;else if(Ne.$a=3&Ae[Me+0],Ne.Z=Ae[Me+0]>>2&3,Ne.Lc=Ae[Me+0]>>4&3,Me=Ae[Me+0]>>6&3,0>Ne.$a||1<Ne.$a||4<=Ne.Z||1<Ne.Lc||Me)L=0;else if(ct.put=Ee,ct.ac=St,ct.bc=It,ct.ma=Ne,ct.width=L.width,ct.height=L.height,ct.Da=L.Da,ct.v=L.v,ct.va=L.va,ct.j=L.j,ct.o=L.o,Ne.$a)e:{e(Ne.$a==1),L=it();t:for(;;){if(L==null){L=0;break e}if(e(Ne!=null),Ne.mc=L,L.c=Ne.c,L.i=Ne.i,L.l=Ne.l,L.l.ma=Ne,L.l.width=Ne.c,L.l.height=Ne.i,L.a=0,X(L.m,Ae,Pe,at),!_t(Ne.c,Ne.i,1,L,null)||(L.ab==1&&L.gc[0].hc==3&&or(L.s)?(Ne.ic=1,Ae=L.c*L.i,L.Ta=null,L.Ua=0,L.V=i(Ae),L.Ba=0,L.V==null?(L.a=1,L=0):L=1):(Ne.ic=0,L=xe(L,Ne.c)),!L))break t;L=1;break e}Ne.mc=null,L=0}else L=at>=Ne.c*Ne.i;Ne=!L}if(Ne)return null;C.ga.Lc!=1?C.Ga=0:Q=ve-Y}e(C.ga!=null),e(Y+Q<=ve);e:{if(L=(Ae=C.ga).c,ve=Ae.l.o,Ae.$a==0){if(Pe=C.rc,at=C.Vc,ct=C.Fa,Me=C.P+1+Y*L,Re=C.mb,Ze=C.nb+Y*L,e(Me<=C.P+C.qc),Ae.Z!=0)for(e(Hc[Ae.Z]!=null),Ne=0;Ne<Q;++Ne)Hc[Ae.Z](Pe,at,ct,Me,Re,Ze,L),Pe=Re,at=Ze,Ze+=L,Me+=L;else for(Ne=0;Ne<Q;++Ne)n(Re,Ze,ct,Me,L),Pe=Re,at=Ze,Ze+=L,Me+=L;C.rc=Pe,C.Vc=at}else{if(e(Ae.mc!=null),L=Y+Q,e((Ne=Ae.mc)!=null),e(L<=Ne.i),Ne.C>=L)L=1;else if(Ae.ic||Uo(),Ae.ic){Ae=Ne.V,Pe=Ne.Ba,at=Ne.c;var Tt=Ne.i,ht=(ct=1,Me=Ne.$/at,Re=Ne.$%at,Ze=Ne.m,xt=Ne.s,Ne.$),At=at*Tt,Lt=at*L,Gt=xt.wc,qt=ht<Lt?pr(xt,Re,Me):null;e(ht<=At),e(L<=Tt),e(or(xt));t:for(;;){for(;!Ze.h&&ht<Lt;){if(Re&Gt||(qt=pr(xt,Re,Me)),e(qt!=null),je(Ze),256>(Tt=Ct(qt.G[0],qt.H[0],Ze)))Ae[Pe+ht]=Tt,++ht,++Re>=at&&(Re=0,++Me<=L&&!(Me%16)&&Yr(Ne,Me));else{if(!(280>Tt)){ct=0;break t}Tt=Bt(Tt-256,Ze);var vr,fr=Ct(qt.G[4],qt.H[4],Ze);if(je(Ze),!(ht>=(fr=ft(at,fr=Bt(fr,Ze)))&&At-ht>=Tt)){ct=0;break t}for(vr=0;vr<Tt;++vr)Ae[Pe+ht+vr]=Ae[Pe+ht+vr-fr];for(ht+=Tt,Re+=Tt;Re>=at;)Re-=at,++Me<=L&&!(Me%16)&&Yr(Ne,Me);ht<Lt&&Re&Gt&&(qt=pr(xt,Re,Me))}e(Ze.h==ie(Ze))}Yr(Ne,Me>L?L:Me);break t}!ct||Ze.h&&ht<At?(ct=0,Ne.a=Ze.h?5:3):Ne.$=ht,L=ct}else L=jn(Ne,Ne.V,Ne.Ba,Ne.c,Ne.i,L,nt);if(!L){Q=0;break e}}Y+Q>=ve&&(C.Cc=1),Q=1}if(!Q)return null;if(C.Cc&&((Q=C.ga)!=null&&(Q.mc=null),C.ga=null,0<C.Ga))return alert("todo:WebPDequantizeLevels"),null}return C.nb+Y*me}function wa(C,L,Y,Q,me,ve){for(;0<me--;){var Ne,Ae=C,Me=L+(Y?1:0),Re=C,Ze=L+(Y?0:3);for(Ne=0;Ne<Q;++Ne){var xt=Re[Ze+4*Ne];xt!=255&&(xt*=32897,Ae[Me+4*Ne+0]=Ae[Me+4*Ne+0]*xt>>23,Ae[Me+4*Ne+1]=Ae[Me+4*Ne+1]*xt>>23,Ae[Me+4*Ne+2]=Ae[Me+4*Ne+2]*xt>>23)}L+=ve}}function Ps(C,L,Y,Q,me){for(;0<Q--;){var ve;for(ve=0;ve<Y;++ve){var Ne=C[L+2*ve+0],Ae=15&(Re=C[L+2*ve+1]),Me=4369*Ae,Re=(240&Re|Re>>4)*Me>>16;C[L+2*ve+0]=(240&Ne|Ne>>4)*Me>>16&240|(15&Ne|Ne<<4)*Me>>16>>4&15,C[L+2*ve+1]=240&Re|Ae}L+=me}}function xs(C,L,Y,Q,me,ve,Ne,Ae){var Me,Re,Ze=255;for(Re=0;Re<me;++Re){for(Me=0;Me<Q;++Me){var xt=C[L+Me];ve[Ne+4*Me]=xt,Ze&=xt}L+=Y,Ne+=Ae}return Ze!=255}function ci(C,L,Y,Q,me){var ve;for(ve=0;ve<me;++ve)Y[Q+ve]=C[L+ve]>>8}function Uo(){Lu=wa,Vo=Ps,Am=xs,Co=ci}function to(C,L,Y){R[C]=function(Q,me,ve,Ne,Ae,Me,Re,Ze,xt,Pe,at,ct,Tt,ht,At,Lt,Gt){var qt,vr=Gt-1>>1,fr=Ae[Me+0]|Re[Ze+0]<<16,Jr=xt[Pe+0]|at[ct+0]<<16;e(Q!=null);var gr=3*fr+Jr+131074>>2;for(L(Q[me+0],255&gr,gr>>16,Tt,ht),ve!=null&&(gr=3*Jr+fr+131074>>2,L(ve[Ne+0],255&gr,gr>>16,At,Lt)),qt=1;qt<=vr;++qt){var Nn=Ae[Me+qt]|Re[Ze+qt]<<16,Ta=xt[Pe+qt]|at[ct+qt]<<16,an=fr+Nn+Jr+Ta+524296,hr=an+2*(Nn+Jr)>>3;gr=hr+fr>>1,fr=(an=an+2*(fr+Ta)>>3)+Nn>>1,L(Q[me+2*qt-1],255&gr,gr>>16,Tt,ht+(2*qt-1)*Y),L(Q[me+2*qt-0],255&fr,fr>>16,Tt,ht+(2*qt-0)*Y),ve!=null&&(gr=an+Jr>>1,fr=hr+Ta>>1,L(ve[Ne+2*qt-1],255&gr,gr>>16,At,Lt+(2*qt-1)*Y),L(ve[Ne+2*qt+0],255&fr,fr>>16,At,Lt+(2*qt+0)*Y)),fr=Nn,Jr=Ta}1&Gt||(gr=3*fr+Jr+131074>>2,L(Q[me+Gt-1],255&gr,gr>>16,Tt,ht+(Gt-1)*Y),ve!=null&&(gr=3*Jr+fr+131074>>2,L(ve[Ne+Gt-1],255&gr,gr>>16,At,Lt+(Gt-1)*Y)))}}function c0(){mi[h0]=Fu,mi[ki]=ch,mi[m0]=Kx,mi[Go]=y0,mi[Em]=_d,mi[ih]=Gl,mi[Sd]=Ad,mi[Dm]=ch,mi[p0]=y0,mi[oh]=_d,mi[g0]=Gl}function Zf(C){return C&-16384?0>C?0:255:C>>v0}function Ou(C,L){return Zf((19077*C>>8)+(26149*L>>8)-14234)}function $l(C,L,Y){return Zf((19077*C>>8)-(6419*L>>8)-(13320*Y>>8)+8708)}function hl(C,L){return Zf((19077*C>>8)+(33050*L>>8)-17685)}function Eu(C,L,Y,Q,me){Q[me+0]=Ou(C,Y),Q[me+1]=$l(C,L,Y),Q[me+2]=hl(C,L)}function vd(C,L,Y,Q,me){Q[me+0]=hl(C,L),Q[me+1]=$l(C,L,Y),Q[me+2]=Ou(C,Y)}function di(C,L,Y,Q,me){var ve=$l(C,L,Y);L=ve<<3&224|hl(C,L)>>3,Q[me+0]=248&Ou(C,Y)|ve>>5,Q[me+1]=L}function wd(C,L,Y,Q,me){var ve=240&hl(C,L)|15;Q[me+0]=240&Ou(C,Y)|$l(C,L,Y)>>4,Q[me+1]=ve}function jd(C,L,Y,Q,me){Q[me+0]=255,Eu(C,L,Y,Q,me+1)}function eh(C,L,Y,Q,me){vd(C,L,Y,Q,me),Q[me+3]=255}function Hl(C,L,Y,Q,me){Eu(C,L,Y,Q,me),Q[me+3]=255}function Xa(C,L){return 0>C?0:C>L?L:C}function Ec(C,L,Y){R[C]=function(Q,me,ve,Ne,Ae,Me,Re,Ze,xt){for(var Pe=Ze+(-2&xt)*Y;Ze!=Pe;)L(Q[me+0],ve[Ne+0],Ae[Me+0],Re,Ze),L(Q[me+1],ve[Ne+0],Ae[Me+0],Re,Ze+Y),me+=2,++Ne,++Me,Ze+=2*Y;1&xt&&L(Q[me+0],ve[Ne+0],Ae[Me+0],Re,Ze)}}function th(C,L,Y){return Y==0?C==0?L==0?6:5:L==0?4:0:Y}function km(C,L,Y,Q,me){switch(C>>>30){case 3:Fc(L,Y,Q,me,0);break;case 2:Ni(L,Y,Q,me);break;case 1:qn(L,Y,Q,me)}}function So(C,L){var Y,Q,me=L.M,ve=L.Nb,Ne=C.oc,Ae=C.pc+40,Me=C.oc,Re=C.pc+584,Ze=C.oc,xt=C.pc+600;for(Y=0;16>Y;++Y)Ne[Ae+32*Y-1]=129;for(Y=0;8>Y;++Y)Me[Re+32*Y-1]=129,Ze[xt+32*Y-1]=129;for(0<me?Ne[Ae-1-32]=Me[Re-1-32]=Ze[xt-1-32]=129:(s(Ne,Ae-32-1,127,21),s(Me,Re-32-1,127,9),s(Ze,xt-32-1,127,9)),Q=0;Q<C.za;++Q){var Pe=L.ya[L.aa+Q];if(0<Q){for(Y=-1;16>Y;++Y)n(Ne,Ae+32*Y-4,Ne,Ae+32*Y+12,4);for(Y=-1;8>Y;++Y)n(Me,Re+32*Y-4,Me,Re+32*Y+4,4),n(Ze,xt+32*Y-4,Ze,xt+32*Y+4,4)}var at=C.Gd,ct=C.Hd+Q,Tt=Pe.ad,ht=Pe.Hc;if(0<me&&(n(Ne,Ae-32,at[ct].y,0,16),n(Me,Re-32,at[ct].f,0,8),n(Ze,xt-32,at[ct].ea,0,8)),Pe.Za){var At=Ne,Lt=Ae-32+16;for(0<me&&(Q>=C.za-1?s(At,Lt,at[ct].y[15],4):n(At,Lt,at[ct+1].y,0,4)),Y=0;4>Y;Y++)At[Lt+128+Y]=At[Lt+256+Y]=At[Lt+384+Y]=At[Lt+0+Y];for(Y=0;16>Y;++Y,ht<<=2)At=Ne,Lt=Ae+ds[Y],Qa[Pe.Ob[Y]](At,Lt),km(ht,Tt,16*+Y,At,Lt)}else if(At=th(Q,me,Pe.Ob[0]),$i[At](Ne,Ae),ht!=0)for(Y=0;16>Y;++Y,ht<<=2)km(ht,Tt,16*+Y,Ne,Ae+ds[Y]);for(Y=Pe.Gc,At=th(Q,me,Pe.Dd),xl[At](Me,Re),xl[At](Ze,xt),ht=Tt,At=Me,Lt=Re,255&(Pe=0|Y)&&(170&Pe?Wo(ht,256,At,Lt):Ln(ht,256,At,Lt)),Pe=Ze,ht=xt,255&(Y>>=8)&&(170&Y?Wo(Tt,320,Pe,ht):Ln(Tt,320,Pe,ht)),me<C.Ub-1&&(n(at[ct].y,0,Ne,Ae+480,16),n(at[ct].f,0,Me,Re+224,8),n(at[ct].ea,0,Ze,xt+224,8)),Y=8*ve*C.B,at=C.sa,ct=C.ta+16*Q+16*ve*C.R,Tt=C.qa,Pe=C.ra+8*Q+Y,ht=C.Ha,At=C.Ia+8*Q+Y,Y=0;16>Y;++Y)n(at,ct+Y*C.R,Ne,Ae+32*Y,16);for(Y=0;8>Y;++Y)n(Tt,Pe+Y*C.B,Me,Re+32*Y,8),n(ht,At+Y*C.B,Ze,xt+32*Y,8)}}function ml(C,L,Y,Q,me,ve,Ne,Ae,Me){var Re=[0],Ze=[0],xt=0,Pe=Me!=null?Me.kd:0,at=Me??new Dt;if(C==null||12>Y)return 7;at.data=C,at.w=L,at.ha=Y,L=[L],Y=[Y],at.gb=[at.gb];e:{var ct=L,Tt=Y,ht=at.gb;if(e(C!=null),e(Tt!=null),e(ht!=null),ht[0]=0,12<=Tt[0]&&!r(C,ct[0],"RIFF")){if(r(C,ct[0]+8,"WEBP")){ht=3;break e}var At=te(C,ct[0]+4);if(12>At||4294967286<At){ht=3;break e}if(Pe&&At>Tt[0]-8){ht=7;break e}ht[0]=At,ct[0]+=12,Tt[0]-=12}ht=0}if(ht!=0)return ht;for(At=0<at.gb[0],Y=Y[0];;){e:{var Lt=C;Tt=L,ht=Y;var Gt=Re,qt=Ze,vr=ct=[0];if((gr=xt=[xt])[0]=0,8>ht[0])ht=7;else{if(!r(Lt,Tt[0],"VP8X")){if(te(Lt,Tt[0]+4)!=10){ht=3;break e}if(18>ht[0]){ht=7;break e}var fr=te(Lt,Tt[0]+8),Jr=1+Se(Lt,Tt[0]+12);if(2147483648<=Jr*(Lt=1+Se(Lt,Tt[0]+15))){ht=3;break e}vr!=null&&(vr[0]=fr),Gt!=null&&(Gt[0]=Jr),qt!=null&&(qt[0]=Lt),Tt[0]+=18,ht[0]-=18,gr[0]=1}ht=0}}if(xt=xt[0],ct=ct[0],ht!=0)return ht;if(Tt=!!(2&ct),!At&&xt)return 3;if(ve!=null&&(ve[0]=!!(16&ct)),Ne!=null&&(Ne[0]=Tt),Ae!=null&&(Ae[0]=0),Ne=Re[0],ct=Ze[0],xt&&Tt&&Me==null){ht=0;break}if(4>Y){ht=7;break}if(At&&xt||!At&&!xt&&!r(C,L[0],"ALPH")){Y=[Y],at.na=[at.na],at.P=[at.P],at.Sa=[at.Sa];e:{fr=C,ht=L,At=Y;var gr=at.gb;Gt=at.na,qt=at.P,vr=at.Sa,Jr=22,e(fr!=null),e(At!=null),Lt=ht[0];var Nn=At[0];for(e(Gt!=null),e(vr!=null),Gt[0]=null,qt[0]=null,vr[0]=0;;){if(ht[0]=Lt,At[0]=Nn,8>Nn){ht=7;break e}var Ta=te(fr,Lt+4);if(4294967286<Ta){ht=3;break e}var an=8+Ta+1&-2;if(Jr+=an,0<gr&&Jr>gr){ht=3;break e}if(!r(fr,Lt,"VP8 ")||!r(fr,Lt,"VP8L")){ht=0;break e}if(Nn[0]<an){ht=7;break e}r(fr,Lt,"ALPH")||(Gt[0]=fr,qt[0]=Lt+8,vr[0]=Ta),Lt+=an,Nn-=an}}if(Y=Y[0],at.na=at.na[0],at.P=at.P[0],at.Sa=at.Sa[0],ht!=0)break}Y=[Y],at.Ja=[at.Ja],at.xa=[at.xa];e:if(gr=C,ht=L,At=Y,Gt=at.gb[0],qt=at.Ja,vr=at.xa,fr=ht[0],Lt=!r(gr,fr,"VP8 "),Jr=!r(gr,fr,"VP8L"),e(gr!=null),e(At!=null),e(qt!=null),e(vr!=null),8>At[0])ht=7;else{if(Lt||Jr){if(gr=te(gr,fr+4),12<=Gt&&gr>Gt-12){ht=3;break e}if(Pe&&gr>At[0]-8){ht=7;break e}qt[0]=gr,ht[0]+=8,At[0]-=8,vr[0]=Jr}else vr[0]=5<=At[0]&&gr[fr+0]==47&&!(gr[fr+4]>>5),qt[0]=At[0];ht=0}if(Y=Y[0],at.Ja=at.Ja[0],at.xa=at.xa[0],L=L[0],ht!=0)break;if(4294967286<at.Ja)return 3;if(Ae==null||Tt||(Ae[0]=at.xa?2:1),Ne=[Ne],ct=[ct],at.xa){if(5>Y){ht=7;break}Ae=Ne,Pe=ct,Tt=ve,C==null||5>Y?C=0:5<=Y&&C[L+0]==47&&!(C[L+4]>>5)?(At=[0],gr=[0],Gt=[0],X(qt=new J,C,L,Y),Pt(qt,At,gr,Gt)?(Ae!=null&&(Ae[0]=At[0]),Pe!=null&&(Pe[0]=gr[0]),Tt!=null&&(Tt[0]=Gt[0]),C=1):C=0):C=0}else{if(10>Y){ht=7;break}Ae=ct,C==null||10>Y||!Sn(C,L+3,Y-3)?C=0:(Pe=C[L+0]|C[L+1]<<8|C[L+2]<<16,Tt=16383&(C[L+7]<<8|C[L+6]),C=16383&(C[L+9]<<8|C[L+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=at.Ja||!Tt||!C?C=0:(Ne&&(Ne[0]=Tt),Ae&&(Ae[0]=C),C=1))}if(!C||(Ne=Ne[0],ct=ct[0],xt&&(Re[0]!=Ne||Ze[0]!=ct)))return 3;Me!=null&&(Me[0]=at,Me.offset=L-Me.w,e(4294967286>L-Me.w),e(Me.offset==Me.ha-Y));break}return ht==0||ht==7&&xt&&Me==null?(ve!=null&&(ve[0]|=at.na!=null&&0<at.na.length),Q!=null&&(Q[0]=Ne),me!=null&&(me[0]=ct),0):ht}function Dc(C,L,Y){var Q=L.width,me=L.height,ve=0,Ne=0,Ae=Q,Me=me;if(L.Da=C!=null&&0<C.Da,L.Da&&(Ae=C.cd,Me=C.bd,ve=C.v,Ne=C.j,11>Y||(ve&=-2,Ne&=-2),0>ve||0>Ne||0>=Ae||0>=Me||ve+Ae>Q||Ne+Me>me))return 0;if(L.v=ve,L.j=Ne,L.va=ve+Ae,L.o=Ne+Me,L.U=Ae,L.T=Me,L.da=C!=null&&0<C.da,L.da){if(!De(Ae,Me,Y=[C.ib],ve=[C.hb]))return 0;L.ib=Y[0],L.hb=ve[0]}return L.ob=C!=null&&C.ob,L.Kb=C==null||!C.Sd,L.da&&(L.ob=L.ib<3*Q/4&&L.hb<3*me/4,L.Kb=0),1}function Cm(C){if(C==null)return 2;if(11>C.S){var L=C.f.RGBA;L.fb+=(C.height-1)*L.A,L.A=-L.A}else L=C.f.kb,C=C.height,L.O+=(C-1)*L.fa,L.fa=-L.fa,L.N+=(C-1>>1)*L.Ab,L.Ab=-L.Ab,L.W+=(C-1>>1)*L.Db,L.Db=-L.Db,L.F!=null&&(L.J+=(C-1)*L.lb,L.lb=-L.lb);return 0}function pl(C,L,Y,Q){if(Q==null||0>=C||0>=L)return 2;if(Y!=null){if(Y.Da){var me=Y.cd,ve=Y.bd,Ne=-2&Y.v,Ae=-2&Y.j;if(0>Ne||0>Ae||0>=me||0>=ve||Ne+me>C||Ae+ve>L)return 2;C=me,L=ve}if(Y.da){if(!De(C,L,me=[Y.ib],ve=[Y.hb]))return 2;C=me[0],L=ve[0]}}Q.width=C,Q.height=L;e:{var Me=Q.width,Re=Q.height;if(C=Q.S,0>=Me||0>=Re||!(C>=h0&&13>C))C=2;else{if(0>=Q.Rd&&Q.sd==null){Ne=ve=me=L=0;var Ze=(Ae=Me*j0[C])*Re;if(11>C||(ve=(Re+1)/2*(L=(Me+1)/2),C==12&&(Ne=(me=Me)*Re)),(Re=i(Ze+2*ve+Ne))==null){C=1;break e}Q.sd=Re,11>C?((Me=Q.f.RGBA).eb=Re,Me.fb=0,Me.A=Ae,Me.size=Ze):((Me=Q.f.kb).y=Re,Me.O=0,Me.fa=Ae,Me.Fd=Ze,Me.f=Re,Me.N=0+Ze,Me.Ab=L,Me.Cd=ve,Me.ea=Re,Me.W=0+Ze+ve,Me.Db=L,Me.Ed=ve,C==12&&(Me.F=Re,Me.J=0+Ze+2*ve),Me.Tc=Ne,Me.lb=me)}if(L=1,me=Q.S,ve=Q.width,Ne=Q.height,me>=h0&&13>me)if(11>me)C=Q.f.RGBA,L&=(Ae=Math.abs(C.A))*(Ne-1)+ve<=C.size,L&=Ae>=ve*j0[me],L&=C.eb!=null;else{C=Q.f.kb,Ae=(ve+1)/2,Ze=(Ne+1)/2,Me=Math.abs(C.fa),Re=Math.abs(C.Ab);var xt=Math.abs(C.Db),Pe=Math.abs(C.lb),at=Pe*(Ne-1)+ve;L&=Me*(Ne-1)+ve<=C.Fd,L&=Re*(Ze-1)+Ae<=C.Cd,L=(L&=xt*(Ze-1)+Ae<=C.Ed)&Me>=ve&Re>=Ae&xt>=Ae,L&=C.y!=null,L&=C.f!=null,L&=C.ea!=null,me==12&&(L&=Pe>=ve,L&=at<=C.Tc,L&=C.F!=null)}else L=0;C=L?0:2}}return C!=0||Y!=null&&Y.fd&&(C=Cm(Q)),C}var Nd=64,ro=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Fi=24,Bl=32,zl=8,Pc=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];gt("Predictor0","PredictorAdd0"),R.Predictor0=function(){return 4278190080},R.Predictor1=function(C){return C},R.Predictor2=function(C,L,Y){return L[Y+0]},R.Predictor3=function(C,L,Y){return L[Y+1]},R.Predictor4=function(C,L,Y){return L[Y-1]},R.Predictor5=function(C,L,Y){return He(He(C,L[Y+1]),L[Y+0])},R.Predictor6=function(C,L,Y){return He(C,L[Y-1])},R.Predictor7=function(C,L,Y){return He(C,L[Y+0])},R.Predictor8=function(C,L,Y){return He(L[Y-1],L[Y+0])},R.Predictor9=function(C,L,Y){return He(L[Y+0],L[Y+1])},R.Predictor10=function(C,L,Y){return He(He(C,L[Y-1]),He(L[Y+0],L[Y+1]))},R.Predictor11=function(C,L,Y){var Q=L[Y+0];return 0>=Ge(Q>>24&255,C>>24&255,(L=L[Y-1])>>24&255)+Ge(Q>>16&255,C>>16&255,L>>16&255)+Ge(Q>>8&255,C>>8&255,L>>8&255)+Ge(255&Q,255&C,255&L)?Q:C},R.Predictor12=function(C,L,Y){var Q=L[Y+0];return(he((C>>24&255)+(Q>>24&255)-((L=L[Y-1])>>24&255))<<24|he((C>>16&255)+(Q>>16&255)-(L>>16&255))<<16|he((C>>8&255)+(Q>>8&255)-(L>>8&255))<<8|he((255&C)+(255&Q)-(255&L)))>>>0},R.Predictor13=function(C,L,Y){var Q=L[Y-1];return(Qe((C=He(C,L[Y+0]))>>24&255,Q>>24&255)<<24|Qe(C>>16&255,Q>>16&255)<<16|Qe(C>>8&255,Q>>8&255)<<8|Qe(255&C,255&Q))>>>0};var rh=R.PredictorAdd0;R.PredictorAdd1=mt,gt("Predictor2","PredictorAdd2"),gt("Predictor3","PredictorAdd3"),gt("Predictor4","PredictorAdd4"),gt("Predictor5","PredictorAdd5"),gt("Predictor6","PredictorAdd6"),gt("Predictor7","PredictorAdd7"),gt("Predictor8","PredictorAdd8"),gt("Predictor9","PredictorAdd9"),gt("Predictor10","PredictorAdd10"),gt("Predictor11","PredictorAdd11"),gt("Predictor12","PredictorAdd12"),gt("Predictor13","PredictorAdd13");var nh=R.PredictorAdd2;ge("ColorIndexInverseTransform","MapARGB","32b",function(C){return C>>8&255},function(C){return C}),ge("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(C){return C},function(C){return C>>8&255});var ls,d0=R.ColorIndexInverseTransform,ql=R.MapARGB,Ul=R.VP8LColorIndexInverseTransformAlpha,ui=R.MapAlpha,Lc=R.VP8LPredictorsAdd=[];Lc.length=16,(R.VP8LPredictors=[]).length=16,(R.VP8LPredictorsAdd_C=[]).length=16,(R.VP8LPredictors_C=[]).length=16;var ah,sh,Rc,Ic,Wl,Du,ko,Fc,Ni,Wo,qn,Ln,ja,cs,Vl,gl,Pu,_m,Ux,x1,b1,y1,Wx,Vx,Lu,Vo,Am,Co,Ru=i(511),u0=i(2041),Tm=i(225),Mm=i(767),f0=0,$c=u0,Om=Tm,Si=Mm,fi=Ru,h0=0,ki=1,m0=2,Go=3,Em=4,ih=5,Sd=6,Dm=7,p0=8,oh=9,g0=10,Yo=[2,3,7],lh=[3,3,11],Iu=[280,256,256,256,40],x0=[0,1,1,1,0],Pm=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ko=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Jo=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],kd=8,Xo=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Qo=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],_o=null,v1=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gx=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],b0=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],w1=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],hi=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Aa=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],kn=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],$i=[],Qa=[],xl=[],Cd=1,Yx=2,Hc=[],mi=[];to("UpsampleRgbLinePair",Eu,3),to("UpsampleBgrLinePair",vd,3),to("UpsampleRgbaLinePair",Hl,4),to("UpsampleBgraLinePair",eh,4),to("UpsampleArgbLinePair",jd,4),to("UpsampleRgba4444LinePair",wd,2),to("UpsampleRgb565LinePair",di,2);var Fu=R.UpsampleRgbLinePair,Kx=R.UpsampleBgrLinePair,ch=R.UpsampleRgbaLinePair,y0=R.UpsampleBgraLinePair,_d=R.UpsampleArgbLinePair,Gl=R.UpsampleRgba4444LinePair,Ad=R.UpsampleRgb565LinePair,Zo=16,dh=1<<Zo-1,$u=-227,Td=482,v0=6,Md=0,pi=i(256),w0=i(256),j1=i(256),HS=i(256),BS=i(Td-$u),zS=i(Td-$u);Ec("YuvToRgbRow",Eu,3),Ec("YuvToBgrRow",vd,3),Ec("YuvToRgbaRow",Hl,4),Ec("YuvToBgraRow",eh,4),Ec("YuvToArgbRow",jd,4),Ec("YuvToRgba4444Row",wd,2),Ec("YuvToRgb565Row",di,2);var ds=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],uh=[0,2,8],Lm=[8,7,6,4,4,2,2,2,1,1,1,1],Rm=1;this.WebPDecodeRGBA=function(C,L,Y,Q,me){var ve=ki,Ne=new ot,Ae=new ne;Ne.ba=Ae,Ae.S=ve,Ae.width=[Ae.width],Ae.height=[Ae.height];var Me=Ae.width,Re=Ae.height,Ze=new Ie;if(Ze==null||C==null)var xt=2;else e(Ze!=null),xt=ml(C,L,Y,Ze.width,Ze.height,Ze.Pd,Ze.Qd,Ze.format,null);if(xt!=0?Me=0:(Me!=null&&(Me[0]=Ze.width[0]),Re!=null&&(Re[0]=Ze.height[0]),Me=1),Me){Ae.width=Ae.width[0],Ae.height=Ae.height[0],Q!=null&&(Q[0]=Ae.width),me!=null&&(me[0]=Ae.height);e:{if(Q=new va,(me=new Dt).data=C,me.w=L,me.ha=Y,me.kd=1,L=[0],e(me!=null),((C=ml(me.data,me.w,me.ha,null,null,null,L,null,me))==0||C==7)&&L[0]&&(C=4),(L=C)==0){if(e(Ne!=null),Q.data=me.data,Q.w=me.w+me.offset,Q.ha=me.ha-me.offset,Q.put=Ee,Q.ac=St,Q.bc=It,Q.ma=Ne,me.xa){if((C=it())==null){Ne=1;break e}if((function(Pe,at){var ct=[0],Tt=[0],ht=[0];t:for(;;){if(Pe==null)return 0;if(at==null)return Pe.a=2,0;if(Pe.l=at,Pe.a=0,X(Pe.m,at.data,at.w,at.ha),!Pt(Pe.m,ct,Tt,ht)){Pe.a=3;break t}if(Pe.xb=Yx,at.width=ct[0],at.height=Tt[0],!_t(ct[0],Tt[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0})(C,Q)){if(Q=(L=pl(Q.width,Q.height,Ne.Oa,Ne.ba))==0){t:{Q=C;r:for(;;){if(Q==null){Q=0;break t}if(e(Q.s.yc!=null),e(Q.s.Ya!=null),e(0<Q.s.Wb),e((Y=Q.l)!=null),e((me=Y.ma)!=null),Q.xb!=0){if(Q.ca=me.ba,Q.tb=me.tb,e(Q.ca!=null),!Dc(me.Oa,Y,Go)){Q.a=2;break r}if(!xe(Q,Y.width)||Y.da)break r;if((Y.da||pt(Q.ca.S))&&Uo(),11>Q.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),Q.ca.f.kb.F!=null&&Uo()),Q.Pb&&0<Q.s.ua&&Q.s.vb.X==null&&!se(Q.s.vb,Q.s.Wa.Xa)){Q.a=1;break r}Q.xb=0}if(!jn(Q,Q.V,Q.Ba,Q.c,Q.i,Y.o,vn))break r;me.Dc=Q.Ma,Q=1;break t}e(Q.a!=0),Q=0}Q=!Q}Q&&(L=C.a)}else L=C.a}else{if((C=new nn)==null){Ne=1;break e}if(C.Fa=me.na,C.P=me.P,C.qc=me.Sa,kc(C,Q)){if((L=pl(Q.width,Q.height,Ne.Oa,Ne.ba))==0){if(C.Aa=0,Y=Ne.Oa,e((me=C)!=null),Y!=null){if(0<(Me=0>(Me=Y.Md)?0:100<Me?255:255*Me/100)){for(Re=Ze=0;4>Re;++Re)12>(xt=me.pb[Re]).lc&&(xt.ia=Me*Lm[0>xt.lc?0:xt.lc]>>3),Ze|=xt.ia;Ze&&(alert("todo:VP8InitRandom"),me.ia=1)}me.Ga=Y.Id,100<me.Ga?me.Ga=100:0>me.Ga&&(me.Ga=0)}(function(Pe,at){if(Pe==null)return 0;if(at==null)return Qr(Pe,2,"NULL VP8Io parameter in VP8Decode().");if(!Pe.cb&&!kc(Pe,at))return 0;if(e(Pe.cb),at.ac==null||at.ac(at)){at.ob&&(Pe.L=0);var ct=uh[Pe.L];if(Pe.L==2?(Pe.yb=0,Pe.zb=0):(Pe.yb=at.v-ct>>4,Pe.zb=at.j-ct>>4,0>Pe.yb&&(Pe.yb=0),0>Pe.zb&&(Pe.zb=0)),Pe.Va=at.o+15+ct>>4,Pe.Hb=at.va+15+ct>>4,Pe.Hb>Pe.za&&(Pe.Hb=Pe.za),Pe.Va>Pe.Ub&&(Pe.Va=Pe.Ub),0<Pe.L){var Tt=Pe.ed;for(ct=0;4>ct;++ct){var ht;if(Pe.Qa.Cb){var At=Pe.Qa.Lb[ct];Pe.Qa.Fb||(At+=Tt.Tb)}else At=Tt.Tb;for(ht=0;1>=ht;++ht){var Lt=Pe.gd[ct][ht],Gt=At;if(Tt.Pc&&(Gt+=Tt.vd[0],ht&&(Gt+=Tt.od[0])),0<(Gt=0>Gt?0:63<Gt?63:Gt)){var qt=Gt;0<Tt.wb&&(qt=4<Tt.wb?qt>>2:qt>>1)>9-Tt.wb&&(qt=9-Tt.wb),1>qt&&(qt=1),Lt.dd=qt,Lt.tc=2*Gt+qt,Lt.ld=40<=Gt?2:15<=Gt?1:0}else Lt.tc=0;Lt.La=ht}}}ct=0}else Qr(Pe,6,"Frame setup failed"),ct=Pe.a;if(ct=ct==0){if(ct){Pe.$c=0,0<Pe.Aa||(Pe.Ic=Rm);t:{ct=Pe.Ic,Tt=4*(qt=Pe.za);var vr=32*qt,fr=qt+1,Jr=0<Pe.L?qt*(0<Pe.Aa?2:1):0,gr=(Pe.Aa==2?2:1)*qt;if((Lt=Tt+832+(ht=3*(16*ct+uh[Pe.L])/2*vr)+(At=Pe.Fa!=null&&0<Pe.Fa.length?Pe.Kc.c*Pe.Kc.i:0))!=Lt)ct=0;else{if(Lt>Pe.Vb){if(Pe.Vb=0,Pe.Ec=i(Lt),Pe.Fc=0,Pe.Ec==null){ct=Qr(Pe,1,"no memory during frame initialization.");break t}Pe.Vb=Lt}Lt=Pe.Ec,Gt=Pe.Fc,Pe.Ac=Lt,Pe.Bc=Gt,Gt+=Tt,Pe.Gd=o(vr,ii),Pe.Hd=0,Pe.rb=o(fr+1,cn),Pe.sb=1,Pe.wa=Jr?o(Jr,jr):null,Pe.Y=0,Pe.D.Nb=0,Pe.D.wa=Pe.wa,Pe.D.Y=Pe.Y,0<Pe.Aa&&(Pe.D.Y+=qt),e(!0),Pe.oc=Lt,Pe.pc=Gt,Gt+=832,Pe.ya=o(gr,Kn),Pe.aa=0,Pe.D.ya=Pe.ya,Pe.D.aa=Pe.aa,Pe.Aa==2&&(Pe.D.aa+=qt),Pe.R=16*qt,Pe.B=8*qt,qt=(vr=uh[Pe.L])*Pe.R,vr=vr/2*Pe.B,Pe.sa=Lt,Pe.ta=Gt+qt,Pe.qa=Pe.sa,Pe.ra=Pe.ta+16*ct*Pe.R+vr,Pe.Ha=Pe.qa,Pe.Ia=Pe.ra+8*ct*Pe.B+vr,Pe.$c=0,Gt+=ht,Pe.mb=At?Lt:null,Pe.nb=At?Gt:null,e(Gt+At<=Pe.Fc+Pe.Vb),vo(Pe),s(Pe.Ac,Pe.Bc,0,Tt),ct=1}}if(ct){if(at.ka=0,at.y=Pe.sa,at.O=Pe.ta,at.f=Pe.qa,at.N=Pe.ra,at.ea=Pe.Ha,at.Vd=Pe.Ia,at.fa=Pe.R,at.Rc=Pe.B,at.F=null,at.J=0,!f0){for(ct=-255;255>=ct;++ct)Ru[255+ct]=0>ct?-ct:ct;for(ct=-1020;1020>=ct;++ct)u0[1020+ct]=-128>ct?-128:127<ct?127:ct;for(ct=-112;112>=ct;++ct)Tm[112+ct]=-16>ct?-16:15<ct?15:ct;for(ct=-255;510>=ct;++ct)Mm[255+ct]=0>ct?0:255<ct?255:ct;f0=1}ko=ju,Fc=Gf,Wo=vu,qn=oi,Ln=wu,Ni=yu,ja=i0,cs=o0,Vl=U,gl=fe,Pu=Oc,_m=l0,Ux=Fe,x1=Je,b1=Tu,y1=Tc,Wx=yd,Vx=Mu,Qa[0]=wo,Qa[1]=Nu,Qa[2]=ss,Qa[3]=Zi,Qa[4]=Cc,Qa[5]=li,Qa[6]=eo,Qa[7]=Sm,Qa[8]=jo,Qa[9]=Cu,$i[0]=ae,$i[1]=Kf,$i[2]=Su,$i[3]=ku,$i[4]=Be,$i[5]=Kt,$i[6]=Br,xl[0]=_c,xl[1]=Yf,xl[2]=_u,xl[3]=Rl,xl[4]=Xf,xl[5]=Jf,xl[6]=Gs,ct=1}else ct=0}ct&&(ct=(function(Nn,Ta){for(Nn.M=0;Nn.M<Nn.Va;++Nn.M){var an,hr=Nn.Jc[Nn.M&Nn.Xb],rr=Nn.m,za=Nn;for(an=0;an<za.za;++an){var $r=rr,dn=za,Jn=dn.Ac,Ls=dn.Bc+4*an,gi=dn.zc,Na=dn.ya[dn.aa+an];if(dn.Qa.Bb?Na.$b=pe($r,dn.Pa.jb[0])?2+pe($r,dn.Pa.jb[2]):pe($r,dn.Pa.jb[1]):Na.$b=0,dn.kc&&(Na.Ad=pe($r,dn.Bd)),Na.Za=!pe($r,145)+0,Na.Za){var bs=Na.Ob,Ci=0;for(dn=0;4>dn;++dn){var ys,pn=gi[0+dn];for(ys=0;4>ys;++ys){pn=hi[Jn[Ls+ys]][pn];for(var Fn=b0[pe($r,pn[0])];0<Fn;)Fn=b0[2*Fn+pe($r,pn[Fn])];pn=-Fn,Jn[Ls+ys]=pn}n(bs,Ci,Jn,Ls,4),Ci+=4,gi[0+dn]=pn}}else pn=pe($r,156)?pe($r,128)?1:3:pe($r,163)?2:0,Na.Ob[0]=pn,s(Jn,Ls,pn,4),s(gi,0,pn,4);Na.Dd=pe($r,142)?pe($r,114)?pe($r,183)?1:3:2:0}if(za.m.Ka)return Qr(Nn,7,"Premature end-of-partition0 encountered.");for(;Nn.ja<Nn.za;++Nn.ja){if(za=hr,$r=(rr=Nn).rb[rr.sb-1],Jn=rr.rb[rr.sb+rr.ja],an=rr.ya[rr.aa+rr.ja],Ls=rr.kc?an.Ad:0)$r.la=Jn.la=0,an.Za||($r.Na=Jn.Na=0),an.Hc=0,an.Gc=0,an.ia=0;else{var qa,Un;if($r=Jn,Jn=za,Ls=rr.Pa.Xc,gi=rr.ya[rr.aa+rr.ja],Na=rr.pb[gi.$b],dn=gi.ad,bs=0,Ci=rr.rb[rr.sb-1],pn=ys=0,s(dn,bs,0,384),gi.Za)var Rs=0,Ua=Ls[3];else{Fn=i(16);var $n=$r.Na+Ci.Na;if($n=_o(Jn,Ls[1],$n,Na.Eb,0,Fn,0),$r.Na=Ci.Na=(0<$n)+0,1<$n)ko(Fn,0,dn,bs);else{var us=Fn[0]+3>>3;for(Fn=0;256>Fn;Fn+=16)dn[bs+Fn]=us}Rs=1,Ua=Ls[0]}var Xn=15&$r.la,vs=15&Ci.la;for(Fn=0;4>Fn;++Fn){var ws=1&vs;for(us=Un=0;4>us;++us)Xn=Xn>>1|(ws=($n=_o(Jn,Ua,$n=ws+(1&Xn),Na.Sc,Rs,dn,bs))>Rs)<<7,Un=Un<<2|(3<$n?3:1<$n?2:dn[bs+0]!=0),bs+=16;Xn>>=4,vs=vs>>1|ws<<7,ys=(ys<<8|Un)>>>0}for(Ua=Xn,Rs=vs>>4,qa=0;4>qa;qa+=2){for(Un=0,Xn=$r.la>>4+qa,vs=Ci.la>>4+qa,Fn=0;2>Fn;++Fn){for(ws=1&vs,us=0;2>us;++us)$n=ws+(1&Xn),Xn=Xn>>1|(ws=0<($n=_o(Jn,Ls[2],$n,Na.Qc,0,dn,bs)))<<3,Un=Un<<2|(3<$n?3:1<$n?2:dn[bs+0]!=0),bs+=16;Xn>>=2,vs=vs>>1|ws<<5}pn|=Un<<4*qa,Ua|=Xn<<4<<qa,Rs|=(240&vs)<<qa}$r.la=Ua,Ci.la=Rs,gi.Hc=ys,gi.Gc=pn,gi.ia=43690&pn?0:Na.ia,Ls=!(ys|pn)}if(0<rr.L&&(rr.wa[rr.Y+rr.ja]=rr.gd[an.$b][an.Za],rr.wa[rr.Y+rr.ja].La|=!Ls),za.Ka)return Qr(Nn,7,"Premature end-of-file encountered.")}if(vo(Nn),rr=Ta,za=1,an=(hr=Nn).D,$r=0<hr.L&&hr.M>=hr.zb&&hr.M<=hr.Va,hr.Aa==0)t:{if(an.M=hr.M,an.uc=$r,So(hr,an),za=1,an=(Un=hr.D).Nb,$r=(pn=uh[hr.L])*hr.R,Jn=pn/2*hr.B,Fn=16*an*hr.R,us=8*an*hr.B,Ls=hr.sa,gi=hr.ta-$r+Fn,Na=hr.qa,dn=hr.ra-Jn+us,bs=hr.Ha,Ci=hr.Ia-Jn+us,vs=(Xn=Un.M)==0,ys=Xn>=hr.Va-1,hr.Aa==2&&So(hr,Un),Un.uc)for(ws=($n=hr).D.M,e($n.D.uc),Un=$n.yb;Un<$n.Hb;++Un){Rs=Un,Ua=ws;var ca=(Rn=(js=$n).D).Nb;qa=js.R;var Rn=Rn.wa[Rn.Y+Rs],_i=js.sa,Za=js.ta+16*ca*qa+16*Rs,Or=Rn.dd,Dr=Rn.tc;if(Dr!=0)if(e(3<=Dr),js.L==1)0<Rs&&y1(_i,Za,qa,Dr+4),Rn.La&&Vx(_i,Za,qa,Dr),0<Ua&&b1(_i,Za,qa,Dr+4),Rn.La&&Wx(_i,Za,qa,Dr);else{var Hn=js.B,no=js.qa,el=js.ra+8*ca*Hn+8*Rs,Hi=js.Ha,js=js.Ia+8*ca*Hn+8*Rs;ca=Rn.ld,0<Rs&&(cs(_i,Za,qa,Dr+4,Or,ca),gl(no,el,Hi,js,Hn,Dr+4,Or,ca)),Rn.La&&(_m(_i,Za,qa,Dr,Or,ca),x1(no,el,Hi,js,Hn,Dr,Or,ca)),0<Ua&&(ja(_i,Za,qa,Dr+4,Or,ca),Vl(no,el,Hi,js,Hn,Dr+4,Or,ca)),Rn.La&&(Pu(_i,Za,qa,Dr,Or,ca),Ux(no,el,Hi,js,Hn,Dr,Or,ca))}}if(hr.ia&&alert("todo:DitherRow"),rr.put!=null){if(Un=16*Xn,Xn=16*(Xn+1),vs?(rr.y=hr.sa,rr.O=hr.ta+Fn,rr.f=hr.qa,rr.N=hr.ra+us,rr.ea=hr.Ha,rr.W=hr.Ia+us):(Un-=pn,rr.y=Ls,rr.O=gi,rr.f=Na,rr.N=dn,rr.ea=bs,rr.W=Ci),ys||(Xn-=pn),Xn>rr.o&&(Xn=rr.o),rr.F=null,rr.J=null,hr.Fa!=null&&0<hr.Fa.length&&Un<Xn&&(rr.J=is(hr,rr,Un,Xn-Un),rr.F=hr.mb,rr.F==null&&rr.F.length==0)){za=Qr(hr,3,"Could not decode alpha data.");break t}Un<rr.j&&(pn=rr.j-Un,Un=rr.j,e(!(1&pn)),rr.O+=hr.R*pn,rr.N+=hr.B*(pn>>1),rr.W+=hr.B*(pn>>1),rr.F!=null&&(rr.J+=rr.width*pn)),Un<Xn&&(rr.O+=rr.v,rr.N+=rr.v>>1,rr.W+=rr.v>>1,rr.F!=null&&(rr.J+=rr.v),rr.ka=Un-rr.j,rr.U=rr.va-rr.v,rr.T=Xn-Un,za=rr.put(rr))}an+1!=hr.Ic||ys||(n(hr.sa,hr.ta-$r,Ls,gi+16*hr.R,$r),n(hr.qa,hr.ra-Jn,Na,dn+8*hr.B,Jn),n(hr.Ha,hr.Ia-Jn,bs,Ci+8*hr.B,Jn))}if(!za)return Qr(Nn,6,"Output aborted.")}return 1})(Pe,at)),at.bc!=null&&at.bc(at),ct&=1}return ct?(Pe.cb=0,ct):0})(C,Q)||(L=C.a)}}else L=C.a}L==0&&Ne.Oa!=null&&Ne.Oa.fd&&(L=Cm(Ne.ba))}Ne=L}ve=Ne!=0?null:11>ve?Ae.f.RGBA.eb:Ae.f.kb.y}else ve=null;return ve};var j0=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function d(R,F){for(var E="",M=0;M<4;M++)E+=String.fromCharCode(R[F++]);return E}function f(R,F){return R[F+0]|R[F+1]<<8}function m(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16)>>>0}function p(R,F){return(R[F+0]|R[F+1]<<8|R[F+2]<<16|R[F+3]<<24)>>>0}new c;var g=[0],v=[0],w=[],y=new c,N=t,k=(function(R,F){var E={},M=0,H=!1,V=0,G=0;if(E.frames=[],!(function(W,J){for(var Z=0;Z<4;Z++)if(W[J+Z]!="RIFF".charCodeAt(Z))return!0;return!1})(R,F)){for(p(R,F+=4),F+=8;F<R.length;){var q=d(R,F),B=p(R,F+=4);F+=4;var z=B+(1&B);switch(q){case"VP8 ":case"VP8L":E.frames[M]===void 0&&(E.frames[M]={}),(K=E.frames[M]).src_off=H?G:F-8,K.src_size=V+B+8,M++,H&&(H=!1,V=0,G=0);break;case"VP8X":(K=E.header={}).feature_flags=R[F];var X=F+4;K.canvas_width=1+m(R,X),X+=3,K.canvas_height=1+m(R,X),X+=3;break;case"ALPH":H=!0,V=z+8,G=F-8;break;case"ANIM":(K=E.header).bgcolor=p(R,F),X=F+4,K.loop_count=f(R,X),X+=2;break;case"ANMF":var ee,K;(K=E.frames[M]={}).offset_x=2*m(R,F),F+=3,K.offset_y=2*m(R,F),F+=3,K.width=1+m(R,F),F+=3,K.height=1+m(R,F),F+=3,K.duration=m(R,F),F+=3,ee=R[F++],K.dispose=1&ee,K.blend=ee>>1&1}q!="ANMF"&&(F+=z)}return E}})(N,0);k.response=N,k.rgbaoutput=!0,k.dataurl=!1;var S=k.header?k.header:null,A=k.frames?k.frames:null;if(S){S.loop_counter=S.loop_count,g=[S.canvas_height],v=[S.canvas_width];for(var _=0;_<A.length&&A[_].blend!=0;_++);}var O=A[0],P=y.WebPDecodeRGBA(N,O.src_off,O.src_size,v,g);O.rgba=P,O.imgwidth=v[0],O.imgheight=g[0];for(var I=0;I<v[0]*g[0]*4;I++)w[I]=P[I];return this.width=v,this.height=g,this.data=w,this}(function(t){var e,r,n,s,i,o,l,c,d,f=function(W){return W=W||{},this.isStrokeTransparent=W.isStrokeTransparent||!1,this.strokeOpacity=W.strokeOpacity||1,this.strokeStyle=W.strokeStyle||"#000000",this.fillStyle=W.fillStyle||"#000000",this.isFillTransparent=W.isFillTransparent||!1,this.fillOpacity=W.fillOpacity||1,this.font=W.font||"10px sans-serif",this.textBaseline=W.textBaseline||"alphabetic",this.textAlign=W.textAlign||"left",this.lineWidth=W.lineWidth||1,this.lineJoin=W.lineJoin||"miter",this.lineCap=W.lineCap||"butt",this.path=W.path||[],this.transform=W.transform!==void 0?W.transform.clone():new c,this.globalCompositeOperation=W.globalCompositeOperation||"normal",this.globalAlpha=W.globalAlpha||1,this.clip_path=W.clip_path||[],this.currentPoint=W.currentPoint||new o,this.miterLimit=W.miterLimit||10,this.lastPoint=W.lastPoint||new o,this.lineDashOffset=W.lineDashOffset||0,this.lineDash=W.lineDash||[],this.margin=W.margin||[0,0,0,0],this.prevPageLastElemOffset=W.prevPageLastElemOffset||0,this.ignoreClearRect=typeof W.ignoreClearRect!="boolean"||W.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new m(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,s=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new f}]);var m=function(W){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var J=W;Object.defineProperty(this,"pdf",{get:function(){return J}});var Z=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Z},set:function(te){Z=!!te}});var ie=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ie},set:function(te){ie=!!te}});var ue=0;Object.defineProperty(this,"posX",{get:function(){return ue},set:function(te){isNaN(te)||(ue=te)}});var je=0;Object.defineProperty(this,"posY",{get:function(){return je},set:function(te){isNaN(te)||(je=te)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(te){var se;typeof te=="number"?se=[te,te,te,te]:((se=new Array(4))[0]=te[0],se[1]=te.length>=2?te[1]:se[0],se[2]=te.length>=3?te[2]:se[0],se[3]=te.length>=4?te[3]:se[1]),d.margin=se}});var ce=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ce},set:function(te){ce=te}});var le=0;Object.defineProperty(this,"lastBreak",{get:function(){return le},set:function(te){le=te}});var pe=[];Object.defineProperty(this,"pageBreaks",{get:function(){return pe},set:function(te){pe=te}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(te){te instanceof f&&(d=te)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(te){d.path=te}});var $e=[];Object.defineProperty(this,"ctxStack",{get:function(){return $e},set:function(te){$e=te}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(te){var se;se=p(te),this.ctx.fillStyle=se.style,this.ctx.isFillTransparent=se.a===0,this.ctx.fillOpacity=se.a,this.pdf.setFillColor(se.r,se.g,se.b,{a:se.a}),this.pdf.setTextColor(se.r,se.g,se.b,{a:se.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(te){var se=p(te);this.ctx.strokeStyle=se.style,this.ctx.isStrokeTransparent=se.a===0,this.ctx.strokeOpacity=se.a,se.a===0?this.pdf.setDrawColor(255,255,255):(se.a,this.pdf.setDrawColor(se.r,se.g,se.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(te){["butt","round","square"].indexOf(te)!==-1&&(this.ctx.lineCap=te,this.pdf.setLineCap(te))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(te){isNaN(te)||(this.ctx.lineWidth=te,this.pdf.setLineWidth(te))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(te){["bevel","round","miter"].indexOf(te)!==-1&&(this.ctx.lineJoin=te,this.pdf.setLineJoin(te))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(te){isNaN(te)||(this.ctx.miterLimit=te,this.pdf.setMiterLimit(te))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(te){this.ctx.textBaseline=te}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(te){["right","end","center","left","start"].indexOf(te)!==-1&&(this.ctx.textAlign=te)}});var de=null,Se=null;Object.defineProperty(this,"fontFaces",{get:function(){return Se},set:function(te){de=null,Se=te}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(te){var se;if(this.ctx.font=te,(se=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(te))!==null){var ut=se[1];se[2];var dt=se[3],De=se[4];se[5];var rt=se[6],wt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(De)[2];De=Math.floor(wt==="px"?parseFloat(De)*this.pdf.internal.scaleFactor:wt==="em"?parseFloat(De)*this.pdf.getFontSize():parseFloat(De)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(De);var gt=(function(qe){var ge,Oe,ke=[],Ue=qe.trim();if(Ue==="")return WT;if(Ue in uG)return[uG[Ue]];for(;Ue!=="";){switch(Oe=null,ge=(Ue=hG(Ue)).charAt(0)){case'"':case"'":Oe=yqe(Ue.substring(1),ge);break;default:Oe=vqe(Ue)}if(Oe===null||(ke.push(Oe[0]),(Ue=hG(Oe[1]))!==""&&Ue.charAt(0)!==","))return WT;Ue=Ue.replace(/^,/,"")}return ke})(rt);if(this.fontFaces){var Rt=(function(qe,ge){if(de===null){var Oe=(function(ke){var Ue=[];return Object.keys(ke).forEach(function(Xe){ke[Xe].forEach(function(we){var ye=null;switch(we){case"bold":ye={family:Xe,weight:"bold"};break;case"italic":ye={family:Xe,style:"italic"};break;case"bolditalic":ye={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":ye={family:Xe}}ye!==null&&(ye.ref={name:Xe,style:we},Ue.push(ye))})}),Ue})(qe.getFontList());de=(function(ke){for(var Ue={},Xe=0;Xe<ke.length;++Xe){var we=UT(ke[Xe]),ye=we.family,Ke=we.stretch,pt=we.style,tt=we.weight;Ue[ye]=Ue[ye]||{},Ue[ye][Ke]=Ue[ye][Ke]||{},Ue[ye][Ke][pt]=Ue[ye][Ke][pt]||{},Ue[ye][Ke][pt][tt]=we}return Ue})(Oe.concat(ge))}return de})(this.pdf,this.fontFaces),He=gt.map(function(qe){return{family:qe,stretch:"normal",weight:dt,style:ut}}),he=(function(qe,ge,Oe){for(var ke=(Oe=Oe||{}).defaultFontFamily||"times",Ue=Object.assign({},bqe,Oe.genericFontFamilies||{}),Xe=null,we=null,ye=0;ye<ge.length;++ye)if(Ue[(Xe=UT(ge[ye])).family]&&(Xe.family=Ue[Xe.family]),qe.hasOwnProperty(Xe.family)){we=qe[Xe.family];break}if(!(we=we||qe[ke]))throw new Error("Could not find a font-family for the rule '"+fG(Xe)+"' and default family '"+ke+"'.");if(we=(function(Ke,pt){if(pt[Ke])return pt[Ke];var tt=tE[Ke],Te=tt<=tE.normal?-1:1,ne=dG(pt,gae,tt,Te);if(!ne)throw new Error("Could not find a matching font-stretch value for "+Ke);return ne})(Xe.stretch,we),we=(function(Ke,pt){if(pt[Ke])return pt[Ke];for(var tt=pae[Ke],Te=0;Te<tt.length;++Te)if(pt[tt[Te]])return pt[tt[Te]];throw new Error("Could not find a matching font-style for "+Ke)})(Xe.style,we),!(we=(function(Ke,pt){if(pt[Ke])return pt[Ke];if(Ke===400&&pt[500])return pt[500];if(Ke===500&&pt[400])return pt[400];var tt=xqe[Ke],Te=dG(pt,xae,tt,Ke<400?-1:1);if(!Te)throw new Error("Could not find a matching font-weight for value "+Ke);return Te})(Xe.weight,we)))throw new Error("Failed to resolve a font for the rule '"+fG(Xe)+"'.");return we})(Rt,He);this.pdf.setFont(he.ref.name,he.ref.style)}else{var Qe="";(dt==="bold"||parseInt(dt,10)>=700||ut==="bold")&&(Qe="bold"),ut==="italic"&&(Qe+="italic"),Qe.length===0&&(Qe="normal");for(var Ge="",mt={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Le=0;Le<gt.length;Le++){if(this.pdf.internal.getFont(gt[Le],Qe,{noFallback:!0,disableWarning:!0})!==void 0){Ge=gt[Le];break}if(Qe==="bolditalic"&&this.pdf.internal.getFont(gt[Le],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Ge=gt[Le],Qe="bold";else if(this.pdf.internal.getFont(gt[Le],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Ge=gt[Le],Qe="normal";break}}if(Ge===""){for(var _e=0;_e<gt.length;_e++)if(mt[gt[_e]]){Ge=mt[gt[_e]];break}}Ge=Ge===""?"Times":Ge,this.pdf.setFont(Ge,Qe)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(te){this.ctx.globalCompositeOperation=te}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(te){this.ctx.globalAlpha=te}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(te){this.ctx.lineDashOffset=te,K.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(te){this.ctx.lineDash=te,K.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(te){this.ctx.ignoreClearRect=!!te}})};m.prototype.setLineDash=function(W){this.lineDash=W},m.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},m.prototype.fill=function(){A.call(this,"fill",!1)},m.prototype.stroke=function(){A.call(this,"stroke",!1)},m.prototype.beginPath=function(){this.path=[{type:"begin"}]},m.prototype.moveTo=function(W,J){if(isNaN(W)||isNaN(J))throw Oa.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Z=this.ctx.transform.applyToPoint(new o(W,J));this.path.push({type:"mt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(W,J)},m.prototype.closePath=function(){var W=new o(0,0),J=0;for(J=this.path.length-1;J!==-1;J--)if(this.path[J].type==="begin"&&Bn(this.path[J+1])==="object"&&typeof this.path[J+1].x=="number"){W=new o(this.path[J+1].x,this.path[J+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(W.x,W.y)},m.prototype.lineTo=function(W,J){if(isNaN(W)||isNaN(J))throw Oa.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Z=this.ctx.transform.applyToPoint(new o(W,J));this.path.push({type:"lt",x:Z.x,y:Z.y}),this.ctx.lastPoint=new o(Z.x,Z.y)},m.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),A.call(this,null,!0)},m.prototype.quadraticCurveTo=function(W,J,Z,ie){if(isNaN(Z)||isNaN(ie)||isNaN(W)||isNaN(J))throw Oa.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ue=this.ctx.transform.applyToPoint(new o(Z,ie)),je=this.ctx.transform.applyToPoint(new o(W,J));this.path.push({type:"qct",x1:je.x,y1:je.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new o(ue.x,ue.y)},m.prototype.bezierCurveTo=function(W,J,Z,ie,ue,je){if(isNaN(ue)||isNaN(je)||isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie))throw Oa.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ce=this.ctx.transform.applyToPoint(new o(ue,je)),le=this.ctx.transform.applyToPoint(new o(W,J)),pe=this.ctx.transform.applyToPoint(new o(Z,ie));this.path.push({type:"bct",x1:le.x,y1:le.y,x2:pe.x,y2:pe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new o(ce.x,ce.y)},m.prototype.arc=function(W,J,Z,ie,ue,je){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie)||isNaN(ue))throw Oa.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(je=!!je,!this.ctx.transform.isIdentity){var ce=this.ctx.transform.applyToPoint(new o(W,J));W=ce.x,J=ce.y;var le=this.ctx.transform.applyToPoint(new o(0,Z)),pe=this.ctx.transform.applyToPoint(new o(0,0));Z=Math.sqrt(Math.pow(le.x-pe.x,2)+Math.pow(le.y-pe.y,2))}Math.abs(ue-ie)>=2*Math.PI&&(ie=0,ue=2*Math.PI),this.path.push({type:"arc",x:W,y:J,radius:Z,startAngle:ie,endAngle:ue,counterclockwise:je})},m.prototype.arcTo=function(W,J,Z,ie,ue){throw new Error("arcTo not implemented.")},m.prototype.rect=function(W,J,Z,ie){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie))throw Oa.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(W,J),this.lineTo(W+Z,J),this.lineTo(W+Z,J+ie),this.lineTo(W,J+ie),this.lineTo(W,J),this.lineTo(W+Z,J),this.lineTo(W,J)},m.prototype.fillRect=function(W,J,Z,ie){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie))throw Oa.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!g.call(this)){var ue={};this.lineCap!=="butt"&&(ue.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ue.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(W,J,Z,ie),this.fill(),ue.hasOwnProperty("lineCap")&&(this.lineCap=ue.lineCap),ue.hasOwnProperty("lineJoin")&&(this.lineJoin=ue.lineJoin)}},m.prototype.strokeRect=function(W,J,Z,ie){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie))throw Oa.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");v.call(this)||(this.beginPath(),this.rect(W,J,Z,ie),this.stroke())},m.prototype.clearRect=function(W,J,Z,ie){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie))throw Oa.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(W,J,Z,ie))},m.prototype.save=function(W){W=typeof W!="boolean"||W;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("q");if(this.pdf.setPage(J),W){this.ctx.fontSize=this.pdf.internal.getFontSize();var ie=new f(this.ctx);this.ctxStack.push(this.ctx),this.ctx=ie}},m.prototype.restore=function(W){W=typeof W!="boolean"||W;for(var J=this.pdf.internal.getCurrentPageInfo().pageNumber,Z=0;Z<this.pdf.internal.getNumberOfPages();Z++)this.pdf.setPage(Z+1),this.pdf.internal.out("Q");this.pdf.setPage(J),W&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},m.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var p=function(W){var J,Z,ie,ue;if(W.isCanvasGradient===!0&&(W=W.getColor()),!W)return{r:0,g:0,b:0,a:0,style:W};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(W))J=0,Z=0,ie=0,ue=0;else{var je=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(W);if(je!==null)J=parseInt(je[1]),Z=parseInt(je[2]),ie=parseInt(je[3]),ue=1;else if((je=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(W))!==null)J=parseInt(je[1]),Z=parseInt(je[2]),ie=parseInt(je[3]),ue=parseFloat(je[4]);else{if(ue=1,typeof W=="string"&&W.charAt(0)!=="#"){var ce=new lae(W);W=ce.ok?ce.toHex():"#000000"}W.length===4?(J=W.substring(1,2),J+=J,Z=W.substring(2,3),Z+=Z,ie=W.substring(3,4),ie+=ie):(J=W.substring(1,3),Z=W.substring(3,5),ie=W.substring(5,7)),J=parseInt(J,16),Z=parseInt(Z,16),ie=parseInt(ie,16)}}return{r:J,g:Z,b:ie,a:ue,style:W}},g=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},v=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};m.prototype.fillText=function(W,J,Z,ie){if(isNaN(J)||isNaN(Z)||typeof W!="string")throw Oa.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(ie=isNaN(ie)?void 0:ie,!g.call(this)){var ue=z(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;M.call(this,{text:W,x:J,y:Z,scale:je,angle:ue,align:this.textAlign,maxWidth:ie})}},m.prototype.strokeText=function(W,J,Z,ie){if(isNaN(J)||isNaN(Z)||typeof W!="string")throw Oa.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!v.call(this)){ie=isNaN(ie)?void 0:ie;var ue=z(this.ctx.transform.rotation),je=this.ctx.transform.scaleX;M.call(this,{text:W,x:J,y:Z,scale:je,renderingMode:"stroke",angle:ue,align:this.textAlign,maxWidth:ie})}},m.prototype.measureText=function(W){if(typeof W!="string")throw Oa.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var J=this.pdf,Z=this.pdf.internal.scaleFactor,ie=J.internal.getFontSize(),ue=J.getStringUnitWidth(W)*ie/J.internal.scaleFactor;return new function(je){var ce=(je=je||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ce}}),this}({width:ue*=Math.round(96*Z/72*1e4)/1e4})},m.prototype.scale=function(W,J){if(isNaN(W)||isNaN(J))throw Oa.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Z=new c(W,0,0,J,0,0);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.rotate=function(W){if(isNaN(W))throw Oa.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var J=new c(Math.cos(W),Math.sin(W),-Math.sin(W),Math.cos(W),0,0);this.ctx.transform=this.ctx.transform.multiply(J)},m.prototype.translate=function(W,J){if(isNaN(W)||isNaN(J))throw Oa.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Z=new c(1,0,0,1,W,J);this.ctx.transform=this.ctx.transform.multiply(Z)},m.prototype.transform=function(W,J,Z,ie,ue,je){if(isNaN(W)||isNaN(J)||isNaN(Z)||isNaN(ie)||isNaN(ue)||isNaN(je))throw Oa.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ce=new c(W,J,Z,ie,ue,je);this.ctx.transform=this.ctx.transform.multiply(ce)},m.prototype.setTransform=function(W,J,Z,ie,ue,je){W=isNaN(W)?1:W,J=isNaN(J)?0:J,Z=isNaN(Z)?0:Z,ie=isNaN(ie)?1:ie,ue=isNaN(ue)?0:ue,je=isNaN(je)?0:je,this.ctx.transform=new c(W,J,Z,ie,ue,je)};var w=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};m.prototype.drawImage=function(W,J,Z,ie,ue,je,ce,le,pe){var $e=this.pdf.getImageProperties(W),de=1,Se=1,te=1,se=1;ie!==void 0&&le!==void 0&&(te=le/ie,se=pe/ue,de=$e.width/ie*le/ie,Se=$e.height/ue*pe/ue),je===void 0&&(je=J,ce=Z,J=0,Z=0),ie!==void 0&&le===void 0&&(le=ie,pe=ue),ie===void 0&&le===void 0&&(le=$e.width,pe=$e.height);for(var ut,dt=this.ctx.transform.decompose(),De=z(dt.rotate.shx),rt=new c,wt=(rt=(rt=(rt=rt.multiply(dt.translate)).multiply(dt.skew)).multiply(dt.scale)).applyToRectangle(new l(je-J*te,ce-Z*se,ie*de,ue*Se)),gt=y.call(this,wt),Rt=[],He=0;He<gt.length;He+=1)Rt.indexOf(gt[He])===-1&&Rt.push(gt[He]);if(S(Rt),this.autoPaging)for(var he=Rt[0],Qe=Rt[Rt.length-1],Ge=he;Ge<Qe+1;Ge++){this.pdf.setPage(Ge);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Le=Ge===1?this.posY+this.margin[0]:this.margin[0],_e=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ge=Ge===1?0:_e+(Ge-2)*qe;if(this.ctx.clip_path.length!==0){var Oe=this.path;ut=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(ut,this.posX+this.margin[3],-ge+Le+this.ctx.prevPageLastElemOffset),_.call(this,"fill",!0),this.path=Oe}var ke=JSON.parse(JSON.stringify(wt));ke=k([ke],this.posX+this.margin[3],-ge+Le+this.ctx.prevPageLastElemOffset)[0];var Ue=(Ge>he||Ge<Qe)&&w.call(this);Ue&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,qe,null).clip().discardPath()),this.pdf.addImage(W,"JPEG",ke.x,ke.y,ke.w,ke.h,null,null,De),Ue&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(W,"JPEG",wt.x,wt.y,wt.w,wt.h,null,null,De)};var y=function(W,J,Z){var ie=[];J=J||this.pdf.internal.pageSize.width,Z=Z||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var ue=this.posY+this.ctx.prevPageLastElemOffset;switch(W.type){default:case"mt":case"lt":ie.push(Math.floor((W.y+ue)/Z)+1);break;case"arc":ie.push(Math.floor((W.y+ue-W.radius)/Z)+1),ie.push(Math.floor((W.y+ue+W.radius)/Z)+1);break;case"qct":var je=X(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x,W.y);ie.push(Math.floor((je.y+ue)/Z)+1),ie.push(Math.floor((je.y+je.h+ue)/Z)+1);break;case"bct":var ce=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,W.x1,W.y1,W.x2,W.y2,W.x,W.y);ie.push(Math.floor((ce.y+ue)/Z)+1),ie.push(Math.floor((ce.y+ce.h+ue)/Z)+1);break;case"rect":ie.push(Math.floor((W.y+ue)/Z)+1),ie.push(Math.floor((W.y+W.h+ue)/Z)+1)}for(var le=0;le<ie.length;le+=1)for(;this.pdf.internal.getNumberOfPages()<ie[le];)N.call(this);return ie},N=function(){var W=this.fillStyle,J=this.strokeStyle,Z=this.font,ie=this.lineCap,ue=this.lineWidth,je=this.lineJoin;this.pdf.addPage(),this.fillStyle=W,this.strokeStyle=J,this.font=Z,this.lineCap=ie,this.lineWidth=ue,this.lineJoin=je},k=function(W,J,Z){for(var ie=0;ie<W.length;ie++)switch(W[ie].type){case"bct":W[ie].x2+=J,W[ie].y2+=Z;case"qct":W[ie].x1+=J,W[ie].y1+=Z;default:W[ie].x+=J,W[ie].y+=Z}return W},S=function(W){return W.sort(function(J,Z){return J-Z})},A=function(W,J){for(var Z,ie,ue=this.fillStyle,je=this.strokeStyle,ce=this.lineCap,le=this.lineWidth,pe=Math.abs(le*this.ctx.transform.scaleX),$e=this.lineJoin,de=JSON.parse(JSON.stringify(this.path)),Se=JSON.parse(JSON.stringify(this.path)),te=[],se=0;se<Se.length;se++)if(Se[se].x!==void 0)for(var ut=y.call(this,Se[se]),dt=0;dt<ut.length;dt+=1)te.indexOf(ut[dt])===-1&&te.push(ut[dt]);for(var De=0;De<te.length;De++)for(;this.pdf.internal.getNumberOfPages()<te[De];)N.call(this);if(S(te),this.autoPaging)for(var rt=te[0],wt=te[te.length-1],gt=rt;gt<wt+1;gt++){this.pdf.setPage(gt),this.fillStyle=ue,this.strokeStyle=je,this.lineCap=ce,this.lineWidth=pe,this.lineJoin=$e;var Rt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],He=gt===1?this.posY+this.margin[0]:this.margin[0],he=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Qe=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Ge=gt===1?0:he+(gt-2)*Qe;if(this.ctx.clip_path.length!==0){var mt=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(Z,this.posX+this.margin[3],-Ge+He+this.ctx.prevPageLastElemOffset),_.call(this,W,!0),this.path=mt}if(ie=JSON.parse(JSON.stringify(de)),this.path=k(ie,this.posX+this.margin[3],-Ge+He+this.ctx.prevPageLastElemOffset),J===!1||gt===0){var Le=(gt>rt||gt<wt)&&w.call(this);Le&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Rt,Qe,null).clip().discardPath()),_.call(this,W,J),Le&&this.pdf.restoreGraphicsState()}this.lineWidth=le}else this.lineWidth=pe,_.call(this,W,J),this.lineWidth=le;this.path=de},_=function(W,J){if((W!=="stroke"||J||!v.call(this))&&(W==="stroke"||J||!g.call(this))){for(var Z,ie,ue=[],je=this.path,ce=0;ce<je.length;ce++){var le=je[ce];switch(le.type){case"begin":ue.push({begin:!0});break;case"close":ue.push({close:!0});break;case"mt":ue.push({start:le,deltas:[],abs:[]});break;case"lt":var pe=ue.length;if(je[ce-1]&&!isNaN(je[ce-1].x)&&(Z=[le.x-je[ce-1].x,le.y-je[ce-1].y],pe>0)){for(;pe>=0;pe--)if(ue[pe-1].close!==!0&&ue[pe-1].begin!==!0){ue[pe-1].deltas.push(Z),ue[pe-1].abs.push(le);break}}break;case"bct":Z=[le.x1-je[ce-1].x,le.y1-je[ce-1].y,le.x2-je[ce-1].x,le.y2-je[ce-1].y,le.x-je[ce-1].x,le.y-je[ce-1].y],ue[ue.length-1].deltas.push(Z);break;case"qct":var $e=je[ce-1].x+2/3*(le.x1-je[ce-1].x),de=je[ce-1].y+2/3*(le.y1-je[ce-1].y),Se=le.x+2/3*(le.x1-le.x),te=le.y+2/3*(le.y1-le.y),se=le.x,ut=le.y;Z=[$e-je[ce-1].x,de-je[ce-1].y,Se-je[ce-1].x,te-je[ce-1].y,se-je[ce-1].x,ut-je[ce-1].y],ue[ue.length-1].deltas.push(Z);break;case"arc":ue.push({deltas:[],abs:[],arc:!0}),Array.isArray(ue[ue.length-1].abs)&&ue[ue.length-1].abs.push(le)}}ie=J?null:W==="stroke"?"stroke":"fill";for(var dt=!1,De=0;De<ue.length;De++)if(ue[De].arc)for(var rt=ue[De].abs,wt=0;wt<rt.length;wt++){var gt=rt[wt];gt.type==="arc"?I.call(this,gt.x,gt.y,gt.radius,gt.startAngle,gt.endAngle,gt.counterclockwise,void 0,J,!dt):H.call(this,gt.x,gt.y),dt=!0}else if(ue[De].close===!0)this.pdf.internal.out("h"),dt=!1;else if(ue[De].begin!==!0){var Rt=ue[De].start.x,He=ue[De].start.y;V.call(this,ue[De].deltas,Rt,He),dt=!0}ie&&R.call(this,ie),J&&F.call(this)}},O=function(W){var J=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Z=J*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return W-Z;case"top":return W+J-Z;case"hanging":return W+J-2*Z;case"middle":return W+J/2-Z;default:return W}},P=function(W){return W+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};m.prototype.createLinearGradient=function(){var W=function(){};return W.colorStops=[],W.addColorStop=function(J,Z){this.colorStops.push([J,Z])},W.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},W.isCanvasGradient=!0,W},m.prototype.createPattern=function(){return this.createLinearGradient()},m.prototype.createRadialGradient=function(){return this.createLinearGradient()};var I=function(W,J,Z,ie,ue,je,ce,le,pe){for(var $e=q.call(this,Z,ie,ue,je),de=0;de<$e.length;de++){var Se=$e[de];de===0&&(pe?E.call(this,Se.x1+W,Se.y1+J):H.call(this,Se.x1+W,Se.y1+J)),G.call(this,W,J,Se.x2,Se.y2,Se.x3,Se.y3,Se.x4,Se.y4)}le?F.call(this):R.call(this,ce)},R=function(W){switch(W){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},E=function(W,J){this.pdf.internal.out(r(W)+" "+n(J)+" m")},M=function(W){var J;switch(W.align){case"right":case"end":J="right";break;case"center":J="center";break;default:J="left"}var Z=this.pdf.getTextDimensions(W.text),ie=O.call(this,W.y),ue=P.call(this,ie)-Z.h,je=this.ctx.transform.applyToPoint(new o(W.x,ie)),ce=this.ctx.transform.decompose(),le=new c;le=(le=(le=le.multiply(ce.translate)).multiply(ce.skew)).multiply(ce.scale);for(var pe,$e,de,Se=this.ctx.transform.applyToRectangle(new l(W.x,ie,Z.w,Z.h)),te=le.applyToRectangle(new l(W.x,ue,Z.w,Z.h)),se=y.call(this,te),ut=[],dt=0;dt<se.length;dt+=1)ut.indexOf(se[dt])===-1&&ut.push(se[dt]);if(S(ut),this.autoPaging)for(var De=ut[0],rt=ut[ut.length-1],wt=De;wt<rt+1;wt++){this.pdf.setPage(wt);var gt=wt===1?this.posY+this.margin[0]:this.margin[0],Rt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],He=this.pdf.internal.pageSize.height-this.margin[2],he=He-this.margin[0],Qe=this.pdf.internal.pageSize.width-this.margin[1],Ge=Qe-this.margin[3],mt=wt===1?0:Rt+(wt-2)*he;if(this.ctx.clip_path.length!==0){var Le=this.path;pe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=k(pe,this.posX+this.margin[3],-1*mt+gt),_.call(this,"fill",!0),this.path=Le}var _e=k([JSON.parse(JSON.stringify(te))],this.posX+this.margin[3],-mt+gt+this.ctx.prevPageLastElemOffset)[0];W.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*W.scale),de=this.lineWidth,this.lineWidth=de*W.scale);var qe=this.autoPaging!=="text";if(qe||_e.y+_e.h<=He){if(qe||_e.y>=gt&&_e.x<=Qe){var ge=qe?W.text:this.pdf.splitTextToSize(W.text,W.maxWidth||Qe-_e.x)[0],Oe=k([JSON.parse(JSON.stringify(Se))],this.posX+this.margin[3],-mt+gt+this.ctx.prevPageLastElemOffset)[0],ke=qe&&(wt>De||wt<rt)&&w.call(this);ke&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ge,he,null).clip().discardPath()),this.pdf.text(ge,Oe.x,Oe.y,{angle:W.angle,align:J,renderingMode:W.renderingMode}),ke&&this.pdf.restoreGraphicsState()}}else _e.y<He&&(this.ctx.prevPageLastElemOffset+=He-_e.y);W.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=de)}else W.scale>=.01&&($e=this.pdf.internal.getFontSize(),this.pdf.setFontSize($e*W.scale),de=this.lineWidth,this.lineWidth=de*W.scale),this.pdf.text(W.text,je.x+this.posX,je.y+this.posY,{angle:W.angle,align:J,renderingMode:W.renderingMode,maxWidth:W.maxWidth}),W.scale>=.01&&(this.pdf.setFontSize($e),this.lineWidth=de)},H=function(W,J,Z,ie){Z=Z||0,ie=ie||0,this.pdf.internal.out(r(W+Z)+" "+n(J+ie)+" l")},V=function(W,J,Z){return this.pdf.lines(W,J,Z,null,null)},G=function(W,J,Z,ie,ue,je,ce,le){this.pdf.internal.out([e(s(Z+W)),e(i(ie+J)),e(s(ue+W)),e(i(je+J)),e(s(ce+W)),e(i(le+J)),"c"].join(" "))},q=function(W,J,Z,ie){for(var ue=2*Math.PI,je=Math.PI/2;J>Z;)J-=ue;var ce=Math.abs(Z-J);ce<ue&&ie&&(ce=ue-ce);for(var le=[],pe=ie?-1:1,$e=J;ce>1e-5;){var de=$e+pe*Math.min(ce,je);le.push(B.call(this,W,$e,de)),ce-=Math.abs(de-$e),$e=de}return le},B=function(W,J,Z){var ie=(Z-J)/2,ue=W*Math.cos(ie),je=W*Math.sin(ie),ce=ue,le=-je,pe=ce*ce+le*le,$e=pe+ce*ue+le*je,de=4/3*(Math.sqrt(2*pe*$e)-$e)/(ce*je-le*ue),Se=ce-de*le,te=le+de*ce,se=Se,ut=-te,dt=ie+J,De=Math.cos(dt),rt=Math.sin(dt);return{x1:W*Math.cos(J),y1:W*Math.sin(J),x2:Se*De-te*rt,y2:Se*rt+te*De,x3:se*De-ut*rt,y3:se*rt+ut*De,x4:W*Math.cos(Z),y4:W*Math.sin(Z)}},z=function(W){return 180*W/Math.PI},X=function(W,J,Z,ie,ue,je){var ce=W+.5*(Z-W),le=J+.5*(ie-J),pe=ue+.5*(Z-ue),$e=je+.5*(ie-je),de=Math.min(W,ue,ce,pe),Se=Math.max(W,ue,ce,pe),te=Math.min(J,je,le,$e),se=Math.max(J,je,le,$e);return new l(de,te,Se-de,se-te)},ee=function(W,J,Z,ie,ue,je,ce,le){var pe,$e,de,Se,te,se,ut,dt,De,rt,wt,gt,Rt,He,he=Z-W,Qe=ie-J,Ge=ue-Z,mt=je-ie,Le=ce-ue,_e=le-je;for($e=0;$e<41;$e++)De=(ut=(de=W+(pe=$e/40)*he)+pe*((te=Z+pe*Ge)-de))+pe*(te+pe*(ue+pe*Le-te)-ut),rt=(dt=(Se=J+pe*Qe)+pe*((se=ie+pe*mt)-Se))+pe*(se+pe*(je+pe*_e-se)-dt),$e==0?(wt=De,gt=rt,Rt=De,He=rt):(wt=Math.min(wt,De),gt=Math.min(gt,rt),Rt=Math.max(Rt,De),He=Math.max(He,rt));return new l(Math.round(wt),Math.round(gt),Math.round(Rt-wt),Math.round(He-gt))},K=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var W,J,Z=(W=this.ctx.lineDash,J=this.ctx.lineDashOffset,JSON.stringify({lineDash:W,lineDashOffset:J}));this.prevLineDash!==Z&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Z)}}})(Tr.API),(function(t){var e=function(o){var l,c,d,f,m,p,g,v,w,y;for(c=[],d=0,f=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;f>d;d+=4)(m=(o.charCodeAt(d)<<24)+(o.charCodeAt(d+1)<<16)+(o.charCodeAt(d+2)<<8)+o.charCodeAt(d+3))!==0?(p=(m=((m=((m=((m=(m-(y=m%85))/85)-(w=m%85))/85)-(v=m%85))/85)-(g=m%85))/85)%85,c.push(p+33,g+33,v+33,w+33,y+33)):c.push(122);return(function(N,k){for(var S=k;S>0;S--)N.pop()})(c,l.length),String.fromCharCode.apply(String,c)+"~>"},r=function(o){var l,c,d,f,m,p=String,g="length",v=255,w="charCodeAt",y="slice",N="replace";for(o[y](-2),o=o[y](0,-2)[N](/\s/g,"")[N]("z","!!!!!"),d=[],f=0,m=(o+=l="uuuuu"[y](o[g]%5||5))[g];m>f;f+=5)c=52200625*(o[w](f)-33)+614125*(o[w](f+1)-33)+7225*(o[w](f+2)-33)+85*(o[w](f+3)-33)+(o[w](f+4)-33),d.push(v&c>>24,v&c>>16,v&c>>8,v&c);return(function(k,S){for(var A=S;A>0;A--)k.pop()})(d,l[g]),p.fromCharCode.apply(p,d)},n=function(o){return o.split("").map(function(l){return("0"+l.charCodeAt().toString(16)).slice(-2)}).join("")+">"},s=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var c="",d=0;d<o.length;d+=2)c+=String.fromCharCode("0x"+(o[d]+o[d+1]));return c},i=function(o){for(var l=new Uint8Array(o.length),c=o.length;c--;)l[c]=o.charCodeAt(c);return(l=YO(l)).reduce(function(d,f){return d+String.fromCharCode(f)},"")};t.processDataByFilters=function(o,l){var c=0,d=o||"",f=[];for(typeof(l=l||[])=="string"&&(l=[l]),c=0;c<l.length;c+=1)switch(l[c]){case"ASCII85Decode":case"/ASCII85Decode":d=r(d),f.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":d=e(d),f.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":d=s(d),f.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":d=n(d),f.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":d=i(d),f.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[c]+'" is not implemented')}return{data:d,reverseChain:f.reverse().join(" ")}}})(Tr.API),(function(t){t.loadFile=function(e,r,n){return(function(s,i,o){i=i!==!1,o=typeof o=="function"?o:function(){};var l=void 0;try{l=(function(c,d,f){var m=new XMLHttpRequest,p=0,g=function(v){var w=v.length,y=[],N=String.fromCharCode;for(p=0;p<w;p+=1)y.push(N(255&v.charCodeAt(p)));return y.join("")};if(m.open("GET",c,!d),m.overrideMimeType("text/plain; charset=x-user-defined"),d===!1&&(m.onload=function(){m.status===200?f(g(this.responseText)):f(void 0)}),m.send(null),d&&m.status===200)return g(m.responseText)})(s,i,o)}catch{}return l})(e,r,n)},t.loadImageFile=t.loadFile})(Tr.API),(function(t){function e(){return(Xr.html2canvas?Promise.resolve(Xr.html2canvas):q2(()=>import("./html2canvas.esm-QH1iLAAe.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function r(){return(Xr.DOMPurify?Promise.resolve(Xr.DOMPurify):q2(()=>Promise.resolve().then(()=>Eye),void 0)).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var n=function(l){var c=Bn(l);return c==="undefined"?"undefined":c==="string"||l instanceof String?"string":c==="number"||l instanceof Number?"number":c==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":c==="object"?"object":"unknown"},s=function(l,c){var d=document.createElement(l);for(var f in c.className&&(d.className=c.className),c.innerHTML&&c.dompurify&&(d.innerHTML=c.dompurify.sanitize(c.innerHTML)),c.style)d.style[f]=c.style[f];return d},i=function l(c,d){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),m=c.firstChild;m;m=m.nextSibling)d!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||f.appendChild(l(m,d));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f},o=function l(c){var d=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),f=l.convert(Promise.resolve(),d);return(f=f.setProgress(1,l,1,[l])).set(c)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,c){return l.__proto__=c||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,c){return this.then(function(){switch(c=c||(function(d){switch(n(d)){case"string":return"string";case"element":return d.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}})(l),c){case"string":return this.then(r).then(function(d){return this.set({src:s("div",{innerHTML:l,dompurify:d})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},c=i(this.prop.src,this.opt.html2canvas.javascriptEnabled);c.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=s("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=s("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(c),this.prop.container.firstChild.appendChild(s("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=Object.assign({},this.opt.html2canvas);return delete d.onrendered,c(this.prop.container,d)}).then(function(c){(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(c){var d=this.opt.jsPDF,f=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,d.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,d.context2d.posX=this.opt.x,d.context2d.posY=this.opt.y,d.context2d.margin=this.opt.margin,d.context2d.fontFaces=f,f)for(var g=0;g<f.length;++g){var v=f[g],w=v.src.find(function(y){return y.format==="truetype"});w&&d.addFont(w.url,v.ref.name,v.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,d.context2d.save(!0),c(this.prop.container,p)}).then(function(c){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(c),this.prop.canvas=c,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,c,d){return(d=d||"pdf").toLowerCase()==="img"||d.toLowerCase()==="image"?this.outputImg(l,c):this.outputPdf(l,c)},o.prototype.outputPdf=function(l,c){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,c)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(n(l)!=="object")return this;var c=Object.keys(l||{}).map(function(d){if(d in o.template.prop)return function(){this.prop[d]=l[d]};switch(d){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[d]=l[d]}}},this);return this.then(function(){return this.thenList(c)})},o.prototype.get=function(l,c){return this.then(function(){var d=l in o.template.prop?this.prop[l]:this.opt[l];return c?c(d):d})},o.prototype.setMargin=function(l){return this.then(function(){switch(n(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function c(d,f){return Math.floor(d*f/72*96)}return this.then(function(){(l=l||Tr.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:c(l.inner.width,l.k),height:c(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,c,d,f){return l!=null&&(this.progress.val=l),c!=null&&(this.progress.state=c),d!=null&&(this.progress.n=d),f!=null&&(this.progress.stack=f),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,c,d,f){return this.setProgress(l?this.progress.val+l:null,c||null,d?this.progress.n+d:null,f?this.progress.stack.concat(f):null)},o.prototype.then=function(l,c){var d=this;return this.thenCore(l,c,function(f,m){return d.updateProgress(null,null,1,[f]),Promise.prototype.then.call(this,function(p){return d.updateProgress(null,f),p}).then(f,m).then(function(p){return d.updateProgress(1),p})})},o.prototype.thenCore=function(l,c,d){d=d||Promise.prototype.then;var f=this;l&&(l=l.bind(f)),c&&(c=c.bind(f));var m=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?f:o.convert(Object.assign({},f),Promise.prototype),p=d.call(m,l,c);return o.convert(p,f.__proto__)},o.prototype.thenExternal=function(l,c){return Promise.prototype.then.call(this,l,c)},o.prototype.thenList=function(l){var c=this;return l.forEach(function(d){c=c.thenCore(d)}),c},o.prototype.catch=function(l){l&&(l=l.bind(this));var c=Promise.prototype.catch.call(this,l);return o.convert(c,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Tr.getPageSize=function(l,c,d){if(Bn(l)==="object"){var f=l;l=f.orientation,c=f.unit||c,d=f.format||d}c=c||"mm",d=d||"a4",l=(""+(l||"P")).toLowerCase();var m,p=(""+d).toLowerCase(),g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(c){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+c}var v,w=0,y=0;if(g.hasOwnProperty(p))w=g[p][1]/m,y=g[p][0]/m;else try{w=d[1],y=d[0]}catch{throw new Error("Invalid format: "+d)}if(l==="p"||l==="portrait")l="p",y>w&&(v=y,y=w,w=v);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",w>y&&(v=y,y=w,w=v)}return{width:y,height:w,unit:c,k:m,orientation:l}},t.html=function(l,c){(c=c||{}).callback=c.callback||function(){},c.html2canvas=c.html2canvas||{},c.html2canvas.canvas=c.html2canvas.canvas||this.canvas,c.jsPDF=c.jsPDF||this,c.fontFaces=c.fontFaces?c.fontFaces.map(UT):null;var d=new o(c);return c.worker?d:d.from(l).doCallback()}})(Tr.API),Tr.API.addJS=function(t){return pG=t,this.internal.events.subscribe("postPutResources",function(){p2=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(p2+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),mG=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+pG+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){p2!==void 0&&mG!==void 0&&this.internal.out("/Names <</JavaScript "+p2+" 0 R>>")}),this},(function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var s=r.outline.render().split(/\r\n/),i=0;i<s.length;i++){var o=s[i],l=n.exec(o);if(l!=null){var c=l[1];r.internal.newObjectDeferredBegin(c,!1)}r.internal.write(o)}if(this.outline.createNamedDestinations){var d=this.internal.pages.length,f=[];for(i=0;i<d;i++){var m=r.internal.newObject();f.push(m);var p=r.internal.getPageInfo(i+1);r.internal.write("<< /D["+p.objId+" 0 R /XYZ null null null]>> endobj")}var g=r.internal.newObject();for(r.internal.write("<< /Names [ "),i=0;i<f.length;i++)r.internal.write("(page_"+(i+1)+")"+f[i]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+g+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){var r=this;r.outline.root.children.length>0&&(r.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&r.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,s,i){var o={title:s,options:i,children:[]};return n==null&&(n=this.root),n.children.push(o),o},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var s=0;s<n.children.length;s++)this.genIds_r(n.children[s])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var s=this.ctx.pdf.internal.getVerticalCoordinateString,i=0;i<n.children.length;i++){var o=n.children[i];this.objStart(o),this.line("/Title "+this.makeString(o.title)),this.line("/Parent "+this.makeRef(n)),i>0&&this.line("/Prev "+this.makeRef(n.children[i-1])),i<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[i+1])),o.children.length>0&&(this.line("/First "+this.makeRef(o.children[0])),this.line("/Last "+this.makeRef(o.children[o.children.length-1])));var l=this.count=this.count_r({count:0},o);if(l>0&&this.line("/Count "+l),o.options&&o.options.pageNumber){var c=r.internal.getPageInfo(o.options.pageNumber);this.line("/Dest ["+c.objId+" 0 R /XYZ 0 "+s(0)+" 0]")}this.objEnd()}for(var d=0;d<n.children.length;d++)this.renderItems(n.children[d])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,s){for(var i=0;i<s.children.length;i++)n.count++,this.count_r(n,s.children[i]);return n.count}}])})(Tr.API),(function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,s,i,o,l){var c,d=this.decode.DCT_DECODE,f=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=o||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,c=(function(m){for(var p,g=256*m.charCodeAt(4)+m.charCodeAt(5),v=m.length,w={width:0,height:0,numcomponents:1},y=4;y<v;y+=2){if(y+=g,e.indexOf(m.charCodeAt(y+1))!==-1){p=256*m.charCodeAt(y+5)+m.charCodeAt(y+6),w={width:256*m.charCodeAt(y+7)+m.charCodeAt(y+8),height:p,numcomponents:m.charCodeAt(y+9)};break}g=256*m.charCodeAt(y+2)+m.charCodeAt(y+3)}return w})(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r),c.numcomponents){case 1:l=this.color_spaces.DEVICE_GRAY;break;case 4:l=this.color_spaces.DEVICE_CMYK;break;case 3:l=this.color_spaces.DEVICE_RGB}f={data:r,width:c.width,height:c.height,colorSpace:l,bitsPerComponent:8,filter:d,index:n,alias:s}}return f}})(Tr.API),Tr.API.processPNG=function(t,e,r,n){if(this.__addimage__.isArrayBuffer(t)&&(t=new Uint8Array(t)),this.__addimage__.isArrayBufferView(t)){var s,i=nqe(t,{checkCrc:!0}),o=i.width,l=i.height,c=i.channels,d=i.palette,f=i.depth;s=d&&c===1?(function(I){for(var R=I.width,F=I.height,E=I.data,M=I.palette,H=I.depth,V=!1,G=[],q=[],B=void 0,z=!1,X=0,ee=0;ee<M.length;ee++){var K=od(M[ee],4),W=K[0],J=K[1],Z=K[2],ie=K[3];G.push(W,J,Z),ie!=null&&(ie===0?(X++,q.length<1&&q.push(ee)):ie<255&&(z=!0))}if(z||X>1){V=!0,q=void 0;var ue=R*F;B=new Uint8Array(ue);for(var je=new DataView(E.buffer),ce=0;ce<ue;ce++){var le=VT(je,ce,H),pe=od(M[le],4)[3];B[ce]=pe}}else X===0&&(q=void 0);return{colorSpace:"Indexed",colorsPerPixel:1,sMaskBitsPerComponent:V?8:void 0,colorBytes:E,alphaBytes:B,needSMask:V,palette:G,mask:q}})(i):c===2||c===4?(function(I){for(var R=I.data,F=I.width,E=I.height,M=I.channels,H=I.depth,V=M===2?"DeviceGray":"DeviceRGB",G=M-1,q=F*E,B=G,z=q*B,X=1*q,ee=Math.ceil(z*H/8),K=Math.ceil(X*H/8),W=new Uint8Array(ee),J=new Uint8Array(K),Z=new DataView(R.buffer),ie=new DataView(W.buffer),ue=new DataView(J.buffer),je=!1,ce=0;ce<q;ce++){for(var le=ce*M,pe=0;pe<B;pe++)SG(ie,VT(Z,le+pe,H),ce*B+pe,H);var $e=VT(Z,le+B,H);$e<(1<<H)-1&&(je=!0),SG(ue,$e,1*ce,H)}return{colorSpace:V,colorsPerPixel:G,sMaskBitsPerComponent:je?H:void 0,colorBytes:W,alphaBytes:J,needSMask:je}})(i):(function(I){var R=I.data,F=I.channels===1?"DeviceGray":"DeviceRGB";return{colorSpace:F,colorsPerPixel:F==="DeviceGray"?1:3,colorBytes:R instanceof Uint16Array?(function(E){for(var M=E.length,H=new Uint8Array(2*M),V=new DataView(H.buffer,H.byteOffset,H.byteLength),G=0;G<M;G++)V.setUint16(2*G,E[G],!1);return H})(R):R,needSMask:!1}})(i);var m,p,g,v=s,w=v.colorSpace,y=v.colorsPerPixel,N=v.sMaskBitsPerComponent,k=v.colorBytes,S=v.alphaBytes,A=v.needSMask,_=v.palette,O=v.mask,P=null;return n!==Tr.API.image_compression.NONE&&typeof YO=="function"?(P=(function(I){var R;switch(I){case Tr.API.image_compression.FAST:R=11;break;case Tr.API.image_compression.MEDIUM:R=13;break;case Tr.API.image_compression.SLOW:R=14;break;default:R=12}return R})(n),m=this.decode.FLATE_DECODE,p="/Predictor ".concat(P," /Colors ").concat(y," /BitsPerComponent ").concat(f," /Columns ").concat(o),t=yG(k,Math.ceil(o*y*f/8),y,f,n),A&&(g=yG(S,Math.ceil(o*N/8),1,N,n))):(m=void 0,p=void 0,t=k,A&&(g=S)),(this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t))&&(t=this.__addimage__.arrayBufferToBinaryString(t)),(g&&this.__addimage__.isArrayBuffer(g)||this.__addimage__.isArrayBufferView(g))&&(g=this.__addimage__.arrayBufferToBinaryString(g)),{alias:r,data:t,index:e,filter:m,decodeParameters:p,transparency:O,palette:_,sMask:g,predictor:P,width:o,height:l,bitsPerComponent:f,sMaskBitsPerComponent:N,colorSpace:w}}},(function(t){t.processGIF89A=function(e,r,n,s){var i=new Sqe(e),o=i.width,l=i.height,c=[];i.decodeAndBlitFrameRGBA(0,c);var d={data:c,width:o,height:l},f=new GT(100).encode(d,100);return t.processJPEG.call(this,f,r,n,s)},t.processGIF87A=t.processGIF89A})(Tr.API),Yc.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:s,green:n,blue:r,quad:i}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Yc.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Oa.log("bit decode error:"+r)}},Yc.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,s=0;s<e;s++)for(var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+8*s*4,l=0;l<8&&8*s+l<this.width;l++){var c=this.palette[i>>7-l&1];this.data[o+4*l]=c.blue,this.data[o+4*l+1]=c.green,this.data[o+4*l+2]=c.red,this.data[o+4*l+3]=255}r!==0&&(this.pos+=4-r)}},Yc.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<t;s++){var i=this.datav.getUint8(this.pos++,!0),o=n*this.width*4+2*s*4,l=i>>4,c=15&i,d=this.palette[l];if(this.data[o]=d.blue,this.data[o+1]=d.green,this.data[o+2]=d.red,this.data[o+3]=255,2*s+1>=this.width)break;d=this.palette[c],this.data[o+4]=d.blue,this.data[o+4+1]=d.green,this.data[o+4+2]=d.red,this.data[o+4+3]=255}e!==0&&(this.pos+=4-e)}},Yc.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var s=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+4*n;if(s<this.palette.length){var o=this.palette[s];this.data[i]=o.red,this.data[i+1]=o.green,this.data[i+2]=o.blue,this.data[i+3]=255}else this.data[i]=255,this.data[i+1]=255,this.data[i+2]=255,this.data[i+3]=255}t!==0&&(this.pos+=4-t)}},Yc.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&e)/e*255|0,l=(i>>5&e)/e*255|0,c=(i>>10&e)/e*255|0,d=i>>15?255:0,f=n*this.width*4+4*s;this.data[f]=c,this.data[f+1]=l,this.data[f+2]=o,this.data[f+3]=d}this.pos+=t}},Yc.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var s=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,c=(o>>5&r)/r*255|0,d=(o>>11)/e*255|0,f=s*this.width*4+4*i;this.data[f]=d,this.data[f+1]=c,this.data[f+2]=l,this.data[f+3]=255}this.pos+=t}},Yc.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=i,this.data[o+1]=s,this.data[o+2]=n,this.data[o+3]=255}this.pos+=this.width%4}},Yc.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*r;this.data[l]=i,this.data[l+1]=s,this.data[l+2]=n,this.data[l+3]=o}},Yc.prototype.getData=function(){return this.data},(function(t){t.processBMP=function(e,r,n,s){var i=new Yc(e,!1),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new GT(100).encode(c,100);return t.processJPEG.call(this,d,r,n,s)}})(Tr.API),CG.prototype.getData=function(){return this.data},(function(t){t.processWEBP=function(e,r,n,s){var i=new CG(e),o=i.width,l=i.height,c={data:i.getData(),width:o,height:l},d=new GT(100).encode(c,100);return t.processJPEG.call(this,d,r,n,s)}})(Tr.API),Tr.API.processRGBA=function(t,e,r){for(var n=t.data,s=n.length,i=new Uint8Array(s/4*3),o=new Uint8Array(s/4),l=0,c=0,d=0;d<s;d+=4){var f=n[d],m=n[d+1],p=n[d+2],g=n[d+3];i[l++]=f,i[l++]=m,i[l++]=p,o[c++]=g}var v=this.__addimage__.arrayBufferToBinaryString(i);return{alpha:this.__addimage__.arrayBufferToBinaryString(o),data:v,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Tr.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},eg=Tr.API,g2=eg.getCharWidthsArray=function(t,e){var r,n,s=(e=e||{}).font||this.internal.getFont(),i=e.fontSize||this.internal.getFontSize(),o=e.charSpace||this.internal.getCharSpace(),l=e.widths?e.widths:s.metadata.Unicode.widths,c=l.fof?l.fof:1,d=e.kerning?e.kerning:s.metadata.Unicode.kerning,f=d.fof?d.fof:1,m=e.doKerning!==!1,p=0,g=t.length,v=0,w=l[0]||c,y=[];for(r=0;r<g;r++)n=t.charCodeAt(r),typeof s.metadata.widthOfString=="function"?y.push((s.metadata.widthOfGlyph(s.metadata.characterToGlyph(n))+o*(1e3/i)||0)/1e3):(p=m&&Bn(d[n])==="object"&&!isNaN(parseInt(d[n][v],10))?d[n][v]/f:0,y.push((l[n]||w)/c+p)),v=n;return y},gG=eg.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),s=e.charSpace||this.internal.getCharSpace();return eg.processArabic&&(t=eg.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,s)/r:g2.apply(this,arguments).reduce(function(i,o){return i+o},0)},xG=function(t,e,r,n){for(var s=[],i=0,o=t.length,l=0;i!==o&&l+e[i]<r;)l+=e[i],i++;s.push(t.slice(0,i));var c=i;for(l=0;i!==o;)l+e[i]>n&&(s.push(t.slice(c,i)),l=0,c=i),l+=e[i],i++;return c!==i&&s.push(t.slice(c,i)),s},bG=function(t,e,r){r||(r={});var n,s,i,o,l,c,d,f=[],m=[f],p=r.textIndent||0,g=0,v=0,w=t.split(" "),y=g2.apply(this,[" ",r])[0];if(c=r.lineIndent===-1?w[0].length+2:r.lineIndent||0){var N=Array(c).join(" "),k=[];w.map(function(A){(A=A.split(/\s*\n/)).length>1?k=k.concat(A.map(function(_,O){return(O&&_.length?`
`:"")+_})):k.push(A[0])}),w=k,c=gG.apply(this,[N,r])}for(i=0,o=w.length;i<o;i++){var S=0;if(n=w[i],c&&n[0]==`
`&&(n=n.substr(1),S=1),p+g+(v=(s=g2.apply(this,[n,r])).reduce(function(A,_){return A+_},0))>e||S){if(v>e){for(l=xG.apply(this,[n,s,e-(p+g),e]),f.push(l.shift()),f=[l.pop()];l.length;)m.push([l.shift()]);v=s.slice(n.length-(f[0]?f[0].length:0)).reduce(function(A,_){return A+_},0)}else f=[n];m.push(f),p=v+c,g=y}else f.push(n),p+=g+v,g=y}return d=c?function(A,_){return(_?N:"")+A.join(" ")}:function(A){return A.join(" ")},m.map(d)},eg.splitTextToSize=function(t,e,r){var n,s=(r=r||{}).fontSize||this.internal.getFontSize(),i=(function(f){if(f.widths&&f.kerning)return{widths:f.widths,kerning:f.kerning};var m=this.internal.getFont(f.fontName,f.fontStyle),p="Unicode";return m.metadata[p]?{widths:m.metadata[p].widths||{0:1},kerning:m.metadata[p].kerning||{}}:{font:m.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var o=1*this.internal.scaleFactor*e/s;i.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/s:0,i.lineIndent=r.lineIndent;var l,c,d=[];for(l=0,c=n.length;l<c;l++)d=d.concat(bG.apply(this,[n[l],o,i]));return d},(function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="0123456789abcdef",r="klmnopqrstuvwxyz",n={},s={},i=0;i<16;i++)n[r[i]]=e[i],s[e[i]]=r[i];var o=function(p){return"0x"+parseInt(p,10).toString(16)},l=t.__fontmetrics__.compress=function(p){var g,v,w,y,N=["{"];for(var k in p){if(g=p[k],isNaN(parseInt(k,10))?v="'"+k+"'":(k=parseInt(k,10),v=(v=o(k).slice(2)).slice(0,-1)+s[v.slice(-1)]),typeof g=="number")g<0?(w=o(g).slice(3),y="-"):(w=o(g).slice(2),y=""),w=y+w.slice(0,-1)+s[w.slice(-1)];else{if(Bn(g)!=="object")throw new Error("Don't know what to do with value type "+Bn(g)+".");w=l(g)}N.push(v+w)}return N.push("}"),N.join("")},c=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var g,v,w,y,N={},k=1,S=N,A=[],_="",O="",P=p.length-1,I=1;I<P;I+=1)(y=p[I])=="'"?g?(w=g.join(""),g=void 0):g=[]:g?g.push(y):y=="{"?(A.push([S,w]),S={},w=void 0):y=="}"?((v=A.pop())[0][v[1]]=S,w=void 0,S=v[0]):y=="-"?k=-1:w===void 0?n.hasOwnProperty(y)?(_+=n[y],w=parseInt(_,16)*k,k=1,_=""):_+=y:n.hasOwnProperty(y)?(O+=n[y],S[w]=parseInt(O,16)*k,k=1,w=void 0,O=""):O+=y;return N},d={codePages:["WinAnsiEncoding"],WinAnsiEncoding:c("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},f={Unicode:{Courier:d,"Courier-Bold":d,"Courier-BoldOblique":d,"Courier-Oblique":d,Helvetica:d,"Helvetica-Bold":d,"Helvetica-BoldOblique":d,"Helvetica-Oblique":d,"Times-Roman":d,"Times-Bold":d,"Times-BoldItalic":d,"Times-Italic":d}},m={Unicode:{"Courier-Oblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":c("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":c("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:c("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":c("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:c("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":c("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":c("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":c("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":c("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var g=p.font,v=m.Unicode[g.postScriptName];v&&(g.metadata.Unicode={},g.metadata.Unicode.widths=v.widths,g.metadata.Unicode.kerning=v.kerning);var w=f.Unicode[g.postScriptName];w&&(g.metadata.Unicode.encoding=w,g.encoding=w.codePages[0])}])})(Tr.API),(function(t){var e=function(r){for(var n=r.length,s=new Uint8Array(n),i=0;i<n;i++)s[i]=r.charCodeAt(i);return s};t.API.events.push(["addFont",function(r){var n=void 0,s=r.font,i=r.instance;if(!s.isStandardFont){if(i===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if(typeof(n=i.existsFileInVFS(s.postScriptName)===!1?i.loadFile(s.postScriptName):i.getFileFromVFS(s.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");(function(o,l){l=/^\x00\x01\x00\x00/.test(l)?e(l):e(W2(l)),o.metadata=t.API.TTFFont.open(l),o.metadata.Unicode=o.metadata.Unicode||{encoding:{},kerning:{},widths:[]},o.metadata.glyIdsUsed=[0]})(s,n)}}])})(Tr),Tr.API.addSvgAsImage=function(t,e,r,n,s,i,o,l){if(isNaN(e)||isNaN(r))throw Oa.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(n)||isNaN(s))throw Oa.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=n,c.height=s;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var f={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},m=this;return(Xr.canvg?Promise.resolve(Xr.canvg):q2(()=>import("./index.es-Bqykn-HJ.js"),__vite__mapDeps([0,1]))).catch(function(p){return Promise.reject(new Error("Could not load canvg: "+p))}).then(function(p){return p.default?p.default:p}).then(function(p){return p.fromString(d,t,f)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(p){return p.render(f)}).then(function(){m.addImage(c.toDataURL("image/jpeg",1),e,r,n,s,o,l)})},Tr.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var s=0;s<this.internal.pages[n].length;s++)this.internal.pages[n][s]=this.internal.pages[n][s].replace(e,r);return this},Tr.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,s,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,f=0,m=0;function p(v,w){var y,N=!1;for(y=0;y<v.length;y+=1)v[y]===w&&(N=!0);return N}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var g=l.length;for(m=0;m<g;m+=1)r[l[m]].value=r[l[m]].defaultValue,r[l[m]].explicitSet=!1}if(Bn(t)==="object"){for(s in t)if(i=t[s],p(l,s)&&i!==void 0){if(r[s].type==="boolean"&&typeof i=="boolean")r[s].value=i;else if(r[s].type==="name"&&p(r[s].valueSet,i))r[s].value=i;else if(r[s].type==="integer"&&Number.isInteger(i))r[s].value=i;else if(r[s].type==="array"){for(d=0;d<i.length;d+=1)if(n=!0,i[d].length===1&&typeof i[d][0]=="number")c.push(String(i[d]-1));else if(i[d].length>1){for(f=0;f<i[d].length;f+=1)typeof i[d][f]!="number"&&(n=!1);n===!0&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}r[s].value="["+c.join(" ")+"]"}else r[s].value=r[s].defaultValue;r[s].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var v,w=[];for(v in r)r[v].explicitSet===!0&&(r[v].type==="name"?w.push("/"+v+" /"+r[v].value):w.push("/"+v+" "+r[v].value));w.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+w.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},(function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',s=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),i=unescape(encodeURIComponent(n)),o=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),l=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),c=unescape(encodeURIComponent("</x:xmpmeta>")),d=i.length+o.length+l.length+s.length+c.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+d+" >>"),this.internal.write("stream"),this.internal.write(s+i+o+l+c),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,s){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:s||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}})(Tr.API),(function(t){var e=t.API,r=e.pdfEscape16=function(i,o){for(var l,c=o.metadata.Unicode.widths,d=["","0","00","000","0000"],f=[""],m=0,p=i.length;m<p;++m){if(l=o.metadata.characterToGlyph(i.charCodeAt(m)),o.metadata.glyIdsUsed.push(l),o.metadata.toUnicode[l]=i.charCodeAt(m),c.indexOf(l)==-1&&(c.push(l),c.push([parseInt(o.metadata.widthOfGlyph(l),10)])),l=="0")return f.join("");l=l.toString(16),f.push(d[4-l.length],l)}return f.join("")},n=function(i){var o,l,c,d,f,m,p;for(f=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,c=[],m=0,p=(l=Object.keys(i).sort(function(g,v){return g-v})).length;m<p;m++)o=l[m],c.length>=100&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar`,c=[]),i[o]!==void 0&&i[o]!==null&&typeof i[o].toString=="function"&&(d=("0000"+i[o].toString(16)).slice(-4),o=("0000"+(+o).toString(16)).slice(-4),c.push("<"+o+"><"+d+">"));return c.length&&(f+=`
`+c.length+` beginbfchar
`+c.join(`
`)+`
endbfchar
`),f+`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="Identity-H"){for(var m=l.metadata.Unicode.widths,p=l.metadata.subset.encode(l.metadata.glyIdsUsed,1),g="",v=0;v<p.length;v++)g+=String.fromCharCode(p[v]);var w=d();f({data:g,addLength1:!0,objectId:w}),c("endobj");var y=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:y}),c("endobj");var N=d();c("<<"),c("/Type /FontDescriptor"),c("/FontName /"+og(l.fontName)),c("/FontFile2 "+w+" 0 R"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/Flags "+l.metadata.flags),c("/StemV "+l.metadata.stemV),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c(">>"),c("endobj");var k=d();c("<<"),c("/Type /Font"),c("/BaseFont /"+og(l.fontName)),c("/FontDescriptor "+N+" 0 R"),c("/W "+t.API.PDFObject.convert(m)),c("/CIDToGIDMap /Identity"),c("/DW 1000"),c("/Subtype /CIDFontType2"),c("/CIDSystemInfo"),c("<<"),c("/Supplement 0"),c("/Registry (Adobe)"),c("/Ordering ("+l.encoding+")"),c(">>"),c(">>"),c("endobj"),l.objectNumber=d(),c("<<"),c("/Type /Font"),c("/Subtype /Type0"),c("/ToUnicode "+y+" 0 R"),c("/BaseFont /"+og(l.fontName)),c("/Encoding /"+l.encoding),c("/DescendantFonts ["+k+" 0 R]"),c(">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]),e.events.push(["putFont",function(i){(function(o){var l=o.font,c=o.out,d=o.newObject,f=o.putStream;if(l.metadata instanceof t.API.TTFFont&&l.encoding==="WinAnsiEncoding"){for(var m=l.metadata.rawData,p="",g=0;g<m.length;g++)p+=String.fromCharCode(m[g]);var v=d();f({data:p,addLength1:!0,objectId:v}),c("endobj");var w=d();f({data:n(l.metadata.toUnicode),addLength1:!0,objectId:w}),c("endobj");var y=d();c("<<"),c("/Descent "+l.metadata.decender),c("/CapHeight "+l.metadata.capHeight),c("/StemV "+l.metadata.stemV),c("/Type /FontDescriptor"),c("/FontFile2 "+v+" 0 R"),c("/Flags 96"),c("/FontBBox "+t.API.PDFObject.convert(l.metadata.bbox)),c("/FontName /"+og(l.fontName)),c("/ItalicAngle "+l.metadata.italicAngle),c("/Ascent "+l.metadata.ascender),c(">>"),c("endobj"),l.objectNumber=d();for(var N=0;N<l.metadata.hmtx.widths.length;N++)l.metadata.hmtx.widths[N]=parseInt(l.metadata.hmtx.widths[N]*(1e3/l.metadata.head.unitsPerEm));c("<</Subtype/TrueType/Type/Font/ToUnicode "+w+" 0 R/BaseFont/"+og(l.fontName)+"/FontDescriptor "+y+" 0 R/Encoding/"+l.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(l.metadata.hmtx.widths)+">>"),c("endobj"),l.isAlreadyPutted=!0}})(i)}]);var s=function(i){var o,l=i.text||"",c=i.x,d=i.y,f=i.options||{},m=i.mutex||{},p=m.pdfEscape,g=m.activeFontKey,v=m.fonts,w=g,y="",N=0,k="",S=v[w].encoding;if(v[w].encoding!=="Identity-H")return{text:l,x:c,y:d,options:f,mutex:m};for(k=l,w=g,Array.isArray(l)&&(k=l[0]),N=0;N<k.length;N+=1)v[w].metadata.hasOwnProperty("cmap")&&(o=v[w].metadata.cmap.unicode.codeMap[k[N].charCodeAt(0)]),o||k[N].charCodeAt(0)<256&&v[w].metadata.hasOwnProperty("Unicode")?y+=k[N]:y+="";var A="";return parseInt(w.slice(1))<14||S==="WinAnsiEncoding"?A=p(y,w).split("").map(function(_){return _.charCodeAt(0).toString(16)}).join(""):S==="Identity-H"&&(A=r(y,v[w])),m.isHex=!0,{text:A,x:c,y:d,options:f,mutex:m}};e.events.push(["postProcessText",function(i){var o=i.text||"",l=[],c={text:o,x:i.x,y:i.y,options:i.options,mutex:i.mutex};if(Array.isArray(o)){var d=0;for(d=0;d<o.length;d+=1)Array.isArray(o[d])&&o[d].length===3?l.push([s(Object.assign({},c,{text:o[d][0]})).text,o[d][1],o[d][2]]):l.push(s(Object.assign({},c,{text:o[d]})).text);i.text=l}else i.text=s(Object.assign({},c,{text:o})).text}])})(Tr),(function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}})(Tr.API),(function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var s,i,o,l,c,d,f,m=e,p=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],g=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],v={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},w={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},y=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],N=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),k=!1,S=0;this.__bidiEngine__={};var A=function(E){var M=E.charCodeAt(),H=M>>8,V=w[H];return V!==void 0?m[256*V+(255&M)]:H===252||H===253?"AL":N.test(H)?"L":H===8?"R":"N"},_=function(E){for(var M,H=0;H<E.length;H++){if((M=A(E.charAt(H)))==="L")return!1;if(M==="R")return!0}return!1},O=function(E,M,H,V){var G,q,B,z,X=M[V];switch(X){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":k=!1;break;case"N":case"AN":break;case"EN":k&&(X="AN");break;case"AL":k=!0,X="R";break;case"WS":case"BN":X="N";break;case"CS":V<1||V+1>=M.length||(G=H[V-1])!=="EN"&&G!=="AN"||(q=M[V+1])!=="EN"&&q!=="AN"?X="N":k&&(q="AN"),X=q===G?q:"N";break;case"ES":X=(G=V>0?H[V-1]:"B")==="EN"&&V+1<M.length&&M[V+1]==="EN"?"EN":"N";break;case"ET":if(V>0&&H[V-1]==="EN"){X="EN";break}if(k){X="N";break}for(B=V+1,z=M.length;B<z&&M[B]==="ET";)B++;X=B<z&&M[B]==="EN"?"EN":"N";break;case"NSM":if(o&&!l){for(z=M.length,B=V+1;B<z&&M[B]==="NSM";)B++;if(B<z){var ee=E[V],K=ee>=1425&&ee<=2303||ee===64286;if(G=M[B],K&&(G==="R"||G==="AL")){X="R";break}}}X=V<1||(G=M[V-1])==="B"?"N":H[V-1];break;case"B":k=!1,s=!0,X=S;break;case"S":i=!0,X="N"}return X},P=function(E,M,H){var V=E.split("");return H&&I(V,H,{hiLevel:S}),V.reverse(),M&&M.reverse(),V.join("")},I=function(E,M,H){var V,G,q,B,z,X=-1,ee=E.length,K=0,W=[],J=S?g:p,Z=[];for(k=!1,s=!1,i=!1,G=0;G<ee;G++)Z[G]=A(E[G]);for(q=0;q<ee;q++){if(z=K,W[q]=O(E,Z,W,q),V=240&(K=J[z][v[W[q]]]),K&=15,M[q]=B=J[K][5],V>0)if(V===16){for(G=X;G<q;G++)M[G]=1;X=-1}else X=-1;if(J[K][6])X===-1&&(X=q);else if(X>-1){for(G=X;G<q;G++)M[G]=B;X=-1}Z[q]==="B"&&(M[q]=0),H.hiLevel|=B}i&&(function(ie,ue,je){for(var ce=0;ce<je;ce++)if(ie[ce]==="S"){ue[ce]=S;for(var le=ce-1;le>=0&&ie[le]==="WS";le--)ue[le]=S}})(Z,M,ee)},R=function(E,M,H,V,G){if(!(G.hiLevel<E)){if(E===1&&S===1&&!s)return M.reverse(),void(H&&H.reverse());for(var q,B,z,X,ee=M.length,K=0;K<ee;){if(V[K]>=E){for(z=K+1;z<ee&&V[z]>=E;)z++;for(X=K,B=z-1;X<B;X++,B--)q=M[X],M[X]=M[B],M[B]=q,H&&(q=H[X],H[X]=H[B],H[B]=q);K=z}K++}}},F=function(E,M,H){var V=E.split(""),G={hiLevel:S};return H||(H=[]),I(V,H,G),(function(q,B,z){if(z.hiLevel!==0&&f)for(var X,ee=0;ee<q.length;ee++)B[ee]===1&&(X=y.indexOf(q[ee]))>=0&&(q[ee]=y[X+1])})(V,H,G),R(2,V,M,H,G),R(1,V,M,H,G),V.join("")};return this.__bidiEngine__.doBidiReorder=function(E,M,H){if((function(G,q){if(q)for(var B=0;B<G.length;B++)q[B]=B;l===void 0&&(l=_(G)),d===void 0&&(d=_(G))})(E,M),o||!c||d)if(o&&c&&l^d)S=l?1:0,E=P(E,M,H);else if(!o&&c&&d)S=l?1:0,E=F(E,M,H),E=P(E,M);else if(!o||l||c||d){if(o&&!c&&l^d)E=P(E,M),l?(S=0,E=F(E,M,H)):(S=1,E=F(E,M,H),E=P(E,M));else if(o&&l&&!c&&d)S=1,E=F(E,M,H),E=P(E,M);else if(!o&&!c&&l^d){var V=f;l?(S=1,E=F(E,M,H),S=0,f=!1,E=F(E,M,H),f=V):(S=0,E=F(E,M,H),E=P(E,M),S=1,f=!1,E=F(E,M,H),f=V,E=P(E,M))}}else S=0,E=F(E,M,H);else S=l?1:0,E=F(E,M,H);return E},this.__bidiEngine__.setOptions=function(E){E&&(o=E.isInputVisual,c=E.isOutputVisual,l=E.isInputRtl,d=E.isOutputRtl,f=E.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var s=n.text;n.x,n.y;var i=n.options||{};n.mutex,i.lang;var o=[];if(i.isInputVisual=typeof i.isInputVisual!="boolean"||i.isInputVisual,r.setOptions(i),Object.prototype.toString.call(s)==="[object Array]"){var l=0;for(o=[],l=0;l<s.length;l+=1)Object.prototype.toString.call(s[l])==="[object Array]"?o.push([r.doBidiReorder(s[l][0]),s[l][1],s[l][2]]):o.push([r.doBidiReorder(s[l])]);n.text=o}else n.text=r.doBidiReorder(s);r.setOptions({isInputVisual:!0})}])})(Tr),Tr.API.TTFFont=(function(){function t(e){var r;if(this.rawData=e,r=this.contents=new pm(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new $qe(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new kqe(this.contents),this.head=new _qe(this),this.name=new Eqe(this),this.cmap=new yae(this),this.toUnicode={},this.hhea=new Aqe(this),this.maxp=new Dqe(this),this.hmtx=new Pqe(this),this.post=new Mqe(this),this.os2=new Tqe(this),this.loca=new Fqe(this),this.glyf=new Lqe(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,s,i;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var o,l,c,d;for(d=[],o=0,l=(c=this.bbox).length;o<l;o++)e=c[o],d.push(Math.round(e*this.scaleFactor));return d}).call(this),this.stemV=0,this.post.exists?(n=255&(s=this.post.italic_angle),32768&(r=s>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(i=this.familyClass)===1||i===2||i===3||i===4||i===5||i===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var s,i,o,l;for(o=0,i=0,l=(e=""+e).length;0<=l?i<l:i>l;i=0<=l?++i:--i)s=e.charCodeAt(i),o+=this.widthOfGlyph(this.characterToGlyph(s))+n*(1e3/r)||0;return o*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t})();var bd,pm=(function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,s;for(s=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)s.push(this.writeByte(e.charCodeAt(r)));return s},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,s,i,o,l,c;return e=this.readByte(),r=this.readByte(),n=this.readByte(),s=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),c=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^s)+16777216*(255^i)+65536*(255^o)+256*(255^l)+(255^c)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*s+16777216*i+65536*o+256*l+c},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,s,i;for(i=[],n=0,s=e.length;n<s;n++)r=e[n],i.push(this.writeByte(r));return i},t})(),kqe=(function(){var t;function e(r){var n,s,i;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},s=0,i=this.tableCount;0<=i?s<i:s>i;s=0<=i?++s:--s)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,s,i,o,l,c,d,f,m,p,g,v,w;for(w in g=Object.keys(r).length,c=Math.log(2),m=16*Math.floor(Math.log(g)/c),o=Math.floor(m/c),f=16*g-m,(s=new pm).writeInt(this.scalarType),s.writeShort(g),s.writeShort(m),s.writeShort(o),s.writeShort(f),i=16*g,d=s.pos+i,l=null,v=[],r)for(p=r[w],s.writeString(w),s.writeInt(t(p)),s.writeInt(d),s.writeInt(p.length),v=v.concat(p),w==="head"&&(l=d),d+=p.length;d%4;)v.push(0),d++;return s.write(v),n=2981146554-t(s.data),s.pos=l+8,s.writeUInt32(n),s.data},t=function(r){var n,s,i,o;for(r=vae.call(r);r.length%4;)r.push(0);for(i=new pm(r),s=0,n=0,o=r.length;n<o;n=n+=4)s+=i.readUInt32();return 4294967295&s},e})(),Cqe={}.hasOwnProperty,bu=function(t,e){for(var r in e)Cqe.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};bd=(function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t})();var _qe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="head",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},t.prototype.encode=function(e){var r;return(r=new pm).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(e),r.writeShort(this.glyphDataFormat),r.data},t})(),_G=(function(){function t(e,r){var n,s,i,o,l,c,d,f,m,p,g,v,w,y,N,k,S;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),m=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(c=0;c<256;++c)this.codeMap[c]=e.readByte();break;case 4:for(g=e.readUInt16(),p=g/2,e.pos+=6,i=(function(){var A,_;for(_=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)_.push(e.readUInt16());return _})(),e.pos+=2,w=(function(){var A,_;for(_=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)_.push(e.readUInt16());return _})(),d=(function(){var A,_;for(_=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)_.push(e.readUInt16());return _})(),f=(function(){var A,_;for(_=[],c=A=0;0<=p?A<p:A>p;c=0<=p?++A:--A)_.push(e.readUInt16());return _})(),s=(this.length-e.pos+this.offset)/2,l=(function(){var A,_;for(_=[],c=A=0;0<=s?A<s:A>s;c=0<=s?++A:--A)_.push(e.readUInt16());return _})(),c=N=0,S=i.length;N<S;c=++N)for(y=i[c],n=k=v=w[c];v<=y?k<=y:k>=y;n=v<=y?++k:--k)f[c]===0?o=n+d[c]:(o=l[f[c]/2+(n-v)-(p-c)]||0)!==0&&(o+=d[c]),this.codeMap[n]=65535&o}e.pos=m}return t.encode=function(e,r){var n,s,i,o,l,c,d,f,m,p,g,v,w,y,N,k,S,A,_,O,P,I,R,F,E,M,H,V,G,q,B,z,X,ee,K,W,J,Z,ie,ue,je,ce,le,pe,$e,de;switch(V=new pm,o=Object.keys(e).sort(function(Se,te){return Se-te}),r){case"macroman":for(w=0,y=(function(){var Se=[];for(v=0;v<256;++v)Se.push(0);return Se})(),k={0:0},i={},G=0,X=o.length;G<X;G++)k[le=e[s=o[G]]]==null&&(k[le]=++w),i[s]={old:e[s],new:k[e[s]]},y[s]=k[e[s]];return V.writeUInt16(1),V.writeUInt16(0),V.writeUInt32(12),V.writeUInt16(0),V.writeUInt16(262),V.writeUInt16(0),V.write(y),{charMap:i,subtable:V.data,maxGlyphID:w+1};case"unicode":for(M=[],m=[],S=0,k={},n={},N=d=null,q=0,ee=o.length;q<ee;q++)k[_=e[s=o[q]]]==null&&(k[_]=++S),n[s]={old:_,new:k[_]},l=k[_]-s,N!=null&&l===d||(N&&m.push(N),M.push(s),d=l),N=s;for(N&&m.push(N),m.push(65535),M.push(65535),F=2*(R=M.length),I=2*Math.pow(Math.log(R)/Math.LN2,2),p=Math.log(I/2)/Math.LN2,P=2*R-I,c=[],O=[],g=[],v=B=0,K=M.length;B<K;v=++B){if(E=M[v],f=m[v],E===65535){c.push(0),O.push(0);break}if(E-(H=n[E].new)>=32768)for(c.push(0),O.push(2*(g.length+R-v)),s=z=E;E<=f?z<=f:z>=f;s=E<=f?++z:--z)g.push(n[s].new);else c.push(H-E),O.push(0)}for(V.writeUInt16(3),V.writeUInt16(1),V.writeUInt32(12),V.writeUInt16(4),V.writeUInt16(16+8*R+2*g.length),V.writeUInt16(0),V.writeUInt16(F),V.writeUInt16(I),V.writeUInt16(p),V.writeUInt16(P),je=0,W=m.length;je<W;je++)s=m[je],V.writeUInt16(s);for(V.writeUInt16(0),ce=0,J=M.length;ce<J;ce++)s=M[ce],V.writeUInt16(s);for(pe=0,Z=c.length;pe<Z;pe++)l=c[pe],V.writeUInt16(l);for($e=0,ie=O.length;$e<ie;$e++)A=O[$e],V.writeUInt16(A);for(de=0,ue=g.length;de<ue;de++)w=g[de],V.writeUInt16(w);return{charMap:n,subtable:V.data,maxGlyphID:S+1}}},t})(),yae=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="cmap",t.prototype.parse=function(e){var r,n,s;for(e.pos=this.offset,this.version=e.readUInt16(),s=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=s?n<s:n>s;n=0<=s?++n:--n)r=new _G(e,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},t.encode=function(e,r){var n,s;return r==null&&(r="macroman"),n=_G.encode(e,r),(s=new pm).writeUInt16(0),s.writeUInt16(1),n.table=s.data.concat(n.subtable),n},t})(),Aqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="hhea",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},t})(),Tqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="OS/2",t.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=(function(){var r,n;for(n=[],r=0;r<10;++r)n.push(e.readByte());return n})(),this.charRange=(function(){var r,n;for(n=[],r=0;r<4;++r)n.push(e.readInt());return n})(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=(function(){var r,n;for(n=[],r=0;r<2;r=++r)n.push(e.readInt());return n})(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},t})(),Mqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="post",t.prototype.parse=function(e){var r,n,s;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var i;for(n=e.readUInt16(),this.glyphNameIndex=[],i=0;0<=n?i<n:i>n;i=0<=n?++i:--i)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],s=[];e.pos<this.offset+this.length;)r=e.readByte(),s.push(this.names.push(e.readString(r)));return s;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=(function(){var o,l,c;for(c=[],i=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;i=0<=l?++o:--o)c.push(e.readUInt32());return c}).call(this)}},t})(),Oqe=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},Eqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="name",t.prototype.parse=function(e){var r,n,s,i,o,l,c,d,f,m,p;for(e.pos=this.offset,e.readShort(),r=e.readShort(),l=e.readShort(),n=[],i=0;0<=r?i<r:i>r;i=0<=r?++i:--i)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+l+e.readShort()});for(c={},i=f=0,m=n.length;f<m;i=++f)s=n[i],e.pos=s.offset,d=e.readString(s.length),o=new Oqe(d,s),c[p=s.nameID]==null&&(c[p]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},t})(),Dqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="maxp",t.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},t})(),Pqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="hmtx",t.prototype.parse=function(e){var r,n,s,i,o,l,c;for(e.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=(function(){var d,f;for(f=[],r=d=0;0<=s?d<s:d>s;r=0<=s?++d:--d)f.push(e.readInt16());return f})(),this.widths=(function(){var d,f,m,p;for(p=[],d=0,f=(m=this.metrics).length;d<f;d++)i=m[d],p.push(i.advance);return p}).call(this),n=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(n));return c},t.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},t})(),vae=[].slice,Lqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="glyf",t.prototype.parse=function(){return this.cache={}},t.prototype.glyphFor=function(e){var r,n,s,i,o,l,c,d,f,m;return e in this.cache?this.cache[e]:(i=this.file.loca,r=this.file.contents,n=i.indexOf(e),(s=i.lengthOf(e))===0?this.cache[e]=null:(r.pos=this.offset+n,o=(l=new pm(r.read(s))).readShort(),d=l.readShort(),m=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[e]=o===-1?new Iqe(l,d,m,c,f):new Rqe(l,o,d,m,c,f),this.cache[e]))},t.prototype.encode=function(e,r,n){var s,i,o,l,c;for(o=[],i=[],l=0,c=r.length;l<c;l++)s=e[r[l]],i.push(o.length),s&&(o=o.concat(s.encode(n)));return i.push(o.length),{table:o,offsets:i}},t})(),Rqe=(function(){function t(e,r,n,s,i,o){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=s,this.xMax=i,this.yMax=o,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t})(),Iqe=(function(){function t(e,r,n,s,i){var o,l;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=s,this.yMax=i,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],o=this.raw;l=o.readShort(),this.glyphOffsets.push(o.pos),this.glyphIDs.push(o.readUInt16()),32&l;)o.pos+=1&l?4:2,128&l?o.pos+=8:64&l?o.pos+=4:8&l&&(o.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new pm(vae.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t})(),Fqe=(function(){function t(){return t.__super__.constructor.apply(this,arguments)}return bu(t,bd),t.prototype.tag="loca",t.prototype.parse=function(e){var r,n;return e.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=2)i.push(2*e.readUInt16());return i}).call(this):(function(){var s,i;for(i=[],n=0,s=this.length;n<s;n+=4)i.push(e.readUInt32());return i}).call(this)},t.prototype.indexOf=function(e){return this.offsets[e]},t.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},t.prototype.encode=function(e,r){for(var n=new Uint32Array(this.offsets.length),s=0,i=0,o=0;o<n.length;++o)if(n[o]=s,i<r.length&&r[i]==o){++i,n[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var d=new Array(4*n.length),f=0;f<n.length;++f)d[4*f+3]=255&n[f],d[4*f+2]=(65280&n[f])>>8,d[4*f+1]=(16711680&n[f])>>16,d[4*f]=(4278190080&n[f])>>24;return d},t})(),$qe=(function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,s,i;for(r in s=this.font.cmap.tables[0].codeMap,e={},i=this.subset)n=i[r],e[r]=s[n];return e},t.prototype.glyphsFor=function(e){var r,n,s,i,o,l,c;for(s={},o=0,l=e.length;o<l;o++)s[i=e[o]]=this.font.glyf.glyphFor(i);for(i in r=[],s)(n=s[i])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(i in c=this.glyphsFor(r))n=c[i],s[i]=n;return s},t.prototype.encode=function(e,r){var n,s,i,o,l,c,d,f,m,p,g,v,w,y,N;for(s in n=yae.encode(this.generateCmap(),"unicode"),o=this.glyphsFor(e),g={0:0},N=n.charMap)g[(c=N[s]).old]=c.new;for(v in p=n.maxGlyphID,o)v in g||(g[v]=p++);return f=(function(k){var S,A;for(S in A={},k)A[k[S]]=S;return A})(g),m=Object.keys(f).sort(function(k,S){return k-S}),w=(function(){var k,S,A;for(A=[],k=0,S=m.length;k<S;k++)l=m[k],A.push(f[l]);return A})(),i=this.font.glyf.encode(o,w,g),d=this.font.loca.encode(i.offsets,w),y={cmap:this.font.cmap.raw(),glyf:i.table,loca:d,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(y["OS/2"]=this.font.os2.raw()),this.font.directory.encode(y)},t})();Tr.API.PDFObject=(function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,s,i,o;if(Array.isArray(r))return"["+(function(){var l,c,d;for(d=[],l=0,c=r.length;l<c;l++)n=r[l],d.push(e.convert(n));return d})().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(s in i=["<<"],r)o=r[s],i.push("/"+s+" "+e.convert(o));return i.push(">>"),i.join(`
`)}return""+r},e})();function wae(t,e,r,n,s){n=n||{};var i=1.15,o=s.internal.scaleFactor,l=s.internal.getFontSize()/o,c=s.getLineHeightFactor?s.getLineHeightFactor():i,d=l*c,f=/\r\n|\r|\n/g,m="",p=1;if((n.valign==="middle"||n.valign==="bottom"||n.halign==="center"||n.halign==="right")&&(m=typeof t=="string"?t.split(f):t,p=m.length||1),r+=l*(2-i),n.valign==="middle"?r-=p/2*d:n.valign==="bottom"&&(r-=p*d),n.halign==="center"||n.halign==="right"){var g=l;if(n.halign==="center"&&(g*=.5),m&&p>=1){for(var v=0;v<m.length;v++)s.text(m[v],e-s.getStringUnitWidth(m[v])*g,r),r+=d;return s}e-=s.getStringUnitWidth(t)*g}return n.halign==="justify"?s.text(t,e,r,{maxWidth:n.maxWidth||100,align:"justify"}):s.text(t,e,r),s}var AG={},Rg=(function(){function t(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return t.setDefaults=function(e,r){r===void 0&&(r=null),r?r.__autoTableDocumentDefaults=e:AG=e},t.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},t.prototype.applyStyles=function(e,r){var n,s,i;r===void 0&&(r=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var o=this.jsPDFDocument.internal.getFont(),l=o.fontStyle,c=o.fontName;if(e.font&&(c=e.font),e.fontStyle){l=e.fontStyle;var d=this.getFontList()[c];d&&d.indexOf(l)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(d[0]),l=d[0])}if(this.jsPDFDocument.setFont(c,l),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!r){var f=t.unifyColor(e.fillColor);f&&(n=this.jsPDFDocument).setFillColor.apply(n,f),f=t.unifyColor(e.textColor),f&&(s=this.jsPDFDocument).setTextColor.apply(s,f),f=t.unifyColor(e.lineColor),f&&(i=this.jsPDFDocument).setDrawColor.apply(i,f),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},t.prototype.splitTextToSize=function(e,r,n){return this.jsPDFDocument.splitTextToSize(e,r,n)},t.prototype.rect=function(e,r,n,s,i){return this.jsPDFDocument.rect(e,r,n,s,i)},t.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},t.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},t.prototype.getDocument=function(){return this.jsPDFDocument},t.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},t.prototype.addPage=function(){return this.jsPDFDocument.addPage()},t.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},t.prototype.getGlobalOptions=function(){return AG||{}},t.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},t.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},t.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},t.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},t.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},t.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},t})(),rE=function(t,e){return rE=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(r[s]=n[s])},rE(t,e)};function jae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");rE(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var Nae=(function(t){jae(e,t);function e(r){var n=t.call(this)||this;return n._element=r,n}return e})(Array);function Hqe(t){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/t,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Bqe(t){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[t]}function bN(t,e,r){r.applyStyles(e,!0);var n=Array.isArray(t)?t:[t],s=n.map(function(i){return r.getTextWidth(i)}).reduce(function(i,o){return Math.max(i,o)},0);return s}function Sae(t,e,r,n){var s=e.settings.tableLineWidth,i=e.settings.tableLineColor;t.applyStyles({lineWidth:s,lineColor:i});var o=kae(s,!1);o&&t.rect(r.x,r.y,e.getWidth(t.pageSize().width),n.y-r.y,o)}function kae(t,e){var r=t>0,n=e||e===0;return r&&n?"DF":r?"S":n?"F":null}function $S(t,e){var r,n,s,i;if(t=t||e,Array.isArray(t)){if(t.length>=4)return{top:t[0],right:t[1],bottom:t[2],left:t[3]};if(t.length===3)return{top:t[0],right:t[1],bottom:t[2],left:t[1]};if(t.length===2)return{top:t[0],right:t[1],bottom:t[0],left:t[1]};t.length===1?t=t[0]:t=e}return typeof t=="object"?(typeof t.vertical=="number"&&(t.top=t.vertical,t.bottom=t.vertical),typeof t.horizontal=="number"&&(t.right=t.horizontal,t.left=t.horizontal),{left:(r=t.left)!==null&&r!==void 0?r:e,top:(n=t.top)!==null&&n!==void 0?n:e,right:(s=t.right)!==null&&s!==void 0?s:e,bottom:(i=t.bottom)!==null&&i!==void 0?i:e}):(typeof t!="number"&&(t=e),{top:t,right:t,bottom:t,left:t})}function Cae(t,e){var r=$S(e.settings.margin,0);return t.pageSize().width-(r.left+r.right)}function zqe(t,e,r,n,s){var i={},o=1.3333333333333333,l=YT(e,function(S){return s.getComputedStyle(S).backgroundColor});l!=null&&(i.fillColor=l);var c=YT(e,function(S){return s.getComputedStyle(S).color});c!=null&&(i.textColor=c);var d=Uqe(n,r);d&&(i.cellPadding=d);var f="borderTopColor",m=o*r,p=n.borderTopWidth;if(n.borderBottomWidth===p&&n.borderRightWidth===p&&n.borderLeftWidth===p){var g=(parseFloat(p)||0)/m;g&&(i.lineWidth=g)}else i.lineWidth={top:(parseFloat(n.borderTopWidth)||0)/m,right:(parseFloat(n.borderRightWidth)||0)/m,bottom:(parseFloat(n.borderBottomWidth)||0)/m,left:(parseFloat(n.borderLeftWidth)||0)/m},i.lineWidth.top||(i.lineWidth.right?f="borderRightColor":i.lineWidth.bottom?f="borderBottomColor":i.lineWidth.left&&(f="borderLeftColor"));var v=YT(e,function(S){return s.getComputedStyle(S)[f]});v!=null&&(i.lineColor=v);var w=["left","right","center","justify"];w.indexOf(n.textAlign)!==-1&&(i.halign=n.textAlign),w=["middle","bottom","top"],w.indexOf(n.verticalAlign)!==-1&&(i.valign=n.verticalAlign);var y=parseInt(n.fontSize||"");isNaN(y)||(i.fontSize=y/o);var N=qqe(n);N&&(i.fontStyle=N);var k=(n.fontFamily||"").toLowerCase();return t.indexOf(k)!==-1&&(i.font=k),i}function qqe(t){var e="";return(t.fontWeight==="bold"||t.fontWeight==="bolder"||parseInt(t.fontWeight)>=700)&&(e="bold"),(t.fontStyle==="italic"||t.fontStyle==="oblique")&&(e+="italic"),e}function YT(t,e){var r=_ae(t,e);if(!r)return null;var n=r.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!n||!Array.isArray(n))return null;var s=[parseInt(n[1]),parseInt(n[2]),parseInt(n[3])],i=parseInt(n[4]);return i===0||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function _ae(t,e){var r=e(t);return r==="rgba(0, 0, 0, 0)"||r==="transparent"||r==="initial"||r==="inherit"?t.parentElement==null?null:_ae(t.parentElement,e):r}function Uqe(t,e){var r=[t.paddingTop,t.paddingRight,t.paddingBottom,t.paddingLeft],n=96/(72/e),s=(parseInt(t.lineHeight)-parseInt(t.fontSize))/e/2,i=r.map(function(l){return parseInt(l||"0")/n}),o=$S(i,0);return s>o.top&&(o.top=s),s>o.bottom&&(o.bottom=s),o}function Aae(t,e,r,n,s){var i,o;n===void 0&&(n=!1),s===void 0&&(s=!1);var l;typeof e=="string"?l=r.document.querySelector(e):l=e;var c=Object.keys(t.getFontList()),d=t.scaleFactor(),f=[],m=[],p=[];if(!l)return console.error("Html table could not be found with input: ",e),{head:f,body:m,foot:p};for(var g=0;g<l.rows.length;g++){var v=l.rows[g],w=(o=(i=v==null?void 0:v.parentElement)===null||i===void 0?void 0:i.tagName)===null||o===void 0?void 0:o.toLowerCase(),y=Wqe(c,d,r,v,n,s);y&&(w==="thead"?f.push(y):w==="tfoot"?p.push(y):m.push(y))}return{head:f,body:m,foot:p}}function Wqe(t,e,r,n,s,i){for(var o=new Nae(n),l=0;l<n.cells.length;l++){var c=n.cells[l],d=r.getComputedStyle(c);if(s||d.display!=="none"){var f=void 0;i&&(f=zqe(t,c,e,d,r)),o.push({rowSpan:c.rowSpan,colSpan:c.colSpan,styles:f,_element:c,content:Vqe(c)})}}var m=r.getComputedStyle(n);if(o.length>0&&(s||m.display!=="none"))return o}function Vqe(t){var e=t.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(r){return r.trim()}).join(`
`),e.innerText||e.textContent||""}function Gqe(t,e,r){for(var n=0,s=[t,e,r];n<s.length;n++){var i=s[n];i&&typeof i!="object"&&console.error("The options parameter should be of type object, is: "+typeof i),i.startY&&typeof i.startY!="number"&&(console.error("Invalid value for startY option",i.startY),delete i.startY)}}function xf(t,e,r,n,s){if(t==null)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),o=1;o<arguments.length;o++){var l=arguments[o];if(l!=null)for(var c in l)Object.prototype.hasOwnProperty.call(l,c)&&(i[c]=l[c])}return i}function Tae(t,e){var r=new Rg(t),n=r.getDocumentOptions(),s=r.getGlobalOptions();Gqe(s,n,e);var i=xf({},s,n,e),o;typeof window<"u"&&(o=window);var l=Yqe(s,n,e),c=Kqe(s,n,e),d=Jqe(r,i),f=Qqe(r,i,o);return{id:e.tableId,content:f,hooks:c,styles:l,settings:d}}function Yqe(t,e,r){for(var n={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},s=function(c){if(c==="columnStyles"){var d=t[c],f=e[c],m=r[c];n.columnStyles=xf({},d,f,m)}else{var p=[t,e,r],g=p.map(function(v){return v[c]||{}});n[c]=xf({},g[0],g[1],g[2])}},i=0,o=Object.keys(n);i<o.length;i++){var l=o[i];s(l)}return n}function Kqe(t,e,r){for(var n=[t,e,r],s={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},i=0,o=n;i<o.length;i++){var l=o[i];l.didParseCell&&s.didParseCell.push(l.didParseCell),l.willDrawCell&&s.willDrawCell.push(l.willDrawCell),l.didDrawCell&&s.didDrawCell.push(l.didDrawCell),l.willDrawPage&&s.willDrawPage.push(l.willDrawPage),l.didDrawPage&&s.didDrawPage.push(l.didDrawPage)}return s}function Jqe(t,e){var r,n,s,i,o,l,c,d,f,m,p,g,v=$S(e.margin,40/t.scaleFactor()),w=(r=Xqe(t,e.startY))!==null&&r!==void 0?r:v.top,y;e.showFoot===!0?y="everyPage":e.showFoot===!1?y="never":y=(n=e.showFoot)!==null&&n!==void 0?n:"everyPage";var N;e.showHead===!0?N="everyPage":e.showHead===!1?N="never":N=(s=e.showHead)!==null&&s!==void 0?s:"everyPage";var k=(i=e.useCss)!==null&&i!==void 0?i:!1,S=e.theme||(k?"plain":"striped"),A=!!e.horizontalPageBreak,_=(o=e.horizontalPageBreakRepeat)!==null&&o!==void 0?o:null;return{includeHiddenHtml:(l=e.includeHiddenHtml)!==null&&l!==void 0?l:!1,useCss:k,theme:S,startY:w,margin:v,pageBreak:(c=e.pageBreak)!==null&&c!==void 0?c:"auto",rowPageBreak:(d=e.rowPageBreak)!==null&&d!==void 0?d:"auto",tableWidth:(f=e.tableWidth)!==null&&f!==void 0?f:"auto",showHead:N,showFoot:y,tableLineWidth:(m=e.tableLineWidth)!==null&&m!==void 0?m:0,tableLineColor:(p=e.tableLineColor)!==null&&p!==void 0?p:200,horizontalPageBreak:A,horizontalPageBreakRepeat:_,horizontalPageBreakBehaviour:(g=e.horizontalPageBreakBehaviour)!==null&&g!==void 0?g:"afterAllRows"}}function Xqe(t,e){var r=t.getLastAutoTable(),n=t.scaleFactor(),s=t.pageNumber(),i=!1;if(r&&r.startPageNumber){var o=r.startPageNumber+r.pageNumber-1;i=o===s}return typeof e=="number"?e:(e==null||e===!1)&&i&&(r==null?void 0:r.finalY)!=null?r.finalY+20/n:null}function Qqe(t,e,r){var n=e.head||[],s=e.body||[],i=e.foot||[];if(e.html){var o=e.includeHiddenHtml;if(r){var l=Aae(t,e.html,r,o,e.useCss)||{};n=l.head||n,s=l.body||n,i=l.foot||n}else console.error("Cannot parse html in non browser environment")}var c=e.columns||Zqe(n,s,i);return{columns:c,head:n,body:s,foot:i}}function Zqe(t,e,r){var n=t[0]||e[0]||r[0]||[],s=[];return Object.keys(n).filter(function(i){return i!=="_element"}).forEach(function(i){var o=1,l;Array.isArray(n)?l=n[parseInt(i)]:l=n[i],typeof l=="object"&&!Array.isArray(l)&&(o=(l==null?void 0:l.colSpan)||1);for(var c=0;c<o;c++){var d=void 0;Array.isArray(n)?d=s.length:d=i+(c>0?"_".concat(c):"");var f={dataKey:d};s.push(f)}}),s}var nE=(function(){function t(e,r,n){this.table=r,this.pageNumber=r.pageNumber,this.settings=r.settings,this.cursor=n,this.doc=e.getDocument()}return t})(),eUe=(function(t){jae(e,t);function e(r,n,s,i,o,l){var c=t.call(this,r,n,l)||this;return c.cell=s,c.row=i,c.column=o,c.section=i.section,c}return e})(nE),tUe=(function(){function t(e,r){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=r.columns,this.head=r.head,this.body=r.body,this.foot=r.foot}return t.prototype.getHeadHeight=function(e){return this.head.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.getFootHeight=function(e){return this.foot.reduce(function(r,n){return r+n.getMaxCellHeight(e)},0)},t.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},t.prototype.callCellHooks=function(e,r,n,s,i,o){for(var l=0,c=r;l<c.length;l++){var d=c[l],f=new eUe(e,this,n,s,i,o),m=d(f)===!1;if(n.text=Array.isArray(n.text)?n.text:[n.text],m)return!1}return!0},t.prototype.callEndPageHooks=function(e,r){e.applyStyles(e.userStyles);for(var n=0,s=this.hooks.didDrawPage;n<s.length;n++){var i=s[n];i(new nE(e,this,r))}},t.prototype.callWillDrawPageHooks=function(e,r){for(var n=0,s=this.hooks.willDrawPage;n<s.length;n++){var i=s[n];i(new nE(e,this,r))}},t.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var r=this.columns.reduce(function(s,i){return s+i.wrappedWidth},0);return r}else{var n=this.settings.margin;return e-n.left-n.right}},t})(),Mae=(function(){function t(e,r,n,s,i){i===void 0&&(i=!1),this.height=0,this.raw=e,e instanceof Nae&&(this.raw=e._element,this.element=e._element),this.index=r,this.section=n,this.cells=s,this.spansMultiplePages=i}return t.prototype.getMaxCellHeight=function(e){var r=this;return e.reduce(function(n,s){var i;return Math.max(n,((i=r.cells[s.index])===null||i===void 0?void 0:i.height)||0)},0)},t.prototype.hasRowSpan=function(e){var r=this;return e.filter(function(n){var s=r.cells[n.index];return s?s.rowSpan>1:!1}).length>0},t.prototype.canEntireRowFit=function(e,r){return this.getMaxCellHeight(r)<=e},t.prototype.getMinimumRowHeight=function(e,r){var n=this;return e.reduce(function(s,i){var o=n.cells[i.index];if(!o)return 0;var l=r.getLineHeight(o.styles.fontSize),c=o.padding("vertical"),d=c+l;return d>s?d:s},0)},t})(),Oae=(function(){function t(e,r,n){var s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=r,this.section=n,this.raw=e;var i=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,i=(s=e.content)!==null&&s!==void 0?s:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var o=i!=null?""+i:"",l=/\r\n|\r|\n/g;this.text=o.split(l)}return t.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var r=this.height-this.padding("vertical");e=this.y+r/2+this.padding("top")}var n;if(this.styles.halign==="right")n=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var s=this.width-this.padding("horizontal");n=this.x+s/2+this.padding("left")}else n=this.x+this.padding("left");return{x:n,y:e}},t.prototype.getContentHeight=function(e,r){r===void 0&&(r=1.15);var n=Array.isArray(this.text)?this.text.length:1,s=this.styles.fontSize/e*r,i=n*s+this.padding("vertical");return Math.max(i,this.styles.minCellHeight)},t.prototype.padding=function(e){var r=$S(this.styles.cellPadding,0);return e==="vertical"?r.top+r.bottom:e==="horizontal"?r.left+r.right:r[e]},t})(),rUe=(function(){function t(e,r,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=r,this.index=n}return t.prototype.getMaxCustomCellWidth=function(e){for(var r=0,n=0,s=e.allRows();n<s.length;n++){var i=s[n],o=i.cells[this.index];o&&typeof o.styles.cellWidth=="number"&&(r=Math.max(r,o.styles.cellWidth))}return r},t})();function nUe(t,e){aUe(t,e);var r=[],n=0;e.columns.forEach(function(i){var o=i.getMaxCustomCellWidth(e);o?i.width=o:(i.width=i.wrappedWidth,r.push(i)),n+=i.width});var s=e.getWidth(t.pageSize().width)-n;s&&(s=aE(r,s,function(i){return Math.max(i.minReadableWidth,i.minWidth)})),s&&(s=aE(r,s,function(i){return i.minWidth})),s=Math.abs(s),!e.settings.horizontalPageBreak&&s>.1/t.scaleFactor()&&(s=s<1?s:Math.round(s),console.warn("Of the table content, ".concat(s," units width could not fit page"))),iUe(e),oUe(e,t),sUe(e)}function aUe(t,e){var r=t.scaleFactor(),n=e.settings.horizontalPageBreak,s=Cae(t,e);e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var f=e.hooks.didParseCell;e.callCellHooks(t,f,d,i,c,null);var m=d.padding("horizontal");d.contentWidth=bN(d.text,d.styles,t)+m;var p=bN(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,t);if(d.minReadableWidth=p+d.padding("horizontal"),typeof d.styles.cellWidth=="number")d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if(d.styles.cellWidth==="wrap"||n===!0)d.contentWidth>s?(d.minWidth=s,d.wrappedWidth=s):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var g=10/r;d.minWidth=d.styles.minCellWidth||g,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),e.allRows().forEach(function(i){for(var o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d&&d.colSpan===1)c.wrappedWidth=Math.max(c.wrappedWidth,d.wrappedWidth),c.minWidth=Math.max(c.minWidth,d.minWidth),c.minReadableWidth=Math.max(c.minReadableWidth,d.minReadableWidth);else{var f=e.styles.columnStyles[c.dataKey]||e.styles.columnStyles[c.index]||{},m=f.cellWidth||f.minCellWidth;m&&typeof m=="number"&&(c.minWidth=m,c.wrappedWidth=m)}d&&(d.colSpan>1&&!c.minWidth&&(c.minWidth=d.minWidth),d.colSpan>1&&!c.wrappedWidth&&(c.wrappedWidth=d.minWidth))}})}function aE(t,e,r){for(var n=e,s=t.reduce(function(g,v){return g+v.wrappedWidth},0),i=0;i<t.length;i++){var o=t[i],l=o.wrappedWidth/s,c=n*l,d=o.width+c,f=r(o),m=d<f?f:d;e-=m-o.width,o.width=m}if(e=Math.round(e*1e10)/1e10,e){var p=t.filter(function(g){return e<0?g.width>r(g):!0});p.length&&(e=aE(p,e,r))}return e}function sUe(t){for(var e={},r=1,n=t.allRows(),s=0;s<n.length;s++)for(var i=n[s],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=e[c.index];if(r>1)r--,delete i.cells[c.index];else if(d)d.cell.height+=i.height,r=d.cell.colSpan,delete i.cells[c.index],d.left--,d.left<=1&&delete e[c.index];else{var f=i.cells[c.index];if(!f)continue;if(f.height=i.height,f.rowSpan>1){var m=n.length-s,p=f.rowSpan>m?m:f.rowSpan;e[c.index]={cell:f,left:p,row:i}}}}}function iUe(t){for(var e=t.allRows(),r=0;r<e.length;r++)for(var n=e[r],s=null,i=0,o=0,l=0;l<t.columns.length;l++){var c=t.columns[l];if(o-=1,o>1&&t.columns[l+1])i+=c.width,delete n.cells[c.index];else if(s){var d=s;delete n.cells[c.index],s=null,d.width=c.width+i}else{var d=n.cells[c.index];if(!d)continue;if(o=d.colSpan,i=0,d.colSpan>1){s=d,i+=c.width;continue}d.width=c.width+i}}}function oUe(t,e){for(var r={count:0,height:0},n=0,s=t.allRows();n<s.length;n++){for(var i=s[n],o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){e.applyStyles(d.styles,!0);var f=d.width-d.padding("horizontal");if(d.styles.overflow==="linebreak")d.text=e.splitTextToSize(d.text,f+1/e.scaleFactor(),{fontSize:d.styles.fontSize});else if(d.styles.overflow==="ellipsize")d.text=TG(d.text,f,d.styles,e,"...");else if(d.styles.overflow==="hidden")d.text=TG(d.text,f,d.styles,e,"");else if(typeof d.styles.overflow=="function"){var m=d.styles.overflow(d.text,f);typeof m=="string"?d.text=[m]:d.text=m}d.contentHeight=d.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var p=d.contentHeight/d.rowSpan;d.rowSpan>1&&r.count*r.height<p*d.rowSpan?r={height:p,count:d.rowSpan}:r&&r.count>0&&r.height>p&&(p=r.height),p>i.height&&(i.height=p)}}r.count--}}function TG(t,e,r,n,s){return t.map(function(i){return lUe(i,e,r,n,s)})}function lUe(t,e,r,n,s){var i=1e4*n.scaleFactor();if(e=Math.ceil(e*i)/i,e>=bN(t,r,n))return t;for(;e<bN(t+s,r,n)&&!(t.length<=1);)t=t.substring(0,t.length-1);return t.trim()+s}function Eae(t,e){var r=new Rg(t),n=cUe(e,r.scaleFactor()),s=new tUe(e,n);return nUe(r,s),r.applyStyles(r.userStyles),s}function cUe(t,e){var r=t.content,n=uUe(r.columns);if(r.head.length===0){var s=MG(n,"head");s&&r.head.push(s)}if(r.foot.length===0){var s=MG(n,"foot");s&&r.foot.push(s)}var i=t.settings.theme,o=t.styles;return{columns:n,head:KT("head",r.head,n,o,i,e),body:KT("body",r.body,n,o,i,e),foot:KT("foot",r.foot,n,o,i,e)}}function KT(t,e,r,n,s,i){var o={},l=e.map(function(c,d){for(var f=0,m={},p=0,g=0,v=0,w=r;v<w.length;v++){var y=w[v];if(o[y.index]==null||o[y.index].left===0)if(g===0){var N=void 0;Array.isArray(c)?N=c[y.index-p-f]:N=c[y.dataKey];var k={};typeof N=="object"&&!Array.isArray(N)&&(k=(N==null?void 0:N.styles)||{});var S=fUe(t,y,d,s,n,i,k),A=new Oae(N,S,t);m[y.dataKey]=A,m[y.index]=A,g=A.colSpan-1,o[y.index]={left:A.rowSpan-1,times:g}}else g--,p++;else o[y.index].left--,g=o[y.index].times,f++}return new Mae(c,d,t,m)});return l}function MG(t,e){var r={};return t.forEach(function(n){if(n.raw!=null){var s=dUe(e,n.raw);s!=null&&(r[n.dataKey]=s)}}),Object.keys(r).length>0?r:null}function dUe(t,e){if(t==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(t==="foot"&&typeof e=="object")return e.footer;return null}function uUe(t){return t.map(function(e,r){var n,s;return typeof e=="object"?s=(n=e.dataKey)!==null&&n!==void 0?n:r:s=r,new rUe(s,e,r)})}function fUe(t,e,r,n,s,i,o){var l=Bqe(n),c;t==="head"?c=s.headStyles:t==="body"?c=s.bodyStyles:t==="foot"&&(c=s.footStyles);var d=xf({},l.table,l[t],s.styles,c),f=s.columnStyles[e.dataKey]||s.columnStyles[e.index]||{},m=t==="body"?f:{},p=t==="body"&&r%2===0?xf({},l.alternateRow,s.alternateRowStyles):{},g=Hqe(i),v=xf({},g,d,p,m);return xf(v,o)}function hUe(t,e,r){var n;r===void 0&&(r={});var s=Cae(t,e),i=new Map,o=[],l=[],c=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?c=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(c=[e.settings.horizontalPageBreakRepeat]),c.forEach(function(p){var g=e.columns.find(function(v){return v.dataKey===p||v.index===p});g&&!i.has(g.index)&&(i.set(g.index,!0),o.push(g.index),l.push(e.columns[g.index]),s-=g.wrappedWidth)});for(var d=!0,f=(n=r==null?void 0:r.start)!==null&&n!==void 0?n:0;f<e.columns.length;){if(i.has(f)){f++;continue}var m=e.columns[f].wrappedWidth;if(d||s>=m)d=!1,o.push(f),l.push(e.columns[f]),s-=m;else break;f++}return{colIndexes:o,columns:l,lastIndex:f-1}}function mUe(t,e){for(var r=[],n=0;n<e.columns.length;n++){var s=hUe(t,e,{start:n});s.columns.length&&(r.push(s),n=s.lastIndex)}return r}function Dae(t,e){var r=e.settings,n=r.startY,s=r.margin,i={x:s.left,y:n},o=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),l=n+s.bottom+o;if(r.pageBreak==="avoid"){var c=e.body,d=c.reduce(function(p,g){return p+g.height},0);l+=d}var f=new Rg(t);(r.pageBreak==="always"||r.startY!=null&&l>f.pageSize().height)&&(Lae(f),i.y=s.top),e.callWillDrawPageHooks(f,i);var m=xf({},i);e.startPageNumber=f.pageNumber(),r.horizontalPageBreak?pUe(f,e,m,i):(f.applyStyles(f.userStyles),(r.showHead==="firstPage"||r.showHead==="everyPage")&&e.head.forEach(function(p){return Hf(f,e,p,i,e.columns)}),f.applyStyles(f.userStyles),e.body.forEach(function(p,g){var v=g===e.body.length-1;yN(f,e,p,v,m,i,e.columns)}),f.applyStyles(f.userStyles),(r.showFoot==="lastPage"||r.showFoot==="everyPage")&&e.foot.forEach(function(p){return Hf(f,e,p,i,e.columns)})),Sae(f,e,m,i),e.callEndPageHooks(f,i),e.finalY=i.y,t.lastAutoTable=e,f.applyStyles(f.userStyles)}function pUe(t,e,r,n){var s=mUe(t,e),i=e.settings;if(i.horizontalPageBreakBehaviour==="afterAllRows")s.forEach(function(d,f){t.applyStyles(t.userStyles),f>0?Fy(t,e,r,n,d.columns,!0):OG(t,e,n,d.columns),gUe(t,e,r,n,d.columns),JT(t,e,n,d.columns)});else for(var o=-1,l=s[0],c=function(){var d=o;if(l){t.applyStyles(t.userStyles);var f=l.columns;o>=0?Fy(t,e,r,n,f,!0):OG(t,e,n,f),d=EG(t,e,o+1,n,f),JT(t,e,n,f)}var m=d-o;s.slice(1).forEach(function(p){t.applyStyles(t.userStyles),Fy(t,e,r,n,p.columns,!0),EG(t,e,o+1,n,p.columns,m),JT(t,e,n,p.columns)}),o=d};o<e.body.length-1;)c()}function OG(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showHead==="firstPage"||s.showHead==="everyPage")&&e.head.forEach(function(i){return Hf(t,e,i,r,n)})}function gUe(t,e,r,n,s){t.applyStyles(t.userStyles),e.body.forEach(function(i,o){var l=o===e.body.length-1;yN(t,e,i,l,r,n,s)})}function EG(t,e,r,n,s,i){t.applyStyles(t.userStyles),i=i??e.body.length;var o=Math.min(r+i,e.body.length),l=-1;return e.body.slice(r,o).forEach(function(c,d){var f=r+d===e.body.length-1,m=Pae(t,e,f,n);c.canEntireRowFit(m,s)&&(Hf(t,e,c,n,s),l=r+d)}),l}function JT(t,e,r,n){var s=e.settings;t.applyStyles(t.userStyles),(s.showFoot==="lastPage"||s.showFoot==="everyPage")&&e.foot.forEach(function(i){return Hf(t,e,i,r,n)})}function xUe(t,e,r){var n=r.getLineHeight(t.styles.fontSize),s=t.padding("vertical"),i=Math.floor((e-s)/n);return Math.max(0,i)}function bUe(t,e,r,n){var s={};t.spansMultiplePages=!0,t.height=0;for(var i=0,o=0,l=r.columns;o<l.length;o++){var c=l[o],d=t.cells[c.index];if(d){Array.isArray(d.text)||(d.text=[d.text]);var f=new Oae(d.raw,d.styles,d.section);f=xf(f,d),f.text=[];var m=xUe(d,e,n);d.text.length>m&&(f.text=d.text.splice(m,d.text.length));var p=n.scaleFactor(),g=n.getLineHeightFactor();d.contentHeight=d.getContentHeight(p,g),d.contentHeight>=e&&(d.contentHeight=e,f.styles.minCellHeight-=e),d.contentHeight>t.height&&(t.height=d.contentHeight),f.contentHeight=f.getContentHeight(p,g),f.contentHeight>i&&(i=f.contentHeight),s[c.index]=f}}var v=new Mae(t.raw,-1,t.section,s,!0);v.height=i;for(var w=0,y=r.columns;w<y.length;w++){var c=y[w],f=v.cells[c.index];f&&(f.height=v.height);var d=t.cells[c.index];d&&(d.height=t.height)}return v}function yUe(t,e,r,n){var s=t.pageSize().height,i=n.settings.margin,o=i.top+i.bottom,l=s-o;e.section==="body"&&(l-=n.getHeadHeight(n.columns)+n.getFootHeight(n.columns));var c=e.getMinimumRowHeight(n.columns,t),d=c<r;if(c>l)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!d)return!1;var f=e.hasRowSpan(n.columns),m=e.getMaxCellHeight(n.columns)>l;return m?(f&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(f||n.settings.rowPageBreak==="avoid")}function yN(t,e,r,n,s,i,o){var l=Pae(t,e,n,i);if(r.canEntireRowFit(l,o))Hf(t,e,r,i,o);else if(yUe(t,r,l,e)){var c=bUe(r,l,e,t);Hf(t,e,r,i,o),Fy(t,e,s,i,o),yN(t,e,c,n,s,i,o)}else Fy(t,e,s,i,o),yN(t,e,r,n,s,i,o)}function Hf(t,e,r,n,s){n.x=e.settings.margin.left;for(var i=0,o=s;i<o.length;i++){var l=o[i],c=r.cells[l.index];if(!c){n.x+=l.width;continue}t.applyStyles(c.styles),c.x=n.x,c.y=n.y;var d=e.callCellHooks(t,e.hooks.willDrawCell,c,r,l,n);if(d===!1){n.x+=l.width;continue}vUe(t,c,n);var f=c.getTextPos();wae(c.text,f.x,f.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},t.getDocument()),e.callCellHooks(t,e.hooks.didDrawCell,c,r,l,n),n.x+=l.width}n.y+=r.height}function vUe(t,e,r){var n=e.styles;if(t.getDocument().setFillColor(t.getDocument().getFillColor()),typeof n.lineWidth=="number"){var s=kae(n.lineWidth,n.fillColor);s&&t.rect(e.x,r.y,e.width,e.height,s)}else typeof n.lineWidth=="object"&&(n.fillColor&&t.rect(e.x,r.y,e.width,e.height,"F"),wUe(t,e,r,n.lineWidth))}function wUe(t,e,r,n){var s,i,o,l;n.top&&(s=r.x,i=r.y,o=r.x+e.width,l=r.y,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.top,s,i,o,l)),n.bottom&&(s=r.x,i=r.y+e.height,o=r.x+e.width,l=r.y+e.height,n.right&&(o+=.5*n.right),n.left&&(s-=.5*n.left),c(n.bottom,s,i,o,l)),n.left&&(s=r.x,i=r.y,o=r.x,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.left,s,i,o,l)),n.right&&(s=r.x+e.width,i=r.y,o=r.x+e.width,l=r.y+e.height,n.top&&(i-=.5*n.top),n.bottom&&(l+=.5*n.bottom),c(n.right,s,i,o,l));function c(d,f,m,p,g){t.getDocument().setLineWidth(d),t.getDocument().line(f,m,p,g,"S")}}function Pae(t,e,r,n){var s=e.settings.margin.bottom,i=e.settings.showFoot;return(i==="everyPage"||i==="lastPage"&&r)&&(s+=e.getFootHeight(e.columns)),t.pageSize().height-n.y-s}function Fy(t,e,r,n,s,i){s===void 0&&(s=[]),i===void 0&&(i=!1),t.applyStyles(t.userStyles),e.settings.showFoot==="everyPage"&&!i&&e.foot.forEach(function(l){return Hf(t,e,l,n,s)}),e.callEndPageHooks(t,n);var o=e.settings.margin;Sae(t,e,r,n),Lae(t),e.pageNumber++,n.x=o.left,n.y=o.top,r.y=o.top,e.callWillDrawPageHooks(t,n),e.settings.showHead==="everyPage"&&(e.head.forEach(function(l){return Hf(t,e,l,n,s)}),t.applyStyles(t.userStyles))}function Lae(t){var e=t.pageNumber();t.setPage(e+1);var r=t.pageNumber();return r===e?(t.addPage(),!0):!1}function jUe(t){t.API.autoTable=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var n=e[0],s=Tae(this,n),i=Eae(this,s);return Dae(this,i),this},t.API.lastAutoTable=!1,t.API.autoTableText=function(e,r,n,s){wae(e,r,n,s,this)},t.API.autoTableSetDefaults=function(e){return Rg.setDefaults(e,this),this},t.autoTableSetDefaults=function(e,r){Rg.setDefaults(e,r)},t.API.autoTableHtmlToJson=function(e,r){var n;if(r===void 0&&(r=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new Rg(this),i=Aae(s,e,window,r,!1),o=i.head,l=i.body,c=((n=o[0])===null||n===void 0?void 0:n.map(function(d){return d.content}))||[];return{columns:c,rows:l,data:l}}}var XT;function ey(t,e){var r=Tae(t,e),n=Eae(t,r);Dae(t,n)}try{if(typeof window<"u"&&window){var DG=window,PG=DG.jsPDF||((XT=DG.jspdf)===null||XT===void 0?void 0:XT.jsPDF);PG&&jUe(PG)}}catch(t){console.error("Could not apply autoTable plugin",t)}const LG=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D","#FF6B6B","#4ECDC4","#45B7D1","#96CEB4"],NUe=({isOpen:t,workOrder:e,onClose:r})=>{var c,d,f,m,p,g,v,w;if(!t||!e)return null;const n=y=>y?new Date(y).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",s=({title:y,children:N,icon:k})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[k&&a.jsx("div",{className:"mr-3 text-blue-600",children:k}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:y})]})}),a.jsx("div",{className:"p-6",children:N})]}),i=({label:y,value:N,icon:k,fullWidth:S=!1,priority:A="medium"})=>{const _={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${S?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${_[A]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:y}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:N})]})]})})})},o=({label:y,htmlContent:N,icon:k,fullWidth:S=!1})=>{if(!N)return a.jsx(i,{label:y,value:"-",icon:k,fullWidth:S,priority:"low"});const A=mu.sanitize(N,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${S?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[k&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:k}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:y}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:A}})]})]})})})},l=({workOrder:y})=>{const N=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return a.jsx(zK,{className:"w-4 h-4"});case"assigned":return a.jsx(ln,{className:"w-4 h-4"});case"in progress":return a.jsx(Cr,{className:"w-4 h-4"});case"resolved":return a.jsx(KK,{className:"w-4 h-4"});case"closed":return a.jsx(ur,{className:"w-4 h-4"});case"cancel":return a.jsx(GE,{className:"w-4 h-4"});case"escalated":return a.jsx(Hr,{className:"w-4 h-4"});case"vendor handled":return a.jsx(ia,{className:"w-4 h-4"});default:return a.jsx(fc,{className:"w-4 h-4"})}},k=R=>{switch(R==null?void 0:R.toLowerCase()){case"new":return"bg-blue-500";case"assigned":return"bg-purple-500";case"in progress":return"bg-yellow-500";case"resolved":return"bg-green-500";case"closed":return"bg-green-600";case"cancel":return"bg-red-500";case"escalated":return"bg-orange-500";case"vendor handled":return"bg-indigo-500";default:return"bg-gray-500"}},S=(R,F)=>({new:"Work order telah dibuat dan menunggu penanganan",assigned:`Telah ditugaskan kepada ${(F==null?void 0:F.assigned_to)||"teknisi"}`,"in progress":"Sedang dalam proses pengerjaan",resolved:"Masalah telah diselesaikan",closed:"Work order telah ditutup",cancel:"Work order dibatalkan",escalated:"Telah di-escalate ke level yang lebih tinggi","vendor handled":"Ditangani oleh vendor eksternal",updated:"Work order diperbarui"})[R.toLowerCase()]||`Status: ${R}`,A=()=>{var F,E;const R=[];if(R.push({id:"created",status:"new",date:y.date,changed_by:((F=y.requester)==null?void 0:F.name)||"System",description:"Work order dibuat",duration:"0 days",isSystemEvent:!0}),y.status_history&&y.status_history.length>0&&[...y.status_history].sort((H,V)=>new Date(H.changed_at).getTime()-new Date(V.changed_at).getTime()).forEach((H,V)=>{var ee,K;const G=R[R.length-1],q=_(G.date,H.changed_at);let B=H.action,z=S(H.action);H.action==="updated"&&((ee=H.new_data)!=null&&ee.handling_status)&&(B=H.new_data.handling_status,z=S(H.new_data.handling_status,{assigned_to:(K=y.assigned_to)==null?void 0:K.name}));let X="System";H.user_id===55?X="DevTest User 1":H.user_id===41?X="Regular User QC":H.user_id===57?X="DevTest User 2":H.user_id===36?X="Super Admin User":H.user_id===37?X="Admin User One":H.user_id===40?X="Regular User IT":H.user_id===42||H.user_id===56?X="Monitor":H.changed_by?X=H.changed_by:X=`User ${H.user_id}`,R.push({id:H.id.toString(),status:B,date:H.changed_at,changed_by:X,description:z,duration:q,comments:H.comments,old_data:H.old_data,new_data:H.new_data,isStatusChange:!0})}),(E=y.received_by)!=null&&E.name&&y.handling_date&&!R.some(H=>{var V,G;return H.status==="received"||((V=H.new_data)==null?void 0:V.received_by_id)&&((G=H.new_data)==null?void 0:G.handling_status)==="Resolved"})){const H=R[R.length-1],V=_(H.date,y.handling_date),G={id:"received",status:"received",date:y.handling_date,changed_by:y.received_by.name,description:"Diterima oleh teknisi",duration:V,isManualEvent:!0};R.push(G)}return R.sort((M,H)=>new Date(M.date).getTime()-new Date(H.date).getTime())},_=(R,F)=>{const E=new Date(R),M=new Date(F),H=Math.abs(M.getTime()-E.getTime()),V=Math.ceil(H/(1e3*60*60*24));if(V===0){const G=Math.ceil(H/36e5),q=Math.ceil(H/(1e3*60));return q<60?`${q} minutes`:`${G} hours`}return`${V} day${V>1?"s":""}`},O=R=>{const F=new Date(R);return{date:F.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),time:F.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})}},P=R=>{var F,E,M;return(F=R.new_data)!=null&&F.handling_status?`Diubah menjadi: ${R.new_data.handling_status}`:(E=R.new_data)!=null&&E.assigned_to_id?"Ditugaskan ke teknisi":(M=R.new_data)!=null&&M.action_taken?`Tindakan diambil: ${R.new_data.action_taken.substring(0,50)}...`:null},I=A();return a.jsxs("div",{className:"space-y-6",children:[I.map((R,F)=>{const E=O(R.date),M=F===I.length-1,H=P(R);return a.jsxs("div",{className:"flex items-start space-x-4",children:[a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full ${k(R.status)}`}),!M&&a.jsx("div",{className:"w-0.5 h-16 bg-gray-300 mt-1"})]}),a.jsxs("div",{className:"flex-1 pb-4",children:[a.jsxs("div",{className:"flex items-start justify-between mb-2",children:[a.jsxs("div",{className:"flex items-center space-x-2",children:[N(R.status),a.jsxs("div",{children:[a.jsx("span",{className:"font-semibold text-sm capitalize text-gray-900",children:R.status}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:R.description})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:E.date}),a.jsx("div",{className:"text-xs text-gray-500",children:E.time})]})]}),a.jsxs("div",{className:"bg-gray-50 rounded-lg p-3 space-y-2",children:[a.jsxs("div",{className:"flex justify-between items-center text-xs",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"text-gray-600",children:[a.jsx("strong",{children:"Changed by:"})," ",R.changed_by]}),R.duration&&R.duration!=="0 days"&&a.jsxs("span",{className:"text-blue-600 font-semibold",children:["⏱️ ",R.duration]})]}),R.duration&&R.duration!=="0 days"&&F>0&&a.jsx("div",{className:"text-right",children:a.jsx("span",{className:"text-gray-500 text-xs",children:"Duration from previous"})})]}),H&&a.jsx("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:H}),R.comments&&a.jsxs("div",{className:"text-xs text-gray-700 bg-white p-2 rounded border",children:[a.jsx("strong",{children:"Comments:"})," ",R.comments]}),R.status==="assigned"&&y.assigned_to&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Assigned to:"})," ",y.assigned_to.name,y.assigned_to.email&&` (${y.assigned_to.email})`]}),(R.status==="resolved"||R.status==="closed")&&y.action_taken&&a.jsxs("div",{className:"text-xs text-gray-700",children:[a.jsx("strong",{children:"Action taken:"})," ",y.action_taken.substring(0,100),"..."]})]}),M&&a.jsxs("div",{className:"mt-3 p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"font-semibold text-blue-800",children:"Total duration from creation"}),a.jsx("span",{className:"font-bold text-blue-600 text-lg",children:_(y.date,R.date)})]}),a.jsxs("div",{className:"text-xs text-blue-600 mt-1",children:["Created: ",O(y.date).date," • Current: ",E.date]})]})]})]},R.id)}),y.handling_status==="Closed"&&y.handling_date&&a.jsxs("div",{className:"mt-6 p-4 bg-green-50 rounded-lg border border-green-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-green-800",children:"Work Order Completed"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Total resolution time: ",_(y.date,y.handling_date)]})]}),a.jsx(ur,{className:"w-8 h-8 text-green-500"})]}),a.jsxs("div",{className:"text-xs text-green-600 mt-2 grid grid-cols-2 gap-2",children:[a.jsxs("div",{children:["Created: ",O(y.date).date]}),a.jsxs("div",{children:["Completed: ",O(y.handling_date).date]}),a.jsxs("div",{className:"col-span-2",children:[a.jsx("strong",{children:"Timeline:"})," ",I.length," status changes"]})]})]})]})};return a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx($t,{size:24})})]}),a.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Cr,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),a.jsx(s,{title:"General Information",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Work Order No",value:e.work_order_no||"-",icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Date",value:n(e.date),icon:a.jsx(xa,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Reception Method",value:e.reception_method||"-",icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(i,{label:"Requester",value:((c=e.requester)==null?void 0:c.name)||"-",icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Known By",value:((d=e.known_by)==null?void 0:d.name)||"-",icon:a.jsx(bo,{className:"w-4 h-4"})}),a.jsx(i,{label:"Department",value:((f=e.department)==null?void 0:f.name)||"-",icon:a.jsx(ga,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Service Details",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Service Type",value:((m=e.service_type)==null?void 0:m.group_name)||"-",icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Service",value:((p=e.service)==null?void 0:p.service_name)||"-",icon:a.jsx(ia,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Asset No",value:e.asset_no||"-",icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(i,{label:"Device Info",value:e.device_info||"-",icon:a.jsx(ia,{className:"w-4 h-4"})}),a.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:a.jsx(Hr,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Handling Information",icon:a.jsx(Cr,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Status",value:e.handling_status||"-",icon:a.jsx(Cr,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Received By",value:((g=e.received_by)==null?void 0:g.name)||"-",icon:a.jsx(ln,{className:"w-4 h-4"})}),a.jsx(i,{label:"Assigned To",value:((v=e.assigned_to)==null?void 0:v.name)||"-",icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Handling Date",value:n(e.handling_date),icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:a.jsx(ur,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:a.jsx(ln,{className:"w-4 h-4"}),fullWidth:!0})]})}),e.status_history&&e.status_history.length>0&&a.jsx(s,{title:"Work Order Timeline",icon:a.jsx(WK,{className:"w-5 h-5"}),children:a.jsx(l,{workOrder:e})}),a.jsx(s,{title:"Performance Metrics",icon:a.jsx(xc,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Resolution Time"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_date&&e.date?`${Math.ceil((new Date(e.handling_date).getTime()-new Date(e.date).getTime())/(1e3*60*60*24))} days`:"Ongoing"})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Priority Level"}),a.jsx("p",{className:"text-lg font-bold text-green-600",children:((w=e.service)==null?void 0:w.priority)||"Not Set"})]})]})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:a.jsx(T.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},SUe=()=>{const[t,e]=b.useState(!1),[r,n]=b.useState(""),[s,i]=b.useState("all"),[o,l]=b.useState("all"),[c,d]=b.useState("all"),[f,m]=b.useState("all"),[p,g]=b.useState(!1),[v,w]=b.useState(1),[y]=b.useState(5),[N,k]=b.useState(window.innerWidth<768),[S,A]=b.useState([]),[_,O]=b.useState(!0),[P,I]=b.useState(null),[R,F]=b.useState(),[E,M]=b.useState(!1),[H,V]=b.useState("30days"),{user:G,getWorkOrdersIT:q,hasPermission:B}=sr(),z=tr(),X=Ws(),ee=X.pathname==="/workorders/it",K=X.pathname==="/workorders/it/receiver",W=X.pathname==="/workorders/it/assignment",J=X.pathname==="/workorders/it/reports",Z=X.pathname==="/workorders/it/knowledgebase";b.useEffect(()=>{const he=()=>{k(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]);const ie=b.useCallback(async()=>{try{O(!0);const he=await q();A(he)}catch(he){I("Failed to load work orders data"),console.error("Error loading work orders:",he)}finally{O(!1)}},[q]);b.useEffect(()=>{ie()},[ie]);const ue=he=>{if(!he.handling_date||!he.date)return 0;const Qe=new Date(he.date),Ge=new Date(he.handling_date);return Math.ceil((Ge.getTime()-Qe.getTime())/(1e3*60*60*24))},ce=b.useCallback(()=>{const he=new Date;let Qe=new Date;switch(H){case"7days":Qe.setDate(he.getDate()-7);break;case"30days":Qe.setDate(he.getDate()-30);break;case"90days":Qe.setDate(he.getDate()-90);break;case"all":Qe=new Date(0);break}return S.filter(Ge=>{var Ue,Xe,we,ye,Ke,pt,tt,Te,ne;const Le=new Date(Ge.date)>=Qe,_e=((Ue=Ge.work_order_no)==null?void 0:Ue.toLowerCase().includes(r.toLowerCase()))||((we=(Xe=Ge.requester)==null?void 0:Xe.name)==null?void 0:we.toLowerCase().includes(r.toLowerCase()))||((ye=Ge.complaint)==null?void 0:ye.toLowerCase().includes(r.toLowerCase()))||((pt=(Ke=Ge.service)==null?void 0:Ke.service_name)==null?void 0:pt.toLowerCase().includes(r.toLowerCase())),qe=s==="all"||Ge.handling_status===s,ge=o==="all"||((tt=Ge.department)==null?void 0:tt.name)===o,Oe=c==="all"||((Te=Ge.service)==null?void 0:Te.priority)===c,ke=f==="all"||((ne=Ge.service_type)==null?void 0:ne.group_name)===f;return Le&&_e&&qe&&ge&&Oe&&ke})},[S,H,r,s,o,c,f])(),pe=(()=>{const he=ce.filter(tt=>["Resolved","Closed"].includes(tt.handling_status)),Qe=ce.filter(tt=>["New","Assigned","In Progress"].includes(tt.handling_status)),Ge=he.length>0?he.reduce((tt,Te)=>tt+ue(Te),0)/he.length:0,mt=Object.entries(ce.reduce((tt,Te)=>{const ne=Te.handling_status||"Unknown";return tt[ne]=(tt[ne]||0)+1,tt},{})).map(([tt,Te])=>({status:tt,count:Te,percentage:Te/ce.length*100})),Le=Object.entries(ce.reduce((tt,Te)=>{var Ie;const ne=((Ie=Te.service)==null?void 0:Ie.priority)||"Not Set";return tt[ne]=(tt[ne]||0)+1,tt},{})).map(([tt,Te])=>({priority:tt,count:Te,percentage:Te/ce.length*100})),_e=Object.entries(ce.reduce((tt,Te)=>{var Ie;const ne=((Ie=Te.department)==null?void 0:Ie.name)||"Unknown";return tt[ne]=(tt[ne]||0)+1,tt},{})).map(([tt,Te])=>({dept:tt,count:Te,percentage:Te/ce.length*100})).sort((tt,Te)=>Te.count-tt.count).slice(0,8),qe=Object.entries(ce.reduce((tt,Te)=>{var Ie;const ne=((Ie=Te.service_type)==null?void 0:Ie.group_name)||"Unknown";return tt[ne]=(tt[ne]||0)+1,tt},{})).map(([tt,Te])=>({serviceType:tt,count:Te,percentage:Te/ce.length*100})),ge=Array.from({length:12},(tt,Te)=>{const ne=new Date;ne.setMonth(ne.getMonth()-(11-Te));const Ie=ne.toLocaleDateString("id-ID",{month:"short",year:"numeric"}),Ye=ce.filter(yt=>{const ze=new Date(yt.date);return ze.getMonth()===ne.getMonth()&&ze.getFullYear()===ne.getFullYear()}),st=Ye.filter(yt=>["Resolved","Closed"].includes(yt.handling_status));return{month:Ie,created:Ye.length,resolved:st.length,resolutionRate:Ye.length>0?st.length/Ye.length*100:0}}),Oe=["New","Assigned","In Progress","Resolved","Closed","Cancel"].map(tt=>{const Te=ce.filter(Ie=>Ie.handling_status===tt),ne=Te.length>0?Te.reduce((Ie,Ye)=>{const yt=(Ye.status_history||[]).find(ze=>ze.action===tt);if(yt){const ze=new Date().getTime()-new Date(yt.changed_at).getTime();return Ie+Math.ceil(ze/(1e3*60*60*24))}return Ie},0)/Te.length:0;return{status:tt,avgTimeInStatus:Math.round(ne),count:Te.length}}),ke=Object.entries(ce.reduce((tt,Te)=>{var Ie;const ne=((Ie=Te.service_type)==null?void 0:Ie.group_name)||"Unknown";if(tt[ne]||(tt[ne]=[]),Te.handling_date&&Te.date){const Ye=ue(Te);tt[ne].push(Ye)}return tt},{})).map(([tt,Te])=>({serviceType:tt,avgResolutionTime:Te.length>0?Math.round(Te.reduce((ne,Ie)=>ne+Ie,0)/Te.length):0,totalRequests:Te.length,maxResolutionTime:Te.length>0?Math.max(...Te):0,minResolutionTime:Te.length>0?Math.min(...Te):0})),Ue=Object.entries(ce.reduce((tt,Te)=>{var Ie;const ne=((Ie=Te.service)==null?void 0:Ie.service_name)||"Unknown";if(tt[ne]||(tt[ne]=[]),Te.handling_date&&Te.date){const Ye=ue(Te);tt[ne].push(Ye)}return tt},{})).map(([tt,Te])=>({service:tt,avgResolutionTime:Te.length>0?Math.round(Te.reduce((ne,Ie)=>ne+Ie,0)/Te.length):0,totalRequests:Te.length})),Xe=["Critical","High","Medium","Low"].map(tt=>{const Te=ce.filter(Ye=>{var st;return((st=Ye.service)==null?void 0:st.priority)===tt}),ne=Te.filter(Ye=>["Resolved","Closed"].includes(Ye.handling_status)&&Ye.handling_date&&Ye.date),Ie=ne.length>0?ne.reduce((Ye,st)=>Ye+ue(st),0)/ne.length:0;return{priority:tt,avgResolutionTime:Math.round(Ie),total:Te.length,resolved:ne.length}}),ye=Array.from({length:30},(tt,Te)=>{const ne=new Date;return ne.setDate(ne.getDate()-(29-Te)),ne.toISOString().split("T")[0]}).map(tt=>{const Te=ce.filter(Ie=>Ie.date.startsWith(tt)),ne=Te.filter(Ie=>["Resolved","Closed"].includes(Ie.handling_status));return{date:new Date(tt).toLocaleDateString("id-ID",{month:"short",day:"numeric"}),created:Te.length,resolved:ne.length,backlog:Te.length-ne.length}}),Ke=Object.entries(ce.reduce((tt,Te)=>{var Ie,Ye,st,yt;const ne=((Ye=(Ie=Te.service)==null?void 0:Ie.owner)==null?void 0:Ye.name)||"Unknown Owner";if(tt[ne]||(tt[ne]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),Te.handling_date&&Te.date){const ze=ue(Te);tt[ne].workOrders.push({workOrderNo:Te.work_order_no,priority:(st=Te.service)==null?void 0:st.priority,resolutionTime:ze,status:Te.handling_status,service:(yt=Te.service)==null?void 0:yt.service_name}),tt[ne].totalResolutionTime+=ze,["Resolved","Closed"].includes(Te.handling_status)&&tt[ne].resolvedCount++}return tt},{})).map(([tt,Te])=>({owner:tt,avgResolutionTime:Te.resolvedCount>0?Math.round(Te.totalResolutionTime/Te.resolvedCount):0,totalWorkOrders:Te.workOrders.length,resolvedWorkOrders:Te.resolvedCount,workOrders:Te.workOrders})),pt=Object.entries(ce.reduce((tt,Te)=>{var Ie,Ye,st;const ne=((Ie=Te.assigned_to)==null?void 0:Ie.name)||"Unassigned";if(tt[ne]||(tt[ne]={workOrders:[],totalResolutionTime:0,resolvedCount:0}),Te.handling_date&&Te.date){const yt=ue(Te);tt[ne].workOrders.push({workOrderNo:Te.work_order_no,priority:(Ye=Te.service)==null?void 0:Ye.priority,resolutionTime:yt,status:Te.handling_status,service:(st=Te.service)==null?void 0:st.service_name}),tt[ne].totalResolutionTime+=yt,["Resolved","Closed"].includes(Te.handling_status)&&tt[ne].resolvedCount++}return tt},{})).map(([tt,Te])=>({pic:tt,avgResolutionTime:Te.resolvedCount>0?Math.round(Te.totalResolutionTime/Te.resolvedCount):0,totalWorkOrders:Te.workOrders.length,resolvedWorkOrders:Te.resolvedCount,workOrders:Te.workOrders}));return{total:ce.length,resolved:he.length,active:Qe.length,avgResolutionTime:Math.round(Ge),resolutionRate:ce.length>0?he.length/ce.length*100:0,statusDistribution:mt,priorityDistribution:Le,departmentDistribution:_e,serviceTypeDistribution:qe,monthlyTrends:ge,statusTimingAnalysis:Oe,serviceTypePerformance:ke,servicePerformance:Ue,priorityTimingAnalysis:Xe,dailyTrends:ye,serviceOwnerPerformance:Ke,picPerformance:pt}})(),$e=[{title:"Total Work Orders",value:pe.total.toString(),change:"+12%",icon:a.jsx(yf,{})},{title:"Avg Resolution Time",value:`${pe.avgResolutionTime} days`,change:pe.avgResolutionTime<5?"-2 days":"+1 day",icon:a.jsx(Cr,{})},{title:"Service Types",value:pe.serviceTypePerformance.length.toString(),change:"+3%",icon:a.jsx(tme,{})},{title:"Active Technicians",value:pe.picPerformance.filter(he=>he.pic!=="Unassigned").length.toString(),change:"+2%",icon:a.jsx(ga,{})}],de=b.useCallback(()=>{if(B("export_reports")){const he=new Tr;he.setFontSize(20),he.setTextColor(40,40,40),he.text("IT WORK ORDER REPORT",105,20,{align:"center"}),he.setFontSize(12),he.setTextColor(100,100,100),he.text(`Generated on: ${new Date().toLocaleDateString("id-ID")}`,105,30,{align:"center"}),he.text(`Time Range: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,37,{align:"center"}),he.setFontSize(14),he.setTextColor(40,40,40),he.text("SUMMARY STATISTICS",20,55),he.setFontSize(10),he.setTextColor(80,80,80),he.text(`Total Work Orders: ${pe.total}`,20,65),he.text(`Resolved: ${pe.resolved}`,20,72),he.text(`Active: ${pe.active}`,20,79),he.text(`Average Resolution Time: ${pe.avgResolutionTime} days`,20,86),he.text(`Resolution Rate: ${pe.resolutionRate.toFixed(1)}%`,20,93),he.setFontSize(14),he.setTextColor(40,40,40),he.text("WORK ORDER DETAILS",20,110);const Qe=["WO No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],Ge=ce.map(_e=>{var qe,ge,Oe,ke,Ue;return[_e.work_order_no||"-",((qe=_e.requester)==null?void 0:qe.name)||"-",((ge=_e.department)==null?void 0:ge.name)||"-",He(_e.date),_e.handling_status||"-",((Oe=_e.service)==null?void 0:Oe.priority)||"Not Set",((ke=_e.service_type)==null?void 0:ke.group_name)||"-",((Ue=_e.assigned_to)==null?void 0:Ue.name)||"-",_e.handling_date?ue(_e).toString():"Ongoing"]});ey(he,{head:[Qe],body:Ge,startY:115,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{left:20,right:20}});const mt=he.lastAutoTable.finalY+15;if(mt<250){he.setFontSize(14),he.setTextColor(40,40,40),he.text("STATUS DISTRIBUTION",20,mt);const _e=pe.statusDistribution.map(qe=>[qe.status,qe.count.toString(),`${qe.percentage.toFixed(1)}%`]);ey(he,{head:[["Status","Count","Percentage"]],body:_e,startY:mt+5,styles:{fontSize:8,cellPadding:2},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"},margin:{left:20,right:20}})}const Le=he.getNumberOfPages();for(let _e=1;_e<=Le;_e++)he.setPage(_e),he.setFontSize(8),he.setTextColor(150,150,150),he.text(`Page ${_e} of ${Le}`,105,290,{align:"center"}),he.text("Confidential - IT Department Report",105,295,{align:"center"});he.save(`it-workorder-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[B,ce,pe,H]),Se=b.useCallback(()=>{if(B("export_reports")){const he=new Tr;he.setFillColor(59,130,246),he.rect(0,0,210,297,"F"),he.setTextColor(255,255,255),he.setFontSize(24),he.text("IT SERVICE MANAGEMENT",105,100,{align:"center"}),he.setFontSize(18),he.text("COMPREHENSIVE REPORT",105,120,{align:"center"}),he.setFontSize(14),he.text(`Period: ${H==="7days"?"Last 7 Days":H==="30days"?"Last 30 Days":H==="90days"?"Last 90 Days":"All Time"}`,105,150,{align:"center"}),he.text(`Generated: ${new Date().toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})}`,105,160,{align:"center"}),he.setFontSize(10),he.text("Confidential Business Document - For Internal Use Only",105,280,{align:"center"}),he.addPage(),he.setFillColor(59,130,246),he.rect(0,0,210,30,"F"),he.setTextColor(255,255,255),he.setFontSize(16),he.text("EXECUTIVE SUMMARY",105,20,{align:"center"}),he.setTextColor(0,0,0),he.setFontSize(12);const Qe=50;he.text("Performance Overview:",20,Qe),he.setFontSize(10),he.text(`• Total Work Orders Processed: ${pe.total}`,25,Qe+10),he.text(`• Successfully Resolved: ${pe.resolved} (${pe.resolutionRate.toFixed(1)}%)`,25,Qe+17),he.text(`• Average Resolution Time: ${pe.avgResolutionTime} days`,25,Qe+24),he.text(`• Active/Pending Work Orders: ${pe.active}`,25,Qe+31),he.text("Key Metrics:",20,Qe+50),he.text(`• Service Types Handled: ${pe.serviceTypePerformance.length}`,25,Qe+60),he.text(`• Departments Served: ${pe.departmentDistribution.length}`,25,Qe+67),he.text(`• Active Technicians: ${pe.picPerformance.filter(Oe=>Oe.pic!=="Unassigned").length}`,25,Qe+74),he.addPage(),he.setFillColor(59,130,246),he.rect(0,0,210,30,"F"),he.setTextColor(255,255,255),he.setFontSize(16),he.text("PERFORMANCE ANALYSIS",105,20,{align:"center"}),he.setTextColor(0,0,0),he.setFontSize(12),he.text("Service Type Performance:",20,50);const Ge=pe.serviceTypePerformance.sort((Oe,ke)=>ke.avgResolutionTime-Oe.avgResolutionTime).map(Oe=>[Oe.serviceType,Oe.avgResolutionTime.toString(),Oe.totalRequests.toString()]);ey(he,{head:[["Service Type","Avg Resolution (Days)","Total Requests"]],body:Ge,startY:60,styles:{fontSize:8},headStyles:{fillColor:[16,185,129],textColor:255,fontStyle:"bold"}});const mt=he.lastAutoTable.finalY+15;he.setFontSize(12),he.text("Technician Performance:",20,mt);const Le=pe.picPerformance.filter(Oe=>Oe.pic!=="Unassigned").sort((Oe,ke)=>ke.totalWorkOrders-Oe.totalWorkOrders).map(Oe=>[Oe.pic,Oe.avgResolutionTime.toString(),Oe.totalWorkOrders.toString(),Oe.resolvedWorkOrders.toString()]);ey(he,{head:[["Technician","Avg Resolution (Days)","Total Assigned","Resolved"]],body:Le,startY:mt+5,styles:{fontSize:8},headStyles:{fillColor:[245,158,11],textColor:255,fontStyle:"bold"}}),he.addPage(),he.setFillColor(59,130,246),he.rect(0,0,210,30,"F"),he.setTextColor(255,255,255),he.setFontSize(16),he.text("DETAILED WORK ORDERS",105,20,{align:"center"});const _e=["Work Order No","Requester","Department","Date","Status","Priority","Service Type","Assigned To","Resolution Days"],qe=ce.map(Oe=>{var ke,Ue,Xe,we,ye;return[Oe.work_order_no||"-",((ke=Oe.requester)==null?void 0:ke.name)||"-",((Ue=Oe.department)==null?void 0:Ue.name)||"-",He(Oe.date),Oe.handling_status||"-",((Xe=Oe.service)==null?void 0:Xe.priority)||"Not Set",((we=Oe.service_type)==null?void 0:we.group_name)||"-",((ye=Oe.assigned_to)==null?void 0:ye.name)||"-",Oe.handling_date?ue(Oe).toString():"Ongoing"]});ey(he,{head:[_e],body:qe,startY:40,styles:{fontSize:6,cellPadding:1.5},headStyles:{fillColor:[59,130,246],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const ge=he.getNumberOfPages();for(let Oe=1;Oe<=ge;Oe++)he.setPage(Oe),he.setFontSize(8),he.setTextColor(150,150,150),he.text(`Page ${Oe} of ${ge}`,105,290,{align:"center"}),he.text("Confidential IT Department Report",105,295,{align:"center"});he.save(`it-detailed-report-${new Date().toISOString().split("T")[0]}.pdf`)}else alert("You do not have permission to export reports.")},[B,ce,pe,H]),te=he=>{switch(he==null?void 0:he.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},se=()=>{e(he=>!he)},ut=v*y,dt=ut-y,De=ce.slice(dt,ut),rt=Math.ceil(ce.length/y),wt=he=>w(he);b.useEffect(()=>{w(1)},[r,s,o,c,f,H]);const gt=he=>{F(he),M(!0)},Rt=()=>{M(!1),F(void 0)},He=he=>{if(!he)return"-";try{const Qe=new Date(he);return isNaN(Qe.getTime())?"-":Qe.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return _?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):P?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Hr,{className:"text-red-600 text-5xl"}),a.jsx("p",{className:"ml-4 text-lg text-red-800",children:P}),a.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"IT Work Order - Advanced Analytics",mainTitleHighlight:"Dashboard",description:"Comprehensive performance insights and operational analytics for IT service management.",icon:a.jsx(xc,{}),isMobile:N,toggleSidebar:se}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ee?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${J?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(T.div,{whileTap:{scale:.98},onClick:()=>z("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Service Performance Analytics"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Advanced insights and performance metrics for IT work order management"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsxs("select",{value:H,onChange:he=>V(he.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"7days",children:"Last 7 Days"}),a.jsx("option",{value:"30days",children:"Last 30 Days"}),a.jsx("option",{value:"90days",children:"Last 90 Days"}),a.jsx("option",{value:"all",children:"All Time"})]}),B("export_reports")&&a.jsxs(a.Fragment,{children:[a.jsxs(T.button,{onClick:de,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[a.jsx(iI,{className:"mr-2"})," Export Summary PDF"]}),a.jsxs(T.button,{onClick:Se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-green-600 text-white shadow-md hover:bg-green-700 transition-colors duration-200 flex items-center",children:[a.jsx(iI,{className:"mr-2"})," Export Detailed PDF"]})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-8",children:$e.map((he,Qe)=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:Qe*.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 hover:shadow-lg transition-shadow duration-200",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:he.title}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:he.value}),a.jsxs("p",{className:`mt-2 text-xs font-semibold ${he.change.startsWith("+")?"text-green-600":"text-red-600"}`,children:[he.change," from previous period"]})]}),a.jsx("div",{className:"p-3 rounded-full bg-blue-50 text-blue-600 text-xl",children:he.icon})]})},he.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uf,{className:"mr-2"})," Monthly Work Order Trends"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(P$e,{data:pe.monthlyTrends,children:[a.jsx(nd,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"month"}),a.jsx(Oo,{}),a.jsx(Ts,{}),a.jsx($f,{type:"monotone",dataKey:"created",stackId:"1",stroke:"#8884d8",fill:"#8884d8",name:"Created"}),a.jsx($f,{type:"monotone",dataKey:"resolved",stackId:"1",stroke:"#82ca9d",fill:"#82ca9d",name:"Resolved"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(k6,{className:"mr-2"})," Status Distribution"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(aL,{children:[a.jsx(gd,{data:pe.statusDistribution,cx:"50%",cy:"50%",labelLine:!1,label:({status:he,percentage:Qe})=>`${he}: ${Qe.toFixed(1)}%`,outerRadius:80,fill:"#8884d8",dataKey:"count",children:pe.statusDistribution.map((he,Qe)=>a.jsx(zp,{fill:LG[Qe%LG.length]},`cell-${Qe}`))}),a.jsx(Ts,{})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(k6,{className:"mr-2"})," Priority Resolution Time (Days)"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(Ly,{data:pe.priorityTimingAnalysis,children:[a.jsx(nd,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"priority"}),a.jsx(Oo,{}),a.jsx(Ts,{formatter:he=>[`${he} days`,"Avg Resolution Time"]}),a.jsx(cd,{dataKey:"avgResolutionTime",fill:"#ff7300",name:"Avg Resolution (Days)"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ga,{className:"mr-2"})," Department Distribution"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(Ly,{data:pe.departmentDistribution,layout:"vertical",children:[a.jsx(nd,{strokeDasharray:"3 3"}),a.jsx(Mo,{type:"number"}),a.jsx(Oo,{type:"category",dataKey:"dept",width:100}),a.jsx(Ts,{}),a.jsx(cd,{dataKey:"count",fill:"#0088FE",name:"Work Orders"})]})})]})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2"})," Status Timing Analysis"]}),a.jsx("div",{className:"space-y-4",children:pe.statusTimingAnalysis.filter(he=>he.count>0).map((he,Qe)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:`w-3 h-3 rounded-full mr-3 ${te(he.status).split(" ")[0]}`}),a.jsx("span",{className:"font-medium text-sm capitalize",children:he.status})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold",children:[he.avgTimeInStatus,"d avg"]}),a.jsxs("div",{className:"text-xs text-gray-500",children:[he.count," tickets"]})]})]},he.status))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Pl,{className:"mr-2"})," Service Type Performance (Days to Resolve)"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(Ly,{data:pe.serviceTypePerformance.sort((he,Qe)=>Qe.avgResolutionTime-he.avgResolutionTime).slice(0,8),layout:"vertical",children:[a.jsx(nd,{strokeDasharray:"3 3"}),a.jsx(Mo,{type:"number"}),a.jsx(Oo,{type:"category",dataKey:"serviceType",width:120}),a.jsx(Ts,{formatter:he=>[`${he} days`,"Avg Resolution Time"]}),a.jsx(cd,{dataKey:"avgResolutionTime",fill:"#0088FE",name:"Avg Days to Resolve",children:pe.serviceTypePerformance.map((he,Qe)=>a.jsx(zp,{fill:he.avgResolutionTime>10?"#FF8042":he.avgResolutionTime>5?"#FFBB28":"#00C49F"},`cell-${Qe}`))})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(uf,{className:"mr-2"})," Daily Work Order Trends (30 Days)"]}),a.jsx(kl,{width:"100%",height:300,children:a.jsxs(hN,{data:pe.dailyTrends,children:[a.jsx(nd,{strokeDasharray:"3 3"}),a.jsx(Mo,{dataKey:"date"}),a.jsx(Oo,{}),a.jsx(Ts,{}),a.jsx(Af,{}),a.jsx(Ff,{type:"monotone",dataKey:"created",stroke:"#8884d8",name:"Created",strokeWidth:2}),a.jsx(Ff,{type:"monotone",dataKey:"resolved",stroke:"#82ca9d",name:"Resolved",strokeWidth:2})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ln,{className:"mr-2"})," Service Owner Performance"]}),a.jsx("div",{className:"space-y-4 max-h-80 overflow-y-auto",children:pe.serviceOwnerPerformance.sort((he,Qe)=>Qe.totalWorkOrders-he.totalWorkOrders).map((he,Qe)=>a.jsxs("div",{className:"p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:he.owner}),a.jsxs("p",{className:"text-sm text-gray-600",children:[he.totalWorkOrders," work orders"]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"text-lg font-bold text-blue-600",children:[he.avgResolutionTime," days avg"]}),a.jsxs("div",{className:"text-sm text-gray-500",children:[he.resolvedWorkOrders," resolved"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-xs",children:[he.workOrders.slice(0,3).map((Ge,mt)=>a.jsxs("div",{className:"flex justify-between items-center p-2 bg-white rounded",children:[a.jsx("span",{className:"font-medium",children:Ge.workOrderNo}),a.jsx("span",{className:`px-2 py-1 rounded text-xs ${Ge.priority==="Critical"?"bg-red-100 text-red-800":Ge.priority==="High"?"bg-orange-100 text-orange-800":"bg-blue-100 text-blue-800"}`,children:Ge.priority}),a.jsxs("span",{children:[Ge.resolutionTime,"d"]})]},mt)),he.workOrders.length>3&&a.jsxs("div",{className:"text-center text-gray-500 text-xs",children:["+",he.workOrders.length-3," more work orders"]})]})]},he.owner))})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ga,{className:"mr-2"})," Technician Performance"]}),a.jsx("div",{className:"space-y-3",children:pe.picPerformance.filter(he=>he.pic!=="Unassigned").sort((he,Qe)=>Qe.totalWorkOrders-he.totalWorkOrders).slice(0,6).map((he,Qe)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-3 h-3 rounded-full bg-green-500 mr-3"}),a.jsxs("div",{children:[a.jsx("span",{className:"font-medium text-sm",children:he.pic}),a.jsxs("div",{className:"text-xs text-gray-500",children:[he.totalWorkOrders," orders • ",he.avgResolutionTime,"d avg"]})]})]}),a.jsxs("div",{className:"text-right",children:[a.jsxs("div",{className:"font-semibold",children:[he.resolvedWorkOrders,"/",he.totalWorkOrders]}),a.jsx("div",{className:"text-xs text-gray-500",children:"resolved"})]})]},he.pic))})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsx(Pa,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search work orders...",value:r,onChange:he=>n(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:s,onChange:he=>i(he.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:o,onChange:he=>l(he.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(S.map(he=>{var Qe;return(Qe=he.department)==null?void 0:Qe.name}).filter(Boolean))).map(he=>a.jsx("option",{value:he,children:he},he))]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:c,onChange:he=>d(he.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]}),a.jsx(la,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs(T.button,{onClick:()=>g(!p),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Ki,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),a.jsx(ar,{children:p&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Service Type"}),a.jsxs("select",{value:f,onChange:he=>m(he.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500",children:[a.jsx("option",{value:"all",children:"All Service Types"}),Array.from(new Set(S.map(he=>{var Qe;return(Qe=he.service_type)==null?void 0:Qe.group_name}).filter(Boolean))).map(he=>a.jsx("option",{value:he,children:he},he))]})]})})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order Analytics"}),De.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(yf,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Priority"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Resolution Time"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.jsx(ar,{children:De.map((he,Qe)=>{var Ge,mt,Le,_e,qe,ge,Oe;return a.jsxs(T.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:dt+Qe+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:he.work_order_no}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Ge=he.requester)==null?void 0:Ge.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((mt=he.department)==null?void 0:mt.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:He(he.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-bold rounded-full ${((Le=he.service)==null?void 0:Le.priority)==="Critical"?"bg-red-100 text-red-800":((_e=he.service)==null?void 0:_e.priority)==="High"?"bg-orange-100 text-orange-800":((qe=he.service)==null?void 0:qe.priority)==="Medium"?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"}`,children:((ge=he.service)==null?void 0:ge.priority)||"Not Set"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${te(he.handling_status)}`,children:he.handling_status||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((Oe=he.assigned_to)==null?void 0:Oe.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:he.handling_date?`${ue(he)} days`:"Ongoing"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs(T.button,{onClick:()=>gt(he),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[a.jsx(bo,{className:"mr-1",size:16})," View"]})})]},he.id)})})})]}),ce.length>y&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(T.button,{onClick:()=>wt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.jsx(T.button,{onClick:()=>wt(v+1),disabled:v===rt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:dt+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(ut,ce.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ce.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(T.button,{onClick:()=>wt(v-1),disabled:v===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(fu,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(rt)].map((he,Qe)=>a.jsx(T.button,{onClick:()=>wt(Qe+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${v===Qe+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Qe+1},Qe)),a.jsxs(T.button,{onClick:()=>wt(v+1),disabled:v===rt,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(ta,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),a.jsx(NUe,{isOpen:E,onClose:Rt,workOrder:R})]})},kUe=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Kc=t=>t==null||t===""?"N/A":String(t),Rae=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-2 rounded-xl text-gray-500 hover:bg-white hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Jc=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>a.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),a.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),QT=({title:t})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),CUe=({record:t,onUpdateRecord:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(QT,{title:"Monitoring Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Jc,{label:"Monitoring Interval",value:Kc(t.interval)}),a.jsx(Jc,{label:"Unit",value:Kc(t.unitWilayah)}),a.jsx(Jc,{label:"Machine",value:Kc(t.mesin)}),a.jsx(Jc,{label:"Item",value:Kc(t.item)}),a.jsx(Jc,{label:"Unit of Measure",value:Kc(t.unitOfMeasure)}),a.jsx(Jc,{label:"Monitoring Result",value:Kc(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),a.jsx(Jc,{label:"MS Status",value:Kc(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),a.jsx(QT,{title:"Standard"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Jc,{label:"Standard (Min)",value:Kc(t.standardMin)}),a.jsx(Jc,{label:"Standard (Max)",value:Kc(t.standardMax)}),a.jsx(Jc,{label:"Visual Standard",value:Kc(t.standartVisual),className:"md:col-span-2"})]}),a.jsx(QT,{title:"Description"}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsx(Jc,{label:"Notes",value:Kc(t.notes)})})]}),_Ue=({records:t})=>{const[e,r]=b.useState(""),[n,s]=b.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=b.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const v=[...new Set(t.filter(w=>w.mesin&&w.mesin!=="N/A"&&w.mesin.trim()!=="").map(w=>w.mesin))].sort();return console.log("Available machines:",v),["",...v]},[t]),o=b.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const v=t.filter(y=>y.mesin===e&&y.item&&y.item!=="N/A"&&y.item.trim()!=="").map(y=>y.item),w=[...new Set(v)].sort();return console.log(`Available items for ${e}:`,w),["",...w]},[t,e]),l=b.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const v=t.filter(w=>{const y=w.mesin===e,N=w.item===n,k=w.id.startsWith("activity-"),S=w.monitoringResult&&w.monitoringResult!=="N/A"&&w.monitoringResult!=="MS"&&w.monitoringResult!=="TMS"&&!isNaN(parseFloat(w.monitoringResult))&&isFinite(parseFloat(w.monitoringResult));return console.log(`Record ${w.id}:`,{machineMatch:y,itemMatch:N,hasActivity:k,monitoringResult:w.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(w.monitoringResult):null}),y&&N&&k&&S}).sort((w,y)=>new Date(w.date).getTime()-new Date(y.date).getTime()).map(w=>{const y=parseFloat(w.monitoringResult);return console.log(`Trend data point: ${w.date}, ${w.monitoringResult}, numeric: ${y}`),{date:new Date(w.date),dateString:new Date(w.date).toLocaleDateString("en-US"),result:y,msStatus:w.msStatus,notes:w.notes,machine:w.mesin,item:w.item,standardMin:w.standardMin,standardMax:w.standardMax,isActivity:w.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,v),v},[t,e,n]),c=b.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const v=l.map(W=>W.result);console.log("Analysis results:",v);const w=v.reduce((W,J)=>W+J,0)/v.length,y=[...v].sort((W,J)=>W-J),N=y.length%2===0?(y[y.length/2-1]+y[y.length/2])/2:y[Math.floor(y.length/2)],k=v.reduce((W,J)=>W+Math.pow(J-w,2),0)/v.length,S=Math.sqrt(k),A=Math.min(...v),_=Math.max(...v),O=_-A,P=l.map(W=>W.date.getTime()),I=l.map(W=>W.result),R=P.length,F=P.reduce((W,J)=>W+J,0),E=I.reduce((W,J)=>W+J,0),M=P.reduce((W,J,Z)=>W+J*I[Z],0),H=P.reduce((W,J)=>W+J*J,0),V=R*H-F*F,G=V!==0?(R*M-F*E)/V:0,q=V!==0?(E-G*F)/R:0,B=G>.001?"increasing":G<-.001?"decreasing":"stable",z=S>0?Math.abs(G)/S:0,X=l.filter(W=>Math.abs(W.result-w)>2*S),ee=l[0],K=ee.standardMin!==null&&ee.standardMax!==null?l.filter(W=>W.result>=(ee.standardMin||0)&&W.result<=(ee.standardMax||1/0)).length/l.length*100:null;return{mean:w,median:N,stdDev:S,min:A,max:_,range:O,count:v.length,trendDirection:B,trendStrength:z*1e3,slope:G,outliers:X,withinStandard:K,coefficientOfVariation:w>0?S/w*100:0}}catch(v){return console.error("Error in statistical analysis:",v),null}},[l]),d=b.useMemo(()=>{const v=t.length,w=new Set(t.map(k=>k.mesin)).size,y=t.filter(k=>k.msStatus==="MS").length,N=v>0?y/v*100:0;return[{title:"Total Monitoring Items",value:v.toLocaleString("id-ID"),icon:a.jsx(un,{})},{title:"Machines Monitored",value:w.toLocaleString("id-ID"),icon:a.jsx(Jh,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:a.jsx(ur,{})}]},[t]),f=b.useMemo(()=>{const v={};return t.forEach(w=>{w.mesin&&(v[w.mesin]=(v[w.mesin]||0)+1)}),Object.entries(v).sort(([,w],[,y])=>y-w).slice(0,5).map(([w,y])=>({name:w,count:y}))},[t]),m=b.useMemo(()=>{const v={};return t.forEach(w=>{if(w.date){const y=new Date(w.date),N=y.getFullYear(),k=(y.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${k}`;v[S]=(v[S]||0)+1}}),Object.entries(v).sort(([w],[y])=>w.localeCompare(y)).map(([w,y])=>{const[N,k]=w.split("-");return{name:`${new Date(Number(N),Number(k)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":y}})},[t]),p=b.useMemo(()=>{const v={MS:0,TMS:0,"N/A":0};return t.forEach(w=>{const y=w.msStatus||"N/A";v[y]=(v[y]||0)+1}),[{name:"MS",value:v.MS},{name:"TMS",value:v.TMS},{name:"N/A",value:v["N/A"]}].filter(w=>w.value>0)},[t]),g=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:d.map((v,w)=>a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:w*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:v.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:v.value})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:v.icon})]})},v.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(xc,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),a.jsx("div",{className:"space-y-3",children:f.map((v,w)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-sm",children:w+1})}),a.jsx("span",{className:"font-medium text-gray-800",children:v.name})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[v.count," events"]})]},v.name))})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(ur,{className:"mr-2 text-blue-600"})," Status Distribution"]}),p.length>0?a.jsx("div",{className:"w-full h-64",children:a.jsx(kl,{width:"100%",height:"100%",children:a.jsxs(aL,{children:[a.jsx(gd,{data:p,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:v,percent:w})=>`${v} ${(w*100).toFixed(0)}%`,children:p.map((v,w)=>a.jsx(zp,{fill:g[w%g.length]},`cell-${w}`))}),a.jsx(Ts,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[`${v} events`,"Count"]})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(uf,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?a.jsx("div",{className:"h-80",children:a.jsx(kl,{width:"100%",height:"100%",children:a.jsxs(hN,{data:m,children:[a.jsx(nd,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Oo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),a.jsx(Ff,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(uf,{className:"mx-auto text-gray-300 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),a.jsxs("select",{value:e,onChange:v=>{console.log("Machine selected:",v.target.value),r(v.target.value),s("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[a.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),a.jsxs("select",{value:n,onChange:v=>{console.log("Item selected:",v.target.value),s(v.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[a.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))]}),n&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Zs,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),a.jsx("button",{onClick:()=>{r(""),s("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("p",{className:"text-gray-600",children:[e," • ",n]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("select",{value:e,onChange:v=>{r(v.target.value),s("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))}),a.jsx("select",{value:n,onChange:v=>s(v.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(v=>a.jsx("option",{value:v,children:v},v))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(un,{className:"w-6 h-6"})})]})}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(uf,{className:"w-6 h-6"})})]})}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(fc,{className:"w-6 h-6"})})]})})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(uf,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),a.jsx("div",{className:"h-80",children:a.jsx(kl,{width:"100%",height:"100%",children:a.jsxs(hN,{data:l,children:[a.jsx(nd,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(Mo,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Oo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(Ts,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:v=>[v,"Value"]}),a.jsx(Ff,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(xc,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((v,w)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:v.dateString}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:v.result.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${v.msStatus==="MS"?"bg-green-100 text-green-800":v.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:v.msStatus||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:v.notes||"-"})]},w))})]})})]})]}):a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Hr,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},AUe=b.createContext(void 0),TUe=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:s})=>{const i=d=>{n(d)},o=r.reduce((d,f)=>{const m=String(f.scheduleId||"unknown");return d[m]||(d[m]={scheduleId:m,machine:f.mesin,unit:f.unitWilayah,interval:f.interval,items:[]}),d[m].items.push(f),d},{}),l=({status:d})=>{const f={New:{color:"bg-blue-100 text-blue-800 border-blue-200",icon:"🆕"},"On Progress":{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"⏳"},Done:{color:"bg-green-100 text-green-800 border-green-200",icon:"✅"},Cancelled:{color:"bg-red-100 text-red-800 border-red-200",icon:"❌"}},m=f[d]||f.New;return a.jsxs("span",{className:`inline-flex items-center gap-1.5 px-3 py-1.5 rounded-full text-xs font-semibold border ${m.color}`,children:[a.jsx("span",{className:"text-xs",children:m.icon}),d]})},c=({status:d})=>{const f={MS:{color:"bg-green-100 text-green-800 border-green-200",label:"Within Standard"},TMS:{color:"bg-red-100 text-red-800 border-red-200",label:"Out of Standard"},"N/A":{color:"bg-gray-100 text-gray-800 border-gray-200",label:"Not Applicable"}}[d]||{color:"bg-gray-100 text-gray-800 border-gray-200",label:d};return a.jsx("span",{className:`inline-flex items-center px-2.5 py-1 rounded-lg text-xs font-medium border ${f.color}`,children:f.label})};return a.jsx(Rae,{isOpen:t,onClose:e,title:`Schedules for ${new Date(s).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-4xl",maxWidth:"max-w-4xl",children:a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-2xl p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Daily Overview"}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),r.length," total items"]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(zs,{className:"w-4 h-4"}),Object.keys(o).length," schedules"]})]})]}),a.jsxs("div",{className:"flex gap-2",children:[Object.values(o).some(d=>d.items.some(f=>f.scheduleStatus==="Done"))&&a.jsx(l,{status:"Done"}),Object.values(o).some(d=>d.items.some(f=>f.scheduleStatus==="On Progress"))&&a.jsx(l,{status:"On Progress"}),Object.values(o).some(d=>d.items.some(f=>f.scheduleStatus==="New"))&&a.jsx(l,{status:"New"})]})]})}),r.length===0?a.jsxs("div",{className:"text-center py-12",children:[a.jsx("div",{className:"w-16 h-16 bg-gray-100 rounded-2xl flex items-center justify-center mx-auto mb-4",children:a.jsx(xa,{className:"text-gray-400 text-2xl"})}),a.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"No schedules for this date"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There are no maintenance schedules scheduled for this day."})]}):a.jsx("div",{className:"space-y-4",children:Object.values(o).map(d=>a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-white rounded-2xl border border-gray-200 shadow-sm overflow-hidden hover:shadow-md transition-all duration-200",children:[a.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-blue-50 px-6 py-4 border-b border-gray-100",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h4",{className:"text-lg font-bold text-gray-900",children:d.machine}),d.items.every(f=>f.scheduleStatus===d.items[0].scheduleStatus)&&a.jsx(l,{status:d.items[0].scheduleStatus||"New"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(un,{className:"w-4 h-4"}),d.items.length," item",d.items.length>1?"s":""]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Cr,{className:"w-4 h-4"}),d.interval]}),a.jsxs("span",{className:"flex items-center gap-1.5",children:[a.jsx(Ya,{className:"w-4 h-4"}),d.unit]})]})]})})}),a.jsx("div",{className:"divide-y divide-gray-100",children:d.items.map((f,m)=>a.jsxs(T.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)",scale:1.005},whileTap:{scale:.995},onClick:()=>i(f),className:"w-full text-left p-6 transition-all duration-200 flex justify-between items-start gap-4",children:[a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsxs("div",{className:"flex items-start justify-between mb-3",children:[a.jsxs("div",{children:[a.jsx("h5",{className:"text-base font-semibold text-gray-900 mb-1",children:f.item}),a.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.jsx(l,{status:f.scheduleStatus||"New"}),f.monitoringResult&&f.monitoringResult!=="N/A"&&a.jsxs("span",{className:"inline-flex items-center px-2.5 py-1 bg-purple-100 text-purple-800 rounded-lg text-xs font-medium border border-purple-200",children:["📊 Result: ",f.monitoringResult]})]})]}),a.jsx(c,{status:f.msStatus})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 text-sm",children:[f.standardMin!==null&&f.standardMax!==null&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Standard:"}),a.jsxs("span",{children:[f.standardMin," - ",f.standardMax]})]}),f.unitOfMeasure&&f.unitOfMeasure!=="N/A"&&a.jsxs("div",{className:"flex items-center gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium",children:"Unit:"}),a.jsx("span",{children:f.unitOfMeasure})]}),f.notes&&f.notes!=="N/A"&&a.jsxs("div",{className:"md:col-span-2 flex items-start gap-2 text-gray-600",children:[a.jsx("span",{className:"font-medium mt-0.5",children:"Notes:"}),a.jsx("span",{className:"flex-1",children:f.notes})]})]})]}),a.jsx("div",{className:"flex-shrink-0",children:a.jsx("div",{className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:a.jsx(ta,{className:"w-4 h-4"})})})]},`${f.id}-${m}`))})]},d.scheduleId))}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100",children:a.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"px-6 py-3 bg-gray-100 text-gray-700 rounded-xl hover:bg-gray-200 transition-colors duration-200 font-semibold text-sm",children:"Close"})})]})})},RG=()=>{const t=tr(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=sr(),[s,i]=b.useState(()=>{const xe=localStorage.getItem("sidebarOpen");return JSON.parse(xe||"false")}),[o,l]=b.useState(!1),[c,d]=b.useState(!0),[f,m]=b.useState(null),[p,g]=b.useState(window.innerWidth<768),[v,w]=b.useState(!1),[y,N]=b.useState(!1),[k,S]=b.useState(!1),[A,_]=b.useState(!1),[O,P]=b.useState(null),[I,R]=b.useState("calendar"),[F,E]=b.useState(null),[M,H]=b.useState(null),[V,G]=b.useState([]),[q,B]=b.useState([]),[z,X]=b.useState([]),[ee,K]=b.useState(""),[W,J]=b.useState(!1),[Z,ie]=b.useState(1),[ue,je]=b.useState([]),[ce,le]=b.useState([]),[pe,$e]=b.useState([]),[de,Se]=b.useState({startDate:null,endDate:null,selectedUnits:[]}),[te,se]=b.useState(!1),[ut,dt]=b.useState([]),[De,rt]=b.useState(""),wt=b.useRef(null),gt=b.useRef(null),[Rt,He]=b.useState([]),[he,Qe]=b.useState([]),[Ge,mt]=b.useState(!1),[Le,_e]=b.useState(!1),qe=b.useRef(null),[ge,Oe]=b.useState(!1),ke=b.useRef(null),[Ue,Xe]=b.useState(!1),we=b.useRef(null),ye=b.useMemo(()=>[{value:"MS",label:"MS"},{value:"TMS",label:"TMS"},{value:"N/A",label:"N/A"}],[]);b.useMemo(()=>[{value:"Daily",label:"Daily"},{value:"Weekly",label:"Weekly"},{value:"Monthly",label:"Monthly"},{value:"3 Months",label:"3 Months"},{value:"6 Months",label:"6 Months"},{value:"1 Year",label:"1 Year"}],[]);const Ke=b.useMemo(()=>ue.map(xe=>{var rn;const nt=ce.flatMap(nr=>nr.mesin).find(nr=>nr.id===xe.id_mesins),Nt=(nt==null?void 0:nt.name)||`Machine ${xe.id_mesins}`,cr=((rn=xe.monitoring_interval)==null?void 0:rn.type_interval)||"weekly";return{id:`schedule-${xe.id_monitoring_schedule}`,mesin:Nt,item:"",interval:cr,unitWilayah:xe.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[ue,ce]),pt=b.useCallback((xe,nt,Nt)=>{const cr=[];xe.forEach(nr=>{var Kn;const zt=Nt.flatMap(Er=>Er.mesin).find(Er=>Er.id===nr.id_mesins),Nr=(zt==null?void 0:zt.name)||`Machine ${nr.id_mesins}`,jr=((Kn=nr.monitoring_interval)==null?void 0:Kn.type_interval)||"weekly",cn=jr==="weekly"?"Weekly":jr==="monthly"?"Monthly":jr==="quarterly"?"3 Months":jr==="semi-annual"?"6 Months":jr==="yearly"?"1 Year":"Daily",ir=nr.item_mesins&&nr.item_mesins.length>0?nr.item_mesins:(zt==null?void 0:zt.item_mesin)||[];nr.monitoring_activities&&nr.monitoring_activities.length>0?nr.monitoring_activities.forEach(Er=>{var Qr;let ya=ir.find(Sn=>Sn.id===Er.id_item_mesin);if(!ya)for(const Sn of Nt){for(const kc of Sn.mesin){const Xi=(Qr=kc.item_mesin)==null?void 0:Qr.find(vo=>vo.id===Er.id_item_mesin);if(Xi){ya=Xi;break}}if(ya)break}ya||(console.warn(`Item mesin not found for activity ${Er.id_monitoring_activity}, item_mesin_id: ${Er.id_item_mesin}`),ya={id:Er.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:nr.id_mesins,created_at:"",updated_at:""});let va="N/A";Er.hasil_ms_tms==="ms"?va="MS":Er.hasil_ms_tms==="tms"&&(va="TMS");let nn=Er.hasil_monitoring||"N/A";if(Er.hasil_monitoring&&Er.hasil_monitoring!=="N/A"){const Sn=parseFloat(Er.hasil_monitoring);!isNaN(Sn)&&isFinite(Sn)&&(nn=Sn.toString())}cr.push({id:`activity-${Er.id_monitoring_activity}`,mesin:Nr,date:Er.tgl_monitoring,interval:cn,unitWilayah:nr.unit,item:ya.item_mesin||"Unknown Item",unitOfMeasure:ya.satuan||"N/A",standardMin:ya.standard_min?parseFloat(ya.standard_min):null,standardMax:ya.standard_max?parseFloat(ya.standard_max):null,standartVisual:ya.standard_visual||"N/A",monitoringResult:nn,msStatus:va,notes:Er.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${Nr}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:nr.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:nr.id_monitoring_schedule,scheduleStatus:nr.status||"New"})}):ir.forEach(Er=>{cr.push({id:`schedule-${nr.id_monitoring_schedule}-scheduled-${Er.id}`,mesin:Nr,date:nr.tgl_start,interval:cn,unitWilayah:nr.unit,item:Er.item_mesin||"Unknown Item",unitOfMeasure:Er.satuan||"N/A",standardMin:Er.standard_min?parseFloat(Er.standard_min):null,standardMax:Er.standard_max?parseFloat(Er.standard_max):null,standartVisual:Er.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${Nr}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:nr.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:nr.id_monitoring_schedule,scheduleStatus:nr.status||"New"})})}),console.log("Converted records:",cr.length),console.log("Sample converted records:",cr.slice(0,5));const rn=cr.filter(nr=>nr.monitoringResult&&nr.monitoringResult!=="N/A"&&!isNaN(parseFloat(nr.monitoringResult)));return console.log("Numeric records available:",rn.length),console.log("Numeric records sample:",rn.slice(0,3)),cr},[]),[tt,Te]=b.useState([]),ne=300*1e3,[Ie,Ye]=b.useState(null);b.useEffect(()=>{let xe=!0;const nt=new AbortController;return(async()=>{var rn,nr,zt;if(!xe)return;const cr=Date.now();if(Ie&&cr-Ie.timestamp<ne){je(Ie.schedules),le(Ie.masterData.unitsWithMachines||[]),$e(Ie.masterData.intervals||[]);const Nr=pt(Ie.schedules,[],Ie.masterData.unitsWithMachines||[]);Te(Nr),d(!1);return}try{d(!0),m(null);const[Nr,jr]=await Promise.all([e(),r()]);if(!xe)return;console.log("Schedules data:",Nr),console.log("Master data:",jr),console.log("Units with machines:",jr.unitsWithMachines),jr.unitsWithMachines&&jr.unitsWithMachines.length>0&&console.log("Sample machine items:",(zt=(nr=(rn=jr.unitsWithMachines[0])==null?void 0:rn.mesin)==null?void 0:nr[0])==null?void 0:zt.item_mesin),Ye({schedules:Nr,masterData:jr,timestamp:cr}),je(Nr),le(jr.unitsWithMachines||[]),$e(jr.intervals||[]);const cn=pt(Nr,[],jr.unitsWithMachines||[]);Te(cn)}catch(Nr){if(!xe)return;m(Nr instanceof Error?Nr.message:"Failed to fetch data")}finally{xe&&d(!1)}})(),()=>{xe=!1,nt.abort()}},[e,r,pt,Ie]);const st={role:"Unit Head Engineering"},yt=b.useMemo(()=>["",...new Set(tt.map(xe=>xe.unitWilayah))],[tt]),ze=b.useMemo(()=>["",...new Set(tt.map(xe=>xe.mesin))],[tt]);b.useMemo(()=>["",...new Set(tt.map(xe=>xe.item))],[tt]);const St=b.useMemo(()=>{if(tt.length===0)return[];let xe=tt;if(ee){const nt=ee.toLowerCase();if(xe=xe.filter(Nt=>Nt.mesin.toLowerCase().includes(nt)||Nt.item.toLowerCase().includes(nt)||Nt.unitWilayah.toLowerCase().includes(nt)),xe.length===0)return[]}if(F&&M){const nt=F.toISOString().split("T")[0],Nt=M.toISOString().split("T")[0];if(xe=xe.filter(cr=>cr.date>=nt&&cr.date<=Nt),xe.length===0)return[]}if(Rt.length>0){const nt=new Set(Rt);if(xe=xe.filter(Nt=>nt.has(Nt.msStatus)),xe.length===0)return[]}if(V.length>0){const nt=new Set(V);if(xe=xe.filter(Nt=>nt.has(Nt.unitWilayah)),xe.length===0)return[]}if(q.length>0){const nt=new Set(q);if(xe=xe.filter(Nt=>nt.has(Nt.mesin)),xe.length===0)return[]}return xe},[tt,F,M,Rt,V,q,ee]);b.useEffect(()=>{const xe=()=>{g(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",xe),()=>window.removeEventListener("resize",xe)},[]),b.useEffect(()=>{const xe=nt=>{wt.current&&!wt.current.contains(nt.target)&&w(!1),gt.current&&!gt.current.contains(nt.target)&&N(!1),qe.current&&!qe.current.contains(nt.target)&&!nt.target.closest(".status-filter-toggle")&&_e(!1),ke.current&&!ke.current.contains(nt.target)&&!nt.target.closest(".machine-filter-toggle")&&Oe(!1),we.current&&!we.current.contains(nt.target)&&!nt.target.closest(".unit-filter-toggle")&&Xe(!1)};return document.addEventListener("mousedown",xe),()=>{document.removeEventListener("mousedown",xe)}},[]);const Ee=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(xe=>!xe)},It=xe=>{P(xe),S(!0)},Pt=b.useCallback(xe=>{Te(nt=>nt.map(Nt=>Nt.id===xe.id?xe:Nt))},[]),Bt=(xe,nt)=>new Date(xe,nt+1,0).getDate(),ft=(xe,nt)=>{const Nt=new Date(xe,nt,1).getDay();return Nt===0?6:Nt-1},Ct=b.useMemo(()=>new Date,[]),[Mt,pr]=b.useState(Ct),yn=()=>{pr(xe=>new Date(xe.getFullYear(),xe.getMonth()-1,1))},vn=()=>{pr(xe=>new Date(xe.getFullYear(),xe.getMonth()+1,1))},or=()=>{pr(new Date)},Ur=(xe,nt)=>{dt(xe),rt(nt),se(!0)},Yr=xe=>{console.log("Navigating with record:",xe);let nt;if(xe.scheduleId)nt=xe.scheduleId;else if(xe.id.startsWith("schedule-")){const Nt=xe.id.split("-");Nt.length>=2&&(nt=Nt[1])}else if(xe.id.startsWith("activity-")){const Nt=xe.id.split("-");if(Nt.length>=2){for(let cr of Nt)if(/^\d+$/.test(cr)){nt=cr;break}}}if(!nt){console.error("Could not extract schedule ID from record:",xe),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",nt),t(`/monitoringmaintenance/detailmonitoringmaintenance/${nt}`),se(!1)},jn=()=>{const xe=Mt.getFullYear(),nt=Mt.getMonth(),Nt=Bt(xe,nt),cr=ft(xe,nt),rn=[];let nr=1,zt=[],Nr=null;for(let jr=0;jr<cr;jr++)zt.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-pre-${jr}`));for(;nr<=Nt;){const jr=new Date(xe,nt,nr);Nr||(Nr=jr);const cn=`${xe}-${String(nt+1).padStart(2,"0")}-${String(nr).padStart(2,"0")}`,ir=St.filter(nn=>nn.date===cn),Kn=ir.reduce((nn,Qr)=>{const Sn=String(Qr.scheduleId||"unknown");return nn[Sn]?nn[Sn].items.push(Qr):nn[Sn]={scheduleId:Sn,machine:Qr.mesin,items:[Qr]},nn},{}),Er=Object.values(Kn),ii=Ct.toDateString()===jr.toDateString(),ya=Er.length>0;let va="p-3 rounded-xl border-2 min-h-[100px] flex flex-col transition-all duration-200 ";if(ii)va+="bg-blue-50 border-blue-200 shadow-sm ";else if(ya){const nn=Er.flatMap(Qr=>Qr.items.map(Sn=>Sn.scheduleStatus||"New"));nn.includes("Done")?va+="bg-green-50 border-green-200 ":nn.includes("On Progress")?va+="bg-yellow-50 border-yellow-200 ":va+="bg-blue-50 border-blue-200 "}else va+="bg-white border-gray-100 hover:border-gray-200 ";if(va+="hover:shadow-md hover:scale-[1.02] cursor-pointer ",zt.push(a.jsxs(T.div,{className:va,whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ya&&Ur(ir,cn),children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsx("span",{className:`text-sm font-semibold ${ii?"text-blue-600":ya?"text-gray-900":"text-gray-500"}`,children:nr}),ii&&a.jsx("div",{className:"w-2 h-2 bg-blue-500 rounded-full"})]}),a.jsxs("div",{className:"flex-1 flex flex-col gap-1.5",children:[Er.slice(0,2).map((nn,Qr)=>a.jsxs("div",{className:`px-2 py-1.5 rounded-lg text-xs font-medium ${nn.items[0].scheduleStatus==="Done"?"bg-green-100 text-green-800 border border-green-200":nn.items[0].scheduleStatus==="On Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-blue-100 text-blue-800 border border-blue-200"}`,children:[a.jsx("div",{className:"font-semibold truncate",children:nn.machine}),a.jsxs("div",{className:"text-xs opacity-75 mt-0.5",children:[nn.items.length," item",nn.items.length>1?"s":""]})]},nn.scheduleId)),Er.length>2&&a.jsxs("div",{className:"px-2 py-1 bg-gray-100 text-gray-600 rounded-lg text-xs font-medium text-center",children:["+",Er.length-2," more"]})]})]},cn)),zt.length===7||nr===Nt){for(;zt.length<7;)zt.push(a.jsx("div",{className:"p-3 rounded-xl bg-gray-50 border border-gray-100 min-h-[100px] flex flex-col items-center justify-center",children:a.jsx("span",{className:"text-sm text-gray-400",children:"-"})},`empty-post-${zt.length}`));const nn=Nr?kUe(Nr):null;rn.push(a.jsxs(b.Fragment,{children:[a.jsx("div",{className:"p-3 rounded-xl bg-gradient-to-br from-gray-50 to-gray-100 border border-gray-200 flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-bold text-gray-600",children:nn!==null?`${String(nn).padStart(2,"0")}`:""})}),zt]},`week-row-${nr}`)),zt=[],Nr=null}nr++}return rn};b.useMemo(()=>{const xe=tt.filter(Nt=>Nt),nt=[];return xe.forEach(Nt=>{nt.push({id:`approval-${Nt.id}`,icon:a.jsx(VE,{className:"text-orange-500"}),title:`Approval Needed: ${Nt.mesin} - ${Nt.item}`,description:`Record for ${Nt.mesin} - ${Nt.item} is awaiting your approval ().`,date:new Date(Nt.date).toLocaleDateString("en-US")})}),nt},[tt,st.role]);const Ve=(xe,nt)=>{He(nt?Nt=>[...Nt,xe]:Nt=>Nt.filter(cr=>cr!==xe))},it=(xe,nt)=>{B(nt?Nt=>[...Nt,xe]:Nt=>Nt.filter(cr=>cr!==xe))},_t=(xe,nt)=>{G(nt?Nt=>[...Nt,xe]:Nt=>Nt.filter(cr=>cr!==xe))};return de.startDate!==null&&de.endDate,de.selectedUnits.length>0,de.selectedUnits.every(xe=>xe.machines.length>0&&xe.machines.every(nt=>nt.selectedInterval!==null)),de.selectedUnits.every(xe=>xe.machines.every(nt=>nt.selectedInterval===null||nt.selectedInterval!==null&&nt.selectedItems.length>0)),a.jsx(AUe.Provider,{value:{records:tt,setRecords:Te,routineSchedules:Ke},children:a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Jh,{}),isMobile:p,toggleSidebar:Ee}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",a.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(T.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(pa,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),a.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[a.jsxs(T.button,{onClick:()=>R("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${I==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(xa,{className:"w-4 h-4 mr-2"})," Calendar"]}),a.jsxs(T.button,{onClick:()=>R("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${I==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(un,{className:"w-4 h-4 mr-2"})," Table"]}),a.jsxs(T.button,{onClick:()=>R("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${I==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(uf,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):tt.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):a.jsx(ar,{mode:"wait",children:a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:ee,onChange:xe=>K(xe.target.value),"aria-label":"Search records"})]}),a.jsxs(T.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>J(!W),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filter"}),a.jsx(T.span,{animate:{rotate:W?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]}),a.jsx(ar,{children:W&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xa,{className:"text-gray-500 text-base"}),a.jsx(um,{selected:F,onChange:xe=>E(xe),selectsStart:!0,startDate:F,endDate:M,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(um,{selected:M,onChange:xe=>H(xe),selectsEnd:!0,startDate:F,endDate:M,minDate:F||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(F||M)&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{E(null),H(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx($t,{className:"text-base"})})]}),a.jsxs("div",{ref:qe,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:xe=>{xe.stopPropagation(),_e(!Le)},"aria-expanded":Le,"aria-haspopup":"true","aria-label":"Filter by Status",children:[a.jsx("span",{children:Rt.length>0?Rt.length===ye.length?"All Status":`Selected (${Rt.length})`:"All Status"}),a.jsx(la,{className:`transform transition-transform ${Le?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:Le&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Rt.length===ye.length&&ye.length>0,onChange:xe=>{xe.target.checked?He(ye.map(nt=>nt.value)):He([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ye.map(xe=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Rt.includes(xe.value),onChange:nt=>Ve(xe.value,nt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:xe.label})]},xe.value))]})})]}),a.jsxs("div",{ref:we,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"unit-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:xe=>{xe.stopPropagation(),Xe(!Ue)},"aria-expanded":Ue,"aria-haspopup":"true","aria-label":"Filter by Unit",children:[a.jsx("span",{children:V.length>0?V.length===yt.length-1?"All Units":`Selected (${V.length})`:"All Units"}),a.jsx(la,{className:`transform transition-transform ${Ue?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:Ue&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:V.length===yt.length-1&&yt.length>1,onChange:xe=>{xe.target.checked?G(yt.slice(1)):G([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),yt.slice(1).map(xe=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:V.includes(xe),onChange:nt=>_t(xe,nt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:xe})]},xe))]})})]}),a.jsxs("div",{ref:ke,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:xe=>{xe.stopPropagation(),Oe(!ge)},"aria-expanded":ge,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:q.length>0?q.length===ze.length-1?"All Machines":`Selected (${q.length})`:"All Machines"}),a.jsx(la,{className:`transform transition-transform ${ge?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(ar,{children:ge&&a.jsxs(T.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:q.length===ze.length-1&&ze.length>1,onChange:xe=>{xe.target.checked?B(ze.slice(1)):B([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ze.slice(1).map(xe=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:q.includes(xe),onChange:nt=>it(xe,nt.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:xe})]},xe))]})})]})]})})]}),I==="calendar"&&a.jsxs("div",{className:"space-y-6",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"text-center lg:text-left",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:Mt.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Monitor your maintenance schedules and activities"})]}),a.jsxs("div",{className:"flex items-center justify-center gap-3",children:[a.jsx(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:yn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Previous month",children:a.jsx(fu,{size:20})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:or,className:"px-4 py-3 bg-blue-600 text-white rounded-xl text-sm font-semibold shadow-lg hover:bg-blue-700 transition-colors duration-200",children:"Today"}),a.jsx(T.button,{whileHover:{scale:1.05,backgroundColor:"rgba(59, 130, 246, 0.1)"},whileTap:{scale:.95},onClick:vn,className:"p-3 rounded-xl text-gray-600 hover:text-blue-600 hover:bg-blue-50 transition-all duration-200 border border-gray-200","aria-label":"Next month",children:a.jsx(ta,{size:20})})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsxs("div",{className:"grid grid-cols-8 gap-2 mb-4",children:[a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:"WN"})}),["Mon","Tue","Wed","Thu","Fri","Sat","Sun"].map(xe=>a.jsx("div",{className:"p-3 text-center",children:a.jsx("span",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wider",children:xe})},xe))]}),a.jsx("div",{className:"grid grid-cols-8 gap-2",children:jn()})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6 border border-gray-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Schedule Status"}),a.jsxs("div",{className:"flex flex-wrap gap-6",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border-2 border-blue-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"New / Not Started"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-100 border-2 border-yellow-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"On Progress"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border-2 border-green-400 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"Done / Completed"})]}),a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-100 border-2 border-gray-300 rounded-full"}),a.jsx("span",{className:"text-sm font-medium text-gray-700",children:"No Schedule"})]})]})]})]}),I==="table"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),a.jsx("th",{className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:St.length>0?St.map(xe=>a.jsxs(T.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:xe.date}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.interval}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.unitWilayah}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.mesin}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:xe.item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:xe.monitoringResult}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${xe.msStatus==="MS"?"bg-green-100 text-green-800":xe.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:xe.msStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>It(xe),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:a.jsx(bo,{size:18})})})]},xe.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),I==="trend"&&a.jsx(_Ue,{records:St})]},I)})]})]}),a.jsx(Rae,{isOpen:k,onClose:()=>S(!1),title:"Monitoring Details",children:O&&a.jsxs(a.Fragment,{children:[a.jsx(CUe,{record:O,onUpdateRecord:Pt}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:a.jsxs(T.button,{onClick:()=>Yr(O),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[a.jsx(bo,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),a.jsx(TUe,{isOpen:te,onClose:()=>se(!1),schedules:ut,onSelectSchedule:Yr,titleDate:De})]})})};function MUe(t,e){const[r,n]=b.useState(t);return b.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const IG=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),x2=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},OUe=({vendor:t,onClose:e})=>{const r=o=>o==null?"-":typeof o=="object"&&o!==null?o.name||o.title||o.id||"-":typeof o=="string"?o.trim()!==""?o.trim():"-":typeof o=="number"?o.toString():String(o),n=o=>o?new Date(o).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",s=({title:o,children:l,icon:c})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[c&&a.jsx("div",{className:"mr-3 text-blue-600",children:c}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o})]})}),a.jsx("div",{className:"p-6",children:l})]}),i=({label:o,value:l,icon:c,fullWidth:d=!1,priority:f="medium"})=>{const m={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${d?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${m[f]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[c&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:c}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:o}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:l})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("div",{className:"flex items-center gap-3 mb-2",children:a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:t.name})}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(xa,{className:"w-4 h-4"}),"Vendor ID: ",t.id," • Created: ",n(t.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:e,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx($t,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(s,{title:"Basic Information",icon:a.jsx(ln,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Vendor ID",value:r(t.id),icon:a.jsx(un,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Vendor Name",value:r(t.name),icon:a.jsx(dd,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Contact Person",value:r(t.contact_person),icon:a.jsx(ln,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(s,{title:"Contact Information",icon:a.jsx(sd,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Email",value:r(t.email),icon:a.jsx(Jp,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Telephone",value:r(t.telp),icon:a.jsx(sd,{className:"w-4 h-4"})}),a.jsx(i,{label:"Mobile Phone",value:r(t.HP),icon:a.jsx(sd,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Address Information",icon:a.jsx(gs,{className:"w-5 h-5"}),children:a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(i,{label:"Full Address",value:r(t.address),icon:a.jsx(gs,{className:"w-4 h-4"}),fullWidth:!0})})}),a.jsx(s,{title:"Additional Information",icon:a.jsx(Zs,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Created At",value:n(t.created_at),icon:a.jsx(xa,{className:"w-4 h-4"})}),a.jsx(i,{label:"Updated At",value:n(t.updated_at),icon:a.jsx(xa,{className:"w-4 h-4"})})]})})]})},EUe=()=>{Ws();const[t,e]=b.useState([]),{getVendor:r,deleteVendor:n,user:s,hasPermission:i}=sr(),[o,l]=b.useState([]),[c,d]=b.useState(!0),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(""),[y,N]=b.useState(""),[k,S]=b.useState(!1),[A,_]=b.useState(null),[O,P]=b.useState(!1),[I,R]=b.useState(null),F=b.useRef(!0),[E,M]=b.useState(null),[H,V]=b.useState(null),G=b.useRef(null),[q,B]=b.useState(!1),[z,X]=b.useState(""),[ee]=b.useState(window.innerWidth<768),[K,W]=b.useState(()=>{const ne=localStorage.getItem("sidebarOpen");return ne?JSON.parse(ne):!1}),[J,Z]=b.useState(!1),[ie,ue]=b.useState(null),[je,ce]=b.useState(!1),[le,pe]=b.useState(null),$e=tr(),[de,Se]=b.useState(!1),[te,se]=b.useState(!1),[ut,dt]=b.useState(!1),De=b.useRef(null),rt=b.useRef(null),[wt,gt]=b.useState(1),[Rt]=b.useState(10),[He,he]=b.useState({key:"name",direction:"ascending"}),Qe=MUe(z,300),Ge=b.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),mt=b.useCallback(async()=>{try{d(!0);const Ie=[...await r()].sort((Ye,st)=>Ye.id-st.id);e(Ie),l(Ie)}catch(ne){R("Failed to load vendors"),console.error("Error loading vendors:",ne)}finally{F.current&&d(!1)}},[r]);b.useEffect(()=>{mt()},[mt]),b.useEffect(()=>{let ne=[...t];if(Qe.trim()){const Ie=Qe.toLowerCase().trim();ne=ne.filter(Ye=>{var Bt,ft,Ct;const st=Ie.split(":");let yt="all",ze=Ie;st.length>1&&Ge.some(Mt=>Mt.name.toLowerCase()===st[0].trim())&&(yt=st[0].trim(),ze=st.slice(1).join(":").trim());const St=(Bt=Ye.name)==null?void 0:Bt.toLowerCase().includes(ze),Ee=(ft=Ye.contact_person)==null?void 0:ft.toLowerCase().includes(ze),It=(Ct=Ye.email)==null?void 0:Ct.toLowerCase().includes(ze),Pt=Ye.id.toString().includes(ze);return yt==="vendor name"?St:yt==="contact person"?Ee:yt==="email"?It:yt==="vendor id"?Pt:St||Ee||It||Pt})}if(E){const Ie=new Date(E);Ie.setHours(0,0,0,0),ne=ne.filter(Ye=>{if(!Ye.created_at)return!0;const st=new Date(Ye.created_at);return st.setHours(0,0,0,0),st>=Ie})}if(H){const Ie=new Date(H);Ie.setHours(23,59,59,999),ne=ne.filter(Ye=>{if(!Ye.created_at)return!0;const st=new Date(Ye.created_at);return st.setHours(0,0,0,0),st<=Ie})}He!==null&&ne.sort((Ie,Ye)=>{const st=we(Ie[He.key]),yt=we(Ye[He.key]);return st<yt?He.direction==="ascending"?-1:1:st>yt?He.direction==="ascending"?1:-1:0}),l(ne)},[t,Qe,E,H,He,Ge]);const Le=()=>{const ne=!K;W(ne),localStorage.setItem("sidebarOpen",JSON.stringify(ne))},_e=()=>{alert("Import functionality is not yet implemented.")},qe=ne=>{const Ie=ne.target.value;X(Ie)},ge=be.useMemo(()=>{if(!z)return Ge;const ne=z.toLowerCase();return Ge.filter(Ie=>Ie.name.toLowerCase().includes(ne))},[z,Ge]),Oe=ne=>{var Ie;X(`${ne}: `),B(!1),(Ie=G.current)==null||Ie.focus()},ke=ne=>{ue(ne),ce(!0)},Ue=async ne=>{try{await n(ne),e(t.filter(Ie=>Ie.id!==ne)),P(!1),pe(null)}catch(Ie){console.error("Failed to delete Vendor:",Ie),R("Failed to delete vendor. Please try again.")}};b.useCallback(ne=>{pe(ne),P(!0)},[]);const Xe=ne=>{let Ie="ascending";He&&He.key===ne&&He.direction==="ascending"&&(Ie="descending"),he({key:ne,direction:Ie})},we=ne=>typeof ne=="object"&&ne!==null?ne.name||ne.toString():(ne==null?void 0:ne.toString())||"",ye=wt*Rt,Ke=ye-Rt,pt=o.slice(Ke,ye),tt=Math.ceil(o.length/Rt),Te=ne=>gt(ne);return b.useEffect(()=>{const ne=Ie=>{De.current&&!De.current.contains(Ie.target)&&se(!1),rt.current&&!rt.current.contains(Ie.target)&&dt(!1),G.current&&!G.current.contains(Ie.target)&&!Ie.target.closest(".search-suggestions")&&B(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(Jfe,{}),isMobile:ee,toggleSidebar:Le}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&a.jsxs(T.button,{onClick:()=>$e("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Vendor"})]}),a.jsxs(T.button,{onClick:_e,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>Z(!J),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:J?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(x2,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(dd,{className:"w-6 h-6"})}),a.jsx(x2,{title:"Vendors with Email",value:t.filter(ne=>ne.email).length.toString(),change:`+${Math.floor(t.filter(ne=>ne.email).length/t.length*100)}%`,icon:a.jsx(Jp,{className:"w-6 h-6"})}),a.jsx(x2,{title:"Vendors with Contact",value:t.filter(ne=>ne.contact_person).length.toString(),change:`+${Math.floor(t.filter(ne=>ne.contact_person).length/t.length*100)}%`,icon:a.jsx(ga,{className:"w-6 h-6"})}),a.jsx(x2,{title:"Vendors with Phone",value:t.filter(ne=>ne.telp||ne.HP).length.toString(),change:`+${Math.floor(t.filter(ne=>ne.telp||ne.HP).length/t.length*100)}%`,icon:a.jsx(sd,{className:"w-6 h-6"})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:G,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:z,onChange:qe,onFocus:()=>B(!0),"aria-label":"Search vendors"}),a.jsx(ar,{children:q&&ge.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:ge.map(ne=>a.jsx(T.button,{onClick:()=>Oe(ne.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:ne.name})},ne.id))})})]})}),a.jsx(ar,{children:J&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(xa,{className:"text-gray-500 text-base"}),a.jsx(um,{selected:E,onChange:ne=>M(ne),selectsStart:!0,startDate:E,endDate:H,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(um,{selected:H,onChange:ne=>V(ne),selectsEnd:!0,startDate:E,endDate:H,minDate:E||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(E||H)&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{M(null),V(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx($t,{className:"text-base"})})]})})})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Zs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Qe||E||H?"No vendors found matching your filters.":"No vendors available."}),(Qe||E||H)&&a.jsx("button",{onClick:()=>{X(""),M(null),V(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Xe("id"),children:["No",(He==null?void 0:He.key)==="id"&&a.jsx("span",{className:"ml-1",children:He.direction==="ascending"?"↑":"↓"})]}),a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Xe("name"),children:["Vendor Name",(He==null?void 0:He.key)==="name"&&a.jsx("span",{className:"ml-1",children:He.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:pt.map((ne,Ie)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Ie+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ne.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ne.address||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ne.contact_person||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ne.email||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ne.telp||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:ne.HP||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ke(ne),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${ne.name}`,children:a.jsx(bo,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>$e(`/vendors/editvendor/${ne.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${ne.name}`,children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{pe(ne.id),P(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${ne.name}`,children:a.jsx(In,{className:"inline text-base"})})]})]},ne.id))})]})})}),o.length>Rt&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ke+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ye,o.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:o.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Te(wt-1),disabled:wt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:tt},(ne,Ie)=>a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Te(Ie+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${wt===Ie+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Ie+1}`,children:Ie+1},Ie+1)),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Te(wt+1),disabled:wt===tt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),ie&&a.jsx(IG,{isOpen:je,onClose:()=>{ce(!1),ue(null)},title:"Vendor Details",className:"max-w-3xl",children:a.jsx(OUe,{vendor:ie,onClose:()=>ce(!1)})}),a.jsx(IG,{isOpen:O,onClose:()=>P(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>P(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le&&Ue(le),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},DUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,PUe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),[s,i]=b.useState([]),{addVendor:o,getVendor:l}=sr(),[c,d]=b.useState(()=>{const F=localStorage.getItem("sidebarOpen");return F?JSON.parse(F):!1}),[f,m]=b.useState(null),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y,N]=b.useState(!1),k=tr(),[S,A]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{d(F=>!F)},O=F=>{const{name:E,value:M}=F.target;A(H=>({...H,[E]:E==="sla"?Number(M):M}))},P=b.useCallback(async()=>{try{const[F]=await Promise.all([l()]);n(F)}catch(F){m(F.message||"Failed to load form data")}},[l]);b.useEffect(()=>{P()},[P]);const I=async F=>{F.preventDefault(),N(!0),m(null);try{const E={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(E),g("Vendor created successfully!"),w(!0)}catch(E){m(E.message||"Failed to create Vendor")}finally{N(!1)}},R=()=>{w(!1),k("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),a.jsxs(T.button,{onClick:()=>k("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[f&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:f}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>k("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:y,children:y?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(DUe,{isOpen:v,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:p}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},LUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,RUe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getVendor:l,updateVendor:c,getVendorById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,H),w("Vendor update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Vendor")}finally{S(!1)}},E=()=>{N(!1),A("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cr,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),a.jsxs(T.button,{onClick:()=>A("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(LUe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},IUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,FUe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsx(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&a.jsx(ur,{className:"text-green-500 text-5xl"}),l==="feedback"&&a.jsx(wg,{className:"text-blue-500 text-5xl"}),l==="reject"&&a.jsx(Hr,{className:"text-red-500 text-5xl"}),l==="edit"&&a.jsx($a,{className:"text-purple-500 text-5xl"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),$Ue=()=>{var tt;Ws();const t=tr(),{id:e}=si(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:s,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=sr(),[d,f]=b.useState(window.innerWidth<768),[m,p]=b.useState(()=>{const Te=localStorage.getItem("sidebarOpen");return JSON.parse(Te||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),p(Te=>!Te)},[v,w]=b.useState(null),[y,N]=b.useState(null),[k,S]=b.useState(!1),[A,_]=b.useState(!0),[O,P]=b.useState(null),[I,R]=b.useState("approval"),[F,E]=b.useState({}),[M,H]=b.useState(null),[V,G]=b.useState(!0),[q,B]=b.useState(null),[z,X]=b.useState(!1),[ee,K]=b.useState(!1),[W,J]=b.useState(""),[Z,ie]=b.useState(""),[ue,je]=b.useState(!0),[ce,le]=b.useState(!1),[pe,$e]=b.useState(null);b.useEffect(()=>{(async()=>{var ne,Ie,Ye,st;if(e)try{_(!0),P(null);const yt=await n(parseInt(e));if(B(yt),!yt)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",yt),yt.approval_template&&(H(yt.approval_template),console.log("Active template set in first useEffect:",yt.approval_template));const ze={id:yt.id_monitoring_schedule.toString(),name:`${((ne=yt.data_mesin)==null?void 0:ne.name)||"Mesin"} - ${yt.unit}`,interval:((Ie=yt.monitoring_interval)==null?void 0:Ie.type_interval)||"Weekly",period:`${yt.tgl_start} - ${yt.tgl_end}`,unit:yt.unit,mesin:(Ye=yt.data_mesin)==null?void 0:Ye.name,tahun:yt.tahun,bulan:yt.bulan,tgl_start:yt.tgl_start,tgl_end:yt.tgl_end,items:((st=yt.item_mesins)==null?void 0:st.map(ft=>({id:ft.id,name:ft.item_mesin,uom:ft.satuan,min:ft.standard_min?parseFloat(ft.standard_min):void 0,max:ft.standard_max?parseFloat(ft.standard_max):void 0,visual:ft.standard_visual,standard_min:ft.standard_min,standard_max:ft.standard_max,standard_visual:ft.standard_visual,satuan:ft.satuan})))||[]};w(ze);const St=yt.monitoring_activities||[],Ee=yt.schedule_approvals||[],It={};yt.approval_template&&yt.approval_template.approvers?yt.approval_template.approvers.forEach(ft=>{const Ct=`step_${ft.step}`,Mt=Ee.find(pr=>pr.approval_step===ft.step&&pr.approver_id===ft.approver_user_id);if(Mt){let pr="Pending";switch(Mt.status){case"approved":pr="Approved";break;case"rejected":pr="Rejected";break;case"feedback_given":pr="FeedbackGiven";break;default:pr="Pending"}It[Ct]=pr}else It[Ct]="Pending"}):Ee.forEach(ft=>{const Ct=`step_${ft.approval_step}`;let Mt="Pending";switch(ft.status){case"approved":Mt="Approved";break;case"rejected":Mt="Rejected";break;case"feedback_given":Mt="FeedbackGiven";break;default:Mt="Pending"}It[Ct]=Mt});const Pt=Ee.map(ft=>{var yn;let Ct="approval",Mt="";switch(ft.status){case"approved":Ct="approval",Mt=`Menyetujui laporan pada step ${ft.approval_step}`;break;case"rejected":Ct="rejection",Mt=`Menolak laporan pada step ${ft.approval_step}`;break;case"feedback_given":Ct="feedback",Mt=`Memberikan feedback pada step ${ft.approval_step}`;break;default:Ct="submission",Mt=`Mengajukan approval pada step ${ft.approval_step}`}const pr=ft.approved_at||ft.created_at;return{type:Ct,timestamp:pr||new Date().toISOString(),actor:((yn=ft.approver)==null?void 0:yn.name)||`Approver Step ${ft.approval_step}`,description:Mt,details:ft.comments||void 0}});if(St.length>0){const ft=St[0].created_at;Pt.unshift({type:"submission",timestamp:ft||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Bt={machineId:ze.id,itemResults:ze.items.map(ft=>{const Ct=St.find(pr=>pr.id_item_mesin===ft.id);let Mt="Pending";if(Ct!=null&&Ct.hasil_ms_tms){const pr=Ct.hasil_ms_tms.toLowerCase();pr==="ms"?Mt="MS":pr==="tms"?Mt="TMS":Mt="N/A"}return{itemId:ft.id,result:(Ct==null?void 0:Ct.hasil_monitoring)||"",status:Mt,remarks:(Ct==null?void 0:Ct.hasil_keterangan)||""}}),approvalStatus:It,commentsHistory:[],activityHistory:Pt,isSaved:St.length>0,submissionDate:St.length>0?new Date().toISOString():void 0,currentApprovalStep:se(Ee,yt.approval_template)};N(Bt)}catch(yt){P(yt instanceof Error?yt.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",yt)}finally{_(!1)}})()},[e,n]);const de=b.useMemo(()=>{var Te,ne,Ie,Ye,st,yt;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(ne=(Te=r.department)==null?void 0:Te.name)!=null&&ne.toLowerCase().includes("engineering")?(Ie=r.position)!=null&&Ie.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(st=(Ye=r.department)==null?void 0:Ye.name)!=null&&st.toLowerCase().includes("process")?(yt=r.position)!=null&&yt.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),Se=b.useCallback(Te=>{if(!M||!M.approvers||!r)return console.log(`❌ isUserApproverForStep ${Te}: Missing data`),!1;const ne=M.approvers.find(Ye=>Ye.step===Te&&Ye.approver_user_id.toString()===r.id),Ie=!!ne;return console.log(`🔍 IS USER APPROVER STEP ${Te}:`,{step:Te,userID:r.id,userName:r.name,approverUserID:ne==null?void 0:ne.approver_user_id,approverName:ne==null?void 0:ne.approver.name,MATCH:Ie}),Ie},[M,r]),te=b.useCallback(()=>{if(!y||!(M!=null&&M.approvers))return console.log("❌ GET CURRENT STEP: No monitoringResults or approvers"),1;const Te=[...M.approvers].sort((Ie,Ye)=>Ie.step-Ye.step);console.log("🔍 GET CURRENT STEP - All approvers status:",y.approvalStatus);for(let Ie=0;Ie<Te.length;Ie++){const Ye=Te[Ie],st=`step_${Ye.step}`,yt=y.approvalStatus[st]||"Pending";if(console.log(`🔍 Checking step ${Ye.step}:`,{stepKey:st,status:yt,isPending:yt==="Pending"}),yt==="Pending")return console.log(`✅ CURRENT ACTIVE STEP FOUND: ${Ye.step}`),Ye.step}const ne=Te.length+1;return console.log(`✅ ALL STEPS APPROVED, NEXT STEP: ${ne}`),ne},[y,M]);b.useEffect(()=>{var Te;y&&M&&r&&(console.log("=== 🎯 DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",M.name),console.log("Is Saved:",y.isSaved),(Te=M.approvers)==null||Te.forEach(ne=>{const Ie=`step_${ne.step}`,Ye=y.approvalStatus[Ie],st=ge(ne.step,ne,Ye);console.log(`🎯 Step ${ne.step} - ${ne.approver.name}:`,{status:Ye,shouldShowActions:st,isCurrentUser:ne.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:ne.approver_user_id.toString()===r.id,needsAction:Ye==="Pending",isCurrentStep:te()===ne.step,isPreviousStepApproved:ne.step===1?!0:y.approvalStatus[`step_${ne.step-1}`]==="Approved"}})}))},[y,M,r]);const se=(Te,ne)=>{if(!ne||!ne.approvers)return 1;const Ie=[...ne.approvers].sort((st,yt)=>st.step-yt.step);console.log("Getting current step from approvals:",{approvalsCount:Te.length,approversCount:Ie.length});for(let st=0;st<Ie.length;st++){const yt=Ie[st],ze=Te.find(St=>St.approval_step===yt.step&&St.approver_id===yt.approver_user_id);if(console.log(`Step ${yt.step}:`,{hasApproval:!!ze,status:ze==null?void 0:ze.status,isApproved:(ze==null?void 0:ze.status)==="approved"}),!ze||ze.status!=="approved")return console.log(`Current step from approvals: ${yt.step}`),yt.step}const Ye=Ie.length+1;return console.log(`All steps approved from approvals, next step: ${Ye}`),Ye},ut=(Te,ne)=>q?(q.schedule_approvals||[]).find(Ye=>Ye.approval_step===Te&&Ye.approver_id===ne.approver_user_id):null,dt=b.useCallback(async()=>{var Te,ne,Ie,Ye;if(e)try{_(!0),P(null);const st=await n(parseInt(e));if(B(st),!st)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",st),st.approval_template&&(H(st.approval_template),console.log("Active template set:",st.approval_template));const yt={id:st.id_monitoring_schedule.toString(),name:`${((Te=st.data_mesin)==null?void 0:Te.name)||"Mesin"} - ${st.unit}`,interval:((ne=st.monitoring_interval)==null?void 0:ne.type_interval)||"Weekly",period:`${st.tgl_start} - ${st.tgl_end}`,unit:st.unit,mesin:(Ie=st.data_mesin)==null?void 0:Ie.name,tahun:st.tahun,bulan:st.bulan,tgl_start:st.tgl_start,tgl_end:st.tgl_end,items:((Ye=st.item_mesins)==null?void 0:Ye.map(Bt=>({id:Bt.id,name:Bt.item_mesin,uom:Bt.satuan,min:Bt.standard_min?parseFloat(Bt.standard_min):void 0,max:Bt.standard_max?parseFloat(Bt.standard_max):void 0,visual:Bt.standard_visual,standard_min:Bt.standard_min,standard_max:Bt.standard_max,standard_visual:Bt.standard_visual,satuan:Bt.satuan})))||[]};w(yt);const ze=st.monitoring_activities||[],St=st.schedule_approvals||[],Ee={};st.approval_template&&st.approval_template.approvers&&st.approval_template.approvers.forEach(Bt=>{const ft=`step_${Bt.step}`,Ct=St.find(Mt=>Mt.approval_step===Bt.step&&Mt.approver_id===Bt.approver_user_id);if(Ct){let Mt="Pending";switch(Ct.status){case"approved":Mt="Approved";break;case"rejected":Mt="Rejected";break;case"feedback_given":Mt="FeedbackGiven";break;default:Mt="Pending"}Ee[ft]=Mt}else Ee[ft]="Pending",console.log(`✅ Step ${Bt.step} di-set ke Pending (no approval history)`)});const It=St.map(Bt=>{var pr;let ft="approval",Ct="";switch(Bt.status){case"approved":ft="approval",Ct=`Menyetujui laporan pada step ${Bt.approval_step}`;break;case"rejected":ft="rejection",Ct=`Menolak laporan pada step ${Bt.approval_step}`;break;case"feedback_given":ft="feedback",Ct=`Memberikan feedback pada step ${Bt.approval_step}`;break;default:ft="submission",Ct=`Mengajukan approval pada step ${Bt.approval_step}`}const Mt=Bt.approved_at||Bt.created_at;return{type:ft,timestamp:Mt||new Date().toISOString(),actor:((pr=Bt.approver)==null?void 0:pr.name)||`Approver Step ${Bt.approval_step}`,description:Ct,details:Bt.comments||void 0}});if(ze.length>0){const Bt=ze[0].created_at;It.unshift({type:"submission",timestamp:Bt||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const Pt={machineId:yt.id,itemResults:yt.items.map(Bt=>{const ft=ze.find(Mt=>Mt.id_item_mesin===Bt.id);let Ct="Pending";if(ft!=null&&ft.hasil_ms_tms){const Mt=ft.hasil_ms_tms.toLowerCase();Mt==="ms"?Ct="MS":Mt==="tms"?Ct="TMS":Ct="N/A"}return{itemId:Bt.id,result:(ft==null?void 0:ft.hasil_monitoring)||"",status:Ct,remarks:(ft==null?void 0:ft.hasil_keterangan)||""}}),approvalStatus:Ee,commentsHistory:[],activityHistory:It,isSaved:ze.length>0,submissionDate:ze.length>0?new Date().toISOString():void 0,currentApprovalStep:se(St,st.approval_template)};N(Pt)}catch(st){P(st instanceof Error?st.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",st)}finally{_(!1)}},[e,n]),De=(Te,ne,Ie,Ye,st)=>{N(yt=>yt?{...yt,itemResults:yt.itemResults.map(ze=>ze.itemId===Te?{...ze,result:ne,status:Ie==="numeric"?wt(Number(ne),Ye,st):ne==="MS"?"MS":ne==="TMS"?"TMS":"Pending"}:ze)}:null)},rt=(Te,ne)=>{N(Ie=>Ie?{...Ie,itemResults:Ie.itemResults.map(Ye=>Ye.itemId===Te?{...Ye,remarks:ne}:Ye)}:null)},wt=(Te,ne,Ie)=>isNaN(Te)||Te===null||Te===void 0?ne===void 0||Ie===void 0?"N/A":"Pending":ne!==void 0&&Ie!==void 0?Te>=ne&&Te<=Ie?"MS":"TMS":"N/A",gt=Te=>{switch(Te){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},Rt=Te=>{switch(Te){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},He=Te=>{if(!M||!M.approvers)return"Unknown Role";const ne=M.approvers.find(Ie=>Ie.approver_user_id.toString()===Te);return(ne==null?void 0:ne.approver.position)||"Unknown Position"};b.useCallback((Te,ne,Ie,Ye=null)=>{N(st=>{if(!st||st.machineId!==Te)return st;const yt={id:crypto.randomUUID(),role:ne,comment:Ie,timestamp:new Date().toLocaleString(),replies:[],parentId:Ye},ze=(Ee,It)=>It.parentId===null?[...Ee,It]:Ee.map(Pt=>Pt.id===It.parentId?{...Pt,replies:Pt.replies?[...Pt.replies,It]:[It]}:{...Pt,replies:Pt.replies?ze(Pt.replies,It):Pt.replies}),St=st.commentsHistory||[];return{...st,commentsHistory:ze(St,yt)}})},[]);const he=(Te,ne,Ie)=>{let Ye="",st="",yt="approve";switch(ne){case"Approved":Ye="Confirm Approval",st=`Are you sure you want to approve this monitoring report for step ${Te}?`,yt="approve";break;case"FeedbackGiven":Ye="Confirm Feedback",st=`Are you sure you want to send feedback for step ${Te}?`,yt="feedback";break;case"Rejected":Ye="Confirm Rejection",st=`Are you sure you want to reject this monitoring report for step ${Te}?`,yt="reject";break;case"Edited":Ye="Confirm Edit",st=`Are you sure you want to mark this as edited for step ${Te}?`,yt="edit";break}$e({type:yt,step:Te,title:Ye,message:st,feedbackText:Ie}),le(!0)},Qe=async()=>{if(pe)try{await Ge(pe.step,pe.type==="approve"?"Approved":pe.type==="feedback"?"FeedbackGiven":pe.type==="reject"?"Rejected":"Edited",pe.feedbackText),le(!1),$e(null),await dt()}catch(Te){console.error("Error during confirmation:",Te),le(!1),$e(null)}},Ge=async(Te,ne,Ie)=>{if(!(!y||!e||!r))try{let Ye="";(ne==="FeedbackGiven"&&Ie||ne==="Rejected"&&Ie)&&(Ye=Ie),console.log(`Sending approval for step ${Te}, action: ${ne}`);const st=await o(parseInt(e),Ye);if(st.success){N(ze=>{if(!ze)return null;const St={...ze.approvalStatus,[`step_${Te}`]:ne},Ee=[...ze.activityHistory],It=new Date().toLocaleString();let Pt="";switch(ne){case"Approved":Pt=`Menyetujui laporan pada step ${Te}`;break;case"FeedbackGiven":Pt=`Memberikan feedback pada step ${Te}`;break;case"Rejected":Pt=`Menolak laporan pada step ${Te}`;break;default:Pt=`Melakukan aksi ${ne} pada step ${Te}`}return Ee.push({type:ne==="Approved"?"approval":ne==="Rejected"?"rejection":ne==="FeedbackGiven"?"feedback":"edit",timestamp:It,actor:de.name,description:`${de.name} ${Pt}`,details:Ye||void 0}),ne!=="Edited"&&E(Bt=>({...Bt,[`step_${Te}`]:{showInput:!1,text:""}})),{...ze,approvalStatus:St,activityHistory:Ee}});let yt="";switch(ne){case"Approved":yt="Berhasil menyetujui laporan.";break;case"FeedbackGiven":yt="Berhasil mengirim feedback.";break;case"Rejected":yt="Berhasil menolak laporan.";break;case"Edited":yt="Berhasil menyimpan perubahan.";break}Ke("Success!",yt,!0)}else throw new Error(st.message||"Approval failed")}catch(Ye){console.error("Error during approval:",Ye),Ke("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},mt=b.useCallback(()=>{if(!M||!M.approvers||!y)return!1;const Te=[...M.approvers].sort((Ie,Ye)=>Ie.step-Ye.step),ne=Te.every(Ie=>{const Ye=`step_${Ie.step}`;return y.approvalStatus[Ye]==="Approved"});return console.log("🔍 CHECK ALL STEPS COMPLETED:",{totalSteps:Te.length,allApproved:ne,approvalStatus:y.approvalStatus}),ne},[M,y]),Le=Te=>{E(ne=>{var Ie;return{...ne,[`step_${Te}`]:{...ne[`step_${Te}`],showInput:!((Ie=ne[`step_${Te}`])!=null&&Ie.showInput)}}})},_e=(Te,ne)=>{E(Ie=>({...Ie,[`step_${Te}`]:{...Ie[`step_${Te}`],text:ne}}))},qe=async()=>{if(!(!v||!y||!e)){S(!0);try{let Te=!0;const ne=[];if(y.itemResults.forEach(ze=>{const St=v.items.find(Ee=>Ee.id===ze.itemId);St&&(ze.result===""||ze.status==="Pending")&&(Te=!1,ne.push({item:St.name}))}),!Te){Ke("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${v.name}. Item yang belum diisi: `+ne.map(ze=>ze.item).join(", "),!1);return}const Ie=y.itemResults.map(ze=>{var It;const St=(It=q==null?void 0:q.monitoring_activities)==null?void 0:It.find(Pt=>Pt.id_item_mesin===ze.itemId),Ee={id_monitoring_schedule:parseInt(e),id_item_mesin:ze.itemId,tgl_monitoring:v.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:ze.result.toString(),hasil_keterangan:ze.remarks,hasil_ms_tms:ze.status==="MS"?"ms":ze.status==="TMS"?"tms":"na"};return St&&St.id_monitoring_activity?{id:St.id_monitoring_activity,data:Ee}:{id:0,data:Ee}});console.log("📦 Data yang akan dikirim ke backend:",Ie);const Ye=Ie.filter(ze=>ze.id===0),st=Ie.filter(ze=>ze.id>0);if(console.log("🆕 Activities to CREATE:",Ye.length),console.log("🔄 Activities to UPDATE:",st.length),Ye.length>0){const ze=Ye.map(St=>St.data);console.log("🆕 CREATE new monitoring activities:",ze),await s(ze)}st.length>0&&(console.log("🔄 UPDATE existing monitoring activities:",st),await c(st)),N(ze=>{if(!ze)return null;const St=[...ze.activityHistory],Ee=new Date().toLocaleString(),It=ze.isSaved?"edit":"submission",Pt=ze.isSaved?`${de.name} mengedit hasil monitoring.`:`${de.name} mengisi hasil monitoring.`;return St.push({type:It,timestamp:Ee,actor:de.name,description:Pt}),{...ze,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:St}}),await dt();const yt=y.isSaved?`Hasil monitoring untuk ${v.name} berhasil diupdate!`:`Hasil monitoring untuk ${v.name} berhasil disimpan!`;Ke("Success!",yt,!0)}catch(Te){const ne=y.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";Ke("Error!",ne,!1),console.error("Error saving monitoring results:",Te)}finally{S(!1)}}},ge=(Te,ne,Ie)=>{if(!r||!(y!=null&&y.isSaved))return console.log(`❌ Button step ${Te}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!y,isSaved:y==null?void 0:y.isSaved}),!1;const Ye=ne.approver_user_id.toString()===r.id,st=Ie==="Pending",yt=te(),ze=yt===Te;let St=!0;if(Te>1){const It=`step_${Te-1}`;St=y.approvalStatus[It]==="Approved"}const Ee=Ye&&st&&ze&&St;return console.log(`🎯 CALCULATE BUTTON STEP ${Te}:`,{step:Te,isCurrentApprover:Ye,needsAction:st,isCurrentStep:ze,isPreviousStepApproved:St,currentStatus:Ie,currentStep:yt,userID:r.id,approverID:ne.approver_user_id,userPosition:r.position,approverPosition:ne.approver.position,FINAL_RESULT:Ee}),Ee},Oe=async Te=>{if(!(!y||!e||Te!==1)){if(mt()){Ke("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await qe(),N(ne=>{if(!ne)return null;const Ie={...ne.approvalStatus,step_1:"Edited"},Ye=[...ne.activityHistory],st=new Date().toLocaleString();return Ye.push({type:"edit",timestamp:st,actor:de.name,description:`${de.name} (Approver Step 1) mengedit hasil monitoring.`}),{...ne,approvalStatus:Ie,activityHistory:Ye}}),await dt(),Ke("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(ne){console.error("Error during edit by approver:",ne),Ke("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};b.useMemo(()=>{if(!(y!=null&&y.commentsHistory))return{};const Te=(Ie,Ye=null)=>Ie.filter(st=>st.parentId===Ye).sort((st,yt)=>new Date(st.timestamp).getTime()-new Date(yt.timestamp).getTime()).map(st=>({...st,replies:Te(Ie,st.id)})),ne={};return M!=null&&M.approvers&&M.approvers.forEach(Ie=>{const Ye=y.commentsHistory.filter(st=>st.role===He(Ie.approver_user_id.toString()));ne[`step_${Ie.step}`]=Te(Ye)}),ne},[y==null?void 0:y.commentsHistory,M]);const ke=b.useCallback(()=>{var Te;!y||!M||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",M.name),console.log("Approvers:",M.approvers),(Te=M.approvers)==null||Te.forEach(ne=>{const Ie=`step_${ne.step}`,Ye=y.approvalStatus[Ie],st=ne.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${ne.step}:`,{approver:ne.approver.name,status:Ye,isCurrentUser:st,stepKey:Ie})}),console.log("Current Step:",te()),console.log("User ID:",r==null?void 0:r.id))},[y,M,r,te]);b.useEffect(()=>{y&&M&&ke()},[y,M,ke]);const Ue=Te=>Te.satuan&&Te.satuan!=="Visual"&&Te.satuan!=="Level"&&Te.satuan!=="Kekencangan"?"numeric":"visual";b.useMemo(()=>de.name.toLowerCase().includes("technician")&&!Se(1),[de,Se]);const Xe=Se(1),we=b.useMemo(()=>!(y!=null&&y.isSaved)||y.approvalStatus.step_1==="Pending"?!0:Se(1)&&!mt(),[y==null?void 0:y.isSaved,y==null?void 0:y.approvalStatus,Se,mt]),ye=Se(te()),Ke=b.useCallback((Te,ne,Ie=!0)=>{ie(Te),J(ne),je(Ie),Ie?X(!0):K(!0)},[]),pt=b.useCallback(()=>{X(!1),K(!1),dt()},[dt]);return A?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(T.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(mn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):O?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(T.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(mn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx(Hr,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),a.jsx("p",{className:"text-red-600 mb-4",children:O}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:dt,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[a.jsx(Fme,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!v||!y?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(T.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(mn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[a.jsx(Hr,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),a.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Jh,{}),isMobile:d,toggleSidebar:g}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:v.period})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:v.items.length})," Items"]}),M&&M.approvers&&M.approvers.length>0?a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold",children:M.name}),M.is_active&&a.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),mt()&&a.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),M&&Xe&&a.jsx("p",{className:`font-semibold ${mt()?"text-gray-500":"text-blue-600"}`,children:mt()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),M&&ye&&!Xe&&a.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",te(),")"]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:v.items.map(Te=>{const ne=y.itemResults.find(Ye=>Ye.itemId===Te.id),Ie=Ue(Te);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[Te.name,!we&&(y==null?void 0:y.isSaved)&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:Te.standard_visual?`${Te.standard_visual} (${Te.satuan})`:`${Te.standard_min} - ${Te.standard_max} ${Te.satuan}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:Ie==="visual"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(ne==null?void 0:ne.result)||"",onChange:Ye=>De(Te.id,Ye.target.value,"visual"),disabled:!we,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:ne==null?void 0:ne.result,onChange:Ye=>De(Te.id,Ye.target.value,"numeric",Te.min,Te.max),disabled:!we,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${gt((ne==null?void 0:ne.status)||"Pending")}`,children:ne==null?void 0:ne.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:ne==null?void 0:ne.remarks,onChange:Ye=>rt(Te.id,Ye.target.value),disabled:!we,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},Te.id)})})]})}),a.jsxs("div",{className:"flex justify-end mt-6 relative",children:[a.jsx(T.button,{whileHover:{scale:we?1.05:1},whileTap:{scale:we?.95:1},onClick:Xe?()=>Oe(1):qe,disabled:!we||k||Xe&&mt(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"}),Xe?mt()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),Xe&&mt()&&a.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(T.button,{whileHover:{scale:1.03},onClick:()=>R("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${I==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Zs,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(T.button,{whileHover:{scale:1.03},onClick:()=>R("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${I==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Kh,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),I==="approval"?a.jsx(ar,{mode:"wait",children:a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!M||!M.approvers||M.approvers.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(Zs,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),a.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),a.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(tt=M.approvers)==null?void 0:tt.map(Te=>{var Pt,Bt,ft,Ct;const ne=`step_${Te.step}`,Ie=(y==null?void 0:y.approvalStatus[ne])||"Pending",Ye=ge(Te.step,Te,Ie),st=ut(Te.step,Te),yt=te(),ze=Te.approver_user_id.toString()===(r==null?void 0:r.id),St=Te.step-1,Ee=`step_${St}`,It=y==null?void 0:y.approvalStatus[Ee];return console.log(`Rendering Step ${Te.step}:`,{status:Ie,shouldShowActionButtons:Ye,currentStep:yt,isCurrentUserApprover:ze,previousStepStatus:It,userId:r==null?void 0:r.id,approverId:Te.approver_user_id}),a.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",Te.step,": ",Te.approver.name," (",Te.approver.position,")"]}),a.jsx("p",{className:"text-xs text-gray-500",children:Te.approver.department}),st&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[st.approved_at&&`Disetujui: ${new Date(st.approved_at).toLocaleString()}`,st.status==="feedback_given"&&" | Feedback diberikan"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${Rt(Ie)}`,children:Ie}),ze&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(st==null?void 0:st.comments)&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:a.jsxs("p",{className:"text-xs text-gray-400",children:[a.jsx("strong",{children:"Komentar:"})," ",st.comments]})}),yt===Te.step&&Ie!=="Approved"&&!Ye&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:a.jsxs("p",{className:"text-yellow-700",children:[a.jsx("strong",{children:"Menunggu:"})," Step ",Te.step," sedang menunggu approval dari ",Te.approver.name,St>0&&It!=="Approved"&&a.jsxs("span",{children:[" (Step ",St," perlu disetujui terlebih dahulu)"]})]})}),Ie==="Approved"&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Selesai:"})," Step ",Te.step," telah disetujui"]})}),Ye&&a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>he(Te.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(ur,{size:16,className:"mr-1"}),"Approve"]}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(Te.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(wg,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),a.jsx(ar,{children:((Pt=F[ne])==null?void 0:Pt.showInput)&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),a.jsx("textarea",{rows:3,value:((Bt=F[ne])==null?void 0:Bt.text)||"",onChange:Mt=>_e(Te.step,Mt.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var Mt;return he(Te.step,"FeedbackGiven",(Mt=F[ne])==null?void 0:Mt.text)},disabled:!((Ct=(ft=F[ne])==null?void 0:ft.text)!=null&&Ct.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(wg,{size:16,className:"mr-1"}),"Kirim Feedback"]}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(Te.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},ne)})},"approval-tab")}):a.jsx(ar,{mode:"wait",children:a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:y.activityHistory.length>0?y.activityHistory.slice().sort((Te,ne)=>new Date(ne.timestamp).getTime()-new Date(Te.timestamp).getTime()).map((Te,ne)=>a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:ne*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"mt-1 flex-shrink-0",children:[Te.type==="approval"&&a.jsx(ur,{size:20,className:"text-green-500"}),Te.type==="rejection"&&a.jsx(GE,{size:20,className:"text-red-500"}),Te.type==="feedback"&&a.jsx(wg,{size:20,className:"text-blue-500"}),Te.type==="submission"&&a.jsx(Kh,{size:20,className:"text-blue-500"}),Te.type==="edit"&&a.jsx(bn,{size:20,className:"text-purple-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:Te.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",Te.actor]})," - ",new Date(Te.timestamp).toLocaleString()]}),Te.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',Te.details,'"']})]})]},ne)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),a.jsx(FUe,{isOpen:ce,onClose:()=>{le(!1),$e(null)},onConfirm:Qe,title:(pe==null?void 0:pe.title)||"Confirm Action",message:(pe==null?void 0:pe.message)||"Are you sure you want to proceed?",confirmText:(pe==null?void 0:pe.type)==="approve"?"Approve":(pe==null?void 0:pe.type)==="feedback"?"Send Feedback":(pe==null?void 0:pe.type)==="reject"?"Reject":(pe==null?void 0:pe.type)==="edit"?"Save & Mark as Edited":"Confirm",type:pe==null?void 0:pe.type}),a.jsx(IUe,{isOpen:z,onClose:pt,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:pt,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},HUe={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"°C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let ty="technician";const ZT=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],Iae=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s})=>{const[i,o]=b.useState(!1),[l,c]=b.useState(""),d=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},f=s*4;return a.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${s>0?`ml-${f} border-l-4 border-l-blue-200`:""}`,children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),a.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(Cr,{size:14,className:"mr-1"})," ",t.timestamp,a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),a.jsx(ar,{children:i&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[a.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:d,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&a.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>a.jsx(Iae,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s+1},m.id))})]})},BUe=()=>{var R;const t=Ws(),e=tr(),r=((R=t.state)==null?void 0:R.machine)||HUe,[n,s]=b.useState(null),[i,o]=b.useState(!1),[l,c]=b.useState("approval"),[d,f]=b.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});b.useEffect(()=>{if(r){const F={machineId:r.id,itemResults:r.items.map(E=>({itemId:E.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};s(F)}},[r]);const m=(F,E,M,H,V)=>{s(G=>G?{...G,itemResults:G.itemResults.map(q=>q.itemId===F?{...q,result:E,status:M==="numeric"?g(Number(E),H,V):E==="MS"?"MS":E==="TMS"?"TMS":"Pending"}:q)}:null)},p=(F,E)=>{s(M=>M?{...M,itemResults:M.itemResults.map(H=>H.itemId===F?{...H,remarks:E}:H)}:null)},g=(F,E,M)=>isNaN(F)||F===null||F===void 0?E===void 0||M===void 0?"N/A":"Pending":E!==void 0&&M!==void 0?F>=E&&F<=M?"MS":"TMS":"N/A",v=F=>{switch(F){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},w=F=>{switch(F){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},y=F=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[F]||F,N=b.useCallback((F,E,M,H=null)=>{s(V=>{if(!V||V.machineId!==F)return V;const G={id:crypto.randomUUID(),role:E,comment:M,timestamp:new Date().toLocaleString(),replies:[],parentId:H},q=(z,X)=>X.parentId===null?[...z,X]:z.map(ee=>ee.id===X.parentId?{...ee,replies:ee.replies?[...ee.replies,X]:[X]}:{...ee,replies:ee.replies?q(ee.replies,X):ee.replies}),B=V.commentsHistory||[];return{...V,commentsHistory:q(B,G)}})},[]),k=(F,E,M)=>{n&&(s(H=>{if(!H)return null;let V=H.commentsHistory||[],G=[...H.activityHistory];const q=new Date().toLocaleString();if((E==="FeedbackGiven"||E==="Rejected")&&M){const z={id:crypto.randomUUID(),role:F,comment:M,timestamp:q,replies:[],parentId:null};V=[...V,z];const X=E==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";G.push({type:E==="FeedbackGiven"?"feedback":"rejection",timestamp:q,actor:F,description:`${y(F)} ${X}`,details:M})}else E==="Approved"&&(V=V.filter(z=>!(z.role===F&&(z.parentId===null||z.parentId===void 0)))||[],G.push({type:"approval",timestamp:q,actor:F,description:`${y(F)} menyetujui laporan.`}));return{...H,approvalStatus:{...H.approvalStatus,[F]:E},commentsHistory:V,activityHistory:G}}),f(H=>{const V={...H},G=F;return V[G]&&(V[G]={showInput:!1,text:""}),V}))},S=F=>{f(E=>{const M={...E},H=F;return M[H]&&(M[H]={...M[H],showInput:!M[H].showInput}),M})},A=(F,E)=>{f(M=>{const H={...M},V=F;return H[V]&&(H[V]={...H[V],text:E}),H})},_=()=>{if(!r||!n)return;o(!0);let F=!0;const E=[];n.itemResults.forEach(M=>{const H=r.items.find(V=>V.id===M.itemId);H&&(M.result===""||M.status==="Pending")&&(F=!1,E.push({item:H.name}))}),F?(s(M=>{if(!M)return null;let H={...M.approvalStatus},V=M.commentsHistory||[],G=[...M.activityHistory];const q=new Date().toLocaleString(),B=ZT[0];return H={...H,[B]:"Pending"},G.push({type:"submission",timestamp:q,actor:ty,description:`${y(ty)} mengisi dan mengajukan laporan.`}),{...M,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:H,commentsHistory:V,activityHistory:G}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+E.map(M=>M.item).join(", ")),o(!1)},O=(F,E,M,H,V,G)=>!1,P=b.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const F=(M,H=null)=>M.filter(V=>V.parentId===H).sort((V,G)=>new Date(V.timestamp).getTime()-new Date(G.timestamp).getTime()).map(V=>({...V,replies:F(M,V.id)})),E={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return ZT.forEach(M=>{const H=n.commentsHistory.filter(V=>V.role===M);E[M]=F(H)}),E},[n==null?void 0:n.commentsHistory]);if(!r||!n)return a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:a.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const I=!n.isSaved&&ty==="technician";return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(T.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(mn,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(F=>{const E=n.itemResults.find(M=>M.itemId===F.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:F.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:F.visual?`${F.visual} (${F.uom})`:`${F.min} - ${F.max} ${F.uom}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:F.uom==="Visual"||F.uom==="Level"||F.uom==="Kekencangan"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(E==null?void 0:E.result)||"",onChange:M=>m(F.id,M.target.value,"visual"),disabled:!I,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:E==null?void 0:E.result,onChange:M=>m(F.id,M.target.value,"numeric",F.min,F.max),disabled:!I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${v((E==null?void 0:E.status)||"Pending")}`,children:E==null?void 0:E.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:E==null?void 0:E.remarks,onChange:M=>p(F.id,M.target.value),disabled:!I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},F.id)})})]})}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!I||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(T.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Zs,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(T.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Kh,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),l==="approval"?a.jsx(ar,{mode:"wait",children:a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([F,E])=>{var G,q;const M=F,H=O(ty,M,E,n.approvalStatus,ZT,n.isSaved),V=P[M]||[];return a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:y(M)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${w(E)}`,children:E==="Edited"?`Edited by ${y(M)}`:E}),H&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(F,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:a.jsx(ur,{size:20})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(F),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:a.jsx(wg,{size:20})})]})]})]}),a.jsx(ar,{children:((G=d[M])==null?void 0:G.showInput)&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",y(M),")"]}),a.jsx("textarea",{rows:2,value:(q=d[M])==null?void 0:q.text,onChange:B=>A(M,B.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),a.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>k(M,"FeedbackGiven",d[M].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),a.jsx("div",{className:"mt-4",children:V.length>0?V.map(B=>a.jsx(Iae,{comment:B,machineId:r.id,currentUserRole:ty,onAddCommentOrReply:N,depth:0},B.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},F)})},"approval-tab")}):a.jsx(ar,{mode:"wait",children:a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((F,E)=>a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:E*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"mt-1 flex-shrink-0",children:a.jsx(Kh,{size:20,className:"text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:F.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",y(F.actor)]})," - ",F.timestamp]}),F.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',F.details,'"']})]})]},E)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},zUe=()=>{const t=tr(),{id:e}=si(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:s,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=sr(),[c,d]=b.useState(window.innerWidth<768),[f,m]=b.useState(()=>{const z=localStorage.getItem("sidebarOpen");return JSON.parse(z||"false")}),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!f)),m(z=>!z)},[g,v]=b.useState([]),[w,y]=b.useState(null),[N,k]=b.useState([]),[S,A]=b.useState(!1),[_,O]=b.useState("");b.useEffect(()=>{e&&(P(),R())},[e]);const P=async()=>{if(!e){O("Template ID is missing");return}try{A(!0);const z=await l(e);console.log("Template data loaded:",z),y(z),z.approvers&&z.approvers.length>0?await I(z.approvers):k([{order:1,role:"Select Position",assignee:""}])}catch(z){O("Failed to load template"),console.error("Error loading template:",z)}finally{A(!1)}},I=async z=>{try{const X=z.map(ee=>{var K,W;return{order:ee.step,role:((K=ee.approver)==null?void 0:K.position)||`Approval Step ${ee.step}`,assignee:((W=ee.approver)==null?void 0:W.name)||"",approver_user_id:ee.approver_user_id}});k(X)}catch(X){console.error("Error loading template approvers from data:",X),k([{order:1,role:"Select Position",assignee:""}])}},R=async()=>{try{const X=(await r()).map(ee=>{var K;return{id:parseInt(ee.id),name:ee.name,email:ee.email,position:ee.position||"No Position",department:((K=ee.department)==null?void 0:K.name)||ee.department_name}});v(X)}catch(z){console.error("Error loading users:",z)}},F=()=>{const z=g.map(X=>X.position).filter(X=>X!=null&&X!=="No Position");return[...new Set(z)]},E=z=>g.filter(X=>X.position===z),M=()=>{const z=N.length>0?Math.max(...N.map(X=>X.order))+1:1;k(X=>[...X,{order:z,role:"Select Position",assignee:""}])},H=z=>{k(X=>X.filter((ee,K)=>K!==z).map((ee,K)=>({...ee,order:K+1})))},V=(z,X)=>{k(ee=>ee.map((K,W)=>W===z?{...K,role:X,assignee:""}:K))},G=(z,X)=>{const ee=g.find(K=>K.id===X);ee&&k(K=>K.map((W,J)=>J===z?{...W,assignee:ee.name,approver_user_id:ee.id}:W))},q=async()=>{if(!w)return;if(!N.every(X=>X.role&&X.assignee&&X.approver_user_id&&X.role!=="Select Position")){O("Please complete all roles and assignees.");return}try{A(!0),O(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",w.id),console.log("Existing approvers:",w.approvers),console.log("New approval flow:",N);const X=w.approvers||[],ee=N.map(J=>({approver_user_id:J.approver_user_id,step:J.order}));console.log("Existing approvers:",X),console.log("New approvers:",ee);const K=[];for(const J of N){const Z={approver_user_id:J.approver_user_id,step:J.order},ie=X.find(ue=>ue.step===J.order);if(ie)if(ie.approver_user_id!==J.approver_user_id){console.log(`Updating approver for step ${J.order} (ID: ${ie.id})`);try{await i(w.id,ie.id,Z),console.log(`✓ Updated approver for step ${J.order}`)}catch(ue){throw console.error(`✗ Failed to update approver for step ${J.order}:`,ue),new Error(`Failed to update approver for step ${J.order}`)}}else console.log(`✓ Approver for step ${J.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${J.order}`);try{await s(w.id,Z),console.log(`✓ Added new approver for step ${J.order}`)}catch(ue){throw console.error(`✗ Failed to add approver for step ${J.order}:`,ue),new Error(`Failed to add approver for step ${J.order}`)}}K.push(J.order)}const W=X.filter(J=>!K.includes(J.step)).map(J=>({id:J.id,step:J.step}));console.log("Steps to delete:",W);for(const J of W)try{await o(w.id,J.id),console.log(`✓ Deleted unused approver for step ${J.step}`)}catch(Z){console.warn(`⚠ Could not delete approver for step ${J.step}:`,Z)}alert(`✅ Approval flow for template "${w.name}" has been successfully saved!`),await P()}catch(X){console.error("❌ Error saving approval flow:",X),O(X instanceof Error?X.message:"Failed to save approval flow")}finally{A(!1)}},B=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",w),console.log("Custom approval flow:",N),S&&!w?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(lm,{className:"animate-spin text-blue-600",size:32})})]}):w?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(ij,{}),isMobile:c,toggleSidebar:p}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(ij,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",a.jsx("span",{className:"text-blue-600 ml-2",children:w==null?void 0:w.name})]}),a.jsxs(T.button,{onClick:B,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[a.jsx(mn,{className:"mr-2",size:18})," Back to Template List"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),a.jsx("div",{className:"space-y-4",children:N.map((z,X)=>{const ee=F(),K=z.role&&z.role!=="Select Position"?E(z.role):[];return a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[z.order,"."]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),a.jsxs("select",{value:z.role,onChange:W=>V(X,W.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"Select Position",children:"Select Position"}),ee.map(W=>a.jsx("option",{value:W,children:W},W))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsxs("select",{value:z.approver_user_id||"",onChange:W=>G(X,parseInt(W.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!z.role||z.role==="Select Position"||K.length===0,children:[a.jsx("option",{value:"",children:"Select User"}),K.map(W=>a.jsxs("option",{value:W.id,children:[W.name," (",W.email,")"]},W.id))]}),z.role&&z.role!=="Select Position"&&K.length===0&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(X),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:a.jsx(In,{size:20})})]},X)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:M,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[a.jsx(pa,{size:18,className:"mr-2"})," Add Step"]}),a.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:q,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?a.jsx(lm,{className:"animate-spin mr-2",size:16}):a.jsx(bn,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:B,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},qUe=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative inline-flex",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:a.jsx(Lhe,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(sm,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[a.jsx(yp,{className:"mr-2"}),"Back to Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[a.jsx(mn,{className:"mr-2"}),"Go Back"]})]}),a.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",a.jsx(sm,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),UUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,WUe=()=>{const{id:t}=si(),[e,r]=b.useState(window.innerWidth<768),[n,s]=b.useState([]),[i,o]=b.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:d}=sr(),[f,m]=b.useState(()=>{const M=localStorage.getItem("sidebarOpen");return M?JSON.parse(M):!1}),[p,g]=b.useState(null),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),A=tr(),[_,O]=b.useState({work_area:""}),P=()=>{m(M=>!M)};b.useEffect(()=>{i&&O({work_area:i.work_area||""})},[i]);const I=M=>{const{name:H,value:V}=M.target;O(G=>({...G,[H]:H==="sla"?Number(V):V}))},R=b.useCallback(async()=>{try{if(t){const[M]=await Promise.all([d(t)]);o(M)}}catch(M){g(M.message||"Failed to load form data")}},[t,d]);b.useEffect(()=>{t&&R()},[t,R]);const F=async M=>{M.preventDefault(),S(!0),g(null);try{const H={work_area:_.work_area};await c(t,H),w("Work Area update successfully!"),N(!0)}catch(H){g(H.message||"Failed to update Work Area")}finally{S(!1)}},E=()=>{N(!1),A("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(gs,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),a.jsxs(T.button,{onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[p&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:p}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:F,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:I,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>A("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:k,children:k?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(UUe,{isOpen:y,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:v}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},VUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,GUe=()=>{const[t,e]=b.useState(window.innerWidth<768),[r,n]=b.useState([]),{addWorkArea:s,getWorkArea:i}=sr(),[o,l]=b.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[c,d]=b.useState(null),[f,m]=b.useState(null),[p,g]=b.useState(!1),[v,w]=b.useState(!1),y=tr(),[N,k]=b.useState({work_area:""}),S=()=>{l(I=>!I)},A=I=>{const{name:R,value:F}=I.target;k(E=>({...E,[R]:R==="sla"?Number(F):F}))},_=b.useCallback(async()=>{try{const[I]=await Promise.all([i()]);n(I)}catch(I){d(I.message||"Failed to load form data")}},[i]);b.useEffect(()=>{_()},[_]);const O=async I=>{I.preventDefault(),w(!0),d(null);try{const R={work_area:N.work_area};await s(R),m("Work Area created successfully!"),g(!0)}catch(R){d(R.message||"Failed to create Work Area")}finally{w(!1)}},P=()=>{g(!1),y("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(gs,{}),isMobile:t,toggleSidebar:S}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),a.jsxs(T.button,{onClick:()=>y("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:O,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(T.button,{type:"button",onClick:()=>y("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(VUe,{isOpen:p,onClose:P,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:f}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:P,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},YUe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx($t,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),KUe=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},JUe=()=>{const[t,e]=b.useState([]),{getWorkArea:r,deleteWorkArea:n}=sr(),[s,i]=b.useState(!0),[o,l]=b.useState(null),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(null),[v,w]=b.useState(!1),[y]=b.useState(window.innerWidth<768),[N,k]=b.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),S=tr(),A=b.useRef(null),[_,O]=b.useState(!1),P=b.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),I=b.useCallback(async()=>{try{i(!0);const z=[...await r()].sort((X,ee)=>X.id-ee.id);e(z)}catch(B){l("Failed to load Work Area"),console.error("Error loading Work Area:",B)}finally{i(!1)}},[r]);b.useEffect(()=>{I()},[I]);const R=()=>{const B=!N;k(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},F=()=>{alert("Import functionality is not yet implemented.")},E=B=>{const z=B.target.value;d(z)},M=b.useMemo(()=>{if(!c)return P;const B=c.toLowerCase();return P.filter(z=>z.name.toLowerCase().includes(B))},[c,P]),H=B=>{var z;d(`${B}: `),O(!1),(z=A.current)==null||z.focus()},V=b.useMemo(()=>{if(!c.trim())return t;const B=c.toLowerCase().trim(),z=B.split(":");let X="all",ee=B;return z.length>1&&P.some(K=>K.name.toLowerCase()===z[0].trim())&&(X=z[0].trim(),ee=z.slice(1).join(":").trim()),t.filter(K=>{const W=K.work_area.toLowerCase().includes(ee);return W})},[t,c,P]),G=async B=>{try{await n(B),e(t.filter(z=>z.id!==B)),m(!1),g(null)}catch(z){console.error("Failed to delete Work Area:",z),l("Failed to delete Work Area. Please try again.")}},q=b.useCallback(B=>{g(B),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:a.jsx(gs,{}),isMobile:y,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{className:"text-base"}),a.jsx("span",{children:"Add Work Area"})]}),a.jsxs(T.button,{onClick:F,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(ni,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(T.button,{onClick:()=>w(!v),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:v?180:0},transition:{duration:.2},children:a.jsx(la,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(KUe,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(gs,{className:"w-6 h-6"})})}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:A,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:E,onFocus:()=>O(!0),"aria-label":"Search work area"}),a.jsx(ar,{children:_&&M.length>0&&a.jsx(T.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:M.map(B=>a.jsx(T.button,{onClick:()=>H(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(ar,{children:v&&a.jsx(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):V.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:V.map((B,z)=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:z+1})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.work_area})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{className:"inline text-base"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(B.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{className:"inline text-base"})})]})]},B.id))})]})})})]})]}),a.jsx(YUe,{isOpen:f,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>p&&G(p),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},XUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,QUe=()=>{const{addAsset:t}=sr(),e=tr(),[r,n]=b.useState(!1),[s,i]=b.useState(null),[o,l]=b.useState(!1),[c,d]=b.useState(()=>{const A=localStorage.getItem("sidebarOpen");return A?JSON.parse(A):!1}),[f,m]=b.useState(window.innerWidth<768),p=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(A=>!A)},g={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[v,w]=b.useState(g),y=b.useCallback(A=>{const{name:_,value:O}=A.target;w(P=>({...P,[_]:O}))},[]),N=async A=>{A.preventDefault(),n(!0),i(null);try{const _={...v,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),k()}catch(_){i(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},k=b.useCallback(()=>{w(g),i(null)},[g]),S=b.useCallback(()=>{l(!1),e("/assets")},[e]);return b.useEffect(()=>{const A=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",A),()=>window.removeEventListener("resize",A)},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:a.jsx(Ya,{}),isMobile:f,toggleSidebar:p}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),a.jsxs(T.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:s}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>i(null)})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:v.name,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:v.category,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:v.location,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:v.purchase_date,onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:v.description,onChange:y,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zs,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:v.type||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:v.make||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:v.model||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:v.status||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ia,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:v.last_maintenance||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:v.next_maintenance||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:v.work_orders||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:v.health||"",onChange:y,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:k,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),a.jsx(XUe,{isOpen:o,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},ZUe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,eWe=()=>{const{editAsset:t,getAssetsData:e}=sr(),r=tr(),{id:n}=si(),[s,i]=b.useState(!1),[o,l]=b.useState(!0),[c,d]=b.useState(null),[f,m]=b.useState(!1),[p,g]=b.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[v,w]=b.useState(window.innerWidth<768),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!p)),g(R=>!R)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[k,S]=b.useState(N),A=b.useCallback(R=>{const{name:F,value:E}=R.target;S(M=>({...M,[F]:E}))},[]),_=b.useCallback(async()=>{if(n){l(!0);try{const F=(await e()).find(E=>String(E.id)===n);F?S({id:F.id,name:F.name,category:F.category,location:F.location,purchase_date:F.purchaseDate,description:F.description,type:F.type||"",make:F.make||"",model:F.model||"",status:F.status||"",last_maintenance:F.lastMaintenance||"",next_maintenance:F.nextMaintenance||"",work_orders:F.workOrders||"",health:F.health||"",created_at:F.createdAt,update_at:F.updateAt}):d("Asset not found")}catch(R){d("Failed to load asset data: "+R.message)}finally{l(!1)}}},[n,e]),O=async R=>{R.preventDefault(),i(!0),d(null);try{const F={...k,update_at:new Date().toISOString()};await t(F),m(!0)}catch(F){d(F.message||"Failed to update asset data. Please try again."),console.error("Submission error:",F)}finally{i(!1)}},P=b.useCallback(()=>{_(),d(null)},[_]),I=b.useCallback(()=>{m(!1),r("/assets")},[r]);return b.useEffect(()=>{const R=()=>{w(window.innerWidth<768)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),b.useEffect(()=>{_()},[_]),o?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:a.jsx(Ya,{}),isMobile:v,toggleSidebar:y}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(fn,{className:"animate-spin text-blue-600 mb-4",size:32}),a.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:a.jsx(Ya,{}),isMobile:v,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",k.name]})]}),a.jsxs(T.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:O,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:k.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:k.category,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:k.location,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:k.purchase_date,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:k.description,onChange:A,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:k.type||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:k.make||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:k.model||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:k.status||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Ya,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:k.last_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:k.next_maintenance||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:k.work_orders||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:k.health||"",onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:P,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(zme,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),a.jsx(ZUe,{isOpen:f,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},tWe=()=>{const t=tr(),{user:e}=sr(),[r,n]=b.useState(!1),[s,i]=b.useState(window.innerWidth>=768),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState(!1),[f,m]=b.useState(!1),p=b.useRef(null),g=b.useRef(null);b.useEffect(()=>{const y=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",y),()=>window.removeEventListener("resize",y)},[]),b.useEffect(()=>{const y=N=>{p.current&&!p.current.contains(N.target)&&d(!1),g.current&&!g.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const v=()=>{i(y=>!y)};b.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const w=y=>{t(y)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Select Genba Menu",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(un,{}),isMobile:o,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Genba Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the menu you wish to manage other for genba action."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/soconfiguration"),children:[a.jsx(ga,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"SO Configuration"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage structure organization templates."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to SO Configuration ",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/genbaaction"),children:[a.jsx(C6,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Action"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle report daily tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Action",a.jsx(ta,{size:18,className:"ml-1"})]})]}),a.jsxs(T.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>w("/genba/genbaarea"),children:[a.jsx(C6,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Genba Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle Area for 5S."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Genba Area",a.jsx(ta,{size:18,className:"ml-1"})]})]})]})]})]})]})},FG=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rWe=()=>{const t=tr(),{getGenbaSOs:e,createGenbaSO:r,deleteGenbaSO:n,setGenbaSOActive:s}=sr(),[i,o]=b.useState(window.innerWidth<768),[l,c]=b.useState(()=>{const H=localStorage.getItem("sidebarOpen");return JSON.parse(H||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(H=>!H)},[f,m]=b.useState(!1),[p,g]=b.useState(""),[v,w]=b.useState([]),[y,N]=b.useState(!1),[k,S]=b.useState(""),[A,_]=b.useState(!1),[O,P]=b.useState(null),I=(H,V,G)=>{P({type:H,templateId:V,templateName:G}),_(!0)},R=async()=>{if(O)try{N(!0),O.type==="activate"?(await s(O.templateId),w(H=>H.map(V=>({...V,is_active:V.id===O.templateId})))):O.type==="delete"&&(await n(O.templateId),await F()),_(!1),P(null),S("")}catch(H){S(`Failed to ${O.type} template`),console.error(`Error ${O.type}ing template:`,H)}finally{N(!1)}};b.useEffect(()=>{F()},[]);const F=async()=>{try{N(!0);const H=await e();w(H||[])}catch(H){S("Failed to load structure organization templates"),console.error("Error loading templates:",H)}finally{N(!1)}},E=async()=>{if(!p.trim()){S("Template name must be filled out.");return}try{N(!0);const H=await r({name:p,effective_date:new Date().toISOString().split("T")[0],is_active:!1,bridges:[]});w(V=>[...V,H]),m(!1),g(""),S("")}catch(H){S("Failed to create template"),console.error("Error creating template:",H)}finally{N(!1)}},M=H=>{t(`/genba/soconfiguration/configure/${H.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations.",icon:a.jsx(ga,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(KE,{className:"mr-2 text-gray-700",size:24})," Structure Organization Templates"]}),a.jsxs(T.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:y,children:[a.jsx(qK,{size:18,className:"mr-2"})," Create New Template"]})]}),k&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:k}),y?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(lm,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:v.length>0?v.map(H=>a.jsx(T.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(yf,{size:20,className:"mr-2 text-blue-500"}),H.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${H.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:H.is_active?"Active":"Inactive"}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Effective: ",new Date(H.effective_date).toLocaleDateString()]}),a.jsxs("span",{className:"text-xs text-gray-500",children:["Roles: ",H.bridges.length]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{onClick:()=>M(H),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:y,children:"Configure"}),!H.is_active&&a.jsx(T.button,{onClick:V=>{V.stopPropagation(),I("activate",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:y,children:"Activate"}),a.jsx(T.button,{onClick:V=>{V.stopPropagation(),I("delete",H.id,H.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:y,children:"Delete"})]})]})},H.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(FG,{isOpen:A,onClose:()=>{_(!1),P(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",O==null?void 0:O.type,' template "',O==null?void 0:O.templateName,'"?',(O==null?void 0:O.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),P(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(O==null?void 0:O.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(O==null?void 0:O.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(FG,{isOpen:f,onClose:()=>m(!1),title:"Create New Structure Organization Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:p,onChange:H=>g(H.target.value),placeholder:"e.g., Production Structure 2024",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),k&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:k}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),g(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:y||!p.trim(),children:[y?a.jsx(lm,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},$G=()=>({employees:[{id:1,name:"Bogus Fixri",email:"bogus@company.com",position:"CEO / Founder",department:"Executive",phone:"+62 812-3456-7890"},{id:2,name:"Multi Hideyat",email:"multi@company.com",position:"Project Manager",department:"Project Management",phone:"+62 813-4567-8901"},{id:3,name:"Lookta Roymadley",email:"lookta@company.com",position:"Project Manager",department:"Project Management",phone:"+62 814-5678-9012"},{id:4,name:"Rijal Jantika",email:"rijal@company.com",position:"Head of Production",department:"Production",phone:"+62 815-6789-0123"},{id:5,name:"Heru",email:"heru@company.com",position:"Design Manager",department:"Design",phone:"+62 816-7890-1234"},{id:6,name:"Fauzan Ardianayeh",email:"fauzan@company.com",position:"QC & Research",department:"Quality Control",phone:"+62 817-8901-2345"},{id:7,name:"Panji Dwi",email:"panji@company.com",position:"UI Designer",department:"Design",phone:"+62 818-9012-3456"},{id:8,name:"Rahan Fixri",email:"rahan@company.com",position:"UI Designer",department:"Design",phone:"+62 819-0123-4567"},{id:9,name:"Iran",email:"iran@company.com",position:"UI Designer",department:"Design",phone:"+62 820-1234-5678"},{id:10,name:"Venison History",email:"venison@company.com",position:"General Setting",department:"Administration",phone:"+62 821-2345-6789"}],templates:[{id:1,name:"Current Structure",isActive:!0,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:200,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:500,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:800,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:650,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:950,y:370,width:240,height:100},{id:7,employeeId:7,parentId:5,x:550,y:520,width:220,height:90},{id:8,employeeId:8,parentId:5,x:800,y:520,width:220,height:90},{id:9,employeeId:9,parentId:5,x:675,y:520,width:220,height:90},{id:10,employeeId:10,parentId:3,x:500,y:370,width:240,height:100}],createdAt:"2024-01-15"},{id:2,name:"Proposed Structure",isActive:!1,nodes:[{id:1,employeeId:1,parentId:null,x:500,y:50,width:280,height:120},{id:2,employeeId:2,parentId:1,x:300,y:220,width:260,height:100},{id:3,employeeId:3,parentId:1,x:600,y:220,width:260,height:100},{id:4,employeeId:4,parentId:1,x:900,y:220,width:260,height:100},{id:5,employeeId:5,parentId:4,x:800,y:370,width:240,height:100},{id:6,employeeId:6,parentId:4,x:1050,y:370,width:240,height:100}],createdAt:"2024-01-20"}]}),e6=({isOpen:t,onClose:e,title:r,children:n,maxWidth:s="max-w-xl"})=>(b.useEffect(()=>{const i=o=>{o.key==="Escape"&&e()};return document.addEventListener("keydown",i),()=>document.removeEventListener("keydown",i)},[e]),a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black bg-opacity-40 flex justify-center items-center z-50 p-4",onClick:e,children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s} w-full`,onClick:i=>i.stopPropagation(),children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-gradient-to-r from-blue-50 to-indigo-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 transition-colors duration-150",children:a.jsx($t,{className:"w-5 h-5"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto flex-grow",children:n})]})})})),nWe=({message:t,type:e,isVisible:r,onClose:n})=>(b.useEffect(()=>{if(r){const s=setTimeout(n,3e3);return()=>clearTimeout(s)}},[r,n]),a.jsx(ar,{children:r&&a.jsx(T.div,{initial:{opacity:0,y:-50},animate:{opacity:1,y:0},exit:{opacity:0,y:-50},className:`fixed top-4 right-4 z-50 p-4 rounded-lg shadow-lg ${e==="success"?"bg-green-500 text-white":"bg-red-500 text-white"}`,children:a.jsxs("div",{className:"flex items-center space-x-2",children:[e==="success"?a.jsx(ur,{className:"w-5 h-5"}):a.jsx(k6,{className:"w-5 h-5"}),a.jsx("span",{className:"font-medium",children:t})]})})})),aWe=()=>{const[t,e]=b.useState({employees:[],templates:[]}),[r,n]=b.useState(null),[s,i]=b.useState(!1),[o,l]=b.useState(""),[c,d]=b.useState(""),[f,m]=b.useState(!1),[p,g]=b.useState(!1),[v,w]=b.useState(null),[y,N]=b.useState(!1),[k,S]=b.useState(!1),[A,_]=b.useState({message:"",type:"success",isVisible:!1}),[O,P]=b.useState(!0),[I,R]=b.useState(""),[F,E]=b.useState({name:"",email:"",position:"",department:"",phone:""}),[M,H]=b.useState(1),[V,G]=b.useState({x:0,y:0}),[q,B]=b.useState(!1),[z,X]=b.useState({x:0,y:0}),ee=b.useRef(null),K=b.useRef(null);b.useEffect(()=>{(async()=>{P(!0),await new Promise(Qe=>setTimeout(Qe,500));const he=localStorage.getItem("org.structure.v1");if(he)try{const Qe=JSON.parse(he);e(Qe);const Ge=Qe.templates.find(mt=>mt.isActive);n(Ge||Qe.templates[0])}catch{const Qe=$G();e(Qe),n(Qe.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(Qe))}else{const Qe=$G();e(Qe),n(Qe.templates[0]),localStorage.setItem("org.structure.v1",JSON.stringify(Qe))}P(!1)})()},[]);const W=b.useCallback(async He=>{P(!0),await new Promise(he=>setTimeout(he,200)),localStorage.setItem("org.structure.v1",JSON.stringify(He)),e(He),P(!1),J("Changes saved successfully","success")},[]),J=(He,he)=>{_({message:He,type:he,isVisible:!0})},Z=async()=>{if(!I.trim()){J("Please enter a template name","error");return}const He={id:Date.now(),name:I,isActive:!1,nodes:r?JSON.parse(JSON.stringify(r.nodes)):[],createdAt:new Date().toISOString().split("T")[0]},he=t.templates.map(Ge=>({...Ge,isActive:!1}));he.push(He);const Qe={...t,templates:he};await W(Qe),n(He),m(!1),R("")},ie=async He=>{const he={id:Date.now(),name:`${He.name} (Copy)`,isActive:!1,nodes:JSON.parse(JSON.stringify(He.nodes)),createdAt:new Date().toISOString().split("T")[0]},Qe=[...t.templates,he],Ge={...t,templates:Qe};await W(Ge),J("Template duplicated successfully","success")},ue=async He=>{const he=t.templates.map(Ge=>({...Ge,isActive:Ge.id===He.id})),Qe={...t,templates:he};await W(Qe),n(He),g(!1)},je=async He=>{if(t.templates.length<=1){J("Cannot delete the only template","error");return}const he=t.templates.filter(Ge=>Ge.id!==He),Qe={...t,templates:he};if(await W(Qe),(r==null?void 0:r.id)===He){const Ge=he.find(mt=>mt.isActive)||he[0];n(Ge)}},ce=async(He=null)=>{if(!r)return;const he={id:Date.now(),employeeId:null,parentId:He,x:500,y:300,width:260,height:100},Qe=[...r.nodes,he],Ge=t.templates.map(Le=>Le.id===r.id?{...Le,nodes:Qe}:Le),mt={...t,templates:Ge};await W(mt),w(he),E({name:"",email:"",position:"",department:"",phone:""}),S(!0)},le=async He=>{if(!r)return;const he=r.nodes.find(_e=>_e.id===He);if(!he)return;const Qe={id:Date.now(),employeeId:null,parentId:He,x:he.x,y:he.y+180,width:240,height:100},Ge=[...r.nodes,Qe],mt=t.templates.map(_e=>_e.id===r.id?{..._e,nodes:Ge}:_e),Le={...t,templates:mt};await W(Le),w(Qe),E({name:"",email:"",position:"",department:"",phone:""}),S(!0)},pe=async He=>{if(!r||!r.nodes.find(qe=>qe.id===He))return;const Qe=qe=>{const ge=r.nodes.filter(ke=>ke.parentId===qe).map(ke=>ke.id),Oe=ge.flatMap(ke=>Qe(ke));return[...ge,...Oe]},Ge=[He,...Qe(He)],mt=r.nodes.filter(qe=>!Ge.includes(qe.id)),Le=t.templates.map(qe=>qe.id===r.id?{...qe,nodes:mt}:qe),_e={...t,templates:Le};await W(_e)},$e=async()=>{if(!(!v||!r))if(F.name&&F.email&&F.position&&F.department){let He=[...t.employees],he=v.employeeId;he?He=He.map(Le=>Le.id===he?{...Le,...F}:Le):(he=Date.now(),He.push({id:he,name:F.name,email:F.email,position:F.position,department:F.department,phone:F.phone||""}));const Qe=r.nodes.map(Le=>Le.id===v.id?{...Le,employeeId:he}:Le),Ge=t.templates.map(Le=>Le.id===r.id?{...Le,nodes:Qe}:Le),mt={...t,employees:He,templates:Ge};await W(mt),S(!1),w(null),E({name:"",email:"",position:"",department:"",phone:""})}else J("Please fill all required fields","error")},de=He=>He?t.employees.find(he=>he.id===He):null,Se=He=>(r==null?void 0:r.nodes.filter(he=>he.parentId===He))||[],te=()=>r?r.nodes.map(He=>{if(!He.parentId)return null;const he=r.nodes.find(qe=>qe.id===He.parentId);if(!he)return null;const Qe=he.x+he.width/2,Ge=he.y+he.height,mt=He.x+He.width/2,Le=He.y,_e=(Ge+Le)/2;return a.jsx("path",{d:`M ${Qe} ${Ge} L ${Qe} ${_e} L ${mt} ${_e} L ${mt} ${Le}`,stroke:"#cbd5e1",strokeWidth:"2",fill:"none"},`connection-${He.id}`)}):null,se=He=>{He.preventDefault();const Qe=Math.min(Math.max(.5,M-He.deltaY*.001),2);H(Qe)},ut=He=>{He.button===0&&(He.altKey||He.ctrlKey)?(B(!0),X({x:He.clientX-V.x,y:He.clientY-V.y})):He.button===1&&(He.preventDefault(),B(!0),X({x:He.clientX-V.x,y:He.clientY-V.y}))},dt=He=>{q&&G({x:He.clientX-z.x,y:He.clientY-z.y})},De=()=>{B(!1)},rt=()=>{H(1),G({x:0,y:0})},wt=t.employees.filter(He=>{const he=He.name.toLowerCase().includes(o.toLowerCase())||He.position.toLowerCase().includes(o.toLowerCase()),Qe=!c||He.department===c;return he&&Qe}),gt=Array.from(new Set(t.employees.map(He=>He.department))),Rt=({node:He})=>{const he=de(He.employeeId),Qe=Se(He.id);return a.jsxs(a.Fragment,{children:[a.jsx(T.div,{className:`absolute bg-white rounded-2xl shadow-lg border-2 cursor-pointer transition-all duration-200 ${s?"cursor-move hover:shadow-xl":"hover:shadow-xl"} ${he?"border-blue-100":"border-dashed border-amber-400 bg-amber-50"}`,style:{left:He.x,top:He.y,width:He.width,height:He.height},whileHover:{scale:1.02},drag:s,dragMomentum:!1,onDragEnd:(Ge,mt)=>{if(!s||!r)return;const Le=He.x+mt.offset.x,_e=He.y+mt.offset.y,qe=r.nodes.map(ke=>ke.id===He.id?{...ke,x:Le,y:_e}:ke),ge=t.templates.map(ke=>ke.id===r.id?{...ke,nodes:qe}:ke),Oe={...t,templates:ge};W(Oe)},onClick:Ge=>{s||(Ge.stopPropagation(),w(He),he?N(!0):(E({name:"",email:"",position:"",department:"",phone:""}),S(!0)))},children:a.jsxs("div",{className:"p-4 h-full flex flex-col justify-between",children:[a.jsxs("div",{className:"flex items-start space-x-3",children:[a.jsx("div",{className:`w-12 h-12 rounded-xl flex items-center justify-center font-bold text-lg shrink-0 ${he?"bg-gradient-to-br from-blue-500 to-blue-600 text-white":"bg-amber-100 text-amber-600"}`,children:he?he.name.split(" ").map(Ge=>Ge[0]).join(""):"?"}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-bold text-gray-900 text-base leading-tight truncate",children:he?he.name:"New Position"}),a.jsx("p",{className:"text-sm text-blue-600 font-medium leading-tight truncate",children:he?he.position:"Click to assign"}),a.jsx("p",{className:"text-xs text-gray-500 leading-tight truncate",children:he?he.department:"Unassigned"})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-3",children:[a.jsx("div",{className:"flex space-x-2",children:he&&a.jsxs(a.Fragment,{children:[a.jsx("button",{className:"p-1.5 text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",onClick:Ge=>{Ge.stopPropagation(),window.location.href=`mailto:${he.email}`},children:a.jsx(Jp,{className:"w-4 h-4"})}),he.phone&&a.jsx("button",{className:"p-1.5 text-gray-400 hover:text-green-600 hover:bg-green-50 rounded-lg transition-colors",onClick:Ge=>{Ge.stopPropagation(),window.location.href=`tel:${he.phone}`},children:a.jsx(sd,{className:"w-4 h-4"})})]})}),a.jsx("div",{className:"flex space-x-1",children:s&&a.jsxs(a.Fragment,{children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ge=>{Ge.stopPropagation(),le(He.id)},className:"p-1.5 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:"Add Subordinate",children:a.jsx(pa,{className:"w-4 h-4"})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Ge=>{Ge.stopPropagation(),pe(He.id)},className:"p-1.5 text-red-600 hover:bg-red-50 rounded-lg transition-colors",title:"Delete Position",children:a.jsx(In,{className:"w-4 h-4"})})]})})]})]})}),Qe.map(Ge=>a.jsx(Rt,{node:Ge},Ge.id))]})};return O&&!r?a.jsx("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600 text-lg font-medium",children:"Loading organization structure..."})]})})}):a.jsxs("div",{className:"flex h-screen bg-gradient-to-br from-blue-50 to-indigo-50 font-sans antialiased",children:[a.jsxs("div",{className:"w-80 bg-white/80 backdrop-blur-sm border-r border-gray-200/50 flex flex-col",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200/50",children:[a.jsx("h2",{className:"text-lg font-bold text-gray-900 mb-4",children:"Organization"}),a.jsxs("div",{className:"relative mb-4",children:[a.jsx(Pa,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),a.jsx("input",{type:"text",placeholder:"Search employee...",className:"w-full pl-10 pr-4 py-3 border border-gray-300/50 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:o,onChange:He=>l(He.target.value)})]}),a.jsxs("div",{className:"mb-4",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Filter Role"}),a.jsxs("select",{className:"w-full border border-gray-300/50 rounded-xl px-3 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500/50 focus:border-transparent bg-white/50 text-sm backdrop-blur-sm",value:c,onChange:He=>d(He.target.value),children:[a.jsx("option",{value:"",children:"All Roles"}),gt.map(He=>a.jsx("option",{value:He,children:He},He))]})]})]}),a.jsx("div",{className:"flex-1 overflow-y-auto p-4",children:a.jsx("div",{className:"space-y-3",children:wt.map(He=>a.jsx(T.div,{className:"p-4 rounded-xl hover:bg-blue-50/50 cursor-pointer transition-all duration-200 border border-transparent hover:border-blue-200/50 bg-white/50 backdrop-blur-sm",whileHover:{x:4,scale:1.02},onClick:()=>{const he=r==null?void 0:r.nodes.find(Qe=>Qe.employeeId===He.id);if(he&&ee.current){const Qe=ee.current,Ge=he.x+he.width/2-Qe.clientWidth/2,mt=he.y+he.height/2-Qe.clientHeight/2;G({x:-Ge,y:-mt}),H(1)}},children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center text-white text-sm font-bold shrink-0",children:He.name.split(" ").map(he=>he[0]).join("")}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("h3",{className:"font-semibold text-gray-900 text-sm truncate",children:He.name}),a.jsx("p",{className:"text-xs text-blue-600 font-medium truncate",children:He.position})]})]})},He.id))})})]}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsxs("div",{className:"bg-white/80 backdrop-blur-sm border-b border-gray-200/50 p-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-6",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-3xl font-bold text-gray-900",children:["Organization ",a.jsx("span",{className:"text-blue-600",children:"Structure"})]}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Visualize and manage your organizational hierarchy"})]}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>g(!p),className:"flex items-center space-x-2 bg-white border border-gray-300/50 text-gray-700 px-4 py-2.5 rounded-xl hover:bg-gray-50/50 transition-all duration-200 font-semibold text-sm backdrop-blur-sm",children:[a.jsx(Kh,{className:"w-4 h-4"}),a.jsx("span",{children:"Templates"}),a.jsx(la,{className:"w-4 h-4"})]}),a.jsx(ar,{children:p&&a.jsxs(T.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"absolute top-full right-0 mt-2 w-80 bg-white/95 backdrop-blur-md border border-gray-200/50 rounded-xl shadow-xl z-10",children:[a.jsx("div",{className:"p-4 border-b border-gray-200/50 bg-gradient-to-r from-blue-50/50 to-indigo-50/50",children:a.jsx("h3",{className:"font-bold text-gray-900",children:"Organization Templates"})}),a.jsx("div",{className:"max-h-96 overflow-y-auto",children:t.templates.map(He=>a.jsxs("div",{className:"p-4 border-b border-gray-100/50 last:border-b-0 hover:bg-blue-50/30 transition-colors duration-150",children:[a.jsxs("div",{className:"flex items-center justify-between mb-2",children:[a.jsx("span",{className:"font-semibold text-gray-900",children:He.name}),He.isActive&&a.jsxs("div",{className:"flex items-center space-x-1 text-green-600",children:[a.jsx(ur,{className:"w-4 h-4"}),a.jsx("span",{className:"text-xs font-medium",children:"Active"})]})]}),a.jsxs("div",{className:"flex items-center justify-between text-xs text-gray-600",children:[a.jsxs("span",{children:[He.nodes.length," positions • ",He.createdAt]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx("button",{onClick:()=>ie(He),className:"text-purple-600 hover:text-purple-800 font-medium",title:"Duplicate Template",children:a.jsx(jhe,{className:"w-3.5 h-3.5"})}),!He.isActive&&a.jsxs(a.Fragment,{children:[a.jsx("button",{onClick:()=>ue(He),className:"text-blue-600 hover:text-blue-800 font-medium",children:"Activate"}),a.jsx("button",{onClick:()=>je(He.id),className:"text-red-600 hover:text-red-800 font-medium",children:"Delete"})]})]})]})]},He.id))})]})})]}),a.jsx(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>i(!s),className:`px-5 py-2.5 rounded-xl font-semibold text-sm transition-all duration-200 backdrop-blur-sm ${s?"bg-blue-600 text-white hover:bg-blue-700 shadow-lg":"bg-white border border-gray-300/50 text-gray-700 hover:bg-gray-50/50"}`,children:s?a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx(bn,{className:"w-4 h-4"}),a.jsx("span",{children:"Save"})]}):a.jsxs("span",{className:"flex items-center space-x-2",children:[a.jsx($a,{className:"w-4 h-4"}),a.jsx("span",{children:"Edit"})]})}),a.jsxs(T.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(!0),className:"flex items-center space-x-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white px-5 py-2.5 rounded-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 font-semibold text-sm shadow-lg",children:[a.jsx(pa,{className:"w-4 h-4"}),a.jsx("span",{children:"New Template"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Total Employees"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:t.employees.length})]}),a.jsx(ga,{className:"text-blue-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Active Template"}),a.jsx("p",{className:"text-lg font-bold text-gray-900 truncate",children:r==null?void 0:r.name})]}),a.jsx(dd,{className:"text-green-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Departments"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:gt.length})]}),a.jsx(gs,{className:"text-purple-500 w-8 h-8"})]})}),a.jsx("div",{className:"bg-white/80 backdrop-blur-sm rounded-2xl shadow-sm p-5 border border-blue-100/50",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-600",children:"Edit Mode"}),a.jsx("p",{className:`text-lg font-bold ${s?"text-green-600":"text-gray-900"}`,children:s?"Active":"Inactive"})]}),a.jsx($a,{className:s?"text-orange-500 w-8 h-8":"text-gray-400 w-8 h-8"})]})})]})]}),a.jsxs("div",{ref:ee,className:"flex-1 overflow-hidden bg-gradient-to-br from-blue-50/50 to-indigo-50/50 relative",onWheel:se,onMouseDown:ut,onMouseMove:dt,onMouseUp:De,onMouseLeave:De,style:{cursor:q?"grabbing":s?"grab":"default"},children:[a.jsxs("div",{className:"absolute inset-0",style:{transform:`scale(${M}) translate(${V.x}px, ${V.y}px)`,transformOrigin:"0 0",transition:q?"none":"transform 0.2s ease"},children:[a.jsxs("svg",{ref:K,className:"absolute top-0 left-0 w-full h-full pointer-events-none",style:{overflow:"visible"},children:[a.jsx("defs",{children:a.jsx("marker",{id:"arrowhead",markerWidth:"10",markerHeight:"7",refX:"9",refY:"3.5",orient:"auto",children:a.jsx("polygon",{points:"0 0, 10 3.5, 0 7",fill:"#cbd5e1"})})}),te()]}),a.jsx("div",{className:"relative w-full h-full",children:r==null?void 0:r.nodes.filter(He=>He.parentId===null).map(He=>a.jsx(Rt,{node:He},He.id))})]}),a.jsxs("div",{className:"absolute bottom-6 right-6 flex flex-col space-y-3",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(He=>Math.min(He+.1,2)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom In",children:a.jsx(pa,{className:"w-5 h-5"})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>H(He=>Math.max(He-.1,.5)),className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Zoom Out",children:a.jsx($t,{className:"w-5 h-5"})}),a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:rt,className:"bg-white/90 backdrop-blur-sm border border-gray-300/50 w-10 h-10 rounded-xl flex items-center justify-center text-gray-700 hover:bg-gray-50/90 transition-all duration-200 shadow-lg",title:"Reset View",children:a.jsx(bo,{className:"w-5 h-5"})})]}),s&&a.jsx("div",{className:"absolute bottom-6 left-6",children:a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(),className:"bg-gradient-to-r from-blue-600 to-blue-700 text-white p-4 rounded-2xl shadow-xl hover:from-blue-700 hover:to-blue-800 transition-all duration-200 flex items-center space-x-2 font-semibold",title:"Add New Position",children:[a.jsx(pa,{className:"w-6 h-6"}),a.jsx("span",{children:"Add Position"})]})})]})]}),a.jsx(e6,{isOpen:f,onClose:()=>m(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Template Name"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:I,onChange:He=>R(He.target.value),placeholder:"Enter template name...",onKeyPress:He=>{He.key==="Enter"&&Z()}})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{m(!1),R("")},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),a.jsx("button",{onClick:Z,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:"Create Template"})]})]})}),a.jsx(e6,{isOpen:y,onClose:()=>{N(!1),w(null)},title:"Employee Details",maxWidth:"max-w-md",children:v&&de(v.employeeId)&&a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-500 to-blue-600 rounded-2xl flex items-center justify-center text-white text-2xl font-bold shrink-0",children:de(v.employeeId).name.split(" ").map(He=>He[0]).join("")}),a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:de(v.employeeId).name}),a.jsx("p",{className:"text-blue-600 font-semibold",children:de(v.employeeId).position}),a.jsx("p",{className:"text-gray-600",children:de(v.employeeId).department})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Email Address"}),a.jsx("p",{className:"text-gray-900 font-medium",children:de(v.employeeId).email})]}),de(v.employeeId).phone&&a.jsxs("div",{className:"space-y-2",children:[a.jsx("label",{className:"text-sm font-semibold text-gray-500",children:"Phone Number"}),a.jsx("p",{className:"text-gray-900 font-medium",children:de(v.employeeId).phone})]})]}),a.jsxs("div",{className:"flex space-x-3 pt-4",children:[a.jsxs("button",{onClick:()=>{N(!1),S(!0),E(de(v.employeeId))},className:"flex-1 flex items-center justify-center space-x-2 bg-blue-600 text-white py-3 rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:[a.jsx($a,{className:"w-5 h-5"}),a.jsx("span",{children:"Edit Details"})]}),a.jsxs("button",{onClick:()=>N(!1),className:"flex-1 flex items-center justify-center space-x-2 border border-gray-300 text-gray-700 py-3 rounded-xl hover:bg-gray-50 transition-all duration-200 font-semibold",children:[a.jsx(ln,{className:"w-5 h-5"}),a.jsx("span",{children:"Close"})]})]})]})}),a.jsx(e6,{isOpen:k,onClose:()=>{S(!1),w(null),E({name:"",email:"",position:"",department:"",phone:""})},title:v!=null&&v.employeeId?"Edit Employee Details":"Assign Employee to Position",maxWidth:"max-w-md",children:a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Full Name *"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.name||"",onChange:He=>E(he=>({...he,name:He.target.value})),placeholder:"Enter full name..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address *"}),a.jsx("input",{type:"email",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.email||"",onChange:He=>E(he=>({...he,email:He.target.value})),placeholder:"Enter email address..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Position *"}),a.jsx("input",{type:"text",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.position||"",onChange:He=>E(he=>({...he,position:He.target.value})),placeholder:"Enter job position..."})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Department *"}),a.jsxs("select",{className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.department||"",onChange:He=>E(he=>({...he,department:He.target.value})),children:[a.jsx("option",{value:"",children:"Select Department"}),gt.map(He=>a.jsx("option",{value:He,children:He},He))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number"}),a.jsx("input",{type:"tel",className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:F.phone||"",onChange:He=>E(he=>({...he,phone:He.target.value})),placeholder:"Enter phone number..."})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx("button",{onClick:()=>{S(!1),w(null),E({name:"",email:"",position:"",department:"",phone:""})},className:"px-5 py-2.5 border border-gray-300 rounded-xl text-gray-700 hover:bg-gray-50 transition-all duration-200 font-semibold",children:"Cancel"}),a.jsx("button",{onClick:$e,className:"px-5 py-2.5 bg-blue-600 text-white rounded-xl hover:bg-blue-700 transition-all duration-200 font-semibold shadow-lg",children:v!=null&&v.employeeId?"Update Employee":"Assign Employee"})]})]})}),a.jsx(nWe,{message:A.message,type:A.type,isVisible:A.isVisible,onClose:()=>_(He=>({...He,isVisible:!1}))})]})},sWe=()=>{var mt;tr();const{user:t}=sr(),e=t,[r,n]=b.useState(()=>{const Le=localStorage.getItem("sidebarOpen");return Le?JSON.parse(Le):!1}),[s,i]=b.useState(window.innerWidth<768),[o,l]=b.useState(new Date),[c,d]=b.useState(!1),[f,m]=b.useState([]),[p,g]=b.useState([]),[v,w]=b.useState(""),[y,N]=b.useState(""),[k,S]=b.useState([]),[A,_]=b.useState(!1),[O,P]=b.useState("management"),[I,R]=b.useState(""),[F,E]=b.useState(new Date().getFullYear()),[M,H]=b.useState(new Date().getMonth()),[V,G]=b.useState(null),[q,B]=b.useState(""),z=b.useRef(null),X=b.useRef(null),ee=[{id:"karyawan",name:"Karyawan",level:1},{id:"komite",name:"Komite Department",level:2},{id:"penanggungjawab",name:"Penanggung Jawab Area",level:3},{id:"management",name:"Management",level:4}],K=[{id:"1",nama:"Area Produksi Line A",penanggungJawab:"Budi Santoso",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"2",nama:"Area Produksi Line B",penanggungJawab:"Joko Widodo",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Produksi"},{id:"3",nama:"Area Gudang Bahan Baku",penanggungJawab:"Siti Rahayu",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"4",nama:"Area Gudang Finished Goods",penanggungJawab:"Rina Melati",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Gudang"},{id:"5",nama:"Area Kantor HRD",penanggungJawab:"Ari Wibowo",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"6",nama:"Area Kantor Accounting",penanggungJawab:"Dian Pertiwi",pengawas:"Maya Sari",gambar3d:"/api/placeholder/400/300",department:"Administrasi"},{id:"7",nama:"Area Maintenance",penanggungJawab:"Hendra Gunawan",pengawas:"Ahmad Wijaya",gambar3d:"/api/placeholder/400/300",department:"Engineering"},{id:"8",nama:"Area Quality Control",penanggungJawab:"Fitri Handayani",pengawas:"Dewi Sartika",gambar3d:"/api/placeholder/400/300",department:"Quality"}],W=()=>{const Le=[],_e=K,qe=[{nama:"Budi Santoso",nip:"12345",department:"Produksi"},{nama:"Joko Widodo",nip:"12346",department:"Produksi"},{nama:"Siti Rahayu",nip:"12347",department:"Gudang"},{nama:"Rina Melati",nip:"12348",department:"Gudang"},{nama:"Ari Wibowo",nip:"12349",department:"Administrasi"},{nama:"Dian Pertiwi",nip:"12350",department:"Administrasi"},{nama:"Hendra Gunawan",nip:"12351",department:"Engineering"},{nama:"Fitri Handayani",nip:"12352",department:"Quality"},{nama:"Andi Pratama",nip:"12353",department:"Produksi"},{nama:"Maya Sari",nip:"12354",department:"Administrasi"}],ge=new Date(2024,0,1),Oe=new Date;for(let ke=new Date(ge);ke<=Oe;ke.setDate(ke.getDate()+1)){if(ke.getDay()===0||ke.getDay()===6||Math.random()>.7)continue;qe.filter(()=>Math.random()>.3).forEach(Xe=>{const we=_e.filter(tt=>tt.department===Xe.department);if(we.length===0)return;const ye=we[Math.floor(Math.random()*we.length)],Ke=Math.random()>.1?"completed":"pending",pt=Ke==="completed"?Math.floor(Math.random()*30)+70:void 0;Le.push({id:`activity-${ke.getTime()}-${Xe.nip}`,nama:Xe.nama,nip:Xe.nip,department:Xe.department,komite5s:`Komite5s ${Xe.department}`,tanggal:ke.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),area:ye.nama,penanggungJawabArea:ye.penanggungJawab,keterangan:Math.random()>.5?"Area sudah dibersihkan dan ditata sesuai standar 5S":"Pengecekan rutin area kerja",fotoLampiran:["/api/placeholder/300/200"],createdAt:ke.toISOString(),status:Ke,score:pt})})}return Le};b.useEffect(()=>{g(K);const Le=W();m(Le),localStorage.setItem("dailyActivities",JSON.stringify(Le))},[]),b.useEffect(()=>{const Le=()=>{i(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",Le),()=>window.removeEventListener("resize",Le)},[]);const J=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(Le=>!Le)},Z=Le=>Le.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}),ie=()=>p.find(Le=>Le.id===v),ue=()=>{let Le=f;if(O==="komite"&&(e!=null&&e.department))Le=Le.filter(_e=>_e.department===e.department);else if(O==="penanggungjawab"){const _e=p.filter(qe=>qe.penanggungJawab===(e==null?void 0:e.name));Le=Le.filter(qe=>_e.some(ge=>ge.nama===qe.area))}else O==="karyawan"&&(Le=Le.filter(_e=>_e.nip===(e==null?void 0:e.nip)));return I&&(Le=Le.filter(_e=>_e.department===I)),q&&(Le=Le.filter(_e=>_e.nama.toLowerCase().includes(q.toLowerCase())||_e.area.toLowerCase().includes(q.toLowerCase())||_e.nip.includes(q))),Le},je=(Le,_e,qe)=>{const ge=f.filter(Xe=>{const we=new Date(Xe.createdAt);return Xe.department===Le&&we.getMonth()===_e&&we.getFullYear()===qe}),Oe=new Date(qe,_e+1,0).getDate(),ke=new Set(ge.map(Xe=>Xe.tanggal)).size,Ue=Oe>0?ke/Oe*100:0;return Math.min(Ue,100)},ce=(Le,_e)=>{const qe=ue().filter(Ue=>{const Xe=new Date(Ue.createdAt);return Xe.getMonth()===Le&&Xe.getFullYear()===_e}),ge=new Date(_e,Le+1,0).getDate(),Oe=new Set(qe.map(Ue=>Ue.tanggal)).size,ke=ge>0?Oe/ge*100:0;return Math.min(ke,100)},le=()=>{const Le=new Date;return ce(Le.getMonth(),Le.getFullYear())},pe=(Le,_e,qe)=>{const ge=f.filter(Xe=>{const we=new Date(Xe.createdAt);return Xe.nip===Le&&we.getMonth()===_e&&we.getFullYear()===qe}),Oe=new Date(qe,_e+1,0).getDate(),ke=new Set(ge.map(Xe=>Xe.tanggal)).size,Ue=Oe>0?ke/Oe*100:0;return Math.min(Ue,100)},$e=()=>{const Le=o.getFullYear(),_e=o.getMonth(),ge=new Date(Le,_e+1,0).getDate(),Oe=ue(),ke=[];for(let Ue=1;Ue<=ge;Ue++){const Xe=new Date(Le,_e,Ue),we=Z(Xe),ye=Oe.some(Ke=>Ke.tanggal===we);ke.push({date:Ue,hasReport:ye,isToday:Xe.toDateString()===new Date().toDateString()})}return ke},de=async()=>{try{const Le=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});X.current=Le,z.current&&(z.current.srcObject=Le),_(!0)}catch(Le){console.error("Error accessing camera:",Le),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},Se=()=>{if(z.current){const Le=document.createElement("canvas");Le.width=z.current.videoWidth,Le.height=z.current.videoHeight;const _e=Le.getContext("2d");if(_e){_e.drawImage(z.current,0,0);const qe=Le.toDataURL("image/jpeg");S(ge=>[...ge,qe])}}},te=()=>{X.current&&(X.current.getTracks().forEach(Le=>Le.stop()),X.current=null),_(!1)},se=Le=>{S(_e=>_e.filter((qe,ge)=>ge!==Le))},ut=()=>{if(!v||k.length===0){alert("Area dan Lampiran Foto wajib diisi!");return}const Le=p.find(ge=>ge.id===v),_e={id:Date.now().toString(),nama:(e==null?void 0:e.name)||"User",nip:(e==null?void 0:e.nip)||"N/A",department:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Department",komite5s:`Komite5s ${(e==null?void 0:e.department)||"Dept"}`,tanggal:Z(o),area:(Le==null?void 0:Le.nama)||"",penanggungJawabArea:(Le==null?void 0:Le.penanggungJawab)||"",keterangan:y,fotoLampiran:k,createdAt:new Date().toISOString(),status:"completed",score:Math.floor(Math.random()*30)+70},qe=[...f,_e];m(qe),localStorage.setItem("dailyActivities",JSON.stringify(qe)),w(""),N(""),S([]),d(!1),alert("Laporan berhasil disimpan!")},dt=Le=>{const _e={completed:"bg-green-100 text-green-800",pending:"bg-yellow-100 text-yellow-800",rejected:"bg-red-100 text-red-800"},qe={completed:"Selesai",pending:"Menunggu",rejected:"Ditolak"};return a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${_e[Le]}`,children:qe[Le]})},De=Le=>{const _e=Z(new Date),qe=f.find(ge=>ge.nip===Le&&ge.tanggal===_e);return qe?dt(qe.status):a.jsx("span",{className:"px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs font-medium",children:"Belum Lapor"})},rt=Le=>{const _e=f.filter(ge=>ge.nip===Le.nip&&new Date(ge.createdAt).getMonth()===M).sort((ge,Oe)=>new Date(Oe.createdAt).getTime()-new Date(ge.createdAt).getTime()),qe=pe(Le.nip,M,F);return a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[a.jsx("button",{onClick:()=>G(null),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx(mn,{size:20})}),a.jsxs("div",{children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Detail Laporan - ",Le.nama]}),a.jsxs("p",{className:"text-gray-600",children:["NIP: ",Le.nip," | Department: ",Le.department]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Bulan Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[qe.toFixed(0),"%"]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:_e.length})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[a.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Status Hari Ini"}),a.jsx("div",{className:"mt-1",children:De(Le.nip)})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Tanggal"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Area"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Keterangan"})]})}),a.jsx("tbody",{children:_e.map(ge=>a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm",children:ge.tanggal}),a.jsx("td",{className:"py-3 text-sm",children:ge.area}),a.jsx("td",{className:"py-3",children:dt(ge.status)}),a.jsx("td",{className:"py-3 text-sm max-w-xs truncate",children:ge.keterangan})]},ge.id))})]})})]})},wt=()=>a.jsxs(a.Fragment,{children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"mb-6 bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:o.toLocaleDateString("id-ID",{month:"long",year:"numeric"})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()-1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:a.jsx(fu,{size:16,className:"text-gray-700"})}),a.jsx("button",{onClick:()=>l(new Date(o.getFullYear(),o.getMonth()+1,1)),className:"w-8 h-8 rounded-full bg-white shadow-sm flex items-center justify-center hover:shadow-md transition-shadow",children:a.jsx(ta,{size:16,className:"text-gray-700"})})]})]}),a.jsx("div",{className:"grid grid-cols-7 gap-2 mb-4",children:["Min","Sen","Sel","Rab","Kam","Jum","Sab"].map(Le=>a.jsx("div",{className:"text-center text-xs text-gray-500 font-medium",children:Le},Le))}),a.jsx("div",{className:"grid grid-cols-7 gap-2",children:$e().map((Le,_e)=>{const qe=new Date(o.getFullYear(),o.getMonth(),Le.date).getDay(),ge=_e===0?qe+1:void 0;return a.jsxs(T.button,{onClick:()=>{const Oe=new Date(o.getFullYear(),o.getMonth(),Le.date);l(Oe),d(!0)},whileHover:{scale:1.05},whileTap:{scale:.95},className:`h-12 rounded-xl flex flex-col items-center justify-center transition-all ${Le.isToday?"bg-blue-600 text-white shadow-md":Le.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-white text-gray-700 hover:bg-gray-50 border border-gray-200"}`,style:ge?{gridColumnStart:ge}:void 0,children:[a.jsx("span",{className:"text-sm font-medium",children:Le.date}),Le.hasReport&&a.jsx(ur,{size:12,className:"mt-1"})]},Le.date)})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Score Bulan Ini"}),a.jsxs("p",{className:"text-2xl font-bold text-gray-900",children:[le().toFixed(0),"%"]})]}),a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ur,{className:"text-blue-600",size:24})})]}),a.jsx("div",{className:"mt-2 w-full bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${le()}%`}})})]}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:ue().length})]}),a.jsx("div",{className:"w-12 h-12 bg-green-100 rounded-full flex items-center justify-center",children:a.jsx(xa,{className:"text-green-600",size:24})})]})}),a.jsx(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm text-gray-500",children:"Area Bertanggung Jawab"}),a.jsxs("p",{className:"text-lg font-bold text-gray-900",children:[p.filter(Le=>Le.penanggungJawab===(e==null?void 0:e.name)).length," Area"]})]}),a.jsx("div",{className:"w-12 h-12 bg-purple-100 rounded-full flex items-center justify-center",children:a.jsx(gs,{className:"text-purple-600",size:24})})]})})]})]}),gt=()=>{Array.from(new Set(p.map(ge=>ge.department)));const Le="Produksi",qe=Array.from(new Set(f.filter(ge=>ge.department===Le).map(ge=>({nama:ge.nama,nip:ge.nip,department:ge.department})))).filter(ge=>ge.nama.toLowerCase().includes(q.toLowerCase())||ge.nip.includes(q));return V&&V.type==="karyawan"?rt(V.data):a.jsx("div",{className:"space-y-6",children:a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-900",children:["Laporan Department ",Le]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:q,onChange:ge=>B(ge.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsx("select",{value:M,onChange:ge=>H(Number(ge.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(ge,Oe)=>a.jsx("option",{value:Oe,children:new Date(2024,Oe).toLocaleDateString("id-ID",{month:"long"})},Oe))})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-blue-50 rounded-xl p-4 border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Score Department"}),a.jsxs("p",{className:"text-2xl font-bold text-blue-900",children:[je(Le,M,F).toFixed(0),"%"]})]}),a.jsxs("div",{className:"bg-green-50 rounded-xl p-4 border border-green-200",children:[a.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Total Karyawan"}),a.jsx("p",{className:"text-2xl font-bold text-green-900",children:qe.length})]}),a.jsxs("div",{className:"bg-purple-50 rounded-xl p-4 border border-purple-200",children:[a.jsx("p",{className:"text-sm text-purple-600 font-medium",children:"Karyawan Aktif"}),a.jsx("p",{className:"text-2xl font-bold text-purple-900",children:qe.filter(ge=>{const Oe=Z(new Date);return f.some(ke=>ke.nip===ge.nip&&ke.tanggal===Oe)}).length})]}),a.jsxs("div",{className:"bg-orange-50 rounded-xl p-4 border border-orange-200",children:[a.jsx("p",{className:"text-sm text-orange-600 font-medium",children:"Rata-rata Score"}),a.jsxs("p",{className:"text-2xl font-bold text-orange-900",children:[qe.length>0?(qe.reduce((ge,Oe)=>ge+pe(Oe.nip,M,F),0)/qe.length).toFixed(0):0,"%"]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:qe.map(ge=>{const Oe=pe(ge.nip,M,F),ke=f.filter(Ue=>Ue.nip===ge.nip&&new Date(Ue.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:ge.nama}),a.jsx("td",{className:"py-3 text-sm",children:ge.nip}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[Oe.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${Oe>=80?"bg-green-500":Oe>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Oe}%`}})})]})}),a.jsx("td",{className:"py-3",children:De(ge.nip)}),a.jsx("td",{className:"py-3 text-sm",children:ke.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>G({type:"karyawan",data:ge}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},ge.nip)})})]})})]})})},Rt=()=>{const Le=[2023,2024,2025],_e=p.filter(ge=>ge.penanggungJawab==="Budi Santoso"),qe=Array.from(new Set(f.filter(ge=>_e.some(Oe=>Oe.nama===ge.area)).map(ge=>({nama:ge.nama,nip:ge.nip,department:ge.department}))));return V&&V.type==="karyawan"?rt(V.data):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Score Overview Area Bertanggung Jawab"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx("select",{value:F,onChange:ge=>E(Number(ge.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Le.map(ge=>a.jsx("option",{value:ge,children:ge},ge))}),a.jsx("select",{value:M,onChange:ge=>H(Number(ge.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:Array.from({length:12},(ge,Oe)=>a.jsx("option",{value:Oe,children:new Date(2024,Oe).toLocaleDateString("id-ID",{month:"long"})},Oe))})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:_e.map(ge=>{const Oe=f.filter(Xe=>Xe.area===ge.nama&&new Date(Xe.createdAt).getMonth()===M),ke=new Date(F,M+1,0).getDate(),Ue=ke>0?Oe.length/ke*100:0;return a.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-4 hover:shadow-md transition-shadow",children:[a.jsxs("div",{className:"flex justify-between items-start mb-3",children:[a.jsx("h4",{className:"font-semibold text-gray-900",children:ge.nama}),a.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-800 rounded-full text-xs font-medium",children:ge.department})]}),a.jsxs("div",{className:"flex justify-between items-center mb-2",children:[a.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:[Math.min(Ue,100).toFixed(0),"%"]}),a.jsx("div",{className:"w-10 h-10 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(nhe,{size:20,className:"text-blue-600"})})]}),a.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:a.jsx("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:`${Math.min(Ue,100)}%`}})}),a.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[a.jsxs("span",{children:[Oe.length," laporan"]}),a.jsxs("span",{children:[Math.round(Ue),"% tercover"]})]})]},ge.id)})})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Per Karyawan"}),a.jsx("div",{className:"flex gap-3",children:a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:q,onChange:ge=>B(ge.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]})})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:qe.map(ge=>{const Oe=pe(ge.nip,M,F),ke=f.filter(Ue=>Ue.nip===ge.nip&&new Date(Ue.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:ge.nama}),a.jsx("td",{className:"py-3 text-sm",children:ge.nip}),a.jsx("td",{className:"py-3 text-sm",children:ge.department}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[Oe.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${Oe>=80?"bg-green-500":Oe>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${Oe}%`}})})]})}),a.jsx("td",{className:"py-3",children:De(ge.nip)}),a.jsx("td",{className:"py-3 text-sm",children:ke.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>G({type:"karyawan",data:ge}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},ge.nip)})})]})})]})]})},He=()=>{const Le=Array.from(new Set(p.map(qe=>qe.department))),_e=Array.from(new Set(f.map(qe=>({nama:qe.nama,nip:qe.nip,department:qe.department}))));return V&&V.type==="karyawan"?rt(V.data):a.jsxs("div",{className:"space-y-6",children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Executive Dashboard 5S"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("select",{value:I,onChange:qe=>R(qe.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Semua Department"}),Le.map(qe=>a.jsx("option",{value:qe,children:qe},qe))]}),a.jsxs("select",{value:F,onChange:qe=>E(Number(qe.target.value)),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:2023,children:"2023"}),a.jsx("option",{value:2024,children:"2024"}),a.jsx("option",{value:2025,children:"2025"})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[a.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Department"}),a.jsx("p",{className:"text-2xl font-bold",children:Le.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Active departments"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Karyawan"}),a.jsx("p",{className:"text-2xl font-bold",children:_e.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Registered employees"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Total Laporan"}),a.jsx("p",{className:"text-2xl font-bold",children:f.length}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"This year"})]}),a.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-4 text-white",children:[a.jsx("p",{className:"text-sm font-medium",children:"Rata-rata Score"}),a.jsxs("p",{className:"text-2xl font-bold",children:[Le.length>0?(Le.reduce((qe,ge)=>qe+je(ge,M,F),0)/Le.length).toFixed(0):0,"%"]}),a.jsx("p",{className:"text-xs opacity-90 mt-1",children:"Company wide"})]})]}),a.jsxs("div",{className:"mb-6",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-4",children:"Performance Department"}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Karyawan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Karyawan Aktif"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Trend"})]})}),a.jsx("tbody",{children:Le.map(qe=>{const ge=je(qe,M,F),Oe=_e.filter(Ue=>Ue.department===qe),ke=Oe.filter(Ue=>{const Xe=Z(new Date);return f.some(we=>we.nip===Ue.nip&&we.tanggal===Xe)}).length;return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:qe}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[ge.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${ge>=80?"bg-green-500":ge>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ge}%`}})})]})}),a.jsx("td",{className:"py-3 text-sm",children:Oe.length}),a.jsx("td",{className:"py-3 text-sm",children:ke}),a.jsx("td",{className:"py-3",children:a.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${ge>=80?"bg-green-100 text-green-800":ge>=60?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"}`,children:ge>=80?"↑ Excellent":ge>=60?"→ Good":"↓ Need Improvement"})})]},qe)})})]})})]})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 space-y-4 md:space-y-0",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Laporan Semua Karyawan"}),a.jsxs("div",{className:"flex gap-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(Pa,{size:16,className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Cari karyawan...",value:q,onChange:qe=>B(qe.target.value),className:"pl-10 pr-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),a.jsxs("select",{value:I,onChange:qe=>R(qe.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[a.jsx("option",{value:"",children:"Semua Department"}),Le.map(qe=>a.jsx("option",{value:qe,children:qe},qe))]})]})]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"w-full",children:[a.jsx("thead",{children:a.jsxs("tr",{className:"border-b border-gray-200",children:[a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Nama"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"NIP"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Department"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Score Bulan Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Status Hari Ini"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Total Laporan"}),a.jsx("th",{className:"text-left py-3 text-sm font-medium text-gray-500",children:"Aksi"})]})}),a.jsx("tbody",{children:_e.filter(qe=>!I||qe.department===I).filter(qe=>qe.nama.toLowerCase().includes(q.toLowerCase())||qe.nip.includes(q)).map(qe=>{const ge=pe(qe.nip,M,F),Oe=f.filter(ke=>ke.nip===qe.nip&&new Date(ke.createdAt).getMonth()===M);return a.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[a.jsx("td",{className:"py-3 text-sm font-medium",children:qe.nama}),a.jsx("td",{className:"py-3 text-sm",children:qe.nip}),a.jsx("td",{className:"py-3 text-sm",children:qe.department}),a.jsx("td",{className:"py-3",children:a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsxs("span",{className:"text-sm font-semibold",children:[ge.toFixed(0),"%"]}),a.jsx("div",{className:"w-20 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:`h-2 rounded-full ${ge>=80?"bg-green-500":ge>=60?"bg-yellow-500":"bg-red-500"}`,style:{width:`${ge}%`}})})]})}),a.jsx("td",{className:"py-3",children:De(qe.nip)}),a.jsx("td",{className:"py-3 text-sm",children:Oe.length}),a.jsx("td",{className:"py-3",children:a.jsx("button",{onClick:()=>G({type:"karyawan",data:qe}),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Lihat Detail"})})]},qe.nip)})})]})})]})]})},he=()=>{if(V)return rt(V.data);switch(O){case"karyawan":return wt();case"komite":return gt();case"penanggungjawab":return Rt();case"management":return He();default:return He()}},Qe=ie(),Ge=$e();return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Genba Action",mainTitleHighlight:"Management",description:`Laporan ${O==="karyawan"?"harian penanggung jawab area kerja":O==="komite"?"department untuk komite 5S":O==="penanggungjawab"?"overview area bertanggung jawab":"executive dashboard management"}`,icon:a.jsx(xa,{}),isMobile:s,toggleSidebar:J}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[V&&a.jsx("div",{className:"mb-4",children:a.jsxs("button",{onClick:()=>G(null),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 font-medium",children:[a.jsx(mn,{size:16}),"Kembali ke ",O==="komite"?"Komite":O==="penanggungjawab"?"PJ Area":"Management"]})}),a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",a.jsx("span",{className:"text-blue-600",children:"Action"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:O==="karyawan"?"Effortlessly track, manage, and complete your daily tasks and activities to optimize productivity.":O==="komite"?"Monitor and manage 5S activities across your department with comprehensive reporting.":O==="penanggungjawab"?"Oversee area performance and compliance with monthly score tracking.":"Executive overview of all 5S activities across departments and areas."})]}),!V&&a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 px-4 py-2",children:a.jsx("span",{className:"text-sm font-medium text-gray-700",children:(mt=ee.find(Le=>Le.id===O))==null?void 0:mt.name})}),a.jsxs("div",{className:"flex gap-2",children:[a.jsx("button",{onClick:()=>P("karyawan"),className:"px-3 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Karyawan"}),a.jsx("button",{onClick:()=>P("komite"),className:"px-3 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Komite"}),a.jsx("button",{onClick:()=>P("penanggungjawab"),className:"px-3 py-2 bg-purple-600 text-white rounded-lg text-sm hover:bg-purple-700 transition-colors",children:"PJ Area"}),a.jsx("button",{onClick:()=>P("management"),className:"px-3 py-2 bg-orange-600 text-white rounded-lg text-sm hover:bg-orange-700 transition-colors",children:"Management"})]})]})]}),he(),O==="karyawan"&&a.jsxs(a.Fragment,{children:[a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 mb-6",children:[a.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Profile Pelapor"}),a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-12 h-12 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx(ln,{className:"text-blue-600",size:20})}),a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-900",children:(e==null?void 0:e.name)||"Budi Santoso"}),a.jsxs("p",{className:"text-sm text-gray-500",children:["NIP: ",(e==null?void 0:e.nip)||"12345"]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 gap-2 text-sm",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Department:"}),a.jsx("span",{className:"font-medium",children:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Produksi"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Pengawas Area:"}),a.jsx("span",{className:"font-medium",children:(Qe==null?void 0:Qe.pengawas)||"Ahmad Wijaya"})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-gray-500",children:"Komite 5S:"}),a.jsx("span",{className:"font-medium",children:`Komite5s ${(e==null?void 0:e.department)||"Produksi"}`})]})]})]})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Map of the Path"}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-48 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gs,{size:32,className:"text-gray-400 mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Peta denah area ",(Qe==null?void 0:Qe.nama)||"Produksi Line A"]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm hover:bg-blue-700 transition-colors",children:"Lihat Denah Lengkap"})]})})]})]}),a.jsxs("div",{className:"mt-6",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"3D Area Map"}),a.jsx("div",{className:"bg-gray-100 rounded-xl p-4 h-64 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx(gs,{size:32,className:"text-gray-400 mx-auto mb-2"}),a.jsxs("p",{className:"text-gray-500 text-sm",children:["Gambar 3D area ",(Qe==null?void 0:Qe.nama)||"Produksi Line A"]}),a.jsx("button",{className:"mt-2 px-4 py-2 bg-green-600 text-white rounded-lg text-sm hover:bg-green-700 transition-colors",children:"Lihat 3D Model"})]})})]})]}),a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-4",children:"Laporan Bulanan"}),a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-6 gap-2",children:Ge.map(Le=>a.jsx("div",{className:`h-12 rounded-lg flex items-center justify-center ${Le.hasReport?"bg-green-100 text-green-800 border border-green-200":"bg-red-100 text-red-800 border border-red-200"}`,children:a.jsx("span",{className:"text-sm font-medium",children:Le.date})},Le.date))})]})]})]})]}),a.jsx(ar,{children:c&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50 p-4",children:a.jsxs(T.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"p-6 border-b border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Form Laporan Harian"}),a.jsx("button",{onClick:()=>d(!1),className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:a.jsx($t,{size:20})})]}),a.jsxs("p",{className:"text-gray-600 text-sm mt-1",children:["Tanggal: ",Z(o)]})]}),a.jsxs("div",{className:"p-6 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Nama"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.name)||"Budi Santoso",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"NIP"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.nip)||"12345",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("input",{type:"text",value:(e==null?void 0:e.department_name)||(e==null?void 0:e.department)||"Produksi",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Komite 5S"}),a.jsx("input",{type:"text",value:`Komite5s ${(e==null?void 0:e.department)||"Produksi"}`,disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tanggal *"}),a.jsx("input",{type:"text",value:Z(o),disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Area *"}),a.jsxs("select",{value:v,onChange:Le=>w(Le.target.value),className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"Pilih Area Kerja ..."}),p.map(Le=>a.jsx("option",{value:Le.id,children:Le.nama},Le.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penanggung Jawab Area"}),a.jsx("input",{type:"text",value:(Qe==null?void 0:Qe.penanggungJawab)||"",disabled:!0,className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-gray-50 text-gray-600"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Keterangan"}),a.jsx("textarea",{value:y,onChange:Le=>N(Le.target.value),rows:3,className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent resize-none",placeholder:"Tambahkan keterangan jika diperlukan..."})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Lampiran Foto * ",k.length>0&&`(${k.length} foto)`]}),k.length>0&&a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2 mb-3",children:k.map((Le,_e)=>a.jsxs("div",{className:"relative",children:[a.jsx("img",{src:Le,alt:`Lampiran ${_e+1}`,className:"w-full h-24 object-cover rounded-lg"}),a.jsx("button",{onClick:()=>se(_e),className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 transition-colors",children:a.jsx($t,{size:14})})]},_e))}),a.jsxs("div",{className:"flex gap-2",children:[a.jsxs("button",{onClick:de,className:"flex-1 py-3 bg-blue-600 text-white rounded-xl font-medium hover:bg-blue-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(S6,{size:20}),"Buka Kamera"]}),k.length>0&&a.jsxs("button",{onClick:()=>S([]),className:"px-4 py-3 bg-red-600 text-white rounded-xl font-medium hover:bg-red-700 transition-colors flex items-center justify-center gap-2",children:[a.jsx(In,{size:20}),"Hapus Semua"]})]}),a.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"* Photo Gallery Not Allowed - Hanya foto dari kamera yang diperbolehkan"})]})]}),a.jsxs("div",{className:"p-6 border-t border-gray-200 flex gap-3",children:[a.jsx("button",{onClick:()=>d(!1),className:"flex-1 py-3 bg-gray-100 text-gray-700 rounded-xl font-medium hover:bg-gray-200 transition-colors",children:"Cancel"}),a.jsxs("button",{onClick:ut,disabled:!v||k.length===0,className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-medium hover:bg-green-700 transition-colors disabled:bg-gray-300 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[a.jsx(bn,{size:20}),"Save"]})]})]})})}),a.jsx(ar,{children:A&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 bg-black flex flex-col items-center justify-center z-50",children:a.jsxs("div",{className:"relative w-full max-w-2xl",children:[a.jsx("video",{ref:z,autoPlay:!0,playsInline:!0,className:"w-full h-auto"}),a.jsxs("div",{className:"absolute bottom-6 left-1/2 transform -translate-x-1/2 flex gap-4",children:[a.jsx("button",{onClick:Se,className:"w-16 h-16 bg-white rounded-full border-4 border-gray-300 hover:border-gray-400 transition-colors"}),a.jsx("button",{onClick:te,className:"w-16 h-16 bg-red-600 text-white rounded-full flex items-center justify-center hover:bg-red-700 transition-colors",children:a.jsx($t,{size:24})})]})]})})})]})},Fae=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(ar,{children:t&&a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex justify-center items-center z-50 p-4",children:a.jsxs(T.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx($t,{size:20})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),iWe=({isOpen:t,onClose:e,area:r,onDownload:n,onShare:s})=>{const[i,o]=b.useState("");b.useEffect(()=>{r&&t&&l()},[r,t]);const l=async()=>{if(r)try{const f=await q2(()=>import("./browser-EnAwG5PT.js").then(g=>g.b),[]),m=JSON.stringify({type:"genba_area",areaId:r.id,areaName:r.nama,department:r.department,penanggungJawab:r.penanggungJawab,layoutUrl:r.layoutRuangan,timestamp:new Date().toISOString()}),p=await f.toDataURL(m,{width:300,margin:2,color:{dark:"#1E40AF",light:"#FFFFFF"}});o(p)}catch(f){console.error("Error generating QR code:",f)}},c=()=>{if(!i)return;const f=document.createElement("a");f.download=`QR_${r==null?void 0:r.nama.replace(/\s+/g,"_")}_${Date.now()}.png`,f.href=i,f.click(),n()},d=async()=>{if(i)try{if(navigator.share){const m=await(await fetch(i)).blob(),p=new File([m],`QR_${r==null?void 0:r.nama}.png`,{type:"image/png"});await navigator.share({title:`QR Code Area - ${r==null?void 0:r.nama}`,text:`QR Code untuk area ${r==null?void 0:r.nama}, Department: ${r==null?void 0:r.department}`,files:[p]}),s()}else await navigator.clipboard.writeText(`Area: ${r==null?void 0:r.nama}
Department: ${r==null?void 0:r.department}
Penanggung Jawab: ${r==null?void 0:r.penanggungJawab}`),alert("Informasi area telah disalin ke clipboard!"),s()}catch(f){console.error("Error sharing:",f),c()}};return a.jsx(Fae,{isOpen:t,onClose:e,title:"QR Code Area",maxWidth:"max-w-md",children:a.jsxs("div",{className:"text-center space-y-6",children:[a.jsx("div",{className:"bg-blue-50 rounded-2xl p-6",children:i?a.jsx("img",{src:i,alt:"QR Code",className:"w-64 h-64 mx-auto rounded-lg shadow-md"}):a.jsx("div",{className:"w-64 h-64 mx-auto flex items-center justify-center bg-gray-100 rounded-lg",children:a.jsx(YK,{className:"text-gray-400 w-16 h-16"})})}),a.jsxs("div",{className:"text-left bg-white rounded-lg p-4 border border-gray-200",children:[a.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Informasi Area"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Nama Area:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.nama})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Department:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.department})]}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Penanggung Jawab:"}),a.jsx("span",{className:"font-medium text-gray-900",children:r==null?void 0:r.penanggungJawab})]})]})]}),a.jsxs("div",{className:"flex gap-3 justify-center",children:[a.jsxs(T.button,{onClick:c,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",children:[a.jsx(_he,{size:16}),"Download QR"]}),a.jsxs(T.button,{onClick:d,whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[a.jsx(Gme,{size:16}),"Share"]})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"QR code berisi informasi lengkap area kerja untuk keperluan 5S dan maintenance"})]})})},oWe=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Delete",cancelText:o="Cancel"})=>a.jsx(Fae,{isOpen:t,onClose:e,title:n,maxWidth:"max-w-md",children:a.jsxs("div",{className:"text-center space-y-4",children:[a.jsx(Hr,{className:"text-red-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-gray-700",children:s}),a.jsxs("div",{className:"flex gap-3 justify-center pt-4",children:[a.jsx(T.button,{onClick:e,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-medium transition-colors",children:o}),a.jsx(T.button,{onClick:r,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium transition-colors",children:i})]})]})}),lWe=()=>{const t=tr(),{getWorkArea:e,deleteWorkArea:r,user:n}=sr(),[s,i]=b.useState(()=>{const je=localStorage.getItem("sidebarOpen");return je?JSON.parse(je):!1}),[o,l]=b.useState(window.innerWidth<768),[c,d]=b.useState([]),[f,m]=b.useState(!0),[p,g]=b.useState(""),[v,w]=b.useState([]),[y,N]=b.useState(!1),[k,S]=b.useState(!1),[A,_]=b.useState(null),[O,P]=b.useState(!1),[I,R]=b.useState(null),[F,E]=b.useState(1),[M]=b.useState(10),H=[{id:1,name:"Produksi"},{id:2,name:"Gudang"},{id:3,name:"Administrasi"},{id:4,name:"Engineering"},{id:5,name:"Quality"}];b.useEffect(()=>{V()},[]);const V=async()=>{try{m(!0);const ce=(await e()).map(le=>({id:le.id.toString(),nama:le.work_area,department:"Produksi",penanggungJawab:(n==null?void 0:n.name)||"Unknown",pengawas:"Supervisor",layoutRuangan:"/api/placeholder/400/300",createdAt:new Date().toISOString().split("T")[0],updatedAt:new Date().toISOString().split("T")[0]}));d(ce)}catch(je){console.error("Failed to load areas:",je)}finally{m(!1)}};b.useEffect(()=>{const je=()=>{l(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",je),()=>window.removeEventListener("resize",je)},[]);const G=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(je=>!je)},q=b.useMemo(()=>c.filter(je=>{const ce=je.nama.toLowerCase().includes(p.toLowerCase())||je.department.toLowerCase().includes(p.toLowerCase())||je.penanggungJawab.toLowerCase().includes(p.toLowerCase()),le=v.length===0||v.includes(je.department);return ce&&le}),[c,p,v]),B=F*M,z=B-M,X=q.slice(z,B),ee=Math.ceil(q.length/M),K=je=>E(je),W=async je=>{try{await r(parseInt(je)),d(ce=>ce.filter(le=>le.id!==je)),S(!1),_(null)}catch(ce){console.error("Failed to delete area:",ce)}},J=je=>{R(je),P(!0)},Z=je=>{w(ce=>ce.includes(je)?ce.filter(le=>le!==je):[...ce,je]),E(1)},ie=()=>{g(""),w([]),E(1)},ue=({title:je,value:ce,change:le,icon:pe})=>{const $e=le.startsWith("+");return a.jsxs(T.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:je}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:ce})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:pe})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${$e?"text-green-600":"text-red-600"}`,children:[le," from last month"]})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Genba Area",mainTitleHighlight:"Management",description:"Manage work areas and their configurations for 5S implementation",icon:a.jsx(gs,{}),isMobile:o,toggleSidebar:G}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Genba ",a.jsx("span",{className:"text-blue-600",children:"Area Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage and organize work areas for efficient 5S implementation and maintenance tracking."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(T.button,{onClick:()=>t("/genba/genbaarea/addgenbaarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(pa,{size:16}),a.jsx("span",{children:"Add Area"})]}),a.jsxs(T.button,{onClick:()=>N(!y),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Ki,{size:16}),a.jsx("span",{children:"Filters"}),a.jsx(T.span,{animate:{rotate:y?180:0},transition:{duration:.2},children:a.jsx(la,{size:16})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(ue,{title:"Total Areas",value:c.length.toString(),change:"+12%",icon:a.jsx(gs,{})}),a.jsx(ue,{title:"Active Departments",value:new Set(c.map(je=>je.department)).size.toString(),change:"+2",icon:a.jsx(dd,{})}),a.jsx(ue,{title:"Assigned PIC",value:new Set(c.map(je=>je.penanggungJawab)).size.toString(),change:"+5",icon:a.jsx(ga,{})}),a.jsx(ue,{title:"This Month",value:"3",change:"+1",icon:a.jsx(ur,{})})]}),a.jsxs(T.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(Pa,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by area name, department, or PIC...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:p,onChange:je=>g(je.target.value)})]})}),a.jsx(ar,{children:y&&a.jsxs(T.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Department"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:H.map(je=>a.jsx("button",{onClick:()=>Z(je.name),className:`px-3 py-1.5 rounded-lg text-sm font-medium transition-colors ${v.includes(je.name)?"bg-blue-600 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:je.name},je.id))})]}),(p||v.length>0)&&a.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-200",children:[a.jsxs("span",{className:"text-sm text-gray-600",children:[q.length," areas found"]}),a.jsx("button",{onClick:ie,className:"text-sm text-blue-600 hover:text-blue-800 font-medium",children:"Clear all filters"})]})]})})]}),f?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading areas data..."})]}):q.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(gs,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:p||v.length>0?"No areas found matching your filters.":"No areas available. Create your first area to get started."}),(p||v.length>0)&&a.jsx("button",{onClick:ie,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Area Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Penanggung Jawab"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Pengawas"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Created Date"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:X.map(je=>a.jsxs(T.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:je.nama})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:je.department})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-900",children:je.penanggungJawab})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-900",children:je.pengawas})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-500",children:je.createdAt})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>t(`/genba/genbaarea/editgenbaarea/${je.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx($a,{size:16})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>J(je),className:"text-purple-600 hover:text-purple-800 transition-colors duration-200 p-1 rounded-full hover:bg-purple-50",title:"QR Code",children:a.jsx(YK,{size:16})}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{_(je.id),S(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(In,{size:16})})]})]},je.id))})]})})}),q.length>M&&a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:z+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(B,q.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:q.length})," areas"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(F-1),disabled:F===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Previous"}),Array.from({length:ee},(je,ce)=>a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(ce+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${F===ce+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,children:ce+1},ce+1)),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>K(F+1),disabled:F===ee,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm",children:"Next"})]})]})]})]}),a.jsx(iWe,{isOpen:O,onClose:()=>P(!1),area:I,onDownload:()=>console.log("QR Downloaded"),onShare:()=>console.log("QR Shared")}),a.jsx(oWe,{isOpen:k,onClose:()=>S(!1),onConfirm:()=>A&&W(A),title:"Delete Area",message:"Are you sure you want to delete this area? This action cannot be undone."})]})},cWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,dWe=()=>{const t=tr(),{addWorkArea:e,user:r,getUsers:n,getDepartment:s}=sr(),[i,o]=b.useState(()=>{const G=localStorage.getItem("sidebarOpen");return G?JSON.parse(G):!1}),[l,c]=b.useState(window.innerWidth<768),[d,f]=b.useState(!1),[m,p]=b.useState([]),[g,v]=b.useState(null),[w,y]=b.useState(null),[N,k]=b.useState(!1),[S,A]=b.useState([]),[_,O]=b.useState({work_area:"",department:"",penanggungJawab:"",layoutRuangan:null});b.useEffect(()=>{P(),I()},[]);const P=async()=>{try{const G=await s();p(G)}catch(G){console.error("Failed to load departments:",G)}},I=async()=>{try{const G=await n();A(G)}catch(G){console.error("Failed to load users:",G)}},R=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!i)),o(G=>!G)},F=b.useCallback((G,q)=>{var B;if(G&&typeof G=="object"&&"value"in G&&q)O(z=>({...z,[q]:G.value}));else if(G&&"target"in G){const{name:z,value:X,type:ee}=G.target;if(ee==="file"){const W=((B=G.target.files)==null?void 0:B[0])||null;O(J=>({...J,[z]:W}))}else O(K=>({...K,[z]:X}))}},[]),E=async G=>{if(G.preventDefault(),f(!0),v(null),y(null),!_.work_area||!_.department||!_.penanggungJawab){v("Please fill in all required fields"),f(!1);return}try{await e({work_area:_.work_area}),y("Area berhasil dibuat!"),k(!0),M()}catch(q){v(q.message||"Gagal membuat area. Silakan coba lagi."),console.error("Submission error:",q)}finally{f(!1)}},M=b.useCallback(()=>{O({work_area:"",department:"",penanggungJawab:"",layoutRuangan:null}),v(null),y(null)},[]),H=b.useCallback(()=>{k(!1),t("/genba/genbaarea")},[t]),V={control:(G,q)=>({...G,minHeight:"42px",borderColor:q.isFocused?"#3B82F6":"#D1D5DB",boxShadow:q.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:G=>({...G,padding:"0"}),singleValue:G=>({...G,color:"#374151"}),placeholder:G=>({...G,color:"#6B7280"}),dropdownIndicator:G=>({...G,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:G=>({...G,display:"none"}),menu:G=>({...G,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(G,q)=>({...G,backgroundColor:q.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Add Genba Area",mainTitleHighlight:"Genba Area",description:"Create new work area for 5S implementation",icon:a.jsx(gs,{}),isMobile:l,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Genba Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Define a new work area for 5S implementation and maintenance"})]}),a.jsxs(T.button,{onClick:()=>t("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{size:16})," Back to Areas"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dd,{className:"mr-2 text-blue-500"})," Department Information"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"department",id:"department",options:m.map(G=>({value:G.name,label:G.name})),value:m.map(G=>({value:G.name,label:G.name})).find(G=>G.value===_.department),onChange:G=>F(G,"department"),placeholder:"Select Department",styles:V,required:!0})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(gs,{className:"mr-2 text-green-500"})," Area Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:F,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"penanggungJawab",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"penanggungJawab",id:"penanggungJawab",options:S.map(G=>({value:G.id,label:G.name})),value:S.map(G=>({value:G.id,label:G.name})).find(G=>G.value===_.penanggungJawab),onChange:G=>F(G,"penanggungJawab"),placeholder:"Select Penanggung Jawab",styles:V,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ni,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"layoutRuangan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Layout Ruangan"}),a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{htmlFor:"layoutRuangan",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(ni,{className:"w-8 h-8 mb-3 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF (MAX. 10MB)"})]}),a.jsx("input",{id:"layoutRuangan",name:"layoutRuangan",type:"file",className:"hidden",accept:".png,.jpg,.jpeg,.pdf",onChange:F})]})}),_.layoutRuangan&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[a.jsx(ur,{className:"w-4 h-4 mr-2"}),"File selected: ",_.layoutRuangan.name]})})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:M,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Create Area"]})})]})]})]})]})]}),a.jsx(cWe,{isOpen:N,onClose:H,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been created successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},uWe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(T.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(T.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx($t,{size:24})})]}),a.jsx("div",{children:n})]})}):null,fWe=()=>{const{id:t}=si(),e=tr(),{getWorkAreaById:r,updateWorkArea:n,user:s,getUsers:i,getDepartment:o}=sr(),[l,c]=b.useState([]),[d,f]=b.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),[m,p]=b.useState(window.innerWidth<768),[g,v]=b.useState(!1),[w,y]=b.useState(!1),[N,k]=b.useState(null),[S,A]=b.useState(null),[_,O]=b.useState(!1),[P,I]=b.useState([]),[R,F]=b.useState({work_area:"",department:"",penanggungJawab:"",layoutRuangan:null,existingLayout:""}),E=async()=>{try{const ee=await o();c(ee)}catch(ee){console.error("Failed to load departments:",ee)}};b.useEffect(()=>{M(),H(),E()},[t]);const M=async()=>{var ee;if(t){v(!0);try{const K=await r(parseInt(t));F({work_area:K.work_area,department:"Produksi",penanggungJawab:((ee=s==null?void 0:s.id)==null?void 0:ee.toString())||"",layoutRuangan:null,existingLayout:"/api/placeholder/400/300"})}catch{k("Area not found")}finally{v(!1)}}},H=async()=>{try{const ee=await i();I(ee)}catch(ee){console.error("Failed to load users:",ee)}},V=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!d)),f(ee=>!ee)},G=b.useCallback((ee,K)=>{var W;if(ee&&typeof ee=="object"&&"value"in ee&&K)F(J=>({...J,[K]:ee.value}));else if(ee&&"target"in ee){const{name:J,value:Z}=ee.target;if(J==="layoutRuangan"){const ue=((W=ee.target.files)==null?void 0:W[0])||null;F(je=>({...je,layoutRuangan:ue}))}else F(ie=>({...ie,[J]:Z}))}},[]),q=async ee=>{if(ee.preventDefault(),!!t){if(y(!0),k(null),A(null),!R.work_area||!R.department||!R.penanggungJawab){k("Please fill in all required fields"),y(!1);return}try{await n(parseInt(t),{work_area:R.work_area}),A("Area berhasil diperbarui!"),O(!0)}catch(K){k(K.message||"Gagal memperbarui area. Silakan coba lagi."),console.error("Submission error:",K)}finally{y(!1)}}},B=b.useCallback(()=>{t&&(M(),k(null),A(null))},[t]),z=b.useCallback(()=>{O(!1),e("/genba/genbaarea")},[e]),X={control:(ee,K)=>({...ee,minHeight:"42px",borderColor:K.isFocused?"#3B82F6":"#D1D5DB",boxShadow:K.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ee=>({...ee,padding:"0"}),singleValue:ee=>({...ee,color:"#374151"}),placeholder:ee=>({...ee,color:"#6B7280"}),dropdownIndicator:ee=>({...ee,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ee=>({...ee,display:"none"}),menu:ee=>({...ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ee,K)=>({...ee,backgroundColor:K.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return g?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(fn,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Area Data... Please wait."})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Edit Genba Area",mainTitleHighlight:"Genba Area",description:"Update work area configuration for 5S implementation",icon:a.jsx(gs,{}),isMobile:m,toggleSidebar:V}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Genba Area ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update work area configuration and details"})]}),a.jsxs(T.button,{onClick:()=>e("/genba/genbaarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(mn,{size:16})," Back to Areas"]})]}),a.jsxs(T.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(T.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx($t,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>k(null)})})]}),a.jsxs("form",{onSubmit:q,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(dd,{className:"mr-2 text-blue-500"})," Department Information"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"department_id",id:"department_id",options:l.map(ee=>({value:ee.name,label:ee.name})),value:l.map(ee=>({value:ee.id.toString(),label:ee.name})).find(ee=>ee.value===R.department),onChange:ee=>G(ee,"department"),placeholder:"Select Department",styles:X,required:!0})]})})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(gs,{className:"mr-2 text-green-500"})," Area Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Nama Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:R.work_area,onChange:G,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Area Produksi Line A",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"penanggungJawab",className:"block text-sm font-medium text-gray-700 mb-1",children:["Penanggung Jawab Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tn,{name:"penanggungJawab",id:"penanggungJawab",options:P.map(ee=>({value:ee.id,label:ee.name})),value:P.map(ee=>({value:ee.id,label:ee.name})).find(ee=>ee.value===R.penanggungJawab),onChange:ee=>G(ee,"penanggungJawab"),placeholder:"Select Penanggung Jawab",styles:X,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(ni,{className:"mr-2 text-purple-500"})," Layout Ruangan"]}),a.jsx("div",{className:"grid grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsx("label",{htmlFor:"layoutRuangan",className:"block text-sm font-medium text-gray-700 mb-1",children:"Upload Layout Ruangan"}),R.existingLayout&&!R.layoutRuangan&&a.jsxs("div",{className:"mb-4 p-4 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("p",{className:"text-sm text-blue-800 mb-2",children:"Current layout:"}),a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:R.existingLayout,alt:"Current layout",className:"w-20 h-20 object-cover rounded-lg border border-gray-200"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Existing Layout"}),a.jsx("p",{className:"text-xs text-gray-600",children:"Click upload to replace current layout"})]})]})]}),a.jsx("div",{className:"flex items-center justify-center w-full",children:a.jsxs("label",{htmlFor:"layoutRuangan",className:"flex flex-col items-center justify-center w-full h-32 border-2 border-gray-300 border-dashed rounded-lg cursor-pointer bg-gray-50 hover:bg-gray-100 transition-colors",children:[a.jsxs("div",{className:"flex flex-col items-center justify-center pt-5 pb-6",children:[a.jsx(ni,{className:"w-8 h-8 mb-3 text-gray-400"}),a.jsxs("p",{className:"mb-2 text-sm text-gray-500",children:[a.jsx("span",{className:"font-semibold",children:"Click to upload"})," or drag and drop"]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, PDF (MAX. 10MB)"})]}),a.jsx("input",{id:"layoutRuangan",name:"layoutRuangan",type:"file",className:"hidden",accept:".png,.jpg,.jpeg,.pdf",onChange:G})]})}),R.layoutRuangan&&a.jsx("div",{className:"mt-3 p-3 bg-green-50 rounded-lg border border-green-200",children:a.jsxs("p",{className:"text-sm text-green-800 flex items-center",children:[a.jsx(ur,{className:"w-4 h-4 mr-2"}),"New file selected: ",R.layoutRuangan.name]})})]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(T.button,{type:"button",onClick:B,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(In,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(T.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(fn,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bn,{className:"mr-2 h-5 w-5"})," Update Area"]})})]})]})]})]})]}),a.jsx(uWe,{isOpen:_,onClose:z,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(ur,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Genba area has been updated successfully!"}),a.jsx(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:z,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Genba Areas"})]})})]})},hWe=()=>{const t=tr(),{id:e}=si(),{getGenbaSOById:r,updateGenbaSO:n,getGenbaRoles:s,getUsers:i,getDepartment:o}=sr(),[l,c]=b.useState(window.innerWidth<768),[d,f]=b.useState(()=>{const ce=localStorage.getItem("sidebarOpen");return JSON.parse(ce||"false")}),m=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!d)),f(ce=>!ce)},[p,g]=b.useState(null),[v,w]=b.useState([]),[y,N]=b.useState([]),[k,S]=b.useState([]),[A,_]=b.useState({effective_date:new Date().toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]}),[O,P]=b.useState(!1),[I,R]=b.useState("");b.useEffect(()=>{const ce=()=>c(window.innerWidth<768);return window.addEventListener("resize",ce),()=>window.removeEventListener("resize",ce)},[]),b.useEffect(()=>{e&&(F(),E())},[e]);const F=async()=>{if(!e){R("Template ID is missing");return}try{P(!0);const ce=await r(e);console.log("Template data loaded:",ce),g(ce),ce.bridges&&ce.bridges.length>0&&await M(ce.bridges)}catch(ce){R("Failed to load template"),console.error("Error loading template:",ce)}finally{P(!1)}},E=async()=>{try{const[ce,le,pe]=await Promise.all([i(),o(),s()]);w(ce),N(le),S(pe)}catch(ce){console.error("Error loading master data:",ce),R("Failed to load master data")}},M=ce=>{const le={effective_date:p!=null&&p.effective_date?p.effective_date.split("T")[0]:new Date().toISOString().split("T")[0],penanggung_jawab:"",koordinators:[],department_koordinators:[],department_komites:[]};console.log("Parsing bridges:",ce),ce.forEach(pe=>{var te,se,ut,dt,De,rt;const $e=pe.user,de=pe.role.id,Se=pe.role.name.toLowerCase();switch(console.log(`Processing: Role ${de} (${Se}) - User: ${$e.name}`),de){case 1:le.penanggung_jawab=$e.name,le.penanggung_jawab_id=$e.id,le.penanggung_jawab_department=((te=$e.department)==null?void 0:te.name)||"",console.log(`✓ Set as Penanggung Jawab: ${$e.name}`);break;case 2:le.koordinators.push({id:pe.id,name:$e.name,user_id:$e.id,department:((se=$e.department)==null?void 0:se.name)||""}),console.log(`✓ Added as Koordinator 5S: ${$e.name}`);break;case 3:le.department_koordinators.push({id:pe.id,department:((ut=$e.department)==null?void 0:ut.name)||"",department_id:(dt=$e.department)==null?void 0:dt.id,personnel:$e.name,personnel_id:$e.id}),console.log(`✓ Added as Koordinator 5S Department: ${$e.name}`);break;case 4:le.department_komites.push({id:pe.id,department:((De=$e.department)==null?void 0:De.name)||"",department_id:(rt=$e.department)==null?void 0:rt.id,personnel:$e.name,personnel_id:$e.id}),console.log(`✓ Added as Komite 5S Department: ${$e.name}`);break;default:console.warn(`Unknown role ID: ${de} for user: ${$e.name}`)}}),console.log("Final parsed form data:",le),_(le)},H=ce=>{_(le=>({...le,effective_date:ce}))},V=ce=>{const le=v.find(pe=>pe.id===ce.toString());le&&_(pe=>{var $e;return{...pe,penanggung_jawab:le.name,penanggung_jawab_id:ce,penanggung_jawab_department:(($e=le.department)==null?void 0:$e.name)||""}})},G=()=>{_(ce=>({...ce,koordinators:[...ce.koordinators,{id:Date.now()+Math.random(),name:""}]}))},q=ce=>{_(le=>({...le,koordinators:le.koordinators.filter((pe,$e)=>$e!==ce)}))},B=(ce,le)=>{const pe=v.find($e=>$e.id===le.toString());pe&&_($e=>({...$e,koordinators:$e.koordinators.map((de,Se)=>{var te;return Se===ce?{...de,name:pe.name,user_id:le,department:((te=pe.department)==null?void 0:te.name)||""}:de})}))},z=()=>{_(ce=>({...ce,department_koordinators:[...ce.department_koordinators,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},X=ce=>{_(le=>({...le,department_koordinators:le.department_koordinators.filter((pe,$e)=>$e!==ce)}))},ee=(ce,le,pe)=>{_($e=>({...$e,department_koordinators:$e.department_koordinators.map((de,Se)=>{if(Se===ce){if(le==="department"){const te=y.find(se=>se.id===pe||se.name===pe);return{...de,department:(te==null?void 0:te.name)||pe,department_id:te==null?void 0:te.id,personnel:"",personnel_id:void 0}}else if(le==="personnel"){const te=v.find(se=>se.id===pe.toString());return{...de,personnel:(te==null?void 0:te.name)||"",personnel_id:typeof pe=="number"?pe:parseInt(pe)}}}return de})}))},K=()=>{_(ce=>({...ce,department_komites:[...ce.department_komites,{id:Date.now()+Math.random(),department:"",personnel:""}]}))},W=ce=>{_(le=>({...le,department_komites:le.department_komites.filter((pe,$e)=>$e!==ce)}))},J=(ce,le,pe)=>{_($e=>({...$e,department_komites:$e.department_komites.map((de,Se)=>{if(Se===ce){if(le==="department"){const te=y.find(se=>se.id===pe||se.name===pe);return{...de,department:(te==null?void 0:te.name)||pe,department_id:te==null?void 0:te.id,personnel:"",personnel_id:void 0}}else if(le==="personnel"){const te=v.find(se=>se.id===pe.toString());return{...de,personnel:(te==null?void 0:te.name)||"",personnel_id:typeof pe=="number"?pe:parseInt(pe)}}}return de})}))},Z=(ce,le)=>{const pe=new Set;ce!=="penanggung_jawab"&&A.penanggung_jawab_id&&pe.add(A.penanggung_jawab_id),ce!=="koordinator"&&A.koordinators.forEach(de=>{de.user_id&&pe.add(de.user_id)}),ce!=="dept_coordinator"&&A.department_koordinators.forEach(de=>{de.personnel_id&&pe.add(de.personnel_id)}),ce!=="dept_komite"&&A.department_komites.forEach(de=>{de.personnel_id&&pe.add(de.personnel_id)});let $e=v.filter(de=>!pe.has(parseInt(de.id)));return le&&($e=$e.filter(de=>{var Se;return((Se=de.department)==null?void 0:Se.name)===le||de.department_name===le})),$e},ie=()=>{if(!A.effective_date)return R("Effective Date is required"),!1;if(!A.penanggung_jawab)return R("Penanggung Jawab 5S is required"),!1;if(A.koordinators.length<3)return R("Minimum 3 Koordinator 5S required"),!1;const ce=new Set;A.penanggung_jawab_id&&ce.add(A.penanggung_jawab_id);for(const le of A.koordinators){if(le.user_id){if(ce.has(le.user_id))return R(`User sudah dipilih di role lain: ${le.name}`),!1;ce.add(le.user_id)}if(!le.name)return R("All Koordinator 5S must be assigned"),!1}for(const le of A.department_koordinators){if(le.personnel_id){if(ce.has(le.personnel_id))return R(`User sudah dipilih di role lain: ${le.personnel}`),!1;ce.add(le.personnel_id)}if(!le.department||!le.personnel)return R("All Department Coordinators must have department and personnel assigned"),!1}for(const le of A.department_komites){if(le.personnel_id){if(ce.has(le.personnel_id))return R(`User sudah dipilih di role lain: ${le.personnel}`),!1;ce.add(le.personnel_id)}if(!le.department||!le.personnel)return R("All Department Komites must have department and personnel assigned"),!1}return!0},ue=async()=>{if(!(!p||!ie()))try{P(!0),R("");const ce=[];A.penanggung_jawab_id&&ce.push({genba_role_id:1,user_ids:[A.penanggung_jawab_id]});const le=A.koordinators.map(Se=>Se.user_id).filter(Boolean);le.length>0&&ce.push({genba_role_id:2,user_ids:le});const pe=A.department_koordinators.map(Se=>Se.personnel_id).filter(Boolean);pe.length>0&&ce.push({genba_role_id:3,user_ids:pe});const $e=A.department_komites.map(Se=>Se.personnel_id).filter(Boolean);$e.length>0&&ce.push({genba_role_id:4,user_ids:$e});const de={effective_date:A.effective_date,bridges:ce};console.log("🔄 Saving template with payload:",de),await n(p.id,de),alert(`✅ Structure Organization template "${p.name}" has been successfully saved!`),t("/genba/soconfiguration")}catch(ce){console.error("❌ Error saving template:",ce),R(ce instanceof Error?ce.message:"Failed to save template")}finally{P(!1)}},je=()=>{t("/genba/soconfiguration")};return O&&!p?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(lm,{className:"animate-spin text-blue-600",size:32})})]}):p?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(lr,{mainTitle:"Structure Organization",mainTitleHighlight:"Configuration",description:"Manage structure organization templates and configurations within the system.",icon:a.jsx(ga,{}),isMobile:l,toggleSidebar:m}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(T.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(ga,{className:"mr-2 text-gray-700",size:24}),"Configure Template: ",a.jsx("span",{className:"text-blue-600 ml-2",children:p==null?void 0:p.name})]}),a.jsxs(T.button,{onClick:je,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:O,children:[a.jsx(mn,{className:"mr-2",size:18})," Back to Templates"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Assign roles and personnel for this structure organization template."}),I&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:I}),a.jsxs("div",{className:"space-y-6",children:[a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"General Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Effective Date *"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:"date",value:A.effective_date,onChange:ce=>H(ce.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(xa,{className:"absolute right-3 top-3 text-gray-400",size:16})]})]})})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Penanggung Jawab 5S"}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Penanggung Jawab 5S *"}),a.jsxs("select",{value:A.penanggung_jawab_id||"",onChange:ce=>V(parseInt(ce.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"",children:"Select Penanggung Jawab"}),Z("penanggung_jawab").map(ce=>a.jsxs("option",{value:ce.id,children:[ce.name," ",ce.department_name?`(${ce.department_name})`:""]},ce.id))]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S"}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:G,className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:O,children:[a.jsx(pa,{size:14,className:"mr-1"})," Add Coordinator"]})]}),a.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Koordinator 5S (Minimal 3)"}),a.jsx("div",{className:"space-y-3",children:A.koordinators.map((ce,le)=>a.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-6",children:[le+1,"."]}),a.jsx("div",{className:"flex-1",children:a.jsxs("select",{value:ce.user_id||"",onChange:pe=>B(le,parseInt(pe.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"",children:"Select Coordinator"}),Z("koordinator").map(pe=>a.jsxs("option",{value:pe.id,children:[pe.name," ",pe.department_name?`(${pe.department_name})`:""]},pe.id))]})}),A.koordinators.length>3&&a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(le),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:O,children:a.jsx(In,{size:16})})]},ce.id))})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Koordinator 5S Department"}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:z,className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:O,children:[a.jsx(pa,{size:14,className:"mr-1"})," Add Department"]})]}),a.jsxs("div",{className:"space-y-4",children:[A.department_koordinators.map((ce,le)=>a.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",le+1]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>X(le),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:O,children:a.jsx(In,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),a.jsxs("select",{value:ce.department,onChange:pe=>ee(le,"department",pe.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"",children:"Select Department"}),y.map(pe=>a.jsx("option",{value:pe.name,children:pe.name},pe.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),a.jsxs("select",{value:ce.personnel_id||"",onChange:pe=>ee(le,"personnel",parseInt(pe.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!ce.department,children:[a.jsx("option",{value:"",children:"Select Personnel"}),ce.department?Z("dept_coordinator",ce.department).map(pe=>a.jsx("option",{value:pe.id,children:pe.name},pe.id)):a.jsx("option",{value:"",children:"Select department first"})]})]})]})]},ce.id)),A.department_koordinators.length===0&&a.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[a.jsx(ga,{size:32,className:"mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm",children:"No department coordinators assigned yet."}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign coordinators for specific departments.'})]})]})]}),a.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Komite 5S Department"}),a.jsxs(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:"px-3 py-1.5 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold text-xs flex items-center",disabled:O,children:[a.jsx(pa,{size:14,className:"mr-1"})," Add Department"]})]}),a.jsxs("div",{className:"space-y-4",children:[A.department_komites.map((ce,le)=>a.jsxs("div",{className:"p-4 bg-white rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex justify-between items-center mb-3",children:[a.jsxs("h4",{className:"font-medium text-gray-800",children:["Department ",le+1]}),a.jsx(T.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>W(le),className:"text-red-600 hover:text-red-800 transition-colors p-1",disabled:O,children:a.jsx(In,{size:16})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),a.jsxs("select",{value:ce.department,onChange:pe=>J(le,"department",pe.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"",children:"Select Department"}),y.map(pe=>a.jsx("option",{value:pe.name,children:pe.name},pe.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Personnel *"}),a.jsxs("select",{value:ce.personnel_id||"",onChange:pe=>J(le,"personnel",parseInt(pe.target.value)),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!ce.department,children:[a.jsx("option",{value:"",children:"Select Personnel"}),ce.department?Z("dept_komite",ce.department).map(pe=>a.jsx("option",{value:pe.id,children:pe.name},pe.id)):a.jsx("option",{value:"",children:"Select department first"})]})]})]})]},ce.id)),A.department_komites.length===0&&a.jsxs("div",{className:"text-center text-gray-500 py-6 border-2 border-dashed border-gray-300 rounded-lg bg-white",children:[a.jsx(ga,{size:32,className:"mx-auto text-gray-400 mb-2"}),a.jsx("p",{className:"text-sm",children:"No department committees assigned yet."}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:'Click "Add Department" to assign committees for specific departments.'})]})]})]})]}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-200",children:[a.jsx(T.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:je,className:"px-5 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-100 transition-colors font-semibold text-sm",disabled:O,children:"Cancel"}),a.jsxs(T.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ue,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:O,children:[O?a.jsx(lm,{className:"animate-spin mr-2",size:16}):a.jsx(bn,{size:18,className:"mr-2"}),"Save Template"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(er,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:je,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})};function mWe(){return a.jsx(a.Fragment,{children:a.jsxs(Xie,{children:[a.jsx(Wt,{path:"/login",element:a.jsx(Woe,{})}),a.jsx(Wt,{path:"/forgot-password",element:a.jsx(vpe,{})}),a.jsx(Wt,{path:"/privacy-policy",element:a.jsx(wpe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(oV,{})}),a.jsx(Wt,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:a.jsx(BUe,{})}),a.jsx(Wt,{path:"dummy",element:a.jsx(aWe,{})}),a.jsxs(Wt,{element:a.jsx(so,{}),children:[a.jsx(Wt,{index:!0,element:a.jsx(dI,{})})," ",a.jsx(Wt,{path:"/dashboard",element:a.jsx(dI,{})})]}),a.jsx(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:a.jsx(Wt,{path:"/audittrail",element:a.jsx(I$e,{})})}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/genba",element:a.jsx(tWe,{})}),a.jsx(Wt,{path:"/genba/soconfiguration",element:a.jsx(rWe,{})}),a.jsx(Wt,{path:"/genba/soconfiguration/configure/:id",element:a.jsx(hWe,{})}),a.jsx(Wt,{path:"/genba/genbaaction",element:a.jsx(sWe,{})}),a.jsx(Wt,{path:"/genba/genbaarea",element:a.jsx(lWe,{})}),a.jsx(Wt,{path:"/genba/genbaarea/addgenbaarea",element:a.jsx(dWe,{})}),a.jsx(Wt,{path:"/genba/genbaarea/editgenbaarea/:id",element:a.jsx(fWe,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/workflowapproval",element:a.jsx(F$e,{})}),a.jsx(Wt,{path:"/workflowapproval/monitoringapproval",element:a.jsx($$e,{})}),a.jsx(Wt,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:a.jsx(zUe,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/worklocation",element:a.jsx(B_e,{})}),a.jsx(Wt,{path:"/worklocation/department",element:a.jsx(Q$e,{})}),a.jsx(Wt,{path:"/worklocation/department/adddepartment",element:a.jsx(eHe,{})}),a.jsx(Wt,{path:"/worklocation/department/editdepartment/:id",element:a.jsx(rHe,{})}),a.jsx(Wt,{path:"/worklocation/workunit",element:a.jsx(zHe,{})}),a.jsx(Wt,{path:"/worklocation/workunit/addworkunit",element:a.jsx(FHe,{})}),a.jsx(Wt,{path:"/worklocation/workunit/editworkunit/:id",element:a.jsx(HHe,{})}),a.jsx(Wt,{path:"/worklocation/workgroup",element:a.jsx(hV,{})}),a.jsx(Wt,{path:"/worklocation/workgroup/addworkgroup",element:a.jsx(uV,{})}),a.jsx(Wt,{path:"/worklocation/workgroup/editworkgroup/:id",element:a.jsx(dV,{})}),a.jsx(Wt,{path:"/worklocation/workarea",element:a.jsx(JUe,{})}),a.jsx(Wt,{path:"/worklocation/workarea/addworkarea",element:a.jsx(GUe,{})}),a.jsx(Wt,{path:"/worklocation/workarea/editworkarea/:id",element:a.jsx(WUe,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/workarrangement",element:a.jsx(z_e,{})}),a.jsx(Wt,{path:"/workarrangement/workshift",element:a.jsx(XHe,{})}),a.jsx(Wt,{path:"/workarrangement/workshift/addworkshift",element:a.jsx(KHe,{})}),a.jsx(Wt,{path:"/workarrangement/workshift/editworkshift/:id",element:a.jsx(GHe,{})}),a.jsx(Wt,{path:"/workarrangement/workgroup",element:a.jsx(hV,{})}),a.jsx(Wt,{path:"/workarrangement/workgroup/addworkgroup",element:a.jsx(uV,{})}),a.jsx(Wt,{path:"/workarrangement/workgroup/editworkgroup/:id",element:a.jsx(dV,{})})]}),a.jsx(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:a.jsx(Wt,{path:"/sparepart",element:a.jsx(q_e,{})})}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/assets",element:a.jsx(U_e,{})}),a.jsx(Wt,{path:"/assets/assetsdata",element:a.jsx(Cpe,{})}),a.jsx(Wt,{path:"/assets/assetsdata/addasset",element:a.jsx(QUe,{})}),a.jsx(Wt,{path:"/assets/assetsdata/editasset/:id",element:a.jsx(eWe,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/vendors",element:a.jsx(EUe,{})}),a.jsx(Wt,{path:"/vendors/addvendor",element:a.jsx(PUe,{})}),a.jsx(Wt,{path:"/vendors/editvendor/:id",element:a.jsx(RUe,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/services",element:a.jsx(W_e,{})}),a.jsx(Wt,{path:"/services/servicegroups",element:a.jsx(H$e,{})}),a.jsx(Wt,{path:"/services/servicegroups/addservicegroup",element:a.jsx(U$e,{})}),a.jsx(Wt,{path:"/services/servicegroups/editservicegroup/:id",element:a.jsx(V$e,{})}),a.jsx(Wt,{path:"/services/servicecatalogues",element:a.jsx(z$e,{})}),a.jsx(Wt,{path:"/services/servicecatalogues/addservicecatalogue",element:a.jsx(J$e,{})}),a.jsx(Wt,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:a.jsx(Y$e,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/maintenanceactivity",element:a.jsx(V_e,{})}),a.jsx(Wt,{path:"/maintenanceactivity/stoptimes",element:a.jsx(sHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/stoptimes/addstoptime",element:a.jsx(oHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:a.jsx(cHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activitytypes",element:a.jsx(fHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(oV,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:a.jsx(pHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activity",element:a.jsx(EHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activity/addactivity",element:a.jsx(THe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/activity/editactivity/:id",element:a.jsx(_He,{})}),a.jsx(Wt,{path:"/maintenanceactivity/troubleitem",element:a.jsx(LHe,{})}),a.jsx(Wt,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:a.jsx(lV,{})}),a.jsx(Wt,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:a.jsx(lV,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_machinehistory"]}),children:[a.jsx(Wt,{path:"/machinehistory",element:a.jsx(Lye,{})}),a.jsx(Wt,{path:"/machinehistory/reports",element:a.jsx(L$e,{})}),a.jsx(Wt,{path:"/machinehistory/addmachinehistory",element:a.jsx(j_e,{})}),a.jsx(Wt,{path:"/machinehistory/edit/:id",element:a.jsx(S_e,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_assets"]}),children:[a.jsx(Wt,{path:"/monitoringmaintenance",element:a.jsx(RG,{})}),a.jsx(Wt,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:a.jsx($Ue,{})}),a.jsx(Wt,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:a.jsx(ZHe,{})}),a.jsx(Wt,{path:"/monitoringmaintenance",element:a.jsx(RG,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_workorders"]}),children:[a.jsx(Wt,{path:"/workorders",element:a.jsx(H_e,{})}),a.jsx(Wt,{path:"/workorders/it",element:a.jsx(bHe,{})}),a.jsx(Wt,{path:"/workorders/it/addworkorder",element:a.jsx($_e,{})}),a.jsx(Wt,{path:"/workorders/it/editworkorder/:id",element:a.jsx(vHe,{})}),a.jsx(Wt,{path:"/workorders/it/receiver",element:a.jsx(E_e,{})}),a.jsx(Wt,{path:"/workorders/it/receiver/editreceiver/:id",element:a.jsx(jHe,{})}),a.jsx(Wt,{path:"/workorders/it/assignment",element:a.jsx(NHe,{})}),a.jsx(Wt,{path:"/workorders/it/assignment/editassignment/:id",element:a.jsx(kHe,{})}),a.jsx(Wt,{path:"/workorders/it/reports",element:a.jsx(SUe,{})}),a.jsx(Wt,{path:"/workorders/it/knowledgebase",element:a.jsx(P_e,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_settings"]}),children:[a.jsx(Wt,{path:"/settings",element:a.jsx(_pe,{})}),a.jsx(Wt,{path:"/settings/change-password",element:a.jsx(C_e,{})})]}),a.jsxs(Wt,{element:a.jsx(so,{requiredPermissions:["view_permissions"]}),children:[a.jsx(Wt,{path:"/permissions",element:a.jsx(k_e,{})}),a.jsx(Wt,{path:"/permissions/adduser",element:a.jsx(T_e,{})})]}),a.jsx(Wt,{path:"/logout",element:a.jsx(Npe,{})}),a.jsx(Wt,{path:"*",element:a.jsx(qUe,{})})]})})}const pWe=aie.createRoot(document.getElementById("root"));pWe.render(a.jsx(be.StrictMode,{children:a.jsx(voe,{children:a.jsx(Ooe,{children:a.jsx(mWe,{})})})}));export{ay as _,cw as c,Yn as g};
