var kee=Object.defineProperty;var Cee=(t,e,r)=>e in t?kee(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var Ot=(t,e,r)=>Cee(t,typeof e!="symbol"?e+"":e,r);import{g as Tee}from"./projectEnvVariables-Dc7Ax8fr.js";function _ee(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const s in n)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(n,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>n[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=r(s);fetch(s.href,i)}})();var Lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pr(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var KS={exports:{}},Im={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W3;function Mee(){if(W3)return Im;W3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,s,i){var o=null;if(i!==void 0&&(o=""+i),s.key!==void 0&&(o=""+s.key),"key"in s){i={};for(var l in s)l!=="key"&&(i[l]=s[l])}else i=s;return s=i.ref,{$$typeof:t,type:n,key:o,ref:s!==void 0?s:null,props:i}}return Im.Fragment=e,Im.jsx=r,Im.jsxs=r,Im}var U3;function Aee(){return U3||(U3=1,KS.exports=Mee()),KS.exports}var a=Aee(),XS={exports:{}},er={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G3;function Oee(){if(G3)return er;G3=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),l=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function y(W){return W===null||typeof W!="object"?null:(W=g&&W[g]||W["@@iterator"],typeof W=="function"?W:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,v={};function N(W,Z,oe){this.props=W,this.context=Z,this.refs=v,this.updater=oe||w}N.prototype.isReactComponent={},N.prototype.setState=function(W,Z){if(typeof W!="object"&&typeof W!="function"&&W!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,W,Z,"setState")},N.prototype.forceUpdate=function(W){this.updater.enqueueForceUpdate(this,W,"forceUpdate")};function T(){}T.prototype=N.prototype;function S(W,Z,oe){this.props=W,this.context=Z,this.refs=v,this.updater=oe||w}var O=S.prototype=new T;O.constructor=S,j(O,N.prototype),O.isPureReactComponent=!0;var _=Array.isArray;function A(){}var E={H:null,A:null,T:null,S:null},P=Object.prototype.hasOwnProperty;function $(W,Z,oe){var le=oe.ref;return{$$typeof:t,type:W,key:Z,ref:le!==void 0?le:null,props:oe}}function I(W,Z){return $(W.type,Z,W.props)}function L(W){return typeof W=="object"&&W!==null&&W.$$typeof===t}function R(W){var Z={"=":"=0",":":"=2"};return"$"+W.replace(/[=:]/g,function(oe){return Z[oe]})}var z=/\/+/g;function Y(W,Z){return typeof W=="object"&&W!==null&&W.key!=null?R(""+W.key):Z.toString(36)}function q(W){switch(W.status){case"fulfilled":return W.value;case"rejected":throw W.reason;default:switch(typeof W.status=="string"?W.then(A,A):(W.status="pending",W.then(function(Z){W.status==="pending"&&(W.status="fulfilled",W.value=Z)},function(Z){W.status==="pending"&&(W.status="rejected",W.reason=Z)})),W.status){case"fulfilled":return W.value;case"rejected":throw W.reason}}throw W}function H(W,Z,oe,le,ce){var pe=typeof W;(pe==="undefined"||pe==="boolean")&&(W=null);var Ie=!1;if(W===null)Ie=!0;else switch(pe){case"bigint":case"string":case"number":Ie=!0;break;case"object":switch(W.$$typeof){case t:case e:Ie=!0;break;case h:return Ie=W._init,H(Ie(W._payload),Z,oe,le,ce)}}if(Ie)return ce=ce(W),Ie=le===""?"."+Y(W,0):le,_(ce)?(oe="",Ie!=null&&(oe=Ie.replace(z,"$&/")+"/"),H(ce,Z,oe,"",function(Oe){return Oe})):ce!=null&&(L(ce)&&(ce=I(ce,oe+(ce.key==null||W&&W.key===ce.key?"":(""+ce.key).replace(z,"$&/")+"/")+Ie)),Z.push(ce)),1;Ie=0;var Ee=le===""?".":le+":";if(_(W))for(var ge=0;ge<W.length;ge++)le=W[ge],pe=Ee+Y(le,ge),Ie+=H(le,Z,oe,pe,ce);else if(ge=y(W),typeof ge=="function")for(W=ge.call(W),ge=0;!(le=W.next()).done;)le=le.value,pe=Ee+Y(le,ge++),Ie+=H(le,Z,oe,pe,ce);else if(pe==="object"){if(typeof W.then=="function")return H(q(W),Z,oe,le,ce);throw Z=String(W),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(W).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.")}return Ie}function D(W,Z,oe){if(W==null)return W;var le=[],ce=0;return H(W,le,"","",function(pe){return Z.call(oe,pe,ce++)}),le}function F(W){if(W._status===-1){var Z=W._result;Z=Z(),Z.then(function(oe){(W._status===0||W._status===-1)&&(W._status=1,W._result=oe)},function(oe){(W._status===0||W._status===-1)&&(W._status=2,W._result=oe)}),W._status===-1&&(W._status=0,W._result=Z)}if(W._status===1)return W._result.default;throw W._result}var K=typeof reportError=="function"?reportError:function(W){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof W=="object"&&W!==null&&typeof W.message=="string"?String(W.message):String(W),error:W});if(!window.dispatchEvent(Z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",W);return}console.error(W)},te={map:D,forEach:function(W,Z,oe){D(W,function(){Z.apply(this,arguments)},oe)},count:function(W){var Z=0;return D(W,function(){Z++}),Z},toArray:function(W){return D(W,function(Z){return Z})||[]},only:function(W){if(!L(W))throw Error("React.Children.only expected to receive a single React element child.");return W}};return er.Activity=m,er.Children=te,er.Component=N,er.Fragment=r,er.Profiler=s,er.PureComponent=S,er.StrictMode=n,er.Suspense=c,er.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,er.__COMPILER_RUNTIME={__proto__:null,c:function(W){return E.H.useMemoCache(W)}},er.cache=function(W){return function(){return W.apply(null,arguments)}},er.cacheSignal=function(){return null},er.cloneElement=function(W,Z,oe){if(W==null)throw Error("The argument must be a React element, but you passed "+W+".");var le=j({},W.props),ce=W.key;if(Z!=null)for(pe in Z.key!==void 0&&(ce=""+Z.key),Z)!P.call(Z,pe)||pe==="key"||pe==="__self"||pe==="__source"||pe==="ref"&&Z.ref===void 0||(le[pe]=Z[pe]);var pe=arguments.length-2;if(pe===1)le.children=oe;else if(1<pe){for(var Ie=Array(pe),Ee=0;Ee<pe;Ee++)Ie[Ee]=arguments[Ee+2];le.children=Ie}return $(W.type,ce,le)},er.createContext=function(W){return W={$$typeof:o,_currentValue:W,_currentValue2:W,_threadCount:0,Provider:null,Consumer:null},W.Provider=W,W.Consumer={$$typeof:i,_context:W},W},er.createElement=function(W,Z,oe){var le,ce={},pe=null;if(Z!=null)for(le in Z.key!==void 0&&(pe=""+Z.key),Z)P.call(Z,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(ce[le]=Z[le]);var Ie=arguments.length-2;if(Ie===1)ce.children=oe;else if(1<Ie){for(var Ee=Array(Ie),ge=0;ge<Ie;ge++)Ee[ge]=arguments[ge+2];ce.children=Ee}if(W&&W.defaultProps)for(le in Ie=W.defaultProps,Ie)ce[le]===void 0&&(ce[le]=Ie[le]);return $(W,pe,ce)},er.createRef=function(){return{current:null}},er.forwardRef=function(W){return{$$typeof:l,render:W}},er.isValidElement=L,er.lazy=function(W){return{$$typeof:h,_payload:{_status:-1,_result:W},_init:F}},er.memo=function(W,Z){return{$$typeof:d,type:W,compare:Z===void 0?null:Z}},er.startTransition=function(W){var Z=E.T,oe={};E.T=oe;try{var le=W(),ce=E.S;ce!==null&&ce(oe,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(A,K)}catch(pe){K(pe)}finally{Z!==null&&oe.types!==null&&(Z.types=oe.types),E.T=Z}},er.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},er.use=function(W){return E.H.use(W)},er.useActionState=function(W,Z,oe){return E.H.useActionState(W,Z,oe)},er.useCallback=function(W,Z){return E.H.useCallback(W,Z)},er.useContext=function(W){return E.H.useContext(W)},er.useDebugValue=function(){},er.useDeferredValue=function(W,Z){return E.H.useDeferredValue(W,Z)},er.useEffect=function(W,Z){return E.H.useEffect(W,Z)},er.useEffectEvent=function(W){return E.H.useEffectEvent(W)},er.useId=function(){return E.H.useId()},er.useImperativeHandle=function(W,Z,oe){return E.H.useImperativeHandle(W,Z,oe)},er.useInsertionEffect=function(W,Z){return E.H.useInsertionEffect(W,Z)},er.useLayoutEffect=function(W,Z){return E.H.useLayoutEffect(W,Z)},er.useMemo=function(W,Z){return E.H.useMemo(W,Z)},er.useOptimistic=function(W,Z){return E.H.useOptimistic(W,Z)},er.useReducer=function(W,Z,oe){return E.H.useReducer(W,Z,oe)},er.useRef=function(W){return E.H.useRef(W)},er.useState=function(W){return E.H.useState(W)},er.useSyncExternalStore=function(W,Z,oe){return E.H.useSyncExternalStore(W,Z,oe)},er.useTransition=function(){return E.H.useTransition()},er.version="19.2.0",er}var Y3;function Y0(){return Y3||(Y3=1,XS.exports=Oee()),XS.exports}var x=Y0();const X=Pr(x),cb=_ee({__proto__:null,default:X},[x]);var JS={exports:{}},Lm={},QS={exports:{}},ZS={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K3;function Eee(){return K3||(K3=1,(function(t){function e(H,D){var F=H.length;H.push(D);e:for(;0<F;){var K=F-1>>>1,te=H[K];if(0<s(te,D))H[K]=D,H[F]=te,F=K;else break e}}function r(H){return H.length===0?null:H[0]}function n(H){if(H.length===0)return null;var D=H[0],F=H.pop();if(F!==D){H[0]=F;e:for(var K=0,te=H.length,W=te>>>1;K<W;){var Z=2*(K+1)-1,oe=H[Z],le=Z+1,ce=H[le];if(0>s(oe,F))le<te&&0>s(ce,oe)?(H[K]=ce,H[le]=F,K=le):(H[K]=oe,H[Z]=F,K=Z);else if(le<te&&0>s(ce,F))H[K]=ce,H[le]=F,K=le;else break e}}return D}function s(H,D){var F=H.sortIndex-D.sortIndex;return F!==0?F:H.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],h=1,m=null,g=3,y=!1,w=!1,j=!1,v=!1,N=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function O(H){for(var D=r(d);D!==null;){if(D.callback===null)n(d);else if(D.startTime<=H)n(d),D.sortIndex=D.expirationTime,e(c,D);else break;D=r(d)}}function _(H){if(j=!1,O(H),!w)if(r(c)!==null)w=!0,A||(A=!0,R());else{var D=r(d);D!==null&&q(_,D.startTime-H)}}var A=!1,E=-1,P=5,$=-1;function I(){return v?!0:!(t.unstable_now()-$<P)}function L(){if(v=!1,A){var H=t.unstable_now();$=H;var D=!0;try{e:{w=!1,j&&(j=!1,T(E),E=-1),y=!0;var F=g;try{t:{for(O(H),m=r(c);m!==null&&!(m.expirationTime>H&&I());){var K=m.callback;if(typeof K=="function"){m.callback=null,g=m.priorityLevel;var te=K(m.expirationTime<=H);if(H=t.unstable_now(),typeof te=="function"){m.callback=te,O(H),D=!0;break t}m===r(c)&&n(c),O(H)}else n(c);m=r(c)}if(m!==null)D=!0;else{var W=r(d);W!==null&&q(_,W.startTime-H),D=!1}}break e}finally{m=null,g=F,y=!1}D=void 0}}finally{D?R():A=!1}}}var R;if(typeof S=="function")R=function(){S(L)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Y=z.port2;z.port1.onmessage=L,R=function(){Y.postMessage(null)}}else R=function(){N(L,0)};function q(H,D){E=N(function(){H(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(H){H.callback=null},t.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<H?Math.floor(1e3/H):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(H){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var F=g;g=D;try{return H()}finally{g=F}},t.unstable_requestPaint=function(){v=!0},t.unstable_runWithPriority=function(H,D){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var F=g;g=H;try{return D()}finally{g=F}},t.unstable_scheduleCallback=function(H,D,F){var K=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?K+F:K):F=K,H){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=F+te,H={id:h++,callback:D,priorityLevel:H,startTime:F,expirationTime:te,sortIndex:-1},F>K?(H.sortIndex=F,e(d,H),r(c)===null&&H===r(d)&&(j?(T(E),E=-1):j=!0,q(_,F-K))):(H.sortIndex=te,e(c,H),w||y||(w=!0,A||(A=!0,R()))),H},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(H){var D=g;return function(){var F=g;g=D;try{return H.apply(this,arguments)}finally{g=F}}}})(ZS)),ZS}var X3;function Dee(){return X3||(X3=1,QS.exports=Eee()),QS.exports}var eN={exports:{}},Ra={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J3;function Pee(){if(J3)return Ra;J3=1;var t=Y0();function e(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)d+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},s=Symbol.for("react.portal");function i(c,d,h){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:m==null?null:""+m,children:c,containerInfo:d,implementation:h}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function l(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Ra.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Ra.createPortal=function(c,d){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(e(299));return i(c,d,null,h)},Ra.flushSync=function(c){var d=o.T,h=n.p;try{if(o.T=null,n.p=2,c)return c()}finally{o.T=d,n.p=h,n.d.f()}},Ra.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,n.d.C(c,d))},Ra.prefetchDNS=function(c){typeof c=="string"&&n.d.D(c)},Ra.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin),g=typeof d.integrity=="string"?d.integrity:void 0,y=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;h==="style"?n.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(c,{crossOrigin:m,integrity:g,fetchPriority:y,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Ra.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var h=l(d.as,d.crossOrigin);n.d.M(c,{crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&n.d.M(c)},Ra.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var h=d.as,m=l(h,d.crossOrigin);n.d.L(c,h,{crossOrigin:m,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Ra.preloadModule=function(c,d){if(typeof c=="string")if(d){var h=l(d.as,d.crossOrigin);n.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:h,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else n.d.m(c)},Ra.requestFormReset=function(c){n.d.r(c)},Ra.unstable_batchedUpdates=function(c,d){return c(d)},Ra.useFormState=function(c,d,h){return o.H.useFormState(c,d,h)},Ra.useFormStatus=function(){return o.H.useHostTransitionStatus()},Ra.version="19.2.0",Ra}var Q3;function Hz(){if(Q3)return eN.exports;Q3=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),eN.exports=Pee(),eN.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Z3;function Ree(){if(Z3)return Lm;Z3=1;var t=Dee(),e=Y0(),r=Hz();function n(u){var f="https://react.dev/errors/"+u;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(u){return!(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)}function i(u){var f=u,p=u;if(u.alternate)for(;f.return;)f=f.return;else{u=f;do f=u,(f.flags&4098)!==0&&(p=f.return),u=f.return;while(u)}return f.tag===3?p:null}function o(u){if(u.tag===13){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function l(u){if(u.tag===31){var f=u.memoizedState;if(f===null&&(u=u.alternate,u!==null&&(f=u.memoizedState)),f!==null)return f.dehydrated}return null}function c(u){if(i(u)!==u)throw Error(n(188))}function d(u){var f=u.alternate;if(!f){if(f=i(u),f===null)throw Error(n(188));return f!==u?null:u}for(var p=u,b=f;;){var k=p.return;if(k===null)break;var M=k.alternate;if(M===null){if(b=k.return,b!==null){p=b;continue}break}if(k.child===M.child){for(M=k.child;M;){if(M===p)return c(k),u;if(M===b)return c(k),f;M=M.sibling}throw Error(n(188))}if(p.return!==b.return)p=k,b=M;else{for(var V=!1,Q=k.child;Q;){if(Q===p){V=!0,p=k,b=M;break}if(Q===b){V=!0,b=k,p=M;break}Q=Q.sibling}if(!V){for(Q=M.child;Q;){if(Q===p){V=!0,p=M,b=k;break}if(Q===b){V=!0,b=M,p=k;break}Q=Q.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==b)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?u:f}function h(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u;for(u=u.child;u!==null;){if(f=h(u),f!==null)return f;u=u.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),S=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),P=Symbol.for("react.lazy"),$=Symbol.for("react.activity"),I=Symbol.for("react.memo_cache_sentinel"),L=Symbol.iterator;function R(u){return u===null||typeof u!="object"?null:(u=L&&u[L]||u["@@iterator"],typeof u=="function"?u:null)}var z=Symbol.for("react.client.reference");function Y(u){if(u==null)return null;if(typeof u=="function")return u.$$typeof===z?null:u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case j:return"Fragment";case N:return"Profiler";case v:return"StrictMode";case _:return"Suspense";case A:return"SuspenseList";case $:return"Activity"}if(typeof u=="object")switch(u.$$typeof){case w:return"Portal";case S:return u.displayName||"Context";case T:return(u._context.displayName||"Context")+".Consumer";case O:var f=u.render;return u=u.displayName,u||(u=f.displayName||f.name||"",u=u!==""?"ForwardRef("+u+")":"ForwardRef"),u;case E:return f=u.displayName||null,f!==null?f:Y(u.type)||"Memo";case P:f=u._payload,u=u._init;try{return Y(u(f))}catch{}}return null}var q=Array.isArray,H=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,D=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},K=[],te=-1;function W(u){return{current:u}}function Z(u){0>te||(u.current=K[te],K[te]=null,te--)}function oe(u,f){te++,K[te]=u.current,u.current=f}var le=W(null),ce=W(null),pe=W(null),Ie=W(null);function Ee(u,f){switch(oe(pe,f),oe(ce,u),oe(le,null),f.nodeType){case 9:case 11:u=(u=f.documentElement)&&(u=u.namespaceURI)?m3(u):0;break;default:if(u=f.tagName,f=f.namespaceURI)f=m3(f),u=p3(f,u);else switch(u){case"svg":u=1;break;case"math":u=2;break;default:u=0}}Z(le),oe(le,u)}function ge(){Z(le),Z(ce),Z(pe)}function Oe(u){u.memoizedState!==null&&oe(Ie,u);var f=le.current,p=p3(f,u.type);f!==p&&(oe(ce,u),oe(le,p))}function ze(u){ce.current===u&&(Z(le),Z(ce)),Ie.current===u&&(Z(Ie),Em._currentValue=F)}var re,se;function ee(u){if(re===void 0)try{throw Error()}catch(p){var f=p.stack.trim().match(/\n( *(at )?)/);re=f&&f[1]||"",se=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+re+u+se}var we=!1;function Ge(u,f){if(!u||we)return"";we=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var b={DetermineComponentFrameRoot:function(){try{if(f){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(Fe){var Re=Fe}Reflect.construct(u,[],Je)}else{try{Je.call()}catch(Fe){Re=Fe}u.call(Je.prototype)}}else{try{throw Error()}catch(Fe){Re=Fe}(Je=u())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(Fe){if(Fe&&Re&&typeof Fe.stack=="string")return[Fe.stack,Re.stack]}return[null,null]}};b.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(b.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(b.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var M=b.DetermineComponentFrameRoot(),V=M[0],Q=M[1];if(V&&Q){var me=V.split(`
`),Pe=Q.split(`
`);for(k=b=0;b<me.length&&!me[b].includes("DetermineComponentFrameRoot");)b++;for(;k<Pe.length&&!Pe[k].includes("DetermineComponentFrameRoot");)k++;if(b===me.length||k===Pe.length)for(b=me.length-1,k=Pe.length-1;1<=b&&0<=k&&me[b]!==Pe[k];)k--;for(;1<=b&&0<=k;b--,k--)if(me[b]!==Pe[k]){if(b!==1||k!==1)do if(b--,k--,0>k||me[b]!==Pe[k]){var qe=`
`+me[b].replace(" at new "," at ");return u.displayName&&qe.includes("<anonymous>")&&(qe=qe.replace("<anonymous>",u.displayName)),qe}while(1<=b&&0<=k);break}}}finally{we=!1,Error.prepareStackTrace=p}return(p=u?u.displayName||u.name:"")?ee(p):""}function Ye(u,f){switch(u.tag){case 26:case 27:case 5:return ee(u.type);case 16:return ee("Lazy");case 13:return u.child!==f&&f!==null?ee("Suspense Fallback"):ee("Suspense");case 19:return ee("SuspenseList");case 0:case 15:return Ge(u.type,!1);case 11:return Ge(u.type.render,!1);case 1:return Ge(u.type,!0);case 31:return ee("Activity");default:return""}}function xe(u){try{var f="",p=null;do f+=Ye(u,p),p=u,u=u.return;while(u);return f}catch(b){return`
Error generating stack: `+b.message+`
`+b.stack}}var ct=Object.prototype.hasOwnProperty,mt=t.unstable_scheduleCallback,tt=t.unstable_cancelCallback,wt=t.unstable_shouldYield,Ct=t.unstable_requestPaint,ft=t.unstable_now,Rt=t.unstable_getCurrentPriorityLevel,Ze=t.unstable_ImmediatePriority,he=t.unstable_UserBlockingPriority,We=t.unstable_NormalPriority,je=t.unstable_LowPriority,ht=t.unstable_IdlePriority,gt=t.log,St=t.unstable_setDisableYieldValue,ve=null,nt=null;function Xe(u){if(typeof gt=="function"&&St(u),nt&&typeof nt.setStrictMode=="function")try{nt.setStrictMode(ve,u)}catch{}}var ae=Math.clz32?Math.clz32:et,ne=Math.log,Ae=Math.LN2;function et(u){return u>>>=0,u===0?32:31-(ne(u)/Ae|0)|0}var xt=256,ye=262144,B=4194304;function ue(u){var f=u&42;if(f!==0)return f;switch(u&-u){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return u&261888;case 262144:case 524288:case 1048576:case 2097152:return u&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return u&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return u}}function be(u,f,p){var b=u.pendingLanes;if(b===0)return 0;var k=0,M=u.suspendedLanes,V=u.pingedLanes;u=u.warmLanes;var Q=b&134217727;return Q!==0?(b=Q&~M,b!==0?k=ue(b):(V&=Q,V!==0?k=ue(V):p||(p=Q&~u,p!==0&&(k=ue(p))))):(Q=b&~M,Q!==0?k=ue(Q):V!==0?k=ue(V):p||(p=b&~u,p!==0&&(k=ue(p)))),k===0?0:f!==0&&f!==k&&(f&M)===0&&(M=k&-k,p=f&-f,M>=p||M===32&&(p&4194048)!==0)?f:k}function ke(u,f){return(u.pendingLanes&~(u.suspendedLanes&~u.pingedLanes)&f)===0}function Le(u,f){switch(u){case 1:case 2:case 4:case 8:case 64:return f+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function J(){var u=B;return B<<=1,(B&62914560)===0&&(B=4194304),u}function ie(u){for(var f=[],p=0;31>p;p++)f.push(u);return f}function Se(u,f){u.pendingLanes|=f,f!==268435456&&(u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0)}function Ve(u,f,p,b,k,M){var V=u.pendingLanes;u.pendingLanes=p,u.suspendedLanes=0,u.pingedLanes=0,u.warmLanes=0,u.expiredLanes&=p,u.entangledLanes&=p,u.errorRecoveryDisabledLanes&=p,u.shellSuspendCounter=0;var Q=u.entanglements,me=u.expirationTimes,Pe=u.hiddenUpdates;for(p=V&~p;0<p;){var qe=31-ae(p),Je=1<<qe;Q[qe]=0,me[qe]=-1;var Re=Pe[qe];if(Re!==null)for(Pe[qe]=null,qe=0;qe<Re.length;qe++){var Fe=Re[qe];Fe!==null&&(Fe.lane&=-536870913)}p&=~Je}b!==0&&rt(u,b,0),M!==0&&k===0&&u.tag!==0&&(u.suspendedLanes|=M&~(V&~f))}function rt(u,f,p){u.pendingLanes|=f,u.suspendedLanes&=~f;var b=31-ae(f);u.entangledLanes|=f,u.entanglements[b]=u.entanglements[b]|1073741824|p&261930}function He(u,f){var p=u.entangledLanes|=f;for(u=u.entanglements;p;){var b=31-ae(p),k=1<<b;k&f|u[b]&f&&(u[b]|=f),p&=~k}}function Ce(u,f){var p=f&-f;return p=(p&42)!==0?1:$e(p),(p&(u.suspendedLanes|f))!==0?0:p}function $e(u){switch(u){case 2:u=1;break;case 8:u=4;break;case 32:u=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:u=128;break;case 268435456:u=134217728;break;default:u=0}return u}function it(u){return u&=-u,2<u?8<u?(u&134217727)!==0?32:268435456:8:2}function Wt(){var u=D.p;return u!==0?u:(u=window.event,u===void 0?32:$3(u.type))}function ur(u,f){var p=D.p;try{return D.p=u,f()}finally{D.p=p}}var Cr=Math.random().toString(36).slice(2),ot="__reactFiber$"+Cr,nr="__reactProps$"+Cr,kt="__reactContainer$"+Cr,dr="__reactEvents$"+Cr,Me="__reactListeners$"+Cr,Te="__reactHandles$"+Cr,Be="__reactResources$"+Cr,fe="__reactMarker$"+Cr;function Qe(u){delete u[ot],delete u[nr],delete u[dr],delete u[Me],delete u[Te]}function bt(u){var f=u[ot];if(f)return f;for(var p=u.parentNode;p;){if(f=p[kt]||p[ot]){if(p=f.alternate,f.child!==null||p!==null&&p.child!==null)for(u=j3(u);u!==null;){if(p=u[ot])return p;u=j3(u)}return f}u=p,p=u.parentNode}return null}function fr(u){if(u=u[ot]||u[kt]){var f=u.tag;if(f===5||f===6||f===13||f===31||f===26||f===27||f===3)return u}return null}function en(u){var f=u.tag;if(f===5||f===26||f===27||f===6)return u.stateNode;throw Error(n(33))}function Mr(u){var f=u[Be];return f||(f=u[Be]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function hr(u){u[fe]=!0}var wa=new Set,cs={};function Pa(u,f){Vr(u,f),Vr(u+"Capture",f)}function Vr(u,f){for(cs[u]=f,u=0;u<f.length;u++)wa.add(f[u])}var Ll=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uc={},Sg={};function q1(u){return ct.call(Sg,u)?!0:ct.call(Uc,u)?!1:Ll.test(u)?Sg[u]=!0:(Uc[u]=!0,!1)}function xd(u,f,p){if(q1(f))if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":u.removeAttribute(f);return;case"boolean":var b=f.toLowerCase().slice(0,5);if(b!=="data-"&&b!=="aria-"){u.removeAttribute(f);return}}u.setAttribute(f,""+p)}}function yd(u,f,p){if(p===null)u.removeAttribute(f);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(f);return}u.setAttribute(f,""+p)}}function Si(u,f,p,b){if(b===null)u.removeAttribute(p);else{switch(typeof b){case"undefined":case"function":case"symbol":case"boolean":u.removeAttribute(p);return}u.setAttributeNS(f,p,""+b)}}function us(u){switch(typeof u){case"bigint":case"boolean":case"number":case"string":case"undefined":return u;case"object":return u;default:return""}}function Ng(u){var f=u.type;return(u=u.nodeName)&&u.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function W1(u,f,p){var b=Object.getOwnPropertyDescriptor(u.constructor.prototype,f);if(!u.hasOwnProperty(f)&&typeof b<"u"&&typeof b.get=="function"&&typeof b.set=="function"){var k=b.get,M=b.set;return Object.defineProperty(u,f,{configurable:!0,get:function(){return k.call(this)},set:function(V){p=""+V,M.call(this,V)}}),Object.defineProperty(u,f,{enumerable:b.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){u._valueTracker=null,delete u[f]}}}}function Uh(u){if(!u._valueTracker){var f=Ng(u)?"checked":"value";u._valueTracker=W1(u,f,""+u[f])}}function kg(u){if(!u)return!1;var f=u._valueTracker;if(!f)return!0;var p=f.getValue(),b="";return u&&(b=Ng(u)?u.checked?"true":"false":u.value),u=b,u!==p?(f.setValue(u),!0):!1}function bd(u){if(u=u||(typeof document<"u"?document:void 0),typeof u>"u")return null;try{return u.activeElement||u.body}catch{return u.body}}var U1=/[\n"\\]/g;function ds(u){return u.replace(U1,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function Gh(u,f,p,b,k,M,V,Q){u.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?u.type=V:u.removeAttribute("type"),f!=null?V==="number"?(f===0&&u.value===""||u.value!=f)&&(u.value=""+us(f)):u.value!==""+us(f)&&(u.value=""+us(f)):V!=="submit"&&V!=="reset"||u.removeAttribute("value"),f!=null?Yh(u,V,us(f)):p!=null?Yh(u,V,us(p)):b!=null&&u.removeAttribute("value"),k==null&&M!=null&&(u.defaultChecked=!!M),k!=null&&(u.checked=k&&typeof k!="function"&&typeof k!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?u.name=""+us(Q):u.removeAttribute("name")}function Cg(u,f,p,b,k,M,V,Q){if(M!=null&&typeof M!="function"&&typeof M!="symbol"&&typeof M!="boolean"&&(u.type=M),f!=null||p!=null){if(!(M!=="submit"&&M!=="reset"||f!=null)){Uh(u);return}p=p!=null?""+us(p):"",f=f!=null?""+us(f):p,Q||f===u.value||(u.value=f),u.defaultValue=f}b=b??k,b=typeof b!="function"&&typeof b!="symbol"&&!!b,u.checked=Q?u.checked:!!b,u.defaultChecked=!!b,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(u.name=V),Uh(u)}function Yh(u,f,p){f==="number"&&bd(u.ownerDocument)===u||u.defaultValue===""+p||(u.defaultValue=""+p)}function $l(u,f,p,b){if(u=u.options,f){f={};for(var k=0;k<p.length;k++)f["$"+p[k]]=!0;for(p=0;p<u.length;p++)k=f.hasOwnProperty("$"+u[p].value),u[p].selected!==k&&(u[p].selected=k),k&&b&&(u[p].defaultSelected=!0)}else{for(p=""+us(p),f=null,k=0;k<u.length;k++){if(u[k].value===p){u[k].selected=!0,b&&(u[k].defaultSelected=!0);return}f!==null||u[k].disabled||(f=u[k])}f!==null&&(f.selected=!0)}}function Tg(u,f,p){if(f!=null&&(f=""+us(f),f!==u.value&&(u.value=f),p==null)){u.defaultValue!==f&&(u.defaultValue=f);return}u.defaultValue=p!=null?""+us(p):""}function G(u,f,p,b){if(f==null){if(b!=null){if(p!=null)throw Error(n(92));if(q(b)){if(1<b.length)throw Error(n(93));b=b[0]}p=b}p==null&&(p=""),f=p}p=us(f),u.defaultValue=p,b=u.textContent,b===p&&b!==""&&b!==null&&(u.value=b),Uh(u)}function U(u,f){if(f){var p=u.firstChild;if(p&&p===u.lastChild&&p.nodeType===3){p.nodeValue=f;return}}u.textContent=f}var de=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function pt(u,f,p){var b=f.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?b?u.setProperty(f,""):f==="float"?u.cssFloat="":u[f]="":b?u.setProperty(f,p):typeof p!="number"||p===0||de.has(f)?f==="float"?u.cssFloat=p:u[f]=(""+p).trim():u[f]=p+"px"}function mr(u,f,p){if(f!=null&&typeof f!="object")throw Error(n(62));if(u=u.style,p!=null){for(var b in p)!p.hasOwnProperty(b)||f!=null&&f.hasOwnProperty(b)||(b.indexOf("--")===0?u.setProperty(b,""):b==="float"?u.cssFloat="":u[b]="");for(var k in f)b=f[k],f.hasOwnProperty(k)&&p[k]!==b&&pt(u,k,b)}else for(var M in f)f.hasOwnProperty(M)&&pt(u,M,f[M])}function Sr(u){if(u.indexOf("-")===-1)return!1;switch(u){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ns=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ni=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function qs(u){return Ni.test(""+u)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":u}function ja(){}var _g=null;function G1(u){return u=u.target||u.srcElement||window,u.correspondingUseElement&&(u=u.correspondingUseElement),u.nodeType===3?u.parentNode:u}var vd=null,wd=null;function hD(u){var f=fr(u);if(f&&(u=f.stateNode)){var p=u[nr]||null;e:switch(u=f.stateNode,f.type){case"input":if(Gh(u,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),f=p.name,p.type==="radio"&&f!=null){for(p=u;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ds(""+f)+'"][type="radio"]'),f=0;f<p.length;f++){var b=p[f];if(b!==u&&b.form===u.form){var k=b[nr]||null;if(!k)throw Error(n(90));Gh(b,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<p.length;f++)b=p[f],b.form===u.form&&kg(b)}break e;case"textarea":Tg(u,p.value,p.defaultValue);break e;case"select":f=p.value,f!=null&&$l(u,!!p.multiple,f,!1)}}}var Y1=!1;function mD(u,f,p){if(Y1)return u(f,p);Y1=!0;try{var b=u(f);return b}finally{if(Y1=!1,(vd!==null||wd!==null)&&(px(),vd&&(f=vd,u=wd,wd=vd=null,hD(f),u)))for(f=0;f<u.length;f++)hD(u[f])}}function Kh(u,f){var p=u.stateNode;if(p===null)return null;var b=p[nr]||null;if(b===null)return null;p=b[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(b=!b.disabled)||(u=u.type,b=!(u==="button"||u==="input"||u==="select"||u==="textarea")),u=!b;break e;default:u=!1}if(u)return null;if(p&&typeof p!="function")throw Error(n(231,f,typeof p));return p}var Oo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),K1=!1;if(Oo)try{var Xh={};Object.defineProperty(Xh,"passive",{get:function(){K1=!0}}),window.addEventListener("test",Xh,Xh),window.removeEventListener("test",Xh,Xh)}catch{K1=!1}var Fl=null,X1=null,Mg=null;function pD(){if(Mg)return Mg;var u,f=X1,p=f.length,b,k="value"in Fl?Fl.value:Fl.textContent,M=k.length;for(u=0;u<p&&f[u]===k[u];u++);var V=p-u;for(b=1;b<=V&&f[p-b]===k[M-b];b++);return Mg=k.slice(u,1<b?1-b:void 0)}function Ag(u){var f=u.keyCode;return"charCode"in u?(u=u.charCode,u===0&&f===13&&(u=13)):u=f,u===10&&(u=13),32<=u||u===13?u:0}function Og(){return!0}function gD(){return!1}function fs(u){function f(p,b,k,M,V){this._reactName=p,this._targetInst=k,this.type=b,this.nativeEvent=M,this.target=V,this.currentTarget=null;for(var Q in u)u.hasOwnProperty(Q)&&(p=u[Q],this[Q]=p?p(M):M[Q]);return this.isDefaultPrevented=(M.defaultPrevented!=null?M.defaultPrevented:M.returnValue===!1)?Og:gD,this.isPropagationStopped=gD,this}return m(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Og)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Og)},persist:function(){},isPersistent:Og}),f}var Gc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(u){return u.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Eg=fs(Gc),Jh=m({},Gc,{view:0,detail:0}),SQ=fs(Jh),J1,Q1,Qh,Dg=m({},Jh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ej,button:0,buttons:0,relatedTarget:function(u){return u.relatedTarget===void 0?u.fromElement===u.srcElement?u.toElement:u.fromElement:u.relatedTarget},movementX:function(u){return"movementX"in u?u.movementX:(u!==Qh&&(Qh&&u.type==="mousemove"?(J1=u.screenX-Qh.screenX,Q1=u.screenY-Qh.screenY):Q1=J1=0,Qh=u),J1)},movementY:function(u){return"movementY"in u?u.movementY:Q1}}),xD=fs(Dg),NQ=m({},Dg,{dataTransfer:0}),kQ=fs(NQ),CQ=m({},Jh,{relatedTarget:0}),Z1=fs(CQ),TQ=m({},Gc,{animationName:0,elapsedTime:0,pseudoElement:0}),_Q=fs(TQ),MQ=m({},Gc,{clipboardData:function(u){return"clipboardData"in u?u.clipboardData:window.clipboardData}}),AQ=fs(MQ),OQ=m({},Gc,{data:0}),yD=fs(OQ),EQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},DQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},PQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function RQ(u){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(u):(u=PQ[u])?!!f[u]:!1}function ej(){return RQ}var IQ=m({},Jh,{key:function(u){if(u.key){var f=EQ[u.key]||u.key;if(f!=="Unidentified")return f}return u.type==="keypress"?(u=Ag(u),u===13?"Enter":String.fromCharCode(u)):u.type==="keydown"||u.type==="keyup"?DQ[u.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ej,charCode:function(u){return u.type==="keypress"?Ag(u):0},keyCode:function(u){return u.type==="keydown"||u.type==="keyup"?u.keyCode:0},which:function(u){return u.type==="keypress"?Ag(u):u.type==="keydown"||u.type==="keyup"?u.keyCode:0}}),LQ=fs(IQ),$Q=m({},Dg,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bD=fs($Q),FQ=m({},Jh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ej}),HQ=fs(FQ),BQ=m({},Gc,{propertyName:0,elapsedTime:0,pseudoElement:0}),zQ=fs(BQ),VQ=m({},Dg,{deltaX:function(u){return"deltaX"in u?u.deltaX:"wheelDeltaX"in u?-u.wheelDeltaX:0},deltaY:function(u){return"deltaY"in u?u.deltaY:"wheelDeltaY"in u?-u.wheelDeltaY:"wheelDelta"in u?-u.wheelDelta:0},deltaZ:0,deltaMode:0}),qQ=fs(VQ),WQ=m({},Gc,{newState:0,oldState:0}),UQ=fs(WQ),GQ=[9,13,27,32],tj=Oo&&"CompositionEvent"in window,Zh=null;Oo&&"documentMode"in document&&(Zh=document.documentMode);var YQ=Oo&&"TextEvent"in window&&!Zh,vD=Oo&&(!tj||Zh&&8<Zh&&11>=Zh),wD=" ",jD=!1;function SD(u,f){switch(u){case"keyup":return GQ.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ND(u){return u=u.detail,typeof u=="object"&&"data"in u?u.data:null}var jd=!1;function KQ(u,f){switch(u){case"compositionend":return ND(f);case"keypress":return f.which!==32?null:(jD=!0,wD);case"textInput":return u=f.data,u===wD&&jD?null:u;default:return null}}function XQ(u,f){if(jd)return u==="compositionend"||!tj&&SD(u,f)?(u=pD(),Mg=X1=Fl=null,jd=!1,u):null;switch(u){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return vD&&f.locale!=="ko"?null:f.data;default:return null}}var JQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kD(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f==="input"?!!JQ[u.type]:f==="textarea"}function CD(u,f,p,b){vd?wd?wd.push(b):wd=[b]:vd=b,f=jx(f,"onChange"),0<f.length&&(p=new Eg("onChange","change",null,p,b),u.push({event:p,listeners:f}))}var em=null,tm=null;function QQ(u){l3(u,0)}function Pg(u){var f=en(u);if(kg(f))return u}function TD(u,f){if(u==="change")return f}var _D=!1;if(Oo){var rj;if(Oo){var nj="oninput"in document;if(!nj){var MD=document.createElement("div");MD.setAttribute("oninput","return;"),nj=typeof MD.oninput=="function"}rj=nj}else rj=!1;_D=rj&&(!document.documentMode||9<document.documentMode)}function AD(){em&&(em.detachEvent("onpropertychange",OD),tm=em=null)}function OD(u){if(u.propertyName==="value"&&Pg(tm)){var f=[];CD(f,tm,u,G1(u)),mD(QQ,f)}}function ZQ(u,f,p){u==="focusin"?(AD(),em=f,tm=p,em.attachEvent("onpropertychange",OD)):u==="focusout"&&AD()}function eZ(u){if(u==="selectionchange"||u==="keyup"||u==="keydown")return Pg(tm)}function tZ(u,f){if(u==="click")return Pg(f)}function rZ(u,f){if(u==="input"||u==="change")return Pg(f)}function nZ(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var ks=typeof Object.is=="function"?Object.is:nZ;function rm(u,f){if(ks(u,f))return!0;if(typeof u!="object"||u===null||typeof f!="object"||f===null)return!1;var p=Object.keys(u),b=Object.keys(f);if(p.length!==b.length)return!1;for(b=0;b<p.length;b++){var k=p[b];if(!ct.call(f,k)||!ks(u[k],f[k]))return!1}return!0}function ED(u){for(;u&&u.firstChild;)u=u.firstChild;return u}function DD(u,f){var p=ED(u);u=0;for(var b;p;){if(p.nodeType===3){if(b=u+p.textContent.length,u<=f&&b>=f)return{node:p,offset:f-u};u=b}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=ED(p)}}function PD(u,f){return u&&f?u===f?!0:u&&u.nodeType===3?!1:f&&f.nodeType===3?PD(u,f.parentNode):"contains"in u?u.contains(f):u.compareDocumentPosition?!!(u.compareDocumentPosition(f)&16):!1:!1}function RD(u){u=u!=null&&u.ownerDocument!=null&&u.ownerDocument.defaultView!=null?u.ownerDocument.defaultView:window;for(var f=bd(u.document);f instanceof u.HTMLIFrameElement;){try{var p=typeof f.contentWindow.location.href=="string"}catch{p=!1}if(p)u=f.contentWindow;else break;f=bd(u.document)}return f}function aj(u){var f=u&&u.nodeName&&u.nodeName.toLowerCase();return f&&(f==="input"&&(u.type==="text"||u.type==="search"||u.type==="tel"||u.type==="url"||u.type==="password")||f==="textarea"||u.contentEditable==="true")}var aZ=Oo&&"documentMode"in document&&11>=document.documentMode,Sd=null,sj=null,nm=null,ij=!1;function ID(u,f,p){var b=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;ij||Sd==null||Sd!==bd(b)||(b=Sd,"selectionStart"in b&&aj(b)?b={start:b.selectionStart,end:b.selectionEnd}:(b=(b.ownerDocument&&b.ownerDocument.defaultView||window).getSelection(),b={anchorNode:b.anchorNode,anchorOffset:b.anchorOffset,focusNode:b.focusNode,focusOffset:b.focusOffset}),nm&&rm(nm,b)||(nm=b,b=jx(sj,"onSelect"),0<b.length&&(f=new Eg("onSelect","select",null,f,p),u.push({event:f,listeners:b}),f.target=Sd)))}function Yc(u,f){var p={};return p[u.toLowerCase()]=f.toLowerCase(),p["Webkit"+u]="webkit"+f,p["Moz"+u]="moz"+f,p}var Nd={animationend:Yc("Animation","AnimationEnd"),animationiteration:Yc("Animation","AnimationIteration"),animationstart:Yc("Animation","AnimationStart"),transitionrun:Yc("Transition","TransitionRun"),transitionstart:Yc("Transition","TransitionStart"),transitioncancel:Yc("Transition","TransitionCancel"),transitionend:Yc("Transition","TransitionEnd")},oj={},LD={};Oo&&(LD=document.createElement("div").style,"AnimationEvent"in window||(delete Nd.animationend.animation,delete Nd.animationiteration.animation,delete Nd.animationstart.animation),"TransitionEvent"in window||delete Nd.transitionend.transition);function Kc(u){if(oj[u])return oj[u];if(!Nd[u])return u;var f=Nd[u],p;for(p in f)if(f.hasOwnProperty(p)&&p in LD)return oj[u]=f[p];return u}var $D=Kc("animationend"),FD=Kc("animationiteration"),HD=Kc("animationstart"),sZ=Kc("transitionrun"),iZ=Kc("transitionstart"),oZ=Kc("transitioncancel"),BD=Kc("transitionend"),zD=new Map,lj="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");lj.push("scrollEnd");function ki(u,f){zD.set(u,f),Pa(f,[u])}var Rg=typeof reportError=="function"?reportError:function(u){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof u=="object"&&u!==null&&typeof u.message=="string"?String(u.message):String(u),error:u});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",u);return}console.error(u)},Ws=[],kd=0,cj=0;function Ig(){for(var u=kd,f=cj=kd=0;f<u;){var p=Ws[f];Ws[f++]=null;var b=Ws[f];Ws[f++]=null;var k=Ws[f];Ws[f++]=null;var M=Ws[f];if(Ws[f++]=null,b!==null&&k!==null){var V=b.pending;V===null?k.next=k:(k.next=V.next,V.next=k),b.pending=k}M!==0&&VD(p,k,M)}}function Lg(u,f,p,b){Ws[kd++]=u,Ws[kd++]=f,Ws[kd++]=p,Ws[kd++]=b,cj|=b,u.lanes|=b,u=u.alternate,u!==null&&(u.lanes|=b)}function uj(u,f,p,b){return Lg(u,f,p,b),$g(u)}function Xc(u,f){return Lg(u,null,null,f),$g(u)}function VD(u,f,p){u.lanes|=p;var b=u.alternate;b!==null&&(b.lanes|=p);for(var k=!1,M=u.return;M!==null;)M.childLanes|=p,b=M.alternate,b!==null&&(b.childLanes|=p),M.tag===22&&(u=M.stateNode,u===null||u._visibility&1||(k=!0)),u=M,M=M.return;return u.tag===3?(M=u.stateNode,k&&f!==null&&(k=31-ae(p),u=M.hiddenUpdates,b=u[k],b===null?u[k]=[f]:b.push(f),f.lane=p|536870912),M):null}function $g(u){if(50<km)throw km=0,bS=null,Error(n(185));for(var f=u.return;f!==null;)u=f,f=u.return;return u.tag===3?u.stateNode:null}var Cd={};function lZ(u,f,p,b){this.tag=u,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=b,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cs(u,f,p,b){return new lZ(u,f,p,b)}function dj(u){return u=u.prototype,!(!u||!u.isReactComponent)}function Eo(u,f){var p=u.alternate;return p===null?(p=Cs(u.tag,f,u.key,u.mode),p.elementType=u.elementType,p.type=u.type,p.stateNode=u.stateNode,p.alternate=u,u.alternate=p):(p.pendingProps=f,p.type=u.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=u.flags&65011712,p.childLanes=u.childLanes,p.lanes=u.lanes,p.child=u.child,p.memoizedProps=u.memoizedProps,p.memoizedState=u.memoizedState,p.updateQueue=u.updateQueue,f=u.dependencies,p.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},p.sibling=u.sibling,p.index=u.index,p.ref=u.ref,p.refCleanup=u.refCleanup,p}function qD(u,f){u.flags&=65011714;var p=u.alternate;return p===null?(u.childLanes=0,u.lanes=f,u.child=null,u.subtreeFlags=0,u.memoizedProps=null,u.memoizedState=null,u.updateQueue=null,u.dependencies=null,u.stateNode=null):(u.childLanes=p.childLanes,u.lanes=p.lanes,u.child=p.child,u.subtreeFlags=0,u.deletions=null,u.memoizedProps=p.memoizedProps,u.memoizedState=p.memoizedState,u.updateQueue=p.updateQueue,u.type=p.type,f=p.dependencies,u.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),u}function Fg(u,f,p,b,k,M){var V=0;if(b=u,typeof u=="function")dj(u)&&(V=1);else if(typeof u=="string")V=hee(u,p,le.current)?26:u==="html"||u==="head"||u==="body"?27:5;else e:switch(u){case $:return u=Cs(31,p,f,k),u.elementType=$,u.lanes=M,u;case j:return Jc(p.children,k,M,f);case v:V=8,k|=24;break;case N:return u=Cs(12,p,f,k|2),u.elementType=N,u.lanes=M,u;case _:return u=Cs(13,p,f,k),u.elementType=_,u.lanes=M,u;case A:return u=Cs(19,p,f,k),u.elementType=A,u.lanes=M,u;default:if(typeof u=="object"&&u!==null)switch(u.$$typeof){case S:V=10;break e;case T:V=9;break e;case O:V=11;break e;case E:V=14;break e;case P:V=16,b=null;break e}V=29,p=Error(n(130,u===null?"null":typeof u,"")),b=null}return f=Cs(V,p,f,k),f.elementType=u,f.type=b,f.lanes=M,f}function Jc(u,f,p,b){return u=Cs(7,u,b,f),u.lanes=p,u}function fj(u,f,p){return u=Cs(6,u,null,f),u.lanes=p,u}function WD(u){var f=Cs(18,null,null,0);return f.stateNode=u,f}function hj(u,f,p){return f=Cs(4,u.children!==null?u.children:[],u.key,f),f.lanes=p,f.stateNode={containerInfo:u.containerInfo,pendingChildren:null,implementation:u.implementation},f}var UD=new WeakMap;function Us(u,f){if(typeof u=="object"&&u!==null){var p=UD.get(u);return p!==void 0?p:(f={value:u,source:f,stack:xe(f)},UD.set(u,f),f)}return{value:u,source:f,stack:xe(f)}}var Td=[],_d=0,Hg=null,am=0,Gs=[],Ys=0,Hl=null,Gi=1,Yi="";function Do(u,f){Td[_d++]=am,Td[_d++]=Hg,Hg=u,am=f}function GD(u,f,p){Gs[Ys++]=Gi,Gs[Ys++]=Yi,Gs[Ys++]=Hl,Hl=u;var b=Gi;u=Yi;var k=32-ae(b)-1;b&=~(1<<k),p+=1;var M=32-ae(f)+k;if(30<M){var V=k-k%5;M=(b&(1<<V)-1).toString(32),b>>=V,k-=V,Gi=1<<32-ae(f)+k|p<<k|b,Yi=M+u}else Gi=1<<M|p<<k|b,Yi=u}function mj(u){u.return!==null&&(Do(u,1),GD(u,1,0))}function pj(u){for(;u===Hg;)Hg=Td[--_d],Td[_d]=null,am=Td[--_d],Td[_d]=null;for(;u===Hl;)Hl=Gs[--Ys],Gs[Ys]=null,Yi=Gs[--Ys],Gs[Ys]=null,Gi=Gs[--Ys],Gs[Ys]=null}function YD(u,f){Gs[Ys++]=Gi,Gs[Ys++]=Yi,Gs[Ys++]=Hl,Gi=f.id,Yi=f.overflow,Hl=u}var Sa=null,dn=null,Nr=!1,Bl=null,Ks=!1,gj=Error(n(519));function zl(u){var f=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw sm(Us(f,u)),gj}function KD(u){var f=u.stateNode,p=u.type,b=u.memoizedProps;switch(f[ot]=u,f[nr]=b,p){case"dialog":gr("cancel",f),gr("close",f);break;case"iframe":case"object":case"embed":gr("load",f);break;case"video":case"audio":for(p=0;p<Tm.length;p++)gr(Tm[p],f);break;case"source":gr("error",f);break;case"img":case"image":case"link":gr("error",f),gr("load",f);break;case"details":gr("toggle",f);break;case"input":gr("invalid",f),Cg(f,b.value,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name,!0);break;case"select":gr("invalid",f);break;case"textarea":gr("invalid",f),G(f,b.value,b.defaultValue,b.children)}p=b.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||f.textContent===""+p||b.suppressHydrationWarning===!0||f3(f.textContent,p)?(b.popover!=null&&(gr("beforetoggle",f),gr("toggle",f)),b.onScroll!=null&&gr("scroll",f),b.onScrollEnd!=null&&gr("scrollend",f),b.onClick!=null&&(f.onclick=ja),f=!0):f=!1,f||zl(u,!0)}function XD(u){for(Sa=u.return;Sa;)switch(Sa.tag){case 5:case 31:case 13:Ks=!1;return;case 27:case 3:Ks=!0;return;default:Sa=Sa.return}}function Md(u){if(u!==Sa)return!1;if(!Nr)return XD(u),Nr=!0,!1;var f=u.tag,p;if((p=f!==3&&f!==27)&&((p=f===5)&&(p=u.type,p=!(p!=="form"&&p!=="button")||PS(u.type,u.memoizedProps)),p=!p),p&&dn&&zl(u),XD(u),f===13){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));dn=w3(u)}else if(f===31){if(u=u.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(317));dn=w3(u)}else f===27?(f=dn,rc(u.type)?(u=FS,FS=null,dn=u):dn=f):dn=Sa?Js(u.stateNode.nextSibling):null;return!0}function Qc(){dn=Sa=null,Nr=!1}function xj(){var u=Bl;return u!==null&&(gs===null?gs=u:gs.push.apply(gs,u),Bl=null),u}function sm(u){Bl===null?Bl=[u]:Bl.push(u)}var yj=W(null),Zc=null,Po=null;function Vl(u,f,p){oe(yj,f._currentValue),f._currentValue=p}function Ro(u){u._currentValue=yj.current,Z(yj)}function bj(u,f,p){for(;u!==null;){var b=u.alternate;if((u.childLanes&f)!==f?(u.childLanes|=f,b!==null&&(b.childLanes|=f)):b!==null&&(b.childLanes&f)!==f&&(b.childLanes|=f),u===p)break;u=u.return}}function vj(u,f,p,b){var k=u.child;for(k!==null&&(k.return=u);k!==null;){var M=k.dependencies;if(M!==null){var V=k.child;M=M.firstContext;e:for(;M!==null;){var Q=M;M=k;for(var me=0;me<f.length;me++)if(Q.context===f[me]){M.lanes|=p,Q=M.alternate,Q!==null&&(Q.lanes|=p),bj(M.return,p,u),b||(V=null);break e}M=Q.next}}else if(k.tag===18){if(V=k.return,V===null)throw Error(n(341));V.lanes|=p,M=V.alternate,M!==null&&(M.lanes|=p),bj(V,p,u),V=null}else V=k.child;if(V!==null)V.return=k;else for(V=k;V!==null;){if(V===u){V=null;break}if(k=V.sibling,k!==null){k.return=V.return,V=k;break}V=V.return}k=V}}function Ad(u,f,p,b){u=null;for(var k=f,M=!1;k!==null;){if(!M){if((k.flags&524288)!==0)M=!0;else if((k.flags&262144)!==0)break}if(k.tag===10){var V=k.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var Q=k.type;ks(k.pendingProps.value,V.value)||(u!==null?u.push(Q):u=[Q])}}else if(k===Ie.current){if(V=k.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(u!==null?u.push(Em):u=[Em])}k=k.return}u!==null&&vj(f,u,p,b),f.flags|=262144}function Bg(u){for(u=u.firstContext;u!==null;){if(!ks(u.context._currentValue,u.memoizedValue))return!0;u=u.next}return!1}function eu(u){Zc=u,Po=null,u=u.dependencies,u!==null&&(u.firstContext=null)}function Na(u){return JD(Zc,u)}function zg(u,f){return Zc===null&&eu(u),JD(u,f)}function JD(u,f){var p=f._currentValue;if(f={context:f,memoizedValue:p,next:null},Po===null){if(u===null)throw Error(n(308));Po=f,u.dependencies={lanes:0,firstContext:f},u.flags|=524288}else Po=Po.next=f;return p}var cZ=typeof AbortController<"u"?AbortController:function(){var u=[],f=this.signal={aborted:!1,addEventListener:function(p,b){u.push(b)}};this.abort=function(){f.aborted=!0,u.forEach(function(p){return p()})}},uZ=t.unstable_scheduleCallback,dZ=t.unstable_NormalPriority,Wn={$$typeof:S,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function wj(){return{controller:new cZ,data:new Map,refCount:0}}function im(u){u.refCount--,u.refCount===0&&uZ(dZ,function(){u.controller.abort()})}var om=null,jj=0,Od=0,Ed=null;function fZ(u,f){if(om===null){var p=om=[];jj=0,Od=kS(),Ed={status:"pending",value:void 0,then:function(b){p.push(b)}}}return jj++,f.then(QD,QD),f}function QD(){if(--jj===0&&om!==null){Ed!==null&&(Ed.status="fulfilled");var u=om;om=null,Od=0,Ed=null;for(var f=0;f<u.length;f++)(0,u[f])()}}function hZ(u,f){var p=[],b={status:"pending",value:null,reason:null,then:function(k){p.push(k)}};return u.then(function(){b.status="fulfilled",b.value=f;for(var k=0;k<p.length;k++)(0,p[k])(f)},function(k){for(b.status="rejected",b.reason=k,k=0;k<p.length;k++)(0,p[k])(void 0)}),b}var ZD=H.S;H.S=function(u,f){I4=ft(),typeof f=="object"&&f!==null&&typeof f.then=="function"&&fZ(u,f),ZD!==null&&ZD(u,f)};var tu=W(null);function Sj(){var u=tu.current;return u!==null?u:tn.pooledCache}function Vg(u,f){f===null?oe(tu,tu.current):oe(tu,f.pool)}function eP(){var u=Sj();return u===null?null:{parent:Wn._currentValue,pool:u}}var Dd=Error(n(460)),Nj=Error(n(474)),qg=Error(n(542)),Wg={then:function(){}};function tP(u){return u=u.status,u==="fulfilled"||u==="rejected"}function rP(u,f,p){switch(p=u[p],p===void 0?u.push(f):p!==f&&(f.then(ja,ja),f=p),f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,aP(u),u;default:if(typeof f.status=="string")f.then(ja,ja);else{if(u=tn,u!==null&&100<u.shellSuspendCounter)throw Error(n(482));u=f,u.status="pending",u.then(function(b){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=b}},function(b){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=b}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw u=f.reason,aP(u),u}throw nu=f,Dd}}function ru(u){try{var f=u._init;return f(u._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(nu=p,Dd):p}}var nu=null;function nP(){if(nu===null)throw Error(n(459));var u=nu;return nu=null,u}function aP(u){if(u===Dd||u===qg)throw Error(n(483))}var Pd=null,lm=0;function Ug(u){var f=lm;return lm+=1,Pd===null&&(Pd=[]),rP(Pd,u,f)}function cm(u,f){f=f.props.ref,u.ref=f!==void 0?f:null}function Gg(u,f){throw f.$$typeof===g?Error(n(525)):(u=Object.prototype.toString.call(f),Error(n(31,u==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":u)))}function sP(u){function f(_e,Ne){if(u){var De=_e.deletions;De===null?(_e.deletions=[Ne],_e.flags|=16):De.push(Ne)}}function p(_e,Ne){if(!u)return null;for(;Ne!==null;)f(_e,Ne),Ne=Ne.sibling;return null}function b(_e){for(var Ne=new Map;_e!==null;)_e.key!==null?Ne.set(_e.key,_e):Ne.set(_e.index,_e),_e=_e.sibling;return Ne}function k(_e,Ne){return _e=Eo(_e,Ne),_e.index=0,_e.sibling=null,_e}function M(_e,Ne,De){return _e.index=De,u?(De=_e.alternate,De!==null?(De=De.index,De<Ne?(_e.flags|=67108866,Ne):De):(_e.flags|=67108866,Ne)):(_e.flags|=1048576,Ne)}function V(_e){return u&&_e.alternate===null&&(_e.flags|=67108866),_e}function Q(_e,Ne,De,Ke){return Ne===null||Ne.tag!==6?(Ne=fj(De,_e.mode,Ke),Ne.return=_e,Ne):(Ne=k(Ne,De),Ne.return=_e,Ne)}function me(_e,Ne,De,Ke){var Ht=De.type;return Ht===j?qe(_e,Ne,De.props.children,Ke,De.key):Ne!==null&&(Ne.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===P&&ru(Ht)===Ne.type)?(Ne=k(Ne,De.props),cm(Ne,De),Ne.return=_e,Ne):(Ne=Fg(De.type,De.key,De.props,null,_e.mode,Ke),cm(Ne,De),Ne.return=_e,Ne)}function Pe(_e,Ne,De,Ke){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==De.containerInfo||Ne.stateNode.implementation!==De.implementation?(Ne=hj(De,_e.mode,Ke),Ne.return=_e,Ne):(Ne=k(Ne,De.children||[]),Ne.return=_e,Ne)}function qe(_e,Ne,De,Ke,Ht){return Ne===null||Ne.tag!==7?(Ne=Jc(De,_e.mode,Ke,Ht),Ne.return=_e,Ne):(Ne=k(Ne,De),Ne.return=_e,Ne)}function Je(_e,Ne,De){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=fj(""+Ne,_e.mode,De),Ne.return=_e,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case y:return De=Fg(Ne.type,Ne.key,Ne.props,null,_e.mode,De),cm(De,Ne),De.return=_e,De;case w:return Ne=hj(Ne,_e.mode,De),Ne.return=_e,Ne;case P:return Ne=ru(Ne),Je(_e,Ne,De)}if(q(Ne)||R(Ne))return Ne=Jc(Ne,_e.mode,De,null),Ne.return=_e,Ne;if(typeof Ne.then=="function")return Je(_e,Ug(Ne),De);if(Ne.$$typeof===S)return Je(_e,zg(_e,Ne),De);Gg(_e,Ne)}return null}function Re(_e,Ne,De,Ke){var Ht=Ne!==null?Ne.key:null;if(typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint")return Ht!==null?null:Q(_e,Ne,""+De,Ke);if(typeof De=="object"&&De!==null){switch(De.$$typeof){case y:return De.key===Ht?me(_e,Ne,De,Ke):null;case w:return De.key===Ht?Pe(_e,Ne,De,Ke):null;case P:return De=ru(De),Re(_e,Ne,De,Ke)}if(q(De)||R(De))return Ht!==null?null:qe(_e,Ne,De,Ke,null);if(typeof De.then=="function")return Re(_e,Ne,Ug(De),Ke);if(De.$$typeof===S)return Re(_e,Ne,zg(_e,De),Ke);Gg(_e,De)}return null}function Fe(_e,Ne,De,Ke,Ht){if(typeof Ke=="string"&&Ke!==""||typeof Ke=="number"||typeof Ke=="bigint")return _e=_e.get(De)||null,Q(Ne,_e,""+Ke,Ht);if(typeof Ke=="object"&&Ke!==null){switch(Ke.$$typeof){case y:return _e=_e.get(Ke.key===null?De:Ke.key)||null,me(Ne,_e,Ke,Ht);case w:return _e=_e.get(Ke.key===null?De:Ke.key)||null,Pe(Ne,_e,Ke,Ht);case P:return Ke=ru(Ke),Fe(_e,Ne,De,Ke,Ht)}if(q(Ke)||R(Ke))return _e=_e.get(De)||null,qe(Ne,_e,Ke,Ht,null);if(typeof Ke.then=="function")return Fe(_e,Ne,De,Ug(Ke),Ht);if(Ke.$$typeof===S)return Fe(_e,Ne,De,zg(Ne,Ke),Ht);Gg(Ne,Ke)}return null}function Dt(_e,Ne,De,Ke){for(var Ht=null,Ar=null,Pt=Ne,ar=Ne=0,br=null;Pt!==null&&ar<De.length;ar++){Pt.index>ar?(br=Pt,Pt=null):br=Pt.sibling;var Or=Re(_e,Pt,De[ar],Ke);if(Or===null){Pt===null&&(Pt=br);break}u&&Pt&&Or.alternate===null&&f(_e,Pt),Ne=M(Or,Ne,ar),Ar===null?Ht=Or:Ar.sibling=Or,Ar=Or,Pt=br}if(ar===De.length)return p(_e,Pt),Nr&&Do(_e,ar),Ht;if(Pt===null){for(;ar<De.length;ar++)Pt=Je(_e,De[ar],Ke),Pt!==null&&(Ne=M(Pt,Ne,ar),Ar===null?Ht=Pt:Ar.sibling=Pt,Ar=Pt);return Nr&&Do(_e,ar),Ht}for(Pt=b(Pt);ar<De.length;ar++)br=Fe(Pt,_e,ar,De[ar],Ke),br!==null&&(u&&br.alternate!==null&&Pt.delete(br.key===null?ar:br.key),Ne=M(br,Ne,ar),Ar===null?Ht=br:Ar.sibling=br,Ar=br);return u&&Pt.forEach(function(oc){return f(_e,oc)}),Nr&&Do(_e,ar),Ht}function Gt(_e,Ne,De,Ke){if(De==null)throw Error(n(151));for(var Ht=null,Ar=null,Pt=Ne,ar=Ne=0,br=null,Or=De.next();Pt!==null&&!Or.done;ar++,Or=De.next()){Pt.index>ar?(br=Pt,Pt=null):br=Pt.sibling;var oc=Re(_e,Pt,Or.value,Ke);if(oc===null){Pt===null&&(Pt=br);break}u&&Pt&&oc.alternate===null&&f(_e,Pt),Ne=M(oc,Ne,ar),Ar===null?Ht=oc:Ar.sibling=oc,Ar=oc,Pt=br}if(Or.done)return p(_e,Pt),Nr&&Do(_e,ar),Ht;if(Pt===null){for(;!Or.done;ar++,Or=De.next())Or=Je(_e,Or.value,Ke),Or!==null&&(Ne=M(Or,Ne,ar),Ar===null?Ht=Or:Ar.sibling=Or,Ar=Or);return Nr&&Do(_e,ar),Ht}for(Pt=b(Pt);!Or.done;ar++,Or=De.next())Or=Fe(Pt,_e,ar,Or.value,Ke),Or!==null&&(u&&Or.alternate!==null&&Pt.delete(Or.key===null?ar:Or.key),Ne=M(Or,Ne,ar),Ar===null?Ht=Or:Ar.sibling=Or,Ar=Or);return u&&Pt.forEach(function(Nee){return f(_e,Nee)}),Nr&&Do(_e,ar),Ht}function Jr(_e,Ne,De,Ke){if(typeof De=="object"&&De!==null&&De.type===j&&De.key===null&&(De=De.props.children),typeof De=="object"&&De!==null){switch(De.$$typeof){case y:e:{for(var Ht=De.key;Ne!==null;){if(Ne.key===Ht){if(Ht=De.type,Ht===j){if(Ne.tag===7){p(_e,Ne.sibling),Ke=k(Ne,De.props.children),Ke.return=_e,_e=Ke;break e}}else if(Ne.elementType===Ht||typeof Ht=="object"&&Ht!==null&&Ht.$$typeof===P&&ru(Ht)===Ne.type){p(_e,Ne.sibling),Ke=k(Ne,De.props),cm(Ke,De),Ke.return=_e,_e=Ke;break e}p(_e,Ne);break}else f(_e,Ne);Ne=Ne.sibling}De.type===j?(Ke=Jc(De.props.children,_e.mode,Ke,De.key),Ke.return=_e,_e=Ke):(Ke=Fg(De.type,De.key,De.props,null,_e.mode,Ke),cm(Ke,De),Ke.return=_e,_e=Ke)}return V(_e);case w:e:{for(Ht=De.key;Ne!==null;){if(Ne.key===Ht)if(Ne.tag===4&&Ne.stateNode.containerInfo===De.containerInfo&&Ne.stateNode.implementation===De.implementation){p(_e,Ne.sibling),Ke=k(Ne,De.children||[]),Ke.return=_e,_e=Ke;break e}else{p(_e,Ne);break}else f(_e,Ne);Ne=Ne.sibling}Ke=hj(De,_e.mode,Ke),Ke.return=_e,_e=Ke}return V(_e);case P:return De=ru(De),Jr(_e,Ne,De,Ke)}if(q(De))return Dt(_e,Ne,De,Ke);if(R(De)){if(Ht=R(De),typeof Ht!="function")throw Error(n(150));return De=Ht.call(De),Gt(_e,Ne,De,Ke)}if(typeof De.then=="function")return Jr(_e,Ne,Ug(De),Ke);if(De.$$typeof===S)return Jr(_e,Ne,zg(_e,De),Ke);Gg(_e,De)}return typeof De=="string"&&De!==""||typeof De=="number"||typeof De=="bigint"?(De=""+De,Ne!==null&&Ne.tag===6?(p(_e,Ne.sibling),Ke=k(Ne,De),Ke.return=_e,_e=Ke):(p(_e,Ne),Ke=fj(De,_e.mode,Ke),Ke.return=_e,_e=Ke),V(_e)):p(_e,Ne)}return function(_e,Ne,De,Ke){try{lm=0;var Ht=Jr(_e,Ne,De,Ke);return Pd=null,Ht}catch(Pt){if(Pt===Dd||Pt===qg)throw Pt;var Ar=Cs(29,Pt,null,_e.mode);return Ar.lanes=Ke,Ar.return=_e,Ar}finally{}}}var au=sP(!0),iP=sP(!1),ql=!1;function kj(u){u.updateQueue={baseState:u.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Cj(u,f){u=u.updateQueue,f.updateQueue===u&&(f.updateQueue={baseState:u.baseState,firstBaseUpdate:u.firstBaseUpdate,lastBaseUpdate:u.lastBaseUpdate,shared:u.shared,callbacks:null})}function Wl(u){return{lane:u,tag:0,payload:null,callback:null,next:null}}function Ul(u,f,p){var b=u.updateQueue;if(b===null)return null;if(b=b.shared,(Rr&2)!==0){var k=b.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),b.pending=f,f=$g(u),VD(u,null,p),f}return Lg(u,b,f,p),$g(u)}function um(u,f,p){if(f=f.updateQueue,f!==null&&(f=f.shared,(p&4194048)!==0)){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,He(u,p)}}function Tj(u,f){var p=u.updateQueue,b=u.alternate;if(b!==null&&(b=b.updateQueue,p===b)){var k=null,M=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};M===null?k=M=V:M=M.next=V,p=p.next}while(p!==null);M===null?k=M=f:M=M.next=f}else k=M=f;p={baseState:b.baseState,firstBaseUpdate:k,lastBaseUpdate:M,shared:b.shared,callbacks:b.callbacks},u.updateQueue=p;return}u=p.lastBaseUpdate,u===null?p.firstBaseUpdate=f:u.next=f,p.lastBaseUpdate=f}var _j=!1;function dm(){if(_j){var u=Ed;if(u!==null)throw u}}function fm(u,f,p,b){_j=!1;var k=u.updateQueue;ql=!1;var M=k.firstBaseUpdate,V=k.lastBaseUpdate,Q=k.shared.pending;if(Q!==null){k.shared.pending=null;var me=Q,Pe=me.next;me.next=null,V===null?M=Pe:V.next=Pe,V=me;var qe=u.alternate;qe!==null&&(qe=qe.updateQueue,Q=qe.lastBaseUpdate,Q!==V&&(Q===null?qe.firstBaseUpdate=Pe:Q.next=Pe,qe.lastBaseUpdate=me))}if(M!==null){var Je=k.baseState;V=0,qe=Pe=me=null,Q=M;do{var Re=Q.lane&-536870913,Fe=Re!==Q.lane;if(Fe?(yr&Re)===Re:(b&Re)===Re){Re!==0&&Re===Od&&(_j=!0),qe!==null&&(qe=qe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var Dt=u,Gt=Q;Re=f;var Jr=p;switch(Gt.tag){case 1:if(Dt=Gt.payload,typeof Dt=="function"){Je=Dt.call(Jr,Je,Re);break e}Je=Dt;break e;case 3:Dt.flags=Dt.flags&-65537|128;case 0:if(Dt=Gt.payload,Re=typeof Dt=="function"?Dt.call(Jr,Je,Re):Dt,Re==null)break e;Je=m({},Je,Re);break e;case 2:ql=!0}}Re=Q.callback,Re!==null&&(u.flags|=64,Fe&&(u.flags|=8192),Fe=k.callbacks,Fe===null?k.callbacks=[Re]:Fe.push(Re))}else Fe={lane:Re,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},qe===null?(Pe=qe=Fe,me=Je):qe=qe.next=Fe,V|=Re;if(Q=Q.next,Q===null){if(Q=k.shared.pending,Q===null)break;Fe=Q,Q=Fe.next,Fe.next=null,k.lastBaseUpdate=Fe,k.shared.pending=null}}while(!0);qe===null&&(me=Je),k.baseState=me,k.firstBaseUpdate=Pe,k.lastBaseUpdate=qe,M===null&&(k.shared.lanes=0),Jl|=V,u.lanes=V,u.memoizedState=Je}}function oP(u,f){if(typeof u!="function")throw Error(n(191,u));u.call(f)}function lP(u,f){var p=u.callbacks;if(p!==null)for(u.callbacks=null,u=0;u<p.length;u++)oP(p[u],f)}var Rd=W(null),Yg=W(0);function cP(u,f){u=qo,oe(Yg,u),oe(Rd,f),qo=u|f.baseLanes}function Mj(){oe(Yg,qo),oe(Rd,Rd.current)}function Aj(){qo=Yg.current,Z(Rd),Z(Yg)}var Ts=W(null),Xs=null;function Gl(u){var f=u.alternate;oe($n,$n.current&1),oe(Ts,u),Xs===null&&(f===null||Rd.current!==null||f.memoizedState!==null)&&(Xs=u)}function Oj(u){oe($n,$n.current),oe(Ts,u),Xs===null&&(Xs=u)}function uP(u){u.tag===22?(oe($n,$n.current),oe(Ts,u),Xs===null&&(Xs=u)):Yl()}function Yl(){oe($n,$n.current),oe(Ts,Ts.current)}function _s(u){Z(Ts),Xs===u&&(Xs=null),Z($n)}var $n=W(0);function Kg(u){for(var f=u;f!==null;){if(f.tag===13){var p=f.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||LS(p)||$S(p)))return f}else if(f.tag===19&&(f.memoizedProps.revealOrder==="forwards"||f.memoizedProps.revealOrder==="backwards"||f.memoizedProps.revealOrder==="unstable_legacy-backwards"||f.memoizedProps.revealOrder==="together")){if((f.flags&128)!==0)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var Io=0,rr=null,Kr=null,Un=null,Xg=!1,Id=!1,su=!1,Jg=0,hm=0,Ld=null,mZ=0;function Cn(){throw Error(n(321))}function Ej(u,f){if(f===null)return!1;for(var p=0;p<f.length&&p<u.length;p++)if(!ks(u[p],f[p]))return!1;return!0}function Dj(u,f,p,b,k,M){return Io=M,rr=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,H.H=u===null||u.memoizedState===null?GP:Yj,su=!1,M=p(b,k),su=!1,Id&&(M=fP(f,p,b,k)),dP(u),M}function dP(u){H.H=gm;var f=Kr!==null&&Kr.next!==null;if(Io=0,Un=Kr=rr=null,Xg=!1,hm=0,Ld=null,f)throw Error(n(300));u===null||Gn||(u=u.dependencies,u!==null&&Bg(u)&&(Gn=!0))}function fP(u,f,p,b){rr=u;var k=0;do{if(Id&&(Ld=null),hm=0,Id=!1,25<=k)throw Error(n(301));if(k+=1,Un=Kr=null,u.updateQueue!=null){var M=u.updateQueue;M.lastEffect=null,M.events=null,M.stores=null,M.memoCache!=null&&(M.memoCache.index=0)}H.H=YP,M=f(p,b)}while(Id);return M}function pZ(){var u=H.H,f=u.useState()[0];return f=typeof f.then=="function"?mm(f):f,u=u.useState()[0],(Kr!==null?Kr.memoizedState:null)!==u&&(rr.flags|=1024),f}function Pj(){var u=Jg!==0;return Jg=0,u}function Rj(u,f,p){f.updateQueue=u.updateQueue,f.flags&=-2053,u.lanes&=~p}function Ij(u){if(Xg){for(u=u.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}Xg=!1}Io=0,Un=Kr=rr=null,Id=!1,hm=Jg=0,Ld=null}function Ua(){var u={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Un===null?rr.memoizedState=Un=u:Un=Un.next=u,Un}function Fn(){if(Kr===null){var u=rr.alternate;u=u!==null?u.memoizedState:null}else u=Kr.next;var f=Un===null?rr.memoizedState:Un.next;if(f!==null)Un=f,Kr=u;else{if(u===null)throw rr.alternate===null?Error(n(467)):Error(n(310));Kr=u,u={memoizedState:Kr.memoizedState,baseState:Kr.baseState,baseQueue:Kr.baseQueue,queue:Kr.queue,next:null},Un===null?rr.memoizedState=Un=u:Un=Un.next=u}return Un}function Qg(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mm(u){var f=hm;return hm+=1,Ld===null&&(Ld=[]),u=rP(Ld,u,f),f=rr,(Un===null?f.memoizedState:Un.next)===null&&(f=f.alternate,H.H=f===null||f.memoizedState===null?GP:Yj),u}function Zg(u){if(u!==null&&typeof u=="object"){if(typeof u.then=="function")return mm(u);if(u.$$typeof===S)return Na(u)}throw Error(n(438,String(u)))}function Lj(u){var f=null,p=rr.updateQueue;if(p!==null&&(f=p.memoCache),f==null){var b=rr.alternate;b!==null&&(b=b.updateQueue,b!==null&&(b=b.memoCache,b!=null&&(f={data:b.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),p===null&&(p=Qg(),rr.updateQueue=p),p.memoCache=f,p=f.data[f.index],p===void 0)for(p=f.data[f.index]=Array(u),b=0;b<u;b++)p[b]=I;return f.index++,p}function Lo(u,f){return typeof f=="function"?f(u):f}function ex(u){var f=Fn();return $j(f,Kr,u)}function $j(u,f,p){var b=u.queue;if(b===null)throw Error(n(311));b.lastRenderedReducer=p;var k=u.baseQueue,M=b.pending;if(M!==null){if(k!==null){var V=k.next;k.next=M.next,M.next=V}f.baseQueue=k=M,b.pending=null}if(M=u.baseState,k===null)u.memoizedState=M;else{f=k.next;var Q=V=null,me=null,Pe=f,qe=!1;do{var Je=Pe.lane&-536870913;if(Je!==Pe.lane?(yr&Je)===Je:(Io&Je)===Je){var Re=Pe.revertLane;if(Re===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null}),Je===Od&&(qe=!0);else if((Io&Re)===Re){Pe=Pe.next,Re===Od&&(qe=!0);continue}else Je={lane:0,revertLane:Pe.revertLane,gesture:null,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},me===null?(Q=me=Je,V=M):me=me.next=Je,rr.lanes|=Re,Jl|=Re;Je=Pe.action,su&&p(M,Je),M=Pe.hasEagerState?Pe.eagerState:p(M,Je)}else Re={lane:Je,revertLane:Pe.revertLane,gesture:Pe.gesture,action:Pe.action,hasEagerState:Pe.hasEagerState,eagerState:Pe.eagerState,next:null},me===null?(Q=me=Re,V=M):me=me.next=Re,rr.lanes|=Je,Jl|=Je;Pe=Pe.next}while(Pe!==null&&Pe!==f);if(me===null?V=M:me.next=Q,!ks(M,u.memoizedState)&&(Gn=!0,qe&&(p=Ed,p!==null)))throw p;u.memoizedState=M,u.baseState=V,u.baseQueue=me,b.lastRenderedState=M}return k===null&&(b.lanes=0),[u.memoizedState,b.dispatch]}function Fj(u){var f=Fn(),p=f.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=u;var b=p.dispatch,k=p.pending,M=f.memoizedState;if(k!==null){p.pending=null;var V=k=k.next;do M=u(M,V.action),V=V.next;while(V!==k);ks(M,f.memoizedState)||(Gn=!0),f.memoizedState=M,f.baseQueue===null&&(f.baseState=M),p.lastRenderedState=M}return[M,b]}function hP(u,f,p){var b=rr,k=Fn(),M=Nr;if(M){if(p===void 0)throw Error(n(407));p=p()}else p=f();var V=!ks((Kr||k).memoizedState,p);if(V&&(k.memoizedState=p,Gn=!0),k=k.queue,zj(gP.bind(null,b,k,u),[u]),k.getSnapshot!==f||V||Un!==null&&Un.memoizedState.tag&1){if(b.flags|=2048,$d(9,{destroy:void 0},pP.bind(null,b,k,p,f),null),tn===null)throw Error(n(349));M||(Io&127)!==0||mP(b,f,p)}return p}function mP(u,f,p){u.flags|=16384,u={getSnapshot:f,value:p},f=rr.updateQueue,f===null?(f=Qg(),rr.updateQueue=f,f.stores=[u]):(p=f.stores,p===null?f.stores=[u]:p.push(u))}function pP(u,f,p,b){f.value=p,f.getSnapshot=b,xP(f)&&yP(u)}function gP(u,f,p){return p(function(){xP(f)&&yP(u)})}function xP(u){var f=u.getSnapshot;u=u.value;try{var p=f();return!ks(u,p)}catch{return!0}}function yP(u){var f=Xc(u,2);f!==null&&xs(f,u,2)}function Hj(u){var f=Ua();if(typeof u=="function"){var p=u;if(u=p(),su){Xe(!0);try{p()}finally{Xe(!1)}}}return f.memoizedState=f.baseState=u,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:u},f}function bP(u,f,p,b){return u.baseState=p,$j(u,Kr,typeof b=="function"?b:Lo)}function gZ(u,f,p,b,k){if(nx(u))throw Error(n(485));if(u=f.action,u!==null){var M={payload:k,action:u,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){M.listeners.push(V)}};H.T!==null?p(!0):M.isTransition=!1,b(M),p=f.pending,p===null?(M.next=f.pending=M,vP(f,M)):(M.next=p.next,f.pending=p.next=M)}}function vP(u,f){var p=f.action,b=f.payload,k=u.state;if(f.isTransition){var M=H.T,V={};H.T=V;try{var Q=p(k,b),me=H.S;me!==null&&me(V,Q),wP(u,f,Q)}catch(Pe){Bj(u,f,Pe)}finally{M!==null&&V.types!==null&&(M.types=V.types),H.T=M}}else try{M=p(k,b),wP(u,f,M)}catch(Pe){Bj(u,f,Pe)}}function wP(u,f,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(b){jP(u,f,b)},function(b){return Bj(u,f,b)}):jP(u,f,p)}function jP(u,f,p){f.status="fulfilled",f.value=p,SP(f),u.state=p,f=u.pending,f!==null&&(p=f.next,p===f?u.pending=null:(p=p.next,f.next=p,vP(u,p)))}function Bj(u,f,p){var b=u.pending;if(u.pending=null,b!==null){b=b.next;do f.status="rejected",f.reason=p,SP(f),f=f.next;while(f!==b)}u.action=null}function SP(u){u=u.listeners;for(var f=0;f<u.length;f++)(0,u[f])()}function NP(u,f){return f}function kP(u,f){if(Nr){var p=tn.formState;if(p!==null){e:{var b=rr;if(Nr){if(dn){t:{for(var k=dn,M=Ks;k.nodeType!==8;){if(!M){k=null;break t}if(k=Js(k.nextSibling),k===null){k=null;break t}}M=k.data,k=M==="F!"||M==="F"?k:null}if(k){dn=Js(k.nextSibling),b=k.data==="F!";break e}}zl(b)}b=!1}b&&(f=p[0])}}return p=Ua(),p.memoizedState=p.baseState=f,b={pending:null,lanes:0,dispatch:null,lastRenderedReducer:NP,lastRenderedState:f},p.queue=b,p=qP.bind(null,rr,b),b.dispatch=p,b=Hj(!1),M=Gj.bind(null,rr,!1,b.queue),b=Ua(),k={state:f,dispatch:null,action:u,pending:null},b.queue=k,p=gZ.bind(null,rr,k,M,p),k.dispatch=p,b.memoizedState=u,[f,p,!1]}function CP(u){var f=Fn();return TP(f,Kr,u)}function TP(u,f,p){if(f=$j(u,f,NP)[0],u=ex(Lo)[0],typeof f=="object"&&f!==null&&typeof f.then=="function")try{var b=mm(f)}catch(V){throw V===Dd?qg:V}else b=f;f=Fn();var k=f.queue,M=k.dispatch;return p!==f.memoizedState&&(rr.flags|=2048,$d(9,{destroy:void 0},xZ.bind(null,k,p),null)),[b,M,u]}function xZ(u,f){u.action=f}function _P(u){var f=Fn(),p=Kr;if(p!==null)return TP(f,p,u);Fn(),f=f.memoizedState,p=Fn();var b=p.queue.dispatch;return p.memoizedState=u,[f,b,!1]}function $d(u,f,p,b){return u={tag:u,create:p,deps:b,inst:f,next:null},f=rr.updateQueue,f===null&&(f=Qg(),rr.updateQueue=f),p=f.lastEffect,p===null?f.lastEffect=u.next=u:(b=p.next,p.next=u,u.next=b,f.lastEffect=u),u}function MP(){return Fn().memoizedState}function tx(u,f,p,b){var k=Ua();rr.flags|=u,k.memoizedState=$d(1|f,{destroy:void 0},p,b===void 0?null:b)}function rx(u,f,p,b){var k=Fn();b=b===void 0?null:b;var M=k.memoizedState.inst;Kr!==null&&b!==null&&Ej(b,Kr.memoizedState.deps)?k.memoizedState=$d(f,M,p,b):(rr.flags|=u,k.memoizedState=$d(1|f,M,p,b))}function AP(u,f){tx(8390656,8,u,f)}function zj(u,f){rx(2048,8,u,f)}function yZ(u){rr.flags|=4;var f=rr.updateQueue;if(f===null)f=Qg(),rr.updateQueue=f,f.events=[u];else{var p=f.events;p===null?f.events=[u]:p.push(u)}}function OP(u){var f=Fn().memoizedState;return yZ({ref:f,nextImpl:u}),function(){if((Rr&2)!==0)throw Error(n(440));return f.impl.apply(void 0,arguments)}}function EP(u,f){return rx(4,2,u,f)}function DP(u,f){return rx(4,4,u,f)}function PP(u,f){if(typeof f=="function"){u=u();var p=f(u);return function(){typeof p=="function"?p():f(null)}}if(f!=null)return u=u(),f.current=u,function(){f.current=null}}function RP(u,f,p){p=p!=null?p.concat([u]):null,rx(4,4,PP.bind(null,f,u),p)}function Vj(){}function IP(u,f){var p=Fn();f=f===void 0?null:f;var b=p.memoizedState;return f!==null&&Ej(f,b[1])?b[0]:(p.memoizedState=[u,f],u)}function LP(u,f){var p=Fn();f=f===void 0?null:f;var b=p.memoizedState;if(f!==null&&Ej(f,b[1]))return b[0];if(b=u(),su){Xe(!0);try{u()}finally{Xe(!1)}}return p.memoizedState=[b,f],b}function qj(u,f,p){return p===void 0||(Io&1073741824)!==0&&(yr&261930)===0?u.memoizedState=f:(u.memoizedState=p,u=$4(),rr.lanes|=u,Jl|=u,p)}function $P(u,f,p,b){return ks(p,f)?p:Rd.current!==null?(u=qj(u,p,b),ks(u,f)||(Gn=!0),u):(Io&42)===0||(Io&1073741824)!==0&&(yr&261930)===0?(Gn=!0,u.memoizedState=p):(u=$4(),rr.lanes|=u,Jl|=u,f)}function FP(u,f,p,b,k){var M=D.p;D.p=M!==0&&8>M?M:8;var V=H.T,Q={};H.T=Q,Gj(u,!1,f,p);try{var me=k(),Pe=H.S;if(Pe!==null&&Pe(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var qe=hZ(me,b);pm(u,f,qe,Os(u))}else pm(u,f,b,Os(u))}catch(Je){pm(u,f,{then:function(){},status:"rejected",reason:Je},Os())}finally{D.p=M,V!==null&&Q.types!==null&&(V.types=Q.types),H.T=V}}function bZ(){}function Wj(u,f,p,b){if(u.tag!==5)throw Error(n(476));var k=HP(u).queue;FP(u,k,f,F,p===null?bZ:function(){return BP(u),p(b)})}function HP(u){var f=u.memoizedState;if(f!==null)return f;f={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:F},next:null};var p={};return f.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lo,lastRenderedState:p},next:null},u.memoizedState=f,u=u.alternate,u!==null&&(u.memoizedState=f),f}function BP(u){var f=HP(u);f.next===null&&(f=u.alternate.memoizedState),pm(u,f.next.queue,{},Os())}function Uj(){return Na(Em)}function zP(){return Fn().memoizedState}function VP(){return Fn().memoizedState}function vZ(u){for(var f=u.return;f!==null;){switch(f.tag){case 24:case 3:var p=Os();u=Wl(p);var b=Ul(f,u,p);b!==null&&(xs(b,f,p),um(b,f,p)),f={cache:wj()},u.payload=f;return}f=f.return}}function wZ(u,f,p){var b=Os();p={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},nx(u)?WP(f,p):(p=uj(u,f,p,b),p!==null&&(xs(p,u,b),UP(p,f,b)))}function qP(u,f,p){var b=Os();pm(u,f,p,b)}function pm(u,f,p,b){var k={lane:b,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(nx(u))WP(f,k);else{var M=u.alternate;if(u.lanes===0&&(M===null||M.lanes===0)&&(M=f.lastRenderedReducer,M!==null))try{var V=f.lastRenderedState,Q=M(V,p);if(k.hasEagerState=!0,k.eagerState=Q,ks(Q,V))return Lg(u,f,k,0),tn===null&&Ig(),!1}catch{}finally{}if(p=uj(u,f,k,b),p!==null)return xs(p,u,b),UP(p,f,b),!0}return!1}function Gj(u,f,p,b){if(b={lane:2,revertLane:kS(),gesture:null,action:b,hasEagerState:!1,eagerState:null,next:null},nx(u)){if(f)throw Error(n(479))}else f=uj(u,p,b,2),f!==null&&xs(f,u,2)}function nx(u){var f=u.alternate;return u===rr||f!==null&&f===rr}function WP(u,f){Id=Xg=!0;var p=u.pending;p===null?f.next=f:(f.next=p.next,p.next=f),u.pending=f}function UP(u,f,p){if((p&4194048)!==0){var b=f.lanes;b&=u.pendingLanes,p|=b,f.lanes=p,He(u,p)}}var gm={readContext:Na,use:Zg,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useLayoutEffect:Cn,useInsertionEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useSyncExternalStore:Cn,useId:Cn,useHostTransitionStatus:Cn,useFormState:Cn,useActionState:Cn,useOptimistic:Cn,useMemoCache:Cn,useCacheRefresh:Cn};gm.useEffectEvent=Cn;var GP={readContext:Na,use:Zg,useCallback:function(u,f){return Ua().memoizedState=[u,f===void 0?null:f],u},useContext:Na,useEffect:AP,useImperativeHandle:function(u,f,p){p=p!=null?p.concat([u]):null,tx(4194308,4,PP.bind(null,f,u),p)},useLayoutEffect:function(u,f){return tx(4194308,4,u,f)},useInsertionEffect:function(u,f){tx(4,2,u,f)},useMemo:function(u,f){var p=Ua();f=f===void 0?null:f;var b=u();if(su){Xe(!0);try{u()}finally{Xe(!1)}}return p.memoizedState=[b,f],b},useReducer:function(u,f,p){var b=Ua();if(p!==void 0){var k=p(f);if(su){Xe(!0);try{p(f)}finally{Xe(!1)}}}else k=f;return b.memoizedState=b.baseState=k,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:u,lastRenderedState:k},b.queue=u,u=u.dispatch=wZ.bind(null,rr,u),[b.memoizedState,u]},useRef:function(u){var f=Ua();return u={current:u},f.memoizedState=u},useState:function(u){u=Hj(u);var f=u.queue,p=qP.bind(null,rr,f);return f.dispatch=p,[u.memoizedState,p]},useDebugValue:Vj,useDeferredValue:function(u,f){var p=Ua();return qj(p,u,f)},useTransition:function(){var u=Hj(!1);return u=FP.bind(null,rr,u.queue,!0,!1),Ua().memoizedState=u,[!1,u]},useSyncExternalStore:function(u,f,p){var b=rr,k=Ua();if(Nr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=f(),tn===null)throw Error(n(349));(yr&127)!==0||mP(b,f,p)}k.memoizedState=p;var M={value:p,getSnapshot:f};return k.queue=M,AP(gP.bind(null,b,M,u),[u]),b.flags|=2048,$d(9,{destroy:void 0},pP.bind(null,b,M,p,f),null),p},useId:function(){var u=Ua(),f=tn.identifierPrefix;if(Nr){var p=Yi,b=Gi;p=(b&~(1<<32-ae(b)-1)).toString(32)+p,f="_"+f+"R_"+p,p=Jg++,0<p&&(f+="H"+p.toString(32)),f+="_"}else p=mZ++,f="_"+f+"r_"+p.toString(32)+"_";return u.memoizedState=f},useHostTransitionStatus:Uj,useFormState:kP,useActionState:kP,useOptimistic:function(u){var f=Ua();f.memoizedState=f.baseState=u;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=p,f=Gj.bind(null,rr,!0,p),p.dispatch=f,[u,f]},useMemoCache:Lj,useCacheRefresh:function(){return Ua().memoizedState=vZ.bind(null,rr)},useEffectEvent:function(u){var f=Ua(),p={impl:u};return f.memoizedState=p,function(){if((Rr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Yj={readContext:Na,use:Zg,useCallback:IP,useContext:Na,useEffect:zj,useImperativeHandle:RP,useInsertionEffect:EP,useLayoutEffect:DP,useMemo:LP,useReducer:ex,useRef:MP,useState:function(){return ex(Lo)},useDebugValue:Vj,useDeferredValue:function(u,f){var p=Fn();return $P(p,Kr.memoizedState,u,f)},useTransition:function(){var u=ex(Lo)[0],f=Fn().memoizedState;return[typeof u=="boolean"?u:mm(u),f]},useSyncExternalStore:hP,useId:zP,useHostTransitionStatus:Uj,useFormState:CP,useActionState:CP,useOptimistic:function(u,f){var p=Fn();return bP(p,Kr,u,f)},useMemoCache:Lj,useCacheRefresh:VP};Yj.useEffectEvent=OP;var YP={readContext:Na,use:Zg,useCallback:IP,useContext:Na,useEffect:zj,useImperativeHandle:RP,useInsertionEffect:EP,useLayoutEffect:DP,useMemo:LP,useReducer:Fj,useRef:MP,useState:function(){return Fj(Lo)},useDebugValue:Vj,useDeferredValue:function(u,f){var p=Fn();return Kr===null?qj(p,u,f):$P(p,Kr.memoizedState,u,f)},useTransition:function(){var u=Fj(Lo)[0],f=Fn().memoizedState;return[typeof u=="boolean"?u:mm(u),f]},useSyncExternalStore:hP,useId:zP,useHostTransitionStatus:Uj,useFormState:_P,useActionState:_P,useOptimistic:function(u,f){var p=Fn();return Kr!==null?bP(p,Kr,u,f):(p.baseState=u,[u,p.queue.dispatch])},useMemoCache:Lj,useCacheRefresh:VP};YP.useEffectEvent=OP;function Kj(u,f,p,b){f=u.memoizedState,p=p(b,f),p=p==null?f:m({},f,p),u.memoizedState=p,u.lanes===0&&(u.updateQueue.baseState=p)}var Xj={enqueueSetState:function(u,f,p){u=u._reactInternals;var b=Os(),k=Wl(b);k.payload=f,p!=null&&(k.callback=p),f=Ul(u,k,b),f!==null&&(xs(f,u,b),um(f,u,b))},enqueueReplaceState:function(u,f,p){u=u._reactInternals;var b=Os(),k=Wl(b);k.tag=1,k.payload=f,p!=null&&(k.callback=p),f=Ul(u,k,b),f!==null&&(xs(f,u,b),um(f,u,b))},enqueueForceUpdate:function(u,f){u=u._reactInternals;var p=Os(),b=Wl(p);b.tag=2,f!=null&&(b.callback=f),f=Ul(u,b,p),f!==null&&(xs(f,u,p),um(f,u,p))}};function KP(u,f,p,b,k,M,V){return u=u.stateNode,typeof u.shouldComponentUpdate=="function"?u.shouldComponentUpdate(b,M,V):f.prototype&&f.prototype.isPureReactComponent?!rm(p,b)||!rm(k,M):!0}function XP(u,f,p,b){u=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(p,b),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(p,b),f.state!==u&&Xj.enqueueReplaceState(f,f.state,null)}function iu(u,f){var p=f;if("ref"in f){p={};for(var b in f)b!=="ref"&&(p[b]=f[b])}if(u=u.defaultProps){p===f&&(p=m({},p));for(var k in u)p[k]===void 0&&(p[k]=u[k])}return p}function JP(u){Rg(u)}function QP(u){console.error(u)}function ZP(u){Rg(u)}function ax(u,f){try{var p=u.onUncaughtError;p(f.value,{componentStack:f.stack})}catch(b){setTimeout(function(){throw b})}}function e4(u,f,p){try{var b=u.onCaughtError;b(p.value,{componentStack:p.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function Jj(u,f,p){return p=Wl(p),p.tag=3,p.payload={element:null},p.callback=function(){ax(u,f)},p}function t4(u){return u=Wl(u),u.tag=3,u}function r4(u,f,p,b){var k=p.type.getDerivedStateFromError;if(typeof k=="function"){var M=b.value;u.payload=function(){return k(M)},u.callback=function(){e4(f,p,b)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(u.callback=function(){e4(f,p,b),typeof k!="function"&&(Ql===null?Ql=new Set([this]):Ql.add(this));var Q=b.stack;this.componentDidCatch(b.value,{componentStack:Q!==null?Q:""})})}function jZ(u,f,p,b,k){if(p.flags|=32768,b!==null&&typeof b=="object"&&typeof b.then=="function"){if(f=p.alternate,f!==null&&Ad(f,p,k,!0),p=Ts.current,p!==null){switch(p.tag){case 31:case 13:return Xs===null?gx():p.alternate===null&&Tn===0&&(Tn=3),p.flags&=-257,p.flags|=65536,p.lanes=k,b===Wg?p.flags|=16384:(f=p.updateQueue,f===null?p.updateQueue=new Set([b]):f.add(b),jS(u,b,k)),!1;case 22:return p.flags|=65536,b===Wg?p.flags|=16384:(f=p.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([b])},p.updateQueue=f):(p=f.retryQueue,p===null?f.retryQueue=new Set([b]):p.add(b)),jS(u,b,k)),!1}throw Error(n(435,p.tag))}return jS(u,b,k),gx(),!1}if(Nr)return f=Ts.current,f!==null?((f.flags&65536)===0&&(f.flags|=256),f.flags|=65536,f.lanes=k,b!==gj&&(u=Error(n(422),{cause:b}),sm(Us(u,p)))):(b!==gj&&(f=Error(n(423),{cause:b}),sm(Us(f,p))),u=u.current.alternate,u.flags|=65536,k&=-k,u.lanes|=k,b=Us(b,p),k=Jj(u.stateNode,b,k),Tj(u,k),Tn!==4&&(Tn=2)),!1;var M=Error(n(520),{cause:b});if(M=Us(M,p),Nm===null?Nm=[M]:Nm.push(M),Tn!==4&&(Tn=2),f===null)return!0;b=Us(b,p),p=f;do{switch(p.tag){case 3:return p.flags|=65536,u=k&-k,p.lanes|=u,u=Jj(p.stateNode,b,u),Tj(p,u),!1;case 1:if(f=p.type,M=p.stateNode,(p.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Ql===null||!Ql.has(M))))return p.flags|=65536,k&=-k,p.lanes|=k,k=t4(k),r4(k,u,p,b),Tj(p,k),!1}p=p.return}while(p!==null);return!1}var Qj=Error(n(461)),Gn=!1;function ka(u,f,p,b){f.child=u===null?iP(f,null,p,b):au(f,u.child,p,b)}function n4(u,f,p,b,k){p=p.render;var M=f.ref;if("ref"in b){var V={};for(var Q in b)Q!=="ref"&&(V[Q]=b[Q])}else V=b;return eu(f),b=Dj(u,f,p,V,M,k),Q=Pj(),u!==null&&!Gn?(Rj(u,f,k),$o(u,f,k)):(Nr&&Q&&mj(f),f.flags|=1,ka(u,f,b,k),f.child)}function a4(u,f,p,b,k){if(u===null){var M=p.type;return typeof M=="function"&&!dj(M)&&M.defaultProps===void 0&&p.compare===null?(f.tag=15,f.type=M,s4(u,f,M,b,k)):(u=Fg(p.type,null,b,f,f.mode,k),u.ref=f.ref,u.return=f,f.child=u)}if(M=u.child,!iS(u,k)){var V=M.memoizedProps;if(p=p.compare,p=p!==null?p:rm,p(V,b)&&u.ref===f.ref)return $o(u,f,k)}return f.flags|=1,u=Eo(M,b),u.ref=f.ref,u.return=f,f.child=u}function s4(u,f,p,b,k){if(u!==null){var M=u.memoizedProps;if(rm(M,b)&&u.ref===f.ref)if(Gn=!1,f.pendingProps=b=M,iS(u,k))(u.flags&131072)!==0&&(Gn=!0);else return f.lanes=u.lanes,$o(u,f,k)}return Zj(u,f,p,b,k)}function i4(u,f,p,b){var k=b.children,M=u!==null?u.memoizedState:null;if(u===null&&f.stateNode===null&&(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),b.mode==="hidden"){if((f.flags&128)!==0){if(M=M!==null?M.baseLanes|p:p,u!==null){for(b=f.child=u.child,k=0;b!==null;)k=k|b.lanes|b.childLanes,b=b.sibling;b=k&~M}else b=0,f.child=null;return o4(u,f,M,p,b)}if((p&536870912)!==0)f.memoizedState={baseLanes:0,cachePool:null},u!==null&&Vg(f,M!==null?M.cachePool:null),M!==null?cP(f,M):Mj(),uP(f);else return b=f.lanes=536870912,o4(u,f,M!==null?M.baseLanes|p:p,p,b)}else M!==null?(Vg(f,M.cachePool),cP(f,M),Yl(),f.memoizedState=null):(u!==null&&Vg(f,null),Mj(),Yl());return ka(u,f,k,p),f.child}function xm(u,f){return u!==null&&u.tag===22||f.stateNode!==null||(f.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),f.sibling}function o4(u,f,p,b,k){var M=Sj();return M=M===null?null:{parent:Wn._currentValue,pool:M},f.memoizedState={baseLanes:p,cachePool:M},u!==null&&Vg(f,null),Mj(),uP(f),u!==null&&Ad(u,f,b,!0),f.childLanes=k,null}function sx(u,f){return f=ox({mode:f.mode,children:f.children},u.mode),f.ref=u.ref,u.child=f,f.return=u,f}function l4(u,f,p){return au(f,u.child,null,p),u=sx(f,f.pendingProps),u.flags|=2,_s(f),f.memoizedState=null,u}function SZ(u,f,p){var b=f.pendingProps,k=(f.flags&128)!==0;if(f.flags&=-129,u===null){if(Nr){if(b.mode==="hidden")return u=sx(f,b),f.lanes=536870912,xm(null,u);if(Oj(f),(u=dn)?(u=v3(u,Ks),u=u!==null&&u.data==="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Hl!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},p=WD(u),p.return=f,f.child=p,Sa=f,dn=null)):u=null,u===null)throw zl(f);return f.lanes=536870912,null}return sx(f,b)}var M=u.memoizedState;if(M!==null){var V=M.dehydrated;if(Oj(f),k)if(f.flags&256)f.flags&=-257,f=l4(u,f,p);else if(f.memoizedState!==null)f.child=u.child,f.flags|=128,f=null;else throw Error(n(558));else if(Gn||Ad(u,f,p,!1),k=(p&u.childLanes)!==0,Gn||k){if(b=tn,b!==null&&(V=Ce(b,p),V!==0&&V!==M.retryLane))throw M.retryLane=V,Xc(u,V),xs(b,u,V),Qj;gx(),f=l4(u,f,p)}else u=M.treeContext,dn=Js(V.nextSibling),Sa=f,Nr=!0,Bl=null,Ks=!1,u!==null&&YD(f,u),f=sx(f,b),f.flags|=4096;return f}return u=Eo(u.child,{mode:b.mode,children:b.children}),u.ref=f.ref,f.child=u,u.return=f,u}function ix(u,f){var p=f.ref;if(p===null)u!==null&&u.ref!==null&&(f.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(u===null||u.ref!==p)&&(f.flags|=4194816)}}function Zj(u,f,p,b,k){return eu(f),p=Dj(u,f,p,b,void 0,k),b=Pj(),u!==null&&!Gn?(Rj(u,f,k),$o(u,f,k)):(Nr&&b&&mj(f),f.flags|=1,ka(u,f,p,k),f.child)}function c4(u,f,p,b,k,M){return eu(f),f.updateQueue=null,p=fP(f,b,p,k),dP(u),b=Pj(),u!==null&&!Gn?(Rj(u,f,M),$o(u,f,M)):(Nr&&b&&mj(f),f.flags|=1,ka(u,f,p,M),f.child)}function u4(u,f,p,b,k){if(eu(f),f.stateNode===null){var M=Cd,V=p.contextType;typeof V=="object"&&V!==null&&(M=Na(V)),M=new p(b,M),f.memoizedState=M.state!==null&&M.state!==void 0?M.state:null,M.updater=Xj,f.stateNode=M,M._reactInternals=f,M=f.stateNode,M.props=b,M.state=f.memoizedState,M.refs={},kj(f),V=p.contextType,M.context=typeof V=="object"&&V!==null?Na(V):Cd,M.state=f.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(Kj(f,p,V,b),M.state=f.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof M.getSnapshotBeforeUpdate=="function"||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(V=M.state,typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount(),V!==M.state&&Xj.enqueueReplaceState(M,M.state,null),fm(f,b,M,k),dm(),M.state=f.memoizedState),typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!0}else if(u===null){M=f.stateNode;var Q=f.memoizedProps,me=iu(p,Q);M.props=me;var Pe=M.context,qe=p.contextType;V=Cd,typeof qe=="object"&&qe!==null&&(V=Na(qe));var Je=p.getDerivedStateFromProps;qe=typeof Je=="function"||typeof M.getSnapshotBeforeUpdate=="function",Q=f.pendingProps!==Q,qe||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(Q||Pe!==V)&&XP(f,M,b,V),ql=!1;var Re=f.memoizedState;M.state=Re,fm(f,b,M,k),dm(),Pe=f.memoizedState,Q||Re!==Pe||ql?(typeof Je=="function"&&(Kj(f,p,Je,b),Pe=f.memoizedState),(me=ql||KP(f,p,me,b,Re,Pe,V))?(qe||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(f.flags|=4194308)):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=b,f.memoizedState=Pe),M.props=b,M.state=Pe,M.context=V,b=me):(typeof M.componentDidMount=="function"&&(f.flags|=4194308),b=!1)}else{M=f.stateNode,Cj(u,f),V=f.memoizedProps,qe=iu(p,V),M.props=qe,Je=f.pendingProps,Re=M.context,Pe=p.contextType,me=Cd,typeof Pe=="object"&&Pe!==null&&(me=Na(Pe)),Q=p.getDerivedStateFromProps,(Pe=typeof Q=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(V!==Je||Re!==me)&&XP(f,M,b,me),ql=!1,Re=f.memoizedState,M.state=Re,fm(f,b,M,k),dm();var Fe=f.memoizedState;V!==Je||Re!==Fe||ql||u!==null&&u.dependencies!==null&&Bg(u.dependencies)?(typeof Q=="function"&&(Kj(f,p,Q,b),Fe=f.memoizedState),(qe=ql||KP(f,p,qe,b,Re,Fe,me)||u!==null&&u.dependencies!==null&&Bg(u.dependencies))?(Pe||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(b,Fe,me),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(b,Fe,me)),typeof M.componentDidUpdate=="function"&&(f.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Re===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Re===u.memoizedState||(f.flags|=1024),f.memoizedProps=b,f.memoizedState=Fe),M.props=b,M.state=Fe,M.context=me,b=qe):(typeof M.componentDidUpdate!="function"||V===u.memoizedProps&&Re===u.memoizedState||(f.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||V===u.memoizedProps&&Re===u.memoizedState||(f.flags|=1024),b=!1)}return M=b,ix(u,f),b=(f.flags&128)!==0,M||b?(M=f.stateNode,p=b&&typeof p.getDerivedStateFromError!="function"?null:M.render(),f.flags|=1,u!==null&&b?(f.child=au(f,u.child,null,k),f.child=au(f,null,p,k)):ka(u,f,p,k),f.memoizedState=M.state,u=f.child):u=$o(u,f,k),u}function d4(u,f,p,b){return Qc(),f.flags|=256,ka(u,f,p,b),f.child}var eS={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tS(u){return{baseLanes:u,cachePool:eP()}}function rS(u,f,p){return u=u!==null?u.childLanes&~p:0,f&&(u|=As),u}function f4(u,f,p){var b=f.pendingProps,k=!1,M=(f.flags&128)!==0,V;if((V=M)||(V=u!==null&&u.memoizedState===null?!1:($n.current&2)!==0),V&&(k=!0,f.flags&=-129),V=(f.flags&32)!==0,f.flags&=-33,u===null){if(Nr){if(k?Gl(f):Yl(),(u=dn)?(u=v3(u,Ks),u=u!==null&&u.data!=="&"?u:null,u!==null&&(f.memoizedState={dehydrated:u,treeContext:Hl!==null?{id:Gi,overflow:Yi}:null,retryLane:536870912,hydrationErrors:null},p=WD(u),p.return=f,f.child=p,Sa=f,dn=null)):u=null,u===null)throw zl(f);return $S(u)?f.lanes=32:f.lanes=536870912,null}var Q=b.children;return b=b.fallback,k?(Yl(),k=f.mode,Q=ox({mode:"hidden",children:Q},k),b=Jc(b,k,p,null),Q.return=f,b.return=f,Q.sibling=b,f.child=Q,b=f.child,b.memoizedState=tS(p),b.childLanes=rS(u,V,p),f.memoizedState=eS,xm(null,b)):(Gl(f),nS(f,Q))}var me=u.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(M)f.flags&256?(Gl(f),f.flags&=-257,f=aS(u,f,p)):f.memoizedState!==null?(Yl(),f.child=u.child,f.flags|=128,f=null):(Yl(),Q=b.fallback,k=f.mode,b=ox({mode:"visible",children:b.children},k),Q=Jc(Q,k,p,null),Q.flags|=2,b.return=f,Q.return=f,b.sibling=Q,f.child=b,au(f,u.child,null,p),b=f.child,b.memoizedState=tS(p),b.childLanes=rS(u,V,p),f.memoizedState=eS,f=xm(null,b));else if(Gl(f),$S(Q)){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Pe=V.dgst;V=Pe,b=Error(n(419)),b.stack="",b.digest=V,sm({value:b,source:null,stack:null}),f=aS(u,f,p)}else if(Gn||Ad(u,f,p,!1),V=(p&u.childLanes)!==0,Gn||V){if(V=tn,V!==null&&(b=Ce(V,p),b!==0&&b!==me.retryLane))throw me.retryLane=b,Xc(u,b),xs(V,u,b),Qj;LS(Q)||gx(),f=aS(u,f,p)}else LS(Q)?(f.flags|=192,f.child=u.child,f=null):(u=me.treeContext,dn=Js(Q.nextSibling),Sa=f,Nr=!0,Bl=null,Ks=!1,u!==null&&YD(f,u),f=nS(f,b.children),f.flags|=4096);return f}return k?(Yl(),Q=b.fallback,k=f.mode,me=u.child,Pe=me.sibling,b=Eo(me,{mode:"hidden",children:b.children}),b.subtreeFlags=me.subtreeFlags&65011712,Pe!==null?Q=Eo(Pe,Q):(Q=Jc(Q,k,p,null),Q.flags|=2),Q.return=f,b.return=f,b.sibling=Q,f.child=b,xm(null,b),b=f.child,Q=u.child.memoizedState,Q===null?Q=tS(p):(k=Q.cachePool,k!==null?(me=Wn._currentValue,k=k.parent!==me?{parent:me,pool:me}:k):k=eP(),Q={baseLanes:Q.baseLanes|p,cachePool:k}),b.memoizedState=Q,b.childLanes=rS(u,V,p),f.memoizedState=eS,xm(u.child,b)):(Gl(f),p=u.child,u=p.sibling,p=Eo(p,{mode:"visible",children:b.children}),p.return=f,p.sibling=null,u!==null&&(V=f.deletions,V===null?(f.deletions=[u],f.flags|=16):V.push(u)),f.child=p,f.memoizedState=null,p)}function nS(u,f){return f=ox({mode:"visible",children:f},u.mode),f.return=u,u.child=f}function ox(u,f){return u=Cs(22,u,null,f),u.lanes=0,u}function aS(u,f,p){return au(f,u.child,null,p),u=nS(f,f.pendingProps.children),u.flags|=2,f.memoizedState=null,u}function h4(u,f,p){u.lanes|=f;var b=u.alternate;b!==null&&(b.lanes|=f),bj(u.return,f,p)}function sS(u,f,p,b,k,M){var V=u.memoizedState;V===null?u.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:b,tail:p,tailMode:k,treeForkCount:M}:(V.isBackwards=f,V.rendering=null,V.renderingStartTime=0,V.last=b,V.tail=p,V.tailMode=k,V.treeForkCount=M)}function m4(u,f,p){var b=f.pendingProps,k=b.revealOrder,M=b.tail;b=b.children;var V=$n.current,Q=(V&2)!==0;if(Q?(V=V&1|2,f.flags|=128):V&=1,oe($n,V),ka(u,f,b,p),b=Nr?am:0,!Q&&u!==null&&(u.flags&128)!==0)e:for(u=f.child;u!==null;){if(u.tag===13)u.memoizedState!==null&&h4(u,p,f);else if(u.tag===19)h4(u,p,f);else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===f)break e;for(;u.sibling===null;){if(u.return===null||u.return===f)break e;u=u.return}u.sibling.return=u.return,u=u.sibling}switch(k){case"forwards":for(p=f.child,k=null;p!==null;)u=p.alternate,u!==null&&Kg(u)===null&&(k=p),p=p.sibling;p=k,p===null?(k=f.child,f.child=null):(k=p.sibling,p.sibling=null),sS(f,!1,k,p,M,b);break;case"backwards":case"unstable_legacy-backwards":for(p=null,k=f.child,f.child=null;k!==null;){if(u=k.alternate,u!==null&&Kg(u)===null){f.child=k;break}u=k.sibling,k.sibling=p,p=k,k=u}sS(f,!0,p,null,M,b);break;case"together":sS(f,!1,null,null,void 0,b);break;default:f.memoizedState=null}return f.child}function $o(u,f,p){if(u!==null&&(f.dependencies=u.dependencies),Jl|=f.lanes,(p&f.childLanes)===0)if(u!==null){if(Ad(u,f,p,!1),(p&f.childLanes)===0)return null}else return null;if(u!==null&&f.child!==u.child)throw Error(n(153));if(f.child!==null){for(u=f.child,p=Eo(u,u.pendingProps),f.child=p,p.return=f;u.sibling!==null;)u=u.sibling,p=p.sibling=Eo(u,u.pendingProps),p.return=f;p.sibling=null}return f.child}function iS(u,f){return(u.lanes&f)!==0?!0:(u=u.dependencies,!!(u!==null&&Bg(u)))}function NZ(u,f,p){switch(f.tag){case 3:Ee(f,f.stateNode.containerInfo),Vl(f,Wn,u.memoizedState.cache),Qc();break;case 27:case 5:Oe(f);break;case 4:Ee(f,f.stateNode.containerInfo);break;case 10:Vl(f,f.type,f.memoizedProps.value);break;case 31:if(f.memoizedState!==null)return f.flags|=128,Oj(f),null;break;case 13:var b=f.memoizedState;if(b!==null)return b.dehydrated!==null?(Gl(f),f.flags|=128,null):(p&f.child.childLanes)!==0?f4(u,f,p):(Gl(f),u=$o(u,f,p),u!==null?u.sibling:null);Gl(f);break;case 19:var k=(u.flags&128)!==0;if(b=(p&f.childLanes)!==0,b||(Ad(u,f,p,!1),b=(p&f.childLanes)!==0),k){if(b)return m4(u,f,p);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),oe($n,$n.current),b)break;return null;case 22:return f.lanes=0,i4(u,f,p,f.pendingProps);case 24:Vl(f,Wn,u.memoizedState.cache)}return $o(u,f,p)}function p4(u,f,p){if(u!==null)if(u.memoizedProps!==f.pendingProps)Gn=!0;else{if(!iS(u,p)&&(f.flags&128)===0)return Gn=!1,NZ(u,f,p);Gn=(u.flags&131072)!==0}else Gn=!1,Nr&&(f.flags&1048576)!==0&&GD(f,am,f.index);switch(f.lanes=0,f.tag){case 16:e:{var b=f.pendingProps;if(u=ru(f.elementType),f.type=u,typeof u=="function")dj(u)?(b=iu(u,b),f.tag=1,f=u4(null,f,u,b,p)):(f.tag=0,f=Zj(null,f,u,b,p));else{if(u!=null){var k=u.$$typeof;if(k===O){f.tag=11,f=n4(null,f,u,b,p);break e}else if(k===E){f.tag=14,f=a4(null,f,u,b,p);break e}}throw f=Y(u)||u,Error(n(306,f,""))}}return f;case 0:return Zj(u,f,f.type,f.pendingProps,p);case 1:return b=f.type,k=iu(b,f.pendingProps),u4(u,f,b,k,p);case 3:e:{if(Ee(f,f.stateNode.containerInfo),u===null)throw Error(n(387));b=f.pendingProps;var M=f.memoizedState;k=M.element,Cj(u,f),fm(f,b,null,p);var V=f.memoizedState;if(b=V.cache,Vl(f,Wn,b),b!==M.cache&&vj(f,[Wn],p,!0),dm(),b=V.element,M.isDehydrated)if(M={element:b,isDehydrated:!1,cache:V.cache},f.updateQueue.baseState=M,f.memoizedState=M,f.flags&256){f=d4(u,f,b,p);break e}else if(b!==k){k=Us(Error(n(424)),f),sm(k),f=d4(u,f,b,p);break e}else{switch(u=f.stateNode.containerInfo,u.nodeType){case 9:u=u.body;break;default:u=u.nodeName==="HTML"?u.ownerDocument.body:u}for(dn=Js(u.firstChild),Sa=f,Nr=!0,Bl=null,Ks=!0,p=iP(f,null,b,p),f.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Qc(),b===k){f=$o(u,f,p);break e}ka(u,f,b,p)}f=f.child}return f;case 26:return ix(u,f),u===null?(p=C3(f.type,null,f.pendingProps,null))?f.memoizedState=p:Nr||(p=f.type,u=f.pendingProps,b=Sx(pe.current).createElement(p),b[ot]=f,b[nr]=u,Ca(b,p,u),hr(b),f.stateNode=b):f.memoizedState=C3(f.type,u.memoizedProps,f.pendingProps,u.memoizedState),null;case 27:return Oe(f),u===null&&Nr&&(b=f.stateNode=S3(f.type,f.pendingProps,pe.current),Sa=f,Ks=!0,k=dn,rc(f.type)?(FS=k,dn=Js(b.firstChild)):dn=k),ka(u,f,f.pendingProps.children,p),ix(u,f),u===null&&(f.flags|=4194304),f.child;case 5:return u===null&&Nr&&((k=b=dn)&&(b=eee(b,f.type,f.pendingProps,Ks),b!==null?(f.stateNode=b,Sa=f,dn=Js(b.firstChild),Ks=!1,k=!0):k=!1),k||zl(f)),Oe(f),k=f.type,M=f.pendingProps,V=u!==null?u.memoizedProps:null,b=M.children,PS(k,M)?b=null:V!==null&&PS(k,V)&&(f.flags|=32),f.memoizedState!==null&&(k=Dj(u,f,pZ,null,null,p),Em._currentValue=k),ix(u,f),ka(u,f,b,p),f.child;case 6:return u===null&&Nr&&((u=p=dn)&&(p=tee(p,f.pendingProps,Ks),p!==null?(f.stateNode=p,Sa=f,dn=null,u=!0):u=!1),u||zl(f)),null;case 13:return f4(u,f,p);case 4:return Ee(f,f.stateNode.containerInfo),b=f.pendingProps,u===null?f.child=au(f,null,b,p):ka(u,f,b,p),f.child;case 11:return n4(u,f,f.type,f.pendingProps,p);case 7:return ka(u,f,f.pendingProps,p),f.child;case 8:return ka(u,f,f.pendingProps.children,p),f.child;case 12:return ka(u,f,f.pendingProps.children,p),f.child;case 10:return b=f.pendingProps,Vl(f,f.type,b.value),ka(u,f,b.children,p),f.child;case 9:return k=f.type._context,b=f.pendingProps.children,eu(f),k=Na(k),b=b(k),f.flags|=1,ka(u,f,b,p),f.child;case 14:return a4(u,f,f.type,f.pendingProps,p);case 15:return s4(u,f,f.type,f.pendingProps,p);case 19:return m4(u,f,p);case 31:return SZ(u,f,p);case 22:return i4(u,f,p,f.pendingProps);case 24:return eu(f),b=Na(Wn),u===null?(k=Sj(),k===null&&(k=tn,M=wj(),k.pooledCache=M,M.refCount++,M!==null&&(k.pooledCacheLanes|=p),k=M),f.memoizedState={parent:b,cache:k},kj(f),Vl(f,Wn,k)):((u.lanes&p)!==0&&(Cj(u,f),fm(f,null,null,p),dm()),k=u.memoizedState,M=f.memoizedState,k.parent!==b?(k={parent:b,cache:b},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),Vl(f,Wn,b)):(b=M.cache,Vl(f,Wn,b),b!==k.cache&&vj(f,[Wn],p,!0))),ka(u,f,f.pendingProps.children,p),f.child;case 29:throw f.pendingProps}throw Error(n(156,f.tag))}function Fo(u){u.flags|=4}function oS(u,f,p,b,k){if((f=(u.mode&32)!==0)&&(f=!1),f){if(u.flags|=16777216,(k&335544128)===k)if(u.stateNode.complete)u.flags|=8192;else if(z4())u.flags|=8192;else throw nu=Wg,Nj}else u.flags&=-16777217}function g4(u,f){if(f.type!=="stylesheet"||(f.state.loading&4)!==0)u.flags&=-16777217;else if(u.flags|=16777216,!O3(f))if(z4())u.flags|=8192;else throw nu=Wg,Nj}function lx(u,f){f!==null&&(u.flags|=4),u.flags&16384&&(f=u.tag!==22?J():536870912,u.lanes|=f,zd|=f)}function ym(u,f){if(!Nr)switch(u.tailMode){case"hidden":f=u.tail;for(var p=null;f!==null;)f.alternate!==null&&(p=f),f=f.sibling;p===null?u.tail=null:p.sibling=null;break;case"collapsed":p=u.tail;for(var b=null;p!==null;)p.alternate!==null&&(b=p),p=p.sibling;b===null?f||u.tail===null?u.tail=null:u.tail.sibling=null:b.sibling=null}}function fn(u){var f=u.alternate!==null&&u.alternate.child===u.child,p=0,b=0;if(f)for(var k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags&65011712,b|=k.flags&65011712,k.return=u,k=k.sibling;else for(k=u.child;k!==null;)p|=k.lanes|k.childLanes,b|=k.subtreeFlags,b|=k.flags,k.return=u,k=k.sibling;return u.subtreeFlags|=b,u.childLanes=p,f}function kZ(u,f,p){var b=f.pendingProps;switch(pj(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fn(f),null;case 1:return fn(f),null;case 3:return p=f.stateNode,b=null,u!==null&&(b=u.memoizedState.cache),f.memoizedState.cache!==b&&(f.flags|=2048),Ro(Wn),ge(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(u===null||u.child===null)&&(Md(f)?Fo(f):u===null||u.memoizedState.isDehydrated&&(f.flags&256)===0||(f.flags|=1024,xj())),fn(f),null;case 26:var k=f.type,M=f.memoizedState;return u===null?(Fo(f),M!==null?(fn(f),g4(f,M)):(fn(f),oS(f,k,null,b,p))):M?M!==u.memoizedState?(Fo(f),fn(f),g4(f,M)):(fn(f),f.flags&=-16777217):(u=u.memoizedProps,u!==b&&Fo(f),fn(f),oS(f,k,u,b,p)),null;case 27:if(ze(f),p=pe.current,k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Fo(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return fn(f),null}u=le.current,Md(f)?KD(f):(u=S3(k,b,p),f.stateNode=u,Fo(f))}return fn(f),null;case 5:if(ze(f),k=f.type,u!==null&&f.stateNode!=null)u.memoizedProps!==b&&Fo(f);else{if(!b){if(f.stateNode===null)throw Error(n(166));return fn(f),null}if(M=le.current,Md(f))KD(f);else{var V=Sx(pe.current);switch(M){case 1:M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case 2:M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;default:switch(k){case"svg":M=V.createElementNS("http://www.w3.org/2000/svg",k);break;case"math":M=V.createElementNS("http://www.w3.org/1998/Math/MathML",k);break;case"script":M=V.createElement("div"),M.innerHTML="<script><\/script>",M=M.removeChild(M.firstChild);break;case"select":M=typeof b.is=="string"?V.createElement("select",{is:b.is}):V.createElement("select"),b.multiple?M.multiple=!0:b.size&&(M.size=b.size);break;default:M=typeof b.is=="string"?V.createElement(k,{is:b.is}):V.createElement(k)}}M[ot]=f,M[nr]=b;e:for(V=f.child;V!==null;){if(V.tag===5||V.tag===6)M.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===f)break e;for(;V.sibling===null;){if(V.return===null||V.return===f)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}f.stateNode=M;e:switch(Ca(M,k,b),k){case"button":case"input":case"select":case"textarea":b=!!b.autoFocus;break e;case"img":b=!0;break e;default:b=!1}b&&Fo(f)}}return fn(f),oS(f,f.type,u===null?null:u.memoizedProps,f.pendingProps,p),null;case 6:if(u&&f.stateNode!=null)u.memoizedProps!==b&&Fo(f);else{if(typeof b!="string"&&f.stateNode===null)throw Error(n(166));if(u=pe.current,Md(f)){if(u=f.stateNode,p=f.memoizedProps,b=null,k=Sa,k!==null)switch(k.tag){case 27:case 5:b=k.memoizedProps}u[ot]=f,u=!!(u.nodeValue===p||b!==null&&b.suppressHydrationWarning===!0||f3(u.nodeValue,p)),u||zl(f,!0)}else u=Sx(u).createTextNode(b),u[ot]=f,f.stateNode=u}return fn(f),null;case 31:if(p=f.memoizedState,u===null||u.memoizedState!==null){if(b=Md(f),p!==null){if(u===null){if(!b)throw Error(n(318));if(u=f.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(n(557));u[ot]=f}else Qc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;fn(f),u=!1}else p=xj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=p),u=!0;if(!u)return f.flags&256?(_s(f),f):(_s(f),null);if((f.flags&128)!==0)throw Error(n(558))}return fn(f),null;case 13:if(b=f.memoizedState,u===null||u.memoizedState!==null&&u.memoizedState.dehydrated!==null){if(k=Md(f),b!==null&&b.dehydrated!==null){if(u===null){if(!k)throw Error(n(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(n(317));k[ot]=f}else Qc(),(f.flags&128)===0&&(f.memoizedState=null),f.flags|=4;fn(f),k=!1}else k=xj(),u!==null&&u.memoizedState!==null&&(u.memoizedState.hydrationErrors=k),k=!0;if(!k)return f.flags&256?(_s(f),f):(_s(f),null)}return _s(f),(f.flags&128)!==0?(f.lanes=p,f):(p=b!==null,u=u!==null&&u.memoizedState!==null,p&&(b=f.child,k=null,b.alternate!==null&&b.alternate.memoizedState!==null&&b.alternate.memoizedState.cachePool!==null&&(k=b.alternate.memoizedState.cachePool.pool),M=null,b.memoizedState!==null&&b.memoizedState.cachePool!==null&&(M=b.memoizedState.cachePool.pool),M!==k&&(b.flags|=2048)),p!==u&&p&&(f.child.flags|=8192),lx(f,f.updateQueue),fn(f),null);case 4:return ge(),u===null&&MS(f.stateNode.containerInfo),fn(f),null;case 10:return Ro(f.type),fn(f),null;case 19:if(Z($n),b=f.memoizedState,b===null)return fn(f),null;if(k=(f.flags&128)!==0,M=b.rendering,M===null)if(k)ym(b,!1);else{if(Tn!==0||u!==null&&(u.flags&128)!==0)for(u=f.child;u!==null;){if(M=Kg(u),M!==null){for(f.flags|=128,ym(b,!1),u=M.updateQueue,f.updateQueue=u,lx(f,u),f.subtreeFlags=0,u=p,p=f.child;p!==null;)qD(p,u),p=p.sibling;return oe($n,$n.current&1|2),Nr&&Do(f,b.treeForkCount),f.child}u=u.sibling}b.tail!==null&&ft()>hx&&(f.flags|=128,k=!0,ym(b,!1),f.lanes=4194304)}else{if(!k)if(u=Kg(M),u!==null){if(f.flags|=128,k=!0,u=u.updateQueue,f.updateQueue=u,lx(f,u),ym(b,!0),b.tail===null&&b.tailMode==="hidden"&&!M.alternate&&!Nr)return fn(f),null}else 2*ft()-b.renderingStartTime>hx&&p!==536870912&&(f.flags|=128,k=!0,ym(b,!1),f.lanes=4194304);b.isBackwards?(M.sibling=f.child,f.child=M):(u=b.last,u!==null?u.sibling=M:f.child=M,b.last=M)}return b.tail!==null?(u=b.tail,b.rendering=u,b.tail=u.sibling,b.renderingStartTime=ft(),u.sibling=null,p=$n.current,oe($n,k?p&1|2:p&1),Nr&&Do(f,b.treeForkCount),u):(fn(f),null);case 22:case 23:return _s(f),Aj(),b=f.memoizedState!==null,u!==null?u.memoizedState!==null!==b&&(f.flags|=8192):b&&(f.flags|=8192),b?(p&536870912)!==0&&(f.flags&128)===0&&(fn(f),f.subtreeFlags&6&&(f.flags|=8192)):fn(f),p=f.updateQueue,p!==null&&lx(f,p.retryQueue),p=null,u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),b=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(b=f.memoizedState.cachePool.pool),b!==p&&(f.flags|=2048),u!==null&&Z(tu),null;case 24:return p=null,u!==null&&(p=u.memoizedState.cache),f.memoizedState.cache!==p&&(f.flags|=2048),Ro(Wn),fn(f),null;case 25:return null;case 30:return null}throw Error(n(156,f.tag))}function CZ(u,f){switch(pj(f),f.tag){case 1:return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 3:return Ro(Wn),ge(),u=f.flags,(u&65536)!==0&&(u&128)===0?(f.flags=u&-65537|128,f):null;case 26:case 27:case 5:return ze(f),null;case 31:if(f.memoizedState!==null){if(_s(f),f.alternate===null)throw Error(n(340));Qc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 13:if(_s(f),u=f.memoizedState,u!==null&&u.dehydrated!==null){if(f.alternate===null)throw Error(n(340));Qc()}return u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 19:return Z($n),null;case 4:return ge(),null;case 10:return Ro(f.type),null;case 22:case 23:return _s(f),Aj(),u!==null&&Z(tu),u=f.flags,u&65536?(f.flags=u&-65537|128,f):null;case 24:return Ro(Wn),null;case 25:return null;default:return null}}function x4(u,f){switch(pj(f),f.tag){case 3:Ro(Wn),ge();break;case 26:case 27:case 5:ze(f);break;case 4:ge();break;case 31:f.memoizedState!==null&&_s(f);break;case 13:_s(f);break;case 19:Z($n);break;case 10:Ro(f.type);break;case 22:case 23:_s(f),Aj(),u!==null&&Z(tu);break;case 24:Ro(Wn)}}function bm(u,f){try{var p=f.updateQueue,b=p!==null?p.lastEffect:null;if(b!==null){var k=b.next;p=k;do{if((p.tag&u)===u){b=void 0;var M=p.create,V=p.inst;b=M(),V.destroy=b}p=p.next}while(p!==k)}}catch(Q){Wr(f,f.return,Q)}}function Kl(u,f,p){try{var b=f.updateQueue,k=b!==null?b.lastEffect:null;if(k!==null){var M=k.next;b=M;do{if((b.tag&u)===u){var V=b.inst,Q=V.destroy;if(Q!==void 0){V.destroy=void 0,k=f;var me=p,Pe=Q;try{Pe()}catch(qe){Wr(k,me,qe)}}}b=b.next}while(b!==M)}}catch(qe){Wr(f,f.return,qe)}}function y4(u){var f=u.updateQueue;if(f!==null){var p=u.stateNode;try{lP(f,p)}catch(b){Wr(u,u.return,b)}}}function b4(u,f,p){p.props=iu(u.type,u.memoizedProps),p.state=u.memoizedState;try{p.componentWillUnmount()}catch(b){Wr(u,f,b)}}function vm(u,f){try{var p=u.ref;if(p!==null){switch(u.tag){case 26:case 27:case 5:var b=u.stateNode;break;case 30:b=u.stateNode;break;default:b=u.stateNode}typeof p=="function"?u.refCleanup=p(b):p.current=b}}catch(k){Wr(u,f,k)}}function Ki(u,f){var p=u.ref,b=u.refCleanup;if(p!==null)if(typeof b=="function")try{b()}catch(k){Wr(u,f,k)}finally{u.refCleanup=null,u=u.alternate,u!=null&&(u.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(k){Wr(u,f,k)}else p.current=null}function v4(u){var f=u.type,p=u.memoizedProps,b=u.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":p.autoFocus&&b.focus();break e;case"img":p.src?b.src=p.src:p.srcSet&&(b.srcset=p.srcSet)}}catch(k){Wr(u,u.return,k)}}function lS(u,f,p){try{var b=u.stateNode;YZ(b,u.type,p,f),b[nr]=f}catch(k){Wr(u,u.return,k)}}function w4(u){return u.tag===5||u.tag===3||u.tag===26||u.tag===27&&rc(u.type)||u.tag===4}function cS(u){e:for(;;){for(;u.sibling===null;){if(u.return===null||w4(u.return))return null;u=u.return}for(u.sibling.return=u.return,u=u.sibling;u.tag!==5&&u.tag!==6&&u.tag!==18;){if(u.tag===27&&rc(u.type)||u.flags&2||u.child===null||u.tag===4)continue e;u.child.return=u,u=u.child}if(!(u.flags&2))return u.stateNode}}function uS(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(u,f):(f=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,f.appendChild(u),p=p._reactRootContainer,p!=null||f.onclick!==null||(f.onclick=ja));else if(b!==4&&(b===27&&rc(u.type)&&(p=u.stateNode,f=null),u=u.child,u!==null))for(uS(u,f,p),u=u.sibling;u!==null;)uS(u,f,p),u=u.sibling}function cx(u,f,p){var b=u.tag;if(b===5||b===6)u=u.stateNode,f?p.insertBefore(u,f):p.appendChild(u);else if(b!==4&&(b===27&&rc(u.type)&&(p=u.stateNode),u=u.child,u!==null))for(cx(u,f,p),u=u.sibling;u!==null;)cx(u,f,p),u=u.sibling}function j4(u){var f=u.stateNode,p=u.memoizedProps;try{for(var b=u.type,k=f.attributes;k.length;)f.removeAttributeNode(k[0]);Ca(f,b,p),f[ot]=u,f[nr]=p}catch(M){Wr(u,u.return,M)}}var Ho=!1,Yn=!1,dS=!1,S4=typeof WeakSet=="function"?WeakSet:Set,da=null;function TZ(u,f){if(u=u.containerInfo,ES=Ax,u=RD(u),aj(u)){if("selectionStart"in u)var p={start:u.selectionStart,end:u.selectionEnd};else e:{p=(p=u.ownerDocument)&&p.defaultView||window;var b=p.getSelection&&p.getSelection();if(b&&b.rangeCount!==0){p=b.anchorNode;var k=b.anchorOffset,M=b.focusNode;b=b.focusOffset;try{p.nodeType,M.nodeType}catch{p=null;break e}var V=0,Q=-1,me=-1,Pe=0,qe=0,Je=u,Re=null;t:for(;;){for(var Fe;Je!==p||k!==0&&Je.nodeType!==3||(Q=V+k),Je!==M||b!==0&&Je.nodeType!==3||(me=V+b),Je.nodeType===3&&(V+=Je.nodeValue.length),(Fe=Je.firstChild)!==null;)Re=Je,Je=Fe;for(;;){if(Je===u)break t;if(Re===p&&++Pe===k&&(Q=V),Re===M&&++qe===b&&(me=V),(Fe=Je.nextSibling)!==null)break;Je=Re,Re=Je.parentNode}Je=Fe}p=Q===-1||me===-1?null:{start:Q,end:me}}else p=null}p=p||{start:0,end:0}}else p=null;for(DS={focusedElem:u,selectionRange:p},Ax=!1,da=f;da!==null;)if(f=da,u=f.child,(f.subtreeFlags&1028)!==0&&u!==null)u.return=f,da=u;else for(;da!==null;){switch(f=da,M=f.alternate,u=f.flags,f.tag){case 0:if((u&4)!==0&&(u=f.updateQueue,u=u!==null?u.events:null,u!==null))for(p=0;p<u.length;p++)k=u[p],k.ref.impl=k.nextImpl;break;case 11:case 15:break;case 1:if((u&1024)!==0&&M!==null){u=void 0,p=f,k=M.memoizedProps,M=M.memoizedState,b=p.stateNode;try{var Dt=iu(p.type,k);u=b.getSnapshotBeforeUpdate(Dt,M),b.__reactInternalSnapshotBeforeUpdate=u}catch(Gt){Wr(p,p.return,Gt)}}break;case 3:if((u&1024)!==0){if(u=f.stateNode.containerInfo,p=u.nodeType,p===9)IS(u);else if(p===1)switch(u.nodeName){case"HEAD":case"HTML":case"BODY":IS(u);break;default:u.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((u&1024)!==0)throw Error(n(163))}if(u=f.sibling,u!==null){u.return=f.return,da=u;break}da=f.return}}function N4(u,f,p){var b=p.flags;switch(p.tag){case 0:case 11:case 15:zo(u,p),b&4&&bm(5,p);break;case 1:if(zo(u,p),b&4)if(u=p.stateNode,f===null)try{u.componentDidMount()}catch(V){Wr(p,p.return,V)}else{var k=iu(p.type,f.memoizedProps);f=f.memoizedState;try{u.componentDidUpdate(k,f,u.__reactInternalSnapshotBeforeUpdate)}catch(V){Wr(p,p.return,V)}}b&64&&y4(p),b&512&&vm(p,p.return);break;case 3:if(zo(u,p),b&64&&(u=p.updateQueue,u!==null)){if(f=null,p.child!==null)switch(p.child.tag){case 27:case 5:f=p.child.stateNode;break;case 1:f=p.child.stateNode}try{lP(u,f)}catch(V){Wr(p,p.return,V)}}break;case 27:f===null&&b&4&&j4(p);case 26:case 5:zo(u,p),f===null&&b&4&&v4(p),b&512&&vm(p,p.return);break;case 12:zo(u,p);break;case 31:zo(u,p),b&4&&T4(u,p);break;case 13:zo(u,p),b&4&&_4(u,p),b&64&&(u=p.memoizedState,u!==null&&(u=u.dehydrated,u!==null&&(p=IZ.bind(null,p),ree(u,p))));break;case 22:if(b=p.memoizedState!==null||Ho,!b){f=f!==null&&f.memoizedState!==null||Yn,k=Ho;var M=Yn;Ho=b,(Yn=f)&&!M?Vo(u,p,(p.subtreeFlags&8772)!==0):zo(u,p),Ho=k,Yn=M}break;case 30:break;default:zo(u,p)}}function k4(u){var f=u.alternate;f!==null&&(u.alternate=null,k4(f)),u.child=null,u.deletions=null,u.sibling=null,u.tag===5&&(f=u.stateNode,f!==null&&Qe(f)),u.stateNode=null,u.return=null,u.dependencies=null,u.memoizedProps=null,u.memoizedState=null,u.pendingProps=null,u.stateNode=null,u.updateQueue=null}var gn=null,hs=!1;function Bo(u,f,p){for(p=p.child;p!==null;)C4(u,f,p),p=p.sibling}function C4(u,f,p){if(nt&&typeof nt.onCommitFiberUnmount=="function")try{nt.onCommitFiberUnmount(ve,p)}catch{}switch(p.tag){case 26:Yn||Ki(p,f),Bo(u,f,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Yn||Ki(p,f);var b=gn,k=hs;rc(p.type)&&(gn=p.stateNode,hs=!1),Bo(u,f,p),Mm(p.stateNode),gn=b,hs=k;break;case 5:Yn||Ki(p,f);case 6:if(b=gn,k=hs,gn=null,Bo(u,f,p),gn=b,hs=k,gn!==null)if(hs)try{(gn.nodeType===9?gn.body:gn.nodeName==="HTML"?gn.ownerDocument.body:gn).removeChild(p.stateNode)}catch(M){Wr(p,f,M)}else try{gn.removeChild(p.stateNode)}catch(M){Wr(p,f,M)}break;case 18:gn!==null&&(hs?(u=gn,y3(u.nodeType===9?u.body:u.nodeName==="HTML"?u.ownerDocument.body:u,p.stateNode),Xd(u)):y3(gn,p.stateNode));break;case 4:b=gn,k=hs,gn=p.stateNode.containerInfo,hs=!0,Bo(u,f,p),gn=b,hs=k;break;case 0:case 11:case 14:case 15:Kl(2,p,f),Yn||Kl(4,p,f),Bo(u,f,p);break;case 1:Yn||(Ki(p,f),b=p.stateNode,typeof b.componentWillUnmount=="function"&&b4(p,f,b)),Bo(u,f,p);break;case 21:Bo(u,f,p);break;case 22:Yn=(b=Yn)||p.memoizedState!==null,Bo(u,f,p),Yn=b;break;default:Bo(u,f,p)}}function T4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null))){u=u.dehydrated;try{Xd(u)}catch(p){Wr(f,f.return,p)}}}function _4(u,f){if(f.memoizedState===null&&(u=f.alternate,u!==null&&(u=u.memoizedState,u!==null&&(u=u.dehydrated,u!==null))))try{Xd(u)}catch(p){Wr(f,f.return,p)}}function _Z(u){switch(u.tag){case 31:case 13:case 19:var f=u.stateNode;return f===null&&(f=u.stateNode=new S4),f;case 22:return u=u.stateNode,f=u._retryCache,f===null&&(f=u._retryCache=new S4),f;default:throw Error(n(435,u.tag))}}function ux(u,f){var p=_Z(u);f.forEach(function(b){if(!p.has(b)){p.add(b);var k=LZ.bind(null,u,b);b.then(k,k)}})}function ms(u,f){var p=f.deletions;if(p!==null)for(var b=0;b<p.length;b++){var k=p[b],M=u,V=f,Q=V;e:for(;Q!==null;){switch(Q.tag){case 27:if(rc(Q.type)){gn=Q.stateNode,hs=!1;break e}break;case 5:gn=Q.stateNode,hs=!1;break e;case 3:case 4:gn=Q.stateNode.containerInfo,hs=!0;break e}Q=Q.return}if(gn===null)throw Error(n(160));C4(M,V,k),gn=null,hs=!1,M=k.alternate,M!==null&&(M.return=null),k.return=null}if(f.subtreeFlags&13886)for(f=f.child;f!==null;)M4(f,u),f=f.sibling}var Ci=null;function M4(u,f){var p=u.alternate,b=u.flags;switch(u.tag){case 0:case 11:case 14:case 15:ms(f,u),ps(u),b&4&&(Kl(3,u,u.return),bm(3,u),Kl(5,u,u.return));break;case 1:ms(f,u),ps(u),b&512&&(Yn||p===null||Ki(p,p.return)),b&64&&Ho&&(u=u.updateQueue,u!==null&&(b=u.callbacks,b!==null&&(p=u.shared.hiddenCallbacks,u.shared.hiddenCallbacks=p===null?b:p.concat(b))));break;case 26:var k=Ci;if(ms(f,u),ps(u),b&512&&(Yn||p===null||Ki(p,p.return)),b&4){var M=p!==null?p.memoizedState:null;if(b=u.memoizedState,p===null)if(b===null)if(u.stateNode===null){e:{b=u.type,p=u.memoizedProps,k=k.ownerDocument||k;t:switch(b){case"title":M=k.getElementsByTagName("title")[0],(!M||M[fe]||M[ot]||M.namespaceURI==="http://www.w3.org/2000/svg"||M.hasAttribute("itemprop"))&&(M=k.createElement(b),k.head.insertBefore(M,k.querySelector("head > title"))),Ca(M,b,p),M[ot]=u,hr(M),b=M;break e;case"link":var V=M3("link","href",k).get(b+(p.href||""));if(V){for(var Q=0;Q<V.length;Q++)if(M=V[Q],M.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&M.getAttribute("rel")===(p.rel==null?null:p.rel)&&M.getAttribute("title")===(p.title==null?null:p.title)&&M.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(Q,1);break t}}M=k.createElement(b),Ca(M,b,p),k.head.appendChild(M);break;case"meta":if(V=M3("meta","content",k).get(b+(p.content||""))){for(Q=0;Q<V.length;Q++)if(M=V[Q],M.getAttribute("content")===(p.content==null?null:""+p.content)&&M.getAttribute("name")===(p.name==null?null:p.name)&&M.getAttribute("property")===(p.property==null?null:p.property)&&M.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&M.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(Q,1);break t}}M=k.createElement(b),Ca(M,b,p),k.head.appendChild(M);break;default:throw Error(n(468,b))}M[ot]=u,hr(M),b=M}u.stateNode=b}else A3(k,u.type,u.stateNode);else u.stateNode=_3(k,b,u.memoizedProps);else M!==b?(M===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):M.count--,b===null?A3(k,u.type,u.stateNode):_3(k,b,u.memoizedProps)):b===null&&u.stateNode!==null&&lS(u,u.memoizedProps,p.memoizedProps)}break;case 27:ms(f,u),ps(u),b&512&&(Yn||p===null||Ki(p,p.return)),p!==null&&b&4&&lS(u,u.memoizedProps,p.memoizedProps);break;case 5:if(ms(f,u),ps(u),b&512&&(Yn||p===null||Ki(p,p.return)),u.flags&32){k=u.stateNode;try{U(k,"")}catch(Dt){Wr(u,u.return,Dt)}}b&4&&u.stateNode!=null&&(k=u.memoizedProps,lS(u,k,p!==null?p.memoizedProps:k)),b&1024&&(dS=!0);break;case 6:if(ms(f,u),ps(u),b&4){if(u.stateNode===null)throw Error(n(162));b=u.memoizedProps,p=u.stateNode;try{p.nodeValue=b}catch(Dt){Wr(u,u.return,Dt)}}break;case 3:if(Cx=null,k=Ci,Ci=Nx(f.containerInfo),ms(f,u),Ci=k,ps(u),b&4&&p!==null&&p.memoizedState.isDehydrated)try{Xd(f.containerInfo)}catch(Dt){Wr(u,u.return,Dt)}dS&&(dS=!1,A4(u));break;case 4:b=Ci,Ci=Nx(u.stateNode.containerInfo),ms(f,u),ps(u),Ci=b;break;case 12:ms(f,u),ps(u);break;case 31:ms(f,u),ps(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ux(u,b)));break;case 13:ms(f,u),ps(u),u.child.flags&8192&&u.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(fx=ft()),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ux(u,b)));break;case 22:k=u.memoizedState!==null;var me=p!==null&&p.memoizedState!==null,Pe=Ho,qe=Yn;if(Ho=Pe||k,Yn=qe||me,ms(f,u),Yn=qe,Ho=Pe,ps(u),b&8192)e:for(f=u.stateNode,f._visibility=k?f._visibility&-2:f._visibility|1,k&&(p===null||me||Ho||Yn||ou(u)),p=null,f=u;;){if(f.tag===5||f.tag===26){if(p===null){me=p=f;try{if(M=me.stateNode,k)V=M.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Q=me.stateNode;var Je=me.memoizedProps.style,Re=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;Q.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch(Dt){Wr(me,me.return,Dt)}}}else if(f.tag===6){if(p===null){me=f;try{me.stateNode.nodeValue=k?"":me.memoizedProps}catch(Dt){Wr(me,me.return,Dt)}}}else if(f.tag===18){if(p===null){me=f;try{var Fe=me.stateNode;k?b3(Fe,!0):b3(me.stateNode,!1)}catch(Dt){Wr(me,me.return,Dt)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===u)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===u)break e;for(;f.sibling===null;){if(f.return===null||f.return===u)break e;p===f&&(p=null),f=f.return}p===f&&(p=null),f.sibling.return=f.return,f=f.sibling}b&4&&(b=u.updateQueue,b!==null&&(p=b.retryQueue,p!==null&&(b.retryQueue=null,ux(u,p))));break;case 19:ms(f,u),ps(u),b&4&&(b=u.updateQueue,b!==null&&(u.updateQueue=null,ux(u,b)));break;case 30:break;case 21:break;default:ms(f,u),ps(u)}}function ps(u){var f=u.flags;if(f&2){try{for(var p,b=u.return;b!==null;){if(w4(b)){p=b;break}b=b.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var k=p.stateNode,M=cS(u);cx(u,M,k);break;case 5:var V=p.stateNode;p.flags&32&&(U(V,""),p.flags&=-33);var Q=cS(u);cx(u,Q,V);break;case 3:case 4:var me=p.stateNode.containerInfo,Pe=cS(u);uS(u,Pe,me);break;default:throw Error(n(161))}}catch(qe){Wr(u,u.return,qe)}u.flags&=-3}f&4096&&(u.flags&=-4097)}function A4(u){if(u.subtreeFlags&1024)for(u=u.child;u!==null;){var f=u;A4(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),u=u.sibling}}function zo(u,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)N4(u,f.alternate,f),f=f.sibling}function ou(u){for(u=u.child;u!==null;){var f=u;switch(f.tag){case 0:case 11:case 14:case 15:Kl(4,f,f.return),ou(f);break;case 1:Ki(f,f.return);var p=f.stateNode;typeof p.componentWillUnmount=="function"&&b4(f,f.return,p),ou(f);break;case 27:Mm(f.stateNode);case 26:case 5:Ki(f,f.return),ou(f);break;case 22:f.memoizedState===null&&ou(f);break;case 30:ou(f);break;default:ou(f)}u=u.sibling}}function Vo(u,f,p){for(p=p&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var b=f.alternate,k=u,M=f,V=M.flags;switch(M.tag){case 0:case 11:case 15:Vo(k,M,p),bm(4,M);break;case 1:if(Vo(k,M,p),b=M,k=b.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Pe){Wr(b,b.return,Pe)}if(b=M,k=b.updateQueue,k!==null){var Q=b.stateNode;try{var me=k.shared.hiddenCallbacks;if(me!==null)for(k.shared.hiddenCallbacks=null,k=0;k<me.length;k++)oP(me[k],Q)}catch(Pe){Wr(b,b.return,Pe)}}p&&V&64&&y4(M),vm(M,M.return);break;case 27:j4(M);case 26:case 5:Vo(k,M,p),p&&b===null&&V&4&&v4(M),vm(M,M.return);break;case 12:Vo(k,M,p);break;case 31:Vo(k,M,p),p&&V&4&&T4(k,M);break;case 13:Vo(k,M,p),p&&V&4&&_4(k,M);break;case 22:M.memoizedState===null&&Vo(k,M,p),vm(M,M.return);break;case 30:break;default:Vo(k,M,p)}f=f.sibling}}function fS(u,f){var p=null;u!==null&&u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),u=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(u=f.memoizedState.cachePool.pool),u!==p&&(u!=null&&u.refCount++,p!=null&&im(p))}function hS(u,f){u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&im(u))}function Ti(u,f,p,b){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)O4(u,f,p,b),f=f.sibling}function O4(u,f,p,b){var k=f.flags;switch(f.tag){case 0:case 11:case 15:Ti(u,f,p,b),k&2048&&bm(9,f);break;case 1:Ti(u,f,p,b);break;case 3:Ti(u,f,p,b),k&2048&&(u=null,f.alternate!==null&&(u=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==u&&(f.refCount++,u!=null&&im(u)));break;case 12:if(k&2048){Ti(u,f,p,b),u=f.stateNode;try{var M=f.memoizedProps,V=M.id,Q=M.onPostCommit;typeof Q=="function"&&Q(V,f.alternate===null?"mount":"update",u.passiveEffectDuration,-0)}catch(me){Wr(f,f.return,me)}}else Ti(u,f,p,b);break;case 31:Ti(u,f,p,b);break;case 13:Ti(u,f,p,b);break;case 23:break;case 22:M=f.stateNode,V=f.alternate,f.memoizedState!==null?M._visibility&2?Ti(u,f,p,b):wm(u,f):M._visibility&2?Ti(u,f,p,b):(M._visibility|=2,Fd(u,f,p,b,(f.subtreeFlags&10256)!==0||!1)),k&2048&&fS(V,f);break;case 24:Ti(u,f,p,b),k&2048&&hS(f.alternate,f);break;default:Ti(u,f,p,b)}}function Fd(u,f,p,b,k){for(k=k&&((f.subtreeFlags&10256)!==0||!1),f=f.child;f!==null;){var M=u,V=f,Q=p,me=b,Pe=V.flags;switch(V.tag){case 0:case 11:case 15:Fd(M,V,Q,me,k),bm(8,V);break;case 23:break;case 22:var qe=V.stateNode;V.memoizedState!==null?qe._visibility&2?Fd(M,V,Q,me,k):wm(M,V):(qe._visibility|=2,Fd(M,V,Q,me,k)),k&&Pe&2048&&fS(V.alternate,V);break;case 24:Fd(M,V,Q,me,k),k&&Pe&2048&&hS(V.alternate,V);break;default:Fd(M,V,Q,me,k)}f=f.sibling}}function wm(u,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var p=u,b=f,k=b.flags;switch(b.tag){case 22:wm(p,b),k&2048&&fS(b.alternate,b);break;case 24:wm(p,b),k&2048&&hS(b.alternate,b);break;default:wm(p,b)}f=f.sibling}}var jm=8192;function Hd(u,f,p){if(u.subtreeFlags&jm)for(u=u.child;u!==null;)E4(u,f,p),u=u.sibling}function E4(u,f,p){switch(u.tag){case 26:Hd(u,f,p),u.flags&jm&&u.memoizedState!==null&&mee(p,Ci,u.memoizedState,u.memoizedProps);break;case 5:Hd(u,f,p);break;case 3:case 4:var b=Ci;Ci=Nx(u.stateNode.containerInfo),Hd(u,f,p),Ci=b;break;case 22:u.memoizedState===null&&(b=u.alternate,b!==null&&b.memoizedState!==null?(b=jm,jm=16777216,Hd(u,f,p),jm=b):Hd(u,f,p));break;default:Hd(u,f,p)}}function D4(u){var f=u.alternate;if(f!==null&&(u=f.child,u!==null)){f.child=null;do f=u.sibling,u.sibling=null,u=f;while(u!==null)}}function Sm(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];da=b,R4(b,u)}D4(u)}if(u.subtreeFlags&10256)for(u=u.child;u!==null;)P4(u),u=u.sibling}function P4(u){switch(u.tag){case 0:case 11:case 15:Sm(u),u.flags&2048&&Kl(9,u,u.return);break;case 3:Sm(u);break;case 12:Sm(u);break;case 22:var f=u.stateNode;u.memoizedState!==null&&f._visibility&2&&(u.return===null||u.return.tag!==13)?(f._visibility&=-3,dx(u)):Sm(u);break;default:Sm(u)}}function dx(u){var f=u.deletions;if((u.flags&16)!==0){if(f!==null)for(var p=0;p<f.length;p++){var b=f[p];da=b,R4(b,u)}D4(u)}for(u=u.child;u!==null;){switch(f=u,f.tag){case 0:case 11:case 15:Kl(8,f,f.return),dx(f);break;case 22:p=f.stateNode,p._visibility&2&&(p._visibility&=-3,dx(f));break;default:dx(f)}u=u.sibling}}function R4(u,f){for(;da!==null;){var p=da;switch(p.tag){case 0:case 11:case 15:Kl(8,p,f);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var b=p.memoizedState.cachePool.pool;b!=null&&b.refCount++}break;case 24:im(p.memoizedState.cache)}if(b=p.child,b!==null)b.return=p,da=b;else e:for(p=u;da!==null;){b=da;var k=b.sibling,M=b.return;if(k4(b),b===p){da=null;break e}if(k!==null){k.return=M,da=k;break e}da=M}}}var MZ={getCacheForType:function(u){var f=Na(Wn),p=f.data.get(u);return p===void 0&&(p=u(),f.data.set(u,p)),p},cacheSignal:function(){return Na(Wn).controller.signal}},AZ=typeof WeakMap=="function"?WeakMap:Map,Rr=0,tn=null,pr=null,yr=0,qr=0,Ms=null,Xl=!1,Bd=!1,mS=!1,qo=0,Tn=0,Jl=0,lu=0,pS=0,As=0,zd=0,Nm=null,gs=null,gS=!1,fx=0,I4=0,hx=1/0,mx=null,Ql=null,ra=0,Zl=null,Vd=null,Wo=0,xS=0,yS=null,L4=null,km=0,bS=null;function Os(){return(Rr&2)!==0&&yr!==0?yr&-yr:H.T!==null?kS():Wt()}function $4(){if(As===0)if((yr&536870912)===0||Nr){var u=ye;ye<<=1,(ye&3932160)===0&&(ye=262144),As=u}else As=536870912;return u=Ts.current,u!==null&&(u.flags|=32),As}function xs(u,f,p){(u===tn&&(qr===2||qr===9)||u.cancelPendingCommit!==null)&&(qd(u,0),ec(u,yr,As,!1)),Se(u,p),((Rr&2)===0||u!==tn)&&(u===tn&&((Rr&2)===0&&(lu|=p),Tn===4&&ec(u,yr,As,!1)),Xi(u))}function F4(u,f,p){if((Rr&6)!==0)throw Error(n(327));var b=!p&&(f&127)===0&&(f&u.expiredLanes)===0||ke(u,f),k=b?DZ(u,f):wS(u,f,!0),M=b;do{if(k===0){Bd&&!b&&ec(u,f,0,!1);break}else{if(p=u.current.alternate,M&&!OZ(p)){k=wS(u,f,!1),M=!1;continue}if(k===2){if(M=f,u.errorRecoveryDisabledLanes&M)var V=0;else V=u.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){f=V;e:{var Q=u;k=Nm;var me=Q.current.memoizedState.isDehydrated;if(me&&(qd(Q,V).flags|=256),V=wS(Q,V,!1),V!==2){if(mS&&!me){Q.errorRecoveryDisabledLanes|=M,lu|=M,k=4;break e}M=gs,gs=k,M!==null&&(gs===null?gs=M:gs.push.apply(gs,M))}k=V}if(M=!1,k!==2)continue}}if(k===1){qd(u,0),ec(u,f,0,!0);break}e:{switch(b=u,M=k,M){case 0:case 1:throw Error(n(345));case 4:if((f&4194048)!==f)break;case 6:ec(b,f,As,!Xl);break e;case 2:gs=null;break;case 3:case 5:break;default:throw Error(n(329))}if((f&62914560)===f&&(k=fx+300-ft(),10<k)){if(ec(b,f,As,!Xl),be(b,0,!0)!==0)break e;Wo=f,b.timeoutHandle=g3(H4.bind(null,b,p,gs,mx,gS,f,As,lu,zd,Xl,M,"Throttled",-0,0),k);break e}H4(b,p,gs,mx,gS,f,As,lu,zd,Xl,M,null,-0,0)}}break}while(!0);Xi(u)}function H4(u,f,p,b,k,M,V,Q,me,Pe,qe,Je,Re,Fe){if(u.timeoutHandle=-1,Je=f.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ja},E4(f,M,Je);var Dt=(M&62914560)===M?fx-ft():(M&4194048)===M?I4-ft():0;if(Dt=pee(Je,Dt),Dt!==null){Wo=M,u.cancelPendingCommit=Dt(Y4.bind(null,u,f,M,p,b,k,V,Q,me,qe,Je,null,Re,Fe)),ec(u,M,V,!Pe);return}}Y4(u,f,M,p,b,k,V,Q,me)}function OZ(u){for(var f=u;;){var p=f.tag;if((p===0||p===11||p===15)&&f.flags&16384&&(p=f.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var b=0;b<p.length;b++){var k=p[b],M=k.getSnapshot;k=k.value;try{if(!ks(M(),k))return!1}catch{return!1}}if(p=f.child,f.subtreeFlags&16384&&p!==null)p.return=f,f=p;else{if(f===u)break;for(;f.sibling===null;){if(f.return===null||f.return===u)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ec(u,f,p,b){f&=~pS,f&=~lu,u.suspendedLanes|=f,u.pingedLanes&=~f,b&&(u.warmLanes|=f),b=u.expirationTimes;for(var k=f;0<k;){var M=31-ae(k),V=1<<M;b[M]=-1,k&=~V}p!==0&&rt(u,p,f)}function px(){return(Rr&6)===0?(Cm(0),!1):!0}function vS(){if(pr!==null){if(qr===0)var u=pr.return;else u=pr,Po=Zc=null,Ij(u),Pd=null,lm=0,u=pr;for(;u!==null;)x4(u.alternate,u),u=u.return;pr=null}}function qd(u,f){var p=u.timeoutHandle;p!==-1&&(u.timeoutHandle=-1,JZ(p)),p=u.cancelPendingCommit,p!==null&&(u.cancelPendingCommit=null,p()),Wo=0,vS(),tn=u,pr=p=Eo(u.current,null),yr=f,qr=0,Ms=null,Xl=!1,Bd=ke(u,f),mS=!1,zd=As=pS=lu=Jl=Tn=0,gs=Nm=null,gS=!1,(f&8)!==0&&(f|=f&32);var b=u.entangledLanes;if(b!==0)for(u=u.entanglements,b&=f;0<b;){var k=31-ae(b),M=1<<k;f|=u[k],b&=~M}return qo=f,Ig(),p}function B4(u,f){rr=null,H.H=gm,f===Dd||f===qg?(f=nP(),qr=3):f===Nj?(f=nP(),qr=4):qr=f===Qj?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,Ms=f,pr===null&&(Tn=1,ax(u,Us(f,u.current)))}function z4(){var u=Ts.current;return u===null?!0:(yr&4194048)===yr?Xs===null:(yr&62914560)===yr||(yr&536870912)!==0?u===Xs:!1}function V4(){var u=H.H;return H.H=gm,u===null?gm:u}function q4(){var u=H.A;return H.A=MZ,u}function gx(){Tn=4,Xl||(yr&4194048)!==yr&&Ts.current!==null||(Bd=!0),(Jl&134217727)===0&&(lu&134217727)===0||tn===null||ec(tn,yr,As,!1)}function wS(u,f,p){var b=Rr;Rr|=2;var k=V4(),M=q4();(tn!==u||yr!==f)&&(mx=null,qd(u,f)),f=!1;var V=Tn;e:do try{if(qr!==0&&pr!==null){var Q=pr,me=Ms;switch(qr){case 8:vS(),V=6;break e;case 3:case 2:case 9:case 6:Ts.current===null&&(f=!0);var Pe=qr;if(qr=0,Ms=null,Wd(u,Q,me,Pe),p&&Bd){V=0;break e}break;default:Pe=qr,qr=0,Ms=null,Wd(u,Q,me,Pe)}}EZ(),V=Tn;break}catch(qe){B4(u,qe)}while(!0);return f&&u.shellSuspendCounter++,Po=Zc=null,Rr=b,H.H=k,H.A=M,pr===null&&(tn=null,yr=0,Ig()),V}function EZ(){for(;pr!==null;)W4(pr)}function DZ(u,f){var p=Rr;Rr|=2;var b=V4(),k=q4();tn!==u||yr!==f?(mx=null,hx=ft()+500,qd(u,f)):Bd=ke(u,f);e:do try{if(qr!==0&&pr!==null){f=pr;var M=Ms;t:switch(qr){case 1:qr=0,Ms=null,Wd(u,f,M,1);break;case 2:case 9:if(tP(M)){qr=0,Ms=null,U4(f);break}f=function(){qr!==2&&qr!==9||tn!==u||(qr=7),Xi(u)},M.then(f,f);break e;case 3:qr=7;break e;case 4:qr=5;break e;case 7:tP(M)?(qr=0,Ms=null,U4(f)):(qr=0,Ms=null,Wd(u,f,M,7));break;case 5:var V=null;switch(pr.tag){case 26:V=pr.memoizedState;case 5:case 27:var Q=pr;if(V?O3(V):Q.stateNode.complete){qr=0,Ms=null;var me=Q.sibling;if(me!==null)pr=me;else{var Pe=Q.return;Pe!==null?(pr=Pe,xx(Pe)):pr=null}break t}}qr=0,Ms=null,Wd(u,f,M,5);break;case 6:qr=0,Ms=null,Wd(u,f,M,6);break;case 8:vS(),Tn=6;break e;default:throw Error(n(462))}}PZ();break}catch(qe){B4(u,qe)}while(!0);return Po=Zc=null,H.H=b,H.A=k,Rr=p,pr!==null?0:(tn=null,yr=0,Ig(),Tn)}function PZ(){for(;pr!==null&&!wt();)W4(pr)}function W4(u){var f=p4(u.alternate,u,qo);u.memoizedProps=u.pendingProps,f===null?xx(u):pr=f}function U4(u){var f=u,p=f.alternate;switch(f.tag){case 15:case 0:f=c4(p,f,f.pendingProps,f.type,void 0,yr);break;case 11:f=c4(p,f,f.pendingProps,f.type.render,f.ref,yr);break;case 5:Ij(f);default:x4(p,f),f=pr=qD(f,qo),f=p4(p,f,qo)}u.memoizedProps=u.pendingProps,f===null?xx(u):pr=f}function Wd(u,f,p,b){Po=Zc=null,Ij(f),Pd=null,lm=0;var k=f.return;try{if(jZ(u,k,f,p,yr)){Tn=1,ax(u,Us(p,u.current)),pr=null;return}}catch(M){if(k!==null)throw pr=k,M;Tn=1,ax(u,Us(p,u.current)),pr=null;return}f.flags&32768?(Nr||b===1?u=!0:Bd||(yr&536870912)!==0?u=!1:(Xl=u=!0,(b===2||b===9||b===3||b===6)&&(b=Ts.current,b!==null&&b.tag===13&&(b.flags|=16384))),G4(f,u)):xx(f)}function xx(u){var f=u;do{if((f.flags&32768)!==0){G4(f,Xl);return}u=f.return;var p=kZ(f.alternate,f,qo);if(p!==null){pr=p;return}if(f=f.sibling,f!==null){pr=f;return}pr=f=u}while(f!==null);Tn===0&&(Tn=5)}function G4(u,f){do{var p=CZ(u.alternate,u);if(p!==null){p.flags&=32767,pr=p;return}if(p=u.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!f&&(u=u.sibling,u!==null)){pr=u;return}pr=u=p}while(u!==null);Tn=6,pr=null}function Y4(u,f,p,b,k,M,V,Q,me){u.cancelPendingCommit=null;do yx();while(ra!==0);if((Rr&6)!==0)throw Error(n(327));if(f!==null){if(f===u.current)throw Error(n(177));if(M=f.lanes|f.childLanes,M|=cj,Ve(u,p,M,V,Q,me),u===tn&&(pr=tn=null,yr=0),Vd=f,Zl=u,Wo=p,xS=M,yS=k,L4=b,(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?(u.callbackNode=null,u.callbackPriority=0,$Z(We,function(){return Z4(),null})):(u.callbackNode=null,u.callbackPriority=0),b=(f.flags&13878)!==0,(f.subtreeFlags&13878)!==0||b){b=H.T,H.T=null,k=D.p,D.p=2,V=Rr,Rr|=4;try{TZ(u,f,p)}finally{Rr=V,D.p=k,H.T=b}}ra=1,K4(),X4(),J4()}}function K4(){if(ra===1){ra=0;var u=Zl,f=Vd,p=(f.flags&13878)!==0;if((f.subtreeFlags&13878)!==0||p){p=H.T,H.T=null;var b=D.p;D.p=2;var k=Rr;Rr|=4;try{M4(f,u);var M=DS,V=RD(u.containerInfo),Q=M.focusedElem,me=M.selectionRange;if(V!==Q&&Q&&Q.ownerDocument&&PD(Q.ownerDocument.documentElement,Q)){if(me!==null&&aj(Q)){var Pe=me.start,qe=me.end;if(qe===void 0&&(qe=Pe),"selectionStart"in Q)Q.selectionStart=Pe,Q.selectionEnd=Math.min(qe,Q.value.length);else{var Je=Q.ownerDocument||document,Re=Je&&Je.defaultView||window;if(Re.getSelection){var Fe=Re.getSelection(),Dt=Q.textContent.length,Gt=Math.min(me.start,Dt),Jr=me.end===void 0?Gt:Math.min(me.end,Dt);!Fe.extend&&Gt>Jr&&(V=Jr,Jr=Gt,Gt=V);var _e=DD(Q,Gt),Ne=DD(Q,Jr);if(_e&&Ne&&(Fe.rangeCount!==1||Fe.anchorNode!==_e.node||Fe.anchorOffset!==_e.offset||Fe.focusNode!==Ne.node||Fe.focusOffset!==Ne.offset)){var De=Je.createRange();De.setStart(_e.node,_e.offset),Fe.removeAllRanges(),Gt>Jr?(Fe.addRange(De),Fe.extend(Ne.node,Ne.offset)):(De.setEnd(Ne.node,Ne.offset),Fe.addRange(De))}}}}for(Je=[],Fe=Q;Fe=Fe.parentNode;)Fe.nodeType===1&&Je.push({element:Fe,left:Fe.scrollLeft,top:Fe.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<Je.length;Q++){var Ke=Je[Q];Ke.element.scrollLeft=Ke.left,Ke.element.scrollTop=Ke.top}}Ax=!!ES,DS=ES=null}finally{Rr=k,D.p=b,H.T=p}}u.current=f,ra=2}}function X4(){if(ra===2){ra=0;var u=Zl,f=Vd,p=(f.flags&8772)!==0;if((f.subtreeFlags&8772)!==0||p){p=H.T,H.T=null;var b=D.p;D.p=2;var k=Rr;Rr|=4;try{N4(u,f.alternate,f)}finally{Rr=k,D.p=b,H.T=p}}ra=3}}function J4(){if(ra===4||ra===3){ra=0,Ct();var u=Zl,f=Vd,p=Wo,b=L4;(f.subtreeFlags&10256)!==0||(f.flags&10256)!==0?ra=5:(ra=0,Vd=Zl=null,Q4(u,u.pendingLanes));var k=u.pendingLanes;if(k===0&&(Ql=null),it(p),f=f.stateNode,nt&&typeof nt.onCommitFiberRoot=="function")try{nt.onCommitFiberRoot(ve,f,void 0,(f.current.flags&128)===128)}catch{}if(b!==null){f=H.T,k=D.p,D.p=2,H.T=null;try{for(var M=u.onRecoverableError,V=0;V<b.length;V++){var Q=b[V];M(Q.value,{componentStack:Q.stack})}}finally{H.T=f,D.p=k}}(Wo&3)!==0&&yx(),Xi(u),k=u.pendingLanes,(p&261930)!==0&&(k&42)!==0?u===bS?km++:(km=0,bS=u):km=0,Cm(0)}}function Q4(u,f){(u.pooledCacheLanes&=f)===0&&(f=u.pooledCache,f!=null&&(u.pooledCache=null,im(f)))}function yx(){return K4(),X4(),J4(),Z4()}function Z4(){if(ra!==5)return!1;var u=Zl,f=xS;xS=0;var p=it(Wo),b=H.T,k=D.p;try{D.p=32>p?32:p,H.T=null,p=yS,yS=null;var M=Zl,V=Wo;if(ra=0,Vd=Zl=null,Wo=0,(Rr&6)!==0)throw Error(n(331));var Q=Rr;if(Rr|=4,P4(M.current),O4(M,M.current,V,p),Rr=Q,Cm(0,!1),nt&&typeof nt.onPostCommitFiberRoot=="function")try{nt.onPostCommitFiberRoot(ve,M)}catch{}return!0}finally{D.p=k,H.T=b,Q4(u,f)}}function e3(u,f,p){f=Us(p,f),f=Jj(u.stateNode,f,2),u=Ul(u,f,2),u!==null&&(Se(u,2),Xi(u))}function Wr(u,f,p){if(u.tag===3)e3(u,u,p);else for(;f!==null;){if(f.tag===3){e3(f,u,p);break}else if(f.tag===1){var b=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof b.componentDidCatch=="function"&&(Ql===null||!Ql.has(b))){u=Us(p,u),p=t4(2),b=Ul(f,p,2),b!==null&&(r4(p,b,f,u),Se(b,2),Xi(b));break}}f=f.return}}function jS(u,f,p){var b=u.pingCache;if(b===null){b=u.pingCache=new AZ;var k=new Set;b.set(f,k)}else k=b.get(f),k===void 0&&(k=new Set,b.set(f,k));k.has(p)||(mS=!0,k.add(p),u=RZ.bind(null,u,f,p),f.then(u,u))}function RZ(u,f,p){var b=u.pingCache;b!==null&&b.delete(f),u.pingedLanes|=u.suspendedLanes&p,u.warmLanes&=~p,tn===u&&(yr&p)===p&&(Tn===4||Tn===3&&(yr&62914560)===yr&&300>ft()-fx?(Rr&2)===0&&qd(u,0):pS|=p,zd===yr&&(zd=0)),Xi(u)}function t3(u,f){f===0&&(f=J()),u=Xc(u,f),u!==null&&(Se(u,f),Xi(u))}function IZ(u){var f=u.memoizedState,p=0;f!==null&&(p=f.retryLane),t3(u,p)}function LZ(u,f){var p=0;switch(u.tag){case 31:case 13:var b=u.stateNode,k=u.memoizedState;k!==null&&(p=k.retryLane);break;case 19:b=u.stateNode;break;case 22:b=u.stateNode._retryCache;break;default:throw Error(n(314))}b!==null&&b.delete(f),t3(u,p)}function $Z(u,f){return mt(u,f)}var bx=null,Ud=null,SS=!1,vx=!1,NS=!1,tc=0;function Xi(u){u!==Ud&&u.next===null&&(Ud===null?bx=Ud=u:Ud=Ud.next=u),vx=!0,SS||(SS=!0,HZ())}function Cm(u,f){if(!NS&&vx){NS=!0;do for(var p=!1,b=bx;b!==null;){if(u!==0){var k=b.pendingLanes;if(k===0)var M=0;else{var V=b.suspendedLanes,Q=b.pingedLanes;M=(1<<31-ae(42|u)+1)-1,M&=k&~(V&~Q),M=M&201326741?M&201326741|1:M?M|2:0}M!==0&&(p=!0,s3(b,M))}else M=yr,M=be(b,b===tn?M:0,b.cancelPendingCommit!==null||b.timeoutHandle!==-1),(M&3)===0||ke(b,M)||(p=!0,s3(b,M));b=b.next}while(p);NS=!1}}function FZ(){r3()}function r3(){vx=SS=!1;var u=0;tc!==0&&XZ()&&(u=tc);for(var f=ft(),p=null,b=bx;b!==null;){var k=b.next,M=n3(b,f);M===0?(b.next=null,p===null?bx=k:p.next=k,k===null&&(Ud=p)):(p=b,(u!==0||(M&3)!==0)&&(vx=!0)),b=k}ra!==0&&ra!==5||Cm(u),tc!==0&&(tc=0)}function n3(u,f){for(var p=u.suspendedLanes,b=u.pingedLanes,k=u.expirationTimes,M=u.pendingLanes&-62914561;0<M;){var V=31-ae(M),Q=1<<V,me=k[V];me===-1?((Q&p)===0||(Q&b)!==0)&&(k[V]=Le(Q,f)):me<=f&&(u.expiredLanes|=Q),M&=~Q}if(f=tn,p=yr,p=be(u,u===f?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b=u.callbackNode,p===0||u===f&&(qr===2||qr===9)||u.cancelPendingCommit!==null)return b!==null&&b!==null&&tt(b),u.callbackNode=null,u.callbackPriority=0;if((p&3)===0||ke(u,p)){if(f=p&-p,f===u.callbackPriority)return f;switch(b!==null&&tt(b),it(p)){case 2:case 8:p=he;break;case 32:p=We;break;case 268435456:p=ht;break;default:p=We}return b=a3.bind(null,u),p=mt(p,b),u.callbackPriority=f,u.callbackNode=p,f}return b!==null&&b!==null&&tt(b),u.callbackPriority=2,u.callbackNode=null,2}function a3(u,f){if(ra!==0&&ra!==5)return u.callbackNode=null,u.callbackPriority=0,null;var p=u.callbackNode;if(yx()&&u.callbackNode!==p)return null;var b=yr;return b=be(u,u===tn?b:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),b===0?null:(F4(u,b,f),n3(u,ft()),u.callbackNode!=null&&u.callbackNode===p?a3.bind(null,u):null)}function s3(u,f){if(yx())return null;F4(u,f,!0)}function HZ(){QZ(function(){(Rr&6)!==0?mt(Ze,FZ):r3()})}function kS(){if(tc===0){var u=Od;u===0&&(u=xt,xt<<=1,(xt&261888)===0&&(xt=256)),tc=u}return tc}function i3(u){return u==null||typeof u=="symbol"||typeof u=="boolean"?null:typeof u=="function"?u:qs(""+u)}function o3(u,f){var p=f.ownerDocument.createElement("input");return p.name=f.name,p.value=f.value,u.id&&p.setAttribute("form",u.id),f.parentNode.insertBefore(p,f),u=new FormData(u),p.parentNode.removeChild(p),u}function BZ(u,f,p,b,k){if(f==="submit"&&p&&p.stateNode===k){var M=i3((k[nr]||null).action),V=b.submitter;V&&(f=(f=V[nr]||null)?i3(f.formAction):V.getAttribute("formAction"),f!==null&&(M=f,V=null));var Q=new Eg("action","action",null,b,k);u.push({event:Q,listeners:[{instance:null,listener:function(){if(b.defaultPrevented){if(tc!==0){var me=V?o3(k,V):new FormData(k);Wj(p,{pending:!0,data:me,method:k.method,action:M},null,me)}}else typeof M=="function"&&(Q.preventDefault(),me=V?o3(k,V):new FormData(k),Wj(p,{pending:!0,data:me,method:k.method,action:M},M,me))},currentTarget:k}]})}}for(var CS=0;CS<lj.length;CS++){var TS=lj[CS],zZ=TS.toLowerCase(),VZ=TS[0].toUpperCase()+TS.slice(1);ki(zZ,"on"+VZ)}ki($D,"onAnimationEnd"),ki(FD,"onAnimationIteration"),ki(HD,"onAnimationStart"),ki("dblclick","onDoubleClick"),ki("focusin","onFocus"),ki("focusout","onBlur"),ki(sZ,"onTransitionRun"),ki(iZ,"onTransitionStart"),ki(oZ,"onTransitionCancel"),ki(BD,"onTransitionEnd"),Vr("onMouseEnter",["mouseout","mouseover"]),Vr("onMouseLeave",["mouseout","mouseover"]),Vr("onPointerEnter",["pointerout","pointerover"]),Vr("onPointerLeave",["pointerout","pointerover"]),Pa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Pa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Pa("onBeforeInput",["compositionend","keypress","textInput","paste"]),Pa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Pa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qZ=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tm));function l3(u,f){f=(f&4)!==0;for(var p=0;p<u.length;p++){var b=u[p],k=b.event;b=b.listeners;e:{var M=void 0;if(f)for(var V=b.length-1;0<=V;V--){var Q=b[V],me=Q.instance,Pe=Q.currentTarget;if(Q=Q.listener,me!==M&&k.isPropagationStopped())break e;M=Q,k.currentTarget=Pe;try{M(k)}catch(qe){Rg(qe)}k.currentTarget=null,M=me}else for(V=0;V<b.length;V++){if(Q=b[V],me=Q.instance,Pe=Q.currentTarget,Q=Q.listener,me!==M&&k.isPropagationStopped())break e;M=Q,k.currentTarget=Pe;try{M(k)}catch(qe){Rg(qe)}k.currentTarget=null,M=me}}}}function gr(u,f){var p=f[dr];p===void 0&&(p=f[dr]=new Set);var b=u+"__bubble";p.has(b)||(c3(f,u,2,!1),p.add(b))}function _S(u,f,p){var b=0;f&&(b|=4),c3(p,u,b,f)}var wx="_reactListening"+Math.random().toString(36).slice(2);function MS(u){if(!u[wx]){u[wx]=!0,wa.forEach(function(p){p!=="selectionchange"&&(qZ.has(p)||_S(p,!1,u),_S(p,!0,u))});var f=u.nodeType===9?u:u.ownerDocument;f===null||f[wx]||(f[wx]=!0,_S("selectionchange",!1,f))}}function c3(u,f,p,b){switch($3(f)){case 2:var k=yee;break;case 8:k=bee;break;default:k=qS}p=k.bind(null,f,p,u),k=void 0,!K1||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),b?k!==void 0?u.addEventListener(f,p,{capture:!0,passive:k}):u.addEventListener(f,p,!0):k!==void 0?u.addEventListener(f,p,{passive:k}):u.addEventListener(f,p,!1)}function AS(u,f,p,b,k){var M=b;if((f&1)===0&&(f&2)===0&&b!==null)e:for(;;){if(b===null)return;var V=b.tag;if(V===3||V===4){var Q=b.stateNode.containerInfo;if(Q===k)break;if(V===4)for(V=b.return;V!==null;){var me=V.tag;if((me===3||me===4)&&V.stateNode.containerInfo===k)return;V=V.return}for(;Q!==null;){if(V=bt(Q),V===null)return;if(me=V.tag,me===5||me===6||me===26||me===27){b=M=V;continue e}Q=Q.parentNode}}b=b.return}mD(function(){var Pe=M,qe=G1(p),Je=[];e:{var Re=zD.get(u);if(Re!==void 0){var Fe=Eg,Dt=u;switch(u){case"keypress":if(Ag(p)===0)break e;case"keydown":case"keyup":Fe=LQ;break;case"focusin":Dt="focus",Fe=Z1;break;case"focusout":Dt="blur",Fe=Z1;break;case"beforeblur":case"afterblur":Fe=Z1;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Fe=xD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Fe=kQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Fe=HQ;break;case $D:case FD:case HD:Fe=_Q;break;case BD:Fe=zQ;break;case"scroll":case"scrollend":Fe=SQ;break;case"wheel":Fe=qQ;break;case"copy":case"cut":case"paste":Fe=AQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Fe=bD;break;case"toggle":case"beforetoggle":Fe=UQ}var Gt=(f&4)!==0,Jr=!Gt&&(u==="scroll"||u==="scrollend"),_e=Gt?Re!==null?Re+"Capture":null:Re;Gt=[];for(var Ne=Pe,De;Ne!==null;){var Ke=Ne;if(De=Ke.stateNode,Ke=Ke.tag,Ke!==5&&Ke!==26&&Ke!==27||De===null||_e===null||(Ke=Kh(Ne,_e),Ke!=null&&Gt.push(_m(Ne,Ke,De))),Jr)break;Ne=Ne.return}0<Gt.length&&(Re=new Fe(Re,Dt,null,p,qe),Je.push({event:Re,listeners:Gt}))}}if((f&7)===0){e:{if(Re=u==="mouseover"||u==="pointerover",Fe=u==="mouseout"||u==="pointerout",Re&&p!==_g&&(Dt=p.relatedTarget||p.fromElement)&&(bt(Dt)||Dt[kt]))break e;if((Fe||Re)&&(Re=qe.window===qe?qe:(Re=qe.ownerDocument)?Re.defaultView||Re.parentWindow:window,Fe?(Dt=p.relatedTarget||p.toElement,Fe=Pe,Dt=Dt?bt(Dt):null,Dt!==null&&(Jr=i(Dt),Gt=Dt.tag,Dt!==Jr||Gt!==5&&Gt!==27&&Gt!==6)&&(Dt=null)):(Fe=null,Dt=Pe),Fe!==Dt)){if(Gt=xD,Ke="onMouseLeave",_e="onMouseEnter",Ne="mouse",(u==="pointerout"||u==="pointerover")&&(Gt=bD,Ke="onPointerLeave",_e="onPointerEnter",Ne="pointer"),Jr=Fe==null?Re:en(Fe),De=Dt==null?Re:en(Dt),Re=new Gt(Ke,Ne+"leave",Fe,p,qe),Re.target=Jr,Re.relatedTarget=De,Ke=null,bt(qe)===Pe&&(Gt=new Gt(_e,Ne+"enter",Dt,p,qe),Gt.target=De,Gt.relatedTarget=Jr,Ke=Gt),Jr=Ke,Fe&&Dt)t:{for(Gt=WZ,_e=Fe,Ne=Dt,De=0,Ke=_e;Ke;Ke=Gt(Ke))De++;Ke=0;for(var Ht=Ne;Ht;Ht=Gt(Ht))Ke++;for(;0<De-Ke;)_e=Gt(_e),De--;for(;0<Ke-De;)Ne=Gt(Ne),Ke--;for(;De--;){if(_e===Ne||Ne!==null&&_e===Ne.alternate){Gt=_e;break t}_e=Gt(_e),Ne=Gt(Ne)}Gt=null}else Gt=null;Fe!==null&&u3(Je,Re,Fe,Gt,!1),Dt!==null&&Jr!==null&&u3(Je,Jr,Dt,Gt,!0)}}e:{if(Re=Pe?en(Pe):window,Fe=Re.nodeName&&Re.nodeName.toLowerCase(),Fe==="select"||Fe==="input"&&Re.type==="file")var Ar=TD;else if(kD(Re))if(_D)Ar=rZ;else{Ar=eZ;var Pt=ZQ}else Fe=Re.nodeName,!Fe||Fe.toLowerCase()!=="input"||Re.type!=="checkbox"&&Re.type!=="radio"?Pe&&Sr(Pe.elementType)&&(Ar=TD):Ar=tZ;if(Ar&&(Ar=Ar(u,Pe))){CD(Je,Ar,p,qe);break e}Pt&&Pt(u,Re,Pe),u==="focusout"&&Pe&&Re.type==="number"&&Pe.memoizedProps.value!=null&&Yh(Re,"number",Re.value)}switch(Pt=Pe?en(Pe):window,u){case"focusin":(kD(Pt)||Pt.contentEditable==="true")&&(Sd=Pt,sj=Pe,nm=null);break;case"focusout":nm=sj=Sd=null;break;case"mousedown":ij=!0;break;case"contextmenu":case"mouseup":case"dragend":ij=!1,ID(Je,p,qe);break;case"selectionchange":if(aZ)break;case"keydown":case"keyup":ID(Je,p,qe)}var ar;if(tj)e:{switch(u){case"compositionstart":var br="onCompositionStart";break e;case"compositionend":br="onCompositionEnd";break e;case"compositionupdate":br="onCompositionUpdate";break e}br=void 0}else jd?SD(u,p)&&(br="onCompositionEnd"):u==="keydown"&&p.keyCode===229&&(br="onCompositionStart");br&&(vD&&p.locale!=="ko"&&(jd||br!=="onCompositionStart"?br==="onCompositionEnd"&&jd&&(ar=pD()):(Fl=qe,X1="value"in Fl?Fl.value:Fl.textContent,jd=!0)),Pt=jx(Pe,br),0<Pt.length&&(br=new yD(br,u,null,p,qe),Je.push({event:br,listeners:Pt}),ar?br.data=ar:(ar=ND(p),ar!==null&&(br.data=ar)))),(ar=YQ?KQ(u,p):XQ(u,p))&&(br=jx(Pe,"onBeforeInput"),0<br.length&&(Pt=new yD("onBeforeInput","beforeinput",null,p,qe),Je.push({event:Pt,listeners:br}),Pt.data=ar)),BZ(Je,u,Pe,p,qe)}l3(Je,f)})}function _m(u,f,p){return{instance:u,listener:f,currentTarget:p}}function jx(u,f){for(var p=f+"Capture",b=[];u!==null;){var k=u,M=k.stateNode;if(k=k.tag,k!==5&&k!==26&&k!==27||M===null||(k=Kh(u,p),k!=null&&b.unshift(_m(u,k,M)),k=Kh(u,f),k!=null&&b.push(_m(u,k,M))),u.tag===3)return b;u=u.return}return[]}function WZ(u){if(u===null)return null;do u=u.return;while(u&&u.tag!==5&&u.tag!==27);return u||null}function u3(u,f,p,b,k){for(var M=f._reactName,V=[];p!==null&&p!==b;){var Q=p,me=Q.alternate,Pe=Q.stateNode;if(Q=Q.tag,me!==null&&me===b)break;Q!==5&&Q!==26&&Q!==27||Pe===null||(me=Pe,k?(Pe=Kh(p,M),Pe!=null&&V.unshift(_m(p,Pe,me))):k||(Pe=Kh(p,M),Pe!=null&&V.push(_m(p,Pe,me)))),p=p.return}V.length!==0&&u.push({event:f,listeners:V})}var UZ=/\r\n?/g,GZ=/\u0000|\uFFFD/g;function d3(u){return(typeof u=="string"?u:""+u).replace(UZ,`
`).replace(GZ,"")}function f3(u,f){return f=d3(f),d3(u)===f}function Xr(u,f,p,b,k,M){switch(p){case"children":typeof b=="string"?f==="body"||f==="textarea"&&b===""||U(u,b):(typeof b=="number"||typeof b=="bigint")&&f!=="body"&&U(u,""+b);break;case"className":yd(u,"class",b);break;case"tabIndex":yd(u,"tabindex",b);break;case"dir":case"role":case"viewBox":case"width":case"height":yd(u,p,b);break;case"style":mr(u,b,M);break;case"data":if(f!=="object"){yd(u,"data",b);break}case"src":case"href":if(b===""&&(f!=="a"||p!=="href")){u.removeAttribute(p);break}if(b==null||typeof b=="function"||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=qs(""+b),u.setAttribute(p,b);break;case"action":case"formAction":if(typeof b=="function"){u.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof M=="function"&&(p==="formAction"?(f!=="input"&&Xr(u,f,"name",k.name,k,null),Xr(u,f,"formEncType",k.formEncType,k,null),Xr(u,f,"formMethod",k.formMethod,k,null),Xr(u,f,"formTarget",k.formTarget,k,null)):(Xr(u,f,"encType",k.encType,k,null),Xr(u,f,"method",k.method,k,null),Xr(u,f,"target",k.target,k,null)));if(b==null||typeof b=="symbol"||typeof b=="boolean"){u.removeAttribute(p);break}b=qs(""+b),u.setAttribute(p,b);break;case"onClick":b!=null&&(u.onclick=ja);break;case"onScroll":b!=null&&gr("scroll",u);break;case"onScrollEnd":b!=null&&gr("scrollend",u);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"multiple":u.multiple=b&&typeof b!="function"&&typeof b!="symbol";break;case"muted":u.muted=b&&typeof b!="function"&&typeof b!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(b==null||typeof b=="function"||typeof b=="boolean"||typeof b=="symbol"){u.removeAttribute("xlink:href");break}p=qs(""+b),u.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""+b):u.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":b&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,""):u.removeAttribute(p);break;case"capture":case"download":b===!0?u.setAttribute(p,""):b!==!1&&b!=null&&typeof b!="function"&&typeof b!="symbol"?u.setAttribute(p,b):u.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":b!=null&&typeof b!="function"&&typeof b!="symbol"&&!isNaN(b)&&1<=b?u.setAttribute(p,b):u.removeAttribute(p);break;case"rowSpan":case"start":b==null||typeof b=="function"||typeof b=="symbol"||isNaN(b)?u.removeAttribute(p):u.setAttribute(p,b);break;case"popover":gr("beforetoggle",u),gr("toggle",u),xd(u,"popover",b);break;case"xlinkActuate":Si(u,"http://www.w3.org/1999/xlink","xlink:actuate",b);break;case"xlinkArcrole":Si(u,"http://www.w3.org/1999/xlink","xlink:arcrole",b);break;case"xlinkRole":Si(u,"http://www.w3.org/1999/xlink","xlink:role",b);break;case"xlinkShow":Si(u,"http://www.w3.org/1999/xlink","xlink:show",b);break;case"xlinkTitle":Si(u,"http://www.w3.org/1999/xlink","xlink:title",b);break;case"xlinkType":Si(u,"http://www.w3.org/1999/xlink","xlink:type",b);break;case"xmlBase":Si(u,"http://www.w3.org/XML/1998/namespace","xml:base",b);break;case"xmlLang":Si(u,"http://www.w3.org/XML/1998/namespace","xml:lang",b);break;case"xmlSpace":Si(u,"http://www.w3.org/XML/1998/namespace","xml:space",b);break;case"is":xd(u,"is",b);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Ns.get(p)||p,xd(u,p,b))}}function OS(u,f,p,b,k,M){switch(p){case"style":mr(u,b,M);break;case"dangerouslySetInnerHTML":if(b!=null){if(typeof b!="object"||!("__html"in b))throw Error(n(61));if(p=b.__html,p!=null){if(k.children!=null)throw Error(n(60));u.innerHTML=p}}break;case"children":typeof b=="string"?U(u,b):(typeof b=="number"||typeof b=="bigint")&&U(u,""+b);break;case"onScroll":b!=null&&gr("scroll",u);break;case"onScrollEnd":b!=null&&gr("scrollend",u);break;case"onClick":b!=null&&(u.onclick=ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cs.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(k=p.endsWith("Capture"),f=p.slice(2,k?p.length-7:void 0),M=u[nr]||null,M=M!=null?M[p]:null,typeof M=="function"&&u.removeEventListener(f,M,k),typeof b=="function")){typeof M!="function"&&M!==null&&(p in u?u[p]=null:u.hasAttribute(p)&&u.removeAttribute(p)),u.addEventListener(f,b,k);break e}p in u?u[p]=b:b===!0?u.setAttribute(p,""):xd(u,p,b)}}}function Ca(u,f,p){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":gr("error",u),gr("load",u);var b=!1,k=!1,M;for(M in p)if(p.hasOwnProperty(M)){var V=p[M];if(V!=null)switch(M){case"src":b=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Xr(u,f,M,V,p,null)}}k&&Xr(u,f,"srcSet",p.srcSet,p,null),b&&Xr(u,f,"src",p.src,p,null);return;case"input":gr("invalid",u);var Q=M=V=k=null,me=null,Pe=null;for(b in p)if(p.hasOwnProperty(b)){var qe=p[b];if(qe!=null)switch(b){case"name":k=qe;break;case"type":V=qe;break;case"checked":me=qe;break;case"defaultChecked":Pe=qe;break;case"value":M=qe;break;case"defaultValue":Q=qe;break;case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(n(137,f));break;default:Xr(u,f,b,qe,p,null)}}Cg(u,M,Q,me,Pe,V,k,!1);return;case"select":gr("invalid",u),b=V=M=null;for(k in p)if(p.hasOwnProperty(k)&&(Q=p[k],Q!=null))switch(k){case"value":M=Q;break;case"defaultValue":V=Q;break;case"multiple":b=Q;default:Xr(u,f,k,Q,p,null)}f=M,p=V,u.multiple=!!b,f!=null?$l(u,!!b,f,!1):p!=null&&$l(u,!!b,p,!0);return;case"textarea":gr("invalid",u),M=k=b=null;for(V in p)if(p.hasOwnProperty(V)&&(Q=p[V],Q!=null))switch(V){case"value":b=Q;break;case"defaultValue":k=Q;break;case"children":M=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:Xr(u,f,V,Q,p,null)}G(u,b,k,M);return;case"option":for(me in p)if(p.hasOwnProperty(me)&&(b=p[me],b!=null))switch(me){case"selected":u.selected=b&&typeof b!="function"&&typeof b!="symbol";break;default:Xr(u,f,me,b,p,null)}return;case"dialog":gr("beforetoggle",u),gr("toggle",u),gr("cancel",u),gr("close",u);break;case"iframe":case"object":gr("load",u);break;case"video":case"audio":for(b=0;b<Tm.length;b++)gr(Tm[b],u);break;case"image":gr("error",u),gr("load",u);break;case"details":gr("toggle",u);break;case"embed":case"source":case"link":gr("error",u),gr("load",u);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Pe in p)if(p.hasOwnProperty(Pe)&&(b=p[Pe],b!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,f));default:Xr(u,f,Pe,b,p,null)}return;default:if(Sr(f)){for(qe in p)p.hasOwnProperty(qe)&&(b=p[qe],b!==void 0&&OS(u,f,qe,b,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(b=p[Q],b!=null&&Xr(u,f,Q,b,p,null))}function YZ(u,f,p,b){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,M=null,V=null,Q=null,me=null,Pe=null,qe=null;for(Fe in p){var Je=p[Fe];if(p.hasOwnProperty(Fe)&&Je!=null)switch(Fe){case"checked":break;case"value":break;case"defaultValue":me=Je;default:b.hasOwnProperty(Fe)||Xr(u,f,Fe,null,b,Je)}}for(var Re in b){var Fe=b[Re];if(Je=p[Re],b.hasOwnProperty(Re)&&(Fe!=null||Je!=null))switch(Re){case"type":M=Fe;break;case"name":k=Fe;break;case"checked":Pe=Fe;break;case"defaultChecked":qe=Fe;break;case"value":V=Fe;break;case"defaultValue":Q=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,f));break;default:Fe!==Je&&Xr(u,f,Re,Fe,b,Je)}}Gh(u,V,Q,me,Pe,qe,M,k);return;case"select":Fe=V=Q=Re=null;for(M in p)if(me=p[M],p.hasOwnProperty(M)&&me!=null)switch(M){case"value":break;case"multiple":Fe=me;default:b.hasOwnProperty(M)||Xr(u,f,M,null,b,me)}for(k in b)if(M=b[k],me=p[k],b.hasOwnProperty(k)&&(M!=null||me!=null))switch(k){case"value":Re=M;break;case"defaultValue":Q=M;break;case"multiple":V=M;default:M!==me&&Xr(u,f,k,M,b,me)}f=Q,p=V,b=Fe,Re!=null?$l(u,!!p,Re,!1):!!b!=!!p&&(f!=null?$l(u,!!p,f,!0):$l(u,!!p,p?[]:"",!1));return;case"textarea":Fe=Re=null;for(Q in p)if(k=p[Q],p.hasOwnProperty(Q)&&k!=null&&!b.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Xr(u,f,Q,null,b,k)}for(V in b)if(k=b[V],M=p[V],b.hasOwnProperty(V)&&(k!=null||M!=null))switch(V){case"value":Re=k;break;case"defaultValue":Fe=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(n(91));break;default:k!==M&&Xr(u,f,V,k,b,M)}Tg(u,Re,Fe);return;case"option":for(var Dt in p)if(Re=p[Dt],p.hasOwnProperty(Dt)&&Re!=null&&!b.hasOwnProperty(Dt))switch(Dt){case"selected":u.selected=!1;break;default:Xr(u,f,Dt,null,b,Re)}for(me in b)if(Re=b[me],Fe=p[me],b.hasOwnProperty(me)&&Re!==Fe&&(Re!=null||Fe!=null))switch(me){case"selected":u.selected=Re&&typeof Re!="function"&&typeof Re!="symbol";break;default:Xr(u,f,me,Re,b,Fe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Gt in p)Re=p[Gt],p.hasOwnProperty(Gt)&&Re!=null&&!b.hasOwnProperty(Gt)&&Xr(u,f,Gt,null,b,Re);for(Pe in b)if(Re=b[Pe],Fe=p[Pe],b.hasOwnProperty(Pe)&&Re!==Fe&&(Re!=null||Fe!=null))switch(Pe){case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,f));break;default:Xr(u,f,Pe,Re,b,Fe)}return;default:if(Sr(f)){for(var Jr in p)Re=p[Jr],p.hasOwnProperty(Jr)&&Re!==void 0&&!b.hasOwnProperty(Jr)&&OS(u,f,Jr,void 0,b,Re);for(qe in b)Re=b[qe],Fe=p[qe],!b.hasOwnProperty(qe)||Re===Fe||Re===void 0&&Fe===void 0||OS(u,f,qe,Re,b,Fe);return}}for(var _e in p)Re=p[_e],p.hasOwnProperty(_e)&&Re!=null&&!b.hasOwnProperty(_e)&&Xr(u,f,_e,null,b,Re);for(Je in b)Re=b[Je],Fe=p[Je],!b.hasOwnProperty(Je)||Re===Fe||Re==null&&Fe==null||Xr(u,f,Je,Re,b,Fe)}function h3(u){switch(u){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function KZ(){if(typeof performance.getEntriesByType=="function"){for(var u=0,f=0,p=performance.getEntriesByType("resource"),b=0;b<p.length;b++){var k=p[b],M=k.transferSize,V=k.initiatorType,Q=k.duration;if(M&&Q&&h3(V)){for(V=0,Q=k.responseEnd,b+=1;b<p.length;b++){var me=p[b],Pe=me.startTime;if(Pe>Q)break;var qe=me.transferSize,Je=me.initiatorType;qe&&h3(Je)&&(me=me.responseEnd,V+=qe*(me<Q?1:(Q-Pe)/(me-Pe)))}if(--b,f+=8*(M+V)/(k.duration/1e3),u++,10<u)break}}if(0<u)return f/u/1e6}return navigator.connection&&(u=navigator.connection.downlink,typeof u=="number")?u:5}var ES=null,DS=null;function Sx(u){return u.nodeType===9?u:u.ownerDocument}function m3(u){switch(u){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function p3(u,f){if(u===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return u===1&&f==="foreignObject"?0:u}function PS(u,f){return u==="textarea"||u==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var RS=null;function XZ(){var u=window.event;return u&&u.type==="popstate"?u===RS?!1:(RS=u,!0):(RS=null,!1)}var g3=typeof setTimeout=="function"?setTimeout:void 0,JZ=typeof clearTimeout=="function"?clearTimeout:void 0,x3=typeof Promise=="function"?Promise:void 0,QZ=typeof queueMicrotask=="function"?queueMicrotask:typeof x3<"u"?function(u){return x3.resolve(null).then(u).catch(ZZ)}:g3;function ZZ(u){setTimeout(function(){throw u})}function rc(u){return u==="head"}function y3(u,f){var p=f,b=0;do{var k=p.nextSibling;if(u.removeChild(p),k&&k.nodeType===8)if(p=k.data,p==="/$"||p==="/&"){if(b===0){u.removeChild(k),Xd(f);return}b--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")b++;else if(p==="html")Mm(u.ownerDocument.documentElement);else if(p==="head"){p=u.ownerDocument.head,Mm(p);for(var M=p.firstChild;M;){var V=M.nextSibling,Q=M.nodeName;M[fe]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&M.rel.toLowerCase()==="stylesheet"||p.removeChild(M),M=V}}else p==="body"&&Mm(u.ownerDocument.body);p=k}while(p);Xd(f)}function b3(u,f){var p=u;u=0;do{var b=p.nextSibling;if(p.nodeType===1?f?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(f?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),b&&b.nodeType===8)if(p=b.data,p==="/$"){if(u===0)break;u--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||u++;p=b}while(p)}function IS(u){var f=u.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var p=f;switch(f=f.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":IS(p),Qe(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}u.removeChild(p)}}function eee(u,f,p,b){for(;u.nodeType===1;){var k=p;if(u.nodeName.toLowerCase()!==f.toLowerCase()){if(!b&&(u.nodeName!=="INPUT"||u.type!=="hidden"))break}else if(b){if(!u[fe])switch(f){case"meta":if(!u.hasAttribute("itemprop"))break;return u;case"link":if(M=u.getAttribute("rel"),M==="stylesheet"&&u.hasAttribute("data-precedence"))break;if(M!==k.rel||u.getAttribute("href")!==(k.href==null||k.href===""?null:k.href)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||u.getAttribute("title")!==(k.title==null?null:k.title))break;return u;case"style":if(u.hasAttribute("data-precedence"))break;return u;case"script":if(M=u.getAttribute("src"),(M!==(k.src==null?null:k.src)||u.getAttribute("type")!==(k.type==null?null:k.type)||u.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&M&&u.hasAttribute("async")&&!u.hasAttribute("itemprop"))break;return u;default:return u}}else if(f==="input"&&u.type==="hidden"){var M=k.name==null?null:""+k.name;if(k.type==="hidden"&&u.getAttribute("name")===M)return u}else return u;if(u=Js(u.nextSibling),u===null)break}return null}function tee(u,f,p){if(f==="")return null;for(;u.nodeType!==3;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!p||(u=Js(u.nextSibling),u===null))return null;return u}function v3(u,f){for(;u.nodeType!==8;)if((u.nodeType!==1||u.nodeName!=="INPUT"||u.type!=="hidden")&&!f||(u=Js(u.nextSibling),u===null))return null;return u}function LS(u){return u.data==="$?"||u.data==="$~"}function $S(u){return u.data==="$!"||u.data==="$?"&&u.ownerDocument.readyState!=="loading"}function ree(u,f){var p=u.ownerDocument;if(u.data==="$~")u._reactRetry=f;else if(u.data!=="$?"||p.readyState!=="loading")f();else{var b=function(){f(),p.removeEventListener("DOMContentLoaded",b)};p.addEventListener("DOMContentLoaded",b),u._reactRetry=b}}function Js(u){for(;u!=null;u=u.nextSibling){var f=u.nodeType;if(f===1||f===3)break;if(f===8){if(f=u.data,f==="$"||f==="$!"||f==="$?"||f==="$~"||f==="&"||f==="F!"||f==="F")break;if(f==="/$"||f==="/&")return null}}return u}var FS=null;function w3(u){u=u.nextSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="/$"||p==="/&"){if(f===0)return Js(u.nextSibling);f--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||f++}u=u.nextSibling}return null}function j3(u){u=u.previousSibling;for(var f=0;u;){if(u.nodeType===8){var p=u.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(f===0)return u;f--}else p!=="/$"&&p!=="/&"||f++}u=u.previousSibling}return null}function S3(u,f,p){switch(f=Sx(p),u){case"html":if(u=f.documentElement,!u)throw Error(n(452));return u;case"head":if(u=f.head,!u)throw Error(n(453));return u;case"body":if(u=f.body,!u)throw Error(n(454));return u;default:throw Error(n(451))}}function Mm(u){for(var f=u.attributes;f.length;)u.removeAttributeNode(f[0]);Qe(u)}var Qs=new Map,N3=new Set;function Nx(u){return typeof u.getRootNode=="function"?u.getRootNode():u.nodeType===9?u:u.ownerDocument}var Uo=D.d;D.d={f:nee,r:aee,D:see,C:iee,L:oee,m:lee,X:uee,S:cee,M:dee};function nee(){var u=Uo.f(),f=px();return u||f}function aee(u){var f=fr(u);f!==null&&f.tag===5&&f.type==="form"?BP(f):Uo.r(u)}var Gd=typeof document>"u"?null:document;function k3(u,f,p){var b=Gd;if(b&&typeof f=="string"&&f){var k=ds(f);k='link[rel="'+u+'"][href="'+k+'"]',typeof p=="string"&&(k+='[crossorigin="'+p+'"]'),N3.has(k)||(N3.add(k),u={rel:u,crossOrigin:p,href:f},b.querySelector(k)===null&&(f=b.createElement("link"),Ca(f,"link",u),hr(f),b.head.appendChild(f)))}}function see(u){Uo.D(u),k3("dns-prefetch",u,null)}function iee(u,f){Uo.C(u,f),k3("preconnect",u,f)}function oee(u,f,p){Uo.L(u,f,p);var b=Gd;if(b&&u&&f){var k='link[rel="preload"][as="'+ds(f)+'"]';f==="image"&&p&&p.imageSrcSet?(k+='[imagesrcset="'+ds(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(k+='[imagesizes="'+ds(p.imageSizes)+'"]')):k+='[href="'+ds(u)+'"]';var M=k;switch(f){case"style":M=Yd(u);break;case"script":M=Kd(u)}Qs.has(M)||(u=m({rel:"preload",href:f==="image"&&p&&p.imageSrcSet?void 0:u,as:f},p),Qs.set(M,u),b.querySelector(k)!==null||f==="style"&&b.querySelector(Am(M))||f==="script"&&b.querySelector(Om(M))||(f=b.createElement("link"),Ca(f,"link",u),hr(f),b.head.appendChild(f)))}}function lee(u,f){Uo.m(u,f);var p=Gd;if(p&&u){var b=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+ds(b)+'"][href="'+ds(u)+'"]',M=k;switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":M=Kd(u)}if(!Qs.has(M)&&(u=m({rel:"modulepreload",href:u},f),Qs.set(M,u),p.querySelector(k)===null)){switch(b){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Om(M)))return}b=p.createElement("link"),Ca(b,"link",u),hr(b),p.head.appendChild(b)}}}function cee(u,f,p){Uo.S(u,f,p);var b=Gd;if(b&&u){var k=Mr(b).hoistableStyles,M=Yd(u);f=f||"default";var V=k.get(M);if(!V){var Q={loading:0,preload:null};if(V=b.querySelector(Am(M)))Q.loading=5;else{u=m({rel:"stylesheet",href:u,"data-precedence":f},p),(p=Qs.get(M))&&HS(u,p);var me=V=b.createElement("link");hr(me),Ca(me,"link",u),me._p=new Promise(function(Pe,qe){me.onload=Pe,me.onerror=qe}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,kx(V,f,b)}V={type:"stylesheet",instance:V,count:1,state:Q},k.set(M,V)}}}function uee(u,f){Uo.X(u,f);var p=Gd;if(p&&u){var b=Mr(p).hoistableScripts,k=Kd(u),M=b.get(k);M||(M=p.querySelector(Om(k)),M||(u=m({src:u,async:!0},f),(f=Qs.get(k))&&BS(u,f),M=p.createElement("script"),hr(M),Ca(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function dee(u,f){Uo.M(u,f);var p=Gd;if(p&&u){var b=Mr(p).hoistableScripts,k=Kd(u),M=b.get(k);M||(M=p.querySelector(Om(k)),M||(u=m({src:u,async:!0,type:"module"},f),(f=Qs.get(k))&&BS(u,f),M=p.createElement("script"),hr(M),Ca(M,"link",u),p.head.appendChild(M)),M={type:"script",instance:M,count:1,state:null},b.set(k,M))}}function C3(u,f,p,b){var k=(k=pe.current)?Nx(k):null;if(!k)throw Error(n(446));switch(u){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(f=Yd(p.href),p=Mr(k).hoistableStyles,b=p.get(f),b||(b={type:"style",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){u=Yd(p.href);var M=Mr(k).hoistableStyles,V=M.get(u);if(V||(k=k.ownerDocument||k,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},M.set(u,V),(M=k.querySelector(Am(u)))&&!M._p&&(V.instance=M,V.state.loading=5),Qs.has(u)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Qs.set(u,p),M||fee(k,u,p,V.state))),f&&b===null)throw Error(n(528,""));return V}if(f&&b!==null)throw Error(n(529,""));return null;case"script":return f=p.async,p=p.src,typeof p=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Kd(p),p=Mr(k).hoistableScripts,b=p.get(f),b||(b={type:"script",instance:null,count:0,state:null},p.set(f,b)),b):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,u))}}function Yd(u){return'href="'+ds(u)+'"'}function Am(u){return'link[rel="stylesheet"]['+u+"]"}function T3(u){return m({},u,{"data-precedence":u.precedence,precedence:null})}function fee(u,f,p,b){u.querySelector('link[rel="preload"][as="style"]['+f+"]")?b.loading=1:(f=u.createElement("link"),b.preload=f,f.addEventListener("load",function(){return b.loading|=1}),f.addEventListener("error",function(){return b.loading|=2}),Ca(f,"link",p),hr(f),u.head.appendChild(f))}function Kd(u){return'[src="'+ds(u)+'"]'}function Om(u){return"script[async]"+u}function _3(u,f,p){if(f.count++,f.instance===null)switch(f.type){case"style":var b=u.querySelector('style[data-href~="'+ds(p.href)+'"]');if(b)return f.instance=b,hr(b),b;var k=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return b=(u.ownerDocument||u).createElement("style"),hr(b),Ca(b,"style",k),kx(b,p.precedence,u),f.instance=b;case"stylesheet":k=Yd(p.href);var M=u.querySelector(Am(k));if(M)return f.state.loading|=4,f.instance=M,hr(M),M;b=T3(p),(k=Qs.get(k))&&HS(b,k),M=(u.ownerDocument||u).createElement("link"),hr(M);var V=M;return V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Ca(M,"link",b),f.state.loading|=4,kx(M,p.precedence,u),f.instance=M;case"script":return M=Kd(p.src),(k=u.querySelector(Om(M)))?(f.instance=k,hr(k),k):(b=p,(k=Qs.get(M))&&(b=m({},p),BS(b,k)),u=u.ownerDocument||u,k=u.createElement("script"),hr(k),Ca(k,"link",b),u.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(n(443,f.type))}else f.type==="stylesheet"&&(f.state.loading&4)===0&&(b=f.instance,f.state.loading|=4,kx(b,p.precedence,u));return f.instance}function kx(u,f,p){for(var b=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=b.length?b[b.length-1]:null,M=k,V=0;V<b.length;V++){var Q=b[V];if(Q.dataset.precedence===f)M=Q;else if(M!==k)break}M?M.parentNode.insertBefore(u,M.nextSibling):(f=p.nodeType===9?p.head:p,f.insertBefore(u,f.firstChild))}function HS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.title==null&&(u.title=f.title)}function BS(u,f){u.crossOrigin==null&&(u.crossOrigin=f.crossOrigin),u.referrerPolicy==null&&(u.referrerPolicy=f.referrerPolicy),u.integrity==null&&(u.integrity=f.integrity)}var Cx=null;function M3(u,f,p){if(Cx===null){var b=new Map,k=Cx=new Map;k.set(p,b)}else k=Cx,b=k.get(p),b||(b=new Map,k.set(p,b));if(b.has(u))return b;for(b.set(u,null),p=p.getElementsByTagName(u),k=0;k<p.length;k++){var M=p[k];if(!(M[fe]||M[ot]||u==="link"&&M.getAttribute("rel")==="stylesheet")&&M.namespaceURI!=="http://www.w3.org/2000/svg"){var V=M.getAttribute(f)||"";V=u+V;var Q=b.get(V);Q?Q.push(M):b.set(V,[M])}}return b}function A3(u,f,p){u=u.ownerDocument||u,u.head.insertBefore(p,f==="title"?u.querySelector("head > title"):null)}function hee(u,f,p){if(p===1||f.itemProp!=null)return!1;switch(u){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return u=f.disabled,typeof f.precedence=="string"&&u==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function O3(u){return!(u.type==="stylesheet"&&(u.state.loading&3)===0)}function mee(u,f,p,b){if(p.type==="stylesheet"&&(typeof b.media!="string"||matchMedia(b.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var k=Yd(b.href),M=f.querySelector(Am(k));if(M){f=M._p,f!==null&&typeof f=="object"&&typeof f.then=="function"&&(u.count++,u=Tx.bind(u),f.then(u,u)),p.state.loading|=4,p.instance=M,hr(M);return}M=f.ownerDocument||f,b=T3(b),(k=Qs.get(k))&&HS(b,k),M=M.createElement("link"),hr(M);var V=M;V._p=new Promise(function(Q,me){V.onload=Q,V.onerror=me}),Ca(M,"link",b),p.instance=M}u.stylesheets===null&&(u.stylesheets=new Map),u.stylesheets.set(p,f),(f=p.state.preload)&&(p.state.loading&3)===0&&(u.count++,p=Tx.bind(u),f.addEventListener("load",p),f.addEventListener("error",p))}}var zS=0;function pee(u,f){return u.stylesheets&&u.count===0&&Mx(u,u.stylesheets),0<u.count||0<u.imgCount?function(p){var b=setTimeout(function(){if(u.stylesheets&&Mx(u,u.stylesheets),u.unsuspend){var M=u.unsuspend;u.unsuspend=null,M()}},6e4+f);0<u.imgBytes&&zS===0&&(zS=62500*KZ());var k=setTimeout(function(){if(u.waitingForImages=!1,u.count===0&&(u.stylesheets&&Mx(u,u.stylesheets),u.unsuspend)){var M=u.unsuspend;u.unsuspend=null,M()}},(u.imgBytes>zS?50:800)+f);return u.unsuspend=p,function(){u.unsuspend=null,clearTimeout(b),clearTimeout(k)}}:null}function Tx(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Mx(this,this.stylesheets);else if(this.unsuspend){var u=this.unsuspend;this.unsuspend=null,u()}}}var _x=null;function Mx(u,f){u.stylesheets=null,u.unsuspend!==null&&(u.count++,_x=new Map,f.forEach(gee,u),_x=null,Tx.call(u))}function gee(u,f){if(!(f.state.loading&4)){var p=_x.get(u);if(p)var b=p.get(null);else{p=new Map,_x.set(u,p);for(var k=u.querySelectorAll("link[data-precedence],style[data-precedence]"),M=0;M<k.length;M++){var V=k[M];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),b=V)}b&&p.set(null,b)}k=f.instance,V=k.getAttribute("data-precedence"),M=p.get(V)||b,M===b&&p.set(null,k),p.set(V,k),this.count++,b=Tx.bind(this),k.addEventListener("load",b),k.addEventListener("error",b),M?M.parentNode.insertBefore(k,M.nextSibling):(u=u.nodeType===9?u.head:u,u.insertBefore(k,u.firstChild)),f.state.loading|=4}}var Em={$$typeof:S,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function xee(u,f,p,b,k,M,V,Q,me){this.tag=1,this.containerInfo=u,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ie(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ie(0),this.hiddenUpdates=ie(null),this.identifierPrefix=b,this.onUncaughtError=k,this.onCaughtError=M,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function E3(u,f,p,b,k,M,V,Q,me,Pe,qe,Je){return u=new xee(u,f,p,V,me,Pe,qe,Je,Q),f=1,M===!0&&(f|=24),M=Cs(3,null,null,f),u.current=M,M.stateNode=u,f=wj(),f.refCount++,u.pooledCache=f,f.refCount++,M.memoizedState={element:b,isDehydrated:p,cache:f},kj(M),u}function D3(u){return u?(u=Cd,u):Cd}function P3(u,f,p,b,k,M){k=D3(k),b.context===null?b.context=k:b.pendingContext=k,b=Wl(f),b.payload={element:p},M=M===void 0?null:M,M!==null&&(b.callback=M),p=Ul(u,b,f),p!==null&&(xs(p,u,f),um(p,u,f))}function R3(u,f){if(u=u.memoizedState,u!==null&&u.dehydrated!==null){var p=u.retryLane;u.retryLane=p!==0&&p<f?p:f}}function VS(u,f){R3(u,f),(u=u.alternate)&&R3(u,f)}function I3(u){if(u.tag===13||u.tag===31){var f=Xc(u,67108864);f!==null&&xs(f,u,67108864),VS(u,67108864)}}function L3(u){if(u.tag===13||u.tag===31){var f=Os();f=$e(f);var p=Xc(u,f);p!==null&&xs(p,u,f),VS(u,f)}}var Ax=!0;function yee(u,f,p,b){var k=H.T;H.T=null;var M=D.p;try{D.p=2,qS(u,f,p,b)}finally{D.p=M,H.T=k}}function bee(u,f,p,b){var k=H.T;H.T=null;var M=D.p;try{D.p=8,qS(u,f,p,b)}finally{D.p=M,H.T=k}}function qS(u,f,p,b){if(Ax){var k=WS(b);if(k===null)AS(u,f,b,Ox,p),F3(u,b);else if(wee(k,u,f,p,b))b.stopPropagation();else if(F3(u,b),f&4&&-1<vee.indexOf(u)){for(;k!==null;){var M=fr(k);if(M!==null)switch(M.tag){case 3:if(M=M.stateNode,M.current.memoizedState.isDehydrated){var V=ue(M.pendingLanes);if(V!==0){var Q=M;for(Q.pendingLanes|=2,Q.entangledLanes|=2;V;){var me=1<<31-ae(V);Q.entanglements[1]|=me,V&=~me}Xi(M),(Rr&6)===0&&(hx=ft()+500,Cm(0))}}break;case 31:case 13:Q=Xc(M,2),Q!==null&&xs(Q,M,2),px(),VS(M,2)}if(M=WS(b),M===null&&AS(u,f,b,Ox,p),M===k)break;k=M}k!==null&&b.stopPropagation()}else AS(u,f,b,null,p)}}function WS(u){return u=G1(u),US(u)}var Ox=null;function US(u){if(Ox=null,u=bt(u),u!==null){var f=i(u);if(f===null)u=null;else{var p=f.tag;if(p===13){if(u=o(f),u!==null)return u;u=null}else if(p===31){if(u=l(f),u!==null)return u;u=null}else if(p===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;u=null}else f!==u&&(u=null)}}return Ox=u,null}function $3(u){switch(u){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Rt()){case Ze:return 2;case he:return 8;case We:case je:return 32;case ht:return 268435456;default:return 32}default:return 32}}var GS=!1,nc=null,ac=null,sc=null,Dm=new Map,Pm=new Map,ic=[],vee="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function F3(u,f){switch(u){case"focusin":case"focusout":nc=null;break;case"dragenter":case"dragleave":ac=null;break;case"mouseover":case"mouseout":sc=null;break;case"pointerover":case"pointerout":Dm.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pm.delete(f.pointerId)}}function Rm(u,f,p,b,k,M){return u===null||u.nativeEvent!==M?(u={blockedOn:f,domEventName:p,eventSystemFlags:b,nativeEvent:M,targetContainers:[k]},f!==null&&(f=fr(f),f!==null&&I3(f)),u):(u.eventSystemFlags|=b,f=u.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),u)}function wee(u,f,p,b,k){switch(f){case"focusin":return nc=Rm(nc,u,f,p,b,k),!0;case"dragenter":return ac=Rm(ac,u,f,p,b,k),!0;case"mouseover":return sc=Rm(sc,u,f,p,b,k),!0;case"pointerover":var M=k.pointerId;return Dm.set(M,Rm(Dm.get(M)||null,u,f,p,b,k)),!0;case"gotpointercapture":return M=k.pointerId,Pm.set(M,Rm(Pm.get(M)||null,u,f,p,b,k)),!0}return!1}function H3(u){var f=bt(u.target);if(f!==null){var p=i(f);if(p!==null){if(f=p.tag,f===13){if(f=o(p),f!==null){u.blockedOn=f,ur(u.priority,function(){L3(p)});return}}else if(f===31){if(f=l(p),f!==null){u.blockedOn=f,ur(u.priority,function(){L3(p)});return}}else if(f===3&&p.stateNode.current.memoizedState.isDehydrated){u.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}u.blockedOn=null}function Ex(u){if(u.blockedOn!==null)return!1;for(var f=u.targetContainers;0<f.length;){var p=WS(u.nativeEvent);if(p===null){p=u.nativeEvent;var b=new p.constructor(p.type,p);_g=b,p.target.dispatchEvent(b),_g=null}else return f=fr(p),f!==null&&I3(f),u.blockedOn=p,!1;f.shift()}return!0}function B3(u,f,p){Ex(u)&&p.delete(f)}function jee(){GS=!1,nc!==null&&Ex(nc)&&(nc=null),ac!==null&&Ex(ac)&&(ac=null),sc!==null&&Ex(sc)&&(sc=null),Dm.forEach(B3),Pm.forEach(B3)}function Dx(u,f){u.blockedOn===f&&(u.blockedOn=null,GS||(GS=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jee)))}var Px=null;function z3(u){Px!==u&&(Px=u,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Px===u&&(Px=null);for(var f=0;f<u.length;f+=3){var p=u[f],b=u[f+1],k=u[f+2];if(typeof b!="function"){if(US(b||p)===null)continue;break}var M=fr(p);M!==null&&(u.splice(f,3),f-=3,Wj(M,{pending:!0,data:k,method:p.method,action:b},b,k))}}))}function Xd(u){function f(me){return Dx(me,u)}nc!==null&&Dx(nc,u),ac!==null&&Dx(ac,u),sc!==null&&Dx(sc,u),Dm.forEach(f),Pm.forEach(f);for(var p=0;p<ic.length;p++){var b=ic[p];b.blockedOn===u&&(b.blockedOn=null)}for(;0<ic.length&&(p=ic[0],p.blockedOn===null);)H3(p),p.blockedOn===null&&ic.shift();if(p=(u.ownerDocument||u).$$reactFormReplay,p!=null)for(b=0;b<p.length;b+=3){var k=p[b],M=p[b+1],V=k[nr]||null;if(typeof M=="function")V||z3(p);else if(V){var Q=null;if(M&&M.hasAttribute("formAction")){if(k=M,V=M[nr]||null)Q=V.formAction;else if(US(k)!==null)continue}else Q=V.action;typeof Q=="function"?p[b+1]=Q:(p.splice(b,3),b-=3),z3(p)}}}function V3(){function u(M){M.canIntercept&&M.info==="react-transition"&&M.intercept({handler:function(){return new Promise(function(V){return k=V})},focusReset:"manual",scroll:"manual"})}function f(){k!==null&&(k(),k=null),b||setTimeout(p,20)}function p(){if(!b&&!navigation.transition){var M=navigation.currentEntry;M&&M.url!=null&&navigation.navigate(M.url,{state:M.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var b=!1,k=null;return navigation.addEventListener("navigate",u),navigation.addEventListener("navigatesuccess",f),navigation.addEventListener("navigateerror",f),setTimeout(p,100),function(){b=!0,navigation.removeEventListener("navigate",u),navigation.removeEventListener("navigatesuccess",f),navigation.removeEventListener("navigateerror",f),k!==null&&(k(),k=null)}}}function YS(u){this._internalRoot=u}Rx.prototype.render=YS.prototype.render=function(u){var f=this._internalRoot;if(f===null)throw Error(n(409));var p=f.current,b=Os();P3(p,b,u,f,null,null)},Rx.prototype.unmount=YS.prototype.unmount=function(){var u=this._internalRoot;if(u!==null){this._internalRoot=null;var f=u.containerInfo;P3(u.current,2,null,u,null,null),px(),f[kt]=null}};function Rx(u){this._internalRoot=u}Rx.prototype.unstable_scheduleHydration=function(u){if(u){var f=Wt();u={blockedOn:null,target:u,priority:f};for(var p=0;p<ic.length&&f!==0&&f<ic[p].priority;p++);ic.splice(p,0,u),p===0&&H3(u)}};var q3=e.version;if(q3!=="19.2.0")throw Error(n(527,q3,"19.2.0"));D.findDOMNode=function(u){var f=u._reactInternals;if(f===void 0)throw typeof u.render=="function"?Error(n(188)):(u=Object.keys(u).join(","),Error(n(268,u)));return u=d(f),u=u!==null?h(u):null,u=u===null?null:u.stateNode,u};var See={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ix=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ix.isDisabled&&Ix.supportsFiber)try{ve=Ix.inject(See),nt=Ix}catch{}}return Lm.createRoot=function(u,f){if(!s(u))throw Error(n(299));var p=!1,b="",k=JP,M=QP,V=ZP;return f!=null&&(f.unstable_strictMode===!0&&(p=!0),f.identifierPrefix!==void 0&&(b=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(M=f.onCaughtError),f.onRecoverableError!==void 0&&(V=f.onRecoverableError)),f=E3(u,1,!1,null,null,p,b,null,k,M,V,V3),u[kt]=f.current,MS(u),new YS(f)},Lm.hydrateRoot=function(u,f,p){if(!s(u))throw Error(n(299));var b=!1,k="",M=JP,V=QP,Q=ZP,me=null;return p!=null&&(p.unstable_strictMode===!0&&(b=!0),p.identifierPrefix!==void 0&&(k=p.identifierPrefix),p.onUncaughtError!==void 0&&(M=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(me=p.formState)),f=E3(u,1,!0,f,p??null,b,k,me,M,V,Q,V3),f.context=D3(null),p=f.current,b=Os(),b=$e(b),k=Wl(b),k.callback=null,Ul(p,k,b),p=b,f.current.lanes=p,Se(f,p),Xi(f),u[kt]=f.current,MS(u),new Rx(f)},Lm.version="19.2.0",Lm}var e6;function Iee(){if(e6)return JS.exports;e6=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),JS.exports=Ree(),JS.exports}var Lee=Iee();const $ee=Pr(Lee);/**
 * react-router v7.9.3
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var t6="popstate";function Fee(t={}){function e(n,s){let{pathname:i,search:o,hash:l}=n.location;return T5("",{pathname:i,search:o,hash:l},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function r(n,s){return typeof s=="string"?s:Vp(s)}return Bee(e,r,null,t)}function kn(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bo(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Hee(){return Math.random().toString(36).substring(2,10)}function r6(t,e){return{usr:t.state,key:t.key,idx:e}}function T5(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Th(e):e,state:r,key:e&&e.key||n||Hee()}}function Vp({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Th(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function Bee(t,e,r,n={}){let{window:s=document.defaultView,v5Compat:i=!1}=n,o=s.history,l="POP",c=null,d=h();d==null&&(d=0,o.replaceState({...o.state,idx:d},""));function h(){return(o.state||{idx:null}).idx}function m(){l="POP";let v=h(),N=v==null?null:v-d;d=v,c&&c({action:l,location:j.location,delta:N})}function g(v,N){l="PUSH";let T=T5(j.location,v,N);d=h()+1;let S=r6(T,d),O=j.createHref(T);try{o.pushState(S,"",O)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;s.location.assign(O)}i&&c&&c({action:l,location:j.location,delta:1})}function y(v,N){l="REPLACE";let T=T5(j.location,v,N);d=h();let S=r6(T,d),O=j.createHref(T);o.replaceState(S,"",O),i&&c&&c({action:l,location:j.location,delta:0})}function w(v){return zee(v)}let j={get action(){return l},get location(){return t(s,o)},listen(v){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(t6,m),c=v,()=>{s.removeEventListener(t6,m),c=null}},createHref(v){return e(s,v)},createURL:w,encodeLocation(v){let N=w(v);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:g,replace:y,go(v){return o.go(v)}};return j}function zee(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),kn(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Vp(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function Bz(t,e,r="/"){return Vee(t,e,r,!1)}function Vee(t,e,r,n){let s=typeof e=="string"?Th(e):e,i=vl(s.pathname||"/",r);if(i==null)return null;let o=zz(t);qee(o);let l=null;for(let c=0;l==null&&c<o.length;++c){let d=tte(i);l=Zee(o[c],d,n)}return l}function zz(t,e=[],r=[],n="",s=!1){let i=(o,l,c=s,d)=>{let h={relativePath:d===void 0?o.path||"":d,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};if(h.relativePath.startsWith("/")){if(!h.relativePath.startsWith(n)&&c)return;kn(h.relativePath.startsWith(n),`Absolute route path "${h.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(n.length)}let m=ll([n,h.relativePath]),g=r.concat(h);o.children&&o.children.length>0&&(kn(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${m}".`),zz(o.children,e,g,m,c)),!(o.path==null&&!o.index)&&e.push({path:m,score:Jee(m,o.index),routesMeta:g})};return t.forEach((o,l)=>{var c;if(o.path===""||!((c=o.path)!=null&&c.includes("?")))i(o,l);else for(let d of Vz(o.path))i(o,l,!0,d)}),e}function Vz(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,s=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return s?[i,""]:[i];let o=Vz(n.join("/")),l=[];return l.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function qee(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Qee(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var Wee=/^:[\w-]+$/,Uee=3,Gee=2,Yee=1,Kee=10,Xee=-2,n6=t=>t==="*";function Jee(t,e){let r=t.split("/"),n=r.length;return r.some(n6)&&(n+=Xee),e&&(n+=Gee),r.filter(s=>!n6(s)).reduce((s,i)=>s+(Wee.test(i)?Uee:i===""?Yee:Kee),n)}function Qee(t,e){return t.length===e.length&&t.slice(0,-1).every((n,s)=>n===e[s])?t[t.length-1]-e[e.length-1]:0}function Zee(t,e,r=!1){let{routesMeta:n}=t,s={},i="/",o=[];for(let l=0;l<n.length;++l){let c=n[l],d=l===n.length-1,h=i==="/"?e:e.slice(i.length)||"/",m=ub({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),g=c.route;if(!m&&d&&r&&!n[n.length-1].route.index&&(m=ub({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!m)return null;Object.assign(s,m.params),o.push({params:s,pathname:ll([i,m.pathname]),pathnameBase:ste(ll([i,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(i=ll([i,m.pathnameBase]))}return o}function ub(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ete(t.path,t.caseSensitive,t.end),s=e.match(r);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),l=s.slice(1);return{params:n.reduce((d,{paramName:h,isOptional:m},g)=>{if(h==="*"){let w=l[g]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const y=l[g];return m&&!y?d[h]=void 0:d[h]=(y||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function ete(t,e=!1,r=!0){bo(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,l,c)=>(n.push({paramName:l,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),n]}function tte(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return bo(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function vl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function rte(t,e="/"){let{pathname:r,search:n="",hash:s=""}=typeof t=="string"?Th(t):t;return{pathname:r?r.startsWith("/")?r:nte(r,e):e,search:ite(n),hash:ote(s)}}function nte(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?r.length>1&&r.pop():s!=="."&&r.push(s)}),r.length>1?r.join("/"):"/"}function tN(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ate(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function qz(t){let e=ate(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function Wz(t,e,r,n=!1){let s;typeof t=="string"?s=Th(t):(s={...t},kn(!s.pathname||!s.pathname.includes("?"),tN("?","pathname","search",s)),kn(!s.pathname||!s.pathname.includes("#"),tN("#","pathname","hash",s)),kn(!s.search||!s.search.includes("#"),tN("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,l;if(o==null)l=r;else{let m=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),m-=1;s.pathname=g.join("/")}l=m>=0?e[m]:"/"}let c=rte(s,l),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}var ll=t=>t.join("/").replace(/\/\/+/g,"/"),ste=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ite=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,ote=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lte(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}var Uz=["POST","PUT","PATCH","DELETE"];new Set(Uz);var cte=["GET",...Uz];new Set(cte);var _h=x.createContext(null);_h.displayName="DataRouter";var Cw=x.createContext(null);Cw.displayName="DataRouterState";x.createContext(!1);var Gz=x.createContext({isTransitioning:!1});Gz.displayName="ViewTransition";var ute=x.createContext(new Map);ute.displayName="Fetchers";var dte=x.createContext(null);dte.displayName="Await";var Co=x.createContext(null);Co.displayName="Navigation";var K0=x.createContext(null);K0.displayName="Location";var qi=x.createContext({outlet:null,matches:[],isDataRoute:!1});qi.displayName="Route";var pA=x.createContext(null);pA.displayName="RouteError";function fte(t,{relative:e}={}){kn(X0(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=x.useContext(Co),{hash:s,pathname:i,search:o}=J0(t,{relative:e}),l=i;return r!=="/"&&(l=i==="/"?r:ll([r,i])),n.createHref({pathname:l,search:o,hash:s})}function X0(){return x.useContext(K0)!=null}function ta(){return kn(X0(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(K0).location}var Yz="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Kz(t){x.useContext(Co).static||x.useLayoutEffect(t)}function jt(){let{isDataRoute:t}=x.useContext(qi);return t?Tte():hte()}function hte(){kn(X0(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(_h),{basename:e,navigator:r}=x.useContext(Co),{matches:n}=x.useContext(qi),{pathname:s}=ta(),i=JSON.stringify(qz(n)),o=x.useRef(!1);return Kz(()=>{o.current=!0}),x.useCallback((c,d={})=>{if(bo(o.current,Yz),!o.current)return;if(typeof c=="number"){r.go(c);return}let h=Wz(c,JSON.parse(i),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ll([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,i,s,t])}var mte=x.createContext(null);function pte(t){let e=x.useContext(qi).outlet;return x.useMemo(()=>e&&x.createElement(mte.Provider,{value:t},e),[e,t])}function ya(){let{matches:t}=x.useContext(qi),e=t[t.length-1];return e?e.params:{}}function J0(t,{relative:e}={}){let{matches:r}=x.useContext(qi),{pathname:n}=ta(),s=JSON.stringify(qz(r));return x.useMemo(()=>Wz(t,JSON.parse(s),n,e==="path"),[t,s,n,e])}function gte(t,e){return Xz(t,e)}function Xz(t,e,r,n,s){var T;kn(X0(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(Co),{matches:o}=x.useContext(qi),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let S=m&&m.path||"";Jz(d,!m||S.endsWith("*")||S.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${S}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${S}"> to <Route path="${S==="/"?"*":`${S}/*`}">.`)}let g=ta(),y;if(e){let S=typeof e=="string"?Th(e):e;kn(h==="/"||((T=S.pathname)==null?void 0:T.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${S.pathname}" was given in the \`location\` prop.`),y=S}else y=g;let w=y.pathname||"/",j=w;if(h!=="/"){let S=h.replace(/^\//,"").split("/");j="/"+w.replace(/^\//,"").split("/").slice(S.length).join("/")}let v=Bz(t,{pathname:j});bo(m||v!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),bo(v==null||v[v.length-1].route.element!==void 0||v[v.length-1].route.Component!==void 0||v[v.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=wte(v&&v.map(S=>Object.assign({},S,{params:Object.assign({},c,S.params),pathname:ll([h,i.encodeLocation?i.encodeLocation(S.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathname]),pathnameBase:S.pathnameBase==="/"?h:ll([h,i.encodeLocation?i.encodeLocation(S.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:S.pathnameBase])})),o,r,n,s);return e&&N?x.createElement(K0.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},N):N}function xte(){let t=Cte(),e=lte(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),r?x.createElement("pre",{style:s},r):null,o)}var yte=x.createElement(xte,null),bte=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.unstable_onError?this.props.unstable_onError(t,e):console.error("React Router caught the following error during render",t)}render(){return this.state.error!==void 0?x.createElement(qi.Provider,{value:this.props.routeContext},x.createElement(pA.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function vte({routeContext:t,match:e,children:r}){let n=x.useContext(_h);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(qi.Provider,{value:t},r)}function wte(t,e=[],r=null,n=null,s=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r==null?void 0:r.errors;if(o!=null){let d=i.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);kn(d>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,d+1))}let l=!1,c=-1;if(r)for(let d=0;d<i.length;d++){let h=i[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:m,errors:g}=r,y=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!g||g[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((d,h,m)=>{let g,y=!1,w=null,j=null;r&&(g=o&&h.route.id?o[h.route.id]:void 0,w=h.route.errorElement||yte,l&&(c<0&&m===0?(Jz("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),y=!0,j=null):c===m&&(y=!0,j=h.route.hydrateFallbackElement||null)));let v=e.concat(i.slice(0,m+1)),N=()=>{let T;return g?T=w:y?T=j:h.route.Component?T=x.createElement(h.route.Component,null):h.route.element?T=h.route.element:T=d,x.createElement(vte,{match:h,routeContext:{outlet:d,matches:v,isDataRoute:r!=null},children:T})};return r&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?x.createElement(bte,{location:r.location,revalidation:r.revalidation,component:w,error:g,children:N(),routeContext:{outlet:null,matches:v,isDataRoute:!0},unstable_onError:n}):N()},null)}function gA(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function jte(t){let e=x.useContext(_h);return kn(e,gA(t)),e}function Ste(t){let e=x.useContext(Cw);return kn(e,gA(t)),e}function Nte(t){let e=x.useContext(qi);return kn(e,gA(t)),e}function xA(t){let e=Nte(t),r=e.matches[e.matches.length-1];return kn(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function kte(){return xA("useRouteId")}function Cte(){var n;let t=x.useContext(pA),e=Ste("useRouteError"),r=xA("useRouteError");return t!==void 0?t:(n=e.errors)==null?void 0:n[r]}function Tte(){let{router:t}=jte("useNavigate"),e=xA("useNavigate"),r=x.useRef(!1);return Kz(()=>{r.current=!0}),x.useCallback(async(s,i={})=>{bo(r.current,Yz),r.current&&(typeof s=="number"?t.navigate(s):await t.navigate(s,{fromRouteId:e,...i}))},[t,e])}var a6={};function Jz(t,e,r){!e&&!a6[t]&&(a6[t]=!0,bo(!1,r))}x.memo(_te);function _te({routes:t,future:e,state:r,unstable_onError:n}){return Xz(t,void 0,r,n,e)}function Mte(t){return pte(t.context)}function ut(t){kn(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Ate({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:s,static:i=!1}){kn(!X0(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),l=x.useMemo(()=>({basename:o,navigator:s,static:i,future:{}}),[o,s,i]);typeof r=="string"&&(r=Th(r));let{pathname:c="/",search:d="",hash:h="",state:m=null,key:g="default"}=r,y=x.useMemo(()=>{let w=vl(c,o);return w==null?null:{location:{pathname:w,search:d,hash:h,state:m,key:g},navigationType:n}},[o,c,d,h,m,g,n]);return bo(y!=null,`<Router basename="${o}"> is not able to match the URL "${c}${d}${h}" because it does not start with the basename, so the <Router> won't render anything.`),y==null?null:x.createElement(Co.Provider,{value:l},x.createElement(K0.Provider,{children:e,value:y}))}function Ote({children:t,location:e}){return gte(_5(t),e)}function _5(t,e=[]){let r=[];return x.Children.forEach(t,(n,s)=>{if(!x.isValidElement(n))return;let i=[...e,s];if(n.type===x.Fragment){r.push.apply(r,_5(n.props.children,i));return}kn(n.type===ut,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),kn(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=_5(n.props.children,i)),r.push(o)}),r}var Ly="get",$y="application/x-www-form-urlencoded";function Tw(t){return t!=null&&typeof t.tagName=="string"}function Ete(t){return Tw(t)&&t.tagName.toLowerCase()==="button"}function Dte(t){return Tw(t)&&t.tagName.toLowerCase()==="form"}function Pte(t){return Tw(t)&&t.tagName.toLowerCase()==="input"}function Rte(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Ite(t,e){return t.button===0&&(!e||e==="_self")&&!Rte(t)}var $x=null;function Lte(){if($x===null)try{new FormData(document.createElement("form"),0),$x=!1}catch{$x=!0}return $x}var $te=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function rN(t){return t!=null&&!$te.has(t)?(bo(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${$y}"`),null):t}function Fte(t,e){let r,n,s,i,o;if(Dte(t)){let l=t.getAttribute("action");n=l?vl(l,e):null,r=t.getAttribute("method")||Ly,s=rN(t.getAttribute("enctype"))||$y,i=new FormData(t)}else if(Ete(t)||Pte(t)&&(t.type==="submit"||t.type==="image")){let l=t.form;if(l==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||l.getAttribute("action");if(n=c?vl(c,e):null,r=t.getAttribute("formmethod")||l.getAttribute("method")||Ly,s=rN(t.getAttribute("formenctype"))||rN(l.getAttribute("enctype"))||$y,i=new FormData(l,t),!Lte()){let{name:d,type:h,value:m}=t;if(h==="image"){let g=d?`${d}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else d&&i.append(d,m)}}else{if(Tw(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=Ly,n=null,s=$y,o=t}return i&&s==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:s,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function yA(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hte(t,e,r){let n=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return n.pathname==="/"?n.pathname=`_root.${r}`:e&&vl(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.${r}`:n.pathname=`${n.pathname.replace(/\/$/,"")}.${r}`,n}async function Bte(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function zte(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function Vte(t,e,r){let n=await Promise.all(t.map(async s=>{let i=e.routes[s.route.id];if(i){let o=await Bte(i,r);return o.links?o.links():[]}return[]}));return Gte(n.flat(1).filter(zte).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function s6(t,e,r,n,s,i){let o=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,l=(c,d)=>{var h;return r[d].pathname!==c.pathname||((h=r[d].route.path)==null?void 0:h.endsWith("*"))&&r[d].params["*"]!==c.params["*"]};return i==="assets"?e.filter((c,d)=>o(c,d)||l(c,d)):i==="data"?e.filter((c,d)=>{var m;let h=n.routes[c.route.id];if(!h||!h.hasLoader)return!1;if(o(c,d)||l(c,d))return!0;if(c.route.shouldRevalidate){let g=c.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((m=r[0])==null?void 0:m.params)||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof g=="boolean")return g}return!0}):[]}function qte(t,e,{includeHydrateFallback:r}={}){return Wte(t.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let i=[s.module];return s.clientActionModule&&(i=i.concat(s.clientActionModule)),s.clientLoaderModule&&(i=i.concat(s.clientLoaderModule)),r&&s.hydrateFallbackModule&&(i=i.concat(s.hydrateFallbackModule)),s.imports&&(i=i.concat(s.imports)),i}).flat(1))}function Wte(t){return[...new Set(t)]}function Ute(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function Gte(t,e){let r=new Set;return new Set(e),t.reduce((n,s)=>{let i=JSON.stringify(Ute(s));return r.has(i)||(r.add(i),n.push({key:i,link:s})),n},[])}function Qz(){let t=x.useContext(_h);return yA(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function Yte(){let t=x.useContext(Cw);return yA(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var bA=x.createContext(void 0);bA.displayName="FrameworkContext";function Zz(){let t=x.useContext(bA);return yA(t,"You must render this element inside a <HydratedRouter> element"),t}function Kte(t,e){let r=x.useContext(bA),[n,s]=x.useState(!1),[i,o]=x.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:h,onTouchStart:m}=e,g=x.useRef(null);x.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let j=N=>{N.forEach(T=>{o(T.isIntersecting)})},v=new IntersectionObserver(j,{threshold:.5});return g.current&&v.observe(g.current),()=>{v.disconnect()}}},[t]),x.useEffect(()=>{if(n){let j=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(j)}}},[n]);let y=()=>{s(!0)},w=()=>{s(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:$m(l,y),onBlur:$m(c,w),onMouseEnter:$m(d,y),onMouseLeave:$m(h,w),onTouchStart:$m(m,y)}]:[!1,g,{}]}function $m(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function Xte({page:t,...e}){let{router:r}=Qz(),n=x.useMemo(()=>Bz(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?x.createElement(Qte,{page:t,matches:n,...e}):null}function Jte(t){let{manifest:e,routeModules:r}=Zz(),[n,s]=x.useState([]);return x.useEffect(()=>{let i=!1;return Vte(t,e,r).then(o=>{i||s(o)}),()=>{i=!0}},[t,e,r]),n}function Qte({page:t,matches:e,...r}){let n=ta(),{manifest:s,routeModules:i}=Zz(),{basename:o}=Qz(),{loaderData:l,matches:c}=Yte(),d=x.useMemo(()=>s6(t,e,c,s,n,"data"),[t,e,c,s,n]),h=x.useMemo(()=>s6(t,e,c,s,n,"assets"),[t,e,c,s,n]),m=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(e.forEach(N=>{var S;let T=s.routes[N.route.id];!T||!T.hasLoader||(!d.some(O=>O.route.id===N.route.id)&&N.route.id in l&&((S=i[N.route.id])!=null&&S.shouldRevalidate)||T.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let v=Hte(t,o,"data");return j&&w.size>0&&v.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[v.pathname+v.search]},[o,l,n,s,d,e,t,i]),g=x.useMemo(()=>qte(h,s),[h,s]),y=Jte(h);return x.createElement(x.Fragment,null,m.map(w=>x.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),g.map(w=>x.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),y.map(({key:w,link:j})=>x.createElement("link",{key:w,nonce:r.nonce,...j})))}function Zte(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var eV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{eV&&(window.__reactRouterVersion="7.9.3")}catch{}function ere({basename:t,children:e,window:r}){let n=x.useRef();n.current==null&&(n.current=Fee({window:r,v5Compat:!0}));let s=n.current,[i,o]=x.useState({action:s.action,location:s.location}),l=x.useCallback(c=>{x.startTransition(()=>o(c))},[o]);return x.useLayoutEffect(()=>s.listen(l),[s,l]),x.createElement(Ate,{basename:t,children:e,location:i.location,navigationType:i.action,navigator:s})}var tV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Oc=x.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:s,reloadDocument:i,replace:o,state:l,target:c,to:d,preventScrollReset:h,viewTransition:m,...g},y){let{basename:w}=x.useContext(Co),j=typeof d=="string"&&tV.test(d),v,N=!1;if(typeof d=="string"&&j&&(v=d,eV))try{let $=new URL(window.location.href),I=d.startsWith("//")?new URL($.protocol+d):new URL(d),L=vl(I.pathname,w);I.origin===$.origin&&L!=null?d=L+I.search+I.hash:N=!0}catch{bo(!1,`<Link to="${d}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let T=fte(d,{relative:s}),[S,O,_]=Kte(n,g),A=are(d,{replace:o,state:l,target:c,preventScrollReset:h,relative:s,viewTransition:m});function E($){e&&e($),$.defaultPrevented||A($)}let P=x.createElement("a",{...g,..._,href:v||T,onClick:N||i?e:E,ref:Zte(y,O),target:c,"data-discover":!j&&r==="render"?"true":void 0});return S&&!j?x.createElement(x.Fragment,null,P,x.createElement(Xte,{page:T})):P});Oc.displayName="Link";var tre=x.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:s=!1,style:i,to:o,viewTransition:l,children:c,...d},h){let m=J0(o,{relative:d.relative}),g=ta(),y=x.useContext(Cw),{navigator:w,basename:j}=x.useContext(Co),v=y!=null&&cre(m)&&l===!0,N=w.encodeLocation?w.encodeLocation(m).pathname:m.pathname,T=g.pathname,S=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(T=T.toLowerCase(),S=S?S.toLowerCase():null,N=N.toLowerCase()),S&&j&&(S=vl(S,j)||S);const O=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let _=T===N||!s&&T.startsWith(N)&&T.charAt(O)==="/",A=S!=null&&(S===N||!s&&S.startsWith(N)&&S.charAt(N.length)==="/"),E={isActive:_,isPending:A,isTransitioning:v},P=_?e:void 0,$;typeof n=="function"?$=n(E):$=[n,_?"active":null,A?"pending":null,v?"transitioning":null].filter(Boolean).join(" ");let I=typeof i=="function"?i(E):i;return x.createElement(Oc,{...d,"aria-current":P,className:$,ref:h,style:I,to:o,viewTransition:l},typeof c=="function"?c(E):c)});tre.displayName="NavLink";var rre=x.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:s,state:i,method:o=Ly,action:l,onSubmit:c,relative:d,preventScrollReset:h,viewTransition:m,...g},y)=>{let w=ore(),j=lre(l,{relative:d}),v=o.toLowerCase()==="get"?"get":"post",N=typeof l=="string"&&tV.test(l),T=S=>{if(c&&c(S),S.defaultPrevented)return;S.preventDefault();let O=S.nativeEvent.submitter,_=(O==null?void 0:O.getAttribute("formmethod"))||o;w(O||S.currentTarget,{fetcherKey:e,method:_,navigate:r,replace:s,state:i,relative:d,preventScrollReset:h,viewTransition:m})};return x.createElement("form",{ref:y,method:v,action:j,onSubmit:n?c:T,...g,"data-discover":!N&&t==="render"?"true":void 0})});rre.displayName="Form";function nre(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rV(t){let e=x.useContext(_h);return kn(e,nre(t)),e}function are(t,{target:e,replace:r,state:n,preventScrollReset:s,relative:i,viewTransition:o}={}){let l=jt(),c=ta(),d=J0(t,{relative:i});return x.useCallback(h=>{if(Ite(h,e)){h.preventDefault();let m=r!==void 0?r:Vp(c)===Vp(d);l(t,{replace:m,state:n,preventScrollReset:s,relative:i,viewTransition:o})}},[c,l,d,r,n,e,t,s,i,o])}var sre=0,ire=()=>`__${String(++sre)}__`;function ore(){let{router:t}=rV("useSubmit"),{basename:e}=x.useContext(Co),r=kte();return x.useCallback(async(n,s={})=>{let{action:i,method:o,encType:l,formData:c,body:d}=Fte(n,e);if(s.navigate===!1){let h=s.fetcherKey||ire();await t.fetch(h,r,s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,flushSync:s.flushSync})}else await t.navigate(s.action||i,{preventScrollReset:s.preventScrollReset,formData:c,body:d,formMethod:s.method||o,formEncType:s.encType||l,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[t,e,r])}function lre(t,{relative:e}={}){let{basename:r}=x.useContext(Co),n=x.useContext(qi);kn(n,"useFormAction must be used inside a RouteContext");let[s]=n.matches.slice(-1),i={...J0(t||".",{relative:e})},o=ta();if(t==null){i.search=o.search;let l=new URLSearchParams(i.search),c=l.getAll("index");if(c.some(h=>h==="")){l.delete("index"),c.filter(m=>m).forEach(m=>l.append("index",m));let h=l.toString();i.search=h?`?${h}`:""}}return(!t||t===".")&&s.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:ll([r,i.pathname])),Vp(i)}function cre(t,{relative:e}={}){let r=x.useContext(Gz);kn(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=rV("useViewTransitionState"),s=J0(t,{relative:e});if(!r.isTransitioning)return!1;let i=vl(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=vl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return ub(s.pathname,o)!=null||ub(s.pathname,i)!=null}var vA=Hz();const nV=Pr(vA),i6=t=>({1:"view_dashboard",2:"edit_dashboard",3:"view_assets",4:"create_assets",5:"edit_assets",6:"delete_assets",7:"view_workorders",8:"create_workorders",9:"assign_workorders",10:"complete_workorders",11:"view_reports",12:"export_reports",13:"view_settings",14:"edit_settings",15:"view_permissions",16:"edit_permissions",17:"manage_users",18:"edit_workorders",19:"delete_workorders",20:"create_reports",21:"edit_reports",22:"delete_reports",23:"view_inventory",24:"create_inventory",25:"edit_inventory",26:"delete_inventory",27:"view_teams",28:"create_teams",29:"edit_teams",30:"delete_teams",31:"view_machinehistory",32:"create_machine_history",33:"edit_machinehistory",34:"delete_machinehistory"})[t]||null;function ure(t,e){var s,i,o,l,c,d,h,m,g,y,w,j,v,N,T,S,O,_,A,E,P,$,I,L,R,z,Y;const r=((s=t.stoptime)==null?void 0:s.name)||((o=(i=e==null?void 0:e.stoptimes)==null?void 0:i.data.find(q=>String(q.id)===String(t.stoptime_id)))==null?void 0:o.name)||"-";(l=t.itemtrouble)!=null&&l.name||(d=(c=e==null?void 0:e.itemtroubles)==null?void 0:c.data.find(q=>String(q.id)===String(t.itemtrouble_id)))!=null&&d.name,(h=t.jenisaktifitas)!=null&&h.name||(g=(m=e==null?void 0:e.jenisaktivitas)==null?void 0:m.data.find(q=>String(q.id)===String(t.jenisaktifitas_id)))!=null&&g.name,(y=t.kegiatan)!=null&&y.name||(j=(w=e==null?void 0:e.kegiatans)==null?void 0:w.data.find(q=>String(q.id)===String(t.kegiatan_id)))!=null&&j.name;const n=((v=t.unitsp)==null?void 0:v.name)||((T=(N=e==null?void 0:e.unitspareparts)==null?void 0:N.data.find(q=>String(q.id)===String(t.unitsp_id)))==null?void 0:T.name)||"-";return{id:String(t.id),date:t.date,shift:((S=t.shift)==null?void 0:S.name)||"-",group:((O=t.group)==null?void 0:O.name)||"-",unit:((_=t.unit)==null?void 0:_.name)||"-",mesin:((A=t.mesin)==null?void 0:A.name)||"-",stopJam:((E=t.startstop)==null?void 0:E.stop_time_hh)??null,stopMenit:((P=t.startstop)==null?void 0:P.stop_time_mm)??null,startJam:(($=t.startstop)==null?void 0:$.start_time_hh)??null,startMenit:((I=t.startstop)==null?void 0:I.start_time_mm)??null,stopTime:r,runningHour:t.running_hour??0,itemTrouble:((L=t.itemtrouble)==null?void 0:L.name)||"-",jenisGangguan:t.jenis_gangguan||"",bentukTindakan:t.bentuk_tindakan||"",perbaikanPerawatan:((R=t.jenisaktifitas)==null?void 0:R.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:t.root_cause||"",jenisAktivitas:((z=t.jenisaktifitas)==null?void 0:z.name)||"-",kegiatan:((Y=t.kegiatan)==null?void 0:Y.name)||"-",kodePart:t.kode_part||"",sparePart:t.spare_part||"",idPart:t.id_part||"",jumlah:t.jumlah??0,unitSparePart:n,startstop:t.startstop??null}}const Fm=Tee(),aV=x.createContext(null),cu=t=>{var r,n;const e=t.department?{id:t.department.id,name:t.department.name,head_id:t.department.head_id,head:t.department.head?{id:t.department.head.id,name:t.department.head.name,email:t.department.head.email}:null}:null;return{id:String(t.id),name:t.name,nik:t.nik,email:t.email,roleId:t.role_id?String(t.role_id):null,roles:t.roles||[],customPermissions:t.customPermissions||[],permissions:t.permissions||t.allPermissions||[],department:e,department_id:t.department_id||((r=t.department)==null?void 0:r.id)||null,department_name:((n=t.department)==null?void 0:n.name)||null,position:t.position}},dre=({children:t})=>{const[e,r]=x.useState(null),[n,s]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState(null),[d,h]=x.useState(!0),[m,g]=x.useState(!0),[y,w]=x.useState(null),j=jt(),v=x.useRef(!1),N=x.useCallback(async()=>{o(!0);try{const G=n||localStorage.getItem("token");G&&await fetch(`${Fm.envVariables.VITE_REACT_API_URL}/logout`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`}})}finally{localStorage.removeItem("token"),localStorage.removeItem("refreshToken"),localStorage.removeItem("user"),s(null),r(null),c(null),o(!1),j("/login")}},[n,j]),T=x.useCallback(async()=>{if(v.current)return new Promise(U=>{const de=setInterval(()=>{v.current||(clearInterval(de),U(localStorage.getItem("token")))},100)});v.current=!0;const G=localStorage.getItem("refreshToken");if(!G)return await N(),null;try{const U=await fetch(`${Fm.envVariables.VITE_REACT_API_URL}/refresh-token`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${G}`},body:JSON.stringify({refresh_token:G})});if(!U.ok){if(U.status===401)return await N(),null;throw new Error("Token refresh failed")}const de=await U.json(),pt=de.access_token,mr=de.refresh_token||G;return localStorage.setItem("token",pt),localStorage.setItem("refreshToken",mr),s(pt),r(Sr=>Sr?{...Sr,access_token:pt,refresh_token:mr}:null),pt}catch{return await N(),null}finally{v.current=!1}},[N]),S=x.useCallback(async(G,U={})=>{let de=n||localStorage.getItem("token");const pt=async mr=>{var qs;if(!mr)throw new Error("No token found");const Sr=new Headers(U.headers||{});((qs=Sr.get("Content-Type"))!=null&&qs.includes("application/json")||!Sr.has("Content-Type"))&&Sr.set("Content-Type","application/json"),Sr.set("Authorization",`Bearer ${mr}`);const Ns=await fetch(`${Fm.envVariables.VITE_REACT_API_URL}${G}`,{...U,headers:Sr});if(Ns.status===204||Ns.statusText==="No Content")return null;if(!Ns.ok){let ja;try{ja=await Ns.json()}catch{ja=await Ns.text()}throw new Error(ja.message||`HTTP error! Status: ${Ns.status}`)}let Ni;try{return Ni=await Ns.text(),Ni?JSON.parse(Ni):null}catch{return Ni}};try{return await pt(de)}catch(mr){if(mr instanceof Error&&mr.message.includes("status: 401")){const Sr=await T();if(Sr)return await pt(Sr)}throw mr}},[n,T]),O=x.useCallback(async()=>{const G=await S("/user/profile?includes_trashed=true"),U=cu(G);return r(U),localStorage.setItem("user",JSON.stringify(U)),U},[S]),_=x.useCallback(async()=>{const G=localStorage.getItem("token"),U=localStorage.getItem("user"),de=localStorage.getItem("refreshToken");if(G&&de){s(G);try{if(U){const mr=JSON.parse(U);r(cu(mr))}const pt=await O();r(pt)}catch{await N()}}},[O,N]),A=x.useCallback(async()=>{const[G,U,de,pt,mr,Sr,Ns,Ni,qs]=await Promise.all([S("/mesin?includes_trashed=true"),S("/group?includes_trashed=true"),S("/shift?includes_trashed=true"),S("/unit?includes_trashed=true"),S("/unitsp?includes_trashed=true"),S("/itemtrouble?includes_trashed=true"),S("/jenisaktifitas?includes_trashed=true"),S("/kegiatan?includes_trashed=true"),S("/stoptime?includes_trashed=true")]);return{mesin:G,shifts:de,groups:U,stoptimes:qs,units:pt,itemtroubles:Sr,jenisaktivitas:Ns,kegiatans:Ni,unitspareparts:mr}},[S]),E=x.useCallback(async()=>{try{return await S("/erp?includes_trashed=true",{method:"GET"})}catch(G){throw G}},[S]),P=x.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
                    xmlns:tem="http://tempuri.org/" 
                    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
                    xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
              <AddAsset xmlns="http://tempuri.org/">
                  <asset>
                      <Name>${G.name}</Name>
                      <Category>${G.category}</Category>
                      <Location>${G.location}</Location>
                      <PurchaseDate>${G.purchase_date}</PurchaseDate>
                      <Description>${G.description}</Description>
                      <Type>${G.type||""}</Type>
                      <Make>${G.make||""}</Make>
                      <Model>${G.model||""}</Model>
                      <Status>${G.status||""}</Status>
                      <LastMaintenance ${G.last_maintenance?"":'xsi:nil="true"'}>${G.last_maintenance||""}</LastMaintenance>
                      <NextMaintenance>${G.next_maintenance||""}</NextMaintenance>
                      <WorkOrders>${G.work_orders||""}</WorkOrders>
                      <Health>${G.health||""}</Health>
                  </asset>
              </AddAsset>
          </soap:Body>
      </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/AddAsset"},body:U});if(console.log("ERP SOAP Add Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error adding asset:",de),de}},[S]),$=x.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
      <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/">
        <soap:Body>
          <EditAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
            <assetId>${G.id}</assetId>
            <assetName>${G.name}</assetName>
            <assetCategory>${G.category}</assetCategory>
            <assetLocation>${G.location}</assetLocation>
            <purchaseDate>${G.purchase_date}</purchaseDate>
            <description>${G.description}</description>
            <assetType>${G.type||""}</assetType>
            <assetMake>${G.make||""}</assetMake>
            <assetModel>${G.model||""}</assetModel>
            <assetStatus>${G.status||""}</assetStatus>
            <lastMaintenance>${G.last_maintenance||""}</lastMaintenance>
            <nextMaintenance>${G.next_maintenance||""}</nextMaintenance>
            <workOrders>${G.work_orders||""}</workOrders>
            <health>${G.health||""}</health>
          </EditAsset>
        </soap:Body>
      </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/EditAsset"},body:U});if(console.log("ERP SOAP Edit Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error editing asset:",de),de}},[S]),I=x.useCallback(async G=>{const U=`<?xml version="1.0" encoding="utf-8"?>
        <soap:Envelope xmlns:soap="http://schemas.xmlsoap.org/soap/envelope/" 
               xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
               xmlns:xsd="http://www.w3.org/2001/XMLSchema">
          <soap:Body>
            <DeleteAsset xmlns="http://tempuri.org/ERPService/AssetManagement">
             <assetId>${G}</assetId>
            </DeleteAsset>
          </soap:Body>
        </soap:Envelope>`;try{const de=await S("/erp-endpoint?includes_trashed=true",{method:"POST",headers:{"Content-Type":"text/xml; charset=utf-8",SOAPAction:"http://tempuri.org/DeleteAsset"},body:U});if(console.log("ERP SOAP Delete Asset Response:",de),typeof de=="string"&&de.includes("<soap:Fault>"))throw new Error("SOAP Fault detected in response.");return de}catch(de){throw console.error("Error deleting asset:",de),de}},[S]),L=x.useCallback(async()=>{try{const G=await S("/history?includes_trashed=true");return G&&G.history&&Array.isArray(G.history)?G.history:Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected audit trail response format:",G),[])}catch(G){return console.error("Failed to fetch audit trail:",G),[]}},[S]),R=x.useCallback(G=>{var de;if(!e)return!1;if(e.roleId==="3")return!0;if(Array.isArray(G))return G.some(pt=>{var Sr;const mr=/^\d+$/.test(pt)?i6(pt):pt;return mr?(Sr=e.permissions)==null?void 0:Sr.includes(mr):!1});const U=/^\d+$/.test(G)?i6(G):G;return U&&((de=e.permissions)==null?void 0:de.includes(U))||!1},[e]);x.useEffect(()=>{(async()=>{g(!0);try{if(await _(),n){const U=await A();c(U)}}catch{await N()}finally{g(!1),h(!1)}})()},[n,_,A,N]);const z=async(G,U,de,pt,mr,Sr,Ns,Ni)=>{const qs=await fetch(`${Fm.envVariables.VITE_REACT_API_URL}/register?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G,nik:de,email:U,password:pt,department:mr,position:Sr,role_id:Ns||null,customPermissions:Ni?Ni.map(Number):[]})}),ja=await qs.json();if(!qs.ok)throw new Error(ja.message||"User creation failed");return ja},Y=x.useCallback(async(G,U)=>{g(!0);try{const de=await fetch(`${Fm.envVariables.VITE_REACT_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({nik:G,password:U})});if(!de.ok){const Sr=await de.json();throw new Error(Sr.message||"Login failed")}const pt=await de.json(),mr=cu({...pt.user,access_token:pt.access_token,refresh_token:pt.refresh_token,permissions:pt.user.permissions||pt.user.allPermissions||[]});localStorage.setItem("token",pt.access_token),localStorage.setItem("refreshToken",pt.refresh_token),localStorage.setItem("user",JSON.stringify(mr)),s(pt.access_token),r(mr);try{const Sr=await A();c(Sr)}catch{}j("/dashboard")}catch(de){throw de}finally{g(!1)}},[j,A]),q=x.useCallback(async G=>await S("/mhs?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),H=x.useCallback(async(G="")=>{try{const U=await S(G?`/mhs?search=${encodeURIComponent(G)}?includes_trashed=true`:"/mhs?includes_trashed=true"),de=await A(),pt=U.data||U;if(!Array.isArray(pt))throw new Error("Invalid response format");return pt.map(mr=>ure(mr,de))}catch{return[]}},[S,A]),D=x.useCallback(async G=>await S(`/mhs/${G}?includes_trashed=true`),[S]),F=x.useCallback(async(G,U)=>await S(`/mhs/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),[S]),K=x.useCallback(async G=>await S(`/mhs/${G}?includes_trashed=true`,{method:"DELETE"}),[S]),te=x.useCallback(async G=>await S("/ayam?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),W=x.useCallback(async()=>{const G=await S("/ayam?includes_trashed=true");return Array.isArray(G)?G:Array.isArray(G.data)?G.data:[]},[S]),Z=x.useCallback(async G=>{const U=await S(`/ayam/${G}?includes_trashed=true`,{method:"GET"});return console.log("API raw response:",U),U},[S]),oe=x.useCallback(async G=>{if(!G.id)throw new Error("Work order ID is required for update.");return(await S(`/ayam/${G.id}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})).data},[S]),le=x.useCallback(async G=>await S(`/ayam/${G}?includes_trashed=true`,{method:"DELETE"}),[S]),ce=x.useCallback(async G=>(await W()).filter(de=>(de.requester_id===parseInt(G)||de.assigned_to_id===parseInt(G))&&(de.handling_status==="New"||de.handling_status==="Progress")),[W]),pe=x.useCallback(async(G,U)=>{await S("/user/password-update?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({current_password:G,new_password:U,new_password_confirmation:U})})},[S]),Ie=x.useCallback(async()=>{try{const G=await S("/users?includes_trashed=true");let U;return G&&G.success!==void 0?U=G.data||[]:Array.isArray(G)?U=G:U=[],U.map(de=>cu(de))}catch(G){return console.error("Failed to fetch users:",G),[]}},[S]);x.useCallback(async G=>{const U=await S(`/users/${G}?includes_trashed=true`);return cu(U)},[S]);const Ee=x.useCallback(async()=>(await S("/user/profile?includes_trashed=true")).map(U=>cu(U)),[S]),ge=x.useCallback(async()=>(await S("/roles?includes_trashed=true")).map(U=>({id:String(U.id),name:U.name,description:U.description||`${U.name} role`,permissions:U.permissions.map(String),isSuperadmin:U.name==="superadmin"})),[S]),Oe=x.useCallback(async G=>{const U=await S("/roles?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:G.name,description:G.description,permissions:G.permissions.map(Number)})});return{id:String(U.id),name:U.name,description:U.description,permissions:U.permissions.map(String)}},[S]),ze=x.useCallback(async(G,U)=>{var pt;const de=await S(`/roles/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:U.name,description:U.description,permissions:(pt=U.permissions)==null?void 0:pt.map(Number)})});return{id:String(de.id),name:de.name,description:de.description,permissions:de.permissions.map(String)}},[S]),re=x.useCallback(async G=>{await S(`/roles/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),se=x.useCallback(async(G,U)=>{const de=await S(`/users/${G}?includes_trashed=true`),pt=await S(`/users/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:de.name,nik:de.nik,email:de.email,department:de.department,roleId:U.roleId||null,customPermissions:U.customPermissions||[]})});return cu(pt)},[S]),ee=x.useCallback(async G=>{await S(`/users/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),we=x.useCallback(async()=>{try{return(await S("/service-groups?includes_trashed=true")).data||[]}catch(G){return console.error("Failed to fetch service groups:",G),[]}},[S]),Ge=x.useCallback(async G=>{try{return(await S(`/service-groups/${G}?includes_trashed=true`)).data}catch(U){throw console.error(`Failed to fetch service group with id ${G}:`,U),U}},[S]),Ye=x.useCallback(async G=>{try{const U=await S("/service-groups?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!U)throw new Error("No response from server");if(U.success===!1)throw new Error(U.message||"Failed to create service group");const de=U.data||U;return{id:de.id,group_name:de.group_name,group_description:de.group_description}}catch(U){throw console.error("Error adding service group:",U),new Error(`Failed to add service group: ${U instanceof Error?U.message:String(U)}`)}},[S]),xe=x.useCallback(async(G,U)=>{try{const de=await S(`/service-groups/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),pt=de.data||de;return{id:pt.id,group_name:pt.group_name,group_description:pt.group_description}}catch(de){throw console.error(`Failed to update service group with id ${G}:`,de),new Error(`Failed to update service group: ${de instanceof Error?de.message:String(de)}`)}},[S]),ct=x.useCallback(async G=>{try{await S(`/service-groups/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service group with id ${G}:`,U),new Error(`Failed to delete service group: ${U instanceof Error?U.message:String(U)}`)}},[S]),mt=x.useCallback(async G=>{try{return(await S("/service-catalogues?includes_trashed=true")).data.map(de=>({id:de.id,service_name:de.service_name,service_description:de.service_description,service_type:de.service_type,priority:de.priority,service_owner:de.service_owner,sla:de.sla,impact:de.impact,created_at:de.created_at,updated_at:de.updated_at}))}catch(U){return console.error("Failed to fetch services:",U),[]}},[S]),tt=x.useCallback(async G=>{try{const U=await S(`/service-catalogues?owner=${G}&includes_trashed=true`);return U.data||U}catch(U){return console.error("Failed to fetch services by owner:",U),[]}},[S]),wt=x.useCallback(async G=>{try{const U=await S("/service-catalogues?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),de=U.data||U;return{id:de.id,service_name:de.service_name,service_description:de.service_description,service_type:de.service_type,priority:de.priority,service_owner:de.service_owner,sla:de.sla,impact:de.impact,created_at:de.created_at,updated_at:de.updated_at}}catch(U){throw console.error("Error adding service catalogue:",U),new Error(`Failed to add service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ct=x.useCallback(async(G,U)=>{try{const de=await S(`/service-catalogues/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),pt=de.data||de;return{id:pt.id,service_name:pt.service_name,service_description:pt.service_description,service_type:pt.service_type,priority:pt.priority,service_owner:pt.service_owner,sla:pt.sla,impact:pt.impact,created_at:pt.created_at,updated_at:pt.updated_at}}catch(de){throw console.error(`Failed to update service catalogue with id ${G}:`,de),new Error(`Failed to update service catalogue: ${de instanceof Error?de.message:String(de)}`)}},[S]),ft=x.useCallback(async G=>{try{await S(`/service-catalogues/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service catalogue with id ${G}:`,U),new Error(`Failed to delete service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),Rt=x.useCallback(G=>{w(G)},[]),Ze=x.useCallback(async()=>{try{const G=await S("/department?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch departments:",G),[]}},[S]),he=x.useCallback(async G=>(await S(`/department/${G}?includes_trashed=true`)).data,[S]),We=x.useCallback(async G=>await S("/department?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),je=x.useCallback(async(G,U)=>{try{const de=await S(`/department/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),pt=de.data||de;return{id:pt.id,name:pt.name,head_id:pt.head_id}}catch(de){throw console.error(`Failed to update service group with id ${G}:`,de),new Error(`Failed to update service group: ${de instanceof Error?de.message:String(de)}`)}},[S]),ht=x.useCallback(async G=>{try{await S(`/department/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete service catalogue with id ${G}:`,U),new Error(`Failed to delete service catalogue: ${U instanceof Error?U.message:String(U)}`)}},[S]),gt=x.useCallback(async()=>{try{const G=await S("/stoptime?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected stop times response format:",G),[])}catch(G){return console.error("Failed to fetch stop times:",G),[]}},[S]),St=x.useCallback(async G=>{try{const U=await S(`/stoptime/${G}`);if(console.log("StopTimes by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch stop time with id ${G}:`,U),new Error(`Failed to fetch stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),ve=x.useCallback(async G=>{try{return await S("/stoptime?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding stop time:",U),new Error(`Failed to add stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),nt=x.useCallback(async(G,U)=>{try{const de=await S(`/stoptime/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update stop time response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update stop time with id ${G}:`,de),new Error(`Failed to update stop time: ${de instanceof Error?de.message:String(de)}`)}},[S]),Xe=x.useCallback(async G=>{try{await S(`/stoptime/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete stop time with id ${G}:`,U),new Error(`Failed to delete stop time: ${U instanceof Error?U.message:String(U)}`)}},[S]),ae=x.useCallback(async()=>{try{const G=await S("/jenisaktifitas?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected jenis aktifitas response format:",G),[])}catch(G){return console.error("Failed to fetch jenis aktifitas:",G),[]}},[S]),ne=x.useCallback(async G=>{try{const U=await S(`/jenisaktifitas/${G}`);if(console.log("Jenis Aktifitas by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch jenis aktifitas with id ${G}:`,U),new Error(`Failed to fetch jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ae=x.useCallback(async G=>{try{return await S("/jenisaktifitas?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding jenis aktifitas:",U),new Error(`Failed to add jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),et=x.useCallback(async(G,U)=>{try{const de=await S(`/jenisaktifitas/${G}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update jenis aktifitas response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update jenis aktifitas with id ${G}:`,de),new Error(`Failed to update jenis aktifitas: ${de instanceof Error?de.message:String(de)}`)}},[S]),xt=x.useCallback(async G=>{try{await S(`/jenisaktifitas/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete jenis aktifitas with id ${G}:`,U),new Error(`Failed to delete jenis aktifitas: ${U instanceof Error?U.message:String(U)}`)}},[S]),ye=x.useCallback(async()=>{try{const G=await S("/kegiatan?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected activity response format:",G),[])}catch(G){return console.error("Failed to fetch activity:",G),[]}},[S]),B=x.useCallback(async G=>{try{const U=await S(`/kegiatan/${G}?includes_trashed=true`);if(console.log("Activity by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch activity with id ${G}:`,U),new Error(`Failed to fetch activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),ue=x.useCallback(async G=>{try{return await S("/kegiatan?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding activity:",U),new Error(`Failed to add activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),be=x.useCallback(async(G,U)=>{try{const de=await S(`/kegiatan/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update activity response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update activity with id ${G}:`,de),new Error(`Failed to update activity: ${de instanceof Error?de.message:String(de)}`)}},[S]),ke=x.useCallback(async G=>{try{await S(`/kegiatan/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete activity with id ${G}:`,U),new Error(`Failed to delete activity: ${U instanceof Error?U.message:String(U)}`)}},[S]),Le=x.useCallback(async()=>{try{const G=await S("/itemtrouble?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected trouble item response format:",G),[])}catch(G){return console.error("Failed to fetch trouble item:",G),[]}},[S]),J=x.useCallback(async G=>{try{const U=await S(`/itemtrouble/${G}?includes_trashed=true`);if(console.log("Trouble Item by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch trouble item with id ${G}:`,U),new Error(`Failed to fetch trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),ie=x.useCallback(async G=>{try{return await S("/itemtrouble?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding trouble item:",U),new Error(`Failed to add trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),Se=x.useCallback(async(G,U)=>{try{const de=await S(`/itemtrouble/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update trouble item response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update trouble item with id ${G}:`,de),new Error(`Failed to update trouble item: ${de instanceof Error?de.message:String(de)}`)}},[S]),Ve=x.useCallback(async G=>{try{await S(`/itemtrouble/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete trouble item with id ${G}:`,U),new Error(`Failed to delete trouble item: ${U instanceof Error?U.message:String(U)}`)}},[S]),rt=x.useCallback(async()=>{try{const G=await S("/unit?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Unit response format:",G),[])}catch(G){return console.error("Failed to fetch Work Unit:",G),[]}},[S]),He=x.useCallback(async G=>{try{const U=await S(`/unit/${G}?includes_trashed=true`);if(console.log("Work Unit by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work unit with id ${G}:`,U),new Error(`Failed to fetch work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Ce=x.useCallback(async G=>{try{return await S("/unit?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work unit:",U),new Error(`Failed to add work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),$e=x.useCallback(async(G,U)=>{try{const de=await S(`/unit/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work unit response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work unit with id ${G}:`,de),new Error(`Failed to update work unit: ${de instanceof Error?de.message:String(de)}`)}},[S]),it=x.useCallback(async G=>{try{await S(`/unit/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work unit with id ${G}:`,U),new Error(`Failed to delete work unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Wt=x.useCallback(async()=>{try{const G=await S("/group?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Group response format:",G),[])}catch(G){return console.error("Failed to fetch Work Group:",G),[]}},[S]),ur=x.useCallback(async G=>{try{const U=await S(`/group/${G}?includes_trashed=true`);if(console.log("Work Group by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work group with id ${G}:`,U),new Error(`Failed to fetch work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),Cr=x.useCallback(async G=>{try{return await S("/group?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work group:",U),new Error(`Failed to add work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),ot=x.useCallback(async(G,U)=>{try{const de=await S(`/group/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work group response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work group with id ${G}:`,de),new Error(`Failed to update work group: ${de instanceof Error?de.message:String(de)}`)}},[S]),nr=x.useCallback(async G=>{try{await S(`/group/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work group with id ${G}:`,U),new Error(`Failed to delete work group: ${U instanceof Error?U.message:String(U)}`)}},[S]),kt=x.useCallback(async()=>{try{const G=await S("/shift?includes_trashed=true");return Array.isArray(G)?G:G&&Array.isArray(G.data)?G.data:(console.warn("Unexpected Work Shift response format:",G),[])}catch(G){return console.error("Failed to fetch Work Shift:",G),[]}},[S]),dr=x.useCallback(async G=>{try{const U=await S(`/shift/${G}?includes_trashed=true`);if(console.log("Work Shift by ID response:",U),U&&typeof U=="object")return U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch work shift with id ${G}:`,U),new Error(`Failed to fetch work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),Me=x.useCallback(async G=>{try{return await S("/shift?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)})}catch(U){throw console.error("Error adding work shift:",U),new Error(`Failed to add work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),Te=x.useCallback(async(G,U)=>{try{const de=await S(`/shift/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});if(console.log("Update work shift response:",de),de&&typeof de=="object")return de.data?de.data:de;throw new Error("Invalid response format")}catch(de){throw console.error(`Failed to update work shift with id ${G}:`,de),new Error(`Failed to update work shift: ${de instanceof Error?de.message:String(de)}`)}},[S]),Be=x.useCallback(async G=>{try{await S(`/shift/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work shift with id ${G}:`,U),new Error(`Failed to delete work shift: ${U instanceof Error?U.message:String(U)}`)}},[S]),fe=x.useCallback(async G=>{try{const U=await S(`/unit/${G}?includes_trashed=true`);if(console.log("Unit by ID response:",U),U&&typeof U=="object")return U.success!==void 0&&U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch unit with id ${G}:`,U),new Error(`Failed to fetch unit: ${U instanceof Error?U.message:String(U)}`)}},[S]),Qe=x.useCallback(async G=>{try{const U=await S(`/mesin/${G}?includes_trashed=true`);if(console.log("Mesin by ID response:",U),U&&typeof U=="object")return U.success!==void 0&&U.data?U.data:U;throw new Error("Invalid response format")}catch(U){throw console.error(`Failed to fetch mesin with id ${G}:`,U),new Error(`Failed to fetch mesin: ${U instanceof Error?U.message:String(U)}`)}},[S]),bt=x.useCallback(async()=>{try{const G=await S("/unit?includes_trashed=true");let U=[];return Array.isArray(G)?U=G:G&&Array.isArray(G.data)&&(U=G.data),await Promise.all(U.map(async pt=>{try{const mr=await S(`/unit/${pt.id}?includes_trashed=true`);let Sr=mr;return mr&&mr.success!==void 0&&mr.data&&(Sr=mr.data),{id:Sr.id,name:Sr.name,created_at:Sr.created_at,updated_at:Sr.updated_at,deleted_at:Sr.deleted_at,mesin:Sr.mesin||[]}}catch(mr){return console.error(`Failed to get detail for unit ${pt.id}:`,mr),{id:pt.id,name:pt.name,created_at:pt.created_at,updated_at:pt.updated_at,deleted_at:pt.deleted_at,mesin:[]}}}))}catch(G){return console.error("Failed to fetch units with machines:",G),[]}},[S]),fr=x.useCallback(async()=>{try{const G=await S("/interval?includes_trashed=true");let U=[];Array.isArray(G)?U=G:G&&Array.isArray(G.data)&&(U=G.data);const de=await bt(),pt=await S("/mesin?includes_trashed=true");let mr=[];return Array.isArray(pt)?mr=pt:pt&&Array.isArray(pt.data)&&(mr=pt.data),{unit:de,mesin:mr,unitsWithMachines:de,intervals:U}}catch(G){return console.error("Error fetching master monitoring data:",G),{unit:[],mesin:[],unitsWithMachines:[],intervals:[]}}},[S,bt]),en=x.useCallback(async()=>{try{const G=await S("/monitoring-schedules?includes_trashed=true");if(Array.isArray(G))return G;if(G&&G.success!==void 0){if(G.success&&Array.isArray(G.data))return G.data;if(G.success&&Array.isArray(G.result))return G.result}return G&&Array.isArray(G.data)?G.data:G&&Array.isArray(G.result)?G.result:(console.warn("Unexpected monitoring schedule response format:",G),[])}catch(G){throw console.error("Error fetching monitoring schedule:",G),new Error(`Failed to fetch monitoring schedule: ${G instanceof Error?G.message:String(G)}`)}},[S]),Mr=x.useCallback(async G=>{try{const U=await S(`/monitoring-schedules/${G}?includes_trashed=true`);if(console.log("Monitoring schedule by ID response:",U),U&&U.success!==void 0){if(U.success&&U.data)return U.data;if(!U.success)throw new Error(U.message||"Failed to fetch monitoring schedule")}if(U&&U.id_monitoring_schedule)return U;if(Array.isArray(U)&&U.length>0)return U[0];throw new Error("Invalid response format")}catch(U){if(console.error(`Failed to fetch monitoring schedule with id ${G}:`,U),U instanceof Error){if(U.message.includes("404"))throw new Error(`Monitoring schedule with id ${G} not found`);if(U.message.includes("401"))throw new Error("Unauthorized - Please login again")}throw new Error(`Failed to fetch monitoring schedule: ${U instanceof Error?U.message:String(U)}`)}},[S]),hr=x.useCallback(async G=>{try{const U=await S("/monitoring-schedules",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});if(!U)throw new Error("No response from server");if(U.success===!1)throw new Error(U.message||"Failed to create monitoring schedule");const de=U.data||U.result||U;if(!de)throw new Error("Invalid response format");return de}catch(U){if(console.error("Error adding monitoring schedule:",U),U instanceof Error){if(U.message.includes("401"))throw new Error("Unauthorized - Please login again");if(U.message.includes("404"))throw new Error("Endpoint not found");if(U.message.includes("500"))throw new Error("Server error - Please try again later")}throw new Error(`Failed to add monitoring schedule: ${U instanceof Error?U.message:String(U)}`)}},[S]),wa=x.useCallback(async G=>{try{const U=await S("/monitoring-activities",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return Array.isArray(U)?U:U&&Array.isArray(U.data)?U.data:(console.warn("Unexpected response format from monitoring-activities POST:",U),[])}catch(U){throw console.error("Error adding monitoring activities:",U),new Error(`Failed to add monitoring activities: ${U instanceof Error?U.message:String(U)}`)}},[S]),cs=x.useCallback(async G=>{try{const U=G.map(pt=>({id_monitoring_activity:pt.id,...pt.data})),de=await S("/monitoring-activities-batch",{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return Array.isArray(de)?de:de&&Array.isArray(de.data)?de.data:(console.warn("Unexpected response format from monitoring-activities-batch PATCH:",de),[])}catch(U){throw console.error("Error updating monitoring activities:",U),new Error(`Failed to update monitoring activities: ${U instanceof Error?U.message:String(U)}`)}},[S]),Pa=x.useCallback(async G=>{try{const U=await S(`/mesin/${G}?includes_trashed=true`);return console.log("Mesin detail response:",U),U&&U.success!==void 0?U.data:U}catch(U){throw console.error(`Failed to fetch mesin detail with id ${G}:`,U),new Error(`Failed to fetch mesin detail: ${U instanceof Error?U.message:String(U)}`)}},[S]),Vr=x.useCallback(async()=>{try{const G=await S("/vendor?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch vendor:",G),[]}},[S]),Ll=x.useCallback(async G=>(await S(`/vendor/${G}?includes_trashed=true`)).data,[S]),Uc=x.useCallback(async G=>await S("/vendor?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),Sg=x.useCallback(async(G,U)=>{try{const de=await S(`/vendor/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),pt=de.data||de;return{id:pt.id,name:pt.name,address:pt.address,contact_person:pt.contact_person,email:pt.email,telp:pt.telp,HP:pt.HP}}catch(de){throw console.error(`Failed to update vendor with id ${G}:`,de),new Error(`Failed to update vendor: ${de instanceof Error?de.message:String(de)}`)}},[S]),q1=x.useCallback(async G=>{try{await S(`/vendor/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete vendor with id ${G}:`,U),new Error(`Failed to delete vendor: ${U instanceof Error?U.message:String(U)}`)}},[S]),xd=x.useCallback(async()=>{try{const G=await S("/approval-templates?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch approval templates:",G),[]}},[S]),yd=x.useCallback(async G=>await S(`/approval-templates/${G}?includes_trashed=true`),[S]),Si=x.useCallback(async G=>{const U=await S("/approval-templates?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)});return U.data||U},[S]),us=x.useCallback(async(G,U)=>{const de=await S(`/approval-templates/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return de.data||de},[S]),Ng=x.useCallback(async G=>{await S(`/approval-templates/${G}?includes_trashed=true`,{method:"DELETE"})},[S]),W1=x.useCallback(async(G,U)=>{const de=await S(`/approval-templates/${G}/approvers?includes_trashed=true`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)});return de.data||de},[S]),Uh=x.useCallback(async(G,U,de)=>{const pt=await S(`/template-approvers/${U}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(de)});return pt.data||pt},[S]),kg=x.useCallback(async(G,U)=>{await S(`/template-approvers/${U}?includes_trashed=true`,{method:"DELETE"})},[S]),bd=x.useCallback(async G=>(await S(`/approval-templates/${G}?includes_trashed=true`)).approvers||[],[S]),U1=x.useCallback(async G=>{const U=await S(`/approval-templates/${G}/set-active?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"}});return U.data||U},[S]),ds=x.useCallback(async(G,U)=>{const de=await S(`/schedules/${G}/approve`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({comments:U})});return de&&de.message?{success:!0,message:de.message,data:de.data||de}:de},[S]),Gh=x.useCallback(async()=>{try{const G=await S("/workarea?includes_trashed=true");return G.data||G}catch(G){return console.error("Failed to fetch workarea:",G),[]}},[S]),Cg=x.useCallback(async G=>(await S(`/workarea/${G}?includes_trashed=true`)).data,[S]),Yh=x.useCallback(async G=>await S("/workarea?includes_trashed=true",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(G)}),[S]),$l=x.useCallback(async(G,U)=>{try{const de=await S(`/workarea/${G}?includes_trashed=true`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(U)}),pt=de.data||de;return{id:pt.id,work_area:pt.work_area}}catch(de){throw console.error(`Failed to update work area with id ${G}:`,de),new Error(`Failed to update work area: ${de instanceof Error?de.message:String(de)}`)}},[S]),Tg=x.useCallback(async G=>{try{await S(`/workarea/${G}?includes_trashed=true`,{method:"DELETE"})}catch(U){throw console.error(`Failed to delete work area with id ${G}:`,U),new Error(`Failed to delete work area: ${U instanceof Error?U.message:String(U)}`)}},[S]);return a.jsx(aV.Provider,{value:{user:e,token:n,isAuthenticated:!!n,login:Y,register:z,logout:N,isLoggingOut:i,fetchWithAuth:S,getAllMasterData:A,submitMachineHistory:q,getMachineHistories:H,getMachineHistoryById:D,updateMachineHistory:F,deleteMachineHistory:K,masterData:l,isMasterDataLoading:d,addWorkOrderIT:te,getWorkOrdersIT:W,updateWorkOrderIT:oe,deleteWorkOrder:le,getWorkOrderById:Z,departments:[],services:[],serviceGroups:[],getServices:mt,getServicesByOwner:tt,addServiceCatalogue:wt,updateServiceCatalogue:Ct,deleteServiceCatalogue:ft,getServiceGroups:we,getServiceGroup:Ge,addServiceGroup:Ye,updateServiceGroup:xe,deleteServiceGroup:ct,changePassword:pe,fetchUser:O,fetchedUsers:Ee,getUsers:Ie,hasPermission:R,setEditingUser:Rt,getRoles:ge,createRole:Oe,updateRole:ze,deleteRole:re,updateUserPermissions:se,deleteUser:ee,isAuthLoading:m,getAssetsData:E,addAsset:P,editAsset:$,deleteAsset:I,getWorkOrdersForUser:ce,getAuditTrail:L,getDepartment:Ze,getDepartmentById:he,addDepartment:We,updateDepartment:je,deleteDepartment:ht,getMonitoringSchedules:en,addMonitoringSchedule:hr,addMonitoringActivities:wa,updateMonitoringActivity:cs,getStopTimes:gt,getStopTimesById:St,addStopTimes:ve,updateStopTimes:nt,deleteStopTimes:Xe,getActivityTypes:ae,getActivityTypesById:ne,addActivityTypes:Ae,updateActivityTypes:et,deleteActivityTypes:xt,getActivity:ye,getActivityById:B,addActivity:ue,updateActivity:be,deleteActivity:ke,getTroubleItem:Le,getTroubleItemById:J,addTroubleItem:ie,updateTroubleItem:Se,deleteTroubleItem:Ve,getWorkUnit:rt,getWorkUnitById:He,addWorkUnit:Ce,updateWorkUnit:$e,deleteWorkUnit:it,getWorkGroup:Wt,getWorkGroupById:ur,addWorkGroup:Cr,updateWorkGroup:ot,deleteWorkGroup:nr,getWorkShift:kt,getWorkShiftById:dr,addWorkShift:Me,updateWorkShift:Te,deleteWorkShift:Be,getUnit:fe,getMesin:Qe,getUnitsWithMachines:bt,getAllMasterMonitoring:fr,getMesinDetail:Pa,getMonitoringScheduleById:Mr,getVendor:Vr,getVendorById:Ll,addVendor:Uc,updateVendor:Sg,deleteVendor:q1,getApprovalTemplates:xd,getApprovalTemplateById:yd,createApprovalTemplate:Si,updateApprovalTemplate:us,deleteApprovalTemplate:Ng,addApproverToTemplate:W1,updateApprover:Uh,deleteApprover:kg,getTemplateApprovers:bd,setApprovalTemplateActive:U1,approveSchedule:ds,getWorkArea:Gh,getWorkAreaById:Cg,addWorkArea:Yh,updateWorkArea:$l,deleteWorkArea:Tg},children:t})},Nt=()=>{const t=x.useContext(aV);if(!t)throw new Error("useAuth must be used within AuthProvider");return t},If="/assets/logo-wida-OsCBOu3a.png";var sV={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},o6=X.createContext&&X.createContext(sV),fre=["attr","size","title"];function hre(t,e){if(t==null)return{};var r=mre(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function mre(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function db(){return db=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},db.apply(this,arguments)}function l6(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fb(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l6(Object(r),!0).forEach(function(n){pre(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l6(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pre(t,e,r){return e=gre(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gre(t){var e=xre(t,"string");return typeof e=="symbol"?e:e+""}function xre(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function iV(t){return t&&t.map((e,r)=>X.createElement(e.tag,fb({key:r},e.attr),iV(e.child)))}function wi(t){return e=>X.createElement(yre,db({attr:fb({},t.attr)},e),iV(t.child))}function yre(t){var e=r=>{var{attr:n,size:s,title:i}=t,o=hre(t,fre),l=s||r.size||"1em",c;return r.className&&(c=r.className),t.className&&(c=(c?c+" ":"")+t.className),X.createElement("svg",db({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,o,{className:c,style:fb(fb({color:t.color||r.color},r.style),t.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&X.createElement("title",null,i),t.children)};return o6!==void 0?X.createElement(o6.Consumer,null,r=>e(r)):e(sV)}function Fx(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12.01",y2:"16"},child:[]}]})(t)}function wA(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"line",attr:{x1:"19",y1:"12",x2:"5",y2:"12"},child:[]},{tag:"polyline",attr:{points:"12 19 5 12 12 5"},child:[]}]})(t)}function bre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"20 6 9 17 4 12"},child:[]}]})(t)}function vre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"6 9 12 15 18 9"},child:[]}]})(t)}function wre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"polyline",attr:{points:"18 15 12 9 6 15"},child:[]}]})(t)}function Fy(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M17.94 17.94A10.07 10.07 0 0 1 12 20c-7 0-11-8-11-8a18.45 18.45 0 0 1 5.06-5.94M9.9 4.24A9.12 9.12 0 0 1 12 4c7 0 11 8 11 8a18.5 18.5 0 0 1-2.16 3.19m-6.72-1.07a3 3 0 1 1-4.24-4.24"},child:[]},{tag:"line",attr:{x1:"1",y1:"1",x2:"23",y2:"23"},child:[]}]})(t)}function Hy(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"},child:[]},{tag:"circle",attr:{cx:"12",cy:"12",r:"3"},child:[]}]})(t)}function jre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"},child:[]},{tag:"polyline",attr:{points:"9 22 9 12 15 12 15 22"},child:[]}]})(t)}function c6(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"12",cy:"12",r:"10"},child:[]},{tag:"line",attr:{x1:"12",y1:"16",x2:"12",y2:"12"},child:[]},{tag:"line",attr:{x1:"12",y1:"8",x2:"12.01",y2:"8"},child:[]}]})(t)}function u6(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"rect",attr:{x:"3",y:"11",width:"18",height:"11",rx:"2",ry:"2"},child:[]},{tag:"path",attr:{d:"M7 11V7a5 5 0 0 1 10 0v4"},child:[]}]})(t)}function Sre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4"},child:[]},{tag:"polyline",attr:{points:"16 17 21 12 16 7"},child:[]},{tag:"line",attr:{x1:"21",y1:"12",x2:"9",y2:"12"},child:[]}]})(t)}function Nre(t){return wi({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M16 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"},child:[]},{tag:"circle",attr:{cx:"8.5",cy:"7",r:"4"},child:[]},{tag:"line",attr:{x1:"20",y1:"8",x2:"20",y2:"14"},child:[]},{tag:"line",attr:{x1:"23",y1:"11",x2:"17",y2:"11"},child:[]}]})(t)}const Hx=["Hello","Bonjour","Holla","こんにちは ","Salam","안녕하세요","Hallo","Namaste","早上好"],kre=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(!1),[o,l]=x.useState(""),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(Hx[0]),[w,j]=x.useState(!1),{login:v}=Nt(),N=jt();x.useEffect(()=>{m(!0);let A;const E=setInterval(()=>{j(!0),A=setTimeout(()=>{y(P=>{const I=(Hx.indexOf(P)+1)%Hx.length;return Hx[I]}),j(!1)},500)},3e3);return()=>{clearInterval(E),clearTimeout(A)}},[]);const T={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},S=w?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},O=async A=>{A.preventDefault(),l(""),d(!0);try{await v(t,r),N("/dashboard")}catch(E){l(E instanceof Error?E.message:"Login failed")}finally{d(!1)}},_=()=>{i(!s)};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${h?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${h?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:If,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...T,...S},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${h?"opacity-100":"opacity-0"}`,children:g}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"Welcome Back"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${h?"opacity-100":"opacity-0"}`,children:"Hey, welcome back to your special place"}),o&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:o})]}),a.jsxs("form",{onSubmit:O,className:"space-y-6","aria-label":"Login Form",children:[a.jsxs("div",{className:`transition-all duration-500 ease-out delay-500 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"text",placeholder:"Masukkan NIK Anda (16 digit)",value:t,onChange:A=>e(A.target.value),required:!0,autoComplete:"off",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                          transition-all duration-300 ease-in-out`})]}),a.jsxs("div",{className:`transition-all duration-500 ease-out delay-600 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-1",children:"Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{id:"password",type:s?"text":"password",placeholder:"••••••••",value:r,onChange:A=>n(A.target.value),required:!0,autoComplete:"current-password",className:`w-full px-4 py-3 text-base rounded-md border border-gray-300\r
                            focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 focus:shadow-md\r
                            transition-all duration-300 ease-in-out pr-10`}),a.jsx("button",{type:"button",onClick:_,className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700 transition-colors duration-200","aria-label":s?"Hide password":"Show password",children:s?a.jsx(Fy,{size:18}):a.jsx(Hy,{size:18})})]}),a.jsx("div",{className:"flex justify-end mt-2",children:a.jsx("a",{href:"/forgot-password",className:"text-sm text-blue-600 hover:text-blue-800 hover:underline transition-all duration-200",children:"Forgot Password?"})})]}),a.jsxs("div",{className:`flex items-center transition-all duration-500 ease-out delay-700 ${h?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsx("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded transition-all duration-200"}),a.jsx("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"Remember me"})]}),a.jsx("button",{type:"submit",disabled:c,className:`w-full py-3 px-4 rounded-md text-base font-medium
                          transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                          ${c?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700 active:bg-blue-800 transform hover:-translate-y-0.5"}
                          flex items-center justify-center
                          ${h?"translate-y-0 opacity-100 delay-800":"translate-y-5 opacity-0"}`,children:c?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Authenticating..."]}):"Sign In"})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-900 ${h?"opacity-100":"opacity-0"}`,children:["Don't have an account?"," ",a.jsx(Oc,{to:"#",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:"Report to IT Department"})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-1000 ${h?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${h?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 1C5.925 1 1 5.925 1 12s4.925 11 11 11 11-4.925 11-11S18.075 1 12 1zm0 20c-4.963 0-9-4.037-9-9s4.037-9 9-9 9 4.037 9 9-4.037 9-9 9zM10.5 7h3v3h-3V7zm-2 2h3v3h-3V9zm4 0h3v3h-3V9zm-2 2h3v3h-3v-3zm-2 2h3v3h-3v-3zm4 0h3v3h-3v-3zm-2 2h3v3h-3v-3z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Please enter your fingerprint to continue"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1 /4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},jA=x.createContext({});function SA(t){const e=x.useRef(null);return e.current===null&&(e.current=t()),e.current}const NA=typeof window<"u",oV=NA?x.useLayoutEffect:x.useEffect,_w=x.createContext(null);function kA(t,e){t.indexOf(e)===-1&&t.push(e)}function CA(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const wl=(t,e,r)=>r>e?e:r<t?t:r;let TA=()=>{};const jl={},lV=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cV(t){return typeof t=="object"&&t!==null}const uV=t=>/^0[^.\s]+$/u.test(t);function _A(t){let e;return()=>(e===void 0&&(e=t()),e)}const mi=t=>t,Cre=(t,e)=>r=>e(t(r)),Q0=(...t)=>t.reduce(Cre),qp=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class MA{constructor(){this.subscriptions=[]}add(e){return kA(this.subscriptions,e),()=>CA(this.subscriptions,e)}notify(e,r,n){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,r,n);else for(let i=0;i<s;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const co=t=>t*1e3,fi=t=>t/1e3;function dV(t,e){return e?t*(1e3/e):0}const fV=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Tre=1e-7,_re=12;function Mre(t,e,r,n,s){let i,o,l=0;do o=e+(r-e)/2,i=fV(o,n,s)-t,i>0?r=o:e=o;while(Math.abs(i)>Tre&&++l<_re);return o}function Z0(t,e,r,n){if(t===e&&r===n)return mi;const s=i=>Mre(i,0,1,t,r);return i=>i===0||i===1?i:fV(s(i),e,n)}const hV=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mV=t=>e=>1-t(1-e),pV=Z0(.33,1.53,.69,.99),AA=mV(pV),gV=hV(AA),xV=t=>(t*=2)<1?.5*AA(t):.5*(2-Math.pow(2,-10*(t-1))),OA=t=>1-Math.sin(Math.acos(t)),yV=mV(OA),bV=hV(OA),Are=Z0(.42,0,1,1),Ore=Z0(0,0,.58,1),vV=Z0(.42,0,.58,1),Ere=t=>Array.isArray(t)&&typeof t[0]!="number",wV=t=>Array.isArray(t)&&typeof t[0]=="number",Dre={linear:mi,easeIn:Are,easeInOut:vV,easeOut:Ore,circIn:OA,circInOut:bV,circOut:yV,backIn:AA,backInOut:gV,backOut:pV,anticipate:xV},Pre=t=>typeof t=="string",d6=t=>{if(wV(t)){TA(t.length===4);const[e,r,n,s]=t;return Z0(e,r,n,s)}else if(Pre(t))return Dre[t];return t},Bx=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Rre(t,e){let r=new Set,n=new Set,s=!1,i=!1;const o=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(h){o.has(h)&&(d.schedule(h),t()),h(l)}const d={schedule:(h,m=!1,g=!1)=>{const w=g&&s?r:n;return m&&o.add(h),w.has(h)||w.add(h),h},cancel:h=>{n.delete(h),o.delete(h)},process:h=>{if(l=h,s){i=!0;return}s=!0,[r,n]=[n,r],r.forEach(c),r.clear(),s=!1,i&&(i=!1,d.process(h))}};return d}const Ire=40;function jV(t,e){let r=!1,n=!0;const s={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Bx.reduce((S,O)=>(S[O]=Rre(i),S),{}),{setup:l,read:c,resolveKeyframes:d,preUpdate:h,update:m,preRender:g,render:y,postRender:w}=o,j=()=>{const S=jl.useManualTiming?s.timestamp:performance.now();r=!1,jl.useManualTiming||(s.delta=n?1e3/60:Math.max(Math.min(S-s.timestamp,Ire),1)),s.timestamp=S,s.isProcessing=!0,l.process(s),c.process(s),d.process(s),h.process(s),m.process(s),g.process(s),y.process(s),w.process(s),s.isProcessing=!1,r&&e&&(n=!1,t(j))},v=()=>{r=!0,n=!0,s.isProcessing||t(j)};return{schedule:Bx.reduce((S,O)=>{const _=o[O];return S[O]=(A,E=!1,P=!1)=>(r||v(),_.schedule(A,E,P)),S},{}),cancel:S=>{for(let O=0;O<Bx.length;O++)o[Bx[O]].cancel(S)},state:s,steps:o}}const{schedule:xn,cancel:Ec,state:Ma,steps:nN}=jV(typeof requestAnimationFrame<"u"?requestAnimationFrame:mi,!0);let By;function Lre(){By=void 0}const bs={now:()=>(By===void 0&&bs.set(Ma.isProcessing||jl.useManualTiming?Ma.timestamp:performance.now()),By),set:t=>{By=t,queueMicrotask(Lre)}},SV=t=>e=>typeof e=="string"&&e.startsWith(t),EA=SV("--"),$re=SV("var(--"),DA=t=>$re(t)?Fre.test(t.split("/*")[0].trim()):!1,Fre=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Mh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Wp={...Mh,transform:t=>wl(0,1,t)},zx={...Mh,default:1},wp=t=>Math.round(t*1e5)/1e5,PA=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Hre(t){return t==null}const Bre=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,RA=(t,e)=>r=>!!(typeof r=="string"&&Bre.test(r)&&r.startsWith(t)||e&&!Hre(r)&&Object.prototype.hasOwnProperty.call(r,e)),NV=(t,e,r)=>n=>{if(typeof n!="string")return n;const[s,i,o,l]=n.match(PA);return{[t]:parseFloat(s),[e]:parseFloat(i),[r]:parseFloat(o),alpha:l!==void 0?parseFloat(l):1}},zre=t=>wl(0,255,t),aN={...Mh,transform:t=>Math.round(zre(t))},ju={test:RA("rgb","red"),parse:NV("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+aN.transform(t)+", "+aN.transform(e)+", "+aN.transform(r)+", "+wp(Wp.transform(n))+")"};function Vre(t){let e="",r="",n="",s="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),s=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),s=t.substring(4,5),e+=e,r+=r,n+=n,s+=s),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:s?parseInt(s,16)/255:1}}const M5={test:RA("#"),parse:Vre,transform:ju.transform},eg=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),uc=eg("deg"),uo=eg("%"),Jt=eg("px"),qre=eg("vh"),Wre=eg("vw"),f6={...uo,parse:t=>uo.parse(t)/100,transform:t=>uo.transform(t*100)},ff={test:RA("hsl","hue"),parse:NV("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+uo.transform(wp(e))+", "+uo.transform(wp(r))+", "+wp(Wp.transform(n))+")"},Xn={test:t=>ju.test(t)||M5.test(t)||ff.test(t),parse:t=>ju.test(t)?ju.parse(t):ff.test(t)?ff.parse(t):M5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ju.transform(t):ff.transform(t),getAnimatableNone:t=>{const e=Xn.parse(t);return e.alpha=0,Xn.transform(e)}},Ure=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Gre(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(PA))==null?void 0:e.length)||0)+(((r=t.match(Ure))==null?void 0:r.length)||0)>0}const kV="number",CV="color",Yre="var",Kre="var(",h6="${}",Xre=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Up(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},s=[];let i=0;const l=e.replace(Xre,c=>(Xn.test(c)?(n.color.push(i),s.push(CV),r.push(Xn.parse(c))):c.startsWith(Kre)?(n.var.push(i),s.push(Yre),r.push(c)):(n.number.push(i),s.push(kV),r.push(parseFloat(c))),++i,h6)).split(h6);return{values:r,split:l,indexes:n,types:s}}function TV(t){return Up(t).values}function _V(t){const{split:e,types:r}=Up(t),n=e.length;return s=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],s[o]!==void 0){const l=r[o];l===kV?i+=wp(s[o]):l===CV?i+=Xn.transform(s[o]):i+=s[o]}return i}}const Jre=t=>typeof t=="number"?0:Xn.test(t)?Xn.getAnimatableNone(t):t;function Qre(t){const e=TV(t);return _V(t)(e.map(Jre))}const Dc={test:Gre,parse:TV,createTransformer:_V,getAnimatableNone:Qre};function sN(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function Zre({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let s=0,i=0,o=0;if(!e)s=i=o=r;else{const l=r<.5?r*(1+e):r+e-r*e,c=2*r-l;s=sN(c,l,t+1/3),i=sN(c,l,t),o=sN(c,l,t-1/3)}return{red:Math.round(s*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function hb(t,e){return r=>r>0?e:t}const wn=(t,e,r)=>t+(e-t)*r,iN=(t,e,r)=>{const n=t*t,s=r*(e*e-n)+n;return s<0?0:Math.sqrt(s)},ene=[M5,ju,ff],tne=t=>ene.find(e=>e.test(t));function m6(t){const e=tne(t);if(!e)return!1;let r=e.parse(t);return e===ff&&(r=Zre(r)),r}const p6=(t,e)=>{const r=m6(t),n=m6(e);if(!r||!n)return hb(t,e);const s={...r};return i=>(s.red=iN(r.red,n.red,i),s.green=iN(r.green,n.green,i),s.blue=iN(r.blue,n.blue,i),s.alpha=wn(r.alpha,n.alpha,i),ju.transform(s))},A5=new Set(["none","hidden"]);function rne(t,e){return A5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function nne(t,e){return r=>wn(t,e,r)}function IA(t){return typeof t=="number"?nne:typeof t=="string"?DA(t)?hb:Xn.test(t)?p6:ine:Array.isArray(t)?MV:typeof t=="object"?Xn.test(t)?p6:ane:hb}function MV(t,e){const r=[...t],n=r.length,s=t.map((i,o)=>IA(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=s[o](i);return r}}function ane(t,e){const r={...t,...e},n={};for(const s in r)t[s]!==void 0&&e[s]!==void 0&&(n[s]=IA(t[s])(t[s],e[s]));return s=>{for(const i in n)r[i]=n[i](s);return r}}function sne(t,e){const r=[],n={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const i=e.types[s],o=t.indexes[i][n[i]],l=t.values[o]??0;r[s]=l,n[i]++}return r}const ine=(t,e)=>{const r=Dc.createTransformer(e),n=Up(t),s=Up(e);return n.indexes.var.length===s.indexes.var.length&&n.indexes.color.length===s.indexes.color.length&&n.indexes.number.length>=s.indexes.number.length?A5.has(t)&&!s.values.length||A5.has(e)&&!n.values.length?rne(t,e):Q0(MV(sne(n,s),s.values),r):hb(t,e)};function AV(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?wn(t,e,r):IA(t)(t,e)}const one=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>xn.update(e,r),stop:()=>Ec(e),now:()=>Ma.isProcessing?Ma.timestamp:bs.now()}},OV=(t,e,r=10)=>{let n="";const s=Math.max(Math.round(e/r),2);for(let i=0;i<s;i++)n+=Math.round(t(i/(s-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},mb=2e4;function LA(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<mb;)e+=r,n=t.next(e);return e>=mb?1/0:e}function lne(t,e=100,r){const n=r({...t,keyframes:[0,e]}),s=Math.min(LA(n),mb);return{type:"keyframes",ease:i=>n.next(s*i).value/e,duration:fi(s)}}const cne=5;function EV(t,e,r){const n=Math.max(e-cne,0);return dV(r-t(n),e-n)}const Mn={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},oN=.001;function une({duration:t=Mn.duration,bounce:e=Mn.bounce,velocity:r=Mn.velocity,mass:n=Mn.mass}){let s,i,o=1-e;o=wl(Mn.minDamping,Mn.maxDamping,o),t=wl(Mn.minDuration,Mn.maxDuration,fi(t)),o<1?(s=d=>{const h=d*o,m=h*t,g=h-r,y=O5(d,o),w=Math.exp(-m);return oN-g/y*w},i=d=>{const m=d*o*t,g=m*r+r,y=Math.pow(o,2)*Math.pow(d,2)*t,w=Math.exp(-m),j=O5(Math.pow(d,2),o);return(-s(d)+oN>0?-1:1)*((g-y)*w)/j}):(s=d=>{const h=Math.exp(-d*t),m=(d-r)*t+1;return-oN+h*m},i=d=>{const h=Math.exp(-d*t),m=(r-d)*(t*t);return h*m});const l=5/t,c=fne(s,i,l);if(t=co(t),isNaN(c))return{stiffness:Mn.stiffness,damping:Mn.damping,duration:t};{const d=Math.pow(c,2)*n;return{stiffness:d,damping:o*2*Math.sqrt(n*d),duration:t}}}const dne=12;function fne(t,e,r){let n=r;for(let s=1;s<dne;s++)n=n-t(n)/e(n);return n}function O5(t,e){return t*Math.sqrt(1-e*e)}const hne=["duration","bounce"],mne=["stiffness","damping","mass"];function g6(t,e){return e.some(r=>t[r]!==void 0)}function pne(t){let e={velocity:Mn.velocity,stiffness:Mn.stiffness,damping:Mn.damping,mass:Mn.mass,isResolvedFromDuration:!1,...t};if(!g6(t,mne)&&g6(t,hne))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),s=n*n,i=2*wl(.05,1,1-(t.bounce||0))*Math.sqrt(s);e={...e,mass:Mn.mass,stiffness:s,damping:i}}else{const r=une(t);e={...e,...r,mass:Mn.mass},e.isResolvedFromDuration=!0}return e}function pb(t=Mn.visualDuration,e=Mn.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:s}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],l={done:!1,value:i},{stiffness:c,damping:d,mass:h,duration:m,velocity:g,isResolvedFromDuration:y}=pne({...r,velocity:-fi(r.velocity||0)}),w=g||0,j=d/(2*Math.sqrt(c*h)),v=o-i,N=fi(Math.sqrt(c/h)),T=Math.abs(v)<5;n||(n=T?Mn.restSpeed.granular:Mn.restSpeed.default),s||(s=T?Mn.restDelta.granular:Mn.restDelta.default);let S;if(j<1){const _=O5(N,j);S=A=>{const E=Math.exp(-j*N*A);return o-E*((w+j*N*v)/_*Math.sin(_*A)+v*Math.cos(_*A))}}else if(j===1)S=_=>o-Math.exp(-N*_)*(v+(w+N*v)*_);else{const _=N*Math.sqrt(j*j-1);S=A=>{const E=Math.exp(-j*N*A),P=Math.min(_*A,300);return o-E*((w+j*N*v)*Math.sinh(P)+_*v*Math.cosh(P))/_}}const O={calculatedDuration:y&&m||null,next:_=>{const A=S(_);if(y)l.done=_>=m;else{let E=_===0?w:0;j<1&&(E=_===0?co(w):EV(S,_,A));const P=Math.abs(E)<=n,$=Math.abs(o-A)<=s;l.done=P&&$}return l.value=l.done?o:A,l},toString:()=>{const _=Math.min(LA(O),mb),A=OV(E=>O.next(_*E).value,_,30);return _+"ms "+A},toTransition:()=>{}};return O}pb.applyToOptions=t=>{const e=lne(t,100,pb);return t.ease=e.ease,t.duration=co(e.duration),t.type="keyframes",t};function E5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:s=10,bounceStiffness:i=500,modifyTarget:o,min:l,max:c,restDelta:d=.5,restSpeed:h}){const m=t[0],g={done:!1,value:m},y=P=>l!==void 0&&P<l||c!==void 0&&P>c,w=P=>l===void 0?c:c===void 0||Math.abs(l-P)<Math.abs(c-P)?l:c;let j=r*e;const v=m+j,N=o===void 0?v:o(v);N!==v&&(j=N-m);const T=P=>-j*Math.exp(-P/n),S=P=>N+T(P),O=P=>{const $=T(P),I=S(P);g.done=Math.abs($)<=d,g.value=g.done?N:I};let _,A;const E=P=>{y(g.value)&&(_=P,A=pb({keyframes:[g.value,w(g.value)],velocity:EV(S,P,g.value),damping:s,stiffness:i,restDelta:d,restSpeed:h}))};return E(0),{calculatedDuration:null,next:P=>{let $=!1;return!A&&_===void 0&&($=!0,O(P),E(P)),_!==void 0&&P>=_?A.next(P-_):(!$&&O(P),g)}}}function gne(t,e,r){const n=[],s=r||jl.mix||AV,i=t.length-1;for(let o=0;o<i;o++){let l=s(t[o],t[o+1]);if(e){const c=Array.isArray(e)?e[o]||mi:e;l=Q0(c,l)}n.push(l)}return n}function xne(t,e,{clamp:r=!0,ease:n,mixer:s}={}){const i=t.length;if(TA(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const l=gne(e,n,s),c=l.length,d=h=>{if(o&&h<t[0])return e[0];let m=0;if(c>1)for(;m<t.length-2&&!(h<t[m+1]);m++);const g=qp(t[m],t[m+1],h);return l[m](g)};return r?h=>d(wl(t[0],t[i-1],h)):d}function yne(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const s=qp(0,e,n);t.push(wn(r,1,s))}}function bne(t){const e=[0];return yne(e,t.length-1),e}function vne(t,e){return t.map(r=>r*e)}function wne(t,e){return t.map(()=>e||vV).splice(0,t.length-1)}function jp({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const s=Ere(n)?n.map(d6):d6(n),i={done:!1,value:e[0]},o=vne(r&&r.length===e.length?r:bne(e),t),l=xne(o,e,{ease:Array.isArray(s)?s:wne(e,s)});return{calculatedDuration:t,next:c=>(i.value=l(c),i.done=c>=t,i)}}const jne=t=>t!==null;function $A(t,{repeat:e,repeatType:r="loop"},n,s=1){const i=t.filter(jne),l=s<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!l||n===void 0?i[l]:n}const Sne={decay:E5,inertia:E5,tween:jp,keyframes:jp,spring:pb};function DV(t){typeof t.type=="string"&&(t.type=Sne[t.type])}class FA{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Nne=t=>t/100;class HA extends FA{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,s;const{motionValue:r}=this.options;r&&r.updatedAt!==bs.now()&&this.tick(bs.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(s=(n=this.options).onStop)==null||s.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DV(e);const{type:r=jp,repeat:n=0,repeatDelay:s=0,repeatType:i,velocity:o=0}=e;let{keyframes:l}=e;const c=r||jp;c!==jp&&typeof l[0]!="number"&&(this.mixKeyframes=Q0(Nne,AV(l[0],l[1])),l=[0,100]);const d=c({...e,keyframes:l});i==="mirror"&&(this.mirroredGenerator=c({...e,keyframes:[...l].reverse(),velocity:-o})),d.calculatedDuration===null&&(d.calculatedDuration=LA(d));const{calculatedDuration:h}=d;this.calculatedDuration=h,this.resolvedDuration=h+s,this.totalDuration=this.resolvedDuration*(n+1)-s,this.generator=d}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:s,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:l,calculatedDuration:c}=this;if(this.startTime===null)return n.next(0);const{delay:d=0,keyframes:h,repeat:m,repeatType:g,repeatDelay:y,type:w,onUpdate:j,finalKeyframe:v}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-s/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const N=this.currentTime-d*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?N<0:N>s;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=s);let S=this.currentTime,O=n;if(m){const P=Math.min(this.currentTime,s)/l;let $=Math.floor(P),I=P%1;!I&&P>=1&&(I=1),I===1&&$--,$=Math.min($,m+1),!!($%2)&&(g==="reverse"?(I=1-I,y&&(I-=y/l)):g==="mirror"&&(O=o)),S=wl(0,1,I)*l}const _=T?{done:!1,value:h[0]}:O.next(S);i&&(_.value=i(_.value));let{done:A}=_;!T&&c!==null&&(A=this.playbackSpeed>=0?this.currentTime>=s:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&A);return E&&w!==E5&&(_.value=$A(h,this.options,v,this.speed)),j&&j(_.value),E&&this.finish(),_}then(e,r){return this.finished.then(e,r)}get duration(){return fi(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(this.currentTime)}set time(e){var r;e=co(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(bs.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=fi(this.currentTime))}play(){var s,i;if(this.isStopped)return;const{driver:e=one,startTime:r}=this.options;this.driver||(this.driver=e(o=>this.tick(o))),(i=(s=this.options).onPlay)==null||i.call(s);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(bs.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function kne(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const Su=t=>t*180/Math.PI,D5=t=>{const e=Su(Math.atan2(t[1],t[0]));return P5(e)},Cne={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:D5,rotateZ:D5,skewX:t=>Su(Math.atan(t[1])),skewY:t=>Su(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},P5=t=>(t=t%360,t<0&&(t+=360),t),x6=D5,y6=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),b6=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Tne={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:y6,scaleY:b6,scale:t=>(y6(t)+b6(t))/2,rotateX:t=>P5(Su(Math.atan2(t[6],t[5]))),rotateY:t=>P5(Su(Math.atan2(-t[2],t[0]))),rotateZ:x6,rotate:x6,skewX:t=>Su(Math.atan(t[4])),skewY:t=>Su(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function R5(t){return t.includes("scale")?1:0}function I5(t,e){if(!t||t==="none")return R5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,s;if(r)n=Tne,s=r;else{const l=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Cne,s=l}if(!s)return R5(e);const i=n[e],o=s[1].split(",").map(Mne);return typeof i=="function"?i(o):o[i]}const _ne=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return I5(r,e)};function Mne(t){return parseFloat(t.trim())}const Ah=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Oh=new Set(Ah),v6=t=>t===Mh||t===Jt,Ane=new Set(["x","y","z"]),One=Ah.filter(t=>!Ane.has(t));function Ene(t){const e=[];return One.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const Ru={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>I5(e,"x"),y:(t,{transform:e})=>I5(e,"y")};Ru.translateX=Ru.x;Ru.translateY=Ru.y;const Iu=new Set;let L5=!1,$5=!1,F5=!1;function PV(){if($5){const t=Array.from(Iu).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const s=Ene(n);s.length&&(r.set(n,s),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const s=r.get(n);s&&s.forEach(([i,o])=>{var l;(l=n.getValue(i))==null||l.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}$5=!1,L5=!1,Iu.forEach(t=>t.complete(F5)),Iu.clear()}function RV(){Iu.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&($5=!0)})}function Dne(){F5=!0,RV(),PV(),F5=!1}class BA{constructor(e,r,n,s,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=s,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(Iu.add(this),L5||(L5=!0,xn.read(RV),xn.resolveKeyframes(PV))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:s}=this;if(e[0]===null){const i=s==null?void 0:s.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const l=n.readValue(r,o);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=o),s&&i===void 0&&s.set(e[0])}kne(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),Iu.delete(this)}cancel(){this.state==="scheduled"&&(Iu.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pne=t=>t.startsWith("--");function Rne(t,e,r){Pne(e)?t.style.setProperty(e,r):t.style[e]=r}const Ine=_A(()=>window.ScrollTimeline!==void 0),Lne={};function $ne(t,e){const r=_A(t);return()=>Lne[e]??r()}const IV=$ne(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),up=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,w6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:up([0,.65,.55,1]),circOut:up([.55,0,1,.45]),backIn:up([.31,.01,.66,-.59]),backOut:up([.33,1.53,.69,.99])};function LV(t,e){if(t)return typeof t=="function"?IV()?OV(t,e):"ease-out":wV(t)?up(t):Array.isArray(t)?t.map(r=>LV(r,e)||w6.easeOut):w6[t]}function Fne(t,e,r,{delay:n=0,duration:s=300,repeat:i=0,repeatType:o="loop",ease:l="easeOut",times:c}={},d=void 0){const h={[e]:r};c&&(h.offset=c);const m=LV(l,s);Array.isArray(m)&&(h.easing=m);const g={delay:n,duration:s,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return d&&(g.pseudoElement=d),t.animate(h,g)}function $V(t){return typeof t=="function"&&"applyToOptions"in t}function Hne({type:t,...e}){return $V(t)&&IV()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Bne extends FA{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:s,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:l,onComplete:c}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,TA(typeof e.type!="string");const d=Hne(e);this.animation=Fne(r,n,s,d,i),d.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const h=$A(s,this.options,l,this.speed);this.updateMotionValue?this.updateMotionValue(h):Rne(r,n,h),this.animation.cancel()}c==null||c(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return fi(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fi(e)}get time(){return fi(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=co(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Ine()?(this.animation.timeline=e,mi):r(this)}}const FV={anticipate:xV,backInOut:gV,circInOut:bV};function zne(t){return t in FV}function Vne(t){typeof t.ease=="string"&&zne(t.ease)&&(t.ease=FV[t.ease])}const j6=10;class qne extends Bne{constructor(e){Vne(e),DV(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:s,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const l=new HA({...o,autoplay:!1}),c=co(this.finishedTime??this.time);r.setWithVelocity(l.sample(c-j6).value,l.sample(c).value,j6),l.stop()}}const S6=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Dc.test(t)||t==="0")&&!t.startsWith("url("));function Wne(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Une(t,e,r,n){const s=t[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=S6(s,e),l=S6(i,e);return!o||!l?!1:Wne(t)||(r==="spring"||$V(r))&&n}function H5(t){t.duration=0,t.type="keyframes"}const Gne=new Set(["opacity","clipPath","filter","transform"]),Yne=_A(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kne(t){var h;const{motionValue:e,name:r,repeatDelay:n,repeatType:s,damping:i,type:o}=t;if(!(((h=e==null?void 0:e.owner)==null?void 0:h.current)instanceof HTMLElement))return!1;const{onUpdate:c,transformTemplate:d}=e.owner.getProps();return Yne()&&r&&Gne.has(r)&&(r!=="transform"||!d)&&!c&&!n&&s!=="mirror"&&i!==0&&o!=="inertia"}const Xne=40;class Jne extends FA{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:s=0,repeatDelay:i=0,repeatType:o="loop",keyframes:l,name:c,motionValue:d,element:h,...m}){var w;super(),this.stop=()=>{var j,v;this._animation&&(this._animation.stop(),(j=this.stopTimeline)==null||j.call(this)),(v=this.keyframeResolver)==null||v.cancel()},this.createdAt=bs.now();const g={autoplay:e,delay:r,type:n,repeat:s,repeatDelay:i,repeatType:o,name:c,motionValue:d,element:h,...m},y=(h==null?void 0:h.KeyframeResolver)||BA;this.keyframeResolver=new y(l,(j,v,N)=>this.onKeyframesResolved(j,v,g,!N),c,d,h),(w=this.keyframeResolver)==null||w.scheduleResolve()}onKeyframesResolved(e,r,n,s){this.keyframeResolver=void 0;const{name:i,type:o,velocity:l,delay:c,isHandoff:d,onUpdate:h}=n;this.resolvedAt=bs.now(),Une(e,i,o,l)||((jl.instantAnimations||!c)&&(h==null||h($A(e,n,r))),e[0]=e[e.length-1],H5(n),n.repeat=0);const g={startTime:s?this.resolvedAt?this.resolvedAt-this.createdAt>Xne?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!d&&Kne(g)?new qne({...g,element:g.motionValue.owner.current}):new HA(g);y.finished.then(()=>this.notifyFinished()).catch(mi),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Dne()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Qne=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Zne(t){const e=Qne.exec(t);if(!e)return[,];const[,r,n,s]=e;return[`--${r??n}`,s]}function HV(t,e,r=1){const[n,s]=Zne(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return lV(o)?parseFloat(o):o}return DA(s)?HV(s,e,r+1):s}function zA(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const BV=new Set(["width","height","top","left","right","bottom",...Ah]),eae={test:t=>t==="auto",parse:t=>t},zV=t=>e=>e.test(t),VV=[Mh,Jt,uo,uc,Wre,qre,eae],N6=t=>VV.find(zV(t));function tae(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||uV(t):!0}const rae=new Set(["brightness","contrast","saturate","opacity"]);function nae(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(PA)||[];if(!n)return t;const s=r.replace(n,"");let i=rae.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+s+")"}const aae=/\b([a-z-]*)\(.*?\)/gu,B5={...Dc,getAnimatableNone:t=>{const e=t.match(aae);return e?e.map(nae).join(" "):t}},k6={...Mh,transform:Math.round},sae={rotate:uc,rotateX:uc,rotateY:uc,rotateZ:uc,scale:zx,scaleX:zx,scaleY:zx,scaleZ:zx,skew:uc,skewX:uc,skewY:uc,distance:Jt,translateX:Jt,translateY:Jt,translateZ:Jt,x:Jt,y:Jt,z:Jt,perspective:Jt,transformPerspective:Jt,opacity:Wp,originX:f6,originY:f6,originZ:Jt},VA={borderWidth:Jt,borderTopWidth:Jt,borderRightWidth:Jt,borderBottomWidth:Jt,borderLeftWidth:Jt,borderRadius:Jt,radius:Jt,borderTopLeftRadius:Jt,borderTopRightRadius:Jt,borderBottomRightRadius:Jt,borderBottomLeftRadius:Jt,width:Jt,maxWidth:Jt,height:Jt,maxHeight:Jt,top:Jt,right:Jt,bottom:Jt,left:Jt,padding:Jt,paddingTop:Jt,paddingRight:Jt,paddingBottom:Jt,paddingLeft:Jt,margin:Jt,marginTop:Jt,marginRight:Jt,marginBottom:Jt,marginLeft:Jt,backgroundPositionX:Jt,backgroundPositionY:Jt,...sae,zIndex:k6,fillOpacity:Wp,strokeOpacity:Wp,numOctaves:k6},iae={...VA,color:Xn,backgroundColor:Xn,outlineColor:Xn,fill:Xn,stroke:Xn,borderColor:Xn,borderTopColor:Xn,borderRightColor:Xn,borderBottomColor:Xn,borderLeftColor:Xn,filter:B5,WebkitFilter:B5},qV=t=>iae[t];function WV(t,e){let r=qV(t);return r!==B5&&(r=Dc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const oae=new Set(["auto","none","0"]);function lae(t,e,r){let n=0,s;for(;n<t.length&&!s;){const i=t[n];typeof i=="string"&&!oae.has(i)&&Up(i).values.length&&(s=t[n]),n++}if(s&&r)for(const i of e)t[i]=WV(r,s)}class cae extends BA{constructor(e,r,n,s,i){super(e,r,n,s,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let c=0;c<e.length;c++){let d=e[c];if(typeof d=="string"&&(d=d.trim(),DA(d))){const h=HV(d,r.current);h!==void 0&&(e[c]=h),c===e.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!BV.has(n)||e.length!==2)return;const[s,i]=e,o=N6(s),l=N6(i);if(o!==l)if(v6(o)&&v6(l))for(let c=0;c<e.length;c++){const d=e[c];typeof d=="string"&&(e[c]=parseFloat(d))}else Ru[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let s=0;s<e.length;s++)(e[s]===null||tae(e[s]))&&n.push(s);n.length&&lae(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Ru[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const s=r[r.length-1];s!==void 0&&e.getValue(n,s).jump(s,!1)}measureEndState(){var l;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const s=e.getValue(r);s&&s.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=Ru[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),(l=this.removedTransforms)!=null&&l.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function uae(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const s=(r==null?void 0:r[t])??n.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}const UV=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function GV(t){return cV(t)&&"offsetHeight"in t}const C6=30,dae=t=>!isNaN(parseFloat(t));class fae{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var i;const s=bs.now();if(this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((i=this.events.change)==null||i.notify(this.current),this.dependents))for(const o of this.dependents)o.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=bs.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=dae(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new MA);const n=this.events[e].add(r);return e==="change"?()=>{n(),xn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=bs.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>C6)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,C6);return dV(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Lf(t,e){return new fae(t,e)}const{schedule:qA}=jV(queueMicrotask,!1),Oi={x:!1,y:!1};function YV(){return Oi.x||Oi.y}function hae(t){return t==="x"||t==="y"?Oi[t]?null:(Oi[t]=!0,()=>{Oi[t]=!1}):Oi.x||Oi.y?null:(Oi.x=Oi.y=!0,()=>{Oi.x=Oi.y=!1})}function KV(t,e){const r=uae(t),n=new AbortController,s={passive:!0,...e,signal:n.signal};return[r,s,()=>n.abort()]}function T6(t){return!(t.pointerType==="touch"||YV())}function mae(t,e,r={}){const[n,s,i]=KV(t,r),o=l=>{if(!T6(l))return;const{target:c}=l,d=e(c,l);if(typeof d!="function"||!c)return;const h=m=>{T6(m)&&(d(m),c.removeEventListener("pointerleave",h))};c.addEventListener("pointerleave",h,s)};return n.forEach(l=>{l.addEventListener("pointerenter",o,s)}),i}const XV=(t,e)=>e?t===e?!0:XV(t,e.parentElement):!1,WA=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pae=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gae(t){return pae.has(t.tagName)||t.tabIndex!==-1}const zy=new WeakSet;function _6(t){return e=>{e.key==="Enter"&&t(e)}}function lN(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const xae=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=_6(()=>{if(zy.has(r))return;lN(r,"down");const s=_6(()=>{lN(r,"up")}),i=()=>lN(r,"cancel");r.addEventListener("keyup",s,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function M6(t){return WA(t)&&!YV()}function yae(t,e,r={}){const[n,s,i]=KV(t,r),o=l=>{const c=l.currentTarget;if(!M6(l))return;zy.add(c);const d=e(c,l),h=(y,w)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),zy.has(c)&&zy.delete(c),M6(y)&&typeof d=="function"&&d(y,{success:w})},m=y=>{h(y,c===window||c===document||r.useGlobalTarget||XV(c,y.target))},g=y=>{h(y,!1)};window.addEventListener("pointerup",m,s),window.addEventListener("pointercancel",g,s)};return n.forEach(l=>{(r.useGlobalTarget?window:l).addEventListener("pointerdown",o,s),GV(l)&&(l.addEventListener("focus",d=>xae(d,s)),!gae(l)&&!l.hasAttribute("tabindex")&&(l.tabIndex=0))}),i}function JV(t){return cV(t)&&"ownerSVGElement"in t}function bae(t){return JV(t)&&t.tagName==="svg"}const Ba=t=>!!(t&&t.getVelocity),vae=[...VV,Xn,Dc],wae=t=>vae.find(zV(t)),UA=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function A6(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function jae(...t){return e=>{let r=!1;const n=t.map(s=>{const i=A6(s,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let s=0;s<n.length;s++){const i=n[s];typeof i=="function"?i():A6(t[s],null)}}}}function Sae(...t){return x.useCallback(jae(...t),t)}class Nae extends x.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,s=GV(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=s-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function kae({children:t,isPresent:e,anchorX:r,root:n}){const s=x.useId(),i=x.useRef(null),o=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:l}=x.useContext(UA),c=Sae(i,t==null?void 0:t.ref);return x.useInsertionEffect(()=>{const{width:d,height:h,top:m,left:g,right:y}=o.current;if(e||!i.current||!d||!h)return;const w=r==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=s;const j=document.createElement("style");l&&(j.nonce=l);const v=n??document.head;return v.appendChild(j),j.sheet&&j.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${h}px !important;
            ${w}px !important;
            top: ${m}px !important;
          }
        `),()=>{v.contains(j)&&v.removeChild(j)}},[e]),a.jsx(Nae,{isPresent:e,childRef:i,sizeRef:o,children:x.cloneElement(t,{ref:c})})}const Cae=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:s,presenceAffectsLayout:i,mode:o,anchorX:l,root:c})=>{const d=SA(Tae),h=x.useId();let m=!0,g=x.useMemo(()=>(m=!1,{id:h,initial:e,isPresent:r,custom:s,onExitComplete:y=>{d.set(y,!0);for(const w of d.values())if(!w)return;n&&n()},register:y=>(d.set(y,!1),()=>d.delete(y))}),[r,d,n]);return i&&m&&(g={...g}),x.useMemo(()=>{d.forEach((y,w)=>d.set(w,!1))},[r]),x.useEffect(()=>{!r&&!d.size&&n&&n()},[r]),o==="popLayout"&&(t=a.jsx(kae,{isPresent:r,anchorX:l,root:c,children:t})),a.jsx(_w.Provider,{value:g,children:t})};function Tae(){return new Map}function QV(t=!0){const e=x.useContext(_w);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:s}=e,i=x.useId();x.useEffect(()=>{if(t)return s(i)},[t]);const o=x.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Vx=t=>t.key||"";function O6(t){const e=[];return x.Children.forEach(t,r=>{x.isValidElement(r)&&e.push(r)}),e}const _t=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:s=!0,mode:i="sync",propagate:o=!1,anchorX:l="left",root:c})=>{const[d,h]=QV(o),m=x.useMemo(()=>O6(t),[t]),g=o&&!d?[]:m.map(Vx),y=x.useRef(!0),w=x.useRef(m),j=SA(()=>new Map),[v,N]=x.useState(m),[T,S]=x.useState(m);oV(()=>{y.current=!1,w.current=m;for(let A=0;A<T.length;A++){const E=Vx(T[A]);g.includes(E)?j.delete(E):j.get(E)!==!0&&j.set(E,!1)}},[T,g.length,g.join("-")]);const O=[];if(m!==v){let A=[...m];for(let E=0;E<T.length;E++){const P=T[E],$=Vx(P);g.includes($)||(A.splice(E,0,P),O.push(P))}return i==="wait"&&O.length&&(A=O),S(O6(A)),N(m),null}const{forceRender:_}=x.useContext(jA);return a.jsx(a.Fragment,{children:T.map(A=>{const E=Vx(A),P=o&&!d?!1:m===T||g.includes(E),$=()=>{if(j.has(E))j.set(E,!0);else return;let I=!0;j.forEach(L=>{L||(I=!1)}),I&&(_==null||_(),S(w.current),o&&(h==null||h()),n&&n())};return a.jsx(Cae,{isPresent:P,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:s,mode:i,root:c,onExitComplete:P?void 0:$,anchorX:l,children:A},E)})})},ZV=x.createContext({strict:!1}),E6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},$f={};for(const t in E6)$f[t]={isEnabled:e=>E6[t].some(r=>!!e[r])};function _ae(t){for(const e in t)$f[e]={...$f[e],...t[e]}}const Mae=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function gb(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Mae.has(t)}let eq=t=>!gb(t);function Aae(t){typeof t=="function"&&(eq=e=>e.startsWith("on")?!gb(e):t(e))}try{Aae(require("@emotion/is-prop-valid").default)}catch{}function Oae(t,e,r){const n={};for(const s in t)s==="values"&&typeof t.values=="object"||(eq(s)||r===!0&&gb(s)||!e&&!gb(s)||t.draggable&&s.startsWith("onDrag"))&&(n[s]=t[s]);return n}const Mw=x.createContext({});function Aw(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function Gp(t){return typeof t=="string"||Array.isArray(t)}const GA=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],YA=["initial",...GA];function Ow(t){return Aw(t.animate)||YA.some(e=>Gp(t[e]))}function tq(t){return!!(Ow(t)||t.variants)}function Eae(t,e){if(Ow(t)){const{initial:r,animate:n}=t;return{initial:r===!1||Gp(r)?r:void 0,animate:Gp(n)?n:void 0}}return t.inherit!==!1?e:{}}function Dae(t){const{initial:e,animate:r}=Eae(t,x.useContext(Mw));return x.useMemo(()=>({initial:e,animate:r}),[D6(e),D6(r)])}function D6(t){return Array.isArray(t)?t.join(" "):t}const Yp={};function Pae(t){for(const e in t)Yp[e]=t[e],EA(e)&&(Yp[e].isCSSVariable=!0)}function rq(t,{layout:e,layoutId:r}){return Oh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Yp[t]||t==="opacity")}const Rae={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Iae=Ah.length;function Lae(t,e,r){let n="",s=!0;for(let i=0;i<Iae;i++){const o=Ah[i],l=t[o];if(l===void 0)continue;let c=!0;if(typeof l=="number"?c=l===(o.startsWith("scale")?1:0):c=parseFloat(l)===0,!c||r){const d=UV(l,VA[o]);if(!c){s=!1;const h=Rae[o]||o;n+=`${h}(${d}) `}r&&(e[o]=d)}}return n=n.trim(),r?n=r(e,s?"":n):s&&(n="none"),n}function KA(t,e,r){const{style:n,vars:s,transformOrigin:i}=t;let o=!1,l=!1;for(const c in e){const d=e[c];if(Oh.has(c)){o=!0;continue}else if(EA(c)){s[c]=d;continue}else{const h=UV(d,VA[c]);c.startsWith("origin")?(l=!0,i[c]=h):n[c]=h}}if(e.transform||(o||r?n.transform=Lae(e,t.transform,r):n.transform&&(n.transform="none")),l){const{originX:c="50%",originY:d="50%",originZ:h=0}=i;n.transformOrigin=`${c} ${d} ${h}`}}const XA=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nq(t,e,r){for(const n in e)!Ba(e[n])&&!rq(n,r)&&(t[n]=e[n])}function $ae({transformTemplate:t},e){return x.useMemo(()=>{const r=XA();return KA(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Fae(t,e){const r=t.style||{},n={};return nq(n,r,t),Object.assign(n,$ae(t,e)),n}function Hae(t,e){const r={},n=Fae(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Bae={offset:"stroke-dashoffset",array:"stroke-dasharray"},zae={offset:"strokeDashoffset",array:"strokeDasharray"};function Vae(t,e,r=1,n=0,s=!0){t.pathLength=1;const i=s?Bae:zae;t[i.offset]=Jt.transform(-n);const o=Jt.transform(e),l=Jt.transform(r);t[i.array]=`${o} ${l}`}function aq(t,{attrX:e,attrY:r,attrScale:n,pathLength:s,pathSpacing:i=1,pathOffset:o=0,...l},c,d,h){if(KA(t,l,d),c){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(h==null?void 0:h.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),s!==void 0&&Vae(m,s,i,o,!1)}const sq=()=>({...XA(),attrs:{}}),iq=t=>typeof t=="string"&&t.toLowerCase()==="svg";function qae(t,e,r,n){const s=x.useMemo(()=>{const i=sq();return aq(i,e,iq(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};nq(i,t.style,t),s.style={...i,...s.style}}return s}const Wae=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function JA(t){return typeof t!="string"||t.includes("-")?!1:!!(Wae.indexOf(t)>-1||/[A-Z]/u.test(t))}function Uae(t,e,r,{latestValues:n},s,i=!1){const l=(JA(t)?qae:Hae)(e,n,s,t),c=Oae(e,typeof t=="string",i),d=t!==x.Fragment?{...c,...l,ref:r}:{},{children:h}=e,m=x.useMemo(()=>Ba(h)?h.get():h,[h]);return x.createElement(t,{...d,children:m})}function P6(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function QA(t,e,r,n){if(typeof e=="function"){const[s,i]=P6(n);e=e(r!==void 0?r:t.custom,s,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[s,i]=P6(n);e=e(r!==void 0?r:t.custom,s,i)}return e}function Vy(t){return Ba(t)?t.get():t}function Gae({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,s){return{latestValues:Yae(r,n,s,t),renderState:e()}}function Yae(t,e,r,n){const s={},i=n(t,{});for(const g in i)s[g]=Vy(i[g]);let{initial:o,animate:l}=t;const c=Ow(t),d=tq(t);e&&d&&!c&&t.inherit!==!1&&(o===void 0&&(o=e.initial),l===void 0&&(l=e.animate));let h=r?r.initial===!1:!1;h=h||o===!1;const m=h?l:o;if(m&&typeof m!="boolean"&&!Aw(m)){const g=Array.isArray(m)?m:[m];for(let y=0;y<g.length;y++){const w=QA(t,g[y]);if(w){const{transitionEnd:j,transition:v,...N}=w;for(const T in N){let S=N[T];if(Array.isArray(S)){const O=h?S.length-1:0;S=S[O]}S!==null&&(s[T]=S)}for(const T in j)s[T]=j[T]}}}return s}const oq=t=>(e,r)=>{const n=x.useContext(Mw),s=x.useContext(_w),i=()=>Gae(t,e,n,s);return r?i():SA(i)};function ZA(t,e,r){var i;const{style:n}=t,s={};for(const o in n)(Ba(n[o])||e.style&&Ba(e.style[o])||rq(o,t)||((i=r==null?void 0:r.getValue(o))==null?void 0:i.liveStyle)!==void 0)&&(s[o]=n[o]);return s}const Kae=oq({scrapeMotionValuesFromProps:ZA,createRenderState:XA});function lq(t,e,r){const n=ZA(t,e,r);for(const s in t)if(Ba(t[s])||Ba(e[s])){const i=Ah.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;n[i]=t[s]}return n}const Xae=oq({scrapeMotionValuesFromProps:lq,createRenderState:sq}),Jae=Symbol.for("motionComponentSymbol");function hf(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qae(t,e,r){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):hf(r)&&(r.current=n))},[e])}const eO=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Zae="framerAppearId",cq="data-"+eO(Zae),uq=x.createContext({});function ese(t,e,r,n,s){var j,v;const{visualElement:i}=x.useContext(Mw),o=x.useContext(ZV),l=x.useContext(_w),c=x.useContext(UA).reducedMotion,d=x.useRef(null);n=n||o.renderer,!d.current&&n&&(d.current=n(t,{visualState:e,parent:i,props:r,presenceContext:l,blockInitialAnimation:l?l.initial===!1:!1,reducedMotionConfig:c}));const h=d.current,m=x.useContext(uq);h&&!h.projection&&s&&(h.type==="html"||h.type==="svg")&&tse(d.current,r,s,m);const g=x.useRef(!1);x.useInsertionEffect(()=>{h&&g.current&&h.update(r,l)});const y=r[cq],w=x.useRef(!!y&&!((j=window.MotionHandoffIsComplete)!=null&&j.call(window,y))&&((v=window.MotionHasOptimisedAnimation)==null?void 0:v.call(window,y)));return oV(()=>{h&&(g.current=!0,window.MotionIsMounted=!0,h.updateFeatures(),h.scheduleRenderMicrotask(),w.current&&h.animationState&&h.animationState.animateChanges())}),x.useEffect(()=>{h&&(!w.current&&h.animationState&&h.animationState.animateChanges(),w.current&&(queueMicrotask(()=>{var N;(N=window.MotionHandoffMarkAsComplete)==null||N.call(window,y)}),w.current=!1),h.enteringChildren=void 0)}),h}function tse(t,e,r,n){const{layoutId:s,layout:i,drag:o,dragConstraints:l,layoutScroll:c,layoutRoot:d,layoutCrossfade:h}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:dq(t.parent)),t.projection.setOptions({layoutId:s,layout:i,alwaysMeasureLayout:!!o||l&&hf(l),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:h,layoutScroll:c,layoutRoot:d})}function dq(t){if(t)return t.options.allowProjection!==!1?t.projection:dq(t.parent)}function cN(t,{forwardMotionProps:e=!1}={},r,n){r&&_ae(r);const s=JA(t)?Xae:Kae;function i(l,c){let d;const h={...x.useContext(UA),...l,layoutId:rse(l)},{isStatic:m}=h,g=Dae(l),y=s(l,m);if(!m&&NA){nse();const w=ase(h);d=w.MeasureLayout,g.visualElement=ese(t,y,h,n,w.ProjectionNode)}return a.jsxs(Mw.Provider,{value:g,children:[d&&g.visualElement?a.jsx(d,{visualElement:g.visualElement,...h}):null,Uae(t,l,Qae(y,g.visualElement,c),y,m,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=x.forwardRef(i);return o[Jae]=t,o}function rse({layoutId:t}){const e=x.useContext(jA).id;return e&&t!==void 0?e+"-"+t:t}function nse(t,e){x.useContext(ZV).strict}function ase(t){const{drag:e,layout:r}=$f;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function sse(t,e){if(typeof Proxy>"u")return cN;const r=new Map,n=(i,o)=>cN(i,o,t,e),s=(i,o)=>n(i,o);return new Proxy(s,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,cN(o,void 0,t,e)),r.get(o))})}function fq({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function ise({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function ose(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function uN(t){return t===void 0||t===1}function z5({scale:t,scaleX:e,scaleY:r}){return!uN(t)||!uN(e)||!uN(r)}function pu(t){return z5(t)||hq(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hq(t){return R6(t.x)||R6(t.y)}function R6(t){return t&&t!=="0%"}function xb(t,e,r){const n=t-r,s=e*n;return r+s}function I6(t,e,r,n,s){return s!==void 0&&(t=xb(t,s,n)),xb(t,r,n)+e}function V5(t,e=0,r=1,n,s){t.min=I6(t.min,e,r,n,s),t.max=I6(t.max,e,r,n,s)}function mq(t,{x:e,y:r}){V5(t.x,e.translate,e.scale,e.originPoint),V5(t.y,r.translate,r.scale,r.originPoint)}const L6=.999999999999,$6=1.0000000000001;function lse(t,e,r,n=!1){const s=r.length;if(!s)return;e.x=e.y=1;let i,o;for(let l=0;l<s;l++){i=r[l],o=i.projectionDelta;const{visualElement:c}=i.options;c&&c.props.style&&c.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&pf(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,mq(t,o)),n&&pu(i.latestValues)&&pf(t,i.latestValues))}e.x<$6&&e.x>L6&&(e.x=1),e.y<$6&&e.y>L6&&(e.y=1)}function mf(t,e){t.min=t.min+e,t.max=t.max+e}function F6(t,e,r,n,s=.5){const i=wn(t.min,t.max,s);V5(t,e,r,i,n)}function pf(t,e){F6(t.x,e.x,e.scaleX,e.scale,e.originX),F6(t.y,e.y,e.scaleY,e.scale,e.originY)}function pq(t,e){return fq(ose(t.getBoundingClientRect(),e))}function cse(t,e,r){const n=pq(t,r),{scroll:s}=e;return s&&(mf(n.x,s.offset.x),mf(n.y,s.offset.y)),n}const H6=()=>({translate:0,scale:1,origin:0,originPoint:0}),gf=()=>({x:H6(),y:H6()}),B6=()=>({min:0,max:0}),Hn=()=>({x:B6(),y:B6()}),q5={current:null},gq={current:!1};function use(){if(gq.current=!0,!!NA)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>q5.current=t.matches;t.addEventListener("change",e),e()}else q5.current=!1}const dse=new WeakMap;function fse(t,e,r){for(const n in e){const s=e[n],i=r[n];if(Ba(s))t.addValue(n,s);else if(Ba(i))t.addValue(n,Lf(s,{owner:t}));else if(i!==s)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(s):o.hasAnimated||o.set(s)}else{const o=t.getStaticValue(n);t.addValue(n,Lf(o!==void 0?o:s,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const z6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hse{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:s,blockInitialAnimation:i,visualState:o},l={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=BA,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=bs.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,xn.render(this.render,!1,!0))};const{latestValues:c,renderState:d}=o;this.latestValues=c,this.baseTarget={...c},this.initialValues=r.initial?{...c}:{},this.renderState=d,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=l,this.blockInitialAnimation=!!i,this.isControllingVariants=Ow(r),this.isVariantNode=tq(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const y=m[g];c[g]!==void 0&&Ba(y)&&y.set(c[g])}}mount(e){var r;this.current=e,dse.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,s)=>this.bindToMotionValue(s,n)),gq.current||use(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:q5.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Ec(this.notifyUpdate),Ec(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Oh.has(e);n&&this.onBindTransform&&this.onBindTransform();const s=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&xn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{s(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in $f){const r=$f[e];if(!r)continue;const{isEnabled:n,Feature:s}=r;if(!this.features[e]&&s&&n(this.props)&&(this.features[e]=new s(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Hn()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<z6.length;n++){const s=z6[n];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const i="on"+s,o=e[i];o&&(this.propEventSubscriptions[s]=this.on(s,o))}this.prevMotionValues=fse(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Lf(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(lV(n)||uV(n))?n=parseFloat(n):!wae(n)&&Dc.test(r)&&(n=WV(e,r)),this.setBaseTarget(e,Ba(n)?n.get():n)),Ba(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var i;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const o=QA(this.props,r,(i=this.presenceContext)==null?void 0:i.custom);o&&(n=o[e])}if(r&&n!==void 0)return n;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Ba(s)?s:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new MA),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){qA.render(this.render)}}class xq extends hse{constructor(){super(...arguments),this.KeyframeResolver=cae}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ba(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function yq(t,{style:e,vars:r},n,s){const i=t.style;let o;for(o in e)i[o]=e[o];s==null||s.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function mse(t){return window.getComputedStyle(t)}class pse extends xq{constructor(){super(...arguments),this.type="html",this.renderInstance=yq}readValueFromInstance(e,r){var n;if(Oh.has(r))return(n=this.projection)!=null&&n.isProjecting?R5(r):_ne(e,r);{const s=mse(e),i=(EA(r)?s.getPropertyValue(r):s[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return pq(e,r)}build(e,r,n){KA(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return ZA(e,r,n)}}const bq=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gse(t,e,r,n){yq(t,e,void 0,n);for(const s in e.attrs)t.setAttribute(bq.has(s)?s:eO(s),e.attrs[s])}class xse extends xq{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Hn}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Oh.has(r)){const n=qV(r);return n&&n.default||0}return r=bq.has(r)?r:eO(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return lq(e,r,n)}build(e,r,n){aq(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,s){gse(e,r,n,s)}mount(e){this.isSVGTag=iq(e.tagName),super.mount(e)}}const yse=(t,e)=>JA(t)?new xse(e):new pse(e,{allowProjection:t!==x.Fragment});function Sf(t,e,r){const n=t.getProps();return QA(n,e,r!==void 0?r:n.custom,t)}const W5=t=>Array.isArray(t);function bse(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Lf(r))}function vse(t){return W5(t)?t[t.length-1]||0:t}function wse(t,e){const r=Sf(t,e);let{transitionEnd:n={},transition:s={},...i}=r||{};i={...i,...n};for(const o in i){const l=vse(i[o]);bse(t,o,l)}}function jse(t){return!!(Ba(t)&&t.add)}function U5(t,e){const r=t.getValue("willChange");if(jse(r))return r.add(e);if(!r&&jl.WillChange){const n=new jl.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function vq(t){return t.props[cq]}const Sse=t=>t!==null;function Nse(t,{repeat:e,repeatType:r="loop"},n){const s=t.filter(Sse),i=e&&r!=="loop"&&e%2===1?0:s.length-1;return s[i]}const kse={type:"spring",stiffness:500,damping:25,restSpeed:10},Cse=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Tse={type:"keyframes",duration:.8},_se={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Mse=(t,{keyframes:e})=>e.length>2?Tse:Oh.has(t)?t.startsWith("scale")?Cse(e[1]):kse:_se;function Ase({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:s,repeat:i,repeatType:o,repeatDelay:l,from:c,elapsed:d,...h}){return!!Object.keys(h).length}const tO=(t,e,r,n={},s,i)=>o=>{const l=zA(n,t)||{},c=l.delay||n.delay||0;let{elapsed:d=0}=n;d=d-co(c);const h={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...l,delay:-d,onUpdate:g=>{e.set(g),l.onUpdate&&l.onUpdate(g)},onComplete:()=>{o(),l.onComplete&&l.onComplete()},name:t,motionValue:e,element:i?void 0:s};Ase(l)||Object.assign(h,Mse(t,h)),h.duration&&(h.duration=co(h.duration)),h.repeatDelay&&(h.repeatDelay=co(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(H5(h),h.delay===0&&(m=!0)),(jl.instantAnimations||jl.skipAnimations)&&(m=!0,H5(h),h.delay=0),h.allowFlatten=!l.type&&!l.ease,m&&!i&&e.get()!==void 0){const g=Nse(h.keyframes,l);if(g!==void 0){xn.update(()=>{h.onUpdate(g),h.onComplete()});return}}return l.isSync?new HA(h):new Jne(h)};function Ose({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function wq(t,e,{delay:r=0,transitionOverride:n,type:s}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...l}=e;n&&(i=n);const c=[],d=s&&t.animationState&&t.animationState.getState()[s];for(const h in l){const m=t.getValue(h,t.latestValues[h]??null),g=l[h];if(g===void 0||d&&Ose(d,h))continue;const y={delay:r,...zA(i||{},h)},w=m.get();if(w!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===w&&!y.velocity)continue;let j=!1;if(window.MotionHandoffAnimation){const N=vq(t);if(N){const T=window.MotionHandoffAnimation(N,h,xn);T!==null&&(y.startTime=T,j=!0)}}U5(t,h),m.start(tO(h,m,g,t.shouldReduceMotion&&BV.has(h)?{type:!1}:y,t,j));const v=m.animation;v&&c.push(v)}return o&&Promise.all(c).then(()=>{xn.update(()=>{o&&wse(t,o)})}),c}function jq(t,e,r,n=0,s=1){const i=Array.from(t).sort((d,h)=>d.sortNodePosition(h)).indexOf(e),o=t.size,l=(o-1)*n;return typeof r=="function"?r(i,o):s===1?i*n:l-i*n}function G5(t,e,r={}){var c;const n=Sf(t,e,r.type==="exit"?(c=t.presenceContext)==null?void 0:c.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(s=r.transitionOverride);const i=n?()=>Promise.all(wq(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:g}=s;return Ese(t,e,d,h,m,g,r)}:()=>Promise.resolve(),{when:l}=s;if(l){const[d,h]=l==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Ese(t,e,r=0,n=0,s=0,i=1,o){const l=[];for(const c of t.variantChildren)c.notify("AnimationStart",e),l.push(G5(c,e,{...o,delay:r+(typeof n=="function"?0:n)+jq(t.variantChildren,c,n,s,i)}).then(()=>c.notify("AnimationComplete",e)));return Promise.all(l)}function Dse(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const s=e.map(i=>G5(t,i,r));n=Promise.all(s)}else if(typeof e=="string")n=G5(t,e,r);else{const s=typeof e=="function"?Sf(t,e,r.custom):e;n=Promise.all(wq(t,s,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function Sq(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Pse=YA.length;function Nq(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?Nq(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Pse;r++){const n=YA[r],s=t.props[n];(Gp(s)||s===!1)&&(e[n]=s)}return e}const Rse=[...GA].reverse(),Ise=GA.length;function Lse(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Dse(t,r,n)))}function $se(t){let e=Lse(t),r=V6(),n=!0;const s=c=>(d,h)=>{var g;const m=Sf(t,h,c==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:y,transitionEnd:w,...j}=m;d={...d,...j,...w}}return d};function i(c){e=c(t)}function o(c){const{props:d}=t,h=Nq(t.parent)||{},m=[],g=new Set;let y={},w=1/0;for(let v=0;v<Ise;v++){const N=Rse[v],T=r[N],S=d[N]!==void 0?d[N]:h[N],O=Gp(S),_=N===c?T.isActive:null;_===!1&&(w=v);let A=S===h[N]&&S!==d[N]&&O;if(A&&n&&t.manuallyAnimateOnMount&&(A=!1),T.protectedKeys={...y},!T.isActive&&_===null||!S&&!T.prevProp||Aw(S)||typeof S=="boolean")continue;const E=Fse(T.prevProp,S);let P=E||N===c&&T.isActive&&!A&&O||v>w&&O,$=!1;const I=Array.isArray(S)?S:[S];let L=I.reduce(s(N),{});_===!1&&(L={});const{prevResolvedValues:R={}}=T,z={...R,...L},Y=D=>{P=!0,g.has(D)&&($=!0,g.delete(D)),T.needsAnimating[D]=!0;const F=t.getValue(D);F&&(F.liveStyle=!1)};for(const D in z){const F=L[D],K=R[D];if(y.hasOwnProperty(D))continue;let te=!1;W5(F)&&W5(K)?te=!Sq(F,K):te=F!==K,te?F!=null?Y(D):g.add(D):F!==void 0&&g.has(D)?Y(D):T.protectedKeys[D]=!0}T.prevProp=S,T.prevResolvedValues=L,T.isActive&&(y={...y,...L}),n&&t.blockInitialAnimation&&(P=!1);const q=A&&E;P&&(!q||$)&&m.push(...I.map(D=>{const F={type:N};if(typeof D=="string"&&n&&!q&&t.manuallyAnimateOnMount&&t.parent){const{parent:K}=t,te=Sf(K,D);if(K.enteringChildren&&te){const{delayChildren:W}=te.transition||{};F.delay=jq(K.enteringChildren,t,W)}}return{animation:D,options:F}}))}if(g.size){const v={};if(typeof d.initial!="boolean"){const N=Sf(t,Array.isArray(d.initial)?d.initial[0]:d.initial);N&&N.transition&&(v.transition=N.transition)}g.forEach(N=>{const T=t.getBaseTarget(N),S=t.getValue(N);S&&(S.liveStyle=!0),v[N]=T??null}),m.push({animation:v})}let j=!!m.length;return n&&(d.initial===!1||d.initial===d.animate)&&!t.manuallyAnimateOnMount&&(j=!1),n=!1,j?e(m):Promise.resolve()}function l(c,d){var m;if(r[c].isActive===d)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var y;return(y=g.animationState)==null?void 0:y.setActive(c,d)}),r[c].isActive=d;const h=o(c);for(const g in r)r[g].protectedKeys={};return h}return{animateChanges:o,setActive:l,setAnimateFunction:i,getState:()=>r,reset:()=>{r=V6(),n=!0}}}function Fse(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Sq(e,t):!1}function uu(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function V6(){return{animate:uu(!0),whileInView:uu(),whileHover:uu(),whileTap:uu(),whileDrag:uu(),whileFocus:uu(),exit:uu()}}class Fc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Hse extends Fc{constructor(e){super(e),e.animationState||(e.animationState=$se(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Aw(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Bse=0;class zse extends Fc{constructor(){super(...arguments),this.id=Bse++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const s=this.node.animationState.setActive("exit",!e);r&&!e&&s.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Vse={animation:{Feature:Hse},exit:{Feature:zse}};function Kp(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function tg(t){return{point:{x:t.pageX,y:t.pageY}}}const qse=t=>e=>WA(e)&&t(e,tg(e));function Sp(t,e,r,n){return Kp(t,e,qse(r),n)}const kq=1e-4,Wse=1-kq,Use=1+kq,Cq=.01,Gse=0-Cq,Yse=0+Cq;function Xa(t){return t.max-t.min}function Kse(t,e,r){return Math.abs(t-e)<=r}function q6(t,e,r,n=.5){t.origin=n,t.originPoint=wn(e.min,e.max,t.origin),t.scale=Xa(r)/Xa(e),t.translate=wn(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Wse&&t.scale<=Use||isNaN(t.scale))&&(t.scale=1),(t.translate>=Gse&&t.translate<=Yse||isNaN(t.translate))&&(t.translate=0)}function Np(t,e,r,n){q6(t.x,e.x,r.x,n?n.originX:void 0),q6(t.y,e.y,r.y,n?n.originY:void 0)}function W6(t,e,r){t.min=r.min+e.min,t.max=t.min+Xa(e)}function Xse(t,e,r){W6(t.x,e.x,r.x),W6(t.y,e.y,r.y)}function U6(t,e,r){t.min=e.min-r.min,t.max=t.min+Xa(e)}function kp(t,e,r){U6(t.x,e.x,r.x),U6(t.y,e.y,r.y)}function ai(t){return[t("x"),t("y")]}const Tq=({current:t})=>t?t.ownerDocument.defaultView:null,G6=(t,e)=>Math.abs(t-e);function Jse(t,e){const r=G6(t.x,e.x),n=G6(t.y,e.y);return Math.sqrt(r**2+n**2)}class _q{constructor(e,r,{transformPagePoint:n,contextWindow:s=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=fN(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,w=Jse(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!w)return;const{point:j}=g,{timestamp:v}=Ma;this.history.push({...j,timestamp:v});const{onStart:N,onMove:T}=this.handlers;y||(N&&N(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=dN(y,this.transformPagePoint),xn.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:w,onSessionEnd:j,resumeAnimation:v}=this.handlers;if(this.dragSnapToOrigin&&v&&v(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=fN(g.type==="pointercancel"?this.lastMoveEventInfo:dN(y,this.transformPagePoint),this.history);this.startEvent&&w&&w(g,N),j&&j(g,N)},!WA(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=s||window;const l=tg(e),c=dN(l,this.transformPagePoint),{point:d}=c,{timestamp:h}=Ma;this.history=[{...d,timestamp:h}];const{onSessionStart:m}=r;m&&m(e,fN(c,this.history)),this.removeListeners=Q0(Sp(this.contextWindow,"pointermove",this.handlePointerMove),Sp(this.contextWindow,"pointerup",this.handlePointerUp),Sp(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ec(this.updatePoint)}}function dN(t,e){return e?{point:e(t.point)}:t}function Y6(t,e){return{x:t.x-e.x,y:t.y-e.y}}function fN({point:t},e){return{point:t,delta:Y6(t,Mq(e)),offset:Y6(t,Qse(e)),velocity:Zse(e,.1)}}function Qse(t){return t[0]}function Mq(t){return t[t.length-1]}function Zse(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const s=Mq(t);for(;r>=0&&(n=t[r],!(s.timestamp-n.timestamp>co(e)));)r--;if(!n)return{x:0,y:0};const i=fi(s.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(s.x-n.x)/i,y:(s.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function eie(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?wn(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?wn(r,t,n.max):Math.min(t,r)),t}function K6(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function tie(t,{top:e,left:r,bottom:n,right:s}){return{x:K6(t.x,r,s),y:K6(t.y,e,n)}}function X6(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function rie(t,e){return{x:X6(t.x,e.x),y:X6(t.y,e.y)}}function nie(t,e){let r=.5;const n=Xa(t),s=Xa(e);return s>n?r=qp(e.min,e.max-n,t.min):n>s&&(r=qp(t.min,t.max-s,e.min)),wl(0,1,r)}function aie(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Y5=.35;function sie(t=Y5){return t===!1?t=0:t===!0&&(t=Y5),{x:J6(t,"left","right"),y:J6(t,"top","bottom")}}function J6(t,e,r){return{min:Q6(t,e),max:Q6(t,r)}}function Q6(t,e){return typeof t=="number"?t:t[e]||0}const iie=new WeakMap;class oie{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Hn(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:s}=this.visualElement;if(s&&s.isPresent===!1)return;const i=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(tg(m).point)},o=(m,g)=>{const{drag:y,dragPropagation:w,onDragStart:j}=this.getProps();if(y&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hae(y),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ai(N=>{let T=this.getAxisMotionValue(N).get()||0;if(uo.test(T)){const{projection:S}=this.visualElement;if(S&&S.layout){const O=S.layout.layoutBox[N];O&&(T=Xa(O)*(parseFloat(T)/100))}}this.originPoint[N]=T}),j&&xn.postRender(()=>j(m,g)),U5(this.visualElement,"transform");const{animationState:v}=this.visualElement;v&&v.setActive("whileDrag",!0)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:w,onDirectionLock:j,onDrag:v}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:N}=g;if(w&&this.currentDirection===null){this.currentDirection=lie(N),this.currentDirection!==null&&j&&j(this.currentDirection);return}this.updateAxis("x",g.point,N),this.updateAxis("y",g.point,N),this.visualElement.render(),v&&v(m,g)},c=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},d=()=>ai(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:h}=this.getProps();this.panSession=new _q(e,{onSessionStart:i,onStart:o,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:h,distanceThreshold:n,contextWindow:Tq(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,s=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!s||!n)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:l}=this.getProps();l&&xn.postRender(()=>l(n,s))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:s}=this.getProps();if(!n||!qx(e,s,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=eie(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){var i;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(i=this.visualElement.projection)==null?void 0:i.layout,s=this.constraints;e&&hf(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=tie(n.layoutBox,e):this.constraints=!1,this.elastic=sie(r),s!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&ai(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=aie(n.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!hf(e))return!1;const n=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const i=cse(n,s.root,this.visualElement.getTransformPagePoint());let o=rie(s.layout.layoutBox,i);if(r){const l=r(ise(o));this.hasMutatedConstraints=!!l,l&&(o=fq(l))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:s,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:l}=this.getProps(),c=this.constraints||{},d=ai(h=>{if(!qx(h,r,this.currentDirection))return;let m=c&&c[h]||{};o&&(m={min:0,max:0});const g=s?200:1e6,y=s?40:1e7,w={type:"inertia",velocity:n?e[h]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...m};return this.startAxisValueAnimation(h,w)});return Promise.all(d).then(l)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return U5(this.visualElement,e),n.start(tO(e,n,0,r,this.visualElement,!1))}stopAnimation(){ai(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){ai(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),s=n[r];return s||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){ai(r=>{const{drag:n}=this.getProps();if(!qx(r,n,this.currentDirection))return;const{projection:s}=this.visualElement,i=this.getAxisMotionValue(r);if(s&&s.layout){const{min:o,max:l}=s.layout.layoutBox[r];i.set(e[r]-wn(o,l,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!hf(r)||!n||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};ai(o=>{const l=this.getAxisMotionValue(o);if(l&&this.constraints!==!1){const c=l.get();s[o]=nie({min:c,max:c},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ai(o=>{if(!qx(o,e,null))return;const l=this.getAxisMotionValue(o),{min:c,max:d}=this.constraints[o];l.set(wn(c,d,s[o]))})}addListeners(){if(!this.visualElement.current)return;iie.set(this.visualElement,this);const e=this.visualElement.current,r=Sp(e,"pointerdown",c=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(c)}),n=()=>{const{dragConstraints:c}=this.getProps();hf(c)&&c.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,i=s.addEventListener("measure",n);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),xn.read(n);const o=Kp(window,"resize",()=>this.scalePositionWithinConstraints()),l=s.addEventListener("didUpdate",(({delta:c,hasLayoutChanged:d})=>{this.isDragging&&d&&(ai(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=c[h].translate,m.set(m.get()+c[h].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),l&&l()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:s=!1,dragConstraints:i=!1,dragElastic:o=Y5,dragMomentum:l=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:s,dragConstraints:i,dragElastic:o,dragMomentum:l}}}function qx(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function lie(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class cie extends Fc{constructor(e){super(e),this.removeGroupControls=mi,this.removeListeners=mi,this.controls=new oie(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||mi}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z6=t=>(e,r)=>{t&&xn.postRender(()=>t(e,r))};class uie extends Fc{constructor(){super(...arguments),this.removePointerDownListener=mi}onPointerDown(e){this.session=new _q(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Tq(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:s}=this.node.getProps();return{onSessionStart:Z6(e),onStart:Z6(r),onMove:n,onEnd:(i,o)=>{delete this.session,s&&xn.postRender(()=>s(i,o))}}}mount(){this.removePointerDownListener=Sp(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const qy={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function eR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Hm={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Jt.test(t))t=parseFloat(t);else return t;const r=eR(t,e.target.x),n=eR(t,e.target.y);return`${r}% ${n}%`}},die={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,s=Dc.parse(t);if(s.length>5)return n;const i=Dc.createTransformer(t),o=typeof s[0]!="number"?1:0,l=r.x.scale*e.x,c=r.y.scale*e.y;s[0+o]/=l,s[1+o]/=c;const d=wn(l,c,.5);return typeof s[2+o]=="number"&&(s[2+o]/=d),typeof s[3+o]=="number"&&(s[3+o]/=d),i(s)}};let hN=!1;class fie extends x.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:s}=this.props,{projection:i}=e;Pae(hie),i&&(r.group&&r.group.add(i),n&&n.register&&s&&n.register(i),hN&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),qy.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:s,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,hN=!0,s||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||xn.postRender(()=>{const l=o.getStack();(!l||!l.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),qA.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:s}=e;hN=!0,s&&(s.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(s),n&&n.deregister&&n.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function Aq(t){const[e,r]=QV(),n=x.useContext(jA);return a.jsx(fie,{...t,layoutGroup:n,switchLayoutGroup:x.useContext(uq),isPresent:e,safeToRemove:r})}const hie={borderRadius:{...Hm,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Hm,borderTopRightRadius:Hm,borderBottomLeftRadius:Hm,borderBottomRightRadius:Hm,boxShadow:die};function mie(t,e,r){const n=Ba(t)?t:Lf(t);return n.start(tO("",n,e,r)),n.animation}const pie=(t,e)=>t.depth-e.depth;class gie{constructor(){this.children=[],this.isDirty=!1}add(e){kA(this.children,e),this.isDirty=!0}remove(e){CA(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(pie),this.isDirty=!1,this.children.forEach(e)}}function xie(t,e){const r=bs.now(),n=({timestamp:s})=>{const i=s-r;i>=e&&(Ec(n),t(i-e))};return xn.setup(n,!0),()=>Ec(n)}const Oq=["TopLeft","TopRight","BottomLeft","BottomRight"],yie=Oq.length,tR=t=>typeof t=="string"?parseFloat(t):t,rR=t=>typeof t=="number"||Jt.test(t);function bie(t,e,r,n,s,i){s?(t.opacity=wn(0,r.opacity??1,vie(n)),t.opacityExit=wn(e.opacity??1,0,wie(n))):i&&(t.opacity=wn(e.opacity??1,r.opacity??1,n));for(let o=0;o<yie;o++){const l=`border${Oq[o]}Radius`;let c=nR(e,l),d=nR(r,l);if(c===void 0&&d===void 0)continue;c||(c=0),d||(d=0),c===0||d===0||rR(c)===rR(d)?(t[l]=Math.max(wn(tR(c),tR(d),n),0),(uo.test(d)||uo.test(c))&&(t[l]+="%")):t[l]=d}(e.rotate||r.rotate)&&(t.rotate=wn(e.rotate||0,r.rotate||0,n))}function nR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vie=Eq(0,.5,yV),wie=Eq(.5,.95,mi);function Eq(t,e,r){return n=>n<t?0:n>e?1:r(qp(t,e,n))}function aR(t,e){t.min=e.min,t.max=e.max}function Zs(t,e){aR(t.x,e.x),aR(t.y,e.y)}function sR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function iR(t,e,r,n,s){return t-=e,t=xb(t,1/r,n),s!==void 0&&(t=xb(t,1/s,n)),t}function jie(t,e=0,r=1,n=.5,s,i=t,o=t){if(uo.test(e)&&(e=parseFloat(e),e=wn(o.min,o.max,e/100)-o.min),typeof e!="number")return;let l=wn(i.min,i.max,n);t===i&&(l-=e),t.min=iR(t.min,e,r,l,s),t.max=iR(t.max,e,r,l,s)}function oR(t,e,[r,n,s],i,o){jie(t,e[r],e[n],e[s],e.scale,i,o)}const Sie=["x","scaleX","originX"],Nie=["y","scaleY","originY"];function lR(t,e,r,n){oR(t.x,e,Sie,r?r.x:void 0,n?n.x:void 0),oR(t.y,e,Nie,r?r.y:void 0,n?n.y:void 0)}function cR(t){return t.translate===0&&t.scale===1}function Dq(t){return cR(t.x)&&cR(t.y)}function uR(t,e){return t.min===e.min&&t.max===e.max}function kie(t,e){return uR(t.x,e.x)&&uR(t.y,e.y)}function dR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Pq(t,e){return dR(t.x,e.x)&&dR(t.y,e.y)}function fR(t){return Xa(t.x)/Xa(t.y)}function hR(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Cie{constructor(){this.members=[]}add(e){kA(this.members,e),e.scheduleRender()}remove(e){if(CA(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(s=>e===s);if(r===0)return!1;let n;for(let s=r;s>=0;s--){const i=this.members[s];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tie(t,e,r){let n="";const s=t.x.translate/e.x,i=t.y.translate/e.y,o=(r==null?void 0:r.z)||0;if((s||i||o)&&(n=`translate3d(${s}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:g,skewX:y,skewY:w}=r;d&&(n=`perspective(${d}px) ${n}`),h&&(n+=`rotate(${h}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),w&&(n+=`skewY(${w}deg) `)}const l=t.x.scale*e.x,c=t.y.scale*e.y;return(l!==1||c!==1)&&(n+=`scale(${l}, ${c})`),n||"none"}const mN=["","X","Y","Z"],_ie=1e3;let Mie=0;function pN(t,e,r,n){const{latestValues:s}=e;s[t]&&(r[t]=s[t],e.setStaticValue(t,0),n&&(n[t]=0))}function Rq(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=vq(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:s,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",xn,!(s||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&Rq(n)}function Iq({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:s}){return class{constructor(o={},l=e==null?void 0:e()){this.id=Mie++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Eie),this.nodes.forEach(Iie),this.nodes.forEach(Lie),this.nodes.forEach(Die)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=l?l.root||l:this,this.path=l?[...l.path,l]:[],this.parent=l,this.depth=l?l.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new gie)}addEventListener(o,l){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new MA),this.eventHandlers.get(o).add(l)}notifyListeners(o,...l){const c=this.eventHandlers.get(o);c&&c.notify(...l)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=JV(o)&&!bae(o),this.instance=o;const{layoutId:l,layout:c,visualElement:d}=this.options;if(d&&!d.current&&d.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(c||l)&&(this.isLayoutDirty=!0),t){let h,m=0;const g=()=>this.root.updateBlockedByResize=!1;xn.read(()=>{m=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==m&&(m=y,this.root.updateBlockedByResize=!0,h&&h(),h=xie(g,250),qy.hasAnimatedSinceResize&&(qy.hasAnimatedSinceResize=!1,this.nodes.forEach(gR)))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&d&&(l||c)&&this.addEventListener("didUpdate",({delta:h,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||d.getDefaultTransition()||zie,{onLayoutAnimationStart:j,onLayoutAnimationComplete:v}=d.getProps(),N=!this.targetLayout||!Pq(this.targetLayout,y),T=!m&&g;if(this.options.layoutRoot||this.resumeFrom||T||m&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const S={...zA(w,"layout"),onPlay:j,onComplete:v};(d.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S),this.setAnimationOrigin(h,T)}else m||gR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($ie),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Rq(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:l,layout:c}=this.options;if(l===void 0&&!c)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mR);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(pR);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rie),this.nodes.forEach(Aie),this.nodes.forEach(Oie)):this.nodes.forEach(pR),this.clearAllSnapshots();const l=bs.now();Ma.delta=wl(0,1e3/60,l-Ma.timestamp),Ma.timestamp=l,Ma.isProcessing=!0,nN.update.process(Ma),nN.preRender.process(Ma),nN.render.process(Ma),Ma.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,qA.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Pie),this.sharedNodes.forEach(Fie)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,xn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){xn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Xa(this.snapshot.measuredBox.x)&&!Xa(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Hn(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:l}=this.options;l&&l.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let l=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(l=!1),l&&this.instance){const c=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:c,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:c}}}resetTransform(){if(!s)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,l=this.projectionDelta&&!Dq(this.projectionDelta),c=this.getTransformTemplate(),d=c?c(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;o&&this.instance&&(l||pu(this.latestValues)||h)&&(s(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const l=this.measurePageBox();let c=this.removeElementScroll(l);return o&&(c=this.removeTransform(c)),Vie(c),{animationId:this.root.animationId,measuredBox:l,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:o}=this.options;if(!o)return Hn();const l=o.measureViewportBox();if(!(((d=this.scroll)==null?void 0:d.wasRoot)||this.path.some(qie))){const{scroll:h}=this.root;h&&(mf(l.x,h.offset.x),mf(l.y,h.offset.y))}return l}removeElementScroll(o){var c;const l=Hn();if(Zs(l,o),(c=this.scroll)!=null&&c.wasRoot)return l;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:g}=h;h!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&Zs(l,o),mf(l.x,m.offset.x),mf(l.y,m.offset.y))}return l}applyTransform(o,l=!1){const c=Hn();Zs(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];!l&&h.options.layoutScroll&&h.scroll&&h!==h.root&&pf(c,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),pu(h.latestValues)&&pf(c,h.latestValues)}return pu(this.latestValues)&&pf(c,this.latestValues),c}removeTransform(o){const l=Hn();Zs(l,o);for(let c=0;c<this.path.length;c++){const d=this.path[c];if(!d.instance||!pu(d.latestValues))continue;z5(d.latestValues)&&d.updateSnapshot();const h=Hn(),m=d.measurePageBox();Zs(h,m),lR(l,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return pu(this.latestValues)&&lR(l,this.latestValues),l}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ma.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var g;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||(g=this.parent)!=null&&g.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:h,layoutId:m}=this.options;if(!(!this.layout||!(h||m))){if(this.resolvedRelativeTargetAt=Ma.timestamp,!this.targetDelta&&!this.relativeTarget){const y=this.getClosestProjectingParent();y&&y.layout&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),kp(this.relativeTargetOrigin,this.layout.layoutBox,y.layout.layoutBox),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Hn(),this.targetWithTransforms=Hn()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Xse(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Zs(this.target,this.layout.layoutBox),mq(this.target,this.targetDelta)):Zs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget)){this.attemptToResolveRelativeTarget=!1;const y=this.getClosestProjectingParent();y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?(this.relativeParent=y,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Hn(),this.relativeTargetOrigin=Hn(),kp(this.relativeTargetOrigin,this.target,y.target),Zs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}}}getClosestProjectingParent(){if(!(!this.parent||z5(this.parent.latestValues)||hq(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var w;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||(w=this.parent)!=null&&w.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Ma.timestamp&&(c=!1),c)return;const{layout:d,layoutId:h}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||h))return;Zs(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;lse(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Hn());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(sR(this.prevProjectionDelta.x,this.projectionDelta.x),sR(this.prevProjectionDelta.y,this.projectionDelta.y)),Np(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!hR(this.projectionDelta.x,this.prevProjectionDelta.x)||!hR(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var l;if((l=this.options.visualElement)==null||l.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=gf(),this.projectionDelta=gf(),this.projectionDeltaWithTransform=gf()}setAnimationOrigin(o,l=!1){const c=this.snapshot,d=c?c.latestValues:{},h={...this.latestValues},m=gf();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!l;const g=Hn(),y=c?c.source:void 0,w=this.layout?this.layout.source:void 0,j=y!==w,v=this.getStack(),N=!v||v.members.length<=1,T=!!(j&&!N&&this.options.crossfade===!0&&!this.path.some(Bie));this.animationProgress=0;let S;this.mixTargetDelta=O=>{const _=O/1e3;xR(m.x,o.x,_),xR(m.y,o.y,_),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(kp(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hie(this.relativeTarget,this.relativeTargetOrigin,g,_),S&&kie(this.relativeTarget,S)&&(this.isProjectionDirty=!1),S||(S=Hn()),Zs(S,this.relativeTarget)),j&&(this.animationValues=h,bie(h,d,this.latestValues,_,T,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=_},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){var l,c,d;this.notifyListeners("animationStart"),(l=this.currentAnimation)==null||l.stop(),(d=(c=this.resumingFrom)==null?void 0:c.currentAnimation)==null||d.stop(),this.pendingAnimation&&(Ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=xn.update(()=>{qy.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Lf(0)),this.currentAnimation=mie(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),o.onUpdate&&o.onUpdate(h)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(_ie),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:l,target:c,layout:d,latestValues:h}=o;if(!(!l||!c||!d)){if(this!==o&&this.layout&&d&&Lq(this.options.animationType,this.layout.layoutBox,d.layoutBox)){c=this.target||Hn();const m=Xa(this.layout.layoutBox.x);c.x.min=o.target.x.min,c.x.max=c.x.min+m;const g=Xa(this.layout.layoutBox.y);c.y.min=o.target.y.min,c.y.max=c.y.min+g}Zs(l,c),pf(l,h),Np(this.projectionDeltaWithTransform,this.layoutCorrected,l,h)}}registerSharedNode(o,l){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Cie),this.sharedNodes.get(o).add(l);const d=l.options.initialPromotionConfig;l.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(l):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var l;const{layoutId:o}=this.options;return o?((l=this.getStack())==null?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:o}=this.options;return o?(l=this.getStack())==null?void 0:l.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:l,preserveFollowOpacity:c}={}){const d=this.getStack();d&&d.promote(this,c),o&&(this.projectionDelta=void 0,this.needsReset=!0),l&&this.setOptions({transition:l})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let l=!1;const{latestValues:c}=o;if((c.z||c.rotate||c.rotateX||c.rotateY||c.rotateZ||c.skewX||c.skewY)&&(l=!0),!l)return;const d={};c.z&&pN("z",o,d,this.animationValues);for(let h=0;h<mN.length;h++)pN(`rotate${mN[h]}`,o,d,this.animationValues),pN(`skew${mN[h]}`,o,d,this.animationValues);o.render();for(const h in d)o.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);o.scheduleRender()}applyProjectionStyles(o,l){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const c=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Vy(l==null?void 0:l.pointerEvents)||"",o.transform=c?c(this.latestValues,""):"none";return}const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Vy(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!pu(this.latestValues)&&(o.transform=c?c({},""):"none",this.hasProjected=!1);return}o.visibility="";const h=d.animationValues||d.latestValues;this.applyTransformsToTarget();let m=Tie(this.projectionDeltaWithTransform,this.treeScale,h);c&&(m=c(h,m)),o.transform=m;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,d.animationValues?o.opacity=d===this?h.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:o.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const w in Yp){if(h[w]===void 0)continue;const{correct:j,applyTo:v,isCSSVariable:N}=Yp[w],T=m==="none"?h[w]:j(h[w],d);if(v){const S=v.length;for(let O=0;O<S;O++)o[v[O]]=T}else N?this.options.visualElement.renderState.vars[w]=T:o[w]=T}this.options.layoutId&&(o.pointerEvents=d===this?Vy(l==null?void 0:l.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var l;return(l=o.currentAnimation)==null?void 0:l.stop()}),this.root.nodes.forEach(mR),this.root.sharedNodes.clear()}}}function Aie(t){t.updateLayout()}function Oie(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:s}=t.layout,{animationType:i}=t.options,o=e.source!==t.layout.source;i==="size"?ai(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=Xa(g);g.min=n[m].min,g.max=g.min+y}):Lq(i,e.layoutBox,n)&&ai(m=>{const g=o?e.measuredBox[m]:e.layoutBox[m],y=Xa(n[m]);g.max=g.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+y)});const l=gf();Np(l,n,e.layoutBox);const c=gf();o?Np(c,t.applyTransform(s,!0),e.measuredBox):Np(c,n,e.layoutBox);const d=!Dq(l);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:y}=m;if(g&&y){const w=Hn();kp(w,e.layoutBox,g.layoutBox);const j=Hn();kp(j,n,y.layoutBox),Pq(w,j)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=w,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:c,layoutDelta:l,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Eie(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Die(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Pie(t){t.clearSnapshot()}function mR(t){t.clearMeasurements()}function pR(t){t.isLayoutDirty=!1}function Rie(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function gR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Iie(t){t.resolveTargetDelta()}function Lie(t){t.calcProjection()}function $ie(t){t.resetSkewAndRotation()}function Fie(t){t.removeLeadSnapshot()}function xR(t,e,r){t.translate=wn(e.translate,0,r),t.scale=wn(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function yR(t,e,r,n){t.min=wn(e.min,r.min,n),t.max=wn(e.max,r.max,n)}function Hie(t,e,r,n){yR(t.x,e.x,r.x,n),yR(t.y,e.y,r.y,n)}function Bie(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zie={duration:.45,ease:[.4,0,.1,1]},bR=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vR=bR("applewebkit/")&&!bR("chrome/")?Math.round:mi;function wR(t){t.min=vR(t.min),t.max=vR(t.max)}function Vie(t){wR(t.x),wR(t.y)}function Lq(t,e,r){return t==="position"||t==="preserve-aspect"&&!Kse(fR(e),fR(r),.2)}function qie(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const Wie=Iq({attachResizeListener:(t,e)=>Kp(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),gN={current:void 0},$q=Iq({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!gN.current){const t=new Wie({});t.mount(window),t.setOptions({layoutScroll:!0}),gN.current=t}return gN.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Uie={pan:{Feature:uie},drag:{Feature:cie,ProjectionNode:$q,MeasureLayout:Aq}};function jR(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const s="onHover"+r,i=n[s];i&&xn.postRender(()=>i(e,tg(e)))}class Gie extends Fc{mount(){const{current:e}=this.node;e&&(this.unmount=mae(e,(r,n)=>(jR(this.node,n,"Start"),s=>jR(this.node,s,"End"))))}unmount(){}}class Yie extends Fc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Q0(Kp(this.node.current,"focus",()=>this.onFocus()),Kp(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function SR(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const s="onTap"+(r==="End"?"":r),i=n[s];i&&xn.postRender(()=>i(e,tg(e)))}class Kie extends Fc{mount(){const{current:e}=this.node;e&&(this.unmount=yae(e,(r,n)=>(SR(this.node,n,"Start"),(s,{success:i})=>SR(this.node,s,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const K5=new WeakMap,xN=new WeakMap,Xie=t=>{const e=K5.get(t.target);e&&e(t)},Jie=t=>{t.forEach(Xie)};function Qie({root:t,...e}){const r=t||document;xN.has(r)||xN.set(r,{});const n=xN.get(r),s=JSON.stringify(e);return n[s]||(n[s]=new IntersectionObserver(Jie,{root:t,...e})),n[s]}function Zie(t,e,r){const n=Qie(e);return K5.set(t,r),n.observe(t),()=>{K5.delete(t),n.unobserve(t)}}const eoe={some:0,all:1};class toe extends Fc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:s="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof s=="number"?s:eoe[s]},l=c=>{const{isIntersecting:d}=c;if(this.isInView===d||(this.isInView=d,i&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),g=d?h:m;g&&g(c)};return Zie(this.node.current,o,l)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(roe(e,r))&&this.startObserver()}unmount(){}}function roe({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const noe={inView:{Feature:toe},tap:{Feature:Kie},focus:{Feature:Yie},hover:{Feature:Gie}},aoe={layout:{ProjectionNode:$q,MeasureLayout:Aq}},soe={...Vse,...noe,...Uie,...aoe},C=sse(soe,yse);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ioe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),ooe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),NR=t=>{const e=ooe(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fq=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),loe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var coe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uoe=x.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:s="",children:i,iconNode:o,...l},c)=>x.createElement("svg",{ref:c,...coe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fq("lucide",s),...!i&&!loe(l)&&{"aria-hidden":"true"},...l},[...o.map(([d,h])=>x.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const st=(t,e)=>{const r=x.forwardRef(({className:n,...s},i)=>x.createElement(uoe,{ref:i,iconNode:e,className:Fq(`lucide-${ioe(NR(t))}`,`lucide-${t}`,n),...s}));return r.displayName=NR(t),r};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const doe=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Li=st("activity",doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const foe=[["path",{d:"M17 12H7",key:"16if0g"}],["path",{d:"M19 18H5",key:"18s9l3"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],hoe=st("align-center",foe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const moe=[["path",{d:"M3 12h18",key:"1i2n21"}],["path",{d:"M3 18h18",key:"1h113x"}],["path",{d:"M3 6h18",key:"d0wm0j"}]],poe=st("align-justify",moe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const goe=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],xoe=st("align-left",goe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yoe=[["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M21 18H7",key:"1ygte8"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],boe=st("align-right",yoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const voe=[["rect",{width:"20",height:"5",x:"2",y:"3",rx:"1",key:"1wp1u1"}],["path",{d:"M4 8v11a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8",key:"1s80jp"}],["path",{d:"M10 12h4",key:"a56b0p"}]],woe=st("archive",voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const joe=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],jr=st("arrow-left",joe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Soe=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Noe=st("arrow-right",Soe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const koe=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],rO=st("bell",koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Coe=[["path",{d:"M6 12h9a4 4 0 0 1 0 8H7a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h7a4 4 0 0 1 0 8",key:"mg9rjx"}]],Toe=st("bold",Coe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _oe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],tl=st("book-open",_oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Moe=[["path",{d:"M21 8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73l7 4a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16Z",key:"hh9hay"}],["path",{d:"m3.3 7 8.7 5 8.7-5",key:"g66t2b"}],["path",{d:"M12 22V12",key:"d0xqtd"}]],Aoe=st("box",Moe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ooe=[["path",{d:"M2.97 12.92A2 2 0 0 0 2 14.63v3.24a2 2 0 0 0 .97 1.71l3 1.8a2 2 0 0 0 2.06 0L12 19v-5.5l-5-3-4.03 2.42Z",key:"lc1i9w"}],["path",{d:"m7 16.5-4.74-2.85",key:"1o9zyk"}],["path",{d:"m7 16.5 5-3",key:"va8pkn"}],["path",{d:"M7 16.5v5.17",key:"jnp8gn"}],["path",{d:"M12 13.5V19l3.97 2.38a2 2 0 0 0 2.06 0l3-1.8a2 2 0 0 0 .97-1.71v-3.24a2 2 0 0 0-.97-1.71L17 10.5l-5 3Z",key:"8zsnat"}],["path",{d:"m17 16.5-5-3",key:"8arw3v"}],["path",{d:"m17 16.5 4.74-2.85",key:"8rfmw"}],["path",{d:"M17 16.5v5.17",key:"k6z78m"}],["path",{d:"M7.97 4.42A2 2 0 0 0 7 6.13v4.37l5 3 5-3V6.13a2 2 0 0 0-.97-1.71l-3-1.8a2 2 0 0 0-2.06 0l-3 1.8Z",key:"1xygjf"}],["path",{d:"M12 8 7.26 5.15",key:"1vbdud"}],["path",{d:"m12 8 4.74-2.85",key:"3rx089"}],["path",{d:"M12 13.5V8",key:"1io7kd"}]],Hq=st("boxes",Ooe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eoe=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Ff=st("building",Eoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Doe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Vn=st("calendar",Doe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Poe=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Roe=st("camera",Poe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ioe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M7 16h8",key:"srdodz"}],["path",{d:"M7 11h12",key:"127s9w"}],["path",{d:"M7 6h3",key:"w9rmul"}]],rg=st("chart-bar",Ioe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Loe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],kR=st("chart-column",Loe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $oe=[["line",{x1:"18",x2:"18",y1:"20",y2:"10",key:"1xfpm4"}],["line",{x1:"12",x2:"12",y1:"20",y2:"4",key:"be30l9"}],["line",{x1:"6",x2:"6",y1:"20",y2:"14",key:"1r4le6"}]],Bi=st("chart-no-axes-column",$oe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Foe=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],Hoe=st("chart-pie",Foe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Boe=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yn=st("chevron-down",Boe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zoe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ml=st("chevron-left",zoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Voe=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Zr=st("chevron-right",Voe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qoe=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],yb=st("chevron-up",qoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Woe=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Lt=st("circle-check-big",Woe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uoe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Goe=st("circle-x",Uoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yoe=[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}]],or=st("clipboard",Yoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Koe=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],It=st("clock",Koe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xoe=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],Joe=st("code",Xoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qoe=[["path",{d:"M15.536 11.293a1 1 0 0 0 0 1.414l2.376 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1uwlt4"}],["path",{d:"M2.297 11.293a1 1 0 0 0 0 1.414l2.377 2.377a1 1 0 0 0 1.414 0l2.377-2.377a1 1 0 0 0 0-1.414L6.088 8.916a1 1 0 0 0-1.414 0z",key:"10291m"}],["path",{d:"M8.916 17.912a1 1 0 0 0 0 1.415l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.415l-2.377-2.376a1 1 0 0 0-1.414 0z",key:"1tqoq1"}],["path",{d:"M8.916 4.674a1 1 0 0 0 0 1.414l2.377 2.376a1 1 0 0 0 1.414 0l2.377-2.376a1 1 0 0 0 0-1.414l-2.377-2.377a1 1 0 0 0-1.414 0z",key:"1x6lto"}]],Zoe=st("component",Qoe);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ele=[["rect",{width:"14",height:"8",x:"5",y:"2",rx:"2",key:"wc9tft"}],["rect",{width:"20",height:"8",x:"2",y:"14",rx:"2",key:"w68u3i"}],["path",{d:"M6 18h2",key:"rwmk9e"}],["path",{d:"M12 18h6",key:"aqd8w3"}]],tle=st("computer",ele);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rle=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],nle=st("credit-card",rle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ale=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],Ew=st("database",ale);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sle=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],nO=st("external-link",sle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ile=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],rs=st("eye",ile);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ole=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Nf=st("file-text",ole);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lle=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],cle=st("file",lle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ule=[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],dle=st("folder-plus",ule);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fle=[["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]],Bq=st("folder",fle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M16 16s-1.5-2-4-2-4 2-4 2",key:"epbg0q"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],mle=st("frown",hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ple=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Va=st("funnel",ple);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],xle=st("globe",gle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yle=[["path",{d:"m15 12-8.373 8.373a1 1 0 1 1-3-3L12 9",key:"eefl8a"}],["path",{d:"m18 15 4-4",key:"16gjal"}],["path",{d:"m21.5 11.5-1.914-1.914A2 2 0 0 1 19 8.172V7l-2.26-2.26a6 6 0 0 0-4.202-1.756L9 2.96l.92.82A6.18 6.18 0 0 1 12 8.4V10l2 2h1.172a2 2 0 0 1 1.414.586L18.5 14.5",key:"b7pghm"}]],ble=st("hammer",yle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"m17 12 3-2v8",key:"1hhhft"}]],wle=st("heading-1",vle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M21 18h-4c0-4 4-3 4-6 0-1.5-2-2.5-4-1",key:"9jr5yi"}]],Sle=st("heading-2",jle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nle=[["path",{d:"M4 12h8",key:"17cfdx"}],["path",{d:"M4 18V6",key:"1rz3zl"}],["path",{d:"M12 18V6",key:"zqpxq5"}],["path",{d:"M17.5 10.5c1.7-1 3.5 0 3.5 1.5a2 2 0 0 1-2 2",key:"68ncm8"}],["path",{d:"M17 17.5c2 1.5 4 .3 4-1.5a2 2 0 0 0-2-2",key:"1ejuhz"}]],kle=st("heading-3",Nle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cle=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Hf=st("history",Cle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tle=[["path",{d:"M5 22h14",key:"ehvnwv"}],["path",{d:"M5 2h14",key:"pdyrp9"}],["path",{d:"M17 22v-4.172a2 2 0 0 0-.586-1.414L12 12l-4.414 4.414A2 2 0 0 0 7 17.828V22",key:"1d314k"}],["path",{d:"M7 2v4.172a2 2 0 0 0 .586 1.414L12 12l4.414-4.414A2 2 0 0 0 17 6.172V2",key:"1vvvr6"}]],cr=st("hourglass",Tle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _le=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ng=st("house",_le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],ia=st("info",Mle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ale=[["line",{x1:"19",x2:"10",y1:"4",y2:"4",key:"15jd3p"}],["line",{x1:"14",x2:"5",y1:"20",y2:"20",key:"bu0au3"}],["line",{x1:"15",x2:"9",y1:"4",y2:"20",key:"uljnxc"}]],Ole=st("italic",Ale);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ele=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Bf=st("key",Ele);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dle=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.93 4.93 4.24 4.24",key:"1ymg45"}],["path",{d:"m14.83 9.17 4.24-4.24",key:"1cb5xl"}],["path",{d:"m14.83 14.83 4.24 4.24",key:"q42g0n"}],["path",{d:"m9.17 14.83-4.24 4.24",key:"bqpfvv"}],["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}]],zq=st("life-buoy",Dle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ple=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],Rle=st("link",Ple);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ile=[["path",{d:"M11 18H3",key:"n3j2dh"}],["path",{d:"m15 18 2 2 4-4",key:"1szwhi"}],["path",{d:"M16 12H3",key:"1a2rj7"}],["path",{d:"M16 6H3",key:"1wxfjs"}]],Xp=st("list-check",Ile);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lle=[["path",{d:"m3 17 2 2 4-4",key:"1jhpwq"}],["path",{d:"m3 7 2 2 4-4",key:"1obspn"}],["path",{d:"M13 6h8",key:"15sg57"}],["path",{d:"M13 12h8",key:"h98zly"}],["path",{d:"M13 18h8",key:"oe0vm4"}]],Wy=st("list-checks",Lle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $le=[["path",{d:"M10 12h11",key:"6m4ad9"}],["path",{d:"M10 18h11",key:"11hvi2"}],["path",{d:"M10 6h11",key:"c7qv1k"}],["path",{d:"M4 10h2",key:"16xx2s"}],["path",{d:"M4 6h1v4",key:"cnovpq"}],["path",{d:"M6 18H4c0-1 2-2 2-3s-1-1.5-2-1",key:"m9a95d"}]],Fle=st("list-ordered",$le);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hle=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],Eh=st("list-plus",Hle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ble=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],Vq=st("list",Ble);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zle=[["path",{d:"M12 2v4",key:"3427ic"}],["path",{d:"m16.2 7.8 2.9-2.9",key:"r700ao"}],["path",{d:"M18 12h4",key:"wj9ykh"}],["path",{d:"m16.2 16.2 2.9 2.9",key:"1bxg5t"}],["path",{d:"M12 18v4",key:"jadmvz"}],["path",{d:"m4.9 19.1 2.9-2.9",key:"bwix9q"}],["path",{d:"M2 12h4",key:"j09sii"}],["path",{d:"m4.9 4.9 2.9 2.9",key:"giyufr"}]],bb=st("loader",zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vle=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],qle=st("lock",Vle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wle=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ule=st("log-out",Wle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gle=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],ag=st("mail",Gle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yle=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vo=st("map-pin",Yle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kle=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],kf=st("message-square",Kle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xle=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Dh=st("monitor",Xle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jle=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],qq=st("moon",Jle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qle=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],jn=st("package",Qle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zle=[["path",{d:"m19 11-8-8-8.6 8.6a2 2 0 0 0 0 2.8l5.2 5.2c.8.8 2 .8 2.8 0L19 11Z",key:"irua1i"}],["path",{d:"m5 2 5 5",key:"1lls2c"}],["path",{d:"M2 13h15",key:"1hkzvu"}],["path",{d:"M22 20a2 2 0 1 1-4 0c0-1.6 1.7-2.4 2-4 .3 1.6 2 2.4 2 4Z",key:"xk76lq"}]],ece=st("paint-bucket",Zle);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tce=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],rce=st("palette",tce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nce=[["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 2.829 2.829l8.414-8.586a4 4 0 1 0-5.657-5.657l-8.379 8.551a6 6 0 1 0 8.485 8.485l8.379-8.551",key:"1miecu"}]],xi=st("paperclip",nce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ace=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yu=st("phone",ace);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sce=[["path",{d:"M13 4v16",key:"8vvj80"}],["path",{d:"M17 4v16",key:"7dpous"}],["path",{d:"M19 4H9.5a4.5 4.5 0 0 0 0 9H13",key:"sh4n9v"}]],ice=st("pilcrow",sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oce=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],qn=st("plus",oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lce=[["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["path",{d:"M6 9V3a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v6",key:"1itne7"}],["rect",{x:"6",y:"14",width:"12",height:"8",rx:"1",key:"1ue0tg"}]],cce=st("printer",lce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uce=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],dce=st("receipt",uce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fce=[["path",{d:"m15 14 5-5-5-5",key:"12vg1m"}],["path",{d:"M20 9H9.5A5.5 5.5 0 0 0 4 14.5A5.5 5.5 0 0 0 9.5 20H13",key:"6uklza"}]],hce=st("redo-2",fce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mce=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],pce=st("refresh-cw",mce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gce=[["path",{d:"M4 7V4h16v3",key:"9msm58"}],["path",{d:"M5 20h6",key:"1h6pxn"}],["path",{d:"M13 4 8 20",key:"kqq6aj"}],["path",{d:"m15 15 5 5",key:"me55sn"}],["path",{d:"m20 15-5 5",key:"11p7ol"}]],xce=st("remove-formatting",gce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yce=[["path",{d:"M10 2v3a1 1 0 0 0 1 1h5",key:"1xspal"}],["path",{d:"M18 18v-6a1 1 0 0 0-1-1h-6a1 1 0 0 0-1 1v6",key:"1ra60u"}],["path",{d:"M18 22H4a2 2 0 0 1-2-2V6",key:"pblm9e"}],["path",{d:"M8 18a2 2 0 0 1-2-2V4a2 2 0 0 1 2-2h9.172a2 2 0 0 1 1.414.586l2.828 2.828A2 2 0 0 1 22 6.828V16a2 2 0 0 1-2.01 2z",key:"1yve0x"}]],bce=st("save-all",yce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vce=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],kr=st("save",vce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wce=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],In=st("search",wce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jce=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Nn=st("settings",jce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sce=[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]],Nce=st("shopping-cart",Sce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kce=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],Dn=st("square-pen",kce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cce=[["path",{d:"M16 4H9a3 3 0 0 0-2.83 4",key:"43sutm"}],["path",{d:"M14 12a4 4 0 0 1 0 8H6",key:"nlfj13"}],["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}]],Tce=st("strikethrough",Cce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ce=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],X5=st("sun",_ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mce=[["path",{d:"M10 15h4",key:"192ueg"}],["path",{d:"m14.817 10.995-.971-1.45 1.034-1.232a2 2 0 0 0-2.025-3.238l-1.82.364L9.91 3.885a2 2 0 0 0-3.625.748L6.141 6.55l-1.725.426a2 2 0 0 0-.19 3.756l.657.27",key:"xbnumr"}],["path",{d:"m18.822 10.995 2.26-5.38a1 1 0 0 0-.557-1.318L16.954 2.9a1 1 0 0 0-1.281.533l-.924 2.122",key:"eaw7gc"}],["path",{d:"M4 12.006A1 1 0 0 1 4.994 11H19a1 1 0 0 1 1 1v7a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z",key:"1vaooh"}]],zi=st("tool-case",Mce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ace=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],an=st("trash-2",Ace);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oce=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],Nu=st("trending-up",Oce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ece=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Xt=st("triangle-alert",Ece);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dce=[["path",{d:"M12 4v16",key:"1654pz"}],["path",{d:"M4 7V5a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1v2",key:"e0r10z"}],["path",{d:"M9 20h6",key:"s66wpe"}]],Wq=st("type",Dce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pce=[["path",{d:"M9 14 4 9l5-5",key:"102s5s"}],["path",{d:"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5a5.5 5.5 0 0 1-5.5 5.5H11",key:"f3b9sd"}]],Rce=st("undo-2",Pce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ice=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],qa=st("upload",Ice);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lce=[["path",{d:"m16 11 2 2 4-4",key:"9rsbq5"}],["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],CR=st("user-check",Lce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ce=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],vb=st("user-cog",$ce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],Hce=st("user-plus",Fce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bce=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_r=st("user",Bce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zce=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ca=st("users",zce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vce=[["path",{d:"M18 21V10a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1v11",key:"pb2vm6"}],["path",{d:"M22 19a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V8a2 2 0 0 1 1.132-1.803l7.95-3.974a2 2 0 0 1 1.837 0l7.948 3.974A2 2 0 0 1 22 8z",key:"doq5xv"}],["path",{d:"M6 13h12",key:"yf64js"}],["path",{d:"M6 17h12",key:"1jwigz"}]],Cf=st("warehouse",Vce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qce=[["path",{d:"M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z",key:"cbrjhi"}]],cn=st("wrench",qce);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wce=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],at=st("x",Wce),na=X.memo(({icon:t,text:e,to:r,expanded:n})=>{const s=jt(),o=ta().pathname===r;return a.jsxs(C.button,{onClick:()=>s(r),whileHover:{backgroundColor:o?void 0:"rgba(239, 246, 255, 0.6)"},whileTap:{scale:.98},className:`relative w-full text-left flex items-center py-3 px-4 rounded-xl transition-all duration-200 ease-in-out group
        ${o?"bg-blue-600 text-white shadow-lg":"text-gray-700 hover:text-blue-700"}
      `,children:[a.jsx("span",{className:`text-xl transition-colors duration-200 ${o?"text-white":"text-blue-500 group-hover:text-blue-700"}`,children:t}),n&&a.jsx(C.span,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{duration:.15},className:"ml-4 text-base font-medium whitespace-nowrap",children:e})]})}),Uce=()=>{const[t,e]=x.useState(()=>{const c=localStorage.getItem("sidebarOpen");return c?JSON.parse(c):!1}),[r,n]=x.useState(window.innerWidth<768),{user:s,hasPermission:i}=Nt(),o=x.useRef(null);x.useEffect(()=>{const c=o.current;if(c){const d=sessionStorage.getItem("sidebarScrollPos");d&&(c.scrollTop=parseInt(d,10));const h=()=>{sessionStorage.setItem("sidebarScrollPos",c.scrollTop.toString())};return c.addEventListener("scroll",h),()=>{c.removeEventListener("scroll",h)}}},[]);const l=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(c=>!c)};return a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:a.jsx(_t,{children:(!r||t)&&a.jsxs(C.div,{initial:{width:r?0:t?280:80,opacity:0},animate:{width:t?280:80,opacity:1},exit:{width:0,opacity:0},transition:{duration:.25,ease:"easeInOut"},className:`bg-white border-r border-gray-100 flex flex-col shadow-xl overflow-hidden ${r?"fixed z-50 h-full":""}`,children:[a.jsxs("div",{className:"p-4 flex items-center justify-between border-b border-gray-100",children:[t?a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:If,alt:"Logo Wida",className:"h-9 w-auto"}),a.jsx("p",{className:"text-blue-600 font-bold text-xl tracking-wide",children:"CMMS"})]}):a.jsx("img",{src:If,alt:"Logo Wida",className:"h-8 w-auto mx-auto"}),a.jsx("button",{onClick:l,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":t?"Collapse sidebar":"Expand sidebar",children:t?a.jsx(Ml,{className:"text-xl"}):a.jsx(Zr,{className:"text-xl"})})]}),a.jsxs("nav",{ref:o,className:"flex-1 p-3 space-y-1.5 overflow-y-auto sidebar-nav",children:[i("1")&&a.jsx(na,{icon:a.jsx(ng,{}),text:"Dashboard",to:"/dashboard",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"System"}),i("23")&&a.jsx(na,{icon:a.jsx(Xp,{}),text:"Audit Trail",to:"/audittrail",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(Hf,{}),text:"Backup & Restore",to:"/backupandrestore",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(Hf,{}),text:"Workflow Approval",to:"/workflowapproval",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Master"}),i("23")&&a.jsx(na,{icon:a.jsx(vo,{}),text:"Work Location",to:"/worklocation",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(ca,{}),text:"Work Arrangement",to:"/workarrangement",expanded:t}),i("15")&&a.jsx(na,{icon:a.jsx(Bf,{}),text:"User Management",to:"/permissions",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(cn,{}),text:"Spare Part",to:"/sparepart",expanded:t}),i("3")&&a.jsx(na,{icon:a.jsx(jn,{}),text:"Assets",to:"/assets",expanded:t}),i("3")&&a.jsx(na,{icon:a.jsx(jn,{}),text:"Vendors",to:"/vendors",expanded:t}),i("3")&&a.jsx(na,{icon:a.jsx(zq,{}),text:"Services",to:"/services",expanded:t}),i("3")&&a.jsx(na,{icon:a.jsx(zi,{}),text:"Maintenance Activity",to:"/maintenanceactivity",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Maintenance"}),i("31")&&a.jsx(na,{icon:a.jsx(rg,{}),text:"Machine History",to:"/machinehistory",expanded:t}),i("31")&&a.jsx(na,{icon:a.jsx(Dh,{}),text:"Monitoring Maintenance",to:"/monitoringmaintenance",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Work Orders"}),i("7")&&a.jsx(na,{icon:a.jsx(or,{}),text:"Work Orders",to:"/workorders",expanded:t}),t&&a.jsx("h3",{className:"text-xs font-semibold uppercase text-gray-400 px-4 pt-4 pb-1 tracking-wider",children:"Spare Parts"}),i("23")&&a.jsx(na,{icon:a.jsx(Zoe,{}),text:"Sparepart Detail",to:"/sparepartdetail",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(Nce,{}),text:"Purchase Order Realization",to:"/purchaseorderrealization",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(dce,{}),text:"Transaction by Item",to:"/transactionbyitem",expanded:t}),i("23")&&a.jsx(na,{icon:a.jsx(woe,{}),text:"Spare Part Management",to:"/sparepartmanagement",expanded:t})]}),a.jsx("div",{className:"p-4 border-t border-gray-100",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(s==null?void 0:s.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-10 h-10 rounded-full border-2 border-blue-400 object-cover"}),t&&a.jsxs("div",{children:[a.jsx("p",{className:"font-semibold text-gray-800 text-sm",children:"Application Version"}),a.jsx("p",{className:"text-xs text-gray-500",children:"1.0.0"})," "]})]})})]})})})},vt=X.memo(Uce),TR=[{id:1,title:"Machine A Warning",description:"Machine A temperature exceeds normal limits.",date:"Today, 10:00 AM",icon:a.jsx(Xt,{className:"text-red-500"})},{id:2,title:"Upcoming Maintenance Schedule",description:"Routine maintenance for Machine B will be performed tomorrow.",date:"Yesterday, 03:00 PM",icon:a.jsx(Vn,{className:"text-blue-500"})}],_R={"/dashboard":"Dashboard","/assets":"Assets","/assets/assetsdata":"Assets Data","/assets/assetsdata/addasset":"Add Asset","/assets/assetsdata/editasset":"Edit Asset","/machinehistory":"Machine History","/machinehistory/reports":"Machine History Reports","/machinehistory/addmachinehistory":"Add Machine History","/machinehistory/edit":"Edit Machine History","/workorders":"Work Orders","/workorders/it":"IT Work Orders","/workorders/it/addworkorder":"Add Work Order","/workorders/it/editworkorder":"Edit Work Order","/workorders/it/receiver":"Receiver","/workorders/it/assignment":"Assignment","/workorders/it/reports":"Reports","/workorders/it/knowledgebase":"Knowledge Base","/inventory":"Inventory","/reports":"Reports","/team":"Team","/settings":"Settings","/settings/change-password":"Change Password","/permissions":"Permissions","/permissions/adduser":"Add User","/audittrail":"Audit Trail","/workflowapproval":"Workflow Approval","/workflowapproval/monitoringapproval":"Approval Monitoring","/vendors":"Vendors","/vendors/addvendor":"Add Vendor","/vendors/editvendor":"Edit Vendor","/services":"Services","/services/servicegroups":"Service Groups","/services/servicegroups/addservicegroup":"Add Service Group","/services/servicegroups/editservicegroup":"Edit Service Group","/services/servicecatalogues":"Service Catalogues","/services/servicecatalogues/addservicecatalogue":"Add Service Catalogue","/services/servicecatalogues/editservicecatalogue":"Edit Service Catalogue","/maintenanceactivity":"Maintenance Activity","/maintenanceactivity/stoptimes":"Stop Times","/maintenanceactivity/stoptimes/addstoptime":"Add Stop Time","/maintenanceactivity/stoptimes/editstoptime":"Edit Stop Time","/maintenanceactivity/activitytypes":"Activity Types","/maintenanceactivity/activitytypes/addactivitytype":"Add Activity Type","/maintenanceactivity/activitytypes/editactivitytype":"Edit Activity Type","/maintenanceactivity/activity":"Activity","/maintenanceactivity/activity/addactivity":"Add Activity","/maintenanceactivity/activity/editactivity":"Edit Activity","/maintenanceactivity/troubleitem":"Trouble Item","/maintenanceactivity/troubleitem/addtroubleitem":"Add Trouble Item","/maintenanceactivity/troubleitem/edittroubleitem":"Edit Trouble Item","/worklocation":"Work Location","/worklocation/department":"Department","/worklocation/department/adddepartment":"Add Department","/worklocation/department/editdepartment":"Edit Department","/worklocation/workunit":"Work Unit","/worklocation/workunit/addworkunit":"Add Work Unit","/worklocation/workunit/editworkunit":"Edit Work Unit","/workarrangement":"Work Arrangement","/workarrangement/workshift":"Work Shift","/workarrangement/workshift/addworkshift":"Add Work Shift","/workarrangement/workshift/editworkshift":"Edit Work Shift","/workarrangement/workgroup":"Work Group","/workarrangement/workgroup/addworkgroup":"Add Work Group","/workarrangement/workgroup/editworkgroup":"Edit Work Group","/sparepart":"Spare Part","/monitoringmaintenance":"Maintenance Monitoring","/monitoringmaintenance/detailmonitoringmaintenance":"Monitoring Details","/monitoringmaintenance/formmonitoringmaintenance":"Monitoring Form"},At=({mainTitle:t,mainTitleHighlight:e,description:r,icon:n,isMobile:s,toggleSidebar:i})=>{const{user:o,logout:l}=Nt(),c=jt(),d=ta(),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),v=x.useRef(null),N=x.useRef(null);x.useEffect(()=>{const _=A=>{v.current&&!v.current.contains(A.target)&&m(!1),N.current&&!N.current.contains(A.target)&&y(!1)};return document.addEventListener("mousedown",_),()=>{document.removeEventListener("mousedown",_)}},[]);const S=(()=>{const _=d.pathname.split("/").filter(P=>P!==""),A=[];A.push({label:"Dashboard",path:"/dashboard",isClickable:!0});let E="";for(let P=0;P<_.length;P++){const $=_[P];if(E+=`/${$}`,/^\d+$/.test($)||/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test($))continue;const I=_R[E]||$.charAt(0).toUpperCase()+$.slice(1).replace(/([A-Z])/g," $1");A.push({label:I,path:E,isClickable:P<_.length-1&&_R[E]!==void 0})}return A})(),O=n.props.className||"";return a.jsxs(a.Fragment,{children:[a.jsxs("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[s&&a.jsx(C.button,{onClick:i,whileHover:{scale:1.05},whileTap:{scale:.95},className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Zr,{className:"text-xl"})}),X.cloneElement(n,{className:`text-xl text-blue-600 ${O}`}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900",children:t})]}),a.jsxs("div",{className:"flex items-center space-x-3 relative",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>j(!w),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200","aria-label":w?"Switch to light mode":"Switch to dark mode",children:w?a.jsx(X5,{className:"text-yellow-400 text-xl"}):a.jsx(qq,{className:"text-xl"})}),a.jsxs("div",{className:"relative",ref:v,children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>m(!h),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200 relative","aria-label":"Notifications",children:[a.jsx(rO,{className:"text-xl"}),a.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-orange-500 rounded-full animate-pulse border border-white"})]}),a.jsx(_t,{children:h&&a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:20},transition:{duration:.2},className:"absolute right-0 mt-2 w-80 bg-white rounded-lg shadow-xl overflow-hidden z-50 border border-gray-100",children:[a.jsx("div",{className:"p-4 border-b border-gray-100",children:a.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:"Notifications"})}),a.jsx("div",{className:"max-h-80 overflow-y-auto custom-scrollbar",children:TR.length>0?TR.map(_=>a.jsxs("div",{className:"flex items-start p-4 border-b border-gray-50 last:border-b-0 hover:bg-blue-50 transition-colors cursor-pointer",children:[_.icon&&a.jsx("div",{className:"flex-shrink-0 mr-3",children:_.icon}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:_.title}),a.jsx("p",{className:"text-xs text-gray-600 mt-1",children:_.description}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:_.date})]})]},_.id)):a.jsx("p",{className:"p-4 text-center text-gray-500 text-sm",children:"No new notifications."})}),a.jsx("div",{className:"p-4 border-t border-gray-100 text-center",children:a.jsx("button",{onClick:()=>{m(!1)},className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Mark all as read"})})]})})]}),a.jsxs("div",{className:"relative",ref:N,children:[a.jsxs(C.button,{whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>y(!g),className:"flex items-center space-x-2 cursor-pointer p-2 rounded-lg transition-colors duration-200",children:[a.jsx("img",{src:`https://api.dicebear.com/7.x/initials/svg?seed=${(o==null?void 0:o.name)||"User"}&backgroundColor=0081ff,3d5a80,ffc300,e0b589&backgroundType=gradientLinear&radius=50`,alt:"User Avatar",className:"w-8 h-8 rounded-full border border-blue-200 object-cover"}),a.jsx("span",{className:"font-medium text-gray-900 text-sm hidden sm:inline",children:o==null?void 0:o.name}),a.jsx(yn,{className:"text-gray-500 text-base"})]}),a.jsx(_t,{children:g&&a.jsxs(C.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},transition:{duration:.2},className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg py-2 z-40 border border-gray-100",children:[a.jsx("div",{className:"px-4 py-2 text-xs text-gray-500 border-b border-gray-100",children:"Signed in as"}),a.jsx("div",{className:"px-4 py-2 font-semibold text-gray-800 border-b border-gray-100",children:(o==null?void 0:o.name)||"Guest User"}),a.jsxs("button",{onClick:()=>{c("/settings"),y(!1)},className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-blue-50 w-full text-left",children:[a.jsx(Nn,{size:16,className:"mr-2"})," Settings"]}),a.jsx("hr",{className:"my-1 border-gray-100"}),a.jsxs("button",{onClick:()=>{c("/logout")},className:"flex items-center px-4 py-2 text-sm text-red-600 hover:bg-red-50 w-full text-left",children:[a.jsx(Ule,{size:16,className:"mr-2"})," Logout"]})]})})]})]})]}),a.jsx("div",{className:"bg-gray-50 border-b border-gray-100 px-4 py-3",children:a.jsx("div",{className:"flex items-center space-x-2 text-sm",children:S.map((_,A)=>a.jsxs("div",{className:"flex items-center space-x-2",children:[A===0?a.jsx(ng,{size:16,className:"text-gray-400"}):a.jsx(Zr,{size:16,className:"text-gray-400"}),_.isClickable?a.jsx("button",{onClick:()=>c(_.path),className:"text-blue-600 hover:text-blue-800 font-medium transition-colors duration-200",children:_.label}):a.jsx("span",{className:"text-gray-600 font-medium",children:_.label})]},_.path))})})]})},Wx=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},MR=()=>{var L;const[t,e]=x.useState(!1),[r,n]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[s,i]=x.useState(1),{user:o,fetchWithAuth:l,hasPermission:c}=Nt(),[d,h]=x.useState(null),m=jt(),[g,y]=x.useState(!1),[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=x.useRef(null),_=x.useRef(null);x.useEffect(()=>{const R=()=>{j(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),x.useEffect(()=>{const R=z=>{O.current&&!O.current.contains(z.target)&&N(!1),_.current&&!_.current.contains(z.target)&&S(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const A=[{id:1,title:"Maintenance Efficiency Improved",description:"Preventive maintenance completion rate increased by 15% this month",icon:a.jsx(Nu,{className:"text-green-500"}),date:"Today, 09:30 AM"},{id:2,title:"3 Assets Requiring Attention",description:"Critical assets showing signs of wear need inspection",icon:a.jsx(Xt,{className:"text-yellow-500"}),date:"Yesterday, 02:15 PM"},{id:3,title:"Monthly Maintenance Completed",description:"All scheduled maintenance tasks completed on time",icon:a.jsx(Lt,{className:"text-blue-500"}),date:"Jul 28, 2023"}],E=[{id:1,name:"Budi Santoso",role:"Maintenance Technician",avatar:"https://randomuser.me/api/portraits/men/32.jpg",comment:"The HVAC system in Building A needs calibration. Temperature fluctuations observed.",time:"2 hours ago"},{id:2,name:"Ani Wijaya",role:"Facility Manager",avatar:"https://randomuser.me/api/portraits/women/44.jpg",comment:"Completed generator maintenance ahead of schedule. All parameters normal.",time:"5 hours ago"},{id:3,name:"Rudi Hermawan",role:"Operations Supervisor",avatar:"https://randomuser.me/api/portraits/men/67.jpg",comment:"Requesting additional spare parts for conveyor system maintenance next week.",time:"1 day ago"}],P={total:142,running:118,maintenance:15,breakdown:5,idle:4},$={total:86,overdue:5},I=()=>{y(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(R=>!R)};return x.useEffect(()=>{i(1),(async()=>{try{const z=await l("/protected-data");h(z)}catch(z){console.error("Failed to fetch data:",z)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[r,t,l]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Dashboard",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(ng,{}),isMobile:w,toggleSidebar:I}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:["Welcome back, ",(o==null?void 0:o.name)||((L=o==null?void 0:o.roles)==null?void 0:L[0]),"!"]}),a.jsx("p",{className:"opacity-90 text-sm",children:"Here's what's happening with your assets today"})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Wx,{title:"Total Assets",value:P.total.toString(),change:"+8%",icon:a.jsx(jn,{})}),a.jsx(Wx,{title:"Assets Running",value:P.running.toString(),change:"+5%",icon:a.jsx(Lt,{})}),a.jsx(Wx,{title:"Work Orders",value:$.total.toString(),change:"-3%",icon:a.jsx(or,{})}),a.jsx(Wx,{title:"Overdue Tasks",value:$.overdue.toString(),change:"+2%",icon:a.jsx(It,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 md:gap-6",children:[a.jsxs("div",{className:"lg:col-span-2",children:[a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Recent Insights"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:A.map(R=>a.jsxs(C.div,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"flex items-start p-3 hover:bg-blue-50 rounded-xl transition-colors cursor-pointer",children:[a.jsx("div",{className:"p-2 mr-3 mt-0.5 rounded-full bg-blue-50 text-blue-600",children:R.icon}),a.jsxs("div",{className:"flex-1",children:[a.jsx("h4",{className:"font-medium text-gray-800",children:R.title}),a.jsx("p",{className:"text-sm text-gray-600",children:R.description}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.date})]})]},R.id))})]}),a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Asset Status Distribution"}),a.jsx("div",{className:"h-64 bg-gray-50 rounded-lg flex items-center justify-center",children:a.jsxs("div",{className:"text-center text-gray-500",children:[a.jsx(Bi,{className:"mx-auto text-4xl mb-2"}),a.jsx("p",{children:"Asset Status Chart"})]})}),a.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-4 mt-4 text-center",children:[a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-green-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Running (",Math.round(P.running/P.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-yellow-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Maintenance (",Math.round(P.maintenance/P.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-red-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Breakdown (",Math.round(P.breakdown/P.total*100),"%)"]})]}),a.jsxs("div",{children:[a.jsx("div",{className:"h-2 w-full bg-blue-500 rounded-full"}),a.jsxs("p",{className:"text-sm mt-1 text-gray-700",children:["Idle (",Math.round(P.idle/P.total*100),"%)"]})]})]})]})]}),a.jsxs("div",{children:[a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md mb-6",children:[a.jsxs("div",{className:"flex items-center justify-between mb-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Team Updates"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 text-sm font-medium",children:"View All"})]}),a.jsx("div",{className:"space-y-4",children:E.map(R=>a.jsx(C.div,{whileHover:{y:-3,boxShadow:"0 2px 10px rgba(0,0,0,0.05)"},className:"p-3 border border-blue-100 rounded-xl cursor-pointer bg-white",children:a.jsxs("div",{className:"flex items-start",children:[a.jsx(C.img,{whileHover:{rotate:5},src:R.avatar,alt:R.name,className:"w-10 h-10 rounded-full mr-3 object-cover"}),a.jsxs("div",{children:[a.jsxs("div",{className:"flex items-center flex-wrap",children:[a.jsx("h4",{className:"font-medium text-gray-900",children:R.name}),a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded-full ml-2",children:R.role})]}),a.jsx("p",{className:"text-sm mt-1 text-gray-700",children:R.comment}),a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:R.time})]})]})},R.id))})]}),a.jsxs(C.div,{whileHover:{boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"},className:"bg-white rounded-2xl p-4 md:p-6 border border-blue-50 shadow-md",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Quick Actions"}),a.jsx("div",{className:"space-y-3",children:[{text:"Create Work Order",icon:a.jsx(or,{className:"text-blue-600 text-lg"}),onClick:()=>m("/workorders")},{text:"Add New Asset",icon:a.jsx(jn,{className:"text-blue-600 text-lg"}),onClick:()=>m("/assets")},{text:"Send Announcement",icon:a.jsx(kf,{className:"text-blue-600 text-lg"}),onClick:()=>m("/dashboard")},{text:"Generate Report",icon:a.jsx(Bi,{className:"text-blue-600 text-lg"}),onClick:()=>m("/reports")}].map((R,z)=>a.jsxs(C.button,{whileHover:{x:5,backgroundColor:"rgba(239, 246, 255, 1)"},whileTap:{scale:.98},className:"w-full flex items-center justify-between p-3 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors text-gray-800 font-semibold text-sm",onClick:R.onClick,children:[a.jsx("span",{children:R.text}),R.icon]},z))})]})]})]})]})]})]})},Gce=()=>a.jsx("div",{className:"flex justify-center items-center fixed inset-0 w-full h-full bg-white/70 backdrop-blur-sm z-50",children:a.jsx("div",{className:"w-16 h-16 border-4 border-solid border-blue-500 border-t-transparent rounded-full animate-spin"})}),Ga=({requiredPermissions:t=[]})=>{const{token:e,user:r,hasPermission:n,isAuthLoading:s}=Nt(),i=jt(),o=ta();return x.useEffect(()=>{if(!s){if(!e){i("/login",{state:{from:o},replace:!0});return}r&&t.length>0&&!t.some(c=>n(c))&&i("/unauthorized",{state:{from:o},replace:!0})}},[e,r,t,n,i,o,s]),s?a.jsx(Gce,{}):e&&(t.length===0||r&&t.some(c=>n(c)))?a.jsx(Mte,{}):null},Yce=()=>{const[t,e]=x.useState(""),[r,n]=x.useState(""),[s,i]=x.useState(""),[o,l]=x.useState(!1),c=async d=>{d.preventDefault(),n(""),i(""),l(!0);try{await new Promise(h=>setTimeout(h,1e3)),i(`Password reset link sent to ${t}`),e("")}catch(h){n(h instanceof Error?h.message:"Failed to send reset link")}finally{l(!1)}};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-md",children:a.jsxs("form",{onSubmit:c,className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12","aria-label":"Forgot Password Form",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:If,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-2 text-center",children:"Reset Password"}),a.jsx("p",{className:"text-sm text-gray-500 text-center mb-8",children:"Enter your NIK to receive a reset link"}),r&&a.jsxs("div",{className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),s&&a.jsxs("div",{className:"mb-6 text-sm text-green-700 bg-green-50 border border-green-100 px-4 py-3 rounded-md flex items-start",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),a.jsx("span",{children:s})]}),a.jsxs("div",{className:"space-y-5",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"nik",className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{id:"nik",type:"nik",placeholder:"12345678910111213141516",value:t,onChange:d=>e(d.target.value),required:!0,className:"w-full px-4 py-2.5 text-sm rounded-md border border-gray-300 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 transition-colors"})]}),a.jsx("button",{type:"submit",disabled:o,className:`w-full py-2.5 px-4 rounded-md text-sm font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 ${o?"bg-blue-400 text-white cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"} flex items-center justify-center`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Sending..."]}):"Send Reset Link"})]}),a.jsxs("div",{className:"mt-8 pt-5 border-t border-gray-100",children:[a.jsxs("p",{className:"text-xs text-gray-500 text-center",children:["Remember your password?"," ",a.jsx(Oc,{to:"/login",className:"text-blue-600 hover:underline font-medium",children:"Sign in"})]}),a.jsxs("p",{className:"text-xs text-gray-500 text-center mt-2",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})]})})})},Kce=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4",children:a.jsx("div",{className:"w-full max-w-4xl",children:a.jsxs("div",{className:"relative w-full bg-white rounded-lg shadow-sm border border-gray-100 p-8 sm:p-10 md:p-12",children:[a.jsx("div",{className:"flex justify-center mb-8",children:a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("div",{className:"rounded-lg flex items-center justify-center",children:a.jsx("img",{src:If,alt:"Logo Wida",className:"h-20 w-auto"})}),a.jsx("span",{className:"text-2xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]})}),a.jsx("h2",{className:"text-2xl font-semibold text-gray-800 mb-6 text-center",children:"Privacy Policy"}),a.jsxs("p",{className:"text-sm text-gray-500 text-center mb-8",children:["Effective: ",new Date().toLocaleDateString()]}),a.jsxs("div",{className:"prose prose-sm max-w-none text-gray-700 space-y-6",children:[a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"1. Information We Collect"}),a.jsx("p",{children:"We collect personal information when you register, including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Full name and contact details"}),a.jsx("li",{children:"Professional credentials (for healthcare providers)"}),a.jsx("li",{children:"Usage data and cookies"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"2. How We Use Information"}),a.jsx("p",{children:"Your data helps us:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Provide pharmaceutical services"}),a.jsx("li",{children:"Secure your account with authentication"}),a.jsx("li",{children:"Improve our platform"}),a.jsx("li",{children:"Comply with legal requirements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"3. Data Protection"}),a.jsx("p",{children:"We implement security measures including:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Encryption of sensitive data"}),a.jsx("li",{children:"Regular security audits"}),a.jsx("li",{children:"Access controls to personal information"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"4. Third-Party Sharing"}),a.jsx("p",{children:"We only share data with:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Verified healthcare partners (with consent)"}),a.jsx("li",{children:"Legal authorities when required"}),a.jsx("li",{children:"Service providers under confidentiality agreements"})]})]}),a.jsxs("section",{children:[a.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-3",children:"5. Your Rights"}),a.jsx("p",{children:"You may request to:"}),a.jsxs("ul",{className:"list-disc pl-5 mt-2 space-y-1",children:[a.jsx("li",{children:"Access your personal data"}),a.jsx("li",{children:"Correct inaccurate information"}),a.jsx("li",{children:"Delete your account data"}),a.jsx("li",{children:"Opt-out of marketing communications"})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100",children:a.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center",children:[a.jsx(Oc,{to:"/register",className:"text-blue-600 hover:underline font-medium mb-3 sm:mb-0",children:"Back to Registration"}),a.jsxs("p",{className:"text-xs text-gray-500",children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})]})})]})]})})}),Xce=["Logout","Sign Out","Sampai Jumpa","Au Revoir","Sayonara"],Jce=()=>{const{logout:t,isLoggingOut:e}=Nt(),[r,n]=x.useState(null),[s,i]=x.useState(!1),[o]=x.useState(Xce[0]),[l,c]=x.useState(!1);x.useEffect(()=>{i(!0);let y;return c(!0),y=setTimeout(()=>{c(!1)},500),()=>{clearTimeout(y)}},[]);const d={fontSize:"3rem",fontFamily:"sans-serif",transition:"opacity 0.5s ease-in-out, transform 0.5s ease-in-out"},h=l?{opacity:0,transform:"translateY(-20px)"}:{opacity:1,transform:"translateY(0)"},m=async()=>{try{await t()}catch(y){n("Failed to logout. Please try again."),console.error("Logout error:",y)}},g=()=>{window.history.back()};return a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-white to-blue-50 p-4 font-sans",children:a.jsxs("div",{className:`flex flex-col lg:flex-row w-full max-w-6xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden
                    transform transition-all duration-700 ease-out ${s?"translate-y-0 opacity-100":"translate-y-10 opacity-0"}`,children:[a.jsxs("div",{className:"w-full lg:w-1/2 p-6 sm:p-10 md:p-12 flex flex-col justify-center",children:[a.jsxs("div",{className:`flex items-center space-x-2 mb-8 transition-opacity duration-700 ease-out delay-200 ${s?"opacity-100":"opacity-0"}`,children:[a.jsx("img",{src:If,alt:"Logo Wida",className:"h-10 w-auto"}),a.jsx("span",{className:"text-xl font-bold text-blue-800 italic",children:"PT WIDATRA BHAKTI"})]}),a.jsx("h1",{style:{...d,...h},className:`text-3xl font-bold transition-opacity duration-700 ease-out delay-300 ${s?"opacity-100":"opacity-0"}`,children:o}),a.jsx("h1",{className:"text-5xl font-bold mb-2 transition-opacity duration-700 ease-out delay-300 font-sans",children:"See You Soon!"}),a.jsx("p",{className:`text-gray-600 mb-8 transition-opacity duration-700 ease-out delay-400 ${s?"opacity-100":"opacity-0"}`,children:"Thank you for your hard work today. We hope to see you back soon."}),e?a.jsx(a.Fragment,{children:a.jsx("div",{className:`text-center transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:a.jsxs("button",{type:"button",disabled:!0,className:`w-full py-3 px-4 rounded-md text-base font-medium bg-blue-400 text-white cursor-not-allowed
                              transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500
                              flex items-center justify-center`,children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Securing Session & Logging Out..."]})})}):a.jsxs(a.Fragment,{children:[r&&a.jsxs("div",{role:"alert",className:"mb-6 text-sm text-red-700 bg-red-50 border border-red-100 px-4 py-3 rounded-md flex items-start animate-fade-in",children:[a.jsx("svg",{className:"w-4 h-4 mt-0.5 mr-2 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:a.jsx("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),a.jsx("span",{children:r})]}),a.jsxs("div",{className:`space-y-4 transition-all duration-500 ease-out delay-500 ${s?"translate-x-0 opacity-100":"-translate-x-5 opacity-0"}`,children:[a.jsxs("button",{onClick:m,className:`w-full py-3 px-4 rounded-md text-base font-medium
                            transition-all duration-300 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500
                            bg-red-600 text-white hover:bg-red-700 active:bg-red-800 transform hover:-translate-y-0.5
                            flex items-center justify-center`,children:[a.jsx(Sre,{className:"mr-2"}),"Yes, Sign Out Now"]}),a.jsx("div",{className:"flex justify-center transition-all duration-500 ease-out delay-600",children:a.jsxs("button",{onClick:g,className:`inline-flex items-center justify-center px-6 py-3 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 \r
                              transition-all duration-300 ease-in-out font-medium hover:text-gray-800`,children:[a.jsx(wA,{className:"mr-2"}),"No, Stay Logged In"]})})]}),a.jsxs("p",{className:`text-sm text-center mt-6 transition-opacity duration-700 ease-out delay-700 ${s?"opacity-100":"opacity-0"}`,children:["Not finished yet?"," ",a.jsx(Oc,{to:"/dashboard",className:"text-blue-500 hover:text-blue-700 hover:underline transition-all duration-200",children:a.jsxs("span",{className:"inline-flex items-center",children:[a.jsx(jre,{className:"mr-1 h-4 w-4"})," Back to Dashboard"]})})]})]}),a.jsx("div",{className:"mt-8 pt-5 border-t border-gray-100 text-center",children:a.jsxs("p",{className:`text-xs text-gray-500 transition-opacity duration-700 ease-out delay-800 ${s?"opacity-100":"opacity-0"}`,children:["© ",new Date().getFullYear()," PT Widatra Bhakti. All rights reserved."]})})]}),a.jsxs("div",{className:`hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-500 to-aqua-800 items-center justify-center relative p-8
                      transform transition-all duration-700 ease-out delay-300 ${s?"translate-x-0 opacity-100":"translate-x-10 opacity-0"}`,children:[a.jsx("div",{className:"absolute top-1/4 left-1/4 bg-white opacity-20 w-32 h-16 rounded-full blur-md animate-float"}),a.jsx("div",{className:"absolute bottom-1/3 right-1/4 bg-white opacity-20 w-48 h-24 rounded-full blur-md animate-float-delay"}),a.jsx("div",{className:"absolute top-8 right-8 bg-white opacity-20 w-24 h-12 rounded-full blur-md animate-float-fast"}),a.jsxs("div",{className:"relative w-64 h-96 bg-gray-800 rounded-3xl shadow-xl flex items-center justify-center p-4 transform scale-100 hover:scale-105 transition-transform duration-300 ease-in-out",children:[a.jsx("div",{className:"absolute top-0 w-16 h-2 bg-gray-700 rounded-b-lg"}),a.jsx("div",{className:"text-purple-300 animate-pulse-light",children:a.jsx("svg",{className:"w-24 h-24",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M13 12c0-1.104-.896-2-2-2h-1V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3c0 1.104-.896 2-2 2h-1v2h2c1.104 0 2 .896 2 2v7c0 1.104-.896 2-2 2H6c-1.104 0-2-.896-2-2v-7c0-1.104.896-2 2-2h2v-2h-1c-1.104 0-2-.896-2-2V7c0-2.757 2.243-5 5-5s5 2.243 5 5v3h-1c-1.104 0-2 .896-2 2zM6 14v7h12v-7H6z"})})}),a.jsxs("div",{className:"absolute bottom-10 left-0 right-0 text-center text-white text-sm",children:[a.jsx("div",{className:"w-3/4 mx-auto bg-gray-700 rounded-full h-1 mb-2",children:a.jsx("div",{className:"bg-purple-300 h-1 rounded-full w-2/3 animate-progress-fill"})}),a.jsx("p",{children:"Security check on exit completed"})]})]}),a.jsx("div",{className:"absolute bottom-1/4 right-1/4 bg-white opacity-80 rounded-2xl p-6 shadow-xl transform scale-95 hover:scale-100 transition-transform duration-300 ease-in-out",children:a.jsx("svg",{className:"w-16 h-16 text-gray-800",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:a.jsx("path",{d:"M12 2C9.243 2 7 4.243 7 7v4H6c-1.103 0-2 .897-2 2v7c0 1.103.897 2 2 2h12c1.103 0 2-.897 2-2v-7c0-1.103-.897-2-2-2h-1V7c0-2.757-2.243-5-5-5zm0 2c1.654 0 3 1.346 3 3v4h-6V7c0-1.654 1.346-3 3-3zM6 13h12v7H6v-7z"})})})]})]})})},Ux=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Qce=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Zce=({asset:t,isEditing:e,onSave:r,onCancel:n})=>{const[s,i]=x.useState(t);x.useEffect(()=>{i(t)},[t]);const o=d=>{d.preventDefault(),r(s)},l=({title:d,children:h,icon:m})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[m&&a.jsx("div",{className:"mr-3 text-blue-600",children:m}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:d})]})}),a.jsx("div",{className:"p-6",children:h})]}),c=({label:d,value:h,icon:m,fullWidth:g=!1,priority:y="medium"})=>{const w={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${g?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${w[y]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[m&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:m}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:d}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:h})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:s.name}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${s.status==="running"?"bg-green-100 text-green-800 border border-green-300":s.status==="maintenance"?"bg-yellow-100 text-yellow-800 border border-yellow-300":s.status==="breakdown"?"bg-red-100 text-red-800 border border-red-300":"bg-blue-100 text-blue-800 border border-blue-300"}`,children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(jn,{className:"w-4 h-4"}),"Asset ID: ",s.id]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Nn,{className:"w-4 h-4"}),"Type: ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]})})}),a.jsx(l,{title:"Basic Information",icon:a.jsx(jn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Asset ID",value:s.id,icon:a.jsx(Bf,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Name",value:s.name,icon:a.jsx(jn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Asset Type",value:s.type.charAt(0).toUpperCase()+s.type.slice(1),icon:a.jsx(Nn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Make",value:s.make,icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Model",value:s.model,icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Location",value:s.location,icon:a.jsx(ng,{className:"w-4 h-4"})})]})}),a.jsx(l,{title:"Status & Maintenance",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(c,{label:"Current Status",value:s.status.charAt(0).toUpperCase()+s.status.slice(1),icon:a.jsx(Lt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Last Maintenance",value:s.lastMaintenance,icon:a.jsx(Vn,{className:"w-4 h-4"})}),a.jsx(c,{label:"Next Maintenance",value:s.nextMaintenance,icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(c,{label:"Work Orders",value:s.workOrders.toString(),icon:a.jsx(or,{className:"w-4 h-4"})}),a.jsx(c,{label:"Health Status",value:`${s.health}%`,icon:a.jsx(Bi,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(l,{title:"Technical Details",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Asset Specifications"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Make:"})," ",s.make]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Model:"})," ",s.model]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Type:"})," ",s.type.charAt(0).toUpperCase()+s.type.slice(1)]})]})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Performance Metrics"}),a.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Health Score:"})," ",s.health,"%"]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Work Orders:"})," ",s.workOrders]}),a.jsxs("p",{children:[a.jsx("span",{className:"font-medium",children:"Status:"})," ",s.status.charAt(0).toUpperCase()+s.status.slice(1)]})]})]})]})}),a.jsx(l,{title:"Maintenance Timeline",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Last Maintenance"}),a.jsx("span",{className:"text-sm text-green-600",children:s.lastMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Next Scheduled Maintenance"}),a.jsx("span",{className:"text-sm text-blue-600",children:s.nextMaintenance})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[a.jsx("span",{className:"text-sm font-medium text-yellow-800",children:"Current Status"}),a.jsx("span",{className:"text-sm text-yellow-600",children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})]})]})}),a.jsxs("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:n,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:e?"Cancel":"Close Details"}),e&&a.jsx(C.button,{type:"submit",onClick:o,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"ml-4 inline-flex items-center px-6 py-3 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold",children:"Save Changes"})]})]})},eue=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(()=>{const he=localStorage.getItem("sidebarOpen");return he?JSON.parse(he):!1}),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(null),[T,S]=x.useState(!1),[O,_]=x.useState(1),[A]=x.useState(5),{user:E,fetchWithAuth:P,hasPermission:$,getAssetsData:I,deleteAsset:L}=Nt(),[R,z]=x.useState(null),Y=jt(),[q,H]=x.useState(!1),[D,F]=x.useState(window.innerWidth<768),[K,te]=x.useState(!1),[W,Z]=x.useState(!1),oe=x.useRef(null),le=x.useRef(null),[ce,pe]=x.useState([]),[Ie,Ee]=x.useState(!1),[ge,Oe]=x.useState(null),[ze,re]=x.useState(!1),[se,ee]=x.useState(null),we=(he,We)=>{ee({id:he,name:We}),re(!0)},Ge=async()=>{if(se){if(console.log("Attempting to delete asset with ID:",se.id),!se.id){console.error("Asset ID is empty or invalid."),alert("Cannot delete: Asset ID is missing.");return}try{await L(se.id),pe(ce.filter(he=>String(he.id)!==se.id)),console.log(`Asset with ID: ${se.id} deleted successfully.`),re(!1),ee(null)}catch(he){console.error("Failed to delete asset:",he),alert("Failed to delete asset.")}}},Ye=()=>{re(!1),ee(null)};x.useEffect(()=>{const he=()=>{F(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),x.useEffect(()=>{const he=We=>{oe.current&&!oe.current.contains(We.target)&&te(!1),le.current&&!le.current.contains(We.target)&&Z(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[]);const xe=async()=>{Ee(!0),Oe(null);try{const he=await I();pe(he)}catch(he){Oe("Failed to load data from ERP."),console.error("Error fetching ERP data:",he)}finally{Ee(!1)}},ct=()=>{H(!0),localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(he=>!he)},mt=ce.filter(he=>{const We=String(he.id),je=s.toLowerCase();return he.name.toLowerCase().includes(je)||We.toLowerCase().includes(je)||he.category.toLowerCase().includes(je)||he.location.toLowerCase().includes(je)}),tt=O*A,wt=tt-A,Ct=mt.slice(wt,tt),ft=Math.ceil(mt.length/A),Rt=he=>_(he);x.useEffect(()=>{_(1),(async()=>{try{const We=await P("/protected-data");z(We)}catch(We){console.error("Failed to fetch data:",We)}})(),document.documentElement.classList.toggle("dark",t),localStorage.setItem("sidebarOpen",JSON.stringify(r))},[s,o,c,r,t,P]);const Ze=he=>{N(he),j(!0),S(!1)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Assets Data",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(jn,{}),isMobile:D,toggleSidebar:ct}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Assets Data Overview"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage and monitor your physical assets efficiently"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(C.button,{onClick:xe,disabled:Ie,whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:`flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md ${Ie?"bg-gray-400 text-gray-700 cursor-not-allowed":"bg-blue-600 text-white hover:bg-blue-700"}`,children:[a.jsx(Ew,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:Ie?"Loading...":"Load Data from ERP"})]}),a.jsxs(C.button,{onClick:()=>Y("/assets/assetsdata/addasset"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Asset"})]}),a.jsxs(C.button,{onClick:()=>{},whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Import"})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Va,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),h?a.jsx(yb,{}):a.jsx(yn,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ux,{title:"Total Assets",value:ce.length.toString(),change:"+12%",icon:a.jsx(jn,{})}),a.jsx(Ux,{title:"Active Assets",value:"N/A",change:"+5%",icon:a.jsx(Lt,{})}),a.jsx(Ux,{title:"In Maintenance",value:"N/A",change:"-2%",icon:a.jsx(cn,{})}),a.jsx(Ux,{title:"Critical Issues",value:"N/A",change:"+1",icon:a.jsx(Xt,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assets by name or ID...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:he=>i(he.target.value)})]}),a.jsx(_t,{children:h&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:he=>l(he.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"})]}),a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/path%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:c,onChange:he=>d(he.target.value),children:[a.jsx("option",{value:"all",children:"All Types"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"})]})]})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Location"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Purchase Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsxs("tbody",{className:"bg-white divide-y divide-gray-100",children:[Ie&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-gray-600 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsxs("svg",{className:"animate-spin h-5 w-5 mr-3 text-blue-600",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Loading data..."]})})}),ge&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"text-center py-10 text-red-500 text-lg",children:a.jsxs("div",{className:"flex items-center justify-center",children:[a.jsx(Xt,{className:"text-red-500 mr-2"}),ge]})})}),!Ie&&ce.length===0&&!ge&&a.jsx("tr",{children:a.jsx("td",{colSpan:5,className:"px-6 py-10 text-center text-gray-600 text-lg",children:a.jsxs("div",{className:"flex flex-col items-center justify-center",children:[a.jsx(jn,{className:"text-gray-400 mb-3",size:48}),'No assets found. Please click "Load Data from ERP".']})})}),Ct.length>0&&Ct.map(he=>a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"flex items-center",children:a.jsxs("div",{className:"ml-0",children:[" ",a.jsx("div",{className:"text-base font-medium text-gray-900",children:he.name}),a.jsx("div",{className:"text-sm text-gray-600",children:he.category})]})})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm text-gray-900",children:he.location})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm text-gray-900",children:he.purchaseDate})," "]}),a.jsxs("td",{className:"px-6 py-4",children:[" ",a.jsx("div",{className:"text-sm text-gray-900 max-w-xs truncate",children:he.description})," "]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs("div",{className:"flex items-center space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>Y(`/assets/assetsdata/editasset/${he.id}`),className:"text-yellow-600 hover:text-blue-600 transition-colors duration-200",title:"Edit Asset",children:a.jsx(Dn,{className:"w-5 h-5"})}),a.jsx(C.button,{whileHover:{scale:1.1,color:"#dc2626"},whileTap:{scale:.9},onClick:()=>we(String(he.id),he.name),className:"text-red-600 hover:text-red-600 transition-colors duration-200",title:"Delete Asset",children:a.jsx(an,{className:"w-5 h-5"})}),a.jsx(C.button,{whileHover:{scale:1.1,color:"#2563eb"},whileTap:{scale:.9},onClick:()=>Ze(he),className:"text-blue-600 hover:text-blue-600 transition-colors duration-200",title:"View Details",children:a.jsx(rs,{className:"w-5 h-5"})})]})})]},he.id))]})]})})}),mt.length>A&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:wt+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(tt,mt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:mt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Rt(O-1),disabled:O===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ft},(he,We)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Rt(We+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${O===We+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:We+1},We+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Rt(O+1),disabled:O===ft,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),v&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:T?"Edit Asset":"Asset Details"}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{j(!1),N(null),S(!1)},className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto custom-scrollbar p-6 flex-grow",children:a.jsx(Zce,{asset:v,isEditing:T,onSave:()=>{},onCancel:()=>{j(!1),N(null),S(!1)}})})]})}),a.jsx(Qce,{isOpen:ze,onClose:Ye,title:"Confirm Delete",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Xt,{className:"text-yellow-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:"Are you sure you want to delete this asset?"}),a.jsxs("p",{className:"text-sm text-gray-600 text-center mb-6",children:["Asset: ",a.jsx("strong",{children:se==null?void 0:se.name})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ye,className:"px-6 py-2 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ge,className:"px-6 py-2 border border-transparent rounded-lg text-sm font-medium text-white bg-red-600 hover:bg-red-700 transition-colors duration-200",children:"Delete"})]})]})})]})},tue=()=>{var L;const{user:t,hasPermission:e,logout:r}=Nt(),n=jt();ta();const[s,i]=x.useState(!1),[o,l]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[c,d]=x.useState(window.innerWidth<768),[h,m]=x.useState("profile"),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=x.useRef(null);x.useEffect(()=>{const R=()=>{d(window.innerWidth<768),window.innerWidth<768&&l(!1)};return window.addEventListener("resize",R),()=>window.removeEventListener("resize",R)},[]),x.useEffect(()=>{const R=z=>{T.current&&!T.current.contains(z.target)&&N(!1)};return document.addEventListener("mousedown",R),()=>{document.removeEventListener("mousedown",R)}},[]);const[S,O]=x.useState({name:t==null?void 0:t.name,nik:t==null?void 0:t.nik,email:t==null?void 0:t.email,language:"en",notifications:!0,billingEmail:"haloo@company.com"}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(R=>!R)},A=R=>{const{name:z,value:Y,type:q}=R.target,H=q==="checkbox"?R.target.checked:void 0;O(D=>({...D,[z]:q==="checkbox"?H:Y}))},E=()=>{y(!1)},P=({title:R,children:z})=>a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsx("h3",{className:"text-xl font-bold mb-4 text-gray-900",children:R}),z]}),$=({label:R,value:z,children:Y,editable:q=!0,onEdit:H})=>a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between py-4 border-b border-gray-100 last:border-b-0",children:[a.jsxs("div",{className:"mb-2 sm:mb-0",children:[a.jsx("p",{className:"font-medium text-gray-700",children:R}),z!==void 0&&a.jsx("p",{className:"text-sm text-gray-600",children:typeof z=="boolean"?z?"Enabled":"Disabled":z})]}),q&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:H,className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Edit"}),Y]}),I=({isOpen:R,onClose:z,title:Y,children:q,actions:H})=>R?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:Y}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:z,className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{size:20})})]}),a.jsx("div",{className:"p-6",children:q}),H&&a.jsx("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100",children:H})]})}):null;return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Settings",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Nn,{}),isMobile:c,toggleSidebar:_}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"max-w-6xl mx-auto",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.4},className:"bg-gradient-to-r from-blue-600 to-blue-800 rounded-2xl p-6 text-white mb-6 shadow-lg hover:shadow-xl transition-all duration-300",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold mb-2",children:"Account Settings"}),a.jsx("p",{className:"opacity-90 text-sm",children:"Manage your profile, security, and preferences"})]}),a.jsxs("div",{className:"flex flex-col lg:flex-row gap-4 md:gap-6",children:[a.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},className:"lg:w-64 flex-shrink-0",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-md border border-blue-50 overflow-hidden",children:a.jsx("div",{className:"space-y-1 p-2",children:[{id:"profile",icon:a.jsx(_r,{}),label:"Profile"},{id:"security",icon:a.jsx(qle,{}),label:"Security"},{id:"notifications",icon:a.jsx(rO,{}),label:"Notifications"},{id:"preferences",icon:a.jsx(X5,{}),label:"Preferences"},{id:"billing",icon:a.jsx(nle,{}),label:"Billing"},{id:"team",icon:a.jsx(ca,{}),label:"Team Settings"},{id:"integrations",icon:a.jsx(xle,{}),label:"Integrations"},{id:"data",icon:a.jsx(Ew,{}),label:"Data Management"}].map(R=>a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>m(R.id),className:`w-full text-left flex items-center p-3 rounded-xl transition-colors duration-200 ${h===R.id?"bg-blue-50 text-blue-700 font-medium":"text-gray-700 hover:bg-blue-50"}`,children:[a.jsx("span",{className:"text-xl mr-3 text-blue-500",children:R.icon}),a.jsx("span",{className:"text-base",children:R.label})]},R.id))})})}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"flex-1",children:[h==="profile"&&a.jsx(P,{title:"Profile Information",children:g?a.jsxs(a.Fragment,{children:[a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Full Name"}),a.jsx("input",{type:"text",name:"name",value:S.name,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("input",{type:"text",name:"nik",value:S.nik,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("input",{type:"text",name:"nik",value:S.email,onChange:A,className:"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>y(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 shadow",children:"Save Changes"})]})]}):a.jsxs(a.Fragment,{children:[a.jsx($,{label:"Name",value:t==null?void 0:t.name,editable:!1}),a.jsx($,{label:"NIK",value:t==null?void 0:t.nik,editable:!1}),a.jsx($,{label:"Role",value:(L=t==null?void 0:t.roles)==null?void 0:L[0],editable:!1}),a.jsx($,{label:"Email",value:t==null?void 0:t.email,editable:!1})]})}),h==="security"&&a.jsxs(P,{title:"Security Settings",children:[a.jsx($,{label:"Password",value:"••••••••",onEdit:()=>n("/settings/change-password")}),a.jsx($,{label:"Two-factor authentication",value:!1,onEdit:()=>n("/settings/two-factor")}),a.jsx($,{label:"Active sessions",value:"3 devices",onEdit:()=>n("/settings/sessions")})]}),h==="notifications"&&a.jsxs(P,{title:"Notification Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Email notifications"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Receive email notifications"})]}),a.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[a.jsx("input",{type:"checkbox",name:"notifications",checked:S.notifications,onChange:A,className:"sr-only peer"}),a.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-blue-600"})]})]}),a.jsx($,{label:"Push notifications",value:!1,onEdit:()=>{}})]}),h==="preferences"&&a.jsxs(P,{title:"Preferences",children:[a.jsxs("div",{className:"flex items-center justify-between py-4 border-b border-gray-100",children:[a.jsxs("div",{children:[a.jsx("p",{className:"font-medium text-gray-700",children:"Dark mode"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Toggle dark theme"})]}),a.jsx(_t,{mode:"wait",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>i(!s),className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:s?a.jsx(X5,{className:"text-yellow-400"}):a.jsx(qq,{})},s?"sun-card":"moon-card")})]}),a.jsx($,{label:"Language",value:"English",onEdit:()=>{}}),a.jsx($,{label:"Timezone",value:"UTC+07:00",onEdit:()=>{}})]}),h==="billing"&&a.jsxs(P,{title:"Billing Information",children:[a.jsx($,{label:"Billing email",value:S.billingEmail,onEdit:()=>{}}),a.jsx($,{label:"Payment method",value:"Visa ending in 4242",onEdit:()=>{}}),a.jsx($,{label:"Plan",value:"Premium ($29/month)",onEdit:()=>{}})]}),h==="team"&&a.jsxs(P,{title:"Team Settings",children:[a.jsx($,{label:"Team members",value:"5 active",onEdit:()=>n("/team")}),a.jsx($,{label:"Team roles",value:"Custom roles",onEdit:()=>n("/settings/roles")}),a.jsx($,{label:"Team permissions",value:"Custom permissions",onEdit:()=>n("/settings/permissions")})]}),h==="integrations"&&a.jsxs(P,{title:"Integrations",children:[a.jsx($,{label:"Google Workspace",value:"Connected",onEdit:()=>{}}),a.jsx($,{label:"Slack",value:"Not connected",onEdit:()=>{}}),a.jsx($,{label:"Microsoft 365",value:"Not connected",onEdit:()=>{}})]}),h==="data"&&a.jsxs(P,{title:"Data Management",children:[a.jsx($,{label:"Export data",value:"JSON, CSV formats",onEdit:()=>{}}),a.jsx($,{label:"Delete account",value:"Permanently remove all data",onEdit:()=>j(!0)})]})]})]})]})})]}),a.jsxs(I,{isOpen:w,onClose:()=>j(!1),title:"Delete Account",children:[a.jsx("div",{className:"text-gray-700 mb-6",children:a.jsx("p",{children:"Are you sure you want to delete your account? This action cannot be undone."})}),a.jsxs("div",{className:"flex justify-end space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j(!1),className:"px-4 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{},className:"px-4 py-2 rounded-lg text-white bg-red-600 hover:bg-red-700",children:"Delete Account"})]})]})]})};function Uq(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(r=Uq(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Ft(){for(var t,e,r=0,n="",s=arguments.length;r<s;r++)(t=arguments[r])&&(e=Uq(t))&&(n&&(n+=" "),n+=e);return n}const Gq=6048e5,rue=864e5,Dw=6e4,Pw=36e5,nue=1e3,AR=Symbol.for("constructDateFrom");function Yr(t,e){return typeof t=="function"?t(e):t&&typeof t=="object"&&AR in t?t[AR](e):t instanceof Date?new t.constructor(e):new Date(e)}function $t(t,e){return Yr(e||t,t)}function Fi(t,e,r){const n=$t(t,r==null?void 0:r.in);return isNaN(e)?Yr((r==null?void 0:r.in)||t,NaN):(e&&n.setDate(n.getDate()+e),n)}function Vi(t,e,r){const n=$t(t,r==null?void 0:r.in);if(isNaN(e))return Yr(t,NaN);if(!e)return n;const s=n.getDate(),i=Yr(t,n.getTime());i.setMonth(n.getMonth()+e+1,0);const o=i.getDate();return s>=o?i:(n.setFullYear(i.getFullYear(),i.getMonth(),s),n)}function Yq(t,e,r){return Yr(t,+$t(t)+e)}function aue(t,e,r){return Yq(t,e*Pw)}let sue={};function ud(){return sue}function Sl(t,e){var l,c,d,h;const r=ud(),n=(e==null?void 0:e.weekStartsOn)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=$t(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?7:0)+i-n;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function zf(t,e){return Sl(t,{...e,weekStartsOn:1})}function Kq(t,e){const r=$t(t,e==null?void 0:e.in),n=r.getFullYear(),s=Yr(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const i=zf(s),o=Yr(r,0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);const l=zf(o);return r.getTime()>=i.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function wb(t){const e=$t(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Al(t,...e){const r=Yr.bind(null,e.find(n=>typeof n=="object"));return e.map(r)}function Ku(t,e){const r=$t(t,e==null?void 0:e.in);return r.setHours(0,0,0,0),r}function Vf(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e),i=Ku(n),o=Ku(s),l=+i-wb(i),c=+o-wb(o);return Math.round((l-c)/rue)}function iue(t,e){const r=Kq(t,e),n=Yr(t,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),zf(n)}function J5(t,e,r){const n=$t(t,r==null?void 0:r.in);return n.setTime(n.getTime()+e*Dw),n}function aO(t,e,r){return Vi(t,e*3,r)}function oue(t,e,r){return Yq(t,e*1e3)}function jb(t,e,r){return Fi(t,e*7,r)}function cl(t,e,r){return Vi(t,e*12,r)}function OR(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Yr.bind(null,s));const i=$t(s,n);(!r||r<i||isNaN(+i))&&(r=i)}),Yr(n,r||NaN)}function ER(t,e){let r,n=e==null?void 0:e.in;return t.forEach(s=>{!n&&typeof s=="object"&&(n=Yr.bind(null,s));const i=$t(s,n);(!r||r>i||isNaN(+i))&&(r=i)}),Yr(n,r||NaN)}function lue(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e);return+Ku(n)==+Ku(s)}function ul(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Sb(t){return!(!ul(t)&&typeof t!="number"||isNaN(+$t(t)))}function Nb(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=n.getMonth()-s.getMonth();return i*12+o}function Lu(t,e){const r=$t(t,e==null?void 0:e.in);return Math.trunc(r.getMonth()/3)+1}function kb(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e),i=n.getFullYear()-s.getFullYear(),o=Lu(n)-Lu(s);return i*4+o}function Cb(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e);return n.getFullYear()-s.getFullYear()}function cue(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e),i=DR(n,s),o=Math.abs(Vf(n,s));n.setDate(n.getDate()-i*o);const l=+(DR(n,s)===-i),c=i*(o-l);return c===0?0:c}function DR(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Xq(t,e){const r=$t(t,e==null?void 0:e.in);return r.setHours(23,59,59,999),r}function Jq(t,e){const r=$t(t,e==null?void 0:e.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function Q5(t,e){const r=$t(t,e==null?void 0:e.in),n=r.getMonth(),s=n-n%3;return r.setMonth(s,1),r.setHours(0,0,0,0),r}function Qq(t,e){const r=$t(t,e==null?void 0:e.in);return r.setDate(1),r.setHours(0,0,0,0),r}function Zq(t,e){const r=$t(t,e==null?void 0:e.in),n=r.getFullYear();return r.setFullYear(n+1,0,0),r.setHours(23,59,59,999),r}function Rw(t,e){const r=$t(t,e==null?void 0:e.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}function uue(t,e){var l,c;const r=ud(),n=r.weekStartsOn??((c=(l=r.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??0,s=$t(t,e==null?void 0:e.in),i=s.getDay(),o=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+o),s.setHours(23,59,59,999),s}const due={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},fue=(t,e,r)=>{let n;const s=due[t];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function yN(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const hue={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},mue={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},pue={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},gue={date:yN({formats:hue,defaultWidth:"full"}),time:yN({formats:mue,defaultWidth:"full"}),dateTime:yN({formats:pue,defaultWidth:"full"})},xue={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},yue=(t,e,r,n)=>xue[t];function Bm(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,l=r!=null&&r.width?String(r.width):o;s=t.formattingValues[l]||t.formattingValues[o]}else{const o=t.defaultWidth,l=r!=null&&r.width?String(r.width):t.defaultWidth;s=t.values[l]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const bue={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},vue={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},wue={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},jue={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Sue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Nue={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kue=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Cue={ordinalNumber:kue,era:Bm({values:bue,defaultWidth:"wide"}),quarter:Bm({values:vue,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bm({values:wue,defaultWidth:"wide"}),day:Bm({values:jue,defaultWidth:"wide"}),dayPeriod:Bm({values:Sue,defaultWidth:"wide",formattingValues:Nue,defaultFormattingWidth:"wide"})};function zm(t){return(e,r={})=>{const n=r.width,s=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],l=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(l)?_ue(l,m=>m.test(o)):Tue(l,m=>m.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=r.valueCallback?r.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function Tue(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function _ue(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Mue(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const s=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const l=e.slice(s.length);return{value:o,rest:l}}}const Aue=/^(\d+)(th|st|nd|rd)?/i,Oue=/\d+/i,Eue={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Due={any:[/^b/i,/^(a|c)/i]},Pue={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Rue={any:[/1/i,/2/i,/3/i,/4/i]},Iue={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lue={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},$ue={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Fue={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Hue={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Bue={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},zue={ordinalNumber:Mue({matchPattern:Aue,parsePattern:Oue,valueCallback:t=>parseInt(t,10)}),era:zm({matchPatterns:Eue,defaultMatchWidth:"wide",parsePatterns:Due,defaultParseWidth:"any"}),quarter:zm({matchPatterns:Pue,defaultMatchWidth:"wide",parsePatterns:Rue,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zm({matchPatterns:Iue,defaultMatchWidth:"wide",parsePatterns:Lue,defaultParseWidth:"any"}),day:zm({matchPatterns:$ue,defaultMatchWidth:"wide",parsePatterns:Fue,defaultParseWidth:"any"}),dayPeriod:zm({matchPatterns:Hue,defaultMatchWidth:"any",parsePatterns:Bue,defaultParseWidth:"any"})},eW={code:"en-US",formatDistance:fue,formatLong:gue,formatRelative:yue,localize:Cue,match:zue,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vue(t,e){const r=$t(t,e==null?void 0:e.in);return Vf(r,Rw(r))+1}function sO(t,e){const r=$t(t,e==null?void 0:e.in),n=+zf(r)-+iue(r);return Math.round(n/Gq)+1}function iO(t,e){var h,m,g,y;const r=$t(t,e==null?void 0:e.in),n=r.getFullYear(),s=ud(),i=(e==null?void 0:e.firstWeekContainsDate)??((m=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??s.firstWeekContainsDate??((y=(g=s.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=Yr((e==null?void 0:e.in)||t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const l=Sl(o,e),c=Yr((e==null?void 0:e.in)||t,0);c.setFullYear(n,0,i),c.setHours(0,0,0,0);const d=Sl(c,e);return+r>=+l?n+1:+r>=+d?n:n-1}function que(t,e){var l,c,d,h;const r=ud(),n=(e==null?void 0:e.firstWeekContainsDate)??((c=(l=e==null?void 0:e.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(d=r.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=iO(t,e),i=Yr((e==null?void 0:e.in)||t,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),Sl(i,e)}function tW(t,e){const r=$t(t,e==null?void 0:e.in),n=+Sl(r,e)-+que(r,e);return Math.round(n/Gq)+1}function Gr(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const lc={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Gr(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Gr(r+1,2)},d(t,e){return Gr(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Gr(t.getHours()%12||12,e.length)},H(t,e){return Gr(t.getHours(),e.length)},m(t,e){return Gr(t.getMinutes(),e.length)},s(t,e){return Gr(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return Gr(s,e.length)}},Jd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},PR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return lc.y(t,e)},Y:function(t,e,r,n){const s=iO(t,n),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Gr(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Gr(i,e.length)},R:function(t,e){const r=Kq(t);return Gr(r,e.length)},u:function(t,e){const r=t.getFullYear();return Gr(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Gr(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Gr(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return lc.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Gr(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const s=tW(t,n);return e==="wo"?r.ordinalNumber(s,{unit:"week"}):Gr(s,e.length)},I:function(t,e,r){const n=sO(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Gr(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):lc.d(t,e)},D:function(t,e,r){const n=Vue(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Gr(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Gr(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const s=t.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Gr(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Gr(s,e.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let s;switch(n===12?s=Jd.noon:n===0?s=Jd.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let s;switch(n>=17?s=Jd.evening:n>=12?s=Jd.afternoon:n>=4?s=Jd.morning:s=Jd.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return lc.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):lc.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Gr(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):lc.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):lc.s(t,e)},S:function(t,e){return lc.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return IR(n);case"XXXX":case"XX":return gu(n);case"XXXXX":case"XXX":default:return gu(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return IR(n);case"xxxx":case"xx":return gu(n);case"xxxxx":case"xxx":default:return gu(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RR(n,":");case"OOOO":default:return"GMT"+gu(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RR(n,":");case"zzzz":default:return"GMT"+gu(n,":")}},t:function(t,e,r){const n=Math.trunc(+t/1e3);return Gr(n,e.length)},T:function(t,e,r){return Gr(+t,e.length)}};function RR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Math.trunc(n/60),i=n%60;return i===0?r+String(s):r+String(s)+e+Gr(i,2)}function IR(t,e){return t%60===0?(t>0?"-":"+")+Gr(Math.abs(t)/60,2):gu(t,e)}function gu(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),s=Gr(Math.trunc(n/60),2),i=Gr(n%60,2);return r+s+e+i}const LR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},rW=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Wue=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return LR(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",LR(n,e)).replace("{{time}}",rW(s,e))},Z5={p:rW,P:Wue},Uue=/^D+$/,Gue=/^Y+$/,Yue=["D","DD","YY","YYYY"];function Kue(t){return Uue.test(t)}function Xue(t){return Gue.test(t)}function Jue(t,e,r){const n=Que(t,e,r);if(console.warn(n),Yue.includes(t))throw new RangeError(n)}function Que(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Zue=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ede=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tde=/^'([^]*?)'?$/,rde=/''/g,nde=/[a-zA-Z]/;function $R(t,e,r){var h,m,g,y,w,j,v,N;const n=ud(),s=(r==null?void 0:r.locale)??n.locale??eW,i=(r==null?void 0:r.firstWeekContainsDate)??((m=(h=r==null?void 0:r.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??n.firstWeekContainsDate??((y=(g=n.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,o=(r==null?void 0:r.weekStartsOn)??((j=(w=r==null?void 0:r.locale)==null?void 0:w.options)==null?void 0:j.weekStartsOn)??n.weekStartsOn??((N=(v=n.locale)==null?void 0:v.options)==null?void 0:N.weekStartsOn)??0,l=$t(t,r==null?void 0:r.in);if(!Sb(l))throw new RangeError("Invalid time value");let c=e.match(ede).map(T=>{const S=T[0];if(S==="p"||S==="P"){const O=Z5[S];return O(T,s.formatLong)}return T}).join("").match(Zue).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const S=T[0];if(S==="'")return{isToken:!1,value:ade(T)};if(PR[S])return{isToken:!0,value:T};if(S.match(nde))throw new RangeError("Format string contains an unescaped latin alphabet character `"+S+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(T=>{if(!T.isToken)return T.value;const S=T.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Xue(S)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Kue(S))&&Jue(S,e,String(t));const O=PR[S[0]];return O(l,S,s.localize,d)}).join("")}function ade(t){const e=t.match(tde);return e?e[1].replace(rde,"'"):t}function FR(t,e){return $t(t,e==null?void 0:e.in).getDate()}function sde(t,e){return $t(t,e==null?void 0:e.in).getDay()}function ide(t,e){const r=$t(t,e==null?void 0:e.in),n=r.getFullYear(),s=r.getMonth(),i=Yr(r,0);return i.setFullYear(n,s+1,0),i.setHours(0,0,0,0),i.getDate()}function ode(){return Object.assign({},ud())}function dl(t,e){return $t(t,e==null?void 0:e.in).getHours()}function lde(t,e){const r=$t(t,e==null?void 0:e.in).getDay();return r===0?7:r}function fl(t,e){return $t(t,e==null?void 0:e.in).getMinutes()}function Ha(t,e){return $t(t,e==null?void 0:e.in).getMonth()}function Sc(t){return $t(t).getSeconds()}function e_(t){return+$t(t)}function lr(t,e){return $t(t,e==null?void 0:e.in).getFullYear()}function Pc(t,e){return+$t(t)>+$t(e)}function io(t,e){return+$t(t)<+$t(e)}function cde(t,e){return+$t(t)==+$t(e)}function ude(t,e){const r=dde(e)?new e(0):Yr(e,0);return r.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),r.setHours(t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()),r}function dde(t){var e;return typeof t=="function"&&((e=t.prototype)==null?void 0:e.constructor)===t}const fde=10;class nW{constructor(){Ot(this,"subPriority",0)}validate(e,r){return!0}}class hde extends nW{constructor(e,r,n,s,i){super(),this.value=e,this.validateValue=r,this.setValue=n,this.priority=s,i&&(this.subPriority=i)}validate(e,r){return this.validateValue(e,this.value,r)}set(e,r,n){return this.setValue(e,r,this.value,n)}}class mde extends nW{constructor(r,n){super();Ot(this,"priority",fde);Ot(this,"subPriority",-1);this.context=r||(s=>Yr(n,s))}set(r,n){return n.timestampIsSet?r:Yr(r,ude(r,this.context))}}class $r{run(e,r,n,s){const i=this.parse(e,r,n,s);return i?{setter:new hde(i.value,this.validate,this.set,this.priority,this.subPriority),rest:i.rest}:null}validate(e,r,n){return!0}}class pde extends $r{constructor(){super(...arguments);Ot(this,"priority",140);Ot(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Bn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ao={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function zn(t,e){return t&&{value:e(t.value),rest:t.rest}}function Sn(t,e){const r=e.match(t);return r?{value:parseInt(r[0],10),rest:e.slice(r[0].length)}:null}function so(t,e){const r=e.match(t);if(!r)return null;if(r[0]==="Z")return{value:0,rest:e.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,i=r[3]?parseInt(r[3],10):0,o=r[5]?parseInt(r[5],10):0;return{value:n*(s*Pw+i*Dw+o*nue),rest:e.slice(r[0].length)}}function aW(t){return Sn(Bn.anyDigitsSigned,t)}function Pn(t,e){switch(t){case 1:return Sn(Bn.singleDigit,e);case 2:return Sn(Bn.twoDigits,e);case 3:return Sn(Bn.threeDigits,e);case 4:return Sn(Bn.fourDigits,e);default:return Sn(new RegExp("^\\d{1,"+t+"}"),e)}}function Tb(t,e){switch(t){case 1:return Sn(Bn.singleDigitSigned,e);case 2:return Sn(Bn.twoDigitsSigned,e);case 3:return Sn(Bn.threeDigitsSigned,e);case 4:return Sn(Bn.fourDigitsSigned,e);default:return Sn(new RegExp("^-?\\d{1,"+t+"}"),e)}}function oO(t){switch(t){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function sW(t,e){const r=e>0,n=r?e:1-e;let s;if(n<=50)s=t||100;else{const i=n+50,o=Math.trunc(i/100)*100,l=t>=i%100;s=t+o-(l?100:0)}return r?s:1-s}function iW(t){return t%400===0||t%4===0&&t%100!==0}class gde extends $r{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="yy"});switch(n){case"y":return zn(Pn(4,r),i);case"yo":return zn(s.ordinalNumber(r,{unit:"year"}),i);default:return zn(Pn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const i=r.getFullYear();if(s.isTwoDigitYear){const l=sW(s.year,i);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const o=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(o,0,1),r.setHours(0,0,0,0),r}}class xde extends $r{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const i=o=>({year:o,isTwoDigitYear:n==="YY"});switch(n){case"Y":return zn(Pn(4,r),i);case"Yo":return zn(s.ordinalNumber(r,{unit:"year"}),i);default:return zn(Pn(n.length,r),i)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,i){const o=iO(r,i);if(s.isTwoDigitYear){const c=sW(s.year,o);return r.setFullYear(c,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sl(r,i)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,i.firstWeekContainsDate),r.setHours(0,0,0,0),Sl(r,i)}}class yde extends $r{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return Tb(n==="R"?4:n.length,r)}set(r,n,s){const i=Yr(r,0);return i.setFullYear(s,0,4),i.setHours(0,0,0,0),zf(i)}}class bde extends $r{constructor(){super(...arguments);Ot(this,"priority",130);Ot(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return Tb(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class vde extends $r{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Pn(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class wde extends $r{constructor(){super(...arguments);Ot(this,"priority",120);Ot(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Pn(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class jde extends $r{constructor(){super(...arguments);Ot(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);Ot(this,"priority",110)}parse(r,n,s){const i=o=>o-1;switch(n){case"M":return zn(Sn(Bn.month,r),i);case"MM":return zn(Pn(2,r),i);case"Mo":return zn(s.ordinalNumber(r,{unit:"month"}),i);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class Sde extends $r{constructor(){super(...arguments);Ot(this,"priority",110);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const i=o=>o-1;switch(n){case"L":return zn(Sn(Bn.month,r),i);case"LL":return zn(Pn(2,r),i);case"Lo":return zn(s.ordinalNumber(r,{unit:"month"}),i);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function Nde(t,e,r){const n=$t(t,r==null?void 0:r.in),s=tW(n,r)-e;return n.setDate(n.getDate()-s*7),$t(n,r==null?void 0:r.in)}class kde extends $r{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return Sn(Bn.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,i){return Sl(Nde(r,s,i),i)}}function Cde(t,e,r){const n=$t(t,r==null?void 0:r.in),s=sO(n,r)-e;return n.setDate(n.getDate()-s*7),n}class Tde extends $r{constructor(){super(...arguments);Ot(this,"priority",100);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return Sn(Bn.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return zf(Cde(r,s))}}const _de=[31,28,31,30,31,30,31,31,30,31,30,31],Mde=[31,29,31,30,31,30,31,31,30,31,30,31];class Ade extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subPriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return Sn(Bn.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Pn(n.length,r)}}validate(r,n){const s=r.getFullYear(),i=iW(s),o=r.getMonth();return i?n>=1&&n<=Mde[o]:n>=1&&n<=_de[o]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class Ode extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"subpriority",1);Ot(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return Sn(Bn.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Pn(n.length,r)}}validate(r,n){const s=r.getFullYear();return iW(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function lO(t,e,r){var m,g,y,w;const n=ud(),s=(r==null?void 0:r.weekStartsOn)??((g=(m=r==null?void 0:r.locale)==null?void 0:m.options)==null?void 0:g.weekStartsOn)??n.weekStartsOn??((w=(y=n.locale)==null?void 0:y.options)==null?void 0:w.weekStartsOn)??0,i=$t(t,r==null?void 0:r.in),o=i.getDay(),c=(e%7+7)%7,d=7-s,h=e<0||e>6?e-(o+d)%7:(c+d)%7-(o+d)%7;return Fi(i,h,r)}class Ede extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=lO(r,s,i),r.setHours(0,0,0,0),r}}class Dde extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return zn(Pn(n.length,r),o);case"eo":return zn(s.ordinalNumber(r,{unit:"day"}),o);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=lO(r,s,i),r.setHours(0,0,0,0),r}}class Pde extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,i){const o=l=>{const c=Math.floor((l-1)/7)*7;return(l+i.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return zn(Pn(n.length,r),o);case"co":return zn(s.ordinalNumber(r,{unit:"day"}),o);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,i){return r=lO(r,s,i),r.setHours(0,0,0,0),r}}function Rde(t,e,r){const n=$t(t,r==null?void 0:r.in),s=lde(n,r),i=e-s;return Fi(n,i,r)}class Ide extends $r{constructor(){super(...arguments);Ot(this,"priority",90);Ot(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const i=o=>o===0?7:o;switch(n){case"i":case"ii":return Pn(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return zn(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiii":return zn(s.day(r,{width:"narrow",context:"formatting"}),i);case"iiiiii":return zn(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i);case"iiii":default:return zn(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),i)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=Rde(r,s),r.setHours(0,0,0,0),r}}class Lde extends $r{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(oO(s),0,0,0),r}}class $de extends $r{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(oO(s),0,0,0),r}}class Fde extends $r{constructor(){super(...arguments);Ot(this,"priority",80);Ot(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(oO(s),0,0,0),r}}class Hde extends $r{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return Sn(Bn.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const i=r.getHours()>=12;return i&&s<12?r.setHours(s+12,0,0,0):!i&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class Bde extends $r{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return Sn(Bn.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class zde extends $r{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return Sn(Bn.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class Vde extends $r{constructor(){super(...arguments);Ot(this,"priority",70);Ot(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return Sn(Bn.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Pn(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const i=s<=24?s%24:s;return r.setHours(i,0,0,0),r}}class qde extends $r{constructor(){super(...arguments);Ot(this,"priority",60);Ot(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return Sn(Bn.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class Wde extends $r{constructor(){super(...arguments);Ot(this,"priority",50);Ot(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return Sn(Bn.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Pn(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class Ude extends $r{constructor(){super(...arguments);Ot(this,"priority",30);Ot(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=i=>Math.trunc(i*Math.pow(10,-n.length+3));return zn(Pn(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class Gde extends $r{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return so(ao.basicOptionalMinutes,r);case"XX":return so(ao.basic,r);case"XXXX":return so(ao.basicOptionalSeconds,r);case"XXXXX":return so(ao.extendedOptionalSeconds,r);case"XXX":default:return so(ao.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Yr(r,r.getTime()-wb(r)-s)}}class Yde extends $r{constructor(){super(...arguments);Ot(this,"priority",10);Ot(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return so(ao.basicOptionalMinutes,r);case"xx":return so(ao.basic,r);case"xxxx":return so(ao.basicOptionalSeconds,r);case"xxxxx":return so(ao.extendedOptionalSeconds,r);case"xxx":default:return so(ao.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Yr(r,r.getTime()-wb(r)-s)}}class Kde extends $r{constructor(){super(...arguments);Ot(this,"priority",40);Ot(this,"incompatibleTokens","*")}parse(r){return aW(r)}set(r,n,s){return[Yr(r,s*1e3),{timestampIsSet:!0}]}}class Xde extends $r{constructor(){super(...arguments);Ot(this,"priority",20);Ot(this,"incompatibleTokens","*")}parse(r){return aW(r)}set(r,n,s){return[Yr(r,s),{timestampIsSet:!0}]}}const Jde={G:new pde,y:new gde,Y:new xde,R:new yde,u:new bde,Q:new vde,q:new wde,M:new jde,L:new Sde,w:new kde,I:new Tde,d:new Ade,D:new Ode,E:new Ede,e:new Dde,c:new Pde,i:new Ide,a:new Lde,b:new $de,B:new Fde,h:new Hde,H:new Bde,K:new zde,k:new Vde,m:new qde,s:new Wde,S:new Ude,X:new Gde,x:new Yde,t:new Kde,T:new Xde},Qde=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Zde=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,efe=/^'([^]*?)'?$/,tfe=/''/g,rfe=/\S/,nfe=/[a-zA-Z]/;function afe(t,e,r,n){var v,N,T,S,O,_,A,E;const s=()=>Yr((n==null?void 0:n.in)||r,NaN),i=ode(),o=(n==null?void 0:n.locale)??i.locale??eW,l=(n==null?void 0:n.firstWeekContainsDate)??((N=(v=n==null?void 0:n.locale)==null?void 0:v.options)==null?void 0:N.firstWeekContainsDate)??i.firstWeekContainsDate??((S=(T=i.locale)==null?void 0:T.options)==null?void 0:S.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((_=(O=n==null?void 0:n.locale)==null?void 0:O.options)==null?void 0:_.weekStartsOn)??i.weekStartsOn??((E=(A=i.locale)==null?void 0:A.options)==null?void 0:E.weekStartsOn)??0;if(!e)return t?s():$t(r,n==null?void 0:n.in);const d={firstWeekContainsDate:l,weekStartsOn:c,locale:o},h=[new mde(n==null?void 0:n.in,r)],m=e.match(Zde).map(P=>{const $=P[0];if($ in Z5){const I=Z5[$];return I(P,o.formatLong)}return P}).join("").match(Qde),g=[];for(let P of m){const $=P[0],I=Jde[$];if(I){const{incompatibleTokens:L}=I;if(Array.isArray(L)){const z=g.find(Y=>L.includes(Y.token)||Y.token===$);if(z)throw new RangeError(`The format string mustn't contain \`${z.fullToken}\` and \`${P}\` at the same time`)}else if(I.incompatibleTokens==="*"&&g.length>0)throw new RangeError(`The format string mustn't contain \`${P}\` and any other token at the same time`);g.push({token:$,fullToken:P});const R=I.run(t,P,o.match,d);if(!R)return s();h.push(R.setter),t=R.rest}else{if($.match(nfe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+$+"`");if(P==="''"?P="'":$==="'"&&(P=sfe(P)),t.indexOf(P)===0)t=t.slice(P.length);else return s()}}if(t.length>0&&rfe.test(t))return s();const y=h.map(P=>P.priority).sort((P,$)=>$-P).filter((P,$,I)=>I.indexOf(P)===$).map(P=>h.filter($=>$.priority===P).sort(($,I)=>I.subPriority-$.subPriority)).map(P=>P[0]);let w=$t(r,n==null?void 0:n.in);if(isNaN(+w))return s();const j={};for(const P of y){if(!P.validate(w,d))return s();const $=P.set(w,j,d);Array.isArray($)?(w=$[0],Object.assign(j,$[1])):w=$}return w}function sfe(t){return t.match(efe)[1].replace(tfe,"'")}function ife(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()&&n.getMonth()===s.getMonth()}function ofe(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e);return+Q5(n)==+Q5(s)}function lfe(t,e,r){const[n,s]=Al(r==null?void 0:r.in,t,e);return n.getFullYear()===s.getFullYear()}function Jp(t,e,r){const n=+$t(t,r==null?void 0:r.in),[s,i]=[+$t(e.start,r==null?void 0:r.in),+$t(e.end,r==null?void 0:r.in)].sort((o,l)=>o-l);return n>=s&&n<=i}function cfe(t,e,r){return Fi(t,-1,r)}function ufe(t,e){const r=()=>Yr(e==null?void 0:e.in,NaN),s=mfe(t);let i;if(s.date){const d=pfe(s.date,2);i=gfe(d.restDateString,d.year)}if(!i||isNaN(+i))return r();const o=+i;let l=0,c;if(s.time&&(l=xfe(s.time),isNaN(l)))return r();if(s.timezone){if(c=yfe(s.timezone),isNaN(c))return r()}else{const d=new Date(o+l),h=$t(0,e==null?void 0:e.in);return h.setFullYear(d.getUTCFullYear(),d.getUTCMonth(),d.getUTCDate()),h.setHours(d.getUTCHours(),d.getUTCMinutes(),d.getUTCSeconds(),d.getUTCMilliseconds()),h}return $t(o+l+c,e==null?void 0:e.in)}const Gx={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},dfe=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ffe=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,hfe=/^([+-])(\d{2})(?::?(\d{2}))?$/;function mfe(t){const e={},r=t.split(Gx.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],Gx.timeZoneDelimiter.test(e.date)&&(e.date=t.split(Gx.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const s=Gx.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function pfe(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((n[1]||n[2]).length)}}function gfe(t,e){if(e===null)return new Date(NaN);const r=t.match(dfe);if(!r)return new Date(NaN);const n=!!r[4],s=Vm(r[1]),i=Vm(r[2])-1,o=Vm(r[3]),l=Vm(r[4]),c=Vm(r[5])-1;if(n)return Sfe(e,l,c)?bfe(e,l,c):new Date(NaN);{const d=new Date(0);return!wfe(e,i,o)||!jfe(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function Vm(t){return t?parseInt(t):1}function xfe(t){const e=t.match(ffe);if(!e)return NaN;const r=bN(e[1]),n=bN(e[2]),s=bN(e[3]);return Nfe(r,n,s)?r*Pw+n*Dw+s*1e3:NaN}function bN(t){return t&&parseFloat(t.replace(",","."))||0}function yfe(t){if(t==="Z")return 0;const e=t.match(hfe);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return kfe(n,s)?r*(n*Pw+s*Dw):NaN}function bfe(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+r+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const vfe=[31,null,31,30,31,30,31,31,30,31,30,31];function oW(t){return t%400===0||t%4===0&&t%100!==0}function wfe(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(vfe[e]||(oW(t)?29:28))}function jfe(t,e){return e>=1&&e<=(oW(t)?366:365)}function Sfe(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Nfe(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function kfe(t,e){return e>=0&&e<=59}function oi(t,e,r){const n=$t(t,r==null?void 0:r.in),s=n.getFullYear(),i=n.getDate(),o=Yr(t,0);o.setFullYear(s,e,15),o.setHours(0,0,0,0);const l=ide(o);return n.setMonth(e,Math.min(i,l)),n}function Uy(t,e,r){const n=$t(t,r==null?void 0:r.in);return n.setHours(e),n}function Gy(t,e,r){const n=$t(t,r==null?void 0:r.in);return n.setMinutes(e),n}function of(t,e,r){const n=$t(t,r==null?void 0:r.in),s=Math.trunc(n.getMonth()/3)+1,i=e-s;return oi(n,n.getMonth()+i*3)}function Yy(t,e,r){const n=$t(t,r==null?void 0:r.in);return n.setSeconds(e),n}function eo(t,e,r){const n=$t(t,r==null?void 0:r.in);return isNaN(+n)?Yr(t,NaN):(n.setFullYear(e),n)}function $u(t,e,r){return Vi(t,-e,r)}function lW(t,e,r){return aO(t,-1,r)}function HR(t,e,r){return jb(t,-1,r)}function qf(t,e,r){return cl(t,-e,r)}function Iw(){return typeof window<"u"}function Ph(t){return cW(t)?(t.nodeName||"").toLowerCase():"#document"}function $s(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function To(t){var e;return(e=(cW(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function cW(t){return Iw()?t instanceof Node||t instanceof $s(t).Node:!1}function Ja(t){return Iw()?t instanceof Element||t instanceof $s(t).Element:!1}function wo(t){return Iw()?t instanceof HTMLElement||t instanceof $s(t).HTMLElement:!1}function BR(t){return!Iw()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $s(t).ShadowRoot}const Cfe=new Set(["inline","contents"]);function sg(t){const{overflow:e,overflowX:r,overflowY:n,display:s}=yi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!Cfe.has(s)}const Tfe=new Set(["table","td","th"]);function _fe(t){return Tfe.has(Ph(t))}const Mfe=[":popover-open",":modal"];function Lw(t){return Mfe.some(e=>{try{return t.matches(e)}catch{return!1}})}const Afe=["transform","translate","scale","rotate","perspective"],Ofe=["transform","translate","scale","rotate","perspective","filter"],Efe=["paint","layout","strict","content"];function cO(t){const e=uO(),r=Ja(t)?yi(t):t;return Afe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||Ofe.some(n=>(r.willChange||"").includes(n))||Efe.some(n=>(r.contain||"").includes(n))}function Dfe(t){let e=Rc(t);for(;wo(e)&&!Wf(e);){if(cO(e))return e;if(Lw(e))return null;e=Rc(e)}return null}function uO(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const Pfe=new Set(["html","body","#document"]);function Wf(t){return Pfe.has(Ph(t))}function yi(t){return $s(t).getComputedStyle(t)}function $w(t){return Ja(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Rc(t){if(Ph(t)==="html")return t;const e=t.assignedSlot||t.parentNode||BR(t)&&t.host||To(t);return BR(e)?e.host:e}function uW(t){const e=Rc(t);return Wf(e)?t.ownerDocument?t.ownerDocument.body:t.body:wo(e)&&sg(e)?e:uW(e)}function Qp(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const s=uW(t),i=s===((n=t.ownerDocument)==null?void 0:n.body),o=$s(s);if(i){const l=t_(o);return e.concat(o,o.visualViewport||[],sg(s)?s:[],l&&r?Qp(l):[])}return e.concat(s,Qp(s,[],r))}function t_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}const Uf=Math.min,Fu=Math.max,_b=Math.round,Yx=Math.floor,fo=t=>({x:t,y:t}),Rfe={left:"right",right:"left",bottom:"top",top:"bottom"},Ife={start:"end",end:"start"};function Lfe(t,e,r){return Fu(t,Uf(e,r))}function Fw(t,e){return typeof t=="function"?t(e):t}function Gf(t){return t.split("-")[0]}function ig(t){return t.split("-")[1]}function $fe(t){return t==="x"?"y":"x"}function dO(t){return t==="y"?"height":"width"}const Ffe=new Set(["top","bottom"]);function ku(t){return Ffe.has(Gf(t))?"y":"x"}function fO(t){return $fe(ku(t))}function Hfe(t,e,r){r===void 0&&(r=!1);const n=ig(t),s=fO(t),i=dO(s);let o=s==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Mb(o)),[o,Mb(o)]}function Bfe(t){const e=Mb(t);return[r_(t),e,r_(e)]}function r_(t){return t.replace(/start|end/g,e=>Ife[e])}const zR=["left","right"],VR=["right","left"],zfe=["top","bottom"],Vfe=["bottom","top"];function qfe(t,e,r){switch(t){case"top":case"bottom":return r?e?VR:zR:e?zR:VR;case"left":case"right":return e?zfe:Vfe;default:return[]}}function Wfe(t,e,r,n){const s=ig(t);let i=qfe(Gf(t),r==="start",n);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(r_)))),i}function Mb(t){return t.replace(/left|right|bottom|top/g,e=>Rfe[e])}function Ufe(t){return{top:0,right:0,bottom:0,left:0,...t}}function dW(t){return typeof t!="number"?Ufe(t):{top:t,right:t,bottom:t,left:t}}function Ab(t){const{x:e,y:r,width:n,height:s}=t;return{width:n,height:s,top:r,left:e,right:e+n,bottom:r+s,x:e,y:r}}var Gfe=typeof document<"u",Yfe=function(){},Ob=Gfe?x.useLayoutEffect:Yfe;const Kfe={...cb},Xfe=Kfe.useInsertionEffect,Jfe=Xfe||(t=>t());function Qfe(t){const e=x.useRef(()=>{});return Jfe(()=>{e.current=t}),x.useCallback(function(){for(var r=arguments.length,n=new Array(r),s=0;s<r;s++)n[s]=arguments[s];return e.current==null?void 0:e.current(...n)},[])}function qR(t,e,r){let{reference:n,floating:s}=t;const i=ku(e),o=fO(e),l=dO(o),c=Gf(e),d=i==="y",h=n.x+n.width/2-s.width/2,m=n.y+n.height/2-s.height/2,g=n[l]/2-s[l]/2;let y;switch(c){case"top":y={x:h,y:n.y-s.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:m};break;case"left":y={x:n.x-s.width,y:m};break;default:y={x:n.x,y:n.y}}switch(ig(e)){case"start":y[o]-=g*(r&&d?-1:1);break;case"end":y[o]+=g*(r&&d?-1:1);break}return y}const Zfe=async(t,e,r)=>{const{placement:n="bottom",strategy:s="absolute",middleware:i=[],platform:o}=r,l=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:m}=qR(d,n,c),g=n,y={},w=0;for(let j=0;j<l.length;j++){const{name:v,fn:N}=l[j],{x:T,y:S,data:O,reset:_}=await N({x:h,y:m,initialPlacement:n,placement:g,strategy:s,middlewareData:y,rects:d,platform:o,elements:{reference:t,floating:e}});h=T??h,m=S??m,y={...y,[v]:{...y[v],...O}},_&&w<=50&&(w++,typeof _=="object"&&(_.placement&&(g=_.placement),_.rects&&(d=_.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):_.rects),{x:h,y:m}=qR(d,g,c)),j=-1)}return{x:h,y:m,placement:g,strategy:s,middlewareData:y}};async function ehe(t,e){var r;e===void 0&&(e={});const{x:n,y:s,platform:i,rects:o,elements:l,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:g=!1,padding:y=0}=Fw(e,t),w=dW(y),v=l[g?m==="floating"?"reference":"floating":m],N=Ab(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(v)))==null||r?v:v.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(l.floating)),boundary:d,rootBoundary:h,strategy:c})),T=m==="floating"?{x:n,y:s,width:o.floating.width,height:o.floating.height}:o.reference,S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(l.floating)),O=await(i.isElement==null?void 0:i.isElement(S))?await(i.getScale==null?void 0:i.getScale(S))||{x:1,y:1}:{x:1,y:1},_=Ab(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:l,rect:T,offsetParent:S,strategy:c}):T);return{top:(N.top-_.top+w.top)/O.y,bottom:(_.bottom-N.bottom+w.bottom)/O.y,left:(N.left-_.left+w.left)/O.x,right:(_.right-N.right+w.right)/O.x}}const the=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:s,rects:i,platform:o,elements:l,middlewareData:c}=e,{element:d,padding:h=0}=Fw(t,e)||{};if(d==null)return{};const m=dW(h),g={x:r,y:n},y=fO(s),w=dO(y),j=await o.getDimensions(d),v=y==="y",N=v?"top":"left",T=v?"bottom":"right",S=v?"clientHeight":"clientWidth",O=i.reference[w]+i.reference[y]-g[y]-i.floating[w],_=g[y]-i.reference[y],A=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let E=A?A[S]:0;(!E||!await(o.isElement==null?void 0:o.isElement(A)))&&(E=l.floating[S]||i.floating[w]);const P=O/2-_/2,$=E/2-j[w]/2-1,I=Uf(m[N],$),L=Uf(m[T],$),R=I,z=E-j[w]-L,Y=E/2-j[w]/2+P,q=Lfe(R,Y,z),H=!c.arrow&&ig(s)!=null&&Y!==q&&i.reference[w]/2-(Y<R?I:L)-j[w]/2<0,D=H?Y<R?Y-R:Y-z:0;return{[y]:g[y]+D,data:{[y]:q,centerOffset:Y-q-D,...H&&{alignmentOffset:D}},reset:H}}}),rhe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:s,middlewareData:i,rects:o,initialPlacement:l,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:w="none",flipAlignment:j=!0,...v}=Fw(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const N=Gf(s),T=ku(l),S=Gf(l)===l,O=await(c.isRTL==null?void 0:c.isRTL(d.floating)),_=g||(S||!j?[Mb(l)]:Bfe(l)),A=w!=="none";!g&&A&&_.push(...Wfe(l,j,w,O));const E=[l,..._],P=await ehe(e,v),$=[];let I=((n=i.flip)==null?void 0:n.overflows)||[];if(h&&$.push(P[N]),m){const Y=Hfe(s,o,O);$.push(P[Y[0]],P[Y[1]])}if(I=[...I,{placement:s,overflows:$}],!$.every(Y=>Y<=0)){var L,R;const Y=(((L=i.flip)==null?void 0:L.index)||0)+1,q=E[Y];if(q&&(!(m==="alignment"?T!==ku(q):!1)||I.every(F=>ku(F.placement)===T?F.overflows[0]>0:!0)))return{data:{index:Y,overflows:I},reset:{placement:q}};let H=(R=I.filter(D=>D.overflows[0]<=0).sort((D,F)=>D.overflows[1]-F.overflows[1])[0])==null?void 0:R.placement;if(!H)switch(y){case"bestFit":{var z;const D=(z=I.filter(F=>{if(A){const K=ku(F.placement);return K===T||K==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(K=>K>0).reduce((K,te)=>K+te,0)]).sort((F,K)=>F[1]-K[1])[0])==null?void 0:z[0];D&&(H=D);break}case"initialPlacement":H=l;break}if(s!==H)return{reset:{placement:H}}}return{}}}},nhe=new Set(["left","top"]);async function ahe(t,e){const{placement:r,platform:n,elements:s}=t,i=await(n.isRTL==null?void 0:n.isRTL(s.floating)),o=Gf(r),l=ig(r),c=ku(r)==="y",d=nhe.has(o)?-1:1,h=i&&c?-1:1,m=Fw(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:w}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return l&&typeof w=="number"&&(y=l==="end"?w*-1:w),c?{x:y*h,y:g*d}:{x:g*d,y:y*h}}const she=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:s,y:i,placement:o,middlewareData:l}=e,c=await ahe(e,t);return o===((r=l.offset)==null?void 0:r.placement)&&(n=l.arrow)!=null&&n.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}};function fW(t){const e=yi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const s=wo(t),i=s?t.offsetWidth:r,o=s?t.offsetHeight:n,l=_b(r)!==i||_b(n)!==o;return l&&(r=i,n=o),{width:r,height:n,$:l}}function hO(t){return Ja(t)?t:t.contextElement}function Tf(t){const e=hO(t);if(!wo(e))return fo(1);const r=e.getBoundingClientRect(),{width:n,height:s,$:i}=fW(e);let o=(i?_b(r.width):r.width)/n,l=(i?_b(r.height):r.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!l||!Number.isFinite(l))&&(l=1),{x:o,y:l}}const ihe=fo(0);function hW(t){const e=$s(t);return!uO()||!e.visualViewport?ihe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function ohe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==$s(t)?!1:e}function Xu(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const s=t.getBoundingClientRect(),i=hO(t);let o=fo(1);e&&(n?Ja(n)&&(o=Tf(n)):o=Tf(t));const l=ohe(i,r,n)?hW(i):fo(0);let c=(s.left+l.x)/o.x,d=(s.top+l.y)/o.y,h=s.width/o.x,m=s.height/o.y;if(i){const g=$s(i),y=n&&Ja(n)?$s(n):n;let w=g,j=t_(w);for(;j&&n&&y!==w;){const v=Tf(j),N=j.getBoundingClientRect(),T=yi(j),S=N.left+(j.clientLeft+parseFloat(T.paddingLeft))*v.x,O=N.top+(j.clientTop+parseFloat(T.paddingTop))*v.y;c*=v.x,d*=v.y,h*=v.x,m*=v.y,c+=S,d+=O,w=$s(j),j=t_(w)}}return Ab({width:h,height:m,x:c,y:d})}function Hw(t,e){const r=$w(t).scrollLeft;return e?e.left+r:Xu(To(t)).left+r}function mW(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-Hw(t,r),s=r.top+e.scrollTop;return{x:n,y:s}}function lhe(t){let{elements:e,rect:r,offsetParent:n,strategy:s}=t;const i=s==="fixed",o=To(n),l=e?Lw(e.floating):!1;if(n===o||l&&i)return r;let c={scrollLeft:0,scrollTop:0},d=fo(1);const h=fo(0),m=wo(n);if((m||!m&&!i)&&((Ph(n)!=="body"||sg(o))&&(c=$w(n)),wo(n))){const y=Xu(n);d=Tf(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const g=o&&!m&&!i?mW(o,c):fo(0);return{width:r.width*d.x,height:r.height*d.y,x:r.x*d.x-c.scrollLeft*d.x+h.x+g.x,y:r.y*d.y-c.scrollTop*d.y+h.y+g.y}}function che(t){return Array.from(t.getClientRects())}function uhe(t){const e=To(t),r=$w(t),n=t.ownerDocument.body,s=Fu(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=Fu(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+Hw(t);const l=-r.scrollTop;return yi(n).direction==="rtl"&&(o+=Fu(e.clientWidth,n.clientWidth)-s),{width:s,height:i,x:o,y:l}}const WR=25;function dhe(t,e){const r=$s(t),n=To(t),s=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,l=0,c=0;if(s){i=s.width,o=s.height;const h=uO();(!h||h&&e==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}const d=Hw(n);if(d<=0){const h=n.ownerDocument,m=h.body,g=getComputedStyle(m),y=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,w=Math.abs(n.clientWidth-m.clientWidth-y);w<=WR&&(i-=w)}else d<=WR&&(i+=d);return{width:i,height:o,x:l,y:c}}const fhe=new Set(["absolute","fixed"]);function hhe(t,e){const r=Xu(t,!0,e==="fixed"),n=r.top+t.clientTop,s=r.left+t.clientLeft,i=wo(t)?Tf(t):fo(1),o=t.clientWidth*i.x,l=t.clientHeight*i.y,c=s*i.x,d=n*i.y;return{width:o,height:l,x:c,y:d}}function UR(t,e,r){let n;if(e==="viewport")n=dhe(t,r);else if(e==="document")n=uhe(To(t));else if(Ja(e))n=hhe(e,r);else{const s=hW(t);n={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ab(n)}function pW(t,e){const r=Rc(t);return r===e||!Ja(r)||Wf(r)?!1:yi(r).position==="fixed"||pW(r,e)}function mhe(t,e){const r=e.get(t);if(r)return r;let n=Qp(t,[],!1).filter(l=>Ja(l)&&Ph(l)!=="body"),s=null;const i=yi(t).position==="fixed";let o=i?Rc(t):t;for(;Ja(o)&&!Wf(o);){const l=yi(o),c=cO(o);!c&&l.position==="fixed"&&(s=null),(i?!c&&!s:!c&&l.position==="static"&&!!s&&fhe.has(s.position)||sg(o)&&!c&&pW(t,o))?n=n.filter(h=>h!==o):s=l,o=Rc(o)}return e.set(t,n),n}function phe(t){let{element:e,boundary:r,rootBoundary:n,strategy:s}=t;const o=[...r==="clippingAncestors"?Lw(e)?[]:mhe(e,this._c):[].concat(r),n],l=o[0],c=o.reduce((d,h)=>{const m=UR(e,h,s);return d.top=Fu(m.top,d.top),d.right=Uf(m.right,d.right),d.bottom=Uf(m.bottom,d.bottom),d.left=Fu(m.left,d.left),d},UR(e,l,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function ghe(t){const{width:e,height:r}=fW(t);return{width:e,height:r}}function xhe(t,e,r){const n=wo(e),s=To(e),i=r==="fixed",o=Xu(t,!0,i,e);let l={scrollLeft:0,scrollTop:0};const c=fo(0);function d(){c.x=Hw(s)}if(n||!n&&!i)if((Ph(e)!=="body"||sg(s))&&(l=$w(e)),n){const y=Xu(e,!0,i,e);c.x=y.x+e.clientLeft,c.y=y.y+e.clientTop}else s&&d();i&&!n&&s&&d();const h=s&&!n&&!i?mW(s,l):fo(0),m=o.left+l.scrollLeft-c.x-h.x,g=o.top+l.scrollTop-c.y-h.y;return{x:m,y:g,width:o.width,height:o.height}}function vN(t){return yi(t).position==="static"}function GR(t,e){if(!wo(t)||yi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return To(t)===r&&(r=r.ownerDocument.body),r}function gW(t,e){const r=$s(t);if(Lw(t))return r;if(!wo(t)){let s=Rc(t);for(;s&&!Wf(s);){if(Ja(s)&&!vN(s))return s;s=Rc(s)}return r}let n=GR(t,e);for(;n&&_fe(n)&&vN(n);)n=GR(n,e);return n&&Wf(n)&&vN(n)&&!cO(n)?r:n||Dfe(t)||r}const yhe=async function(t){const e=this.getOffsetParent||gW,r=this.getDimensions,n=await r(t.floating);return{reference:xhe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function bhe(t){return yi(t).direction==="rtl"}const vhe={convertOffsetParentRelativeRectToViewportRelativeRect:lhe,getDocumentElement:To,getClippingRect:phe,getOffsetParent:gW,getElementRects:yhe,getClientRects:che,getDimensions:ghe,getScale:Tf,isElement:Ja,isRTL:bhe};function xW(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function whe(t,e){let r=null,n;const s=To(t);function i(){var l;clearTimeout(n),(l=r)==null||l.disconnect(),r=null}function o(l,c){l===void 0&&(l=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:m,width:g,height:y}=d;if(l||e(),!g||!y)return;const w=Yx(m),j=Yx(s.clientWidth-(h+g)),v=Yx(s.clientHeight-(m+y)),N=Yx(h),S={rootMargin:-w+"px "+-j+"px "+-v+"px "+-N+"px",threshold:Fu(0,Uf(1,c))||1};let O=!0;function _(A){const E=A[0].intersectionRatio;if(E!==c){if(!O)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!xW(d,t.getBoundingClientRect())&&o(),O=!1}try{r=new IntersectionObserver(_,{...S,root:s.ownerDocument})}catch{r=new IntersectionObserver(_,S)}r.observe(t)}return o(!0),i}function yW(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:l=typeof IntersectionObserver=="function",animationFrame:c=!1}=n,d=hO(t),h=s||i?[...d?Qp(d):[],...Qp(e)]:[];h.forEach(N=>{s&&N.addEventListener("scroll",r,{passive:!0}),i&&N.addEventListener("resize",r)});const m=d&&l?whe(d,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(N=>{let[T]=N;T&&T.target===d&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var S;(S=y)==null||S.observe(e)})),r()}),d&&!c&&y.observe(d),y.observe(e));let w,j=c?Xu(t):null;c&&v();function v(){const N=Xu(t);j&&!xW(j,N)&&r(),j=N,w=requestAnimationFrame(v)}return r(),()=>{var N;h.forEach(T=>{s&&T.removeEventListener("scroll",r),i&&T.removeEventListener("resize",r)}),m==null||m(),(N=y)==null||N.disconnect(),y=null,c&&cancelAnimationFrame(w)}}const jhe=she,She=rhe,YR=the,Nhe=(t,e,r)=>{const n=new Map,s={platform:vhe,...r},i={...s.platform,_c:n};return Zfe(t,e,{...s,platform:i})};var khe=typeof document<"u",Che=function(){},Ky=khe?x.useLayoutEffect:Che;function Eb(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Eb(t[n],e[n]))return!1;return!0}if(s=Object.keys(t),r=s.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,s[n]))return!1;for(n=r;n--!==0;){const i=s[n];if(!(i==="_owner"&&t.$$typeof)&&!Eb(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function bW(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function KR(t,e){const r=bW(t);return Math.round(e*r)/r}function wN(t){const e=x.useRef(t);return Ky(()=>{e.current=t}),e}function The(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:s,elements:{reference:i,floating:o}={},transform:l=!0,whileElementsMounted:c,open:d}=t,[h,m]=x.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=x.useState(n);Eb(g,n)||y(n);const[w,j]=x.useState(null),[v,N]=x.useState(null),T=x.useCallback(F=>{F!==A.current&&(A.current=F,j(F))},[]),S=x.useCallback(F=>{F!==E.current&&(E.current=F,N(F))},[]),O=i||w,_=o||v,A=x.useRef(null),E=x.useRef(null),P=x.useRef(h),$=c!=null,I=wN(c),L=wN(s),R=wN(d),z=x.useCallback(()=>{if(!A.current||!E.current)return;const F={placement:e,strategy:r,middleware:g};L.current&&(F.platform=L.current),Nhe(A.current,E.current,F).then(K=>{const te={...K,isPositioned:R.current!==!1};Y.current&&!Eb(P.current,te)&&(P.current=te,vA.flushSync(()=>{m(te)}))})},[g,e,r,L,R]);Ky(()=>{d===!1&&P.current.isPositioned&&(P.current.isPositioned=!1,m(F=>({...F,isPositioned:!1})))},[d]);const Y=x.useRef(!1);Ky(()=>(Y.current=!0,()=>{Y.current=!1}),[]),Ky(()=>{if(O&&(A.current=O),_&&(E.current=_),O&&_){if(I.current)return I.current(O,_,z);z()}},[O,_,z,I,$]);const q=x.useMemo(()=>({reference:A,floating:E,setReference:T,setFloating:S}),[T,S]),H=x.useMemo(()=>({reference:O,floating:_}),[O,_]),D=x.useMemo(()=>{const F={position:r,left:0,top:0};if(!H.floating)return F;const K=KR(H.floating,h.x),te=KR(H.floating,h.y);return l?{...F,transform:"translate("+K+"px, "+te+"px)",...bW(H.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:K,top:te}},[r,l,H.floating,h.x,h.y]);return x.useMemo(()=>({...h,update:z,refs:q,elements:H,floatingStyles:D}),[h,z,q,H,D])}const _he=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:s}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?YR({element:n.current,padding:s}).fn(r):{}:n?YR({element:n,padding:s}).fn(r):{}}}},Mhe=(t,e)=>({...jhe(t),options:[t,e]}),Ahe=(t,e)=>({...She(t),options:[t,e]}),Ohe=(t,e)=>({..._he(t),options:[t,e]}),Ehe={...cb};let XR=!1,Dhe=0;const JR=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+Dhe++;function Phe(){const[t,e]=x.useState(()=>XR?JR():void 0);return Ob(()=>{t==null&&e(JR())},[]),x.useEffect(()=>{XR=!0},[]),t}const Rhe=Ehe.useId,vW=Rhe||Phe,Ihe=x.forwardRef(function(e,r){const{context:{placement:n,elements:{floating:s},middlewareData:{arrow:i,shift:o}},width:l=14,height:c=7,tipRadius:d=0,strokeWidth:h=0,staticOffset:m,stroke:g,d:y,style:{transform:w,...j}={},...v}=e,N=vW(),[T,S]=x.useState(!1);if(Ob(()=>{if(!s)return;yi(s).direction==="rtl"&&S(!0)},[s]),!s)return null;const[O,_]=n.split("-"),A=O==="top"||O==="bottom";let E=m;(A&&o!=null&&o.x||!A&&o!=null&&o.y)&&(E=null);const P=h*2,$=P/2,I=l/2*(d/-8+1),L=c/2*d/4,R=!!y,z=E&&_==="end"?"bottom":"top";let Y=E&&_==="end"?"right":"left";E&&T&&(Y=_==="end"?"left":"right");const q=(i==null?void 0:i.x)!=null?E||i.x:"",H=(i==null?void 0:i.y)!=null?E||i.y:"",D=y||"M0,0"+(" H"+l)+(" L"+(l-I)+","+(c-L))+(" Q"+l/2+","+c+" "+I+","+(c-L))+" Z",F={top:R?"rotate(180deg)":"",left:R?"rotate(90deg)":"rotate(-90deg)",bottom:R?"":"rotate(180deg)",right:R?"rotate(-90deg)":"rotate(90deg)"}[O];return a.jsxs("svg",{...v,"aria-hidden":!0,ref:r,width:R?l:l+P,height:l,viewBox:"0 0 "+l+" "+(c>l?c:l),style:{position:"absolute",pointerEvents:"none",[Y]:q,[z]:H,[O]:A||R?"100%":"calc(100% - "+P/2+"px)",transform:[F,w].filter(K=>!!K).join(" "),...j},children:[P>0&&a.jsx("path",{clipPath:"url(#"+N+")",fill:"none",stroke:g,strokeWidth:P+(y?0:1),d:D}),a.jsx("path",{stroke:P&&!y?v.fill:"none",d:D}),a.jsx("clipPath",{id:N,children:a.jsx("rect",{x:-$,y:$*(R?-1:1),width:l+P,height:l})})]})});function Lhe(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(s=>s(r))},on(e,r){t.has(e)||t.set(e,new Set),t.get(e).add(r)},off(e,r){var n;(n=t.get(e))==null||n.delete(r)}}}const $he=x.createContext(null),Fhe=x.createContext(null),Hhe=()=>{var t;return((t=x.useContext($he))==null?void 0:t.id)||null},Bhe=()=>x.useContext(Fhe);function zhe(t){const{open:e=!1,onOpenChange:r,elements:n}=t,s=vW(),i=x.useRef({}),[o]=x.useState(()=>Lhe()),l=Hhe()!=null,[c,d]=x.useState(n.reference),h=Qfe((y,w,j)=>{i.current.openEvent=y?w:void 0,o.emit("openchange",{open:y,event:w,reason:j,nested:l}),r==null||r(y,w,j)}),m=x.useMemo(()=>({setPositionReference:d}),[]),g=x.useMemo(()=>({reference:c||n.reference||null,floating:n.floating||null,domReference:n.reference}),[c,n.reference,n.floating]);return x.useMemo(()=>({dataRef:i,open:e,onOpenChange:h,elements:g,events:o,floatingId:s,refs:m}),[e,h,g,o,s,m])}function Vhe(t){t===void 0&&(t={});const{nodeId:e}=t,r=zhe({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,s=n.elements,[i,o]=x.useState(null),[l,c]=x.useState(null),h=(s==null?void 0:s.domReference)||i,m=x.useRef(null),g=Bhe();Ob(()=>{h&&(m.current=h)},[h]);const y=The({...t,elements:{...s,...l&&{reference:l}}}),w=x.useCallback(S=>{const O=Ja(S)?{getBoundingClientRect:()=>S.getBoundingClientRect(),getClientRects:()=>S.getClientRects(),contextElement:S}:S;c(O),y.refs.setReference(O)},[y.refs]),j=x.useCallback(S=>{(Ja(S)||S===null)&&(m.current=S,o(S)),(Ja(y.refs.reference.current)||y.refs.reference.current===null||S!==null&&!Ja(S))&&y.refs.setReference(S)},[y.refs]),v=x.useMemo(()=>({...y.refs,setReference:j,setPositionReference:w,domReference:m}),[y.refs,j,w]),N=x.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),T=x.useMemo(()=>({...y,...n,refs:v,elements:N,nodeId:e}),[y,v,N,e,n]);return Ob(()=>{n.dataRef.current.floatingContext=T;const S=g==null?void 0:g.nodesRef.current.find(O=>O.id===e);S&&(S.context=T)}),x.useMemo(()=>({...y,context:T,refs:v,elements:N}),[y,v,N,T])}/*!
  react-datepicker v8.7.0
  https://github.com/Hacker0x01/react-datepicker
  Released under the MIT License.
*/var n_=function(e,r){return n_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,s){n.__proto__=s}||function(n,s){for(var i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n[i]=s[i])},n_(e,r)};function Da(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");n_(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var wr=function(){return wr=Object.assign||function(r){for(var n,s=1,i=arguments.length;s<i;s++){n=arguments[s];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(r[o]=n[o])}return r},wr.apply(this,arguments)};function oo(t,e,r){if(r||arguments.length===2)for(var n=0,s=e.length,i;n<s;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var qhe=function(t){var e=t.showTimeSelectOnly,r=e===void 0?!1:e,n=t.showTime,s=n===void 0?!1:n,i=t.className,o=t.children,l=r?"Choose Time":"Choose Date".concat(s?" and Time":"");return X.createElement("div",{className:i,role:"dialog","aria-label":l,"aria-modal":"true"},o)},Whe=function(t,e){var r=x.useRef(null),n=x.useRef(t);n.current=t;var s=x.useCallback(function(i){var o,l=i.composed&&i.composedPath&&i.composedPath().find(function(c){return c instanceof Node})||i.target;r.current&&!r.current.contains(l)&&(e&&l instanceof HTMLElement&&l.classList.contains(e)||(o=n.current)===null||o===void 0||o.call(n,i))},[e]);return x.useEffect(function(){return document.addEventListener("mousedown",s),function(){document.removeEventListener("mousedown",s)}},[s]),r},Bw=function(t){var e=t.children,r=t.onClickOutside,n=t.className,s=t.containerRef,i=t.style,o=t.ignoreClass,l=Whe(r,o);return X.createElement("div",{className:n,style:i,ref:function(c){l.current=c,s&&(s.current=c)}},e)},Tt;(function(t){t.ArrowUp="ArrowUp",t.ArrowDown="ArrowDown",t.ArrowLeft="ArrowLeft",t.ArrowRight="ArrowRight",t.PageUp="PageUp",t.PageDown="PageDown",t.Home="Home",t.End="End",t.Enter="Enter",t.Space=" ",t.Tab="Tab",t.Escape="Escape",t.Backspace="Backspace",t.X="x"})(Tt||(Tt={}));function wW(){var t=typeof window<"u"?window:globalThis;return t}var og=12;function zr(t){if(t==null)return new Date;var e=typeof t=="string"?ufe(t):$t(t);return zw(e)?e:new Date}function jN(t,e,r,n,s){s===void 0&&(s=zr());for(var i=Yf(r)||Yf(mO()),o=Array.isArray(e)?e:[e],l=0,c=o;l<c.length;l++){var d=c[l],h=afe(t,d,s,{locale:i});if(zw(h)&&(!n||t===pn(h,d,r)))return h}return null}function zw(t,e){return Sb(t)&&!io(t,new Date("1/1/1800"))}function pn(t,e,r){if(r==="en")return $R(t,e,{useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0});var n=r?Yf(r):void 0;return r&&!n&&console.warn('A locale object was not found for the provided string ["'.concat(r,'"].')),n=n||Yf(mO()),$R(t,e,{locale:n,useAdditionalWeekYearTokens:!0,useAdditionalDayOfYearTokens:!0})}function ii(t,e){var r=e.dateFormat,n=e.locale,s=Array.isArray(r)&&r.length>0?r[0]:r;return t&&pn(t,s,n)||""}var jW=" - ";function Uhe(t,e,r){if(!t&&!e)return"";var n=t?ii(t,r):"",s=e?ii(e,r):"",i=r.rangeSeparator||jW;return"".concat(n).concat(i).concat(s)}function Ghe(t,e){if(!(t!=null&&t.length))return"";var r=t[0]?ii(t[0],e):"";if(t.length===1)return r;if(t.length===2&&t[1]){var n=ii(t[1],e);return"".concat(r,", ").concat(n)}var s=t.length-1;return"".concat(r," (+").concat(s,")")}function SN(t,e){var r=e.hour,n=r===void 0?0:r,s=e.minute,i=s===void 0?0:s,o=e.second,l=o===void 0?0:o;return Uy(Gy(Yy(t,l),i),n)}function Yhe(t){return sO(t)}function Khe(t,e){return pn(t,"ddd",e)}function Xy(t){return Ku(t)}function Nc(t,e,r){var n=Yf(e||mO());return Sl(t,{locale:n,weekStartsOn:r})}function hl(t){return Qq(t)}function dp(t){return Rw(t)}function QR(t){return Q5(t)}function ZR(){return Ku(zr())}function eI(t){return Xq(t)}function Xhe(t){return uue(t)}function Jhe(t){return Jq(t)}function to(t,e){return t&&e?lfe(t,e):!t&&!e}function Ka(t,e){return t&&e?ife(t,e):!t&&!e}function Db(t,e){return t&&e?ofe(t,e):!t&&!e}function vr(t,e){return t&&e?lue(t,e):!t&&!e}function Cu(t,e){return t&&e?cde(t,e):!t&&!e}function xu(t,e,r){var n,s=Ku(e),i=Xq(r);try{n=Jp(t,{start:s,end:i})}catch{n=!1}return n}function mO(){var t=wW();return t.__localeId__}function Yf(t){if(typeof t=="string"){var e=wW();return e.__localeData__?e.__localeData__[t]:void 0}else return t}function Qhe(t,e,r){return e(pn(t,"EEEE",r))}function Zhe(t,e){return pn(t,"EEEEEE",e)}function eme(t,e){return pn(t,"EEE",e)}function pO(t,e){return pn(oi(zr(),t),"LLLL",e)}function SW(t,e){return pn(oi(zr(),t),"LLL",e)}function tme(t,e){return pn(of(zr(),t),"QQQ",e)}function ci(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.excludeDateIntervals,l=r.includeDates,c=r.includeDateIntervals,d=r.filterDate;return lg(t,{minDate:n,maxDate:s})||i&&i.some(function(h){return h instanceof Date?vr(t,h):vr(t,h.date)})||o&&o.some(function(h){var m=h.start,g=h.end;return Jp(t,{start:m,end:g})})||l&&!l.some(function(h){return vr(t,h)})||c&&!c.some(function(h){var m=h.start,g=h.end;return Jp(t,{start:m,end:g})})||d&&!d(zr(t))||!1}function gO(t,e){var r=e===void 0?{}:e,n=r.excludeDates,s=r.excludeDateIntervals;return s&&s.length>0?s.some(function(i){var o=i.start,l=i.end;return Jp(t,{start:o,end:l})}):n&&n.some(function(i){var o;return i instanceof Date?vr(t,i):vr(t,(o=i.date)!==null&&o!==void 0?o:new Date)})||!1}function NW(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return lg(t,{minDate:n?Qq(n):void 0,maxDate:s?Jq(s):void 0})||(i==null?void 0:i.some(function(c){return Ka(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Ka(t,c)})||l&&!l(zr(t))||!1}function Kx(t,e,r,n){var s=lr(t),i=Ha(t),o=lr(e),l=Ha(e),c=lr(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function rme(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates;return lg(t,{minDate:n,maxDate:s})||i&&i.some(function(l){return Ka(l instanceof Date?l:l.date,t)})||o&&!o.some(function(l){return Ka(l,t)})||!1}function Xx(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate;return lg(t,{minDate:n,maxDate:s})||(i==null?void 0:i.some(function(c){return Db(t,c instanceof Date?c:c.date)}))||o&&!o.some(function(c){return Db(t,c)})||l&&!l(zr(t))||!1}function Jx(t,e,r){if(!e||!r||!Sb(e)||!Sb(r))return!1;var n=lr(e),s=lr(r);return n<=t&&s>=t}function Jy(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.maxDate,i=r.excludeDates,o=r.includeDates,l=r.filterDate,c=new Date(t,0,1);return lg(c,{minDate:n?Rw(n):void 0,maxDate:s?Zq(s):void 0})||(i==null?void 0:i.some(function(d){return to(c,d instanceof Date?d:d.date)}))||o&&!o.some(function(d){return to(c,d)})||l&&!l(zr(c))||!1}function Qx(t,e,r,n){var s=lr(t),i=Lu(t),o=lr(e),l=Lu(e),c=lr(n);return s===o&&s===c?i<=r&&r<=l:s<o?c===s&&i<=r||c===o&&l>=r||c<o&&c>s:!1}function lg(t,e){var r,n=e===void 0?{}:e,s=n.minDate,i=n.maxDate;return(r=s&&Vf(t,s)<0||i&&Vf(t,i)>0)!==null&&r!==void 0?r:!1}function tI(t,e){return e.some(function(r){return dl(r)===dl(t)&&fl(r)===fl(t)&&Sc(r)===Sc(t)})}function rI(t,e){var r=e===void 0?{}:e,n=r.excludeTimes,s=r.includeTimes,i=r.filterTime;return n&&tI(t,n)||s&&!tI(t,s)||i&&!i(t)||!1}function nI(t,e){var r=e.minTime,n=e.maxTime;if(!r||!n)throw new Error("Both minTime and maxTime props required");var s=zr();s=Uy(s,dl(t)),s=Gy(s,fl(t)),s=Yy(s,Sc(t));var i=zr();i=Uy(i,dl(r)),i=Gy(i,fl(r)),i=Yy(i,Sc(r));var o=zr();o=Uy(o,dl(n)),o=Gy(o,fl(n)),o=Yy(o,Sc(n));var l;try{l=!Jp(s,{start:i,end:o})}catch{l=!1}return l}function aI(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=$u(t,1);return n&&Nb(n,i)>0||s&&s.every(function(o){return Nb(o,i)>0})||!1}function sI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=Vi(t,1);return n&&Nb(i,n)>0||s&&s.every(function(o){return Nb(i,o)>0})||!1}function nme(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=Rw(t),o=lW(i);return n&&kb(n,o)>0||s&&s.every(function(l){return kb(l,o)>0})||!1}function ame(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=Zq(t),o=aO(i,1);return n&&kb(o,n)>0||s&&s.every(function(l){return kb(o,l)>0})||!1}function iI(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.includeDates,i=qf(t,1);return n&&Cb(n,i)>0||s&&s.every(function(o){return Cb(o,i)>0})||!1}function sme(t,e){var r=e===void 0?{}:e,n=r.minDate,s=r.yearItemNumber,i=s===void 0?og:s,o=dp(qf(t,i)),l=rl(o,i).endPeriod,c=n&&lr(n);return c&&c>l||!1}function oI(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.includeDates,i=cl(t,1);return n&&Cb(i,n)>0||s&&s.every(function(o){return Cb(i,o)>0})||!1}function ime(t,e){var r=e===void 0?{}:e,n=r.maxDate,s=r.yearItemNumber,i=s===void 0?og:s,o=cl(t,i),l=rl(o,i).startPeriod,c=n&&lr(n);return c&&c<l||!1}function kW(t){var e=t.minDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Vf(s,e)>=0});return ER(n)}else return r?ER(r):e}function CW(t){var e=t.maxDate,r=t.includeDates;if(r&&e){var n=r.filter(function(s){return Vf(s,e)<=0});return OR(n)}else return r?OR(r):e}function lI(t,e){var r;t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--highlighted");for(var n=new Map,s=0,i=t.length;s<i;s++){var o=t[s];if(ul(o)){var l=pn(o,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(e)||(c.push(e),n.set(l,c))}else if(typeof o=="object"){var d=Object.keys(o),h=(r=d[0])!==null&&r!==void 0?r:"",m=o[h];if(typeof h=="string"&&Array.isArray(m))for(var g=0,y=m.length;g<y;g++){var w=m[g];if(w){var l=pn(w,"MM.dd.yyyy"),c=n.get(l)||[];c.includes(h)||(c.push(h),n.set(l,c))}}}}return n}function ome(t,e){return t.length!==e.length?!1:t.every(function(r,n){return r===e[n]})}function lme(t,e){t===void 0&&(t=[]),e===void 0&&(e="react-datepicker__day--holidays");var r=new Map;return t.forEach(function(n){var s=n.date,i=n.holidayName;if(ul(s)){var o=pn(s,"MM.dd.yyyy"),l=r.get(o)||{className:"",holidayNames:[]};if(!("className"in l&&l.className===e&&ome(l.holidayNames,[i]))){l.className=e;var c=l.holidayNames;l.holidayNames=c?oo(oo([],c,!0),[i],!1):[i],r.set(o,l)}}}),r}function cme(t,e,r,n,s){for(var i=s.length,o=[],l=0;l<i;l++){var c=t,d=s[l];d&&(c=aue(c,dl(d)),c=J5(c,fl(d)),c=oue(c,Sc(d)));var h=J5(t,(r+1)*n);Pc(c,e)&&io(c,h)&&d!=null&&o.push(d)}return o}function cI(t){return t<10?"0".concat(t):"".concat(t)}function rl(t,e){e===void 0&&(e=og);var r=Math.ceil(lr(t)/e)*e,n=r-(e-1);return{startPeriod:n,endPeriod:r}}function ume(t){var e=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(t.getFullYear(),t.getMonth(),t.getDate(),24);return Math.round((+r-+e)/36e5)}function uI(t){var e=t.getSeconds(),r=t.getMilliseconds();return $t(t.getTime()-e*1e3-r)}function dme(t,e){return uI(t).getTime()===uI(e).getTime()}function dI(t){if(!ul(t))throw new Error("Invalid date");var e=new Date(t);return e.setHours(0,0,0,0),e}function NN(t,e){if(!ul(t)||!ul(e))throw new Error("Invalid date received");var r=dI(t),n=dI(e);return io(r,n)}function TW(t){return t.key===Tt.Space}var fme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.inputRef=X.createRef(),n.onTimeChange=function(s){var i,o;n.setState({time:s});var l=n.props.date,c=l instanceof Date&&!isNaN(+l),d=c?l:new Date;if(s!=null&&s.includes(":")){var h=s.split(":"),m=h[0],g=h[1];d.setHours(Number(m)),d.setMinutes(Number(g))}(o=(i=n.props).onChange)===null||o===void 0||o.call(i,d)},n.renderTimeInput=function(){var s=n.state.time,i=n.props,o=i.date,l=i.timeString,c=i.customTimeInput;return c?x.cloneElement(c,{date:o,value:s,onChange:n.onTimeChange}):X.createElement("input",{type:"time",className:"react-datepicker-time__input",placeholder:"Time",name:"time-input",ref:n.inputRef,onClick:function(){var d;(d=n.inputRef.current)===null||d===void 0||d.focus()},required:!0,value:s,onChange:function(d){n.onTimeChange(d.target.value||l)}})},n.state={time:n.props.timeString},n}return e.getDerivedStateFromProps=function(r,n){return r.timeString!==n.time?{time:r.timeString}:null},e.prototype.render=function(){return X.createElement("div",{className:"react-datepicker__input-time-container"},X.createElement("div",{className:"react-datepicker-time__caption"},this.props.timeInputLabel),X.createElement("div",{className:"react-datepicker-time__input-container"},X.createElement("div",{className:"react-datepicker-time__input"},this.renderTimeInput())))},e})(x.Component),hme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.dayEl=x.createRef(),r.handleClick=function(n){!r.isDisabled()&&r.props.onClick&&r.props.onClick(n)},r.handleMouseEnter=function(n){!r.isDisabled()&&r.props.onMouseEnter&&r.props.onMouseEnter(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===Tt.Space&&(n.preventDefault(),n.key=Tt.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isSameDay=function(n){return vr(r.props.day,n)},r.isKeyboardSelected=function(){var n;if(r.props.disabledKeyboardNavigation)return!1;var s=r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(o){return r.isSameDayOrWeek(o)}):r.isSameDayOrWeek(r.props.selected),i=r.props.preSelection&&r.isDisabled(r.props.preSelection);return!s&&r.isSameDayOrWeek(r.props.preSelection)&&!i},r.isDisabled=function(n){return n===void 0&&(n=r.props.day),ci(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(){return gO(r.props.day,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.isStartOfWeek=function(){return vr(r.props.day,Nc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameWeek=function(n){return r.props.showWeekPicker&&vr(n,Nc(r.props.day,r.props.locale,r.props.calendarStartDay))},r.isSameDayOrWeek=function(n){return r.isSameDay(n)||r.isSameWeek(n)},r.getHighLightedClass=function(){var n=r.props,s=n.day,i=n.highlightDates;if(!i)return!1;var o=pn(s,"MM.dd.yyyy");return i.get(o)},r.getHolidaysClass=function(){var n,s=r.props,i=s.day,o=s.holidays;if(!o)return[void 0];var l=pn(i,"MM.dd.yyyy");return o.has(l)?[(n=o.get(l))===null||n===void 0?void 0:n.className]:[void 0]},r.isInRange=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:xu(s,i,o)},r.isInSelectingRange=function(){var n,s=r.props,i=s.day,o=s.selectsStart,l=s.selectsEnd,c=s.selectsRange,d=s.selectsDisabledDaysInRange,h=s.startDate,m=s.swapRange,g=s.endDate,y=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;if(!(o||l||c)||!y||!d&&r.isDisabled())return!1;if(o&&g&&(io(y,g)||Cu(y,g)))return xu(i,y,g);if(l&&h&&(Pc(y,h)||Cu(y,h)))return xu(i,h,y);if(c&&h&&!g){if(Cu(y,h)||Pc(y,h))return xu(i,h,y);if(m&&io(y,h))return xu(i,y,h)}return!1},r.isSelectingRangeStart=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.startDate,l=s.selectsStart,c=s.swapRange,d=s.selectsRange,h=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?vr(i,h):d&&c&&o&&h?vr(i,io(h,o)?h:o):vr(i,o)},r.isSelectingRangeEnd=function(){var n;if(!r.isInSelectingRange())return!1;var s=r.props,i=s.day,o=s.endDate,l=s.selectsEnd,c=s.selectsRange,d=s.swapRange,h=s.startDate,m=(n=r.props.selectingDate)!==null&&n!==void 0?n:r.props.preSelection;return l?vr(i,m):c&&d&&h&&m?vr(i,io(m,h)?h:m):c?vr(i,m):vr(i,o)},r.isRangeStart=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:vr(i,s)},r.isRangeEnd=function(){var n=r.props,s=n.day,i=n.startDate,o=n.endDate;return!i||!o?!1:vr(o,s)},r.isWeekend=function(){var n=sde(r.props.day);return n===0||n===6},r.isAfterMonth=function(){return r.props.month!==void 0&&(r.props.month+1)%12===Ha(r.props.day)},r.isBeforeMonth=function(){return r.props.month!==void 0&&(Ha(r.props.day)+1)%12===r.props.month},r.isCurrentDay=function(){return r.isSameDay(zr())},r.isSelected=function(){var n;return r.props.selectsMultiple?(n=r.props.selectedDates)===null||n===void 0?void 0:n.some(function(s){return r.isSameDayOrWeek(s)}):r.isSameDayOrWeek(r.props.selected)},r.getClassNames=function(n){var s=r.props.dayClassName?r.props.dayClassName(n):void 0;return Ft("react-datepicker__day",s,"react-datepicker__day--"+Khe(r.props.day),{"react-datepicker__day--disabled":r.isDisabled(),"react-datepicker__day--excluded":r.isExcluded(),"react-datepicker__day--selected":r.isSelected(),"react-datepicker__day--keyboard-selected":r.isKeyboardSelected(),"react-datepicker__day--range-start":r.isRangeStart(),"react-datepicker__day--range-end":r.isRangeEnd(),"react-datepicker__day--in-range":r.isInRange(),"react-datepicker__day--in-selecting-range":r.isInSelectingRange(),"react-datepicker__day--selecting-range-start":r.isSelectingRangeStart(),"react-datepicker__day--selecting-range-end":r.isSelectingRangeEnd(),"react-datepicker__day--today":r.isCurrentDay(),"react-datepicker__day--weekend":r.isWeekend(),"react-datepicker__day--outside-month":r.isAfterMonth()||r.isBeforeMonth()},r.getHighLightedClass(),r.getHolidaysClass())},r.getAriaLabel=function(){var n=r.props,s=n.day,i=n.ariaLabelPrefixWhenEnabled,o=i===void 0?"Choose":i,l=n.ariaLabelPrefixWhenDisabled,c=l===void 0?"Not available":l,d=r.isDisabled()||r.isExcluded()?c:o;return"".concat(d," ").concat(pn(s,"PPPP",r.props.locale))},r.getTitle=function(){var n=r.props,s=n.day,i=n.holidays,o=i===void 0?new Map:i,l=n.excludeDates,c=pn(s,"MM.dd.yyyy"),d=[];return o.has(c)&&d.push.apply(d,o.get(c).holidayNames),r.isExcluded()&&d.push(l==null?void 0:l.filter(function(h){return h instanceof Date?vr(h,s):vr(h==null?void 0:h.date,s)}).map(function(h){if(!(h instanceof Date))return h==null?void 0:h.message})),d.join(", ")},r.getTabIndex=function(){var n=r.props.selected,s=r.props.preSelection,i=!(r.props.showWeekPicker&&(r.props.showWeekNumber||!r.isStartOfWeek()))&&(r.isKeyboardSelected()||r.isSameDay(n)&&vr(s,n))?0:-1;return i},r.handleFocusDay=function(){var n;r.shouldFocusDay()&&((n=r.dayEl.current)===null||n===void 0||n.focus({preventScroll:!0}))},r.renderDayContents=function(){return r.props.monthShowsDuplicateDaysEnd&&r.isAfterMonth()||r.props.monthShowsDuplicateDaysStart&&r.isBeforeMonth()?null:r.props.renderDayContents?r.props.renderDayContents(FR(r.props.day),r.props.day):FR(r.props.day)},r.render=function(){return X.createElement("div",{ref:r.dayEl,className:r.getClassNames(r.props.day),onKeyDown:r.handleOnKeyDown,onClick:r.handleClick,onMouseEnter:r.props.usePointerEvent?void 0:r.handleMouseEnter,onPointerEnter:r.props.usePointerEvent?r.handleMouseEnter:void 0,tabIndex:r.getTabIndex(),"aria-label":r.getAriaLabel(),role:"gridcell",title:r.getTitle(),"aria-disabled":r.isDisabled(),"aria-current":r.isCurrentDay()?"date":void 0,"aria-selected":r.isSelected()||r.isInRange()},r.renderDayContents(),r.getTitle()!==""&&X.createElement("span",{className:"overlay"},r.getTitle()))},r}return e.prototype.componentDidMount=function(){this.handleFocusDay()},e.prototype.componentDidUpdate=function(){this.handleFocusDay()},e.prototype.shouldFocusDay=function(){var r=!1;return this.getTabIndex()===0&&this.isSameDay(this.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(r=!0),this.props.inline&&!this.props.shouldFocusDayInline&&(r=!1),this.isDayActiveElement()&&(r=!0),this.isDuplicateDay()&&(r=!1)),r},e.prototype.isDayActiveElement=function(){var r,n,s;return((n=(r=this.props.containerRef)===null||r===void 0?void 0:r.current)===null||n===void 0?void 0:n.contains(document.activeElement))&&((s=document.activeElement)===null||s===void 0?void 0:s.classList.contains("react-datepicker__day"))},e.prototype.isDuplicateDay=function(){return this.props.monthShowsDuplicateDaysEnd&&this.isAfterMonth()||this.props.monthShowsDuplicateDaysStart&&this.isBeforeMonth()},e})(x.Component),mme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.weekNumberEl=x.createRef(),r.handleClick=function(n){r.props.onClick&&r.props.onClick(n)},r.handleOnKeyDown=function(n){var s,i,o=n.key;o===Tt.Space&&(n.preventDefault(),n.key=Tt.Enter),(i=(s=r.props).handleOnKeyDown)===null||i===void 0||i.call(s,n)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!vr(r.props.date,r.props.selected)&&vr(r.props.date,r.props.preSelection)},r.getTabIndex=function(){return r.props.showWeekPicker&&r.props.showWeekNumber&&(r.isKeyboardSelected()||vr(r.props.date,r.props.selected)&&vr(r.props.preSelection,r.props.selected))?0:-1},r.handleFocusWeekNumber=function(n){var s=!1;r.getTabIndex()===0&&!(n!=null&&n.isInputFocused)&&vr(r.props.date,r.props.preSelection)&&((!document.activeElement||document.activeElement===document.body)&&(s=!0),r.props.inline&&!r.props.shouldFocusDayInline&&(s=!1),r.props.containerRef&&r.props.containerRef.current&&r.props.containerRef.current.contains(document.activeElement)&&document.activeElement&&document.activeElement.classList.contains("react-datepicker__week-number")&&(s=!0)),s&&r.weekNumberEl.current&&r.weekNumberEl.current.focus({preventScroll:!0})},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{ariaLabelPrefix:"week "}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.handleFocusWeekNumber()},e.prototype.componentDidUpdate=function(r){this.handleFocusWeekNumber(r)},e.prototype.render=function(){var r=this.props,n=r.weekNumber,s=r.isWeekDisabled,i=r.ariaLabelPrefix,o=i===void 0?e.defaultProps.ariaLabelPrefix:i,l=r.onClick,c={"react-datepicker__week-number":!0,"react-datepicker__week-number--clickable":!!l&&!s,"react-datepicker__week-number--selected":!!l&&vr(this.props.date,this.props.selected)};return X.createElement("div",{ref:this.weekNumberEl,className:Ft(c),"aria-label":"".concat(o," ").concat(this.props.weekNumber),onClick:this.handleClick,onKeyDown:this.handleOnKeyDown,tabIndex:this.getTabIndex(),role:"gridcell"},n)},e})(x.Component),pme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.isDisabled=function(n){return ci(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.handleDayClick=function(n,s){r.props.onDayClick&&r.props.onDayClick(n,s)},r.handleDayMouseEnter=function(n){r.props.onDayMouseEnter&&r.props.onDayMouseEnter(n)},r.handleWeekClick=function(n,s,i){for(var o,l,c,d=new Date(n),h=0;h<7;h++){var m=new Date(n);m.setDate(m.getDate()+h);var g=!r.isDisabled(m);if(g){d=m;break}}typeof r.props.onWeekSelect=="function"&&r.props.onWeekSelect(d,s,i),r.props.showWeekPicker&&r.handleDayClick(d,i),((o=r.props.shouldCloseOnSelect)!==null&&o!==void 0?o:e.defaultProps.shouldCloseOnSelect)&&((c=(l=r.props).setOpen)===null||c===void 0||c.call(l,!1))},r.formatWeekNumber=function(n){return r.props.formatWeekNumber?r.props.formatWeekNumber(n):Yhe(n)},r.isWeekDisabled=function(){for(var n=r.startOfWeek(),s=Fi(n,6),i=new Date(n);i<=s;){if(!r.isDisabled(i))return!1;i=Fi(i,1)}return!0},r.renderDays=function(){var n=r.startOfWeek(),s=[],i=r.formatWeekNumber(n);if(r.props.showWeekNumber){var o=r.props.onWeekSelect||r.props.showWeekPicker?r.handleWeekClick.bind(r,n,i):void 0;s.push(X.createElement(mme,wr({key:"W"},e.defaultProps,r.props,{weekNumber:i,isWeekDisabled:r.isWeekDisabled(),date:n,onClick:o})))}return s.concat([0,1,2,3,4,5,6].map(function(l){var c=Fi(n,l);return X.createElement(hme,wr({},e.defaultProps,r.props,{ariaLabelPrefixWhenEnabled:r.props.chooseDayAriaLabelPrefix,ariaLabelPrefixWhenDisabled:r.props.disabledDayAriaLabelPrefix,key:c.valueOf(),day:c,onClick:r.handleDayClick.bind(r,c),onMouseEnter:r.handleDayMouseEnter.bind(r,c)}))}))},r.startOfWeek=function(){return Nc(r.props.day,r.props.locale,r.props.calendarStartDay)},r.isKeyboardSelected=function(){return!r.props.disabledKeyboardNavigation&&!vr(r.startOfWeek(),r.props.selected)&&vr(r.startOfWeek(),r.props.preSelection)},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{shouldCloseOnSelect:!0}},enumerable:!1,configurable:!0}),e.prototype.render=function(){var r={"react-datepicker__week":!0,"react-datepicker__week--selected":vr(this.startOfWeek(),this.props.selected),"react-datepicker__week--keyboard-selected":this.isKeyboardSelected()},n=this.props.weekClassName?this.props.weekClassName(this.startOfWeek()):void 0;return X.createElement("div",{className:Ft(r,n),role:"row"},this.renderDays())},e})(x.Component),qm,gme=6,_f={TWO_COLUMNS:"two_columns",THREE_COLUMNS:"three_columns",FOUR_COLUMNS:"four_columns"},kN=(qm={},qm[_f.TWO_COLUMNS]={grid:[[0,1],[2,3],[4,5],[6,7],[8,9],[10,11]],verticalNavigationOffset:2},qm[_f.THREE_COLUMNS]={grid:[[0,1,2],[3,4,5],[6,7,8],[9,10,11]],verticalNavigationOffset:3},qm[_f.FOUR_COLUMNS]={grid:[[0,1,2,3],[4,5,6,7],[8,9,10,11]],verticalNavigationOffset:4},qm),Zx=1;function fI(t,e){return t?_f.FOUR_COLUMNS:e?_f.TWO_COLUMNS:_f.THREE_COLUMNS}var xme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.MONTH_REFS=oo([],Array(12),!0).map(function(){return x.createRef()}),r.QUARTER_REFS=oo([],Array(4),!0).map(function(){return x.createRef()}),r.isDisabled=function(n){return ci(n,{minDate:r.props.minDate,maxDate:r.props.maxDate,excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals,includeDateIntervals:r.props.includeDateIntervals,includeDates:r.props.includeDates,filterDate:r.props.filterDate})},r.isExcluded=function(n){return gO(n,{excludeDates:r.props.excludeDates,excludeDateIntervals:r.props.excludeDateIntervals})},r.handleDayClick=function(n,s){var i,o;(o=(i=r.props).onDayClick)===null||o===void 0||o.call(i,n,s,r.props.orderInDisplay)},r.handleDayMouseEnter=function(n){var s,i;(i=(s=r.props).onDayMouseEnter)===null||i===void 0||i.call(s,n)},r.handleMouseLeave=function(){var n,s;(s=(n=r.props).onMouseLeave)===null||s===void 0||s.call(n)},r.isRangeStartMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Ka(oi(i,n),o)},r.isRangeStartQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Db(of(i,n),o)},r.isRangeEndMonth=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Ka(oi(i,n),l)},r.isRangeEndQuarter=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate;return!o||!l?!1:Db(of(i,n),l)},r.isInSelectingRangeMonth=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,g=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!g?!1:l&&m?Kx(g,m,n,o):c&&h||d&&h&&!m?Kx(h,g,n,o):!1},r.isSelectingMonthRangeStart=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.startDate,c=i.selectsStart,d=oi(o,n),h=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c?Ka(d,h):Ka(d,l)},r.isSelectingMonthRangeEnd=function(n){var s;if(!r.isInSelectingRangeMonth(n))return!1;var i=r.props,o=i.day,l=i.endDate,c=i.selectsEnd,d=i.selectsRange,h=oi(o,n),m=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return c||d?Ka(h,m):Ka(h,l)},r.isInSelectingRangeQuarter=function(n){var s,i=r.props,o=i.day,l=i.selectsStart,c=i.selectsEnd,d=i.selectsRange,h=i.startDate,m=i.endDate,g=(s=r.props.selectingDate)!==null&&s!==void 0?s:r.props.preSelection;return!(l||c||d)||!g?!1:l&&m?Qx(g,m,n,o):c&&h||d&&h&&!m?Qx(h,g,n,o):!1},r.isWeekInMonth=function(n){var s=r.props.day,i=Fi(n,6);return Ka(n,s)||Ka(i,s)},r.isCurrentMonth=function(n,s){return lr(n)===lr(zr())&&s===Ha(zr())},r.isCurrentQuarter=function(n,s){return lr(n)===lr(zr())&&s===Lu(zr())},r.isSelectedMonth=function(n,s,i){return Ha(i)===s&&lr(n)===lr(i)},r.isSelectMonthInList=function(n,s,i){return i.some(function(o){return r.isSelectedMonth(n,s,o)})},r.isSelectedQuarter=function(n,s,i){return Lu(n)===s&&lr(n)===lr(i)},r.isMonthSelected=function(){var n=r.props,s=n.day,i=n.selected,o=n.selectedDates,l=n.selectsMultiple,c=Ha(s);return l?o==null?void 0:o.some(function(d){return r.isSelectedMonth(s,c,d)}):!!i&&r.isSelectedMonth(s,c,i)},r.renderWeeks=function(){for(var n=[],s=r.props.fixedHeight,i=0,o=!1,l=Nc(hl(r.props.day),r.props.locale,r.props.calendarStartDay),c=function(w){return r.props.showWeekPicker?Nc(w,r.props.locale,r.props.calendarStartDay):r.props.preSelection},d=function(w){return r.props.showWeekPicker?Nc(w,r.props.locale,r.props.calendarStartDay):r.props.selected},h=r.props.selected?d(r.props.selected):void 0,m=r.props.preSelection?c(r.props.preSelection):void 0;n.push(X.createElement(pme,wr({},r.props,{ariaLabelPrefix:r.props.weekAriaLabelPrefix,key:i,day:l,month:Ha(r.props.day),onDayClick:r.handleDayClick,onDayMouseEnter:r.handleDayMouseEnter,selected:h,preSelection:m,showWeekNumber:r.props.showWeekNumbers}))),!o;){i++,l=jb(l,1);var g=s&&i>=gme,y=!s&&!r.isWeekInMonth(l);if(g||y)if(r.props.peekNextMonth)o=!0;else break}return n},r.onMonthClick=function(n,s){var i=r.isMonthDisabledForLabelDate(s),o=i.isDisabled,l=i.labelDate;o||r.handleDayClick(hl(l),n)},r.onMonthMouseEnter=function(n){var s=r.isMonthDisabledForLabelDate(n),i=s.isDisabled,o=s.labelDate;i||r.handleDayMouseEnter(hl(o))},r.handleMonthNavigation=function(n,s){var i,o,l,c;(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.MONTH_REFS[n])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus()},r.handleKeyboardNavigation=function(n,s,i){var o,l=r.props,c=l.selected,d=l.preSelection,h=l.setPreSelection,m=l.minDate,g=l.maxDate,y=l.showFourColumnMonthYearPicker,w=l.showTwoColumnMonthYearPicker;if(d){var j=fI(y,w),v=r.getVerticalOffset(j),N=(o=kN[j])===null||o===void 0?void 0:o.grid,T=function(E,P,$){var I,L,R=P,z=$;switch(E){case Tt.ArrowRight:R=Vi(P,Zx),z=$===11?0:$+Zx;break;case Tt.ArrowLeft:R=$u(P,Zx),z=$===0?11:$-Zx;break;case Tt.ArrowUp:R=$u(P,v),z=!((I=N==null?void 0:N[0])===null||I===void 0)&&I.includes($)?$+12-v:$-v;break;case Tt.ArrowDown:R=Vi(P,v),z=!((L=N==null?void 0:N[N.length-1])===null||L===void 0)&&L.includes($)?$-12+v:$+v;break}return{newCalculatedDate:R,newCalculatedMonth:z}},S=function(E,P,$){for(var I=40,L=E,R=!1,z=0,Y=T(L,P,$),q=Y.newCalculatedDate,H=Y.newCalculatedMonth;!R;){if(z>=I){q=P,H=$;break}if(m&&q<m){L=Tt.ArrowRight;var D=T(L,q,H);q=D.newCalculatedDate,H=D.newCalculatedMonth}if(g&&q>g){L=Tt.ArrowLeft;var D=T(L,q,H);q=D.newCalculatedDate,H=D.newCalculatedMonth}if(rme(q,r.props)){var D=T(L,q,H);q=D.newCalculatedDate,H=D.newCalculatedMonth}else R=!0;z++}return{newCalculatedDate:q,newCalculatedMonth:H}};if(s===Tt.Enter){r.isMonthDisabled(i)||(r.onMonthClick(n,i),h==null||h(c));return}var O=S(s,d,i),_=O.newCalculatedDate,A=O.newCalculatedMonth;switch(s){case Tt.ArrowRight:case Tt.ArrowLeft:case Tt.ArrowUp:case Tt.ArrowDown:r.handleMonthNavigation(A,_);break}}},r.getVerticalOffset=function(n){var s,i;return(i=(s=kN[n])===null||s===void 0?void 0:s.verticalNavigationOffset)!==null&&i!==void 0?i:0},r.onMonthKeyDown=function(n,s){var i=r.props,o=i.disabledKeyboardNavigation,l=i.handleOnMonthKeyDown,c=n.key;c!==Tt.Tab&&n.preventDefault(),o||r.handleKeyboardNavigation(n,c,s),l&&l(n)},r.onQuarterClick=function(n,s){var i=of(r.props.day,s);Xx(i,r.props)||r.handleDayClick(QR(i),n)},r.onQuarterMouseEnter=function(n){var s=of(r.props.day,n);Xx(s,r.props)||r.handleDayMouseEnter(QR(s))},r.handleQuarterNavigation=function(n,s){var i,o,l,c;r.isDisabled(s)||r.isExcluded(s)||((o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,s),(c=(l=r.QUARTER_REFS[n-1])===null||l===void 0?void 0:l.current)===null||c===void 0||c.focus())},r.onQuarterKeyDown=function(n,s){var i,o,l=n.key;if(!r.props.disabledKeyboardNavigation)switch(l){case Tt.Enter:r.onQuarterClick(n,s),(o=(i=r.props).setPreSelection)===null||o===void 0||o.call(i,r.props.selected);break;case Tt.ArrowRight:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===4?1:s+1,aO(r.props.preSelection,1));break;case Tt.ArrowLeft:if(!r.props.preSelection)break;r.handleQuarterNavigation(s===1?4:s-1,lW(r.props.preSelection));break}},r.isMonthDisabledForLabelDate=function(n){var s,i=r.props,o=i.day,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=oi(o,n);return{isDisabled:(s=(l||c||d||h)&&NW(m,r.props))!==null&&s!==void 0?s:!1,labelDate:m}},r.isMonthDisabled=function(n){var s=r.isMonthDisabledForLabelDate(n).isDisabled;return s},r.getMonthClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.preSelection,d=s.monthClassName,h=d?d(oi(i,n)):void 0,m=r.getSelection();return Ft("react-datepicker__month-text","react-datepicker__month-".concat(n),h,{"react-datepicker__month-text--disabled":r.isMonthDisabled(n),"react-datepicker__month-text--selected":m?r.isSelectMonthInList(i,n,m):void 0,"react-datepicker__month-text--keyboard-selected":!r.props.disabledKeyboardNavigation&&c&&r.isSelectedMonth(i,n,c)&&!r.isMonthSelected()&&!r.isMonthDisabled(n),"react-datepicker__month-text--in-selecting-range":r.isInSelectingRangeMonth(n),"react-datepicker__month-text--in-range":o&&l?Kx(o,l,n,i):void 0,"react-datepicker__month-text--range-start":r.isRangeStartMonth(n),"react-datepicker__month-text--range-end":r.isRangeEndMonth(n),"react-datepicker__month-text--selecting-range-start":r.isSelectingMonthRangeStart(n),"react-datepicker__month-text--selecting-range-end":r.isSelectingMonthRangeEnd(n),"react-datepicker__month-text--today":r.isCurrentMonth(i,n)})},r.getTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=Ha(r.props.preSelection),i=r.isMonthDisabledForLabelDate(s).isDisabled,o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getQuarterTabIndex=function(n){if(r.props.preSelection==null)return"-1";var s=Lu(r.props.preSelection),i=Xx(r.props.day,r.props),o=n===s&&!(i||r.props.disabledKeyboardNavigation)?"0":"-1";return o},r.getAriaLabel=function(n){var s=r.props,i=s.chooseDayAriaLabelPrefix,o=i===void 0?"Choose":i,l=s.disabledDayAriaLabelPrefix,c=l===void 0?"Not available":l,d=s.day,h=s.locale,m=oi(d,n),g=r.isDisabled(m)||r.isExcluded(m)?c:o;return"".concat(g," ").concat(pn(m,"MMMM yyyy",h))},r.getQuarterClassNames=function(n){var s=r.props,i=s.day,o=s.startDate,l=s.endDate,c=s.selected,d=s.minDate,h=s.maxDate,m=s.excludeDates,g=s.includeDates,y=s.filterDate,w=s.preSelection,j=s.disabledKeyboardNavigation,v=(d||h||m||g||y)&&Xx(of(i,n),r.props);return Ft("react-datepicker__quarter-text","react-datepicker__quarter-".concat(n),{"react-datepicker__quarter-text--disabled":v,"react-datepicker__quarter-text--selected":c?r.isSelectedQuarter(i,n,c):void 0,"react-datepicker__quarter-text--keyboard-selected":!j&&w&&r.isSelectedQuarter(i,n,w)&&!v,"react-datepicker__quarter-text--in-selecting-range":r.isInSelectingRangeQuarter(n),"react-datepicker__quarter-text--in-range":o&&l?Qx(o,l,n,i):void 0,"react-datepicker__quarter-text--range-start":r.isRangeStartQuarter(n),"react-datepicker__quarter-text--range-end":r.isRangeEndQuarter(n),"react-datepicker__quarter-text--today":r.isCurrentQuarter(i,n)})},r.getMonthContent=function(n){var s=r.props,i=s.showFullMonthYearPicker,o=s.renderMonthContent,l=s.locale,c=s.day,d=SW(n,l),h=pO(n,l);return o?o(n,d,h,c):i?h:d},r.getQuarterContent=function(n){var s,i=r.props,o=i.renderQuarterContent,l=i.locale,c=tme(n,l);return(s=o==null?void 0:o(n,c))!==null&&s!==void 0?s:c},r.renderMonths=function(){var n,s=r.props,i=s.showTwoColumnMonthYearPicker,o=s.showFourColumnMonthYearPicker,l=s.day,c=s.selected,d=(n=kN[fI(o,i)])===null||n===void 0?void 0:n.grid;return d==null?void 0:d.map(function(h,m){return X.createElement("div",{className:"react-datepicker__month-wrapper",key:m},h.map(function(g,y){return X.createElement("div",{ref:r.MONTH_REFS[g],key:y,onClick:function(w){r.onMonthClick(w,g)},onKeyDown:function(w){TW(w)&&(w.preventDefault(),w.key=Tt.Enter),r.onMonthKeyDown(w,g)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onMonthMouseEnter(g)},onPointerEnter:r.props.usePointerEvent?function(){return r.onMonthMouseEnter(g)}:void 0,tabIndex:Number(r.getTabIndex(g)),className:r.getMonthClassNames(g),"aria-disabled":r.isMonthDisabled(g),role:"option","aria-label":r.getAriaLabel(g),"aria-current":r.isCurrentMonth(l,g)?"date":void 0,"aria-selected":c?r.isSelectedMonth(l,g,c):void 0},r.getMonthContent(g))}))})},r.renderQuarters=function(){var n=r.props,s=n.day,i=n.selected,o=[1,2,3,4];return X.createElement("div",{className:"react-datepicker__quarter-wrapper"},o.map(function(l,c){return X.createElement("div",{key:c,ref:r.QUARTER_REFS[c],role:"option",onClick:function(d){r.onQuarterClick(d,l)},onKeyDown:function(d){r.onQuarterKeyDown(d,l)},onMouseEnter:r.props.usePointerEvent?void 0:function(){return r.onQuarterMouseEnter(l)},onPointerEnter:r.props.usePointerEvent?function(){return r.onQuarterMouseEnter(l)}:void 0,className:r.getQuarterClassNames(l),"aria-selected":i?r.isSelectedQuarter(s,l,i):void 0,tabIndex:Number(r.getQuarterTabIndex(l)),"aria-current":r.isCurrentQuarter(s,l)?"date":void 0},r.getQuarterContent(l))}))},r.getClassNames=function(){var n=r.props,s=n.selectingDate,i=n.selectsStart,o=n.selectsEnd,l=n.showMonthYearPicker,c=n.showQuarterYearPicker,d=n.showWeekPicker;return Ft("react-datepicker__month",{"react-datepicker__month--selecting-range":s&&(i||o)},{"react-datepicker__monthPicker":l},{"react-datepicker__quarterPicker":c},{"react-datepicker__weekPicker":d})},r}return e.prototype.getSelection=function(){var r=this.props,n=r.selected,s=r.selectedDates,i=r.selectsMultiple;if(i)return s;if(n)return[n]},e.prototype.render=function(){var r=this.props,n=r.showMonthYearPicker,s=r.showQuarterYearPicker,i=r.day,o=r.ariaLabelPrefix,l=o===void 0?"Month ":o,c=l?l.trim()+" ":"",d=n||s;return d?X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(pn(i,"MMMM, yyyy",this.props.locale)),role:"listbox"},n?this.renderMonths():this.renderQuarters()):X.createElement("div",{role:"table"},this.props.dayNamesHeader&&X.createElement("div",{role:"rowgroup"},this.props.dayNamesHeader),X.createElement("div",{className:this.getClassNames(),onMouseLeave:this.props.usePointerEvent?void 0:this.handleMouseLeave,onPointerLeave:this.props.usePointerEvent?this.handleMouseLeave:void 0,"aria-label":"".concat(c).concat(pn(i,"MMMM, yyyy",this.props.locale)),role:"rowgroup"},this.renderWeeks()))},e})(x.Component),yme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.monthOptionButtonsRef={},r.isSelectedMonth=function(n){return r.props.month===n},r.handleOptionKeyDown=function(n,s){var i;switch(s.key){case"Enter":s.preventDefault(),r.onChange(n);break;case"Escape":s.preventDefault(),r.props.onCancel();break;case"ArrowUp":case"ArrowDown":{s.preventDefault();var o=(n+(s.key==="ArrowUp"?-1:1)+r.props.monthNames.length)%r.props.monthNames.length;(i=r.monthOptionButtonsRef[o])===null||i===void 0||i.focus();break}}},r.renderOptions=function(){return r.monthOptionButtonsRef={},r.props.monthNames.map(function(n,s){return X.createElement("div",{ref:function(i){r.monthOptionButtonsRef[s]=i,r.isSelectedMonth(s)&&(i==null||i.focus())},role:"button",tabIndex:0,className:r.isSelectedMonth(s)?"react-datepicker__month-option react-datepicker__month-option--selected_month":"react-datepicker__month-option",key:n,onClick:r.onChange.bind(r,s),onKeyDown:r.handleOptionKeyDown.bind(r,s),"aria-selected":r.isSelectedMonth(s)?"true":void 0},r.isSelectedMonth(s)?X.createElement("span",{className:"react-datepicker__month-option--selected"},"✓"):"",n)})},r.onChange=function(n){return r.props.onChange(n)},r.handleClickOutside=function(){return r.props.onCancel()},r}return e.prototype.render=function(){return X.createElement(Bw,{className:"react-datepicker__month-dropdown",onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),bme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(n){return n.map(function(s,i){return X.createElement("option",{key:s,value:i},s)})},r.renderSelectMode=function(n){return X.createElement("select",{value:r.props.month,className:"react-datepicker__month-select",onChange:function(s){return r.onChange(parseInt(s.target.value))}},r.renderSelectOptions(n))},r.renderReadView=function(n,s){return X.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-read-view--selected-month"},s[r.props.month]))},r.renderDropdown=function(n){return X.createElement(yme,wr({key:"dropdown"},r.props,{monthNames:n,onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(n){var s=r.state.dropdownVisible,i=[r.renderReadView(!s,n)];return s&&i.unshift(r.renderDropdown(n)),i},r.onChange=function(n){r.toggleDropdown(),n!==r.props.month&&r.props.onChange(n)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r=this,n=[0,1,2,3,4,5,6,7,8,9,10,11].map(this.props.useShortMonthInDropdown?function(i){return SW(i,r.props.locale)}:function(i){return pO(i,r.props.locale)}),s;switch(this.props.dropdownMode){case"scroll":s=this.renderScrollMode(n);break;case"select":s=this.renderSelectMode(n);break}return X.createElement("div",{className:"react-datepicker__month-dropdown-container react-datepicker__month-dropdown-container--".concat(this.props.dropdownMode)},s)},e})(x.Component);function vme(t,e){for(var r=[],n=hl(t),s=hl(e);!Pc(n,s);)r.push(zr(n)),n=Vi(n,1);return r}var wme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.renderOptions=function(){return n.state.monthYearsList.map(function(s){var i=e_(s),o=to(n.props.date,s)&&Ka(n.props.date,s);return X.createElement("div",{className:o?"react-datepicker__month-year-option--selected_month-year":"react-datepicker__month-year-option",key:i,onClick:n.onChange.bind(n,i),"aria-selected":o?"true":void 0},o?X.createElement("span",{className:"react-datepicker__month-year-option--selected"},"✓"):"",pn(s,n.props.dateFormat,n.props.locale))})},n.onChange=function(s){return n.props.onChange(s)},n.handleClickOutside=function(){n.props.onCancel()},n.state={monthYearsList:vme(n.props.minDate,n.props.maxDate)},n}return e.prototype.render=function(){var r=Ft({"react-datepicker__month-year-dropdown":!0,"react-datepicker__month-year-dropdown--scrollable":this.props.scrollableMonthYearDropdown});return X.createElement(Bw,{className:r,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),jme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=hl(r.props.minDate),s=hl(r.props.maxDate),i=[];!Pc(n,s);){var o=e_(n);i.push(X.createElement("option",{key:o,value:o},pn(n,r.props.dateFormat,r.props.locale))),n=Vi(n,1)}return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return X.createElement("select",{value:e_(hl(r.props.date)),className:"react-datepicker__month-year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){var s=pn(r.props.date,r.props.dateFormat,r.props.locale);return X.createElement("div",{key:"read",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__month-year-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__month-year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__month-year-read-view--selected-month-year"},s))},r.renderDropdown=function(){return X.createElement(wme,wr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown();var s=zr(n);to(r.props.date,s)&&Ka(r.props.date,s)||r.props.onChange(s)},r.toggleDropdown=function(){return r.setState({dropdownVisible:!r.state.dropdownVisible})},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__month-year-dropdown-container react-datepicker__month-year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(x.Component),Sme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={height:null},r.scrollToTheSelectedTime=function(){requestAnimationFrame(function(){var n,s,i;r.list&&(r.list.scrollTop=(i=r.centerLi&&e.calcCenterPosition(r.props.monthRef?r.props.monthRef.clientHeight-((s=(n=r.header)===null||n===void 0?void 0:n.clientHeight)!==null&&s!==void 0?s:0):r.list.clientHeight,r.centerLi))!==null&&i!==void 0?i:0)})},r.handleClick=function(n){var s,i;(r.props.minTime||r.props.maxTime)&&nI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&rI(n,r.props)||(i=(s=r.props).onChange)===null||i===void 0||i.call(s,n)},r.isSelectedTime=function(n){return r.props.selected&&dme(r.props.selected,n)},r.isDisabledTime=function(n){return(r.props.minTime||r.props.maxTime)&&nI(n,r.props)||(r.props.excludeTimes||r.props.includeTimes||r.props.filterTime)&&rI(n,r.props)},r.liClasses=function(n){var s,i=["react-datepicker__time-list-item",r.props.timeClassName?r.props.timeClassName(n):void 0];return r.isSelectedTime(n)&&i.push("react-datepicker__time-list-item--selected"),r.isDisabledTime(n)&&i.push("react-datepicker__time-list-item--disabled"),r.props.injectTimes&&(dl(n)*3600+fl(n)*60+Sc(n))%(((s=r.props.intervals)!==null&&s!==void 0?s:e.defaultProps.intervals)*60)!==0&&i.push("react-datepicker__time-list-item--injected"),i.join(" ")},r.handleOnKeyDown=function(n,s){var i,o;n.key===Tt.Space&&(n.preventDefault(),n.key=Tt.Enter),(n.key===Tt.ArrowUp||n.key===Tt.ArrowLeft)&&n.target instanceof HTMLElement&&n.target.previousSibling&&(n.preventDefault(),n.target.previousSibling instanceof HTMLElement&&n.target.previousSibling.focus()),(n.key===Tt.ArrowDown||n.key===Tt.ArrowRight)&&n.target instanceof HTMLElement&&n.target.nextSibling&&(n.preventDefault(),n.target.nextSibling instanceof HTMLElement&&n.target.nextSibling.focus()),n.key===Tt.Enter&&r.handleClick(s),(o=(i=r.props).handleOnKeyDown)===null||o===void 0||o.call(i,n)},r.renderTimes=function(){for(var n,s=[],i=typeof r.props.format=="string"?r.props.format:"p",o=(n=r.props.intervals)!==null&&n!==void 0?n:e.defaultProps.intervals,l=r.props.selected||r.props.openToDate||zr(),c=Xy(l),d=r.props.injectTimes&&r.props.injectTimes.sort(function(v,N){return v.getTime()-N.getTime()}),h=60*ume(l),m=h/o,g=0;g<m;g++){var y=J5(c,g*o);if(s.push(y),d){var w=cme(c,y,g,o,d);s=s.concat(w)}}var j=s.reduce(function(v,N){return N.getTime()<=l.getTime()?N:v},s[0]);return s.map(function(v){return X.createElement("li",{key:v.valueOf(),onClick:r.handleClick.bind(r,v),className:r.liClasses(v),ref:function(N){v===j&&(r.centerLi=N)},onKeyDown:function(N){r.handleOnKeyDown(N,v)},tabIndex:v===j?0:-1,role:"option","aria-selected":r.isSelectedTime(v)?"true":void 0,"aria-disabled":r.isDisabledTime(v)?"true":void 0},pn(v,i,r.props.locale))})},r.renderTimeCaption=function(){return r.props.showTimeCaption===!1?X.createElement(X.Fragment,null):X.createElement("div",{className:"react-datepicker__header react-datepicker__header--time ".concat(r.props.showTimeSelectOnly?"react-datepicker__header--time--only":""),ref:function(n){r.header=n}},X.createElement("div",{className:"react-datepicker-time__header"},r.props.timeCaption))},r}return Object.defineProperty(e,"defaultProps",{get:function(){return{intervals:30,todayButton:null,timeCaption:"Time",showTimeCaption:!0}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){this.scrollToTheSelectedTime(),this.observeDatePickerHeightChanges()},e.prototype.componentWillUnmount=function(){var r;(r=this.resizeObserver)===null||r===void 0||r.disconnect()},e.prototype.observeDatePickerHeightChanges=function(){var r=this,n=this.props.monthRef;this.updateContainerHeight(),n&&(this.resizeObserver=new ResizeObserver(function(){r.updateContainerHeight()}),this.resizeObserver.observe(n))},e.prototype.updateContainerHeight=function(){this.props.monthRef&&this.header&&this.setState({height:this.props.monthRef.clientHeight-this.header.clientHeight})},e.prototype.render=function(){var r=this,n,s=this.state.height;return X.createElement("div",{className:"react-datepicker__time-container ".concat(((n=this.props.todayButton)!==null&&n!==void 0?n:e.defaultProps.todayButton)?"react-datepicker__time-container--with-today-button":"")},this.renderTimeCaption(),X.createElement("div",{className:"react-datepicker__time"},X.createElement("div",{className:"react-datepicker__time-box"},X.createElement("ul",{className:"react-datepicker__time-list",ref:function(i){r.list=i},style:s?{height:s}:{},role:"listbox","aria-label":this.props.timeCaption},this.renderTimes()))))},e.calcCenterPosition=function(r,n){return n.offsetTop-(r/2-n.clientHeight/2)},e})(x.Component),hI=3,Nme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.YEAR_REFS=oo([],Array(n.props.yearItemNumber),!0).map(function(){return x.createRef()}),n.isDisabled=function(s){return ci(s,{minDate:n.props.minDate,maxDate:n.props.maxDate,excludeDates:n.props.excludeDates,includeDates:n.props.includeDates,filterDate:n.props.filterDate})},n.isExcluded=function(s){return gO(s,{excludeDates:n.props.excludeDates})},n.selectingDate=function(){var s;return(s=n.props.selectingDate)!==null&&s!==void 0?s:n.props.preSelection},n.updateFocusOnPaginate=function(s){var i=function(){var o,l;(l=(o=n.YEAR_REFS[s])===null||o===void 0?void 0:o.current)===null||l===void 0||l.focus()};window.requestAnimationFrame(i)},n.handleYearClick=function(s,i){n.props.onDayClick&&n.props.onDayClick(s,i)},n.handleYearNavigation=function(s,i){var o,l,c,d,h=n.props,m=h.date,g=h.yearItemNumber;if(!(m===void 0||g===void 0)){var y=rl(m,g).startPeriod;n.isDisabled(i)||n.isExcluded(i)||((l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,i),s-y<0?n.updateFocusOnPaginate(g-(y-s)):s-y>=g?n.updateFocusOnPaginate(Math.abs(g-(s-y))):(d=(c=n.YEAR_REFS[s-y])===null||c===void 0?void 0:c.current)===null||d===void 0||d.focus())}},n.isSameDay=function(s,i){return vr(s,i)},n.isCurrentYear=function(s){return s===lr(zr())},n.isRangeStart=function(s){return n.props.startDate&&n.props.endDate&&to(eo(zr(),s),n.props.startDate)},n.isRangeEnd=function(s){return n.props.startDate&&n.props.endDate&&to(eo(zr(),s),n.props.endDate)},n.isInRange=function(s){return Jx(s,n.props.startDate,n.props.endDate)},n.isInSelectingRange=function(s){var i=n.props,o=i.selectsStart,l=i.selectsEnd,c=i.selectsRange,d=i.startDate,h=i.endDate;return!(o||l||c)||!n.selectingDate()?!1:o&&h?Jx(s,n.selectingDate(),h):l&&d||c&&d&&!h?Jx(s,d,n.selectingDate()):!1},n.isSelectingRangeStart=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.startDate,c=o.selectsStart,d=eo(zr(),s);return c?to(d,(i=n.selectingDate())!==null&&i!==void 0?i:null):to(d,l??null)},n.isSelectingRangeEnd=function(s){var i;if(!n.isInSelectingRange(s))return!1;var o=n.props,l=o.endDate,c=o.selectsEnd,d=o.selectsRange,h=eo(zr(),s);return c||d?to(h,(i=n.selectingDate())!==null&&i!==void 0?i:null):to(h,l??null)},n.isKeyboardSelected=function(s){if(!(n.props.disabledKeyboardNavigation||n.props.date===void 0||n.props.preSelection==null)){var i=n.props,o=i.minDate,l=i.maxDate,c=i.excludeDates,d=i.includeDates,h=i.filterDate,m=i.selected,g=dp(eo(n.props.date,s)),y=(o||l||c||d||h)&&Jy(s,n.props),w=!!m&&vr(g,dp(m)),j=vr(g,dp(n.props.preSelection));return!n.props.inline&&!w&&j&&!y}},n.isSelectedYear=function(s){var i=n.props,o=i.selectsMultiple,l=i.selected,c=i.selectedDates;return o?c==null?void 0:c.some(function(d){return s===lr(d)}):!!l&&s===lr(l)},n.onYearClick=function(s,i){var o=n.props.date;o!==void 0&&n.handleYearClick(dp(eo(o,i)),s)},n.onYearKeyDown=function(s,i){var o,l,c=s.key,d=n.props,h=d.date,m=d.yearItemNumber,g=d.handleOnKeyDown;if(c!==Tt.Tab&&s.preventDefault(),!n.props.disabledKeyboardNavigation)switch(c){case Tt.Enter:if(n.props.selected==null)break;n.onYearClick(s,i),(l=(o=n.props).setPreSelection)===null||l===void 0||l.call(o,n.props.selected);break;case Tt.ArrowRight:if(n.props.preSelection==null)break;n.handleYearNavigation(i+1,cl(n.props.preSelection,1));break;case Tt.ArrowLeft:if(n.props.preSelection==null)break;n.handleYearNavigation(i-1,qf(n.props.preSelection,1));break;case Tt.ArrowUp:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var y=rl(h,m).startPeriod,w=hI,j=i-w;if(j<y){var v=m%w;i>=y&&i<y+v?w=v:w+=v,j=i-w}n.handleYearNavigation(j,qf(n.props.preSelection,w));break}case Tt.ArrowDown:{if(h===void 0||m===void 0||n.props.preSelection==null)break;var N=rl(h,m).endPeriod,w=hI,j=i+w;if(j>N){var v=m%w;i<=N&&i>N-v?w=v:w+=v,j=i+w}n.handleYearNavigation(j,cl(n.props.preSelection,w));break}}g&&g(s)},n.getYearClassNames=function(s){var i=n.props,o=i.date,l=i.minDate,c=i.maxDate,d=i.excludeDates,h=i.includeDates,m=i.filterDate,g=i.yearClassName;return Ft("react-datepicker__year-text","react-datepicker__year-".concat(s),o?g==null?void 0:g(eo(o,s)):void 0,{"react-datepicker__year-text--selected":n.isSelectedYear(s),"react-datepicker__year-text--disabled":(l||c||d||h||m)&&Jy(s,n.props),"react-datepicker__year-text--keyboard-selected":n.isKeyboardSelected(s),"react-datepicker__year-text--range-start":n.isRangeStart(s),"react-datepicker__year-text--range-end":n.isRangeEnd(s),"react-datepicker__year-text--in-range":n.isInRange(s),"react-datepicker__year-text--in-selecting-range":n.isInSelectingRange(s),"react-datepicker__year-text--selecting-range-start":n.isSelectingRangeStart(s),"react-datepicker__year-text--selecting-range-end":n.isSelectingRangeEnd(s),"react-datepicker__year-text--today":n.isCurrentYear(s)})},n.getYearTabIndex=function(s){if(n.props.disabledKeyboardNavigation||n.props.preSelection==null)return"-1";var i=lr(n.props.preSelection),o=Jy(s,n.props);return s===i&&!o?"0":"-1"},n.getYearContent=function(s){return n.props.renderYearContent?n.props.renderYearContent(s):s},n}return e.prototype.render=function(){var r=this,n=[],s=this.props,i=s.date,o=s.yearItemNumber,l=s.onYearMouseEnter,c=s.onYearMouseLeave;if(i===void 0)return null;for(var d=rl(i,o),h=d.startPeriod,m=d.endPeriod,g=function(j){n.push(X.createElement("div",{ref:y.YEAR_REFS[j-h],onClick:function(v){r.onYearClick(v,j)},onKeyDown:function(v){TW(v)&&(v.preventDefault(),v.key=Tt.Enter),r.onYearKeyDown(v,j)},tabIndex:Number(y.getYearTabIndex(j)),className:y.getYearClassNames(j),onMouseEnter:y.props.usePointerEvent?void 0:function(v){return l(v,j)},onPointerEnter:y.props.usePointerEvent?function(v){return l(v,j)}:void 0,onMouseLeave:y.props.usePointerEvent?void 0:function(v){return c(v,j)},onPointerLeave:y.props.usePointerEvent?function(v){return c(v,j)}:void 0,key:j,"aria-current":y.isCurrentYear(j)?"date":void 0},y.getYearContent(j)))},y=this,w=h;w<=m;w++)g(w);return X.createElement("div",{className:"react-datepicker__year"},X.createElement("div",{className:"react-datepicker__year-wrapper",onMouseLeave:this.props.usePointerEvent?void 0:this.props.clearSelectingDate,onPointerLeave:this.props.usePointerEvent?this.props.clearSelectingDate:void 0},n))},e})(x.Component);function kme(t,e,r,n){for(var s=[],i=0;i<2*e+1;i++){var o=t+e-i,l=!0;r&&(l=lr(r)<=o),n&&l&&(l=lr(n)>=o),l&&s.push(o)}return s}var Cme=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;n.yearOptionButtonsRef={},n.handleOptionKeyDown=function(l,c){var d;switch(c.key){case"Enter":c.preventDefault(),n.onChange(l);break;case"Escape":c.preventDefault(),n.props.onCancel();break;case"ArrowUp":case"ArrowDown":{c.preventDefault();var h=l+(c.key==="ArrowUp"?1:-1);n.yearOptionButtonsRef[h]&&((d=n.yearOptionButtonsRef[h])===null||d===void 0||d.focus());break}}},n.renderOptions=function(){n.yearOptionButtonsRef={};var l=n.props.year,c=n.state.yearsList.map(function(m){return X.createElement("div",{ref:function(g){n.yearOptionButtonsRef[m]=g,m===l&&(g==null||g.focus())},role:"button",tabIndex:0,className:l===m?"react-datepicker__year-option react-datepicker__year-option--selected_year":"react-datepicker__year-option",key:m,onClick:n.onChange.bind(n,m),onKeyDown:n.handleOptionKeyDown.bind(n,m),"aria-selected":l===m?"true":void 0},l===m?X.createElement("span",{className:"react-datepicker__year-option--selected"},"✓"):"",m)}),d=n.props.minDate?lr(n.props.minDate):null,h=n.props.maxDate?lr(n.props.maxDate):null;return(!h||!n.state.yearsList.find(function(m){return m===h}))&&c.unshift(X.createElement("div",{className:"react-datepicker__year-option",key:"upcoming",onClick:n.incrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-upcoming"}))),(!d||!n.state.yearsList.find(function(m){return m===d}))&&c.push(X.createElement("div",{className:"react-datepicker__year-option",key:"previous",onClick:n.decrementYears},X.createElement("a",{className:"react-datepicker__navigation react-datepicker__navigation--years react-datepicker__navigation--years-previous"}))),c},n.onChange=function(l){n.props.onChange(l)},n.handleClickOutside=function(){n.props.onCancel()},n.shiftYears=function(l){var c=n.state.yearsList.map(function(d){return d+l});n.setState({yearsList:c})},n.incrementYears=function(){return n.shiftYears(1)},n.decrementYears=function(){return n.shiftYears(-1)};var s=r.yearDropdownItemNumber,i=r.scrollableYearDropdown,o=s||(i?10:5);return n.state={yearsList:kme(n.props.year,o,n.props.minDate,n.props.maxDate)},n.dropdownRef=x.createRef(),n}return e.prototype.componentDidMount=function(){var r=this.dropdownRef.current;if(r){var n=r.children?Array.from(r.children):null,s=n?n.find(function(i){return i.ariaSelected}):null;r.scrollTop=s&&s instanceof HTMLElement?s.offsetTop+(s.clientHeight-r.clientHeight)/2:(r.scrollHeight-r.clientHeight)/2}},e.prototype.render=function(){var r=Ft({"react-datepicker__year-dropdown":!0,"react-datepicker__year-dropdown--scrollable":this.props.scrollableYearDropdown});return X.createElement(Bw,{className:r,containerRef:this.dropdownRef,onClickOutside:this.handleClickOutside},this.renderOptions())},e})(x.Component),Tme=(function(t){Da(e,t);function e(){var r=t!==null&&t.apply(this,arguments)||this;return r.state={dropdownVisible:!1},r.renderSelectOptions=function(){for(var n=r.props.minDate?lr(r.props.minDate):1900,s=r.props.maxDate?lr(r.props.maxDate):2100,i=[],o=n;o<=s;o++)i.push(X.createElement("option",{key:o,value:o},o));return i},r.onSelectChange=function(n){r.onChange(parseInt(n.target.value))},r.renderSelectMode=function(){return X.createElement("select",{value:r.props.year,className:"react-datepicker__year-select",onChange:r.onSelectChange},r.renderSelectOptions())},r.renderReadView=function(n){return X.createElement("button",{key:"read",type:"button",style:{visibility:n?"visible":"hidden"},className:"react-datepicker__year-read-view",onClick:r.toggleDropdown},X.createElement("span",{className:"react-datepicker__year-read-view--down-arrow"}),X.createElement("span",{className:"react-datepicker__year-read-view--selected-year"},r.props.year))},r.renderDropdown=function(){return X.createElement(Cme,wr({key:"dropdown"},r.props,{onChange:r.onChange,onCancel:r.toggleDropdown}))},r.renderScrollMode=function(){var n=r.state.dropdownVisible,s=[r.renderReadView(!n)];return n&&s.unshift(r.renderDropdown()),s},r.onChange=function(n){r.toggleDropdown(),n!==r.props.year&&r.props.onChange(n)},r.toggleDropdown=function(n){r.setState({dropdownVisible:!r.state.dropdownVisible},function(){r.props.adjustDateOnChange&&r.handleYearChange(r.props.date,n)})},r.handleYearChange=function(n,s){var i;(i=r.onSelect)===null||i===void 0||i.call(r,n,s),r.setOpen()},r.onSelect=function(n,s){var i,o;(o=(i=r.props).onSelect)===null||o===void 0||o.call(i,n,s)},r.setOpen=function(){var n,s;(s=(n=r.props).setOpen)===null||s===void 0||s.call(n,!0)},r}return e.prototype.render=function(){var r;switch(this.props.dropdownMode){case"scroll":r=this.renderScrollMode();break;case"select":r=this.renderSelectMode();break}return X.createElement("div",{className:"react-datepicker__year-dropdown-container react-datepicker__year-dropdown-container--".concat(this.props.dropdownMode)},r)},e})(x.Component),_me=["react-datepicker__year-select","react-datepicker__month-select","react-datepicker__month-year-select"],_W="react-datepicker-ignore-onclickoutside",Mme=function(t){var e=(t.className||"").split(/\s+/);return _me.some(function(r){return e.indexOf(r)>=0})},Ame=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.monthContainer=void 0,n.handleClickOutside=function(s){n.props.onClickOutside(s)},n.setClickOutsideRef=function(){return n.containerRef.current},n.handleDropdownFocus=function(s){var i,o;Mme(s.target)&&((o=(i=n.props).onDropdownFocus)===null||o===void 0||o.call(i,s))},n.getDateInView=function(){var s=n.props,i=s.preSelection,o=s.selected,l=s.openToDate,c=kW(n.props),d=CW(n.props),h=zr(),m=l||o||i;return m||(c&&io(h,c)?c:d&&Pc(h,d)?d:h)},n.increaseMonth=function(){n.setState(function(s){var i=s.date;return{date:Vi(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.decreaseMonth=function(){n.setState(function(s){var i=s.date;return{date:$u(i,1)}},function(){return n.handleMonthChange(n.state.date)})},n.handleDayClick=function(s,i,o){n.props.onSelect(s,i,o),n.props.setPreSelection&&n.props.setPreSelection(s)},n.handleDayMouseEnter=function(s){n.setState({selectingDate:s}),n.props.onDayMouseEnter&&n.props.onDayMouseEnter(s)},n.handleMonthMouseLeave=function(){n.setState({selectingDate:void 0}),n.props.onMonthMouseLeave&&n.props.onMonthMouseLeave()},n.handleYearMouseEnter=function(s,i){n.setState({selectingDate:eo(zr(),i)}),n.props.onYearMouseEnter&&n.props.onYearMouseEnter(s,i)},n.handleYearMouseLeave=function(s,i){n.props.onYearMouseLeave&&n.props.onYearMouseLeave(s,i)},n.handleYearChange=function(s){var i,o,l,c;(o=(i=n.props).onYearChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0}),n.props.adjustDateOnChange&&(n.props.onSelect(s),(c=(l=n.props).setOpen)===null||c===void 0||c.call(l,!0)),n.props.setPreSelection&&n.props.setPreSelection(s)},n.getEnabledPreSelectionDateForMonth=function(s){if(!ci(s,n.props))return s;for(var i=hl(s),o=Jhe(s),l=cue(o,i),c=null,d=0;d<=l;d++){var h=Fi(i,d);if(!ci(h,n.props)){c=h;break}}return c},n.handleMonthChange=function(s){var i,o,l,c=(i=n.getEnabledPreSelectionDateForMonth(s))!==null&&i!==void 0?i:s;n.handleCustomMonthChange(c),n.props.adjustDateOnChange&&(n.props.onSelect(c),(l=(o=n.props).setOpen)===null||l===void 0||l.call(o,!0)),n.props.setPreSelection&&n.props.setPreSelection(c)},n.handleCustomMonthChange=function(s){var i,o;(o=(i=n.props).onMonthChange)===null||o===void 0||o.call(i,s),n.setState({isRenderAriaLiveMessage:!0})},n.handleMonthYearChange=function(s){n.handleYearChange(s),n.handleMonthChange(s)},n.changeYear=function(s){n.setState(function(i){var o=i.date;return{date:eo(o,Number(s))}},function(){return n.handleYearChange(n.state.date)})},n.changeMonth=function(s){n.setState(function(i){var o=i.date;return{date:oi(o,Number(s))}},function(){return n.handleMonthChange(n.state.date)})},n.changeMonthYear=function(s){n.setState(function(i){var o=i.date;return{date:eo(oi(o,Ha(s)),lr(s))}},function(){return n.handleMonthYearChange(n.state.date)})},n.header=function(s){s===void 0&&(s=n.state.date);var i=Nc(s,n.props.locale,n.props.calendarStartDay),o=[];return n.props.showWeekNumbers&&o.push(X.createElement("div",{key:"W",className:"react-datepicker__day-name",role:"columnheader"},X.createElement("span",{className:"react-datepicker__sr-only"},"Week number"),X.createElement("span",{"aria-hidden":"true"},n.props.weekLabel||"#"))),o.concat([0,1,2,3,4,5,6].map(function(l){var c=Fi(i,l),d=n.formatWeekday(c,n.props.locale),h=n.props.weekDayClassName?n.props.weekDayClassName(c):void 0;return X.createElement("div",{key:l,role:"columnheader",className:Ft("react-datepicker__day-name",h)},X.createElement("span",{className:"react-datepicker__sr-only"},pn(c,"EEEE",n.props.locale)),X.createElement("span",{"aria-hidden":"true"},d))}))},n.formatWeekday=function(s,i){return n.props.formatWeekDay?Qhe(s,n.props.formatWeekDay,i):n.props.useWeekdaysShort?eme(s,i):Zhe(s,i)},n.decreaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:qf(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.clearSelectingDate=function(){n.setState({selectingDate:void 0})},n.renderPreviousButton=function(){var s,i,o;if(!n.props.renderCustomHeader){var l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,h=$u(n.state.date,d),m;switch(!0){case n.props.showMonthYearPicker:m=iI(n.state.date,n.props);break;case n.props.showYearPicker:m=sme(n.state.date,n.props);break;case n.props.showQuarterYearPicker:m=nme(n.state.date,n.props);break;default:m=aI(h,n.props);break}if(!(!((o=n.props.forceShowMonthNavigation)!==null&&o!==void 0?o:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&m||n.props.showTimeSelectOnly)){var g=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--previous"],y=["react-datepicker__navigation","react-datepicker__navigation--previous"],w=n.decreaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(w=n.decreaseYear),m&&n.props.showDisabledMonthNavigation&&(y.push("react-datepicker__navigation--previous--disabled"),w=void 0);var j=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,v=n.props,N=v.previousMonthButtonLabel,T=N===void 0?e.defaultProps.previousMonthButtonLabel:N,S=v.previousYearButtonLabel,O=S===void 0?e.defaultProps.previousYearButtonLabel:S,_=n.props,A=_.previousMonthAriaLabel,E=A===void 0?typeof T=="string"?T:"Previous Month":A,P=_.previousYearAriaLabel,$=P===void 0?typeof O=="string"?O:"Previous Year":P;return X.createElement("button",{type:"button",className:y.join(" "),onClick:w,onKeyDown:n.props.handleOnKeyDown,"aria-label":j?$:E},X.createElement("span",{className:g.join(" ")},j?O:T))}}},n.increaseYear=function(){n.setState(function(s){var i,o=s.date;return{date:cl(o,n.props.showYearPicker?(i=n.props.yearItemNumber)!==null&&i!==void 0?i:e.defaultProps.yearItemNumber:1)}},function(){return n.handleYearChange(n.state.date)})},n.renderNextButton=function(){var s;if(!n.props.renderCustomHeader){var i;switch(!0){case n.props.showMonthYearPicker:i=oI(n.state.date,n.props);break;case n.props.showYearPicker:i=ime(n.state.date,n.props);break;case n.props.showQuarterYearPicker:i=ame(n.state.date,n.props);break;default:i=sI(n.state.date,n.props);break}if(!(!((s=n.props.forceShowMonthNavigation)!==null&&s!==void 0?s:e.defaultProps.forceShowMonthNavigation)&&!n.props.showDisabledMonthNavigation&&i||n.props.showTimeSelectOnly)){var o=["react-datepicker__navigation","react-datepicker__navigation--next"],l=["react-datepicker__navigation-icon","react-datepicker__navigation-icon--next"];n.props.showTimeSelect&&o.push("react-datepicker__navigation--next--with-time"),n.props.todayButton&&o.push("react-datepicker__navigation--next--with-today-button");var c=n.increaseMonth;(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker)&&(c=n.increaseYear),i&&n.props.showDisabledMonthNavigation&&(o.push("react-datepicker__navigation--next--disabled"),c=void 0);var d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker,h=n.props,m=h.nextMonthButtonLabel,g=m===void 0?e.defaultProps.nextMonthButtonLabel:m,y=h.nextYearButtonLabel,w=y===void 0?e.defaultProps.nextYearButtonLabel:y,j=n.props,v=j.nextMonthAriaLabel,N=v===void 0?typeof g=="string"?g:"Next Month":v,T=j.nextYearAriaLabel,S=T===void 0?typeof w=="string"?w:"Next Year":T;return X.createElement("button",{type:"button",className:o.join(" "),onClick:c,onKeyDown:n.props.handleOnKeyDown,"aria-label":d?S:N},X.createElement("span",{className:l.join(" ")},d?w:g))}}},n.renderCurrentMonth=function(s){s===void 0&&(s=n.state.date);var i=["react-datepicker__current-month"];return n.props.showYearDropdown&&i.push("react-datepicker__current-month--hasYearDropdown"),n.props.showMonthDropdown&&i.push("react-datepicker__current-month--hasMonthDropdown"),n.props.showMonthYearDropdown&&i.push("react-datepicker__current-month--hasMonthYearDropdown"),X.createElement("h2",{className:i.join(" ")},pn(s,n.props.dateFormat,n.props.locale))},n.renderYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showYearDropdown||s))return X.createElement(Tme,wr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeYear,year:lr(n.state.date)}))},n.renderMonthDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthDropdown||s))return X.createElement(bme,wr({},e.defaultProps,n.props,{month:Ha(n.state.date),onChange:n.changeMonth}))},n.renderMonthYearDropdown=function(s){if(s===void 0&&(s=!1),!(!n.props.showMonthYearDropdown||s))return X.createElement(jme,wr({},e.defaultProps,n.props,{date:n.state.date,onChange:n.changeMonthYear}))},n.handleTodayButtonClick=function(s){n.props.onSelect(ZR(),s),n.props.setPreSelection&&n.props.setPreSelection(ZR())},n.renderTodayButton=function(){if(!(!n.props.todayButton||n.props.showTimeSelectOnly))return X.createElement("div",{className:"react-datepicker__today-button",onClick:n.handleTodayButtonClick},n.props.todayButton)},n.renderDayNamesHeader=function(s){return X.createElement("div",{className:"react-datepicker__day-names",role:"row"},n.header(s))},n.renderDefaultHeader=function(s){var i=s.monthDate,o=s.i;return X.createElement("div",{className:"react-datepicker__header ".concat(n.props.showTimeSelect?"react-datepicker__header--has-time-select":"")},n.renderCurrentMonth(i),X.createElement("div",{className:"react-datepicker__header__dropdown react-datepicker__header__dropdown--".concat(n.props.dropdownMode),onFocus:n.handleDropdownFocus},n.renderMonthDropdown(o!==0),n.renderMonthYearDropdown(o!==0),n.renderYearDropdown(o!==0)))},n.renderCustomHeader=function(s){var i,o,l=s.monthDate,c=s.i;if(n.props.showTimeSelect&&!n.state.monthContainer||n.props.showTimeSelectOnly)return null;var d=n.props,h=d.showYearPicker,m=d.yearItemNumber,g;if(h){var y=rl(l,m),w=y.startPeriod,j=y.endPeriod;g={startYear:w,endYear:j}}var v=aI(n.state.date,n.props),N=sI(n.state.date,n.props),T=iI(n.state.date,n.props),S=oI(n.state.date,n.props);return X.createElement("div",{className:"react-datepicker__header react-datepicker__header--custom",onFocus:n.props.onDropdownFocus},(o=(i=n.props).renderCustomHeader)===null||o===void 0?void 0:o.call(i,wr(wr(wr({},n.state),h&&{visibleYearsRange:g}),{customHeaderCount:c,monthDate:l,changeMonth:n.changeMonth,changeYear:n.changeYear,decreaseMonth:n.decreaseMonth,increaseMonth:n.increaseMonth,decreaseYear:n.decreaseYear,increaseYear:n.increaseYear,prevMonthButtonDisabled:v,nextMonthButtonDisabled:N,prevYearButtonDisabled:T,nextYearButtonDisabled:S})))},n.renderYearHeader=function(s){var i=s.monthDate,o=n.props,l=o.showYearPicker,c=o.yearItemNumber,d=c===void 0?e.defaultProps.yearItemNumber:c,h=rl(i,d),m=h.startPeriod,g=h.endPeriod;return X.createElement("div",{className:"react-datepicker__header react-datepicker-year-header"},l?"".concat(m," - ").concat(g):lr(i))},n.renderHeader=function(s){var i=s.monthDate,o=s.i,l=o===void 0?0:o,c={monthDate:i,i:l};switch(!0){case n.props.renderCustomHeader!==void 0:return n.renderCustomHeader(c);case(n.props.showMonthYearPicker||n.props.showQuarterYearPicker||n.props.showYearPicker):return n.renderYearHeader(c);default:return n.renderDefaultHeader(c)}},n.renderMonths=function(){var s,i;if(!(n.props.showTimeSelectOnly||n.props.showYearPicker)){for(var o=[],l=(s=n.props.monthsShown)!==null&&s!==void 0?s:e.defaultProps.monthsShown,c=n.props.showPreviousMonths?l-1:0,d=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?cl(n.state.date,c):$u(n.state.date,c),h=(i=n.props.monthSelectedIn)!==null&&i!==void 0?i:c,m=0;m<l;++m){var g=m-h+c,y=n.props.showMonthYearPicker||n.props.showQuarterYearPicker?cl(d,g):Vi(d,g),w="month-".concat(m),j=m<l-1,v=m>0;o.push(X.createElement("div",{key:w,ref:function(N){n.monthContainer=N??void 0},className:"react-datepicker__month-container"},n.renderHeader({monthDate:y,i:m}),X.createElement(xme,wr({},e.defaultProps,n.props,{containerRef:n.containerRef,ariaLabelPrefix:n.props.monthAriaLabelPrefix,day:y,onDayClick:n.handleDayClick,handleOnKeyDown:n.props.handleOnDayKeyDown,handleOnMonthKeyDown:n.props.handleOnKeyDown,onDayMouseEnter:n.handleDayMouseEnter,onMouseLeave:n.handleMonthMouseLeave,orderInDisplay:m,selectingDate:n.state.selectingDate,monthShowsDuplicateDaysEnd:j,monthShowsDuplicateDaysStart:v,dayNamesHeader:n.renderDayNamesHeader(y)}))))}return o}},n.renderYears=function(){if(!n.props.showTimeSelectOnly&&n.props.showYearPicker)return X.createElement("div",{className:"react-datepicker__year--container"},n.renderHeader({monthDate:n.state.date}),X.createElement(Nme,wr({},e.defaultProps,n.props,{selectingDate:n.state.selectingDate,date:n.state.date,onDayClick:n.handleDayClick,clearSelectingDate:n.clearSelectingDate,onYearMouseEnter:n.handleYearMouseEnter,onYearMouseLeave:n.handleYearMouseLeave})))},n.renderTimeSection=function(){if(n.props.showTimeSelect&&(n.state.monthContainer||n.props.showTimeSelectOnly))return X.createElement(Sme,wr({},e.defaultProps,n.props,{onChange:n.props.onTimeChange,format:n.props.timeFormat,intervals:n.props.timeIntervals,monthRef:n.state.monthContainer}))},n.renderInputTimeSection=function(){var s=n.props.selected?new Date(n.props.selected):void 0,i=s&&zw(s)&&!!n.props.selected,o=i?"".concat(cI(s.getHours()),":").concat(cI(s.getMinutes())):"";if(n.props.showTimeInput)return X.createElement(fme,wr({},e.defaultProps,n.props,{date:s,timeString:o,onChange:n.props.onTimeChange}))},n.renderAriaLiveRegion=function(){var s,i=rl(n.state.date,(s=n.props.yearItemNumber)!==null&&s!==void 0?s:e.defaultProps.yearItemNumber),o=i.startPeriod,l=i.endPeriod,c;return n.props.showYearPicker?c="".concat(o," - ").concat(l):n.props.showMonthYearPicker||n.props.showQuarterYearPicker?c=lr(n.state.date):c="".concat(pO(Ha(n.state.date),n.props.locale)," ").concat(lr(n.state.date)),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},n.state.isRenderAriaLiveMessage&&c)},n.renderChildren=function(){if(n.props.children)return X.createElement("div",{className:"react-datepicker__children-container"},n.props.children)},n.containerRef=x.createRef(),n.state={date:n.getDateInView(),selectingDate:void 0,monthContainer:void 0,isRenderAriaLiveMessage:!1},n}return Object.defineProperty(e,"defaultProps",{get:function(){return{monthsShown:1,forceShowMonthNavigation:!1,outsideClickIgnoreClass:_W,timeCaption:"Time",previousYearButtonLabel:"Previous Year",nextYearButtonLabel:"Next Year",previousMonthButtonLabel:"Previous Month",nextMonthButtonLabel:"Next Month",yearItemNumber:og}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){var r=this;this.props.showTimeSelect&&(this.assignMonthContainer=(function(){r.setState({monthContainer:r.monthContainer})})())},e.prototype.componentDidUpdate=function(r){var n=this;if(this.props.preSelection&&(!vr(this.props.preSelection,r.preSelection)||this.props.monthSelectedIn!==r.monthSelectedIn)){var s=!Ka(this.state.date,this.props.preSelection);this.setState({date:this.props.preSelection},function(){return s&&n.handleCustomMonthChange(n.state.date)})}else this.props.openToDate&&!vr(this.props.openToDate,r.openToDate)&&this.setState({date:this.props.openToDate})},e.prototype.render=function(){var r=this.props.container||qhe;return X.createElement(Bw,{onClickOutside:this.handleClickOutside,style:{display:"contents"},ignoreClass:this.props.outsideClickIgnoreClass},X.createElement("div",{style:{display:"contents"},ref:this.containerRef},X.createElement(r,{className:Ft("react-datepicker",this.props.className,{"react-datepicker--time-only":this.props.showTimeSelectOnly}),showTime:this.props.showTimeSelect||this.props.showTimeInput,showTimeSelectOnly:this.props.showTimeSelectOnly},this.renderAriaLiveRegion(),this.renderPreviousButton(),this.renderNextButton(),this.renderMonths(),this.renderYears(),this.renderTodayButton(),this.renderTimeSection(),this.renderInputTimeSection(),this.renderChildren())))},e})(x.Component),Ome=function(t){var e=t.icon,r=t.className,n=r===void 0?"":r,s=t.onClick,i="react-datepicker__calendar-icon";if(typeof e=="string")return X.createElement("i",{className:"".concat(i," ").concat(e," ").concat(n),"aria-hidden":"true",onClick:s});if(X.isValidElement(e)){var o=e;return X.cloneElement(o,{className:"".concat(o.props.className||""," ").concat(i," ").concat(n),onClick:function(l){typeof o.props.onClick=="function"&&o.props.onClick(l),typeof s=="function"&&s(l)}})}return X.createElement("svg",{className:"".concat(i," ").concat(n),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",onClick:s},X.createElement("path",{d:"M96 32V64H48C21.5 64 0 85.5 0 112v48H448V112c0-26.5-21.5-48-48-48H352V32c0-17.7-14.3-32-32-32s-32 14.3-32 32V64H160V32c0-17.7-14.3-32-32-32S96 14.3 96 32zM448 192H0V464c0 26.5 21.5 48 48 48H400c26.5 0 48-21.5 48-48V192z"}))},MW=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.portalRoot=null,n.el=document.createElement("div"),n}return e.prototype.componentDidMount=function(){this.portalRoot=(this.props.portalHost||document).getElementById(this.props.portalId),this.portalRoot||(this.portalRoot=document.createElement("div"),this.portalRoot.setAttribute("id",this.props.portalId),(this.props.portalHost||document.body).appendChild(this.portalRoot)),this.portalRoot.appendChild(this.el)},e.prototype.componentWillUnmount=function(){this.portalRoot&&this.portalRoot.removeChild(this.el)},e.prototype.render=function(){return nV.createPortal(this.props.children,this.el)},e})(x.Component),Eme="[tabindex], a, button, input, select, textarea",Dme=function(t){return(t instanceof HTMLAnchorElement||!t.disabled)&&t.tabIndex!==-1},AW=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.getTabChildren=function(){var s;return Array.prototype.slice.call((s=n.tabLoopRef.current)===null||s===void 0?void 0:s.querySelectorAll(Eme),1,-1).filter(Dme)},n.handleFocusStart=function(){var s=n.getTabChildren();s&&s.length>1&&s[s.length-1].focus()},n.handleFocusEnd=function(){var s=n.getTabChildren();s&&s.length>1&&s[0].focus()},n.tabLoopRef=x.createRef(),n}return e.prototype.render=function(){var r;return((r=this.props.enableTabLoop)!==null&&r!==void 0?r:e.defaultProps.enableTabLoop)?X.createElement("div",{className:"react-datepicker__tab-loop",ref:this.tabLoopRef},X.createElement("div",{className:"react-datepicker__tab-loop__start",tabIndex:0,onFocus:this.handleFocusStart}),this.props.children,X.createElement("div",{className:"react-datepicker__tab-loop__end",tabIndex:0,onFocus:this.handleFocusEnd})):this.props.children},e.defaultProps={enableTabLoop:!0},e})(x.Component);function Pme(t){function e(r){var n,s=typeof r.hidePopper=="boolean"?r.hidePopper:!0,i=x.useRef(null),o=Vhe(wr({open:!s,whileElementsMounted:yW,placement:r.popperPlacement,middleware:oo([Ahe({padding:15}),Mhe(10),Ohe({element:i})],(n=r.popperModifiers)!==null&&n!==void 0?n:[],!0)},r.popperProps)),l=wr(wr({},r),{hidePopper:s,popperProps:wr(wr({},o),{arrowRef:i})});return X.createElement(t,wr({},l))}return e.displayName="withFloating(".concat(t.displayName||t.name||"Component",")"),e}var Rme=function(t){var e=t.className,r=t.wrapperClassName,n=t.hidePopper,s=n===void 0?!0:n,i=t.popperComponent,o=t.targetComponent,l=t.enableTabLoop,c=t.popperOnKeyDown,d=t.portalId,h=t.portalHost,m=t.popperProps,g=t.showArrow,y=void 0;if(!s){var w=Ft("react-datepicker-popper",e);y=X.createElement(AW,{enableTabLoop:l},X.createElement("div",{ref:m.refs.setFloating,style:m.floatingStyles,className:w,"data-placement":m.placement,onKeyDown:c},i,g&&X.createElement(Ihe,{ref:m.arrowRef,context:m.context,fill:"currentColor",strokeWidth:1,height:8,width:16,style:{transform:"translateY(-1px)"},className:"react-datepicker__triangle"})))}t.popperContainer&&(y=x.createElement(t.popperContainer,{},y)),d&&!s&&(y=X.createElement(MW,{portalId:d,portalHost:h},y));var j=Ft("react-datepicker-wrapper",r);return X.createElement(X.Fragment,null,X.createElement("div",{ref:m.refs.setReference,className:j},o),y)},Ime=Pme(Rme);function Lme(t,e){return t&&e?Ha(t)!==Ha(e)||lr(t)!==lr(e):t!==e}var CN="Date input not valid.",Kf=(function(t){Da(e,t);function e(r){var n=t.call(this,r)||this;return n.calendar=null,n.input=null,n.getPreSelection=function(){return n.props.openToDate?n.props.openToDate:n.props.selectsEnd&&n.props.startDate?n.props.startDate:n.props.selectsStart&&n.props.endDate?n.props.endDate:zr()},n.modifyHolidays=function(){var s;return(s=n.props.holidays)===null||s===void 0?void 0:s.reduce(function(i,o){var l=new Date(o.date);return zw(l)?oo(oo([],i,!0),[wr(wr({},o),{date:l})],!1):i},[])},n.calcInitialState=function(){var s,i=n.getPreSelection(),o=kW(n.props),l=CW(n.props),c=o&&io(i,Xy(o))?o:l&&Pc(i,eI(l))?l:i;return{open:n.props.startOpen||!1,preventFocus:!1,inputValue:null,preSelection:(s=n.props.selectsRange?n.props.startDate:n.props.selected)!==null&&s!==void 0?s:c,highlightDates:lI(n.props.highlightDates),focused:!1,shouldFocusDayInline:!1,isRenderAriaLiveMessage:!1,wasHidden:!1}},n.getInputValue=function(){var s,i=n.props,o=i.locale,l=i.startDate,c=i.endDate,d=i.rangeSeparator,h=i.selected,m=i.selectedDates,g=i.selectsMultiple,y=i.selectsRange,w=i.value,j=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,v=n.state.inputValue;return typeof w=="string"?w:typeof v=="string"?v:y?Uhe(l,c,{dateFormat:j,locale:o,rangeSeparator:d}):g?Ghe(m??[],{dateFormat:j,locale:o}):ii(h,{dateFormat:j,locale:o})},n.resetHiddenStatus=function(){n.setState(wr(wr({},n.state),{wasHidden:!1}))},n.setHiddenStatus=function(){n.setState(wr(wr({},n.state),{wasHidden:!0}))},n.setHiddenStateOnVisibilityHidden=function(){document.visibilityState==="hidden"&&n.setHiddenStatus()},n.clearPreventFocusTimeout=function(){n.preventFocusTimeout&&clearTimeout(n.preventFocusTimeout)},n.setFocus=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.focus)===null||i===void 0||i.call(s,{preventScroll:!0})},n.setBlur=function(){var s,i;(i=(s=n.input)===null||s===void 0?void 0:s.blur)===null||i===void 0||i.call(s),n.cancelFocusInput()},n.deferBlur=function(){requestAnimationFrame(function(){n.setBlur()})},n.setOpen=function(s,i){i===void 0&&(i=!1),n.setState({open:s,preSelection:s&&n.state.open?n.state.preSelection:n.calcInitialState().preSelection,lastPreSelectChange:TN},function(){s||n.setState(function(o){return{focused:i?o.focused:!1}},function(){!i&&n.deferBlur(),n.setState({inputValue:null})})})},n.inputOk=function(){return ul(n.state.preSelection)},n.isCalendarOpen=function(){return n.props.open===void 0?n.state.open&&!n.props.disabled&&!n.props.readOnly:n.props.open},n.handleFocus=function(s){var i,o,l=n.state.wasHidden,c=l?n.state.open:!0;l&&n.resetHiddenStatus(),n.state.preventFocus||((o=(i=n.props).onFocus)===null||o===void 0||o.call(i,s),c&&!n.props.preventOpenOnFocus&&!n.props.readOnly&&n.setOpen(!0)),n.setState({focused:!0})},n.sendFocusBackToInput=function(){n.preventFocusTimeout&&n.clearPreventFocusTimeout(),n.setState({preventFocus:!0},function(){n.preventFocusTimeout=setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})})},n.cancelFocusInput=function(){clearTimeout(n.inputFocusTimeout),n.inputFocusTimeout=void 0},n.deferFocusInput=function(){n.cancelFocusInput(),n.inputFocusTimeout=setTimeout(function(){return n.setFocus()},1)},n.handleDropdownFocus=function(){n.cancelFocusInput()},n.resetInputValue=function(){n.setState(wr(wr({},n.state),{inputValue:null}))},n.handleBlur=function(s){var i,o;(!n.state.open||n.props.withPortal||n.props.showTimeInput)&&((o=(i=n.props).onBlur)===null||o===void 0||o.call(i,s)),n.resetInputValue(),n.state.open&&n.props.open===!1&&n.setOpen(!1),n.setState({focused:!1})},n.handleCalendarClickOutside=function(s){var i,o;n.props.inline||n.setOpen(!1),(o=(i=n.props).onClickOutside)===null||o===void 0||o.call(i,s),n.props.withPortal&&s.preventDefault()},n.handleChange=function(){for(var s,i,o,l,c,d=[],h=0;h<arguments.length;h++)d[h]=arguments[h];var m=d[0];if(!(n.props.onChangeRaw&&(n.props.onChangeRaw.apply(n,d),!m||typeof m.isDefaultPrevented!="function"||m.isDefaultPrevented()))){n.setState({inputValue:(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:null,lastPreSelectChange:$me});var g=n.props,y=g.selectsRange,w=g.startDate,j=g.endDate,v=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,N=(i=n.props.strictParsing)!==null&&i!==void 0?i:e.defaultProps.strictParsing,T=(m==null?void 0:m.target)instanceof HTMLInputElement?m.target.value:"";if(y){var S=n.props.rangeSeparator,O=S.trim(),_=T.split(v.includes(O)?S:O,2).map(function(z){return z.trim()}),A=_[0],E=_[1],P=jN(A??"",v,n.props.locale,N),$=P?jN(E??"",v,n.props.locale,N):null,I=(w==null?void 0:w.getTime())!==(P==null?void 0:P.getTime()),L=(j==null?void 0:j.getTime())!==($==null?void 0:$.getTime());if(!I&&!L||P&&ci(P,n.props)||$&&ci($,n.props))return;(l=(o=n.props).onChange)===null||l===void 0||l.call(o,[P,$],m)}else{var R=jN(T,v,n.props.locale,N,(c=n.props.selected)!==null&&c!==void 0?c:void 0);(R||!T)&&n.setSelected(R,m,!0)}}},n.handleSelect=function(s,i,o){if(!n.props.readOnly){var l=n.props,c=l.selectsRange,d=l.startDate,h=l.endDate,m=l.swapRange,g=!c||d&&!h&&(m||!NN(s,d));n.props.shouldCloseOnSelect&&!n.props.showTimeSelect&&g&&n.sendFocusBackToInput(),n.props.onChangeRaw&&n.props.onChangeRaw(i),n.setSelected(s,i,!1,o),n.props.showDateSelect&&n.setState({isRenderAriaLiveMessage:!0}),!n.props.shouldCloseOnSelect||n.props.showTimeSelect?n.setPreSelection(s):g&&n.setOpen(!1)}},n.setSelected=function(s,i,o,l){var c,d,h=s;if(n.props.showYearPicker){if(h!==null&&Jy(lr(h),n.props))return}else if(n.props.showMonthYearPicker){if(h!==null&&NW(h,n.props))return}else if(h!==null&&ci(h,n.props))return;var m=n.props,g=m.onChange,y=m.selectsRange,w=m.startDate,j=m.endDate,v=m.selectsMultiple,N=m.selectedDates,T=m.minTime,S=m.swapRange;if(!Cu(n.props.selected,h)||n.props.allowSameDay||y||v)if(h!==null&&(n.props.selected&&(!o||!n.props.showTimeSelect&&!n.props.showTimeSelectOnly&&!n.props.showTimeInput)&&(h=SN(h,{hour:dl(n.props.selected),minute:fl(n.props.selected),second:Sc(n.props.selected)})),!o&&(n.props.showTimeSelect||n.props.showTimeSelectOnly)&&T&&(h=SN(h,{hour:T.getHours(),minute:T.getMinutes(),second:T.getSeconds()})),n.props.inline||n.setState({preSelection:h}),n.props.focusSelectedMonth||n.setState({monthSelectedIn:l})),y){var O=!w&&!j,_=w&&!j,A=!w&&!!j,E=w&&j;O?g==null||g([h,null],i):_?h===null?g==null||g([null,null],i):NN(h,w)?S?g==null||g([h,w],i):g==null||g([h,null],i):g==null||g([w,h],i):A&&(h&&NN(h,j)?g==null||g([h,j],i):g==null||g([h,null],i)),E&&(g==null||g([h,null],i))}else if(v){if(h!==null)if(!(N!=null&&N.length))g==null||g([h],i);else{var P=N.some(function(I){return vr(I,h)});if(P){var $=N.filter(function(I){return!vr(I,h)});g==null||g($,i)}else g==null||g(oo(oo([],N,!0),[h],!1),i)}}else g==null||g(h,i);o||((d=(c=n.props).onSelect)===null||d===void 0||d.call(c,h,i),n.setState({inputValue:null}))},n.setPreSelection=function(s){if(!n.props.readOnly){var i=ul(n.props.minDate),o=ul(n.props.maxDate),l=!0;if(s){var c=Xy(s);if(i&&o)l=xu(s,n.props.minDate,n.props.maxDate);else if(i){var d=Xy(n.props.minDate);l=Pc(s,d)||Cu(c,d)}else if(o){var h=eI(n.props.maxDate);l=io(s,h)||Cu(c,h)}}l&&n.setState({preSelection:s})}},n.toggleCalendar=function(){n.setOpen(!n.state.open)},n.handleTimeChange=function(s){var i,o;if(!(n.props.selectsRange||n.props.selectsMultiple)){var l=n.props.selected?n.props.selected:n.getPreSelection(),c=n.props.selected?s:SN(l,{hour:dl(s),minute:fl(s)});n.setState({preSelection:c}),(o=(i=n.props).onChange)===null||o===void 0||o.call(i,c),n.props.shouldCloseOnSelect&&!n.props.showTimeInput&&(n.sendFocusBackToInput(),n.setOpen(!1)),n.props.showTimeInput&&n.setOpen(!0),(n.props.showTimeSelectOnly||n.props.showTimeSelect)&&n.setState({isRenderAriaLiveMessage:!0}),n.setState({inputValue:null})}},n.onInputClick=function(){var s,i;!n.props.disabled&&!n.props.readOnly&&n.setOpen(!0),(i=(s=n.props).onInputClick)===null||i===void 0||i.call(s)},n.onInputKeyDown=function(s){var i,o,l,c,d,h;(o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s);var m=s.key;if(!n.state.open&&!n.props.inline&&!n.props.preventOpenOnFocus){(m===Tt.ArrowDown||m===Tt.ArrowUp||m===Tt.Enter)&&((l=n.onInputClick)===null||l===void 0||l.call(n));return}if(n.state.open){if(m===Tt.ArrowDown||m===Tt.ArrowUp){s.preventDefault();var g=n.props.showTimeSelectOnly?".react-datepicker__time-list-item[tabindex='0']":n.props.showWeekPicker&&n.props.showWeekNumbers?'.react-datepicker__week-number[tabindex="0"]':n.props.showFullMonthYearPicker||n.props.showMonthYearPicker?'.react-datepicker__month-text[tabindex="0"]':'.react-datepicker__day[tabindex="0"]',y=((c=n.calendar)===null||c===void 0?void 0:c.containerRef.current)instanceof Element&&n.calendar.containerRef.current.querySelector(g);y instanceof HTMLElement&&y.focus({preventScroll:!0});return}var w=zr(n.state.preSelection);m===Tt.Enter?(s.preventDefault(),s.target.blur(),n.inputOk()&&n.state.lastPreSelectChange===TN?(n.handleSelect(w,s),!n.props.shouldCloseOnSelect&&n.setPreSelection(w)):n.setOpen(!1)):m===Tt.Escape?(s.preventDefault(),s.target.blur(),n.sendFocusBackToInput(),n.setOpen(!1)):m===Tt.Tab&&n.setOpen(!1),n.inputOk()||(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:CN})}},n.onPortalKeyDown=function(s){var i=s.key;i===Tt.Escape&&(s.preventDefault(),n.setState({preventFocus:!0},function(){n.setOpen(!1),setTimeout(function(){n.setFocus(),n.setState({preventFocus:!1})})}))},n.onDayKeyDown=function(s){var i,o,l,c,d,h,m=n.props,g=m.minDate,y=m.maxDate,w=m.disabledKeyboardNavigation,j=m.showWeekPicker,v=m.shouldCloseOnSelect,N=m.locale,T=m.calendarStartDay,S=m.adjustDateOnChange,O=m.inline;if((o=(i=n.props).onKeyDown)===null||o===void 0||o.call(i,s),!w){var _=s.key,A=s.shiftKey,E=zr(n.state.preSelection),P=function(q,H){var D=H;switch(q){case Tt.ArrowRight:D=j?jb(H,1):Fi(H,1);break;case Tt.ArrowLeft:D=j?HR(H):cfe(H);break;case Tt.ArrowUp:D=HR(H);break;case Tt.ArrowDown:D=jb(H,1);break;case Tt.PageUp:D=A?qf(H,1):$u(H,1);break;case Tt.PageDown:D=A?cl(H,1):Vi(H,1);break;case Tt.Home:D=Nc(H,N,T);break;case Tt.End:D=Xhe(H);break}return D},$=function(q,H){for(var D=40,F=q,K=!1,te=0,W=P(q,H);!K;){if(te>=D){W=H;break}g&&W<g&&(F=Tt.ArrowRight,W=ci(g,n.props)?P(F,W):g),y&&W>y&&(F=Tt.ArrowLeft,W=ci(y,n.props)?P(F,W):y),ci(W,n.props)?((F===Tt.PageUp||F===Tt.Home)&&(F=Tt.ArrowRight),(F===Tt.PageDown||F===Tt.End)&&(F=Tt.ArrowLeft),W=P(F,W)):K=!0,te++}return W};if(_===Tt.Enter){s.preventDefault(),n.handleSelect(E,s),!v&&n.setPreSelection(E);return}else if(_===Tt.Escape){s.preventDefault(),n.setOpen(!1),n.inputOk()||(c=(l=n.props).onInputError)===null||c===void 0||c.call(l,{code:1,msg:CN});return}var I=null;switch(_){case Tt.ArrowLeft:case Tt.ArrowRight:case Tt.ArrowUp:case Tt.ArrowDown:case Tt.PageUp:case Tt.PageDown:case Tt.Home:case Tt.End:I=$(_,E);break}if(!I){(h=(d=n.props).onInputError)===null||h===void 0||h.call(d,{code:1,msg:CN});return}if(s.preventDefault(),n.setState({lastPreSelectChange:TN}),S&&n.setSelected(I),n.setPreSelection(I),O){var L=Ha(E),R=Ha(I),z=lr(E),Y=lr(I);L!==R||z!==Y?n.setState({shouldFocusDayInline:!0}):n.setState({shouldFocusDayInline:!1})}}},n.onPopperKeyDown=function(s){var i=s.key;i===Tt.Escape&&(s.preventDefault(),n.sendFocusBackToInput(),n.setOpen(!1))},n.onClearClick=function(s){s&&s.preventDefault&&s.preventDefault(),n.sendFocusBackToInput();var i=n.props,o=i.selectsRange,l=i.onChange;o?l==null||l([null,null],s):l==null||l(null,s),n.setState({inputValue:null})},n.clear=function(){n.onClearClick()},n.onScroll=function(s){typeof n.props.closeOnScroll=="boolean"&&n.props.closeOnScroll?(s.target===document||s.target===document.documentElement||s.target===document.body)&&n.setOpen(!1):typeof n.props.closeOnScroll=="function"&&n.props.closeOnScroll(s)&&n.setOpen(!1)},n.renderCalendar=function(){var s,i;return!n.props.inline&&!n.isCalendarOpen()?null:X.createElement(Ame,wr({showMonthYearDropdown:void 0,ref:function(o){n.calendar=o}},n.props,n.state,{setOpen:n.setOpen,dateFormat:(s=n.props.dateFormatCalendar)!==null&&s!==void 0?s:e.defaultProps.dateFormatCalendar,onSelect:n.handleSelect,onClickOutside:n.handleCalendarClickOutside,holidays:lme(n.modifyHolidays()),outsideClickIgnoreClass:n.props.outsideClickIgnoreClass,onDropdownFocus:n.handleDropdownFocus,onTimeChange:n.handleTimeChange,className:n.props.calendarClassName,container:n.props.calendarContainer,handleOnKeyDown:n.props.onKeyDown,handleOnDayKeyDown:n.onDayKeyDown,setPreSelection:n.setPreSelection,dropdownMode:(i=n.props.dropdownMode)!==null&&i!==void 0?i:e.defaultProps.dropdownMode}),n.props.children)},n.renderAriaLiveRegion=function(){var s,i=n.props.locale,o=(s=n.props.dateFormat)!==null&&s!==void 0?s:e.defaultProps.dateFormat,l=n.props.showTimeInput||n.props.showTimeSelect,c=l?"PPPPp":"PPPP",d;return n.props.selectsRange?d="Selected start date: ".concat(ii(n.props.startDate,{dateFormat:c,locale:i}),". ").concat(n.props.endDate?"End date: "+ii(n.props.endDate,{dateFormat:c,locale:i}):""):n.props.showTimeSelectOnly?d="Selected time: ".concat(ii(n.props.selected,{dateFormat:o,locale:i})):n.props.showYearPicker?d="Selected year: ".concat(ii(n.props.selected,{dateFormat:"yyyy",locale:i})):n.props.showMonthYearPicker?d="Selected month: ".concat(ii(n.props.selected,{dateFormat:"MMMM yyyy",locale:i})):n.props.showQuarterYearPicker?d="Selected quarter: ".concat(ii(n.props.selected,{dateFormat:"yyyy, QQQ",locale:i})):d="Selected date: ".concat(ii(n.props.selected,{dateFormat:c,locale:i})),X.createElement("span",{role:"alert","aria-live":"polite",className:"react-datepicker__aria-live"},d)},n.renderDateInput=function(){var s,i,o=Ft(n.props.className,(s={},s[n.props.outsideClickIgnoreClass||e.defaultProps.outsideClickIgnoreClass]=n.state.open,s)),l=n.props.customInput||X.createElement("input",{type:"text"}),c=n.props.customInputRef||"ref";return x.cloneElement(l,(i={},i[c]=function(d){n.input=d},i.value=n.getInputValue(),i.onBlur=n.handleBlur,i.onChange=n.handleChange,i.onClick=n.onInputClick,i.onFocus=n.handleFocus,i.onKeyDown=n.onInputKeyDown,i.id=n.props.id,i.name=n.props.name,i.form=n.props.form,i.autoFocus=n.props.autoFocus,i.placeholder=n.props.placeholderText,i.disabled=n.props.disabled,i.autoComplete=n.props.autoComplete,i.className=Ft(l.props.className,o),i.title=n.props.title,i.readOnly=n.props.readOnly,i.required=n.props.required,i.tabIndex=n.props.tabIndex,i["aria-describedby"]=n.props.ariaDescribedBy,i["aria-invalid"]=n.props.ariaInvalid,i["aria-labelledby"]=n.props.ariaLabelledBy,i["aria-required"]=n.props.ariaRequired,i))},n.renderClearButton=function(){var s=n.props,i=s.isClearable,o=s.disabled,l=s.selected,c=s.startDate,d=s.endDate,h=s.clearButtonTitle,m=s.clearButtonClassName,g=m===void 0?"":m,y=s.ariaLabelClose,w=y===void 0?"Close":y,j=s.selectedDates,v=s.readOnly;return i&&!v&&(l!=null||c!=null||d!=null||j!=null&&j.length)?X.createElement("button",{type:"button",className:Ft("react-datepicker__close-icon",g,{"react-datepicker__close-icon--disabled":o}),disabled:o,"aria-label":w,onClick:n.onClearClick,title:h,tabIndex:-1}):null},n.state=n.calcInitialState(),n.preventFocusTimeout=void 0,n}return Object.defineProperty(e,"defaultProps",{get:function(){return{allowSameDay:!1,dateFormat:"MM/dd/yyyy",dateFormatCalendar:"LLLL yyyy",disabled:!1,disabledKeyboardNavigation:!1,dropdownMode:"scroll",preventOpenOnFocus:!1,monthsShown:1,outsideClickIgnoreClass:_W,readOnly:!1,rangeSeparator:jW,withPortal:!1,selectsDisabledDaysInRange:!1,shouldCloseOnSelect:!0,showTimeSelect:!1,showTimeInput:!1,showPreviousMonths:!1,showMonthYearPicker:!1,showFullMonthYearPicker:!1,showTwoColumnMonthYearPicker:!1,showFourColumnMonthYearPicker:!1,showYearPicker:!1,showQuarterYearPicker:!1,showWeekPicker:!1,strictParsing:!1,swapRange:!1,timeIntervals:30,timeCaption:"Time",previousMonthAriaLabel:"Previous Month",previousMonthButtonLabel:"Previous Month",nextMonthAriaLabel:"Next Month",nextMonthButtonLabel:"Next Month",previousYearAriaLabel:"Previous Year",previousYearButtonLabel:"Previous Year",nextYearAriaLabel:"Next Year",nextYearButtonLabel:"Next Year",timeInputLabel:"Time",enableTabLoop:!0,yearItemNumber:og,focusSelectedMonth:!1,showPopperArrow:!0,excludeScrollbar:!0,customTimeInput:null,calendarStartDay:void 0,toggleCalendarOnIconClick:!1,usePointerEvent:!1}},enumerable:!1,configurable:!0}),e.prototype.componentDidMount=function(){window.addEventListener("scroll",this.onScroll,!0),document.addEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.componentDidUpdate=function(r,n){var s,i,o,l;r.inline&&Lme(r.selected,this.props.selected)&&this.setPreSelection(this.props.selected),this.state.monthSelectedIn!==void 0&&r.monthsShown!==this.props.monthsShown&&this.setState({monthSelectedIn:0}),r.highlightDates!==this.props.highlightDates&&this.setState({highlightDates:lI(this.props.highlightDates)}),!n.focused&&!Cu(r.selected,this.props.selected)&&this.setState({inputValue:null}),n.open!==this.state.open&&(n.open===!1&&this.state.open===!0&&((i=(s=this.props).onCalendarOpen)===null||i===void 0||i.call(s)),n.open===!0&&this.state.open===!1&&((l=(o=this.props).onCalendarClose)===null||l===void 0||l.call(o)))},e.prototype.componentWillUnmount=function(){this.clearPreventFocusTimeout(),window.removeEventListener("scroll",this.onScroll,!0),document.removeEventListener("visibilitychange",this.setHiddenStateOnVisibilityHidden)},e.prototype.renderInputContainer=function(){var r=this.props,n=r.showIcon,s=r.icon,i=r.calendarIconClassname,o=r.calendarIconClassName,l=r.toggleCalendarOnIconClick,c=this.state.open;return i&&console.warn("calendarIconClassname props is deprecated. should use calendarIconClassName props."),X.createElement("div",{className:"react-datepicker__input-container".concat(n?" react-datepicker__view-calendar-icon":"")},n&&X.createElement(Ome,wr({icon:s,className:Ft(o,!o&&i,c&&"react-datepicker-ignore-onclickoutside")},l?{onClick:this.toggleCalendar}:null)),this.state.isRenderAriaLiveMessage&&this.renderAriaLiveRegion(),this.renderDateInput(),this.renderClearButton())},e.prototype.render=function(){var r=this.renderCalendar();if(this.props.inline)return r;if(this.props.withPortal){var n=this.state.open?X.createElement(AW,{enableTabLoop:this.props.enableTabLoop},X.createElement("div",{className:"react-datepicker__portal",tabIndex:-1,onKeyDown:this.onPortalKeyDown},r)):null;return this.state.open&&this.props.portalId&&(n=X.createElement(MW,wr({portalId:this.props.portalId},this.props),n)),X.createElement("div",null,this.renderInputContainer(),n)}return X.createElement(Ime,wr({},this.props,{className:this.props.popperClassName,hidePopper:!this.isCalendarOpen(),targetComponent:this.renderInputContainer(),popperComponent:r,popperOnKeyDown:this.onPopperKeyDown,showArrow:this.props.showPopperArrow}))},e})(x.Component),$me="input",TN="navigate";/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */const{entries:OW,setPrototypeOf:mI,isFrozen:Fme,getPrototypeOf:Hme,getOwnPropertyDescriptor:Bme}=Object;let{freeze:ns,seal:bi,create:EW}=Object,{apply:a_,construct:s_}=typeof Reflect<"u"&&Reflect;ns||(ns=function(e){return e});bi||(bi=function(e){return e});a_||(a_=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i];return e.apply(r,s)});s_||(s_=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return new e(...n)});const ey=as(Array.prototype.forEach),zme=as(Array.prototype.lastIndexOf),pI=as(Array.prototype.pop),Wm=as(Array.prototype.push),Vme=as(Array.prototype.splice),Qy=as(String.prototype.toLowerCase),_N=as(String.prototype.toString),MN=as(String.prototype.match),Um=as(String.prototype.replace),qme=as(String.prototype.indexOf),Wme=as(String.prototype.trim),Ei=as(Object.prototype.hasOwnProperty),Ya=as(RegExp.prototype.test),Gm=Ume(TypeError);function as(t){return function(e){e instanceof RegExp&&(e.lastIndex=0);for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];return a_(t,e,n)}}function Ume(t){return function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];return s_(t,r)}}function xr(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Qy;mI&&mI(t,null);let n=e.length;for(;n--;){let s=e[n];if(typeof s=="string"){const i=r(s);i!==s&&(Fme(e)||(e[n]=i),s=i)}t[s]=!0}return t}function Gme(t){for(let e=0;e<t.length;e++)Ei(t,e)||(t[e]=null);return t}function Jo(t){const e=EW(null);for(const[r,n]of OW(t))Ei(t,r)&&(Array.isArray(n)?e[r]=Gme(n):n&&typeof n=="object"&&n.constructor===Object?e[r]=Jo(n):e[r]=n);return e}function Ym(t,e){for(;t!==null;){const n=Bme(t,e);if(n){if(n.get)return as(n.get);if(typeof n.value=="function")return as(n.value)}t=Hme(t)}function r(){return null}return r}const gI=ns(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),AN=ns(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),ON=ns(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),Yme=ns(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),EN=ns(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),Kme=ns(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),xI=ns(["#text"]),yI=ns(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),DN=ns(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),bI=ns(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),ty=ns(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),Xme=bi(/\{\{[\w\W]*|[\w\W]*\}\}/gm),Jme=bi(/<%[\w\W]*|[\w\W]*%>/gm),Qme=bi(/\$\{[\w\W]*/gm),Zme=bi(/^data-[\-\w.\u00B7-\uFFFF]+$/),epe=bi(/^aria-[\-\w]+$/),DW=bi(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),tpe=bi(/^(?:\w+script|data):/i),rpe=bi(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PW=bi(/^html$/i),npe=bi(/^[a-z][.\w]*(-[.\w]+)+$/i);var vI=Object.freeze({__proto__:null,ARIA_ATTR:epe,ATTR_WHITESPACE:rpe,CUSTOM_ELEMENT:npe,DATA_ATTR:Zme,DOCTYPE_NAME:PW,ERB_EXPR:Jme,IS_ALLOWED_URI:DW,IS_SCRIPT_OR_DATA:tpe,MUSTACHE_EXPR:Xme,TMPLIT_EXPR:Qme});const Km={element:1,text:3,progressingInstruction:7,comment:8,document:9},ape=function(){return typeof window>"u"?null:window},spe=function(e,r){if(typeof e!="object"||typeof e.createPolicy!="function")return null;let n=null;const s="data-tt-policy-suffix";r&&r.hasAttribute(s)&&(n=r.getAttribute(s));const i="dompurify"+(n?"#"+n:"");try{return e.createPolicy(i,{createHTML(o){return o},createScriptURL(o){return o}})}catch{return console.warn("TrustedTypes policy "+i+" could not be created."),null}},wI=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function RW(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:ape();const e=Be=>RW(Be);if(e.version="3.2.7",e.removed=[],!t||!t.document||t.document.nodeType!==Km.document||!t.Element)return e.isSupported=!1,e;let{document:r}=t;const n=r,s=n.currentScript,{DocumentFragment:i,HTMLTemplateElement:o,Node:l,Element:c,NodeFilter:d,NamedNodeMap:h=t.NamedNodeMap||t.MozNamedAttrMap,HTMLFormElement:m,DOMParser:g,trustedTypes:y}=t,w=c.prototype,j=Ym(w,"cloneNode"),v=Ym(w,"remove"),N=Ym(w,"nextSibling"),T=Ym(w,"childNodes"),S=Ym(w,"parentNode");if(typeof o=="function"){const Be=r.createElement("template");Be.content&&Be.content.ownerDocument&&(r=Be.content.ownerDocument)}let O,_="";const{implementation:A,createNodeIterator:E,createDocumentFragment:P,getElementsByTagName:$}=r,{importNode:I}=n;let L=wI();e.isSupported=typeof OW=="function"&&typeof S=="function"&&A&&A.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:R,ERB_EXPR:z,TMPLIT_EXPR:Y,DATA_ATTR:q,ARIA_ATTR:H,IS_SCRIPT_OR_DATA:D,ATTR_WHITESPACE:F,CUSTOM_ELEMENT:K}=vI;let{IS_ALLOWED_URI:te}=vI,W=null;const Z=xr({},[...gI,...AN,...ON,...EN,...xI]);let oe=null;const le=xr({},[...yI,...DN,...bI,...ty]);let ce=Object.seal(EW(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),pe=null,Ie=null,Ee=!0,ge=!0,Oe=!1,ze=!0,re=!1,se=!0,ee=!1,we=!1,Ge=!1,Ye=!1,xe=!1,ct=!1,mt=!0,tt=!1;const wt="user-content-";let Ct=!0,ft=!1,Rt={},Ze=null;const he=xr({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let We=null;const je=xr({},["audio","video","img","source","image","track"]);let ht=null;const gt=xr({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),St="http://www.w3.org/1998/Math/MathML",ve="http://www.w3.org/2000/svg",nt="http://www.w3.org/1999/xhtml";let Xe=nt,ae=!1,ne=null;const Ae=xr({},[St,ve,nt],_N);let et=xr({},["mi","mo","mn","ms","mtext"]),xt=xr({},["annotation-xml"]);const ye=xr({},["title","style","font","a","script"]);let B=null;const ue=["application/xhtml+xml","text/html"],be="text/html";let ke=null,Le=null;const J=r.createElement("form"),ie=function(fe){return fe instanceof RegExp||fe instanceof Function},Se=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Le&&Le===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=Jo(fe),B=ue.indexOf(fe.PARSER_MEDIA_TYPE)===-1?be:fe.PARSER_MEDIA_TYPE,ke=B==="application/xhtml+xml"?_N:Qy,W=Ei(fe,"ALLOWED_TAGS")?xr({},fe.ALLOWED_TAGS,ke):Z,oe=Ei(fe,"ALLOWED_ATTR")?xr({},fe.ALLOWED_ATTR,ke):le,ne=Ei(fe,"ALLOWED_NAMESPACES")?xr({},fe.ALLOWED_NAMESPACES,_N):Ae,ht=Ei(fe,"ADD_URI_SAFE_ATTR")?xr(Jo(gt),fe.ADD_URI_SAFE_ATTR,ke):gt,We=Ei(fe,"ADD_DATA_URI_TAGS")?xr(Jo(je),fe.ADD_DATA_URI_TAGS,ke):je,Ze=Ei(fe,"FORBID_CONTENTS")?xr({},fe.FORBID_CONTENTS,ke):he,pe=Ei(fe,"FORBID_TAGS")?xr({},fe.FORBID_TAGS,ke):Jo({}),Ie=Ei(fe,"FORBID_ATTR")?xr({},fe.FORBID_ATTR,ke):Jo({}),Rt=Ei(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,Ee=fe.ALLOW_ARIA_ATTR!==!1,ge=fe.ALLOW_DATA_ATTR!==!1,Oe=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,ze=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,re=fe.SAFE_FOR_TEMPLATES||!1,se=fe.SAFE_FOR_XML!==!1,ee=fe.WHOLE_DOCUMENT||!1,Ye=fe.RETURN_DOM||!1,xe=fe.RETURN_DOM_FRAGMENT||!1,ct=fe.RETURN_TRUSTED_TYPE||!1,Ge=fe.FORCE_BODY||!1,mt=fe.SANITIZE_DOM!==!1,tt=fe.SANITIZE_NAMED_PROPS||!1,Ct=fe.KEEP_CONTENT!==!1,ft=fe.IN_PLACE||!1,te=fe.ALLOWED_URI_REGEXP||DW,Xe=fe.NAMESPACE||nt,et=fe.MATHML_TEXT_INTEGRATION_POINTS||et,xt=fe.HTML_INTEGRATION_POINTS||xt,ce=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&ie(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ce.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&ie(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ce.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ce.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),re&&(ge=!1),xe&&(Ye=!0),Rt&&(W=xr({},xI),oe=[],Rt.html===!0&&(xr(W,gI),xr(oe,yI)),Rt.svg===!0&&(xr(W,AN),xr(oe,DN),xr(oe,ty)),Rt.svgFilters===!0&&(xr(W,ON),xr(oe,DN),xr(oe,ty)),Rt.mathMl===!0&&(xr(W,EN),xr(oe,bI),xr(oe,ty))),fe.ADD_TAGS&&(W===Z&&(W=Jo(W)),xr(W,fe.ADD_TAGS,ke)),fe.ADD_ATTR&&(oe===le&&(oe=Jo(oe)),xr(oe,fe.ADD_ATTR,ke)),fe.ADD_URI_SAFE_ATTR&&xr(ht,fe.ADD_URI_SAFE_ATTR,ke),fe.FORBID_CONTENTS&&(Ze===he&&(Ze=Jo(Ze)),xr(Ze,fe.FORBID_CONTENTS,ke)),Ct&&(W["#text"]=!0),ee&&xr(W,["html","head","body"]),W.table&&(xr(W,["tbody"]),delete pe.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw Gm('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw Gm('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');O=fe.TRUSTED_TYPES_POLICY,_=O.createHTML("")}else O===void 0&&(O=spe(y,s)),O!==null&&typeof _=="string"&&(_=O.createHTML(""));ns&&ns(fe),Le=fe}},Ve=xr({},[...AN,...ON,...Yme]),rt=xr({},[...EN,...Kme]),He=function(fe){let Qe=S(fe);(!Qe||!Qe.tagName)&&(Qe={namespaceURI:Xe,tagName:"template"});const bt=Qy(fe.tagName),fr=Qy(Qe.tagName);return ne[fe.namespaceURI]?fe.namespaceURI===ve?Qe.namespaceURI===nt?bt==="svg":Qe.namespaceURI===St?bt==="svg"&&(fr==="annotation-xml"||et[fr]):!!Ve[bt]:fe.namespaceURI===St?Qe.namespaceURI===nt?bt==="math":Qe.namespaceURI===ve?bt==="math"&&xt[fr]:!!rt[bt]:fe.namespaceURI===nt?Qe.namespaceURI===ve&&!xt[fr]||Qe.namespaceURI===St&&!et[fr]?!1:!rt[bt]&&(ye[bt]||!Ve[bt]):!!(B==="application/xhtml+xml"&&ne[fe.namespaceURI]):!1},Ce=function(fe){Wm(e.removed,{element:fe});try{S(fe).removeChild(fe)}catch{v(fe)}},$e=function(fe,Qe){try{Wm(e.removed,{attribute:Qe.getAttributeNode(fe),from:Qe})}catch{Wm(e.removed,{attribute:null,from:Qe})}if(Qe.removeAttribute(fe),fe==="is")if(Ye||xe)try{Ce(Qe)}catch{}else try{Qe.setAttribute(fe,"")}catch{}},it=function(fe){let Qe=null,bt=null;if(Ge)fe="<remove></remove>"+fe;else{const Mr=MN(fe,/^[\r\n\t ]+/);bt=Mr&&Mr[0]}B==="application/xhtml+xml"&&Xe===nt&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");const fr=O?O.createHTML(fe):fe;if(Xe===nt)try{Qe=new g().parseFromString(fr,B)}catch{}if(!Qe||!Qe.documentElement){Qe=A.createDocument(Xe,"template",null);try{Qe.documentElement.innerHTML=ae?_:fr}catch{}}const en=Qe.body||Qe.documentElement;return fe&&bt&&en.insertBefore(r.createTextNode(bt),en.childNodes[0]||null),Xe===nt?$.call(Qe,ee?"html":"body")[0]:ee?Qe.documentElement:en},Wt=function(fe){return E.call(fe.ownerDocument||fe,fe,d.SHOW_ELEMENT|d.SHOW_COMMENT|d.SHOW_TEXT|d.SHOW_PROCESSING_INSTRUCTION|d.SHOW_CDATA_SECTION,null)},ur=function(fe){return fe instanceof m&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof h)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},Cr=function(fe){return typeof l=="function"&&fe instanceof l};function ot(Be,fe,Qe){ey(Be,bt=>{bt.call(e,fe,Qe,Le)})}const nr=function(fe){let Qe=null;if(ot(L.beforeSanitizeElements,fe,null),ur(fe))return Ce(fe),!0;const bt=ke(fe.nodeName);if(ot(L.uponSanitizeElement,fe,{tagName:bt,allowedTags:W}),se&&fe.hasChildNodes()&&!Cr(fe.firstElementChild)&&Ya(/<[/\w!]/g,fe.innerHTML)&&Ya(/<[/\w!]/g,fe.textContent)||fe.nodeType===Km.progressingInstruction||se&&fe.nodeType===Km.comment&&Ya(/<[/\w]/g,fe.data))return Ce(fe),!0;if(!W[bt]||pe[bt]){if(!pe[bt]&&dr(bt)&&(ce.tagNameCheck instanceof RegExp&&Ya(ce.tagNameCheck,bt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(bt)))return!1;if(Ct&&!Ze[bt]){const fr=S(fe)||fe.parentNode,en=T(fe)||fe.childNodes;if(en&&fr){const Mr=en.length;for(let hr=Mr-1;hr>=0;--hr){const wa=j(en[hr],!0);wa.__removalCount=(fe.__removalCount||0)+1,fr.insertBefore(wa,N(fe))}}}return Ce(fe),!0}return fe instanceof c&&!He(fe)||(bt==="noscript"||bt==="noembed"||bt==="noframes")&&Ya(/<\/no(script|embed|frames)/i,fe.innerHTML)?(Ce(fe),!0):(re&&fe.nodeType===Km.text&&(Qe=fe.textContent,ey([R,z,Y],fr=>{Qe=Um(Qe,fr," ")}),fe.textContent!==Qe&&(Wm(e.removed,{element:fe.cloneNode()}),fe.textContent=Qe)),ot(L.afterSanitizeElements,fe,null),!1)},kt=function(fe,Qe,bt){if(mt&&(Qe==="id"||Qe==="name")&&(bt in r||bt in J))return!1;if(!(ge&&!Ie[Qe]&&Ya(q,Qe))){if(!(Ee&&Ya(H,Qe))){if(!oe[Qe]||Ie[Qe]){if(!(dr(fe)&&(ce.tagNameCheck instanceof RegExp&&Ya(ce.tagNameCheck,fe)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(fe))&&(ce.attributeNameCheck instanceof RegExp&&Ya(ce.attributeNameCheck,Qe)||ce.attributeNameCheck instanceof Function&&ce.attributeNameCheck(Qe,fe))||Qe==="is"&&ce.allowCustomizedBuiltInElements&&(ce.tagNameCheck instanceof RegExp&&Ya(ce.tagNameCheck,bt)||ce.tagNameCheck instanceof Function&&ce.tagNameCheck(bt))))return!1}else if(!ht[Qe]){if(!Ya(te,Um(bt,F,""))){if(!((Qe==="src"||Qe==="xlink:href"||Qe==="href")&&fe!=="script"&&qme(bt,"data:")===0&&We[fe])){if(!(Oe&&!Ya(D,Um(bt,F,"")))){if(bt)return!1}}}}}}return!0},dr=function(fe){return fe!=="annotation-xml"&&MN(fe,K)},Me=function(fe){ot(L.beforeSanitizeAttributes,fe,null);const{attributes:Qe}=fe;if(!Qe||ur(fe))return;const bt={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:oe,forceKeepAttr:void 0};let fr=Qe.length;for(;fr--;){const en=Qe[fr],{name:Mr,namespaceURI:hr,value:wa}=en,cs=ke(Mr),Pa=wa;let Vr=Mr==="value"?Pa:Wme(Pa);if(bt.attrName=cs,bt.attrValue=Vr,bt.keepAttr=!0,bt.forceKeepAttr=void 0,ot(L.uponSanitizeAttribute,fe,bt),Vr=bt.attrValue,tt&&(cs==="id"||cs==="name")&&($e(Mr,fe),Vr=wt+Vr),se&&Ya(/((--!?|])>)|<\/(style|title|textarea)/i,Vr)){$e(Mr,fe);continue}if(cs==="attributename"&&MN(Vr,"href")){$e(Mr,fe);continue}if(bt.forceKeepAttr)continue;if(!bt.keepAttr){$e(Mr,fe);continue}if(!ze&&Ya(/\/>/i,Vr)){$e(Mr,fe);continue}re&&ey([R,z,Y],Uc=>{Vr=Um(Vr,Uc," ")});const Ll=ke(fe.nodeName);if(!kt(Ll,cs,Vr)){$e(Mr,fe);continue}if(O&&typeof y=="object"&&typeof y.getAttributeType=="function"&&!hr)switch(y.getAttributeType(Ll,cs)){case"TrustedHTML":{Vr=O.createHTML(Vr);break}case"TrustedScriptURL":{Vr=O.createScriptURL(Vr);break}}if(Vr!==Pa)try{hr?fe.setAttributeNS(hr,Mr,Vr):fe.setAttribute(Mr,Vr),ur(fe)?Ce(fe):pI(e.removed)}catch{$e(Mr,fe)}}ot(L.afterSanitizeAttributes,fe,null)},Te=function Be(fe){let Qe=null;const bt=Wt(fe);for(ot(L.beforeSanitizeShadowDOM,fe,null);Qe=bt.nextNode();)ot(L.uponSanitizeShadowNode,Qe,null),nr(Qe),Me(Qe),Qe.content instanceof i&&Be(Qe.content);ot(L.afterSanitizeShadowDOM,fe,null)};return e.sanitize=function(Be){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Qe=null,bt=null,fr=null,en=null;if(ae=!Be,ae&&(Be="<!-->"),typeof Be!="string"&&!Cr(Be))if(typeof Be.toString=="function"){if(Be=Be.toString(),typeof Be!="string")throw Gm("dirty is not a string, aborting")}else throw Gm("toString is not a function");if(!e.isSupported)return Be;if(we||Se(fe),e.removed=[],typeof Be=="string"&&(ft=!1),ft){if(Be.nodeName){const wa=ke(Be.nodeName);if(!W[wa]||pe[wa])throw Gm("root node is forbidden and cannot be sanitized in-place")}}else if(Be instanceof l)Qe=it("<!---->"),bt=Qe.ownerDocument.importNode(Be,!0),bt.nodeType===Km.element&&bt.nodeName==="BODY"||bt.nodeName==="HTML"?Qe=bt:Qe.appendChild(bt);else{if(!Ye&&!re&&!ee&&Be.indexOf("<")===-1)return O&&ct?O.createHTML(Be):Be;if(Qe=it(Be),!Qe)return Ye?null:ct?_:""}Qe&&Ge&&Ce(Qe.firstChild);const Mr=Wt(ft?Be:Qe);for(;fr=Mr.nextNode();)nr(fr),Me(fr),fr.content instanceof i&&Te(fr.content);if(ft)return Be;if(Ye){if(xe)for(en=P.call(Qe.ownerDocument);Qe.firstChild;)en.appendChild(Qe.firstChild);else en=Qe;return(oe.shadowroot||oe.shadowrootmode)&&(en=I.call(n,en,!0)),en}let hr=ee?Qe.outerHTML:Qe.innerHTML;return ee&&W["!doctype"]&&Qe.ownerDocument&&Qe.ownerDocument.doctype&&Qe.ownerDocument.doctype.name&&Ya(PW,Qe.ownerDocument.doctype.name)&&(hr="<!DOCTYPE "+Qe.ownerDocument.doctype.name+`>
`+hr),re&&ey([R,z,Y],wa=>{hr=Um(hr,wa," ")}),O&&ct?O.createHTML(hr):hr},e.setConfig=function(){let Be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Se(Be),we=!0},e.clearConfig=function(){Le=null,we=!1},e.isValidAttribute=function(Be,fe,Qe){Le||Se({});const bt=ke(Be),fr=ke(fe);return kt(bt,fr,Qe)},e.addHook=function(Be,fe){typeof fe=="function"&&Wm(L[Be],fe)},e.removeHook=function(Be,fe){if(fe!==void 0){const Qe=zme(L[Be],fe);return Qe===-1?void 0:Vme(L[Be],Qe,1)[0]}return pI(L[Be])},e.removeHooks=function(Be){L[Be]=[]},e.removeAllHooks=function(){L=wI()},e}var Ol=RW();function ipe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const ry=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},jI=({isOpen:t,onClose:e,title:r,children:n,className:s,maxWidth:i="max-w-xl"})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${i} ${s||"w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),i_=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},o_=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.floor(t/60),r=t%60;return t===0?"0min":e===0&&r>0?`${r}min`:e>0&&r===0?`${e}h`:`${e}h ${r}min`},ope=({record:t,onClose:e})=>{const r=(m,g)=>{if(m==null||g===null||g===void 0)return"-";const y=m.toString().padStart(2,"0"),w=g.toString().padStart(2,"0");return`${y}:${w}`},n=m=>m==null?"-":typeof m=="object"?m.name||JSON.stringify(m):typeof m=="string"?m.trim()!==""?m.trim():"-":typeof m=="number"?m.toLocaleString("id-ID"):String(m),s=i_(t.stopJam,t.stopMenit,t.startJam,t.startMenit),i=o_(s),o=({status:m})=>{const g={PM:"bg-blue-100 text-blue-800 border-blue-300",Harmonisasi:"bg-green-100 text-green-800 border-green-300",CIP:"bg-purple-100 text-purple-800 border-purple-300",Unplanned:"bg-red-100 text-red-800 border-red-300",Standby:"bg-yellow-100 text-yellow-800 border-yellow-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},l=({activity:m})=>{const g={Perbaikan:"bg-orange-100 text-orange-800 border-orange-300",Perawatan:"bg-cyan-100 text-cyan-800 border-cyan-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${g[m]||"bg-gray-100 text-gray-800 border-gray-300"}`,children:m})},c=({title:m,children:g,icon:y})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[y&&a.jsx("div",{className:"mr-3 text-blue-600",children:y}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:m})]})}),a.jsx("div",{className:"p-6",children:g})]}),d=({label:m,value:g,icon:y,fullWidth:w=!1,priority:j="medium"})=>{const v={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${w?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${v[j]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[y&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:m}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:g})]})]})})})},h=({label:m,htmlContent:g,icon:y,fullWidth:w=!1})=>{if(!g)return a.jsx(d,{label:m,value:"-",icon:y,fullWidth:w,priority:"low"});const j=Ol.sanitize(g,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${w?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[y&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:y}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:m}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:j}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:"Maintenance Record"}),a.jsx(l,{activity:t.perbaikanPerawatan}),a.jsx(o,{status:t.stopTime})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Date: ",n(t.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),"Duration: ",n(i)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(cn,{className:"w-4 h-4"}),"Machine: ",n(t.mesin)]})]})]})})}),a.jsx(c,{title:"Basic Information",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(d,{label:"Date",value:n(t.date),icon:a.jsx(Vn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Shift",value:n(t.shift),icon:a.jsx(It,{className:"w-4 h-4"})}),a.jsx(d,{label:"Group",value:n(t.group),icon:a.jsx(ca,{className:"w-4 h-4"})}),a.jsx(d,{label:"Machine",value:n(t.mesin),icon:a.jsx(Nn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Unit",value:n(t.unit),icon:a.jsx(jn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Running Hour",value:n(t.runningHour),icon:a.jsx(It,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Time Details",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Stop Time",value:r(t.stopJam,t.stopMenit),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Start Time",value:r(t.startJam,t.startMenit),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Duration",value:n(i),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Stop Type",value:n(t.stopTime),icon:a.jsx(Xt,{className:"w-4 h-4"})})]})}),a.jsx(c,{title:"Issue & Problem Details",icon:a.jsx(Xt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Item Trouble",value:n(t.itemTrouble),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Issue Description",value:n(t.jenisGangguan),icon:a.jsx(Xt,{className:"w-4 h-4"}),priority:"high"}),a.jsx(h,{label:"Action Taken",htmlContent:t.bentukTindakan||"",icon:a.jsx(Lt,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(d,{label:"Root Cause",value:n(t.rootCause),icon:a.jsx(In,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Maintenance Activity",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(d,{label:"Activity Type",value:n(t.perbaikanPerawatan),icon:a.jsx(Nn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"Specific Activity",value:n(t.jenisAktivitas),icon:a.jsx(cn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Kegiatan",value:n(t.kegiatan),icon:a.jsx(or,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Spare Parts Used",icon:a.jsx(jn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[a.jsx(d,{label:"Part Code",value:n(t.kodePart),icon:a.jsx(jn,{className:"w-4 h-4"})}),a.jsx(d,{label:"Part Name",value:n(t.sparePart),icon:a.jsx(jn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(d,{label:"ID Part",value:n(t.idPart),icon:a.jsx(Bf,{className:"w-4 h-4"})}),a.jsx(d,{label:"Quantity",value:n(t.jumlah),icon:a.jsx(Bi,{className:"w-4 h-4"})}),a.jsx(d,{label:"Unit",value:n(t.unitSparePart),icon:a.jsx(jn,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(c,{title:"Event Timeline",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-red-50 rounded-lg border border-red-200",children:[a.jsx("span",{className:"text-sm font-medium text-red-800",children:"Machine Stopped"}),a.jsx("span",{className:"text-sm text-red-600",children:r(t.stopJam,t.stopMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Maintenance Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:r(t.startJam,t.startMenit)})]}),a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Total Downtime"}),a.jsx("span",{className:"text-sm text-green-600",children:n(i)})]})]})}),a.jsx(c,{title:"Technical Summary",icon:a.jsx(Bi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Maintenance Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:n(t.perbaikanPerawatan)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Efficiency Impact"}),a.jsxs("p",{className:"text-lg font-bold text-green-600",children:[n(i)," downtime"]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(C.button,{type:"button",onClick:e,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})},lpe=()=>{const[t,e]=x.useState(()=>{const Me=localStorage.getItem("sidebarOpen");return Me?JSON.parse(Me):!1}),[r,n]=x.useState(""),[s,i]=x.useState(!1),[o,l]=x.useState([]),[c,d]=x.useState([]),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(1),[T]=x.useState(10),{user:S,getMachineHistories:O,deleteMachineHistory:_,isAuthenticated:A,isMasterDataLoading:E,hasPermission:P}=Nt(),[$,I]=x.useState([]),[L,R]=x.useState([]),[z,Y]=x.useState(!0),[q,H]=x.useState(null),[D,F]=x.useState([]),K=jt(),[te,W]=x.useState(window.innerWidth<768),[Z,oe]=x.useState(!1),[le,ce]=x.useState(null),[pe,Ie]=x.useState(null),[Ee,ge]=x.useState(null),[Oe,ze]=x.useState([]),[re,se]=x.useState(!1),[ee,we]=x.useState(!1),Ge=x.useRef(null),Ye=x.useRef(null),[xe,ct]=x.useState({key:"date",direction:"descending"}),[mt,tt]=x.useState(!1),wt=x.useRef(null),Ct=x.useRef(null),[ft,Rt]=x.useState(!1),[Ze,he]=x.useState(!1),[We,je]=x.useState(null),[ht,gt]=x.useState(!1),St=x.useRef(null),[ve,nt]=x.useState(!1),Xe=x.useRef(null),ae=location.pathname==="/machinehistory",ne=location.pathname==="/machinehistory/reports",Ae=ipe(r,300),et=x.useMemo(()=>[{id:"machine",name:"Machine Name"},{id:"issue",name:"Issue Description"},{id:"recordId",name:"Record ID"},{id:"itemTrouble",name:"Item Trouble"}],[]),xt=x.useMemo(()=>[{value:"Perbaikan",label:"Repairs"},{value:"Perawatan",label:"Maintenance"}],[]),ye=x.useMemo(()=>[{value:"1",label:"Shift 1"},{value:"2",label:"Shift 2"},{value:"3",label:"Shift 3"}],[]),B=x.useCallback(async()=>{try{Y(!0);const Me=await O();I(Me||[]),R(Me||[]);const Te=Array.from(new Set(Me.map(Be=>Be.mesin))).filter(Boolean).map(Be=>({id:Be,name:Be}));F(Te)}catch(Me){console.error("Failed to load data:",Me),I([]),F([])}finally{Y(!1)}},[O]),ue=Me=>{const Te=Me.target.value;n(Te)};x.useEffect(()=>{N(1)},[]),x.useEffect(()=>{B()},[B]),x.useEffect(()=>{let Me=[...$];if(Ae.trim()){const Te=Ae.toLowerCase().trim();Me=Me.filter(Be=>{var wa,cs,Pa,Vr;const fe=Te.split(":");let Qe="all",bt=Te;fe.length>1&&et.some(Ll=>Ll.name.toLowerCase()===fe[0].trim())&&(Qe=fe[0].trim(),bt=fe.slice(1).join(":").trim());const fr=(wa=Be.mesin)==null?void 0:wa.toLowerCase().includes(bt),en=(cs=Be.jenisGangguan)==null?void 0:cs.toLowerCase().includes(bt),Mr=(Pa=Be.id)==null?void 0:Pa.toLowerCase().includes(bt),hr=(Vr=Be.itemTrouble)==null?void 0:Vr.toLowerCase().includes(bt);return Qe==="machine name"?fr:Qe==="issue description"?en:Qe==="record id"?Mr:Qe==="item trouble"?hr:fr||en||Mr||hr})}if(pe){const Te=new Date(pe);Te.setHours(0,0,0,0),Me=Me.filter(Be=>{const fe=new Date(Be.date);return fe.setHours(0,0,0,0),fe>=Te})}if(Ee){const Te=new Date(Ee);Te.setHours(23,59,59,999),Me=Me.filter(Be=>{const fe=new Date(Be.date);return fe.setHours(0,0,0,0),fe<=Te})}o.length>0&&(Me=Me.filter(Te=>o.includes(Te.perbaikanPerawatan))),c.length>0&&(Me=Me.filter(Te=>c.includes(Te.mesin))),Oe.length>0&&(Me=Me.filter(Te=>Oe.includes(Te.shift))),xe!==null&&Me.sort((Te,Be)=>{const fe=J(Te[xe.key]),Qe=J(Be[xe.key]);return fe<Qe?xe.direction==="ascending"?-1:1:fe>Qe?xe.direction==="ascending"?1:-1:0}),R(Me)},[$,Ae,pe,Ee,o,c,Oe,xe,et,xt,ye]),x.useEffect(()=>{const Me=()=>{W(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",Me),()=>window.removeEventListener("resize",Me)},[]),x.useEffect(()=>{const Me=Te=>{Ge.current&&!Ge.current.contains(Te.target)&&se(!1),Ye.current&&!Ye.current.contains(Te.target)&&we(!1),wt.current&&!wt.current.contains(Te.target)&&!Te.target.closest(".search-suggestions")&&tt(!1),Ct.current&&!Ct.current.contains(Te.target)&&!Te.target.closest(".machine-filter-toggle")&&Rt(!1),St.current&&!St.current.contains(Te.target)&&!Te.target.closest(".status-filter-toggle")&&gt(!1),Xe.current&&!Xe.current.contains(Te.target)&&!Te.target.closest(".shift-filter-toggle")&&nt(!1)};return document.addEventListener("mousedown",Me),()=>{document.removeEventListener("mousedown",Me)}},[]);const be=X.useMemo(()=>{if(!r)return et;const Me=r.toLowerCase();return et.filter(Te=>Te.name.toLowerCase().includes(Me))},[r,et]),ke=Me=>{var Te;n(`${Me}: `),tt(!1),(Te=wt.current)==null||Te.focus()},Le=Me=>{let Te="ascending";xe&&xe.key===Me&&xe.direction==="ascending"&&(Te="descending"),ct({key:Me,direction:Te})},J=Me=>typeof Me=="object"&&Me!==null?Me.name||Me.toString():(Me==null?void 0:Me.toString())||"",ie=async Me=>{try{await _(Me),I($.filter(Te=>Te.id!==Me)),oe(!1),ce(null)}catch(Te){console.error("Failed to delete record:",Te),H("Failed to delete record. Please try again.")}},Se=v*T,Ve=Se-T,rt=L.slice(Ve,Se),He=Math.ceil(L.length/T),Ce=Me=>N(Me),$e=(Me,Te)=>{if(Me==null||Te===null||Te===void 0)return"-";const Be=Me.toString().padStart(2,"0"),fe=Te.toString().padStart(2,"0");return`${Be}:${fe}`},it=Me=>{const Te=i_(Me.stopJam,Me.stopMenit,Me.startJam,Me.startMenit);return o_(Te)},Wt=Me=>{switch((Me||"").toLowerCase().trim()){case"pm":return"bg-blue-100 text-blue-800 border border-blue-200";case"harmonisasi":return"bg-green-100 text-green-800 border border-green-200";case"cip":return"bg-purple-100 text-purple-800 border border-purple-200";case"unplanned":return"bg-red-100 text-red-800 border border-red-200";case"standby":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},ur=(Me,Te)=>{d(Te?Be=>[...Be,Me]:Be=>Be.filter(fe=>fe!==Me))},Cr=(Me,Te)=>{l(Te?Be=>[...Be,Me]:Be=>Be.filter(fe=>fe!==Me))},ot=(Me,Te)=>{ze(Te?Be=>[...Be,Me]:Be=>Be.filter(fe=>fe!==Me))},nr=()=>{alert("Import functionality is not yet implemented.")},kt=Me=>{j(Me),y(!0)},dr=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(Me=>!Me)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Machine History",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(rg,{}),isMobile:te,toggleSidebar:dr}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>K("machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ae?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>K("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ne?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Records"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Effortlessly track, analyze, and manage machine downtime and maintenance activities to optimize factory operations."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[P("create_machine_history")&&a.jsxs(C.button,{onClick:()=>K("/machinehistory/addmachinehistory"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Record"})]}),a.jsxs(C.button,{onClick:nr,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:h?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(ry,{title:"Total Records",value:L.length.toLocaleString("id-ID"),change:"+8%",icon:a.jsx(or,{})}),a.jsx(ry,{title:"Avg Durationtime",value:L.length>0?o_(Math.round(L.reduce((Me,Te)=>{const Be=i_(Te.stopJam,Te.stopMenit,Te.startJam,Te.startMenit)||0;return Me+Be},0)/L.length)):"0min",change:"-5%",icon:a.jsx(It,{})}),a.jsx(ry,{title:"Repairs",value:L.filter(Me=>Me.perbaikanPerawatan==="Perbaikan").length.toLocaleString("id-ID"),change:"+3",icon:a.jsx(cn,{})}),a.jsx(ry,{title:"Maintenance",value:L.filter(Me=>Me.perbaikanPerawatan==="Perawatan").length.toLocaleString("id-ID"),change:"+2",icon:a.jsx(Lt,{})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:wt,type:"text",placeholder:"Search by machine, ID, or issue...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:r,onChange:ue,onFocus:()=>tt(!0),"aria-label":"Search records"}),a.jsx(_t,{children:mt&&be.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:be.map(Me=>a.jsx(C.button,{onClick:()=>ke(Me.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:Me.name})},Me.id))})})]})}),a.jsx(_t,{children:h&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Vn,{className:"text-gray-500 text-base"}),a.jsx(Kf,{selected:pe,onChange:Me=>Ie(Me),selectsStart:!0,startDate:pe,endDate:Ee,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(Kf,{selected:Ee,onChange:Me=>ge(Me),selectsEnd:!0,startDate:pe,endDate:Ee,minDate:pe||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(pe||Ee)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Ie(null),ge(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]}),a.jsxs("div",{ref:St,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"status-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Me=>{Me.stopPropagation(),gt(!ht)},"aria-expanded":ht,"aria-haspopup":"true","aria-label":"Filter by Type",children:[a.jsx("span",{children:o.length>0?o.length===xt.length?"All Types":`Selected (${o.length})`:"All Types"}),a.jsx(yn,{className:`transform transition-transform ${ht?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(_t,{children:ht&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.length===xt.length&&xt.length>0,onChange:Me=>{Me.target.checked?l(xt.map(Te=>Te.value)):l([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),xt.map(Me=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:o.includes(Me.value),onChange:Te=>Cr(Me.value,Te.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Me.label})]},Me.value))]})})]}),a.jsxs("div",{ref:Ct,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"machine-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:()=>Rt(!ft),"aria-expanded":ft,"aria-haspopup":"true","aria-label":"Filter by Machine",children:[a.jsx("span",{children:c.length>0?c.length===D.length&&D.length>0?"All Machines":`Selected (${c.length})`:"All Machines"}),a.jsx(yn,{className:`transform transition-transform ${ft?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(_t,{children:ft&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-20 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.length===D.length&&D.length>0,onChange:Me=>{Me.target.checked?d(D.map(Te=>Te.name)):d([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),D.map(Me=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:c.includes(Me.name),onChange:Te=>ur(Me.name,Te.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Me.name})]},Me.id))]})})]}),a.jsxs("div",{ref:Xe,className:"relative w-full",children:[a.jsxs("button",{type:"button",className:"shift-filter-toggle w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left flex justify-between items-center transition-all duration-200 shadow-sm cursor-pointer",onClick:Me=>{Me.stopPropagation(),nt(!ve)},"aria-expanded":ve,"aria-haspopup":"true","aria-label":"Filter by Shift",children:[a.jsx("span",{children:Oe.length>0?Oe.length===ye.length?"All Shifts":`Selected (${Oe.length})`:"All Shifts"}),a.jsx(yn,{className:`transform transition-transform ${ve?"rotate-180":"rotate-0"} text-gray-500 text-base`})]}),a.jsx(_t,{children:ve&&a.jsxs(C.div,{initial:{opacity:0,y:5,height:0},animate:{opacity:1,y:0,height:"auto"},exit:{opacity:0,y:5,height:0},transition:{duration:.15},className:"absolute top-full left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-50 max-h-56 overflow-y-auto custom-scrollbar",role:"listbox",children:[a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer border-b border-blue-50",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Oe.length===ye.length&&ye.length>0,onChange:Me=>{Me.target.checked?ze(ye.map(Te=>Te.value)):ze([])}}),a.jsx("span",{className:"ml-2 text-gray-800 font-semibold text-sm",children:"Select All"})]}),ye.map(Me=>a.jsxs("label",{className:"flex items-center p-2.5 hover:bg-blue-50 cursor-pointer",role:"option",children:[a.jsx("input",{type:"checkbox",className:"form-checkbox h-4 w-4 text-blue-600 rounded focus:ring-blue-500 transition duration-150 ease-in-out",checked:Oe.includes(Me.value),onChange:Te=>ot(Me.value,Te.target.checked)}),a.jsx("span",{className:"ml-2 text-gray-800 text-sm",children:Me.label})]},Me.value))]})})]})]})})]}),z?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading machine history data..."})]}):L.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Ae||o.length>0||c.length>0||pe||Ee||Oe.length>0?"No records found matching your filters.":"No records available."}),(Ae||o.length>0||c.length>0||pe||Ee||Oe.length>0)&&a.jsx("button",{onClick:()=>{n(""),l([]),d([]),Ie(null),ge(null),ze([])},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Le("date"),children:["Date",(xe==null?void 0:xe.key)==="date"&&a.jsx("span",{className:"ml-1",children:xe.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Shift/Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Durationtime"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Issue"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:rt.map(Me=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.date}),a.jsxs("div",{className:"text-xs text-gray-600",children:[$e(Me.stopJam,Me.stopMenit)," - ",$e(Me.startJam,Me.startMenit)]})]}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.mesin}),a.jsx("div",{className:"text-xs text-gray-600",children:Me.unit})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsxs("div",{className:"text-sm text-gray-900",children:["Shift ",Me.shift,", Group ",Me.group]})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:it(Me)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:Me.itemTrouble}),a.jsx("div",{className:"text-xs text-gray-600 truncate max-w-xs",children:Me.jenisGangguan})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx(C.span,{whileHover:{scale:1.03},className:`px-2.5 py-0.5 inline-flex text-xs leading-5 font-bold rounded-full shadow-sm ${Wt(Me.stopTime)}`,children:Me.stopTime})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(`/machinehistory/edit/${Me.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit record for machine ${Me.mesin} on ${Me.date}`,children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{ce(Me.id),oe(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete record for machine ${Me.mesin} on ${Me.date}`,children:a.jsx(an,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>kt(Me),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for record for machine ${Me.mesin} on ${Me.date}`,children:a.jsx(rs,{className:"inline text-base"})})]})]},Me.id))})]})})}),L.length>T&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ve+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(Se,L.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:L.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(v-1),disabled:v===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:He},(Me,Te)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(Te+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${v===Te+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${Te+1}`,children:Te+1},Te+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ce(v+1),disabled:v===He,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),w&&a.jsx(jI,{isOpen:g,onClose:()=>{y(!1),j(null)},title:"Machine History Details",maxWidth:"max-w-4xl",children:a.jsx(ope,{record:w,onClose:()=>y(!1)})}),a.jsx(jI,{isOpen:Z,onClose:()=>oe(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>oe(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>le&&ie(le),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})};function Ju(t){"@babel/helpers - typeof";return Ju=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ju(t)}function cpe(t,e){if(Ju(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Ju(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IW(t){var e=cpe(t,"string");return Ju(e)=="symbol"?e:e+""}function fp(t,e,r){return(e=IW(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SI(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Vt(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SI(Object(r),!0).forEach(function(n){fp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SI(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function upe(t){if(Array.isArray(t))return t}function dpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function l_(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function LW(t,e){if(t){if(typeof t=="string")return l_(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?l_(t,e):void 0}}function fpe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ml(t,e){return upe(t)||dpe(t,e)||LW(t,e)||fpe()}function hpe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _o(t,e){if(t==null)return{};var r,n,s=hpe(t,e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(n=0;n<i.length;n++)r=i[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(s[r]=t[r])}return s}var mpe=["defaultInputValue","defaultMenuIsOpen","defaultValue","inputValue","menuIsOpen","onChange","onInputChange","onMenuClose","onMenuOpen","value"];function $W(t){var e=t.defaultInputValue,r=e===void 0?"":e,n=t.defaultMenuIsOpen,s=n===void 0?!1:n,i=t.defaultValue,o=i===void 0?null:i,l=t.inputValue,c=t.menuIsOpen,d=t.onChange,h=t.onInputChange,m=t.onMenuClose,g=t.onMenuOpen,y=t.value,w=_o(t,mpe),j=x.useState(l!==void 0?l:r),v=ml(j,2),N=v[0],T=v[1],S=x.useState(c!==void 0?c:s),O=ml(S,2),_=O[0],A=O[1],E=x.useState(y!==void 0?y:o),P=ml(E,2),$=P[0],I=P[1],L=x.useCallback(function(F,K){typeof d=="function"&&d(F,K),I(F)},[d]),R=x.useCallback(function(F,K){var te;typeof h=="function"&&(te=h(F,K)),T(te!==void 0?te:F)},[h]),z=x.useCallback(function(){typeof g=="function"&&g(),A(!0)},[g]),Y=x.useCallback(function(){typeof m=="function"&&m(),A(!1)},[m]),q=l!==void 0?l:N,H=c!==void 0?c:_,D=y!==void 0?y:$;return Vt(Vt({},w),{},{inputValue:q,menuIsOpen:H,onChange:L,onInputChange:R,onMenuClose:Y,onMenuOpen:z,value:D})}function Yt(){return Yt=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yt.apply(null,arguments)}function ppe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NI(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,IW(n.key),n)}}function gpe(t,e,r){return e&&NI(t.prototype,e),r&&NI(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function c_(t,e){return c_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},c_(t,e)}function xpe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&c_(t,e)}function Pb(t){return Pb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},Pb(t)}function FW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(FW=function(){return!!t})()}function ype(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function bpe(t,e){if(e&&(Ju(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ype(t)}function vpe(t){var e=FW();return function(){var r,n=Pb(t);if(e){var s=Pb(this).constructor;r=Reflect.construct(n,arguments,s)}else r=n.apply(this,arguments);return bpe(this,r)}}function wpe(t){if(Array.isArray(t))return l_(t)}function jpe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Spe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Mf(t){return wpe(t)||jpe(t)||LW(t)||Spe()}function Npe(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}function kpe(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),t.nonce!==void 0&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e.setAttribute("data-s",""),e}var Cpe=(function(){function t(r){var n=this;this._insertTag=function(s){var i;n.tags.length===0?n.insertionPoint?i=n.insertionPoint.nextSibling:n.prepend?i=n.container.firstChild:i=n.before:i=n.tags[n.tags.length-1].nextSibling,n.container.insertBefore(s,i),n.tags.push(s)},this.isSpeedy=r.speedy===void 0?!0:r.speedy,this.tags=[],this.ctr=0,this.nonce=r.nonce,this.key=r.key,this.container=r.container,this.prepend=r.prepend,this.insertionPoint=r.insertionPoint,this.before=null}var e=t.prototype;return e.hydrate=function(n){n.forEach(this._insertTag)},e.insert=function(n){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(kpe(this));var s=this.tags[this.tags.length-1];if(this.isSpeedy){var i=Npe(s);try{i.insertRule(n,i.cssRules.length)}catch{}}else s.appendChild(document.createTextNode(n));this.ctr++},e.flush=function(){this.tags.forEach(function(n){var s;return(s=n.parentNode)==null?void 0:s.removeChild(n)}),this.tags=[],this.ctr=0},t})(),Ia="-ms-",Rb="-moz-",Ir="-webkit-",HW="comm",xO="rule",yO="decl",Tpe="@import",BW="@keyframes",_pe="@layer",Mpe=Math.abs,Vw=String.fromCharCode,Ape=Object.assign;function Ope(t,e){return Aa(t,0)^45?(((e<<2^Aa(t,0))<<2^Aa(t,1))<<2^Aa(t,2))<<2^Aa(t,3):0}function zW(t){return t.trim()}function Epe(t,e){return(t=e.exec(t))?t[0]:t}function Lr(t,e,r){return t.replace(e,r)}function u_(t,e){return t.indexOf(e)}function Aa(t,e){return t.charCodeAt(e)|0}function Zp(t,e,r){return t.slice(e,r)}function ro(t){return t.length}function bO(t){return t.length}function ny(t,e){return e.push(t),t}function Dpe(t,e){return t.map(e).join("")}var qw=1,Xf=1,VW=0,js=0,Jn=0,Rh="";function Ww(t,e,r,n,s,i,o){return{value:t,root:e,parent:r,type:n,props:s,children:i,line:qw,column:Xf,length:o,return:""}}function Xm(t,e){return Ape(Ww("",null,null,"",null,null,0),t,{length:-t.length},e)}function Ppe(){return Jn}function Rpe(){return Jn=js>0?Aa(Rh,--js):0,Xf--,Jn===10&&(Xf=1,qw--),Jn}function Fs(){return Jn=js<VW?Aa(Rh,js++):0,Xf++,Jn===10&&(Xf=1,qw++),Jn}function ho(){return Aa(Rh,js)}function Zy(){return js}function cg(t,e){return Zp(Rh,t,e)}function e0(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function qW(t){return qw=Xf=1,VW=ro(Rh=t),js=0,[]}function WW(t){return Rh="",t}function eb(t){return zW(cg(js-1,d_(t===91?t+2:t===40?t+1:t)))}function Ipe(t){for(;(Jn=ho())&&Jn<33;)Fs();return e0(t)>2||e0(Jn)>3?"":" "}function Lpe(t,e){for(;--e&&Fs()&&!(Jn<48||Jn>102||Jn>57&&Jn<65||Jn>70&&Jn<97););return cg(t,Zy()+(e<6&&ho()==32&&Fs()==32))}function d_(t){for(;Fs();)switch(Jn){case t:return js;case 34:case 39:t!==34&&t!==39&&d_(Jn);break;case 40:t===41&&d_(t);break;case 92:Fs();break}return js}function $pe(t,e){for(;Fs()&&t+Jn!==57;)if(t+Jn===84&&ho()===47)break;return"/*"+cg(e,js-1)+"*"+Vw(t===47?t:Fs())}function Fpe(t){for(;!e0(ho());)Fs();return cg(t,js)}function Hpe(t){return WW(tb("",null,null,null,[""],t=qW(t),0,[0],t))}function tb(t,e,r,n,s,i,o,l,c){for(var d=0,h=0,m=o,g=0,y=0,w=0,j=1,v=1,N=1,T=0,S="",O=s,_=i,A=n,E=S;v;)switch(w=T,T=Fs()){case 40:if(w!=108&&Aa(E,m-1)==58){u_(E+=Lr(eb(T),"&","&\f"),"&\f")!=-1&&(N=-1);break}case 34:case 39:case 91:E+=eb(T);break;case 9:case 10:case 13:case 32:E+=Ipe(w);break;case 92:E+=Lpe(Zy()-1,7);continue;case 47:switch(ho()){case 42:case 47:ny(Bpe($pe(Fs(),Zy()),e,r),c);break;default:E+="/"}break;case 123*j:l[d++]=ro(E)*N;case 125*j:case 59:case 0:switch(T){case 0:case 125:v=0;case 59+h:N==-1&&(E=Lr(E,/\f/g,"")),y>0&&ro(E)-m&&ny(y>32?CI(E+";",n,r,m-1):CI(Lr(E," ","")+";",n,r,m-2),c);break;case 59:E+=";";default:if(ny(A=kI(E,e,r,d,h,s,l,S,O=[],_=[],m),i),T===123)if(h===0)tb(E,e,A,A,O,i,m,l,_);else switch(g===99&&Aa(E,3)===110?100:g){case 100:case 108:case 109:case 115:tb(t,A,A,n&&ny(kI(t,A,A,0,0,s,l,S,s,O=[],m),_),s,_,m,l,n?O:_);break;default:tb(E,A,A,A,[""],_,0,l,_)}}d=h=y=0,j=N=1,S=E="",m=o;break;case 58:m=1+ro(E),y=w;default:if(j<1){if(T==123)--j;else if(T==125&&j++==0&&Rpe()==125)continue}switch(E+=Vw(T),T*j){case 38:N=h>0?1:(E+="\f",-1);break;case 44:l[d++]=(ro(E)-1)*N,N=1;break;case 64:ho()===45&&(E+=eb(Fs())),g=ho(),h=m=ro(S=E+=Fpe(Zy())),T++;break;case 45:w===45&&ro(E)==2&&(j=0)}}return i}function kI(t,e,r,n,s,i,o,l,c,d,h){for(var m=s-1,g=s===0?i:[""],y=bO(g),w=0,j=0,v=0;w<n;++w)for(var N=0,T=Zp(t,m+1,m=Mpe(j=o[w])),S=t;N<y;++N)(S=zW(j>0?g[N]+" "+T:Lr(T,/&\f/g,g[N])))&&(c[v++]=S);return Ww(t,e,r,s===0?xO:l,c,d,h)}function Bpe(t,e,r){return Ww(t,e,r,HW,Vw(Ppe()),Zp(t,2,-2),0)}function CI(t,e,r,n){return Ww(t,e,r,yO,Zp(t,0,n),Zp(t,n+1,-1),n)}function Af(t,e){for(var r="",n=bO(t),s=0;s<n;s++)r+=e(t[s],s,t,e)||"";return r}function zpe(t,e,r,n){switch(t.type){case _pe:if(t.children.length)break;case Tpe:case yO:return t.return=t.return||t.value;case HW:return"";case BW:return t.return=t.value+"{"+Af(t.children,n)+"}";case xO:t.value=t.props.join(",")}return ro(r=Af(t.children,n))?t.return=t.value+"{"+r+"}":""}function Vpe(t){var e=bO(t);return function(r,n,s,i){for(var o="",l=0;l<e;l++)o+=t[l](r,n,s,i)||"";return o}}function qpe(t){return function(e){e.root||(e=e.return)&&t(e)}}function Wpe(t){var e=Object.create(null);return function(r){return e[r]===void 0&&(e[r]=t(r)),e[r]}}var Upe=function(e,r,n){for(var s=0,i=0;s=i,i=ho(),s===38&&i===12&&(r[n]=1),!e0(i);)Fs();return cg(e,js)},Gpe=function(e,r){var n=-1,s=44;do switch(e0(s)){case 0:s===38&&ho()===12&&(r[n]=1),e[n]+=Upe(js-1,r,n);break;case 2:e[n]+=eb(s);break;case 4:if(s===44){e[++n]=ho()===58?"&\f":"",r[n]=e[n].length;break}default:e[n]+=Vw(s)}while(s=Fs());return e},Ype=function(e,r){return WW(Gpe(qW(e),r))},TI=new WeakMap,Kpe=function(e){if(!(e.type!=="rule"||!e.parent||e.length<1)){for(var r=e.value,n=e.parent,s=e.column===n.column&&e.line===n.line;n.type!=="rule";)if(n=n.parent,!n)return;if(!(e.props.length===1&&r.charCodeAt(0)!==58&&!TI.get(n))&&!s){TI.set(e,!0);for(var i=[],o=Ype(r,i),l=n.props,c=0,d=0;c<o.length;c++)for(var h=0;h<l.length;h++,d++)e.props[d]=i[c]?o[c].replace(/&\f/g,l[h]):l[h]+" "+o[c]}}},Xpe=function(e){if(e.type==="decl"){var r=e.value;r.charCodeAt(0)===108&&r.charCodeAt(2)===98&&(e.return="",e.value="")}};function UW(t,e){switch(Ope(t,e)){case 5103:return Ir+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Ir+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Ir+t+Rb+t+Ia+t+t;case 6828:case 4268:return Ir+t+Ia+t+t;case 6165:return Ir+t+Ia+"flex-"+t+t;case 5187:return Ir+t+Lr(t,/(\w+).+(:[^]+)/,Ir+"box-$1$2"+Ia+"flex-$1$2")+t;case 5443:return Ir+t+Ia+"flex-item-"+Lr(t,/flex-|-self/,"")+t;case 4675:return Ir+t+Ia+"flex-line-pack"+Lr(t,/align-content|flex-|-self/,"")+t;case 5548:return Ir+t+Ia+Lr(t,"shrink","negative")+t;case 5292:return Ir+t+Ia+Lr(t,"basis","preferred-size")+t;case 6060:return Ir+"box-"+Lr(t,"-grow","")+Ir+t+Ia+Lr(t,"grow","positive")+t;case 4554:return Ir+Lr(t,/([^-])(transform)/g,"$1"+Ir+"$2")+t;case 6187:return Lr(Lr(Lr(t,/(zoom-|grab)/,Ir+"$1"),/(image-set)/,Ir+"$1"),t,"")+t;case 5495:case 3959:return Lr(t,/(image-set\([^]*)/,Ir+"$1$`$1");case 4968:return Lr(Lr(t,/(.+:)(flex-)?(.*)/,Ir+"box-pack:$3"+Ia+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Ir+t+t;case 4095:case 3583:case 4068:case 2532:return Lr(t,/(.+)-inline(.+)/,Ir+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(ro(t)-1-e>6)switch(Aa(t,e+1)){case 109:if(Aa(t,e+4)!==45)break;case 102:return Lr(t,/(.+:)(.+)-([^]+)/,"$1"+Ir+"$2-$3$1"+Rb+(Aa(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~u_(t,"stretch")?UW(Lr(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(Aa(t,e+1)!==115)break;case 6444:switch(Aa(t,ro(t)-3-(~u_(t,"!important")&&10))){case 107:return Lr(t,":",":"+Ir)+t;case 101:return Lr(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+Ir+(Aa(t,14)===45?"inline-":"")+"box$3$1"+Ir+"$2$3$1"+Ia+"$2box$3")+t}break;case 5936:switch(Aa(t,e+11)){case 114:return Ir+t+Ia+Lr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Ir+t+Ia+Lr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Ir+t+Ia+Lr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return Ir+t+Ia+t+t}return t}var Jpe=function(e,r,n,s){if(e.length>-1&&!e.return)switch(e.type){case yO:e.return=UW(e.value,e.length);break;case BW:return Af([Xm(e,{value:Lr(e.value,"@","@"+Ir)})],s);case xO:if(e.length)return Dpe(e.props,function(i){switch(Epe(i,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return Af([Xm(e,{props:[Lr(i,/:(read-\w+)/,":"+Rb+"$1")]})],s);case"::placeholder":return Af([Xm(e,{props:[Lr(i,/:(plac\w+)/,":"+Ir+"input-$1")]}),Xm(e,{props:[Lr(i,/:(plac\w+)/,":"+Rb+"$1")]}),Xm(e,{props:[Lr(i,/:(plac\w+)/,Ia+"input-$1")]})],s)}return""})}},Qpe=[Jpe],Zpe=function(e){var r=e.key;if(r==="css"){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,function(j){var v=j.getAttribute("data-emotion");v.indexOf(" ")!==-1&&(document.head.appendChild(j),j.setAttribute("data-s",""))})}var s=e.stylisPlugins||Qpe,i={},o,l=[];o=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+r+' "]'),function(j){for(var v=j.getAttribute("data-emotion").split(" "),N=1;N<v.length;N++)i[v[N]]=!0;l.push(j)});var c,d=[Kpe,Xpe];{var h,m=[zpe,qpe(function(j){h.insert(j)})],g=Vpe(d.concat(s,m)),y=function(v){return Af(Hpe(v),g)};c=function(v,N,T,S){h=T,y(v?v+"{"+N.styles+"}":N.styles),S&&(w.inserted[N.name]=!0)}}var w={key:r,sheet:new Cpe({key:r,container:o,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:i,registered:{},insert:c};return w.sheet.hydrate(l),w},PN={exports:{}},Fr={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _I;function e0e(){if(_I)return Fr;_I=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,s=t?Symbol.for("react.strict_mode"):60108,i=t?Symbol.for("react.profiler"):60114,o=t?Symbol.for("react.provider"):60109,l=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,m=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,y=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,j=t?Symbol.for("react.block"):60121,v=t?Symbol.for("react.fundamental"):60117,N=t?Symbol.for("react.responder"):60118,T=t?Symbol.for("react.scope"):60119;function S(_){if(typeof _=="object"&&_!==null){var A=_.$$typeof;switch(A){case e:switch(_=_.type,_){case c:case d:case n:case i:case s:case m:return _;default:switch(_=_&&_.$$typeof,_){case l:case h:case w:case y:case o:return _;default:return A}}case r:return A}}}function O(_){return S(_)===d}return Fr.AsyncMode=c,Fr.ConcurrentMode=d,Fr.ContextConsumer=l,Fr.ContextProvider=o,Fr.Element=e,Fr.ForwardRef=h,Fr.Fragment=n,Fr.Lazy=w,Fr.Memo=y,Fr.Portal=r,Fr.Profiler=i,Fr.StrictMode=s,Fr.Suspense=m,Fr.isAsyncMode=function(_){return O(_)||S(_)===c},Fr.isConcurrentMode=O,Fr.isContextConsumer=function(_){return S(_)===l},Fr.isContextProvider=function(_){return S(_)===o},Fr.isElement=function(_){return typeof _=="object"&&_!==null&&_.$$typeof===e},Fr.isForwardRef=function(_){return S(_)===h},Fr.isFragment=function(_){return S(_)===n},Fr.isLazy=function(_){return S(_)===w},Fr.isMemo=function(_){return S(_)===y},Fr.isPortal=function(_){return S(_)===r},Fr.isProfiler=function(_){return S(_)===i},Fr.isStrictMode=function(_){return S(_)===s},Fr.isSuspense=function(_){return S(_)===m},Fr.isValidElementType=function(_){return typeof _=="string"||typeof _=="function"||_===n||_===d||_===i||_===s||_===m||_===g||typeof _=="object"&&_!==null&&(_.$$typeof===w||_.$$typeof===y||_.$$typeof===o||_.$$typeof===l||_.$$typeof===h||_.$$typeof===v||_.$$typeof===N||_.$$typeof===T||_.$$typeof===j)},Fr.typeOf=S,Fr}var MI;function t0e(){return MI||(MI=1,PN.exports=e0e()),PN.exports}var RN,AI;function r0e(){if(AI)return RN;AI=1;var t=t0e(),e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},s={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};i[t.ForwardRef]=n,i[t.Memo]=s;function o(w){return t.isMemo(w)?s:i[w.$$typeof]||e}var l=Object.defineProperty,c=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,m=Object.getPrototypeOf,g=Object.prototype;function y(w,j,v){if(typeof j!="string"){if(g){var N=m(j);N&&N!==g&&y(w,N,v)}var T=c(j);d&&(T=T.concat(d(j)));for(var S=o(w),O=o(j),_=0;_<T.length;++_){var A=T[_];if(!r[A]&&!(v&&v[A])&&!(O&&O[A])&&!(S&&S[A])){var E=h(j,A);try{l(w,A,E)}catch{}}}}return w}return RN=y,RN}r0e();var n0e=!0;function a0e(t,e,r){var n="";return r.split(" ").forEach(function(s){t[s]!==void 0?e.push(t[s]+";"):s&&(n+=s+" ")}),n}var GW=function(e,r,n){var s=e.key+"-"+r.name;(n===!1||n0e===!1)&&e.registered[s]===void 0&&(e.registered[s]=r.styles)},s0e=function(e,r,n){GW(e,r,n);var s=e.key+"-"+r.name;if(e.inserted[r.name]===void 0){var i=r;do e.insert(r===i?"."+s:"",i,e.sheet,!0),i=i.next;while(i!==void 0)}};function i0e(t){for(var e=0,r,n=0,s=t.length;s>=4;++n,s-=4)r=t.charCodeAt(n)&255|(t.charCodeAt(++n)&255)<<8|(t.charCodeAt(++n)&255)<<16|(t.charCodeAt(++n)&255)<<24,r=(r&65535)*1540483477+((r>>>16)*59797<<16),r^=r>>>24,e=(r&65535)*1540483477+((r>>>16)*59797<<16)^(e&65535)*1540483477+((e>>>16)*59797<<16);switch(s){case 3:e^=(t.charCodeAt(n+2)&255)<<16;case 2:e^=(t.charCodeAt(n+1)&255)<<8;case 1:e^=t.charCodeAt(n)&255,e=(e&65535)*1540483477+((e>>>16)*59797<<16)}return e^=e>>>13,e=(e&65535)*1540483477+((e>>>16)*59797<<16),((e^e>>>15)>>>0).toString(36)}var o0e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},l0e=/[A-Z]|^ms/g,c0e=/_EMO_([^_]+?)_([^]*?)_EMO_/g,YW=function(e){return e.charCodeAt(1)===45},OI=function(e){return e!=null&&typeof e!="boolean"},IN=Wpe(function(t){return YW(t)?t:t.replace(l0e,"-$&").toLowerCase()}),EI=function(e,r){switch(e){case"animation":case"animationName":if(typeof r=="string")return r.replace(c0e,function(n,s,i){return no={name:s,styles:i,next:no},s})}return o0e[e]!==1&&!YW(e)&&typeof r=="number"&&r!==0?r+"px":r};function t0(t,e,r){if(r==null)return"";var n=r;if(n.__emotion_styles!==void 0)return n;switch(typeof r){case"boolean":return"";case"object":{var s=r;if(s.anim===1)return no={name:s.name,styles:s.styles,next:no},s.name;var i=r;if(i.styles!==void 0){var o=i.next;if(o!==void 0)for(;o!==void 0;)no={name:o.name,styles:o.styles,next:no},o=o.next;var l=i.styles+";";return l}return u0e(t,e,r)}case"function":{if(t!==void 0){var c=no,d=r(t);return no=c,t0(t,e,d)}break}}var h=r;return h}function u0e(t,e,r){var n="";if(Array.isArray(r))for(var s=0;s<r.length;s++)n+=t0(t,e,r[s])+";";else for(var i in r){var o=r[i];if(typeof o!="object"){var l=o;OI(l)&&(n+=IN(i)+":"+EI(i,l)+";")}else if(Array.isArray(o)&&typeof o[0]=="string"&&e==null)for(var c=0;c<o.length;c++)OI(o[c])&&(n+=IN(i)+":"+EI(i,o[c])+";");else{var d=t0(t,e,o);switch(i){case"animation":case"animationName":{n+=IN(i)+":"+d+";";break}default:n+=i+"{"+d+"}"}}}return n}var DI=/label:\s*([^\s;{]+)\s*(;|$)/g,no;function KW(t,e,r){if(t.length===1&&typeof t[0]=="object"&&t[0]!==null&&t[0].styles!==void 0)return t[0];var n=!0,s="";no=void 0;var i=t[0];if(i==null||i.raw===void 0)n=!1,s+=t0(r,e,i);else{var o=i;s+=o[0]}for(var l=1;l<t.length;l++)if(s+=t0(r,e,t[l]),n){var c=i;s+=c[l]}DI.lastIndex=0;for(var d="",h;(h=DI.exec(s))!==null;)d+="-"+h[1];var m=i0e(s)+d;return{name:m,styles:s,next:no}}var d0e=function(e){return e()},f0e=cb.useInsertionEffect?cb.useInsertionEffect:!1,h0e=f0e||d0e,XW=x.createContext(typeof HTMLElement<"u"?Zpe({key:"css"}):null);XW.Provider;var m0e=function(e){return x.forwardRef(function(r,n){var s=x.useContext(XW);return e(r,s,n)})},p0e=x.createContext({}),vO={}.hasOwnProperty,f_="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",g0e=function(e,r){var n={};for(var s in r)vO.call(r,s)&&(n[s]=r[s]);return n[f_]=e,n},x0e=function(e){var r=e.cache,n=e.serialized,s=e.isStringTag;return GW(r,n,s),h0e(function(){return s0e(r,n,s)}),null},y0e=m0e(function(t,e,r){var n=t.css;typeof n=="string"&&e.registered[n]!==void 0&&(n=e.registered[n]);var s=t[f_],i=[n],o="";typeof t.className=="string"?o=a0e(e.registered,i,t.className):t.className!=null&&(o=t.className+" ");var l=KW(i,void 0,x.useContext(p0e));o+=e.key+"-"+l.name;var c={};for(var d in t)vO.call(t,d)&&d!=="css"&&d!==f_&&(c[d]=t[d]);return c.className=o,r&&(c.ref=r),x.createElement(x.Fragment,null,x.createElement(x0e,{cache:e,serialized:l,isStringTag:typeof s=="string"}),x.createElement(s,c))}),b0e=y0e,zt=function(e,r){var n=arguments;if(r==null||!vO.call(r,"css"))return x.createElement.apply(void 0,n);var s=n.length,i=new Array(s);i[0]=b0e,i[1]=g0e(e,r);for(var o=2;o<s;o++)i[o]=n[o];return x.createElement.apply(null,i)};(function(t){var e;e||(e=t.JSX||(t.JSX={}))})(zt||(zt={}));function wO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return KW(e)}function v0e(){var t=wO.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function w0e(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var h_=x.useLayoutEffect,j0e=["className","clearValue","cx","getStyles","getClassNames","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"],Ib=function(){};function S0e(t,e){return e?e[0]==="-"?t+e:t+"__"+e:t}function N0e(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),s=2;s<r;s++)n[s-2]=arguments[s];var i=[].concat(n);if(e&&t)for(var o in e)e.hasOwnProperty(o)&&e[o]&&i.push("".concat(S0e(t,o)));return i.filter(function(l){return l}).map(function(l){return String(l).trim()}).join(" ")}var Lb=function(e){return D0e(e)?e.filter(Boolean):Ju(e)==="object"&&e!==null?[e]:[]},JW=function(e){e.className,e.clearValue,e.cx,e.getStyles,e.getClassNames,e.getValue,e.hasValue,e.isMulti,e.isRtl,e.options,e.selectOption,e.selectProps,e.setValue,e.theme;var r=_o(e,j0e);return Vt({},r)},En=function(e,r,n){var s=e.cx,i=e.getStyles,o=e.getClassNames,l=e.className;return{css:i(r,e),className:s(n??{},o(r,e),l)}};function Uw(t){return[document.documentElement,document.body,window].indexOf(t)>-1}function k0e(t){return Uw(t)?window.innerHeight:t.clientHeight}function QW(t){return Uw(t)?window.pageYOffset:t.scrollTop}function $b(t,e){if(Uw(t)){window.scrollTo(0,e);return}t.scrollTop=e}function C0e(t){var e=getComputedStyle(t),r=e.position==="absolute",n=/(auto|scroll)/;if(e.position==="fixed")return document.documentElement;for(var s=t;s=s.parentElement;)if(e=getComputedStyle(s),!(r&&e.position==="static")&&n.test(e.overflow+e.overflowY+e.overflowX))return s;return document.documentElement}function T0e(t,e,r,n){return r*((t=t/n-1)*t*t+1)+e}function ay(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:200,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:Ib,s=QW(t),i=e-s,o=10,l=0;function c(){l+=o;var d=T0e(l,s,i,r);$b(t,d),l<r?window.requestAnimationFrame(c):n(t)}c()}function PI(t,e){var r=t.getBoundingClientRect(),n=e.getBoundingClientRect(),s=e.offsetHeight/3;n.bottom+s>r.bottom?$b(t,Math.min(e.offsetTop+e.clientHeight-t.offsetHeight+s,t.scrollHeight)):n.top-s<r.top&&$b(t,Math.max(e.offsetTop-s,0))}function _0e(t){var e=t.getBoundingClientRect();return{bottom:e.bottom,height:e.height,left:e.left,right:e.right,top:e.top,width:e.width}}function RI(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}function M0e(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{return!1}}var ZW=!1,A0e={get passive(){return ZW=!0}},sy=typeof window<"u"?window:{};sy.addEventListener&&sy.removeEventListener&&(sy.addEventListener("p",Ib,A0e),sy.removeEventListener("p",Ib,!1));var O0e=ZW;function E0e(t){return t!=null}function D0e(t){return Array.isArray(t)}function hp(t,e,r){return t?e:r}var P0e=function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];var i=Object.entries(e).filter(function(o){var l=ml(o,1),c=l[0];return!n.includes(c)});return i.reduce(function(o,l){var c=ml(l,2),d=c[0],h=c[1];return o[d]=h,o},{})},R0e=["children","innerProps"],I0e=["children","innerProps"];function L0e(t){var e=t.maxHeight,r=t.menuEl,n=t.minHeight,s=t.placement,i=t.shouldScroll,o=t.isFixedPosition,l=t.controlHeight,c=C0e(r),d={placement:"bottom",maxHeight:e};if(!r||!r.offsetParent)return d;var h=c.getBoundingClientRect(),m=h.height,g=r.getBoundingClientRect(),y=g.bottom,w=g.height,j=g.top,v=r.offsetParent.getBoundingClientRect(),N=v.top,T=o?window.innerHeight:k0e(c),S=QW(c),O=parseInt(getComputedStyle(r).marginBottom,10),_=parseInt(getComputedStyle(r).marginTop,10),A=N-_,E=T-j,P=A+S,$=m-S-j,I=y-T+S+O,L=S+j-_,R=160;switch(s){case"auto":case"bottom":if(E>=w)return{placement:"bottom",maxHeight:e};if($>=w&&!o)return i&&ay(c,I,R),{placement:"bottom",maxHeight:e};if(!o&&$>=n||o&&E>=n){i&&ay(c,I,R);var z=o?E-O:$-O;return{placement:"bottom",maxHeight:z}}if(s==="auto"||o){var Y=e,q=o?A:P;return q>=n&&(Y=Math.min(q-O-l,e)),{placement:"top",maxHeight:Y}}if(s==="bottom")return i&&$b(c,I),{placement:"bottom",maxHeight:e};break;case"top":if(A>=w)return{placement:"top",maxHeight:e};if(P>=w&&!o)return i&&ay(c,L,R),{placement:"top",maxHeight:e};if(!o&&P>=n||o&&A>=n){var H=e;return(!o&&P>=n||o&&A>=n)&&(H=o?A-_:P-_),i&&ay(c,L,R),{placement:"top",maxHeight:H}}return{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(s,'".'))}return d}function $0e(t){var e={bottom:"top",top:"bottom"};return t?e[t]:"bottom"}var eU=function(e){return e==="auto"?"bottom":e},F0e=function(e,r){var n,s=e.placement,i=e.theme,o=i.borderRadius,l=i.spacing,c=i.colors;return Vt((n={label:"menu"},fp(n,$0e(s),"100%"),fp(n,"position","absolute"),fp(n,"width","100%"),fp(n,"zIndex",1),n),r?{}:{backgroundColor:c.neutral0,borderRadius:o,boxShadow:"0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)",marginBottom:l.menuGutter,marginTop:l.menuGutter})},tU=x.createContext(null),H0e=function(e){var r=e.children,n=e.minMenuHeight,s=e.maxMenuHeight,i=e.menuPlacement,o=e.menuPosition,l=e.menuShouldScrollIntoView,c=e.theme,d=x.useContext(tU)||{},h=d.setPortalPlacement,m=x.useRef(null),g=x.useState(s),y=ml(g,2),w=y[0],j=y[1],v=x.useState(null),N=ml(v,2),T=N[0],S=N[1],O=c.spacing.controlHeight;return h_(function(){var _=m.current;if(_){var A=o==="fixed",E=l&&!A,P=L0e({maxHeight:s,menuEl:_,minHeight:n,placement:i,shouldScroll:E,isFixedPosition:A,controlHeight:O});j(P.maxHeight),S(P.placement),h==null||h(P.placement)}},[s,i,o,l,n,h,O]),r({ref:m,placerProps:Vt(Vt({},e),{},{placement:T||eU(i),maxHeight:w})})},B0e=function(e){var r=e.children,n=e.innerRef,s=e.innerProps;return zt("div",Yt({},En(e,"menu",{menu:!0}),{ref:n},s),r)},z0e=B0e,V0e=function(e,r){var n=e.maxHeight,s=e.theme.spacing.baseUnit;return Vt({maxHeight:n,overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},r?{}:{paddingBottom:s,paddingTop:s})},q0e=function(e){var r=e.children,n=e.innerProps,s=e.innerRef,i=e.isMulti;return zt("div",Yt({},En(e,"menuList",{"menu-list":!0,"menu-list--is-multi":i}),{ref:s},n),r)},rU=function(e,r){var n=e.theme,s=n.spacing.baseUnit,i=n.colors;return Vt({textAlign:"center"},r?{}:{color:i.neutral40,padding:"".concat(s*2,"px ").concat(s*3,"px")})},W0e=rU,U0e=rU,G0e=function(e){var r=e.children,n=r===void 0?"No options":r,s=e.innerProps,i=_o(e,R0e);return zt("div",Yt({},En(Vt(Vt({},i),{},{children:n,innerProps:s}),"noOptionsMessage",{"menu-notice":!0,"menu-notice--no-options":!0}),s),n)},Y0e=function(e){var r=e.children,n=r===void 0?"Loading...":r,s=e.innerProps,i=_o(e,I0e);return zt("div",Yt({},En(Vt(Vt({},i),{},{children:n,innerProps:s}),"loadingMessage",{"menu-notice":!0,"menu-notice--loading":!0}),s),n)},K0e=function(e){var r=e.rect,n=e.offset,s=e.position;return{left:r.left,position:s,top:n,width:r.width,zIndex:1}},X0e=function(e){var r=e.appendTo,n=e.children,s=e.controlElement,i=e.innerProps,o=e.menuPlacement,l=e.menuPosition,c=x.useRef(null),d=x.useRef(null),h=x.useState(eU(o)),m=ml(h,2),g=m[0],y=m[1],w=x.useMemo(function(){return{setPortalPlacement:y}},[]),j=x.useState(null),v=ml(j,2),N=v[0],T=v[1],S=x.useCallback(function(){if(s){var E=_0e(s),P=l==="fixed"?0:window.pageYOffset,$=E[g]+P;($!==(N==null?void 0:N.offset)||E.left!==(N==null?void 0:N.rect.left)||E.width!==(N==null?void 0:N.rect.width))&&T({offset:$,rect:E})}},[s,l,g,N==null?void 0:N.offset,N==null?void 0:N.rect.left,N==null?void 0:N.rect.width]);h_(function(){S()},[S]);var O=x.useCallback(function(){typeof d.current=="function"&&(d.current(),d.current=null),s&&c.current&&(d.current=yW(s,c.current,S,{elementResize:"ResizeObserver"in window}))},[s,S]);h_(function(){O()},[O]);var _=x.useCallback(function(E){c.current=E,O()},[O]);if(!r&&l!=="fixed"||!N)return null;var A=zt("div",Yt({ref:_},En(Vt(Vt({},e),{},{offset:N.offset,position:l,rect:N.rect}),"menuPortal",{"menu-portal":!0}),i),n);return zt(tU.Provider,{value:w},r?vA.createPortal(A,r):A)},J0e=function(e){var r=e.isDisabled,n=e.isRtl;return{label:"container",direction:n?"rtl":void 0,pointerEvents:r?"none":void 0,position:"relative"}},Q0e=function(e){var r=e.children,n=e.innerProps,s=e.isDisabled,i=e.isRtl;return zt("div",Yt({},En(e,"container",{"--is-disabled":s,"--is-rtl":i}),n),r)},Z0e=function(e,r){var n=e.theme.spacing,s=e.isMulti,i=e.hasValue,o=e.selectProps.controlShouldRenderValue;return Vt({alignItems:"center",display:s&&i&&o?"flex":"grid",flex:1,flexWrap:"wrap",WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"},r?{}:{padding:"".concat(n.baseUnit/2,"px ").concat(n.baseUnit*2,"px")})},ege=function(e){var r=e.children,n=e.innerProps,s=e.isMulti,i=e.hasValue;return zt("div",Yt({},En(e,"valueContainer",{"value-container":!0,"value-container--is-multi":s,"value-container--has-value":i}),n),r)},tge=function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},rge=function(e){var r=e.children,n=e.innerProps;return zt("div",Yt({},En(e,"indicatorsContainer",{indicators:!0}),n),r)},II,nge=["size"],age=["innerProps","isRtl","size"],sge={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},nU=function(e){var r=e.size,n=_o(e,nge);return zt("svg",Yt({height:r,width:r,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:sge},n))},jO=function(e){return zt(nU,Yt({size:20},e),zt("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},aU=function(e){return zt(nU,Yt({size:20},e),zt("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},sU=function(e,r){var n=e.isFocused,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Vt({label:"indicatorContainer",display:"flex",transition:"color 150ms"},r?{}:{color:n?o.neutral60:o.neutral20,padding:i*2,":hover":{color:n?o.neutral80:o.neutral40}})},ige=sU,oge=function(e){var r=e.children,n=e.innerProps;return zt("div",Yt({},En(e,"dropdownIndicator",{indicator:!0,"dropdown-indicator":!0}),n),r||zt(aU,null))},lge=sU,cge=function(e){var r=e.children,n=e.innerProps;return zt("div",Yt({},En(e,"clearIndicator",{indicator:!0,"clear-indicator":!0}),n),r||zt(jO,null))},uge=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing.baseUnit,o=s.colors;return Vt({label:"indicatorSeparator",alignSelf:"stretch",width:1},r?{}:{backgroundColor:n?o.neutral10:o.neutral20,marginBottom:i*2,marginTop:i*2})},dge=function(e){var r=e.innerProps;return zt("span",Yt({},r,En(e,"indicatorSeparator",{"indicator-separator":!0})))},fge=v0e(II||(II=w0e([`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`]))),hge=function(e,r){var n=e.isFocused,s=e.size,i=e.theme,o=i.colors,l=i.spacing.baseUnit;return Vt({label:"loadingIndicator",display:"flex",transition:"color 150ms",alignSelf:"center",fontSize:s,lineHeight:1,marginRight:s,textAlign:"center",verticalAlign:"middle"},r?{}:{color:n?o.neutral60:o.neutral20,padding:l*2})},LN=function(e){var r=e.delay,n=e.offset;return zt("span",{css:wO({animation:"".concat(fge," 1s ease-in-out ").concat(r,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:n?"1em":void 0,height:"1em",verticalAlign:"top",width:"1em"},"","")})},mge=function(e){var r=e.innerProps,n=e.isRtl,s=e.size,i=s===void 0?4:s,o=_o(e,age);return zt("div",Yt({},En(Vt(Vt({},o),{},{innerProps:r,isRtl:n,size:i}),"loadingIndicator",{indicator:!0,"loading-indicator":!0}),r),zt(LN,{delay:0,offset:n}),zt(LN,{delay:160,offset:!0}),zt(LN,{delay:320,offset:!n}))},pge=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.theme,o=i.colors,l=i.borderRadius,c=i.spacing;return Vt({label:"control",alignItems:"center",cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:c.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms"},r?{}:{backgroundColor:n?o.neutral5:o.neutral0,borderColor:n?o.neutral10:s?o.primary:o.neutral20,borderRadius:l,borderStyle:"solid",borderWidth:1,boxShadow:s?"0 0 0 1px ".concat(o.primary):void 0,"&:hover":{borderColor:s?o.primary:o.neutral30}})},gge=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.innerRef,o=e.innerProps,l=e.menuIsOpen;return zt("div",Yt({ref:i},En(e,"control",{control:!0,"control--is-disabled":n,"control--is-focused":s,"control--menu-is-open":l}),o,{"aria-disabled":n||void 0}),r)},xge=gge,yge=["data"],bge=function(e,r){var n=e.theme.spacing;return r?{}:{paddingBottom:n.baseUnit*2,paddingTop:n.baseUnit*2}},vge=function(e){var r=e.children,n=e.cx,s=e.getStyles,i=e.getClassNames,o=e.Heading,l=e.headingProps,c=e.innerProps,d=e.label,h=e.theme,m=e.selectProps;return zt("div",Yt({},En(e,"group",{group:!0}),c),zt(o,Yt({},l,{selectProps:m,theme:h,getStyles:s,getClassNames:i,cx:n}),d),zt("div",null,r))},wge=function(e,r){var n=e.theme,s=n.colors,i=n.spacing;return Vt({label:"group",cursor:"default",display:"block"},r?{}:{color:s.neutral40,fontSize:"75%",fontWeight:500,marginBottom:"0.25em",paddingLeft:i.baseUnit*3,paddingRight:i.baseUnit*3,textTransform:"uppercase"})},jge=function(e){var r=JW(e);r.data;var n=_o(r,yge);return zt("div",Yt({},En(e,"groupHeading",{"group-heading":!0}),n))},Sge=vge,Nge=["innerRef","isDisabled","isHidden","inputClassName"],kge=function(e,r){var n=e.isDisabled,s=e.value,i=e.theme,o=i.spacing,l=i.colors;return Vt(Vt({visibility:n?"hidden":"visible",transform:s?"translateZ(0)":""},Cge),r?{}:{margin:o.baseUnit/2,paddingBottom:o.baseUnit/2,paddingTop:o.baseUnit/2,color:l.neutral80})},iU={gridArea:"1 / 2",font:"inherit",minWidth:"2px",border:0,margin:0,outline:0,padding:0},Cge={flex:"1 1 auto",display:"inline-grid",gridArea:"1 / 1 / 2 / 3",gridTemplateColumns:"0 min-content","&:after":Vt({content:'attr(data-value) " "',visibility:"hidden",whiteSpace:"pre"},iU)},Tge=function(e){return Vt({label:"input",color:"inherit",background:0,opacity:e?0:1,width:"100%"},iU)},_ge=function(e){var r=e.cx,n=e.value,s=JW(e),i=s.innerRef,o=s.isDisabled,l=s.isHidden,c=s.inputClassName,d=_o(s,Nge);return zt("div",Yt({},En(e,"input",{"input-container":!0}),{"data-value":n||""}),zt("input",Yt({className:r({input:!0},c),ref:i,style:Tge(l),disabled:o},d)))},Mge=_ge,Age=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors;return Vt({label:"multiValue",display:"flex",minWidth:0},r?{}:{backgroundColor:o.neutral10,borderRadius:i/2,margin:s.baseUnit/2})},Oge=function(e,r){var n=e.theme,s=n.borderRadius,i=n.colors,o=e.cropWithEllipsis;return Vt({overflow:"hidden",textOverflow:o||o===void 0?"ellipsis":void 0,whiteSpace:"nowrap"},r?{}:{borderRadius:s/2,color:i.neutral80,fontSize:"85%",padding:3,paddingLeft:6})},Ege=function(e,r){var n=e.theme,s=n.spacing,i=n.borderRadius,o=n.colors,l=e.isFocused;return Vt({alignItems:"center",display:"flex"},r?{}:{borderRadius:i/2,backgroundColor:l?o.dangerLight:void 0,paddingLeft:s.baseUnit,paddingRight:s.baseUnit,":hover":{backgroundColor:o.dangerLight,color:o.danger}})},oU=function(e){var r=e.children,n=e.innerProps;return zt("div",n,r)},Dge=oU,Pge=oU;function Rge(t){var e=t.children,r=t.innerProps;return zt("div",Yt({role:"button"},r),e||zt(jO,{size:14}))}var Ige=function(e){var r=e.children,n=e.components,s=e.data,i=e.innerProps,o=e.isDisabled,l=e.removeProps,c=e.selectProps,d=n.Container,h=n.Label,m=n.Remove;return zt(d,{data:s,innerProps:Vt(Vt({},En(e,"multiValue",{"multi-value":!0,"multi-value--is-disabled":o})),i),selectProps:c},zt(h,{data:s,innerProps:Vt({},En(e,"multiValueLabel",{"multi-value__label":!0})),selectProps:c},r),zt(m,{data:s,innerProps:Vt(Vt({},En(e,"multiValueRemove",{"multi-value__remove":!0})),{},{"aria-label":"Remove ".concat(r||"option")},l),selectProps:c}))},Lge=Ige,$ge=function(e,r){var n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.theme,l=o.spacing,c=o.colors;return Vt({label:"option",cursor:"default",display:"block",fontSize:"inherit",width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)"},r?{}:{backgroundColor:i?c.primary:s?c.primary25:"transparent",color:n?c.neutral20:i?c.neutral0:"inherit",padding:"".concat(l.baseUnit*2,"px ").concat(l.baseUnit*3,"px"),":active":{backgroundColor:n?void 0:i?c.primary:c.primary50}})},Fge=function(e){var r=e.children,n=e.isDisabled,s=e.isFocused,i=e.isSelected,o=e.innerRef,l=e.innerProps;return zt("div",Yt({},En(e,"option",{option:!0,"option--is-disabled":n,"option--is-focused":s,"option--is-selected":i}),{ref:o,"aria-disabled":n},l),r)},Hge=Fge,Bge=function(e,r){var n=e.theme,s=n.spacing,i=n.colors;return Vt({label:"placeholder",gridArea:"1 / 1 / 2 / 3"},r?{}:{color:i.neutral50,marginLeft:s.baseUnit/2,marginRight:s.baseUnit/2})},zge=function(e){var r=e.children,n=e.innerProps;return zt("div",Yt({},En(e,"placeholder",{placeholder:!0}),n),r)},Vge=zge,qge=function(e,r){var n=e.isDisabled,s=e.theme,i=s.spacing,o=s.colors;return Vt({label:"singleValue",gridArea:"1 / 1 / 2 / 3",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},r?{}:{color:n?o.neutral40:o.neutral80,marginLeft:i.baseUnit/2,marginRight:i.baseUnit/2})},Wge=function(e){var r=e.children,n=e.isDisabled,s=e.innerProps;return zt("div",Yt({},En(e,"singleValue",{"single-value":!0,"single-value--is-disabled":n}),s),r)},Uge=Wge,Gge={ClearIndicator:cge,Control:xge,DropdownIndicator:oge,DownChevron:aU,CrossIcon:jO,Group:Sge,GroupHeading:jge,IndicatorsContainer:rge,IndicatorSeparator:dge,Input:Mge,LoadingIndicator:mge,Menu:z0e,MenuList:q0e,MenuPortal:X0e,LoadingMessage:Y0e,NoOptionsMessage:G0e,MultiValue:Lge,MultiValueContainer:Dge,MultiValueLabel:Pge,MultiValueRemove:Rge,Option:Hge,Placeholder:Vge,SelectContainer:Q0e,SingleValue:Uge,ValueContainer:ege},Yge=function(e){return Vt(Vt({},Gge),e.components)},LI=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function Kge(t,e){return!!(t===e||LI(t)&&LI(e))}function Xge(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(!Kge(t[r],e[r]))return!1;return!0}function Jge(t,e){e===void 0&&(e=Xge);var r=null;function n(){for(var s=[],i=0;i<arguments.length;i++)s[i]=arguments[i];if(r&&r.lastThis===this&&e(s,r.lastArgs))return r.lastResult;var o=t.apply(this,s);return r={lastResult:o,lastArgs:s,lastThis:this},o}return n.clear=function(){r=null},n}var Qge={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Zge=function(e){return zt("span",Yt({css:Qge},e))},$I=Zge,exe={guidance:function(e){var r=e.isSearchable,n=e.isMulti,s=e.tabSelectsValue,i=e.context,o=e.isInitialFocus;switch(i){case"menu":return"Use Up and Down to choose options, press Enter to select the currently focused option, press Escape to exit the menu".concat(s?", press Tab to select the option and exit the menu":"",".");case"input":return o?"".concat(e["aria-label"]||"Select"," is focused ").concat(r?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":""):"";case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(e){var r=e.action,n=e.label,s=n===void 0?"":n,i=e.labels,o=e.isDisabled;switch(r){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(s,", deselected.");case"clear":return"All selected options have been cleared.";case"initial-input-focus":return"option".concat(i.length>1?"s":""," ").concat(i.join(","),", selected.");case"select-option":return o?"option ".concat(s," is disabled. Select another option."):"option ".concat(s,", selected.");default:return""}},onFocus:function(e){var r=e.context,n=e.focused,s=e.options,i=e.label,o=i===void 0?"":i,l=e.selectValue,c=e.isDisabled,d=e.isSelected,h=e.isAppleDevice,m=function(j,v){return j&&j.length?"".concat(j.indexOf(v)+1," of ").concat(j.length):""};if(r==="value"&&l)return"value ".concat(o," focused, ").concat(m(l,n),".");if(r==="menu"&&h){var g=c?" disabled":"",y="".concat(d?" selected":"").concat(g);return"".concat(o).concat(y,", ").concat(m(s,n),".")}return""},onFilter:function(e){var r=e.inputValue,n=e.resultsMessage;return"".concat(n).concat(r?" for search term "+r:"",".")}},txe=function(e){var r=e.ariaSelection,n=e.focusedOption,s=e.focusedValue,i=e.focusableOptions,o=e.isFocused,l=e.selectValue,c=e.selectProps,d=e.id,h=e.isAppleDevice,m=c.ariaLiveMessages,g=c.getOptionLabel,y=c.inputValue,w=c.isMulti,j=c.isOptionDisabled,v=c.isSearchable,N=c.menuIsOpen,T=c.options,S=c.screenReaderStatus,O=c.tabSelectsValue,_=c.isLoading,A=c["aria-label"],E=c["aria-live"],P=x.useMemo(function(){return Vt(Vt({},exe),m||{})},[m]),$=x.useMemo(function(){var q="";if(r&&P.onChange){var H=r.option,D=r.options,F=r.removedValue,K=r.removedValues,te=r.value,W=function(Ee){return Array.isArray(Ee)?null:Ee},Z=F||H||W(te),oe=Z?g(Z):"",le=D||K||void 0,ce=le?le.map(g):[],pe=Vt({isDisabled:Z&&j(Z,l),label:oe,labels:ce},r);q=P.onChange(pe)}return q},[r,P,j,l,g]),I=x.useMemo(function(){var q="",H=n||s,D=!!(n&&l&&l.includes(n));if(H&&P.onFocus){var F={focused:H,label:g(H),isDisabled:j(H,l),isSelected:D,options:i,context:H===n?"menu":"value",selectValue:l,isAppleDevice:h};q=P.onFocus(F)}return q},[n,s,g,j,P,i,l,h]),L=x.useMemo(function(){var q="";if(N&&T.length&&!_&&P.onFilter){var H=S({count:i.length});q=P.onFilter({inputValue:y,resultsMessage:H})}return q},[i,y,N,P,T,S,_]),R=(r==null?void 0:r.action)==="initial-input-focus",z=x.useMemo(function(){var q="";if(P.guidance){var H=s?"value":N?"menu":"input";q=P.guidance({"aria-label":A,context:H,isDisabled:n&&j(n,l),isMulti:w,isSearchable:v,tabSelectsValue:O,isInitialFocus:R})}return q},[A,n,s,w,j,v,N,P,l,O,R]),Y=zt(x.Fragment,null,zt("span",{id:"aria-selection"},$),zt("span",{id:"aria-focused"},I),zt("span",{id:"aria-results"},L),zt("span",{id:"aria-guidance"},z));return zt(x.Fragment,null,zt($I,{id:d},R&&Y),zt($I,{"aria-live":E,"aria-atomic":"false","aria-relevant":"additions text",role:"log"},o&&!R&&Y))},rxe=txe,m_=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],nxe=new RegExp("["+m_.map(function(t){return t.letters}).join("")+"]","g"),lU={};for(var $N=0;$N<m_.length;$N++)for(var FN=m_[$N],HN=0;HN<FN.letters.length;HN++)lU[FN.letters[HN]]=FN.base;var cU=function(e){return e.replace(nxe,function(r){return lU[r]})},axe=Jge(cU),FI=function(e){return e.replace(/^\s+|\s+$/g,"")},sxe=function(e){return"".concat(e.label," ").concat(e.value)},ixe=function(e){return function(r,n){if(r.data.__isNew__)return!0;var s=Vt({ignoreCase:!0,ignoreAccents:!0,stringify:sxe,trim:!0,matchFrom:"any"},e),i=s.ignoreCase,o=s.ignoreAccents,l=s.stringify,c=s.trim,d=s.matchFrom,h=c?FI(n):n,m=c?FI(l(r)):l(r);return i&&(h=h.toLowerCase(),m=m.toLowerCase()),o&&(h=axe(h),m=cU(m)),d==="start"?m.substr(0,h.length)===h:m.indexOf(h)>-1}},oxe=["innerRef"];function lxe(t){var e=t.innerRef,r=_o(t,oxe),n=P0e(r,"onExited","in","enter","exit","appear");return zt("input",Yt({ref:e},n,{css:wO({label:"dummyInput",background:0,border:0,caretColor:"transparent",fontSize:"inherit",gridArea:"1 / 1 / 2 / 3",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(.01)"},"","")}))}var cxe=function(e){e.cancelable&&e.preventDefault(),e.stopPropagation()};function uxe(t){var e=t.isEnabled,r=t.onBottomArrive,n=t.onBottomLeave,s=t.onTopArrive,i=t.onTopLeave,o=x.useRef(!1),l=x.useRef(!1),c=x.useRef(0),d=x.useRef(null),h=x.useCallback(function(v,N){if(d.current!==null){var T=d.current,S=T.scrollTop,O=T.scrollHeight,_=T.clientHeight,A=d.current,E=N>0,P=O-_-S,$=!1;P>N&&o.current&&(n&&n(v),o.current=!1),E&&l.current&&(i&&i(v),l.current=!1),E&&N>P?(r&&!o.current&&r(v),A.scrollTop=O,$=!0,o.current=!0):!E&&-N>S&&(s&&!l.current&&s(v),A.scrollTop=0,$=!0,l.current=!0),$&&cxe(v)}},[r,n,s,i]),m=x.useCallback(function(v){h(v,v.deltaY)},[h]),g=x.useCallback(function(v){c.current=v.changedTouches[0].clientY},[]),y=x.useCallback(function(v){var N=c.current-v.changedTouches[0].clientY;h(v,N)},[h]),w=x.useCallback(function(v){if(v){var N=O0e?{passive:!1}:!1;v.addEventListener("wheel",m,N),v.addEventListener("touchstart",g,N),v.addEventListener("touchmove",y,N)}},[y,g,m]),j=x.useCallback(function(v){v&&(v.removeEventListener("wheel",m,!1),v.removeEventListener("touchstart",g,!1),v.removeEventListener("touchmove",y,!1))},[y,g,m]);return x.useEffect(function(){if(e){var v=d.current;return w(v),function(){j(v)}}},[e,w,j]),function(v){d.current=v}}var HI=["boxSizing","height","overflow","paddingRight","position"],BI={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function zI(t){t.cancelable&&t.preventDefault()}function VI(t){t.stopPropagation()}function qI(){var t=this.scrollTop,e=this.scrollHeight,r=t+this.offsetHeight;t===0?this.scrollTop=1:r===e&&(this.scrollTop=t-1)}function WI(){return"ontouchstart"in window||navigator.maxTouchPoints}var UI=!!(typeof window<"u"&&window.document&&window.document.createElement),Jm=0,Qd={capture:!1,passive:!1};function dxe(t){var e=t.isEnabled,r=t.accountForScrollbars,n=r===void 0?!0:r,s=x.useRef({}),i=x.useRef(null),o=x.useCallback(function(c){if(UI){var d=document.body,h=d&&d.style;if(n&&HI.forEach(function(w){var j=h&&h[w];s.current[w]=j}),n&&Jm<1){var m=parseInt(s.current.paddingRight,10)||0,g=document.body?document.body.clientWidth:0,y=window.innerWidth-g+m||0;Object.keys(BI).forEach(function(w){var j=BI[w];h&&(h[w]=j)}),h&&(h.paddingRight="".concat(y,"px"))}d&&WI()&&(d.addEventListener("touchmove",zI,Qd),c&&(c.addEventListener("touchstart",qI,Qd),c.addEventListener("touchmove",VI,Qd))),Jm+=1}},[n]),l=x.useCallback(function(c){if(UI){var d=document.body,h=d&&d.style;Jm=Math.max(Jm-1,0),n&&Jm<1&&HI.forEach(function(m){var g=s.current[m];h&&(h[m]=g)}),d&&WI()&&(d.removeEventListener("touchmove",zI,Qd),c&&(c.removeEventListener("touchstart",qI,Qd),c.removeEventListener("touchmove",VI,Qd)))}},[n]);return x.useEffect(function(){if(e){var c=i.current;return o(c),function(){l(c)}}},[e,o,l]),function(c){i.current=c}}var fxe=function(e){var r=e.target;return r.ownerDocument.activeElement&&r.ownerDocument.activeElement.blur()},hxe={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function mxe(t){var e=t.children,r=t.lockEnabled,n=t.captureEnabled,s=n===void 0?!0:n,i=t.onBottomArrive,o=t.onBottomLeave,l=t.onTopArrive,c=t.onTopLeave,d=uxe({isEnabled:s,onBottomArrive:i,onBottomLeave:o,onTopArrive:l,onTopLeave:c}),h=dxe({isEnabled:r}),m=function(y){d(y),h(y)};return zt(x.Fragment,null,r&&zt("div",{onClick:fxe,css:hxe}),e(m))}var pxe={name:"1a0ro4n-requiredInput",styles:"label:requiredInput;opacity:0;pointer-events:none;position:absolute;bottom:0;left:0;right:0;width:100%"},gxe=function(e){var r=e.name,n=e.onFocus;return zt("input",{required:!0,name:r,tabIndex:-1,"aria-hidden":"true",onFocus:n,css:pxe,value:"",onChange:function(){}})},xxe=gxe;function SO(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function yxe(){return SO(/^iPhone/i)}function uU(){return SO(/^Mac/i)}function bxe(){return SO(/^iPad/i)||uU()&&navigator.maxTouchPoints>1}function vxe(){return yxe()||bxe()}function wxe(){return uU()||vxe()}var jxe=function(e){return e.label},dU=function(e){return e.label},fU=function(e){return e.value},Sxe=function(e){return!!e.isDisabled},Nxe={clearIndicator:lge,container:J0e,control:pge,dropdownIndicator:ige,group:bge,groupHeading:wge,indicatorsContainer:tge,indicatorSeparator:uge,input:kge,loadingIndicator:hge,loadingMessage:U0e,menu:F0e,menuList:V0e,menuPortal:K0e,multiValue:Age,multiValueLabel:Oge,multiValueRemove:Ege,noOptionsMessage:W0e,option:$ge,placeholder:Bge,singleValue:qge,valueContainer:Z0e},kxe={primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},Cxe=4,hU=4,Txe=38,_xe=hU*2,Mxe={baseUnit:hU,controlHeight:Txe,menuGutter:_xe},BN={borderRadius:Cxe,colors:kxe,spacing:Mxe},Axe={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:RI(),captureMenuScroll:!RI(),classNames:{},closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:ixe(),formatGroupLabel:jxe,getOptionLabel:dU,getOptionValue:fU,isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:Sxe,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!M0e(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var r=e.count;return"".concat(r," result").concat(r!==1?"s":""," available")},styles:{},tabIndex:0,tabSelectsValue:!0,unstyled:!1};function GI(t,e,r,n){var s=gU(t,e,r),i=xU(t,e,r),o=pU(t,e),l=Fb(t,e);return{type:"option",data:e,isDisabled:s,isSelected:i,label:o,value:l,index:n}}function rb(t,e){return t.options.map(function(r,n){if("options"in r){var s=r.options.map(function(o,l){return GI(t,o,e,l)}).filter(function(o){return KI(t,o)});return s.length>0?{type:"group",data:r,options:s,index:n}:void 0}var i=GI(t,r,e,n);return KI(t,i)?i:void 0}).filter(E0e)}function mU(t){return t.reduce(function(e,r){return r.type==="group"?e.push.apply(e,Mf(r.options.map(function(n){return n.data}))):e.push(r.data),e},[])}function YI(t,e){return t.reduce(function(r,n){return n.type==="group"?r.push.apply(r,Mf(n.options.map(function(s){return{data:s.data,id:"".concat(e,"-").concat(n.index,"-").concat(s.index)}}))):r.push({data:n.data,id:"".concat(e,"-").concat(n.index)}),r},[])}function Oxe(t,e){return mU(rb(t,e))}function KI(t,e){var r=t.inputValue,n=r===void 0?"":r,s=e.data,i=e.isSelected,o=e.label,l=e.value;return(!bU(t)||!i)&&yU(t,{label:o,value:l,data:s},n)}function Exe(t,e){var r=t.focusedValue,n=t.selectValue,s=n.indexOf(r);if(s>-1){var i=e.indexOf(r);if(i>-1)return r;if(s<e.length)return e[s]}return null}function Dxe(t,e){var r=t.focusedOption;return r&&e.indexOf(r)>-1?r:e[0]}var zN=function(e,r){var n,s=(n=e.find(function(i){return i.data===r}))===null||n===void 0?void 0:n.id;return s||null},pU=function(e,r){return e.getOptionLabel(r)},Fb=function(e,r){return e.getOptionValue(r)};function gU(t,e,r){return typeof t.isOptionDisabled=="function"?t.isOptionDisabled(e,r):!1}function xU(t,e,r){if(r.indexOf(e)>-1)return!0;if(typeof t.isOptionSelected=="function")return t.isOptionSelected(e,r);var n=Fb(t,e);return r.some(function(s){return Fb(t,s)===n})}function yU(t,e,r){return t.filterOption?t.filterOption(e,r):!0}var bU=function(e){var r=e.hideSelectedOptions,n=e.isMulti;return r===void 0?n:r},Pxe=1,NO=(function(t){xpe(r,t);var e=vpe(r);function r(n){var s;if(ppe(this,r),s=e.call(this,n),s.state={ariaSelection:null,focusedOption:null,focusedOptionId:null,focusableOptionsWithIds:[],focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,prevWasFocused:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0,instancePrefix:"",isAppleDevice:!1},s.blockOptionHover=!1,s.isComposing=!1,s.commonProps=void 0,s.initialTouchX=0,s.initialTouchY=0,s.openAfterFocus=!1,s.scrollToFocusedOptionOnUpdate=!1,s.userIsDragging=void 0,s.controlRef=null,s.getControlRef=function(c){s.controlRef=c},s.focusedOptionRef=null,s.getFocusedOptionRef=function(c){s.focusedOptionRef=c},s.menuListRef=null,s.getMenuListRef=function(c){s.menuListRef=c},s.inputRef=null,s.getInputRef=function(c){s.inputRef=c},s.focus=s.focusInput,s.blur=s.blurInput,s.onChange=function(c,d){var h=s.props,m=h.onChange,g=h.name;d.name=g,s.ariaOnChange(c,d),m(c,d)},s.setValue=function(c,d,h){var m=s.props,g=m.closeMenuOnSelect,y=m.isMulti,w=m.inputValue;s.onInputChange("",{action:"set-value",prevInputValue:w}),g&&(s.setState({inputIsHiddenAfterUpdate:!y}),s.onMenuClose()),s.setState({clearFocusValueOnUpdate:!0}),s.onChange(c,{action:d,option:h})},s.selectOption=function(c){var d=s.props,h=d.blurInputOnSelect,m=d.isMulti,g=d.name,y=s.state.selectValue,w=m&&s.isOptionSelected(c,y),j=s.isOptionDisabled(c,y);if(w){var v=s.getOptionValue(c);s.setValue(y.filter(function(N){return s.getOptionValue(N)!==v}),"deselect-option",c)}else if(!j)m?s.setValue([].concat(Mf(y),[c]),"select-option",c):s.setValue(c,"select-option");else{s.ariaOnChange(c,{action:"select-option",option:c,name:g});return}h&&s.blurInput()},s.removeValue=function(c){var d=s.props.isMulti,h=s.state.selectValue,m=s.getOptionValue(c),g=h.filter(function(w){return s.getOptionValue(w)!==m}),y=hp(d,g,g[0]||null);s.onChange(y,{action:"remove-value",removedValue:c}),s.focusInput()},s.clearValue=function(){var c=s.state.selectValue;s.onChange(hp(s.props.isMulti,[],null),{action:"clear",removedValues:c})},s.popValue=function(){var c=s.props.isMulti,d=s.state.selectValue,h=d[d.length-1],m=d.slice(0,d.length-1),g=hp(c,m,m[0]||null);h&&s.onChange(g,{action:"pop-value",removedValue:h})},s.getFocusedOptionId=function(c){return zN(s.state.focusableOptionsWithIds,c)},s.getFocusableOptionsWithIds=function(){return YI(rb(s.props,s.state.selectValue),s.getElementId("option"))},s.getValue=function(){return s.state.selectValue},s.cx=function(){for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];return N0e.apply(void 0,[s.props.classNamePrefix].concat(d))},s.getOptionLabel=function(c){return pU(s.props,c)},s.getOptionValue=function(c){return Fb(s.props,c)},s.getStyles=function(c,d){var h=s.props.unstyled,m=Nxe[c](d,h);m.boxSizing="border-box";var g=s.props.styles[c];return g?g(m,d):m},s.getClassNames=function(c,d){var h,m;return(h=(m=s.props.classNames)[c])===null||h===void 0?void 0:h.call(m,d)},s.getElementId=function(c){return"".concat(s.state.instancePrefix,"-").concat(c)},s.getComponents=function(){return Yge(s.props)},s.buildCategorizedOptions=function(){return rb(s.props,s.state.selectValue)},s.getCategorizedOptions=function(){return s.props.menuIsOpen?s.buildCategorizedOptions():[]},s.buildFocusableOptions=function(){return mU(s.buildCategorizedOptions())},s.getFocusableOptions=function(){return s.props.menuIsOpen?s.buildFocusableOptions():[]},s.ariaOnChange=function(c,d){s.setState({ariaSelection:Vt({value:c},d)})},s.onMenuMouseDown=function(c){c.button===0&&(c.stopPropagation(),c.preventDefault(),s.focusInput())},s.onMenuMouseMove=function(c){s.blockOptionHover=!1},s.onControlMouseDown=function(c){if(!c.defaultPrevented){var d=s.props.openMenuOnClick;s.state.isFocused?s.props.menuIsOpen?c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&s.onMenuClose():d&&s.openMenu("first"):(d&&(s.openAfterFocus=!0),s.focusInput()),c.target.tagName!=="INPUT"&&c.target.tagName!=="TEXTAREA"&&c.preventDefault()}},s.onDropdownIndicatorMouseDown=function(c){if(!(c&&c.type==="mousedown"&&c.button!==0)&&!s.props.isDisabled){var d=s.props,h=d.isMulti,m=d.menuIsOpen;s.focusInput(),m?(s.setState({inputIsHiddenAfterUpdate:!h}),s.onMenuClose()):s.openMenu("first"),c.preventDefault()}},s.onClearIndicatorMouseDown=function(c){c&&c.type==="mousedown"&&c.button!==0||(s.clearValue(),c.preventDefault(),s.openAfterFocus=!1,c.type==="touchend"?s.focusInput():setTimeout(function(){return s.focusInput()}))},s.onScroll=function(c){typeof s.props.closeMenuOnScroll=="boolean"?c.target instanceof HTMLElement&&Uw(c.target)&&s.props.onMenuClose():typeof s.props.closeMenuOnScroll=="function"&&s.props.closeMenuOnScroll(c)&&s.props.onMenuClose()},s.onCompositionStart=function(){s.isComposing=!0},s.onCompositionEnd=function(){s.isComposing=!1},s.onTouchStart=function(c){var d=c.touches,h=d&&d.item(0);h&&(s.initialTouchX=h.clientX,s.initialTouchY=h.clientY,s.userIsDragging=!1)},s.onTouchMove=function(c){var d=c.touches,h=d&&d.item(0);if(h){var m=Math.abs(h.clientX-s.initialTouchX),g=Math.abs(h.clientY-s.initialTouchY),y=5;s.userIsDragging=m>y||g>y}},s.onTouchEnd=function(c){s.userIsDragging||(s.controlRef&&!s.controlRef.contains(c.target)&&s.menuListRef&&!s.menuListRef.contains(c.target)&&s.blurInput(),s.initialTouchX=0,s.initialTouchY=0)},s.onControlTouchEnd=function(c){s.userIsDragging||s.onControlMouseDown(c)},s.onClearIndicatorTouchEnd=function(c){s.userIsDragging||s.onClearIndicatorMouseDown(c)},s.onDropdownIndicatorTouchEnd=function(c){s.userIsDragging||s.onDropdownIndicatorMouseDown(c)},s.handleInputChange=function(c){var d=s.props.inputValue,h=c.currentTarget.value;s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange(h,{action:"input-change",prevInputValue:d}),s.props.menuIsOpen||s.onMenuOpen()},s.onInputFocus=function(c){s.props.onFocus&&s.props.onFocus(c),s.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(s.openAfterFocus||s.props.openMenuOnFocus)&&s.openMenu("first"),s.openAfterFocus=!1},s.onInputBlur=function(c){var d=s.props.inputValue;if(s.menuListRef&&s.menuListRef.contains(document.activeElement)){s.inputRef.focus();return}s.props.onBlur&&s.props.onBlur(c),s.onInputChange("",{action:"input-blur",prevInputValue:d}),s.onMenuClose(),s.setState({focusedValue:null,isFocused:!1})},s.onOptionHover=function(c){if(!(s.blockOptionHover||s.state.focusedOption===c)){var d=s.getFocusableOptions(),h=d.indexOf(c);s.setState({focusedOption:c,focusedOptionId:h>-1?s.getFocusedOptionId(c):null})}},s.shouldHideSelectedOptions=function(){return bU(s.props)},s.onValueInputFocus=function(c){c.preventDefault(),c.stopPropagation(),s.focus()},s.onKeyDown=function(c){var d=s.props,h=d.isMulti,m=d.backspaceRemovesValue,g=d.escapeClearsValue,y=d.inputValue,w=d.isClearable,j=d.isDisabled,v=d.menuIsOpen,N=d.onKeyDown,T=d.tabSelectsValue,S=d.openMenuOnFocus,O=s.state,_=O.focusedOption,A=O.focusedValue,E=O.selectValue;if(!j&&!(typeof N=="function"&&(N(c),c.defaultPrevented))){switch(s.blockOptionHover=!0,c.key){case"ArrowLeft":if(!h||y)return;s.focusValue("previous");break;case"ArrowRight":if(!h||y)return;s.focusValue("next");break;case"Delete":case"Backspace":if(y)return;if(A)s.removeValue(A);else{if(!m)return;h?s.popValue():w&&s.clearValue()}break;case"Tab":if(s.isComposing||c.shiftKey||!v||!T||!_||S&&s.isOptionSelected(_,E))return;s.selectOption(_);break;case"Enter":if(c.keyCode===229)break;if(v){if(!_||s.isComposing)return;s.selectOption(_);break}return;case"Escape":v?(s.setState({inputIsHiddenAfterUpdate:!1}),s.onInputChange("",{action:"menu-close",prevInputValue:y}),s.onMenuClose()):w&&g&&s.clearValue();break;case" ":if(y)return;if(!v){s.openMenu("first");break}if(!_)return;s.selectOption(_);break;case"ArrowUp":v?s.focusOption("up"):s.openMenu("last");break;case"ArrowDown":v?s.focusOption("down"):s.openMenu("first");break;case"PageUp":if(!v)return;s.focusOption("pageup");break;case"PageDown":if(!v)return;s.focusOption("pagedown");break;case"Home":if(!v)return;s.focusOption("first");break;case"End":if(!v)return;s.focusOption("last");break;default:return}c.preventDefault()}},s.state.instancePrefix="react-select-"+(s.props.instanceId||++Pxe),s.state.selectValue=Lb(n.value),n.menuIsOpen&&s.state.selectValue.length){var i=s.getFocusableOptionsWithIds(),o=s.buildFocusableOptions(),l=o.indexOf(s.state.selectValue[0]);s.state.focusableOptionsWithIds=i,s.state.focusedOption=o[l],s.state.focusedOptionId=zN(i,o[l])}return s}return gpe(r,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput(),this.props.menuIsOpen&&this.state.focusedOption&&this.menuListRef&&this.focusedOptionRef&&PI(this.menuListRef,this.focusedOptionRef),wxe()&&this.setState({isAppleDevice:!0})}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isDisabled,l=i.menuIsOpen,c=this.state.isFocused;(c&&!o&&s.isDisabled||c&&l&&!s.menuIsOpen)&&this.focusInput(),c&&o&&!s.isDisabled?this.setState({isFocused:!1},this.onMenuClose):!c&&!o&&s.isDisabled&&this.inputRef===document.activeElement&&this.setState({isFocused:!0}),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(PI(this.menuListRef,this.focusedOptionRef),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close",prevInputValue:this.props.inputValue}),this.props.onMenuClose()}},{key:"onInputChange",value:function(s,i){this.props.onInputChange(s,i)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(s){var i=this,o=this.state,l=o.selectValue,c=o.isFocused,d=this.buildFocusableOptions(),h=s==="first"?0:d.length-1;if(!this.props.isMulti){var m=d.indexOf(l[0]);m>-1&&(h=m)}this.scrollToFocusedOptionOnUpdate=!(c&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:d[h],focusedOptionId:this.getFocusedOptionId(d[h])},function(){return i.onMenuOpen()})}},{key:"focusValue",value:function(s){var i=this.state,o=i.selectValue,l=i.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var c=o.indexOf(l);l||(c=-1);var d=o.length-1,h=-1;if(o.length){switch(s){case"previous":c===0?h=0:c===-1?h=d:h=c-1;break;case"next":c>-1&&c<d&&(h=c+1);break}this.setState({inputIsHidden:h!==-1,focusedValue:o[h]})}}}},{key:"focusOption",value:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,l=this.getFocusableOptions();if(l.length){var c=0,d=l.indexOf(o);o||(d=-1),s==="up"?c=d>0?d-1:l.length-1:s==="down"?c=(d+1)%l.length:s==="pageup"?(c=d-i,c<0&&(c=0)):s==="pagedown"?(c=d+i,c>l.length-1&&(c=l.length-1)):s==="last"&&(c=l.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:l[c],focusedValue:null,focusedOptionId:this.getFocusedOptionId(l[c])})}}},{key:"getTheme",value:(function(){return this.props.theme?typeof this.props.theme=="function"?this.props.theme(BN):Vt(Vt({},BN),this.props.theme):BN})},{key:"getCommonProps",value:function(){var s=this.clearValue,i=this.cx,o=this.getStyles,l=this.getClassNames,c=this.getValue,d=this.selectOption,h=this.setValue,m=this.props,g=m.isMulti,y=m.isRtl,w=m.options,j=this.hasValue();return{clearValue:s,cx:i,getStyles:o,getClassNames:l,getValue:c,hasValue:j,isMulti:g,isRtl:y,options:w,selectOption:d,selectProps:m,setValue:h,theme:this.getTheme()}}},{key:"hasValue",value:function(){var s=this.state.selectValue;return s.length>0}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var s=this.props,i=s.isClearable,o=s.isMulti;return i===void 0?o:i}},{key:"isOptionDisabled",value:function(s,i){return gU(this.props,s,i)}},{key:"isOptionSelected",value:function(s,i){return xU(this.props,s,i)}},{key:"filterOption",value:function(s,i){return yU(this.props,s,i)}},{key:"formatOptionLabel",value:function(s,i){if(typeof this.props.formatOptionLabel=="function"){var o=this.props.inputValue,l=this.state.selectValue;return this.props.formatOptionLabel(s,{context:i,inputValue:o,selectValue:l})}else return this.getOptionLabel(s)}},{key:"formatGroupLabel",value:function(s){return this.props.formatGroupLabel(s)}},{key:"startListeningComposition",value:(function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))})},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:(function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))})},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:(function(){var s=this.props,i=s.isDisabled,o=s.isSearchable,l=s.inputId,c=s.inputValue,d=s.tabIndex,h=s.form,m=s.menuIsOpen,g=s.required,y=this.getComponents(),w=y.Input,j=this.state,v=j.inputIsHidden,N=j.ariaSelection,T=this.commonProps,S=l||this.getElementId("input"),O=Vt(Vt(Vt({"aria-autocomplete":"list","aria-expanded":m,"aria-haspopup":!0,"aria-errormessage":this.props["aria-errormessage"],"aria-invalid":this.props["aria-invalid"],"aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"],"aria-required":g,role:"combobox","aria-activedescendant":this.state.isAppleDevice?void 0:this.state.focusedOptionId||""},m&&{"aria-controls":this.getElementId("listbox")}),!o&&{"aria-readonly":!0}),this.hasValue()?(N==null?void 0:N.action)==="initial-input-focus"&&{"aria-describedby":this.getElementId("live-region")}:{"aria-describedby":this.getElementId("placeholder")});return o?x.createElement(w,Yt({},T,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:S,innerRef:this.getInputRef,isDisabled:i,isHidden:v,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:d,form:h,type:"text",value:c},O)):x.createElement(lxe,Yt({id:S,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:Ib,onFocus:this.onInputFocus,disabled:i,tabIndex:d,inputMode:"none",form:h,value:""},O))})},{key:"renderPlaceholderOrValue",value:function(){var s=this,i=this.getComponents(),o=i.MultiValue,l=i.MultiValueContainer,c=i.MultiValueLabel,d=i.MultiValueRemove,h=i.SingleValue,m=i.Placeholder,g=this.commonProps,y=this.props,w=y.controlShouldRenderValue,j=y.isDisabled,v=y.isMulti,N=y.inputValue,T=y.placeholder,S=this.state,O=S.selectValue,_=S.focusedValue,A=S.isFocused;if(!this.hasValue()||!w)return N?null:x.createElement(m,Yt({},g,{key:"placeholder",isDisabled:j,isFocused:A,innerProps:{id:this.getElementId("placeholder")}}),T);if(v)return O.map(function(P,$){var I=P===_,L="".concat(s.getOptionLabel(P),"-").concat(s.getOptionValue(P));return x.createElement(o,Yt({},g,{components:{Container:l,Label:c,Remove:d},isFocused:I,isDisabled:j,key:L,index:$,removeProps:{onClick:function(){return s.removeValue(P)},onTouchEnd:function(){return s.removeValue(P)},onMouseDown:function(z){z.preventDefault()}},data:P}),s.formatOptionLabel(P,"value"))});if(N)return null;var E=O[0];return x.createElement(h,Yt({},g,{data:E,isDisabled:j}),this.formatOptionLabel(E,"value"))}},{key:"renderClearIndicator",value:function(){var s=this.getComponents(),i=s.ClearIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!this.isClearable()||!i||c||!this.hasValue()||d)return null;var m={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:m,isFocused:h}))}},{key:"renderLoadingIndicator",value:function(){var s=this.getComponents(),i=s.LoadingIndicator,o=this.commonProps,l=this.props,c=l.isDisabled,d=l.isLoading,h=this.state.isFocused;if(!i||!d)return null;var m={"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:m,isDisabled:c,isFocused:h}))}},{key:"renderIndicatorSeparator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator,o=s.IndicatorSeparator;if(!i||!o)return null;var l=this.commonProps,c=this.props.isDisabled,d=this.state.isFocused;return x.createElement(o,Yt({},l,{isDisabled:c,isFocused:d}))}},{key:"renderDropdownIndicator",value:function(){var s=this.getComponents(),i=s.DropdownIndicator;if(!i)return null;var o=this.commonProps,l=this.props.isDisabled,c=this.state.isFocused,d={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return x.createElement(i,Yt({},o,{innerProps:d,isDisabled:l,isFocused:c}))}},{key:"renderMenu",value:function(){var s=this,i=this.getComponents(),o=i.Group,l=i.GroupHeading,c=i.Menu,d=i.MenuList,h=i.MenuPortal,m=i.LoadingMessage,g=i.NoOptionsMessage,y=i.Option,w=this.commonProps,j=this.state.focusedOption,v=this.props,N=v.captureMenuScroll,T=v.inputValue,S=v.isLoading,O=v.loadingMessage,_=v.minMenuHeight,A=v.maxMenuHeight,E=v.menuIsOpen,P=v.menuPlacement,$=v.menuPosition,I=v.menuPortalTarget,L=v.menuShouldBlockScroll,R=v.menuShouldScrollIntoView,z=v.noOptionsMessage,Y=v.onMenuScrollToTop,q=v.onMenuScrollToBottom;if(!E)return null;var H=function(oe,le){var ce=oe.type,pe=oe.data,Ie=oe.isDisabled,Ee=oe.isSelected,ge=oe.label,Oe=oe.value,ze=j===pe,re=Ie?void 0:function(){return s.onOptionHover(pe)},se=Ie?void 0:function(){return s.selectOption(pe)},ee="".concat(s.getElementId("option"),"-").concat(le),we={id:ee,onClick:se,onMouseMove:re,onMouseOver:re,tabIndex:-1,role:"option","aria-selected":s.state.isAppleDevice?void 0:Ee};return x.createElement(y,Yt({},w,{innerProps:we,data:pe,isDisabled:Ie,isSelected:Ee,key:ee,label:ge,type:ce,value:Oe,isFocused:ze,innerRef:ze?s.getFocusedOptionRef:void 0}),s.formatOptionLabel(oe.data,"menu"))},D;if(this.hasOptions())D=this.getCategorizedOptions().map(function(Z){if(Z.type==="group"){var oe=Z.data,le=Z.options,ce=Z.index,pe="".concat(s.getElementId("group"),"-").concat(ce),Ie="".concat(pe,"-heading");return x.createElement(o,Yt({},w,{key:pe,data:oe,options:le,Heading:l,headingProps:{id:Ie,data:Z.data},label:s.formatGroupLabel(Z.data)}),Z.options.map(function(Ee){return H(Ee,"".concat(ce,"-").concat(Ee.index))}))}else if(Z.type==="option")return H(Z,"".concat(Z.index))});else if(S){var F=O({inputValue:T});if(F===null)return null;D=x.createElement(m,w,F)}else{var K=z({inputValue:T});if(K===null)return null;D=x.createElement(g,w,K)}var te={minMenuHeight:_,maxMenuHeight:A,menuPlacement:P,menuPosition:$,menuShouldScrollIntoView:R},W=x.createElement(H0e,Yt({},w,te),function(Z){var oe=Z.ref,le=Z.placerProps,ce=le.placement,pe=le.maxHeight;return x.createElement(c,Yt({},w,te,{innerRef:oe,innerProps:{onMouseDown:s.onMenuMouseDown,onMouseMove:s.onMenuMouseMove},isLoading:S,placement:ce}),x.createElement(mxe,{captureEnabled:N,onTopArrive:Y,onBottomArrive:q,lockEnabled:L},function(Ie){return x.createElement(d,Yt({},w,{innerRef:function(ge){s.getMenuListRef(ge),Ie(ge)},innerProps:{role:"listbox","aria-multiselectable":w.isMulti,id:s.getElementId("listbox")},isLoading:S,maxHeight:pe,focusedOption:j}),D)}))});return I||$==="fixed"?x.createElement(h,Yt({},w,{appendTo:I,controlElement:this.controlRef,menuPlacement:P,menuPosition:$}),W):W}},{key:"renderFormField",value:function(){var s=this,i=this.props,o=i.delimiter,l=i.isDisabled,c=i.isMulti,d=i.name,h=i.required,m=this.state.selectValue;if(h&&!this.hasValue()&&!l)return x.createElement(xxe,{name:d,onFocus:this.onValueInputFocus});if(!(!d||l))if(c)if(o){var g=m.map(function(j){return s.getOptionValue(j)}).join(o);return x.createElement("input",{name:d,type:"hidden",value:g})}else{var y=m.length>0?m.map(function(j,v){return x.createElement("input",{key:"i-".concat(v),name:d,type:"hidden",value:s.getOptionValue(j)})}):x.createElement("input",{name:d,type:"hidden",value:""});return x.createElement("div",null,y)}else{var w=m[0]?this.getOptionValue(m[0]):"";return x.createElement("input",{name:d,type:"hidden",value:w})}}},{key:"renderLiveRegion",value:function(){var s=this.commonProps,i=this.state,o=i.ariaSelection,l=i.focusedOption,c=i.focusedValue,d=i.isFocused,h=i.selectValue,m=this.getFocusableOptions();return x.createElement(rxe,Yt({},s,{id:this.getElementId("live-region"),ariaSelection:o,focusedOption:l,focusedValue:c,isFocused:d,selectValue:h,focusableOptions:m,isAppleDevice:this.state.isAppleDevice}))}},{key:"render",value:function(){var s=this.getComponents(),i=s.Control,o=s.IndicatorsContainer,l=s.SelectContainer,c=s.ValueContainer,d=this.props,h=d.className,m=d.id,g=d.isDisabled,y=d.menuIsOpen,w=this.state.isFocused,j=this.commonProps=this.getCommonProps();return x.createElement(l,Yt({},j,{className:h,innerProps:{id:m,onKeyDown:this.onKeyDown},isDisabled:g,isFocused:w}),this.renderLiveRegion(),x.createElement(i,Yt({},j,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:g,isFocused:w,menuIsOpen:y}),x.createElement(c,Yt({},j,{isDisabled:g}),this.renderPlaceholderOrValue(),this.renderInput()),x.createElement(o,Yt({},j,{isDisabled:g}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(s,i){var o=i.prevProps,l=i.clearFocusValueOnUpdate,c=i.inputIsHiddenAfterUpdate,d=i.ariaSelection,h=i.isFocused,m=i.prevWasFocused,g=i.instancePrefix,y=s.options,w=s.value,j=s.menuIsOpen,v=s.inputValue,N=s.isMulti,T=Lb(w),S={};if(o&&(w!==o.value||y!==o.options||j!==o.menuIsOpen||v!==o.inputValue)){var O=j?Oxe(s,T):[],_=j?YI(rb(s,T),"".concat(g,"-option")):[],A=l?Exe(i,T):null,E=Dxe(i,O),P=zN(_,E);S={selectValue:T,focusedOption:E,focusedOptionId:P,focusableOptionsWithIds:_,focusedValue:A,clearFocusValueOnUpdate:!1}}var $=c!=null&&s!==o?{inputIsHidden:c,inputIsHiddenAfterUpdate:void 0}:{},I=d,L=h&&m;return h&&!L&&(I={value:hp(N,T,T[0]||null),options:T,action:"initial-input-focus"},L=!m),(d==null?void 0:d.action)==="initial-input-focus"&&(I=null),Vt(Vt(Vt({},S),$),{},{prevProps:s,ariaSelection:I,prevWasFocused:L})}}]),r})(x.Component);NO.defaultProps=Axe;var Rxe=x.forwardRef(function(t,e){var r=$W(t);return x.createElement(NO,Yt({ref:e},r))}),Tr=Rxe;function _a(t){this.content=t}_a.prototype={constructor:_a,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,r){var n=r&&r!=t?this.remove(r):this,s=n.find(t),i=n.content.slice();return s==-1?i.push(r||t,e):(i[s+1]=e,r&&(i[s]=r)),new _a(i)},remove:function(t){var e=this.find(t);if(e==-1)return this;var r=this.content.slice();return r.splice(e,2),new _a(r)},addToStart:function(t,e){return new _a([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var r=this.remove(t).content.slice();return r.push(t,e),new _a(r)},addBefore:function(t,e,r){var n=this.remove(e),s=n.content.slice(),i=n.find(t);return s.splice(i==-1?s.length:i,0,e,r),new _a(s)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=_a.from(t),t.size?new _a(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=_a.from(t),t.size?new _a(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=_a.from(t);for(var r=0;r<t.content.length;r+=2)e=e.remove(t.content[r]);return e},toObject:function(){var t={};return this.forEach(function(e,r){t[e]=r}),t},get size(){return this.content.length>>1}};_a.from=function(t){if(t instanceof _a)return t;var e=[];if(t)for(var r in t)e.push(r,t[r]);return new _a(e)};function vU(t,e,r){for(let n=0;;n++){if(n==t.childCount||n==e.childCount)return t.childCount==e.childCount?null:r;let s=t.child(n),i=e.child(n);if(s==i){r+=s.nodeSize;continue}if(!s.sameMarkup(i))return r;if(s.isText&&s.text!=i.text){for(let o=0;s.text[o]==i.text[o];o++)r++;return r}if(s.content.size||i.content.size){let o=vU(s.content,i.content,r+1);if(o!=null)return o}r+=s.nodeSize}}function wU(t,e,r,n){for(let s=t.childCount,i=e.childCount;;){if(s==0||i==0)return s==i?null:{a:r,b:n};let o=t.child(--s),l=e.child(--i),c=o.nodeSize;if(o==l){r-=c,n-=c;continue}if(!o.sameMarkup(l))return{a:r,b:n};if(o.isText&&o.text!=l.text){let d=0,h=Math.min(o.text.length,l.text.length);for(;d<h&&o.text[o.text.length-d-1]==l.text[l.text.length-d-1];)d++,r--,n--;return{a:r,b:n}}if(o.content.size||l.content.size){let d=wU(o.content,l.content,r-1,n-1);if(d)return d}r-=c,n-=c}}class lt{constructor(e,r){if(this.content=e,this.size=r||0,r==null)for(let n=0;n<e.length;n++)this.size+=e[n].nodeSize}nodesBetween(e,r,n,s=0,i){for(let o=0,l=0;l<r;o++){let c=this.content[o],d=l+c.nodeSize;if(d>e&&n(c,s+l,i||null,o)!==!1&&c.content.size){let h=l+1;c.nodesBetween(Math.max(0,e-h),Math.min(c.content.size,r-h),n,s+h)}l=d}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,r,n,s){let i="",o=!0;return this.nodesBetween(e,r,(l,c)=>{let d=l.isText?l.text.slice(Math.max(e,c)-c,r-c):l.isLeaf?s?typeof s=="function"?s(l):s:l.type.spec.leafText?l.type.spec.leafText(l):"":"";l.isBlock&&(l.isLeaf&&d||l.isTextblock)&&n&&(o?o=!1:i+=n),i+=d},0),i}append(e){if(!e.size)return this;if(!this.size)return e;let r=this.lastChild,n=e.firstChild,s=this.content.slice(),i=0;for(r.isText&&r.sameMarkup(n)&&(s[s.length-1]=r.withText(r.text+n.text),i=1);i<e.content.length;i++)s.push(e.content[i]);return new lt(s,this.size+e.size)}cut(e,r=this.size){if(e==0&&r==this.size)return this;let n=[],s=0;if(r>e)for(let i=0,o=0;o<r;i++){let l=this.content[i],c=o+l.nodeSize;c>e&&((o<e||c>r)&&(l.isText?l=l.cut(Math.max(0,e-o),Math.min(l.text.length,r-o)):l=l.cut(Math.max(0,e-o-1),Math.min(l.content.size,r-o-1))),n.push(l),s+=l.nodeSize),o=c}return new lt(n,s)}cutByIndex(e,r){return e==r?lt.empty:e==0&&r==this.content.length?this:new lt(this.content.slice(e,r))}replaceChild(e,r){let n=this.content[e];if(n==r)return this;let s=this.content.slice(),i=this.size+r.nodeSize-n.nodeSize;return s[e]=r,new lt(s,i)}addToStart(e){return new lt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new lt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let r=0;r<this.content.length;r++)if(!this.content[r].eq(e.content[r]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let r=this.content[e];if(!r)throw new RangeError("Index "+e+" out of range for "+this);return r}maybeChild(e){return this.content[e]||null}forEach(e){for(let r=0,n=0;r<this.content.length;r++){let s=this.content[r];e(s,n,r),n+=s.nodeSize}}findDiffStart(e,r=0){return vU(this,e,r)}findDiffEnd(e,r=this.size,n=e.size){return wU(this,e,r,n)}findIndex(e){if(e==0)return iy(0,e);if(e==this.size)return iy(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,n=0;;r++){let s=this.child(r),i=n+s.nodeSize;if(i>=e)return i==e?iy(r+1,i):iy(r,n);n=i}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,r){if(!r)return lt.empty;if(!Array.isArray(r))throw new RangeError("Invalid input for Fragment.fromJSON");return new lt(r.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return lt.empty;let r,n=0;for(let s=0;s<e.length;s++){let i=e[s];n+=i.nodeSize,s&&i.isText&&e[s-1].sameMarkup(i)?(r||(r=e.slice(0,s)),r[r.length-1]=i.withText(r[r.length-1].text+i.text)):r&&r.push(i)}return new lt(r||e,n)}static from(e){if(!e)return lt.empty;if(e instanceof lt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new lt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}lt.empty=new lt([],0);const VN={index:0,offset:0};function iy(t,e){return VN.index=t,VN.offset=e,VN}function Hb(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let r=Array.isArray(t);if(Array.isArray(e)!=r)return!1;if(r){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!Hb(t[n],e[n]))return!1}else{for(let n in t)if(!(n in e)||!Hb(t[n],e[n]))return!1;for(let n in e)if(!(n in t))return!1}return!0}let rn=class p_{constructor(e,r){this.type=e,this.attrs=r}addToSet(e){let r,n=!1;for(let s=0;s<e.length;s++){let i=e[s];if(this.eq(i))return e;if(this.type.excludes(i.type))r||(r=e.slice(0,s));else{if(i.type.excludes(this.type))return e;!n&&i.type.rank>this.type.rank&&(r||(r=e.slice(0,s)),r.push(this),n=!0),r&&r.push(i)}}return r||(r=e.slice()),n||r.push(this),r}removeFromSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return e.slice(0,r).concat(e.slice(r+1));return e}isInSet(e){for(let r=0;r<e.length;r++)if(this.eq(e[r]))return!0;return!1}eq(e){return this==e||this.type==e.type&&Hb(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Mark.fromJSON");let n=e.marks[r.type];if(!n)throw new RangeError(`There is no mark type ${r.type} in this schema`);let s=n.create(r.attrs);return n.checkAttrs(s.attrs),s}static sameSet(e,r){if(e==r)return!0;if(e.length!=r.length)return!1;for(let n=0;n<e.length;n++)if(!e[n].eq(r[n]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return p_.none;if(e instanceof p_)return[e];let r=e.slice();return r.sort((n,s)=>n.type.rank-s.type.rank),r}};rn.none=[];class Bb extends Error{}class Mt{constructor(e,r,n){this.content=e,this.openStart=r,this.openEnd=n}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,r){let n=SU(this.content,e+this.openStart,r);return n&&new Mt(n,this.openStart,this.openEnd)}removeBetween(e,r){return new Mt(jU(this.content,e+this.openStart,r+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,r){if(!r)return Mt.empty;let n=r.openStart||0,s=r.openEnd||0;if(typeof n!="number"||typeof s!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Mt(lt.fromJSON(e,r.content),n,s)}static maxOpen(e,r=!0){let n=0,s=0;for(let i=e.firstChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.firstChild)n++;for(let i=e.lastChild;i&&!i.isLeaf&&(r||!i.type.spec.isolating);i=i.lastChild)s++;return new Mt(e,n,s)}}Mt.empty=new Mt(lt.empty,0,0);function jU(t,e,r){let{index:n,offset:s}=t.findIndex(e),i=t.maybeChild(n),{index:o,offset:l}=t.findIndex(r);if(s==e||i.isText){if(l!=r&&!t.child(o).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(r))}if(n!=o)throw new RangeError("Removing non-flat range");return t.replaceChild(n,i.copy(jU(i.content,e-s-1,r-s-1)))}function SU(t,e,r,n){let{index:s,offset:i}=t.findIndex(e),o=t.maybeChild(s);if(i==e||o.isText)return n&&!n.canReplace(s,s,r)?null:t.cut(0,e).append(r).append(t.cut(e));let l=SU(o.content,e-i-1,r,o);return l&&t.replaceChild(s,o.copy(l))}function Ixe(t,e,r){if(r.openStart>t.depth)throw new Bb("Inserted content deeper than insertion position");if(t.depth-r.openStart!=e.depth-r.openEnd)throw new Bb("Inconsistent open depths");return NU(t,e,r,0)}function NU(t,e,r,n){let s=t.index(n),i=t.node(n);if(s==e.index(n)&&n<t.depth-r.openStart){let o=NU(t,e,r,n+1);return i.copy(i.content.replaceChild(s,o))}else if(r.content.size)if(!r.openStart&&!r.openEnd&&t.depth==n&&e.depth==n){let o=t.parent,l=o.content;return Bu(o,l.cut(0,t.parentOffset).append(r.content).append(l.cut(e.parentOffset)))}else{let{start:o,end:l}=Lxe(r,t);return Bu(i,CU(t,o,l,e,n))}else return Bu(i,zb(t,e,n))}function kU(t,e){if(!e.type.compatibleContent(t.type))throw new Bb("Cannot join "+e.type.name+" onto "+t.type.name)}function g_(t,e,r){let n=t.node(r);return kU(n,e.node(r)),n}function Hu(t,e){let r=e.length-1;r>=0&&t.isText&&t.sameMarkup(e[r])?e[r]=t.withText(e[r].text+t.text):e.push(t)}function Cp(t,e,r,n){let s=(e||t).node(r),i=0,o=e?e.index(r):s.childCount;t&&(i=t.index(r),t.depth>r?i++:t.textOffset&&(Hu(t.nodeAfter,n),i++));for(let l=i;l<o;l++)Hu(s.child(l),n);e&&e.depth==r&&e.textOffset&&Hu(e.nodeBefore,n)}function Bu(t,e){return t.type.checkContent(e),t.copy(e)}function CU(t,e,r,n,s){let i=t.depth>s&&g_(t,e,s+1),o=n.depth>s&&g_(r,n,s+1),l=[];return Cp(null,t,s,l),i&&o&&e.index(s)==r.index(s)?(kU(i,o),Hu(Bu(i,CU(t,e,r,n,s+1)),l)):(i&&Hu(Bu(i,zb(t,e,s+1)),l),Cp(e,r,s,l),o&&Hu(Bu(o,zb(r,n,s+1)),l)),Cp(n,null,s,l),new lt(l)}function zb(t,e,r){let n=[];if(Cp(null,t,r,n),t.depth>r){let s=g_(t,e,r+1);Hu(Bu(s,zb(t,e,r+1)),n)}return Cp(e,null,r,n),new lt(n)}function Lxe(t,e){let r=e.depth-t.openStart,s=e.node(r).copy(t.content);for(let i=r-1;i>=0;i--)s=e.node(i).copy(lt.from(s));return{start:s.resolveNoCache(t.openStart+r),end:s.resolveNoCache(s.content.size-t.openEnd-r)}}class r0{constructor(e,r,n){this.pos=e,this.path=r,this.parentOffset=n,this.depth=r.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,r=this.index(this.depth);if(r==e.childCount)return null;let n=this.pos-this.path[this.path.length-1],s=e.child(r);return n?e.child(r).cut(n):s}get nodeBefore(){let e=this.index(this.depth),r=this.pos-this.path[this.path.length-1];return r?this.parent.child(e).cut(0,r):e==0?null:this.parent.child(e-1)}posAtIndex(e,r){r=this.resolveDepth(r);let n=this.path[r*3],s=r==0?0:this.path[r*3-1]+1;for(let i=0;i<e;i++)s+=n.child(i).nodeSize;return s}marks(){let e=this.parent,r=this.index();if(e.content.size==0)return rn.none;if(this.textOffset)return e.child(r).marks;let n=e.maybeChild(r-1),s=e.maybeChild(r);if(!n){let l=n;n=s,s=l}let i=n.marks;for(var o=0;o<i.length;o++)i[o].type.spec.inclusive===!1&&(!s||!i[o].isInSet(s.marks))&&(i=i[o--].removeFromSet(i));return i}marksAcross(e){let r=this.parent.maybeChild(this.index());if(!r||!r.isInline)return null;let n=r.marks,s=e.parent.maybeChild(e.index());for(var i=0;i<n.length;i++)n[i].type.spec.inclusive===!1&&(!s||!n[i].isInSet(s.marks))&&(n=n[i--].removeFromSet(n));return n}sharedDepth(e){for(let r=this.depth;r>0;r--)if(this.start(r)<=e&&this.end(r)>=e)return r;return 0}blockRange(e=this,r){if(e.pos<this.pos)return e.blockRange(this);for(let n=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);n>=0;n--)if(e.pos<=this.end(n)&&(!r||r(this.node(n))))return new Vb(this,e,n);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let r=1;r<=this.depth;r++)e+=(e?"/":"")+this.node(r).type.name+"_"+this.index(r-1);return e+":"+this.parentOffset}static resolve(e,r){if(!(r>=0&&r<=e.content.size))throw new RangeError("Position "+r+" out of range");let n=[],s=0,i=r;for(let o=e;;){let{index:l,offset:c}=o.content.findIndex(i),d=i-c;if(n.push(o,l,s+c),!d||(o=o.child(l),o.isText))break;i=d-1,s+=c+1}return new r0(r,n,i)}static resolveCached(e,r){let n=XI.get(e);if(n)for(let i=0;i<n.elts.length;i++){let o=n.elts[i];if(o.pos==r)return o}else XI.set(e,n=new $xe);let s=n.elts[n.i]=r0.resolve(e,r);return n.i=(n.i+1)%Fxe,s}}class $xe{constructor(){this.elts=[],this.i=0}}const Fxe=12,XI=new WeakMap;class Vb{constructor(e,r,n){this.$from=e,this.$to=r,this.depth=n}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const Hxe=Object.create(null);let kc=class x_{constructor(e,r,n,s=rn.none){this.type=e,this.attrs=r,this.marks=s,this.content=n||lt.empty}get children(){return this.content.content}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,r,n,s=0){this.content.nodesBetween(e,r,n,s,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,r,n,s){return this.content.textBetween(e,r,n,s)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,r,n){return this.type==e&&Hb(this.attrs,r||e.defaultAttrs||Hxe)&&rn.sameSet(this.marks,n||rn.none)}copy(e=null){return e==this.content?this:new x_(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new x_(this.type,this.attrs,this.content,e)}cut(e,r=this.content.size){return e==0&&r==this.content.size?this:this.copy(this.content.cut(e,r))}slice(e,r=this.content.size,n=!1){if(e==r)return Mt.empty;let s=this.resolve(e),i=this.resolve(r),o=n?0:s.sharedDepth(r),l=s.start(o),d=s.node(o).content.cut(s.pos-l,i.pos-l);return new Mt(d,s.depth-o,i.depth-o)}replace(e,r,n){return Ixe(this.resolve(e),this.resolve(r),n)}nodeAt(e){for(let r=this;;){let{index:n,offset:s}=r.content.findIndex(e);if(r=r.maybeChild(n),!r)return null;if(s==e||r.isText)return r;e-=s+1}}childAfter(e){let{index:r,offset:n}=this.content.findIndex(e);return{node:this.content.maybeChild(r),index:r,offset:n}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:r,offset:n}=this.content.findIndex(e);if(n<e)return{node:this.content.child(r),index:r,offset:n};let s=this.content.child(r-1);return{node:s,index:r-1,offset:n-s.nodeSize}}resolve(e){return r0.resolveCached(this,e)}resolveNoCache(e){return r0.resolve(this,e)}rangeHasMark(e,r,n){let s=!1;return r>e&&this.nodesBetween(e,r,i=>(n.isInSet(i.marks)&&(s=!0),!s)),s}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),TU(this.marks,e)}contentMatchAt(e){let r=this.type.contentMatch.matchFragment(this.content,0,e);if(!r)throw new Error("Called contentMatchAt on a node with invalid content");return r}canReplace(e,r,n=lt.empty,s=0,i=n.childCount){let o=this.contentMatchAt(e).matchFragment(n,s,i),l=o&&o.matchFragment(this.content,r);if(!l||!l.validEnd)return!1;for(let c=s;c<i;c++)if(!this.type.allowsMarks(n.child(c).marks))return!1;return!0}canReplaceWith(e,r,n,s){if(s&&!this.type.allowsMarks(s))return!1;let i=this.contentMatchAt(e).matchType(n),o=i&&i.matchFragment(this.content,r);return o?o.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content),this.type.checkAttrs(this.attrs);let e=rn.none;for(let r=0;r<this.marks.length;r++){let n=this.marks[r];n.type.checkAttrs(n.attrs),e=n.addToSet(e)}if(!rn.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(r=>r.type.name)}`);this.content.forEach(r=>r.check())}toJSON(){let e={type:this.type.name};for(let r in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(r=>r.toJSON())),e}static fromJSON(e,r){if(!r)throw new RangeError("Invalid input for Node.fromJSON");let n;if(r.marks){if(!Array.isArray(r.marks))throw new RangeError("Invalid mark data for Node.fromJSON");n=r.marks.map(e.markFromJSON)}if(r.type=="text"){if(typeof r.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(r.text,n)}let s=lt.fromJSON(e,r.content),i=e.nodeType(r.type).create(r.attrs,s,n);return i.type.checkAttrs(i.attrs),i}};kc.prototype.text=void 0;class qb extends kc{constructor(e,r,n,s){if(super(e,r,null,s),!n)throw new RangeError("Empty text nodes are not allowed");this.text=n}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):TU(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,r){return this.text.slice(e,r)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new qb(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new qb(this.type,this.attrs,e,this.marks)}cut(e=0,r=this.text.length){return e==0&&r==this.text.length?this:this.withText(this.text.slice(e,r))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function TU(t,e){for(let r=t.length-1;r>=0;r--)e=t[r].type.name+"("+e+")";return e}class Qu{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,r){let n=new Bxe(e,r);if(n.next==null)return Qu.empty;let s=_U(n);n.next&&n.err("Unexpected trailing text");let i=Yxe(Gxe(s));return Kxe(i,n),i}matchType(e){for(let r=0;r<this.next.length;r++)if(this.next[r].type==e)return this.next[r].next;return null}matchFragment(e,r=0,n=e.childCount){let s=this;for(let i=r;s&&i<n;i++)s=s.matchType(e.child(i).type);return s}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:r}=this.next[e];if(!(r.isText||r.hasRequiredAttrs()))return r}return null}compatible(e){for(let r=0;r<this.next.length;r++)for(let n=0;n<e.next.length;n++)if(this.next[r].type==e.next[n].type)return!0;return!1}fillBefore(e,r=!1,n=0){let s=[this];function i(o,l){let c=o.matchFragment(e,n);if(c&&(!r||c.validEnd))return lt.from(l.map(d=>d.createAndFill()));for(let d=0;d<o.next.length;d++){let{type:h,next:m}=o.next[d];if(!(h.isText||h.hasRequiredAttrs())&&s.indexOf(m)==-1){s.push(m);let g=i(m,l.concat(h));if(g)return g}}return null}return i(this,[])}findWrapping(e){for(let n=0;n<this.wrapCache.length;n+=2)if(this.wrapCache[n]==e)return this.wrapCache[n+1];let r=this.computeWrapping(e);return this.wrapCache.push(e,r),r}computeWrapping(e){let r=Object.create(null),n=[{match:this,type:null,via:null}];for(;n.length;){let s=n.shift(),i=s.match;if(i.matchType(e)){let o=[];for(let l=s;l.type;l=l.via)o.push(l.type);return o.reverse()}for(let o=0;o<i.next.length;o++){let{type:l,next:c}=i.next[o];!l.isLeaf&&!l.hasRequiredAttrs()&&!(l.name in r)&&(!s.type||c.validEnd)&&(n.push({match:l.contentMatch,type:l,via:s}),r[l.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function r(n){e.push(n);for(let s=0;s<n.next.length;s++)e.indexOf(n.next[s].next)==-1&&r(n.next[s].next)}return r(this),e.map((n,s)=>{let i=s+(n.validEnd?"*":" ")+" ";for(let o=0;o<n.next.length;o++)i+=(o?", ":"")+n.next[o].type.name+"->"+e.indexOf(n.next[o].next);return i}).join(`
`)}}Qu.empty=new Qu(!0);class Bxe{constructor(e,r){this.string=e,this.nodeTypes=r,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function _U(t){let e=[];do e.push(zxe(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function zxe(t){let e=[];do e.push(Vxe(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function Vxe(t){let e=Uxe(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=qxe(t,e);else break;return e}function JI(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function qxe(t,e){let r=JI(t),n=r;return t.eat(",")&&(t.next!="}"?n=JI(t):n=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:r,max:n,expr:e}}function Wxe(t,e){let r=t.nodeTypes,n=r[e];if(n)return[n];let s=[];for(let i in r){let o=r[i];o.isInGroup(e)&&s.push(o)}return s.length==0&&t.err("No node type or group '"+e+"' found"),s}function Uxe(t){if(t.eat("(")){let e=_U(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=Wxe(t,t.next).map(r=>(t.inline==null?t.inline=r.isInline:t.inline!=r.isInline&&t.err("Mixing inline and block content"),{type:"name",value:r}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function Gxe(t){let e=[[]];return s(i(t,0),r()),e;function r(){return e.push([])-1}function n(o,l,c){let d={term:c,to:l};return e[o].push(d),d}function s(o,l){o.forEach(c=>c.to=l)}function i(o,l){if(o.type=="choice")return o.exprs.reduce((c,d)=>c.concat(i(d,l)),[]);if(o.type=="seq")for(let c=0;;c++){let d=i(o.exprs[c],l);if(c==o.exprs.length-1)return d;s(d,l=r())}else if(o.type=="star"){let c=r();return n(l,c),s(i(o.expr,c),c),[n(c)]}else if(o.type=="plus"){let c=r();return s(i(o.expr,l),c),s(i(o.expr,c),c),[n(c)]}else{if(o.type=="opt")return[n(l)].concat(i(o.expr,l));if(o.type=="range"){let c=l;for(let d=0;d<o.min;d++){let h=r();s(i(o.expr,c),h),c=h}if(o.max==-1)s(i(o.expr,c),c);else for(let d=o.min;d<o.max;d++){let h=r();n(c,h),s(i(o.expr,c),h),c=h}return[n(c)]}else{if(o.type=="name")return[n(l,void 0,o.value)];throw new Error("Unknown expr type")}}}}function MU(t,e){return e-t}function QI(t,e){let r=[];return n(e),r.sort(MU);function n(s){let i=t[s];if(i.length==1&&!i[0].term)return n(i[0].to);r.push(s);for(let o=0;o<i.length;o++){let{term:l,to:c}=i[o];!l&&r.indexOf(c)==-1&&n(c)}}}function Yxe(t){let e=Object.create(null);return r(QI(t,0));function r(n){let s=[];n.forEach(o=>{t[o].forEach(({term:l,to:c})=>{if(!l)return;let d;for(let h=0;h<s.length;h++)s[h][0]==l&&(d=s[h][1]);QI(t,c).forEach(h=>{d||s.push([l,d=[]]),d.indexOf(h)==-1&&d.push(h)})})});let i=e[n.join(",")]=new Qu(n.indexOf(t.length-1)>-1);for(let o=0;o<s.length;o++){let l=s[o][1].sort(MU);i.next.push({type:s[o][0],next:e[l.join(",")]||r(l)})}return i}}function Kxe(t,e){for(let r=0,n=[t];r<n.length;r++){let s=n[r],i=!s.validEnd,o=[];for(let l=0;l<s.next.length;l++){let{type:c,next:d}=s.next[l];o.push(c.name),i&&!(c.isText||c.hasRequiredAttrs())&&(i=!1),n.indexOf(d)==-1&&n.push(d)}i&&e.err("Only non-generatable nodes ("+o.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function AU(t){let e=Object.create(null);for(let r in t){let n=t[r];if(!n.hasDefault)return null;e[r]=n.default}return e}function OU(t,e){let r=Object.create(null);for(let n in t){let s=e&&e[n];if(s===void 0){let i=t[n];if(i.hasDefault)s=i.default;else throw new RangeError("No value supplied for attribute "+n)}r[n]=s}return r}function EU(t,e,r,n){for(let s in e)if(!(s in t))throw new RangeError(`Unsupported attribute ${s} for ${r} of type ${s}`);for(let s in t){let i=t[s];i.validate&&i.validate(e[s])}}function DU(t,e){let r=Object.create(null);if(e)for(let n in e)r[n]=new Jxe(t,n,e[n]);return r}let ZI=class PU{constructor(e,r,n){this.name=e,this.schema=r,this.spec=n,this.markSet=null,this.groups=n.group?n.group.split(" "):[],this.attrs=DU(e,n.attrs),this.defaultAttrs=AU(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(n.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==Qu.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}isInGroup(e){return this.groups.indexOf(e)>-1}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:OU(this.attrs,e)}create(e=null,r,n){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new kc(this,this.computeAttrs(e),lt.from(r),rn.setFrom(n))}createChecked(e=null,r,n){return r=lt.from(r),this.checkContent(r),new kc(this,this.computeAttrs(e),r,rn.setFrom(n))}createAndFill(e=null,r,n){if(e=this.computeAttrs(e),r=lt.from(r),r.size){let o=this.contentMatch.fillBefore(r);if(!o)return null;r=o.append(r)}let s=this.contentMatch.matchFragment(r),i=s&&s.fillBefore(lt.empty,!0);return i?new kc(this,e,r.append(i),rn.setFrom(n)):null}validContent(e){let r=this.contentMatch.matchFragment(e);if(!r||!r.validEnd)return!1;for(let n=0;n<e.childCount;n++)if(!this.allowsMarks(e.child(n).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}checkAttrs(e){EU(this.attrs,e,"node",this.name)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let r=0;r<e.length;r++)if(!this.allowsMarkType(e[r].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let r;for(let n=0;n<e.length;n++)this.allowsMarkType(e[n].type)?r&&r.push(e[n]):r||(r=e.slice(0,n));return r?r.length?r:rn.none:e}static compile(e,r){let n=Object.create(null);e.forEach((i,o)=>n[i]=new PU(i,r,o));let s=r.spec.topNode||"doc";if(!n[s])throw new RangeError("Schema is missing its top node type ('"+s+"')");if(!n.text)throw new RangeError("Every schema needs a 'text' type");for(let i in n.text.attrs)throw new RangeError("The text node type should not have attributes");return n}};function Xxe(t,e,r){let n=r.split("|");return s=>{let i=s===null?"null":typeof s;if(n.indexOf(i)<0)throw new RangeError(`Expected value of type ${n} for attribute ${e} on type ${t}, got ${i}`)}}class Jxe{constructor(e,r,n){this.hasDefault=Object.prototype.hasOwnProperty.call(n,"default"),this.default=n.default,this.validate=typeof n.validate=="string"?Xxe(e,r,n.validate):n.validate}get isRequired(){return!this.hasDefault}}class Gw{constructor(e,r,n,s){this.name=e,this.rank=r,this.schema=n,this.spec=s,this.attrs=DU(e,s.attrs),this.excluded=null;let i=AU(this.attrs);this.instance=i?new rn(this,i):null}create(e=null){return!e&&this.instance?this.instance:new rn(this,OU(this.attrs,e))}static compile(e,r){let n=Object.create(null),s=0;return e.forEach((i,o)=>n[i]=new Gw(i,s++,r,o)),n}removeFromSet(e){for(var r=0;r<e.length;r++)e[r].type==this&&(e=e.slice(0,r).concat(e.slice(r+1)),r--);return e}isInSet(e){for(let r=0;r<e.length;r++)if(e[r].type==this)return e[r]}checkAttrs(e){EU(this.attrs,e,"mark",this.name)}excludes(e){return this.excluded.indexOf(e)>-1}}class RU{constructor(e){this.linebreakReplacement=null,this.cached=Object.create(null);let r=this.spec={};for(let s in e)r[s]=e[s];r.nodes=_a.from(e.nodes),r.marks=_a.from(e.marks||{}),this.nodes=ZI.compile(this.spec.nodes,this),this.marks=Gw.compile(this.spec.marks,this);let n=Object.create(null);for(let s in this.nodes){if(s in this.marks)throw new RangeError(s+" can not be both a node and a mark");let i=this.nodes[s],o=i.spec.content||"",l=i.spec.marks;if(i.contentMatch=n[o]||(n[o]=Qu.parse(o,this.nodes)),i.inlineContent=i.contentMatch.inlineContent,i.spec.linebreakReplacement){if(this.linebreakReplacement)throw new RangeError("Multiple linebreak nodes defined");if(!i.isInline||!i.isLeaf)throw new RangeError("Linebreak replacement nodes must be inline leaf nodes");this.linebreakReplacement=i}i.markSet=l=="_"?null:l?eL(this,l.split(" ")):l==""||!i.inlineContent?[]:null}for(let s in this.marks){let i=this.marks[s],o=i.spec.excludes;i.excluded=o==null?[i]:o==""?[]:eL(this,o.split(" "))}this.nodeFromJSON=s=>kc.fromJSON(this,s),this.markFromJSON=s=>rn.fromJSON(this,s),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,r=null,n,s){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof ZI){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(r,n,s)}text(e,r){let n=this.nodes.text;return new qb(n,n.defaultAttrs,e,rn.setFrom(r))}mark(e,r){return typeof e=="string"&&(e=this.marks[e]),e.create(r)}nodeType(e){let r=this.nodes[e];if(!r)throw new RangeError("Unknown node type: "+e);return r}}function eL(t,e){let r=[];for(let n=0;n<e.length;n++){let s=e[n],i=t.marks[s],o=i;if(i)r.push(i);else for(let l in t.marks){let c=t.marks[l];(s=="_"||c.spec.group&&c.spec.group.split(" ").indexOf(s)>-1)&&r.push(o=c)}if(!o)throw new SyntaxError("Unknown mark type: '"+e[n]+"'")}return r}function Qxe(t){return t.tag!=null}function Zxe(t){return t.style!=null}class Cc{constructor(e,r){this.schema=e,this.rules=r,this.tags=[],this.styles=[];let n=this.matchedStyles=[];r.forEach(s=>{if(Qxe(s))this.tags.push(s);else if(Zxe(s)){let i=/[^=]*/.exec(s.style)[0];n.indexOf(i)<0&&n.push(i),this.styles.push(s)}}),this.normalizeLists=!this.tags.some(s=>{if(!/^(ul|ol)\b/.test(s.tag)||!s.node)return!1;let i=e.nodes[s.node];return i.contentMatch.matchType(i)})}parse(e,r={}){let n=new rL(this,r,!1);return n.addAll(e,rn.none,r.from,r.to),n.finish()}parseSlice(e,r={}){let n=new rL(this,r,!0);return n.addAll(e,rn.none,r.from,r.to),Mt.maxOpen(n.finish())}matchTag(e,r,n){for(let s=n?this.tags.indexOf(n)+1:0;s<this.tags.length;s++){let i=this.tags[s];if(rye(e,i.tag)&&(i.namespace===void 0||e.namespaceURI==i.namespace)&&(!i.context||r.matchesContext(i.context))){if(i.getAttrs){let o=i.getAttrs(e);if(o===!1)continue;i.attrs=o||void 0}return i}}}matchStyle(e,r,n,s){for(let i=s?this.styles.indexOf(s)+1:0;i<this.styles.length;i++){let o=this.styles[i],l=o.style;if(!(l.indexOf(e)!=0||o.context&&!n.matchesContext(o.context)||l.length>e.length&&(l.charCodeAt(e.length)!=61||l.slice(e.length+1)!=r))){if(o.getAttrs){let c=o.getAttrs(r);if(c===!1)continue;o.attrs=c||void 0}return o}}}static schemaRules(e){let r=[];function n(s){let i=s.priority==null?50:s.priority,o=0;for(;o<r.length;o++){let l=r[o];if((l.priority==null?50:l.priority)<i)break}r.splice(o,0,s)}for(let s in e.marks){let i=e.marks[s].spec.parseDOM;i&&i.forEach(o=>{n(o=nL(o)),o.mark||o.ignore||o.clearMark||(o.mark=s)})}for(let s in e.nodes){let i=e.nodes[s].spec.parseDOM;i&&i.forEach(o=>{n(o=nL(o)),o.node||o.ignore||o.mark||(o.node=s)})}return r}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Cc(e,Cc.schemaRules(e)))}}const IU={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},eye={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},LU={ol:!0,ul:!0},n0=1,y_=2,Tp=4;function tL(t,e,r){return e!=null?(e?n0:0)|(e==="full"?y_:0):t&&t.whitespace=="pre"?n0|y_:r&~Tp}class oy{constructor(e,r,n,s,i,o){this.type=e,this.attrs=r,this.marks=n,this.solid=s,this.options=o,this.content=[],this.activeMarks=rn.none,this.match=i||(o&Tp?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let r=this.type.contentMatch.fillBefore(lt.from(e));if(r)this.match=this.type.contentMatch.matchFragment(r);else{let n=this.type.contentMatch,s;return(s=n.findWrapping(e.type))?(this.match=n,s):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&n0)){let n=this.content[this.content.length-1],s;if(n&&n.isText&&(s=/[ \t\r\n\u000c]+$/.exec(n.text))){let i=n;n.text.length==s[0].length?this.content.pop():this.content[this.content.length-1]=i.withText(i.text.slice(0,i.text.length-s[0].length))}}let r=lt.from(this.content);return!e&&this.match&&(r=r.append(this.match.fillBefore(lt.empty,!0))),this.type?this.type.create(this.attrs,r,this.marks):r}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!IU.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class rL{constructor(e,r,n){this.parser=e,this.options=r,this.isOpen=n,this.open=0,this.localPreserveWS=!1;let s=r.topNode,i,o=tL(null,r.preserveWhitespace,0)|(n?Tp:0);s?i=new oy(s.type,s.attrs,rn.none,!0,r.topMatch||s.type.contentMatch,o):n?i=new oy(null,null,rn.none,!0,null,o):i=new oy(e.schema.topNodeType,null,rn.none,!0,null,o),this.nodes=[i],this.find=r.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e,r){e.nodeType==3?this.addTextNode(e,r):e.nodeType==1&&this.addElement(e,r)}addTextNode(e,r){let n=e.nodeValue,s=this.top,i=s.options&y_?"full":this.localPreserveWS||(s.options&n0)>0;if(i==="full"||s.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(i)i!=="full"?n=n.replace(/\r?\n|\r/g," "):n=n.replace(/\r\n?/g,`
`);else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let o=s.content[s.content.length-1],l=e.previousSibling;(!o||l&&l.nodeName=="BR"||o.isText&&/[ \t\r\n\u000c]$/.test(o.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n),r,!/\S/.test(n)),this.findInText(e)}else this.findInside(e)}addElement(e,r,n){let s=this.localPreserveWS,i=this.top;(e.tagName=="PRE"||/pre/.test(e.style&&e.style.whiteSpace))&&(this.localPreserveWS=!0);let o=e.nodeName.toLowerCase(),l;LU.hasOwnProperty(o)&&this.parser.normalizeLists&&tye(e);let c=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(l=this.parser.matchTag(e,this,n));e:if(c?c.ignore:eye.hasOwnProperty(o))this.findInside(e),this.ignoreFallback(e,r);else if(!c||c.skip||c.closeParent){c&&c.closeParent?this.open=Math.max(0,this.open-1):c&&c.skip.nodeType&&(e=c.skip);let d,h=this.needsBlock;if(IU.hasOwnProperty(o))i.content.length&&i.content[0].isInline&&this.open&&(this.open--,i=this.top),d=!0,i.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e,r);break e}let m=c&&c.skip?r:this.readStyles(e,r);m&&this.addAll(e,m),d&&this.sync(i),this.needsBlock=h}else{let d=this.readStyles(e,r);d&&this.addElementByRule(e,c,d,c.consuming===!1?l:void 0)}this.localPreserveWS=s}leafFallback(e,r){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`),r)}ignoreFallback(e,r){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"),r,!0)}readStyles(e,r){let n=e.style;if(n&&n.length)for(let s=0;s<this.parser.matchedStyles.length;s++){let i=this.parser.matchedStyles[s],o=n.getPropertyValue(i);if(o)for(let l=void 0;;){let c=this.parser.matchStyle(i,o,this,l);if(!c)break;if(c.ignore)return null;if(c.clearMark?r=r.filter(d=>!c.clearMark(d)):r=r.concat(this.parser.schema.marks[c.mark].create(c.attrs)),c.consuming===!1)l=c;else break}}return r}addElementByRule(e,r,n,s){let i,o;if(r.node)if(o=this.parser.schema.nodes[r.node],o.isLeaf)this.insertNode(o.create(r.attrs),n,e.nodeName=="BR")||this.leafFallback(e,n);else{let c=this.enter(o,r.attrs||null,n,r.preserveWhitespace);c&&(i=!0,n=c)}else{let c=this.parser.schema.marks[r.mark];n=n.concat(c.create(r.attrs))}let l=this.top;if(o&&o.isLeaf)this.findInside(e);else if(s)this.addElement(e,n,s);else if(r.getContent)this.findInside(e),r.getContent(e,this.parser.schema).forEach(c=>this.insertNode(c,n,!1));else{let c=e;typeof r.contentElement=="string"?c=e.querySelector(r.contentElement):typeof r.contentElement=="function"?c=r.contentElement(e):r.contentElement&&(c=r.contentElement),this.findAround(e,c,!0),this.addAll(c,n),this.findAround(e,c,!1)}i&&this.sync(l)&&this.open--}addAll(e,r,n,s){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,l=s==null?null:e.childNodes[s];o!=l;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o,r);this.findAtPoint(e,i)}findPlace(e,r,n){let s,i;for(let o=this.open,l=0;o>=0;o--){let c=this.nodes[o],d=c.findWrapping(e);if(d&&(!s||s.length>d.length+l)&&(s=d,i=c,!d.length))break;if(c.solid){if(n)break;l+=2}}if(!s)return null;this.sync(i);for(let o=0;o<s.length;o++)r=this.enterInner(s[o],null,r,!1);return r}insertNode(e,r,n){if(e.isInline&&this.needsBlock&&!this.top.type){let i=this.textblockFromContext();i&&(r=this.enterInner(i,null,r))}let s=this.findPlace(e,r,n);if(s){this.closeExtra();let i=this.top;i.match&&(i.match=i.match.matchType(e.type));let o=rn.none;for(let l of s.concat(e.marks))(i.type?i.type.allowsMarkType(l.type):aL(l.type,e.type))&&(o=l.addToSet(o));return i.content.push(e.mark(o)),!0}return!1}enter(e,r,n,s){let i=this.findPlace(e.create(r),n,!1);return i&&(i=this.enterInner(e,r,n,!0,s)),i}enterInner(e,r,n,s=!1,i){this.closeExtra();let o=this.top;o.match=o.match&&o.match.matchType(e);let l=tL(e,i,o.options);o.options&Tp&&o.content.length==0&&(l|=Tp);let c=rn.none;return n=n.filter(d=>(o.type?o.type.allowsMarkType(d.type):aL(d.type,e))?(c=d.addToSet(c),!1):!0),this.nodes.push(new oy(e,r,c,s,null,l)),this.open++,n}closeExtra(e=!1){let r=this.nodes.length-1;if(r>this.open){for(;r>this.open;r--)this.nodes[r-1].content.push(this.nodes[r].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(!!(this.isOpen||this.options.topOpen))}sync(e){for(let r=this.open;r>=0;r--){if(this.nodes[r]==e)return this.open=r,!0;this.localPreserveWS&&(this.nodes[r].options|=n0)}return!1}get currentPos(){this.closeExtra();let e=0;for(let r=this.open;r>=0;r--){let n=this.nodes[r].content;for(let s=n.length-1;s>=0;s--)e+=n[s].nodeSize;r&&e++}return e}findAtPoint(e,r){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&this.find[n].offset==r&&(this.find[n].pos=this.currentPos)}findInside(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].pos==null&&e.nodeType==1&&e.contains(this.find[r].node)&&(this.find[r].pos=this.currentPos)}findAround(e,r,n){if(e!=r&&this.find)for(let s=0;s<this.find.length;s++)this.find[s].pos==null&&e.nodeType==1&&e.contains(this.find[s].node)&&r.compareDocumentPosition(this.find[s].node)&(n?2:4)&&(this.find[s].pos=this.currentPos)}findInText(e){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&(this.find[r].pos=this.currentPos-(e.nodeValue.length-this.find[r].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let r=e.split("/"),n=this.options.context,s=!this.isOpen&&(!n||n.parent.type==this.nodes[0].type),i=-(n?n.depth+1:0)+(s?0:1),o=(l,c)=>{for(;l>=0;l--){let d=r[l];if(d==""){if(l==r.length-1||l==0)continue;for(;c>=i;c--)if(o(l-1,c))return!0;return!1}else{let h=c>0||c==0&&s?this.nodes[c].type:n&&c>=i?n.node(c-i).type:null;if(!h||h.name!=d&&!h.isInGroup(d))return!1;c--}}return!0};return o(r.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let r=e.depth;r>=0;r--){let n=e.node(r).contentMatchAt(e.indexAfter(r)).defaultType;if(n&&n.isTextblock&&n.defaultAttrs)return n}for(let r in this.parser.schema.nodes){let n=this.parser.schema.nodes[r];if(n.isTextblock&&n.defaultAttrs)return n}}}function tye(t){for(let e=t.firstChild,r=null;e;e=e.nextSibling){let n=e.nodeType==1?e.nodeName.toLowerCase():null;n&&LU.hasOwnProperty(n)&&r?(r.appendChild(e),e=r):n=="li"?r=e:n&&(r=null)}}function rye(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function nL(t){let e={};for(let r in t)e[r]=t[r];return e}function aL(t,e){let r=e.schema.nodes;for(let n in r){let s=r[n];if(!s.allowsMarkType(t))continue;let i=[],o=l=>{i.push(l);for(let c=0;c<l.edgeCount;c++){let{type:d,next:h}=l.edge(c);if(d==e||i.indexOf(h)<0&&o(h))return!0}};if(o(s.contentMatch))return!0}}class dd{constructor(e,r){this.nodes=e,this.marks=r}serializeFragment(e,r={},n){n||(n=qN(r).createDocumentFragment());let s=n,i=[];return e.forEach(o=>{if(i.length||o.marks.length){let l=0,c=0;for(;l<i.length&&c<o.marks.length;){let d=o.marks[c];if(!this.marks[d.type.name]){c++;continue}if(!d.eq(i[l][0])||d.type.spec.spanning===!1)break;l++,c++}for(;l<i.length;)s=i.pop()[1];for(;c<o.marks.length;){let d=o.marks[c++],h=this.serializeMark(d,o.isInline,r);h&&(i.push([d,s]),s.appendChild(h.dom),s=h.contentDOM||h.dom)}}s.appendChild(this.serializeNodeInner(o,r))}),n}serializeNodeInner(e,r){let{dom:n,contentDOM:s}=nb(qN(r),this.nodes[e.type.name](e),null,e.attrs);if(s){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,r,s)}return n}serializeNode(e,r={}){let n=this.serializeNodeInner(e,r);for(let s=e.marks.length-1;s>=0;s--){let i=this.serializeMark(e.marks[s],e.isInline,r);i&&((i.contentDOM||i.dom).appendChild(n),n=i.dom)}return n}serializeMark(e,r,n={}){let s=this.marks[e.type.name];return s&&nb(qN(n),s(e,r),null,e.attrs)}static renderSpec(e,r,n=null,s){return nb(e,r,n,s)}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new dd(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let r=sL(e.nodes);return r.text||(r.text=n=>n.text),r}static marksFromSchema(e){return sL(e.marks)}}function sL(t){let e={};for(let r in t){let n=t[r].spec.toDOM;n&&(e[r]=n)}return e}function qN(t){return t.document||window.document}const iL=new WeakMap;function nye(t){let e=iL.get(t);return e===void 0&&iL.set(t,e=aye(t)),e}function aye(t){let e=null;function r(n){if(n&&typeof n=="object")if(Array.isArray(n))if(typeof n[0]=="string")e||(e=[]),e.push(n);else for(let s=0;s<n.length;s++)r(n[s]);else for(let s in n)r(n[s])}return r(t),e}function nb(t,e,r,n){if(typeof e=="string")return{dom:t.createTextNode(e)};if(e.nodeType!=null)return{dom:e};if(e.dom&&e.dom.nodeType!=null)return e;let s=e[0],i;if(typeof s!="string")throw new RangeError("Invalid array passed to renderSpec");if(n&&(i=nye(n))&&i.indexOf(e)>-1)throw new RangeError("Using an array from an attribute object as a DOM spec. This may be an attempted cross site scripting attack.");let o=s.indexOf(" ");o>0&&(r=s.slice(0,o),s=s.slice(o+1));let l,c=r?t.createElementNS(r,s):t.createElement(s),d=e[1],h=1;if(d&&typeof d=="object"&&d.nodeType==null&&!Array.isArray(d)){h=2;for(let m in d)if(d[m]!=null){let g=m.indexOf(" ");g>0?c.setAttributeNS(m.slice(0,g),m.slice(g+1),d[m]):m=="style"&&c.style?c.style.cssText=d[m]:c.setAttribute(m,d[m])}}for(let m=h;m<e.length;m++){let g=e[m];if(g===0){if(m<e.length-1||m>h)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:y,contentDOM:w}=nb(t,g,r,n);if(c.appendChild(y),w){if(l)throw new RangeError("Multiple content holes");l=w}}}return{dom:c,contentDOM:l}}const $U=65535,FU=Math.pow(2,16);function sye(t,e){return t+e*FU}function oL(t){return t&$U}function iye(t){return(t-(t&$U))/FU}const HU=1,BU=2,ab=4,zU=8;class b_{constructor(e,r,n){this.pos=e,this.delInfo=r,this.recover=n}get deleted(){return(this.delInfo&zU)>0}get deletedBefore(){return(this.delInfo&(HU|ab))>0}get deletedAfter(){return(this.delInfo&(BU|ab))>0}get deletedAcross(){return(this.delInfo&ab)>0}}class Is{constructor(e,r=!1){if(this.ranges=e,this.inverted=r,!e.length&&Is.empty)return Is.empty}recover(e){let r=0,n=oL(e);if(!this.inverted)for(let s=0;s<n;s++)r+=this.ranges[s*3+2]-this.ranges[s*3+1];return this.ranges[n*3]+r+iye(e)}mapResult(e,r=1){return this._map(e,r,!1)}map(e,r=1){return this._map(e,r,!0)}_map(e,r,n){let s=0,i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?s:0);if(c>e)break;let d=this.ranges[l+i],h=this.ranges[l+o],m=c+d;if(e<=m){let g=d?e==c?-1:e==m?1:r:r,y=c+s+(g<0?0:h);if(n)return y;let w=e==(r<0?c:m)?null:sye(l/3,e-c),j=e==c?BU:e==m?HU:ab;return(r<0?e!=c:e!=m)&&(j|=zU),new b_(y,j,w)}s+=h-d}return n?e+s:new b_(e+s,0,null)}touches(e,r){let n=0,s=oL(r),i=this.inverted?2:1,o=this.inverted?1:2;for(let l=0;l<this.ranges.length;l+=3){let c=this.ranges[l]-(this.inverted?n:0);if(c>e)break;let d=this.ranges[l+i],h=c+d;if(e<=h&&l==s*3)return!0;n+=this.ranges[l+o]-d}return!1}forEach(e){let r=this.inverted?2:1,n=this.inverted?1:2;for(let s=0,i=0;s<this.ranges.length;s+=3){let o=this.ranges[s],l=o-(this.inverted?i:0),c=o+(this.inverted?0:i),d=this.ranges[s+r],h=this.ranges[s+n];e(l,l+d,c,c+h),i+=h-d}}invert(){return new Is(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Is.empty:new Is(e<0?[0,-e,0]:[0,0,e])}}Is.empty=new Is([]);class a0{constructor(e,r,n=0,s=e?e.length:0){this.mirror=r,this.from=n,this.to=s,this._maps=e||[],this.ownData=!(e||r)}get maps(){return this._maps}slice(e=0,r=this.maps.length){return new a0(this._maps,this.mirror,e,r)}appendMap(e,r){this.ownData||(this._maps=this._maps.slice(),this.mirror=this.mirror&&this.mirror.slice(),this.ownData=!0),this.to=this._maps.push(e),r!=null&&this.setMirror(this._maps.length-1,r)}appendMapping(e){for(let r=0,n=this._maps.length;r<e._maps.length;r++){let s=e.getMirror(r);this.appendMap(e._maps[r],s!=null&&s<r?n+s:void 0)}}getMirror(e){if(this.mirror){for(let r=0;r<this.mirror.length;r++)if(this.mirror[r]==e)return this.mirror[r+(r%2?-1:1)]}}setMirror(e,r){this.mirror||(this.mirror=[]),this.mirror.push(e,r)}appendMappingInverted(e){for(let r=e.maps.length-1,n=this._maps.length+e._maps.length;r>=0;r--){let s=e.getMirror(r);this.appendMap(e._maps[r].invert(),s!=null&&s>r?n-s-1:void 0)}}invert(){let e=new a0;return e.appendMappingInverted(this),e}map(e,r=1){if(this.mirror)return this._map(e,r,!0);for(let n=this.from;n<this.to;n++)e=this._maps[n].map(e,r);return e}mapResult(e,r=1){return this._map(e,r,!1)}_map(e,r,n){let s=0;for(let i=this.from;i<this.to;i++){let o=this._maps[i],l=o.mapResult(e,r);if(l.recover!=null){let c=this.getMirror(i);if(c!=null&&c>i&&c<this.to){i=c,e=this._maps[c].recover(l.recover);continue}}s|=l.delInfo,e=l.pos}return n?e:new b_(e,s,null)}}const WN=Object.create(null);let Wa=class{getMap(){return Is.empty}merge(e){return null}static fromJSON(e,r){if(!r||!r.stepType)throw new RangeError("Invalid input for Step.fromJSON");let n=WN[r.stepType];if(!n)throw new RangeError(`No step type ${r.stepType} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in WN)throw new RangeError("Duplicate use of step JSON ID "+e);return WN[e]=r,r.prototype.jsonID=e,r}};class Qn{constructor(e,r){this.doc=e,this.failed=r}static ok(e){return new Qn(e,null)}static fail(e){return new Qn(null,e)}static fromReplace(e,r,n,s){try{return Qn.ok(e.replace(r,n,s))}catch(i){if(i instanceof Bb)return Qn.fail(i.message);throw i}}}function kO(t,e,r){let n=[];for(let s=0;s<t.childCount;s++){let i=t.child(s);i.content.size&&(i=i.copy(kO(i.content,e,i))),i.isInline&&(i=e(i,r,s)),n.push(i)}return lt.fromArray(n)}class bc extends Wa{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=e.resolve(this.from),s=n.node(n.sharedDepth(this.to)),i=new Mt(kO(r.content,(o,l)=>!o.isAtom||!l.type.allowsMarkType(this.mark.type)?o:o.mark(this.mark.addToSet(o.marks)),s),r.openStart,r.openEnd);return Qn.fromReplace(e,this.from,this.to,i)}invert(){return new $i(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new bc(r.pos,n.pos,this.mark)}merge(e){return e instanceof bc&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new bc(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new bc(r.from,r.to,e.markFromJSON(r.mark))}}Wa.jsonID("addMark",bc);class $i extends Wa{constructor(e,r,n){super(),this.from=e,this.to=r,this.mark=n}apply(e){let r=e.slice(this.from,this.to),n=new Mt(kO(r.content,s=>s.mark(this.mark.removeFromSet(s.marks)),e),r.openStart,r.openEnd);return Qn.fromReplace(e,this.from,this.to,n)}invert(){return new bc(this.from,this.to,this.mark)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deleted&&n.deleted||r.pos>=n.pos?null:new $i(r.pos,n.pos,this.mark)}merge(e){return e instanceof $i&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new $i(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new $i(r.from,r.to,e.markFromJSON(r.mark))}}Wa.jsonID("removeMark",$i);class vc extends Wa{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.addToSet(r.marks));return Qn.fromReplace(e,this.pos,this.pos+1,new Mt(lt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);if(r){let n=this.mark.addToSet(r.marks);if(n.length==r.marks.length){for(let s=0;s<r.marks.length;s++)if(!r.marks[s].isInSet(n))return new vc(this.pos,r.marks[s]);return new vc(this.pos,this.mark)}}return new Zu(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new vc(r.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new vc(r.pos,e.markFromJSON(r.mark))}}Wa.jsonID("addNodeMark",vc);class Zu extends Wa{constructor(e,r){super(),this.pos=e,this.mark=r}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qn.fail("No node at mark step's position");let n=r.type.create(r.attrs,null,this.mark.removeFromSet(r.marks));return Qn.fromReplace(e,this.pos,this.pos+1,new Mt(lt.from(n),0,r.isLeaf?0:1))}invert(e){let r=e.nodeAt(this.pos);return!r||!this.mark.isInSet(r.marks)?this:new vc(this.pos,this.mark)}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Zu(r.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new Zu(r.pos,e.markFromJSON(r.mark))}}Wa.jsonID("removeNodeMark",Zu);class ma extends Wa{constructor(e,r,n,s=!1){super(),this.from=e,this.to=r,this.slice=n,this.structure=s}apply(e){return this.structure&&v_(e,this.from,this.to)?Qn.fail("Structure replace would overwrite content"):Qn.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Is([this.from,this.to-this.from,this.slice.size])}invert(e){return new ma(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1);return r.deletedAcross&&n.deletedAcross?null:new ma(r.pos,Math.max(r.pos,n.pos),this.slice,this.structure)}merge(e){if(!(e instanceof ma)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let r=this.slice.size+e.slice.size==0?Mt.empty:new Mt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new ma(this.from,this.to+(e.to-e.from),r,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let r=this.slice.size+e.slice.size==0?Mt.empty:new Mt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new ma(e.from,this.to,r,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new ma(r.from,r.to,Mt.fromJSON(e,r.slice),!!r.structure)}}Wa.jsonID("replace",ma);class ga extends Wa{constructor(e,r,n,s,i,o,l=!1){super(),this.from=e,this.to=r,this.gapFrom=n,this.gapTo=s,this.slice=i,this.insert=o,this.structure=l}apply(e){if(this.structure&&(v_(e,this.from,this.gapFrom)||v_(e,this.gapTo,this.to)))return Qn.fail("Structure gap-replace would overwrite content");let r=e.slice(this.gapFrom,this.gapTo);if(r.openStart||r.openEnd)return Qn.fail("Gap is not a flat range");let n=this.slice.insertAt(this.insert,r.content);return n?Qn.fromReplace(e,this.from,this.to,n):Qn.fail("Content does not fit in gap")}getMap(){return new Is([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let r=this.gapTo-this.gapFrom;return new ga(this.from,this.from+this.slice.size+r,this.from+this.insert,this.from+this.insert+r,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let r=e.mapResult(this.from,1),n=e.mapResult(this.to,-1),s=this.from==this.gapFrom?r.pos:e.map(this.gapFrom,-1),i=this.to==this.gapTo?n.pos:e.map(this.gapTo,1);return r.deletedAcross&&n.deletedAcross||s<r.pos||i>n.pos?null:new ga(r.pos,n.pos,s,i,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,r){if(typeof r.from!="number"||typeof r.to!="number"||typeof r.gapFrom!="number"||typeof r.gapTo!="number"||typeof r.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new ga(r.from,r.to,r.gapFrom,r.gapTo,Mt.fromJSON(e,r.slice),r.insert,!!r.structure)}}Wa.jsonID("replaceAround",ga);function v_(t,e,r){let n=t.resolve(e),s=r-e,i=n.depth;for(;s>0&&i>0&&n.indexAfter(i)==n.node(i).childCount;)i--,s--;if(s>0){let o=n.node(i).maybeChild(n.indexAfter(i));for(;s>0;){if(!o||o.isLeaf)return!0;o=o.firstChild,s--}}return!1}function oye(t,e,r,n){let s=[],i=[],o,l;t.doc.nodesBetween(e,r,(c,d,h)=>{if(!c.isInline)return;let m=c.marks;if(!n.isInSet(m)&&h.type.allowsMarkType(n.type)){let g=Math.max(d,e),y=Math.min(d+c.nodeSize,r),w=n.addToSet(m);for(let j=0;j<m.length;j++)m[j].isInSet(w)||(o&&o.to==g&&o.mark.eq(m[j])?o.to=y:s.push(o=new $i(g,y,m[j])));l&&l.to==g?l.to=y:i.push(l=new bc(g,y,n))}}),s.forEach(c=>t.step(c)),i.forEach(c=>t.step(c))}function lye(t,e,r,n){let s=[],i=0;t.doc.nodesBetween(e,r,(o,l)=>{if(!o.isInline)return;i++;let c=null;if(n instanceof Gw){let d=o.marks,h;for(;h=n.isInSet(d);)(c||(c=[])).push(h),d=h.removeFromSet(d)}else n?n.isInSet(o.marks)&&(c=[n]):c=o.marks;if(c&&c.length){let d=Math.min(l+o.nodeSize,r);for(let h=0;h<c.length;h++){let m=c[h],g;for(let y=0;y<s.length;y++){let w=s[y];w.step==i-1&&m.eq(s[y].style)&&(g=w)}g?(g.to=d,g.step=i):s.push({style:m,from:Math.max(l,e),to:d,step:i})}}}),s.forEach(o=>t.step(new $i(o.from,o.to,o.style)))}function CO(t,e,r,n=r.contentMatch,s=!0){let i=t.doc.nodeAt(e),o=[],l=e+1;for(let c=0;c<i.childCount;c++){let d=i.child(c),h=l+d.nodeSize,m=n.matchType(d.type);if(!m)o.push(new ma(l,h,Mt.empty));else{n=m;for(let g=0;g<d.marks.length;g++)r.allowsMarkType(d.marks[g].type)||t.step(new $i(l,h,d.marks[g]));if(s&&d.isText&&r.whitespace!="pre"){let g,y=/\r?\n|\r/g,w;for(;g=y.exec(d.text);)w||(w=new Mt(lt.from(r.schema.text(" ",r.allowedMarks(d.marks))),0,0)),o.push(new ma(l+g.index,l+g.index+g[0].length,w))}}l=h}if(!n.validEnd){let c=n.fillBefore(lt.empty,!0);t.replace(l,l,new Mt(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function cye(t,e,r){return(e==0||t.canReplace(e,t.childCount))&&(r==t.childCount||t.canReplace(0,r))}function Ih(t){let r=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let n=t.depth;;--n){let s=t.$from.node(n),i=t.$from.index(n),o=t.$to.indexAfter(n);if(n<t.depth&&s.canReplace(i,o,r))return n;if(n==0||s.type.spec.isolating||!cye(s,i,o))break}return null}function uye(t,e,r){let{$from:n,$to:s,depth:i}=e,o=n.before(i+1),l=s.after(i+1),c=o,d=l,h=lt.empty,m=0;for(let w=i,j=!1;w>r;w--)j||n.index(w)>0?(j=!0,h=lt.from(n.node(w).copy(h)),m++):c--;let g=lt.empty,y=0;for(let w=i,j=!1;w>r;w--)j||s.after(w+1)<s.end(w)?(j=!0,g=lt.from(s.node(w).copy(g)),y++):d++;t.step(new ga(c,d,o,l,new Mt(h.append(g),m,y),h.size-m,!0))}function TO(t,e,r=null,n=t){let s=dye(t,e),i=s&&fye(n,e);return i?s.map(lL).concat({type:e,attrs:r}).concat(i.map(lL)):null}function lL(t){return{type:t,attrs:null}}function dye(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.contentMatchAt(n).findWrapping(e);if(!i)return null;let o=i.length?i[0]:e;return r.canReplaceWith(n,s,o)?i:null}function fye(t,e){let{parent:r,startIndex:n,endIndex:s}=t,i=r.child(n),o=e.contentMatch.findWrapping(i.type);if(!o)return null;let c=(o.length?o[o.length-1]:e).contentMatch;for(let d=n;c&&d<s;d++)c=c.matchType(r.child(d).type);return!c||!c.validEnd?null:o}function hye(t,e,r){let n=lt.empty;for(let o=r.length-1;o>=0;o--){if(n.size){let l=r[o].type.contentMatch.matchFragment(n);if(!l||!l.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}n=lt.from(r[o].type.create(r[o].attrs,n))}let s=e.start,i=e.end;t.step(new ga(s,i,s,i,new Mt(n,0,0),r.length,!0))}function mye(t,e,r,n,s){if(!n.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let i=t.steps.length;t.doc.nodesBetween(e,r,(o,l)=>{let c=typeof s=="function"?s(o):s;if(o.isTextblock&&!o.hasMarkup(n,c)&&pye(t.doc,t.mapping.slice(i).map(l),n)){let d=null;if(n.schema.linebreakReplacement){let y=n.whitespace=="pre",w=!!n.contentMatch.matchType(n.schema.linebreakReplacement);y&&!w?d=!1:!y&&w&&(d=!0)}d===!1&&qU(t,o,l,i),CO(t,t.mapping.slice(i).map(l,1),n,void 0,d===null);let h=t.mapping.slice(i),m=h.map(l,1),g=h.map(l+o.nodeSize,1);return t.step(new ga(m,g,m+1,g-1,new Mt(lt.from(n.create(c,null,o.marks)),0,0),1,!0)),d===!0&&VU(t,o,l,i),!1}})}function VU(t,e,r,n){e.forEach((s,i)=>{if(s.isText){let o,l=/\r?\n|\r/g;for(;o=l.exec(s.text);){let c=t.mapping.slice(n).map(r+1+i+o.index);t.replaceWith(c,c+1,e.type.schema.linebreakReplacement.create())}}})}function qU(t,e,r,n){e.forEach((s,i)=>{if(s.type==s.type.schema.linebreakReplacement){let o=t.mapping.slice(n).map(r+1+i);t.replaceWith(o,o+1,e.type.schema.text(`
`))}})}function pye(t,e,r){let n=t.resolve(e),s=n.index();return n.parent.canReplaceWith(s,s+1,r)}function gye(t,e,r,n,s){let i=t.doc.nodeAt(e);if(!i)throw new RangeError("No node at given position");r||(r=i.type);let o=r.create(n,null,s||i.marks);if(i.isLeaf)return t.replaceWith(e,e+i.nodeSize,o);if(!r.validContent(i.content))throw new RangeError("Invalid content for node type "+r.name);t.step(new ga(e,e+i.nodeSize,e+1,e+i.nodeSize-1,new Mt(lt.from(o),0,0),1,!0))}function pl(t,e,r=1,n){let s=t.resolve(e),i=s.depth-r,o=n&&n[n.length-1]||s.parent;if(i<0||s.parent.type.spec.isolating||!s.parent.canReplace(s.index(),s.parent.childCount)||!o.type.validContent(s.parent.content.cutByIndex(s.index(),s.parent.childCount)))return!1;for(let d=s.depth-1,h=r-2;d>i;d--,h--){let m=s.node(d),g=s.index(d);if(m.type.spec.isolating)return!1;let y=m.content.cutByIndex(g,m.childCount),w=n&&n[h+1];w&&(y=y.replaceChild(0,w.type.create(w.attrs)));let j=n&&n[h]||m;if(!m.canReplace(g+1,m.childCount)||!j.type.validContent(y))return!1}let l=s.indexAfter(i),c=n&&n[0];return s.node(i).canReplaceWith(l,l,c?c.type:s.node(i+1).type)}function xye(t,e,r=1,n){let s=t.doc.resolve(e),i=lt.empty,o=lt.empty;for(let l=s.depth,c=s.depth-r,d=r-1;l>c;l--,d--){i=lt.from(s.node(l).copy(i));let h=n&&n[d];o=lt.from(h?h.type.create(h.attrs,o):s.node(l).copy(o))}t.step(new ma(e,e,new Mt(i.append(o),r,r),!0))}function Hc(t,e){let r=t.resolve(e),n=r.index();return WU(r.nodeBefore,r.nodeAfter)&&r.parent.canReplace(n,n+1)}function yye(t,e){e.content.size||t.type.compatibleContent(e.type);let r=t.contentMatchAt(t.childCount),{linebreakReplacement:n}=t.type.schema;for(let s=0;s<e.childCount;s++){let i=e.child(s),o=i.type==n?t.type.schema.nodes.text:i.type;if(r=r.matchType(o),!r||!t.type.allowsMarks(i.marks))return!1}return r.validEnd}function WU(t,e){return!!(t&&e&&!t.isLeaf&&yye(t,e))}function Yw(t,e,r=-1){let n=t.resolve(e);for(let s=n.depth;;s--){let i,o,l=n.index(s);if(s==n.depth?(i=n.nodeBefore,o=n.nodeAfter):r>0?(i=n.node(s+1),l++,o=n.node(s).maybeChild(l)):(i=n.node(s).maybeChild(l-1),o=n.node(s+1)),i&&!i.isTextblock&&WU(i,o)&&n.node(s).canReplace(l,l+1))return e;if(s==0)break;e=r<0?n.before(s):n.after(s)}}function bye(t,e,r){let n=null,{linebreakReplacement:s}=t.doc.type.schema,i=t.doc.resolve(e-r),o=i.node().type;if(s&&o.inlineContent){let h=o.whitespace=="pre",m=!!o.contentMatch.matchType(s);h&&!m?n=!1:!h&&m&&(n=!0)}let l=t.steps.length;if(n===!1){let h=t.doc.resolve(e+r);qU(t,h.node(),h.before(),l)}o.inlineContent&&CO(t,e+r-1,o,i.node().contentMatchAt(i.index()),n==null);let c=t.mapping.slice(l),d=c.map(e-r);if(t.step(new ma(d,c.map(e+r,-1),Mt.empty,!0)),n===!0){let h=t.doc.resolve(d);VU(t,h.node(),h.before(),t.steps.length)}return t}function vye(t,e,r){let n=t.resolve(e);if(n.parent.canReplaceWith(n.index(),n.index(),r))return e;if(n.parentOffset==0)for(let s=n.depth-1;s>=0;s--){let i=n.index(s);if(n.node(s).canReplaceWith(i,i,r))return n.before(s+1);if(i>0)return null}if(n.parentOffset==n.parent.content.size)for(let s=n.depth-1;s>=0;s--){let i=n.indexAfter(s);if(n.node(s).canReplaceWith(i,i,r))return n.after(s+1);if(i<n.node(s).childCount)return null}return null}function UU(t,e,r){let n=t.resolve(e);if(!r.content.size)return e;let s=r.content;for(let i=0;i<r.openStart;i++)s=s.firstChild.content;for(let i=1;i<=(r.openStart==0&&r.size?2:1);i++)for(let o=n.depth;o>=0;o--){let l=o==n.depth?0:n.pos<=(n.start(o+1)+n.end(o+1))/2?-1:1,c=n.index(o)+(l>0?1:0),d=n.node(o),h=!1;if(i==1)h=d.canReplace(c,c,s);else{let m=d.contentMatchAt(c).findWrapping(s.firstChild.type);h=m&&d.canReplaceWith(c,c,m[0])}if(h)return l==0?n.pos:l<0?n.before(o+1):n.after(o+1)}return null}function Kw(t,e,r=e,n=Mt.empty){if(e==r&&!n.size)return null;let s=t.resolve(e),i=t.resolve(r);return GU(s,i,n)?new ma(e,r,n):new wye(s,i,n).fit()}function GU(t,e,r){return!r.openStart&&!r.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),r.content)}class wye{constructor(e,r,n){this.$from=e,this.$to=r,this.unplaced=n,this.frontier=[],this.placed=lt.empty;for(let s=0;s<=e.depth;s++){let i=e.node(s);this.frontier.push({type:i.type,match:i.contentMatchAt(e.indexAfter(s))})}for(let s=e.depth;s>0;s--)this.placed=lt.from(e.node(s).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let d=this.findFittable();d?this.placeNodes(d):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),r=this.placed.size-this.depth-this.$from.depth,n=this.$from,s=this.close(e<0?this.$to:n.doc.resolve(e));if(!s)return null;let i=this.placed,o=n.depth,l=s.depth;for(;o&&l&&i.childCount==1;)i=i.firstChild.content,o--,l--;let c=new Mt(i,o,l);return e>-1?new ga(n.pos,e,this.$to.pos,this.$to.end(),c,r):c.size||n.pos!=this.$to.pos?new ma(n.pos,s.pos,c):null}findFittable(){let e=this.unplaced.openStart;for(let r=this.unplaced.content,n=0,s=this.unplaced.openEnd;n<e;n++){let i=r.firstChild;if(r.childCount>1&&(s=0),i.type.spec.isolating&&s<=n){e=n;break}r=i.content}for(let r=1;r<=2;r++)for(let n=r==1?e:this.unplaced.openStart;n>=0;n--){let s,i=null;n?(i=UN(this.unplaced.content,n-1).firstChild,s=i.content):s=this.unplaced.content;let o=s.firstChild;for(let l=this.depth;l>=0;l--){let{type:c,match:d}=this.frontier[l],h,m=null;if(r==1&&(o?d.matchType(o.type)||(m=d.fillBefore(lt.from(o),!1)):i&&c.compatibleContent(i.type)))return{sliceDepth:n,frontierDepth:l,parent:i,inject:m};if(r==2&&o&&(h=d.findWrapping(o.type)))return{sliceDepth:n,frontierDepth:l,parent:i,wrap:h};if(i&&d.matchType(i.type))break}}}openMore(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=UN(e,r);return!s.childCount||s.firstChild.isLeaf?!1:(this.unplaced=new Mt(e,r+1,Math.max(n,s.size+r>=e.size-n?r+1:0)),!0)}dropNode(){let{content:e,openStart:r,openEnd:n}=this.unplaced,s=UN(e,r);if(s.childCount<=1&&r>0){let i=e.size-r<=r+s.size;this.unplaced=new Mt(mp(e,r-1,1),r-1,i?r-1:n)}else this.unplaced=new Mt(mp(e,r,1),r,n)}placeNodes({sliceDepth:e,frontierDepth:r,parent:n,inject:s,wrap:i}){for(;this.depth>r;)this.closeFrontierNode();if(i)for(let j=0;j<i.length;j++)this.openFrontierNode(i[j]);let o=this.unplaced,l=n?n.content:o.content,c=o.openStart-e,d=0,h=[],{match:m,type:g}=this.frontier[r];if(s){for(let j=0;j<s.childCount;j++)h.push(s.child(j));m=m.matchFragment(s)}let y=l.size+e-(o.content.size-o.openEnd);for(;d<l.childCount;){let j=l.child(d),v=m.matchType(j.type);if(!v)break;d++,(d>1||c==0||j.content.size)&&(m=v,h.push(YU(j.mark(g.allowedMarks(j.marks)),d==1?c:0,d==l.childCount?y:-1)))}let w=d==l.childCount;w||(y=-1),this.placed=pp(this.placed,r,lt.from(h)),this.frontier[r].match=m,w&&y<0&&n&&n.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let j=0,v=l;j<y;j++){let N=v.lastChild;this.frontier.push({type:N.type,match:N.contentMatchAt(N.childCount)}),v=N.content}this.unplaced=w?e==0?Mt.empty:new Mt(mp(o.content,e-1,1),e-1,y<0?o.openEnd:e-1):new Mt(mp(o.content,e,d),o.openStart,o.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],r;if(!e.type.isTextblock||!GN(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(r=this.findCloseLevel(this.$to))&&r.depth==this.depth)return-1;let{depth:n}=this.$to,s=this.$to.after(n);for(;n>1&&s==this.$to.end(--n);)++s;return s}findCloseLevel(e){e:for(let r=Math.min(this.depth,e.depth);r>=0;r--){let{match:n,type:s}=this.frontier[r],i=r<e.depth&&e.end(r+1)==e.pos+(e.depth-(r+1)),o=GN(e,r,s,n,i);if(o){for(let l=r-1;l>=0;l--){let{match:c,type:d}=this.frontier[l],h=GN(e,l,d,c,!0);if(!h||h.childCount)continue e}return{depth:r,fit:o,move:i?e.doc.resolve(e.after(r+1)):e}}}}close(e){let r=this.findCloseLevel(e);if(!r)return null;for(;this.depth>r.depth;)this.closeFrontierNode();r.fit.childCount&&(this.placed=pp(this.placed,r.depth,r.fit)),e=r.move;for(let n=r.depth+1;n<=e.depth;n++){let s=e.node(n),i=s.type.contentMatch.fillBefore(s.content,!0,e.index(n));this.openFrontierNode(s.type,s.attrs,i)}return e}openFrontierNode(e,r=null,n){let s=this.frontier[this.depth];s.match=s.match.matchType(e),this.placed=pp(this.placed,this.depth,lt.from(e.create(r,n))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let r=this.frontier.pop().match.fillBefore(lt.empty,!0);r.childCount&&(this.placed=pp(this.placed,this.frontier.length,r))}}function mp(t,e,r){return e==0?t.cutByIndex(r,t.childCount):t.replaceChild(0,t.firstChild.copy(mp(t.firstChild.content,e-1,r)))}function pp(t,e,r){return e==0?t.append(r):t.replaceChild(t.childCount-1,t.lastChild.copy(pp(t.lastChild.content,e-1,r)))}function UN(t,e){for(let r=0;r<e;r++)t=t.firstChild.content;return t}function YU(t,e,r){if(e<=0)return t;let n=t.content;return e>1&&(n=n.replaceChild(0,YU(n.firstChild,e-1,n.childCount==1?r-1:0))),e>0&&(n=t.type.contentMatch.fillBefore(n).append(n),r<=0&&(n=n.append(t.type.contentMatch.matchFragment(n).fillBefore(lt.empty,!0)))),t.copy(n)}function GN(t,e,r,n,s){let i=t.node(e),o=s?t.indexAfter(e):t.index(e);if(o==i.childCount&&!r.compatibleContent(i.type))return null;let l=n.fillBefore(i.content,!0,o);return l&&!jye(r,i.content,o)?l:null}function jye(t,e,r){for(let n=r;n<e.childCount;n++)if(!t.allowsMarks(e.child(n).marks))return!0;return!1}function Sye(t){return t.spec.defining||t.spec.definingForContent}function Nye(t,e,r,n){if(!n.size)return t.deleteRange(e,r);let s=t.doc.resolve(e),i=t.doc.resolve(r);if(GU(s,i,n))return t.step(new ma(e,r,n));let o=XU(s,t.doc.resolve(r));o[o.length-1]==0&&o.pop();let l=-(s.depth+1);o.unshift(l);for(let g=s.depth,y=s.pos-1;g>0;g--,y--){let w=s.node(g).type.spec;if(w.defining||w.definingAsContext||w.isolating)break;o.indexOf(g)>-1?l=g:s.before(g)==y&&o.splice(1,0,-g)}let c=o.indexOf(l),d=[],h=n.openStart;for(let g=n.content,y=0;;y++){let w=g.firstChild;if(d.push(w),y==n.openStart)break;g=w.content}for(let g=h-1;g>=0;g--){let y=d[g],w=Sye(y.type);if(w&&!y.sameMarkup(s.node(Math.abs(l)-1)))h=g;else if(w||!y.type.isTextblock)break}for(let g=n.openStart;g>=0;g--){let y=(g+h+1)%(n.openStart+1),w=d[y];if(w)for(let j=0;j<o.length;j++){let v=o[(j+c)%o.length],N=!0;v<0&&(N=!1,v=-v);let T=s.node(v-1),S=s.index(v-1);if(T.canReplaceWith(S,S,w.type,w.marks))return t.replace(s.before(v),N?i.after(v):r,new Mt(KU(n.content,0,n.openStart,y),y,n.openEnd))}}let m=t.steps.length;for(let g=o.length-1;g>=0&&(t.replace(e,r,n),!(t.steps.length>m));g--){let y=o[g];y<0||(e=s.before(y),r=i.after(y))}}function KU(t,e,r,n,s){if(e<r){let i=t.firstChild;t=t.replaceChild(0,i.copy(KU(i.content,e+1,r,n,i)))}if(e>n){let i=s.contentMatchAt(0),o=i.fillBefore(t).append(t);t=o.append(i.matchFragment(o).fillBefore(lt.empty,!0))}return t}function kye(t,e,r,n){if(!n.isInline&&e==r&&t.doc.resolve(e).parent.content.size){let s=vye(t.doc,e,n.type);s!=null&&(e=r=s)}t.replaceRange(e,r,new Mt(lt.from(n),0,0))}function Cye(t,e,r){let n=t.doc.resolve(e),s=t.doc.resolve(r),i=XU(n,s);for(let o=0;o<i.length;o++){let l=i[o],c=o==i.length-1;if(c&&l==0||n.node(l).type.contentMatch.validEnd)return t.delete(n.start(l),s.end(l));if(l>0&&(c||n.node(l-1).canReplace(n.index(l-1),s.indexAfter(l-1))))return t.delete(n.before(l),s.after(l))}for(let o=1;o<=n.depth&&o<=s.depth;o++)if(e-n.start(o)==n.depth-o&&r>n.end(o)&&s.end(o)-r!=s.depth-o&&n.start(o-1)==s.start(o-1)&&n.node(o-1).canReplace(n.index(o-1),s.index(o-1)))return t.delete(n.before(o),r);t.delete(e,r)}function XU(t,e){let r=[],n=Math.min(t.depth,e.depth);for(let s=n;s>=0;s--){let i=t.start(s);if(i<t.pos-(t.depth-s)||e.end(s)>e.pos+(e.depth-s)||t.node(s).type.spec.isolating||e.node(s).type.spec.isolating)break;(i==e.start(s)||s==t.depth&&s==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&s&&e.start(s-1)==i-1)&&r.push(s)}return r}class Of extends Wa{constructor(e,r,n){super(),this.pos=e,this.attr=r,this.value=n}apply(e){let r=e.nodeAt(this.pos);if(!r)return Qn.fail("No node at attribute step's position");let n=Object.create(null);for(let i in r.attrs)n[i]=r.attrs[i];n[this.attr]=this.value;let s=r.type.create(n,null,r.marks);return Qn.fromReplace(e,this.pos,this.pos+1,new Mt(lt.from(s),0,r.isLeaf?0:1))}getMap(){return Is.empty}invert(e){return new Of(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let r=e.mapResult(this.pos,1);return r.deletedAfter?null:new Of(r.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.pos!="number"||typeof r.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new Of(r.pos,r.attr,r.value)}}Wa.jsonID("attr",Of);class s0 extends Wa{constructor(e,r){super(),this.attr=e,this.value=r}apply(e){let r=Object.create(null);for(let s in e.attrs)r[s]=e.attrs[s];r[this.attr]=this.value;let n=e.type.create(r,e.content,e.marks);return Qn.ok(n)}getMap(){return Is.empty}invert(e){return new s0(this.attr,e.attrs[this.attr])}map(e){return this}toJSON(){return{stepType:"docAttr",attr:this.attr,value:this.value}}static fromJSON(e,r){if(typeof r.attr!="string")throw new RangeError("Invalid input for DocAttrStep.fromJSON");return new s0(r.attr,r.value)}}Wa.jsonID("docAttr",s0);let Jf=class extends Error{};Jf=function t(e){let r=Error.call(this,e);return r.__proto__=t.prototype,r};Jf.prototype=Object.create(Error.prototype);Jf.prototype.constructor=Jf;Jf.prototype.name="TransformError";class JU{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new a0}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let r=this.maybeStep(e);if(r.failed)throw new Jf(r.failed);return this}maybeStep(e){let r=e.apply(this.doc);return r.failed||this.addStep(e,r.doc),r}get docChanged(){return this.steps.length>0}addStep(e,r){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=r}replace(e,r=e,n=Mt.empty){let s=Kw(this.doc,e,r,n);return s&&this.step(s),this}replaceWith(e,r,n){return this.replace(e,r,new Mt(lt.from(n),0,0))}delete(e,r){return this.replace(e,r,Mt.empty)}insert(e,r){return this.replaceWith(e,e,r)}replaceRange(e,r,n){return Nye(this,e,r,n),this}replaceRangeWith(e,r,n){return kye(this,e,r,n),this}deleteRange(e,r){return Cye(this,e,r),this}lift(e,r){return uye(this,e,r),this}join(e,r=1){return bye(this,e,r),this}wrap(e,r){return hye(this,e,r),this}setBlockType(e,r=e,n,s=null){return mye(this,e,r,n,s),this}setNodeMarkup(e,r,n=null,s){return gye(this,e,r,n,s),this}setNodeAttribute(e,r,n){return this.step(new Of(e,r,n)),this}setDocAttribute(e,r){return this.step(new s0(e,r)),this}addNodeMark(e,r){return this.step(new vc(e,r)),this}removeNodeMark(e,r){let n=this.doc.nodeAt(e);if(!n)throw new RangeError("No node at position "+e);if(r instanceof rn)r.isInSet(n.marks)&&this.step(new Zu(e,r));else{let s=n.marks,i,o=[];for(;i=r.isInSet(s);)o.push(new Zu(e,i)),s=i.removeFromSet(s);for(let l=o.length-1;l>=0;l--)this.step(o[l])}return this}split(e,r=1,n){return xye(this,e,r,n),this}addMark(e,r,n){return oye(this,e,r,n),this}removeMark(e,r,n){return lye(this,e,r,n),this}clearIncompatible(e,r,n){return CO(this,e,r,n),this}}const YN=Object.create(null);class ir{constructor(e,r,n){this.$anchor=e,this.$head=r,this.ranges=n||[new Tye(e.min(r),e.max(r))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let r=0;r<e.length;r++)if(e[r].$from.pos!=e[r].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,r=Mt.empty){let n=r.content.lastChild,s=null;for(let l=0;l<r.openEnd;l++)s=n,n=n.lastChild;let i=e.steps.length,o=this.ranges;for(let l=0;l<o.length;l++){let{$from:c,$to:d}=o[l],h=e.mapping.slice(i);e.replaceRange(h.map(c.pos),h.map(d.pos),l?Mt.empty:r),l==0&&dL(e,i,(n?n.isInline:s&&s.isTextblock)?-1:1)}}replaceWith(e,r){let n=e.steps.length,s=this.ranges;for(let i=0;i<s.length;i++){let{$from:o,$to:l}=s[i],c=e.mapping.slice(n),d=c.map(o.pos),h=c.map(l.pos);i?e.deleteRange(d,h):(e.replaceRangeWith(d,h,r),dL(e,n,r.isInline?-1:1))}}static findFrom(e,r,n=!1){let s=e.parent.inlineContent?new Zt(e):lf(e.node(0),e.parent,e.pos,e.index(),r,n);if(s)return s;for(let i=e.depth-1;i>=0;i--){let o=r<0?lf(e.node(0),e.node(i),e.before(i+1),e.index(i),r,n):lf(e.node(0),e.node(i),e.after(i+1),e.index(i)+1,r,n);if(o)return o}return null}static near(e,r=1){return this.findFrom(e,r)||this.findFrom(e,-r)||new Hs(e.node(0))}static atStart(e){return lf(e,e,0,0,1)||new Hs(e)}static atEnd(e){return lf(e,e,e.content.size,e.childCount,-1)||new Hs(e)}static fromJSON(e,r){if(!r||!r.type)throw new RangeError("Invalid input for Selection.fromJSON");let n=YN[r.type];if(!n)throw new RangeError(`No selection type ${r.type} defined`);return n.fromJSON(e,r)}static jsonID(e,r){if(e in YN)throw new RangeError("Duplicate use of selection JSON ID "+e);return YN[e]=r,r.prototype.jsonID=e,r}getBookmark(){return Zt.between(this.$anchor,this.$head).getBookmark()}}ir.prototype.visible=!0;class Tye{constructor(e,r){this.$from=e,this.$to=r}}let cL=!1;function uL(t){!cL&&!t.parent.inlineContent&&(cL=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class Zt extends ir{constructor(e,r=e){uL(e),uL(r),super(e,r)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,r){let n=e.resolve(r.map(this.head));if(!n.parent.inlineContent)return ir.near(n);let s=e.resolve(r.map(this.anchor));return new Zt(s.parent.inlineContent?s:n,n)}replace(e,r=Mt.empty){if(super.replace(e,r),r==Mt.empty){let n=this.$from.marksAcross(this.$to);n&&e.ensureMarks(n)}}eq(e){return e instanceof Zt&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Xw(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,r){if(typeof r.anchor!="number"||typeof r.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new Zt(e.resolve(r.anchor),e.resolve(r.head))}static create(e,r,n=r){let s=e.resolve(r);return new this(s,n==r?s:e.resolve(n))}static between(e,r,n){let s=e.pos-r.pos;if((!n||s)&&(n=s>=0?1:-1),!r.parent.inlineContent){let i=ir.findFrom(r,n,!0)||ir.findFrom(r,-n,!0);if(i)r=i.$head;else return ir.near(r,n)}return e.parent.inlineContent||(s==0?e=r:(e=(ir.findFrom(e,-n,!0)||ir.findFrom(e,n,!0)).$anchor,e.pos<r.pos!=s<0&&(e=r))),new Zt(e,r)}}ir.jsonID("text",Zt);class Xw{constructor(e,r){this.anchor=e,this.head=r}map(e){return new Xw(e.map(this.anchor),e.map(this.head))}resolve(e){return Zt.between(e.resolve(this.anchor),e.resolve(this.head))}}class qt extends ir{constructor(e){let r=e.nodeAfter,n=e.node(0).resolve(e.pos+r.nodeSize);super(e,n),this.node=r}map(e,r){let{deleted:n,pos:s}=r.mapResult(this.anchor),i=e.resolve(s);return n?ir.near(i):new qt(i)}content(){return new Mt(lt.from(this.node),0,0)}eq(e){return e instanceof qt&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new _O(this.anchor)}static fromJSON(e,r){if(typeof r.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new qt(e.resolve(r.anchor))}static create(e,r){return new qt(e.resolve(r))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}qt.prototype.visible=!1;ir.jsonID("node",qt);class _O{constructor(e){this.anchor=e}map(e){let{deleted:r,pos:n}=e.mapResult(this.anchor);return r?new Xw(n,n):new _O(n)}resolve(e){let r=e.resolve(this.anchor),n=r.nodeAfter;return n&&qt.isSelectable(n)?new qt(r):ir.near(r)}}class Hs extends ir{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,r=Mt.empty){if(r==Mt.empty){e.delete(0,e.doc.content.size);let n=ir.atStart(e.doc);n.eq(e.selection)||e.setSelection(n)}else super.replace(e,r)}toJSON(){return{type:"all"}}static fromJSON(e){return new Hs(e)}map(e){return new Hs(e)}eq(e){return e instanceof Hs}getBookmark(){return _ye}}ir.jsonID("all",Hs);const _ye={map(){return this},resolve(t){return new Hs(t)}};function lf(t,e,r,n,s,i=!1){if(e.inlineContent)return Zt.create(t,r);for(let o=n-(s>0?0:1);s>0?o<e.childCount:o>=0;o+=s){let l=e.child(o);if(l.isAtom){if(!i&&qt.isSelectable(l))return qt.create(t,r-(s<0?l.nodeSize:0))}else{let c=lf(t,l,r+s,s<0?l.childCount:0,s,i);if(c)return c}r+=l.nodeSize*s}return null}function dL(t,e,r){let n=t.steps.length-1;if(n<e)return;let s=t.steps[n];if(!(s instanceof ma||s instanceof ga))return;let i=t.mapping.maps[n],o;i.forEach((l,c,d,h)=>{o==null&&(o=h)}),t.setSelection(ir.near(t.doc.resolve(o),r))}const fL=1,ly=2,hL=4;class Mye extends JU{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|fL)&~ly,this.storedMarks=null,this}get selectionSet(){return(this.updated&fL)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=ly,this}ensureMarks(e){return rn.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&ly)>0}addStep(e,r){super.addStep(e,r),this.updated=this.updated&~ly,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,r=!0){let n=this.selection;return r&&(e=e.mark(this.storedMarks||(n.empty?n.$from.marks():n.$from.marksAcross(n.$to)||rn.none))),n.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,r,n){let s=this.doc.type.schema;if(r==null)return e?this.replaceSelectionWith(s.text(e),!0):this.deleteSelection();{if(n==null&&(n=r),n=n??r,!e)return this.deleteRange(r,n);let i=this.storedMarks;if(!i){let o=this.doc.resolve(r);i=n==r?o.marks():o.marksAcross(this.doc.resolve(n))}return this.replaceRangeWith(r,n,s.text(e,i)),this.selection.empty||this.setSelection(ir.near(this.selection.$to)),this}}setMeta(e,r){return this.meta[typeof e=="string"?e:e.key]=r,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=hL,this}get scrolledIntoView(){return(this.updated&hL)>0}}function mL(t,e){return!e||!t?t:t.bind(e)}class gp{constructor(e,r,n){this.name=e,this.init=mL(r.init,n),this.apply=mL(r.apply,n)}}const Aye=[new gp("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new gp("selection",{init(t,e){return t.selection||ir.atStart(e.doc)},apply(t){return t.selection}}),new gp("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,r,n){return n.selection.$cursor?t.storedMarks:null}}),new gp("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class KN{constructor(e,r){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=Aye.slice(),r&&r.forEach(n=>{if(this.pluginsByKey[n.key])throw new RangeError("Adding different instances of a keyed plugin ("+n.key+")");this.plugins.push(n),this.pluginsByKey[n.key]=n,n.spec.state&&this.fields.push(new gp(n.key,n.spec.state,n))})}}class xf{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,r=-1){for(let n=0;n<this.config.plugins.length;n++)if(n!=r){let s=this.config.plugins[n];if(s.spec.filterTransaction&&!s.spec.filterTransaction.call(s,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let r=[e],n=this.applyInner(e),s=null;for(;;){let i=!1;for(let o=0;o<this.config.plugins.length;o++){let l=this.config.plugins[o];if(l.spec.appendTransaction){let c=s?s[o].n:0,d=s?s[o].state:this,h=c<r.length&&l.spec.appendTransaction.call(l,c?r.slice(c):r,d,n);if(h&&n.filterTransaction(h,o)){if(h.setMeta("appendedTransaction",e),!s){s=[];for(let m=0;m<this.config.plugins.length;m++)s.push(m<o?{state:n,n:r.length}:{state:this,n:0})}r.push(h),n=n.applyInner(h),i=!0}s&&(s[o]={state:n,n:r.length})}}if(!i)return{state:n,transactions:r}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let r=new xf(this.config),n=this.config.fields;for(let s=0;s<n.length;s++){let i=n[s];r[i.name]=i.apply(e,this[i.name],this,r)}return r}get tr(){return new Mye(this)}static create(e){let r=new KN(e.doc?e.doc.type.schema:e.schema,e.plugins),n=new xf(r);for(let s=0;s<r.fields.length;s++)n[r.fields[s].name]=r.fields[s].init(e,n);return n}reconfigure(e){let r=new KN(this.schema,e.plugins),n=r.fields,s=new xf(r);for(let i=0;i<n.length;i++){let o=n[i].name;s[o]=this.hasOwnProperty(o)?this[o]:n[i].init(e,s)}return s}toJSON(e){let r={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(r.storedMarks=this.storedMarks.map(n=>n.toJSON())),e&&typeof e=="object")for(let n in e){if(n=="doc"||n=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let s=e[n],i=s.spec.state;i&&i.toJSON&&(r[n]=i.toJSON.call(s,this[s.key]))}return r}static fromJSON(e,r,n){if(!r)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let s=new KN(e.schema,e.plugins),i=new xf(s);return s.fields.forEach(o=>{if(o.name=="doc")i.doc=kc.fromJSON(e.schema,r.doc);else if(o.name=="selection")i.selection=ir.fromJSON(i.doc,r.selection);else if(o.name=="storedMarks")r.storedMarks&&(i.storedMarks=r.storedMarks.map(e.schema.markFromJSON));else{if(n)for(let l in n){let c=n[l],d=c.spec.state;if(c.key==o.name&&d&&d.fromJSON&&Object.prototype.hasOwnProperty.call(r,l)){i[o.name]=d.fromJSON.call(c,e,r[l],i);return}}i[o.name]=o.init(e,i)}}),i}}function QU(t,e,r){for(let n in t){let s=t[n];s instanceof Function?s=s.bind(e):n=="handleDOMEvents"&&(s=QU(s,e,{})),r[n]=s}return r}class Ln{constructor(e){this.spec=e,this.props={},e.props&&QU(e.props,this,this.props),this.key=e.key?e.key.key:ZU("plugin")}getState(e){return e[this.key]}}const XN=Object.create(null);function ZU(t){return t in XN?t+"$"+ ++XN[t]:(XN[t]=0,t+"$")}class ba{constructor(e="key"){this.key=ZU(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const Oa=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Qf=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let w_=null;const Zo=function(t,e,r){let n=w_||(w_=document.createRange());return n.setEnd(t,r??t.nodeValue.length),n.setStart(t,e||0),n},Oye=function(){w_=null},ed=function(t,e,r,n){return r&&(pL(t,e,r,n,-1)||pL(t,e,r,n,1))},Eye=/^(img|br|input|textarea|hr)$/i;function pL(t,e,r,n,s){for(var i;;){if(t==r&&e==n)return!0;if(e==(s<0?0:ui(t))){let o=t.parentNode;if(!o||o.nodeType!=1||ug(t)||Eye.test(t.nodeName)||t.contentEditable=="false")return!1;e=Oa(t)+(s<0?0:1),t=o}else if(t.nodeType==1){let o=t.childNodes[e+(s<0?-1:0)];if(o.nodeType==1&&o.contentEditable=="false")if(!((i=o.pmViewDesc)===null||i===void 0)&&i.ignoreForSelection)e+=s;else return!1;else t=o,e=s<0?ui(t):0}else return!1}}function ui(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Dye(t,e){for(;;){if(t.nodeType==3&&e)return t;if(t.nodeType==1&&e>0){if(t.contentEditable=="false")return null;t=t.childNodes[e-1],e=ui(t)}else if(t.parentNode&&!ug(t))e=Oa(t),t=t.parentNode;else return null}}function Pye(t,e){for(;;){if(t.nodeType==3&&e<t.nodeValue.length)return t;if(t.nodeType==1&&e<t.childNodes.length){if(t.contentEditable=="false")return null;t=t.childNodes[e],e=0}else if(t.parentNode&&!ug(t))e=Oa(t)+1,t=t.parentNode;else return null}}function Rye(t,e,r){for(let n=e==0,s=e==ui(t);n||s;){if(t==r)return!0;let i=Oa(t);if(t=t.parentNode,!t)return!1;n=n&&i==0,s=s&&i==ui(t)}}function ug(t){let e;for(let r=t;r&&!(e=r.pmViewDesc);r=r.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Jw=function(t){return t.focusNode&&ed(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function vu(t,e){let r=document.createEvent("Event");return r.initEvent("keydown",!0,!0),r.keyCode=t,r.key=r.code=e,r}function Iye(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}function Lye(t,e,r){if(t.caretPositionFromPoint)try{let n=t.caretPositionFromPoint(e,r);if(n)return{node:n.offsetNode,offset:Math.min(ui(n.offsetNode),n.offset)}}catch{}if(t.caretRangeFromPoint){let n=t.caretRangeFromPoint(e,r);if(n)return{node:n.startContainer,offset:Math.min(ui(n.startContainer),n.startOffset)}}}const jo=typeof navigator<"u"?navigator:null,gL=typeof document<"u"?document:null,Bc=jo&&jo.userAgent||"",j_=/Edge\/(\d+)/.exec(Bc),eG=/MSIE \d/.exec(Bc),S_=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Bc),ws=!!(eG||S_||j_),Tc=eG?document.documentMode:S_?+S_[1]:j_?+j_[1]:0,pi=!ws&&/gecko\/(\d+)/i.test(Bc);pi&&+(/Firefox\/(\d+)/.exec(Bc)||[0,0])[1];const N_=!ws&&/Chrome\/(\d+)/.exec(Bc),za=!!N_,tG=N_?+N_[1]:0,ss=!ws&&!!jo&&/Apple Computer/.test(jo.vendor),Zf=ss&&(/Mobile\/\w+/.test(Bc)||!!jo&&jo.maxTouchPoints>2),li=Zf||(jo?/Mac/.test(jo.platform):!1),$ye=jo?/Win/.test(jo.platform):!1,nl=/Android \d/.test(Bc),dg=!!gL&&"webkitFontSmoothing"in gL.documentElement.style,Fye=dg?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function Hye(t){let e=t.defaultView&&t.defaultView.visualViewport;return e?{left:0,right:e.width,top:0,bottom:e.height}:{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function Go(t,e){return typeof t=="number"?t:t[e]}function Bye(t){let e=t.getBoundingClientRect(),r=e.width/t.offsetWidth||1,n=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*r,top:e.top,bottom:e.top+t.clientHeight*n}}function xL(t,e,r){let n=t.someProp("scrollThreshold")||0,s=t.someProp("scrollMargin")||5,i=t.dom.ownerDocument;for(let o=r||t.dom;o;){if(o.nodeType!=1){o=Qf(o);continue}let l=o,c=l==i.body,d=c?Hye(i):Bye(l),h=0,m=0;if(e.top<d.top+Go(n,"top")?m=-(d.top-e.top+Go(s,"top")):e.bottom>d.bottom-Go(n,"bottom")&&(m=e.bottom-e.top>d.bottom-d.top?e.top+Go(s,"top")-d.top:e.bottom-d.bottom+Go(s,"bottom")),e.left<d.left+Go(n,"left")?h=-(d.left-e.left+Go(s,"left")):e.right>d.right-Go(n,"right")&&(h=e.right-d.right+Go(s,"right")),h||m)if(c)i.defaultView.scrollBy(h,m);else{let y=l.scrollLeft,w=l.scrollTop;m&&(l.scrollTop+=m),h&&(l.scrollLeft+=h);let j=l.scrollLeft-y,v=l.scrollTop-w;e={left:e.left-j,top:e.top-v,right:e.right-j,bottom:e.bottom-v}}let g=c?"fixed":getComputedStyle(o).position;if(/^(fixed|sticky)$/.test(g))break;o=g=="absolute"?o.offsetParent:Qf(o)}}function zye(t){let e=t.dom.getBoundingClientRect(),r=Math.max(0,e.top),n,s;for(let i=(e.left+e.right)/2,o=r+1;o<Math.min(innerHeight,e.bottom);o+=5){let l=t.root.elementFromPoint(i,o);if(!l||l==t.dom||!t.dom.contains(l))continue;let c=l.getBoundingClientRect();if(c.top>=r-20){n=l,s=c.top;break}}return{refDOM:n,refTop:s,stack:rG(t.dom)}}function rG(t){let e=[],r=t.ownerDocument;for(let n=t;n&&(e.push({dom:n,top:n.scrollTop,left:n.scrollLeft}),t!=r);n=Qf(n));return e}function Vye({refDOM:t,refTop:e,stack:r}){let n=t?t.getBoundingClientRect().top:0;nG(r,n==0?0:n-e)}function nG(t,e){for(let r=0;r<t.length;r++){let{dom:n,top:s,left:i}=t[r];n.scrollTop!=s+e&&(n.scrollTop=s+e),n.scrollLeft!=i&&(n.scrollLeft=i)}}let Zd=null;function qye(t){if(t.setActive)return t.setActive();if(Zd)return t.focus(Zd);let e=rG(t);t.focus(Zd==null?{get preventScroll(){return Zd={preventScroll:!0},!0}}:void 0),Zd||(Zd=!1,nG(e,0))}function aG(t,e){let r,n=2e8,s,i=0,o=e.top,l=e.top,c,d;for(let h=t.firstChild,m=0;h;h=h.nextSibling,m++){let g;if(h.nodeType==1)g=h.getClientRects();else if(h.nodeType==3)g=Zo(h).getClientRects();else continue;for(let y=0;y<g.length;y++){let w=g[y];if(w.top<=o&&w.bottom>=l){o=Math.max(w.bottom,o),l=Math.min(w.top,l);let j=w.left>e.left?w.left-e.left:w.right<e.left?e.left-w.right:0;if(j<n){r=h,n=j,s=j&&r.nodeType==3?{left:w.right<e.left?w.right:w.left,top:e.top}:e,h.nodeType==1&&j&&(i=m+(e.left>=(w.left+w.right)/2?1:0));continue}}else w.top>e.top&&!c&&w.left<=e.left&&w.right>=e.left&&(c=h,d={left:Math.max(w.left,Math.min(w.right,e.left)),top:w.top});!r&&(e.left>=w.right&&e.top>=w.top||e.left>=w.left&&e.top>=w.bottom)&&(i=m+1)}}return!r&&c&&(r=c,s=d,n=0),r&&r.nodeType==3?Wye(r,s):!r||n&&r.nodeType==1?{node:t,offset:i}:aG(r,s)}function Wye(t,e){let r=t.nodeValue.length,n=document.createRange();for(let s=0;s<r;s++){n.setEnd(t,s+1),n.setStart(t,s);let i=dc(n,1);if(i.top!=i.bottom&&MO(e,i))return{node:t,offset:s+(e.left>=(i.left+i.right)/2?1:0)}}return{node:t,offset:0}}function MO(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function Uye(t,e){let r=t.parentNode;return r&&/^li$/i.test(r.nodeName)&&e.left<t.getBoundingClientRect().left?r:t}function Gye(t,e,r){let{node:n,offset:s}=aG(e,r),i=-1;if(n.nodeType==1&&!n.firstChild){let o=n.getBoundingClientRect();i=o.left!=o.right&&r.left>(o.left+o.right)/2?1:-1}return t.docView.posFromDOM(n,s,i)}function Yye(t,e,r,n){let s=-1;for(let i=e,o=!1;i!=t.dom;){let l=t.docView.nearestDesc(i,!0),c;if(!l)return null;if(l.dom.nodeType==1&&(l.node.isBlock&&l.parent||!l.contentDOM)&&((c=l.dom.getBoundingClientRect()).width||c.height)&&(l.node.isBlock&&l.parent&&!/^T(R|BODY|HEAD|FOOT)$/.test(l.dom.nodeName)&&(!o&&c.left>n.left||c.top>n.top?s=l.posBefore:(!o&&c.right<n.left||c.bottom<n.top)&&(s=l.posAfter),o=!0),!l.contentDOM&&s<0&&!l.node.isText))return(l.node.isBlock?n.top<(c.top+c.bottom)/2:n.left<(c.left+c.right)/2)?l.posBefore:l.posAfter;i=l.dom.parentNode}return s>-1?s:t.docView.posFromDOM(e,r,-1)}function sG(t,e,r){let n=t.childNodes.length;if(n&&r.top<r.bottom)for(let s=Math.max(0,Math.min(n-1,Math.floor(n*(e.top-r.top)/(r.bottom-r.top))-2)),i=s;;){let o=t.childNodes[i];if(o.nodeType==1){let l=o.getClientRects();for(let c=0;c<l.length;c++){let d=l[c];if(MO(e,d))return sG(o,e,d)}}if((i=(i+1)%n)==s)break}return t}function Kye(t,e){let r=t.dom.ownerDocument,n,s=0,i=Lye(r,e.left,e.top);i&&({node:n,offset:s}=i);let o=(t.root.elementFromPoint?t.root:r).elementFromPoint(e.left,e.top),l;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let d=t.dom.getBoundingClientRect();if(!MO(e,d)||(o=sG(t.dom,e,d),!o))return null}if(ss)for(let d=o;n&&d;d=Qf(d))d.draggable&&(n=void 0);if(o=Uye(o,e),n){if(pi&&n.nodeType==1&&(s=Math.min(s,n.childNodes.length),s<n.childNodes.length)){let h=n.childNodes[s],m;h.nodeName=="IMG"&&(m=h.getBoundingClientRect()).right<=e.left&&m.bottom>e.top&&s++}let d;dg&&s&&n.nodeType==1&&(d=n.childNodes[s-1]).nodeType==1&&d.contentEditable=="false"&&d.getBoundingClientRect().top>=e.top&&s--,n==t.dom&&s==n.childNodes.length-1&&n.lastChild.nodeType==1&&e.top>n.lastChild.getBoundingClientRect().bottom?l=t.state.doc.content.size:(s==0||n.nodeType!=1||n.childNodes[s-1].nodeName!="BR")&&(l=Yye(t,n,s,e))}l==null&&(l=Gye(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:l,inside:c?c.posAtStart-c.border:-1}}function yL(t){return t.top<t.bottom||t.left<t.right}function dc(t,e){let r=t.getClientRects();if(r.length){let n=r[e<0?0:r.length-1];if(yL(n))return n}return Array.prototype.find.call(r,yL)||t.getBoundingClientRect()}const Xye=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function iG(t,e,r){let{node:n,offset:s,atom:i}=t.docView.domFromPos(e,r<0?-1:1),o=dg||pi;if(n.nodeType==3)if(o&&(Xye.test(n.nodeValue)||(r<0?!s:s==n.nodeValue.length))){let c=dc(Zo(n,s,s),r);if(pi&&s&&/\s/.test(n.nodeValue[s-1])&&s<n.nodeValue.length){let d=dc(Zo(n,s-1,s-1),-1);if(d.top==c.top){let h=dc(Zo(n,s,s+1),-1);if(h.top!=c.top)return Qm(h,h.left<d.left)}}return c}else{let c=s,d=s,h=r<0?1:-1;return r<0&&!s?(d++,h=-1):r>=0&&s==n.nodeValue.length?(c--,h=1):r<0?c--:d++,Qm(dc(Zo(n,c,d),h),h<0)}if(!t.state.doc.resolve(e-(i||0)).parent.inlineContent){if(i==null&&s&&(r<0||s==ui(n))){let c=n.childNodes[s-1];if(c.nodeType==1)return JN(c.getBoundingClientRect(),!1)}if(i==null&&s<ui(n)){let c=n.childNodes[s];if(c.nodeType==1)return JN(c.getBoundingClientRect(),!0)}return JN(n.getBoundingClientRect(),r>=0)}if(i==null&&s&&(r<0||s==ui(n))){let c=n.childNodes[s-1],d=c.nodeType==3?Zo(c,ui(c)-(o?0:1)):c.nodeType==1&&(c.nodeName!="BR"||!c.nextSibling)?c:null;if(d)return Qm(dc(d,1),!1)}if(i==null&&s<ui(n)){let c=n.childNodes[s];for(;c.pmViewDesc&&c.pmViewDesc.ignoreForCoords;)c=c.nextSibling;let d=c?c.nodeType==3?Zo(c,0,o?0:1):c.nodeType==1?c:null:null;if(d)return Qm(dc(d,-1),!0)}return Qm(dc(n.nodeType==3?Zo(n):n,-r),r>=0)}function Qm(t,e){if(t.width==0)return t;let r=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:r,right:r}}function JN(t,e){if(t.height==0)return t;let r=e?t.top:t.bottom;return{top:r,bottom:r,left:t.left,right:t.right}}function oG(t,e,r){let n=t.state,s=t.root.activeElement;n!=e&&t.updateState(e),s!=t.dom&&t.focus();try{return r()}finally{n!=e&&t.updateState(n),s!=t.dom&&s&&s.focus()}}function Jye(t,e,r){let n=e.selection,s=r=="up"?n.$from:n.$to;return oG(t,e,()=>{let{node:i}=t.docView.domFromPos(s.pos,r=="up"?-1:1);for(;;){let l=t.docView.nearestDesc(i,!0);if(!l)break;if(l.node.isBlock){i=l.contentDOM||l.dom;break}i=l.dom.parentNode}let o=iG(t,s.pos,1);for(let l=i.firstChild;l;l=l.nextSibling){let c;if(l.nodeType==1)c=l.getClientRects();else if(l.nodeType==3)c=Zo(l,0,l.nodeValue.length).getClientRects();else continue;for(let d=0;d<c.length;d++){let h=c[d];if(h.bottom>h.top+1&&(r=="up"?o.top-h.top>(h.bottom-o.top)*2:h.bottom-o.bottom>(o.bottom-h.top)*2))return!1}}return!0})}const Qye=/[\u0590-\u08ac]/;function Zye(t,e,r){let{$head:n}=e.selection;if(!n.parent.isTextblock)return!1;let s=n.parentOffset,i=!s,o=s==n.parent.content.size,l=t.domSelection();return l?!Qye.test(n.parent.textContent)||!l.modify?r=="left"||r=="backward"?i:o:oG(t,e,()=>{let{focusNode:c,focusOffset:d,anchorNode:h,anchorOffset:m}=t.domSelectionRange(),g=l.caretBidiLevel;l.modify("move",r,"character");let y=n.depth?t.docView.domAfterPos(n.before()):t.dom,{focusNode:w,focusOffset:j}=t.domSelectionRange(),v=w&&!y.contains(w.nodeType==1?w:w.parentNode)||c==w&&d==j;try{l.collapse(h,m),c&&(c!=h||d!=m)&&l.extend&&l.extend(c,d)}catch{}return g!=null&&(l.caretBidiLevel=g),v}):n.pos==n.start()||n.pos==n.end()}let bL=null,vL=null,wL=!1;function ebe(t,e,r){return bL==e&&vL==r?wL:(bL=e,vL=r,wL=r=="up"||r=="down"?Jye(t,e,r):Zye(t,e,r))}const gi=0,jL=1,Tu=2,So=3;class fg{constructor(e,r,n,s){this.parent=e,this.children=r,this.dom=n,this.contentDOM=s,this.dirty=gi,n.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,r,n){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let r=0;r<this.children.length;r++)e+=this.children[r].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let r=0,n=this.posAtStart;;r++){let s=this.children[r];if(s==e)return n;n+=s.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,r,n){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(n<0){let i,o;if(e==this.contentDOM)i=e.childNodes[r-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.previousSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.previousSibling;return i?this.posBeforeChild(o)+o.size:this.posAtStart}else{let i,o;if(e==this.contentDOM)i=e.childNodes[r];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;i=e.nextSibling}for(;i&&!((o=i.pmViewDesc)&&o.parent==this);)i=i.nextSibling;return i?this.posBeforeChild(o):this.posAtEnd}let s;if(e==this.dom&&this.contentDOM)s=r>Oa(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))s=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(r==0)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!1;break}if(i.previousSibling)break}if(s==null&&r==e.childNodes.length)for(let i=e;;i=i.parentNode){if(i==this.dom){s=!0;break}if(i.nextSibling)break}}return s??n>0?this.posAtEnd:this.posAtStart}nearestDesc(e,r=!1){for(let n=!0,s=e;s;s=s.parentNode){let i=this.getDesc(s),o;if(i&&(!r||i.node))if(n&&(o=i.nodeDOM)&&!(o.nodeType==1?o.contains(e.nodeType==1?e:e.parentNode):o==e))n=!1;else return i}}getDesc(e){let r=e.pmViewDesc;for(let n=r;n;n=n.parent)if(n==this)return r}posFromDOM(e,r,n){for(let s=e;s;s=s.parentNode){let i=this.getDesc(s);if(i)return i.localPosFromDOM(e,r,n)}return-1}descAt(e){for(let r=0,n=0;r<this.children.length;r++){let s=this.children[r],i=n+s.size;if(n==e&&i!=n){for(;!s.border&&s.children.length;)for(let o=0;o<s.children.length;o++){let l=s.children[o];if(l.size){s=l;break}}return s}if(e<i)return s.descAt(e-n-s.border);n=i}}domFromPos(e,r){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let n=0,s=0;for(let i=0;n<this.children.length;n++){let o=this.children[n],l=i+o.size;if(l>e||o instanceof cG){s=e-i;break}i=l}if(s)return this.children[n].domFromPos(s-this.children[n].border,r);for(let i;n&&!(i=this.children[n-1]).size&&i instanceof lG&&i.side>=0;n--);if(r<=0){let i,o=!0;for(;i=n?this.children[n-1]:null,!(!i||i.dom.parentNode==this.contentDOM);n--,o=!1);return i&&r&&o&&!i.border&&!i.domAtom?i.domFromPos(i.size,r):{node:this.contentDOM,offset:i?Oa(i.dom)+1:0}}else{let i,o=!0;for(;i=n<this.children.length?this.children[n]:null,!(!i||i.dom.parentNode==this.contentDOM);n++,o=!1);return i&&o&&!i.border&&!i.domAtom?i.domFromPos(0,r):{node:this.contentDOM,offset:i?Oa(i.dom):this.contentDOM.childNodes.length}}}parseRange(e,r,n=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:r,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let s=-1,i=-1;for(let o=n,l=0;;l++){let c=this.children[l],d=o+c.size;if(s==-1&&e<=d){let h=o+c.border;if(e>=h&&r<=d-c.border&&c.node&&c.contentDOM&&this.contentDOM.contains(c.contentDOM))return c.parseRange(e,r,h);e=o;for(let m=l;m>0;m--){let g=this.children[m-1];if(g.size&&g.dom.parentNode==this.contentDOM&&!g.emptyChildAt(1)){s=Oa(g.dom)+1;break}e-=g.size}s==-1&&(s=0)}if(s>-1&&(d>r||l==this.children.length-1)){r=d;for(let h=l+1;h<this.children.length;h++){let m=this.children[h];if(m.size&&m.dom.parentNode==this.contentDOM&&!m.emptyChildAt(-1)){i=Oa(m.dom);break}r+=m.size}i==-1&&(i=this.contentDOM.childNodes.length);break}o=d}return{node:this.contentDOM,from:e,to:r,fromOffset:s,toOffset:i}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let r=this.children[e<0?0:this.children.length-1];return r.size==0||r.emptyChildAt(e)}domAfterPos(e){let{node:r,offset:n}=this.domFromPos(e,0);if(r.nodeType!=1||n==r.childNodes.length)throw new RangeError("No node after pos "+e);return r.childNodes[n]}setSelection(e,r,n,s=!1){let i=Math.min(e,r),o=Math.max(e,r);for(let y=0,w=0;y<this.children.length;y++){let j=this.children[y],v=w+j.size;if(i>w&&o<v)return j.setSelection(e-w-j.border,r-w-j.border,n,s);w=v}let l=this.domFromPos(e,e?-1:1),c=r==e?l:this.domFromPos(r,r?-1:1),d=n.root.getSelection(),h=n.domSelectionRange(),m=!1;if((pi||ss)&&e==r){let{node:y,offset:w}=l;if(y.nodeType==3){if(m=!!(w&&y.nodeValue[w-1]==`
`),m&&w==y.nodeValue.length)for(let j=y,v;j;j=j.parentNode){if(v=j.nextSibling){v.nodeName=="BR"&&(l=c={node:v.parentNode,offset:Oa(v)+1});break}let N=j.pmViewDesc;if(N&&N.node&&N.node.isBlock)break}}else{let j=y.childNodes[w-1];m=j&&(j.nodeName=="BR"||j.contentEditable=="false")}}if(pi&&h.focusNode&&h.focusNode!=c.node&&h.focusNode.nodeType==1){let y=h.focusNode.childNodes[h.focusOffset];y&&y.contentEditable=="false"&&(s=!0)}if(!(s||m&&ss)&&ed(l.node,l.offset,h.anchorNode,h.anchorOffset)&&ed(c.node,c.offset,h.focusNode,h.focusOffset))return;let g=!1;if((d.extend||e==r)&&!(m&&pi)){d.collapse(l.node,l.offset);try{e!=r&&d.extend(c.node,c.offset),g=!0}catch{}}if(!g){if(e>r){let w=l;l=c,c=w}let y=document.createRange();y.setEnd(c.node,c.offset),y.setStart(l.node,l.offset),d.removeAllRanges(),d.addRange(y)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,r){for(let n=0,s=0;s<this.children.length;s++){let i=this.children[s],o=n+i.size;if(n==o?e<=o&&r>=n:e<o&&r>n){let l=n+i.border,c=o-i.border;if(e>=l&&r<=c){this.dirty=e==n||r==o?Tu:jL,e==l&&r==c&&(i.contentLost||i.dom.parentNode!=this.contentDOM)?i.dirty=So:i.markDirty(e-l,r-l);return}else i.dirty=i.dom==i.contentDOM&&i.dom.parentNode==this.contentDOM&&!i.children.length?Tu:So}n=o}this.dirty=Tu}markParentsDirty(){let e=1;for(let r=this.parent;r;r=r.parent,e++){let n=e==1?Tu:jL;r.dirty<n&&(r.dirty=n)}}get domAtom(){return!1}get ignoreForCoords(){return!1}get ignoreForSelection(){return!1}isText(e){return!1}}class lG extends fg{constructor(e,r,n,s){let i,o=r.type.toDOM;if(typeof o=="function"&&(o=o(n,()=>{if(!i)return s;if(i.parent)return i.parent.posBeforeChild(i)})),!r.type.spec.raw){if(o.nodeType!=1){let l=document.createElement("span");l.appendChild(o),o=l}o.contentEditable="false",o.classList.add("ProseMirror-widget")}super(e,[],o,null),this.widget=r,this.widget=r,i=this}matchesWidget(e){return this.dirty==gi&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let r=this.widget.spec.stopEvent;return r?r(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get ignoreForSelection(){return!!this.widget.type.spec.relaxedSide}get side(){return this.widget.type.side}}class tbe extends fg{constructor(e,r,n,s){super(e,[],r,null),this.textDOM=n,this.text=s}get size(){return this.text.length}localPosFromDOM(e,r){return e!=this.textDOM?this.posAtStart+(r?this.size:0):this.posAtStart+r}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class td extends fg{constructor(e,r,n,s,i){super(e,[],n,s),this.mark=r,this.spec=i}static create(e,r,n,s){let i=s.nodeViews[r.type.name],o=i&&i(r,s,n);return(!o||!o.dom)&&(o=dd.renderSpec(document,r.type.spec.toDOM(r,n),null,r.attrs)),new td(e,r,o.dom,o.contentDOM||o.dom,o)}parseRule(){return this.dirty&So||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM}}matchesMark(e){return this.dirty!=So&&this.mark.eq(e)}markDirty(e,r){if(super.markDirty(e,r),this.dirty!=gi){let n=this.parent;for(;!n.node;)n=n.parent;n.dirty<this.dirty&&(n.dirty=this.dirty),this.dirty=gi}}slice(e,r,n){let s=td.create(this.parent,this.mark,!0,n),i=this.children,o=this.size;r<o&&(i=C_(i,r,o,n)),e>0&&(i=C_(i,0,e,n));for(let l=0;l<i.length;l++)i[l].parent=s;return s.children=i,s}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}}class _c extends fg{constructor(e,r,n,s,i,o,l,c,d){super(e,[],i,o),this.node=r,this.outerDeco=n,this.innerDeco=s,this.nodeDOM=l}static create(e,r,n,s,i,o){let l=i.nodeViews[r.type.name],c,d=l&&l(r,i,()=>{if(!c)return o;if(c.parent)return c.parent.posBeforeChild(c)},n,s),h=d&&d.dom,m=d&&d.contentDOM;if(r.isText){if(!h)h=document.createTextNode(r.text);else if(h.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else h||({dom:h,contentDOM:m}=dd.renderSpec(document,r.type.spec.toDOM(r),null,r.attrs));!m&&!r.isText&&h.nodeName!="BR"&&(h.hasAttribute("contenteditable")||(h.contentEditable="false"),r.type.spec.draggable&&(h.draggable=!0));let g=h;return h=fG(h,n,r),d?c=new rbe(e,r,n,s,h,m||null,g,d,i,o+1):r.isText?new Qw(e,r,n,s,h,g,i):new _c(e,r,n,s,h,m||null,g,i,o+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let r=this.children.length-1;r>=0;r--){let n=this.children[r];if(this.dom.contains(n.dom.parentNode)){e.contentElement=n.dom.parentNode;break}}e.contentElement||(e.getContent=()=>lt.empty)}return e}matchesNode(e,r,n){return this.dirty==gi&&e.eq(this.node)&&Wb(r,this.outerDeco)&&n.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,r){let n=this.node.inlineContent,s=r,i=e.composing?this.localCompositionInfo(e,r):null,o=i&&i.pos>-1?i:null,l=i&&i.pos<0,c=new abe(this,o&&o.node,e);obe(this.node,this.innerDeco,(d,h,m)=>{d.spec.marks?c.syncToMarks(d.spec.marks,n,e):d.type.side>=0&&!m&&c.syncToMarks(h==this.node.childCount?rn.none:this.node.child(h).marks,n,e),c.placeWidget(d,e,s)},(d,h,m,g)=>{c.syncToMarks(d.marks,n,e);let y;c.findNodeMatch(d,h,m,g)||l&&e.state.selection.from>s&&e.state.selection.to<s+d.nodeSize&&(y=c.findIndexWithChild(i.node))>-1&&c.updateNodeAt(d,h,m,y,e)||c.updateNextNode(d,h,m,e,g,s)||c.addNode(d,h,m,e,s),s+=d.nodeSize}),c.syncToMarks([],n,e),this.node.isTextblock&&c.addTextblockHacks(),c.destroyRest(),(c.changed||this.dirty==Tu)&&(o&&this.protectLocalComposition(e,o),uG(this.contentDOM,this.children,e),Zf&&lbe(this.dom))}localCompositionInfo(e,r){let{from:n,to:s}=e.state.selection;if(!(e.state.selection instanceof Zt)||n<r||s>r+this.node.content.size)return null;let i=e.input.compositionNode;if(!i||!this.dom.contains(i.parentNode))return null;if(this.node.inlineContent){let o=i.nodeValue,l=cbe(this.node.content,o,n-r,s-r);return l<0?null:{node:i,pos:l,text:o}}else return{node:i,pos:-1,text:""}}protectLocalComposition(e,{node:r,pos:n,text:s}){if(this.getDesc(r))return;let i=r;for(;i.parentNode!=this.contentDOM;i=i.parentNode){for(;i.previousSibling;)i.parentNode.removeChild(i.previousSibling);for(;i.nextSibling;)i.parentNode.removeChild(i.nextSibling);i.pmViewDesc&&(i.pmViewDesc=void 0)}let o=new tbe(this,i,r,s);e.input.compositionNodes.push(o),this.children=C_(this.children,n,n+s.length,e,o)}update(e,r,n,s){return this.dirty==So||!e.sameMarkup(this.node)?!1:(this.updateInner(e,r,n,s),!0)}updateInner(e,r,n,s){this.updateOuterDeco(r),this.node=e,this.innerDeco=n,this.contentDOM&&this.updateChildren(s,this.posAtStart),this.dirty=gi}updateOuterDeco(e){if(Wb(e,this.outerDeco))return;let r=this.nodeDOM.nodeType!=1,n=this.dom;this.dom=dG(this.dom,this.nodeDOM,k_(this.outerDeco,this.node,r),k_(e,this.node,r)),this.dom!=n&&(n.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.nodeDOM.draggable=!0))}deselectNode(){this.nodeDOM.nodeType==1&&(this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.nodeDOM.removeAttribute("draggable"))}get domAtom(){return this.node.isAtom}}function SL(t,e,r,n,s){fG(n,e,t);let i=new _c(void 0,t,e,r,n,n,n,s,0);return i.contentDOM&&i.updateChildren(s,0),i}class Qw extends _c{constructor(e,r,n,s,i,o,l){super(e,r,n,s,i,null,o,l,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,r,n,s){return this.dirty==So||this.dirty!=gi&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(r),(this.dirty!=gi||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,s.trackWrites==this.nodeDOM&&(s.trackWrites=null)),this.node=e,this.dirty=gi,!0)}inParent(){let e=this.parent.contentDOM;for(let r=this.nodeDOM;r;r=r.parentNode)if(r==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,r,n){return e==this.nodeDOM?this.posAtStart+Math.min(r,this.node.text.length):super.localPosFromDOM(e,r,n)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,r,n){let s=this.node.cut(e,r),i=document.createTextNode(s.text);return new Qw(this.parent,s,this.outerDeco,this.innerDeco,i,i,n)}markDirty(e,r){super.markDirty(e,r),this.dom!=this.nodeDOM&&(e==0||r==this.nodeDOM.nodeValue.length)&&(this.dirty=So)}get domAtom(){return!1}isText(e){return this.node.text==e}}class cG extends fg{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==gi&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class rbe extends _c{constructor(e,r,n,s,i,o,l,c,d,h){super(e,r,n,s,i,o,l,d,h),this.spec=c}update(e,r,n,s){if(this.dirty==So)return!1;if(this.spec.update&&(this.node.type==e.type||this.spec.multiType)){let i=this.spec.update(e,r,n);return i&&this.updateInner(e,r,n,s),i}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,r,n,s)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,r,n,s){this.spec.setSelection?this.spec.setSelection(e,r,n.root):super.setSelection(e,r,n,s)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function uG(t,e,r){let n=t.firstChild,s=!1;for(let i=0;i<e.length;i++){let o=e[i],l=o.dom;if(l.parentNode==t){for(;l!=n;)n=NL(n),s=!0;n=n.nextSibling}else s=!0,t.insertBefore(l,n);if(o instanceof td){let c=n?n.previousSibling:t.lastChild;uG(o.contentDOM,o.children,r),n=c?c.nextSibling:t.firstChild}}for(;n;)n=NL(n),s=!0;s&&r.trackWrites==t&&(r.trackWrites=null)}const _p=function(t){t&&(this.nodeName=t)};_p.prototype=Object.create(null);const _u=[new _p];function k_(t,e,r){if(t.length==0)return _u;let n=r?_u[0]:new _p,s=[n];for(let i=0;i<t.length;i++){let o=t[i].type.attrs;if(o){o.nodeName&&s.push(n=new _p(o.nodeName));for(let l in o){let c=o[l];c!=null&&(r&&s.length==1&&s.push(n=new _p(e.isInline?"span":"div")),l=="class"?n.class=(n.class?n.class+" ":"")+c:l=="style"?n.style=(n.style?n.style+";":"")+c:l!="nodeName"&&(n[l]=c))}}}return s}function dG(t,e,r,n){if(r==_u&&n==_u)return e;let s=e;for(let i=0;i<n.length;i++){let o=n[i],l=r[i];if(i){let c;l&&l.nodeName==o.nodeName&&s!=t&&(c=s.parentNode)&&c.nodeName.toLowerCase()==o.nodeName||(c=document.createElement(o.nodeName),c.pmIsDeco=!0,c.appendChild(s),l=_u[0]),s=c}nbe(s,l||_u[0],o)}return s}function nbe(t,e,r){for(let n in e)n!="class"&&n!="style"&&n!="nodeName"&&!(n in r)&&t.removeAttribute(n);for(let n in r)n!="class"&&n!="style"&&n!="nodeName"&&r[n]!=e[n]&&t.setAttribute(n,r[n]);if(e.class!=r.class){let n=e.class?e.class.split(" ").filter(Boolean):[],s=r.class?r.class.split(" ").filter(Boolean):[];for(let i=0;i<n.length;i++)s.indexOf(n[i])==-1&&t.classList.remove(n[i]);for(let i=0;i<s.length;i++)n.indexOf(s[i])==-1&&t.classList.add(s[i]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=r.style){if(e.style){let n=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,s;for(;s=n.exec(e.style);)t.style.removeProperty(s[1])}r.style&&(t.style.cssText+=r.style)}}function fG(t,e,r){return dG(t,t,_u,k_(e,r,t.nodeType!=1))}function Wb(t,e){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!t[r].type.eq(e[r].type))return!1;return!0}function NL(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class abe{constructor(e,r,n){this.lock=r,this.view=n,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=sbe(e.node.content,e)}destroyBetween(e,r){if(e!=r){for(let n=e;n<r;n++)this.top.children[n].destroy();this.top.children.splice(e,r-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,r,n){let s=0,i=this.stack.length>>1,o=Math.min(i,e.length);for(;s<o&&(s==i-1?this.top:this.stack[s+1<<1]).matchesMark(e[s])&&e[s].type.spec.spanning!==!1;)s++;for(;s<i;)this.destroyRest(),this.top.dirty=gi,this.index=this.stack.pop(),this.top=this.stack.pop(),i--;for(;i<e.length;){this.stack.push(this.top,this.index+1);let l=-1;for(let c=this.index;c<Math.min(this.index+3,this.top.children.length);c++){let d=this.top.children[c];if(d.matchesMark(e[i])&&!this.isLocked(d.dom)){l=c;break}}if(l>-1)l>this.index&&(this.changed=!0,this.destroyBetween(this.index,l)),this.top=this.top.children[this.index];else{let c=td.create(this.top,e[i],r,n);this.top.children.splice(this.index,0,c),this.top=c,this.changed=!0}this.index=0,i++}}findNodeMatch(e,r,n,s){let i=-1,o;if(s>=this.preMatch.index&&(o=this.preMatch.matches[s-this.preMatch.index]).parent==this.top&&o.matchesNode(e,r,n))i=this.top.children.indexOf(o,this.index);else for(let l=this.index,c=Math.min(this.top.children.length,l+5);l<c;l++){let d=this.top.children[l];if(d.matchesNode(e,r,n)&&!this.preMatch.matched.has(d)){i=l;break}}return i<0?!1:(this.destroyBetween(this.index,i),this.index++,!0)}updateNodeAt(e,r,n,s,i){let o=this.top.children[s];return o.dirty==So&&o.dom==o.contentDOM&&(o.dirty=Tu),o.update(e,r,n,i)?(this.destroyBetween(this.index,s),this.index++,!0):!1}findIndexWithChild(e){for(;;){let r=e.parentNode;if(!r)return-1;if(r==this.top.contentDOM){let n=e.pmViewDesc;if(n){for(let s=this.index;s<this.top.children.length;s++)if(this.top.children[s]==n)return s}return-1}e=r}}updateNextNode(e,r,n,s,i,o){for(let l=this.index;l<this.top.children.length;l++){let c=this.top.children[l];if(c instanceof _c){let d=this.preMatch.matched.get(c);if(d!=null&&d!=i)return!1;let h=c.dom,m,g=this.isLocked(h)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=So&&Wb(r,c.outerDeco));if(!g&&c.update(e,r,n,s))return this.destroyBetween(this.index,l),c.dom!=h&&(this.changed=!0),this.index++,!0;if(!g&&(m=this.recreateWrapper(c,e,r,n,s,o)))return this.destroyBetween(this.index,l),this.top.children[this.index]=m,m.contentDOM&&(m.dirty=Tu,m.updateChildren(s,o+1),m.dirty=gi),this.changed=!0,this.index++,!0;break}}return!1}recreateWrapper(e,r,n,s,i,o){if(e.dirty||r.isAtom||!e.children.length||!e.node.content.eq(r.content)||!Wb(n,e.outerDeco)||!s.eq(e.innerDeco))return null;let l=_c.create(this.top,r,n,s,i,o);if(l.contentDOM){l.children=e.children,e.children=[];for(let c of l.children)c.parent=l}return e.destroy(),l}addNode(e,r,n,s,i){let o=_c.create(this.top,e,r,n,s,i);o.contentDOM&&o.updateChildren(s,i+1),this.top.children.splice(this.index++,0,o),this.changed=!0}placeWidget(e,r,n){let s=this.index<this.top.children.length?this.top.children[this.index]:null;if(s&&s.matchesWidget(e)&&(e==s.widget||!s.widget.type.toDOM.parentNode))this.index++;else{let i=new lG(this.top,e,r,n);this.top.children.splice(this.index++,0,i),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],r=this.top;for(;e instanceof td;)r=e,e=r.children[r.children.length-1];(!e||!(e instanceof Qw)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&((ss||za)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",r),this.addHackNode("BR",this.top))}addHackNode(e,r){if(r==this.top&&this.index<r.children.length&&r.children[this.index].matchesHack(e))this.index++;else{let n=document.createElement(e);e=="IMG"&&(n.className="ProseMirror-separator",n.alt=""),e=="BR"&&(n.className="ProseMirror-trailingBreak");let s=new cG(this.top,[],n,null);r!=this.top?r.children.push(s):r.children.splice(this.index++,0,s),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function sbe(t,e){let r=e,n=r.children.length,s=t.childCount,i=new Map,o=[];e:for(;s>0;){let l;for(;;)if(n){let d=r.children[n-1];if(d instanceof td)r=d,n=d.children.length;else{l=d,n--;break}}else{if(r==e)break e;n=r.parent.children.indexOf(r),r=r.parent}let c=l.node;if(c){if(c!=t.child(s-1))break;--s,i.set(l,s),o.push(l)}}return{index:s,matched:i,matches:o.reverse()}}function ibe(t,e){return t.type.side-e.type.side}function obe(t,e,r,n){let s=e.locals(t),i=0;if(s.length==0){for(let d=0;d<t.childCount;d++){let h=t.child(d);n(h,s,e.forChild(i,h),d),i+=h.nodeSize}return}let o=0,l=[],c=null;for(let d=0;;){let h,m;for(;o<s.length&&s[o].to==i;){let v=s[o++];v.widget&&(h?(m||(m=[h])).push(v):h=v)}if(h)if(m){m.sort(ibe);for(let v=0;v<m.length;v++)r(m[v],d,!!c)}else r(h,d,!!c);let g,y;if(c)y=-1,g=c,c=null;else if(d<t.childCount)y=d,g=t.child(d++);else break;for(let v=0;v<l.length;v++)l[v].to<=i&&l.splice(v--,1);for(;o<s.length&&s[o].from<=i&&s[o].to>i;)l.push(s[o++]);let w=i+g.nodeSize;if(g.isText){let v=w;o<s.length&&s[o].from<v&&(v=s[o].from);for(let N=0;N<l.length;N++)l[N].to<v&&(v=l[N].to);v<w&&(c=g.cut(v-i),g=g.cut(0,v-i),w=v,y=-1)}else for(;o<s.length&&s[o].to<w;)o++;let j=g.isInline&&!g.isLeaf?l.filter(v=>!v.inline):l.slice();n(g,j,e.forChild(i,g),y),i=w}}function lbe(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function cbe(t,e,r,n){for(let s=0,i=0;s<t.childCount&&i<=n;){let o=t.child(s++),l=i;if(i+=o.nodeSize,!o.isText)continue;let c=o.text;for(;s<t.childCount;){let d=t.child(s++);if(i+=d.nodeSize,!d.isText)break;c+=d.text}if(i>=r){if(i>=n&&c.slice(n-e.length-l,n-l)==e)return n-e.length;let d=l<n?c.lastIndexOf(e,n-l-1):-1;if(d>=0&&d+e.length+l>=r)return l+d;if(r==n&&c.length>=n+e.length-l&&c.slice(n-l,n-l+e.length)==e)return n}}return-1}function C_(t,e,r,n,s){let i=[];for(let o=0,l=0;o<t.length;o++){let c=t[o],d=l,h=l+=c.size;d>=r||h<=e?i.push(c):(d<e&&i.push(c.slice(0,e-d,n)),s&&(i.push(s),s=void 0),h>r&&i.push(c.slice(r-d,c.size,n)))}return i}function AO(t,e=null){let r=t.domSelectionRange(),n=t.state.doc;if(!r.focusNode)return null;let s=t.docView.nearestDesc(r.focusNode),i=s&&s.size==0,o=t.docView.posFromDOM(r.focusNode,r.focusOffset,1);if(o<0)return null;let l=n.resolve(o),c,d;if(Jw(r)){for(c=o;s&&!s.node;)s=s.parent;let m=s.node;if(s&&m.isAtom&&qt.isSelectable(m)&&s.parent&&!(m.isInline&&Rye(r.focusNode,r.focusOffset,s.dom))){let g=s.posBefore;d=new qt(o==g?l:n.resolve(g))}}else{if(r instanceof t.dom.ownerDocument.defaultView.Selection&&r.rangeCount>1){let m=o,g=o;for(let y=0;y<r.rangeCount;y++){let w=r.getRangeAt(y);m=Math.min(m,t.docView.posFromDOM(w.startContainer,w.startOffset,1)),g=Math.max(g,t.docView.posFromDOM(w.endContainer,w.endOffset,-1))}if(m<0)return null;[c,o]=g==t.state.selection.anchor?[g,m]:[m,g],l=n.resolve(o)}else c=t.docView.posFromDOM(r.anchorNode,r.anchorOffset,1);if(c<0)return null}let h=n.resolve(c);if(!d){let m=e=="pointer"||t.state.selection.head<l.pos&&!i?1:-1;d=OO(t,h,l,m)}return d}function hG(t){return t.editable?t.hasFocus():pG(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function gl(t,e=!1){let r=t.state.selection;if(mG(t,r),!!hG(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&za){let n=t.domSelectionRange(),s=t.domObserver.currentSelection;if(n.anchorNode&&s.anchorNode&&ed(n.anchorNode,n.anchorOffset,s.anchorNode,s.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)dbe(t);else{let{anchor:n,head:s}=r,i,o;kL&&!(r instanceof Zt)&&(r.$from.parent.inlineContent||(i=CL(t,r.from)),!r.empty&&!r.$from.parent.inlineContent&&(o=CL(t,r.to))),t.docView.setSelection(n,s,t,e),kL&&(i&&TL(i),o&&TL(o)),r.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&ube(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const kL=ss||za&&tG<63;function CL(t,e){let{node:r,offset:n}=t.docView.domFromPos(e,0),s=n<r.childNodes.length?r.childNodes[n]:null,i=n?r.childNodes[n-1]:null;if(ss&&s&&s.contentEditable=="false")return QN(s);if((!s||s.contentEditable=="false")&&(!i||i.contentEditable=="false")){if(s)return QN(s);if(i)return QN(i)}}function QN(t){return t.contentEditable="true",ss&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function TL(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function ube(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let r=t.domSelectionRange(),n=r.anchorNode,s=r.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(r.anchorNode!=n||r.anchorOffset!=s)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!hG(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function dbe(t){let e=t.domSelection();if(!e)return;let r=t.cursorWrapper.dom,n=r.nodeName=="IMG";n?e.collapse(r.parentNode,Oa(r)+1):e.collapse(r,0),!n&&!t.state.selection.visible&&ws&&Tc<=11&&(r.disabled=!0,r.disabled=!1)}function mG(t,e){if(e instanceof qt){let r=t.docView.descAt(e.from);r!=t.lastSelectedViewDesc&&(_L(t),r&&r.selectNode(),t.lastSelectedViewDesc=r)}else _L(t)}function _L(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function OO(t,e,r,n){return t.someProp("createSelectionBetween",s=>s(t,e,r))||Zt.between(e,r,n)}function ML(t){return t.editable&&!t.hasFocus()?!1:pG(t)}function pG(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function fbe(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),r=t.domSelectionRange();return ed(e.node,e.offset,r.anchorNode,r.anchorOffset)}function T_(t,e){let{$anchor:r,$head:n}=t.selection,s=e>0?r.max(n):r.min(n),i=s.parent.inlineContent?s.depth?t.doc.resolve(e>0?s.after():s.before()):null:s;return i&&ir.findFrom(i,e)}function fc(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function AL(t,e,r){let n=t.state.selection;if(n instanceof Zt)if(r.indexOf("s")>-1){let{$head:s}=n,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter;if(!i||i.isText||!i.isLeaf)return!1;let o=t.state.doc.resolve(s.pos+i.nodeSize*(e<0?-1:1));return fc(t,new Zt(n.$anchor,o))}else if(n.empty){if(t.endOfTextblock(e>0?"forward":"backward")){let s=T_(t.state,e);return s&&s instanceof qt?fc(t,s):!1}else if(!(li&&r.indexOf("m")>-1)){let s=n.$head,i=s.textOffset?null:e<0?s.nodeBefore:s.nodeAfter,o;if(!i||i.isText)return!1;let l=e<0?s.pos-i.nodeSize:s.pos;return i.isAtom||(o=t.docView.descAt(l))&&!o.contentDOM?qt.isSelectable(i)?fc(t,new qt(e<0?t.state.doc.resolve(s.pos-i.nodeSize):s)):dg?fc(t,new Zt(t.state.doc.resolve(e<0?l:l+i.nodeSize))):!1:!1}}else return!1;else{if(n instanceof qt&&n.node.isInline)return fc(t,new Zt(e>0?n.$to:n.$from));{let s=T_(t.state,e);return s?fc(t,s):!1}}}function Ub(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function Mp(t,e){let r=t.pmViewDesc;return r&&r.size==0&&(e<0||t.nextSibling||t.nodeName!="BR")}function ef(t,e){return e<0?hbe(t):mbe(t)}function hbe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s,i,o=!1;for(pi&&r.nodeType==1&&n<Ub(r)&&Mp(r.childNodes[n],-1)&&(o=!0);;)if(n>0){if(r.nodeType!=1)break;{let l=r.childNodes[n-1];if(Mp(l,-1))s=r,i=--n;else if(l.nodeType==3)r=l,n=r.nodeValue.length;else break}}else{if(gG(r))break;{let l=r.previousSibling;for(;l&&Mp(l,-1);)s=r.parentNode,i=Oa(l),l=l.previousSibling;if(l)r=l,n=Ub(r);else{if(r=r.parentNode,r==t.dom)break;n=0}}}o?__(t,r,n):s&&__(t,s,i)}function mbe(t){let e=t.domSelectionRange(),r=e.focusNode,n=e.focusOffset;if(!r)return;let s=Ub(r),i,o;for(;;)if(n<s){if(r.nodeType!=1)break;let l=r.childNodes[n];if(Mp(l,1))i=r,o=++n;else break}else{if(gG(r))break;{let l=r.nextSibling;for(;l&&Mp(l,1);)i=l.parentNode,o=Oa(l)+1,l=l.nextSibling;if(l)r=l,n=0,s=Ub(r);else{if(r=r.parentNode,r==t.dom)break;n=s=0}}}i&&__(t,i,o)}function gG(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function pbe(t,e){for(;t&&e==t.childNodes.length&&!ug(t);)e=Oa(t)+1,t=t.parentNode;for(;t&&e<t.childNodes.length;){let r=t.childNodes[e];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=0}}function gbe(t,e){for(;t&&!e&&!ug(t);)e=Oa(t),t=t.parentNode;for(;t&&e;){let r=t.childNodes[e-1];if(r.nodeType==3)return r;if(r.nodeType==1&&r.contentEditable=="false")break;t=r,e=t.childNodes.length}}function __(t,e,r){if(e.nodeType!=3){let i,o;(o=pbe(e,r))?(e=o,r=0):(i=gbe(e,r))&&(e=i,r=i.nodeValue.length)}let n=t.domSelection();if(!n)return;if(Jw(n)){let i=document.createRange();i.setEnd(e,r),i.setStart(e,r),n.removeAllRanges(),n.addRange(i)}else n.extend&&n.extend(e,r);t.domObserver.setCurSelection();let{state:s}=t;setTimeout(()=>{t.state==s&&gl(t)},50)}function OL(t,e){let r=t.state.doc.resolve(e);if(!(za||$ye)&&r.parent.inlineContent){let s=t.coordsAtPos(e);if(e>r.start()){let i=t.coordsAtPos(e-1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left<s.left?"ltr":"rtl"}if(e<r.end()){let i=t.coordsAtPos(e+1),o=(i.top+i.bottom)/2;if(o>s.top&&o<s.bottom&&Math.abs(i.left-s.left)>1)return i.left>s.left?"ltr":"rtl"}}return getComputedStyle(t.dom).direction=="rtl"?"rtl":"ltr"}function EL(t,e,r){let n=t.state.selection;if(n instanceof Zt&&!n.empty||r.indexOf("s")>-1||li&&r.indexOf("m")>-1)return!1;let{$from:s,$to:i}=n;if(!s.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let o=T_(t.state,e);if(o&&o instanceof qt)return fc(t,o)}if(!s.parent.inlineContent){let o=e<0?s:i,l=n instanceof Hs?ir.near(o,e):ir.findFrom(o,e);return l?fc(t,l):!1}return!1}function DL(t,e){if(!(t.state.selection instanceof Zt))return!0;let{$head:r,$anchor:n,empty:s}=t.state.selection;if(!r.sameParent(n))return!0;if(!s)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let i=!r.textOffset&&(e<0?r.nodeBefore:r.nodeAfter);if(i&&!i.isText){let o=t.state.tr;return e<0?o.delete(r.pos-i.nodeSize,r.pos):o.delete(r.pos,r.pos+i.nodeSize),t.dispatch(o),!0}return!1}function PL(t,e,r){t.domObserver.stop(),e.contentEditable=r,t.domObserver.start()}function xbe(t){if(!ss||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:r}=t.domSelectionRange();if(e&&e.nodeType==1&&r==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let n=e.firstChild;PL(t,n,"true"),setTimeout(()=>PL(t,n,"false"),20)}return!1}function ybe(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function bbe(t,e){let r=e.keyCode,n=ybe(e);if(r==8||li&&r==72&&n=="c")return DL(t,-1)||ef(t,-1);if(r==46&&!e.shiftKey||li&&r==68&&n=="c")return DL(t,1)||ef(t,1);if(r==13||r==27)return!0;if(r==37||li&&r==66&&n=="c"){let s=r==37?OL(t,t.state.selection.from)=="ltr"?-1:1:-1;return AL(t,s,n)||ef(t,s)}else if(r==39||li&&r==70&&n=="c"){let s=r==39?OL(t,t.state.selection.from)=="ltr"?1:-1:1;return AL(t,s,n)||ef(t,s)}else{if(r==38||li&&r==80&&n=="c")return EL(t,-1,n)||ef(t,-1);if(r==40||li&&r==78&&n=="c")return xbe(t)||EL(t,1,n)||ef(t,1);if(n==(li?"m":"c")&&(r==66||r==73||r==89||r==90))return!0}return!1}function EO(t,e){t.someProp("transformCopied",y=>{e=y(e,t)});let r=[],{content:n,openStart:s,openEnd:i}=e;for(;s>1&&i>1&&n.childCount==1&&n.firstChild.childCount==1;){s--,i--;let y=n.firstChild;r.push(y.type.name,y.attrs!=y.type.defaultAttrs?y.attrs:null),n=y.content}let o=t.someProp("clipboardSerializer")||dd.fromSchema(t.state.schema),l=jG(),c=l.createElement("div");c.appendChild(o.serializeFragment(n,{document:l}));let d=c.firstChild,h,m=0;for(;d&&d.nodeType==1&&(h=wG[d.nodeName.toLowerCase()]);){for(let y=h.length-1;y>=0;y--){let w=l.createElement(h[y]);for(;c.firstChild;)w.appendChild(c.firstChild);c.appendChild(w),m++}d=c.firstChild}d&&d.nodeType==1&&d.setAttribute("data-pm-slice",`${s} ${i}${m?` -${m}`:""} ${JSON.stringify(r)}`);let g=t.someProp("clipboardTextSerializer",y=>y(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:c,text:g,slice:e}}function xG(t,e,r,n,s){let i=s.parent.type.spec.code,o,l;if(!r&&!e)return null;let c=!!e&&(n||i||!r);if(c){if(t.someProp("transformPastedText",g=>{e=g(e,i||n,t)}),i)return l=new Mt(lt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0),t.someProp("transformPasted",g=>{l=g(l,t,!0)}),l;let m=t.someProp("clipboardTextParser",g=>g(e,s,n,t));if(m)l=m;else{let g=s.marks(),{schema:y}=t.state,w=dd.fromSchema(y);o=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(j=>{let v=o.appendChild(document.createElement("p"));j&&v.appendChild(w.serializeNode(y.text(j,g)))})}}else t.someProp("transformPastedHTML",m=>{r=m(r,t)}),o=Sbe(r),dg&&Nbe(o);let d=o&&o.querySelector("[data-pm-slice]"),h=d&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(d.getAttribute("data-pm-slice")||"");if(h&&h[3])for(let m=+h[3];m>0;m--){let g=o.firstChild;for(;g&&g.nodeType!=1;)g=g.nextSibling;if(!g)break;o=g}if(l||(l=(t.someProp("clipboardParser")||t.someProp("domParser")||Cc.fromSchema(t.state.schema)).parseSlice(o,{preserveWhitespace:!!(c||h),context:s,ruleFromNode(g){return g.nodeName=="BR"&&!g.nextSibling&&g.parentNode&&!vbe.test(g.parentNode.nodeName)?{ignore:!0}:null}})),h)l=kbe(RL(l,+h[1],+h[2]),h[4]);else if(l=Mt.maxOpen(wbe(l.content,s),!0),l.openStart||l.openEnd){let m=0,g=0;for(let y=l.content.firstChild;m<l.openStart&&!y.type.spec.isolating;m++,y=y.firstChild);for(let y=l.content.lastChild;g<l.openEnd&&!y.type.spec.isolating;g++,y=y.lastChild);l=RL(l,m,g)}return t.someProp("transformPasted",m=>{l=m(l,t,c)}),l}const vbe=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function wbe(t,e){if(t.childCount<2)return t;for(let r=e.depth;r>=0;r--){let s=e.node(r).contentMatchAt(e.index(r)),i,o=[];if(t.forEach(l=>{if(!o)return;let c=s.findWrapping(l.type),d;if(!c)return o=null;if(d=o.length&&i.length&&bG(c,i,l,o[o.length-1],0))o[o.length-1]=d;else{o.length&&(o[o.length-1]=vG(o[o.length-1],i.length));let h=yG(l,c);o.push(h),s=s.matchType(h.type),i=c}}),o)return lt.from(o)}return t}function yG(t,e,r=0){for(let n=e.length-1;n>=r;n--)t=e[n].create(null,lt.from(t));return t}function bG(t,e,r,n,s){if(s<t.length&&s<e.length&&t[s]==e[s]){let i=bG(t,e,r,n.lastChild,s+1);if(i)return n.copy(n.content.replaceChild(n.childCount-1,i));if(n.contentMatchAt(n.childCount).matchType(s==t.length-1?r.type:t[s+1]))return n.copy(n.content.append(lt.from(yG(r,t,s+1))))}}function vG(t,e){if(e==0)return t;let r=t.content.replaceChild(t.childCount-1,vG(t.lastChild,e-1)),n=t.contentMatchAt(t.childCount).fillBefore(lt.empty,!0);return t.copy(r.append(n))}function M_(t,e,r,n,s,i){let o=e<0?t.firstChild:t.lastChild,l=o.content;return t.childCount>1&&(i=0),s<n-1&&(l=M_(l,e,r,n,s+1,i)),s>=r&&(l=e<0?o.contentMatchAt(0).fillBefore(l,i<=s).append(l):l.append(o.contentMatchAt(o.childCount).fillBefore(lt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,o.copy(l))}function RL(t,e,r){return e<t.openStart&&(t=new Mt(M_(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),r<t.openEnd&&(t=new Mt(M_(t.content,1,r,t.openEnd,0,0),t.openStart,r)),t}const wG={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let IL=null;function jG(){return IL||(IL=document.implementation.createHTMLDocument("title"))}let ZN=null;function jbe(t){let e=window.trustedTypes;return e?(ZN||(ZN=e.defaultPolicy||e.createPolicy("ProseMirrorClipboard",{createHTML:r=>r})),ZN.createHTML(t)):t}function Sbe(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let r=jG().createElement("div"),n=/<([a-z][^>\s]+)/i.exec(t),s;if((s=n&&wG[n[1].toLowerCase()])&&(t=s.map(i=>"<"+i+">").join("")+t+s.map(i=>"</"+i+">").reverse().join("")),r.innerHTML=jbe(t),s)for(let i=0;i<s.length;i++)r=r.querySelector(s[i])||r;return r}function Nbe(t){let e=t.querySelectorAll(za?"span:not([class]):not([style])":"span.Apple-converted-space");for(let r=0;r<e.length;r++){let n=e[r];n.childNodes.length==1&&n.textContent==" "&&n.parentNode&&n.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),n)}}function kbe(t,e){if(!t.size)return t;let r=t.content.firstChild.type.schema,n;try{n=JSON.parse(e)}catch{return t}let{content:s,openStart:i,openEnd:o}=t;for(let l=n.length-2;l>=0;l-=2){let c=r.nodes[n[l]];if(!c||c.hasRequiredAttrs())break;s=lt.from(c.create(n[l+1],s)),i++,o++}return new Mt(s,i,o)}const is={},ls={},Cbe={touchstart:!0,touchmove:!0};class Tbe{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:"",button:0},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastChromeDelete=0,this.composing=!1,this.compositionNode=null,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.compositionID=1,this.compositionPendingChanges=0,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function _be(t){for(let e in is){let r=is[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=n=>{Abe(t,n)&&!DO(t,n)&&(t.editable||!(n.type in ls))&&r(t,n)},Cbe[e]?{passive:!0}:void 0)}ss&&t.dom.addEventListener("input",()=>null),A_(t)}function wc(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function Mbe(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function A_(t){t.someProp("handleDOMEvents",e=>{for(let r in e)t.input.eventHandlers[r]||t.dom.addEventListener(r,t.input.eventHandlers[r]=n=>DO(t,n))})}function DO(t,e){return t.someProp("handleDOMEvents",r=>{let n=r[e.type];return n?n(t,e)||e.defaultPrevented:!1})}function Abe(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let r=e.target;r!=t.dom;r=r.parentNode)if(!r||r.nodeType==11||r.pmViewDesc&&r.pmViewDesc.stopEvent(e))return!1;return!0}function Obe(t,e){!DO(t,e)&&is[e.type]&&(t.editable||!(e.type in ls))&&is[e.type](t,e)}ls.keydown=(t,e)=>{let r=e;if(t.input.shiftKey=r.keyCode==16||r.shiftKey,!NG(t,r)&&(t.input.lastKeyCode=r.keyCode,t.input.lastKeyCodeTime=Date.now(),!(nl&&za&&r.keyCode==13)))if(r.keyCode!=229&&t.domObserver.forceFlush(),Zf&&r.keyCode==13&&!r.ctrlKey&&!r.altKey&&!r.metaKey){let n=Date.now();t.input.lastIOSEnter=n,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==n&&(t.someProp("handleKeyDown",s=>s(t,vu(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",n=>n(t,r))||bbe(t,r)?r.preventDefault():wc(t,"key")};ls.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};ls.keypress=(t,e)=>{let r=e;if(NG(t,r)||!r.charCode||r.ctrlKey&&!r.altKey||li&&r.metaKey)return;if(t.someProp("handleKeyPress",s=>s(t,r))){r.preventDefault();return}let n=t.state.selection;if(!(n instanceof Zt)||!n.$from.sameParent(n.$to)){let s=String.fromCharCode(r.charCode),i=()=>t.state.tr.insertText(s).scrollIntoView();!/[\r\n]/.test(s)&&!t.someProp("handleTextInput",o=>o(t,n.$from.pos,n.$to.pos,s,i))&&t.dispatch(i()),r.preventDefault()}};function Zw(t){return{left:t.clientX,top:t.clientY}}function Ebe(t,e){let r=e.x-t.clientX,n=e.y-t.clientY;return r*r+n*n<100}function PO(t,e,r,n,s){if(n==-1)return!1;let i=t.state.doc.resolve(n);for(let o=i.depth+1;o>0;o--)if(t.someProp(e,l=>o>i.depth?l(t,r,i.nodeAfter,i.before(o),s,!0):l(t,r,i.node(o),i.before(o),s,!1)))return!0;return!1}function Ef(t,e,r){if(t.focused||t.focus(),t.state.selection.eq(e))return;let n=t.state.tr.setSelection(e);n.setMeta("pointer",!0),t.dispatch(n)}function Dbe(t,e){if(e==-1)return!1;let r=t.state.doc.resolve(e),n=r.nodeAfter;return n&&n.isAtom&&qt.isSelectable(n)?(Ef(t,new qt(r)),!0):!1}function Pbe(t,e){if(e==-1)return!1;let r=t.state.selection,n,s;r instanceof qt&&(n=r.node);let i=t.state.doc.resolve(e);for(let o=i.depth+1;o>0;o--){let l=o>i.depth?i.nodeAfter:i.node(o);if(qt.isSelectable(l)){n&&r.$from.depth>0&&o>=r.$from.depth&&i.before(r.$from.depth+1)==r.$from.pos?s=i.before(r.$from.depth):s=i.before(o);break}}return s!=null?(Ef(t,qt.create(t.state.doc,s)),!0):!1}function Rbe(t,e,r,n,s){return PO(t,"handleClickOn",e,r,n)||t.someProp("handleClick",i=>i(t,e,n))||(s?Pbe(t,r):Dbe(t,r))}function Ibe(t,e,r,n){return PO(t,"handleDoubleClickOn",e,r,n)||t.someProp("handleDoubleClick",s=>s(t,e,n))}function Lbe(t,e,r,n){return PO(t,"handleTripleClickOn",e,r,n)||t.someProp("handleTripleClick",s=>s(t,e,n))||$be(t,r,n)}function $be(t,e,r){if(r.button!=0)return!1;let n=t.state.doc;if(e==-1)return n.inlineContent?(Ef(t,Zt.create(n,0,n.content.size)),!0):!1;let s=n.resolve(e);for(let i=s.depth+1;i>0;i--){let o=i>s.depth?s.nodeAfter:s.node(i),l=s.before(i);if(o.inlineContent)Ef(t,Zt.create(n,l+1,l+1+o.content.size));else if(qt.isSelectable(o))Ef(t,qt.create(n,l));else continue;return!0}}function RO(t){return Gb(t)}const SG=li?"metaKey":"ctrlKey";is.mousedown=(t,e)=>{let r=e;t.input.shiftKey=r.shiftKey;let n=RO(t),s=Date.now(),i="singleClick";s-t.input.lastClick.time<500&&Ebe(r,t.input.lastClick)&&!r[SG]&&t.input.lastClick.button==r.button&&(t.input.lastClick.type=="singleClick"?i="doubleClick":t.input.lastClick.type=="doubleClick"&&(i="tripleClick")),t.input.lastClick={time:s,x:r.clientX,y:r.clientY,type:i,button:r.button};let o=t.posAtCoords(Zw(r));o&&(i=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new Fbe(t,o,r,!!n)):(i=="doubleClick"?Ibe:Lbe)(t,o.pos,o.inside,r)?r.preventDefault():wc(t,"pointer"))};class Fbe{constructor(e,r,n,s){this.view=e,this.pos=r,this.event=n,this.flushed=s,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!n[SG],this.allowDefault=n.shiftKey;let i,o;if(r.inside>-1)i=e.state.doc.nodeAt(r.inside),o=r.inside;else{let h=e.state.doc.resolve(r.pos);i=h.parent,o=h.depth?h.before():0}const l=s?null:n.target,c=l?e.docView.nearestDesc(l,!0):null;this.target=c&&c.nodeDOM.nodeType==1?c.nodeDOM:null;let{selection:d}=e.state;(n.button==0&&i.type.spec.draggable&&i.type.spec.selectable!==!1||d instanceof qt&&d.from<=o&&d.to>o)&&(this.mightDrag={node:i,pos:o,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&pi&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),wc(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>gl(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let r=this.pos;this.view.state.doc!=this.startDoc&&(r=this.view.posAtCoords(Zw(e))),this.updateAllowDefault(e),this.allowDefault||!r?wc(this.view,"pointer"):Rbe(this.view,r.pos,r.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||ss&&this.mightDrag&&!this.mightDrag.node.isAtom||za&&!this.view.state.selection.visible&&Math.min(Math.abs(r.pos-this.view.state.selection.from),Math.abs(r.pos-this.view.state.selection.to))<=2)?(Ef(this.view,ir.near(this.view.state.doc.resolve(r.pos))),e.preventDefault()):wc(this.view,"pointer")}move(e){this.updateAllowDefault(e),wc(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}is.touchstart=t=>{t.input.lastTouch=Date.now(),RO(t),wc(t,"pointer")};is.touchmove=t=>{t.input.lastTouch=Date.now(),wc(t,"pointer")};is.contextmenu=t=>RO(t);function NG(t,e){return t.composing?!0:ss&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const Hbe=nl?5e3:-1;ls.compositionstart=ls.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,r=e.selection.$to;if(e.selection instanceof Zt&&(e.storedMarks||!r.textOffset&&r.parentOffset&&r.nodeBefore.marks.some(n=>n.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||r.marks(),Gb(t,!0),t.markCursor=null;else if(Gb(t,!e.selection.empty),pi&&e.selection.empty&&r.parentOffset&&!r.textOffset&&r.nodeBefore.marks.length){let n=t.domSelectionRange();for(let s=n.focusNode,i=n.focusOffset;s&&s.nodeType==1&&i!=0;){let o=i<0?s.lastChild:s.childNodes[i-1];if(!o)break;if(o.nodeType==3){let l=t.domSelection();l&&l.collapse(o,o.nodeValue.length);break}else s=o,i=-1}}t.input.composing=!0}kG(t,Hbe)};ls.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,t.input.compositionPendingChanges=t.domObserver.pendingRecords().length?t.input.compositionID:0,t.input.compositionNode=null,t.input.compositionPendingChanges&&Promise.resolve().then(()=>t.domObserver.flush()),t.input.compositionID++,kG(t,20))};function kG(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>Gb(t),e))}function CG(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=zbe());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function Bbe(t){let e=t.domSelectionRange();if(!e.focusNode)return null;let r=Dye(e.focusNode,e.focusOffset),n=Pye(e.focusNode,e.focusOffset);if(r&&n&&r!=n){let s=n.pmViewDesc,i=t.domObserver.lastChangedTextNode;if(r==i||n==i)return i;if(!s||!s.isText(n.nodeValue))return n;if(t.input.compositionNode==n){let o=r.pmViewDesc;if(!(!o||!o.isText(r.nodeValue)))return n}}return r||n}function zbe(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function Gb(t,e=!1){if(!(nl&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),CG(t),e||t.docView&&t.docView.dirty){let r=AO(t),n=t.state.selection;return r&&!r.eq(n)?t.dispatch(t.state.tr.setSelection(r)):(t.markCursor||e)&&!n.$from.node(n.$from.sharedDepth(n.to)).inlineContent?t.dispatch(t.state.tr.deleteSelection()):t.updateState(t.state),!0}return!1}}function Vbe(t,e){if(!t.dom.parentNode)return;let r=t.dom.parentNode.appendChild(document.createElement("div"));r.appendChild(e),r.style.cssText="position: fixed; left: -10000px; top: 10px";let n=getSelection(),s=document.createRange();s.selectNodeContents(e),t.dom.blur(),n.removeAllRanges(),n.addRange(s),setTimeout(()=>{r.parentNode&&r.parentNode.removeChild(r),t.focus()},50)}const i0=ws&&Tc<15||Zf&&Fye<604;is.copy=ls.cut=(t,e)=>{let r=e,n=t.state.selection,s=r.type=="cut";if(n.empty)return;let i=i0?null:r.clipboardData,o=n.content(),{dom:l,text:c}=EO(t,o);i?(r.preventDefault(),i.clearData(),i.setData("text/html",l.innerHTML),i.setData("text/plain",c)):Vbe(t,l),s&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function qbe(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function Wbe(t,e){if(!t.dom.parentNode)return;let r=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,n=t.dom.parentNode.appendChild(document.createElement(r?"textarea":"div"));r||(n.contentEditable="true"),n.style.cssText="position: fixed; left: -10000px; top: 10px",n.focus();let s=t.input.shiftKey&&t.input.lastKeyCode!=45;setTimeout(()=>{t.focus(),n.parentNode&&n.parentNode.removeChild(n),r?o0(t,n.value,null,s,e):o0(t,n.textContent,n.innerHTML,s,e)},50)}function o0(t,e,r,n,s){let i=xG(t,e,r,n,t.state.selection.$from);if(t.someProp("handlePaste",c=>c(t,s,i||Mt.empty)))return!0;if(!i)return!1;let o=qbe(i),l=o?t.state.tr.replaceSelectionWith(o,n):t.state.tr.replaceSelection(i);return t.dispatch(l.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}function TG(t){let e=t.getData("text/plain")||t.getData("Text");if(e)return e;let r=t.getData("text/uri-list");return r?r.replace(/\r?\n/g," "):""}ls.paste=(t,e)=>{let r=e;if(t.composing&&!nl)return;let n=i0?null:r.clipboardData,s=t.input.shiftKey&&t.input.lastKeyCode!=45;n&&o0(t,TG(n),n.getData("text/html"),s,r)?r.preventDefault():Wbe(t,r)};class _G{constructor(e,r,n){this.slice=e,this.move=r,this.node=n}}const Ube=li?"altKey":"ctrlKey";function MG(t,e){let r=t.someProp("dragCopies",n=>!n(e));return r??!e[Ube]}is.dragstart=(t,e)=>{let r=e,n=t.input.mouseDown;if(n&&n.done(),!r.dataTransfer)return;let s=t.state.selection,i=s.empty?null:t.posAtCoords(Zw(r)),o;if(!(i&&i.pos>=s.from&&i.pos<=(s instanceof qt?s.to-1:s.to))){if(n&&n.mightDrag)o=qt.create(t.state.doc,n.mightDrag.pos);else if(r.target&&r.target.nodeType==1){let m=t.docView.nearestDesc(r.target,!0);m&&m.node.type.spec.draggable&&m!=t.docView&&(o=qt.create(t.state.doc,m.posBefore))}}let l=(o||t.state.selection).content(),{dom:c,text:d,slice:h}=EO(t,l);(!r.dataTransfer.files.length||!za||tG>120)&&r.dataTransfer.clearData(),r.dataTransfer.setData(i0?"Text":"text/html",c.innerHTML),r.dataTransfer.effectAllowed="copyMove",i0||r.dataTransfer.setData("text/plain",d),t.dragging=new _G(h,MG(t,r),o)};is.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};ls.dragover=ls.dragenter=(t,e)=>e.preventDefault();ls.drop=(t,e)=>{let r=e,n=t.dragging;if(t.dragging=null,!r.dataTransfer)return;let s=t.posAtCoords(Zw(r));if(!s)return;let i=t.state.doc.resolve(s.pos),o=n&&n.slice;o?t.someProp("transformPasted",w=>{o=w(o,t,!1)}):o=xG(t,TG(r.dataTransfer),i0?null:r.dataTransfer.getData("text/html"),!1,i);let l=!!(n&&MG(t,r));if(t.someProp("handleDrop",w=>w(t,r,o||Mt.empty,l))){r.preventDefault();return}if(!o)return;r.preventDefault();let c=o?UU(t.state.doc,i.pos,o):i.pos;c==null&&(c=i.pos);let d=t.state.tr;if(l){let{node:w}=n;w?w.replace(d):d.deleteSelection()}let h=d.mapping.map(c),m=o.openStart==0&&o.openEnd==0&&o.content.childCount==1,g=d.doc;if(m?d.replaceRangeWith(h,h,o.content.firstChild):d.replaceRange(h,h,o),d.doc.eq(g))return;let y=d.doc.resolve(h);if(m&&qt.isSelectable(o.content.firstChild)&&y.nodeAfter&&y.nodeAfter.sameMarkup(o.content.firstChild))d.setSelection(new qt(y));else{let w=d.mapping.map(c);d.mapping.maps[d.mapping.maps.length-1].forEach((j,v,N,T)=>w=T),d.setSelection(OO(t,y,d.doc.resolve(w)))}t.focus(),t.dispatch(d.setMeta("uiEvent","drop"))};is.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&gl(t)},20))};is.blur=(t,e)=>{let r=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),r.relatedTarget&&t.dom.contains(r.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};is.beforeinput=(t,e)=>{if(za&&nl&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:n}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=n||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",i=>i(t,vu(8,"Backspace")))))return;let{$cursor:s}=t.state.selection;s&&s.pos>0&&t.dispatch(t.state.tr.delete(s.pos-1,s.pos).scrollIntoView())},50)}};for(let t in ls)is[t]=ls[t];function l0(t,e){if(t==e)return!0;for(let r in t)if(t[r]!==e[r])return!1;for(let r in e)if(!(r in t))return!1;return!0}class Yb{constructor(e,r){this.toDOM=e,this.spec=r||zu,this.side=this.spec.side||0}map(e,r,n,s){let{pos:i,deleted:o}=e.mapResult(r.from+s,this.side<0?-1:1);return o?null:new Qa(i-n,i-n,this)}valid(){return!0}eq(e){return this==e||e instanceof Yb&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&l0(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Mc{constructor(e,r){this.attrs=e,this.spec=r||zu}map(e,r,n,s){let i=e.map(r.from+s,this.spec.inclusiveStart?-1:1)-n,o=e.map(r.to+s,this.spec.inclusiveEnd?1:-1)-n;return i>=o?null:new Qa(i,o,this)}valid(e,r){return r.from<r.to}eq(e){return this==e||e instanceof Mc&&l0(this.attrs,e.attrs)&&l0(this.spec,e.spec)}static is(e){return e.type instanceof Mc}destroy(){}}class IO{constructor(e,r){this.attrs=e,this.spec=r||zu}map(e,r,n,s){let i=e.mapResult(r.from+s,1);if(i.deleted)return null;let o=e.mapResult(r.to+s,-1);return o.deleted||o.pos<=i.pos?null:new Qa(i.pos-n,o.pos-n,this)}valid(e,r){let{index:n,offset:s}=e.content.findIndex(r.from),i;return s==r.from&&!(i=e.child(n)).isText&&s+i.nodeSize==r.to}eq(e){return this==e||e instanceof IO&&l0(this.attrs,e.attrs)&&l0(this.spec,e.spec)}destroy(){}}class Qa{constructor(e,r,n){this.from=e,this.to=r,this.type=n}copy(e,r){return new Qa(e,r,this.type)}eq(e,r=0){return this.type.eq(e.type)&&this.from+r==e.from&&this.to+r==e.to}map(e,r,n){return this.type.map(e,this,r,n)}static widget(e,r,n){return new Qa(e,e,new Yb(r,n))}static inline(e,r,n,s){return new Qa(e,r,new Mc(n,s))}static node(e,r,n,s){return new Qa(e,r,new IO(n,s))}get spec(){return this.type.spec}get inline(){return this.type instanceof Mc}get widget(){return this.type instanceof Yb}}const cf=[],zu={};class vn{constructor(e,r){this.local=e.length?e:cf,this.children=r.length?r:cf}static create(e,r){return r.length?Kb(r,e,0,zu):La}find(e,r,n){let s=[];return this.findInner(e??0,r??1e9,s,0,n),s}findInner(e,r,n,s,i){for(let o=0;o<this.local.length;o++){let l=this.local[o];l.from<=r&&l.to>=e&&(!i||i(l.spec))&&n.push(l.copy(l.from+s,l.to+s))}for(let o=0;o<this.children.length;o+=3)if(this.children[o]<r&&this.children[o+1]>e){let l=this.children[o]+1;this.children[o+2].findInner(e-l,r-l,n,s+l,i)}}map(e,r,n){return this==La||e.maps.length==0?this:this.mapInner(e,r,0,0,n||zu)}mapInner(e,r,n,s,i){let o;for(let l=0;l<this.local.length;l++){let c=this.local[l].map(e,n,s);c&&c.type.valid(r,c)?(o||(o=[])).push(c):i.onRemove&&i.onRemove(this.local[l].spec)}return this.children.length?Gbe(this.children,o||[],e,r,n,s,i):o?new vn(o.sort(Vu),cf):La}add(e,r){return r.length?this==La?vn.create(e,r):this.addInner(e,r,0):this}addInner(e,r,n){let s,i=0;e.forEach((l,c)=>{let d=c+n,h;if(h=OG(r,l,d)){for(s||(s=this.children.slice());i<s.length&&s[i]<c;)i+=3;s[i]==c?s[i+2]=s[i+2].addInner(l,h,d+1):s.splice(i,0,c,c+l.nodeSize,Kb(h,l,d+1,zu)),i+=3}});let o=AG(i?EG(r):r,-n);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||o.splice(l--,1);return new vn(o.length?this.local.concat(o).sort(Vu):this.local,s||this.children)}remove(e){return e.length==0||this==La?this:this.removeInner(e,0)}removeInner(e,r){let n=this.children,s=this.local;for(let i=0;i<n.length;i+=3){let o,l=n[i]+r,c=n[i+1]+r;for(let h=0,m;h<e.length;h++)(m=e[h])&&m.from>l&&m.to<c&&(e[h]=null,(o||(o=[])).push(m));if(!o)continue;n==this.children&&(n=this.children.slice());let d=n[i+2].removeInner(o,l+1);d!=La?n[i+2]=d:(n.splice(i,3),i-=3)}if(s.length){for(let i=0,o;i<e.length;i++)if(o=e[i])for(let l=0;l<s.length;l++)s[l].eq(o,r)&&(s==this.local&&(s=this.local.slice()),s.splice(l--,1))}return n==this.children&&s==this.local?this:s.length||n.length?new vn(s,n):La}forChild(e,r){if(this==La)return this;if(r.isLeaf)return vn.empty;let n,s;for(let l=0;l<this.children.length;l+=3)if(this.children[l]>=e){this.children[l]==e&&(n=this.children[l+2]);break}let i=e+1,o=i+r.content.size;for(let l=0;l<this.local.length;l++){let c=this.local[l];if(c.from<o&&c.to>i&&c.type instanceof Mc){let d=Math.max(i,c.from)-i,h=Math.min(o,c.to)-i;d<h&&(s||(s=[])).push(c.copy(d,h))}}if(s){let l=new vn(s.sort(Vu),cf);return n?new gc([l,n]):l}return n||La}eq(e){if(this==e)return!0;if(!(e instanceof vn)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let r=0;r<this.local.length;r++)if(!this.local[r].eq(e.local[r]))return!1;for(let r=0;r<this.children.length;r+=3)if(this.children[r]!=e.children[r]||this.children[r+1]!=e.children[r+1]||!this.children[r+2].eq(e.children[r+2]))return!1;return!0}locals(e){return LO(this.localsInner(e))}localsInner(e){if(this==La)return cf;if(e.inlineContent||!this.local.some(Mc.is))return this.local;let r=[];for(let n=0;n<this.local.length;n++)this.local[n].type instanceof Mc||r.push(this.local[n]);return r}forEachSet(e){e(this)}}vn.empty=new vn([],[]);vn.removeOverlap=LO;const La=vn.empty;class gc{constructor(e){this.members=e}map(e,r){const n=this.members.map(s=>s.map(e,r,zu));return gc.from(n)}forChild(e,r){if(r.isLeaf)return vn.empty;let n=[];for(let s=0;s<this.members.length;s++){let i=this.members[s].forChild(e,r);i!=La&&(i instanceof gc?n=n.concat(i.members):n.push(i))}return gc.from(n)}eq(e){if(!(e instanceof gc)||e.members.length!=this.members.length)return!1;for(let r=0;r<this.members.length;r++)if(!this.members[r].eq(e.members[r]))return!1;return!0}locals(e){let r,n=!0;for(let s=0;s<this.members.length;s++){let i=this.members[s].localsInner(e);if(i.length)if(!r)r=i;else{n&&(r=r.slice(),n=!1);for(let o=0;o<i.length;o++)r.push(i[o])}}return r?LO(n?r:r.sort(Vu)):cf}static from(e){switch(e.length){case 0:return La;case 1:return e[0];default:return new gc(e.every(r=>r instanceof vn)?e:e.reduce((r,n)=>r.concat(n instanceof vn?n:n.members),[]))}}forEachSet(e){for(let r=0;r<this.members.length;r++)this.members[r].forEachSet(e)}}function Gbe(t,e,r,n,s,i,o){let l=t.slice();for(let d=0,h=i;d<r.maps.length;d++){let m=0;r.maps[d].forEach((g,y,w,j)=>{let v=j-w-(y-g);for(let N=0;N<l.length;N+=3){let T=l[N+1];if(T<0||g>T+h-m)continue;let S=l[N]+h-m;y>=S?l[N+1]=g<=S?-2:-1:g>=h&&v&&(l[N]+=v,l[N+1]+=v)}m+=v}),h=r.maps[d].map(h,-1)}let c=!1;for(let d=0;d<l.length;d+=3)if(l[d+1]<0){if(l[d+1]==-2){c=!0,l[d+1]=-1;continue}let h=r.map(t[d]+i),m=h-s;if(m<0||m>=n.content.size){c=!0;continue}let g=r.map(t[d+1]+i,-1),y=g-s,{index:w,offset:j}=n.content.findIndex(m),v=n.maybeChild(w);if(v&&j==m&&j+v.nodeSize==y){let N=l[d+2].mapInner(r,v,h+1,t[d]+i+1,o);N!=La?(l[d]=m,l[d+1]=y,l[d+2]=N):(l[d+1]=-2,c=!0)}else c=!0}if(c){let d=Ybe(l,t,e,r,s,i,o),h=Kb(d,n,0,o);e=h.local;for(let m=0;m<l.length;m+=3)l[m+1]<0&&(l.splice(m,3),m-=3);for(let m=0,g=0;m<h.children.length;m+=3){let y=h.children[m];for(;g<l.length&&l[g]<y;)g+=3;l.splice(g,0,h.children[m],h.children[m+1],h.children[m+2])}}return new vn(e.sort(Vu),l)}function AG(t,e){if(!e||!t.length)return t;let r=[];for(let n=0;n<t.length;n++){let s=t[n];r.push(new Qa(s.from+e,s.to+e,s.type))}return r}function Ybe(t,e,r,n,s,i,o){function l(c,d){for(let h=0;h<c.local.length;h++){let m=c.local[h].map(n,s,d);m?r.push(m):o.onRemove&&o.onRemove(c.local[h].spec)}for(let h=0;h<c.children.length;h+=3)l(c.children[h+2],c.children[h]+d+1)}for(let c=0;c<t.length;c+=3)t[c+1]==-1&&l(t[c+2],e[c]+i+1);return r}function OG(t,e,r){if(e.isLeaf)return null;let n=r+e.nodeSize,s=null;for(let i=0,o;i<t.length;i++)(o=t[i])&&o.from>r&&o.to<n&&((s||(s=[])).push(o),t[i]=null);return s}function EG(t){let e=[];for(let r=0;r<t.length;r++)t[r]!=null&&e.push(t[r]);return e}function Kb(t,e,r,n){let s=[],i=!1;e.forEach((l,c)=>{let d=OG(t,l,c+r);if(d){i=!0;let h=Kb(d,l,r+c+1,n);h!=La&&s.push(c,c+l.nodeSize,h)}});let o=AG(i?EG(t):t,-r).sort(Vu);for(let l=0;l<o.length;l++)o[l].type.valid(e,o[l])||(n.onRemove&&n.onRemove(o[l].spec),o.splice(l--,1));return o.length||s.length?new vn(o,s):La}function Vu(t,e){return t.from-e.from||t.to-e.to}function LO(t){let e=t;for(let r=0;r<e.length-1;r++){let n=e[r];if(n.from!=n.to)for(let s=r+1;s<e.length;s++){let i=e[s];if(i.from==n.from){i.to!=n.to&&(e==t&&(e=t.slice()),e[s]=i.copy(i.from,n.to),LL(e,s+1,i.copy(n.to,i.to)));continue}else{i.from<n.to&&(e==t&&(e=t.slice()),e[r]=n.copy(n.from,i.from),LL(e,s,n.copy(i.from,n.to)));break}}}return e}function LL(t,e,r){for(;e<t.length&&Vu(r,t[e])>0;)e++;t.splice(e,0,r)}function e2(t){let e=[];return t.someProp("decorations",r=>{let n=r(t.state);n&&n!=La&&e.push(n)}),t.cursorWrapper&&e.push(vn.create(t.state.doc,[t.cursorWrapper.deco])),gc.from(e)}const Kbe={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},Xbe=ws&&Tc<=11;class Jbe{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class Qbe{constructor(e,r){this.view=e,this.handleDOMChange=r,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new Jbe,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.lastChangedTextNode=null,this.observer=window.MutationObserver&&new window.MutationObserver(n=>{for(let s=0;s<n.length;s++)this.queue.push(n[s]);ws&&Tc<=11&&n.some(s=>s.type=="childList"&&s.removedNodes.length||s.type=="characterData"&&s.oldValue.length>s.target.nodeValue.length)?this.flushSoon():this.flush()}),Xbe&&(this.onCharData=n=>{this.queue.push({target:n.target,type:"characterData",oldValue:n.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,Kbe)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let r=0;r<e.length;r++)this.queue.push(e[r]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(ML(this.view)){if(this.suppressingSelectionUpdates)return gl(this.view);if(ws&&Tc<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&ed(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let r=new Set,n;for(let i=e.focusNode;i;i=Qf(i))r.add(i);for(let i=e.anchorNode;i;i=Qf(i))if(r.has(i)){n=i;break}let s=n&&this.view.docView.nearestDesc(n);if(s&&s.ignoreMutation({type:"selection",target:n.nodeType==3?n.parentNode:n}))return this.setCurSelection(),!0}pendingRecords(){if(this.observer)for(let e of this.observer.takeRecords())this.queue.push(e);return this.queue}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let r=this.pendingRecords();r.length&&(this.queue=[]);let n=e.domSelectionRange(),s=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(n)&&ML(e)&&!this.ignoreSelectionChange(n),i=-1,o=-1,l=!1,c=[];if(e.editable)for(let h=0;h<r.length;h++){let m=this.registerMutation(r[h],c);m&&(i=i<0?m.from:Math.min(m.from,i),o=o<0?m.to:Math.max(m.to,o),m.typeOver&&(l=!0))}if(pi&&c.length){let h=c.filter(m=>m.nodeName=="BR");if(h.length==2){let[m,g]=h;m.parentNode&&m.parentNode.parentNode==g.parentNode?g.remove():m.remove()}else{let{focusNode:m}=this.currentSelection;for(let g of h){let y=g.parentNode;y&&y.nodeName=="LI"&&(!m||tve(e,m)!=y)&&g.remove()}}}let d=null;i<0&&s&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Jw(n)&&(d=AO(e))&&d.eq(ir.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,gl(e),this.currentSelection.set(n),e.scrollToSelection()):(i>-1||s)&&(i>-1&&(e.docView.markDirty(i,o),Zbe(e)),this.handleDOMChange(i,o,l,c),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(n)||gl(e),this.currentSelection.set(n))}registerMutation(e,r){if(r.indexOf(e.target)>-1)return null;let n=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(n==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!n||n.ignoreMutation(e))return null;if(e.type=="childList"){for(let h=0;h<e.addedNodes.length;h++){let m=e.addedNodes[h];r.push(m),m.nodeType==3&&(this.lastChangedTextNode=m)}if(n.contentDOM&&n.contentDOM!=n.dom&&!n.contentDOM.contains(e.target))return{from:n.posBefore,to:n.posAfter};let s=e.previousSibling,i=e.nextSibling;if(ws&&Tc<=11&&e.addedNodes.length)for(let h=0;h<e.addedNodes.length;h++){let{previousSibling:m,nextSibling:g}=e.addedNodes[h];(!m||Array.prototype.indexOf.call(e.addedNodes,m)<0)&&(s=m),(!g||Array.prototype.indexOf.call(e.addedNodes,g)<0)&&(i=g)}let o=s&&s.parentNode==e.target?Oa(s)+1:0,l=n.localPosFromDOM(e.target,o,-1),c=i&&i.parentNode==e.target?Oa(i):e.target.childNodes.length,d=n.localPosFromDOM(e.target,c,1);return{from:l,to:d}}else return e.type=="attributes"?{from:n.posAtStart-n.border,to:n.posAtEnd+n.border}:(this.lastChangedTextNode=e.target,{from:n.posAtStart,to:n.posAtEnd,typeOver:e.target.nodeValue==e.oldValue})}}let $L=new WeakMap,FL=!1;function Zbe(t){if(!$L.has(t)&&($L.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=pi,FL)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),FL=!0}}function HL(t,e){let r=e.startContainer,n=e.startOffset,s=e.endContainer,i=e.endOffset,o=t.domAtPos(t.state.selection.anchor);return ed(o.node,o.offset,s,i)&&([r,n,s,i]=[s,i,r,n]),{anchorNode:r,anchorOffset:n,focusNode:s,focusOffset:i}}function eve(t,e){if(e.getComposedRanges){let s=e.getComposedRanges(t.root)[0];if(s)return HL(t,s)}let r;function n(s){s.preventDefault(),s.stopImmediatePropagation(),r=s.getTargetRanges()[0]}return t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0),r?HL(t,r):null}function tve(t,e){for(let r=e.parentNode;r&&r!=t.dom;r=r.parentNode){let n=t.docView.nearestDesc(r,!0);if(n&&n.node.isBlock)return r}return null}function rve(t,e,r){let{node:n,fromOffset:s,toOffset:i,from:o,to:l}=t.docView.parseRange(e,r),c=t.domSelectionRange(),d,h=c.anchorNode;if(h&&t.dom.contains(h.nodeType==1?h:h.parentNode)&&(d=[{node:h,offset:c.anchorOffset}],Jw(c)||d.push({node:c.focusNode,offset:c.focusOffset})),za&&t.input.lastKeyCode===8)for(let v=i;v>s;v--){let N=n.childNodes[v-1],T=N.pmViewDesc;if(N.nodeName=="BR"&&!T){i=v;break}if(!T||T.size)break}let m=t.state.doc,g=t.someProp("domParser")||Cc.fromSchema(t.state.schema),y=m.resolve(o),w=null,j=g.parse(n,{topNode:y.parent,topMatch:y.parent.contentMatchAt(y.index()),topOpen:!0,from:s,to:i,preserveWhitespace:y.parent.type.whitespace=="pre"?"full":!0,findPositions:d,ruleFromNode:nve,context:y});if(d&&d[0].pos!=null){let v=d[0].pos,N=d[1]&&d[1].pos;N==null&&(N=v),w={anchor:v+o,head:N+o}}return{doc:j,sel:w,from:o,to:l}}function nve(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if(ss&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let r=document.createElement("div");return r.appendChild(document.createElement("li")),{skip:r}}else if(t.parentNode.lastChild==t||ss&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}const ave=/^(a|abbr|acronym|b|bd[io]|big|br|button|cite|code|data(list)?|del|dfn|em|i|img|ins|kbd|label|map|mark|meter|output|q|ruby|s|samp|small|span|strong|su[bp]|time|u|tt|var)$/i;function sve(t,e,r,n,s){let i=t.input.compositionPendingChanges||(t.composing?t.input.compositionID:0);if(t.input.compositionPendingChanges=0,e<0){let E=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,P=AO(t,E);if(P&&!t.state.selection.eq(P)){if(za&&nl&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",I=>I(t,vu(13,"Enter"))))return;let $=t.state.tr.setSelection(P);E=="pointer"?$.setMeta("pointer",!0):E=="key"&&$.scrollIntoView(),i&&$.setMeta("composition",i),t.dispatch($)}return}let o=t.state.doc.resolve(e),l=o.sharedDepth(r);e=o.before(l+1),r=t.state.doc.resolve(r).after(l+1);let c=t.state.selection,d=rve(t,e,r),h=t.state.doc,m=h.slice(d.from,d.to),g,y;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(g=t.state.selection.to,y="end"):(g=t.state.selection.from,y="start"),t.input.lastKeyCode=null;let w=lve(m.content,d.doc.content,d.from,g,y);if(w&&t.input.domChangeCount++,(Zf&&t.input.lastIOSEnter>Date.now()-225||nl)&&s.some(E=>E.nodeType==1&&!ave.test(E.nodeName))&&(!w||w.endA>=w.endB)&&t.someProp("handleKeyDown",E=>E(t,vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!w)if(n&&c instanceof Zt&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(d.sel&&d.sel.anchor!=d.sel.head))w={start:c.from,endA:c.to,endB:c.to};else{if(d.sel){let E=BL(t,t.state.doc,d.sel);if(E&&!E.eq(t.state.selection)){let P=t.state.tr.setSelection(E);i&&P.setMeta("composition",i),t.dispatch(P)}}return}t.state.selection.from<t.state.selection.to&&w.start==w.endB&&t.state.selection instanceof Zt&&(w.start>t.state.selection.from&&w.start<=t.state.selection.from+2&&t.state.selection.from>=d.from?w.start=t.state.selection.from:w.endA<t.state.selection.to&&w.endA>=t.state.selection.to-2&&t.state.selection.to<=d.to&&(w.endB+=t.state.selection.to-w.endA,w.endA=t.state.selection.to)),ws&&Tc<=11&&w.endB==w.start+1&&w.endA==w.start&&w.start>d.from&&d.doc.textBetween(w.start-d.from-1,w.start-d.from+1)=="  "&&(w.start--,w.endA--,w.endB--);let j=d.doc.resolveNoCache(w.start-d.from),v=d.doc.resolveNoCache(w.endB-d.from),N=h.resolve(w.start),T=j.sameParent(v)&&j.parent.inlineContent&&N.end()>=w.endA;if((Zf&&t.input.lastIOSEnter>Date.now()-225&&(!T||s.some(E=>E.nodeName=="DIV"||E.nodeName=="P"))||!T&&j.pos<d.doc.content.size&&(!j.sameParent(v)||!j.parent.inlineContent)&&j.pos<v.pos&&!/\S/.test(d.doc.textBetween(j.pos,v.pos,"","")))&&t.someProp("handleKeyDown",E=>E(t,vu(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>w.start&&ove(h,w.start,w.endA,j,v)&&t.someProp("handleKeyDown",E=>E(t,vu(8,"Backspace")))){nl&&za&&t.domObserver.suppressSelectionUpdates();return}za&&w.endB==w.start&&(t.input.lastChromeDelete=Date.now()),nl&&!T&&j.start()!=v.start()&&v.parentOffset==0&&j.depth==v.depth&&d.sel&&d.sel.anchor==d.sel.head&&d.sel.head==w.endA&&(w.endB-=2,v=d.doc.resolveNoCache(w.endB-d.from),setTimeout(()=>{t.someProp("handleKeyDown",function(E){return E(t,vu(13,"Enter"))})},20));let S=w.start,O=w.endA,_=E=>{let P=E||t.state.tr.replace(S,O,d.doc.slice(w.start-d.from,w.endB-d.from));if(d.sel){let $=BL(t,P.doc,d.sel);$&&!(za&&t.composing&&$.empty&&(w.start!=w.endB||t.input.lastChromeDelete<Date.now()-100)&&($.head==S||$.head==P.mapping.map(O)-1)||ws&&$.empty&&$.head==S)&&P.setSelection($)}return i&&P.setMeta("composition",i),P.scrollIntoView()},A;if(T){if(j.pos==v.pos){ws&&Tc<=11&&j.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>gl(t),20));let E=_(t.state.tr.delete(S,O)),P=h.resolve(w.start).marksAcross(h.resolve(w.endA));P&&E.ensureMarks(P),t.dispatch(E)}else if(w.endA==w.endB&&(A=ive(j.parent.content.cut(j.parentOffset,v.parentOffset),N.parent.content.cut(N.parentOffset,w.endA-N.start())))){let E=_(t.state.tr);A.type=="add"?E.addMark(S,O,A.mark):E.removeMark(S,O,A.mark),t.dispatch(E)}else if(j.parent.child(j.index()).isText&&j.index()==v.index()-(v.textOffset?0:1)){let E=j.parent.textBetween(j.parentOffset,v.parentOffset),P=()=>_(t.state.tr.insertText(E,S,O));t.someProp("handleTextInput",$=>$(t,S,O,E,P))||t.dispatch(P())}}else t.dispatch(_())}function BL(t,e,r){return Math.max(r.anchor,r.head)>e.content.size?null:OO(t,e.resolve(r.anchor),e.resolve(r.head))}function ive(t,e){let r=t.firstChild.marks,n=e.firstChild.marks,s=r,i=n,o,l,c;for(let h=0;h<n.length;h++)s=n[h].removeFromSet(s);for(let h=0;h<r.length;h++)i=r[h].removeFromSet(i);if(s.length==1&&i.length==0)l=s[0],o="add",c=h=>h.mark(l.addToSet(h.marks));else if(s.length==0&&i.length==1)l=i[0],o="remove",c=h=>h.mark(l.removeFromSet(h.marks));else return null;let d=[];for(let h=0;h<e.childCount;h++)d.push(c(e.child(h)));if(lt.from(d).eq(t))return{mark:l,type:o}}function ove(t,e,r,n,s){if(r-e<=s.pos-n.pos||t2(n,!0,!1)<s.pos)return!1;let i=t.resolve(e);if(!n.parent.isTextblock){let l=i.nodeAfter;return l!=null&&r==e+l.nodeSize}if(i.parentOffset<i.parent.content.size||!i.parent.isTextblock)return!1;let o=t.resolve(t2(i,!0,!0));return!o.parent.isTextblock||o.pos>r||t2(o,!0,!1)<r?!1:n.parent.content.cut(n.parentOffset).eq(o.parent.content)}function t2(t,e,r){let n=t.depth,s=e?t.end():t.pos;for(;n>0&&(e||t.indexAfter(n)==t.node(n).childCount);)n--,s++,e=!1;if(r){let i=t.node(n).maybeChild(t.indexAfter(n));for(;i&&!i.isLeaf;)i=i.firstChild,s++}return s}function lve(t,e,r,n,s){let i=t.findDiffStart(e,r);if(i==null)return null;let{a:o,b:l}=t.findDiffEnd(e,r+t.size,r+e.size);if(s=="end"){let c=Math.max(0,i-Math.min(o,l));n-=o+c-i}if(o<i&&t.size<e.size){let c=n<=i&&n>=o?i-n:0;i-=c,i&&i<e.size&&zL(e.textBetween(i-1,i+1))&&(i+=c?1:-1),l=i+(l-o),o=i}else if(l<i){let c=n<=i&&n>=l?i-n:0;i-=c,i&&i<t.size&&zL(t.textBetween(i-1,i+1))&&(i+=c?1:-1),o=i+(o-l),l=i}return{start:i,endA:o,endB:l}}function zL(t){if(t.length!=2)return!1;let e=t.charCodeAt(0),r=t.charCodeAt(1);return e>=56320&&e<=57343&&r>=55296&&r<=56319}class DG{constructor(e,r){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new Tbe,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=r,this.state=r.state,this.directPlugins=r.plugins||[],this.directPlugins.forEach(GL),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=WL(this),qL(this),this.nodeViews=UL(this),this.docView=SL(this.state.doc,VL(this),e2(this),this.dom,this),this.domObserver=new Qbe(this,(n,s,i,o)=>sve(this,n,s,i,o)),this.domObserver.start(),_be(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let r in e)this._props[r]=e[r];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&A_(this);let r=this._props;this._props=e,e.plugins&&(e.plugins.forEach(GL),this.directPlugins=e.plugins),this.updateStateInner(e.state,r)}setProps(e){let r={};for(let n in this._props)r[n]=this._props[n];r.state=this.state;for(let n in e)r[n]=e[n];this.update(r)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,r){var n;let s=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(CG(this),o=!0),this.state=e;let l=s.plugins!=e.plugins||this._props.plugins!=r.plugins;if(l||this._props.plugins!=r.plugins||this._props.nodeViews!=r.nodeViews){let y=UL(this);uve(y,this.nodeViews)&&(this.nodeViews=y,i=!0)}(l||r.handleDOMEvents!=this._props.handleDOMEvents)&&A_(this),this.editable=WL(this),qL(this);let c=e2(this),d=VL(this),h=s.plugins!=e.plugins&&!s.doc.eq(e.doc)?"reset":e.scrollToSelection>s.scrollToSelection?"to selection":"preserve",m=i||!this.docView.matchesNode(e.doc,d,c);(m||!e.selection.eq(s.selection))&&(o=!0);let g=h=="preserve"&&o&&this.dom.style.overflowAnchor==null&&zye(this);if(o){this.domObserver.stop();let y=m&&(ws||za)&&!this.composing&&!s.selection.empty&&!e.selection.empty&&cve(s.selection,e.selection);if(m){let w=za?this.trackWrites=this.domSelectionRange().focusNode:null;this.composing&&(this.input.compositionNode=Bbe(this)),(i||!this.docView.update(e.doc,d,c,this))&&(this.docView.updateOuterDeco(d),this.docView.destroy(),this.docView=SL(e.doc,d,c,this.dom,this)),w&&!this.trackWrites&&(y=!0)}y||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&fbe(this))?gl(this,y):(mG(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(s),!((n=this.dragging)===null||n===void 0)&&n.node&&!s.doc.eq(e.doc)&&this.updateDraggedNode(this.dragging,s),h=="reset"?this.dom.scrollTop=0:h=="to selection"?this.scrollToSelection():g&&Vye(g)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!(!e||!this.dom.contains(e.nodeType==1?e:e.parentNode))){if(!this.someProp("handleScrollToSelection",r=>r(this)))if(this.state.selection instanceof qt){let r=this.docView.domAfterPos(this.state.selection.from);r.nodeType==1&&xL(this,r.getBoundingClientRect(),e)}else xL(this,this.coordsAtPos(this.state.selection.head,1),e)}}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let r=0;r<this.directPlugins.length;r++){let n=this.directPlugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}for(let r=0;r<this.state.plugins.length;r++){let n=this.state.plugins[r];n.spec.view&&this.pluginViews.push(n.spec.view(this))}}else for(let r=0;r<this.pluginViews.length;r++){let n=this.pluginViews[r];n.update&&n.update(this,e)}}updateDraggedNode(e,r){let n=e.node,s=-1;if(this.state.doc.nodeAt(n.from)==n.node)s=n.from;else{let i=n.from+(this.state.doc.content.size-r.doc.content.size);(i>0&&this.state.doc.nodeAt(i))==n.node&&(s=i)}this.dragging=new _G(e.slice,e.move,s<0?void 0:qt.create(this.state.doc,s))}someProp(e,r){let n=this._props&&this._props[e],s;if(n!=null&&(s=r?r(n):n))return s;for(let o=0;o<this.directPlugins.length;o++){let l=this.directPlugins[o].props[e];if(l!=null&&(s=r?r(l):l))return s}let i=this.state.plugins;if(i)for(let o=0;o<i.length;o++){let l=i[o].props[e];if(l!=null&&(s=r?r(l):l))return s}}hasFocus(){if(ws){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&qye(this.dom),gl(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let r=this.dom.parentNode;r;r=r.parentNode)if(r.nodeType==9||r.nodeType==11&&r.host)return r.getSelection||(Object.getPrototypeOf(r).getSelection=()=>r.ownerDocument.getSelection()),this._root=r}return e||document}updateRoot(){this._root=null}posAtCoords(e){return Kye(this,e)}coordsAtPos(e,r=1){return iG(this,e,r)}domAtPos(e,r=0){return this.docView.domFromPos(e,r)}nodeDOM(e){let r=this.docView.descAt(e);return r?r.nodeDOM:null}posAtDOM(e,r,n=-1){let s=this.docView.posFromDOM(e,r,n);if(s==null)throw new RangeError("DOM position not inside the editor");return s}endOfTextblock(e,r){return ebe(this,r||this.state,e)}pasteHTML(e,r){return o0(this,"",e,!1,r||new ClipboardEvent("paste"))}pasteText(e,r){return o0(this,e,null,!0,r||new ClipboardEvent("paste"))}serializeForClipboard(e){return EO(this,e)}destroy(){this.docView&&(Mbe(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],e2(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null,Oye())}get isDestroyed(){return this.docView==null}dispatchEvent(e){return Obe(this,e)}domSelectionRange(){let e=this.domSelection();return e?ss&&this.root.nodeType===11&&Iye(this.dom.ownerDocument)==this.dom&&eve(this,e)||e:{focusNode:null,focusOffset:0,anchorNode:null,anchorOffset:0}}domSelection(){return this.root.getSelection()}}DG.prototype.dispatch=function(t){let e=this._props.dispatchTransaction;e?e.call(this,t):this.updateState(this.state.apply(t))};function VL(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),t.someProp("attributes",r=>{if(typeof r=="function"&&(r=r(t.state)),r)for(let n in r)n=="class"?e.class+=" "+r[n]:n=="style"?e.style=(e.style?e.style+";":"")+r[n]:!e[n]&&n!="contenteditable"&&n!="nodeName"&&(e[n]=String(r[n]))}),e.translate||(e.translate="no"),[Qa.node(0,t.state.doc.content.size,e)]}function qL(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:Qa.widget(t.state.selection.from,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function WL(t){return!t.someProp("editable",e=>e(t.state)===!1)}function cve(t,e){let r=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(r)!=e.$anchor.start(r)}function UL(t){let e=Object.create(null);function r(n){for(let s in n)Object.prototype.hasOwnProperty.call(e,s)||(e[s]=n[s])}return t.someProp("nodeViews",r),t.someProp("markViews",r),e}function uve(t,e){let r=0,n=0;for(let s in t){if(t[s]!=e[s])return!0;r++}for(let s in e)n++;return r!=n}function GL(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var Ic={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Xb={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},dve=typeof navigator<"u"&&/Mac/.test(navigator.platform),fve=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent);for(var Ea=0;Ea<10;Ea++)Ic[48+Ea]=Ic[96+Ea]=String(Ea);for(var Ea=1;Ea<=24;Ea++)Ic[Ea+111]="F"+Ea;for(var Ea=65;Ea<=90;Ea++)Ic[Ea]=String.fromCharCode(Ea+32),Xb[Ea]=String.fromCharCode(Ea);for(var r2 in Ic)Xb.hasOwnProperty(r2)||(Xb[r2]=Ic[r2]);function hve(t){var e=dve&&t.metaKey&&t.shiftKey&&!t.ctrlKey&&!t.altKey||fve&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",r=!e&&t.key||(t.shiftKey?Xb:Ic)[t.keyCode]||t.key||"Unidentified";return r=="Esc"&&(r="Escape"),r=="Del"&&(r="Delete"),r=="Left"&&(r="ArrowLeft"),r=="Up"&&(r="ArrowUp"),r=="Right"&&(r="ArrowRight"),r=="Down"&&(r="ArrowDown"),r}const mve=typeof navigator<"u"&&/Mac|iP(hone|[oa]d)/.test(navigator.platform),pve=typeof navigator<"u"&&/Win/.test(navigator.platform);function gve(t){let e=t.split(/-(?!$)/),r=e[e.length-1];r=="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l++){let c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))mve?o=!0:s=!0;else throw new Error("Unrecognized modifier name: "+c)}return n&&(r="Alt-"+r),s&&(r="Ctrl-"+r),o&&(r="Meta-"+r),i&&(r="Shift-"+r),r}function xve(t){let e=Object.create(null);for(let r in t)e[gve(r)]=t[r];return e}function n2(t,e,r=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),r&&e.shiftKey&&(t="Shift-"+t),t}function yve(t){return new Ln({props:{handleKeyDown:PG(t)}})}function PG(t){let e=xve(t);return function(r,n){let s=hve(n),i,o=e[n2(s,n)];if(o&&o(r.state,r.dispatch,r))return!0;if(s.length==1&&s!=" "){if(n.shiftKey){let l=e[n2(s,n,!1)];if(l&&l(r.state,r.dispatch,r))return!0}if((n.altKey||n.metaKey||n.ctrlKey)&&!(pve&&n.ctrlKey&&n.altKey)&&(i=Ic[n.keyCode])&&i!=s){let l=e[n2(i,n)];if(l&&l(r.state,r.dispatch,r))return!0}}return!1}}const $O=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function RG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("backward",t):r.parentOffset>0)?null:r}const IG=(t,e,r)=>{let n=RG(t,r);if(!n)return!1;let s=FO(n);if(!s){let o=n.blockRange(),l=o&&Ih(o);return l==null?!1:(e&&e(t.tr.lift(o,l).scrollIntoView()),!0)}let i=s.nodeBefore;if(WG(t,s,e,-1))return!0;if(n.parent.content.size==0&&(eh(i,"end")||qt.isSelectable(i)))for(let o=n.depth;;o--){let l=Kw(t.doc,n.before(o),n.after(o),Mt.empty);if(l&&l.slice.size<l.to-l.from){if(e){let c=t.tr.step(l);c.setSelection(eh(i,"end")?ir.findFrom(c.doc.resolve(c.mapping.map(s.pos,-1)),-1):qt.create(c.doc,s.pos-i.nodeSize)),e(c.scrollIntoView())}return!0}if(o==1||n.node(o-1).childCount>1)break}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos-i.nodeSize,s.pos).scrollIntoView()),!0):!1},bve=(t,e,r)=>{let n=RG(t,r);if(!n)return!1;let s=FO(n);return s?LG(t,s,e):!1},vve=(t,e,r)=>{let n=FG(t,r);if(!n)return!1;let s=HO(n);return s?LG(t,s,e):!1};function LG(t,e,r){let n=e.nodeBefore,s=n,i=e.pos-1;for(;!s.isTextblock;i--){if(s.type.spec.isolating)return!1;let h=s.lastChild;if(!h)return!1;s=h}let o=e.nodeAfter,l=o,c=e.pos+1;for(;!l.isTextblock;c++){if(l.type.spec.isolating)return!1;let h=l.firstChild;if(!h)return!1;l=h}let d=Kw(t.doc,i,c,Mt.empty);if(!d||d.from!=i||d instanceof ma&&d.slice.size>=c-i)return!1;if(r){let h=t.tr.step(d);h.setSelection(Zt.create(h.doc,i)),r(h.scrollIntoView())}return!0}function eh(t,e,r=!1){for(let n=t;n;n=e=="start"?n.firstChild:n.lastChild){if(n.isTextblock)return!0;if(r&&n.childCount!=1)return!1}return!1}const $G=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("backward",t):n.parentOffset>0)return!1;i=FO(n)}let o=i&&i.nodeBefore;return!o||!qt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(qt.create(t.doc,i.pos-o.nodeSize)).scrollIntoView()),!0)};function FO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function FG(t,e){let{$cursor:r}=t.selection;return!r||(e?!e.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)?null:r}const HG=(t,e,r)=>{let n=FG(t,r);if(!n)return!1;let s=HO(n);if(!s)return!1;let i=s.nodeAfter;if(WG(t,s,e,1))return!0;if(n.parent.content.size==0&&(eh(i,"start")||qt.isSelectable(i))){let o=Kw(t.doc,n.before(),n.after(),Mt.empty);if(o&&o.slice.size<o.to-o.from){if(e){let l=t.tr.step(o);l.setSelection(eh(i,"start")?ir.findFrom(l.doc.resolve(l.mapping.map(s.pos)),1):qt.create(l.doc,l.mapping.map(s.pos))),e(l.scrollIntoView())}return!0}}return i.isAtom&&s.depth==n.depth-1?(e&&e(t.tr.delete(s.pos,s.pos+i.nodeSize).scrollIntoView()),!0):!1},BG=(t,e,r)=>{let{$head:n,empty:s}=t.selection,i=n;if(!s)return!1;if(n.parent.isTextblock){if(r?!r.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)return!1;i=HO(n)}let o=i&&i.nodeAfter;return!o||!qt.isSelectable(o)?!1:(e&&e(t.tr.setSelection(qt.create(t.doc,i.pos)).scrollIntoView()),!0)};function HO(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let r=t.node(e);if(t.index(e)+1<r.childCount)return t.doc.resolve(t.after(e+1));if(r.type.spec.isolating)break}return null}const wve=(t,e)=>{let r=t.selection,n=r instanceof qt,s;if(n){if(r.node.isTextblock||!Hc(t.doc,r.from))return!1;s=r.from}else if(s=Yw(t.doc,r.from,-1),s==null)return!1;if(e){let i=t.tr.join(s);n&&i.setSelection(qt.create(i.doc,s-t.doc.resolve(s).nodeBefore.nodeSize)),e(i.scrollIntoView())}return!0},jve=(t,e)=>{let r=t.selection,n;if(r instanceof qt){if(r.node.isTextblock||!Hc(t.doc,r.to))return!1;n=r.to}else if(n=Yw(t.doc,r.to,1),n==null)return!1;return e&&e(t.tr.join(n).scrollIntoView()),!0},Sve=(t,e)=>{let{$from:r,$to:n}=t.selection,s=r.blockRange(n),i=s&&Ih(s);return i==null?!1:(e&&e(t.tr.lift(s,i).scrollIntoView()),!0)},zG=(t,e)=>{let{$head:r,$anchor:n}=t.selection;return!r.parent.type.spec.code||!r.sameParent(n)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function BO(t){for(let e=0;e<t.edgeCount;e++){let{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}const Nve=(t,e)=>{let{$head:r,$anchor:n}=t.selection;if(!r.parent.type.spec.code||!r.sameParent(n))return!1;let s=r.node(-1),i=r.indexAfter(-1),o=BO(s.contentMatchAt(i));if(!o||!s.canReplaceWith(i,i,o))return!1;if(e){let l=r.after(),c=t.tr.replaceWith(l,l,o.createAndFill());c.setSelection(ir.near(c.doc.resolve(l),1)),e(c.scrollIntoView())}return!0},VG=(t,e)=>{let r=t.selection,{$from:n,$to:s}=r;if(r instanceof Hs||n.parent.inlineContent||s.parent.inlineContent)return!1;let i=BO(s.parent.contentMatchAt(s.indexAfter()));if(!i||!i.isTextblock)return!1;if(e){let o=(!n.parentOffset&&s.index()<s.parent.childCount?n:s).pos,l=t.tr.insert(o,i.createAndFill());l.setSelection(Zt.create(l.doc,o+1)),e(l.scrollIntoView())}return!0},qG=(t,e)=>{let{$cursor:r}=t.selection;if(!r||r.parent.content.size)return!1;if(r.depth>1&&r.after()!=r.end(-1)){let i=r.before();if(pl(t.doc,i))return e&&e(t.tr.split(i).scrollIntoView()),!0}let n=r.blockRange(),s=n&&Ih(n);return s==null?!1:(e&&e(t.tr.lift(n,s).scrollIntoView()),!0)};function kve(t){return(e,r)=>{let{$from:n,$to:s}=e.selection;if(e.selection instanceof qt&&e.selection.node.isBlock)return!n.parentOffset||!pl(e.doc,n.pos)?!1:(r&&r(e.tr.split(n.pos).scrollIntoView()),!0);if(!n.depth)return!1;let i=[],o,l,c=!1,d=!1;for(let y=n.depth;;y--)if(n.node(y).isBlock){c=n.end(y)==n.pos+(n.depth-y),d=n.start(y)==n.pos-(n.depth-y),l=BO(n.node(y-1).contentMatchAt(n.indexAfter(y-1))),i.unshift(c&&l?{type:l}:null),o=y;break}else{if(y==1)return!1;i.unshift(null)}let h=e.tr;(e.selection instanceof Zt||e.selection instanceof Hs)&&h.deleteSelection();let m=h.mapping.map(n.pos),g=pl(h.doc,m,i.length,i);if(g||(i[0]=l?{type:l}:null,g=pl(h.doc,m,i.length,i)),!g)return!1;if(h.split(m,i.length,i),!c&&d&&n.node(o).type!=l){let y=h.mapping.map(n.before(o)),w=h.doc.resolve(y);l&&n.node(o-1).canReplaceWith(w.index(),w.index()+1,l)&&h.setNodeMarkup(h.mapping.map(n.before(o)),l)}return r&&r(h.scrollIntoView()),!0}}const Cve=kve(),Tve=(t,e)=>{let{$from:r,to:n}=t.selection,s,i=r.sharedDepth(n);return i==0?!1:(s=r.before(i),e&&e(t.tr.setSelection(qt.create(t.doc,s))),!0)};function _ve(t,e,r){let n=e.nodeBefore,s=e.nodeAfter,i=e.index();return!n||!s||!n.type.compatibleContent(s.type)?!1:!n.content.size&&e.parent.canReplace(i-1,i)?(r&&r(t.tr.delete(e.pos-n.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(i,i+1)||!(s.isTextblock||Hc(t.doc,e.pos))?!1:(r&&r(t.tr.join(e.pos).scrollIntoView()),!0)}function WG(t,e,r,n){let s=e.nodeBefore,i=e.nodeAfter,o,l,c=s.type.spec.isolating||i.type.spec.isolating;if(!c&&_ve(t,e,r))return!0;let d=!c&&e.parent.canReplace(e.index(),e.index()+1);if(d&&(o=(l=s.contentMatchAt(s.childCount)).findWrapping(i.type))&&l.matchType(o[0]||i.type).validEnd){if(r){let y=e.pos+i.nodeSize,w=lt.empty;for(let N=o.length-1;N>=0;N--)w=lt.from(o[N].create(null,w));w=lt.from(s.copy(w));let j=t.tr.step(new ga(e.pos-1,y,e.pos,y,new Mt(w,1,0),o.length,!0)),v=j.doc.resolve(y+2*o.length);v.nodeAfter&&v.nodeAfter.type==s.type&&Hc(j.doc,v.pos)&&j.join(v.pos),r(j.scrollIntoView())}return!0}let h=i.type.spec.isolating||n>0&&c?null:ir.findFrom(e,1),m=h&&h.$from.blockRange(h.$to),g=m&&Ih(m);if(g!=null&&g>=e.depth)return r&&r(t.tr.lift(m,g).scrollIntoView()),!0;if(d&&eh(i,"start",!0)&&eh(s,"end")){let y=s,w=[];for(;w.push(y),!y.isTextblock;)y=y.lastChild;let j=i,v=1;for(;!j.isTextblock;j=j.firstChild)v++;if(y.canReplace(y.childCount,y.childCount,j.content)){if(r){let N=lt.empty;for(let S=w.length-1;S>=0;S--)N=lt.from(w[S].copy(N));let T=t.tr.step(new ga(e.pos-w.length,e.pos+i.nodeSize,e.pos+v,e.pos+i.nodeSize-v,new Mt(N,w.length,0),0,!0));r(T.scrollIntoView())}return!0}}return!1}function UG(t){return function(e,r){let n=e.selection,s=t<0?n.$from:n.$to,i=s.depth;for(;s.node(i).isInline;){if(!i)return!1;i--}return s.node(i).isTextblock?(r&&r(e.tr.setSelection(Zt.create(e.doc,t<0?s.start(i):s.end(i)))),!0):!1}}const Mve=UG(-1),Ave=UG(1);function Ove(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i),l=o&&TO(o,t,e);return l?(n&&n(r.tr.wrap(o,l).scrollIntoView()),!0):!1}}function YL(t,e=null){return function(r,n){let s=!1;for(let i=0;i<r.selection.ranges.length&&!s;i++){let{$from:{pos:o},$to:{pos:l}}=r.selection.ranges[i];r.doc.nodesBetween(o,l,(c,d)=>{if(s)return!1;if(!(!c.isTextblock||c.hasMarkup(t,e)))if(c.type==t)s=!0;else{let h=r.doc.resolve(d),m=h.index();s=h.parent.canReplaceWith(m,m+1,t)}})}if(!s)return!1;if(n){let i=r.tr;for(let o=0;o<r.selection.ranges.length;o++){let{$from:{pos:l},$to:{pos:c}}=r.selection.ranges[o];i.setBlockType(l,c,t,e)}n(i.scrollIntoView())}return!0}}function zO(...t){return function(e,r,n){for(let s=0;s<t.length;s++)if(t[s](e,r,n))return!0;return!1}}zO($O,IG,$G);zO($O,HG,BG);zO(zG,VG,qG,Cve);typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function Eve(t,e=null){return function(r,n){let{$from:s,$to:i}=r.selection,o=s.blockRange(i);if(!o)return!1;let l=n?r.tr:null;return Dve(l,o,t,e)?(n&&n(l.scrollIntoView()),!0):!1}}function Dve(t,e,r,n=null){let s=!1,i=e,o=e.$from.doc;if(e.depth>=2&&e.$from.node(e.depth-1).type.compatibleContent(r)&&e.startIndex==0){if(e.$from.index(e.depth-1)==0)return!1;let c=o.resolve(e.start-2);i=new Vb(c,c,e.depth),e.endIndex<e.parent.childCount&&(e=new Vb(e.$from,o.resolve(e.$to.end(e.depth)),e.depth)),s=!0}let l=TO(i,r,n,e);return l?(t&&Pve(t,e,l,s,r),!0):!1}function Pve(t,e,r,n,s){let i=lt.empty;for(let h=r.length-1;h>=0;h--)i=lt.from(r[h].type.create(r[h].attrs,i));t.step(new ga(e.start-(n?2:0),e.end,e.start,e.end,new Mt(i,0,0),r.length,!0));let o=0;for(let h=0;h<r.length;h++)r[h].type==s&&(o=h+1);let l=r.length-o,c=e.start+r.length-(n?2:0),d=e.parent;for(let h=e.startIndex,m=e.endIndex,g=!0;h<m;h++,g=!1)!g&&pl(t.doc,c,l)&&(t.split(c,l),c+=2*l),c+=d.child(h).nodeSize;return t}function Rve(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,o=>o.childCount>0&&o.firstChild.type==t);return i?r?n.node(i.depth-1).type==t?Ive(e,r,t,i):Lve(e,r,i):!0:!1}}function Ive(t,e,r,n){let s=t.tr,i=n.end,o=n.$to.end(n.depth);i<o&&(s.step(new ga(i-1,o,i,o,new Mt(lt.from(r.create(null,n.parent.copy())),1,0),1,!0)),n=new Vb(s.doc.resolve(n.$from.pos),s.doc.resolve(o),n.depth));const l=Ih(n);if(l==null)return!1;s.lift(n,l);let c=s.doc.resolve(s.mapping.map(i,-1)-1);return Hc(s.doc,c.pos)&&c.nodeBefore.type==c.nodeAfter.type&&s.join(c.pos),e(s.scrollIntoView()),!0}function Lve(t,e,r){let n=t.tr,s=r.parent;for(let y=r.end,w=r.endIndex-1,j=r.startIndex;w>j;w--)y-=s.child(w).nodeSize,n.delete(y-1,y+1);let i=n.doc.resolve(r.start),o=i.nodeAfter;if(n.mapping.map(r.end)!=r.start+i.nodeAfter.nodeSize)return!1;let l=r.startIndex==0,c=r.endIndex==s.childCount,d=i.node(-1),h=i.index(-1);if(!d.canReplace(h+(l?0:1),h+1,o.content.append(c?lt.empty:lt.from(s))))return!1;let m=i.pos,g=m+o.nodeSize;return n.step(new ga(m-(l?1:0),g+(c?1:0),m+1,g-1,new Mt((l?lt.empty:lt.from(s.copy(lt.empty))).append(c?lt.empty:lt.from(s.copy(lt.empty))),l?0:1,c?0:1),l?0:1)),e(n.scrollIntoView()),!0}function $ve(t){return function(e,r){let{$from:n,$to:s}=e.selection,i=n.blockRange(s,d=>d.childCount>0&&d.firstChild.type==t);if(!i)return!1;let o=i.startIndex;if(o==0)return!1;let l=i.parent,c=l.child(o-1);if(c.type!=t)return!1;if(r){let d=c.lastChild&&c.lastChild.type==l.type,h=lt.from(d?t.create():null),m=new Mt(lt.from(t.create(null,lt.from(l.type.create(null,h)))),d?3:1,0),g=i.start,y=i.end;r(e.tr.step(new ga(g-(d?3:1),y,g,y,m,1,!0)).scrollIntoView())}return!0}}var Fve=Object.defineProperty,GG=(t,e)=>{for(var r in e)Fve(t,r,{get:e[r],enumerable:!0})};function e1(t){const{state:e,transaction:r}=t;let{selection:n}=r,{doc:s}=r,{storedMarks:i}=r;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return i},get selection(){return n},get doc(){return s},get tr(){return n=r.selection,s=r.doc,i=r.storedMarks,r}}}var t1=class{constructor(t){this.editor=t.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=t.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:t,editor:e,state:r}=this,{view:n}=e,{tr:s}=r,i=this.buildProps(s);return Object.fromEntries(Object.entries(t).map(([o,l])=>[o,(...d)=>{const h=l(...d)(i);return!s.getMeta("preventDispatch")&&!this.hasCustomState&&n.dispatch(s),h}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o=[],l=!!t,c=t||s.tr,d=()=>(!l&&e&&!c.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(c),o.every(m=>m===!0)),h={...Object.fromEntries(Object.entries(r).map(([m,g])=>[m,(...w)=>{const j=this.buildProps(c,e),v=g(...w)(j);return o.push(v),h}])),run:d};return h}createCan(t){const{rawCommands:e,state:r}=this,n=!1,s=t||r.tr,i=this.buildProps(s,n);return{...Object.fromEntries(Object.entries(e).map(([l,c])=>[l,(...d)=>c(...d)({...i,dispatch:void 0})])),chain:()=>this.createChain(s,n)}}buildProps(t,e=!0){const{rawCommands:r,editor:n,state:s}=this,{view:i}=n,o={tr:t,editor:n,view:i,state:e1({state:s,transaction:t}),dispatch:e?()=>{}:void 0,chain:()=>this.createChain(t,e),can:()=>this.createCan(t),get commands(){return Object.fromEntries(Object.entries(r).map(([l,c])=>[l,(...d)=>c(...d)(o)]))}};return o}},Hve=class{constructor(){this.callbacks={}}on(e,r){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(r),this}emit(e,...r){const n=this.callbacks[e];return n&&n.forEach(s=>s.apply(this,r)),this}off(e,r){const n=this.callbacks[e];return n&&(r?this.callbacks[e]=n.filter(s=>s!==r):delete this.callbacks[e]),this}once(e,r){const n=(...s)=>{this.off(e,n),r.apply(this,s)};return this.on(e,n)}removeAllListeners(){this.callbacks={}}};function YG(t,e){const r=new JU(t);return e.forEach(n=>{n.steps.forEach(s=>{r.step(s)})}),r}var KG=t=>{const e=t.childNodes;for(let r=e.length-1;r>=0;r-=1){const n=e[r];n.nodeType===3&&n.nodeValue&&/^(\n\s\s|\n)$/.test(n.nodeValue)?t.removeChild(n):n.nodeType===1&&KG(n)}return t};function cy(t){if(typeof window>"u")throw new Error("[tiptap error]: there is no window object available, so this function cannot be used");const e=`<body>${t}</body>`,r=new window.DOMParser().parseFromString(e,"text/html").body;return KG(r)}function c0(t,e,r){if(t instanceof kc||t instanceof lt)return t;r={slice:!0,parseOptions:{},...r};const n=typeof t=="object"&&t!==null,s=typeof t=="string";if(n)try{if(Array.isArray(t)&&t.length>0)return lt.fromArray(t.map(l=>e.nodeFromJSON(l)));const o=e.nodeFromJSON(t);return r.errorOnInvalidContent&&o.check(),o}catch(i){if(r.errorOnInvalidContent)throw new Error("[tiptap error]: Invalid JSON content",{cause:i});return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",i),c0("",e,r)}if(s){if(r.errorOnInvalidContent){let o=!1,l="";const c=new RU({topNode:e.spec.topNode,marks:e.spec.marks,nodes:e.spec.nodes.append({__tiptap__private__unknown__catch__all__node:{content:"inline*",group:"block",parseDOM:[{tag:"*",getAttrs:d=>(o=!0,l=typeof d=="string"?d:d.outerHTML,null)}]}})});if(r.slice?Cc.fromSchema(c).parseSlice(cy(t),r.parseOptions):Cc.fromSchema(c).parse(cy(t),r.parseOptions),r.errorOnInvalidContent&&o)throw new Error("[tiptap error]: Invalid HTML content",{cause:new Error(`Invalid element found: ${l}`)})}const i=Cc.fromSchema(e);return r.slice?i.parseSlice(cy(t),r.parseOptions).content:i.parse(cy(t),r.parseOptions)}return c0("",e,r)}function O_(t,e,r={},n={}){return c0(t,e,{slice:!1,parseOptions:r,errorOnInvalidContent:n.errorOnInvalidContent})}function Bve(t){for(let e=0;e<t.edgeCount;e+=1){const{type:r}=t.edge(e);if(r.isTextblock&&!r.hasRequiredAttrs())return r}return null}function zve(t,e,r){const n=[];return t.nodesBetween(e.from,e.to,(s,i)=>{r(s)&&n.push({node:s,pos:i})}),n}function Vve(t,e){for(let r=t.depth;r>0;r-=1){const n=t.node(r);if(e(n))return{pos:r>0?t.before(r):0,start:t.start(r),depth:r,node:n}}}function r1(t){return e=>Vve(e.$from,t)}function Bt(t,e,r){return t.config[e]===void 0&&t.parent?Bt(t.parent,e,r):typeof t.config[e]=="function"?t.config[e].bind({...r,parent:t.parent?Bt(t.parent,e,r):null}):t.config[e]}function VO(t){return t.map(e=>{const r={name:e.name,options:e.options,storage:e.storage},n=Bt(e,"addExtensions",r);return n?[e,...VO(n())]:e}).flat(10)}function qO(t,e){const r=dd.fromSchema(e).serializeFragment(t),s=document.implementation.createHTMLDocument().createElement("div");return s.appendChild(r),s.innerHTML}function XG(t){return typeof t=="function"}function Ur(t,e=void 0,...r){return XG(t)?e?t.bind(e)(...r):t(...r):t}function qve(t={}){return Object.keys(t).length===0&&t.constructor===Object}function u0(t){const e=t.filter(s=>s.type==="extension"),r=t.filter(s=>s.type==="node"),n=t.filter(s=>s.type==="mark");return{baseExtensions:e,nodeExtensions:r,markExtensions:n}}function JG(t){const e=[],{nodeExtensions:r,markExtensions:n}=u0(t),s=[...r,...n],i={default:null,validate:void 0,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage,extensions:s},c=Bt(o,"addGlobalAttributes",l);if(!c)return;c().forEach(h=>{h.types.forEach(m=>{Object.entries(h.attributes).forEach(([g,y])=>{e.push({type:m,name:g,attribute:{...i,...y}})})})})}),s.forEach(o=>{const l={name:o.name,options:o.options,storage:o.storage},c=Bt(o,"addAttributes",l);if(!c)return;const d=c();Object.entries(d).forEach(([h,m])=>{const g={...i,...m};typeof(g==null?void 0:g.default)=="function"&&(g.default=g.default()),g!=null&&g.isRequired&&(g==null?void 0:g.default)===void 0&&delete g.default,e.push({type:o.name,name:h,attribute:g})})}),e}function Rn(...t){return t.filter(e=>!!e).reduce((e,r)=>{const n={...e};return Object.entries(r).forEach(([s,i])=>{if(!n[s]){n[s]=i;return}if(s==="class"){const l=i?String(i).split(" "):[],c=n[s]?n[s].split(" "):[],d=l.filter(h=>!c.includes(h));n[s]=[...c,...d].join(" ")}else if(s==="style"){const l=i?i.split(";").map(h=>h.trim()).filter(Boolean):[],c=n[s]?n[s].split(";").map(h=>h.trim()).filter(Boolean):[],d=new Map;c.forEach(h=>{const[m,g]=h.split(":").map(y=>y.trim());d.set(m,g)}),l.forEach(h=>{const[m,g]=h.split(":").map(y=>y.trim());d.set(m,g)}),n[s]=Array.from(d.entries()).map(([h,m])=>`${h}: ${m}`).join("; ")}else n[s]=i}),n},{})}function Jb(t,e){return e.filter(r=>r.type===t.type.name).filter(r=>r.attribute.rendered).map(r=>r.attribute.renderHTML?r.attribute.renderHTML(t.attrs)||{}:{[r.name]:t.attrs[r.name]}).reduce((r,n)=>Rn(r,n),{})}function Wve(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function KL(t,e){return"style"in t?t:{...t,getAttrs:r=>{const n=t.getAttrs?t.getAttrs(r):t.attrs;if(n===!1)return!1;const s=e.reduce((i,o)=>{const l=o.attribute.parseHTML?o.attribute.parseHTML(r):Wve(r.getAttribute(o.name));return l==null?i:{...i,[o.name]:l}},{});return{...n,...s}}}}function XL(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>e==="attrs"&&qve(r)?!1:r!=null))}function Uve(t,e){var r;const n=JG(t),{nodeExtensions:s,markExtensions:i}=u0(t),o=(r=s.find(d=>Bt(d,"topNode")))==null?void 0:r.name,l=Object.fromEntries(s.map(d=>{const h=n.filter(N=>N.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((N,T)=>{const S=Bt(T,"extendNodeSchema",m);return{...N,...S?S(d):{}}},{}),y=XL({...g,content:Ur(Bt(d,"content",m)),marks:Ur(Bt(d,"marks",m)),group:Ur(Bt(d,"group",m)),inline:Ur(Bt(d,"inline",m)),atom:Ur(Bt(d,"atom",m)),selectable:Ur(Bt(d,"selectable",m)),draggable:Ur(Bt(d,"draggable",m)),code:Ur(Bt(d,"code",m)),whitespace:Ur(Bt(d,"whitespace",m)),linebreakReplacement:Ur(Bt(d,"linebreakReplacement",m)),defining:Ur(Bt(d,"defining",m)),isolating:Ur(Bt(d,"isolating",m)),attrs:Object.fromEntries(h.map(N=>{var T,S;return[N.name,{default:(T=N==null?void 0:N.attribute)==null?void 0:T.default,validate:(S=N==null?void 0:N.attribute)==null?void 0:S.validate}]}))}),w=Ur(Bt(d,"parseHTML",m));w&&(y.parseDOM=w.map(N=>KL(N,h)));const j=Bt(d,"renderHTML",m);j&&(y.toDOM=N=>j({node:N,HTMLAttributes:Jb(N,h)}));const v=Bt(d,"renderText",m);return v&&(y.toText=v),[d.name,y]})),c=Object.fromEntries(i.map(d=>{const h=n.filter(v=>v.type===d.name),m={name:d.name,options:d.options,storage:d.storage,editor:e},g=t.reduce((v,N)=>{const T=Bt(N,"extendMarkSchema",m);return{...v,...T?T(d):{}}},{}),y=XL({...g,inclusive:Ur(Bt(d,"inclusive",m)),excludes:Ur(Bt(d,"excludes",m)),group:Ur(Bt(d,"group",m)),spanning:Ur(Bt(d,"spanning",m)),code:Ur(Bt(d,"code",m)),attrs:Object.fromEntries(h.map(v=>{var N,T;return[v.name,{default:(N=v==null?void 0:v.attribute)==null?void 0:N.default,validate:(T=v==null?void 0:v.attribute)==null?void 0:T.validate}]}))}),w=Ur(Bt(d,"parseHTML",m));w&&(y.parseDOM=w.map(v=>KL(v,h)));const j=Bt(d,"renderHTML",m);return j&&(y.toDOM=v=>j({mark:v,HTMLAttributes:Jb(v,h)})),[d.name,y]}));return new RU({topNode:o,nodes:l,marks:c})}function Gve(t){const e=t.filter((r,n)=>t.indexOf(r)!==n);return Array.from(new Set(e))}function WO(t){return t.sort((r,n)=>{const s=Bt(r,"priority")||100,i=Bt(n,"priority")||100;return s>i?-1:s<i?1:0})}function QG(t){const e=WO(VO(t)),r=Gve(e.map(n=>n.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(n=>`'${n}'`).join(", ")}]. This can lead to issues.`),e}function ZG(t,e,r){const{from:n,to:s}=e,{blockSeparator:i=`

`,textSerializers:o={}}=r||{};let l="";return t.nodesBetween(n,s,(c,d,h,m)=>{var g;c.isBlock&&d>n&&(l+=i);const y=o==null?void 0:o[c.type.name];if(y)return h&&(l+=y({node:c,pos:d,parent:h,index:m,range:e})),!1;c.isText&&(l+=(g=c==null?void 0:c.text)==null?void 0:g.slice(Math.max(n,d)-d,s-d))}),l}function Yve(t,e){const r={from:0,to:t.content.size};return ZG(t,r,e)}function eY(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,r])=>[e,r.spec.toText]))}function El(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}function tY(t,e){const r=El(e,t.schema),{from:n,to:s,empty:i}=t.selection,o=[];i?(t.storedMarks&&o.push(...t.storedMarks),o.push(...t.selection.$head.marks())):t.doc.nodesBetween(n,s,c=>{o.push(...c.marks)});const l=o.find(c=>c.type.name===r.name);return l?{...l.attrs}:{}}function ea(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function Kve(t,e){const r=ea(e,t.schema),{from:n,to:s}=t.selection,i=[];t.doc.nodesBetween(n,s,l=>{i.push(l)});const o=i.reverse().find(l=>l.type.name===r.name);return o?{...o.attrs}:{}}function n1(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function rY(t,e){const r=n1(typeof e=="string"?e:e.name,t.schema);return r==="node"?Kve(t,e):r==="mark"?tY(t,e):{}}function Xve(t,e=JSON.stringify){const r={};return t.filter(n=>{const s=e(n);return Object.prototype.hasOwnProperty.call(r,s)?!1:r[s]=!0})}function Jve(t){const e=Xve(t);return e.length===1?e:e.filter((r,n)=>!e.filter((i,o)=>o!==n).some(i=>r.oldRange.from>=i.oldRange.from&&r.oldRange.to<=i.oldRange.to&&r.newRange.from>=i.newRange.from&&r.newRange.to<=i.newRange.to))}function nY(t){const{mapping:e,steps:r}=t,n=[];return e.maps.forEach((s,i)=>{const o=[];if(s.ranges.length)s.forEach((l,c)=>{o.push({from:l,to:c})});else{const{from:l,to:c}=r[i];if(l===void 0||c===void 0)return;o.push({from:l,to:c})}o.forEach(({from:l,to:c})=>{const d=e.slice(i).map(l,-1),h=e.slice(i).map(c),m=e.invert().map(d,-1),g=e.invert().map(h);n.push({oldRange:{from:m,to:g},newRange:{from:d,to:h}})})}),Jve(n)}function UO(t){return Object.prototype.toString.call(t)==="[object RegExp]"}function Qb(t,e,r={strict:!0}){const n=Object.keys(e);return n.length?n.every(s=>r.strict?e[s]===t[s]:UO(e[s])?e[s].test(t[s]):e[s]===t[s]):!0}function aY(t,e,r={}){return t.find(n=>n.type===e&&Qb(Object.fromEntries(Object.keys(r).map(s=>[s,n.attrs[s]])),r))}function JL(t,e,r={}){return!!aY(t,e,r)}function GO(t,e,r){var n;if(!t||!e)return;let s=t.parent.childAfter(t.parentOffset);if((!s.node||!s.node.marks.some(h=>h.type===e))&&(s=t.parent.childBefore(t.parentOffset)),!s.node||!s.node.marks.some(h=>h.type===e)||(r=r||((n=s.node.marks[0])==null?void 0:n.attrs),!aY([...s.node.marks],e,r)))return;let o=s.index,l=t.start()+s.offset,c=o+1,d=l+s.node.nodeSize;for(;o>0&&JL([...t.parent.child(o-1).marks],e,r);)o-=1,l-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&JL([...t.parent.child(c).marks],e,r);)d+=t.parent.child(c).nodeSize,c+=1;return{from:l,to:d}}function YO(t,e,r){const n=[];return t===e?r.resolve(t).marks().forEach(s=>{const i=r.resolve(t),o=GO(i,s.type);o&&n.push({mark:s,...o})}):r.nodesBetween(t,e,(s,i)=>{!s||(s==null?void 0:s.nodeSize)===void 0||n.push(...s.marks.map(o=>({from:i,to:i+s.nodeSize,mark:o})))}),n}var Qve=(t,e,r,n=20)=>{const s=t.doc.resolve(r);let i=n,o=null;for(;i>0&&o===null;){const l=s.node(i);(l==null?void 0:l.type.name)===e?o=l:i-=1}return[o,i]};function a2(t,e){return e.nodes[t]||e.marks[t]||null}function sb(t,e,r){return Object.fromEntries(Object.entries(r).filter(([n])=>{const s=t.find(i=>i.type===e&&i.name===n);return s?s.attribute.keepOnSplit:!1}))}var Zve=(t,e=500)=>{let r="";const n=t.parentOffset;return t.parent.nodesBetween(Math.max(0,n-e),n,(s,i,o,l)=>{var c,d;const h=((d=(c=s.type.spec).toText)==null?void 0:d.call(c,{node:s,pos:i,parent:o,index:l}))||s.textContent||"%leaf%";r+=s.isAtom&&!s.isText?h:h.slice(0,Math.max(0,n-i))}),r};function E_(t,e,r={}){const{empty:n,ranges:s}=t.selection,i=e?El(e,t.schema):null;if(n)return!!(t.storedMarks||t.selection.$from.marks()).filter(m=>i?i.name===m.type.name:!0).find(m=>Qb(m.attrs,r,{strict:!1}));let o=0;const l=[];if(s.forEach(({$from:m,$to:g})=>{const y=m.pos,w=g.pos;t.doc.nodesBetween(y,w,(j,v)=>{if(!j.isText&&!j.marks.length)return;const N=Math.max(y,v),T=Math.min(w,v+j.nodeSize),S=T-N;o+=S,l.push(...j.marks.map(O=>({mark:O,from:N,to:T})))})}),o===0)return!1;const c=l.filter(m=>i?i.name===m.mark.type.name:!0).filter(m=>Qb(m.mark.attrs,r,{strict:!1})).reduce((m,g)=>m+g.to-g.from,0),d=l.filter(m=>i?m.mark.type!==i&&m.mark.type.excludes(i):!0).reduce((m,g)=>m+g.to-g.from,0);return(c>0?c+d:c)>=o}function Lc(t,e,r={}){const{from:n,to:s,empty:i}=t.selection,o=e?ea(e,t.schema):null,l=[];t.doc.nodesBetween(n,s,(m,g)=>{if(m.isText)return;const y=Math.max(n,g),w=Math.min(s,g+m.nodeSize);l.push({node:m,from:y,to:w})});const c=s-n,d=l.filter(m=>o?o.name===m.node.type.name:!0).filter(m=>Qb(m.node.attrs,r,{strict:!1}));return i?!!d.length:d.reduce((m,g)=>m+g.to-g.from,0)>=c}function ewe(t,e,r={}){if(!e)return Lc(t,null,r)||E_(t,null,r);const n=n1(e,t.schema);return n==="node"?Lc(t,e,r):n==="mark"?E_(t,e,r):!1}var twe=(t,e)=>{const{$from:r,$to:n,$anchor:s}=t.selection;if(e){const i=r1(l=>l.type.name===e)(t.selection);if(!i)return!1;const o=t.doc.resolve(i.pos+1);return s.pos+1===o.end()}return!(n.parentOffset<n.parent.nodeSize-2||r.pos!==n.pos)},rwe=t=>{const{$from:e,$to:r}=t.selection;return!(e.parentOffset>0||e.pos!==r.pos)};function QL(t,e){return Array.isArray(e)?e.some(r=>(typeof r=="string"?r:r.name)===t.name):e}function ZL(t,e){const{nodeExtensions:r}=u0(e),n=r.find(o=>o.name===t);if(!n)return!1;const s={name:n.name,options:n.options,storage:n.storage},i=Ur(Bt(n,"group",s));return typeof i!="string"?!1:i.split(" ").includes("list")}function a1(t,{checkChildren:e=!0,ignoreWhitespace:r=!1}={}){var n;if(r){if(t.type.name==="hardBreak")return!0;if(t.isText)return/^\s*$/m.test((n=t.text)!=null?n:"")}if(t.isText)return!t.text;if(t.isAtom||t.isLeaf)return!1;if(t.content.childCount===0)return!0;if(e){let s=!0;return t.content.forEach(i=>{s!==!1&&(a1(i,{ignoreWhitespace:r,checkChildren:e})||(s=!1))}),s}return!1}function sY(t){return t instanceof qt}function iY(t){return t instanceof Zt}function Mu(t=0,e=0,r=0){return Math.min(Math.max(t,e),r)}function oY(t,e=null){if(!e)return null;const r=ir.atStart(t),n=ir.atEnd(t);if(e==="start"||e===!0)return r;if(e==="end")return n;const s=r.from,i=n.to;return e==="all"?Zt.create(t,Mu(0,s,i),Mu(t.content.size,s,i)):Zt.create(t,Mu(e,s,i),Mu(e,s,i))}function nwe(t,e,r){const n=t.steps.length-1;if(n<e)return;const s=t.steps[n];if(!(s instanceof ma||s instanceof ga))return;const i=t.mapping.maps[n];let o=0;i.forEach((l,c,d,h)=>{o===0&&(o=h)}),t.setSelection(ir.near(t.doc.resolve(o),r))}var s1=class{constructor(t){var e;this.find=t.find,this.handler=t.handler,this.undoable=(e=t.undoable)!=null?e:!0}},awe=(t,e)=>{if(UO(e))return e.exec(t);const r=e(t);if(!r)return null;const n=[r.text];return n.index=r.index,n.input=t,n.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),n.push(r.replaceWith)),n};function uy(t){var e;const{editor:r,from:n,to:s,text:i,rules:o,plugin:l}=t,{view:c}=r;if(c.composing)return!1;const d=c.state.doc.resolve(n);if(d.parent.type.spec.code||(e=d.nodeBefore||d.nodeAfter)!=null&&e.marks.find(g=>g.type.spec.code))return!1;let h=!1;const m=Zve(d)+i;return o.forEach(g=>{if(h)return;const y=awe(m,g.find);if(!y)return;const w=c.state.tr,j=e1({state:c.state,transaction:w}),v={from:n-(y[0].length-i.length),to:s},{commands:N,chain:T,can:S}=new t1({editor:r,state:j});g.handler({state:j,range:v,match:y,commands:N,chain:T,can:S})===null||!w.steps.length||(g.undoable&&w.setMeta(l,{transform:w,from:n,to:s,text:i}),c.dispatch(w),h=!0)}),h}function swe(t){const{editor:e,rules:r}=t,n=new Ln({state:{init(){return null},apply(s,i,o){const l=s.getMeta(n);if(l)return l;const c=s.getMeta("applyInputRules");return!!c&&setTimeout(()=>{let{text:h}=c;typeof h=="string"?h=h:h=qO(lt.from(h),o.schema);const{from:m}=c,g=m+h.length;uy({editor:e,from:m,to:g,text:h,rules:r,plugin:n})}),s.selectionSet||s.docChanged?null:i}},props:{handleTextInput(s,i,o,l){return uy({editor:e,from:i,to:o,text:l,rules:r,plugin:n})},handleDOMEvents:{compositionend:s=>(setTimeout(()=>{const{$cursor:i}=s.state.selection;i&&uy({editor:e,from:i.pos,to:i.pos,text:"",rules:r,plugin:n})}),!1)},handleKeyDown(s,i){if(i.key!=="Enter")return!1;const{$cursor:o}=s.state.selection;return o?uy({editor:e,from:o.pos,to:o.pos,text:`
`,rules:r,plugin:n}):!1}},isInputRules:!0});return n}function iwe(t){return Object.prototype.toString.call(t).slice(8,-1)}function dy(t){return iwe(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function lY(t,e){const r={...t};return dy(t)&&dy(e)&&Object.keys(e).forEach(n=>{dy(e[n])&&dy(t[n])?r[n]=lY(t[n],e[n]):r[n]=e[n]}),r}var KO=class{constructor(t={}){this.type="extendable",this.parent=null,this.child=null,this.name="",this.config={name:this.name},this.config={...this.config,...t},this.name=this.config.name}get options(){return{...Ur(Bt(this,"addOptions",{name:this.name}))||{}}}get storage(){return{...Ur(Bt(this,"addStorage",{name:this.name,options:this.options}))||{}}}configure(t={}){const e=this.extend({...this.config,addOptions:()=>lY(this.options,t)});return e.name=this.name,e.parent=this.parent,e}extend(t={}){const e=new this.constructor({...this.config,...t});return e.parent=this,this.child=e,e.name="name"in t?t.name:e.parent.name,e}},Dl=class cY extends KO{constructor(){super(...arguments),this.type="mark"}static create(e={}){const r=typeof e=="function"?e():e;return new cY(r)}static handleExit({editor:e,mark:r}){const{tr:n}=e.state,s=e.state.selection.$from;if(s.pos===s.end()){const o=s.marks();if(!!!o.find(d=>(d==null?void 0:d.type.name)===r.name))return!1;const c=o.find(d=>(d==null?void 0:d.type.name)===r.name);return c&&n.removeStoredMark(c),n.insertText(" ",s.pos),e.view.dispatch(n),!0}return!1}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function owe(t){return typeof t=="number"}var lwe=class{constructor(t){this.find=t.find,this.handler=t.handler}},cwe=(t,e,r)=>{if(UO(e))return[...t.matchAll(e)];const n=e(t,r);return n?n.map(s=>{const i=[s.text];return i.index=s.index,i.input=t,i.data=s.data,s.replaceWith&&(s.text.includes(s.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(s.replaceWith)),i}):[]};function uwe(t){const{editor:e,state:r,from:n,to:s,rule:i,pasteEvent:o,dropEvent:l}=t,{commands:c,chain:d,can:h}=new t1({editor:e,state:r}),m=[];return r.doc.nodesBetween(n,s,(y,w)=>{var j,v,N,T,S;if((v=(j=y.type)==null?void 0:j.spec)!=null&&v.code||!(y.isText||y.isTextblock||y.isInline))return;const O=(S=(T=(N=y.content)==null?void 0:N.size)!=null?T:y.nodeSize)!=null?S:0,_=Math.max(n,w),A=Math.min(s,w+O);if(_>=A)return;const E=y.isText?y.text||"":y.textBetween(_-w,A-w,void 0,"￼");cwe(E,i.find,o).forEach($=>{if($.index===void 0)return;const I=_+$.index+1,L=I+$[0].length,R={from:r.tr.mapping.map(I),to:r.tr.mapping.map(L)},z=i.handler({state:r,range:R,match:$,commands:c,chain:d,can:h,pasteEvent:o,dropEvent:l});m.push(z)})}),m.every(y=>y!==null)}var fy=null,dwe=t=>{var e;const r=new ClipboardEvent("paste",{clipboardData:new DataTransfer});return(e=r.clipboardData)==null||e.setData("text/html",t),r};function fwe(t){const{editor:e,rules:r}=t;let n=null,s=!1,i=!1,o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,l;try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}const c=({state:h,from:m,to:g,rule:y,pasteEvt:w})=>{const j=h.tr,v=e1({state:h,transaction:j});if(!(!uwe({editor:e,state:v,from:Math.max(m-1,0),to:g.b-1,rule:y,pasteEvent:w,dropEvent:l})||!j.steps.length)){try{l=typeof DragEvent<"u"?new DragEvent("drop"):null}catch{l=null}return o=typeof ClipboardEvent<"u"?new ClipboardEvent("paste"):null,j}};return r.map(h=>new Ln({view(m){const g=w=>{var j;n=(j=m.dom.parentElement)!=null&&j.contains(w.target)?m.dom.parentElement:null,n&&(fy=e)},y=()=>{fy&&(fy=null)};return window.addEventListener("dragstart",g),window.addEventListener("dragend",y),{destroy(){window.removeEventListener("dragstart",g),window.removeEventListener("dragend",y)}}},props:{handleDOMEvents:{drop:(m,g)=>{if(i=n===m.dom.parentElement,l=g,!i){const y=fy;y!=null&&y.isEditable&&setTimeout(()=>{const w=y.state.selection;w&&y.commands.deleteRange({from:w.from,to:w.to})},10)}return!1},paste:(m,g)=>{var y;const w=(y=g.clipboardData)==null?void 0:y.getData("text/html");return o=g,s=!!(w!=null&&w.includes("data-pm-slice")),!1}}},appendTransaction:(m,g,y)=>{const w=m[0],j=w.getMeta("uiEvent")==="paste"&&!s,v=w.getMeta("uiEvent")==="drop"&&!i,N=w.getMeta("applyPasteRules"),T=!!N;if(!j&&!v&&!T)return;if(T){let{text:_}=N;typeof _=="string"?_=_:_=qO(lt.from(_),y.schema);const{from:A}=N,E=A+_.length,P=dwe(_);return c({rule:h,state:y,from:A,to:{b:E},pasteEvt:P})}const S=g.doc.content.findDiffStart(y.doc.content),O=g.doc.content.findDiffEnd(y.doc.content);if(!(!owe(S)||!O||S===O.b))return c({rule:h,state:y,from:S,to:O,pasteEvt:o})}}))}var i1=class{constructor(t,e){this.splittableMarks=[],this.editor=e,this.extensions=QG(t),this.schema=Uve(this.extensions,e),this.setupExtensions()}get commands(){return this.extensions.reduce((t,e)=>{const r={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:a2(e.name,this.schema)},n=Bt(e,"addCommands",r);return n?{...t,...n()}:t},{})}get plugins(){const{editor:t}=this;return WO([...this.extensions].reverse()).flatMap(n=>{const s={name:n.name,options:n.options,storage:this.editor.extensionStorage[n.name],editor:t,type:a2(n.name,this.schema)},i=[],o=Bt(n,"addKeyboardShortcuts",s);let l={};if(n.type==="mark"&&Bt(n,"exitable",s)&&(l.ArrowRight=()=>Dl.handleExit({editor:t,mark:n})),o){const g=Object.fromEntries(Object.entries(o()).map(([y,w])=>[y,()=>w({editor:t})]));l={...l,...g}}const c=yve(l);i.push(c);const d=Bt(n,"addInputRules",s);if(QL(n,t.options.enableInputRules)&&d){const g=d();if(g&&g.length){const y=swe({editor:t,rules:g}),w=Array.isArray(y)?y:[y];i.push(...w)}}const h=Bt(n,"addPasteRules",s);if(QL(n,t.options.enablePasteRules)&&h){const g=h();if(g&&g.length){const y=fwe({editor:t,rules:g});i.push(...y)}}const m=Bt(n,"addProseMirrorPlugins",s);if(m){const g=m();i.push(...g)}return i})}get attributes(){return JG(this.extensions)}get nodeViews(){const{editor:t}=this,{nodeExtensions:e}=u0(this.extensions);return Object.fromEntries(e.filter(r=>!!Bt(r,"addNodeView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:ea(r.name,this.schema)},i=Bt(r,"addNodeView",s);if(!i)return[];const o=(l,c,d,h,m)=>{const g=Jb(l,n);return i()({node:l,view:c,getPos:d,decorations:h,innerDecorations:m,editor:t,extension:r,HTMLAttributes:g})};return[r.name,o]}))}get markViews(){const{editor:t}=this,{markExtensions:e}=u0(this.extensions);return Object.fromEntries(e.filter(r=>!!Bt(r,"addMarkView")).map(r=>{const n=this.attributes.filter(l=>l.type===r.name),s={name:r.name,options:r.options,storage:this.editor.extensionStorage[r.name],editor:t,type:El(r.name,this.schema)},i=Bt(r,"addMarkView",s);if(!i)return[];const o=(l,c,d)=>{const h=Jb(l,n);return i()({mark:l,view:c,inline:d,editor:t,extension:r,HTMLAttributes:h,updateAttributes:m=>{_1e(l,t,m)}})};return[r.name,o]}))}setupExtensions(){const t=this.extensions;this.editor.extensionStorage=Object.fromEntries(t.map(e=>[e.name,e.storage])),t.forEach(e=>{var r;const n={name:e.name,options:e.options,storage:this.editor.extensionStorage[e.name],editor:this.editor,type:a2(e.name,this.schema)};e.type==="mark"&&((r=Ur(Bt(e,"keepOnSplit",n)))==null||r)&&this.splittableMarks.push(e.name);const s=Bt(e,"onBeforeCreate",n),i=Bt(e,"onCreate",n),o=Bt(e,"onUpdate",n),l=Bt(e,"onSelectionUpdate",n),c=Bt(e,"onTransaction",n),d=Bt(e,"onFocus",n),h=Bt(e,"onBlur",n),m=Bt(e,"onDestroy",n);s&&this.editor.on("beforeCreate",s),i&&this.editor.on("create",i),o&&this.editor.on("update",o),l&&this.editor.on("selectionUpdate",l),c&&this.editor.on("transaction",c),d&&this.editor.on("focus",d),h&&this.editor.on("blur",h),m&&this.editor.on("destroy",m)})}};i1.resolve=QG;i1.sort=WO;i1.flatten=VO;var hwe={};GG(hwe,{ClipboardTextSerializer:()=>dY,Commands:()=>mY,Delete:()=>pY,Drop:()=>gY,Editable:()=>xY,FocusEvents:()=>bY,Keymap:()=>vY,Paste:()=>wY,Tabindex:()=>jY,focusEventsPluginKey:()=>yY});var sn=class uY extends KO{constructor(){super(...arguments),this.type="extension"}static create(e={}){const r=typeof e=="function"?e():e;return new uY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}},dY=sn.create({name:"clipboardTextSerializer",addOptions(){return{blockSeparator:void 0}},addProseMirrorPlugins(){return[new Ln({key:new ba("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:r}=t,{doc:n,selection:s}=e,{ranges:i}=s,o=Math.min(...i.map(h=>h.$from.pos)),l=Math.max(...i.map(h=>h.$to.pos)),c=eY(r);return ZG(n,{from:o,to:l},{...this.options.blockSeparator!==void 0?{blockSeparator:this.options.blockSeparator}:{},textSerializers:c})}}})]}}),fY={};GG(fY,{blur:()=>mwe,clearContent:()=>pwe,clearNodes:()=>gwe,command:()=>xwe,createParagraphNear:()=>ywe,cut:()=>bwe,deleteCurrentNode:()=>vwe,deleteNode:()=>wwe,deleteRange:()=>jwe,deleteSelection:()=>Swe,enter:()=>Nwe,exitCode:()=>kwe,extendMarkRange:()=>Cwe,first:()=>Twe,focus:()=>Mwe,forEach:()=>Awe,insertContent:()=>Owe,insertContentAt:()=>Dwe,joinBackward:()=>Iwe,joinDown:()=>Rwe,joinForward:()=>Lwe,joinItemBackward:()=>$we,joinItemForward:()=>Fwe,joinTextblockBackward:()=>Hwe,joinTextblockForward:()=>Bwe,joinUp:()=>Pwe,keyboardShortcut:()=>Vwe,lift:()=>qwe,liftEmptyBlock:()=>Wwe,liftListItem:()=>Uwe,newlineInCode:()=>Gwe,resetAttributes:()=>Ywe,scrollIntoView:()=>Kwe,selectAll:()=>Xwe,selectNodeBackward:()=>Jwe,selectNodeForward:()=>Qwe,selectParentNode:()=>Zwe,selectTextblockEnd:()=>e1e,selectTextblockStart:()=>t1e,setContent:()=>r1e,setMark:()=>a1e,setMeta:()=>s1e,setNode:()=>i1e,setNodeSelection:()=>o1e,setTextSelection:()=>l1e,sinkListItem:()=>c1e,splitBlock:()=>u1e,splitListItem:()=>d1e,toggleList:()=>f1e,toggleMark:()=>h1e,toggleNode:()=>m1e,toggleWrap:()=>p1e,undoInputRule:()=>g1e,unsetAllMarks:()=>x1e,unsetMark:()=>y1e,updateAttributes:()=>b1e,wrapIn:()=>v1e,wrapInList:()=>w1e});var mwe=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var r;t.isDestroyed||(e.dom.blur(),(r=window==null?void 0:window.getSelection())==null||r.removeAllRanges())}),!0),pwe=(t=!0)=>({commands:e})=>e.setContent("",{emitUpdate:t}),gwe=()=>({state:t,tr:e,dispatch:r})=>{const{selection:n}=e,{ranges:s}=n;return r&&s.forEach(({$from:i,$to:o})=>{t.doc.nodesBetween(i.pos,o.pos,(l,c)=>{if(l.type.isText)return;const{doc:d,mapping:h}=e,m=d.resolve(h.map(c)),g=d.resolve(h.map(c+l.nodeSize)),y=m.blockRange(g);if(!y)return;const w=Ih(y);if(l.type.isTextblock){const{defaultType:j}=m.parent.contentMatchAt(m.index());e.setNodeMarkup(y.start,j)}(w||w===0)&&e.lift(y,w)})}),!0},xwe=t=>e=>t(e),ywe=()=>({state:t,dispatch:e})=>VG(t,e),bwe=(t,e)=>({editor:r,tr:n})=>{const{state:s}=r,i=s.doc.slice(t.from,t.to);n.deleteRange(t.from,t.to);const o=n.mapping.map(e);return n.insert(o,i.content),n.setSelection(new Zt(n.doc.resolve(Math.max(o-1,0)))),!0},vwe=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,n=r.$anchor.node();if(n.content.size>0)return!1;const s=t.selection.$anchor;for(let i=s.depth;i>0;i-=1)if(s.node(i).type===n.type){if(e){const l=s.before(i),c=s.after(i);t.delete(l,c).scrollIntoView()}return!0}return!1},wwe=t=>({tr:e,state:r,dispatch:n})=>{const s=ea(t,r.schema),i=e.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===s){if(n){const c=i.before(o),d=i.after(o);e.delete(c,d).scrollIntoView()}return!0}return!1},jwe=t=>({tr:e,dispatch:r})=>{const{from:n,to:s}=t;return r&&e.delete(n,s),!0},Swe=()=>({state:t,dispatch:e})=>$O(t,e),Nwe=()=>({commands:t})=>t.keyboardShortcut("Enter"),kwe=()=>({state:t,dispatch:e})=>Nve(t,e),Cwe=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const i=El(t,n.schema),{doc:o,selection:l}=r,{$from:c,from:d,to:h}=l;if(s){const m=GO(c,i,e);if(m&&m.from<=d&&m.to>=h){const g=Zt.create(o,m.from,m.to);r.setSelection(g)}}return!0},Twe=t=>e=>{const r=typeof t=="function"?t(e):t;for(let n=0;n<r.length;n+=1)if(r[n](e))return!0;return!1};function _we(){return navigator.platform==="Android"||/android/i.test(navigator.userAgent)}function XO(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}var Mwe=(t=null,e={})=>({editor:r,view:n,tr:s,dispatch:i})=>{e={scrollIntoView:!0,...e};const o=()=>{(XO()||_we())&&n.dom.focus(),requestAnimationFrame(()=>{r.isDestroyed||(n.focus(),e!=null&&e.scrollIntoView&&r.commands.scrollIntoView())})};if(n.hasFocus()&&t===null||t===!1)return!0;if(i&&t===null&&!iY(r.state.selection))return o(),!0;const l=oY(s.doc,t)||r.state.selection,c=r.state.selection.eq(l);return i&&(c||s.setSelection(l),c&&s.storedMarks&&s.setStoredMarks(s.storedMarks),o()),!0},Awe=(t,e)=>r=>t.every((n,s)=>e(n,{...r,index:s})),Owe=(t,e)=>({tr:r,commands:n})=>n.insertContentAt({from:r.selection.from,to:r.selection.to},t,e),Ewe=t=>!("type"in t),Dwe=(t,e,r)=>({tr:n,dispatch:s,editor:i})=>{var o;if(s){r={parseOptions:i.options.parseOptions,updateSelection:!0,applyInputRules:!1,applyPasteRules:!1,...r};let l;const c=v=>{i.emit("contentError",{editor:i,error:v,disableCollaboration:()=>{"collaboration"in i.storage&&typeof i.storage.collaboration=="object"&&i.storage.collaboration&&(i.storage.collaboration.isDisabled=!0)}})},d={preserveWhitespace:"full",...r.parseOptions};if(!r.errorOnInvalidContent&&!i.options.enableContentCheck&&i.options.emitContentError)try{c0(e,i.schema,{parseOptions:d,errorOnInvalidContent:!0})}catch(v){c(v)}try{l=c0(e,i.schema,{parseOptions:d,errorOnInvalidContent:(o=r.errorOnInvalidContent)!=null?o:i.options.enableContentCheck})}catch(v){return c(v),!1}let{from:h,to:m}=typeof t=="number"?{from:t,to:t}:{from:t.from,to:t.to},g=!0,y=!0;if((Ewe(l)?l:[l]).forEach(v=>{v.check(),g=g?v.isText&&v.marks.length===0:!1,y=y?v.isBlock:!1}),h===m&&y){const{parent:v}=n.doc.resolve(h);v.isTextblock&&!v.type.spec.code&&!v.childCount&&(h-=1,m+=1)}let j;if(g){if(Array.isArray(e))j=e.map(v=>v.text||"").join("");else if(e instanceof lt){let v="";e.forEach(N=>{N.text&&(v+=N.text)}),j=v}else typeof e=="object"&&e&&e.text?j=e.text:j=e;n.insertText(j,h,m)}else{j=l;const v=n.doc.resolve(h),N=v.node(),T=v.parentOffset===0,S=N.isText||N.isTextblock,O=N.content.size>0;T&&S&&O&&(h=Math.max(0,h-1)),n.replaceWith(h,m,j)}r.updateSelection&&nwe(n,n.steps.length-1,-1),r.applyInputRules&&n.setMeta("applyInputRules",{from:h,text:j}),r.applyPasteRules&&n.setMeta("applyPasteRules",{from:h,text:j})}return!0},Pwe=()=>({state:t,dispatch:e})=>wve(t,e),Rwe=()=>({state:t,dispatch:e})=>jve(t,e),Iwe=()=>({state:t,dispatch:e})=>IG(t,e),Lwe=()=>({state:t,dispatch:e})=>HG(t,e),$we=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Yw(t.doc,t.selection.$from.pos,-1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Fwe=()=>({state:t,dispatch:e,tr:r})=>{try{const n=Yw(t.doc,t.selection.$from.pos,1);return n==null?!1:(r.join(n,2),e&&e(r),!0)}catch{return!1}},Hwe=()=>({state:t,dispatch:e})=>bve(t,e),Bwe=()=>({state:t,dispatch:e})=>vve(t,e);function hY(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function zwe(t){const e=t.split(/-(?!$)/);let r=e[e.length-1];r==="Space"&&(r=" ");let n,s,i,o;for(let l=0;l<e.length-1;l+=1){const c=e[l];if(/^(cmd|meta|m)$/i.test(c))o=!0;else if(/^a(lt)?$/i.test(c))n=!0;else if(/^(c|ctrl|control)$/i.test(c))s=!0;else if(/^s(hift)?$/i.test(c))i=!0;else if(/^mod$/i.test(c))XO()||hY()?o=!0:s=!0;else throw new Error(`Unrecognized modifier name: ${c}`)}return n&&(r=`Alt-${r}`),s&&(r=`Ctrl-${r}`),o&&(r=`Meta-${r}`),i&&(r=`Shift-${r}`),r}var Vwe=t=>({editor:e,view:r,tr:n,dispatch:s})=>{const i=zwe(t).split(/-(?!$)/),o=i.find(d=>!["Alt","Ctrl","Meta","Shift"].includes(d)),l=new KeyboardEvent("keydown",{key:o==="Space"?" ":o,altKey:i.includes("Alt"),ctrlKey:i.includes("Ctrl"),metaKey:i.includes("Meta"),shiftKey:i.includes("Shift"),bubbles:!0,cancelable:!0}),c=e.captureTransaction(()=>{r.someProp("handleKeyDown",d=>d(r,l))});return c==null||c.steps.forEach(d=>{const h=d.map(n.mapping);h&&s&&n.maybeStep(h)}),!0},qwe=(t,e={})=>({state:r,dispatch:n})=>{const s=ea(t,r.schema);return Lc(r,s,e)?Sve(r,n):!1},Wwe=()=>({state:t,dispatch:e})=>qG(t,e),Uwe=t=>({state:e,dispatch:r})=>{const n=ea(t,e.schema);return Rve(n)(e,r)},Gwe=()=>({state:t,dispatch:e})=>zG(t,e);function e7(t,e){const r=typeof e=="string"?[e]:e;return Object.keys(t).reduce((n,s)=>(r.includes(s)||(n[s]=t[s]),n),{})}var Ywe=(t,e)=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=n1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ea(t,n.schema)),l==="mark"&&(o=El(t,n.schema)),s&&r.selection.ranges.forEach(c=>{n.doc.nodesBetween(c.$from.pos,c.$to.pos,(d,h)=>{i&&i===d.type&&r.setNodeMarkup(h,void 0,e7(d.attrs,e)),o&&d.marks.length&&d.marks.forEach(m=>{o===m.type&&r.addMark(h,h+d.nodeSize,o.create(e7(m.attrs,e)))})})}),!0):!1},Kwe=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),Xwe=()=>({tr:t,dispatch:e})=>{if(e){const r=new Hs(t.doc);t.setSelection(r)}return!0},Jwe=()=>({state:t,dispatch:e})=>$G(t,e),Qwe=()=>({state:t,dispatch:e})=>BG(t,e),Zwe=()=>({state:t,dispatch:e})=>Tve(t,e),e1e=()=>({state:t,dispatch:e})=>Ave(t,e),t1e=()=>({state:t,dispatch:e})=>Mve(t,e),r1e=(t,{errorOnInvalidContent:e,emitUpdate:r=!0,parseOptions:n={}}={})=>({editor:s,tr:i,dispatch:o,commands:l})=>{const{doc:c}=i;if(n.preserveWhitespace!=="full"){const d=O_(t,s.schema,n,{errorOnInvalidContent:e??s.options.enableContentCheck});return o&&i.replaceWith(0,c.content.size,d).setMeta("preventUpdate",!r),!0}return o&&i.setMeta("preventUpdate",!r),l.insertContentAt({from:0,to:c.content.size},t,{parseOptions:n,errorOnInvalidContent:e??s.options.enableContentCheck})};function n1e(t,e,r){var n;const{selection:s}=e;let i=null;if(iY(s)&&(i=s.$cursor),i){const l=(n=t.storedMarks)!=null?n:i.marks();return i.parent.type.allowsMarkType(r)&&(!!r.isInSet(l)||!l.some(d=>d.type.excludes(r)))}const{ranges:o}=s;return o.some(({$from:l,$to:c})=>{let d=l.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(r):!1;return t.doc.nodesBetween(l.pos,c.pos,(h,m,g)=>{if(d)return!1;if(h.isInline){const y=!g||g.type.allowsMarkType(r),w=!!r.isInSet(h.marks)||!h.marks.some(j=>j.type.excludes(r));d=y&&w}return!d}),d})}var a1e=(t,e={})=>({tr:r,state:n,dispatch:s})=>{const{selection:i}=r,{empty:o,ranges:l}=i,c=El(t,n.schema);if(s)if(o){const d=tY(n,c);r.addStoredMark(c.create({...d,...e}))}else l.forEach(d=>{const h=d.$from.pos,m=d.$to.pos;n.doc.nodesBetween(h,m,(g,y)=>{const w=Math.max(y,h),j=Math.min(y+g.nodeSize,m);g.marks.find(N=>N.type===c)?g.marks.forEach(N=>{c===N.type&&r.addMark(w,j,c.create({...N.attrs,...e}))}):r.addMark(w,j,c.create(e))})});return n1e(n,r,c)},s1e=(t,e)=>({tr:r})=>(r.setMeta(t,e),!0),i1e=(t,e={})=>({state:r,dispatch:n,chain:s})=>{const i=ea(t,r.schema);let o;return r.selection.$anchor.sameParent(r.selection.$head)&&(o=r.selection.$anchor.parent.attrs),i.isTextblock?s().command(({commands:l})=>YL(i,{...o,...e})(r)?!0:l.clearNodes()).command(({state:l})=>YL(i,{...o,...e})(l,n)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},o1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,s=Mu(t,0,n.content.size),i=qt.create(n,s);e.setSelection(i)}return!0},l1e=t=>({tr:e,dispatch:r})=>{if(r){const{doc:n}=e,{from:s,to:i}=typeof t=="number"?{from:t,to:t}:t,o=Zt.atStart(n).from,l=Zt.atEnd(n).to,c=Mu(s,o,l),d=Mu(i,o,l),h=Zt.create(n,c,d);e.setSelection(h)}return!0},c1e=t=>({state:e,dispatch:r})=>{const n=ea(t,e.schema);return $ve(n)(e,r)};function t7(t,e){const r=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(r){const n=r.filter(s=>e==null?void 0:e.includes(s.type.name));t.tr.ensureMarks(n)}}var u1e=({keepMarks:t=!0}={})=>({tr:e,state:r,dispatch:n,editor:s})=>{const{selection:i,doc:o}=e,{$from:l,$to:c}=i,d=s.extensionManager.attributes,h=sb(d,l.node().type.name,l.node().attrs);if(i instanceof qt&&i.node.isBlock)return!l.parentOffset||!pl(o,l.pos)?!1:(n&&(t&&t7(r,s.extensionManager.splittableMarks),e.split(l.pos).scrollIntoView()),!0);if(!l.parent.isBlock)return!1;const m=c.parentOffset===c.parent.content.size,g=l.depth===0?void 0:Bve(l.node(-1).contentMatchAt(l.indexAfter(-1)));let y=m&&g?[{type:g,attrs:h}]:void 0,w=pl(e.doc,e.mapping.map(l.pos),1,y);if(!y&&!w&&pl(e.doc,e.mapping.map(l.pos),1,g?[{type:g}]:void 0)&&(w=!0,y=g?[{type:g,attrs:h}]:void 0),n){if(w&&(i instanceof Zt&&e.deleteSelection(),e.split(e.mapping.map(l.pos),1,y),g&&!m&&!l.parentOffset&&l.parent.type!==g)){const j=e.mapping.map(l.before()),v=e.doc.resolve(j);l.node(-1).canReplaceWith(v.index(),v.index()+1,g)&&e.setNodeMarkup(e.mapping.map(l.before()),g)}t&&t7(r,s.extensionManager.splittableMarks),e.scrollIntoView()}return w},d1e=(t,e={})=>({tr:r,state:n,dispatch:s,editor:i})=>{var o;const l=ea(t,n.schema),{$from:c,$to:d}=n.selection,h=n.selection.node;if(h&&h.isBlock||c.depth<2||!c.sameParent(d))return!1;const m=c.node(-1);if(m.type!==l)return!1;const g=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==l||c.index(-2)!==c.node(-2).childCount-1)return!1;if(s){let N=lt.empty;const T=c.index(-1)?1:c.index(-2)?2:3;for(let P=c.depth-T;P>=c.depth-3;P-=1)N=lt.from(c.node(P).copy(N));const S=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,O={...sb(g,c.node().type.name,c.node().attrs),...e},_=((o=l.contentMatch.defaultType)==null?void 0:o.createAndFill(O))||void 0;N=N.append(lt.from(l.createAndFill(null,_)||void 0));const A=c.before(c.depth-(T-1));r.replace(A,c.after(-S),new Mt(N,4-T,0));let E=-1;r.doc.nodesBetween(A,r.doc.content.size,(P,$)=>{if(E>-1)return!1;P.isTextblock&&P.content.size===0&&(E=$+1)}),E>-1&&r.setSelection(Zt.near(r.doc.resolve(E))),r.scrollIntoView()}return!0}const y=d.pos===c.end()?m.contentMatchAt(0).defaultType:null,w={...sb(g,m.type.name,m.attrs),...e},j={...sb(g,c.node().type.name,c.node().attrs),...e};r.delete(c.pos,d.pos);const v=y?[{type:l,attrs:w},{type:y,attrs:j}]:[{type:l,attrs:w}];if(!pl(r.doc,c.pos,2))return!1;if(s){const{selection:N,storedMarks:T}=n,{splittableMarks:S}=i.extensionManager,O=T||N.$to.parentOffset&&N.$from.marks();if(r.split(c.pos,2,v).scrollIntoView(),!O||!s)return!0;const _=O.filter(A=>S.includes(A.type.name));r.ensureMarks(_)}return!0},s2=(t,e)=>{const r=r1(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(Math.max(0,r.pos-1)).before(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Hc(t.doc,r.pos)&&t.join(r.pos),!0},i2=(t,e)=>{const r=r1(o=>o.type===e)(t.selection);if(!r)return!0;const n=t.doc.resolve(r.start).after(r.depth);if(n===void 0)return!0;const s=t.doc.nodeAt(n);return r.node.type===(s==null?void 0:s.type)&&Hc(t.doc,n)&&t.join(n),!0},f1e=(t,e,r,n={})=>({editor:s,tr:i,state:o,dispatch:l,chain:c,commands:d,can:h})=>{const{extensions:m,splittableMarks:g}=s.extensionManager,y=ea(t,o.schema),w=ea(e,o.schema),{selection:j,storedMarks:v}=o,{$from:N,$to:T}=j,S=N.blockRange(T),O=v||j.$to.parentOffset&&j.$from.marks();if(!S)return!1;const _=r1(A=>ZL(A.type.name,m))(j);if(S.depth>=1&&_&&S.depth-_.depth<=1){if(_.node.type===y)return d.liftListItem(w);if(ZL(_.node.type.name,m)&&y.validContent(_.node.content)&&l)return c().command(()=>(i.setNodeMarkup(_.pos,y),!0)).command(()=>s2(i,y)).command(()=>i2(i,y)).run()}return!r||!O||!l?c().command(()=>h().wrapInList(y,n)?!0:d.clearNodes()).wrapInList(y,n).command(()=>s2(i,y)).command(()=>i2(i,y)).run():c().command(()=>{const A=h().wrapInList(y,n),E=O.filter(P=>g.includes(P.type.name));return i.ensureMarks(E),A?!0:d.clearNodes()}).wrapInList(y,n).command(()=>s2(i,y)).command(()=>i2(i,y)).run()},h1e=(t,e={},r={})=>({state:n,commands:s})=>{const{extendEmptyMarkRange:i=!1}=r,o=El(t,n.schema);return E_(n,o,e)?s.unsetMark(o,{extendEmptyMarkRange:i}):s.setMark(o,e)},m1e=(t,e,r={})=>({state:n,commands:s})=>{const i=ea(t,n.schema),o=ea(e,n.schema),l=Lc(n,i,r);let c;return n.selection.$anchor.sameParent(n.selection.$head)&&(c=n.selection.$anchor.parent.attrs),l?s.setNode(o,c):s.setNode(i,{...c,...r})},p1e=(t,e={})=>({state:r,commands:n})=>{const s=ea(t,r.schema);return Lc(r,s,e)?n.lift(s):n.wrapIn(s,e)},g1e=()=>({state:t,dispatch:e})=>{const r=t.plugins;for(let n=0;n<r.length;n+=1){const s=r[n];let i;if(s.spec.isInputRules&&(i=s.getState(t))){if(e){const o=t.tr,l=i.transform;for(let c=l.steps.length-1;c>=0;c-=1)o.step(l.steps[c].invert(l.docs[c]));if(i.text){const c=o.doc.resolve(i.from).marks();o.replaceWith(i.from,i.to,t.schema.text(i.text,c))}else o.delete(i.from,i.to)}return!0}}return!1},x1e=()=>({tr:t,dispatch:e})=>{const{selection:r}=t,{empty:n,ranges:s}=r;return n||e&&s.forEach(i=>{t.removeMark(i.$from.pos,i.$to.pos)}),!0},y1e=(t,e={})=>({tr:r,state:n,dispatch:s})=>{var i;const{extendEmptyMarkRange:o=!1}=e,{selection:l}=r,c=El(t,n.schema),{$from:d,empty:h,ranges:m}=l;if(!s)return!0;if(h&&o){let{from:g,to:y}=l;const w=(i=d.marks().find(v=>v.type===c))==null?void 0:i.attrs,j=GO(d,c,w);j&&(g=j.from,y=j.to),r.removeMark(g,y,c)}else m.forEach(g=>{r.removeMark(g.$from.pos,g.$to.pos,c)});return r.removeStoredMark(c),!0},b1e=(t,e={})=>({tr:r,state:n,dispatch:s})=>{let i=null,o=null;const l=n1(typeof t=="string"?t:t.name,n.schema);return l?(l==="node"&&(i=ea(t,n.schema)),l==="mark"&&(o=El(t,n.schema)),s&&r.selection.ranges.forEach(c=>{const d=c.$from.pos,h=c.$to.pos;let m,g,y,w;r.selection.empty?n.doc.nodesBetween(d,h,(j,v)=>{i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,g=j)}):n.doc.nodesBetween(d,h,(j,v)=>{v<d&&i&&i===j.type&&(y=Math.max(v,d),w=Math.min(v+j.nodeSize,h),m=v,g=j),v>=d&&v<=h&&(i&&i===j.type&&r.setNodeMarkup(v,void 0,{...j.attrs,...e}),o&&j.marks.length&&j.marks.forEach(N=>{if(o===N.type){const T=Math.max(v,d),S=Math.min(v+j.nodeSize,h);r.addMark(T,S,o.create({...N.attrs,...e}))}}))}),g&&(m!==void 0&&r.setNodeMarkup(m,void 0,{...g.attrs,...e}),o&&g.marks.length&&g.marks.forEach(j=>{o===j.type&&r.addMark(y,w,o.create({...j.attrs,...e}))}))}),!0):!1},v1e=(t,e={})=>({state:r,dispatch:n})=>{const s=ea(t,r.schema);return Ove(s,e)(r,n)},w1e=(t,e={})=>({state:r,dispatch:n})=>{const s=ea(t,r.schema);return Eve(s,e)(r,n)},mY=sn.create({name:"commands",addCommands(){return{...fY}}}),pY=sn.create({name:"delete",onUpdate({transaction:t,appendedTransactions:e}){var r,n,s;const i=()=>{var o,l,c,d;if((d=(c=(l=(o=this.editor.options.coreExtensionOptions)==null?void 0:o.delete)==null?void 0:l.filterTransaction)==null?void 0:c.call(l,t))!=null?d:t.getMeta("y-sync$"))return;const h=YG(t.before,[t,...e]);nY(h).forEach(y=>{h.mapping.mapResult(y.oldRange.from).deletedAfter&&h.mapping.mapResult(y.oldRange.to).deletedBefore&&h.before.nodesBetween(y.oldRange.from,y.oldRange.to,(w,j)=>{const v=j+w.nodeSize-2,N=y.oldRange.from<=j&&v<=y.oldRange.to;this.editor.emit("delete",{type:"node",node:w,from:j,to:v,newFrom:h.mapping.map(j),newTo:h.mapping.map(v),deletedRange:y.oldRange,newRange:y.newRange,partial:!N,editor:this.editor,transaction:t,combinedTransform:h})})});const g=h.mapping;h.steps.forEach((y,w)=>{var j,v;if(y instanceof $i){const N=g.slice(w).map(y.from,-1),T=g.slice(w).map(y.to),S=g.invert().map(N,-1),O=g.invert().map(T),_=(j=h.doc.nodeAt(N-1))==null?void 0:j.marks.some(E=>E.eq(y.mark)),A=(v=h.doc.nodeAt(T))==null?void 0:v.marks.some(E=>E.eq(y.mark));this.editor.emit("delete",{type:"mark",mark:y.mark,from:y.from,to:y.to,deletedRange:{from:S,to:O},newRange:{from:N,to:T},partial:!!(A||_),editor:this.editor,transaction:t,combinedTransform:h})}})};(s=(n=(r=this.editor.options.coreExtensionOptions)==null?void 0:r.delete)==null?void 0:n.async)==null||s?setTimeout(i,0):i()}}),gY=sn.create({name:"drop",addProseMirrorPlugins(){return[new Ln({key:new ba("tiptapDrop"),props:{handleDrop:(t,e,r,n)=>{this.editor.emit("drop",{editor:this.editor,event:e,slice:r,moved:n})}}})]}}),xY=sn.create({name:"editable",addProseMirrorPlugins(){return[new Ln({key:new ba("editable"),props:{editable:()=>this.editor.options.editable}})]}}),yY=new ba("focusEvents"),bY=sn.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Ln({key:yY,props:{handleDOMEvents:{focus:(e,r)=>{t.isFocused=!0;const n=t.state.tr.setMeta("focus",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1},blur:(e,r)=>{t.isFocused=!1;const n=t.state.tr.setMeta("blur",{event:r}).setMeta("addToHistory",!1);return e.dispatch(n),!1}}}})]}}),vY=sn.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:o})=>[()=>o.undoInputRule(),()=>o.command(({tr:l})=>{const{selection:c,doc:d}=l,{empty:h,$anchor:m}=c,{pos:g,parent:y}=m,w=m.parent.isTextblock&&g>0?l.doc.resolve(g-1):m,j=w.parent.type.spec.isolating,v=m.pos-m.parentOffset,N=j&&w.parent.childCount===1?v===m.pos:ir.atStart(d).from===g;return!h||!y.type.isTextblock||y.textContent.length||!N||N&&m.parent.type.name==="paragraph"?!1:o.clearNodes()}),()=>o.deleteSelection(),()=>o.joinBackward(),()=>o.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:o})=>[()=>o.deleteSelection(),()=>o.deleteCurrentNode(),()=>o.joinForward(),()=>o.selectNodeForward()]),n={Enter:()=>this.editor.commands.first(({commands:o})=>[()=>o.newlineInCode(),()=>o.createParagraphNear(),()=>o.liftEmptyBlock(),()=>o.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},s={...n},i={...n,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return XO()||hY()?i:s},addProseMirrorPlugins(){return[new Ln({key:new ba("clearDocument"),appendTransaction:(t,e,r)=>{if(t.some(j=>j.getMeta("composition")))return;const n=t.some(j=>j.docChanged)&&!e.doc.eq(r.doc),s=t.some(j=>j.getMeta("preventClearDocument"));if(!n||s)return;const{empty:i,from:o,to:l}=e.selection,c=ir.atStart(e.doc).from,d=ir.atEnd(e.doc).to;if(i||!(o===c&&l===d)||!a1(r.doc))return;const g=r.tr,y=e1({state:r,transaction:g}),{commands:w}=new t1({editor:this.editor,state:y});if(w.clearNodes(),!!g.steps.length)return g}})]}}),wY=sn.create({name:"paste",addProseMirrorPlugins(){return[new Ln({key:new ba("tiptapPaste"),props:{handlePaste:(t,e,r)=>{this.editor.emit("paste",{editor:this.editor,event:e,slice:r})}}})]}}),jY=sn.create({name:"tabindex",addProseMirrorPlugins(){return[new Ln({key:new ba("tabindex"),props:{attributes:()=>this.editor.isEditable?{tabindex:"0"}:{}}})]}}),j1e=class uf{constructor(e,r,n=!1,s=null){this.currentNode=null,this.actualDepth=null,this.isBlock=n,this.resolvedPos=e,this.editor=r,this.currentNode=s}get name(){return this.node.type.name}get node(){return this.currentNode||this.resolvedPos.node()}get element(){return this.editor.view.domAtPos(this.pos).node}get depth(){var e;return(e=this.actualDepth)!=null?e:this.resolvedPos.depth}get pos(){return this.resolvedPos.pos}get content(){return this.node.content}set content(e){let r=this.from,n=this.to;if(this.isBlock){if(this.content.size===0){console.error(`You can’t set content on a block node. Tried to set content on ${this.name} at ${this.pos}`);return}r=this.from+1,n=this.to-1}this.editor.commands.insertContentAt({from:r,to:n},e)}get attributes(){return this.node.attrs}get textContent(){return this.node.textContent}get size(){return this.node.nodeSize}get from(){return this.isBlock?this.pos:this.resolvedPos.start(this.resolvedPos.depth)}get range(){return{from:this.from,to:this.to}}get to(){return this.isBlock?this.pos+this.size:this.resolvedPos.end(this.resolvedPos.depth)+(this.node.isText?0:1)}get parent(){if(this.depth===0)return null;const e=this.resolvedPos.start(this.resolvedPos.depth-1),r=this.resolvedPos.doc.resolve(e);return new uf(r,this.editor)}get before(){let e=this.resolvedPos.doc.resolve(this.from-(this.isBlock?1:2));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.from-3)),new uf(e,this.editor)}get after(){let e=this.resolvedPos.doc.resolve(this.to+(this.isBlock?2:1));return e.depth!==this.depth&&(e=this.resolvedPos.doc.resolve(this.to+3)),new uf(e,this.editor)}get children(){const e=[];return this.node.content.forEach((r,n)=>{const s=r.isBlock&&!r.isTextblock,i=r.isAtom&&!r.isText,o=this.pos+n+(i?0:1);if(o<0||o>this.resolvedPos.doc.nodeSize-2)return;const l=this.resolvedPos.doc.resolve(o);if(!s&&l.depth<=this.depth)return;const c=new uf(l,this.editor,s,s?r:null);s&&(c.actualDepth=this.depth+1),e.push(new uf(l,this.editor,s,s?r:null))}),e}get firstChild(){return this.children[0]||null}get lastChild(){const e=this.children;return e[e.length-1]||null}closest(e,r={}){let n=null,s=this.parent;for(;s&&!n;){if(s.node.type.name===e)if(Object.keys(r).length>0){const i=s.node.attrs,o=Object.keys(r);for(let l=0;l<o.length;l+=1){const c=o[l];if(i[c]!==r[c])break}}else n=s;s=s.parent}return n}querySelector(e,r={}){return this.querySelectorAll(e,r,!0)[0]||null}querySelectorAll(e,r={},n=!1){let s=[];if(!this.children||this.children.length===0)return s;const i=Object.keys(r);return this.children.forEach(o=>{n&&s.length>0||(o.node.type.name===e&&i.every(c=>r[c]===o.node.attrs[c])&&s.push(o),!(n&&s.length>0)&&(s=s.concat(o.querySelectorAll(e,r,n))))}),s}setAttribute(e){const{tr:r}=this.editor.state;r.setNodeMarkup(this.from,void 0,{...this.node.attrs,...e}),this.editor.view.dispatch(r)}},S1e=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 0 !important;
  height: 0 !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}`;function N1e(t,e,r){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const s=document.createElement("style");return e&&s.setAttribute("nonce",e),s.setAttribute("data-tiptap-style",""),s.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(s),s}var k1e=class extends Hve{constructor(t={}){super(),this.css=null,this.editorView=null,this.isFocused=!1,this.isInitialized=!1,this.extensionStorage={},this.instanceId=Math.random().toString(36).slice(2,9),this.options={element:typeof document<"u"?document.createElement("div"):null,content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},coreExtensionOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,enableContentCheck:!1,emitContentError:!1,onBeforeCreate:()=>null,onCreate:()=>null,onMount:()=>null,onUnmount:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null,onContentError:({error:n})=>{throw n},onPaste:()=>null,onDrop:()=>null,onDelete:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(t),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.on("mount",this.options.onMount),this.on("unmount",this.options.onUnmount),this.on("contentError",this.options.onContentError),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),this.on("drop",({event:n,slice:s,moved:i})=>this.options.onDrop(n,s,i)),this.on("paste",({event:n,slice:s})=>this.options.onPaste(n,s)),this.on("delete",this.options.onDelete);const e=this.createDoc(),r=oY(e,this.options.autofocus);this.editorState=xf.create({doc:e,schema:this.schema,selection:r||void 0}),this.options.element&&this.mount(this.options.element)}mount(t){if(typeof document>"u")throw new Error("[tiptap error]: The editor cannot be mounted because there is no 'document' defined in this environment.");this.createView(t),this.emit("mount",{editor:this}),this.css&&!document.head.contains(this.css)&&document.head.appendChild(this.css),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}),this.isInitialized=!0)},0)}unmount(){if(this.editorView){const t=this.editorView.dom;t!=null&&t.editor&&delete t.editor,this.editorView.destroy()}if(this.editorView=null,this.isInitialized=!1,this.css)try{typeof this.css.remove=="function"?this.css.remove():this.css.parentNode&&this.css.parentNode.removeChild(this.css)}catch(t){console.warn("Failed to remove CSS element:",t)}this.css=null,this.emit("unmount",{editor:this})}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&typeof document<"u"&&(this.css=N1e(S1e,this.options.injectNonce))}setOptions(t={}){this.options={...this.options,...t},!(!this.editorView||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(t,e=!0){this.setOptions({editable:t}),e&&this.emit("update",{editor:this,transaction:this.state.tr,appendedTransactions:[]})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get view(){return this.editorView?this.editorView:new Proxy({state:this.editorState,updateState:t=>{this.editorState=t},dispatch:t=>{this.dispatchTransaction(t)},composing:!1,dragging:null,editable:!0,isDestroyed:!1},{get:(t,e)=>{if(this.editorView)return this.editorView[e];if(e==="state")return this.editorState;if(e in t)return Reflect.get(t,e);throw new Error(`[tiptap error]: The editor view is not available. Cannot access view['${e}']. The editor may not be mounted yet.`)}})}get state(){return this.editorView&&(this.editorState=this.view.state),this.editorState}registerPlugin(t,e){const r=XG(e)?e(t,[...this.state.plugins]):[...this.state.plugins,t],n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}unregisterPlugin(t){if(this.isDestroyed)return;const e=this.state.plugins;let r=e;if([].concat(t).forEach(s=>{const i=typeof s=="string"?`${s}$`:s.key;r=r.filter(o=>!o.key.startsWith(i))}),e.length===r.length)return;const n=this.state.reconfigure({plugins:r});return this.view.updateState(n),n}createExtensionManager(){var t,e;const n=[...this.options.enableCoreExtensions?[xY,dY.configure({blockSeparator:(e=(t=this.options.coreExtensionOptions)==null?void 0:t.clipboardTextSerializer)==null?void 0:e.blockSeparator}),mY,bY,vY,jY,gY,wY,pY].filter(s=>typeof this.options.enableCoreExtensions=="object"?this.options.enableCoreExtensions[s.name]!==!1:!0):[],...this.options.extensions].filter(s=>["extension","node","mark"].includes(s==null?void 0:s.type));this.extensionManager=new i1(n,this)}createCommandManager(){this.commandManager=new t1({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createDoc(){let t;try{t=O_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:this.options.enableContentCheck})}catch(e){if(!(e instanceof Error)||!["[tiptap error]: Invalid JSON content","[tiptap error]: Invalid HTML content"].includes(e.message))throw e;this.emit("contentError",{editor:this,error:e,disableCollaboration:()=>{"collaboration"in this.storage&&typeof this.storage.collaboration=="object"&&this.storage.collaboration&&(this.storage.collaboration.isDisabled=!0),this.options.extensions=this.options.extensions.filter(r=>r.name!=="collaboration"),this.createExtensionManager()}}),t=O_(this.options.content,this.schema,this.options.parseOptions,{errorOnInvalidContent:!1})}return t}createView(t){var e;this.editorView=new DG(t,{...this.options.editorProps,attributes:{role:"textbox",...(e=this.options.editorProps)==null?void 0:e.attributes},dispatchTransaction:this.dispatchTransaction.bind(this),state:this.editorState,markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.prependClass(),this.injectCSS();const n=this.view.dom;n.editor=this}createNodeViews(){this.view.isDestroyed||this.view.setProps({markViews:this.extensionManager.markViews,nodeViews:this.extensionManager.nodeViews})}prependClass(){this.view.dom.className=`tiptap ${this.view.dom.className}`}captureTransaction(t){this.isCapturingTransaction=!0,t(),this.isCapturingTransaction=!1;const e=this.capturedTransaction;return this.capturedTransaction=null,e}dispatchTransaction(t){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=t;return}t.steps.forEach(d=>{var h;return(h=this.capturedTransaction)==null?void 0:h.step(d)});return}const{state:e,transactions:r}=this.state.applyTransaction(t),n=!this.state.selection.eq(e.selection),s=r.includes(t),i=this.state;if(this.emit("beforeTransaction",{editor:this,transaction:t,nextState:e}),!s)return;this.view.updateState(e),this.emit("transaction",{editor:this,transaction:t,appendedTransactions:r.slice(1)}),n&&this.emit("selectionUpdate",{editor:this,transaction:t});const o=r.findLast(d=>d.getMeta("focus")||d.getMeta("blur")),l=o==null?void 0:o.getMeta("focus"),c=o==null?void 0:o.getMeta("blur");l&&this.emit("focus",{editor:this,event:l.event,transaction:o}),c&&this.emit("blur",{editor:this,event:c.event,transaction:o}),!(t.getMeta("preventUpdate")||!r.some(d=>d.docChanged)||i.doc.eq(e.doc))&&this.emit("update",{editor:this,transaction:t,appendedTransactions:r.slice(1)})}getAttributes(t){return rY(this.state,t)}isActive(t,e){const r=typeof t=="string"?t:null,n=typeof t=="string"?e:t;return ewe(this.state,r,n)}getJSON(){return this.state.doc.toJSON()}getHTML(){return qO(this.state.doc.content,this.schema)}getText(t){const{blockSeparator:e=`

`,textSerializers:r={}}=t||{};return Yve(this.state.doc,{blockSeparator:e,textSerializers:{...eY(this.schema),...r}})}get isEmpty(){return a1(this.state.doc)}destroy(){this.emit("destroy"),this.unmount(),this.removeAllListeners()}get isDestroyed(){var t,e;return(e=(t=this.editorView)==null?void 0:t.isDestroyed)!=null?e:!0}$node(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelector(t,e))||null}$nodes(t,e){var r;return((r=this.$doc)==null?void 0:r.querySelectorAll(t,e))||null}$pos(t){const e=this.state.doc.resolve(t);return new j1e(e,this)}get $doc(){return this.$pos(0)}};function rd(t){return new s1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Ur(t.getAttributes,void 0,n);if(s===!1||s===null)return null;const{tr:i}=e,o=n[n.length-1],l=n[0];if(o){const c=l.search(/\S/),d=r.from+l.indexOf(o),h=d+o.length;if(YO(r.from,r.to,e.doc).filter(y=>y.mark.type.excluded.find(j=>j===t.type&&j!==y.mark.type)).filter(y=>y.to>d).length)return null;h<r.to&&i.delete(h,r.to),d>r.from&&i.delete(r.from+c,d);const g=r.from+c+o.length;i.addMark(r.from+c,g,t.type.create(s||{})),i.removeStoredMark(t.type)}},undoable:t.undoable})}function C1e(t){return new s1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=Ur(t.getAttributes,void 0,n)||{},{tr:i}=e,o=r.from;let l=r.to;const c=t.type.create(s);if(n[1]){const d=n[0].lastIndexOf(n[1]);let h=o+d;h>l?h=l:l=h+n[1].length;const m=n[0][n[0].length-1];i.insertText(m,o+n[0].length-1),i.replaceWith(h,l,c)}else if(n[0]){const d=t.type.isInline?o:o-1;i.insert(d,t.type.create(s)).delete(i.mapping.map(o),i.mapping.map(l))}i.scrollIntoView()},undoable:t.undoable})}function D_(t){return new s1({find:t.find,handler:({state:e,range:r,match:n})=>{const s=e.doc.resolve(r.from),i=Ur(t.getAttributes,void 0,n)||{};if(!s.node(-1).canReplaceWith(s.index(-1),s.indexAfter(-1),t.type))return null;e.tr.delete(r.from,r.to).setBlockType(r.from,r.from,t.type,i)},undoable:t.undoable})}function th(t){return new s1({find:t.find,handler:({state:e,range:r,match:n,chain:s})=>{const i=Ur(t.getAttributes,void 0,n)||{},o=e.tr.delete(r.from,r.to),c=o.doc.resolve(r.from).blockRange(),d=c&&TO(c,t.type,i);if(!d)return null;if(o.wrap(c,d),t.keepMarks&&t.editor){const{selection:m,storedMarks:g}=e,{splittableMarks:y}=t.editor.extensionManager,w=g||m.$to.parentOffset&&m.$from.marks();if(w){const j=w.filter(v=>y.includes(v.type.name));o.ensureMarks(j)}}if(t.keepAttributes){const m=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";s().updateAttributes(m,i).run()}const h=o.doc.resolve(r.from-1).nodeBefore;h&&h.type===t.type&&Hc(o.doc,r.from-1)&&(!t.joinPredicate||t.joinPredicate(n,h))&&o.join(r.from-1)},undoable:t.undoable})}function T1e(t,e){const{selection:r}=t,{$from:n}=r;if(r instanceof qt){const i=n.index();return n.parent.canReplaceWith(i,i+1,e)}let s=n.depth;for(;s>=0;){const i=n.index(s);if(n.node(s).contentMatchAt(i).matchType(e))return!0;s-=1}return!1}function _1e(t,e,r={}){const{state:n}=e,{doc:s,tr:i}=n,o=t;s.descendants((l,c)=>{const d=i.mapping.map(c),h=i.mapping.map(c)+l.nodeSize;let m=null;if(l.marks.forEach(y=>{if(y!==o)return!1;m=y}),!m)return;let g=!1;if(Object.keys(r).forEach(y=>{r[y]!==m.attrs[y]&&(g=!0)}),g){const y=t.type.create({...t.attrs,...r});i.removeMark(d,h,t.type),i.addMark(d,h,y)}}),i.docChanged&&e.view.dispatch(i)}var Vs=class SY extends KO{constructor(){super(...arguments),this.type="node"}static create(e={}){const r=typeof e=="function"?e():e;return new SY(r)}configure(e){return super.configure(e)}extend(e){const r=typeof e=="function"?e():e;return super.extend(r)}};function $c(t){return new lwe({find:t.find,handler:({state:e,range:r,match:n,pasteEvent:s})=>{const i=Ur(t.getAttributes,void 0,n,s);if(i===!1||i===null)return null;const{tr:o}=e,l=n[n.length-1],c=n[0];let d=r.to;if(l){const h=c.search(/\S/),m=r.from+c.indexOf(l),g=m+l.length;if(YO(r.from,r.to,e.doc).filter(w=>w.mark.type.excluded.find(v=>v===t.type&&v!==w.mark.type)).filter(w=>w.to>m).length)return null;g<r.to&&o.delete(g,r.to),m>r.from&&o.delete(r.from+h,m),d=r.from+h+l.length,o.addMark(r.from+h,d,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}var M1e=20,NY=(t,e=0)=>{const r=[];return!t.children.length||e>M1e||Array.from(t.children).forEach(n=>{n.tagName==="SPAN"?r.push(n):n.children.length&&r.push(...NY(n,e+1))}),r},A1e=t=>{if(!t.children.length)return;const e=NY(t);e&&e.forEach(r=>{var n,s;const i=r.getAttribute("style"),o=(s=(n=r.parentElement)==null?void 0:n.closest("span"))==null?void 0:s.getAttribute("style");r.setAttribute("style",`${o};${i}`)})},O1e=Dl.create({name:"textStyle",priority:101,addOptions(){return{HTMLAttributes:{},mergeNestedSpanStyles:!0}},parseHTML(){return[{tag:"span",consuming:!1,getAttrs:t=>t.hasAttribute("style")?(this.options.mergeNestedSpanStyles&&A1e(t),{}):!1}]},renderHTML({HTMLAttributes:t}){return["span",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleTextStyle:t=>({commands:e})=>e.toggleMark(this.name,t),removeEmptyTextStyle:()=>({tr:t})=>{const{selection:e}=t;return t.doc.nodesBetween(e.from,e.to,(r,n)=>{if(r.isTextblock)return!0;r.marks.filter(s=>s.type===this.type).some(s=>Object.values(s.attrs).some(i=>!!i))||t.removeMark(n,n+r.nodeSize,this.type)}),!0}}}}),E1e=sn.create({name:"backgroundColor",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{backgroundColor:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="background-color")return l.replace(/['"]+/g,"")}}}return(e=t.style.backgroundColor)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.backgroundColor?{style:`background-color: ${t.backgroundColor}`}:{}}}}]},addCommands(){return{setBackgroundColor:t=>({chain:e})=>e().setMark("textStyle",{backgroundColor:t}).run(),unsetBackgroundColor:()=>({chain:t})=>t().setMark("textStyle",{backgroundColor:null}).removeEmptyTextStyle().run()}}}),kY=sn.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;const r=t.getAttribute("style");if(r){const n=r.split(";").map(s=>s.trim()).filter(Boolean);for(let s=n.length-1;s>=0;s-=1){const i=n[s].split(":");if(i.length>=2){const o=i[0].trim().toLowerCase(),l=i.slice(1).join(":").trim();if(o==="color")return l.replace(/['"]+/g,"")}}}return(e=t.style.color)==null?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),CY=sn.create({name:"fontFamily",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontFamily:{default:null,parseHTML:t=>t.style.fontFamily,renderHTML:t=>t.fontFamily?{style:`font-family: ${t.fontFamily}`}:{}}}}]},addCommands(){return{setFontFamily:t=>({chain:e})=>e().setMark("textStyle",{fontFamily:t}).run(),unsetFontFamily:()=>({chain:t})=>t().setMark("textStyle",{fontFamily:null}).removeEmptyTextStyle().run()}}}),D1e=sn.create({name:"fontSize",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{fontSize:{default:null,parseHTML:t=>t.style.fontSize,renderHTML:t=>t.fontSize?{style:`font-size: ${t.fontSize}`}:{}}}}]},addCommands(){return{setFontSize:t=>({chain:e})=>e().setMark("textStyle",{fontSize:t}).run(),unsetFontSize:()=>({chain:t})=>t().setMark("textStyle",{fontSize:null}).removeEmptyTextStyle().run()}}}),P1e=sn.create({name:"lineHeight",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{lineHeight:{default:null,parseHTML:t=>t.style.lineHeight,renderHTML:t=>t.lineHeight?{style:`line-height: ${t.lineHeight}`}:{}}}}]},addCommands(){return{setLineHeight:t=>({chain:e})=>e().setMark("textStyle",{lineHeight:t}).run(),unsetLineHeight:()=>({chain:t})=>t().setMark("textStyle",{lineHeight:null}).removeEmptyTextStyle().run()}}}),R1e=sn.create({name:"textStyleKit",addExtensions(){const t=[];return this.options.backgroundColor!==!1&&t.push(E1e.configure(this.options.backgroundColor)),this.options.color!==!1&&t.push(kY.configure(this.options.color)),this.options.fontFamily!==!1&&t.push(CY.configure(this.options.fontFamily)),this.options.fontSize!==!1&&t.push(D1e.configure(this.options.fontSize)),this.options.lineHeight!==!1&&t.push(P1e.configure(this.options.lineHeight)),this.options.textStyle!==!1&&t.push(O1e.configure(this.options.textStyle)),t}}),I1e=sn.create({name:"textAlign",addOptions(){return{types:[],alignments:["left","center","right","justify"],defaultAlignment:null}},addGlobalAttributes(){return[{types:this.options.types,attributes:{textAlign:{default:this.options.defaultAlignment,parseHTML:t=>{const e=t.style.textAlign;return this.options.alignments.includes(e)?e:this.options.defaultAlignment},renderHTML:t=>t.textAlign?{style:`text-align: ${t.textAlign}`}:{}}}}]},addCommands(){return{setTextAlign:t=>({commands:e})=>this.options.alignments.includes(t)?this.options.types.map(r=>e.updateAttributes(r,{textAlign:t})).every(r=>r):!1,unsetTextAlign:()=>({commands:t})=>this.options.types.map(e=>t.resetAttributes(e,"textAlign")).every(e=>e),toggleTextAlign:t=>({editor:e,commands:r})=>this.options.alignments.includes(t)?e.isActive({textAlign:t})?r.unsetTextAlign():r.setTextAlign(t):!1}},addKeyboardShortcuts(){return{"Mod-Shift-l":()=>this.editor.commands.setTextAlign("left"),"Mod-Shift-e":()=>this.editor.commands.setTextAlign("center"),"Mod-Shift-r":()=>this.editor.commands.setTextAlign("right"),"Mod-Shift-j":()=>this.editor.commands.setTextAlign("justify")}}}),L1e=I1e,$1e=kY,F1e=CY;const H1e="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4w0s2x0a2z0ure5ba0by2idu3namex4d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dad1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3nd0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0axi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp3ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5mögensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",B1e="ελ1υ2бг1ел3дети4ею2католик6ом3мкд2он1сква6онлайн5рг3рус2ф2сайт3рб3укр3қаз3հայ3ישראל5קום3ابوظبي5رامكو5لاردن4بحرين5جزائر5سعودية6عليان5مغرب5مارات5یران5بارت2زار4يتك3ھارت5تونس4سودان3رية5شبكة4عراق2ب2مان4فلسطين6قطر3كاثوليك6وم3مصر2ليسيا5وريتانيا7قع4همراه5پاکستان7ڀارت4कॉम3नेट3भारत0म्3ोत5संगठन5বাংলা5ভারত2ৰত4ਭਾਰਤ4ભારત4ଭାରତ4இந்தியா6லங்கை6சிங்கப்பூர்11భారత్5ಭಾರತ4ഭാരതം5ලංකා4คอม3ไทย3ລາວ3გე2みんな3アマゾン4クラウド4グーグル4コム2ストア3セール3ファッション6ポイント4世界2中信1国1國1文网3亚马逊3企业2佛山2信息2健康2八卦2公司1益2台湾1灣2商城1店1标2嘉里0大酒店5在线2大拿2天主教3娱乐2家電2广东2微博2慈善2我爱你3手机2招聘2政务1府2新加坡2闻2时尚2書籍2机构2淡马锡3游戏2澳門2点看2移动2组织机构4网址1店1站1络2联通2谷歌2购物2通販2集团2電訊盈科4飞利浦3食品2餐厅2香格里拉3港2닷넷1컴2삼성2한국2",P_="numeric",R_="ascii",I_="alpha",Ap="asciinumeric",xp="alphanumeric",L_="domain",TY="emoji",z1e="scheme",V1e="slashscheme",o2="whitespace";function q1e(t,e){return t in e||(e[t]=[]),e[t]}function Au(t,e,r){e[P_]&&(e[Ap]=!0,e[xp]=!0),e[R_]&&(e[Ap]=!0,e[I_]=!0),e[Ap]&&(e[xp]=!0),e[I_]&&(e[xp]=!0),e[xp]&&(e[L_]=!0),e[TY]&&(e[L_]=!0);for(const n in e){const s=q1e(n,r);s.indexOf(t)<0&&s.push(t)}}function W1e(t,e){const r={};for(const n in e)e[n].indexOf(t)>=0&&(r[n]=!0);return r}function ys(t=null){this.j={},this.jr=[],this.jd=null,this.t=t}ys.groups={};ys.prototype={accepts(){return!!this.t},go(t){const e=this,r=e.j[t];if(r)return r;for(let n=0;n<e.jr.length;n++){const s=e.jr[n][0],i=e.jr[n][1];if(i&&s.test(t))return i}return e.jd},has(t,e=!1){return e?t in this.j:!!this.go(t)},ta(t,e,r,n){for(let s=0;s<t.length;s++)this.tt(t[s],e,r,n)},tr(t,e,r,n){n=n||ys.groups;let s;return e&&e.j?s=e:(s=new ys(e),r&&n&&Au(e,r,n)),this.jr.push([t,s]),s},ts(t,e,r,n){let s=this;const i=t.length;if(!i)return s;for(let o=0;o<i-1;o++)s=s.tt(t[o]);return s.tt(t[i-1],e,r,n)},tt(t,e,r,n){n=n||ys.groups;const s=this;if(e&&e.j)return s.j[t]=e,e;const i=e;let o,l=s.go(t);if(l?(o=new ys,Object.assign(o.j,l.j),o.jr.push.apply(o.jr,l.jr),o.jd=l.jd,o.t=l.t):o=new ys,i){if(n)if(o.t&&typeof o.t=="string"){const c=Object.assign(W1e(o.t,n),r);Au(i,c,n)}else r&&Au(i,r,n);o.t=i}return s.j[t]=o,o}};const sr=(t,e,r,n,s)=>t.ta(e,r,n,s),_n=(t,e,r,n,s)=>t.tr(e,r,n,s),r7=(t,e,r,n,s)=>t.ts(e,r,n,s),dt=(t,e,r,n,s)=>t.tt(e,r,n,s),Qo="WORD",$_="UWORD",_Y="ASCIINUMERICAL",MY="ALPHANUMERICAL",d0="LOCALHOST",F_="TLD",H_="UTLD",ib="SCHEME",df="SLASH_SCHEME",JO="NUM",B_="WS",QO="NL",Op="OPENBRACE",Ep="CLOSEBRACE",Zb="OPENBRACKET",ev="CLOSEBRACKET",tv="OPENPAREN",rv="CLOSEPAREN",nv="OPENANGLEBRACKET",av="CLOSEANGLEBRACKET",sv="FULLWIDTHLEFTPAREN",iv="FULLWIDTHRIGHTPAREN",ov="LEFTCORNERBRACKET",lv="RIGHTCORNERBRACKET",cv="LEFTWHITECORNERBRACKET",uv="RIGHTWHITECORNERBRACKET",dv="FULLWIDTHLESSTHAN",fv="FULLWIDTHGREATERTHAN",hv="AMPERSAND",mv="APOSTROPHE",pv="ASTERISK",hc="AT",gv="BACKSLASH",xv="BACKTICK",yv="CARET",xc="COLON",ZO="COMMA",bv="DOLLAR",Ji="DOT",vv="EQUALS",eE="EXCLAMATION",si="HYPHEN",Dp="PERCENT",wv="PIPE",jv="PLUS",Sv="POUND",Pp="QUERY",tE="QUOTE",AY="FULLWIDTHMIDDLEDOT",rE="SEMI",Qi="SLASH",Rp="TILDE",Nv="UNDERSCORE",OY="EMOJI",kv="SYM";var EY=Object.freeze({__proto__:null,ALPHANUMERICAL:MY,AMPERSAND:hv,APOSTROPHE:mv,ASCIINUMERICAL:_Y,ASTERISK:pv,AT:hc,BACKSLASH:gv,BACKTICK:xv,CARET:yv,CLOSEANGLEBRACKET:av,CLOSEBRACE:Ep,CLOSEBRACKET:ev,CLOSEPAREN:rv,COLON:xc,COMMA:ZO,DOLLAR:bv,DOT:Ji,EMOJI:OY,EQUALS:vv,EXCLAMATION:eE,FULLWIDTHGREATERTHAN:fv,FULLWIDTHLEFTPAREN:sv,FULLWIDTHLESSTHAN:dv,FULLWIDTHMIDDLEDOT:AY,FULLWIDTHRIGHTPAREN:iv,HYPHEN:si,LEFTCORNERBRACKET:ov,LEFTWHITECORNERBRACKET:cv,LOCALHOST:d0,NL:QO,NUM:JO,OPENANGLEBRACKET:nv,OPENBRACE:Op,OPENBRACKET:Zb,OPENPAREN:tv,PERCENT:Dp,PIPE:wv,PLUS:jv,POUND:Sv,QUERY:Pp,QUOTE:tE,RIGHTCORNERBRACKET:lv,RIGHTWHITECORNERBRACKET:uv,SCHEME:ib,SEMI:rE,SLASH:Qi,SLASH_SCHEME:df,SYM:kv,TILDE:Rp,TLD:F_,UNDERSCORE:Nv,UTLD:H_,UWORD:$_,WORD:Qo,WS:B_});const Yo=/[a-z]/,Zm=new RegExp("\\p{L}","u"),l2=new RegExp("\\p{Emoji}","u"),Ko=/\d/,c2=/\s/,n7="\r",u2=`
`,U1e="️",G1e="‍",d2="￼";let hy=null,my=null;function Y1e(t=[]){const e={};ys.groups=e;const r=new ys;hy==null&&(hy=a7(H1e)),my==null&&(my=a7(B1e)),dt(r,"'",mv),dt(r,"{",Op),dt(r,"}",Ep),dt(r,"[",Zb),dt(r,"]",ev),dt(r,"(",tv),dt(r,")",rv),dt(r,"<",nv),dt(r,">",av),dt(r,"（",sv),dt(r,"）",iv),dt(r,"「",ov),dt(r,"」",lv),dt(r,"『",cv),dt(r,"』",uv),dt(r,"＜",dv),dt(r,"＞",fv),dt(r,"&",hv),dt(r,"*",pv),dt(r,"@",hc),dt(r,"`",xv),dt(r,"^",yv),dt(r,":",xc),dt(r,",",ZO),dt(r,"$",bv),dt(r,".",Ji),dt(r,"=",vv),dt(r,"!",eE),dt(r,"-",si),dt(r,"%",Dp),dt(r,"|",wv),dt(r,"+",jv),dt(r,"#",Sv),dt(r,"?",Pp),dt(r,'"',tE),dt(r,"/",Qi),dt(r,";",rE),dt(r,"~",Rp),dt(r,"_",Nv),dt(r,"\\",gv),dt(r,"・",AY);const n=_n(r,Ko,JO,{[P_]:!0});_n(n,Ko,n);const s=_n(n,Yo,_Y,{[Ap]:!0}),i=_n(n,Zm,MY,{[xp]:!0}),o=_n(r,Yo,Qo,{[R_]:!0});_n(o,Ko,s),_n(o,Yo,o),_n(s,Ko,s),_n(s,Yo,s);const l=_n(r,Zm,$_,{[I_]:!0});_n(l,Yo),_n(l,Ko,i),_n(l,Zm,l),_n(i,Ko,i),_n(i,Yo),_n(i,Zm,i);const c=dt(r,u2,QO,{[o2]:!0}),d=dt(r,n7,B_,{[o2]:!0}),h=_n(r,c2,B_,{[o2]:!0});dt(r,d2,h),dt(d,u2,c),dt(d,d2,h),_n(d,c2,h),dt(h,n7),dt(h,u2),_n(h,c2,h),dt(h,d2,h);const m=_n(r,l2,OY,{[TY]:!0});dt(m,"#"),_n(m,l2,m),dt(m,U1e,m);const g=dt(m,G1e);dt(g,"#"),_n(g,l2,m);const y=[[Yo,o],[Ko,s]],w=[[Yo,null],[Zm,l],[Ko,i]];for(let j=0;j<hy.length;j++)cc(r,hy[j],F_,Qo,y);for(let j=0;j<my.length;j++)cc(r,my[j],H_,$_,w);Au(F_,{tld:!0,ascii:!0},e),Au(H_,{utld:!0,alpha:!0},e),cc(r,"file",ib,Qo,y),cc(r,"mailto",ib,Qo,y),cc(r,"http",df,Qo,y),cc(r,"https",df,Qo,y),cc(r,"ftp",df,Qo,y),cc(r,"ftps",df,Qo,y),Au(ib,{scheme:!0,ascii:!0},e),Au(df,{slashscheme:!0,ascii:!0},e),t=t.sort((j,v)=>j[0]>v[0]?1:-1);for(let j=0;j<t.length;j++){const v=t[j][0],T=t[j][1]?{[z1e]:!0}:{[V1e]:!0};v.indexOf("-")>=0?T[L_]=!0:Yo.test(v)?Ko.test(v)?T[Ap]=!0:T[R_]=!0:T[P_]=!0,r7(r,v,v,T)}return r7(r,"localhost",d0,{ascii:!0}),r.jd=new ys(kv),{start:r,tokens:Object.assign({groups:e},EY)}}function DY(t,e){const r=K1e(e.replace(/[A-Z]/g,l=>l.toLowerCase())),n=r.length,s=[];let i=0,o=0;for(;o<n;){let l=t,c=null,d=0,h=null,m=-1,g=-1;for(;o<n&&(c=l.go(r[o]));)l=c,l.accepts()?(m=0,g=0,h=l):m>=0&&(m+=r[o].length,g++),d+=r[o].length,i+=r[o].length,o++;i-=m,o-=g,d-=m,s.push({t:h.t,v:e.slice(i-d,i),s:i-d,e:i})}return s}function K1e(t){const e=[],r=t.length;let n=0;for(;n<r;){let s=t.charCodeAt(n),i,o=s<55296||s>56319||n+1===r||(i=t.charCodeAt(n+1))<56320||i>57343?t[n]:t.slice(n,n+2);e.push(o),n+=o.length}return e}function cc(t,e,r,n,s){let i;const o=e.length;for(let l=0;l<o-1;l++){const c=e[l];t.j[c]?i=t.j[c]:(i=new ys(n),i.jr=s.slice(),t.j[c]=i),t=i}return i=new ys(r),i.jr=s.slice(),t.j[e[o-1]]=i,i}function a7(t){const e=[],r=[];let n=0,s="0123456789";for(;n<t.length;){let i=0;for(;s.indexOf(t[n+i])>=0;)i++;if(i>0){e.push(r.join(""));for(let o=parseInt(t.substring(n,n+i),10);o>0;o--)r.pop();n+=i}else r.push(t[n]),n++}return e}const f0={defaultProtocol:"http",events:null,format:s7,formatHref:s7,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function nE(t,e=null){let r=Object.assign({},f0);t&&(r=Object.assign(r,t instanceof nE?t.o:t));const n=r.ignoreTags,s=[];for(let i=0;i<n.length;i++)s.push(n[i].toUpperCase());this.o=r,e&&(this.defaultRender=e),this.ignoreTags=s}nE.prototype={o:f0,ignoreTags:[],defaultRender(t){return t},check(t){return this.get("validate",t.toString(),t)},get(t,e,r){const n=e!=null;let s=this.o[t];return s&&(typeof s=="object"?(s=r.t in s?s[r.t]:f0[t],typeof s=="function"&&n&&(s=s(e,r))):typeof s=="function"&&n&&(s=s(e,r.t,r)),s)},getObj(t,e,r){let n=this.o[t];return typeof n=="function"&&e!=null&&(n=n(e,r.t,r)),n},render(t){const e=t.render(this);return(this.get("render",null,t)||this.defaultRender)(e,t.t,t)}};function s7(t){return t}function PY(t,e){this.t="token",this.v=t,this.tk=e}PY.prototype={isLink:!1,toString(){return this.v},toHref(t){return this.toString()},toFormattedString(t){const e=this.toString(),r=t.get("truncate",e,this),n=t.get("format",e,this);return r&&n.length>r?n.substring(0,r)+"…":n},toFormattedHref(t){return t.get("formatHref",this.toHref(t.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(t=f0.defaultProtocol){return{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(t),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(t){return{type:this.t,value:this.toFormattedString(t),isLink:this.isLink,href:this.toFormattedHref(t),start:this.startIndex(),end:this.endIndex()}},validate(t){return t.get("validate",this.toString(),this)},render(t){const e=this,r=this.toHref(t.get("defaultProtocol")),n=t.get("formatHref",r,this),s=t.get("tagName",r,e),i=this.toFormattedString(t),o={},l=t.get("className",r,e),c=t.get("target",r,e),d=t.get("rel",r,e),h=t.getObj("attributes",r,e),m=t.getObj("events",r,e);return o.href=n,l&&(o.class=l),c&&(o.target=c),d&&(o.rel=d),h&&Object.assign(o,h),{tagName:s,attributes:o,content:i,eventListeners:m}}};function o1(t,e){class r extends PY{constructor(s,i){super(s,i),this.t=t}}for(const n in e)r.prototype[n]=e[n];return r.t=t,r}const i7=o1("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),o7=o1("text"),X1e=o1("nl"),py=o1("url",{isLink:!0,toHref(t=f0.defaultProtocol){return this.hasProtocol()?this.v:`${t}://${this.v}`},hasProtocol(){const t=this.tk;return t.length>=2&&t[0].t!==d0&&t[1].t===xc}}),ei=t=>new ys(t);function J1e({groups:t}){const e=t.domain.concat([hv,pv,hc,gv,xv,yv,bv,vv,si,JO,Dp,wv,jv,Sv,Qi,kv,Rp,Nv]),r=[mv,xc,ZO,Ji,eE,Dp,Pp,tE,rE,nv,av,Op,Ep,ev,Zb,tv,rv,sv,iv,ov,lv,cv,uv,dv,fv],n=[hv,mv,pv,gv,xv,yv,bv,vv,si,Op,Ep,Dp,wv,jv,Sv,Pp,Qi,kv,Rp,Nv],s=ei(),i=dt(s,Rp);sr(i,n,i),sr(i,t.domain,i);const o=ei(),l=ei(),c=ei();sr(s,t.domain,o),sr(s,t.scheme,l),sr(s,t.slashscheme,c),sr(o,n,i),sr(o,t.domain,o);const d=dt(o,hc);dt(i,hc,d),dt(l,hc,d),dt(c,hc,d);const h=dt(i,Ji);sr(h,n,i),sr(h,t.domain,i);const m=ei();sr(d,t.domain,m),sr(m,t.domain,m);const g=dt(m,Ji);sr(g,t.domain,m);const y=ei(i7);sr(g,t.tld,y),sr(g,t.utld,y),dt(d,d0,y);const w=dt(m,si);dt(w,si,w),sr(w,t.domain,m),sr(y,t.domain,m),dt(y,Ji,g),dt(y,si,w);const j=dt(y,xc);sr(j,t.numeric,i7);const v=dt(o,si),N=dt(o,Ji);dt(v,si,v),sr(v,t.domain,o),sr(N,n,i),sr(N,t.domain,o);const T=ei(py);sr(N,t.tld,T),sr(N,t.utld,T),sr(T,t.domain,o),sr(T,n,i),dt(T,Ji,N),dt(T,si,v),dt(T,hc,d);const S=dt(T,xc),O=ei(py);sr(S,t.numeric,O);const _=ei(py),A=ei();sr(_,e,_),sr(_,r,A),sr(A,e,_),sr(A,r,A),dt(T,Qi,_),dt(O,Qi,_);const E=dt(l,xc),P=dt(c,xc),$=dt(P,Qi),I=dt($,Qi);sr(l,t.domain,o),dt(l,Ji,N),dt(l,si,v),sr(c,t.domain,o),dt(c,Ji,N),dt(c,si,v),sr(E,t.domain,_),dt(E,Qi,_),dt(E,Pp,_),sr(I,t.domain,_),sr(I,e,_),dt(I,Qi,_);const L=[[Op,Ep],[Zb,ev],[tv,rv],[nv,av],[sv,iv],[ov,lv],[cv,uv],[dv,fv]];for(let R=0;R<L.length;R++){const[z,Y]=L[R],q=dt(_,z);dt(A,z,q),dt(q,Y,_);const H=ei(py);sr(q,e,H);const D=ei();sr(q,r),sr(H,e,H),sr(H,r,D),sr(D,e,H),sr(D,r,D),dt(H,Y,_),dt(D,Y,_)}return dt(s,d0,T),dt(s,QO,X1e),{start:s,tokens:EY}}function Q1e(t,e,r){let n=r.length,s=0,i=[],o=[];for(;s<n;){let l=t,c=null,d=null,h=0,m=null,g=-1;for(;s<n&&!(c=l.go(r[s].t));)o.push(r[s++]);for(;s<n&&(d=c||l.go(r[s].t));)c=null,l=d,l.accepts()?(g=0,m=l):g>=0&&g++,s++,h++;if(g<0)s-=h,s<n&&(o.push(r[s]),s++);else{o.length>0&&(i.push(f2(o7,e,o)),o=[]),s-=g,h-=g;const y=m.t,w=r.slice(s-h,s);i.push(f2(y,e,w))}}return o.length>0&&i.push(f2(o7,e,o)),i}function f2(t,e,r){const n=r[0].s,s=r[r.length-1].e,i=e.slice(n,s);return new t(i,r)}const Z1e=typeof console<"u"&&console&&console.warn||(()=>{}),eje="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",hn={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function tje(){return ys.groups={},hn.scanner=null,hn.parser=null,hn.tokenQueue=[],hn.pluginQueue=[],hn.customSchemes=[],hn.initialized=!1,hn}function l7(t,e=!1){if(hn.initialized&&Z1e(`linkifyjs: already initialized - will not register custom scheme "${t}" ${eje}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(t))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);hn.customSchemes.push([t,e])}function rje(){hn.scanner=Y1e(hn.customSchemes);for(let t=0;t<hn.tokenQueue.length;t++)hn.tokenQueue[t][1]({scanner:hn.scanner});hn.parser=J1e(hn.scanner.tokens);for(let t=0;t<hn.pluginQueue.length;t++)hn.pluginQueue[t][1]({scanner:hn.scanner,parser:hn.parser});return hn.initialized=!0,hn}function aE(t){return hn.initialized||rje(),Q1e(hn.parser.start,t,DY(hn.scanner.start,t))}aE.scan=DY;function RY(t,e=null,r=null){if(e&&typeof e=="object"){if(r)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);r=e,e=null}const n=new nE(r),s=aE(t),i=[];for(let o=0;o<s.length;o++){const l=s[o];l.isLink&&(!e||l.t===e)&&n.check(l)&&i.push(l.toFormattedObject(n))}return i}var sE="[\0-   ᠎ -\u2029 　]",nje=new RegExp(sE),aje=new RegExp(`${sE}$`),sje=new RegExp(sE,"g");function ije(t){return t.length===1?t[0].isLink:t.length===3&&t[1].isLink?["()","[]"].includes(t[0].value+t[2].value):!1}function oje(t){return new Ln({key:new ba("autolink"),appendTransaction:(e,r,n)=>{const s=e.some(d=>d.docChanged)&&!r.doc.eq(n.doc),i=e.some(d=>d.getMeta("preventAutolink"));if(!s||i)return;const{tr:o}=n,l=YG(r.doc,[...e]);if(nY(l).forEach(({newRange:d})=>{const h=zve(n.doc,d,y=>y.isTextblock);let m,g;if(h.length>1)m=h[0],g=n.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ");else if(h.length){const y=n.doc.textBetween(d.from,d.to," "," ");if(!aje.test(y))return;m=h[0],g=n.doc.textBetween(m.pos,d.to,void 0," ")}if(m&&g){const y=g.split(nje).filter(Boolean);if(y.length<=0)return!1;const w=y[y.length-1],j=m.pos+g.lastIndexOf(w);if(!w)return!1;const v=aE(w).map(N=>N.toObject(t.defaultProtocol));if(!ije(v))return!1;v.filter(N=>N.isLink).map(N=>({...N,from:j+N.start+1,to:j+N.end+1})).filter(N=>n.schema.marks.code?!n.doc.rangeHasMark(N.from,N.to,n.schema.marks.code):!0).filter(N=>t.validate(N.value)).filter(N=>t.shouldAutoLink(N.value)).forEach(N=>{YO(N.from,N.to,n.doc).some(T=>T.mark.type===t.type)||o.addMark(N.from,N.to,t.type.create({href:N.href}))})}}),!!o.steps.length)return o}})}function lje(t){return new Ln({key:new ba("handleClickLink"),props:{handleClick:(e,r,n)=>{var s,i;if(n.button!==0||!e.editable)return!1;let o=null;if(n.target instanceof HTMLAnchorElement)o=n.target;else{let h=n.target;const m=[];for(;h.nodeName!=="DIV";)m.push(h),h=h.parentNode;o=m.find(g=>g.nodeName==="A")}if(!o)return!1;const l=rY(e.state,t.type.name),c=(s=o==null?void 0:o.href)!=null?s:l.href,d=(i=o==null?void 0:o.target)!=null?i:l.target;return t.enableClickSelection&&t.editor.commands.extendMarkRange(t.type.name),o&&c?(window.open(c,d),!0):!1}}})}function cje(t){return new Ln({key:new ba("handlePasteLink"),props:{handlePaste:(e,r,n)=>{const{state:s}=e,{selection:i}=s,{empty:o}=i;if(o)return!1;let l="";n.content.forEach(d=>{l+=d.textContent});const c=RY(l,{defaultProtocol:t.defaultProtocol}).find(d=>d.isLink&&d.value===l);return!l||!c?!1:t.editor.commands.setMark(t.type,{href:c.href})}}})}function du(t,e){const r=["http","https","ftp","ftps","mailto","tel","callto","sms","cid","xmpp"];return e&&e.forEach(n=>{const s=typeof n=="string"?n:n.scheme;s&&r.push(s)}),!t||t.replace(sje,"").match(new RegExp(`^(?:(?:${r.join("|")}):|[^a-z]|[a-z0-9+.-]+(?:[^a-z+.-:]|$))`,"i"))}var IY=Dl.create({name:"link",priority:1e3,keepOnSplit:!1,exitable:!0,onCreate(){this.options.validate&&!this.options.shouldAutoLink&&(this.options.shouldAutoLink=this.options.validate,console.warn("The `validate` option is deprecated. Rename to the `shouldAutoLink` option instead.")),this.options.protocols.forEach(t=>{if(typeof t=="string"){l7(t);return}l7(t.scheme,t.optionalSlashes)})},onDestroy(){tje()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,enableClickSelection:!1,linkOnPaste:!0,autolink:!0,protocols:[],defaultProtocol:"http",HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},isAllowedUri:(t,e)=>!!du(t,e.protocols),validate:t=>!!t,shouldAutoLink:t=>!!t}},addAttributes(){return{href:{default:null,parseHTML(t){return t.getAttribute("href")}},target:{default:this.options.HTMLAttributes.target},rel:{default:this.options.HTMLAttributes.rel},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:"a[href]",getAttrs:t=>{const e=t.getAttribute("href");return!e||!this.options.isAllowedUri(e,{defaultValidate:r=>!!du(r,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:null}}]},renderHTML({HTMLAttributes:t}){return this.options.isAllowedUri(t.href,{defaultValidate:e=>!!du(e,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?["a",Rn(this.options.HTMLAttributes,t),0]:["a",Rn(this.options.HTMLAttributes,{...t,href:""}),0]},addCommands(){return{setLink:t=>({chain:e})=>{const{href:r}=t;return this.options.isAllowedUri(r,{defaultValidate:n=>!!du(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?e().setMark(this.name,t).setMeta("preventAutolink",!0).run():!1},toggleLink:t=>({chain:e})=>{const{href:r}=t||{};return r&&!this.options.isAllowedUri(r,{defaultValidate:n=>!!du(n,this.options.protocols),protocols:this.options.protocols,defaultProtocol:this.options.defaultProtocol})?!1:e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()},unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[$c({find:t=>{const e=[];if(t){const{protocols:r,defaultProtocol:n}=this.options,s=RY(t).filter(i=>i.isLink&&this.options.isAllowedUri(i.value,{defaultValidate:o=>!!du(o,r),protocols:r,defaultProtocol:n}));s.length&&s.forEach(i=>e.push({text:i.value,data:{href:i.href},index:i.start}))}return e},type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)==null?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[],{protocols:e,defaultProtocol:r}=this.options;return this.options.autolink&&t.push(oje({type:this.type,defaultProtocol:this.options.defaultProtocol,validate:n=>this.options.isAllowedUri(n,{defaultValidate:s=>!!du(s,e),protocols:e,defaultProtocol:r}),shouldAutoLink:this.options.shouldAutoLink})),this.options.openOnClick===!0&&t.push(lje({type:this.type,editor:this.editor,enableClickSelection:this.options.enableClickSelection})),this.options.linkOnPaste&&t.push(cje({editor:this.editor,defaultProtocol:this.options.defaultProtocol,type:this.type})),t}}),uje=IY,h2={exports:{}},m2={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c7;function dje(){if(c7)return m2;c7=1;var t=Y0();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,s=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function l(m,g){var y=g(),w=n({inst:{value:y,getSnapshot:g}}),j=w[0].inst,v=w[1];return i(function(){j.value=y,j.getSnapshot=g,c(j)&&v({inst:j})},[m,y,g]),s(function(){return c(j)&&v({inst:j}),m(function(){c(j)&&v({inst:j})})},[m]),o(y),y}function c(m){var g=m.getSnapshot;m=m.value;try{var y=g();return!r(m,y)}catch{return!0}}function d(m,g){return g()}var h=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:l;return m2.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:h,m2}var u7;function LY(){return u7||(u7=1,h2.exports=dje()),h2.exports}var $Y=LY(),p2,d7;function fje(){return d7||(d7=1,p2=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e instanceof Map&&r instanceof Map){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;for(s of e.entries())if(!t(s[1],r.get(s[0])))return!1;return!0}if(e instanceof Set&&r instanceof Set){if(e.size!==r.size)return!1;for(s of e.entries())if(!r.has(s[0]))return!1;return!0}if(ArrayBuffer.isView(e)&&ArrayBuffer.isView(r)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(e[s]!==r[s])return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[s]))return!1;for(s=n;s--!==0;){var o=i[s];if(!(o==="_owner"&&e.$$typeof)&&!t(e[o],r[o]))return!1}return!0}return e!==e&&r!==r}),p2}var hje=fje();const mje=Pr(hje);var g2={exports:{}},x2={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f7;function pje(){if(f7)return x2;f7=1;var t=Y0(),e=LY();function r(d,h){return d===h&&(d!==0||1/d===1/h)||d!==d&&h!==h}var n=typeof Object.is=="function"?Object.is:r,s=e.useSyncExternalStore,i=t.useRef,o=t.useEffect,l=t.useMemo,c=t.useDebugValue;return x2.useSyncExternalStoreWithSelector=function(d,h,m,g,y){var w=i(null);if(w.current===null){var j={hasValue:!1,value:null};w.current=j}else j=w.current;w=l(function(){function N(A){if(!T){if(T=!0,S=A,A=g(A),y!==void 0&&j.hasValue){var E=j.value;if(y(E,A))return O=E}return O=A}if(E=O,n(S,A))return E;var P=g(A);return y!==void 0&&y(E,P)?(S=A,E):(S=A,O=P)}var T=!1,S,O,_=m===void 0?null:m;return[function(){return N(h())},_===null?void 0:function(){return N(_())}]},[h,m,g,y]);var v=s(d,w[0],w[1]);return o(function(){j.hasValue=!0,j.value=v},[v]),c(v),v},x2}var h7;function gje(){return h7||(h7=1,g2.exports=pje()),g2.exports}var xje=gje(),yje=(...t)=>e=>{t.forEach(r=>{typeof r=="function"?r(e):r&&(r.current=e)})},bje=({contentComponent:t})=>{const e=$Y.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getServerSnapshot);return a.jsx(a.Fragment,{children:Object.values(e)})};function vje(){const t=new Set;let e={};return{subscribe(r){return t.add(r),()=>{t.delete(r)}},getSnapshot(){return e},getServerSnapshot(){return e},setRenderer(r,n){e={...e,[r]:nV.createPortal(n.reactElement,n.element,r)},t.forEach(s=>s())},removeRenderer(r){const n={...e};delete n[r],e=n,t.forEach(s=>s())}}}var wje=class extends X.Component{constructor(t){var e;super(t),this.editorContentRef=X.createRef(),this.initialized=!1,this.state={hasContentComponentInitialized:!!((e=t.editor)!=null&&e.contentComponent)}}componentDidMount(){this.init()}componentDidUpdate(){this.init()}init(){const t=this.props.editor;if(t&&!t.isDestroyed&&t.options.element){if(t.contentComponent)return;const e=this.editorContentRef.current;e.append(t.view.dom),t.setOptions({element:e}),t.contentComponent=vje(),this.state.hasContentComponentInitialized||(this.unsubscribeToContentComponent=t.contentComponent.subscribe(()=>{this.setState(r=>r.hasContentComponentInitialized?r:{hasContentComponentInitialized:!0}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent()})),t.createNodeViews(),this.initialized=!0}}componentWillUnmount(){var t;const e=this.props.editor;if(e){this.initialized=!1,e.isDestroyed||e.view.setProps({nodeViews:{}}),this.unsubscribeToContentComponent&&this.unsubscribeToContentComponent(),e.contentComponent=null;try{if(!((t=e.view.dom)!=null&&t.firstChild))return;const r=document.createElement("div");r.append(e.view.dom),e.setOptions({element:r})}catch{}}}render(){const{editor:t,innerRef:e,...r}=this.props;return a.jsxs(a.Fragment,{children:[a.jsx("div",{ref:yje(e,this.editorContentRef),...r}),(t==null?void 0:t.contentComponent)&&a.jsx(bje,{contentComponent:t.contentComponent})]})}},jje=x.forwardRef((t,e)=>{const r=X.useMemo(()=>Math.floor(Math.random()*4294967295).toString(),[t.editor]);return X.createElement(wje,{key:r,innerRef:e,...t})}),Sje=X.memo(jje),Nje=typeof window<"u"?x.useLayoutEffect:x.useEffect,kje=class{constructor(t){this.transactionNumber=0,this.lastTransactionNumber=0,this.subscribers=new Set,this.editor=t,this.lastSnapshot={editor:t,transactionNumber:0},this.getSnapshot=this.getSnapshot.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.watch=this.watch.bind(this),this.subscribe=this.subscribe.bind(this)}getSnapshot(){return this.transactionNumber===this.lastTransactionNumber?this.lastSnapshot:(this.lastTransactionNumber=this.transactionNumber,this.lastSnapshot={editor:this.editor,transactionNumber:this.transactionNumber},this.lastSnapshot)}getServerSnapshot(){return{editor:null,transactionNumber:0}}subscribe(t){return this.subscribers.add(t),()=>{this.subscribers.delete(t)}}watch(t){if(this.editor=t,this.editor){const e=()=>{this.transactionNumber+=1,this.subscribers.forEach(n=>n())},r=this.editor;return r.on("transaction",e),()=>{r.off("transaction",e)}}}};function FY(t){var e;const[r]=x.useState(()=>new kje(t.editor)),n=xje.useSyncExternalStoreWithSelector(r.subscribe,r.getSnapshot,r.getServerSnapshot,t.selector,(e=t.equalityFn)!=null?e:mje);return Nje(()=>r.watch(t.editor),[t.editor,r]),x.useDebugValue(n),n}var Cje=!1,z_=typeof window>"u",Tje=z_||!!(typeof window<"u"&&window.next),_je=class HY{constructor(e){this.editor=null,this.subscriptions=new Set,this.isComponentMounted=!1,this.previousDeps=null,this.instanceId="",this.options=e,this.subscriptions=new Set,this.setEditor(this.getInitialEditor()),this.scheduleDestroy(),this.getEditor=this.getEditor.bind(this),this.getServerSnapshot=this.getServerSnapshot.bind(this),this.subscribe=this.subscribe.bind(this),this.refreshEditorInstance=this.refreshEditorInstance.bind(this),this.scheduleDestroy=this.scheduleDestroy.bind(this),this.onRender=this.onRender.bind(this),this.createEditor=this.createEditor.bind(this)}setEditor(e){this.editor=e,this.instanceId=Math.random().toString(36).slice(2,9),this.subscriptions.forEach(r=>r())}getInitialEditor(){return this.options.current.immediatelyRender===void 0?z_||Tje?null:this.createEditor():(this.options.current.immediatelyRender,this.options.current.immediatelyRender?this.createEditor():null)}createEditor(){const e={...this.options.current,onBeforeCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onBeforeCreate)==null?void 0:i.call(s,...n)},onBlur:(...n)=>{var s,i;return(i=(s=this.options.current).onBlur)==null?void 0:i.call(s,...n)},onCreate:(...n)=>{var s,i;return(i=(s=this.options.current).onCreate)==null?void 0:i.call(s,...n)},onDestroy:(...n)=>{var s,i;return(i=(s=this.options.current).onDestroy)==null?void 0:i.call(s,...n)},onFocus:(...n)=>{var s,i;return(i=(s=this.options.current).onFocus)==null?void 0:i.call(s,...n)},onSelectionUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onSelectionUpdate)==null?void 0:i.call(s,...n)},onTransaction:(...n)=>{var s,i;return(i=(s=this.options.current).onTransaction)==null?void 0:i.call(s,...n)},onUpdate:(...n)=>{var s,i;return(i=(s=this.options.current).onUpdate)==null?void 0:i.call(s,...n)},onContentError:(...n)=>{var s,i;return(i=(s=this.options.current).onContentError)==null?void 0:i.call(s,...n)},onDrop:(...n)=>{var s,i;return(i=(s=this.options.current).onDrop)==null?void 0:i.call(s,...n)},onPaste:(...n)=>{var s,i;return(i=(s=this.options.current).onPaste)==null?void 0:i.call(s,...n)},onDelete:(...n)=>{var s,i;return(i=(s=this.options.current).onDelete)==null?void 0:i.call(s,...n)}};return new k1e(e)}getEditor(){return this.editor}getServerSnapshot(){return null}subscribe(e){return this.subscriptions.add(e),()=>{this.subscriptions.delete(e)}}static compareOptions(e,r){return Object.keys(e).every(n=>["onCreate","onBeforeCreate","onDestroy","onUpdate","onTransaction","onFocus","onBlur","onSelectionUpdate","onContentError","onDrop","onPaste"].includes(n)?!0:n==="extensions"&&e.extensions&&r.extensions?e.extensions.length!==r.extensions.length?!1:e.extensions.every((s,i)=>{var o;return s===((o=r.extensions)==null?void 0:o[i])}):e[n]===r[n])}onRender(e){return()=>(this.isComponentMounted=!0,clearTimeout(this.scheduledDestructionTimeout),this.editor&&!this.editor.isDestroyed&&e.length===0?HY.compareOptions(this.options.current,this.editor.options)||this.editor.setOptions({...this.options.current,editable:this.editor.isEditable}):this.refreshEditorInstance(e),()=>{this.isComponentMounted=!1,this.scheduleDestroy()})}refreshEditorInstance(e){if(this.editor&&!this.editor.isDestroyed){if(this.previousDeps===null){this.previousDeps=e;return}if(this.previousDeps.length===e.length&&this.previousDeps.every((n,s)=>n===e[s]))return}this.editor&&!this.editor.isDestroyed&&this.editor.destroy(),this.setEditor(this.createEditor()),this.previousDeps=e}scheduleDestroy(){const e=this.instanceId,r=this.editor;this.scheduledDestructionTimeout=setTimeout(()=>{if(this.isComponentMounted&&this.instanceId===e){r&&r.setOptions(this.options.current);return}r&&!r.isDestroyed&&(r.destroy(),this.instanceId===e&&this.setEditor(null))},1)}};function Mje(t={},e=[]){const r=x.useRef(t);r.current=t;const[n]=x.useState(()=>new _je(r)),s=$Y.useSyncExternalStore(n.subscribe,n.getEditor,n.getServerSnapshot);return x.useDebugValue(s),x.useEffect(n.onRender(e)),FY({editor:s,selector:({transactionNumber:i})=>t.shouldRerenderOnTransaction===!1||t.shouldRerenderOnTransaction===void 0?null:t.immediatelyRender&&i===0?0:i+1}),s}var Aje=x.createContext({editor:null});Aje.Consumer;var Oje=x.createContext({onDragStart:()=>{},nodeViewContentChildren:void 0,nodeViewContentRef:()=>{}}),Eje=()=>x.useContext(Oje);X.forwardRef((t,e)=>{const{onDragStart:r}=Eje(),n=t.as||"div";return a.jsx(n,{...t,ref:e,"data-node-view-wrapper":"",onDragStart:r,style:{whiteSpace:"normal",...t.style}})});X.createContext({markViewContentRef:()=>{}});var Cv=(t,e)=>{if(t==="slot")return 0;if(t instanceof Function)return t(e);const{children:r,...n}=e??{};if(t==="svg")throw new Error("SVG elements are not supported in the JSX syntax, use the array syntax instead");return[t,n,r]},Dje=/^\s*>\s$/,Pje=Vs.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return Cv("blockquote",{...Rn(this.options.HTMLAttributes,t),children:Cv("slot",{})})},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[th({find:Dje,type:this.type})]}}),Rje=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))$/,Ije=/(?:^|\s)(\*\*(?!\s+\*\*)((?:[^*]+))\*\*(?!\s+\*\*))/g,Lje=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))$/,$je=/(?:^|\s)(__(?!\s+__)((?:[^_]+))__(?!\s+__))/g,Fje=Dl.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight=400",clearMark:t=>t.type.name===this.name},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return Cv("strong",{...Rn(this.options.HTMLAttributes,t),children:Cv("slot",{})})},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[rd({find:Rje,type:this.type}),rd({find:Lje,type:this.type})]},addPasteRules(){return[$c({find:Ije,type:this.type}),$c({find:$je,type:this.type})]}}),Hje=/(^|[^`])`([^`]+)`(?!`)$/,Bje=/(^|[^`])`([^`]+)`(?!`)/g,zje=Dl.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[rd({find:Hje,type:this.type})]},addPasteRules(){return[$c({find:Bje,type:this.type})]}}),y2=4,Vje=/^```([a-z]+)?[\s\n]$/,qje=/^~~~([a-z]+)?[\s\n]$/,Wje=Vs.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,defaultLanguage:null,enableTabIndentation:!1,tabSize:y2,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:this.options.defaultLanguage,parseHTML:t=>{var e;const{languageClassPrefix:r}=this.options;if(!r)return null;const i=[...((e=t.firstElementChild)==null?void 0:e.classList)||[]].filter(o=>o.startsWith(r)).map(o=>o.replace(r,""))[0];return i||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",Rn(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,r=e.pos===1;return!t||e.parent.type.name!==this.name?!1:r||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Tab:({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:y2,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;if(i.parent.type!==this.type)return!1;const l=" ".repeat(r);return o?t.commands.insertContent(l):t.commands.command(({tr:c})=>{const{from:d,to:h}=s,y=n.doc.textBetween(d,h,`
`,`
`).split(`
`).map(w=>l+w).join(`
`);return c.replaceWith(d,h,n.schema.text(y)),!0})},"Shift-Tab":({editor:t})=>{var e;if(!this.options.enableTabIndentation)return!1;const r=(e=this.options.tabSize)!=null?e:y2,{state:n}=t,{selection:s}=n,{$from:i,empty:o}=s;return i.parent.type!==this.type?!1:o?t.commands.command(({tr:l})=>{var c;const{pos:d}=i,h=i.start(),m=i.end(),y=n.doc.textBetween(h,m,`
`,`
`).split(`
`);let w=0,j=0;const v=d-h;for(let A=0;A<y.length;A+=1){if(j+y[A].length>=v){w=A;break}j+=y[A].length+1}const T=((c=y[w].match(/^ */))==null?void 0:c[0])||"",S=Math.min(T.length,r);if(S===0)return!0;let O=h;for(let A=0;A<w;A+=1)O+=y[A].length+1;return l.delete(O,O+S),d-O<=S&&l.setSelection(Zt.create(l.doc,O)),!0}):t.commands.command(({tr:l})=>{const{from:c,to:d}=s,g=n.doc.textBetween(c,d,`
`,`
`).split(`
`).map(y=>{var w;const j=((w=y.match(/^ */))==null?void 0:w[0])||"",v=Math.min(j.length,r);return y.slice(v)}).join(`
`);return l.replaceWith(c,d,n.schema.text(g)),!0})},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:r}=e,{$from:n,empty:s}=r;if(!s||n.parent.type!==this.type)return!1;const i=n.parentOffset===n.parent.nodeSize-2,o=n.parent.textContent.endsWith(`

`);return!i||!o?!1:t.chain().command(({tr:l})=>(l.delete(n.pos-2,n.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:r,doc:n}=e,{$from:s,empty:i}=r;if(!i||s.parent.type!==this.type||!(s.parentOffset===s.parent.nodeSize-2))return!1;const l=s.after();return l===void 0?!1:n.nodeAt(l)?t.commands.command(({tr:d})=>(d.setSelection(ir.near(n.resolve(l))),!0)):t.commands.exitCode()}}},addInputRules(){return[D_({find:Vje,type:this.type,getAttributes:t=>({language:t[1]})}),D_({find:qje,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Ln({key:new ba("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const r=e.clipboardData.getData("text/plain"),n=e.clipboardData.getData("vscode-editor-data"),s=n?JSON.parse(n):void 0,i=s==null?void 0:s.mode;if(!r||!i)return!1;const{tr:o,schema:l}=t.state,c=l.text(r.replace(/\r\n?/g,`
`));return o.replaceSelectionWith(this.type.create({language:i},c)),o.selection.$from.parent.type!==this.type&&o.setSelection(Zt.near(o.doc.resolve(Math.max(0,o.selection.from-2)))),o.setMeta("paste",!0),t.dispatch(o),!0}}})]}}),Uje=Vs.create({name:"doc",topNode:!0,content:"block+"}),Gje=Vs.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,linebreakReplacement:!0,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",Rn(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:r,editor:n})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:s,storedMarks:i}=r;if(s.$from.parent.type.spec.isolating)return!1;const{keepMarks:o}=this.options,{splittableMarks:l}=n.extensionManager,c=i||s.$to.parentOffset&&s.$from.marks();return e().insertContent({type:this.name}).command(({tr:d,dispatch:h})=>{if(h&&c&&o){const m=c.filter(g=>l.includes(g.type.name));d.ensureMarks(m)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),Yje=Vs.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,Rn(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>D_({find:new RegExp(`^(#{${Math.min(...this.options.levels)},${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}}),Kje=Vs.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{},nextNodeType:"paragraph"}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",Rn(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t,state:e})=>{if(!T1e(e,e.schema.nodes[this.name]))return!1;const{selection:r}=e,{$to:n}=r,s=t();return sY(r)?s.insertContentAt(n.pos,{type:this.name}):s.insertContent({type:this.name}),s.command(({state:i,tr:o,dispatch:l})=>{if(l){const{$to:c}=o.selection,d=c.end();if(c.nodeAfter)c.nodeAfter.isTextblock?o.setSelection(Zt.create(o.doc,c.pos+1)):c.nodeAfter.isBlock?o.setSelection(qt.create(o.doc,c.pos)):o.setSelection(Zt.create(o.doc,c.pos));else{const h=i.schema.nodes[this.options.nextNodeType]||c.parent.type.contentMatch.defaultType,m=h==null?void 0:h.create();m&&(o.insert(d,m),o.setSelection(Zt.create(o.doc,d+1)))}o.scrollIntoView()}return!0}).run()}}},addInputRules(){return[C1e({find:/^(?:---|—-|___\s|\*\*\*\s)$/,type:this.type})]}}),Xje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))$/,Jje=/(?:^|\s)(\*(?!\s+\*)((?:[^*]+))\*(?!\s+\*))/g,Qje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))$/,Zje=/(?:^|\s)(_(?!\s+_)((?:[^_]+))_(?!\s+_))/g,eSe=Dl.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=normal",clearMark:t=>t.type.name===this.name},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[rd({find:Xje,type:this.type}),rd({find:Qje,type:this.type})]},addPasteRules(){return[$c({find:Jje,type:this.type}),$c({find:Zje,type:this.type})]}}),tSe=Object.defineProperty,rSe=(t,e)=>{for(var r in e)tSe(t,r,{get:e[r],enumerable:!0})},nSe="listItem",m7="textStyle",p7=/^\s*([-+*])\s$/,BY=Vs.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(nSe,this.editor.getAttributes(m7)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){let t=th({find:p7,type:this.type});return(this.options.keepMarks||this.options.keepAttributes)&&(t=th({find:p7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:()=>this.editor.getAttributes(m7),editor:this.editor})),[t]}}),zY=Vs.create({name:"listItem",addOptions(){return{HTMLAttributes:{},bulletListTypeName:"bulletList",orderedListTypeName:"orderedList"}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",Rn(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),aSe={};rSe(aSe,{findListItemPos:()=>hg,getNextListDepth:()=>iE,handleBackspace:()=>V_,handleDelete:()=>q_,hasListBefore:()=>VY,hasListItemAfter:()=>sSe,hasListItemBefore:()=>qY,listItemHasSubList:()=>WY,nextListIsDeeper:()=>UY,nextListIsHigher:()=>GY});var hg=(t,e)=>{const{$from:r}=e.selection,n=ea(t,e.schema);let s=null,i=r.depth,o=r.pos,l=null;for(;i>0&&l===null;)s=r.node(i),s.type===n?l=i:(i-=1,o-=1);return l===null?null:{$pos:e.doc.resolve(o),depth:l}},iE=(t,e)=>{const r=hg(t,e);if(!r)return!1;const[,n]=Qve(e,t,r.$pos.pos+4);return n},VY=(t,e,r)=>{const{$anchor:n}=t.selection,s=Math.max(0,n.pos-2),i=t.doc.resolve(s).node();return!(!i||!r.includes(i.type.name))},qY=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-2);return!(s.index()===0||((r=s.nodeBefore)==null?void 0:r.type.name)!==t)},WY=(t,e,r)=>{if(!r)return!1;const n=ea(t,e.schema);let s=!1;return r.descendants(i=>{i.type===n&&(s=!0)}),s},V_=(t,e,r)=>{if(t.commands.undoInputRule())return!0;if(t.state.selection.from!==t.state.selection.to)return!1;if(!Lc(t.state,e)&&VY(t.state,e,r)){const{$anchor:l}=t.state.selection,c=t.state.doc.resolve(l.before()-1),d=[];c.node().descendants((g,y)=>{g.type.name===e&&d.push({node:g,pos:y})});const h=d.at(-1);if(!h)return!1;const m=t.state.doc.resolve(c.start()+h.pos+1);return t.chain().cut({from:l.start()-1,to:l.end()+1},m.end()).joinForward().run()}if(!Lc(t.state,e)||!rwe(t.state))return!1;const n=hg(e,t.state);if(!n)return!1;const i=t.state.doc.resolve(n.$pos.pos-2).node(n.depth),o=WY(e,t.state,i);return qY(e,t.state)&&!o?t.commands.joinItemBackward():t.chain().liftListItem(e).run()},UY=(t,e)=>{const r=iE(t,e),n=hg(t,e);return!n||!r?!1:r>n.depth},GY=(t,e)=>{const r=iE(t,e),n=hg(t,e);return!n||!r?!1:r<n.depth},q_=(t,e)=>{if(!Lc(t.state,e)||!twe(t.state,e))return!1;const{selection:r}=t.state,{$from:n,$to:s}=r;return!r.empty&&n.sameParent(s)?!1:UY(e,t.state)?t.chain().focus(t.state.selection.from+4).lift(e).joinBackward().run():GY(e,t.state)?t.chain().joinForward().joinBackward().run():t.commands.joinItemForward()},sSe=(t,e)=>{var r;const{$anchor:n}=e.selection,s=e.doc.resolve(n.pos-n.parentOffset-2);return!(s.index()===s.parent.childCount-1||((r=s.nodeAfter)==null?void 0:r.type.name)!==t)},YY=sn.create({name:"listKeymap",addOptions(){return{listTypes:[{itemName:"listItem",wrapperNames:["bulletList","orderedList"]},{itemName:"taskItem",wrapperNames:["taskList"]}]}},addKeyboardShortcuts(){return{Delete:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&q_(t,r)&&(e=!0)}),e},"Mod-Delete":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r})=>{t.state.schema.nodes[r]!==void 0&&q_(t,r)&&(e=!0)}),e},Backspace:({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&V_(t,r,n)&&(e=!0)}),e},"Mod-Backspace":({editor:t})=>{let e=!1;return this.options.listTypes.forEach(({itemName:r,wrapperNames:n})=>{t.state.schema.nodes[r]!==void 0&&V_(t,r,n)&&(e=!0)}),e}}}}),iSe="listItem",g7="textStyle",x7=/^(\d+)\.\s$/,KY=Vs.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{},keepMarks:!1,keepAttributes:!1}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1},type:{default:null,parseHTML:t=>t.getAttribute("type")}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...r}=t;return e===1?["ol",Rn(this.options.HTMLAttributes,r),0]:["ol",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t,chain:e})=>this.options.keepAttributes?e().toggleList(this.name,this.options.itemTypeName,this.options.keepMarks).updateAttributes(iSe,this.editor.getAttributes(g7)).run():t.toggleList(this.name,this.options.itemTypeName,this.options.keepMarks)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){let t=th({find:x7,type:this.type,getAttributes:e=>({start:+e[1]}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1]});return(this.options.keepMarks||this.options.keepAttributes)&&(t=th({find:x7,type:this.type,keepMarks:this.options.keepMarks,keepAttributes:this.options.keepAttributes,getAttributes:e=>({start:+e[1],...this.editor.getAttributes(g7)}),joinPredicate:(e,r)=>r.childCount+r.attrs.start===+e[1],editor:this.editor})),[t]}}),oSe=/^\s*(\[([( |x])?\])\s$/,lSe=Vs.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{},taskListTypeName:"taskList",a11y:void 0}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>{const e=t.getAttribute("data-checked");return e===""||e==="true"},renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",Rn(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:r,editor:n})=>{const s=document.createElement("li"),i=document.createElement("label"),o=document.createElement("span"),l=document.createElement("input"),c=document.createElement("div"),d=h=>{var m,g;l.ariaLabel=((g=(m=this.options.a11y)==null?void 0:m.checkboxLabel)==null?void 0:g.call(m,h,l.checked))||`Task item checkbox for ${h.textContent||"empty task item"}`};return d(t),i.contentEditable="false",l.type="checkbox",l.addEventListener("mousedown",h=>h.preventDefault()),l.addEventListener("change",h=>{if(!n.isEditable&&!this.options.onReadOnlyChecked){l.checked=!l.checked;return}const{checked:m}=h.target;n.isEditable&&typeof r=="function"&&n.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:g})=>{const y=r();if(typeof y!="number")return!1;const w=g.doc.nodeAt(y);return g.setNodeMarkup(y,void 0,{...w==null?void 0:w.attrs,checked:m}),!0}).run(),!n.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,m)||(l.checked=!l.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([h,m])=>{s.setAttribute(h,m)}),s.dataset.checked=t.attrs.checked,l.checked=t.attrs.checked,i.append(l,o),s.append(i,c),Object.entries(e).forEach(([h,m])=>{s.setAttribute(h,m)}),{dom:s,contentDOM:c,update:h=>h.type!==this.type?!1:(s.dataset.checked=h.attrs.checked,l.checked=h.attrs.checked,d(h),!0)}}},addInputRules(){return[th({find:oSe,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),cSe=Vs.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",Rn(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});sn.create({name:"listKit",addExtensions(){const t=[];return this.options.bulletList!==!1&&t.push(BY.configure(this.options.bulletList)),this.options.listItem!==!1&&t.push(zY.configure(this.options.listItem)),this.options.listKeymap!==!1&&t.push(YY.configure(this.options.listKeymap)),this.options.orderedList!==!1&&t.push(KY.configure(this.options.orderedList)),this.options.taskItem!==!1&&t.push(lSe.configure(this.options.taskItem)),this.options.taskList!==!1&&t.push(cSe.configure(this.options.taskList)),t}});var uSe=Vs.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),dSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))$/,fSe=/(?:^|\s)(~~(?!\s+~~)((?:[^~]+))~~(?!\s+~~))/g,hSe=Dl.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-s":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[rd({find:dSe,type:this.type})]},addPasteRules(){return[$c({find:fSe,type:this.type})]}}),mSe=Vs.create({name:"text",group:"inline"}),pSe=Dl.create({name:"underline",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"u"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("underline")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["u",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setUnderline:()=>({commands:t})=>t.setMark(this.name),toggleUnderline:()=>({commands:t})=>t.toggleMark(this.name),unsetUnderline:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-u":()=>this.editor.commands.toggleUnderline(),"Mod-U":()=>this.editor.commands.toggleUnderline()}}});function gSe(t={}){return new Ln({view(e){return new xSe(e,t)}})}class xSe{constructor(e,r){var n;this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=(n=r.width)!==null&&n!==void 0?n:1,this.color=r.color===!1?void 0:r.color||"black",this.class=r.class,this.handlers=["dragover","dragend","drop","dragleave"].map(s=>{let i=o=>{this[s](o)};return e.dom.addEventListener(s,i),{name:s,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:r})=>this.editorView.dom.removeEventListener(e,r))}update(e,r){this.cursorPos!=null&&r.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),r=!e.parent.inlineContent,n,s=this.editorView.dom,i=s.getBoundingClientRect(),o=i.width/s.offsetWidth,l=i.height/s.offsetHeight;if(r){let m=e.nodeBefore,g=e.nodeAfter;if(m||g){let y=this.editorView.nodeDOM(this.cursorPos-(m?m.nodeSize:0));if(y){let w=y.getBoundingClientRect(),j=m?w.bottom:w.top;m&&g&&(j=(j+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2);let v=this.width/2*l;n={left:w.left,right:w.right,top:j-v,bottom:j+v}}}}if(!n){let m=this.editorView.coordsAtPos(this.cursorPos),g=this.width/2*o;n={left:m.left-g,right:m.left+g,top:m.top,bottom:m.bottom}}let c=this.editorView.dom.offsetParent;this.element||(this.element=c.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none;",this.color&&(this.element.style.backgroundColor=this.color)),this.element.classList.toggle("prosemirror-dropcursor-block",r),this.element.classList.toggle("prosemirror-dropcursor-inline",!r);let d,h;if(!c||c==document.body&&getComputedStyle(c).position=="static")d=-pageXOffset,h=-pageYOffset;else{let m=c.getBoundingClientRect(),g=m.width/c.offsetWidth,y=m.height/c.offsetHeight;d=m.left-c.scrollLeft*g,h=m.top-c.scrollTop*y}this.element.style.left=(n.left-d)/o+"px",this.element.style.top=(n.top-h)/l+"px",this.element.style.width=(n.right-n.left)/o+"px",this.element.style.height=(n.bottom-n.top)/l+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let r=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),n=r&&r.inside>=0&&this.editorView.state.doc.nodeAt(r.inside),s=n&&n.type.spec.disableDropCursor,i=typeof s=="function"?s(this.editorView,r,e):s;if(r&&!i){let o=r.pos;if(this.editorView.dragging&&this.editorView.dragging.slice){let l=UU(this.editorView.state.doc,o,this.editorView.dragging.slice);l!=null&&(o=l)}this.setCursor(o),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){this.editorView.dom.contains(e.relatedTarget)||this.setCursor(null)}}class On extends ir{constructor(e){super(e,e)}map(e,r){let n=e.resolve(r.map(this.head));return On.valid(n)?new On(n):ir.near(n)}content(){return Mt.empty}eq(e){return e instanceof On&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,r){if(typeof r.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new On(e.resolve(r.pos))}getBookmark(){return new oE(this.anchor)}static valid(e){let r=e.parent;if(r.isTextblock||!ySe(e)||!bSe(e))return!1;let n=r.type.spec.allowGapCursor;if(n!=null)return n;let s=r.contentMatchAt(e.index()).defaultType;return s&&s.isTextblock}static findGapCursorFrom(e,r,n=!1){e:for(;;){if(!n&&On.valid(e))return e;let s=e.pos,i=null;for(let o=e.depth;;o--){let l=e.node(o);if(r>0?e.indexAfter(o)<l.childCount:e.index(o)>0){i=l.child(r>0?e.indexAfter(o):e.index(o)-1);break}else if(o==0)return null;s+=r;let c=e.doc.resolve(s);if(On.valid(c))return c}for(;;){let o=r>0?i.firstChild:i.lastChild;if(!o){if(i.isAtom&&!i.isText&&!qt.isSelectable(i)){e=e.doc.resolve(s+i.nodeSize*r),n=!1;continue e}break}i=o,s+=r;let l=e.doc.resolve(s);if(On.valid(l))return l}return null}}}On.prototype.visible=!1;On.findFrom=On.findGapCursorFrom;ir.jsonID("gapcursor",On);class oE{constructor(e){this.pos=e}map(e){return new oE(e.map(this.pos))}resolve(e){let r=e.resolve(this.pos);return On.valid(r)?new On(r):ir.near(r)}}function ySe(t){for(let e=t.depth;e>=0;e--){let r=t.index(e),n=t.node(e);if(r==0){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r-1);;s=s.lastChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function bSe(t){for(let e=t.depth;e>=0;e--){let r=t.indexAfter(e),n=t.node(e);if(r==n.childCount){if(n.type.spec.isolating)return!0;continue}for(let s=n.child(r);;s=s.firstChild){if(s.childCount==0&&!s.inlineContent||s.isAtom||s.type.spec.isolating)return!0;if(s.inlineContent)return!1}}return!0}function vSe(){return new Ln({props:{decorations:NSe,createSelectionBetween(t,e,r){return e.pos==r.pos&&On.valid(r)?new On(r):null},handleClick:jSe,handleKeyDown:wSe,handleDOMEvents:{beforeinput:SSe}}})}const wSe=PG({ArrowLeft:gy("horiz",-1),ArrowRight:gy("horiz",1),ArrowUp:gy("vert",-1),ArrowDown:gy("vert",1)});function gy(t,e){const r=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(n,s,i){let o=n.selection,l=e>0?o.$to:o.$from,c=o.empty;if(o instanceof Zt){if(!i.endOfTextblock(r)||l.depth==0)return!1;c=!1,l=n.doc.resolve(e>0?l.after():l.before())}let d=On.findGapCursorFrom(l,e,c);return d?(s&&s(n.tr.setSelection(new On(d))),!0):!1}}function jSe(t,e,r){if(!t||!t.editable)return!1;let n=t.state.doc.resolve(e);if(!On.valid(n))return!1;let s=t.posAtCoords({left:r.clientX,top:r.clientY});return s&&s.inside>-1&&qt.isSelectable(t.state.doc.nodeAt(s.inside))?!1:(t.dispatch(t.state.tr.setSelection(new On(n))),!0)}function SSe(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof On))return!1;let{$from:r}=t.state.selection,n=r.parent.contentMatchAt(r.index()).findWrapping(t.state.schema.nodes.text);if(!n)return!1;let s=lt.empty;for(let o=n.length-1;o>=0;o--)s=lt.from(n[o].createAndFill(null,s));let i=t.state.tr.replace(r.pos,r.pos,new Mt(s,0,0));return i.setSelection(Zt.near(i.doc.resolve(r.pos+1))),t.dispatch(i),!1}function NSe(t){if(!(t.selection instanceof On))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",vn.create(t.doc,[Qa.widget(t.selection.head,e,{key:"gapcursor"})])}var Tv=200,xa=function(){};xa.prototype.append=function(e){return e.length?(e=xa.from(e),!this.length&&e||e.length<Tv&&this.leafAppend(e)||this.length<Tv&&e.leafPrepend(this)||this.appendInner(e)):this};xa.prototype.prepend=function(e){return e.length?xa.from(e).append(this):this};xa.prototype.appendInner=function(e){return new kSe(this,e)};xa.prototype.slice=function(e,r){return e===void 0&&(e=0),r===void 0&&(r=this.length),e>=r?xa.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,r))};xa.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};xa.prototype.forEach=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length),r<=n?this.forEachInner(e,r,n,0):this.forEachInvertedInner(e,r,n,0)};xa.prototype.map=function(e,r,n){r===void 0&&(r=0),n===void 0&&(n=this.length);var s=[];return this.forEach(function(i,o){return s.push(e(i,o))},r,n),s};xa.from=function(e){return e instanceof xa?e:e&&e.length?new XY(e):xa.empty};var XY=(function(t){function e(n){t.call(this),this.values=n}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var r={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(s,i){return s==0&&i==this.length?this:new e(this.values.slice(s,i))},e.prototype.getInner=function(s){return this.values[s]},e.prototype.forEachInner=function(s,i,o,l){for(var c=i;c<o;c++)if(s(this.values[c],l+c)===!1)return!1},e.prototype.forEachInvertedInner=function(s,i,o,l){for(var c=i-1;c>=o;c--)if(s(this.values[c],l+c)===!1)return!1},e.prototype.leafAppend=function(s){if(this.length+s.length<=Tv)return new e(this.values.concat(s.flatten()))},e.prototype.leafPrepend=function(s){if(this.length+s.length<=Tv)return new e(s.flatten().concat(this.values))},r.length.get=function(){return this.values.length},r.depth.get=function(){return 0},Object.defineProperties(e.prototype,r),e})(xa);xa.empty=new XY([]);var kSe=(function(t){function e(r,n){t.call(this),this.left=r,this.right=n,this.length=r.length+n.length,this.depth=Math.max(r.depth,n.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(n){return n<this.left.length?this.left.get(n):this.right.get(n-this.left.length)},e.prototype.forEachInner=function(n,s,i,o){var l=this.left.length;if(s<l&&this.left.forEachInner(n,s,Math.min(i,l),o)===!1||i>l&&this.right.forEachInner(n,Math.max(s-l,0),Math.min(this.length,i)-l,o+l)===!1)return!1},e.prototype.forEachInvertedInner=function(n,s,i,o){var l=this.left.length;if(s>l&&this.right.forEachInvertedInner(n,s-l,Math.max(i,l)-l,o+l)===!1||i<l&&this.left.forEachInvertedInner(n,Math.min(s,l),i,o)===!1)return!1},e.prototype.sliceInner=function(n,s){if(n==0&&s==this.length)return this;var i=this.left.length;return s<=i?this.left.slice(n,s):n>=i?this.right.slice(n-i,s-i):this.left.slice(n,i).append(this.right.slice(0,s-i))},e.prototype.leafAppend=function(n){var s=this.right.leafAppend(n);if(s)return new e(this.left,s)},e.prototype.leafPrepend=function(n){var s=this.left.leafPrepend(n);if(s)return new e(s,this.right)},e.prototype.appendInner=function(n){return this.left.depth>=Math.max(this.right.depth,n.depth)+1?new e(this.left,new e(this.right,n)):new e(this,n)},e})(xa);const CSe=500;class Ri{constructor(e,r){this.items=e,this.eventCount=r}popEvent(e,r){if(this.eventCount==0)return null;let n=this.items.length;for(;;n--)if(this.items.get(n-1).selection){--n;break}let s,i;r&&(s=this.remapping(n,this.items.length),i=s.maps.length);let o=e.tr,l,c,d=[],h=[];return this.items.forEach((m,g)=>{if(!m.step){s||(s=this.remapping(n,g+1),i=s.maps.length),i--,h.push(m);return}if(s){h.push(new Zi(m.map));let y=m.step.map(s.slice(i)),w;y&&o.maybeStep(y).doc&&(w=o.mapping.maps[o.mapping.maps.length-1],d.push(new Zi(w,void 0,void 0,d.length+h.length))),i--,w&&s.appendMap(w,i)}else o.maybeStep(m.step);if(m.selection)return l=s?m.selection.map(s.slice(i)):m.selection,c=new Ri(this.items.slice(0,n).append(h.reverse().concat(d)),this.eventCount-1),!1},this.items.length,0),{remaining:c,transform:o,selection:l}}addTransform(e,r,n,s){let i=[],o=this.eventCount,l=this.items,c=!s&&l.length?l.get(l.length-1):null;for(let h=0;h<e.steps.length;h++){let m=e.steps[h].invert(e.docs[h]),g=new Zi(e.mapping.maps[h],m,r),y;(y=c&&c.merge(g))&&(g=y,h?i.pop():l=l.slice(0,l.length-1)),i.push(g),r&&(o++,r=void 0),s||(c=g)}let d=o-n.depth;return d>_Se&&(l=TSe(l,d),o-=d),new Ri(l.append(i),o)}remapping(e,r){let n=new a0;return this.items.forEach((s,i)=>{let o=s.mirrorOffset!=null&&i-s.mirrorOffset>=e?n.maps.length-s.mirrorOffset:void 0;n.appendMap(s.map,o)},e,r),n}addMaps(e){return this.eventCount==0?this:new Ri(this.items.append(e.map(r=>new Zi(r))),this.eventCount)}rebased(e,r){if(!this.eventCount)return this;let n=[],s=Math.max(0,this.items.length-r),i=e.mapping,o=e.steps.length,l=this.eventCount;this.items.forEach(g=>{g.selection&&l--},s);let c=r;this.items.forEach(g=>{let y=i.getMirror(--c);if(y==null)return;o=Math.min(o,y);let w=i.maps[y];if(g.step){let j=e.steps[y].invert(e.docs[y]),v=g.selection&&g.selection.map(i.slice(c+1,y));v&&l++,n.push(new Zi(w,j,v))}else n.push(new Zi(w))},s);let d=[];for(let g=r;g<o;g++)d.push(new Zi(i.maps[g]));let h=this.items.slice(0,s).append(d).append(n),m=new Ri(h,l);return m.emptyItemCount()>CSe&&(m=m.compress(this.items.length-n.length)),m}emptyItemCount(){let e=0;return this.items.forEach(r=>{r.step||e++}),e}compress(e=this.items.length){let r=this.remapping(0,e),n=r.maps.length,s=[],i=0;return this.items.forEach((o,l)=>{if(l>=e)s.push(o),o.selection&&i++;else if(o.step){let c=o.step.map(r.slice(n)),d=c&&c.getMap();if(n--,d&&r.appendMap(d,n),c){let h=o.selection&&o.selection.map(r.slice(n));h&&i++;let m=new Zi(d.invert(),c,h),g,y=s.length-1;(g=s.length&&s[y].merge(m))?s[y]=g:s.push(m)}}else o.map&&n--},this.items.length,0),new Ri(xa.from(s.reverse()),i)}}Ri.empty=new Ri(xa.empty,0);function TSe(t,e){let r;return t.forEach((n,s)=>{if(n.selection&&e--==0)return r=s,!1}),t.slice(r)}class Zi{constructor(e,r,n,s){this.map=e,this.step=r,this.selection=n,this.mirrorOffset=s}merge(e){if(this.step&&e.step&&!e.selection){let r=e.step.merge(this.step);if(r)return new Zi(r.getMap().invert(),r,this.selection)}}}class mc{constructor(e,r,n,s,i){this.done=e,this.undone=r,this.prevRanges=n,this.prevTime=s,this.prevComposition=i}}const _Se=20;function MSe(t,e,r,n){let s=r.getMeta(qu),i;if(s)return s.historyState;r.getMeta(ESe)&&(t=new mc(t.done,t.undone,null,0,-1));let o=r.getMeta("appendedTransaction");if(r.steps.length==0)return t;if(o&&o.getMeta(qu))return o.getMeta(qu).redo?new mc(t.done.addTransform(r,void 0,n,ob(e)),t.undone,y7(r.mapping.maps),t.prevTime,t.prevComposition):new mc(t.done,t.undone.addTransform(r,void 0,n,ob(e)),null,t.prevTime,t.prevComposition);if(r.getMeta("addToHistory")!==!1&&!(o&&o.getMeta("addToHistory")===!1)){let l=r.getMeta("composition"),c=t.prevTime==0||!o&&t.prevComposition!=l&&(t.prevTime<(r.time||0)-n.newGroupDelay||!ASe(r,t.prevRanges)),d=o?b2(t.prevRanges,r.mapping):y7(r.mapping.maps);return new mc(t.done.addTransform(r,c?e.selection.getBookmark():void 0,n,ob(e)),Ri.empty,d,r.time,l??t.prevComposition)}else return(i=r.getMeta("rebased"))?new mc(t.done.rebased(r,i),t.undone.rebased(r,i),b2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition):new mc(t.done.addMaps(r.mapping.maps),t.undone.addMaps(r.mapping.maps),b2(t.prevRanges,r.mapping),t.prevTime,t.prevComposition)}function ASe(t,e){if(!e)return!1;if(!t.docChanged)return!0;let r=!1;return t.mapping.maps[0].forEach((n,s)=>{for(let i=0;i<e.length;i+=2)n<=e[i+1]&&s>=e[i]&&(r=!0)}),r}function y7(t){let e=[];for(let r=t.length-1;r>=0&&e.length==0;r--)t[r].forEach((n,s,i,o)=>e.push(i,o));return e}function b2(t,e){if(!t)return null;let r=[];for(let n=0;n<t.length;n+=2){let s=e.map(t[n],1),i=e.map(t[n+1],-1);s<=i&&r.push(s,i)}return r}function OSe(t,e,r){let n=ob(e),s=qu.get(e).spec.config,i=(r?t.undone:t.done).popEvent(e,n);if(!i)return null;let o=i.selection.resolve(i.transform.doc),l=(r?t.done:t.undone).addTransform(i.transform,e.selection.getBookmark(),s,n),c=new mc(r?l:i.remaining,r?i.remaining:l,null,0,-1);return i.transform.setSelection(o).setMeta(qu,{redo:r,historyState:c})}let v2=!1,b7=null;function ob(t){let e=t.plugins;if(b7!=e){v2=!1,b7=e;for(let r=0;r<e.length;r++)if(e[r].spec.historyPreserveItems){v2=!0;break}}return v2}const qu=new ba("history"),ESe=new ba("closeHistory");function DSe(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Ln({key:qu,state:{init(){return new mc(Ri.empty,Ri.empty,null,0,-1)},apply(e,r,n){return MSe(r,n,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,r){let n=r.inputType,s=n=="historyUndo"?QY:n=="historyRedo"?ZY:null;return s?(r.preventDefault(),s(e.state,e.dispatch)):!1}}}})}function JY(t,e){return(r,n)=>{let s=qu.getState(r);if(!s||(t?s.undone:s.done).eventCount==0)return!1;if(n){let i=OSe(s,r,t);i&&n(e?i.scrollIntoView():i)}return!0}}const QY=JY(!1,!0),ZY=JY(!0,!0);sn.create({name:"characterCount",addOptions(){return{limit:null,mode:"textSize",textCounter:t=>t.length,wordCounter:t=>t.split(" ").filter(e=>e!=="").length}},addStorage(){return{characters:()=>0,words:()=>0}},onBeforeCreate(){this.storage.characters=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc;if(((t==null?void 0:t.mode)||this.options.mode)==="textSize"){const n=e.textBetween(0,e.content.size,void 0," ");return this.options.textCounter(n)}return e.nodeSize},this.storage.words=t=>{const e=(t==null?void 0:t.node)||this.editor.state.doc,r=e.textBetween(0,e.content.size," "," ");return this.options.wordCounter(r)}},addProseMirrorPlugins(){let t=!1;return[new Ln({key:new ba("characterCount"),appendTransaction:(e,r,n)=>{if(t)return;const s=this.options.limit;if(s==null||s===0){t=!0;return}const i=this.storage.characters({node:n.doc});if(i>s){const o=i-s,l=0,c=o;console.warn(`[CharacterCount] Initial content exceeded limit of ${s} characters. Content was automatically trimmed.`);const d=n.tr.deleteRange(l,c);return t=!0,d}t=!0},filterTransaction:(e,r)=>{const n=this.options.limit;if(!e.docChanged||n===0||n===null||n===void 0)return!0;const s=this.storage.characters({node:r.doc}),i=this.storage.characters({node:e.doc});if(i<=n||s>n&&i>n&&i<=s)return!0;if(s>n&&i>n&&i>s||!e.getMeta("paste"))return!1;const l=e.selection.$head.pos,c=i-n,d=l-c,h=l;return e.deleteRange(d,h),!(this.storage.characters({node:e.doc})>n)}})]}});var PSe=sn.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[gSe(this.options)]}});sn.create({name:"focus",addOptions(){return{className:"has-focus",mode:"all"}},addProseMirrorPlugins(){return[new Ln({key:new ba("focus"),props:{decorations:({doc:t,selection:e})=>{const{isEditable:r,isFocused:n}=this.editor,{anchor:s}=e,i=[];if(!r||!n)return vn.create(t,[]);let o=0;this.options.mode==="deepest"&&t.descendants((c,d)=>{if(c.isText)return;if(!(s>=d&&s<=d+c.nodeSize-1))return!1;o+=1});let l=0;return t.descendants((c,d)=>{if(c.isText||!(s>=d&&s<=d+c.nodeSize-1))return!1;if(l+=1,this.options.mode==="deepest"&&o-l>0||this.options.mode==="shallowest"&&l>1)return this.options.mode==="deepest";i.push(Qa.node(d,d+c.nodeSize,{class:this.options.className}))}),vn.create(t,i)}}})]}});var RSe=sn.create({name:"gapCursor",addProseMirrorPlugins(){return[vSe()]},extendNodeSchema(t){var e;const r={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=Ur(Bt(t,"allowGapCursor",r)))!=null?e:null}}});sn.create({name:"placeholder",addOptions(){return{emptyEditorClass:"is-editor-empty",emptyNodeClass:"is-empty",placeholder:"Write something …",showOnlyWhenEditable:!0,showOnlyCurrent:!0,includeChildren:!1}},addProseMirrorPlugins(){return[new Ln({key:new ba("placeholder"),props:{decorations:({doc:t,selection:e})=>{const r=this.editor.isEditable||!this.options.showOnlyWhenEditable,{anchor:n}=e,s=[];if(!r)return null;const i=this.editor.isEmpty;return t.descendants((o,l)=>{const c=n>=l&&n<=l+o.nodeSize,d=!o.isLeaf&&a1(o);if((c||!this.options.showOnlyCurrent)&&d){const h=[this.options.emptyNodeClass];i&&h.push(this.options.emptyEditorClass);const m=Qa.node(l,l+o.nodeSize,{class:h.join(" "),"data-placeholder":typeof this.options.placeholder=="function"?this.options.placeholder({editor:this.editor,node:o,pos:l,hasAnchor:c}):this.options.placeholder});s.push(m)}return this.options.includeChildren}),vn.create(t,s)}}})]}});sn.create({name:"selection",addOptions(){return{className:"selection"}},addProseMirrorPlugins(){const{editor:t,options:e}=this;return[new Ln({key:new ba("selection"),props:{decorations(r){return r.selection.empty||t.isFocused||!t.isEditable||sY(r.selection)||t.view.dragging?null:vn.create(r.doc,[Qa.inline(r.selection.from,r.selection.to,{class:e.className})])}}})]}});function v7({types:t,node:e}){return e&&Array.isArray(t)&&t.includes(e.type)||(e==null?void 0:e.type)===t}var ISe=sn.create({name:"trailingNode",addOptions(){return{node:"paragraph",notAfter:[]}},addProseMirrorPlugins(){const t=new ba(this.name),e=Object.entries(this.editor.schema.nodes).map(([,r])=>r).filter(r=>(this.options.notAfter||[]).concat(this.options.node).includes(r.name));return[new Ln({key:t,appendTransaction:(r,n,s)=>{const{doc:i,tr:o,schema:l}=s,c=t.getState(s),d=i.content.size,h=l.nodes[this.options.node];if(c)return o.insert(d,h.create())},state:{init:(r,n)=>{const s=n.tr.doc.lastChild;return!v7({node:s,types:e})},apply:(r,n)=>{if(!r.docChanged)return n;const s=r.doc.lastChild;return!v7({node:s,types:e})}}})]}}),LSe=sn.create({name:"undoRedo",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>QY(t,e),redo:()=>({state:t,dispatch:e})=>ZY(t,e)}},addProseMirrorPlugins(){return[DSe(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-y":()=>this.editor.commands.redo(),"Mod-я":()=>this.editor.commands.undo(),"Shift-Mod-я":()=>this.editor.commands.redo()}}}),$Se=sn.create({name:"starterKit",addExtensions(){var t,e,r,n;const s=[];return this.options.bold!==!1&&s.push(Fje.configure(this.options.bold)),this.options.blockquote!==!1&&s.push(Pje.configure(this.options.blockquote)),this.options.bulletList!==!1&&s.push(BY.configure(this.options.bulletList)),this.options.code!==!1&&s.push(zje.configure(this.options.code)),this.options.codeBlock!==!1&&s.push(Wje.configure(this.options.codeBlock)),this.options.document!==!1&&s.push(Uje.configure(this.options.document)),this.options.dropcursor!==!1&&s.push(PSe.configure(this.options.dropcursor)),this.options.gapcursor!==!1&&s.push(RSe.configure(this.options.gapcursor)),this.options.hardBreak!==!1&&s.push(Gje.configure(this.options.hardBreak)),this.options.heading!==!1&&s.push(Yje.configure(this.options.heading)),this.options.undoRedo!==!1&&s.push(LSe.configure(this.options.undoRedo)),this.options.horizontalRule!==!1&&s.push(Kje.configure(this.options.horizontalRule)),this.options.italic!==!1&&s.push(eSe.configure(this.options.italic)),this.options.listItem!==!1&&s.push(zY.configure(this.options.listItem)),this.options.listKeymap!==!1&&s.push(YY.configure((t=this.options)==null?void 0:t.listKeymap)),this.options.link!==!1&&s.push(IY.configure((e=this.options)==null?void 0:e.link)),this.options.orderedList!==!1&&s.push(KY.configure(this.options.orderedList)),this.options.paragraph!==!1&&s.push(uSe.configure(this.options.paragraph)),this.options.strike!==!1&&s.push(hSe.configure(this.options.strike)),this.options.text!==!1&&s.push(mSe.configure(this.options.text)),this.options.underline!==!1&&s.push(pSe.configure((r=this.options)==null?void 0:r.underline)),this.options.trailingNode!==!1&&s.push(ISe.configure((n=this.options)==null?void 0:n.trailingNode)),s}}),FSe=$Se,HSe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))$/,BSe=/(?:^|\s)(==(?!\s+==)((?:[^=]+))==(?!\s+==))/g,zSe=Dl.create({name:"highlight",addOptions(){return{multicolor:!1,HTMLAttributes:{}}},addAttributes(){return this.options.multicolor?{color:{default:null,parseHTML:t=>t.getAttribute("data-color")||t.style.backgroundColor,renderHTML:t=>t.color?{"data-color":t.color,style:`background-color: ${t.color}; color: inherit`}:{}}}:{}},parseHTML(){return[{tag:"mark"}]},renderHTML({HTMLAttributes:t}){return["mark",Rn(this.options.HTMLAttributes,t),0]},addCommands(){return{setHighlight:t=>({commands:e})=>e.setMark(this.name,t),toggleHighlight:t=>({commands:e})=>e.toggleMark(this.name,t),unsetHighlight:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-h":()=>this.editor.commands.toggleHighlight()}},addInputRules(){return[rd({find:HSe,type:this.type})]},addPasteRules(){return[$c({find:BSe,type:this.type})]}}),VSe=zSe;const qSe=[R1e,FSe.configure({bold:{HTMLAttributes:{class:"font-bold"}},italic:{HTMLAttributes:{class:"italic"}},strike:{HTMLAttributes:{class:"line-through"}},underline:{HTMLAttributes:{class:"underline"}}}),$1e.configure({types:["textStyle"]}),VSe.configure({multicolor:!0}),F1e.configure({types:["textStyle"]}),uje.configure({openOnClick:!1,HTMLAttributes:{class:"text-blue-500 underline hover:text-blue-700 cursor-pointer"}}),L1e.configure({types:["heading","paragraph"],alignments:["left","center","right","justify"]})],WSe=({editor:t,onClose:e})=>{const[r,n]=x.useState(()=>t.getAttributes("link").href||""),[s,i]=x.useState(()=>({from:t.state.selection.from,to:t.state.selection.to})),[o,l]=x.useState(()=>{try{const{from:h,to:m}=t.state.selection;return h===m?"":t.state.doc.textBetween(h,m)||""}catch{return""}}),c=()=>{t.chain().focus().setTextSelection(s).run(),r?o?t.chain().focus().extendMarkRange("link").setLink({href:r}).run():t.chain().focus().insertContent({type:"text",text:o||r,marks:[{type:"link",attrs:{href:r}}]}).run():t.chain().focus().unsetLink().run(),e()},d=()=>{t.chain().focus().setTextSelection(s).run(),t.chain().focus().unsetLink().run(),e()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-96",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:"Add/Edit Link"}),a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"URL"}),a.jsx("input",{type:"url",value:r,onChange:h=>n(h.target.value),placeholder:"https://example.com",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",autoFocus:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Text ",!o&&a.jsx("span",{className:"text-orange-500",children:"(required if no text selected)"})]}),a.jsx("input",{type:"text",value:o,onChange:h=>l(h.target.value),placeholder:o||"Enter link text",className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"}),!o&&a.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"No text selected. Enter text above or select text first."})]})]}),a.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[a.jsx("button",{onClick:e,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Cancel"}),t.getAttributes("link").href&&a.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Link"}),a.jsx("button",{onClick:c,disabled:!r,className:"px-4 py-2 text-sm bg-blue-500 text-white rounded-md hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:"Save Link"})]})]})})},USe=({editor:t,type:e,onClose:r})=>{const n=["#000000","#FFFFFF","#FF0000","#00FF00","#0000FF","#FFFF00","#FF00FF","#00FFFF","#FFA500","#800080","#008000","#800000","#008080","#000080","#808080","#FFE4E1","#F0FFF0","#F0F8FF","#FFF8DC","#F5F5F5"],s=e==="color"?t.getAttributes("textStyle").color:t.getAttributes("highlight").color,i=l=>{e==="color"?t.chain().focus().setColor(l).run():t.chain().focus().setHighlight({color:l}).run(),r()},o=()=>{e==="color"?t.chain().focus().unsetColor().run():t.chain().focus().unsetHighlight().run(),r()};return a.jsx("div",{className:"fixed inset-0 backdrop-brightness-50 bg-opacity-50 flex items-center justify-center z-50",children:a.jsxs("div",{className:"bg-white rounded-lg p-6 w-80",children:[a.jsx("h3",{className:"text-lg font-semibold mb-4",children:e==="color"?"Text Color":"Background Color"}),a.jsx("div",{className:"grid grid-cols-5 gap-2 mb-4",children:n.map(l=>a.jsx("button",{onClick:()=>i(l),className:`w-8 h-8 rounded border border-gray-300 ${s===l?"ring-2 ring-blue-500":""}`,style:{backgroundColor:l},title:l},l))}),a.jsxs("div",{className:"flex justify-between",children:[a.jsx("button",{onClick:o,className:"px-4 py-2 text-sm text-red-600 hover:text-red-800 transition-colors",children:"Remove Color"}),a.jsx("button",{onClick:r,className:"px-4 py-2 text-sm text-gray-600 hover:text-gray-800 transition-colors",children:"Close"})]})]})})};function GSe({editor:t}){const[e,r]=x.useState(!1),[n,s]=x.useState(null),[i,o]=x.useState(!1);if(!t)return null;const l=FY({editor:t,selector:d=>({isBold:d.editor.isActive("bold")??!1,canBold:d.editor.can().chain().toggleBold().run()??!1,isItalic:d.editor.isActive("italic")??!1,canItalic:d.editor.can().chain().toggleItalic().run()??!1,isStrike:d.editor.isActive("strike")??!1,canStrike:d.editor.can().chain().toggleStrike().run()??!1,isCode:d.editor.isActive("code")??!1,canCode:d.editor.can().chain().toggleCode().run()??!1,isLink:d.editor.isActive("link")??!1,currentColor:d.editor.getAttributes("textStyle").color,currentBackgroundColor:d.editor.getAttributes("highlight").color,currentFontFamily:d.editor.getAttributes("textStyle").fontFamily,isAlignLeft:d.editor.isActive({textAlign:"left"})??!1,isAlignCenter:d.editor.isActive({textAlign:"center"})??!1,isAlignRight:d.editor.isActive({textAlign:"right"})??!1,isAlignJustify:d.editor.isActive({textAlign:"justify"})??!1,canClearMarks:d.editor.can().chain().unsetAllMarks().run()??!1,isParagraph:d.editor.isActive("paragraph")??!1,isHeading1:d.editor.isActive("heading",{level:1})??!1,isHeading2:d.editor.isActive("heading",{level:2})??!1,isHeading3:d.editor.isActive("heading",{level:3})??!1,isBulletList:d.editor.isActive("bulletList")??!1,isOrderedList:d.editor.isActive("orderedList")??!1,canUndo:d.editor.can().chain().undo().run()??!1,canRedo:d.editor.can().chain().redo().run()??!1})}),c=["Arial, sans-serif","Georgia, serif","Times New Roman, serif","Helvetica, sans-serif","Courier New, monospace","Verdana, sans-serif","Trebuchet MS, sans-serif","Comic Sans MS, cursive"];return a.jsxs(a.Fragment,{children:[a.jsx("div",{className:"border-b border-gray-200 bg-gray-50 p-2 sm:p-3",children:a.jsxs("div",{className:"flex flex-wrap gap-1 sm:gap-2",children:[a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBold().run(),disabled:!l.canBold,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBold?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bold",children:a.jsx(Toe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleItalic().run(),disabled:!l.canItalic,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isItalic?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Italic",children:a.jsx(Ole,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleStrike().run(),disabled:!l.canStrike,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isStrike?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Strikethrough",children:a.jsx(Tce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleCode().run(),disabled:!l.canCode,className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isCode?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Code",children:a.jsx(Joe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("left").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignLeft?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Left",children:a.jsx(xoe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("center").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignCenter?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Center",children:a.jsx(hoe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("right").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignRight?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Align Right",children:a.jsx(boe,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setTextAlign("justify").run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isAlignJustify?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Justify",children:a.jsx(poe,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsxs("button",{type:"button",onClick:()=>s("color"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Text Color",children:[a.jsx(rce,{size:18}),l.currentColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentColor}})]}),a.jsxs("button",{type:"button",onClick:()=>s("backgroundColor"),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center relative",title:"Background Color",children:[a.jsx(ece,{size:18}),l.currentBackgroundColor&&a.jsx("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border border-white",style:{backgroundColor:l.currentBackgroundColor}})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1 relative",children:[a.jsx("button",{type:"button",onClick:()=>o(!i),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Font Family",children:a.jsx(Wq,{size:18})}),i&&a.jsxs("div",{className:"absolute top-full left-0 mt-1 bg-white border border-gray-300 rounded-md shadow-lg z-10 w-48",children:[c.map(d=>a.jsx("button",{onClick:()=>{t.chain().focus().setFontFamily(d).run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors",style:{fontFamily:d},children:d.split(",")[0]},d)),a.jsx("button",{type:"button",onClick:()=>{t.chain().focus().unsetFontFamily().run(),o(!1)},className:"w-full px-3 py-2 text-left hover:bg-gray-50 transition-colors text-red-600",children:"Reset Font"})]})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsx("button",{type:"button",onClick:d=>{d.preventDefault(),d.stopPropagation(),r(!0)},className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isLink?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Insert Link",children:a.jsx(Rle,{size:18})}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().unsetAllMarks().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear formatting",children:a.jsx(xce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().clearNodes().run(),className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 transition-colors flex items-center justify-center",title:"Clear nodes",children:a.jsx(an,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().setParagraph().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isParagraph?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Paragraph",children:a.jsx(ice,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:1}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading1?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 1",children:a.jsx(wle,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:2}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading2?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 2",children:a.jsx(Sle,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleHeading({level:3}).run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isHeading3?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Heading 3",children:a.jsx(kle,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleBulletList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isBulletList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Bullet List",children:a.jsx(Vq,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().toggleOrderedList().run(),className:`p-2 text-sm rounded border transition-colors flex items-center justify-center ${l.isOrderedList?"bg-blue-500 text-white border-blue-500":"bg-white text-gray-700 border-gray-300 hover:bg-gray-50"}`,title:"Ordered List",children:a.jsx(Fle,{size:18})})]}),a.jsx("div",{className:"w-px bg-gray-300 mx-1"}),a.jsxs("div",{className:"flex items-center gap-1 sm:gap-1",children:[a.jsx("button",{type:"button",onClick:()=>t.chain().focus().undo().run(),disabled:!l.canUndo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Undo",children:a.jsx(Rce,{size:18})}),a.jsx("button",{type:"button",onClick:()=>t.chain().focus().redo().run(),disabled:!l.canRedo,className:"p-2 text-sm rounded border border-gray-300 bg-white text-gray-700 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center justify-center",title:"Redo",children:a.jsx(hce,{size:18})})]})]})}),e&&a.jsx(WSe,{editor:t,onClose:()=>r(!1)}),n&&a.jsx(USe,{editor:t,type:n,onClose:()=>s(null)})]})}const Nl=({value:t,onChange:e})=>{const r=Mje({extensions:qSe,content:t,onUpdate:({editor:n})=>{const s=n.getHTML();e(s)},editorProps:{attributes:{class:"tiptap-editor min-h-[120px] p-4 prose max-w-none focus:outline-none"},transformPastedHTML(n){return n}},parseOptions:{preserveWhitespace:"full"}});return r?a.jsxs("div",{className:"border border-gray-300 rounded-lg focus-within:ring-2 focus-within:ring-blue-500 focus-within:border-blue-500 bg-white transition-all duration-200",children:[a.jsx(GSe,{editor:r}),a.jsx(Sje,{editor:r,className:"min-h-[120px]"})]}):a.jsx("div",{className:"border border-gray-300 rounded-lg p-4 min-h-[120px] bg-gray-50 flex items-center justify-center",children:a.jsx("div",{className:"text-gray-500",children:"Loading editor..."})})},YSe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,KSe=()=>{var Ie,Ee,ge,Oe,ze,re,se;const{getAllMasterData:t,submitMachineHistory:e}=Nt(),r=jt(),[n,s]=x.useState(!1),[i,o]=x.useState(null),[l,c]=x.useState(null),[d,h]=x.useState(!1),[m,g]=x.useState(()=>{const ee=localStorage.getItem("sidebarOpen");return ee?JSON.parse(ee):!1}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(ee=>!ee)},[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState([]),[T,S]=x.useState([]),[O,_]=x.useState([]),[A,E]=x.useState([]),[P,$]=x.useState([]),[I,L]=x.useState([]),[R,z]=x.useState([]),[Y,q]=x.useState([]),[H,D]=x.useState([]),F={date:new Date().toISOString().split("T")[0],shift:"",group:"",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""},[K,te]=x.useState(F),W=x.useCallback((ee,we)=>{if(ee&&typeof ee=="object"&&"value"in ee&&we)te(Ge=>({...Ge,[we]:ee.value}));else if(ee&&"target"in ee){const{name:Ge,value:Ye}=ee.target;te(xe=>{if(["stopJam","startJam"].includes(Ge)){const ct=Ye.replace(/[^\d]/g,""),mt=parseInt(ct,10);return{...xe,[Ge]:ct===""?0:Math.max(0,Math.min(23,isNaN(mt)?0:mt))}}if(["stopMenit","startMenit"].includes(Ge)){const ct=Ye.replace(/[^\d]/g,""),mt=parseInt(ct,10);return{...xe,[Ge]:ct===""?0:Math.max(0,Math.min(59,isNaN(mt)?0:mt))}}return Ge==="runningHour"||Ge==="jumlah"?{...xe,[Ge]:Ye.replace(/[^\d.]/g,"")}:{...xe,[Ge]:Ye}})}},[]),Z=x.useCallback(ee=>{if(typeof ee=="string"){const we=ee.replace(/[^\d]/g,""),Ge=parseInt(we,10);return isNaN(Ge)?"":Ge.toLocaleString("id-ID").replace(/,/g,".")}return isNaN(ee)||ee===null||ee===void 0?"":ee.toLocaleString("id-ID").replace(/,/g,".")},[]),oe=async ee=>{ee.preventDefault(),s(!0),o(null),c(null);const we={...K,perbaikanPerawatan:K.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:K.runningHour?parseInt(String(K.runningHour).replace(/\./g,""),10):0,jumlah:K.jumlah?parseInt(String(K.jumlah).replace(/\./g,""),10):0,stopJam:K.stopJam===0&&String(K.stopJam)===""?null:K.stopJam,stopMenit:K.stopMenit===0&&String(K.stopMenit)===""?null:K.stopMenit,startJam:K.startJam===0&&String(K.startJam)===""?null:K.startJam,startMenit:K.startMenit===0&&String(K.startMenit)===""?null:K.startMenit};try{await e(we),c("Data history mesin berhasil disimpan!"),h(!0),le()}catch(Ge){o(Ge.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",Ge)}finally{s(!1)}},le=x.useCallback(()=>{te(F),o(null),c(null)},[]),ce=x.useCallback(()=>{h(!1),r("/machinehistory")},[r]);x.useEffect(()=>{(async()=>{var we,Ge,Ye,xe,ct,mt,tt,wt,Ct;try{const ft=await t();N(((we=ft.mesin)==null?void 0:we.data)||[]),S(((Ge=ft.shifts)==null?void 0:Ge.data)||[]),_(((Ye=ft.groups)==null?void 0:Ye.data)||[]),E(((xe=ft.stoptimes)==null?void 0:xe.data)||[]),$(((ct=ft.units)==null?void 0:ct.data)||[]),L(((mt=ft.itemtroubles)==null?void 0:mt.data)||[]),z(((tt=ft.jenisaktivitas)==null?void 0:tt.data)||[]),q(((wt=ft.kegiatans)==null?void 0:wt.data)||[]),D(((Ct=ft.unitspareparts)==null?void 0:Ct.data)||[])}catch(ft){console.error("Gagal mengambil semua data master:",ft),o(ft.message||"Gagal memuat daftar data master.")}})()},[t]);const pe={control:(ee,we)=>({...ee,minHeight:"42px",borderColor:we.isFocused?"#3B82F6":"#D1D5DB",boxShadow:we.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ee=>({...ee,padding:"0"}),singleValue:ee=>({...ee,color:"#374151"}),placeholder:ee=>({...ee,color:"#6B7280"}),dropdownIndicator:ee=>({...ee,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ee=>({...ee,display:"none"}),menu:ee=>({...ee,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ee,we)=>({...ee,backgroundColor:we.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Add Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(rg,{}),isMobile:w,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Record New Machine History"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for machine maintenance and issues"})]}),a.jsxs(C.button,{onClick:()=>r("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to History"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[i&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:i}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>o(null)})})]}),a.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:K.date,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"shift",id:"shift",options:(T||[]).map(ee=>({value:ee.id,label:ee.name})),value:T.map(ee=>({value:ee.id,label:ee.name})).find(ee=>ee.value===K.shift),onChange:ee=>W(ee,"shift"),placeholder:"Select Shift",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"group",id:"group",options:(O||[]).map(ee=>({value:ee.id,label:ee.name})),value:O.map(ee=>({value:ee.id,label:ee.name})).find(ee=>ee.value===K.group),onChange:ee=>W(ee,"group"),placeholder:"Select Group",styles:pe,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:K.startJam===null?"":K.startJam,onChange:W,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:K.startMenit===null?"":K.startMenit,onChange:W,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:K.stopJam===null?"":K.stopJam,onChange:W,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:K.stopMenit===null?"":K.stopMenit,onChange:W,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"stopTime",id:"stopTime",options:(A||[]).map(ee=>({value:ee.id,label:ee.name})),value:A.find(ee=>ee.id===K.stopTime)?{value:K.stopTime,label:((Ie=A.find(ee=>ee.id===K.stopTime))==null?void 0:Ie.name)||""}:null,onChange:ee=>W(ee,"stopTime"),placeholder:"Select Stop Type",styles:pe,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"mesin",id:"mesin",options:(v||[]).map(ee=>({value:ee.id,label:ee.name})),value:v.find(ee=>ee.id===K.mesin)?{value:K.mesin,label:((Ee=v.find(ee=>ee.id===K.mesin))==null?void 0:Ee.name)||""}:null,onChange:ee=>W(ee,"mesin"),placeholder:"Select Machine",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:Z(K.runningHour),onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"unit",id:"unit",options:(P||[]).map(ee=>({value:ee.id,label:ee.name})),value:P.find(ee=>ee.id===K.unit)?{value:K.unit,label:((ge=P.find(ee=>ee.id===K.unit))==null?void 0:ge.name)||""}:null,onChange:ee=>W(ee,"unit"),placeholder:"Select Unit",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"itemTrouble",id:"itemTrouble",options:(I||[]).map(ee=>({value:ee.id,label:ee.name})),value:I.find(ee=>ee.id===K.itemTrouble)?{value:K.itemTrouble,label:((Oe=I.find(ee=>ee.id===K.itemTrouble))==null?void 0:Oe.name)||""}:null,onChange:ee=>W(ee,"itemTrouble"),placeholder:"Select Item Trouble",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance / Damage ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:K.jenisGangguan,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:K.bentukTindakan,onChange:ee=>{te(we=>({...we,bentukTindakan:ee}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:K.rootCause,onChange:W,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"jenisAktivitas",id:"jenisAktivitas",options:(R||[]).map(ee=>({value:ee.id,label:ee.name})),value:R.find(ee=>ee.id===K.jenisAktivitas)?{value:K.jenisAktivitas,label:((ze=R.find(ee=>ee.id===K.jenisAktivitas))==null?void 0:ze.name)||""}:null,onChange:ee=>W(ee,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"kegiatan",id:"kegiatan",options:(Y||[]).map(ee=>({value:ee.id,label:ee.name})),value:Y.find(ee=>ee.id===K.kegiatan)?{value:K.kegiatan,label:((re=Y.find(ee=>ee.id===K.kegiatan))==null?void 0:re.name)||""}:null,onChange:ee=>W(ee,"kegiatan"),placeholder:"Select Activity",styles:pe,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:K.kodePart,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:K.sparePart,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:K.idPart,onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:Z(K.jumlah),onChange:W,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Tr,{name:"unitSparePart",id:"unitSparePart",options:(H||[]).map(ee=>({value:ee.id,label:ee.name})),value:H.find(ee=>ee.id===K.unitSparePart)?{value:K.unitSparePart,label:((se=H.find(ee=>ee.id===K.unitSparePart))==null?void 0:se.name)||""}:null,onChange:ee=>W(ee,"unitSparePart"),placeholder:"Select Unit",styles:pe})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:le,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(an,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:n,children:n?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Record"]})})]})]})]})]})]}),a.jsx(YSe,{isOpen:d,onClose:ce,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been added successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},XSe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,JSe=()=>{var z,Y,q,H,D,F,K,te,W,Z,oe,le,ce,pe,Ie,Ee,ge,Oe,ze,re,se,ee,we,Ge,Ye,xe,ct,mt,tt,wt,Ct,ft,Rt,Ze,he,We;const{id:t}=ya(),e=jt(),[r,n]=x.useState(()=>{const je=localStorage.getItem("sidebarOpen");return je?JSON.parse(je):!1}),s=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!r)),n(je=>!je)},[i,o]=x.useState(window.innerWidth<768),{getMachineHistoryById:l,updateMachineHistory:c,masterData:d,isMasterDataLoading:h}=Nt(),[m,g]=x.useState({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),[y,w]=x.useState(!0),[j,v]=x.useState(!1),[N,T]=x.useState(null),[S,O]=x.useState(null),[_,A]=x.useState(!1);x.useEffect(()=>{(async()=>{var ht,gt,St,ve,nt;try{if(w(!0),h||!d)return;if(t){const ae=(await l(t)).data;ae?g({date:ae.date||"",shift:String(ae.shift_id)||"",group:String(ae.group_id)||"",stopJam:((ht=ae.startstop)==null?void 0:ht.stop_time_hh)??null,stopMenit:((gt=ae.startstop)==null?void 0:gt.stop_time_mm)??null,startJam:((St=ae.startstop)==null?void 0:St.start_time_hh)??null,startMenit:((ve=ae.startstop)==null?void 0:ve.start_time_mm)??null,stopTime:String(ae.stoptime_id)||"",unit:String(ae.unit_id)||"",mesin:String(ae.mesin_id)||"",runningHour:ae.running_hour??0,itemTrouble:String(ae.itemtrouble_id)||"",jenisGangguan:ae.jenis_gangguan||"",bentukTindakan:ae.bentuk_tindakan||"",perbaikanPerawatan:((nt=ae.jenisaktifitas)==null?void 0:nt.name)==="Perbaikan"?"Perbaikan":"Perawatan",rootCause:ae.root_cause||"",jenisAktivitas:String(ae.jenisaktifitas_id)||"",kegiatan:String(ae.kegiatan_id)||"",kodePart:ae.kode_part||"",sparePart:ae.spare_part||"",idPart:ae.id_part||"",jumlah:ae.jumlah??0,unitSparePart:String(ae.unitsp_id)||""}):T("Data history mesin tidak ditemukan.")}else T("ID history mesin tidak diberikan untuk pengeditan.")}catch(Xe){console.error("Error fetching machine history:",Xe),T(Xe.message||"Terjadi kesalahan saat memuat data.")}finally{w(!1)}})()},[t,d,h,l]);const E=x.useCallback((je,ht)=>{if(je&&typeof je=="object"&&"value"in je&&ht)g(gt=>({...gt,[ht]:je.value}));else if(je&&"target"in je){const{name:gt,value:St,type:ve}=je.target;g(nt=>{if(["stopJam","startJam"].includes(gt)){const Xe=St.replace(/[^\d]/g,""),ae=parseInt(Xe,10);return{...nt,[gt]:Xe===""?null:Math.max(0,Math.min(23,isNaN(ae)?0:ae))}}if(["stopMenit","startMenit"].includes(gt)){const Xe=St.replace(/[^\d]/g,""),ae=parseInt(Xe,10);return{...nt,[gt]:Xe===""?null:Math.max(0,Math.min(59,isNaN(ae)?0:ae))}}return gt==="runningHour"||gt==="jumlah"?{...nt,[gt]:St.replace(/[^\d.]/g,"")}:{...nt,[gt]:St}})}},[]),P=x.useCallback(je=>{if(je===null||isNaN(Number(je)))return"";if(typeof je=="string"){const ht=je.replace(/[^\d]/g,""),gt=parseInt(ht,10);return isNaN(gt)?"":gt.toLocaleString("id-ID").replace(/,/g,".")}return je.toLocaleString("id-ID").replace(/,/g,".")},[]),$=async je=>{je.preventDefault(),v(!0),T(null),O(null);const ht={...m,perbaikanPerawatan:m.jenisAktivitas==="Perbaikan"?"Perbaikan":"Perawatan",runningHour:m.runningHour?parseInt(String(m.runningHour).replace(/\./g,""),10):0,jumlah:m.jumlah?parseInt(String(m.jumlah).replace(/\./g,""),10):0};try{const gt=await c(t,ht);O(gt.message||"Machine history updated successfully!"),A(!0)}catch(gt){console.error("Error updating machine history:",gt),T(gt.message||"Failed to update machine history.")}finally{v(!1)}},I=x.useCallback(()=>{g({date:"",shift:"",group:"",stopJam:null,stopMenit:null,startJam:null,startMenit:null,stopTime:"",unit:"",mesin:"",runningHour:0,itemTrouble:"",jenisGangguan:"",bentukTindakan:"",perbaikanPerawatan:"",rootCause:"",jenisAktivitas:"",kegiatan:"",kodePart:"",sparePart:"",idPart:"",jumlah:0,unitSparePart:""}),T(null),O(null)},[]),L=x.useCallback(()=>{A(!1),e("/machinehistory")},[e]),R={control:(je,ht)=>({...je,minHeight:"42px",borderColor:ht.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ht.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:je=>({...je,padding:"0"}),singleValue:je=>({...je,color:"#374151"}),placeholder:je=>({...je,color:"#6B7280"}),dropdownIndicator:je=>({...je,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:je=>({...je,display:"none"}),menu:je=>({...je,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(je,ht)=>({...je,backgroundColor:ht.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};return h||y?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-blue-100 border border-blue-400 text-blue-700 px-6 py-4 rounded-lg flex items-center shadow-lg animate-pulse",role:"alert",children:[a.jsx(cr,{className:"animate-spin mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Loading Data... Please wait."})]})}):!d&&!h?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(at,{className:"mr-3 text-2xl"}),a.jsx("span",{className:"font-semibold text-lg",children:"Error: Master data failed to load. Please refresh the page."})]})}):N&&!m.date?a.jsx("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900 justify-center items-center",children:a.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-6 py-4 rounded-lg flex items-center shadow-lg",role:"alert",children:[a.jsx(at,{className:"mr-3 text-2xl"}),a.jsxs("span",{className:"font-semibold text-lg",children:["Error: ",N]})]})}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(rg,{}),isMobile:i,toggleSidebar:s}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Edit Machine History Record ",t&&`(ID: ${t})`]}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update maintenance activities and machine issues"})]}),a.jsxs(C.button,{onClick:()=>e("/machinehistory"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to History"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[N&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:N}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>T(null)})})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"date",id:"date",value:m.date,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"shift",className:"block text-sm font-medium text-gray-700 mb-1",children:["Shift ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"shift",id:"shift",options:((Y=(z=d==null?void 0:d.shifts)==null?void 0:z.data)==null?void 0:Y.map(je=>({value:je.id,label:je.name})))||[],value:((H=(q=d==null?void 0:d.shifts)==null?void 0:q.data)==null?void 0:H.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.shift)))||null,onChange:je=>E(je,"shift"),placeholder:"Select Shift",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"group",className:"block text-sm font-medium text-gray-700 mb-1",children:["Group ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"group",id:"group",options:((F=(D=d==null?void 0:d.groups)==null?void 0:D.data)==null?void 0:F.map(je=>({value:je.id,label:je.name})))||[],value:((te=(K=d==null?void 0:d.groups)==null?void 0:K.data)==null?void 0:te.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.group)))||null,onChange:je=>E(je,"group"),placeholder:"Select Group",styles:R,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-indigo-500"})," Time Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Start Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"startJam",id:"startJam",value:m.startJam===null?"":m.startJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"startMenit",id:"startMenit",value:m.startMenit===null?"":m.startMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Time ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("input",{type:"number",name:"stopJam",id:"stopJam",value:m.stopJam===null?"":m.stopJam,onChange:E,min:"0",max:"23",placeholder:"HH",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0}),a.jsx("span",{className:"text-gray-500 text-lg",children:":"}),a.jsx("input",{type:"number",name:"stopMenit",id:"stopMenit",value:m.stopMenit===null?"":m.stopMenit,onChange:E,min:"0",max:"59",placeholder:"MM",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"stopTime",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"stopTime",id:"stopTime",options:((Z=(W=d==null?void 0:d.stoptimes)==null?void 0:W.data)==null?void 0:Z.map(je=>({value:je.id,label:je.name})))||[],value:((le=(oe=d==null?void 0:d.stoptimes)==null?void 0:oe.data)==null?void 0:le.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.stopTime)))||null,onChange:je=>E(je,"stopTime"),placeholder:"Select Stop Type",styles:R,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Machine Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"mesin",className:"block text-sm font-medium text-gray-700 mb-1",children:["Machine ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"mesin",id:"mesin",options:((pe=(ce=d==null?void 0:d.mesin)==null?void 0:ce.data)==null?void 0:pe.map(je=>({value:je.id,label:je.name})))||[],value:((Ee=(Ie=d==null?void 0:d.mesin)==null?void 0:Ie.data)==null?void 0:Ee.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.mesin)))||null,onChange:je=>E(je,"mesin"),placeholder:"Select Machine",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"runningHour",className:"block text-sm font-medium text-gray-700 mb-1",children:["Running Hour ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"runningHour",id:"runningHour",value:P(m.runningHour),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 12.500",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"unit",className:"block text-sm font-medium text-gray-700 mb-1",children:["Unit ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"unit",id:"unit",options:((Oe=(ge=d==null?void 0:d.units)==null?void 0:ge.data)==null?void 0:Oe.map(je=>({value:je.id,label:je.name})))||[],value:((re=(ze=d==null?void 0:d.units)==null?void 0:ze.data)==null?void 0:re.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.unit)))||null,onChange:je=>E(je,"unit"),placeholder:"Select Unit",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"itemTrouble",className:"block text-sm font-medium text-gray-700 mb-1",children:["Item Trouble ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"itemTrouble",id:"itemTrouble",options:((ee=(se=d==null?void 0:d.itemtroubles)==null?void 0:se.data)==null?void 0:ee.map(je=>({value:je.id,label:je.name})))||[],value:((Ge=(we=d==null?void 0:d.itemtroubles)==null?void 0:we.data)==null?void 0:Ge.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.itemTrouble)))||null,onChange:je=>E(je,"itemTrouble"),placeholder:"Select Item Trouble",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisGangguan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Disturbance ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"jenisGangguan",id:"jenisGangguan",value:m.jenisGangguan,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Electrical Issue",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"bentukTindakan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:m.bentukTindakan,onChange:je=>{g(ht=>({...ht,bentukTindakan:je}))}})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"rootCause",className:"block text-sm font-medium text-gray-700 mb-1",children:["Root Cause ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"rootCause",id:"rootCause",value:m.rootCause,onChange:E,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Identify the root cause...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Activity Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"jenisAktivitas",className:"block text-sm font-medium text-gray-700 mb-1",children:["Type of Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"jenisAktivitas",id:"jenisAktivitas",options:((xe=(Ye=d==null?void 0:d.jenisaktivitas)==null?void 0:Ye.data)==null?void 0:xe.map(je=>({value:je.id,label:je.name})))||[],value:((mt=(ct=d==null?void 0:d.jenisaktivitas)==null?void 0:ct.data)==null?void 0:mt.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.jenisAktivitas)))||null,onChange:je=>E(je,"jenisAktivitas"),placeholder:"Select Type of Activity",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"kegiatan",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{name:"kegiatan",id:"kegiatan",options:((wt=(tt=d==null?void 0:d.kegiatans)==null?void 0:tt.data)==null?void 0:wt.map(je=>({value:je.id,label:je.name})))||[],value:((ft=(Ct=d==null?void 0:d.kegiatans)==null?void 0:Ct.data)==null?void 0:ft.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.kegiatan)))||null,onChange:je=>E(je,"kegiatan"),placeholder:"Select Activity",styles:R,required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"kodePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part Code"}),a.jsx("input",{type:"text",name:"kodePart",id:"kodePart",value:m.kodePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., P001"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"sparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part"}),a.jsx("input",{type:"text",name:"sparePart",id:"sparePart",value:m.sparePart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Oil Filter"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"idPart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Part ID"}),a.jsx("input",{type:"text",name:"idPart",id:"idPart",value:m.idPart,onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., SPU-005"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"jumlah",className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),a.jsx("input",{type:"text",name:"jumlah",id:"jumlah",value:P(m.jumlah),onChange:E,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., 5"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"unitSparePart",className:"block text-sm font-medium text-gray-700 mb-1",children:"Spare Part Unit"}),a.jsx(Tr,{name:"unitSparePart",id:"unitSparePart",options:((Ze=(Rt=d==null?void 0:d.unitspareparts)==null?void 0:Rt.data)==null?void 0:Ze.map(je=>({value:je.id,label:je.name})))||[],value:((We=(he=d==null?void 0:d.unitspareparts)==null?void 0:he.data)==null?void 0:We.map(je=>({value:je.id,label:je.name})).find(je=>String(je.value)===String(m.unitSparePart)))||null,onChange:je=>E(je,"unitSparePart"),placeholder:"Select Unit",styles:R})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:I,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(an,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:j,children:j?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Changes"]})})]})]})]})]})]}),a.jsx(XSe,{isOpen:_,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your machine history record has been updated successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Machine History"})]})})]})},w7={dashboard:{view:"1",edit:"2"},assets:{view:"3",create:"4",edit:"5",delete:"6"},workorders:{view:"7",create:"8",assign:"9",complete:"10",edit:"18",delete:"19"},machinehistory:{view:"31",create:"32",edit:"33",delete:"34"},inventory:{view:"23",create:"24",edit:"25",delete:"26"},reports:{view:"11",create:"20",edit:"21",export:"12",delete:"22"},teams:{view:"27",create:"28",edit:"29",delete:"30"},settings:{view:"13",edit:"14"},permissions:{view:"15",edit:"16"},users:{manage:"17"}},QSe=()=>{var ze;const{user:t,logout:e,fetchWithAuth:r,getUsers:n,hasPermission:s,updateUserPermissions:i,deleteUser:o,createRole:l,updateRole:c}=Nt(),d=jt();ta();const[h,m]=x.useState(()=>{const re=localStorage.getItem("sidebarOpen");return re?JSON.parse(re):!1}),[g,y]=x.useState(window.innerWidth<768),[w,j]=x.useState("roles"),[v,N]=x.useState(null),[T,S]=x.useState(null),[O,_]=x.useState(!1),[A,E]=x.useState({}),[P,$]=x.useState("all"),[I,L]=x.useState(""),[R,z]=x.useState([]),[Y,q]=x.useState([]),[H,D]=x.useState(!1);x.useRef(null),x.useEffect(()=>{const re=()=>{y(window.innerWidth<768),window.innerWidth<768&&m(!1)};return window.addEventListener("resize",re),()=>window.removeEventListener("resize",re)},[]),x.useEffect(()=>{localStorage.setItem("sidebarOpen",JSON.stringify(h))},[h]),x.useEffect(()=>{const re=async()=>{try{const[se,ee]=await Promise.all([n(),r("/roles")]),Ge=se.map(xe=>({id:String(xe.id),name:xe.name,nik:xe.nik,email:xe.email,roleId:xe.role_id?String(xe.role_id):null,customPermissions:xe.customPermissions||[],department:xe.department||null,department_id:xe.department_id||null,permissions:xe.permissions||xe.allPermissions||[]})),Ye=ee.map(xe=>({id:String(xe.id),name:xe.name,description:xe.description||`${xe.name} role`,permissions:xe.permissions.map(String),isSuperadmin:xe.name==="superadmin"}));z(Ge),q(Ye)}catch(se){console.error("Failed to fetch data:",se)}};s("view_permissions")&&re()},[n,r,s]);const F=()=>{m(re=>!re)},K=re=>{E(se=>({...se,[re]:!se[re]}))},te=re=>{!v||v.isSuperadmin||N(se=>({...se,permissions:se.permissions.includes(re)?se.permissions.filter(ee=>ee!==re):[...se.permissions,re]}))},W=re=>{!T||T.roleId==="3"||S(se=>{if(!se)return null;const ee=se.customPermissions.includes(re)?se.customPermissions.filter(we=>we!==re):[...se.customPermissions,re];return{...se,customPermissions:ee,permissions:[...new Set([...se.rolePermissions||[],...ee])]}})},Z=re=>{N(re),_(!0)},oe=x.useCallback(async()=>{if(!v||!s("edit_permissions")){alert("You don't have permission or role data is incomplete.");return}if(!v.name.trim()){alert("Role name cannot be empty!");return}try{const re={name:v.name,description:v.description,permissions:v.permissions};v.id?await c(v.id,re):await l(re);const ee=(await r("/roles")).map(we=>({id:String(we.id),name:we.name,description:we.description,permissions:we.permissions.map(String),isSuperadmin:we.name==="superadmin"}));q(ee),_(!1),N(null)}catch(re){console.error("Failed to save role:",re)}},[v,s,c,l,r]),le=re=>{const se=Y.find(ee=>String(ee.id)===String(re.roleId));S({...re,rolePermissions:(se==null?void 0:se.permissions)||[],customPermissions:re.customPermissions||[],permissions:re.permissions||[]})},ce=async()=>{if(T)try{const re=await i(T.id,{roleId:T.roleId||null,customPermissions:T.customPermissions||[]});z(R.map(se=>{if(se.id===re.id){const ee=re.roleId||null,we=Y.find(ct=>String(ct.id)===String(ee)),Ge=(we==null?void 0:we.permissions)||[],Ye=re.customPermissions||[],xe=[...new Set([...Ge,...Ye])];return{...re,roleId:ee,customPermissions:Ye,rolePermissions:Ge,permissions:xe}}return se})),S(null)}catch(re){console.error("Failed to save user:",re)}},pe=async re=>{if(!(!s("manage_users")||!window.confirm("Are you sure you want to delete this role?")))try{await r(`/roles/${re}`,{method:"DELETE"});const ee=(await r("/roles")).map(we=>({id:String(we.id),name:we.name,description:we.description,permissions:we.permissions.map(String),isSuperadmin:we.name==="superadmin"}));q(ee)}catch(se){console.error("Failed to delete role:",se)}},Ie=x.useCallback(async re=>{if(window.confirm("Are you sure you want to delete this user?")){D(!0);try{await o(re);const se=await n();z(se)}catch(se){console.error("Failed to delete user:",se)}finally{D(!1)}}},[o,n]),Ee=re=>{if(!re)return"No Role";const se=Y.find(ee=>String(ee.id)===String(re));return se?se.name:"No Role"},ge=["all",...new Set(R.map(re=>{var se;return((se=re.department)==null?void 0:se.name)||""}).filter(Boolean))],Oe=R.filter(re=>{var se;return P==="all"||((se=re.department)==null?void 0:se.name)===P}).filter(re=>re.name.toLowerCase().includes(I.toLowerCase())||re.nik.toLowerCase().includes(I.toLowerCase()));return s("15")?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Permission",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Bf,{}),isMobile:g,toggleSidebar:F}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Permission ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage user roles and permissions to control access and functionality within the system."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-5 border border-blue-100 mb-6",children:a.jsxs("div",{className:"flex border-b border-gray-100",children:[a.jsxs("button",{onClick:()=>j("roles"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="roles"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(Bf,{className:"mr-2 text-base"}),"Roles & Permissions"]}),a.jsxs("button",{onClick:()=>j("users"),className:`px-6 py-3 font-medium text-sm flex items-center ${w==="users"?"text-blue-700 border-b-2 border-blue-700":"text-gray-600 hover:text-gray-900"}`,children:[a.jsx(ca,{className:"mr-2 text-base"}),"User Permissions"]})]})}),w==="roles"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Roles"}),s("16")&&a.jsxs(C.button,{onClick:()=>{_(!0),N({id:null,name:"",description:"",permissions:[],isSuperadmin:!1})},whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Role"})]})]}),O&&a.jsxs(C.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:v!=null&&v.id?"Edit Role":"Add New Role"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role Name"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.name)||"",onChange:re=>N(se=>({...se,name:re.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"e.g., Maintenance Manager"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),a.jsx("input",{type:"text",value:(v==null?void 0:v.description)||"",onChange:re=>N(se=>({...se,description:re.target.value})),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Brief description of the role"})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(w7).map(([re,se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>K(re),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:re.replace(/([A-Z])/g," $1").trim()}),A[re]?a.jsx(yb,{}):a.jsx(yn,{})]}),a.jsx(_t,{children:A[re]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(se).map(([ee,we])=>a.jsxs("div",{className:"flex items-center",children:[a.jsx("input",{type:"checkbox",id:`perm-${we}`,checked:(v==null?void 0:v.isSuperadmin)||(v==null?void 0:v.permissions.includes(we))||!1,onChange:()=>te(we),disabled:v==null?void 0:v.isSuperadmin,className:"h-4 w-4 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),a.jsx("label",{htmlFor:`perm-${we}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium",children:[ee," ",re.replace(/([A-Z])/g," $1").trim(),(v==null?void 0:v.isSuperadmin)&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]})})]},we))})})]},re))}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),N(null)},className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:oe,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Role"})]})]}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:Y.map(re=>a.jsxs(C.div,{whileHover:{y:-2,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.05)"},transition:{type:"spring",stiffness:300},className:"bg-white rounded-2xl shadow-sm p-6 border border-blue-100 h-full",children:[a.jsxs("div",{className:"flex justify-between items-start mb-2",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-900",children:[re.name,re.isSuperadmin&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"})]}),a.jsxs("div",{className:"flex space-x-2",children:[!re.isSuperadmin&&s("16")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Z(re),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Dn,{className:"text-base"})}),!re.isSuperadmin&&s("17")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>pe(re.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"text-base"})})]})]}),a.jsx("p",{className:"text-gray-600 text-sm mb-4",children:re.description}),a.jsxs("div",{className:"space-y-2",children:[a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Permissions:"}),a.jsx("span",{className:"font-medium text-gray-900",children:re.permissions.length})]}),a.jsxs("div",{className:"flex items-center justify-between text-sm",children:[a.jsx("span",{className:"text-gray-500",children:"Users with this role:"}),a.jsx("span",{className:"font-medium text-gray-900",children:R.filter(se=>se.roleId===re.id).length})]})]})]},re.id))})]}),w==="users"&&a.jsxs("div",{children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0 mb-6",children:[a.jsx("h2",{className:"text-xl font-semibold text-gray-900",children:"Users"}),a.jsxs("div",{className:"flex flex-col md:flex-row space-y-3 md:space-y-0 md:space-x-3",children:[a.jsxs("div",{className:"relative",children:[a.jsx(In,{className:"absolute left-3 top-3 text-gray-400"}),a.jsx("input",{type:"text",placeholder:"Search users...",value:I,onChange:re=>L(re.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 pl-10 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent w-full"})]}),a.jsx("select",{value:P,onChange:re=>$(re.target.value),className:"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:ge.map(re=>a.jsx("option",{value:re,children:re==="all"?"All Departments":re},re))}),s("17")&&a.jsxs(C.button,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},onClick:()=>d("/permissions/adduser"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(Hce,{className:"text-base"}),a.jsx("span",{children:"Add User"})]})]})]}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"NIK"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Role"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Permissions"}),a.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Oe.map(re=>{var se,ee;return a.jsxs("tr",{className:"hover:bg-blue-50 transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:re.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.nik}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.email}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:((se=re.department)==null?void 0:se.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:Ee(re.roleId)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:re.roleId==="3"?a.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-blue-100 text-blue-800",children:"All permissions"}):(ee=re.customPermissions)!=null&&ee.length?a.jsxs("span",{className:"cursor-help border-b border-dashed border-gray-400",title:re.customPermissions.join(", "),children:[re.customPermissions.length," custom"]}):a.jsx("span",{className:"italic text-gray-400",children:"None"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:s("edit_permissions")&&a.jsxs(a.Fragment,{children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>le(re),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"Edit",children:a.jsx(Dn,{className:"text-base"})}),re.id!==(t==null?void 0:t.id)&&s("manage_users")&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>Ie(re.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"text-base"})})]})})]},re.id)})})]})})})]})]})]}),a.jsx(_t,{children:T&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 p-4 sticky top-0 bg-white z-10",children:[a.jsx("h3",{className:"text-xl font-bold text-gray-900",children:"Edit User Permissions"}),a.jsx("button",{onClick:()=>S(null),className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{className:"text-xl"})})]}),a.jsxs("div",{className:"p-6",children:[!T.roleId&&a.jsx("div",{className:"p-3 bg-yellow-50 rounded-md mb-4",children:a.jsx("p",{className:"text-yellow-700",children:"⚠️ This user has no role assigned. Permissions will come only from custom permissions."})}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name"}),a.jsx("div",{className:"font-medium text-gray-900",children:T.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"NIK"}),a.jsx("div",{className:"text-gray-600",children:T.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"text-gray-600",children:T.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"text-gray-600",children:((ze=T.department)==null?void 0:ze.name)||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Role"}),a.jsxs("select",{value:T.roleId||"",onChange:re=>{const se=re.target.value||null,ee=Y.find(we=>String(we.id)===String(se));S({...T,roleId:se,rolePermissions:(ee==null?void 0:ee.permissions)||[]})},className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[a.jsx("option",{value:"",children:"No Role"}),Y.map(re=>a.jsx("option",{value:String(re.id),children:re.name},re.id))]})]})]}),a.jsx("h4",{className:"font-medium text-gray-700 mb-3",children:"Custom Permissions"}),a.jsx("div",{className:"space-y-4",children:Object.entries(w7).map(([re,se])=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsxs("button",{onClick:()=>K(re),className:"w-full flex justify-between items-center p-3 bg-gray-50 hover:bg-gray-100 transition-colors duration-200",children:[a.jsx("span",{className:"font-medium text-gray-700 capitalize",children:re.replace(/([A-Z])/g," $1").trim()}),A[re]?a.jsx(yb,{}):a.jsx(yn,{})]}),a.jsx(_t,{children:A[re]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 bg-white",children:Object.entries(se).map(([ee,we])=>{var mt,tt;const Ge=((mt=T.rolePermissions)==null?void 0:mt.includes(we))||!1,Ye=T.roleId==="3",xe=Ye||Ge||((tt=T.customPermissions)==null?void 0:tt.includes(we)),ct=Ye||Ge;return a.jsxs("div",{className:`flex items-center ${ct?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`user-perm-${we}`,checked:xe,onChange:()=>!ct&&W(we),disabled:ct,className:`h-4 w-4 rounded focus:ring-blue-500 ${Ye?"text-blue-600":Ge?"text-purple-600":"text-blue-600"}`}),a.jsx("label",{htmlFor:`user-perm-${we}`,className:"ml-2 text-sm text-gray-700",children:a.jsxs("div",{className:"font-medium flex items-center",children:[ee," ",re.replace(/([A-Z])/g," $1").trim(),Ye&&a.jsx("span",{className:"ml-2 text-xs bg-blue-100 text-blue-800 px-2 py-0.5 rounded",children:"Superadmin"}),Ge&&!Ye&&a.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-800 px-2 py-0.5 rounded",children:"from role"})]})})]},we)})})})]},re))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 p-4 border-t border-gray-100 sticky bottom-0 bg-white",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>S(null),className:"px-4 py-2 border border-gray-300 text-gray-700 hover:bg-gray-50 rounded-lg transition-colors duration-200 font-medium text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ce,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors duration-200 font-medium text-sm",children:"Save Changes"})]})]})})})]}):a.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50 font-sans",children:a.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center border border-red-200",children:[a.jsx(Xt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-xl text-red-600 font-semibold",children:"You don't have permission to access this page"})]})})},ZSe=()=>{const{changePassword:t}=Nt(),e=jt(),[r,n]=x.useState({currentPassword:"",newPassword:"",confirmPassword:""}),[s,i]=x.useState({currentPassword:"",newPassword:"",confirmPassword:"",general:""}),[o,l]=x.useState(!1),[c,d]=x.useState({current:!1,new:!1,confirm:!1}),[h,m]=x.useState(""),g=v=>{const{name:N,value:T}=v.target;n(S=>({...S,[N]:T})),s[N]&&i(S=>({...S,[N]:"",general:""}))},y=v=>{d(N=>({...N,[v]:!N[v]}))},w=()=>{let v=!0;const N={currentPassword:"",newPassword:"",confirmPassword:"",general:""};return r.currentPassword||(N.currentPassword="Current password is required",v=!1),r.newPassword?r.newPassword.length<8&&(N.newPassword="Password must be at least 8 characters",v=!1):(N.newPassword="New password is required",v=!1),r.newPassword!==r.confirmPassword&&(N.confirmPassword="Passwords do not match",v=!1),i(N),v},j=async v=>{if(v.preventDefault(),!!w()){l(!0),m("");try{await t(r.currentPassword,r.newPassword),m("Your password has been changed successfully!"),n({currentPassword:"",newPassword:"",confirmPassword:""}),i({currentPassword:"",newPassword:"",confirmPassword:"",general:""})}catch(N){console.error("Password change error:",N),i(T=>({...T,general:N.message||"Failed to change password. Please try again."}))}finally{l(!1)}}};return a.jsxs("div",{className:"min-h-screen bg-gray-50 flex flex-col",children:[a.jsxs("header",{className:"bg-white shadow-sm py-4 px-6 flex items-center",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>e(-1),className:"p-2 rounded-full hover:bg-gray-100 mr-4",children:a.jsx(wA,{className:"text-xl text-gray-700"})}),a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Change Password"}),a.jsx("p",{className:"text-sm text-gray-500",children:"Update your account password"})]})]}),a.jsxs("main",{className:"flex-1 p-4 md:p-6 max-w-3xl mx-auto w-full",children:[a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("div",{className:"mb-6",children:[a.jsxs("div",{className:"flex items-center mb-2",children:[a.jsx("div",{className:"w-10 h-10 rounded-full bg-blue-100 flex items-center justify-center mr-3",children:a.jsx(u6,{className:"text-blue-600 text-lg"})}),a.jsx("h2",{className:"text-xl font-semibold text-gray-800",children:"Password Update"})]}),a.jsx("p",{className:"text-gray-600 text-sm",children:"Please enter your current password and set a new one."})]}),a.jsxs("form",{onSubmit:j,className:"space-y-6",children:[a.jsxs(_t,{children:[s.general&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-red-50 border-l-4 border-red-500 p-4 rounded flex items-start",children:[a.jsx(Fx,{className:"text-red-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-red-700 font-medium",children:"Error"}),a.jsx("p",{className:"text-red-600 text-sm",children:s.general})]})]}),h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0},className:"bg-green-50 border-l-4 border-green-500 p-4 rounded flex items-start",children:[a.jsx(bre,{className:"text-green-500 mr-3 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-green-700 font-medium",children:"Success"}),a.jsx("p",{className:"text-green-600 text-sm",children:h})]})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"currentPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Current Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.current?"text":"password",id:"currentPassword",name:"currentPassword",value:r.currentPassword,onChange:g,className:`w-full border ${s.currentPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"current-password"}),a.jsx("button",{type:"button",onClick:()=>y("current"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.current?"Hide password":"Show password",children:c.current?a.jsx(Fy,{}):a.jsx(Hy,{})})]}),s.currentPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Fx,{className:"mr-1"})," ",s.currentPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"newPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.new?"text":"password",id:"newPassword",name:"newPassword",value:r.newPassword,onChange:g,className:`w-full border ${s.newPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>y("new"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.new?"Hide password":"Show password",children:c.new?a.jsx(Fy,{}):a.jsx(Hy,{})})]}),a.jsxs("div",{className:"mt-3 bg-blue-50 p-3 rounded-md",children:[a.jsxs("p",{className:"text-xs font-medium text-gray-700 mb-1 flex items-center",children:[a.jsx(c6,{className:"mr-1 text-blue-500"})," Password requirement:"]}),a.jsx("p",{className:"text-xs text-gray-600",children:"Must be at least 8 characters long"})]}),s.newPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Fx,{className:"mr-1"})," ",s.newPassword]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-1",children:"Confirm New Password"}),a.jsxs("div",{className:"relative",children:[a.jsx("input",{type:c.confirm?"text":"password",id:"confirmPassword",name:"confirmPassword",value:r.confirmPassword,onChange:g,className:`w-full border ${s.confirmPassword?"border-red-300":"border-gray-300"} rounded-md px-3 py-2 pr-10 focus:outline-none focus:ring-2 focus:ring-blue-500`,disabled:o,autoComplete:"new-password"}),a.jsx("button",{type:"button",onClick:()=>y("confirm"),className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-500 hover:text-gray-700","aria-label":c.confirm?"Hide password":"Show password",children:c.confirm?a.jsx(Fy,{}):a.jsx(Hy,{})})]}),s.confirmPassword&&a.jsxs("p",{className:"mt-1 text-sm text-red-600 flex items-center",children:[a.jsx(Fx,{className:"mr-1"})," ",s.confirmPassword]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>e(-1),disabled:o,className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 disabled:opacity-50",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:o||r.newPassword.length<8||r.newPassword!==r.confirmPassword,className:`px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:hover:bg-blue-600 flex items-center ${o?"opacity-75":""}`,children:o?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(u6,{className:"mr-2"}),"Update Password"]})})]})]})]}),a.jsxs("div",{className:"mt-6 bg-white rounded-xl shadow-sm p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-3 flex items-center",children:[a.jsx(c6,{className:"text-blue-500 mr-2"})," Security Tip"]}),a.jsx("p",{className:"text-sm text-gray-600",children:"Choose a password that's easy for you to remember but hard for others to guess. Avoid using common words or personal information."})]})]})]})},eNe=["Dashboard","Assets","Work Orders","Machine History","Inventory","Reports","Team","Settings","Permissions","Users"],tNe=[{id:"1",name:"View Dashboard",description:"Can view dashboard",category:"Dashboard"},{id:"2",name:"Edit Dashboard",description:"Can edit dashboard",category:"Dashboard"},{id:"3",name:"View Assets",description:"Can view assets",category:"Assets"},{id:"4",name:"Create Assets",description:"Can create assets",category:"Assets"},{id:"5",name:"Edit Assets",description:"Can edit assets",category:"Assets"},{id:"6",name:"Delete Assets",description:"Can delete assets",category:"Assets"},{id:"7",name:"View Work Orders",description:"Can view work orders",category:"Work Orders"},{id:"8",name:"Create Work Orders",description:"Can create work orders",category:"Work Orders"},{id:"9",name:"Assign Work Orders",description:"Can assign work orders",category:"Work Orders"},{id:"10",name:"Complete Work Orders",description:"Can complete work orders",category:"Work Orders"},{id:"18",name:"Edit Work Orders",description:"Can edit work orders",category:"Work Orders"},{id:"19",name:"Delete Work Orders",description:"Can delete work orders",category:"Work Orders"},{id:"31",name:"View Machine History",description:"Can view machine history",category:"Machine History"},{id:"32",name:"Create Machine History",description:"Can create machine history",category:"Machine History"},{id:"33",name:"Edit Machine History",description:"Can edit machine history",category:"Machine History"},{id:"34",name:"Delete Machine History",description:"Can delete machine history",category:"Machine History"},{id:"23",name:"View Inventory",description:"Can view inventory",category:"Inventory"},{id:"24",name:"Create Inventory",description:"Can create inventory",category:"Inventory"},{id:"25",name:"Edit Inventory",description:"Can edit inventory",category:"Inventory"},{id:"26",name:"Delete Inventory",description:"Can delete inventory",category:"Inventory"},{id:"11",name:"View Reports",description:"Can view reports",category:"Reports"},{id:"12",name:"Export Reports",description:"Can export reports",category:"Reports"},{id:"20",name:"Create Reports",description:"Can create reports",category:"Reports"},{id:"21",name:"Edit Reports",description:"Can edit reports",category:"Reports"},{id:"22",name:"Delete Reports",description:"Can delete reports",category:"Reports"},{id:"27",name:"View Team",description:"Can view team",category:"Team"},{id:"28",name:"Create Team",description:"Can create team",category:"Team"},{id:"29",name:"Edit Team",description:"Can edit team",category:"Team"},{id:"30",name:"Delete Team",description:"Can delete team",category:"Team"},{id:"13",name:"View Settings",description:"Can view settings",category:"Settings"},{id:"14",name:"Edit Settings",description:"Can edit settings",category:"Settings"},{id:"15",name:"View Permissions",description:"Can view permissions",category:"Permissions"},{id:"16",name:"Edit Permissions",description:"Can edit permissions",category:"Permissions"},{id:"17",name:"Manage Users",description:"Can manage users",category:"Users"}],rNe=()=>{const t=jt(),{user:e,register:r,getRoles:n,hasPermission:s}=Nt(),[i,o]=x.useState(!1),[l,c]=x.useState({}),[d,h]=x.useState(!1),[m,g]=x.useState({}),[y,w]=x.useState([]),[j,v]=x.useState([]),[N,T]=x.useState(window.innerWidth<768),[S,O]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),_=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),O(q=>!q)},[A,E]=x.useState({name:"",nik:"",email:"",roleId:"",customPermissions:[],department:"",position:"",password:"",confirmPassword:""});x.useEffect(()=>{(async()=>{try{const H=await n();w(H),v([{id:"1",name:"IT"},{id:"2",name:"HR"},{id:"3",name:"Finance"},{id:"4",name:"Operations"},{id:"5",name:"Maintenance"}])}catch(H){console.error("Failed to fetch data:",H)}})()},[n,s,t]);const P=eNe.reduce((q,H)=>(q[H]=tNe.filter(D=>D.category===H),q),{}),$=q=>{c(H=>({...H,[q]:!H[q]}))},I=q=>{E(H=>({...H,customPermissions:H.customPermissions.includes(q)?H.customPermissions.filter(D=>D!==q):[...H.customPermissions,q]}))},L=q=>{const{name:H,value:D}=q.target;E(F=>({...F,[H]:D})),m[H]&&g(F=>({...F,[H]:""}))},R=()=>{const q={};return A.name.trim()||(q.name="Name is required"),A.nik.trim()?/^\d+$/.test(A.nik)||(q.nik="NIK must be numeric"):q.nik="NIK is required",A.password?A.password.length<6&&(q.password="Password must be at least 6 characters"):q.password="Password is required",A.password!==A.confirmPassword&&(q.confirmPassword="Passwords do not match"),A.department||(q.department="Department is required"),A.roleId||(q.roleId="Role is required"),g(q),Object.keys(q).length===0},z=q=>{const H=y.find(D=>D.id===q);return H?H.permissions:[]},Y=async q=>{if(q.preventDefault(),!!R()){h(!0);try{await r(A.name,A.email,A.nik,A.password,A.department,A.position,A.roleId,A.customPermissions),t("/permissions",{state:{success:"User created successfully"}})}catch(H){console.error("Failed to create user:",H),g({form:H.message||"Failed to create user. Please try again."})}finally{h(!1)}}};return s("manage_users")?a.jsxs("div",{className:`flex h-screen font-sans antialiased ${i?"dark bg-gray-900":"bg-blue-50"} text-gray-900`,children:[a.jsx(vt,{})," ",a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Add User",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(_r,{}),isMobile:N,toggleSidebar:_}),a.jsxs("main",{className:`flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar ${i?"bg-gray-900":"bg-gray-50"}`,children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:`${i?"text-gray-100":"text-gray-900"} text-2xl md:text-3xl font-bold`,children:"Add New User"}),a.jsx("p",{className:`${i?"text-gray-400":"text-gray-600"} mt-1`,children:"Fill out the form below to add a new user to the system."})]}),a.jsxs(C.button,{onClick:()=>t("/permissions"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:`${i?"bg-gray-800 border-gray-700 text-gray-200 hover:bg-gray-700":"bg-white border-gray-200 text-gray-800 hover:bg-blue-50"} flex items-center space-x-2 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md border`,children:[a.jsx(wA,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Back to Permissions"})]})]}),m.form&&a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`${i?"bg-red-900 border-red-700 text-red-200":"bg-red-100 border-red-400 text-red-700"} px-4 py-3 rounded relative border mb-6`,role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsxs("span",{className:"block sm:inline",children:[" ",m.form]})]}),a.jsxs("form",{onSubmit:Y,children:[a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"User Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Full Name*"}),a.jsx("input",{type:"text",name:"name",value:A.name,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter full name"}),m.name&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"NIK (Employee ID)*"}),a.jsx("input",{type:"text",name:"nik",value:A.nik,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter NIK (numeric only)"}),m.nik&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.nik})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Email*"}),a.jsx("input",{type:"text",name:"email",value:A.email,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter Email"}),m.email&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Department*"}),a.jsxs("select",{name:"department",value:A.department,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Department"}),j.map(q=>a.jsx("option",{value:q.name,children:q.name},q.id))]}),m.department&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.department})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Position"}),a.jsx("input",{type:"text",name:"position",value:A.position,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter position"})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Password*"}),a.jsx("input",{type:"password",name:"password",value:A.password,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Enter password (min 6 chars)"}),m.password&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.password})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Confirm Password*"}),a.jsx("input",{type:"password",name:"confirmPassword",value:A.confirmPassword,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,placeholder:"Confirm password"}),m.confirmPassword&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.confirmPassword})]}),a.jsxs("div",{children:[a.jsx("label",{className:`block text-sm font-medium ${i?"text-gray-300":"text-gray-700"}`,children:"Role*"}),a.jsxs("select",{name:"roleId",value:A.roleId,onChange:L,className:`mt-1 block w-full border ${i?"bg-gray-700 border-gray-600 text-gray-100":"border-gray-200 bg-white text-gray-900"} rounded-lg shadow-sm p-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200`,children:[a.jsx("option",{value:"",children:"Select Role"}),y.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]}),m.roleId&&a.jsx("p",{className:"mt-1 text-sm text-red-600",children:m.roleId})]})]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:`${i?"bg-gray-800 border-gray-700":"bg-white border-blue-50"} rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border mb-6`,children:[a.jsx("h3",{className:`text-lg font-semibold mb-4 ${i?"text-gray-100":"text-gray-900"}`,children:"Custom Permissions"}),a.jsx("p",{className:`text-sm mb-4 ${i?"text-gray-400":"text-gray-600"}`,children:"Select additional permissions beyond the user's role. Permissions already included in the role are disabled."}),a.jsx("div",{className:"space-y-4",children:Object.entries(P).map(([q,H])=>a.jsxs("div",{className:`${i?"border-gray-700":"border-gray-200"} border rounded-lg overflow-hidden`,children:[a.jsxs("button",{type:"button",onClick:()=>$(q),className:`w-full flex justify-between items-center p-3 ${i?"bg-gray-700 hover:bg-gray-600":"bg-gray-50 hover:bg-gray-100"} transition-colors duration-200`,children:[a.jsx("span",{className:`font-medium ${i?"text-gray-200":"text-gray-700"}`,children:q}),l[q]?a.jsx(wre,{className:`${i?"text-gray-400":"text-gray-500"}`}):a.jsx(vre,{className:`${i?"text-gray-400":"text-gray-500"}`})]}),a.jsx(_t,{children:l[q]&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:`p-3 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3 ${i?"bg-gray-800":"bg-white"}`,children:H.map(D=>{const F=A.roleId?z(A.roleId).includes(D.id):!1,K=A.customPermissions.includes(D.id),te=F;return a.jsxs("div",{className:`flex items-center ${te?"opacity-50":""}`,children:[a.jsx("input",{type:"checkbox",id:`perm-${D.id}`,checked:K||F,onChange:()=>!te&&I(D.id),disabled:te,className:`h-4 w-4 rounded focus:ring-blue-500
                                  ${F?i?"text-purple-400 bg-gray-700 border-gray-600":"text-purple-600":i?"text-blue-400 bg-gray-700 border-gray-600":"text-blue-600"} border-gray-300`}),a.jsxs("label",{htmlFor:`perm-${D.id}`,className:`ml-2 text-sm ${i?"text-gray-300":"text-gray-700"}`,children:[a.jsxs("div",{className:"font-medium flex items-center",children:[D.name,F&&a.jsx("span",{className:`ml-2 text-xs ${i?"bg-purple-900 text-purple-300":"bg-purple-100 text-purple-800"} px-2 py-0.5 rounded`,children:"from role"})]}),a.jsx("div",{className:"text-gray-500 text-xs",children:D.description})]})]},D.id)})})})]},q))})]}),a.jsxs("div",{className:"flex justify-end space-x-3 mt-6",children:[a.jsx(C.button,{type:"button",onClick:()=>t("/permissions"),whileHover:{scale:1.03},whileTap:{scale:.97},className:`${i?"border-gray-600 text-gray-200 hover:bg-gray-700":"border-gray-200 text-gray-700 hover:bg-blue-50"} inline-flex items-center px-5 py-2.5 border text-base font-medium rounded-md shadow-sm bg-white focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200`,children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:d,className:`inline-flex items-center px-5 py-2.5 border border-transparent text-base font-medium rounded-md shadow-sm text-white ${i?"bg-blue-700 hover:bg-blue-800":"bg-blue-600 hover:bg-blue-700"} focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed`,children:d?a.jsxs(a.Fragment,{children:[a.jsxs("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[a.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),a.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Creating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(Nre,{className:"mr-2 h-5 w-5"}),"Create User"]})})]})]})]})]})]}):a.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-50 dark:bg-gray-900 text-gray-900 dark:text-gray-100",children:a.jsx("div",{className:"text-xl",children:"You don't have permission to access this page"})})},xy=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},nNe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,aNe=({isOpen:t,onClose:e,onAssign:r,workOrder:n,technicians:s})=>{const[i,o]=x.useState(""),l=()=>{n&&i&&(r(n.id,i),e())};return!t||!n?null:a.jsx(nNe,{isOpen:t,onClose:e,title:`Assign Work Order #${n.work_order_no||n.id}`,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("p",{className:"text-gray-700",children:["Work Order ",a.jsxs("strong",{children:["#",n.work_order_no||n.id]})," from ",a.jsx("strong",{children:n.requester.name})," needs to be assigned."]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"technician-select",className:"block text-sm font-medium text-gray-700 mb-1",children:"Select Technician"}),a.jsxs("select",{id:"technician-select",value:i,onChange:c=>o(c.target.value),className:"mt-1 block w-full pl-3 pr-10 py-2.5 text-base border-gray-300 focus:outline-none focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",children:[a.jsx("option",{value:"",children:"Select Technician"}),s.map(c=>{var d;return a.jsxs("option",{value:c.id,children:[c.name," - ",((d=c.department)==null?void 0:d.name)||c.department_name]},c.id)})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:l,disabled:!i,className:`px-4 py-2 rounded-md text-sm font-semibold transition-colors duration-200 ${i?"bg-blue-600 text-white hover:bg-blue-700":"bg-gray-300 text-gray-600 cursor-not-allowed"}`,children:"Assign"})]})]})})},sNe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(1),[T]=x.useState(5),[S,O]=x.useState(window.innerWidth<768),[_,A]=x.useState(!1),[E,P]=x.useState(!1),[$,I]=x.useState([]),[L,R]=x.useState(!0),[z,Y]=x.useState(null),[q,H]=x.useState(!1),[D,F]=x.useState(null),[K,te]=x.useState(!1),[W,Z]=x.useState([]),[oe,le]=x.useState(!1),ce=jt(),pe=ta(),Ie=x.useRef(null),Ee=x.useRef(null),{user:ge,getWorkOrdersIT:Oe,updateWorkOrderIT:ze,getUsers:re,hasPermission:se,getVendor:ee}=Nt(),we=pe.pathname==="/workorders/it/assignment",Ge=pe.pathname==="/workorders/it/reports",Ye=pe.pathname==="/workorders/it/knowledgebase",xe=pe.pathname==="/workorders/it",ct=pe.pathname==="/workorders/it/receiver";pe.pathname;const mt=x.useCallback(async()=>{R(!0),Y(null);try{const ue=(await Oe()).filter(be=>{var Le,J,ie;return(((J=(Le=be.service)==null?void 0:Le.owner)==null?void 0:J.id)||((ie=be.service)==null?void 0:ie.service_owner))===Number(ge==null?void 0:ge.id)});I(ue)}catch(B){Y(B.message||"Failed to load work orders.")}finally{R(!1)}},[Oe,ge==null?void 0:ge.id]),tt=x.useCallback(async()=>{try{const ue=(await re()).filter(be=>{var ke,Le,J,ie;return((ke=be.roles)==null?void 0:ke.includes("technician"))||((J=(Le=be.department)==null?void 0:Le.name)==null?void 0:J.toLowerCase().includes("it"))||((ie=be.position)==null?void 0:ie.toLowerCase().includes("technician"))});Z(ue)}catch(B){console.error("Failed to fetch technicians:",B)}},[re]),wt=x.useCallback(async(B,ue)=>{H(!0),F(null),te(!1);try{const be=await ze({...ue,id:B});return I(ke=>ke.map(Le=>Le.id===B?be:Le)),te(!0),setTimeout(()=>te(!1),3e3),be}catch(be){throw F(be.message||"Failed to update work order."),be}finally{H(!1)}},[ze]),Ct=()=>{O(window.innerWidth<768),window.innerWidth<768&&n(!1)},ft=B=>{Ie.current&&!Ie.current.contains(B.target)&&A(!1),Ee.current&&!Ee.current.contains(B.target)&&P(!1)};x.useEffect(()=>(window.addEventListener("resize",Ct),document.addEventListener("mousedown",ft),mt(),tt(),()=>{window.removeEventListener("resize",Ct),document.removeEventListener("mousedown",ft)}),[mt,tt]);const Rt=B=>{switch(B){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},Ze=B=>{switch(B==null?void 0:B.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},he=B=>{switch(B){case"New":return 1;case"Assigned":return 2;case"In Progress":return 3;case"Escalated":return 4;case"Vendor Handled":return 5;case"Resolved":return 6;case"Cancel":return 7;case"Closed":return 8;default:return 9}},We=B=>{switch(B==null?void 0:B.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},je=x.useCallback(B=>{const ue=$.find(be=>be.id===B);ue&&(j(ue),m(!0))},[$]);x.useCallback(B=>{const ue=$.find(be=>be.id===B);ue&&(j(ue),y(!0))},[$]),x.useCallback(async B=>{try{await wt(B.id,B),y(!1),j(null)}catch{}},[wt]);const ht=()=>{n(B=>!B)},gt=$.filter(B=>{var ke,Le,J,ie;const ue=((Le=(ke=B.requester)==null?void 0:ke.name)==null?void 0:Le.toLowerCase().includes(s.toLowerCase()))||((J=B.work_order_no)==null?void 0:J.toLowerCase().includes(s.toLowerCase()))||((ie=B.complaint)==null?void 0:ie.toLowerCase().includes(s.toLowerCase()))||String(B.id).includes(s),be=o==="all"||B.handling_status===o;return ue&&be}).sort((B,ue)=>{var ie,Se;const be=he(B.handling_status),ke=he(ue.handling_status);if(be!==ke)return be-ke;const Le=We(((ie=B.service)==null?void 0:ie.priority)||"Medium"),J=We(((Se=ue.service)==null?void 0:Se.priority)||"Medium");return Le!==J?Le-J:new Date(ue.created_at).getTime()-new Date(B.created_at).getTime()}),St=v*T,ve=St-T,nt=gt.slice(ve,St),Xe=Math.ceil(gt.length/T),ae=B=>N(B),ne=x.useCallback(B=>{j(B),le(!0)},[]),Ae=x.useCallback(async(B,ue)=>{try{await wt(B,{assigned_to_id:parseInt(ue),handling_status:"Assigned",handling_date:new Date().toISOString()}),le(!1),j(null)}catch(be){console.error("Failed to assign work order:",be)}},[wt]),et=B=>{var ue;return B.vendor?`${B.vendor.name}`:((ue=B.assigned_to)==null?void 0:ue.name)||"Unassigned"},xt=B=>B.vendor?"vendor":B.assigned_to?"user":"unassigned",ye=({order:B,onClose:ue})=>{var He,Ce,$e,it,Wt,ur,Cr,ot,nr,kt,dr,Me;const be=Te=>Te==null?"-":typeof Te=="object"&&Te!==null?Te.name||Te.title||Te.id||"-":typeof Te=="string"?Te.trim()!==""?Te.trim():"-":typeof Te=="number"?Te.toString():String(Te),ke=Te=>Te?new Date(Te).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",Le=({status:Te})=>{const Be={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Be[Te]||Be.New}`,children:Te})},J=({priority:Te})=>{const Be={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${Be[Te]||Be.Medium}`,children:Te||"Medium"})},ie=({title:Te,children:Be,icon:fe})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[fe&&a.jsx("div",{className:"mr-3 text-blue-600",children:fe}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Te})]})}),a.jsx("div",{className:"p-6",children:Be})]}),Se=({label:Te,value:Be,icon:fe,fullWidth:Qe=!1,priority:bt="medium"})=>{const fr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Qe?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${fr[bt]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[fe&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:fe}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Te}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:Be})]})]})})})},Ve=({label:Te,htmlContent:Be,icon:fe,fullWidth:Qe=!1})=>{if(!Be)return a.jsx(Se,{label:Te,value:"-",icon:fe,fullWidth:Qe,priority:"low"});const bt=Ol.sanitize(Be,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${Qe?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[fe&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:fe}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Te}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:bt}})]})]})})})},rt=({order:Te})=>{const Be=Te.handling_status==="New",fe=Te.handling_status==="Assigned",Qe=Be&&se("assign_workorders");return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[Qe&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>{le(!0)},className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(_r,{className:"w-4 h-4 mr-2"}),"Assign Technician"]}),fe&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>ce(`/workorders/it/receiver/editreceiver/${Te.id}`),className:"inline-flex items-center px-4 py-2 bg-gray-600 text-white rounded-lg hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Edit Assignment"]}),a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ue,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",B.work_order_no||B.id]}),a.jsx(Le,{status:B.handling_status}),a.jsx(J,{priority:(He=B.service)==null?void 0:He.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Created: ",ke(B.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),B.handling_date?`Handling: ${ke(B.handling_date)}`:"Not yet handled"]})]})]})})}),a.jsx(ie,{title:"Service Owner Information",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Se,{label:"Service Owner",value:be((($e=(Ce=B.service)==null?void 0:Ce.owner)==null?void 0:$e.name)||(ge==null?void 0:ge.name)),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Se,{label:"Service Department",value:be((it=ge==null?void 0:ge.department)==null?void 0:it.name),icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Service Type",value:be((Wt=B.service_type)==null?void 0:Wt.group_name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Se,{label:"Service Name",value:be((ur=B.service)==null?void 0:ur.service_name),icon:a.jsx(or,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(ie,{title:"Request Information",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Se,{label:"Requester",value:be((Cr=B.requester)==null?void 0:Cr.name),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Se,{label:"Requester Department",value:be(B.department_name||((ot=B.department)==null?void 0:ot.name)),icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Reception Method",value:be(B.reception_method),icon:a.jsx(qa,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Known By",value:be((nr=B.known_by)==null?void 0:nr.name),icon:a.jsx(rs,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Asset Number",value:be(B.asset_no),icon:a.jsx(or,{className:"w-4 h-4"})})]})}),a.jsx(ie,{title:"Technical Details",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Se,{label:"Device Information",value:be(B.device_info),icon:a.jsx(Nn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Ve,{label:"Complaint Details",htmlContent:B.complaint||"",icon:a.jsx(Xt,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(ie,{title:"Assignment & Handling",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx(Se,{label:"Current Status",value:be(B.handling_status),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Se,{label:"Priority Level",value:be(((kt=B.service)==null?void 0:kt.priority)||"Medium"),icon:a.jsx(Xt,{className:"w-4 h-4"}),priority:"high"})]}),a.jsx(Se,{label:"Assigned To",value:be(((dr=B.assigned_to)==null?void 0:dr.name)||"Unassigned"),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Assignment Type",value:B.vendor?"Vendor":B.assigned_to?"Internal Technician":"Not Assigned",icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Handling Start Date",value:ke(B.handling_date||"-"),icon:a.jsx(Vn,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Received By",value:be(((Me=B.received_by)==null?void 0:Me.name)||"-"),icon:a.jsx(Lt,{className:"w-4 h-4"})}),a.jsx(Ve,{label:"Action Taken",htmlContent:B.action_taken||"",icon:a.jsx(cn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(Ve,{label:"Technical Remarks",htmlContent:B.remarks||"",icon:a.jsx(or,{className:"w-4 h-4"}),fullWidth:!0})]})}),B.vendor&&a.jsx(ie,{title:"Vendor Assignment",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Se,{label:"Vendor Name",value:be(B.vendor.name),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Se,{label:"Contact Person",value:be(B.vendor.contact_person),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Email",value:be(B.vendor.email),icon:a.jsx(ag,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Phone",value:be(B.vendor.telp),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Mobile",value:be(B.vendor.HP),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx(Se,{label:"Address",value:be(B.vendor.address),icon:a.jsx(vo,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(ie,{title:"Timeline",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:ke(B.date)})]}),B.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Handling Started"}),a.jsx("span",{className:"text-sm text-blue-600",children:ke(B.handling_date)})]}),B.assigned_to&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Assigned to Technician"}),a.jsx("span",{className:"text-sm text-purple-600",children:be(B.assigned_to.name)})]})]})}),B.attachment&&a.jsx(ie,{title:"Attachment",icon:a.jsx(xi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(xi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Supporting Document"}),a.jsxs("a",{href:B.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(nO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(rt,{order:B})]})};return x.useEffect(()=>{N(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),L?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):z?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Xt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:z}),a.jsx("button",{onClick:mt,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"IT Work Orders - Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:S,toggleSidebar:ht}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${xe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ct?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${we?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ce("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ye?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),D&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:D}),a.jsx("button",{onClick:()=>F(null),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),K&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>te(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Receiver"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage IT-related work orders as a service owner"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(xy,{title:"Total IT Assignments",value:gt.length.toString(),change:"+8%",icon:a.jsx(or,{})}),a.jsx(xy,{title:"In Progress",value:gt.filter(B=>["In Progress","Escalated","Vendor Handled"].includes(B.handling_status)).length.toString(),change:"-1",icon:a.jsx(cn,{})}),a.jsx(xy,{title:"Resolved",value:gt.filter(B=>["Resolved","Done"].includes(B.handling_status)).length.toString(),change:"+1",icon:a.jsx(Lt,{})}),a.jsx(xy,{title:"Assigned",value:gt.filter(B=>B.handling_status==="Assigned").length.toString(),change:"+3",icon:a.jsx(It,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:B=>i(B.target.value)})]}),a.jsx(_t,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:B=>l(B.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Done",children:"Done"}),a.jsx("option",{value:"Cancel",children:"Cancel"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:nt.length>0?nt.map(B=>{var ie,Se,Ve,rt;const be=!(B.handling_status==="Resolved"||B.handling_status==="Done"||B.handling_status==="Cancel"||B.handling_status==="Closed")&&se("edit_workorders"),ke=B.handling_status==="New";["In Progress","Escalated","Vendor Handled"].includes(B.handling_status);const Le=et(B),J=xt(B);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>je(B.id),title:"Click to view details",children:B.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(B.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:B.handling_date?new Date(B.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Ze((ie=B.service)==null?void 0:ie.priority)} shadow-sm`,children:((Se=B.service)==null?void 0:Se.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Rt(B.handling_status)} shadow-sm`,children:B.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ke?a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(B),className:"px-3 py-1.5 text-xs font-semibold rounded-full text-white bg-blue-600 hover:bg-blue-700 transition-colors duration-200",children:"Click to Assign"}):a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${J==="vendor"?"text-purple-600":J==="user"?"text-blue-600":"text-gray-500"}`,children:Le}),J==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>je(B.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(rs,{className:"text-lg"})}),be&&(B.handling_status!=="In Progress"||!((Ve=B.assigned_to)!=null&&Ve.name)||((rt=B.assigned_to)==null?void 0:rt.name)==="N/A")&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ce(`/workorders/it/receiver/editreceiver/${B.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Dn,{className:"text-lg"})})]})]},B.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work orders for assignment found matching your criteria."})})})]})})}),gt.length>T&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ve+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(St,gt.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:gt.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(v-1),disabled:v===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:Xe},(B,ue)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(ue+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${v===ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ue+1},ue+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ae(v+1),disabled:v===Xe,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),w&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",w.work_order_no||w.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),j(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ye,{order:w,onClose:()=>{m(!1),j(null)}})})]})})}),w&&a.jsx(aNe,{isOpen:oe,onClose:()=>{le(!1),j(null)},onAssign:Ae,workOrder:w,technicians:W})]})},j7=({content:t,className:e=""})=>{if(!t)return a.jsx("div",{className:`w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center ${e}`,children:"-"});const r=Ol.sanitize(t,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`rich-text-content w-full bg-blue-50 border border-blue-100 rounded-lg p-4 text-gray-800 min-h-[44px] ${e}`,dangerouslySetInnerHTML:{__html:r}})},iNe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-2xl mx-auto p-6 border border-blue-100 max-h-[90vh] overflow-y-auto",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100 sticky top-0 bg-white",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oNe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(1),[v]=x.useState(5),[N,T]=x.useState(window.innerWidth<768),[S,O]=x.useState(!1),[_,A]=x.useState(!1),[E,P]=x.useState(!0),[$,I]=x.useState(null),{user:L,hasPermission:R,getWorkOrdersIT:z}=Nt(),Y=jt(),q=ta(),H=x.useRef(null),D=x.useRef(null);q.pathname,q.pathname;const F=q.pathname==="/workorders/it";q.pathname;const K=q.pathname==="/workorders/it/assignment",te=q.pathname==="/workorders/it/receiver",W=q.pathname==="/workorders/it/reports",Z=q.pathname==="/workorders/it/knowledgebase",[oe,le]=x.useState([]),ce=x.useCallback(async()=>{try{P(!0),I(null);const Ge=(await z()).filter(Ye=>Ye.action_taken&&Ye.handling_status==="Closed").map(Ye=>{var mt,tt,wt;const xe=Ye.complaint.split(" ").slice(0,5).join(" "),ct=`Solution for: ${xe}${xe.length<Ye.complaint.length?"...":""}`;return{id:Ye.id,title:ct,content:Ye.action_taken||"No action taken details available.",category:((mt=Ye.service)==null?void 0:mt.service_name)||"General",tags:[((tt=Ye.service_type)==null?void 0:tt.group_name)||"General",Ye.handling_status||"Completed",...Ye.asset_no?[`Asset: ${Ye.asset_no}`]:[]],lastUpdated:Ye.handling_date||Ye.updated_at||Ye.created_at,workOrderNo:Ye.work_order_no,technician:((wt=Ye.assigned_to)==null?void 0:wt.name)||"Unknown Technician",completionDate:Ye.handling_date||Ye.updated_at}});le(Ge)}catch(we){I("Failed to load knowledge base articles"),console.error("Error loading work orders:",we)}finally{P(!1)}},[z]);x.useEffect(()=>{const we=()=>{T(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",we),()=>window.removeEventListener("resize",we)},[]),x.useEffect(()=>{const we=Ge=>{H.current&&!H.current.contains(Ge.target)&&O(!1),D.current&&!D.current.contains(Ge.target)&&A(!1)};return document.addEventListener("mousedown",we),()=>{document.removeEventListener("mousedown",we)}},[]),x.useEffect(()=>{ce()},[ce]),x.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[s,o,r,t]);const pe=()=>{n(we=>!we)},Ie=x.useCallback(we=>{y(we),d(!0)},[]),Ee=oe.filter(we=>{const Ge=we.title.toLowerCase().includes(s.toLowerCase())||we.content.toLowerCase().includes(s.toLowerCase())||we.tags.some(xe=>xe.toLowerCase().includes(s.toLowerCase())),Ye=o==="all"||we.category===o;return Ge&&Ye}),ge=Array.from(new Set(oe.map(we=>we.category))),Oe=w*v,ze=Oe-v,re=Ee.slice(ze,Oe),se=Math.ceil(Ee.length/v),ee=we=>j(we);return L?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"IT Work Orders - Knowladge Base",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(tl,{}),isMobile:N,toggleSidebar:pe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${F?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${te?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${K?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>Y("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Knowledge Base"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Find solutions and information from completed work orders."})]})}),a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-2/3",children:[a.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search articles by title, content, or tags...",value:s,onChange:we=>i(we.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsxs("select",{value:o,onChange:we=>l(we.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Categories"}),ge.map(we=>a.jsx("option",{value:we,children:we},we))]}),a.jsx(yn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:"Knowledge Articles"}),a.jsxs("div",{className:"text-sm text-gray-500",children:[Ee.length," articles found"]})]}),E?a.jsxs("div",{className:"text-center py-10",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-2 text-gray-600",children:"Loading knowledge base..."})]}):$?a.jsxs("div",{className:"text-center py-10 text-red-500",children:[a.jsx(ia,{className:"mx-auto h-12 w-12 text-red-400 mb-2"}),a.jsx("p",{className:"text-lg font-medium",children:$}),a.jsx("button",{onClick:ce,className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Retry"})]}):re.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(ia,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No articles found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(_t,{children:re.map(we=>a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"bg-gray-50 p-5 rounded-xl border border-gray-200 shadow-sm cursor-pointer hover:bg-blue-50 hover:border-blue-200 transition-all duration-200",onClick:()=>Ie(we),children:[a.jsx("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:we.title}),a.jsx("div",{className:"text-gray-700 text-sm line-clamp-2 mb-3",children:a.jsx(j7,{content:we.content,className:"line-clamp-2 bg-transparent border-none p-0"})}),a.jsxs("div",{className:"flex flex-wrap gap-2 mb-3",children:[a.jsx("span",{className:"px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full",children:we.category}),we.tags.map(Ge=>a.jsx("span",{className:"px-2 py-0.5 bg-gray-100 text-gray-700 text-xs font-medium rounded-full",children:Ge},Ge))]}),a.jsxs("div",{className:"flex justify-between items-center text-xs text-gray-500",children:[a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs("span",{className:"flex items-center",children:[a.jsx(Nf,{size:12,className:"mr-1"}),we.workOrderNo]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(CR,{size:12,className:"mr-1"}),we.technician]})]}),a.jsxs("span",{className:"flex items-center",children:[a.jsx(Vn,{size:12,className:"mr-1"}),new Date(we.lastUpdated).toLocaleDateString()]})]})]},we.id))})}),Ee.length>v&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6 mt-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(C.button,{onClick:()=>ee(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Previous"}),a.jsx(C.button,{onClick:()=>ee(w+1),disabled:w===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:ze+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Oe,Ee.length)})," of"," ",a.jsx("span",{className:"font-medium",children:Ee.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(C.button,{onClick:()=>ee(w-1),disabled:w===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Ml,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(se)].map((we,Ge)=>a.jsx(C.button,{onClick:()=>ee(Ge+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${w===Ge+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:Ge+1},Ge)),a.jsxs(C.button,{onClick:()=>ee(w+1),disabled:w===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(Zr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),g&&a.jsx(iNe,{isOpen:c,onClose:()=>d(!1),title:g.title,children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nf,{size:16,className:"mr-2 text-blue-600"}),a.jsx("span",{className:"font-medium",children:"Work Order:"}),a.jsx("span",{className:"ml-2",children:g.workOrderNo})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(CR,{size:16,className:"mr-2 text-green-600"}),a.jsx("span",{className:"font-medium",children:"Technician:"}),a.jsx("span",{className:"ml-2",children:g.technician})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(Vn,{size:16,className:"mr-2 text-purple-600"}),a.jsx("span",{className:"font-medium",children:"Completed:"}),a.jsx("span",{className:"ml-2",children:new Date(g.completionDate).toLocaleDateString()})]}),a.jsxs("div",{className:"flex items-center",children:[a.jsx(tl,{size:16,className:"mr-2 text-orange-600"}),a.jsx("span",{className:"font-medium",children:"Category:"}),a.jsx("span",{className:"ml-2",children:g.category})]})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Solution Details"}),a.jsx(j7,{content:g.content})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4",children:[a.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:g.tags.map(we=>a.jsx("span",{className:"px-3 py-1 bg-gray-100 text-gray-700 text-sm rounded-full",children:we},we))})]}),a.jsxs("div",{className:"border-t border-gray-200 pt-4 text-xs text-gray-500",children:["Last updated: ",new Date(g.lastUpdated).toLocaleDateString()," at ",new Date(g.lastUpdated).toLocaleTimeString()]})]})})]}):a.jsx("div",{className:"flex items-center justify-center h-screen",children:a.jsxs("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-blue-600 mx-auto"}),a.jsx("p",{className:"mt-4 text-gray-600",children:"Loading..."})]})})};var lNe=["allowCreateWhileLoading","createOptionPosition","formatCreateLabel","isValidNewOption","getNewOptionData","onCreateOption","options","onChange"],S7=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,s=String(e).toLowerCase(),i=String(n.getOptionValue(r)).toLowerCase(),o=String(n.getOptionLabel(r)).toLowerCase();return i===s||o===s},w2={formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,r,n,s){return!(!e||r.some(function(i){return S7(e,i,s)})||n.some(function(i){return S7(e,i,s)}))},getNewOptionData:function(e,r){return{label:r,value:e,__isNew__:!0}}};function cNe(t){var e=t.allowCreateWhileLoading,r=e===void 0?!1:e,n=t.createOptionPosition,s=n===void 0?"last":n,i=t.formatCreateLabel,o=i===void 0?w2.formatCreateLabel:i,l=t.isValidNewOption,c=l===void 0?w2.isValidNewOption:l,d=t.getNewOptionData,h=d===void 0?w2.getNewOptionData:d,m=t.onCreateOption,g=t.options,y=g===void 0?[]:g,w=t.onChange,j=_o(t,lNe),v=j.getOptionValue,N=v===void 0?fU:v,T=j.getOptionLabel,S=T===void 0?dU:T,O=j.inputValue,_=j.isLoading,A=j.isMulti,E=j.value,P=j.name,$=x.useMemo(function(){return c(O,Lb(E),y,{getOptionValue:N,getOptionLabel:S})?h(O,o(O)):void 0},[o,h,S,N,O,c,y,E]),I=x.useMemo(function(){return(r||!_)&&$?s==="first"?[$].concat(Mf(y)):[].concat(Mf(y),[$]):y},[r,s,_,$,y]),L=x.useCallback(function(R,z){if(z.action!=="select-option")return w(R,z);var Y=Array.isArray(R)?R:[R];if(Y[Y.length-1]===$){if(m)m(O);else{var q=h(O,O),H={action:"create-option",name:P,option:q};w(hp(A,[].concat(Mf(Lb(E)),[q]),q),H)}return}w(R,z)},[h,O,A,P,$,m,w,E]);return Vt(Vt({},j),{},{options:I,onChange:L})}var uNe=x.forwardRef(function(t,e){var r=$W(t),n=cNe(r);return x.createElement(NO,Yt({ref:e},n))}),eK=uNe;const dNe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,fNe=()=>{var ne,Ae,et,xt,ye;const{addWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i}=Nt(),o=jt(),[l,c]=x.useState([]),[d,h]=x.useState([]),[m,g]=x.useState([]),[y,w]=x.useState([]),[j,v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[S,O]=x.useState(!1),[_,A]=x.useState(!1),[E,P]=x.useState(!1),[$,I]=x.useState(!1),[L,R]=x.useState(null),[z,Y]=x.useState(null),[q,H]=x.useState(!1),[D,F]=x.useState(null),K=x.useRef(null),te=x.useRef(null),[W,Z]=x.useState([]),[oe,le]=x.useState([]),[ce,pe]=x.useState([]),[Ie,Ee]=x.useState(!1),[ge,Oe]=x.useState(!1),[ze,re]=x.useState(null),se=x.useRef(null),ee=x.useRef(null),we=()=>{Oe(!0)},Ge=()=>{const B=document.createElement("input");B.type="file",B.accept="image/*, .pdf, .doc, .docx, .xls, .xlsx",B.onchange=ue=>{const be=ue.target;if(be.files&&be.files.length>0){const ke=be.files[0];F(ke),wt(Le=>({...Le,attachment:ke.name})),Oe(!1)}},B.click()},Ye=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}});re(B),se.current&&(se.current.srcObject=B)}catch(B){console.error("Error accessing camera:",B),alert("Tidak dapat mengakses kamera. Pastikan izin kamera telah diberikan.")}},xe=()=>{if(se.current&&ee.current){const B=ee.current,ue=B.getContext("2d");if(ue){B.width=se.current.videoWidth,B.height=se.current.videoHeight,ue.drawImage(se.current,0,0);const be=B.toDataURL("image/jpeg",.8);wt(ke=>({...ke,attachment:be})),ze&&(ze.getTracks().forEach(ke=>ke.stop()),re(null)),Oe(!1)}}},ct=()=>{ze&&(ze.getTracks().forEach(B=>B.stop()),re(null)),Oe(!1)},mt={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ne=e==null?void 0:e.department)==null?void 0:ne.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[tt,wt]=x.useState(mt),Ct=tt.reception_method==="Electronic Work Order System";x.useEffect(()=>{e&&(async()=>{try{const be=(await i(0)).map(J=>({id:Number(J.id),name:J.group_name??"",description:J.group_description??void 0}));le(be);const ke=await s();h(ke);const Le=await r();if(c(Le),e&&e.id){const ie=await n(parseInt(e.id));g(ie),console.log("Services loaded:",ie)}}catch(ue){console.error("Failed to fetch master data:",ue)}})()},[e,r,n,s,i]),x.useEffect(()=>{if(tt.reception_method==="Electronic Work Order System"&&e&&d.length>0){const B=d.find(be=>be.id===e.department_id),ue=(B==null?void 0:B.head_id)||null;wt(be=>({...be,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:ue}))}},[tt.reception_method,e,d]),x.useEffect(()=>{const B=()=>{v(window.innerWidth<768),window.innerWidth<768&&T(!1)};return window.addEventListener("resize",B),()=>window.removeEventListener("resize",B)},[]),x.useEffect(()=>{const B=ue=>{K.current&&!K.current.contains(ue.target)&&A(!1),te.current&&!te.current.contains(ue.target)&&P(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),x.useEffect(()=>{if(tt.service_type_id&&m.length>0){const B=m.filter(ue=>String(ue.id)===tt.service_type_id);Z(B)}else Z([])},[tt.service_type_id,m]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",S),localStorage.setItem("sidebarOpen",JSON.stringify(N))},[N,S]);const ft=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!N)),T(B=>!B)},Rt=x.useCallback((B,ue)=>{let be,ke;if(B&&"target"in B)be=B.target.name,ke=B.target.value;else if(B&&typeof B=="object"&&"value"in B&&ue)be=ue,ke=B.value;else if(B===null&&ue)be=ue,ke=null;else return;wt(Le=>({...Le,[be]:ke}))},[]),Ze=B=>{const ue=(B==null?void 0:B.value)||"";wt(be=>{var Le,J;const ke={...be,reception_method:ue};return ue==="Electronic Work Order System"&&e?{...ke,requester_id:parseInt(e.id),department_id:((Le=e.department)==null?void 0:Le.id)||0,known_by_id:((J=e.department)==null?void 0:J.head_id)||null}:ke})},he=B=>{wt(ue=>({...ue,asset_no:B?B.value:""}))};x.useCallback(B=>{const ue=("nativeEvent"in B,B.target.files);ue&&ue.length>0?(F(ue[0]),wt(be=>({...be,attachment:ue[0].name}))):(F(null),wt(be=>({...be,attachment:null})))},[]);const We=x.useCallback(()=>{F(null),wt(B=>({...B,attachment:null}))},[]),je=async B=>{B.preventDefault(),I(!0),R(null);const ue={...tt,date:tt.date,reception_method:tt.reception_method,requester_id:tt.requester_id,known_by_id:tt.known_by_id,department_id:tt.department_id,service_group_id:Number(tt.service_type_id),service_catalogue_id:Number(tt.service_id),asset_no:tt.asset_no,device_info:tt.device_info,complaint:tt.complaint,attachment:tt.attachment};try{await t(ue),H(!0)}catch(be){R(be.message||"Gagal menyimpan data history mesin. Silakan coba lagi."),console.error("Submission error:",be)}finally{I(!1)}},ht=B=>{wt(ue=>({...ue,service_type_id:B?B.value:"",service_id:""}))},gt=B=>{wt(ue=>({...ue,service_id:B?B.value:""}))},St=x.useCallback(()=>{H(!1),o("/workorders/it")},[o]),ve={control:(B,ue)=>({...B,minHeight:"42px",borderColor:ue.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ue.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:B=>({...B,padding:"0"}),singleValue:B=>({...B,color:"#374151"}),placeholder:B=>({...B,color:"#6B7280"}),dropdownIndicator:B=>({...B,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:B=>({...B,display:"none"}),menu:B=>({...B,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(B,ue)=>({...B,backgroundColor:ue.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},nt=x.useCallback(B=>{if(!B)return;const ue=parseInt(B.value),be=l.find(ke=>parseInt(ke.id)===ue);if(be){const ke=d.find(Le=>Le.id===be.department_id);wt(Le=>({...Le,requester_id:ue,department_id:be.department_id||0,known_by_id:(ke==null?void 0:ke.head_id)||null}))}},[l,d]),Xe=()=>{if(Ct){const ue=d.find(be=>be.id===(e==null?void 0:e.department_id));return(ue==null?void 0:ue.name)||"No department assigned"}const B=d.find(ue=>ue.id===tt.department_id);return(B==null?void 0:B.name)||"No department assigned"},ae=()=>{if(Ct){const ue=d.find(be=>be.id===(e==null?void 0:e.department_id));if(ue&&ue.head_id){const be=l.find(ke=>parseInt(ke.id)===ue.head_id);return(be==null?void 0:be.name)||"No department head assigned"}return"No department head assigned"}const B=d.find(ue=>ue.id===tt.department_id);if(B&&B.head_id){const ue=l.find(be=>parseInt(be.id)===B.head_id);return(ue==null?void 0:ue.name)||"No department head assigned"}return"No department head assigned"};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:j,toggleSidebar:ft}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details to create a new maintenance or service request"})]}),a.jsxs(C.button,{onClick:()=>o("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ml,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[L&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:L}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>R(null)})})]}),a.jsxs("form",{onSubmit:je,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:tt.date,onChange:Rt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:tt.reception_method,label:tt.reception_method},onChange:Ze,placeholder:"Select Reception Method",styles:ve,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ct?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Tr,{id:"requester_id",name:"requester_id",options:l.map(B=>({value:String(B.id),label:B.name})),value:l.find(B=>parseInt(B.id)===tt.requester_id)?{value:String(tt.requester_id),label:((Ae=l.find(B=>parseInt(B.id)===tt.requester_id))==null?void 0:Ae.name)||""}:null,onChange:nt,placeholder:"Select Requester",styles:ve,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:Xe()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ae()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"service_type_id",name:"service_type_id",options:oe.map(B=>({value:String(B.id),label:B.name})),value:tt.service_type_id?{value:tt.service_type_id,label:((et=oe.find(B=>String(B.id)===tt.service_type_id))==null?void 0:et.name)||""}:null,onChange:ht,placeholder:"Select Service Type",styles:ve,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"service_id",name:"service_id",options:W.map(B=>({value:String(B.id),label:B.service_name})),value:tt.service_id?{value:tt.service_id,label:((xt=W.find(B=>String(B.id)===tt.service_id))==null?void 0:xt.service_name)||""}:null,onChange:gt,placeholder:"Select Service",styles:ve}),W.length===0&&tt.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(eK,{name:"asset_no",id:"asset_no",options:y,value:tt.asset_no?{value:tt.asset_no,label:tt.asset_no}:null,onChange:he,onCreateOption:B=>{const ue={value:B,label:B};w(be=>[...be,ue]),he(ue)},placeholder:"Type or select Asset No.",styles:ve,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:tt.device_info,onChange:Rt,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:tt.complaint,onChange:B=>{wt(ue=>({...ue,complaint:B}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",onClick:we,children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(xi,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("div",{className:"flex text-sm text-gray-600 justify-center",children:a.jsx("span",{children:"Klik untuk memilih attachment"})}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),a.jsx(_t,{children:ge&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:"Pilih Attachment"}),a.jsx("button",{onClick:ct,className:"text-gray-500 hover:text-gray-700",children:a.jsx(at,{size:24})})]}),ze?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"relative bg-black rounded-lg overflow-hidden",children:[a.jsx("video",{ref:se,autoPlay:!0,playsInline:!0,className:"w-full h-64 object-cover"}),a.jsx("canvas",{ref:ee,className:"hidden"})]}),a.jsxs("div",{className:"flex gap-3",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:xe,className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg font-medium",children:"Ambil Foto"}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ct,className:"flex-1 bg-gray-300 text-gray-700 py-2 px-4 rounded-lg font-medium",children:"Batal"})]})]}):a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ge,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(cle,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Pilih File"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Dari perangkat Anda"})]})]}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ye,className:"flex items-center justify-center p-4 border-2 border-dashed border-gray-300 rounded-lg hover:border-blue-400 transition-colors",children:[a.jsx(Roe,{className:"h-8 w-8 text-gray-400 mr-3"}),a.jsxs("div",{className:"text-left",children:[a.jsx("div",{className:"font-medium text-gray-900",children:"Ambil Foto"}),a.jsx("div",{className:"text-sm text-gray-500",children:"Gunakan kamera"})]})]})]})]})})}),D&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(xi,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:D.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(C.button,{type:"button",onClick:We,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},D.name)})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>{wt(mt),F(null),R(null),Y(null)},whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(an,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:$,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:$?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Adding..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Add Work Order"]})})]})]})]})]})]}),a.jsx(dNe,{isOpen:q,onClose:St,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:z==null?void 0:z.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ye=z==null?void 0:z.work_order)==null?void 0:ye.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:St,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},hNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Order Department"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the department you wish to manage work orders for."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/it"),children:[a.jsx(tle,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"IT Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and track IT-related maintenance and service requests."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to IT Work Orders ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workorders/td"),children:[a.jsx(ble,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"TD Work Orders"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Handle technical department maintenance, repairs, and tasks."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to TD Work Orders ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},mNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Location",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(vo,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Location Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of work location you wish to manage."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workarea"),children:[a.jsx(vo,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Area"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and define specific work areas within your facilities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Work Area ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/department"),children:[a.jsx(Ff,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Departments"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Department ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/worklocation/workunit"),children:[a.jsx(Cf,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Unit"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and track the precise physical locations of individual units."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Work Unit ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},pNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Arrangement",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(ca,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Work Arrangement Type"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose how you want to manage work groups and shifts."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workgroup"),children:[a.jsx(ca,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:" Work Group Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage teams or groups for various work arrangements."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Group Management ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workarrangement/workshift"),children:[a.jsx(It,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Work Shift Management"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Plan and manage work shifts and schedules for your workforce."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Shift Management ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},gNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Spare Paarts",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(cn,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Spare Part Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your spare parts inventory and settings."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/generalsettings"),children:[a.jsx(Nn,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"General Settings"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Configure overall settings for spare part management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Settings ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/spareparttype"),children:[a.jsx(Wq,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of spare parts."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Types ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartgroup"),children:[a.jsx(Hq,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Categorize spare parts into logical groups."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Groups ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/sparepart/sparepartmaintenance"),children:[a.jsx(zi,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Spare Part Maintenance"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage maintenance records related to spare parts."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Maintenance ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},xNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Assets",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(jn,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Asset Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your assets."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsgroup"),children:[a.jsx(Hq,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize your assets into logical groups for better management."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Assets Group ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/assets/assetsdata"),children:[a.jsx(Ew,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Assets Data"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"View and manage detailed information about your individual assets."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Assets Data ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},yNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Services",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(zq,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Service Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage your services."})]}),a.jsxs("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-4xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicegroups"),children:[a.jsx(ca,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Group"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage groups of services or service teams."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Service Group ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full md:w-1/2 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/services/servicecatalogues"),children:[a.jsx(tl,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Service Catalogue"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Browse and manage the list of available services."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Service Catalogue ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})},bNe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Maintenance Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(zi,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Maintenance Activity Management"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Select a category to manage maintenance activities."})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 max-w-6xl mx-auto py-8",children:[a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-blue-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activitytypes"),children:[a.jsx(Wy,{size:64,className:"text-blue-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity Type"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Define and manage different types of maintenance activities."}),a.jsxs("span",{className:"text-blue-600 font-semibold flex items-center",children:["Go to Activity Types ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/activity"),children:[a.jsx(Li,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Activity"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage the details of individual maintenance activities."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Activities ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-purple-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/stoptimes"),children:[a.jsx(It,{size:64,className:"text-purple-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Stop Time"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Record and analyze machine downtime and stop times."}),a.jsxs("span",{className:"text-purple-600 font-semibold flex items-center",children:["Go to Stop Time ",a.jsx(Zr,{size:18,className:"ml-1"})]})]}),a.jsxs(C.div,{className:"w-full bg-white rounded-2xl shadow-xl p-8 border border-orange-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/maintenanceactivity/troubleitem"),children:[a.jsx(Xt,{size:64,className:"text-orange-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trouble Item"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Manage and categorize common trouble items or issues."}),a.jsxs("span",{className:"text-orange-600 font-semibold flex items-center",children:["Go to Trouble Items ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})]})]})]})]})};var j2,N7;function Ss(){if(N7)return j2;N7=1;var t=Array.isArray;return j2=t,j2}var S2,k7;function tK(){if(k7)return S2;k7=1;var t=typeof Lx=="object"&&Lx&&Lx.Object===Object&&Lx;return S2=t,S2}var N2,C7;function Mo(){if(C7)return N2;C7=1;var t=tK(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return N2=r,N2}var k2,T7;function mg(){if(T7)return k2;T7=1;var t=Mo(),e=t.Symbol;return k2=e,k2}var C2,_7;function vNe(){if(_7)return C2;_7=1;var t=mg(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,s=t?t.toStringTag:void 0;function i(o){var l=r.call(o,s),c=o[s];try{o[s]=void 0;var d=!0}catch{}var h=n.call(o);return d&&(l?o[s]=c:delete o[s]),h}return C2=i,C2}var T2,M7;function wNe(){if(M7)return T2;M7=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return T2=r,T2}var _2,A7;function Pl(){if(A7)return _2;A7=1;var t=mg(),e=vNe(),r=wNe(),n="[object Null]",s="[object Undefined]",i=t?t.toStringTag:void 0;function o(l){return l==null?l===void 0?s:n:i&&i in Object(l)?e(l):r(l)}return _2=o,_2}var M2,O7;function Rl(){if(O7)return M2;O7=1;function t(e){return e!=null&&typeof e=="object"}return M2=t,M2}var A2,E7;function Lh(){if(E7)return A2;E7=1;var t=Pl(),e=Rl(),r="[object Symbol]";function n(s){return typeof s=="symbol"||e(s)&&t(s)==r}return A2=n,A2}var O2,D7;function lE(){if(D7)return O2;D7=1;var t=Ss(),e=Lh(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function s(i,o){if(t(i))return!1;var l=typeof i;return l=="number"||l=="symbol"||l=="boolean"||i==null||e(i)?!0:n.test(i)||!r.test(i)||o!=null&&i in Object(o)}return O2=s,O2}var E2,P7;function zc(){if(P7)return E2;P7=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return E2=t,E2}var D2,R7;function cE(){if(R7)return D2;R7=1;var t=Pl(),e=zc(),r="[object AsyncFunction]",n="[object Function]",s="[object GeneratorFunction]",i="[object Proxy]";function o(l){if(!e(l))return!1;var c=t(l);return c==n||c==s||c==r||c==i}return D2=o,D2}var P2,I7;function jNe(){if(I7)return P2;I7=1;var t=Mo(),e=t["__core-js_shared__"];return P2=e,P2}var R2,L7;function SNe(){if(L7)return R2;L7=1;var t=jNe(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return R2=r,R2}var I2,$7;function rK(){if($7)return I2;$7=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return I2=r,I2}var L2,F7;function NNe(){if(F7)return L2;F7=1;var t=cE(),e=SNe(),r=zc(),n=rK(),s=/[\\^$.*+?()[\]{}|]/g,i=/^\[object .+?Constructor\]$/,o=Function.prototype,l=Object.prototype,c=o.toString,d=l.hasOwnProperty,h=RegExp("^"+c.call(d).replace(s,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function m(g){if(!r(g)||e(g))return!1;var y=t(g)?h:i;return y.test(n(g))}return L2=m,L2}var $2,H7;function kNe(){if(H7)return $2;H7=1;function t(e,r){return e==null?void 0:e[r]}return $2=t,$2}var F2,B7;function fd(){if(B7)return F2;B7=1;var t=NNe(),e=kNe();function r(n,s){var i=e(n,s);return t(i)?i:void 0}return F2=r,F2}var H2,z7;function l1(){if(z7)return H2;z7=1;var t=fd(),e=t(Object,"create");return H2=e,H2}var B2,V7;function CNe(){if(V7)return B2;V7=1;var t=l1();function e(){this.__data__=t?t(null):{},this.size=0}return B2=e,B2}var z2,q7;function TNe(){if(q7)return z2;q7=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return z2=t,z2}var V2,W7;function _Ne(){if(W7)return V2;W7=1;var t=l1(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function s(i){var o=this.__data__;if(t){var l=o[i];return l===e?void 0:l}return n.call(o,i)?o[i]:void 0}return V2=s,V2}var q2,U7;function MNe(){if(U7)return q2;U7=1;var t=l1(),e=Object.prototype,r=e.hasOwnProperty;function n(s){var i=this.__data__;return t?i[s]!==void 0:r.call(i,s)}return q2=n,q2}var W2,G7;function ANe(){if(G7)return W2;G7=1;var t=l1(),e="__lodash_hash_undefined__";function r(n,s){var i=this.__data__;return this.size+=this.has(n)?0:1,i[n]=t&&s===void 0?e:s,this}return W2=r,W2}var U2,Y7;function ONe(){if(Y7)return U2;Y7=1;var t=CNe(),e=TNe(),r=_Ne(),n=MNe(),s=ANe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,U2=i,U2}var G2,K7;function ENe(){if(K7)return G2;K7=1;function t(){this.__data__=[],this.size=0}return G2=t,G2}var Y2,X7;function uE(){if(X7)return Y2;X7=1;function t(e,r){return e===r||e!==e&&r!==r}return Y2=t,Y2}var K2,J7;function c1(){if(J7)return K2;J7=1;var t=uE();function e(r,n){for(var s=r.length;s--;)if(t(r[s][0],n))return s;return-1}return K2=e,K2}var X2,Q7;function DNe(){if(Q7)return X2;Q7=1;var t=c1(),e=Array.prototype,r=e.splice;function n(s){var i=this.__data__,o=t(i,s);if(o<0)return!1;var l=i.length-1;return o==l?i.pop():r.call(i,o,1),--this.size,!0}return X2=n,X2}var J2,Z7;function PNe(){if(Z7)return J2;Z7=1;var t=c1();function e(r){var n=this.__data__,s=t(n,r);return s<0?void 0:n[s][1]}return J2=e,J2}var Q2,e$;function RNe(){if(e$)return Q2;e$=1;var t=c1();function e(r){return t(this.__data__,r)>-1}return Q2=e,Q2}var Z2,t$;function INe(){if(t$)return Z2;t$=1;var t=c1();function e(r,n){var s=this.__data__,i=t(s,r);return i<0?(++this.size,s.push([r,n])):s[i][1]=n,this}return Z2=e,Z2}var ek,r$;function u1(){if(r$)return ek;r$=1;var t=ENe(),e=DNe(),r=PNe(),n=RNe(),s=INe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,ek=i,ek}var tk,n$;function dE(){if(n$)return tk;n$=1;var t=fd(),e=Mo(),r=t(e,"Map");return tk=r,tk}var rk,a$;function LNe(){if(a$)return rk;a$=1;var t=ONe(),e=u1(),r=dE();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return rk=n,rk}var nk,s$;function $Ne(){if(s$)return nk;s$=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return nk=t,nk}var ak,i$;function d1(){if(i$)return ak;i$=1;var t=$Ne();function e(r,n){var s=r.__data__;return t(n)?s[typeof n=="string"?"string":"hash"]:s.map}return ak=e,ak}var sk,o$;function FNe(){if(o$)return sk;o$=1;var t=d1();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return sk=e,sk}var ik,l$;function HNe(){if(l$)return ik;l$=1;var t=d1();function e(r){return t(this,r).get(r)}return ik=e,ik}var ok,c$;function BNe(){if(c$)return ok;c$=1;var t=d1();function e(r){return t(this,r).has(r)}return ok=e,ok}var lk,u$;function zNe(){if(u$)return lk;u$=1;var t=d1();function e(r,n){var s=t(this,r),i=s.size;return s.set(r,n),this.size+=s.size==i?0:1,this}return lk=e,lk}var ck,d$;function fE(){if(d$)return ck;d$=1;var t=LNe(),e=FNe(),r=HNe(),n=BNe(),s=zNe();function i(o){var l=-1,c=o==null?0:o.length;for(this.clear();++l<c;){var d=o[l];this.set(d[0],d[1])}}return i.prototype.clear=t,i.prototype.delete=e,i.prototype.get=r,i.prototype.has=n,i.prototype.set=s,ck=i,ck}var uk,f$;function nK(){if(f$)return uk;f$=1;var t=fE(),e="Expected a function";function r(n,s){if(typeof n!="function"||s!=null&&typeof s!="function")throw new TypeError(e);var i=function(){var o=arguments,l=s?s.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=n.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(r.Cache||t),i}return r.Cache=t,uk=r,uk}var dk,h$;function VNe(){if(h$)return dk;h$=1;var t=nK(),e=500;function r(n){var s=t(n,function(o){return i.size===e&&i.clear(),o}),i=s.cache;return s}return dk=r,dk}var fk,m$;function qNe(){if(m$)return fk;m$=1;var t=VNe(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(s){var i=[];return s.charCodeAt(0)===46&&i.push(""),s.replace(e,function(o,l,c,d){i.push(c?d.replace(r,"$1"):l||o)}),i});return fk=n,fk}var hk,p$;function hE(){if(p$)return hk;p$=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=Array(s);++n<s;)i[n]=r(e[n],n,e);return i}return hk=t,hk}var mk,g$;function WNe(){if(g$)return mk;g$=1;var t=mg(),e=hE(),r=Ss(),n=Lh(),s=t?t.prototype:void 0,i=s?s.toString:void 0;function o(l){if(typeof l=="string")return l;if(r(l))return e(l,o)+"";if(n(l))return i?i.call(l):"";var c=l+"";return c=="0"&&1/l==-1/0?"-0":c}return mk=o,mk}var pk,x$;function aK(){if(x$)return pk;x$=1;var t=WNe();function e(r){return r==null?"":t(r)}return pk=e,pk}var gk,y$;function sK(){if(y$)return gk;y$=1;var t=Ss(),e=lE(),r=qNe(),n=aK();function s(i,o){return t(i)?i:e(i,o)?[i]:r(n(i))}return gk=s,gk}var xk,b$;function f1(){if(b$)return xk;b$=1;var t=Lh();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return xk=e,xk}var yk,v$;function mE(){if(v$)return yk;v$=1;var t=sK(),e=f1();function r(n,s){s=t(s,n);for(var i=0,o=s.length;n!=null&&i<o;)n=n[e(s[i++])];return i&&i==o?n:void 0}return yk=r,yk}var bk,w$;function iK(){if(w$)return bk;w$=1;var t=mE();function e(r,n,s){var i=r==null?void 0:t(r,n);return i===void 0?s:i}return bk=e,bk}var UNe=iK();const Bs=Pr(UNe);var vk,j$;function GNe(){if(j$)return vk;j$=1;function t(e){return e==null}return vk=t,vk}var YNe=GNe();const tr=Pr(YNe);var wk,S$;function KNe(){if(S$)return wk;S$=1;var t=Pl(),e=Ss(),r=Rl(),n="[object String]";function s(i){return typeof i=="string"||!e(i)&&r(i)&&t(i)==n}return wk=s,wk}var XNe=KNe();const nd=Pr(XNe);var JNe=cE();const Qt=Pr(JNe);var QNe=zc();const $h=Pr(QNe);var jk={exports:{}},Hr={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N$;function ZNe(){if(N$)return Hr;N$=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),o=Symbol.for("react.context"),l=Symbol.for("react.server_context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.suspense_list"),m=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.for("react.offscreen"),w;w=Symbol.for("react.module.reference");function j(v){if(typeof v=="object"&&v!==null){var N=v.$$typeof;switch(N){case t:switch(v=v.type,v){case r:case s:case n:case d:case h:return v;default:switch(v=v&&v.$$typeof,v){case l:case o:case c:case g:case m:case i:return v;default:return N}}case e:return N}}}return Hr.ContextConsumer=o,Hr.ContextProvider=i,Hr.Element=t,Hr.ForwardRef=c,Hr.Fragment=r,Hr.Lazy=g,Hr.Memo=m,Hr.Portal=e,Hr.Profiler=s,Hr.StrictMode=n,Hr.Suspense=d,Hr.SuspenseList=h,Hr.isAsyncMode=function(){return!1},Hr.isConcurrentMode=function(){return!1},Hr.isContextConsumer=function(v){return j(v)===o},Hr.isContextProvider=function(v){return j(v)===i},Hr.isElement=function(v){return typeof v=="object"&&v!==null&&v.$$typeof===t},Hr.isForwardRef=function(v){return j(v)===c},Hr.isFragment=function(v){return j(v)===r},Hr.isLazy=function(v){return j(v)===g},Hr.isMemo=function(v){return j(v)===m},Hr.isPortal=function(v){return j(v)===e},Hr.isProfiler=function(v){return j(v)===s},Hr.isStrictMode=function(v){return j(v)===n},Hr.isSuspense=function(v){return j(v)===d},Hr.isSuspenseList=function(v){return j(v)===h},Hr.isValidElementType=function(v){return typeof v=="string"||typeof v=="function"||v===r||v===s||v===n||v===d||v===h||v===y||typeof v=="object"&&v!==null&&(v.$$typeof===g||v.$$typeof===m||v.$$typeof===i||v.$$typeof===o||v.$$typeof===c||v.$$typeof===w||v.getModuleId!==void 0)},Hr.typeOf=j,Hr}var k$;function e2e(){return k$||(k$=1,jk.exports=ZNe()),jk.exports}var t2e=e2e(),Sk,C$;function oK(){if(C$)return Sk;C$=1;var t=Pl(),e=Rl(),r="[object Number]";function n(s){return typeof s=="number"||e(s)&&t(s)==r}return Sk=n,Sk}var Nk,T$;function r2e(){if(T$)return Nk;T$=1;var t=oK();function e(r){return t(r)&&r!=+r}return Nk=e,Nk}var n2e=r2e();const pg=Pr(n2e);var a2e=oK();const s2e=Pr(a2e);var Za=function(e){return e===0?0:e>0?1:-1},Ou=function(e){return nd(e)&&e.indexOf("%")===e.length-1},yt=function(e){return s2e(e)&&!pg(e)},i2e=function(e){return tr(e)},la=function(e){return yt(e)||nd(e)},o2e=0,Fh=function(e){var r=++o2e;return"".concat(e||"").concat(r)},es=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!yt(e)&&!nd(e))return n;var i;if(Ou(e)){var o=e.indexOf("%");i=r*parseFloat(e.slice(0,o))/100}else i=+e;return pg(i)&&(i=n),s&&i>r&&(i=r),i},yc=function(e){if(!e)return null;var r=Object.keys(e);return r&&r.length?e[r[0]]:null},l2e=function(e){if(!Array.isArray(e))return!1;for(var r=e.length,n={},s=0;s<r;s++)if(!n[e[s]])n[e[s]]=!0;else return!0;return!1},Rs=function(e,r){return yt(e)&&yt(r)?function(n){return e+n*(r-e)}:function(){return r}};function _v(t,e,r){return!t||!t.length?null:t.find(function(n){return n&&(typeof e=="function"?e(n):Bs(n,e))===r})}var c2e=function(e,r){return yt(e)&&yt(r)?e-r:nd(e)&&nd(r)?e.localeCompare(r):e instanceof Date&&r instanceof Date?e.getTime()-r.getTime():String(e).localeCompare(String(r))};function Df(t,e){for(var r in t)if({}.hasOwnProperty.call(t,r)&&(!{}.hasOwnProperty.call(e,r)||t[r]!==e[r]))return!1;for(var n in e)if({}.hasOwnProperty.call(e,n)&&!{}.hasOwnProperty.call(t,n))return!1;return!0}function W_(t){"@babel/helpers - typeof";return W_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W_(t)}var u2e=["viewBox","children"],d2e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],_$=["points","pathLength"],kk={svg:u2e,polygon:_$,polyline:_$},pE=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],Mv=function(e,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(x.isValidElement(e)&&(n=e.props),!$h(n))return null;var s={};return Object.keys(n).forEach(function(i){pE.includes(i)&&(s[i]=r||function(o){return n[i](n,o)})}),s},f2e=function(e,r,n){return function(s){return e(r,n,s),null}},ad=function(e,r,n){if(!$h(e)||W_(e)!=="object")return null;var s=null;return Object.keys(e).forEach(function(i){var o=e[i];pE.includes(i)&&typeof o=="function"&&(s||(s={}),s[i]=f2e(o,r,n))}),s},h2e=["children"],m2e=["children"];function M$(t,e){if(t==null)return{};var r=p2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function p2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function U_(t){"@babel/helpers - typeof";return U_=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U_(t)}var A$={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xl=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},O$=null,Ck=null,gE=function t(e){if(e===O$&&Array.isArray(Ck))return Ck;var r=[];return x.Children.forEach(e,function(n){tr(n)||(t2e.isFragment(n)?r=r.concat(t(n.props.children)):r.push(n))}),Ck=r,O$=e,r};function zs(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(function(s){return xl(s)}):n=[xl(e)],gE(t).forEach(function(s){var i=Bs(s,"type.displayName")||Bs(s,"type.name");n.indexOf(i)!==-1&&r.push(s)}),r}function Ps(t,e){var r=zs(t,e);return r&&r[0]}var E$=function(e){if(!e||!e.props)return!1;var r=e.props,n=r.width,s=r.height;return!(!yt(n)||n<=0||!yt(s)||s<=0)},g2e=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],x2e=function(e){return e&&e.type&&nd(e.type)&&g2e.indexOf(e.type)>=0},y2e=function(e){return e&&U_(e)==="object"&&"clipDot"in e},b2e=function(e,r,n,s){var i,o=(i=kk==null?void 0:kk[s])!==null&&i!==void 0?i:[];return r.startsWith("data-")||!Qt(e)&&(s&&o.includes(r)||d2e.includes(r))||n&&pE.includes(r)},Ut=function(e,r,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var s=e;if(x.isValidElement(e)&&(s=e.props),!$h(s))return null;var i={};return Object.keys(s).forEach(function(o){var l;b2e((l=s)===null||l===void 0?void 0:l[o],o,r,n)&&(i[o]=s[o])}),i},G_=function t(e,r){if(e===r)return!0;var n=x.Children.count(e);if(n!==x.Children.count(r))return!1;if(n===0)return!0;if(n===1)return D$(Array.isArray(e)?e[0]:e,Array.isArray(r)?r[0]:r);for(var s=0;s<n;s++){var i=e[s],o=r[s];if(Array.isArray(i)||Array.isArray(o)){if(!t(i,o))return!1}else if(!D$(i,o))return!1}return!0},D$=function(e,r){if(tr(e)&&tr(r))return!0;if(!tr(e)&&!tr(r)){var n=e.props||{},s=n.children,i=M$(n,h2e),o=r.props||{},l=o.children,c=M$(o,m2e);return s&&l?Df(i,c)&&G_(s,l):!s&&!l?Df(i,c):!1}return!1},P$=function(e,r){var n=[],s={};return gE(e).forEach(function(i,o){if(x2e(i))n.push(i);else if(i){var l=xl(i.type),c=r[l]||{},d=c.handler,h=c.once;if(d&&(!h||!s[l])){var m=d(i,l,o);n.push(m),s[l]=!0}}}),n},v2e=function(e){var r=e&&e.type;return r&&A$[r]?A$[r]:null},w2e=function(e,r){return gE(r).indexOf(e)},j2e=["children","width","height","viewBox","className","style","title","desc"];function Y_(){return Y_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Y_.apply(this,arguments)}function S2e(t,e){if(t==null)return{};var r=N2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function N2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function K_(t){var e=t.children,r=t.width,n=t.height,s=t.viewBox,i=t.className,o=t.style,l=t.title,c=t.desc,d=S2e(t,j2e),h=s||{width:r,height:n,x:0,y:0},m=Ft("recharts-surface",i);return X.createElement("svg",Y_({},Ut(d,!0,"svg"),{className:m,width:r,height:n,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),X.createElement("title",null,l),X.createElement("desc",null,c),e)}var k2e=["children","className"];function X_(){return X_=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X_.apply(this,arguments)}function C2e(t,e){if(t==null)return{};var r=T2e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function T2e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var Er=X.forwardRef(function(t,e){var r=t.children,n=t.className,s=C2e(t,k2e),i=Ft("recharts-layer",n);return X.createElement("g",X_({className:i},Ut(s,!0),{ref:e}),r)}),Hi=function(e,r){for(var n=arguments.length,s=new Array(n>2?n-2:0),i=2;i<n;i++)s[i-2]=arguments[i]},Tk,R$;function _2e(){if(R$)return Tk;R$=1;function t(e,r,n){var s=-1,i=e.length;r<0&&(r=-r>i?0:i+r),n=n>i?i:n,n<0&&(n+=i),i=r>n?0:n-r>>>0,r>>>=0;for(var o=Array(i);++s<i;)o[s]=e[s+r];return o}return Tk=t,Tk}var _k,I$;function M2e(){if(I$)return _k;I$=1;var t=_2e();function e(r,n,s){var i=r.length;return s=s===void 0?i:s,!n&&s>=i?r:t(r,n,s)}return _k=e,_k}var Mk,L$;function lK(){if(L$)return Mk;L$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="\\u200d",l=RegExp("["+o+t+s+i+"]");function c(d){return l.test(d)}return Mk=c,Mk}var Ak,$$;function A2e(){if($$)return Ak;$$=1;function t(e){return e.split("")}return Ak=t,Ak}var Ok,F$;function O2e(){if(F$)return Ok;F$=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",s=e+r+n,i="\\ufe0e\\ufe0f",o="["+t+"]",l="["+s+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+l+"|"+c+")",h="[^"+t+"]",m="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",y="\\u200d",w=d+"?",j="["+i+"]?",v="(?:"+y+"(?:"+[h,m,g].join("|")+")"+j+w+")*",N=j+w+v,T="(?:"+[h+l+"?",l,m,g,o].join("|")+")",S=RegExp(c+"(?="+c+")|"+T+N,"g");function O(_){return _.match(S)||[]}return Ok=O,Ok}var Ek,H$;function E2e(){if(H$)return Ek;H$=1;var t=A2e(),e=lK(),r=O2e();function n(s){return e(s)?r(s):t(s)}return Ek=n,Ek}var Dk,B$;function D2e(){if(B$)return Dk;B$=1;var t=M2e(),e=lK(),r=E2e(),n=aK();function s(i){return function(o){o=n(o);var l=e(o)?r(o):void 0,c=l?l[0]:o.charAt(0),d=l?t(l,1).join(""):o.slice(1);return c[i]()+d}}return Dk=s,Dk}var Pk,z$;function P2e(){if(z$)return Pk;z$=1;var t=D2e(),e=t("toUpperCase");return Pk=e,Pk}var R2e=P2e();const h1=Pr(R2e);function ln(t){return function(){return t}}const cK=Math.cos,Av=Math.sin,Wi=Math.sqrt,Ov=Math.PI,m1=2*Ov,J_=Math.PI,Q_=2*J_,yu=1e-6,I2e=Q_-yu;function uK(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function L2e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return uK;const r=10**e;return function(n){this._+=n[0];for(let s=1,i=n.length;s<i;++s)this._+=Math.round(arguments[s]*r)/r+n[s]}}class $2e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?uK:L2e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,s){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+s}`}bezierCurveTo(e,r,n,s,i,o){this._append`C${+e},${+r},${+n},${+s},${this._x1=+i},${this._y1=+o}`}arcTo(e,r,n,s,i){if(e=+e,r=+r,n=+n,s=+s,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,l=this._y1,c=n-e,d=s-r,h=o-e,m=l-r,g=h*h+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>yu)if(!(Math.abs(m*c-d*h)>yu)||!i)this._append`L${this._x1=e},${this._y1=r}`;else{let y=n-o,w=s-l,j=c*c+d*d,v=y*y+w*w,N=Math.sqrt(j),T=Math.sqrt(g),S=i*Math.tan((J_-Math.acos((j+g-v)/(2*N*T)))/2),O=S/T,_=S/N;Math.abs(O-1)>yu&&this._append`L${e+O*h},${r+O*m}`,this._append`A${i},${i},0,0,${+(m*y>h*w)},${this._x1=e+_*c},${this._y1=r+_*d}`}}arc(e,r,n,s,i,o){if(e=+e,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let l=n*Math.cos(s),c=n*Math.sin(s),d=e+l,h=r+c,m=1^o,g=o?s-i:i-s;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>yu||Math.abs(this._y1-h)>yu)&&this._append`L${d},${h}`,n&&(g<0&&(g=g%Q_+Q_),g>I2e?this._append`A${n},${n},0,1,${m},${e-l},${r-c}A${n},${n},0,1,${m},${this._x1=d},${this._y1=h}`:g>yu&&this._append`A${n},${n},0,${+(g>=J_)},${m},${this._x1=e+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(e,r,n,s){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+s}h${-n}Z`}toString(){return this._}}function xE(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new $2e(e)}function yE(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function dK(t){this._context=t}dK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function p1(t){return new dK(t)}function fK(t){return t[0]}function hK(t){return t[1]}function mK(t,e){var r=ln(!0),n=null,s=p1,i=null,o=xE(l);t=typeof t=="function"?t:t===void 0?fK:ln(t),e=typeof e=="function"?e:e===void 0?hK:ln(e);function l(c){var d,h=(c=yE(c)).length,m,g=!1,y;for(n==null&&(i=s(y=o())),d=0;d<=h;++d)!(d<h&&r(m=c[d],d,c))===g&&((g=!g)?i.lineStart():i.lineEnd()),g&&i.point(+t(m,d,c),+e(m,d,c));if(y)return i=null,y+""||null}return l.x=function(c){return arguments.length?(t=typeof c=="function"?c:ln(+c),l):t},l.y=function(c){return arguments.length?(e=typeof c=="function"?c:ln(+c),l):e},l.defined=function(c){return arguments.length?(r=typeof c=="function"?c:ln(!!c),l):r},l.curve=function(c){return arguments.length?(s=c,n!=null&&(i=s(n)),l):s},l.context=function(c){return arguments.length?(c==null?n=i=null:i=s(n=c),l):n},l}function yy(t,e,r){var n=null,s=ln(!0),i=null,o=p1,l=null,c=xE(d);t=typeof t=="function"?t:t===void 0?fK:ln(+t),e=typeof e=="function"?e:ln(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?hK:ln(+r);function d(m){var g,y,w,j=(m=yE(m)).length,v,N=!1,T,S=new Array(j),O=new Array(j);for(i==null&&(l=o(T=c())),g=0;g<=j;++g){if(!(g<j&&s(v=m[g],g,m))===N)if(N=!N)y=g,l.areaStart(),l.lineStart();else{for(l.lineEnd(),l.lineStart(),w=g-1;w>=y;--w)l.point(S[w],O[w]);l.lineEnd(),l.areaEnd()}N&&(S[g]=+t(v,g,m),O[g]=+e(v,g,m),l.point(n?+n(v,g,m):S[g],r?+r(v,g,m):O[g]))}if(T)return l=null,T+""||null}function h(){return mK().defined(s).curve(o).context(i)}return d.x=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),n=null,d):t},d.x0=function(m){return arguments.length?(t=typeof m=="function"?m:ln(+m),d):t},d.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:ln(+m),d):n},d.y=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),r=null,d):e},d.y0=function(m){return arguments.length?(e=typeof m=="function"?m:ln(+m),d):e},d.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:ln(+m),d):r},d.lineX0=d.lineY0=function(){return h().x(t).y(e)},d.lineY1=function(){return h().x(t).y(r)},d.lineX1=function(){return h().x(n).y(e)},d.defined=function(m){return arguments.length?(s=typeof m=="function"?m:ln(!!m),d):s},d.curve=function(m){return arguments.length?(o=m,i!=null&&(l=o(i)),d):o},d.context=function(m){return arguments.length?(m==null?i=l=null:l=o(i=m),d):i},d}class pK{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function F2e(t){return new pK(t,!0)}function H2e(t){return new pK(t,!1)}const bE={draw(t,e){const r=Wi(e/Ov);t.moveTo(r,0),t.arc(0,0,r,0,m1)}},B2e={draw(t,e){const r=Wi(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},gK=Wi(1/3),z2e=gK*2,V2e={draw(t,e){const r=Wi(e/z2e),n=r*gK;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},q2e={draw(t,e){const r=Wi(e),n=-r/2;t.rect(n,n,r,r)}},W2e=.8908130915292852,xK=Av(Ov/10)/Av(7*Ov/10),U2e=Av(m1/10)*xK,G2e=-cK(m1/10)*xK,Y2e={draw(t,e){const r=Wi(e*W2e),n=U2e*r,s=G2e*r;t.moveTo(0,-r),t.lineTo(n,s);for(let i=1;i<5;++i){const o=m1*i/5,l=cK(o),c=Av(o);t.lineTo(c*r,-l*r),t.lineTo(l*n-c*s,c*n+l*s)}t.closePath()}},Rk=Wi(3),K2e={draw(t,e){const r=-Wi(e/(Rk*3));t.moveTo(0,r*2),t.lineTo(-Rk*r,-r),t.lineTo(Rk*r,-r),t.closePath()}},ti=-.5,ri=Wi(3)/2,Z_=1/Wi(12),X2e=(Z_/2+1)*3,J2e={draw(t,e){const r=Wi(e/X2e),n=r/2,s=r*Z_,i=n,o=r*Z_+r,l=-i,c=o;t.moveTo(n,s),t.lineTo(i,o),t.lineTo(l,c),t.lineTo(ti*n-ri*s,ri*n+ti*s),t.lineTo(ti*i-ri*o,ri*i+ti*o),t.lineTo(ti*l-ri*c,ri*l+ti*c),t.lineTo(ti*n+ri*s,ti*s-ri*n),t.lineTo(ti*i+ri*o,ti*o-ri*i),t.lineTo(ti*l+ri*c,ti*c-ri*l),t.closePath()}};function Q2e(t,e){let r=null,n=xE(s);t=typeof t=="function"?t:ln(t||bE),e=typeof e=="function"?e:ln(e===void 0?64:+e);function s(){let i;if(r||(r=i=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),i)return r=null,i+""||null}return s.type=function(i){return arguments.length?(t=typeof i=="function"?i:ln(i),s):t},s.size=function(i){return arguments.length?(e=typeof i=="function"?i:ln(+i),s):e},s.context=function(i){return arguments.length?(r=i??null,s):r},s}function Ev(){}function Dv(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function yK(t){this._context=t}yK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Dv(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Z2e(t){return new yK(t)}function bK(t){this._context=t}bK.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eke(t){return new bK(t)}function vK(t){this._context=t}vK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Dv(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function tke(t){return new vK(t)}function wK(t){this._context=t}wK.prototype={areaStart:Ev,areaEnd:Ev,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function rke(t){return new wK(t)}function V$(t){return t<0?-1:1}function q$(t,e,r){var n=t._x1-t._x0,s=e-t._x1,i=(t._y1-t._y0)/(n||s<0&&-0),o=(r-t._y1)/(s||n<0&&-0),l=(i*s+o*n)/(n+s);return(V$(i)+V$(o))*Math.min(Math.abs(i),Math.abs(o),.5*Math.abs(l))||0}function W$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function Ik(t,e,r){var n=t._x0,s=t._y0,i=t._x1,o=t._y1,l=(i-n)/3;t._context.bezierCurveTo(n+l,s+l*e,i-l,o-l*r,i,o)}function Pv(t){this._context=t}Pv.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Ik(this,this._t0,W$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,Ik(this,W$(this,r=q$(this,t,e)),r);break;default:Ik(this,this._t0,r=q$(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function jK(t){this._context=new SK(t)}(jK.prototype=Object.create(Pv.prototype)).point=function(t,e){Pv.prototype.point.call(this,e,t)};function SK(t){this._context=t}SK.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,s,i){this._context.bezierCurveTo(e,t,n,r,i,s)}};function nke(t){return new Pv(t)}function ake(t){return new jK(t)}function NK(t){this._context=t}NK.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=U$(t),s=U$(e),i=0,o=1;o<r;++i,++o)this._context.bezierCurveTo(n[0][i],s[0][i],n[1][i],s[1][i],t[o],e[o]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function U$(t){var e,r=t.length-1,n,s=new Array(r),i=new Array(r),o=new Array(r);for(s[0]=0,i[0]=2,o[0]=t[0]+2*t[1],e=1;e<r-1;++e)s[e]=1,i[e]=4,o[e]=4*t[e]+2*t[e+1];for(s[r-1]=2,i[r-1]=7,o[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=s[e]/i[e-1],i[e]-=n,o[e]-=n*o[e-1];for(s[r-1]=o[r-1]/i[r-1],e=r-2;e>=0;--e)s[e]=(o[e]-s[e+1])/i[e];for(i[r-1]=(t[r]+s[r-1])/2,e=0;e<r-1;++e)i[e]=2*t[e+1]-s[e+1];return[s,i]}function ske(t){return new NK(t)}function g1(t,e){this._context=t,this._t=e}g1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ike(t){return new g1(t,.5)}function oke(t){return new g1(t,0)}function lke(t){return new g1(t,1)}function rh(t,e){if((o=t.length)>1)for(var r=1,n,s,i=t[e[0]],o,l=i.length;r<o;++r)for(s=i,i=t[e[r]],n=0;n<l;++n)i[n][1]+=i[n][0]=isNaN(s[n][1])?s[n][0]:s[n][1]}function eM(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function cke(t,e){return t[e]}function uke(t){const e=[];return e.key=t,e}function dke(){var t=ln([]),e=eM,r=rh,n=cke;function s(i){var o=Array.from(t.apply(this,arguments),uke),l,c=o.length,d=-1,h;for(const m of i)for(l=0,++d;l<c;++l)(o[l][d]=[0,+n(m,o[l].key,d,i)]).data=m;for(l=0,h=yE(e(o));l<c;++l)o[h[l]].index=l;return r(o,h),o}return s.keys=function(i){return arguments.length?(t=typeof i=="function"?i:ln(Array.from(i)),s):t},s.value=function(i){return arguments.length?(n=typeof i=="function"?i:ln(+i),s):n},s.order=function(i){return arguments.length?(e=i==null?eM:typeof i=="function"?i:ln(Array.from(i)),s):e},s.offset=function(i){return arguments.length?(r=i??rh,s):r},s}function fke(t,e){if((n=t.length)>0){for(var r,n,s=0,i=t[0].length,o;s<i;++s){for(o=r=0;r<n;++r)o+=t[r][s][1]||0;if(o)for(r=0;r<n;++r)t[r][s][1]/=o}rh(t,e)}}function hke(t,e){if((s=t.length)>0){for(var r=0,n=t[e[0]],s,i=n.length;r<i;++r){for(var o=0,l=0;o<s;++o)l+=t[o][r][1]||0;n[r][1]+=n[r][0]=-l/2}rh(t,e)}}function mke(t,e){if(!(!((o=t.length)>0)||!((i=(s=t[e[0]]).length)>0))){for(var r=0,n=1,s,i,o;n<i;++n){for(var l=0,c=0,d=0;l<o;++l){for(var h=t[e[l]],m=h[n][1]||0,g=h[n-1][1]||0,y=(m-g)/2,w=0;w<l;++w){var j=t[e[w]],v=j[n][1]||0,N=j[n-1][1]||0;y+=v-N}c+=m,d+=y*m}s[n-1][1]+=s[n-1][0]=r,c&&(r-=d/c)}s[n-1][1]+=s[n-1][0]=r,rh(t,e)}}function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}var pke=["type","size","sizeType"];function tM(){return tM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tM.apply(this,arguments)}function G$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Y$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G$(Object(r),!0).forEach(function(n){gke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gke(t,e,r){return e=xke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xke(t){var e=yke(t,"string");return h0(e)=="symbol"?e:e+""}function yke(t,e){if(h0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(h0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bke(t,e){if(t==null)return{};var r=vke(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function vke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var kK={symbolCircle:bE,symbolCross:B2e,symbolDiamond:V2e,symbolSquare:q2e,symbolStar:Y2e,symbolTriangle:K2e,symbolWye:J2e},wke=Math.PI/180,jke=function(e){var r="symbol".concat(h1(e));return kK[r]||bE},Ske=function(e,r,n){if(r==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var s=18*wke;return 1.25*e*e*(Math.tan(s)-Math.tan(s*2)*Math.pow(Math.tan(s),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},Nke=function(e,r){kK["symbol".concat(h1(e))]=r},vE=function(e){var r=e.type,n=r===void 0?"circle":r,s=e.size,i=s===void 0?64:s,o=e.sizeType,l=o===void 0?"area":o,c=bke(e,pke),d=Y$(Y$({},c),{},{type:n,size:i,sizeType:l}),h=function(){var v=jke(n),N=Q2e().type(v).size(Ske(i,l,n));return N()},m=d.className,g=d.cx,y=d.cy,w=Ut(d,!0);return g===+g&&y===+y&&i===+i?X.createElement("path",tM({},w,{className:Ft("recharts-symbols",m),transform:"translate(".concat(g,", ").concat(y,")"),d:h()})):null};vE.registerSymbol=Nke;function nh(t){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},nh(t)}function rM(){return rM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rM.apply(this,arguments)}function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kke(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){m0(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Cke(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Tke(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TK(n.key),n)}}function _ke(t,e,r){return e&&Tke(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function Mke(t,e,r){return e=Rv(e),Ake(t,CK()?Reflect.construct(e,r||[],Rv(t).constructor):e.apply(t,r))}function Ake(t,e){if(e&&(nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Oke(t)}function Oke(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CK=function(){return!!t})()}function Rv(t){return Rv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Rv(t)}function Eke(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nM(t,e)}function nM(t,e){return nM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nM(t,e)}function m0(t,e,r){return e=TK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TK(t){var e=Dke(t,"string");return nh(e)=="symbol"?e:e+""}function Dke(t,e){if(nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var ni=32,wE=(function(t){function e(){return Cke(this,e),Mke(this,e,arguments)}return Eke(e,t),_ke(e,[{key:"renderIcon",value:function(n){var s=this.props.inactiveColor,i=ni/2,o=ni/6,l=ni/3,c=n.inactive?s:n.color;if(n.type==="plainline")return X.createElement("line",{strokeWidth:4,fill:"none",stroke:c,strokeDasharray:n.payload.strokeDasharray,x1:0,y1:i,x2:ni,y2:i,className:"recharts-legend-icon"});if(n.type==="line")return X.createElement("path",{strokeWidth:4,fill:"none",stroke:c,d:"M0,".concat(i,"h").concat(l,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(2*l,",").concat(i,`
            H`).concat(ni,"M").concat(2*l,",").concat(i,`
            A`).concat(o,",").concat(o,",0,1,1,").concat(l,",").concat(i),className:"recharts-legend-icon"});if(n.type==="rect")return X.createElement("path",{stroke:"none",fill:c,d:"M0,".concat(ni/8,"h").concat(ni,"v").concat(ni*3/4,"h").concat(-ni,"z"),className:"recharts-legend-icon"});if(X.isValidElement(n.legendIcon)){var d=kke({},n);return delete d.legendIcon,X.cloneElement(n.legendIcon,d)}return X.createElement(vE,{fill:c,cx:i,cy:i,size:ni,sizeType:"diameter",type:n.type})}},{key:"renderItems",value:function(){var n=this,s=this.props,i=s.payload,o=s.iconSize,l=s.layout,c=s.formatter,d=s.inactiveColor,h={x:0,y:0,width:ni,height:ni},m={display:l==="horizontal"?"inline-block":"block",marginRight:10},g={display:"inline-block",verticalAlign:"middle",marginRight:4};return i.map(function(y,w){var j=y.formatter||c,v=Ft(m0(m0({"recharts-legend-item":!0},"legend-item-".concat(w),!0),"inactive",y.inactive));if(y.type==="none")return null;var N=Qt(y.value)?null:y.value;Hi(!Qt(y.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var T=y.inactive?d:y.color;return X.createElement("li",rM({className:v,style:m,key:"legend-item-".concat(w)},ad(n.props,y,w)),X.createElement(K_,{width:o,height:o,viewBox:h,style:g},n.renderIcon(y)),X.createElement("span",{className:"recharts-legend-item-text",style:{color:T}},j?j(N,y,w):N))})}},{key:"render",value:function(){var n=this.props,s=n.payload,i=n.layout,o=n.align;if(!s||!s.length)return null;var l={padding:0,margin:0,textAlign:i==="horizontal"?o:"left"};return X.createElement("ul",{className:"recharts-default-legend",style:l},this.renderItems())}}])})(x.PureComponent);m0(wE,"displayName","Legend");m0(wE,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var Lk,X$;function Pke(){if(X$)return Lk;X$=1;var t=u1();function e(){this.__data__=new t,this.size=0}return Lk=e,Lk}var $k,J$;function Rke(){if(J$)return $k;J$=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return $k=t,$k}var Fk,Q$;function Ike(){if(Q$)return Fk;Q$=1;function t(e){return this.__data__.get(e)}return Fk=t,Fk}var Hk,Z$;function Lke(){if(Z$)return Hk;Z$=1;function t(e){return this.__data__.has(e)}return Hk=t,Hk}var Bk,e8;function $ke(){if(e8)return Bk;e8=1;var t=u1(),e=dE(),r=fE(),n=200;function s(i,o){var l=this.__data__;if(l instanceof t){var c=l.__data__;if(!e||c.length<n-1)return c.push([i,o]),this.size=++l.size,this;l=this.__data__=new r(c)}return l.set(i,o),this.size=l.size,this}return Bk=s,Bk}var zk,t8;function _K(){if(t8)return zk;t8=1;var t=u1(),e=Pke(),r=Rke(),n=Ike(),s=Lke(),i=$ke();function o(l){var c=this.__data__=new t(l);this.size=c.size}return o.prototype.clear=e,o.prototype.delete=r,o.prototype.get=n,o.prototype.has=s,o.prototype.set=i,zk=o,zk}var Vk,r8;function Fke(){if(r8)return Vk;r8=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return Vk=e,Vk}var qk,n8;function Hke(){if(n8)return qk;n8=1;function t(e){return this.__data__.has(e)}return qk=t,qk}var Wk,a8;function MK(){if(a8)return Wk;a8=1;var t=fE(),e=Fke(),r=Hke();function n(s){var i=-1,o=s==null?0:s.length;for(this.__data__=new t;++i<o;)this.add(s[i])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,Wk=n,Wk}var Uk,s8;function AK(){if(s8)return Uk;s8=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(r(e[n],n,e))return!0;return!1}return Uk=t,Uk}var Gk,i8;function OK(){if(i8)return Gk;i8=1;function t(e,r){return e.has(r)}return Gk=t,Gk}var Yk,o8;function EK(){if(o8)return Yk;o8=1;var t=MK(),e=AK(),r=OK(),n=1,s=2;function i(o,l,c,d,h,m){var g=c&n,y=o.length,w=l.length;if(y!=w&&!(g&&w>y))return!1;var j=m.get(o),v=m.get(l);if(j&&v)return j==l&&v==o;var N=-1,T=!0,S=c&s?new t:void 0;for(m.set(o,l),m.set(l,o);++N<y;){var O=o[N],_=l[N];if(d)var A=g?d(_,O,N,l,o,m):d(O,_,N,o,l,m);if(A!==void 0){if(A)continue;T=!1;break}if(S){if(!e(l,function(E,P){if(!r(S,P)&&(O===E||h(O,E,c,d,m)))return S.push(P)})){T=!1;break}}else if(!(O===_||h(O,_,c,d,m))){T=!1;break}}return m.delete(o),m.delete(l),T}return Yk=i,Yk}var Kk,l8;function Bke(){if(l8)return Kk;l8=1;var t=Mo(),e=t.Uint8Array;return Kk=e,Kk}var Xk,c8;function zke(){if(c8)return Xk;c8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s,i){n[++r]=[i,s]}),n}return Xk=t,Xk}var Jk,u8;function jE(){if(u8)return Jk;u8=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(s){n[++r]=s}),n}return Jk=t,Jk}var Qk,d8;function Vke(){if(d8)return Qk;d8=1;var t=mg(),e=Bke(),r=uE(),n=EK(),s=zke(),i=jE(),o=1,l=2,c="[object Boolean]",d="[object Date]",h="[object Error]",m="[object Map]",g="[object Number]",y="[object RegExp]",w="[object Set]",j="[object String]",v="[object Symbol]",N="[object ArrayBuffer]",T="[object DataView]",S=t?t.prototype:void 0,O=S?S.valueOf:void 0;function _(A,E,P,$,I,L,R){switch(P){case T:if(A.byteLength!=E.byteLength||A.byteOffset!=E.byteOffset)return!1;A=A.buffer,E=E.buffer;case N:return!(A.byteLength!=E.byteLength||!L(new e(A),new e(E)));case c:case d:case g:return r(+A,+E);case h:return A.name==E.name&&A.message==E.message;case y:case j:return A==E+"";case m:var z=s;case w:var Y=$&o;if(z||(z=i),A.size!=E.size&&!Y)return!1;var q=R.get(A);if(q)return q==E;$|=l,R.set(A,E);var H=n(z(A),z(E),$,I,L,R);return R.delete(A),H;case v:if(O)return O.call(A)==O.call(E)}return!1}return Qk=_,Qk}var Zk,f8;function DK(){if(f8)return Zk;f8=1;function t(e,r){for(var n=-1,s=r.length,i=e.length;++n<s;)e[i+n]=r[n];return e}return Zk=t,Zk}var eC,h8;function qke(){if(h8)return eC;h8=1;var t=DK(),e=Ss();function r(n,s,i){var o=s(n);return e(n)?o:t(o,i(n))}return eC=r,eC}var tC,m8;function Wke(){if(m8)return tC;m8=1;function t(e,r){for(var n=-1,s=e==null?0:e.length,i=0,o=[];++n<s;){var l=e[n];r(l,n,e)&&(o[i++]=l)}return o}return tC=t,tC}var rC,p8;function Uke(){if(p8)return rC;p8=1;function t(){return[]}return rC=t,rC}var nC,g8;function Gke(){if(g8)return nC;g8=1;var t=Wke(),e=Uke(),r=Object.prototype,n=r.propertyIsEnumerable,s=Object.getOwnPropertySymbols,i=s?function(o){return o==null?[]:(o=Object(o),t(s(o),function(l){return n.call(o,l)}))}:e;return nC=i,nC}var aC,x8;function Yke(){if(x8)return aC;x8=1;function t(e,r){for(var n=-1,s=Array(e);++n<e;)s[n]=r(n);return s}return aC=t,aC}var sC,y8;function Kke(){if(y8)return sC;y8=1;var t=Pl(),e=Rl(),r="[object Arguments]";function n(s){return e(s)&&t(s)==r}return sC=n,sC}var iC,b8;function SE(){if(b8)return iC;b8=1;var t=Kke(),e=Rl(),r=Object.prototype,n=r.hasOwnProperty,s=r.propertyIsEnumerable,i=t((function(){return arguments})())?t:function(o){return e(o)&&n.call(o,"callee")&&!s.call(o,"callee")};return iC=i,iC}var yp={exports:{}},oC,v8;function Xke(){if(v8)return oC;v8=1;function t(){return!1}return oC=t,oC}yp.exports;var w8;function PK(){return w8||(w8=1,(function(t,e){var r=Mo(),n=Xke(),s=e&&!e.nodeType&&e,i=s&&!0&&t&&!t.nodeType&&t,o=i&&i.exports===s,l=o?r.Buffer:void 0,c=l?l.isBuffer:void 0,d=c||n;t.exports=d})(yp,yp.exports)),yp.exports}var lC,j8;function NE(){if(j8)return lC;j8=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,s){var i=typeof n;return s=s??t,!!s&&(i=="number"||i!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<s}return lC=r,lC}var cC,S8;function kE(){if(S8)return cC;S8=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return cC=e,cC}var uC,N8;function Jke(){if(N8)return uC;N8=1;var t=Pl(),e=kE(),r=Rl(),n="[object Arguments]",s="[object Array]",i="[object Boolean]",o="[object Date]",l="[object Error]",c="[object Function]",d="[object Map]",h="[object Number]",m="[object Object]",g="[object RegExp]",y="[object Set]",w="[object String]",j="[object WeakMap]",v="[object ArrayBuffer]",N="[object DataView]",T="[object Float32Array]",S="[object Float64Array]",O="[object Int8Array]",_="[object Int16Array]",A="[object Int32Array]",E="[object Uint8Array]",P="[object Uint8ClampedArray]",$="[object Uint16Array]",I="[object Uint32Array]",L={};L[T]=L[S]=L[O]=L[_]=L[A]=L[E]=L[P]=L[$]=L[I]=!0,L[n]=L[s]=L[v]=L[i]=L[N]=L[o]=L[l]=L[c]=L[d]=L[h]=L[m]=L[g]=L[y]=L[w]=L[j]=!1;function R(z){return r(z)&&e(z.length)&&!!L[t(z)]}return uC=R,uC}var dC,k8;function RK(){if(k8)return dC;k8=1;function t(e){return function(r){return e(r)}}return dC=t,dC}var bp={exports:{}};bp.exports;var C8;function Qke(){return C8||(C8=1,(function(t,e){var r=tK(),n=e&&!e.nodeType&&e,s=n&&!0&&t&&!t.nodeType&&t,i=s&&s.exports===n,o=i&&r.process,l=(function(){try{var c=s&&s.require&&s.require("util").types;return c||o&&o.binding&&o.binding("util")}catch{}})();t.exports=l})(bp,bp.exports)),bp.exports}var fC,T8;function IK(){if(T8)return fC;T8=1;var t=Jke(),e=RK(),r=Qke(),n=r&&r.isTypedArray,s=n?e(n):t;return fC=s,fC}var hC,_8;function Zke(){if(_8)return hC;_8=1;var t=Yke(),e=SE(),r=Ss(),n=PK(),s=NE(),i=IK(),o=Object.prototype,l=o.hasOwnProperty;function c(d,h){var m=r(d),g=!m&&e(d),y=!m&&!g&&n(d),w=!m&&!g&&!y&&i(d),j=m||g||y||w,v=j?t(d.length,String):[],N=v.length;for(var T in d)(h||l.call(d,T))&&!(j&&(T=="length"||y&&(T=="offset"||T=="parent")||w&&(T=="buffer"||T=="byteLength"||T=="byteOffset")||s(T,N)))&&v.push(T);return v}return hC=c,hC}var mC,M8;function eCe(){if(M8)return mC;M8=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,s=typeof n=="function"&&n.prototype||t;return r===s}return mC=e,mC}var pC,A8;function LK(){if(A8)return pC;A8=1;function t(e,r){return function(n){return e(r(n))}}return pC=t,pC}var gC,O8;function tCe(){if(O8)return gC;O8=1;var t=LK(),e=t(Object.keys,Object);return gC=e,gC}var xC,E8;function rCe(){if(E8)return xC;E8=1;var t=eCe(),e=tCe(),r=Object.prototype,n=r.hasOwnProperty;function s(i){if(!t(i))return e(i);var o=[];for(var l in Object(i))n.call(i,l)&&l!="constructor"&&o.push(l);return o}return xC=s,xC}var yC,D8;function gg(){if(D8)return yC;D8=1;var t=cE(),e=kE();function r(n){return n!=null&&e(n.length)&&!t(n)}return yC=r,yC}var bC,P8;function x1(){if(P8)return bC;P8=1;var t=Zke(),e=rCe(),r=gg();function n(s){return r(s)?t(s):e(s)}return bC=n,bC}var vC,R8;function nCe(){if(R8)return vC;R8=1;var t=qke(),e=Gke(),r=x1();function n(s){return t(s,r,e)}return vC=n,vC}var wC,I8;function aCe(){if(I8)return wC;I8=1;var t=nCe(),e=1,r=Object.prototype,n=r.hasOwnProperty;function s(i,o,l,c,d,h){var m=l&e,g=t(i),y=g.length,w=t(o),j=w.length;if(y!=j&&!m)return!1;for(var v=y;v--;){var N=g[v];if(!(m?N in o:n.call(o,N)))return!1}var T=h.get(i),S=h.get(o);if(T&&S)return T==o&&S==i;var O=!0;h.set(i,o),h.set(o,i);for(var _=m;++v<y;){N=g[v];var A=i[N],E=o[N];if(c)var P=m?c(E,A,N,o,i,h):c(A,E,N,i,o,h);if(!(P===void 0?A===E||d(A,E,l,c,h):P)){O=!1;break}_||(_=N=="constructor")}if(O&&!_){var $=i.constructor,I=o.constructor;$!=I&&"constructor"in i&&"constructor"in o&&!(typeof $=="function"&&$ instanceof $&&typeof I=="function"&&I instanceof I)&&(O=!1)}return h.delete(i),h.delete(o),O}return wC=s,wC}var jC,L8;function sCe(){if(L8)return jC;L8=1;var t=fd(),e=Mo(),r=t(e,"DataView");return jC=r,jC}var SC,$8;function iCe(){if($8)return SC;$8=1;var t=fd(),e=Mo(),r=t(e,"Promise");return SC=r,SC}var NC,F8;function $K(){if(F8)return NC;F8=1;var t=fd(),e=Mo(),r=t(e,"Set");return NC=r,NC}var kC,H8;function oCe(){if(H8)return kC;H8=1;var t=fd(),e=Mo(),r=t(e,"WeakMap");return kC=r,kC}var CC,B8;function lCe(){if(B8)return CC;B8=1;var t=sCe(),e=dE(),r=iCe(),n=$K(),s=oCe(),i=Pl(),o=rK(),l="[object Map]",c="[object Object]",d="[object Promise]",h="[object Set]",m="[object WeakMap]",g="[object DataView]",y=o(t),w=o(e),j=o(r),v=o(n),N=o(s),T=i;return(t&&T(new t(new ArrayBuffer(1)))!=g||e&&T(new e)!=l||r&&T(r.resolve())!=d||n&&T(new n)!=h||s&&T(new s)!=m)&&(T=function(S){var O=i(S),_=O==c?S.constructor:void 0,A=_?o(_):"";if(A)switch(A){case y:return g;case w:return l;case j:return d;case v:return h;case N:return m}return O}),CC=T,CC}var TC,z8;function cCe(){if(z8)return TC;z8=1;var t=_K(),e=EK(),r=Vke(),n=aCe(),s=lCe(),i=Ss(),o=PK(),l=IK(),c=1,d="[object Arguments]",h="[object Array]",m="[object Object]",g=Object.prototype,y=g.hasOwnProperty;function w(j,v,N,T,S,O){var _=i(j),A=i(v),E=_?h:s(j),P=A?h:s(v);E=E==d?m:E,P=P==d?m:P;var $=E==m,I=P==m,L=E==P;if(L&&o(j)){if(!o(v))return!1;_=!0,$=!1}if(L&&!$)return O||(O=new t),_||l(j)?e(j,v,N,T,S,O):r(j,v,E,N,T,S,O);if(!(N&c)){var R=$&&y.call(j,"__wrapped__"),z=I&&y.call(v,"__wrapped__");if(R||z){var Y=R?j.value():j,q=z?v.value():v;return O||(O=new t),S(Y,q,N,T,O)}}return L?(O||(O=new t),n(j,v,N,T,S,O)):!1}return TC=w,TC}var _C,V8;function CE(){if(V8)return _C;V8=1;var t=cCe(),e=Rl();function r(n,s,i,o,l){return n===s?!0:n==null||s==null||!e(n)&&!e(s)?n!==n&&s!==s:t(n,s,i,o,r,l)}return _C=r,_C}var MC,q8;function uCe(){if(q8)return MC;q8=1;var t=_K(),e=CE(),r=1,n=2;function s(i,o,l,c){var d=l.length,h=d,m=!c;if(i==null)return!h;for(i=Object(i);d--;){var g=l[d];if(m&&g[2]?g[1]!==i[g[0]]:!(g[0]in i))return!1}for(;++d<h;){g=l[d];var y=g[0],w=i[y],j=g[1];if(m&&g[2]){if(w===void 0&&!(y in i))return!1}else{var v=new t;if(c)var N=c(w,j,y,i,o,v);if(!(N===void 0?e(j,w,r|n,c,v):N))return!1}}return!0}return MC=s,MC}var AC,W8;function FK(){if(W8)return AC;W8=1;var t=zc();function e(r){return r===r&&!t(r)}return AC=e,AC}var OC,U8;function dCe(){if(U8)return OC;U8=1;var t=FK(),e=x1();function r(n){for(var s=e(n),i=s.length;i--;){var o=s[i],l=n[o];s[i]=[o,l,t(l)]}return s}return OC=r,OC}var EC,G8;function HK(){if(G8)return EC;G8=1;function t(e,r){return function(n){return n==null?!1:n[e]===r&&(r!==void 0||e in Object(n))}}return EC=t,EC}var DC,Y8;function fCe(){if(Y8)return DC;Y8=1;var t=uCe(),e=dCe(),r=HK();function n(s){var i=e(s);return i.length==1&&i[0][2]?r(i[0][0],i[0][1]):function(o){return o===s||t(o,s,i)}}return DC=n,DC}var PC,K8;function hCe(){if(K8)return PC;K8=1;function t(e,r){return e!=null&&r in Object(e)}return PC=t,PC}var RC,X8;function mCe(){if(X8)return RC;X8=1;var t=sK(),e=SE(),r=Ss(),n=NE(),s=kE(),i=f1();function o(l,c,d){c=t(c,l);for(var h=-1,m=c.length,g=!1;++h<m;){var y=i(c[h]);if(!(g=l!=null&&d(l,y)))break;l=l[y]}return g||++h!=m?g:(m=l==null?0:l.length,!!m&&s(m)&&n(y,m)&&(r(l)||e(l)))}return RC=o,RC}var IC,J8;function pCe(){if(J8)return IC;J8=1;var t=hCe(),e=mCe();function r(n,s){return n!=null&&e(n,s,t)}return IC=r,IC}var LC,Q8;function gCe(){if(Q8)return LC;Q8=1;var t=CE(),e=iK(),r=pCe(),n=lE(),s=FK(),i=HK(),o=f1(),l=1,c=2;function d(h,m){return n(h)&&s(m)?i(o(h),m):function(g){var y=e(g,h);return y===void 0&&y===m?r(g,h):t(m,y,l|c)}}return LC=d,LC}var $C,Z8;function Hh(){if(Z8)return $C;Z8=1;function t(e){return e}return $C=t,$C}var FC,eF;function xCe(){if(eF)return FC;eF=1;function t(e){return function(r){return r==null?void 0:r[e]}}return FC=t,FC}var HC,tF;function yCe(){if(tF)return HC;tF=1;var t=mE();function e(r){return function(n){return t(n,r)}}return HC=e,HC}var BC,rF;function bCe(){if(rF)return BC;rF=1;var t=xCe(),e=yCe(),r=lE(),n=f1();function s(i){return r(i)?t(n(i)):e(i)}return BC=s,BC}var zC,nF;function Ao(){if(nF)return zC;nF=1;var t=fCe(),e=gCe(),r=Hh(),n=Ss(),s=bCe();function i(o){return typeof o=="function"?o:o==null?r:typeof o=="object"?n(o)?e(o[0],o[1]):t(o):s(o)}return zC=i,zC}var VC,aF;function BK(){if(aF)return VC;aF=1;function t(e,r,n,s){for(var i=e.length,o=n+(s?1:-1);s?o--:++o<i;)if(r(e[o],o,e))return o;return-1}return VC=t,VC}var qC,sF;function vCe(){if(sF)return qC;sF=1;function t(e){return e!==e}return qC=t,qC}var WC,iF;function wCe(){if(iF)return WC;iF=1;function t(e,r,n){for(var s=n-1,i=e.length;++s<i;)if(e[s]===r)return s;return-1}return WC=t,WC}var UC,oF;function jCe(){if(oF)return UC;oF=1;var t=BK(),e=vCe(),r=wCe();function n(s,i,o){return i===i?r(s,i,o):t(s,e,o)}return UC=n,UC}var GC,lF;function SCe(){if(lF)return GC;lF=1;var t=jCe();function e(r,n){var s=r==null?0:r.length;return!!s&&t(r,n,0)>-1}return GC=e,GC}var YC,cF;function NCe(){if(cF)return YC;cF=1;function t(e,r,n){for(var s=-1,i=e==null?0:e.length;++s<i;)if(n(r,e[s]))return!0;return!1}return YC=t,YC}var KC,uF;function kCe(){if(uF)return KC;uF=1;function t(){}return KC=t,KC}var XC,dF;function CCe(){if(dF)return XC;dF=1;var t=$K(),e=kCe(),r=jE(),n=1/0,s=t&&1/r(new t([,-0]))[1]==n?function(i){return new t(i)}:e;return XC=s,XC}var JC,fF;function TCe(){if(fF)return JC;fF=1;var t=MK(),e=SCe(),r=NCe(),n=OK(),s=CCe(),i=jE(),o=200;function l(c,d,h){var m=-1,g=e,y=c.length,w=!0,j=[],v=j;if(h)w=!1,g=r;else if(y>=o){var N=d?null:s(c);if(N)return i(N);w=!1,g=n,v=new t}else v=d?[]:j;e:for(;++m<y;){var T=c[m],S=d?d(T):T;if(T=h||T!==0?T:0,w&&S===S){for(var O=v.length;O--;)if(v[O]===S)continue e;d&&v.push(S),j.push(T)}else g(v,S,h)||(v!==j&&v.push(S),j.push(T))}return j}return JC=l,JC}var QC,hF;function _Ce(){if(hF)return QC;hF=1;var t=Ao(),e=TCe();function r(n,s){return n&&n.length?e(n,t(s,2)):[]}return QC=r,QC}var MCe=_Ce();const mF=Pr(MCe);function zK(t,e,r){return e===!0?mF(t,r):Qt(e)?mF(t,e):t}function ah(t){"@babel/helpers - typeof";return ah=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ah(t)}var ACe=["ref"];function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Xo(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){y1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OCe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gF(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,qK(n.key),n)}}function ECe(t,e,r){return e&&gF(t.prototype,e),r&&gF(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function DCe(t,e,r){return e=Iv(e),PCe(t,VK()?Reflect.construct(e,r||[],Iv(t).constructor):e.apply(t,r))}function PCe(t,e){if(e&&(ah(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RCe(t)}function RCe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function VK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(VK=function(){return!!t})()}function Iv(t){return Iv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Iv(t)}function ICe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&aM(t,e)}function aM(t,e){return aM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},aM(t,e)}function y1(t,e,r){return e=qK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qK(t){var e=LCe(t,"string");return ah(e)=="symbol"?e:e+""}function LCe(t,e){if(ah(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ah(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function $Ce(t,e){if(t==null)return{};var r=FCe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function FCe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function HCe(t){return t.value}function BCe(t,e){if(X.isValidElement(t))return X.cloneElement(t,e);if(typeof t=="function")return X.createElement(t,e);e.ref;var r=$Ce(e,ACe);return X.createElement(wE,r)}var xF=1,mo=(function(t){function e(){var r;OCe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=DCe(this,e,[].concat(s)),y1(r,"lastBoundingBox",{width:-1,height:-1}),r}return ICe(e,t),ECe(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();return n.height=this.wrapperNode.offsetHeight,n.width=this.wrapperNode.offsetWidth,n}return null}},{key:"updateBBox",value:function(){var n=this.props.onBBoxUpdate,s=this.getBBox();s?(Math.abs(s.width-this.lastBoundingBox.width)>xF||Math.abs(s.height-this.lastBoundingBox.height)>xF)&&(this.lastBoundingBox.width=s.width,this.lastBoundingBox.height=s.height,n&&n(s)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,n&&n(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Xo({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(n){var s=this.props,i=s.layout,o=s.align,l=s.verticalAlign,c=s.margin,d=s.chartWidth,h=s.chartHeight,m,g;if(!n||(n.left===void 0||n.left===null)&&(n.right===void 0||n.right===null))if(o==="center"&&i==="vertical"){var y=this.getBBoxSnapshot();m={left:((d||0)-y.width)/2}}else m=o==="right"?{right:c&&c.right||0}:{left:c&&c.left||0};if(!n||(n.top===void 0||n.top===null)&&(n.bottom===void 0||n.bottom===null))if(l==="middle"){var w=this.getBBoxSnapshot();g={top:((h||0)-w.height)/2}}else g=l==="bottom"?{bottom:c&&c.bottom||0}:{top:c&&c.top||0};return Xo(Xo({},m),g)}},{key:"render",value:function(){var n=this,s=this.props,i=s.content,o=s.width,l=s.height,c=s.wrapperStyle,d=s.payloadUniqBy,h=s.payload,m=Xo(Xo({position:"absolute",width:o||"auto",height:l||"auto"},this.getDefaultPosition(c)),c);return X.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(y){n.wrapperNode=y}},BCe(i,Xo(Xo({},this.props),{},{payload:zK(h,d,HCe)})))}}],[{key:"getWithHeight",value:function(n,s){var i=Xo(Xo({},this.defaultProps),n.props),o=i.layout;return o==="vertical"&&yt(n.props.height)?{height:n.props.height}:o==="horizontal"?{width:n.props.width||s}:null}}])})(x.PureComponent);y1(mo,"displayName","Legend");y1(mo,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var ZC,yF;function zCe(){if(yF)return ZC;yF=1;var t=mg(),e=SE(),r=Ss(),n=t?t.isConcatSpreadable:void 0;function s(i){return r(i)||e(i)||!!(n&&i&&i[n])}return ZC=s,ZC}var eT,bF;function WK(){if(bF)return eT;bF=1;var t=DK(),e=zCe();function r(n,s,i,o,l){var c=-1,d=n.length;for(i||(i=e),l||(l=[]);++c<d;){var h=n[c];s>0&&i(h)?s>1?r(h,s-1,i,o,l):t(l,h):o||(l[l.length]=h)}return l}return eT=r,eT}var tT,vF;function VCe(){if(vF)return tT;vF=1;function t(e){return function(r,n,s){for(var i=-1,o=Object(r),l=s(r),c=l.length;c--;){var d=l[e?c:++i];if(n(o[d],d,o)===!1)break}return r}}return tT=t,tT}var rT,wF;function qCe(){if(wF)return rT;wF=1;var t=VCe(),e=t();return rT=e,rT}var nT,jF;function UK(){if(jF)return nT;jF=1;var t=qCe(),e=x1();function r(n,s){return n&&t(n,s,e)}return nT=r,nT}var aT,SF;function WCe(){if(SF)return aT;SF=1;var t=gg();function e(r,n){return function(s,i){if(s==null)return s;if(!t(s))return r(s,i);for(var o=s.length,l=n?o:-1,c=Object(s);(n?l--:++l<o)&&i(c[l],l,c)!==!1;);return s}}return aT=e,aT}var sT,NF;function TE(){if(NF)return sT;NF=1;var t=UK(),e=WCe(),r=e(t);return sT=r,sT}var iT,kF;function GK(){if(kF)return iT;kF=1;var t=TE(),e=gg();function r(n,s){var i=-1,o=e(n)?Array(n.length):[];return t(n,function(l,c,d){o[++i]=s(l,c,d)}),o}return iT=r,iT}var oT,CF;function UCe(){if(CF)return oT;CF=1;function t(e,r){var n=e.length;for(e.sort(r);n--;)e[n]=e[n].value;return e}return oT=t,oT}var lT,TF;function GCe(){if(TF)return lT;TF=1;var t=Lh();function e(r,n){if(r!==n){var s=r!==void 0,i=r===null,o=r===r,l=t(r),c=n!==void 0,d=n===null,h=n===n,m=t(n);if(!d&&!m&&!l&&r>n||l&&c&&h&&!d&&!m||i&&c&&h||!s&&h||!o)return 1;if(!i&&!l&&!m&&r<n||m&&s&&o&&!i&&!l||d&&s&&o||!c&&o||!h)return-1}return 0}return lT=e,lT}var cT,_F;function YCe(){if(_F)return cT;_F=1;var t=GCe();function e(r,n,s){for(var i=-1,o=r.criteria,l=n.criteria,c=o.length,d=s.length;++i<c;){var h=t(o[i],l[i]);if(h){if(i>=d)return h;var m=s[i];return h*(m=="desc"?-1:1)}}return r.index-n.index}return cT=e,cT}var uT,MF;function KCe(){if(MF)return uT;MF=1;var t=hE(),e=mE(),r=Ao(),n=GK(),s=UCe(),i=RK(),o=YCe(),l=Hh(),c=Ss();function d(h,m,g){m.length?m=t(m,function(j){return c(j)?function(v){return e(v,j.length===1?j[0]:j)}:j}):m=[l];var y=-1;m=t(m,i(r));var w=n(h,function(j,v,N){var T=t(m,function(S){return S(j)});return{criteria:T,index:++y,value:j}});return s(w,function(j,v){return o(j,v,g)})}return uT=d,uT}var dT,AF;function XCe(){if(AF)return dT;AF=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return dT=t,dT}var fT,OF;function JCe(){if(OF)return fT;OF=1;var t=XCe(),e=Math.max;function r(n,s,i){return s=e(s===void 0?n.length-1:s,0),function(){for(var o=arguments,l=-1,c=e(o.length-s,0),d=Array(c);++l<c;)d[l]=o[s+l];l=-1;for(var h=Array(s+1);++l<s;)h[l]=o[l];return h[s]=i(d),t(n,this,h)}}return fT=r,fT}var hT,EF;function QCe(){if(EF)return hT;EF=1;function t(e){return function(){return e}}return hT=t,hT}var mT,DF;function YK(){if(DF)return mT;DF=1;var t=fd(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return mT=e,mT}var pT,PF;function ZCe(){if(PF)return pT;PF=1;var t=QCe(),e=YK(),r=Hh(),n=e?function(s,i){return e(s,"toString",{configurable:!0,enumerable:!1,value:t(i),writable:!0})}:r;return pT=n,pT}var gT,RF;function eTe(){if(RF)return gT;RF=1;var t=800,e=16,r=Date.now;function n(s){var i=0,o=0;return function(){var l=r(),c=e-(l-o);if(o=l,c>0){if(++i>=t)return arguments[0]}else i=0;return s.apply(void 0,arguments)}}return gT=n,gT}var xT,IF;function tTe(){if(IF)return xT;IF=1;var t=ZCe(),e=eTe(),r=e(t);return xT=r,xT}var yT,LF;function rTe(){if(LF)return yT;LF=1;var t=Hh(),e=JCe(),r=tTe();function n(s,i){return r(e(s,i,t),s+"")}return yT=n,yT}var bT,$F;function b1(){if($F)return bT;$F=1;var t=uE(),e=gg(),r=NE(),n=zc();function s(i,o,l){if(!n(l))return!1;var c=typeof o;return(c=="number"?e(l)&&r(o,l.length):c=="string"&&o in l)?t(l[o],i):!1}return bT=s,bT}var vT,FF;function nTe(){if(FF)return vT;FF=1;var t=WK(),e=KCe(),r=rTe(),n=b1(),s=r(function(i,o){if(i==null)return[];var l=o.length;return l>1&&n(i,o[0],o[1])?o=[]:l>2&&n(o[0],o[1],o[2])&&(o=[o[0]]),e(i,t(o,1),[])});return vT=s,vT}var aTe=nTe();const _E=Pr(aTe);function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function sM(){return sM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},sM.apply(this,arguments)}function sTe(t,e){return cTe(t)||lTe(t,e)||oTe(t,e)||iTe()}function iTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oTe(t,e){if(t){if(typeof t=="string")return HF(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return HF(t,e)}}function HF(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function lTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function cTe(t){if(Array.isArray(t))return t}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function wT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){uTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uTe(t,e,r){return e=dTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dTe(t){var e=fTe(t,"string");return p0(e)=="symbol"?e:e+""}function fTe(t,e){if(p0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(p0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function hTe(t){return Array.isArray(t)&&la(t[0])&&la(t[1])?t.join(" ~ "):t}var mTe=function(e){var r=e.separator,n=r===void 0?" : ":r,s=e.contentStyle,i=s===void 0?{}:s,o=e.itemStyle,l=o===void 0?{}:o,c=e.labelStyle,d=c===void 0?{}:c,h=e.payload,m=e.formatter,g=e.itemSorter,y=e.wrapperClassName,w=e.labelClassName,j=e.label,v=e.labelFormatter,N=e.accessibilityLayer,T=N===void 0?!1:N,S=function(){if(h&&h.length){var R={padding:0,margin:0},z=(g?_E(h,g):h).map(function(Y,q){if(Y.type==="none")return null;var H=wT({display:"block",paddingTop:4,paddingBottom:4,color:Y.color||"#000"},l),D=Y.formatter||m||hTe,F=Y.value,K=Y.name,te=F,W=K;if(D&&te!=null&&W!=null){var Z=D(F,K,Y,q,h);if(Array.isArray(Z)){var oe=sTe(Z,2);te=oe[0],W=oe[1]}else te=Z}return X.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(q),style:H},la(W)?X.createElement("span",{className:"recharts-tooltip-item-name"},W):null,la(W)?X.createElement("span",{className:"recharts-tooltip-item-separator"},n):null,X.createElement("span",{className:"recharts-tooltip-item-value"},te),X.createElement("span",{className:"recharts-tooltip-item-unit"},Y.unit||""))});return X.createElement("ul",{className:"recharts-tooltip-item-list",style:R},z)}return null},O=wT({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},i),_=wT({margin:0},d),A=!tr(j),E=A?j:"",P=Ft("recharts-default-tooltip",y),$=Ft("recharts-tooltip-label",w);A&&v&&h!==void 0&&h!==null&&(E=v(j,h));var I=T?{role:"status","aria-live":"assertive"}:{};return X.createElement("div",sM({className:P,style:O},I),X.createElement("p",{className:$,style:_},X.isValidElement(E)?E:"".concat(E)),S())};function g0(t){"@babel/helpers - typeof";return g0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g0(t)}function by(t,e,r){return e=pTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pTe(t){var e=gTe(t,"string");return g0(e)=="symbol"?e:e+""}function gTe(t,e){if(g0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(g0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ep="recharts-tooltip-wrapper",xTe={visibility:"hidden"};function yTe(t){var e=t.coordinate,r=t.translateX,n=t.translateY;return Ft(ep,by(by(by(by({},"".concat(ep,"-right"),yt(r)&&e&&yt(e.x)&&r>=e.x),"".concat(ep,"-left"),yt(r)&&e&&yt(e.x)&&r<e.x),"".concat(ep,"-bottom"),yt(n)&&e&&yt(e.y)&&n>=e.y),"".concat(ep,"-top"),yt(n)&&e&&yt(e.y)&&n<e.y))}function zF(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.key,s=t.offsetTopLeft,i=t.position,o=t.reverseDirection,l=t.tooltipDimension,c=t.viewBox,d=t.viewBoxDimension;if(i&&yt(i[n]))return i[n];var h=r[n]-l-s,m=r[n]+s;if(e[n])return o[n]?h:m;if(o[n]){var g=h,y=c[n];return g<y?Math.max(m,c[n]):Math.max(h,c[n])}var w=m+l,j=c[n]+d;return w>j?Math.max(h,c[n]):Math.max(m,c[n])}function bTe(t){var e=t.translateX,r=t.translateY,n=t.useTranslate3d;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function vTe(t){var e=t.allowEscapeViewBox,r=t.coordinate,n=t.offsetTopLeft,s=t.position,i=t.reverseDirection,o=t.tooltipBox,l=t.useTranslate3d,c=t.viewBox,d,h,m;return o.height>0&&o.width>0&&r?(h=zF({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.width,viewBox:c,viewBoxDimension:c.width}),m=zF({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:s,reverseDirection:i,tooltipDimension:o.height,viewBox:c,viewBoxDimension:c.height}),d=bTe({translateX:h,translateY:m,useTranslate3d:l})):d=xTe,{cssProperties:d,cssClasses:yTe({translateX:h,translateY:m,coordinate:r})}}function sh(t){"@babel/helpers - typeof";return sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sh(t)}function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function qF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){oM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jTe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,XK(n.key),n)}}function STe(t,e,r){return e&&jTe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function NTe(t,e,r){return e=Lv(e),kTe(t,KK()?Reflect.construct(e,r||[],Lv(t).constructor):e.apply(t,r))}function kTe(t,e){if(e&&(sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return CTe(t)}function CTe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function KK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(KK=function(){return!!t})()}function Lv(t){return Lv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Lv(t)}function TTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&iM(t,e)}function iM(t,e){return iM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},iM(t,e)}function oM(t,e,r){return e=XK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XK(t){var e=_Te(t,"string");return sh(e)=="symbol"?e:e+""}function _Te(t,e){if(sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var WF=1,MTe=(function(t){function e(){var r;wTe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=NTe(this,e,[].concat(s)),oM(r,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),oM(r,"handleKeyDown",function(o){if(o.key==="Escape"){var l,c,d,h;r.setState({dismissed:!0,dismissedAtCoordinate:{x:(l=(c=r.props.coordinate)===null||c===void 0?void 0:c.x)!==null&&l!==void 0?l:0,y:(d=(h=r.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),r}return TTe(e,t),STe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var n=this.wrapperNode.getBoundingClientRect();(Math.abs(n.width-this.state.lastBoundingBox.width)>WF||Math.abs(n.height-this.state.lastBoundingBox.height)>WF)&&this.setState({lastBoundingBox:{width:n.width,height:n.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var n,s;this.props.active&&this.updateBBox(),this.state.dismissed&&(((n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==this.state.dismissedAtCoordinate.x||((s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.children,h=s.coordinate,m=s.hasPayload,g=s.isAnimationActive,y=s.offset,w=s.position,j=s.reverseDirection,v=s.useTranslate3d,N=s.viewBox,T=s.wrapperStyle,S=vTe({allowEscapeViewBox:o,coordinate:h,offsetTopLeft:y,position:w,reverseDirection:j,tooltipBox:this.state.lastBoundingBox,useTranslate3d:v,viewBox:N}),O=S.cssClasses,_=S.cssProperties,A=qF(qF({transition:g&&i?"transform ".concat(l,"ms ").concat(c):void 0},_),{},{pointerEvents:"none",visibility:!this.state.dismissed&&i&&m?"visible":"hidden",position:"absolute",top:0,left:0},T);return X.createElement("div",{tabIndex:-1,className:O,style:A,ref:function(P){n.wrapperNode=P}},d)}}])})(x.PureComponent),ATe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},hd={isSsr:ATe()};function ih(t){"@babel/helpers - typeof";return ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ih(t)}function UF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function GF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UF(Object(r),!0).forEach(function(n){ME(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OTe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ETe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,QK(n.key),n)}}function DTe(t,e,r){return e&&ETe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function PTe(t,e,r){return e=$v(e),RTe(t,JK()?Reflect.construct(e,r||[],$v(t).constructor):e.apply(t,r))}function RTe(t,e){if(e&&(ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ITe(t)}function ITe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function JK(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(JK=function(){return!!t})()}function $v(t){return $v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},$v(t)}function LTe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lM(t,e)}function lM(t,e){return lM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},lM(t,e)}function ME(t,e,r){return e=QK(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QK(t){var e=$Te(t,"string");return ih(e)=="symbol"?e:e+""}function $Te(t,e){if(ih(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ih(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function FTe(t){return t.dataKey}function HTe(t,e){return X.isValidElement(t)?X.cloneElement(t,e):typeof t=="function"?X.createElement(t,e):X.createElement(mTe,e)}var ha=(function(t){function e(){return OTe(this,e),PTe(this,e,arguments)}return LTe(e,t),DTe(e,[{key:"render",value:function(){var n=this,s=this.props,i=s.active,o=s.allowEscapeViewBox,l=s.animationDuration,c=s.animationEasing,d=s.content,h=s.coordinate,m=s.filterNull,g=s.isAnimationActive,y=s.offset,w=s.payload,j=s.payloadUniqBy,v=s.position,N=s.reverseDirection,T=s.useTranslate3d,S=s.viewBox,O=s.wrapperStyle,_=w??[];m&&_.length&&(_=zK(w.filter(function(E){return E.value!=null&&(E.hide!==!0||n.props.includeHidden)}),j,FTe));var A=_.length>0;return X.createElement(MTe,{allowEscapeViewBox:o,animationDuration:l,animationEasing:c,isAnimationActive:g,active:i,coordinate:h,hasPayload:A,offset:y,position:v,reverseDirection:N,useTranslate3d:T,viewBox:S,wrapperStyle:O},HTe(d,GF(GF({},this.props),{},{payload:_})))}}])})(x.PureComponent);ME(ha,"displayName","Tooltip");ME(ha,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!hd.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var jT,YF;function BTe(){if(YF)return jT;YF=1;var t=Mo(),e=function(){return t.Date.now()};return jT=e,jT}var ST,KF;function zTe(){if(KF)return ST;KF=1;var t=/\s/;function e(r){for(var n=r.length;n--&&t.test(r.charAt(n)););return n}return ST=e,ST}var NT,XF;function VTe(){if(XF)return NT;XF=1;var t=zTe(),e=/^\s+/;function r(n){return n&&n.slice(0,t(n)+1).replace(e,"")}return NT=r,NT}var kT,JF;function ZK(){if(JF)return kT;JF=1;var t=VTe(),e=zc(),r=Lh(),n=NaN,s=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt;function c(d){if(typeof d=="number")return d;if(r(d))return n;if(e(d)){var h=typeof d.valueOf=="function"?d.valueOf():d;d=e(h)?h+"":h}if(typeof d!="string")return d===0?d:+d;d=t(d);var m=i.test(d);return m||o.test(d)?l(d.slice(2),m?2:8):s.test(d)?n:+d}return kT=c,kT}var CT,QF;function qTe(){if(QF)return CT;QF=1;var t=zc(),e=BTe(),r=ZK(),n="Expected a function",s=Math.max,i=Math.min;function o(l,c,d){var h,m,g,y,w,j,v=0,N=!1,T=!1,S=!0;if(typeof l!="function")throw new TypeError(n);c=r(c)||0,t(d)&&(N=!!d.leading,T="maxWait"in d,g=T?s(r(d.maxWait)||0,c):g,S="trailing"in d?!!d.trailing:S);function O(z){var Y=h,q=m;return h=m=void 0,v=z,y=l.apply(q,Y),y}function _(z){return v=z,w=setTimeout(P,c),N?O(z):y}function A(z){var Y=z-j,q=z-v,H=c-Y;return T?i(H,g-q):H}function E(z){var Y=z-j,q=z-v;return j===void 0||Y>=c||Y<0||T&&q>=g}function P(){var z=e();if(E(z))return $(z);w=setTimeout(P,A(z))}function $(z){return w=void 0,S&&h?O(z):(h=m=void 0,y)}function I(){w!==void 0&&clearTimeout(w),v=0,h=j=m=w=void 0}function L(){return w===void 0?y:$(e())}function R(){var z=e(),Y=E(z);if(h=arguments,m=this,j=z,Y){if(w===void 0)return _(j);if(T)return clearTimeout(w),w=setTimeout(P,c),O(j)}return w===void 0&&(w=setTimeout(P,c)),y}return R.cancel=I,R.flush=L,R}return CT=o,CT}var TT,ZF;function WTe(){if(ZF)return TT;ZF=1;var t=qTe(),e=zc(),r="Expected a function";function n(s,i,o){var l=!0,c=!0;if(typeof s!="function")throw new TypeError(r);return e(o)&&(l="leading"in o?!!o.leading:l,c="trailing"in o?!!o.trailing:c),t(s,i,{leading:l,maxWait:i,trailing:c})}return TT=n,TT}var UTe=WTe();const eX=Pr(UTe);function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function e9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function vy(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e9(Object(r),!0).forEach(function(n){GTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GTe(t,e,r){return e=YTe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YTe(t){var e=KTe(t,"string");return x0(e)=="symbol"?e:e+""}function KTe(t,e){if(x0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XTe(t,e){return e5e(t)||ZTe(t,e)||QTe(t,e)||JTe()}function JTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function QTe(t,e){if(t){if(typeof t=="string")return t9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return t9(t,e)}}function t9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZTe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function e5e(t){if(Array.isArray(t))return t}var al=x.forwardRef(function(t,e){var r=t.aspect,n=t.initialDimension,s=n===void 0?{width:-1,height:-1}:n,i=t.width,o=i===void 0?"100%":i,l=t.height,c=l===void 0?"100%":l,d=t.minWidth,h=d===void 0?0:d,m=t.minHeight,g=t.maxHeight,y=t.children,w=t.debounce,j=w===void 0?0:w,v=t.id,N=t.className,T=t.onResize,S=t.style,O=S===void 0?{}:S,_=x.useRef(null),A=x.useRef();A.current=T,x.useImperativeHandle(e,function(){return Object.defineProperty(_.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),_.current},configurable:!0})});var E=x.useState({containerWidth:s.width,containerHeight:s.height}),P=XTe(E,2),$=P[0],I=P[1],L=x.useCallback(function(z,Y){I(function(q){var H=Math.round(z),D=Math.round(Y);return q.containerWidth===H&&q.containerHeight===D?q:{containerWidth:H,containerHeight:D}})},[]);x.useEffect(function(){var z=function(K){var te,W=K[0].contentRect,Z=W.width,oe=W.height;L(Z,oe),(te=A.current)===null||te===void 0||te.call(A,Z,oe)};j>0&&(z=eX(z,j,{trailing:!0,leading:!1}));var Y=new ResizeObserver(z),q=_.current.getBoundingClientRect(),H=q.width,D=q.height;return L(H,D),Y.observe(_.current),function(){Y.disconnect()}},[L,j]);var R=x.useMemo(function(){var z=$.containerWidth,Y=$.containerHeight;if(z<0||Y<0)return null;Hi(Ou(o)||Ou(c),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,o,c),Hi(!r||r>0,"The aspect(%s) must be greater than zero.",r);var q=Ou(o)?z:o,H=Ou(c)?Y:c;r&&r>0&&(q?H=q/r:H&&(q=H*r),g&&H>g&&(H=g)),Hi(q>0||H>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,q,H,o,c,h,m,r);var D=!Array.isArray(y)&&xl(y.type).endsWith("Chart");return X.Children.map(y,function(F){return X.isValidElement(F)?x.cloneElement(F,vy({width:q,height:H},D?{style:vy({height:"100%",width:"100%",maxHeight:H,maxWidth:q},F.props.style)}:{})):F})},[r,y,c,g,m,h,$,o]);return X.createElement("div",{id:v?"".concat(v):void 0,className:Ft("recharts-responsive-container",N),style:vy(vy({},O),{},{width:o,height:c,minWidth:h,minHeight:m,maxHeight:g}),ref:_},R)}),Bh=function(e){return null};Bh.displayName="Cell";function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function r9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function cM(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r9(Object(r),!0).forEach(function(n){t5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t5e(t,e,r){return e=r5e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r5e(t){var e=n5e(t,"string");return y0(e)=="symbol"?e:e+""}function n5e(t,e){if(y0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(y0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tf={widthCache:{},cacheCount:0},a5e=2e3,s5e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},n9="recharts_measurement_span";function i5e(t){var e=cM({},t);return Object.keys(e).forEach(function(r){e[r]||delete e[r]}),e}var Ip=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hd.isSsr)return{width:0,height:0};var n=i5e(r),s=JSON.stringify({text:e,copyStyle:n});if(tf.widthCache[s])return tf.widthCache[s];try{var i=document.getElementById(n9);i||(i=document.createElement("span"),i.setAttribute("id",n9),i.setAttribute("aria-hidden","true"),document.body.appendChild(i));var o=cM(cM({},s5e),n);Object.assign(i.style,o),i.textContent="".concat(e);var l=i.getBoundingClientRect(),c={width:l.width,height:l.height};return tf.widthCache[s]=c,++tf.cacheCount>a5e&&(tf.cacheCount=0,tf.widthCache={}),c}catch{return{width:0,height:0}}},o5e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function Fv(t,e){return d5e(t)||u5e(t,e)||c5e(t,e)||l5e()}function l5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function c5e(t,e){if(t){if(typeof t=="string")return a9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return a9(t,e)}}function a9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function u5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function d5e(t){if(Array.isArray(t))return t}function f5e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s9(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,m5e(n.key),n)}}function h5e(t,e,r){return e&&s9(t.prototype,e),r&&s9(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function m5e(t){var e=p5e(t,"string");return b0(e)=="symbol"?e:e+""}function p5e(t,e){if(b0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(b0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var i9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,o9=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,g5e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,x5e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,tX={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},y5e=Object.keys(tX),yf="NaN";function b5e(t,e){return t*tX[e]}var wy=(function(){function t(e,r){f5e(this,t),this.num=e,this.unit=r,this.num=e,this.unit=r,Number.isNaN(e)&&(this.unit=""),r!==""&&!g5e.test(r)&&(this.num=NaN,this.unit=""),y5e.includes(r)&&(this.num=b5e(e,r),this.unit="px")}return h5e(t,[{key:"add",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num+r.num,this.unit)}},{key:"subtract",value:function(r){return this.unit!==r.unit?new t(NaN,""):new t(this.num-r.num,this.unit)}},{key:"multiply",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num*r.num,this.unit||r.unit)}},{key:"divide",value:function(r){return this.unit!==""&&r.unit!==""&&this.unit!==r.unit?new t(NaN,""):new t(this.num/r.num,this.unit||r.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(r){var n,s=(n=x5e.exec(r))!==null&&n!==void 0?n:[],i=Fv(s,3),o=i[1],l=i[2];return new t(parseFloat(o),l??"")}}])})();function rX(t){if(t.includes(yf))return yf;for(var e=t;e.includes("*")||e.includes("/");){var r,n=(r=i9.exec(e))!==null&&r!==void 0?r:[],s=Fv(n,4),i=s[1],o=s[2],l=s[3],c=wy.parse(i??""),d=wy.parse(l??""),h=o==="*"?c.multiply(d):c.divide(d);if(h.isNaN())return yf;e=e.replace(i9,h.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var m,g=(m=o9.exec(e))!==null&&m!==void 0?m:[],y=Fv(g,4),w=y[1],j=y[2],v=y[3],N=wy.parse(w??""),T=wy.parse(v??""),S=j==="+"?N.add(T):N.subtract(T);if(S.isNaN())return yf;e=e.replace(o9,S.toString())}return e}var l9=/\(([^()]*)\)/;function v5e(t){for(var e=t;e.includes("(");){var r=l9.exec(e),n=Fv(r,2),s=n[1];e=e.replace(l9,rX(s))}return e}function w5e(t){var e=t.replace(/\s+/g,"");return e=v5e(e),e=rX(e),e}function j5e(t){try{return w5e(t)}catch{return yf}}function _T(t){var e=j5e(t.slice(5,-1));return e===yf?"":e}var S5e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],N5e=["dx","dy","angle","className","breakAll"];function uM(){return uM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},uM.apply(this,arguments)}function c9(t,e){if(t==null)return{};var r=k5e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function k5e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function u9(t,e){return M5e(t)||_5e(t,e)||T5e(t,e)||C5e()}function C5e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function T5e(t,e){if(t){if(typeof t=="string")return d9(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return d9(t,e)}}function d9(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function _5e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e===0){if(Object(r)!==r)return;c=!1}else for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function M5e(t){if(Array.isArray(t))return t}var nX=/[ \f\n\r\t\v\u2028\u2029]+/,aX=function(e){var r=e.children,n=e.breakAll,s=e.style;try{var i=[];tr(r)||(n?i=r.toString().split(""):i=r.toString().split(nX));var o=i.map(function(c){return{word:c,width:Ip(c,s).width}}),l=n?0:Ip(" ",s).width;return{wordsWithComputedWidth:o,spaceWidth:l}}catch{return null}},A5e=function(e,r,n,s,i){var o=e.maxLines,l=e.children,c=e.style,d=e.breakAll,h=yt(o),m=l,g=function(){var q=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return q.reduce(function(H,D){var F=D.word,K=D.width,te=H[H.length-1];if(te&&(s==null||i||te.width+K+n<Number(s)))te.words.push(F),te.width+=K+n;else{var W={words:[F],width:K};H.push(W)}return H},[])},y=g(r),w=function(q){return q.reduce(function(H,D){return H.width>D.width?H:D})};if(!h)return y;for(var j="…",v=function(q){var H=m.slice(0,q),D=aX({breakAll:d,style:c,children:H+j}).wordsWithComputedWidth,F=g(D),K=F.length>o||w(F).width>Number(s);return[K,F]},N=0,T=m.length-1,S=0,O;N<=T&&S<=m.length-1;){var _=Math.floor((N+T)/2),A=_-1,E=v(A),P=u9(E,2),$=P[0],I=P[1],L=v(_),R=u9(L,1),z=R[0];if(!$&&!z&&(N=_+1),$&&z&&(T=_-1),!$&&z){O=I;break}S++}return O||y},f9=function(e){var r=tr(e)?[]:e.toString().split(nX);return[{words:r}]},O5e=function(e){var r=e.width,n=e.scaleToFit,s=e.children,i=e.style,o=e.breakAll,l=e.maxLines;if((r||n)&&!hd.isSsr){var c,d,h=aX({breakAll:o,children:s,style:i});if(h){var m=h.wordsWithComputedWidth,g=h.spaceWidth;c=m,d=g}else return f9(s);return A5e({breakAll:o,children:s,maxLines:l,style:i},c,d,r,n)}return f9(s)},h9="#808080",sd=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.lineHeight,l=o===void 0?"1em":o,c=e.capHeight,d=c===void 0?"0.71em":c,h=e.scaleToFit,m=h===void 0?!1:h,g=e.textAnchor,y=g===void 0?"start":g,w=e.verticalAnchor,j=w===void 0?"end":w,v=e.fill,N=v===void 0?h9:v,T=c9(e,S5e),S=x.useMemo(function(){return O5e({breakAll:T.breakAll,children:T.children,maxLines:T.maxLines,scaleToFit:m,style:T.style,width:T.width})},[T.breakAll,T.children,T.maxLines,m,T.style,T.width]),O=T.dx,_=T.dy,A=T.angle,E=T.className,P=T.breakAll,$=c9(T,N5e);if(!la(n)||!la(i))return null;var I=n+(yt(O)?O:0),L=i+(yt(_)?_:0),R;switch(j){case"start":R=_T("calc(".concat(d,")"));break;case"middle":R=_T("calc(".concat((S.length-1)/2," * -").concat(l," + (").concat(d," / 2))"));break;default:R=_T("calc(".concat(S.length-1," * -").concat(l,")"));break}var z=[];if(m){var Y=S[0].width,q=T.width;z.push("scale(".concat((yt(q)?q/Y:1)/Y,")"))}return A&&z.push("rotate(".concat(A,", ").concat(I,", ").concat(L,")")),z.length&&($.transform=z.join(" ")),X.createElement("text",uM({},Ut($,!0),{x:I,y:L,className:Ft("recharts-text",E),textAnchor:y,fill:N.includes("url")?h9:N}),S.map(function(H,D){var F=H.words.join(P?"":" ");return X.createElement("tspan",{x:I,dy:D===0?R:l,key:"".concat(F,"-").concat(D)},F)}))};function Ac(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function E5e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function AE(t){let e,r,n;t.length!==2?(e=Ac,r=(l,c)=>Ac(t(l),c),n=(l,c)=>t(l)-c):(e=t===Ac||t===E5e?t:D5e,r=t,n=t);function s(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<0?d=m+1:h=m}while(d<h)}return d}function i(l,c,d=0,h=l.length){if(d<h){if(e(c,c)!==0)return h;do{const m=d+h>>>1;r(l[m],c)<=0?d=m+1:h=m}while(d<h)}return d}function o(l,c,d=0,h=l.length){const m=s(l,c,d,h-1);return m>d&&n(l[m-1],c)>-n(l[m],c)?m-1:m}return{left:s,center:o,right:i}}function D5e(){return 0}function sX(t){return t===null?NaN:+t}function*P5e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const R5e=AE(Ac),xg=R5e.right;AE(sX).center;class m9 extends Map{constructor(e,r=$5e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,s]of e)this.set(n,s)}get(e){return super.get(p9(this,e))}has(e){return super.has(p9(this,e))}set(e,r){return super.set(I5e(this,e),r)}delete(e){return super.delete(L5e(this,e))}}function p9({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function I5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function L5e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function $5e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function F5e(t=Ac){if(t===Ac)return iX;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function iX(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const H5e=Math.sqrt(50),B5e=Math.sqrt(10),z5e=Math.sqrt(2);function Hv(t,e,r){const n=(e-t)/Math.max(0,r),s=Math.floor(Math.log10(n)),i=n/Math.pow(10,s),o=i>=H5e?10:i>=B5e?5:i>=z5e?2:1;let l,c,d;return s<0?(d=Math.pow(10,-s)/o,l=Math.round(t*d),c=Math.round(e*d),l/d<t&&++l,c/d>e&&--c,d=-d):(d=Math.pow(10,s)*o,l=Math.round(t/d),c=Math.round(e/d),l*d<t&&++l,c*d>e&&--c),c<l&&.5<=r&&r<2?Hv(t,e,r*2):[l,c,d]}function dM(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[s,i,o]=n?Hv(e,t,r):Hv(t,e,r);if(!(i>=s))return[];const l=i-s+1,c=new Array(l);if(n)if(o<0)for(let d=0;d<l;++d)c[d]=(i-d)/-o;else for(let d=0;d<l;++d)c[d]=(i-d)*o;else if(o<0)for(let d=0;d<l;++d)c[d]=(s+d)/-o;else for(let d=0;d<l;++d)c[d]=(s+d)*o;return c}function fM(t,e,r){return e=+e,t=+t,r=+r,Hv(t,e,r)[2]}function hM(t,e,r){e=+e,t=+t,r=+r;const n=e<t,s=n?fM(e,t,r):fM(t,e,r);return(n?-1:1)*(s<0?1/-s:s)}function g9(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function x9(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function oX(t,e,r=0,n=1/0,s){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(s=s===void 0?iX:F5e(s);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,h=Math.log(c),m=.5*Math.exp(2*h/3),g=.5*Math.sqrt(h*m*(c-m)/c)*(d-c/2<0?-1:1),y=Math.max(r,Math.floor(e-d*m/c+g)),w=Math.min(n,Math.floor(e+(c-d)*m/c+g));oX(t,e,y,w,s)}const i=t[e];let o=r,l=n;for(tp(t,r,e),s(t[n],i)>0&&tp(t,r,n);o<l;){for(tp(t,o,l),++o,--l;s(t[o],i)<0;)++o;for(;s(t[l],i)>0;)--l}s(t[r],i)===0?tp(t,r,l):(++l,tp(t,l,n)),l<=e&&(r=l+1),e<=l&&(n=l-1)}return t}function tp(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function V5e(t,e,r){if(t=Float64Array.from(P5e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return x9(t);if(e>=1)return g9(t);var n,s=(n-1)*e,i=Math.floor(s),o=g9(oX(t,i).subarray(0,i+1)),l=x9(t.subarray(i+1));return o+(l-o)*(s-i)}}function q5e(t,e,r=sX){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,s=(n-1)*e,i=Math.floor(s),o=+r(t[i],i,t),l=+r(t[i+1],i+1,t);return o+(l-o)*(s-i)}}function W5e(t,e,r){t=+t,e=+e,r=(s=arguments.length)<2?(e=t,t=0,1):s<3?1:+r;for(var n=-1,s=Math.max(0,Math.ceil((e-t)/r))|0,i=new Array(s);++n<s;)i[n]=t+n*r;return i}function ji(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Il(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const mM=Symbol("implicit");function OE(){var t=new m9,e=[],r=[],n=mM;function s(i){let o=t.get(i);if(o===void 0){if(n!==mM)return n;t.set(i,o=e.push(i)-1)}return r[o%r.length]}return s.domain=function(i){if(!arguments.length)return e.slice();e=[],t=new m9;for(const o of i)t.has(o)||t.set(o,e.push(o)-1);return s},s.range=function(i){return arguments.length?(r=Array.from(i),s):r.slice()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return OE(e,r).unknown(n)},ji.apply(s,arguments),s}function v0(){var t=OE().unknown(void 0),e=t.domain,r=t.range,n=0,s=1,i,o,l=!1,c=0,d=0,h=.5;delete t.unknown;function m(){var g=e().length,y=s<n,w=y?s:n,j=y?n:s;i=(j-w)/Math.max(1,g-c+d*2),l&&(i=Math.floor(i)),w+=(j-w-i*(g-c))*h,o=i*(1-c),l&&(w=Math.round(w),o=Math.round(o));var v=W5e(g).map(function(N){return w+i*N});return r(y?v.reverse():v)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,s]=g,n=+n,s=+s,m()):[n,s]},t.rangeRound=function(g){return[n,s]=g,n=+n,s=+s,l=!0,m()},t.bandwidth=function(){return o},t.step=function(){return i},t.round=function(g){return arguments.length?(l=!!g,m()):l},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),m()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),m()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,m()):d},t.align=function(g){return arguments.length?(h=Math.max(0,Math.min(1,g)),m()):h},t.copy=function(){return v0(e(),[n,s]).round(l).paddingInner(c).paddingOuter(d).align(h)},ji.apply(m(),arguments)}function lX(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return lX(e())},t}function Lp(){return lX(v0.apply(null,arguments).paddingInner(1))}function EE(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function cX(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function yg(){}var w0=.7,Bv=1/w0,Pf="\\s*([+-]?\\d+)\\s*",j0="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",U5e=/^#([0-9a-f]{3,8})$/,G5e=new RegExp(`^rgb\\(${Pf},${Pf},${Pf}\\)$`),Y5e=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),K5e=new RegExp(`^rgba\\(${Pf},${Pf},${Pf},${j0}\\)$`),X5e=new RegExp(`^rgba\\(${po},${po},${po},${j0}\\)$`),J5e=new RegExp(`^hsl\\(${j0},${po},${po}\\)$`),Q5e=new RegExp(`^hsla\\(${j0},${po},${po},${j0}\\)$`),y9={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};EE(yg,S0,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:b9,formatHex:b9,formatHex8:Z5e,formatHsl:e_e,formatRgb:v9,toString:v9});function b9(){return this.rgb().formatHex()}function Z5e(){return this.rgb().formatHex8()}function e_e(){return uX(this).formatHsl()}function v9(){return this.rgb().formatRgb()}function S0(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=U5e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?w9(e):r===3?new vs(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?jy(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?jy(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=G5e.exec(t))?new vs(e[1],e[2],e[3],1):(e=Y5e.exec(t))?new vs(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=K5e.exec(t))?jy(e[1],e[2],e[3],e[4]):(e=X5e.exec(t))?jy(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=J5e.exec(t))?N9(e[1],e[2]/100,e[3]/100,1):(e=Q5e.exec(t))?N9(e[1],e[2]/100,e[3]/100,e[4]):y9.hasOwnProperty(t)?w9(y9[t]):t==="transparent"?new vs(NaN,NaN,NaN,0):null}function w9(t){return new vs(t>>16&255,t>>8&255,t&255,1)}function jy(t,e,r,n){return n<=0&&(t=e=r=NaN),new vs(t,e,r,n)}function t_e(t){return t instanceof yg||(t=S0(t)),t?(t=t.rgb(),new vs(t.r,t.g,t.b,t.opacity)):new vs}function pM(t,e,r,n){return arguments.length===1?t_e(t):new vs(t,e,r,n??1)}function vs(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}EE(vs,pM,cX(yg,{brighter(t){return t=t==null?Bv:Math.pow(Bv,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?w0:Math.pow(w0,t),new vs(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new vs(Wu(this.r),Wu(this.g),Wu(this.b),zv(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:j9,formatHex:j9,formatHex8:r_e,formatRgb:S9,toString:S9}));function j9(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}`}function r_e(){return`#${Eu(this.r)}${Eu(this.g)}${Eu(this.b)}${Eu((isNaN(this.opacity)?1:this.opacity)*255)}`}function S9(){const t=zv(this.opacity);return`${t===1?"rgb(":"rgba("}${Wu(this.r)}, ${Wu(this.g)}, ${Wu(this.b)}${t===1?")":`, ${t})`}`}function zv(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Wu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Eu(t){return t=Wu(t),(t<16?"0":"")+t.toString(16)}function N9(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ii(t,e,r,n)}function uX(t){if(t instanceof Ii)return new Ii(t.h,t.s,t.l,t.opacity);if(t instanceof yg||(t=S0(t)),!t)return new Ii;if(t instanceof Ii)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,s=Math.min(e,r,n),i=Math.max(e,r,n),o=NaN,l=i-s,c=(i+s)/2;return l?(e===i?o=(r-n)/l+(r<n)*6:r===i?o=(n-e)/l+2:o=(e-r)/l+4,l/=c<.5?i+s:2-i-s,o*=60):l=c>0&&c<1?0:o,new Ii(o,l,c,t.opacity)}function n_e(t,e,r,n){return arguments.length===1?uX(t):new Ii(t,e,r,n??1)}function Ii(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}EE(Ii,n_e,cX(yg,{brighter(t){return t=t==null?Bv:Math.pow(Bv,t),new Ii(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?w0:Math.pow(w0,t),new Ii(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,s=2*r-n;return new vs(MT(t>=240?t-240:t+120,s,n),MT(t,s,n),MT(t<120?t+240:t-120,s,n),this.opacity)},clamp(){return new Ii(k9(this.h),Sy(this.s),Sy(this.l),zv(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=zv(this.opacity);return`${t===1?"hsl(":"hsla("}${k9(this.h)}, ${Sy(this.s)*100}%, ${Sy(this.l)*100}%${t===1?")":`, ${t})`}`}}));function k9(t){return t=(t||0)%360,t<0?t+360:t}function Sy(t){return Math.max(0,Math.min(1,t||0))}function MT(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const DE=t=>()=>t;function a_e(t,e){return function(r){return t+r*e}}function s_e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function i_e(t){return(t=+t)==1?dX:function(e,r){return r-e?s_e(e,r,t):DE(isNaN(e)?r:e)}}function dX(t,e){var r=e-t;return r?a_e(t,r):DE(isNaN(t)?e:t)}const C9=(function t(e){var r=i_e(e);function n(s,i){var o=r((s=pM(s)).r,(i=pM(i)).r),l=r(s.g,i.g),c=r(s.b,i.b),d=dX(s.opacity,i.opacity);return function(h){return s.r=o(h),s.g=l(h),s.b=c(h),s.opacity=d(h),s+""}}return n.gamma=t,n})(1);function o_e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),s;return function(i){for(s=0;s<r;++s)n[s]=t[s]*(1-i)+e[s]*i;return n}}function l_e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c_e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,s=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)s[o]=zh(t[o],e[o]);for(;o<r;++o)i[o]=e[o];return function(l){for(o=0;o<n;++o)i[o]=s[o](l);return i}}function u_e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Vv(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function d_e(t,e){var r={},n={},s;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(s in e)s in t?r[s]=zh(t[s],e[s]):n[s]=e[s];return function(i){for(s in r)n[s]=r[s](i);return n}}var gM=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,AT=new RegExp(gM.source,"g");function f_e(t){return function(){return t}}function h_e(t){return function(e){return t(e)+""}}function m_e(t,e){var r=gM.lastIndex=AT.lastIndex=0,n,s,i,o=-1,l=[],c=[];for(t=t+"",e=e+"";(n=gM.exec(t))&&(s=AT.exec(e));)(i=s.index)>r&&(i=e.slice(r,i),l[o]?l[o]+=i:l[++o]=i),(n=n[0])===(s=s[0])?l[o]?l[o]+=s:l[++o]=s:(l[++o]=null,c.push({i:o,x:Vv(n,s)})),r=AT.lastIndex;return r<e.length&&(i=e.slice(r),l[o]?l[o]+=i:l[++o]=i),l.length<2?c[0]?h_e(c[0].x):f_e(e):(e=c.length,function(d){for(var h=0,m;h<e;++h)l[(m=c[h]).i]=m.x(d);return l.join("")})}function zh(t,e){var r=typeof e,n;return e==null||r==="boolean"?DE(e):(r==="number"?Vv:r==="string"?(n=S0(e))?(e=n,C9):m_e:e instanceof S0?C9:e instanceof Date?u_e:l_e(e)?o_e:Array.isArray(e)?c_e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?d_e:Vv)(t,e)}function PE(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function p_e(t,e){e===void 0&&(e=t,t=zh);for(var r=0,n=e.length-1,s=e[0],i=new Array(n<0?0:n);r<n;)i[r]=t(s,s=e[++r]);return function(o){var l=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[l](o-l)}}function g_e(t){return function(){return t}}function qv(t){return+t}var T9=[0,1];function ts(t){return t}function xM(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:g_e(isNaN(e)?NaN:.5)}function x_e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function y_e(t,e,r){var n=t[0],s=t[1],i=e[0],o=e[1];return s<n?(n=xM(s,n),i=r(o,i)):(n=xM(n,s),i=r(i,o)),function(l){return i(n(l))}}function b_e(t,e,r){var n=Math.min(t.length,e.length)-1,s=new Array(n),i=new Array(n),o=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<n;)s[o]=xM(t[o],t[o+1]),i[o]=r(e[o],e[o+1]);return function(l){var c=xg(t,l,1,n)-1;return i[c](s[c](l))}}function bg(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function v1(){var t=T9,e=T9,r=zh,n,s,i,o=ts,l,c,d;function h(){var g=Math.min(t.length,e.length);return o!==ts&&(o=x_e(t[0],t[g-1])),l=g>2?b_e:y_e,c=d=null,m}function m(g){return g==null||isNaN(g=+g)?i:(c||(c=l(t.map(n),e,r)))(n(o(g)))}return m.invert=function(g){return o(s((d||(d=l(e,t.map(n),Vv)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,qv),h()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),h()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=PE,h()},m.clamp=function(g){return arguments.length?(o=g?!0:ts,h()):o!==ts},m.interpolate=function(g){return arguments.length?(r=g,h()):r},m.unknown=function(g){return arguments.length?(i=g,m):i},function(g,y){return n=g,s=y,h()}}function RE(){return v1()(ts,ts)}function v_e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Wv(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function oh(t){return t=Wv(Math.abs(t)),t?t[1]:NaN}function w_e(t,e){return function(r,n){for(var s=r.length,i=[],o=0,l=t[0],c=0;s>0&&l>0&&(c+l+1>n&&(l=Math.max(1,n-c)),i.push(r.substring(s-=l,s+l)),!((c+=l+1)>n));)l=t[o=(o+1)%t.length];return i.reverse().join(e)}}function j_e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var S_e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function N0(t){if(!(e=S_e.exec(t)))throw new Error("invalid format: "+t);var e;return new IE({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}N0.prototype=IE.prototype;function IE(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}IE.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function N_e(t){e:for(var e=t.length,r=1,n=-1,s;r<e;++r)switch(t[r]){case".":n=s=r;break;case"0":n===0&&(n=r),s=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(s+1):t}var fX;function k_e(t,e){var r=Wv(t,e);if(!r)return t+"";var n=r[0],s=r[1],i=s-(fX=Math.max(-8,Math.min(8,Math.floor(s/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+Wv(t,Math.max(0,e+i-1))[0]}function _9(t,e){var r=Wv(t,e);if(!r)return t+"";var n=r[0],s=r[1];return s<0?"0."+new Array(-s).join("0")+n:n.length>s+1?n.slice(0,s+1)+"."+n.slice(s+1):n+new Array(s-n.length+2).join("0")}const M9={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:v_e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>_9(t*100,e),r:_9,s:k_e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function A9(t){return t}var O9=Array.prototype.map,E9=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function C_e(t){var e=t.grouping===void 0||t.thousands===void 0?A9:w_e(O9.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",s=t.decimal===void 0?".":t.decimal+"",i=t.numerals===void 0?A9:j_e(O9.call(t.numerals,String)),o=t.percent===void 0?"%":t.percent+"",l=t.minus===void 0?"−":t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(m){m=N0(m);var g=m.fill,y=m.align,w=m.sign,j=m.symbol,v=m.zero,N=m.width,T=m.comma,S=m.precision,O=m.trim,_=m.type;_==="n"?(T=!0,_="g"):M9[_]||(S===void 0&&(S=12),O=!0,_="g"),(v||g==="0"&&y==="=")&&(v=!0,g="0",y="=");var A=j==="$"?r:j==="#"&&/[boxX]/.test(_)?"0"+_.toLowerCase():"",E=j==="$"?n:/[%p]/.test(_)?o:"",P=M9[_],$=/[defgprs%]/.test(_);S=S===void 0?6:/[gprs]/.test(_)?Math.max(1,Math.min(21,S)):Math.max(0,Math.min(20,S));function I(L){var R=A,z=E,Y,q,H;if(_==="c")z=P(L)+z,L="";else{L=+L;var D=L<0||1/L<0;if(L=isNaN(L)?c:P(Math.abs(L),S),O&&(L=N_e(L)),D&&+L==0&&w!=="+"&&(D=!1),R=(D?w==="("?w:l:w==="-"||w==="("?"":w)+R,z=(_==="s"?E9[8+fX/3]:"")+z+(D&&w==="("?")":""),$){for(Y=-1,q=L.length;++Y<q;)if(H=L.charCodeAt(Y),48>H||H>57){z=(H===46?s+L.slice(Y+1):L.slice(Y))+z,L=L.slice(0,Y);break}}}T&&!v&&(L=e(L,1/0));var F=R.length+L.length+z.length,K=F<N?new Array(N-F+1).join(g):"";switch(T&&v&&(L=e(K+L,K.length?N-z.length:1/0),K=""),y){case"<":L=R+L+z+K;break;case"=":L=R+K+L+z;break;case"^":L=K.slice(0,F=K.length>>1)+R+L+z+K.slice(F);break;default:L=K+R+L+z;break}return i(L)}return I.toString=function(){return m+""},I}function h(m,g){var y=d((m=N0(m),m.type="f",m)),w=Math.max(-8,Math.min(8,Math.floor(oh(g)/3)))*3,j=Math.pow(10,-w),v=E9[8+w/3];return function(N){return y(j*N)+v}}return{format:d,formatPrefix:h}}var Ny,LE,hX;T_e({thousands:",",grouping:[3],currency:["$",""]});function T_e(t){return Ny=C_e(t),LE=Ny.format,hX=Ny.formatPrefix,Ny}function __e(t){return Math.max(0,-oh(Math.abs(t)))}function M_e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(oh(e)/3)))*3-oh(Math.abs(t)))}function A_e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,oh(e)-oh(t))+1}function mX(t,e,r,n){var s=hM(t,e,r),i;switch(n=N0(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(i=M_e(s,o))&&(n.precision=i),hX(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=A_e(s,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=__e(s))&&(n.precision=i-(n.type==="%")*2);break}}return LE(n)}function Vc(t){var e=t.domain;return t.ticks=function(r){var n=e();return dM(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var s=e();return mX(s[0],s[s.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),s=0,i=n.length-1,o=n[s],l=n[i],c,d,h=10;for(l<o&&(d=o,o=l,l=d,d=s,s=i,i=d);h-- >0;){if(d=fM(o,l,r),d===c)return n[s]=o,n[i]=l,e(n);if(d>0)o=Math.floor(o/d)*d,l=Math.ceil(l/d)*d;else if(d<0)o=Math.ceil(o*d)/d,l=Math.floor(l*d)/d;else break;c=d}return t},t}function Uv(){var t=RE();return t.copy=function(){return bg(t,Uv())},ji.apply(t,arguments),Vc(t)}function pX(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,qv),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return pX(t).unknown(e)},t=arguments.length?Array.from(t,qv):[0,1],Vc(r)}function gX(t,e){t=t.slice();var r=0,n=t.length-1,s=t[r],i=t[n],o;return i<s&&(o=r,r=n,n=o,o=s,s=i,i=o),t[r]=e.floor(s),t[n]=e.ceil(i),t}function D9(t){return Math.log(t)}function P9(t){return Math.exp(t)}function O_e(t){return-Math.log(-t)}function E_e(t){return-Math.exp(-t)}function D_e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function P_e(t){return t===10?D_e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function R_e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function R9(t){return(e,r)=>-t(-e,r)}function $E(t){const e=t(D9,P9),r=e.domain;let n=10,s,i;function o(){return s=R_e(n),i=P_e(n),r()[0]<0?(s=R9(s),i=R9(i),t(O_e,E_e)):t(D9,P9),e}return e.base=function(l){return arguments.length?(n=+l,o()):n},e.domain=function(l){return arguments.length?(r(l),o()):r()},e.ticks=l=>{const c=r();let d=c[0],h=c[c.length-1];const m=h<d;m&&([d,h]=[h,d]);let g=s(d),y=s(h),w,j;const v=l==null?10:+l;let N=[];if(!(n%1)&&y-g<v){if(g=Math.floor(g),y=Math.ceil(y),d>0){for(;g<=y;++g)for(w=1;w<n;++w)if(j=g<0?w/i(-g):w*i(g),!(j<d)){if(j>h)break;N.push(j)}}else for(;g<=y;++g)for(w=n-1;w>=1;--w)if(j=g>0?w/i(-g):w*i(g),!(j<d)){if(j>h)break;N.push(j)}N.length*2<v&&(N=dM(d,h,v))}else N=dM(g,y,Math.min(y-g,v)).map(i);return m?N.reverse():N},e.tickFormat=(l,c)=>{if(l==null&&(l=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=N0(c)).precision==null&&(c.trim=!0),c=LE(c)),l===1/0)return c;const d=Math.max(1,n*l/e.ticks().length);return h=>{let m=h/i(Math.round(s(h)));return m*n<n-.5&&(m*=n),m<=d?c(h):""}},e.nice=()=>r(gX(r(),{floor:l=>i(Math.floor(s(l))),ceil:l=>i(Math.ceil(s(l)))})),e}function xX(){const t=$E(v1()).domain([1,10]);return t.copy=()=>bg(t,xX()).base(t.base()),ji.apply(t,arguments),t}function I9(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function L9(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function FE(t){var e=1,r=t(I9(e),L9(e));return r.constant=function(n){return arguments.length?t(I9(e=+n),L9(e)):e},Vc(r)}function yX(){var t=FE(v1());return t.copy=function(){return bg(t,yX()).constant(t.constant())},ji.apply(t,arguments)}function $9(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function I_e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function L_e(t){return t<0?-t*t:t*t}function HE(t){var e=t(ts,ts),r=1;function n(){return r===1?t(ts,ts):r===.5?t(I_e,L_e):t($9(r),$9(1/r))}return e.exponent=function(s){return arguments.length?(r=+s,n()):r},Vc(e)}function BE(){var t=HE(v1());return t.copy=function(){return bg(t,BE()).exponent(t.exponent())},ji.apply(t,arguments),t}function $_e(){return BE.apply(null,arguments).exponent(.5)}function F9(t){return Math.sign(t)*t*t}function F_e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function bX(){var t=RE(),e=[0,1],r=!1,n;function s(i){var o=F_e(t(i));return isNaN(o)?n:r?Math.round(o):o}return s.invert=function(i){return t.invert(F9(i))},s.domain=function(i){return arguments.length?(t.domain(i),s):t.domain()},s.range=function(i){return arguments.length?(t.range((e=Array.from(i,qv)).map(F9)),s):e.slice()},s.rangeRound=function(i){return s.range(i).round(!0)},s.round=function(i){return arguments.length?(r=!!i,s):r},s.clamp=function(i){return arguments.length?(t.clamp(i),s):t.clamp()},s.unknown=function(i){return arguments.length?(n=i,s):n},s.copy=function(){return bX(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},ji.apply(s,arguments),Vc(s)}function vX(){var t=[],e=[],r=[],n;function s(){var o=0,l=Math.max(1,e.length);for(r=new Array(l-1);++o<l;)r[o-1]=q5e(t,o/l);return i}function i(o){return o==null||isNaN(o=+o)?n:e[xg(r,o)]}return i.invertExtent=function(o){var l=e.indexOf(o);return l<0?[NaN,NaN]:[l>0?r[l-1]:t[0],l<r.length?r[l]:t[t.length-1]]},i.domain=function(o){if(!arguments.length)return t.slice();t=[];for(let l of o)l!=null&&!isNaN(l=+l)&&t.push(l);return t.sort(Ac),s()},i.range=function(o){return arguments.length?(e=Array.from(o),s()):e.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return vX().domain(t).range(e).unknown(n)},ji.apply(i,arguments)}function wX(){var t=0,e=1,r=1,n=[.5],s=[0,1],i;function o(c){return c!=null&&c<=c?s[xg(n,c,0,r)]:i}function l(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return o}return o.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,l()):[t,e]},o.range=function(c){return arguments.length?(r=(s=Array.from(c)).length-1,l()):s.slice()},o.invertExtent=function(c){var d=s.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},o.unknown=function(c){return arguments.length&&(i=c),o},o.thresholds=function(){return n.slice()},o.copy=function(){return wX().domain([t,e]).range(s).unknown(i)},ji.apply(Vc(o),arguments)}function jX(){var t=[.5],e=[0,1],r,n=1;function s(i){return i!=null&&i<=i?e[xg(t,i,0,n)]:r}return s.domain=function(i){return arguments.length?(t=Array.from(i),n=Math.min(t.length,e.length-1),s):t.slice()},s.range=function(i){return arguments.length?(e=Array.from(i),n=Math.min(t.length,e.length-1),s):e.slice()},s.invertExtent=function(i){var o=e.indexOf(i);return[t[o-1],t[o]]},s.unknown=function(i){return arguments.length?(r=i,s):r},s.copy=function(){return jX().domain(t).range(e).unknown(r)},ji.apply(s,arguments)}const OT=new Date,ET=new Date;function ua(t,e,r,n){function s(i){return t(i=arguments.length===0?new Date:new Date(+i)),i}return s.floor=i=>(t(i=new Date(+i)),i),s.ceil=i=>(t(i=new Date(i-1)),e(i,1),t(i),i),s.round=i=>{const o=s(i),l=s.ceil(i);return i-o<l-i?o:l},s.offset=(i,o)=>(e(i=new Date(+i),o==null?1:Math.floor(o)),i),s.range=(i,o,l)=>{const c=[];if(i=s.ceil(i),l=l==null?1:Math.floor(l),!(i<o)||!(l>0))return c;let d;do c.push(d=new Date(+i)),e(i,l),t(i);while(d<i&&i<o);return c},s.filter=i=>ua(o=>{if(o>=o)for(;t(o),!i(o);)o.setTime(o-1)},(o,l)=>{if(o>=o)if(l<0)for(;++l<=0;)for(;e(o,-1),!i(o););else for(;--l>=0;)for(;e(o,1),!i(o););}),r&&(s.count=(i,o)=>(OT.setTime(+i),ET.setTime(+o),t(OT),t(ET),Math.floor(r(OT,ET))),s.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?s.filter(n?o=>n(o)%i===0:o=>s.count(0,o)%i===0):s)),s}const Gv=ua(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Gv.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ua(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Gv);Gv.range;const sl=1e3,hi=sl*60,il=hi*60,kl=il*24,zE=kl*7,H9=kl*30,DT=kl*365,Du=ua(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*sl)},(t,e)=>(e-t)/sl,t=>t.getUTCSeconds());Du.range;const VE=ua(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getMinutes());VE.range;const qE=ua(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*hi)},(t,e)=>(e-t)/hi,t=>t.getUTCMinutes());qE.range;const WE=ua(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*sl-t.getMinutes()*hi)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getHours());WE.range;const UE=ua(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*il)},(t,e)=>(e-t)/il,t=>t.getUTCHours());UE.range;const vg=ua(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*hi)/kl,t=>t.getDate()-1);vg.range;const w1=ua(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>t.getUTCDate()-1);w1.range;const SX=ua(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/kl,t=>Math.floor(t/kl));SX.range;function md(t){return ua(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*hi)/zE)}const j1=md(0),Yv=md(1),H_e=md(2),B_e=md(3),lh=md(4),z_e=md(5),V_e=md(6);j1.range;Yv.range;H_e.range;B_e.range;lh.range;z_e.range;V_e.range;function pd(t){return ua(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/zE)}const S1=pd(0),Kv=pd(1),q_e=pd(2),W_e=pd(3),ch=pd(4),U_e=pd(5),G_e=pd(6);S1.range;Kv.range;q_e.range;W_e.range;ch.range;U_e.range;G_e.range;const GE=ua(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());GE.range;const YE=ua(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());YE.range;const Cl=ua(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Cl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ua(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Cl.range;const Tl=ua(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Tl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ua(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Tl.range;function NX(t,e,r,n,s,i){const o=[[Du,1,sl],[Du,5,5*sl],[Du,15,15*sl],[Du,30,30*sl],[i,1,hi],[i,5,5*hi],[i,15,15*hi],[i,30,30*hi],[s,1,il],[s,3,3*il],[s,6,6*il],[s,12,12*il],[n,1,kl],[n,2,2*kl],[r,1,zE],[e,1,H9],[e,3,3*H9],[t,1,DT]];function l(d,h,m){const g=h<d;g&&([d,h]=[h,d]);const y=m&&typeof m.range=="function"?m:c(d,h,m),w=y?y.range(d,+h+1):[];return g?w.reverse():w}function c(d,h,m){const g=Math.abs(h-d)/m,y=AE(([,,v])=>v).right(o,g);if(y===o.length)return t.every(hM(d/DT,h/DT,m));if(y===0)return Gv.every(Math.max(hM(d,h,m),1));const[w,j]=o[g/o[y-1][2]<o[y][2]/g?y-1:y];return w.every(j)}return[l,c]}const[Y_e,K_e]=NX(Tl,YE,S1,SX,UE,qE),[X_e,J_e]=NX(Cl,GE,j1,vg,WE,VE);function PT(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function RT(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function rp(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function Q_e(t){var e=t.dateTime,r=t.date,n=t.time,s=t.periods,i=t.days,o=t.shortDays,l=t.months,c=t.shortMonths,d=np(s),h=ap(s),m=np(i),g=ap(i),y=np(o),w=ap(o),j=np(l),v=ap(l),N=np(c),T=ap(c),S={a:D,A:F,b:K,B:te,c:null,d:U9,e:U9,f:wMe,g:OMe,G:DMe,H:yMe,I:bMe,j:vMe,L:kX,m:jMe,M:SMe,p:W,q:Z,Q:K9,s:X9,S:NMe,u:kMe,U:CMe,V:TMe,w:_Me,W:MMe,x:null,X:null,y:AMe,Y:EMe,Z:PMe,"%":Y9},O={a:oe,A:le,b:ce,B:pe,c:null,d:G9,e:G9,f:$Me,g:YMe,G:XMe,H:RMe,I:IMe,j:LMe,L:TX,m:FMe,M:HMe,p:Ie,q:Ee,Q:K9,s:X9,S:BMe,u:zMe,U:VMe,V:qMe,w:WMe,W:UMe,x:null,X:null,y:GMe,Y:KMe,Z:JMe,"%":Y9},_={a:I,A:L,b:R,B:z,c:Y,d:q9,e:q9,f:mMe,g:V9,G:z9,H:W9,I:W9,j:uMe,L:hMe,m:cMe,M:dMe,p:$,q:lMe,Q:gMe,s:xMe,S:fMe,u:nMe,U:aMe,V:sMe,w:rMe,W:iMe,x:q,X:H,y:V9,Y:z9,Z:oMe,"%":pMe};S.x=A(r,S),S.X=A(n,S),S.c=A(e,S),O.x=A(r,O),O.X=A(n,O),O.c=A(e,O);function A(ge,Oe){return function(ze){var re=[],se=-1,ee=0,we=ge.length,Ge,Ye,xe;for(ze instanceof Date||(ze=new Date(+ze));++se<we;)ge.charCodeAt(se)===37&&(re.push(ge.slice(ee,se)),(Ye=B9[Ge=ge.charAt(++se)])!=null?Ge=ge.charAt(++se):Ye=Ge==="e"?" ":"0",(xe=Oe[Ge])&&(Ge=xe(ze,Ye)),re.push(Ge),ee=se+1);return re.push(ge.slice(ee,se)),re.join("")}}function E(ge,Oe){return function(ze){var re=rp(1900,void 0,1),se=P(re,ge,ze+="",0),ee,we;if(se!=ze.length)return null;if("Q"in re)return new Date(re.Q);if("s"in re)return new Date(re.s*1e3+("L"in re?re.L:0));if(Oe&&!("Z"in re)&&(re.Z=0),"p"in re&&(re.H=re.H%12+re.p*12),re.m===void 0&&(re.m="q"in re?re.q:0),"V"in re){if(re.V<1||re.V>53)return null;"w"in re||(re.w=1),"Z"in re?(ee=RT(rp(re.y,0,1)),we=ee.getUTCDay(),ee=we>4||we===0?Kv.ceil(ee):Kv(ee),ee=w1.offset(ee,(re.V-1)*7),re.y=ee.getUTCFullYear(),re.m=ee.getUTCMonth(),re.d=ee.getUTCDate()+(re.w+6)%7):(ee=PT(rp(re.y,0,1)),we=ee.getDay(),ee=we>4||we===0?Yv.ceil(ee):Yv(ee),ee=vg.offset(ee,(re.V-1)*7),re.y=ee.getFullYear(),re.m=ee.getMonth(),re.d=ee.getDate()+(re.w+6)%7)}else("W"in re||"U"in re)&&("w"in re||(re.w="u"in re?re.u%7:"W"in re?1:0),we="Z"in re?RT(rp(re.y,0,1)).getUTCDay():PT(rp(re.y,0,1)).getDay(),re.m=0,re.d="W"in re?(re.w+6)%7+re.W*7-(we+5)%7:re.w+re.U*7-(we+6)%7);return"Z"in re?(re.H+=re.Z/100|0,re.M+=re.Z%100,RT(re)):PT(re)}}function P(ge,Oe,ze,re){for(var se=0,ee=Oe.length,we=ze.length,Ge,Ye;se<ee;){if(re>=we)return-1;if(Ge=Oe.charCodeAt(se++),Ge===37){if(Ge=Oe.charAt(se++),Ye=_[Ge in B9?Oe.charAt(se++):Ge],!Ye||(re=Ye(ge,ze,re))<0)return-1}else if(Ge!=ze.charCodeAt(re++))return-1}return re}function $(ge,Oe,ze){var re=d.exec(Oe.slice(ze));return re?(ge.p=h.get(re[0].toLowerCase()),ze+re[0].length):-1}function I(ge,Oe,ze){var re=y.exec(Oe.slice(ze));return re?(ge.w=w.get(re[0].toLowerCase()),ze+re[0].length):-1}function L(ge,Oe,ze){var re=m.exec(Oe.slice(ze));return re?(ge.w=g.get(re[0].toLowerCase()),ze+re[0].length):-1}function R(ge,Oe,ze){var re=N.exec(Oe.slice(ze));return re?(ge.m=T.get(re[0].toLowerCase()),ze+re[0].length):-1}function z(ge,Oe,ze){var re=j.exec(Oe.slice(ze));return re?(ge.m=v.get(re[0].toLowerCase()),ze+re[0].length):-1}function Y(ge,Oe,ze){return P(ge,e,Oe,ze)}function q(ge,Oe,ze){return P(ge,r,Oe,ze)}function H(ge,Oe,ze){return P(ge,n,Oe,ze)}function D(ge){return o[ge.getDay()]}function F(ge){return i[ge.getDay()]}function K(ge){return c[ge.getMonth()]}function te(ge){return l[ge.getMonth()]}function W(ge){return s[+(ge.getHours()>=12)]}function Z(ge){return 1+~~(ge.getMonth()/3)}function oe(ge){return o[ge.getUTCDay()]}function le(ge){return i[ge.getUTCDay()]}function ce(ge){return c[ge.getUTCMonth()]}function pe(ge){return l[ge.getUTCMonth()]}function Ie(ge){return s[+(ge.getUTCHours()>=12)]}function Ee(ge){return 1+~~(ge.getUTCMonth()/3)}return{format:function(ge){var Oe=A(ge+="",S);return Oe.toString=function(){return ge},Oe},parse:function(ge){var Oe=E(ge+="",!1);return Oe.toString=function(){return ge},Oe},utcFormat:function(ge){var Oe=A(ge+="",O);return Oe.toString=function(){return ge},Oe},utcParse:function(ge){var Oe=E(ge+="",!0);return Oe.toString=function(){return ge},Oe}}}var B9={"-":"",_:" ",0:"0"},va=/^\s*\d+/,Z_e=/^%/,eMe=/[\\^$*+?|[\]().{}]/g;function Dr(t,e,r){var n=t<0?"-":"",s=(n?-t:t)+"",i=s.length;return n+(i<r?new Array(r-i+1).join(e)+s:s)}function tMe(t){return t.replace(eMe,"\\$&")}function np(t){return new RegExp("^(?:"+t.map(tMe).join("|")+")","i")}function ap(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function rMe(t,e,r){var n=va.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function nMe(t,e,r){var n=va.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function aMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function sMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function iMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function z9(t,e,r){var n=va.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function V9(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function oMe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function lMe(t,e,r){var n=va.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function cMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function q9(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function uMe(t,e,r){var n=va.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function W9(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function dMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function fMe(t,e,r){var n=va.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function hMe(t,e,r){var n=va.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function mMe(t,e,r){var n=va.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function pMe(t,e,r){var n=Z_e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function gMe(t,e,r){var n=va.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function xMe(t,e,r){var n=va.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function U9(t,e){return Dr(t.getDate(),e,2)}function yMe(t,e){return Dr(t.getHours(),e,2)}function bMe(t,e){return Dr(t.getHours()%12||12,e,2)}function vMe(t,e){return Dr(1+vg.count(Cl(t),t),e,3)}function kX(t,e){return Dr(t.getMilliseconds(),e,3)}function wMe(t,e){return kX(t,e)+"000"}function jMe(t,e){return Dr(t.getMonth()+1,e,2)}function SMe(t,e){return Dr(t.getMinutes(),e,2)}function NMe(t,e){return Dr(t.getSeconds(),e,2)}function kMe(t){var e=t.getDay();return e===0?7:e}function CMe(t,e){return Dr(j1.count(Cl(t)-1,t),e,2)}function CX(t){var e=t.getDay();return e>=4||e===0?lh(t):lh.ceil(t)}function TMe(t,e){return t=CX(t),Dr(lh.count(Cl(t),t)+(Cl(t).getDay()===4),e,2)}function _Me(t){return t.getDay()}function MMe(t,e){return Dr(Yv.count(Cl(t)-1,t),e,2)}function AMe(t,e){return Dr(t.getFullYear()%100,e,2)}function OMe(t,e){return t=CX(t),Dr(t.getFullYear()%100,e,2)}function EMe(t,e){return Dr(t.getFullYear()%1e4,e,4)}function DMe(t,e){var r=t.getDay();return t=r>=4||r===0?lh(t):lh.ceil(t),Dr(t.getFullYear()%1e4,e,4)}function PMe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dr(e/60|0,"0",2)+Dr(e%60,"0",2)}function G9(t,e){return Dr(t.getUTCDate(),e,2)}function RMe(t,e){return Dr(t.getUTCHours(),e,2)}function IMe(t,e){return Dr(t.getUTCHours()%12||12,e,2)}function LMe(t,e){return Dr(1+w1.count(Tl(t),t),e,3)}function TX(t,e){return Dr(t.getUTCMilliseconds(),e,3)}function $Me(t,e){return TX(t,e)+"000"}function FMe(t,e){return Dr(t.getUTCMonth()+1,e,2)}function HMe(t,e){return Dr(t.getUTCMinutes(),e,2)}function BMe(t,e){return Dr(t.getUTCSeconds(),e,2)}function zMe(t){var e=t.getUTCDay();return e===0?7:e}function VMe(t,e){return Dr(S1.count(Tl(t)-1,t),e,2)}function _X(t){var e=t.getUTCDay();return e>=4||e===0?ch(t):ch.ceil(t)}function qMe(t,e){return t=_X(t),Dr(ch.count(Tl(t),t)+(Tl(t).getUTCDay()===4),e,2)}function WMe(t){return t.getUTCDay()}function UMe(t,e){return Dr(Kv.count(Tl(t)-1,t),e,2)}function GMe(t,e){return Dr(t.getUTCFullYear()%100,e,2)}function YMe(t,e){return t=_X(t),Dr(t.getUTCFullYear()%100,e,2)}function KMe(t,e){return Dr(t.getUTCFullYear()%1e4,e,4)}function XMe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?ch(t):ch.ceil(t),Dr(t.getUTCFullYear()%1e4,e,4)}function JMe(){return"+0000"}function Y9(){return"%"}function K9(t){return+t}function X9(t){return Math.floor(+t/1e3)}var rf,MX,AX;QMe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function QMe(t){return rf=Q_e(t),MX=rf.format,rf.parse,AX=rf.utcFormat,rf.utcParse,rf}function ZMe(t){return new Date(t)}function eAe(t){return t instanceof Date?+t:+new Date(+t)}function KE(t,e,r,n,s,i,o,l,c,d){var h=RE(),m=h.invert,g=h.domain,y=d(".%L"),w=d(":%S"),j=d("%I:%M"),v=d("%I %p"),N=d("%a %d"),T=d("%b %d"),S=d("%B"),O=d("%Y");function _(A){return(c(A)<A?y:l(A)<A?w:o(A)<A?j:i(A)<A?v:n(A)<A?s(A)<A?N:T:r(A)<A?S:O)(A)}return h.invert=function(A){return new Date(m(A))},h.domain=function(A){return arguments.length?g(Array.from(A,eAe)):g().map(ZMe)},h.ticks=function(A){var E=g();return t(E[0],E[E.length-1],A??10)},h.tickFormat=function(A,E){return E==null?_:d(E)},h.nice=function(A){var E=g();return(!A||typeof A.range!="function")&&(A=e(E[0],E[E.length-1],A??10)),A?g(gX(E,A)):h},h.copy=function(){return bg(h,KE(t,e,r,n,s,i,o,l,c,d))},h}function tAe(){return ji.apply(KE(X_e,J_e,Cl,GE,j1,vg,WE,VE,Du,MX).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function rAe(){return ji.apply(KE(Y_e,K_e,Tl,YE,S1,w1,UE,qE,Du,AX).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function N1(){var t=0,e=1,r,n,s,i,o=ts,l=!1,c;function d(m){return m==null||isNaN(m=+m)?c:o(s===0?.5:(m=(i(m)-r)*s,l?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([t,e]=m,r=i(t=+t),n=i(e=+e),s=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(m){return arguments.length?(l=!!m,d):l},d.interpolator=function(m){return arguments.length?(o=m,d):o};function h(m){return function(g){var y,w;return arguments.length?([y,w]=g,o=m(y,w),d):[o(0),o(1)]}}return d.range=h(zh),d.rangeRound=h(PE),d.unknown=function(m){return arguments.length?(c=m,d):c},function(m){return i=m,r=m(t),n=m(e),s=r===n?0:1/(n-r),d}}function qc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function OX(){var t=Vc(N1()(ts));return t.copy=function(){return qc(t,OX())},Il.apply(t,arguments)}function EX(){var t=$E(N1()).domain([1,10]);return t.copy=function(){return qc(t,EX()).base(t.base())},Il.apply(t,arguments)}function DX(){var t=FE(N1());return t.copy=function(){return qc(t,DX()).constant(t.constant())},Il.apply(t,arguments)}function XE(){var t=HE(N1());return t.copy=function(){return qc(t,XE()).exponent(t.exponent())},Il.apply(t,arguments)}function nAe(){return XE.apply(null,arguments).exponent(.5)}function PX(){var t=[],e=ts;function r(n){if(n!=null&&!isNaN(n=+n))return e((xg(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let s of n)s!=null&&!isNaN(s=+s)&&t.push(s);return t.sort(Ac),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,s)=>e(s/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(s,i)=>V5e(t,i/n))},r.copy=function(){return PX(e).domain(t)},Il.apply(r,arguments)}function k1(){var t=0,e=.5,r=1,n=1,s,i,o,l,c,d=ts,h,m=!1,g;function y(j){return isNaN(j=+j)?g:(j=.5+((j=+h(j))-i)*(n*j<n*i?l:c),d(m?Math.max(0,Math.min(1,j)):j))}y.domain=function(j){return arguments.length?([t,e,r]=j,s=h(t=+t),i=h(e=+e),o=h(r=+r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,y):[t,e,r]},y.clamp=function(j){return arguments.length?(m=!!j,y):m},y.interpolator=function(j){return arguments.length?(d=j,y):d};function w(j){return function(v){var N,T,S;return arguments.length?([N,T,S]=v,d=p_e(j,[N,T,S]),y):[d(0),d(.5),d(1)]}}return y.range=w(zh),y.rangeRound=w(PE),y.unknown=function(j){return arguments.length?(g=j,y):g},function(j){return h=j,s=j(t),i=j(e),o=j(r),l=s===i?0:.5/(i-s),c=i===o?0:.5/(o-i),n=i<s?-1:1,y}}function RX(){var t=Vc(k1()(ts));return t.copy=function(){return qc(t,RX())},Il.apply(t,arguments)}function IX(){var t=$E(k1()).domain([.1,1,10]);return t.copy=function(){return qc(t,IX()).base(t.base())},Il.apply(t,arguments)}function LX(){var t=FE(k1());return t.copy=function(){return qc(t,LX()).constant(t.constant())},Il.apply(t,arguments)}function JE(){var t=HE(k1());return t.copy=function(){return qc(t,JE()).exponent(t.exponent())},Il.apply(t,arguments)}function aAe(){return JE.apply(null,arguments).exponent(.5)}const J9=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v0,scaleDiverging:RX,scaleDivergingLog:IX,scaleDivergingPow:JE,scaleDivergingSqrt:aAe,scaleDivergingSymlog:LX,scaleIdentity:pX,scaleImplicit:mM,scaleLinear:Uv,scaleLog:xX,scaleOrdinal:OE,scalePoint:Lp,scalePow:BE,scaleQuantile:vX,scaleQuantize:wX,scaleRadial:bX,scaleSequential:OX,scaleSequentialLog:EX,scaleSequentialPow:XE,scaleSequentialQuantile:PX,scaleSequentialSqrt:nAe,scaleSequentialSymlog:DX,scaleSqrt:$_e,scaleSymlog:yX,scaleThreshold:jX,scaleTime:tAe,scaleUtc:rAe,tickFormat:mX},Symbol.toStringTag,{value:"Module"}));var IT,Q9;function C1(){if(Q9)return IT;Q9=1;var t=Lh();function e(r,n,s){for(var i=-1,o=r.length;++i<o;){var l=r[i],c=n(l);if(c!=null&&(d===void 0?c===c&&!t(c):s(c,d)))var d=c,h=l}return h}return IT=e,IT}var LT,Z9;function $X(){if(Z9)return LT;Z9=1;function t(e,r){return e>r}return LT=t,LT}var $T,eH;function sAe(){if(eH)return $T;eH=1;var t=C1(),e=$X(),r=Hh();function n(s){return s&&s.length?t(s,r,e):void 0}return $T=n,$T}var iAe=sAe();const T1=Pr(iAe);var FT,tH;function FX(){if(tH)return FT;tH=1;function t(e,r){return e<r}return FT=t,FT}var HT,rH;function oAe(){if(rH)return HT;rH=1;var t=C1(),e=FX(),r=Hh();function n(s){return s&&s.length?t(s,r,e):void 0}return HT=n,HT}var lAe=oAe();const _1=Pr(lAe);var BT,nH;function cAe(){if(nH)return BT;nH=1;var t=hE(),e=Ao(),r=GK(),n=Ss();function s(i,o){var l=n(i)?t:r;return l(i,e(o,3))}return BT=s,BT}var zT,aH;function uAe(){if(aH)return zT;aH=1;var t=WK(),e=cAe();function r(n,s){return t(e(n,s),1)}return zT=r,zT}var dAe=uAe();const fAe=Pr(dAe);var VT,sH;function hAe(){if(sH)return VT;sH=1;var t=CE();function e(r,n){return t(r,n)}return VT=e,VT}var mAe=hAe();const wg=Pr(mAe);var Vh=1e9,pAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ZE,bn=!0,vi="[DecimalError] ",Uu=vi+"Invalid argument: ",QE=vi+"Exponent out of range: ",qh=Math.floor,bu=Math.pow,gAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Ls,fa=1e7,mn=7,HX=9007199254740991,Xv=qh(HX/mn),Et={};Et.absoluteValue=Et.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Et.comparedTo=Et.cmp=function(t){var e,r,n,s,i=this;if(t=new i.constructor(t),i.s!==t.s)return i.s||-t.s;if(i.e!==t.e)return i.e>t.e^i.s<0?1:-1;for(n=i.d.length,s=t.d.length,e=0,r=n<s?n:s;e<r;++e)if(i.d[e]!==t.d[e])return i.d[e]>t.d[e]^i.s<0?1:-1;return n===s?0:n>s^i.s<0?1:-1};Et.decimalPlaces=Et.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*mn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Et.dividedBy=Et.div=function(t){return yl(this,new this.constructor(t))};Et.dividedToIntegerBy=Et.idiv=function(t){var e=this,r=e.constructor;return nn(yl(e,new r(t),0,1),r.precision)};Et.equals=Et.eq=function(t){return!this.cmp(t)};Et.exponent=function(){return Zn(this)};Et.greaterThan=Et.gt=function(t){return this.cmp(t)>0};Et.greaterThanOrEqualTo=Et.gte=function(t){return this.cmp(t)>=0};Et.isInteger=Et.isint=function(){return this.e>this.d.length-2};Et.isNegative=Et.isneg=function(){return this.s<0};Et.isPositive=Et.ispos=function(){return this.s>0};Et.isZero=function(){return this.s===0};Et.lessThan=Et.lt=function(t){return this.cmp(t)<0};Et.lessThanOrEqualTo=Et.lte=function(t){return this.cmp(t)<1};Et.logarithm=Et.log=function(t){var e,r=this,n=r.constructor,s=n.precision,i=s+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Ls))throw Error(vi+"NaN");if(r.s<1)throw Error(vi+(r.s?"NaN":"-Infinity"));return r.eq(Ls)?new n(0):(bn=!1,e=yl(k0(r,i),k0(t,i),i),bn=!0,nn(e,s))};Et.minus=Et.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?VX(e,t):BX(e,(t.s=-t.s,t))};Et.modulo=Et.mod=function(t){var e,r=this,n=r.constructor,s=n.precision;if(t=new n(t),!t.s)throw Error(vi+"NaN");return r.s?(bn=!1,e=yl(r,t,0,1).times(t),bn=!0,r.minus(e)):nn(new n(r),s)};Et.naturalExponential=Et.exp=function(){return zX(this)};Et.naturalLogarithm=Et.ln=function(){return k0(this)};Et.negated=Et.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Et.plus=Et.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?BX(e,t):VX(e,(t.s=-t.s,t))};Et.precision=Et.sd=function(t){var e,r,n,s=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Uu+t);if(e=Zn(s)+1,n=s.d.length-1,r=n*mn+1,n=s.d[n],n){for(;n%10==0;n/=10)r--;for(n=s.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Et.squareRoot=Et.sqrt=function(){var t,e,r,n,s,i,o,l=this,c=l.constructor;if(l.s<1){if(!l.s)return new c(0);throw Error(vi+"NaN")}for(t=Zn(l),bn=!1,s=Math.sqrt(+l),s==0||s==1/0?(e=lo(l.d),(e.length+t)%2==0&&(e+="0"),s=Math.sqrt(e),t=qh((t+1)/2)-(t<0||t%2),s==1/0?e="5e"+t:(e=s.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(s.toString()),r=c.precision,s=o=r+3;;)if(i=n,n=i.plus(yl(l,i,o+2)).times(.5),lo(i.d).slice(0,o)===(e=lo(n.d)).slice(0,o)){if(e=e.slice(o-3,o+1),s==o&&e=="4999"){if(nn(i,r+1,0),i.times(i).eq(l)){n=i;break}}else if(e!="9999")break;o+=4}return bn=!0,nn(n,r)};Et.times=Et.mul=function(t){var e,r,n,s,i,o,l,c,d,h=this,m=h.constructor,g=h.d,y=(t=new m(t)).d;if(!h.s||!t.s)return new m(0);for(t.s*=h.s,r=h.e+t.e,c=g.length,d=y.length,c<d&&(i=g,g=y,y=i,o=c,c=d,d=o),i=[],o=c+d,n=o;n--;)i.push(0);for(n=d;--n>=0;){for(e=0,s=c+n;s>n;)l=i[s]+y[n]*g[s-n-1]+e,i[s--]=l%fa|0,e=l/fa|0;i[s]=(i[s]+e)%fa|0}for(;!i[--o];)i.pop();return e?++r:i.shift(),t.d=i,t.e=r,bn?nn(t,m.precision):t};Et.toDecimalPlaces=Et.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(No(t,0,Vh),e===void 0?e=n.rounding:No(e,0,8),nn(r,t+Zn(r)+1,e))};Et.toExponential=function(t,e){var r,n=this,s=n.constructor;return t===void 0?r=id(n,!0):(No(t,0,Vh),e===void 0?e=s.rounding:No(e,0,8),n=nn(new s(n),t+1,e),r=id(n,!0,t+1)),r};Et.toFixed=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?id(s):(No(t,0,Vh),e===void 0?e=i.rounding:No(e,0,8),n=nn(new i(s),t+Zn(s)+1,e),r=id(n.abs(),!1,t+Zn(n)+1),s.isneg()&&!s.isZero()?"-"+r:r)};Et.toInteger=Et.toint=function(){var t=this,e=t.constructor;return nn(new e(t),Zn(t)+1,e.rounding)};Et.toNumber=function(){return+this};Et.toPower=Et.pow=function(t){var e,r,n,s,i,o,l=this,c=l.constructor,d=12,h=+(t=new c(t));if(!t.s)return new c(Ls);if(l=new c(l),!l.s){if(t.s<1)throw Error(vi+"Infinity");return l}if(l.eq(Ls))return l;if(n=c.precision,t.eq(Ls))return nn(l,n);if(e=t.e,r=t.d.length-1,o=e>=r,i=l.s,o){if((r=h<0?-h:h)<=HX){for(s=new c(Ls),e=Math.ceil(n/mn+4),bn=!1;r%2&&(s=s.times(l),oH(s.d,e)),r=qh(r/2),r!==0;)l=l.times(l),oH(l.d,e);return bn=!0,t.s<0?new c(Ls).div(s):nn(s,n)}}else if(i<0)throw Error(vi+"NaN");return i=i<0&&t.d[Math.max(e,r)]&1?-1:1,l.s=1,bn=!1,s=t.times(k0(l,n+d)),bn=!0,s=zX(s),s.s=i,s};Et.toPrecision=function(t,e){var r,n,s=this,i=s.constructor;return t===void 0?(r=Zn(s),n=id(s,r<=i.toExpNeg||r>=i.toExpPos)):(No(t,1,Vh),e===void 0?e=i.rounding:No(e,0,8),s=nn(new i(s),t,e),r=Zn(s),n=id(s,t<=r||r<=i.toExpNeg,t)),n};Et.toSignificantDigits=Et.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(No(t,1,Vh),e===void 0?e=n.rounding:No(e,0,8)),nn(new n(r),t,e)};Et.toString=Et.valueOf=Et.val=Et.toJSON=Et[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=Zn(t),r=t.constructor;return id(t,e<=r.toExpNeg||e>=r.toExpPos)};function BX(t,e){var r,n,s,i,o,l,c,d,h=t.constructor,m=h.precision;if(!t.s||!e.s)return e.s||(e=new h(t)),bn?nn(e,m):e;if(c=t.d,d=e.d,o=t.e,s=e.e,c=c.slice(),i=o-s,i){for(i<0?(n=c,i=-i,l=d.length):(n=d,s=o,l=c.length),o=Math.ceil(m/mn),l=o>l?o+1:l+1,i>l&&(i=l,n.length=1),n.reverse();i--;)n.push(0);n.reverse()}for(l=c.length,i=d.length,l-i<0&&(i=l,n=d,d=c,c=n),r=0;i;)r=(c[--i]=c[i]+d[i]+r)/fa|0,c[i]%=fa;for(r&&(c.unshift(r),++s),l=c.length;c[--l]==0;)c.pop();return e.d=c,e.e=s,bn?nn(e,m):e}function No(t,e,r){if(t!==~~t||t<e||t>r)throw Error(Uu+t)}function lo(t){var e,r,n,s=t.length-1,i="",o=t[0];if(s>0){for(i+=o,e=1;e<s;e++)n=t[e]+"",r=mn-n.length,r&&(i+=pc(r)),i+=n;o=t[e],n=o+"",r=mn-n.length,r&&(i+=pc(r))}else if(o===0)return"0";for(;o%10===0;)o/=10;return i+o}var yl=(function(){function t(n,s){var i,o=0,l=n.length;for(n=n.slice();l--;)i=n[l]*s+o,n[l]=i%fa|0,o=i/fa|0;return o&&n.unshift(o),n}function e(n,s,i,o){var l,c;if(i!=o)c=i>o?1:-1;else for(l=c=0;l<i;l++)if(n[l]!=s[l]){c=n[l]>s[l]?1:-1;break}return c}function r(n,s,i){for(var o=0;i--;)n[i]-=o,o=n[i]<s[i]?1:0,n[i]=o*fa+n[i]-s[i];for(;!n[0]&&n.length>1;)n.shift()}return function(n,s,i,o){var l,c,d,h,m,g,y,w,j,v,N,T,S,O,_,A,E,P,$=n.constructor,I=n.s==s.s?1:-1,L=n.d,R=s.d;if(!n.s)return new $(n);if(!s.s)throw Error(vi+"Division by zero");for(c=n.e-s.e,E=R.length,_=L.length,y=new $(I),w=y.d=[],d=0;R[d]==(L[d]||0);)++d;if(R[d]>(L[d]||0)&&--c,i==null?T=i=$.precision:o?T=i+(Zn(n)-Zn(s))+1:T=i,T<0)return new $(0);if(T=T/mn+2|0,d=0,E==1)for(h=0,R=R[0],T++;(d<_||h)&&T--;d++)S=h*fa+(L[d]||0),w[d]=S/R|0,h=S%R|0;else{for(h=fa/(R[0]+1)|0,h>1&&(R=t(R,h),L=t(L,h),E=R.length,_=L.length),O=E,j=L.slice(0,E),v=j.length;v<E;)j[v++]=0;P=R.slice(),P.unshift(0),A=R[0],R[1]>=fa/2&&++A;do h=0,l=e(R,j,E,v),l<0?(N=j[0],E!=v&&(N=N*fa+(j[1]||0)),h=N/A|0,h>1?(h>=fa&&(h=fa-1),m=t(R,h),g=m.length,v=j.length,l=e(m,j,g,v),l==1&&(h--,r(m,E<g?P:R,g))):(h==0&&(l=h=1),m=R.slice()),g=m.length,g<v&&m.unshift(0),r(j,m,v),l==-1&&(v=j.length,l=e(R,j,E,v),l<1&&(h++,r(j,E<v?P:R,v))),v=j.length):l===0&&(h++,j=[0]),w[d++]=h,l&&j[0]?j[v++]=L[O]||0:(j=[L[O]],v=1);while((O++<_||j[0]!==void 0)&&T--)}return w[0]||w.shift(),y.e=c,nn(y,o?i+Zn(y)+1:i)}})();function zX(t,e){var r,n,s,i,o,l,c=0,d=0,h=t.constructor,m=h.precision;if(Zn(t)>16)throw Error(QE+Zn(t));if(!t.s)return new h(Ls);for(bn=!1,l=m,o=new h(.03125);t.abs().gte(.1);)t=t.times(o),d+=5;for(n=Math.log(bu(2,d))/Math.LN10*2+5|0,l+=n,r=s=i=new h(Ls),h.precision=l;;){if(s=nn(s.times(t),l),r=r.times(++c),o=i.plus(yl(s,r,l)),lo(o.d).slice(0,l)===lo(i.d).slice(0,l)){for(;d--;)i=nn(i.times(i),l);return h.precision=m,e==null?(bn=!0,nn(i,m)):i}i=o}}function Zn(t){for(var e=t.e*mn,r=t.d[0];r>=10;r/=10)e++;return e}function qT(t,e,r){if(e>t.LN10.sd())throw bn=!0,r&&(t.precision=r),Error(vi+"LN10 precision limit exceeded");return nn(new t(t.LN10),e)}function pc(t){for(var e="";t--;)e+="0";return e}function k0(t,e){var r,n,s,i,o,l,c,d,h,m=1,g=10,y=t,w=y.d,j=y.constructor,v=j.precision;if(y.s<1)throw Error(vi+(y.s?"NaN":"-Infinity"));if(y.eq(Ls))return new j(0);if(e==null?(bn=!1,d=v):d=e,y.eq(10))return e==null&&(bn=!0),qT(j,d);if(d+=g,j.precision=d,r=lo(w),n=r.charAt(0),i=Zn(y),Math.abs(i)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)y=y.times(t),r=lo(y.d),n=r.charAt(0),m++;i=Zn(y),n>1?(y=new j("0."+r),i++):y=new j(n+"."+r.slice(1))}else return c=qT(j,d+2,v).times(i+""),y=k0(new j(n+"."+r.slice(1)),d-g).plus(c),j.precision=v,e==null?(bn=!0,nn(y,v)):y;for(l=o=y=yl(y.minus(Ls),y.plus(Ls),d),h=nn(y.times(y),d),s=3;;){if(o=nn(o.times(h),d),c=l.plus(yl(o,new j(s),d)),lo(c.d).slice(0,d)===lo(l.d).slice(0,d))return l=l.times(2),i!==0&&(l=l.plus(qT(j,d+2,v).times(i+""))),l=yl(l,new j(m),d),j.precision=v,e==null?(bn=!0,nn(l,v)):l;l=c,s+=2}}function iH(t,e){var r,n,s;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(s=e.length;e.charCodeAt(s-1)===48;)--s;if(e=e.slice(n,s),e){if(s-=n,r=r-n-1,t.e=qh(r/mn),t.d=[],n=(r+1)%mn,r<0&&(n+=mn),n<s){for(n&&t.d.push(+e.slice(0,n)),s-=mn;n<s;)t.d.push(+e.slice(n,n+=mn));e=e.slice(n),n=mn-e.length}else n-=s;for(;n--;)e+="0";if(t.d.push(+e),bn&&(t.e>Xv||t.e<-Xv))throw Error(QE+r)}else t.s=0,t.e=0,t.d=[0];return t}function nn(t,e,r){var n,s,i,o,l,c,d,h,m=t.d;for(o=1,i=m[0];i>=10;i/=10)o++;if(n=e-o,n<0)n+=mn,s=e,d=m[h=0];else{if(h=Math.ceil((n+1)/mn),i=m.length,h>=i)return t;for(d=i=m[h],o=1;i>=10;i/=10)o++;n%=mn,s=n-mn+o}if(r!==void 0&&(i=bu(10,o-s-1),l=d/i%10|0,c=e<0||m[h+1]!==void 0||d%i,c=r<4?(l||c)&&(r==0||r==(t.s<0?3:2)):l>5||l==5&&(r==4||c||r==6&&(n>0?s>0?d/bu(10,o-s):0:m[h-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return c?(i=Zn(t),m.length=1,e=e-i-1,m[0]=bu(10,(mn-e%mn)%mn),t.e=qh(-e/mn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=h,i=1,h--):(m.length=h+1,i=bu(10,mn-n),m[h]=s>0?(d/bu(10,o-s)%bu(10,s)|0)*i:0),c)for(;;)if(h==0){(m[0]+=i)==fa&&(m[0]=1,++t.e);break}else{if(m[h]+=i,m[h]!=fa)break;m[h--]=0,i=1}for(n=m.length;m[--n]===0;)m.pop();if(bn&&(t.e>Xv||t.e<-Xv))throw Error(QE+Zn(t));return t}function VX(t,e){var r,n,s,i,o,l,c,d,h,m,g=t.constructor,y=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),bn?nn(e,y):e;if(c=t.d,m=e.d,n=e.e,d=t.e,c=c.slice(),o=d-n,o){for(h=o<0,h?(r=c,o=-o,l=m.length):(r=m,n=d,l=c.length),s=Math.max(Math.ceil(y/mn),l)+2,o>s&&(o=s,r.length=1),r.reverse(),s=o;s--;)r.push(0);r.reverse()}else{for(s=c.length,l=m.length,h=s<l,h&&(l=s),s=0;s<l;s++)if(c[s]!=m[s]){h=c[s]<m[s];break}o=0}for(h&&(r=c,c=m,m=r,e.s=-e.s),l=c.length,s=m.length-l;s>0;--s)c[l++]=0;for(s=m.length;s>o;){if(c[--s]<m[s]){for(i=s;i&&c[--i]===0;)c[i]=fa-1;--c[i],c[s]+=fa}c[s]-=m[s]}for(;c[--l]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,bn?nn(e,y):e):new g(0)}function id(t,e,r){var n,s=Zn(t),i=lo(t.d),o=i.length;return e?(r&&(n=r-o)>0?i=i.charAt(0)+"."+i.slice(1)+pc(n):o>1&&(i=i.charAt(0)+"."+i.slice(1)),i=i+(s<0?"e":"e+")+s):s<0?(i="0."+pc(-s-1)+i,r&&(n=r-o)>0&&(i+=pc(n))):s>=o?(i+=pc(s+1-o),r&&(n=r-s-1)>0&&(i=i+"."+pc(n))):((n=s+1)<o&&(i=i.slice(0,n)+"."+i.slice(n)),r&&(n=r-o)>0&&(s+1===o&&(i+="."),i+=pc(n))),t.s<0?"-"+i:i}function oH(t,e){if(t.length>e)return t.length=e,!0}function qX(t){var e,r,n;function s(i){var o=this;if(!(o instanceof s))return new s(i);if(o.constructor=s,i instanceof s){o.s=i.s,o.e=i.e,o.d=(i=i.d)?i.slice():i;return}if(typeof i=="number"){if(i*0!==0)throw Error(Uu+i);if(i>0)o.s=1;else if(i<0)i=-i,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(i===~~i&&i<1e7){o.e=0,o.d=[i];return}return iH(o,i.toString())}else if(typeof i!="string")throw Error(Uu+i);if(i.charCodeAt(0)===45?(i=i.slice(1),o.s=-1):o.s=1,gAe.test(i))iH(o,i);else throw Error(Uu+i)}if(s.prototype=Et,s.ROUND_UP=0,s.ROUND_DOWN=1,s.ROUND_CEIL=2,s.ROUND_FLOOR=3,s.ROUND_HALF_UP=4,s.ROUND_HALF_DOWN=5,s.ROUND_HALF_EVEN=6,s.ROUND_HALF_CEIL=7,s.ROUND_HALF_FLOOR=8,s.clone=qX,s.config=s.set=xAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return s.config(t),s}function xAe(t){if(!t||typeof t!="object")throw Error(vi+"Object expected");var e,r,n,s=["precision",1,Vh,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<s.length;e+=3)if((n=t[r=s[e]])!==void 0)if(qh(n)===n&&n>=s[e+1]&&n<=s[e+2])this[r]=n;else throw Error(Uu+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(Uu+r+": "+n);return this}var ZE=qX(pAe);Ls=new ZE(1);const Qr=ZE;function yAe(t){return jAe(t)||wAe(t)||vAe(t)||bAe()}function bAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vAe(t,e){if(t){if(typeof t=="string")return yM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return yM(t,e)}}function wAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function jAe(t){if(Array.isArray(t))return yM(t)}function yM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var SAe=function(e){return e},WX={},UX=function(e){return e===WX},lH=function(e){return function r(){return arguments.length===0||arguments.length===1&&UX(arguments.length<=0?void 0:arguments[0])?r:e.apply(void 0,arguments)}},NAe=function t(e,r){return e===1?r:lH(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];var o=s.filter(function(l){return l!==WX}).length;return o>=e?r.apply(void 0,s):t(e-o,lH(function(){for(var l=arguments.length,c=new Array(l),d=0;d<l;d++)c[d]=arguments[d];var h=s.map(function(m){return UX(m)?c.shift():m});return r.apply(void 0,yAe(h).concat(c))}))})},M1=function(e){return NAe(e.length,e)},bM=function(e,r){for(var n=[],s=e;s<r;++s)n[s-e]=s;return n},kAe=M1(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(r){return e[r]}).map(t)}),CAe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return SAe;var s=r.reverse(),i=s[0],o=s.slice(1);return function(){return o.reduce(function(l,c){return c(l)},i.apply(void 0,arguments))}},vM=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},GX=function(e){var r=null,n=null;return function(){for(var s=arguments.length,i=new Array(s),o=0;o<s;o++)i[o]=arguments[o];return r&&i.every(function(l,c){return l===r[c]})||(r=i,n=e.apply(void 0,i)),n}};function TAe(t){var e;return t===0?e=1:e=Math.floor(new Qr(t).abs().log(10).toNumber())+1,e}function _Ae(t,e,r){for(var n=new Qr(t),s=0,i=[];n.lt(e)&&s<1e5;)i.push(n.toNumber()),n=n.add(r),s++;return i}var MAe=M1(function(t,e,r){var n=+t,s=+e;return n+r*(s-n)}),AAe=M1(function(t,e,r){var n=e-+t;return n=n||1/0,(r-t)/n}),OAe=M1(function(t,e,r){var n=e-+t;return n=n||1/0,Math.max(0,Math.min(1,(r-t)/n))});const A1={rangeStep:_Ae,getDigitCount:TAe,interpolateNumber:MAe,uninterpolateNumber:AAe,uninterpolateTruncation:OAe};function wM(t){return PAe(t)||DAe(t)||YX(t)||EAe()}function EAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DAe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function PAe(t){if(Array.isArray(t))return jM(t)}function C0(t,e){return LAe(t)||IAe(t,e)||YX(t,e)||RAe()}function RAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YX(t,e){if(t){if(typeof t=="string")return jM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return jM(t,e)}}function jM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var r=[],n=!0,s=!1,i=void 0;try{for(var o=t[Symbol.iterator](),l;!(n=(l=o.next()).done)&&(r.push(l.value),!(e&&r.length===e));n=!0);}catch(c){s=!0,i=c}finally{try{!n&&o.return!=null&&o.return()}finally{if(s)throw i}}return r}}function LAe(t){if(Array.isArray(t))return t}function KX(t){var e=C0(t,2),r=e[0],n=e[1],s=r,i=n;return r>n&&(s=n,i=r),[s,i]}function XX(t,e,r){if(t.lte(0))return new Qr(0);var n=A1.getDigitCount(t.toNumber()),s=new Qr(10).pow(n),i=t.div(s),o=n!==1?.05:.1,l=new Qr(Math.ceil(i.div(o).toNumber())).add(r).mul(o),c=l.mul(s);return e?c:new Qr(Math.ceil(c))}function $Ae(t,e,r){var n=1,s=new Qr(t);if(!s.isint()&&r){var i=Math.abs(t);i<1?(n=new Qr(10).pow(A1.getDigitCount(t)-1),s=new Qr(Math.floor(s.div(n).toNumber())).mul(n)):i>1&&(s=new Qr(Math.floor(t)))}else t===0?s=new Qr(Math.floor((e-1)/2)):r||(s=new Qr(Math.floor(t)));var o=Math.floor((e-1)/2),l=CAe(kAe(function(c){return s.add(new Qr(c-o).mul(n)).toNumber()}),bM);return l(0,e)}function JX(t,e,r,n){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(r-1)))return{step:new Qr(0),tickMin:new Qr(0),tickMax:new Qr(0)};var i=XX(new Qr(e).sub(t).div(r-1),n,s),o;t<=0&&e>=0?o=new Qr(0):(o=new Qr(t).add(e).div(2),o=o.sub(new Qr(o).mod(i)));var l=Math.ceil(o.sub(t).div(i).toNumber()),c=Math.ceil(new Qr(e).sub(o).div(i).toNumber()),d=l+c+1;return d>r?JX(t,e,r,n,s+1):(d<r&&(c=e>0?c+(r-d):c,l=e>0?l:l+(r-d)),{step:i,tickMin:o.sub(new Qr(l).mul(i)),tickMax:o.add(new Qr(c).mul(i))})}function FAe(t){var e=C0(t,2),r=e[0],n=e[1],s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=Math.max(s,2),l=KX([r,n]),c=C0(l,2),d=c[0],h=c[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(wM(bM(0,s-1).map(function(){return 1/0}))):[].concat(wM(bM(0,s-1).map(function(){return-1/0})),[h]);return r>n?vM(m):m}if(d===h)return $Ae(d,s,i);var g=JX(d,h,o,i),y=g.step,w=g.tickMin,j=g.tickMax,v=A1.rangeStep(w,j.add(new Qr(.1).mul(y)),y);return r>n?vM(v):v}function HAe(t,e){var r=C0(t,2),n=r[0],s=r[1],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,o=KX([n,s]),l=C0(o,2),c=l[0],d=l[1];if(c===-1/0||d===1/0)return[n,s];if(c===d)return[c];var h=Math.max(e,2),m=XX(new Qr(d).sub(c).div(h-1),i,0),g=[].concat(wM(A1.rangeStep(new Qr(c),new Qr(d).sub(new Qr(.99).mul(m)),m)),[d]);return n>s?vM(g):g}var BAe=GX(FAe),zAe=GX(HAe),VAe="Invariant failed";function od(t,e){throw new Error(VAe)}var qAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function uh(t){"@babel/helpers - typeof";return uh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},uh(t)}function Jv(){return Jv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jv.apply(this,arguments)}function WAe(t,e){return KAe(t)||YAe(t,e)||GAe(t,e)||UAe()}function UAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GAe(t,e){if(t){if(typeof t=="string")return cH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return cH(t,e)}}function cH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function YAe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function KAe(t){if(Array.isArray(t))return t}function XAe(t,e){if(t==null)return{};var r=JAe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JAe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function QAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ZAe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,eJ(n.key),n)}}function eOe(t,e,r){return e&&ZAe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function tOe(t,e,r){return e=Qv(e),rOe(t,QX()?Reflect.construct(e,r||[],Qv(t).constructor):e.apply(t,r))}function rOe(t,e){if(e&&(uh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nOe(t)}function nOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QX(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QX=function(){return!!t})()}function Qv(t){return Qv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Qv(t)}function aOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&SM(t,e)}function SM(t,e){return SM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},SM(t,e)}function ZX(t,e,r){return e=eJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eJ(t){var e=sOe(t,"string");return uh(e)=="symbol"?e:e+""}function sOe(t,e){if(uh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(uh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var jg=(function(t){function e(){return QAe(this,e),tOe(this,e,arguments)}return aOe(e,t),eOe(e,[{key:"render",value:function(){var n=this.props,s=n.offset,i=n.layout,o=n.width,l=n.dataKey,c=n.data,d=n.dataPointFormatter,h=n.xAxis,m=n.yAxis,g=XAe(n,qAe),y=Ut(g,!1);this.props.direction==="x"&&h.type!=="number"&&od();var w=c.map(function(j){var v=d(j,l),N=v.x,T=v.y,S=v.value,O=v.errorVal;if(!O)return null;var _=[],A,E;if(Array.isArray(O)){var P=WAe(O,2);A=P[0],E=P[1]}else A=E=O;if(i==="vertical"){var $=h.scale,I=T+s,L=I+o,R=I-o,z=$(S-A),Y=$(S+E);_.push({x1:Y,y1:L,x2:Y,y2:R}),_.push({x1:z,y1:I,x2:Y,y2:I}),_.push({x1:z,y1:L,x2:z,y2:R})}else if(i==="horizontal"){var q=m.scale,H=N+s,D=H-o,F=H+o,K=q(S-A),te=q(S+E);_.push({x1:D,y1:te,x2:F,y2:te}),_.push({x1:H,y1:K,x2:H,y2:te}),_.push({x1:D,y1:K,x2:F,y2:K})}return X.createElement(Er,Jv({className:"recharts-errorBar",key:"bar-".concat(_.map(function(W){return"".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))},y),_.map(function(W){return X.createElement("line",Jv({},W,{key:"line-".concat(W.x1,"-").concat(W.x2,"-").concat(W.y1,"-").concat(W.y2)}))}))});return X.createElement(Er,{className:"recharts-errorBars"},w)}}])})(X.Component);ZX(jg,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});ZX(jg,"displayName","ErrorBar");function T0(t){"@babel/helpers - typeof";return T0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},T0(t)}function uH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function fu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uH(Object(r),!0).forEach(function(n){iOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iOe(t,e,r){return e=oOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oOe(t){var e=lOe(t,"string");return T0(e)=="symbol"?e:e+""}function lOe(t,e){if(T0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(T0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tJ=function(e){var r=e.children,n=e.formattedGraphicalItems,s=e.legendWidth,i=e.legendContent,o=Ps(r,mo);if(!o)return null;var l=mo.defaultProps,c=l!==void 0?fu(fu({},l),o.props):{},d;return o.props&&o.props.payload?d=o.props&&o.props.payload:i==="children"?d=(n||[]).reduce(function(h,m){var g=m.item,y=m.props,w=y.sectors||y.data||[];return h.concat(w.map(function(j){return{type:o.props.iconType||g.props.legendType,value:j.name,color:j.fill,payload:j}}))},[]):d=(n||[]).map(function(h){var m=h.item,g=m.type.defaultProps,y=g!==void 0?fu(fu({},g),m.props):{},w=y.dataKey,j=y.name,v=y.legendType,N=y.hide;return{inactive:N,dataKey:w,type:c.iconType||v||"square",color:eD(m),value:j||w,payload:y}}),fu(fu(fu({},c),mo.getWithHeight(o,s)),{},{payload:d,item:o})};function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function dH(t){return fOe(t)||dOe(t)||uOe(t)||cOe()}function cOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uOe(t,e){if(t){if(typeof t=="string")return NM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return NM(t,e)}}function dOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function fOe(t){if(Array.isArray(t))return NM(t)}function NM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function fH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function An(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fH(Object(r),!0).forEach(function(n){Rf(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Rf(t,e,r){return e=hOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hOe(t){var e=mOe(t,"string");return _0(e)=="symbol"?e:e+""}function mOe(t,e){if(_0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oa(t,e,r){return tr(t)||tr(e)?r:la(e)?Bs(t,e,r):Qt(e)?e(t):r}function $p(t,e,r,n){var s=fAe(t,function(l){return oa(l,e)});if(r==="number"){var i=s.filter(function(l){return yt(l)||parseFloat(l)});return i.length?[_1(i),T1(i)]:[1/0,-1/0]}var o=n?s.filter(function(l){return!tr(l)}):s;return o.map(function(l){return la(l)||l instanceof Date?l:""})}var pOe=function(e){var r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],s=arguments.length>2?arguments[2]:void 0,i=arguments.length>3?arguments[3]:void 0,o=-1,l=(r=n==null?void 0:n.length)!==null&&r!==void 0?r:0;if(l<=1)return 0;if(i&&i.axisType==="angleAxis"&&Math.abs(Math.abs(i.range[1]-i.range[0])-360)<=1e-6)for(var c=i.range,d=0;d<l;d++){var h=d>0?s[d-1].coordinate:s[l-1].coordinate,m=s[d].coordinate,g=d>=l-1?s[0].coordinate:s[d+1].coordinate,y=void 0;if(Za(m-h)!==Za(g-m)){var w=[];if(Za(g-m)===Za(c[1]-c[0])){y=g;var j=m+c[1]-c[0];w[0]=Math.min(j,(j+h)/2),w[1]=Math.max(j,(j+h)/2)}else{y=h;var v=g+c[1]-c[0];w[0]=Math.min(m,(v+m)/2),w[1]=Math.max(m,(v+m)/2)}var N=[Math.min(m,(y+m)/2),Math.max(m,(y+m)/2)];if(e>N[0]&&e<=N[1]||e>=w[0]&&e<=w[1]){o=s[d].index;break}}else{var T=Math.min(h,g),S=Math.max(h,g);if(e>(T+m)/2&&e<=(S+m)/2){o=s[d].index;break}}}else for(var O=0;O<l;O++)if(O===0&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O>0&&O<l-1&&e>(n[O].coordinate+n[O-1].coordinate)/2&&e<=(n[O].coordinate+n[O+1].coordinate)/2||O===l-1&&e>(n[O].coordinate+n[O-1].coordinate)/2){o=n[O].index;break}return o},eD=function(e){var r,n=e,s=n.type.displayName,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,o=i.stroke,l=i.fill,c;switch(s){case"Line":c=o;break;case"Area":case"Radar":c=o&&o!=="none"?o:l;break;default:c=l;break}return c},gOe=function(e){var r=e.barSize,n=e.totalSize,s=e.stackGroups,i=s===void 0?{}:s;if(!i)return{};for(var o={},l=Object.keys(i),c=0,d=l.length;c<d;c++)for(var h=i[l[c]].stackGroups,m=Object.keys(h),g=0,y=m.length;g<y;g++){var w=h[m[g]],j=w.items,v=w.cateAxisId,N=j.filter(function(E){return xl(E.type).indexOf("Bar")>=0});if(N&&N.length){var T=N[0].type.defaultProps,S=T!==void 0?An(An({},T),N[0].props):N[0].props,O=S.barSize,_=S[v];o[_]||(o[_]=[]);var A=tr(O)?r:O;o[_].push({item:N[0],stackList:N.slice(1),barSize:tr(A)?void 0:es(A,n,0)})}}return o},xOe=function(e){var r=e.barGap,n=e.barCategoryGap,s=e.bandSize,i=e.sizeList,o=i===void 0?[]:i,l=e.maxBarSize,c=o.length;if(c<1)return null;var d=es(r,s,0,!0),h,m=[];if(o[0].barSize===+o[0].barSize){var g=!1,y=s/c,w=o.reduce(function(O,_){return O+_.barSize||0},0);w+=(c-1)*d,w>=s&&(w-=(c-1)*d,d=0),w>=s&&y>0&&(g=!0,y*=.9,w=c*y);var j=(s-w)/2>>0,v={offset:j-d,size:0};h=o.reduce(function(O,_){var A={item:_.item,position:{offset:v.offset+v.size+d,size:g?y:_.barSize}},E=[].concat(dH(O),[A]);return v=E[E.length-1].position,_.stackList&&_.stackList.length&&_.stackList.forEach(function(P){E.push({item:P,position:v})}),E},m)}else{var N=es(n,s,0,!0);s-2*N-(c-1)*d<=0&&(d=0);var T=(s-2*N-(c-1)*d)/c;T>1&&(T>>=0);var S=l===+l?Math.min(T,l):T;h=o.reduce(function(O,_,A){var E=[].concat(dH(O),[{item:_.item,position:{offset:N+(T+d)*A+(T-S)/2,size:S}}]);return _.stackList&&_.stackList.length&&_.stackList.forEach(function(P){E.push({item:P,position:E[E.length-1].position})}),E},m)}return h},yOe=function(e,r,n,s){var i=n.children,o=n.width,l=n.margin,c=o-(l.left||0)-(l.right||0),d=tJ({children:i,legendWidth:c});if(d){var h=s||{},m=h.width,g=h.height,y=d.align,w=d.verticalAlign,j=d.layout;if((j==="vertical"||j==="horizontal"&&w==="middle")&&y!=="center"&&yt(e[y]))return An(An({},e),{},Rf({},y,e[y]+(m||0)));if((j==="horizontal"||j==="vertical"&&y==="center")&&w!=="middle"&&yt(e[w]))return An(An({},e),{},Rf({},w,e[w]+(g||0)))}return e},bOe=function(e,r,n){return tr(r)?!0:e==="horizontal"?r==="yAxis":e==="vertical"||n==="x"?r==="xAxis":n==="y"?r==="yAxis":!0},rJ=function(e,r,n,s,i){var o=r.props.children,l=zs(o,jg).filter(function(d){return bOe(s,i,d.props.direction)});if(l&&l.length){var c=l.map(function(d){return d.props.dataKey});return e.reduce(function(d,h){var m=oa(h,n);if(tr(m))return d;var g=Array.isArray(m)?[_1(m),T1(m)]:[m,m],y=c.reduce(function(w,j){var v=oa(h,j,0),N=g[0]-Math.abs(Array.isArray(v)?v[0]:v),T=g[1]+Math.abs(Array.isArray(v)?v[1]:v);return[Math.min(N,w[0]),Math.max(T,w[1])]},[1/0,-1/0]);return[Math.min(y[0],d[0]),Math.max(y[1],d[1])]},[1/0,-1/0])}return null},vOe=function(e,r,n,s,i){var o=r.map(function(l){return rJ(e,l,n,i,s)}).filter(function(l){return!tr(l)});return o&&o.length?o.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]):null},nJ=function(e,r,n,s,i){var o=r.map(function(c){var d=c.props.dataKey;return n==="number"&&d&&rJ(e,c,d,s)||$p(e,d,n,i)});if(n==="number")return o.reduce(function(c,d){return[Math.min(c[0],d[0]),Math.max(c[1],d[1])]},[1/0,-1/0]);var l={};return o.reduce(function(c,d){for(var h=0,m=d.length;h<m;h++)l[d[h]]||(l[d[h]]=!0,c.push(d[h]));return c},[])},aJ=function(e,r){return e==="horizontal"&&r==="xAxis"||e==="vertical"&&r==="yAxis"||e==="centric"&&r==="angleAxis"||e==="radial"&&r==="radiusAxis"},sJ=function(e,r,n,s){if(s)return e.map(function(c){return c.coordinate});var i,o,l=e.map(function(c){return c.coordinate===r&&(i=!0),c.coordinate===n&&(o=!0),c.coordinate});return i||l.push(r),o||l.push(n),l},ol=function(e,r,n){if(!e)return null;var s=e.scale,i=e.duplicateDomain,o=e.type,l=e.range,c=e.realScaleType==="scaleBand"?s.bandwidth()/2:2,d=(r||n)&&o==="category"&&s.bandwidth?s.bandwidth()/c:0;if(d=e.axisType==="angleAxis"&&(l==null?void 0:l.length)>=2?Za(l[0]-l[1])*2*d:d,r&&(e.ticks||e.niceTicks)){var h=(e.ticks||e.niceTicks).map(function(m){var g=i?i.indexOf(m):m;return{coordinate:s(g)+d,value:m,offset:d}});return h.filter(function(m){return!pg(m.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(m,g){return{coordinate:s(m)+d,value:m,index:g,offset:d}}):s.ticks&&!n?s.ticks(e.tickCount).map(function(m){return{coordinate:s(m)+d,value:m,offset:d}}):s.domain().map(function(m,g){return{coordinate:s(m)+d,value:i?i[m]:m,index:g,offset:d}})},WT=new WeakMap,ky=function(e,r){if(typeof r!="function")return e;WT.has(e)||WT.set(e,new WeakMap);var n=WT.get(e);if(n.has(r))return n.get(r);var s=function(){e.apply(void 0,arguments),r.apply(void 0,arguments)};return n.set(r,s),s},iJ=function(e,r,n){var s=e.scale,i=e.type,o=e.layout,l=e.axisType;if(s==="auto")return o==="radial"&&l==="radiusAxis"?{scale:v0(),realScaleType:"band"}:o==="radial"&&l==="angleAxis"?{scale:Uv(),realScaleType:"linear"}:i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?{scale:Lp(),realScaleType:"point"}:i==="category"?{scale:v0(),realScaleType:"band"}:{scale:Uv(),realScaleType:"linear"};if(nd(s)){var c="scale".concat(h1(s));return{scale:(J9[c]||Lp)(),realScaleType:J9[c]?c:"point"}}return Qt(s)?{scale:s}:{scale:Lp(),realScaleType:"point"}},hH=1e-4,oJ=function(e){var r=e.domain();if(!(!r||r.length<=2)){var n=r.length,s=e.range(),i=Math.min(s[0],s[1])-hH,o=Math.max(s[0],s[1])+hH,l=e(r[0]),c=e(r[n-1]);(l<i||l>o||c<i||c>o)&&e.domain([r[0],r[n-1]])}},wOe=function(e,r){if(!e)return null;for(var n=0,s=e.length;n<s;n++)if(e[n].item===r)return e[n].position;return null},jOe=function(e,r){if(!r||r.length!==2||!yt(r[0])||!yt(r[1]))return e;var n=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]),i=[e[0],e[1]];return(!yt(e[0])||e[0]<n)&&(i[0]=n),(!yt(e[1])||e[1]>s)&&(i[1]=s),i[0]>s&&(i[0]=s),i[1]<n&&(i[1]=n),i},SOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0,l=0;l<r;++l){var c=pg(e[l][n][1])?e[l][n][0]:e[l][n][1];c>=0?(e[l][n][0]=i,e[l][n][1]=i+c,i=e[l][n][1]):(e[l][n][0]=o,e[l][n][1]=o+c,o=e[l][n][1])}},NOe=function(e){var r=e.length;if(!(r<=0))for(var n=0,s=e[0].length;n<s;++n)for(var i=0,o=0;o<r;++o){var l=pg(e[o][n][1])?e[o][n][0]:e[o][n][1];l>=0?(e[o][n][0]=i,e[o][n][1]=i+l,i=e[o][n][1]):(e[o][n][0]=0,e[o][n][1]=0)}},kOe={sign:SOe,expand:fke,none:rh,silhouette:hke,wiggle:mke,positive:NOe},COe=function(e,r,n){var s=r.map(function(l){return l.props.dataKey}),i=kOe[n],o=dke().keys(s).value(function(l,c){return+oa(l,c,0)}).order(eM).offset(i);return o(e)},TOe=function(e,r,n,s,i,o){if(!e)return null;var l=o?r.reverse():r,c={},d=l.reduce(function(m,g){var y,w=(y=g.type)!==null&&y!==void 0&&y.defaultProps?An(An({},g.type.defaultProps),g.props):g.props,j=w.stackId,v=w.hide;if(v)return m;var N=w[n],T=m[N]||{hasStack:!1,stackGroups:{}};if(la(j)){var S=T.stackGroups[j]||{numericAxisId:n,cateAxisId:s,items:[]};S.items.push(g),T.hasStack=!0,T.stackGroups[j]=S}else T.stackGroups[Fh("_stackId_")]={numericAxisId:n,cateAxisId:s,items:[g]};return An(An({},m),{},Rf({},N,T))},c),h={};return Object.keys(d).reduce(function(m,g){var y=d[g];if(y.hasStack){var w={};y.stackGroups=Object.keys(y.stackGroups).reduce(function(j,v){var N=y.stackGroups[v];return An(An({},j),{},Rf({},v,{numericAxisId:n,cateAxisId:s,items:N.items,stackedData:COe(e,N.items,i)}))},w)}return An(An({},m),{},Rf({},g,y))},h)},lJ=function(e,r){var n=r.realScaleType,s=r.type,i=r.tickCount,o=r.originalDomain,l=r.allowDecimals,c=n||r.scale;if(c!=="auto"&&c!=="linear")return null;if(i&&s==="number"&&o&&(o[0]==="auto"||o[1]==="auto")){var d=e.domain();if(!d.length)return null;var h=BAe(d,i,l);return e.domain([_1(h),T1(h)]),{niceTicks:h}}if(i&&s==="number"){var m=e.domain(),g=zAe(m,i,l);return{niceTicks:g}}return null};function mH(t){var e=t.axis,r=t.ticks,n=t.bandSize,s=t.entry,i=t.index,o=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!tr(s[e.dataKey])){var l=_v(r,"value",s[e.dataKey]);if(l)return l.coordinate+n/2}return r[i]?r[i].coordinate+n/2:null}var c=oa(s,tr(o)?e.dataKey:o);return tr(c)?null:e.scale(c)}var pH=function(e){var r=e.axis,n=e.ticks,s=e.offset,i=e.bandSize,o=e.entry,l=e.index;if(r.type==="category")return n[l]?n[l].coordinate+s:null;var c=oa(o,r.dataKey,r.domain[l]);return tr(c)?null:r.scale(c)-i/2+s},_Oe=function(e){var r=e.numericAxis,n=r.scale.domain();if(r.type==="number"){var s=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]);return s<=0&&i>=0?0:i<0?i:s}return n[0]},MOe=function(e,r){var n,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,i=s.stackId;if(la(i)){var o=r[i];if(o){var l=o.items.indexOf(e);return l>=0?o.stackedData[l]:null}}return null},AOe=function(e){return e.reduce(function(r,n){return[_1(n.concat([r[0]]).filter(yt)),T1(n.concat([r[1]]).filter(yt))]},[1/0,-1/0])},cJ=function(e,r,n){return Object.keys(e).reduce(function(s,i){var o=e[i],l=o.stackedData,c=l.reduce(function(d,h){var m=AOe(h.slice(r,n+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(c[0],s[0]),Math.max(c[1],s[1])]},[1/0,-1/0]).map(function(s){return s===1/0||s===-1/0?0:s})},gH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,kM=function(e,r,n){if(Qt(e))return e(r,n);if(!Array.isArray(e))return r;var s=[];if(yt(e[0]))s[0]=n?e[0]:Math.min(e[0],r[0]);else if(gH.test(e[0])){var i=+gH.exec(e[0])[1];s[0]=r[0]-i}else Qt(e[0])?s[0]=e[0](r[0]):s[0]=r[0];if(yt(e[1]))s[1]=n?e[1]:Math.max(e[1],r[1]);else if(xH.test(e[1])){var o=+xH.exec(e[1])[1];s[1]=r[1]+o}else Qt(e[1])?s[1]=e[1](r[1]):s[1]=r[1];return s},Zv=function(e,r,n){if(e&&e.scale&&e.scale.bandwidth){var s=e.scale.bandwidth();if(!n||s>0)return s}if(e&&r&&r.length>=2){for(var i=_E(r,function(m){return m.coordinate}),o=1/0,l=1,c=i.length;l<c;l++){var d=i[l],h=i[l-1];o=Math.min((d.coordinate||0)-(h.coordinate||0),o)}return o===1/0?0:o}return n?void 0:0},yH=function(e,r,n){return!e||!e.length||wg(e,Bs(n,"type.defaultProps.domain"))?r:e},uJ=function(e,r){var n=e.type.defaultProps?An(An({},e.type.defaultProps),e.props):e.props,s=n.dataKey,i=n.name,o=n.unit,l=n.formatter,c=n.tooltipType,d=n.chartType,h=n.hide;return An(An({},Ut(e,!1)),{},{dataKey:s,unit:o,formatter:l,name:i||s,color:eD(e),value:oa(r,s),type:c,payload:r,chartType:d,hide:h})};function M0(t){"@babel/helpers - typeof";return M0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M0(t)}function bH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function el(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(r),!0).forEach(function(n){dJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dJ(t,e,r){return e=OOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OOe(t){var e=EOe(t,"string");return M0(e)=="symbol"?e:e+""}function EOe(t,e){if(M0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(M0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DOe(t,e){return LOe(t)||IOe(t,e)||ROe(t,e)||POe()}function POe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ROe(t,e){if(t){if(typeof t=="string")return vH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return vH(t,e)}}function vH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function IOe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function LOe(t){if(Array.isArray(t))return t}var ew=Math.PI/180,$Oe=function(e){return e*180/Math.PI},un=function(e,r,n,s){return{x:e+Math.cos(-ew*s)*n,y:r+Math.sin(-ew*s)*n}},fJ=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},FOe=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.startAngle,d=e.endAngle,h=es(e.cx,o,o/2),m=es(e.cy,l,l/2),g=fJ(o,l,n),y=es(e.innerRadius,g,0),w=es(e.outerRadius,g,g*.8),j=Object.keys(r);return j.reduce(function(v,N){var T=r[N],S=T.domain,O=T.reversed,_;if(tr(T.range))s==="angleAxis"?_=[c,d]:s==="radiusAxis"&&(_=[y,w]),O&&(_=[_[1],_[0]]);else{_=T.range;var A=_,E=DOe(A,2);c=E[0],d=E[1]}var P=iJ(T,i),$=P.realScaleType,I=P.scale;I.domain(S).range(_),oJ(I);var L=lJ(I,el(el({},T),{},{realScaleType:$})),R=el(el(el({},T),L),{},{range:_,radius:w,realScaleType:$,scale:I,cx:h,cy:m,innerRadius:y,outerRadius:w,startAngle:c,endAngle:d});return el(el({},v),{},dJ({},N,R))},{})},HOe=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return Math.sqrt(Math.pow(n-i,2)+Math.pow(s-o,2))},BOe=function(e,r){var n=e.x,s=e.y,i=r.cx,o=r.cy,l=HOe({x:n,y:s},{x:i,y:o});if(l<=0)return{radius:l};var c=(n-i)/l,d=Math.acos(c);return s>o&&(d=2*Math.PI-d),{radius:l,angle:$Oe(d),angleInRadian:d}},zOe=function(e){var r=e.startAngle,n=e.endAngle,s=Math.floor(r/360),i=Math.floor(n/360),o=Math.min(s,i);return{startAngle:r-o*360,endAngle:n-o*360}},VOe=function(e,r){var n=r.startAngle,s=r.endAngle,i=Math.floor(n/360),o=Math.floor(s/360),l=Math.min(i,o);return e+l*360},wH=function(e,r){var n=e.x,s=e.y,i=BOe({x:n,y:s},r),o=i.radius,l=i.angle,c=r.innerRadius,d=r.outerRadius;if(o<c||o>d)return!1;if(o===0)return!0;var h=zOe(r),m=h.startAngle,g=h.endAngle,y=l,w;if(m<=g){for(;y>g;)y-=360;for(;y<m;)y+=360;w=y>=m&&y<=g}else{for(;y>m;)y-=360;for(;y<g;)y+=360;w=y>=g&&y<=m}return w?el(el({},r),{},{radius:o,angle:VOe(y,r)}):null},hJ=function(e){return!x.isValidElement(e)&&!Qt(e)&&typeof e!="boolean"?e.className:""};function A0(t){"@babel/helpers - typeof";return A0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A0(t)}var qOe=["offset"];function WOe(t){return KOe(t)||YOe(t)||GOe(t)||UOe()}function UOe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GOe(t,e){if(t){if(typeof t=="string")return CM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return CM(t,e)}}function YOe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function KOe(t){if(Array.isArray(t))return CM(t)}function CM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function XOe(t,e){if(t==null)return{};var r=JOe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function JOe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function jH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function sa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?jH(Object(r),!0).forEach(function(n){QOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):jH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QOe(t,e,r){return e=ZOe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZOe(t){var e=eEe(t,"string");return A0(e)=="symbol"?e:e+""}function eEe(t,e){if(A0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function O0(){return O0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},O0.apply(this,arguments)}var tEe=function(e){var r=e.value,n=e.formatter,s=tr(e.children)?r:e.children;return Qt(n)?n(s):s},rEe=function(e,r){var n=Za(r-e),s=Math.min(Math.abs(r-e),360);return n*s},nEe=function(e,r,n){var s=e.position,i=e.viewBox,o=e.offset,l=e.className,c=i,d=c.cx,h=c.cy,m=c.innerRadius,g=c.outerRadius,y=c.startAngle,w=c.endAngle,j=c.clockWise,v=(m+g)/2,N=rEe(y,w),T=N>=0?1:-1,S,O;s==="insideStart"?(S=y+T*o,O=j):s==="insideEnd"?(S=w-T*o,O=!j):s==="end"&&(S=w+T*o,O=j),O=N<=0?O:!O;var _=un(d,h,v,S),A=un(d,h,v,S+(O?1:-1)*359),E="M".concat(_.x,",").concat(_.y,`
    A`).concat(v,",").concat(v,",0,1,").concat(O?0:1,`,
    `).concat(A.x,",").concat(A.y),P=tr(e.id)?Fh("recharts-radial-line-"):e.id;return X.createElement("text",O0({},n,{dominantBaseline:"central",className:Ft("recharts-radial-bar-label",l)}),X.createElement("defs",null,X.createElement("path",{id:P,d:E})),X.createElement("textPath",{xlinkHref:"#".concat(P)},r))},aEe=function(e){var r=e.viewBox,n=e.offset,s=e.position,i=r,o=i.cx,l=i.cy,c=i.innerRadius,d=i.outerRadius,h=i.startAngle,m=i.endAngle,g=(h+m)/2;if(s==="outside"){var y=un(o,l,d+n,g),w=y.x,j=y.y;return{x:w,y:j,textAnchor:w>=o?"start":"end",verticalAnchor:"middle"}}if(s==="center")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"middle"};if(s==="centerTop")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"start"};if(s==="centerBottom")return{x:o,y:l,textAnchor:"middle",verticalAnchor:"end"};var v=(c+d)/2,N=un(o,l,v,g),T=N.x,S=N.y;return{x:T,y:S,textAnchor:"middle",verticalAnchor:"middle"}},sEe=function(e){var r=e.viewBox,n=e.parentViewBox,s=e.offset,i=e.position,o=r,l=o.x,c=o.y,d=o.width,h=o.height,m=h>=0?1:-1,g=m*s,y=m>0?"end":"start",w=m>0?"start":"end",j=d>=0?1:-1,v=j*s,N=j>0?"end":"start",T=j>0?"start":"end";if(i==="top"){var S={x:l+d/2,y:c-m*s,textAnchor:"middle",verticalAnchor:y};return sa(sa({},S),n?{height:Math.max(c-n.y,0),width:d}:{})}if(i==="bottom"){var O={x:l+d/2,y:c+h+g,textAnchor:"middle",verticalAnchor:w};return sa(sa({},O),n?{height:Math.max(n.y+n.height-(c+h),0),width:d}:{})}if(i==="left"){var _={x:l-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"};return sa(sa({},_),n?{width:Math.max(_.x-n.x,0),height:h}:{})}if(i==="right"){var A={x:l+d+v,y:c+h/2,textAnchor:T,verticalAnchor:"middle"};return sa(sa({},A),n?{width:Math.max(n.x+n.width-A.x,0),height:h}:{})}var E=n?{width:d,height:h}:{};return i==="insideLeft"?sa({x:l+v,y:c+h/2,textAnchor:T,verticalAnchor:"middle"},E):i==="insideRight"?sa({x:l+d-v,y:c+h/2,textAnchor:N,verticalAnchor:"middle"},E):i==="insideTop"?sa({x:l+d/2,y:c+g,textAnchor:"middle",verticalAnchor:w},E):i==="insideBottom"?sa({x:l+d/2,y:c+h-g,textAnchor:"middle",verticalAnchor:y},E):i==="insideTopLeft"?sa({x:l+v,y:c+g,textAnchor:T,verticalAnchor:w},E):i==="insideTopRight"?sa({x:l+d-v,y:c+g,textAnchor:N,verticalAnchor:w},E):i==="insideBottomLeft"?sa({x:l+v,y:c+h-g,textAnchor:T,verticalAnchor:y},E):i==="insideBottomRight"?sa({x:l+d-v,y:c+h-g,textAnchor:N,verticalAnchor:y},E):$h(i)&&(yt(i.x)||Ou(i.x))&&(yt(i.y)||Ou(i.y))?sa({x:l+es(i.x,d),y:c+es(i.y,h),textAnchor:"end",verticalAnchor:"end"},E):sa({x:l+d/2,y:c+h/2,textAnchor:"middle",verticalAnchor:"middle"},E)},iEe=function(e){return"cx"in e&&yt(e.cx)};function pa(t){var e=t.offset,r=e===void 0?5:e,n=XOe(t,qOe),s=sa({offset:r},n),i=s.viewBox,o=s.position,l=s.value,c=s.children,d=s.content,h=s.className,m=h===void 0?"":h,g=s.textBreakAll;if(!i||tr(l)&&tr(c)&&!x.isValidElement(d)&&!Qt(d))return null;if(x.isValidElement(d))return x.cloneElement(d,s);var y;if(Qt(d)){if(y=x.createElement(d,s),x.isValidElement(y))return y}else y=tEe(s);var w=iEe(i),j=Ut(s,!0);if(w&&(o==="insideStart"||o==="insideEnd"||o==="end"))return nEe(s,y,j);var v=w?aEe(s):sEe(s);return X.createElement(sd,O0({className:Ft("recharts-label",m)},j,v,{breakAll:g}),y)}pa.displayName="Label";var mJ=function(e){var r=e.cx,n=e.cy,s=e.angle,i=e.startAngle,o=e.endAngle,l=e.r,c=e.radius,d=e.innerRadius,h=e.outerRadius,m=e.x,g=e.y,y=e.top,w=e.left,j=e.width,v=e.height,N=e.clockWise,T=e.labelViewBox;if(T)return T;if(yt(j)&&yt(v)){if(yt(m)&&yt(g))return{x:m,y:g,width:j,height:v};if(yt(y)&&yt(w))return{x:y,y:w,width:j,height:v}}return yt(m)&&yt(g)?{x:m,y:g,width:0,height:0}:yt(r)&&yt(n)?{cx:r,cy:n,startAngle:i||s||0,endAngle:o||s||0,innerRadius:d||0,outerRadius:h||c||l||0,clockWise:N}:e.viewBox?e.viewBox:{}},oEe=function(e,r){return e?e===!0?X.createElement(pa,{key:"label-implicit",viewBox:r}):la(e)?X.createElement(pa,{key:"label-implicit",viewBox:r,value:e}):x.isValidElement(e)?e.type===pa?x.cloneElement(e,{key:"label-implicit",viewBox:r}):X.createElement(pa,{key:"label-implicit",content:e,viewBox:r}):Qt(e)?X.createElement(pa,{key:"label-implicit",content:e,viewBox:r}):$h(e)?X.createElement(pa,O0({viewBox:r},e,{key:"label-implicit"})):null:null},lEe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var s=e.children,i=mJ(e),o=zs(s,pa).map(function(c,d){return x.cloneElement(c,{viewBox:r||i,key:"label-".concat(d)})});if(!n)return o;var l=oEe(e.label,r||i);return[l].concat(WOe(o))};pa.parseViewBox=mJ;pa.renderCallByParent=lEe;var UT,SH;function cEe(){if(SH)return UT;SH=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return UT=t,UT}var uEe=cEe();const dEe=Pr(uEe);function E0(t){"@babel/helpers - typeof";return E0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E0(t)}var fEe=["valueAccessor"],hEe=["data","dataKey","clockWise","id","textBreakAll"];function mEe(t){return yEe(t)||xEe(t)||gEe(t)||pEe()}function pEe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gEe(t,e){if(t){if(typeof t=="string")return TM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return TM(t,e)}}function xEe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function yEe(t){if(Array.isArray(t))return TM(t)}function TM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function tw(){return tw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tw.apply(this,arguments)}function NH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function kH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NH(Object(r),!0).forEach(function(n){bEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function bEe(t,e,r){return e=vEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vEe(t){var e=wEe(t,"string");return E0(e)=="symbol"?e:e+""}function wEe(t,e){if(E0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CH(t,e){if(t==null)return{};var r=jEe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function jEe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var SEe=function(e){return Array.isArray(e.value)?dEe(e.value):e.value};function bl(t){var e=t.valueAccessor,r=e===void 0?SEe:e,n=CH(t,fEe),s=n.data,i=n.dataKey,o=n.clockWise,l=n.id,c=n.textBreakAll,d=CH(n,hEe);return!s||!s.length?null:X.createElement(Er,{className:"recharts-label-list"},s.map(function(h,m){var g=tr(i)?r(h,m):oa(h&&h.payload,i),y=tr(l)?{}:{id:"".concat(l,"-").concat(m)};return X.createElement(pa,tw({},Ut(h,!0),d,y,{parentViewBox:h.parentViewBox,value:g,textBreakAll:c,viewBox:pa.parseViewBox(tr(o)?h:kH(kH({},h),{},{clockWise:o})),key:"label-".concat(m),index:m}))}))}bl.displayName="LabelList";function NEe(t,e){return t?t===!0?X.createElement(bl,{key:"labelList-implicit",data:e}):X.isValidElement(t)||Qt(t)?X.createElement(bl,{key:"labelList-implicit",data:e,content:t}):$h(t)?X.createElement(bl,tw({data:e},t,{key:"labelList-implicit"})):null:null}function kEe(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var n=t.children,s=zs(n,bl).map(function(o,l){return x.cloneElement(o,{data:e,key:"labelList-".concat(l)})});if(!r)return s;var i=NEe(t.label,e);return[i].concat(mEe(s))}bl.renderCallByParent=kEe;function D0(t){"@babel/helpers - typeof";return D0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},D0(t)}function _M(){return _M=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_M.apply(this,arguments)}function TH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _H(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(r),!0).forEach(function(n){CEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CEe(t,e,r){return e=TEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TEe(t){var e=_Ee(t,"string");return D0(e)=="symbol"?e:e+""}function _Ee(t,e){if(D0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(D0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var MEe=function(e,r){var n=Za(r-e),s=Math.min(Math.abs(r-e),359.999);return n*s},Cy=function(e){var r=e.cx,n=e.cy,s=e.radius,i=e.angle,o=e.sign,l=e.isExternal,c=e.cornerRadius,d=e.cornerIsExternal,h=c*(l?1:-1)+s,m=Math.asin(c/h)/ew,g=d?i:i+o*m,y=un(r,n,h,g),w=un(r,n,s,g),j=d?i-o*m:i,v=un(r,n,h*Math.cos(m*ew),j);return{center:y,circleTangency:w,lineTangency:v,theta:m}},pJ=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.startAngle,l=e.endAngle,c=MEe(o,l),d=o+c,h=un(r,n,i,o),m=un(r,n,i,d),g="M ".concat(h.x,",").concat(h.y,`
    A `).concat(i,",").concat(i,`,0,
    `).concat(+(Math.abs(c)>180),",").concat(+(o>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(s>0){var y=un(r,n,s,o),w=un(r,n,s,d);g+="L ".concat(w.x,",").concat(w.y,`
            A `).concat(s,",").concat(s,`,0,
            `).concat(+(Math.abs(c)>180),",").concat(+(o<=d),`,
            `).concat(y.x,",").concat(y.y," Z")}else g+="L ".concat(r,",").concat(n," Z");return g},AEe=function(e){var r=e.cx,n=e.cy,s=e.innerRadius,i=e.outerRadius,o=e.cornerRadius,l=e.forceCornerRadius,c=e.cornerIsExternal,d=e.startAngle,h=e.endAngle,m=Za(h-d),g=Cy({cx:r,cy:n,radius:i,angle:d,sign:m,cornerRadius:o,cornerIsExternal:c}),y=g.circleTangency,w=g.lineTangency,j=g.theta,v=Cy({cx:r,cy:n,radius:i,angle:h,sign:-m,cornerRadius:o,cornerIsExternal:c}),N=v.circleTangency,T=v.lineTangency,S=v.theta,O=c?Math.abs(d-h):Math.abs(d-h)-j-S;if(O<0)return l?"M ".concat(w.x,",").concat(w.y,`
        a`).concat(o,",").concat(o,",0,0,1,").concat(o*2,`,0
        a`).concat(o,",").concat(o,",0,0,1,").concat(-o*2,`,0
      `):pJ({cx:r,cy:n,innerRadius:s,outerRadius:i,startAngle:d,endAngle:h});var _="M ".concat(w.x,",").concat(w.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(i,",").concat(i,",0,").concat(+(O>180),",").concat(+(m<0),",").concat(N.x,",").concat(N.y,`
    A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(T.x,",").concat(T.y,`
  `);if(s>0){var A=Cy({cx:r,cy:n,radius:s,angle:d,sign:m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),E=A.circleTangency,P=A.lineTangency,$=A.theta,I=Cy({cx:r,cy:n,radius:s,angle:h,sign:-m,isExternal:!0,cornerRadius:o,cornerIsExternal:c}),L=I.circleTangency,R=I.lineTangency,z=I.theta,Y=c?Math.abs(d-h):Math.abs(d-h)-$-z;if(Y<0&&o===0)return"".concat(_,"L").concat(r,",").concat(n,"Z");_+="L".concat(R.x,",").concat(R.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(s,",").concat(s,",0,").concat(+(Y>180),",").concat(+(m>0),",").concat(E.x,",").concat(E.y,`
      A`).concat(o,",").concat(o,",0,0,").concat(+(m<0),",").concat(P.x,",").concat(P.y,"Z")}else _+="L".concat(r,",").concat(n,"Z");return _},OEe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gJ=function(e){var r=_H(_H({},OEe),e),n=r.cx,s=r.cy,i=r.innerRadius,o=r.outerRadius,l=r.cornerRadius,c=r.forceCornerRadius,d=r.cornerIsExternal,h=r.startAngle,m=r.endAngle,g=r.className;if(o<i||h===m)return null;var y=Ft("recharts-sector",g),w=o-i,j=es(l,w,0,!0),v;return j>0&&Math.abs(h-m)<360?v=AEe({cx:n,cy:s,innerRadius:i,outerRadius:o,cornerRadius:Math.min(j,w/2),forceCornerRadius:c,cornerIsExternal:d,startAngle:h,endAngle:m}):v=pJ({cx:n,cy:s,innerRadius:i,outerRadius:o,startAngle:h,endAngle:m}),X.createElement("path",_M({},Ut(r,!0),{className:y,d:v,role:"img"}))};function P0(t){"@babel/helpers - typeof";return P0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},P0(t)}function MM(){return MM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MM.apply(this,arguments)}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function AH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){EEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EEe(t,e,r){return e=DEe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DEe(t){var e=PEe(t,"string");return P0(e)=="symbol"?e:e+""}function PEe(t,e){if(P0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(P0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OH={curveBasisClosed:eke,curveBasisOpen:tke,curveBasis:Z2e,curveBumpX:F2e,curveBumpY:H2e,curveLinearClosed:rke,curveLinear:p1,curveMonotoneX:nke,curveMonotoneY:ake,curveNatural:ske,curveStep:ike,curveStepAfter:lke,curveStepBefore:oke},Ty=function(e){return e.x===+e.x&&e.y===+e.y},sp=function(e){return e.x},ip=function(e){return e.y},REe=function(e,r){if(Qt(e))return e;var n="curve".concat(h1(e));return(n==="curveMonotone"||n==="curveBump")&&r?OH["".concat(n).concat(r==="vertical"?"Y":"X")]:OH[n]||p1},IEe=function(e){var r=e.type,n=r===void 0?"linear":r,s=e.points,i=s===void 0?[]:s,o=e.baseLine,l=e.layout,c=e.connectNulls,d=c===void 0?!1:c,h=REe(n,l),m=d?i.filter(function(j){return Ty(j)}):i,g;if(Array.isArray(o)){var y=d?o.filter(function(j){return Ty(j)}):o,w=m.map(function(j,v){return AH(AH({},j),{},{base:y[v]})});return l==="vertical"?g=yy().y(ip).x1(sp).x0(function(j){return j.base.x}):g=yy().x(sp).y1(ip).y0(function(j){return j.base.y}),g.defined(Ty).curve(h),g(w)}return l==="vertical"&&yt(o)?g=yy().y(ip).x1(sp).x0(o):yt(o)?g=yy().x(sp).y1(ip).y0(o):g=mK().x(sp).y(ip),g.defined(Ty).curve(h),g(m)},rw=function(e){var r=e.className,n=e.points,s=e.path,i=e.pathRef;if((!n||!n.length)&&!s)return null;var o=n&&n.length?IEe(e):s;return x.createElement("path",MM({},Ut(e,!1),Mv(e),{className:Ft("recharts-curve",r),d:o,ref:i}))},GT={exports:{}},YT,EH;function LEe(){if(EH)return YT;EH=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return YT=t,YT}var KT,DH;function $Ee(){if(DH)return KT;DH=1;var t=LEe();function e(){}function r(){}return r.resetWarningCache=e,KT=function(){function n(o,l,c,d,h,m){if(m!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function s(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:s,element:n,elementType:n,instanceOf:s,node:n,objectOf:s,oneOf:s,oneOfType:s,shape:s,exact:s,checkPropTypes:r,resetWarningCache:e};return i.PropTypes=i,i},KT}var PH;function FEe(){return PH||(PH=1,GT.exports=$Ee()()),GT.exports}var HEe=FEe();const Br=Pr(HEe);var BEe=Object.getOwnPropertyNames,zEe=Object.getOwnPropertySymbols,VEe=Object.prototype.hasOwnProperty;function RH(t,e){return function(n,s,i){return t(n,s,i)&&e(n,s,i)}}function _y(t){return function(r,n,s){if(!r||!n||typeof r!="object"||typeof n!="object")return t(r,n,s);var i=s.cache,o=i.get(r),l=i.get(n);if(o&&l)return o===n&&l===r;i.set(r,n),i.set(n,r);var c=t(r,n,s);return i.delete(r),i.delete(n),c}}function qEe(t){return t!=null?t[Symbol.toStringTag]:void 0}function IH(t){return BEe(t).concat(zEe(t))}var WEe=Object.hasOwn||(function(t,e){return VEe.call(t,e)});function gd(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var UEe="__v",GEe="__o",YEe="_owner",LH=Object.getOwnPropertyDescriptor,$H=Object.keys;function KEe(t,e,r){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(!r.equals(t[n],e[n],n,n,t,e,r))return!1;return!0}function XEe(t,e){return gd(t.getTime(),e.getTime())}function JEe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function QEe(t,e){return t===e}function FH(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.entries(),o,l,c=0;(o=i.next())&&!o.done;){for(var d=e.entries(),h=!1,m=0;(l=d.next())&&!l.done;){if(s[m]){m++;continue}var g=o.value,y=l.value;if(r.equals(g[0],y[0],c,m,t,e,r)&&r.equals(g[1],y[1],g[0],y[0],t,e,r)){h=s[m]=!0;break}m++}if(!h)return!1;c++}return!0}var ZEe=gd;function eDe(t,e,r){var n=$H(t),s=n.length;if($H(e).length!==s)return!1;for(;s-- >0;)if(!xJ(t,e,r,n[s]))return!1;return!0}function op(t,e,r){var n=IH(t),s=n.length;if(IH(e).length!==s)return!1;for(var i,o,l;s-- >0;)if(i=n[s],!xJ(t,e,r,i)||(o=LH(t,i),l=LH(e,i),(o||l)&&(!o||!l||o.configurable!==l.configurable||o.enumerable!==l.enumerable||o.writable!==l.writable)))return!1;return!0}function tDe(t,e){return gd(t.valueOf(),e.valueOf())}function rDe(t,e){return t.source===e.source&&t.flags===e.flags}function HH(t,e,r){var n=t.size;if(n!==e.size)return!1;if(!n)return!0;for(var s=new Array(n),i=t.values(),o,l;(o=i.next())&&!o.done;){for(var c=e.values(),d=!1,h=0;(l=c.next())&&!l.done;){if(!s[h]&&r.equals(o.value,l.value,o.value,l.value,t,e,r)){d=s[h]=!0;break}h++}if(!d)return!1}return!0}function nDe(t,e){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(t[r]!==e[r])return!1;return!0}function aDe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function xJ(t,e,r,n){return(n===YEe||n===GEe||n===UEe)&&(t.$$typeof||e.$$typeof)?!0:WEe(e,n)&&r.equals(t[n],e[n],n,n,t,e,r)}var sDe="[object Arguments]",iDe="[object Boolean]",oDe="[object Date]",lDe="[object Error]",cDe="[object Map]",uDe="[object Number]",dDe="[object Object]",fDe="[object RegExp]",hDe="[object Set]",mDe="[object String]",pDe="[object URL]",gDe=Array.isArray,BH=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,zH=Object.assign,xDe=Object.prototype.toString.call.bind(Object.prototype.toString);function yDe(t){var e=t.areArraysEqual,r=t.areDatesEqual,n=t.areErrorsEqual,s=t.areFunctionsEqual,i=t.areMapsEqual,o=t.areNumbersEqual,l=t.areObjectsEqual,c=t.arePrimitiveWrappersEqual,d=t.areRegExpsEqual,h=t.areSetsEqual,m=t.areTypedArraysEqual,g=t.areUrlsEqual,y=t.unknownTagComparators;return function(j,v,N){if(j===v)return!0;if(j==null||v==null)return!1;var T=typeof j;if(T!==typeof v)return!1;if(T!=="object")return T==="number"?o(j,v,N):T==="function"?s(j,v,N):!1;var S=j.constructor;if(S!==v.constructor)return!1;if(S===Object)return l(j,v,N);if(gDe(j))return e(j,v,N);if(BH!=null&&BH(j))return m(j,v,N);if(S===Date)return r(j,v,N);if(S===RegExp)return d(j,v,N);if(S===Map)return i(j,v,N);if(S===Set)return h(j,v,N);var O=xDe(j);if(O===oDe)return r(j,v,N);if(O===fDe)return d(j,v,N);if(O===cDe)return i(j,v,N);if(O===hDe)return h(j,v,N);if(O===dDe)return typeof j.then!="function"&&typeof v.then!="function"&&l(j,v,N);if(O===pDe)return g(j,v,N);if(O===lDe)return n(j,v,N);if(O===sDe)return l(j,v,N);if(O===iDe||O===uDe||O===mDe)return c(j,v,N);if(y){var _=y[O];if(!_){var A=qEe(j);A&&(_=y[A])}if(_)return _(j,v,N)}return!1}}function bDe(t){var e=t.circular,r=t.createCustomConfig,n=t.strict,s={areArraysEqual:n?op:KEe,areDatesEqual:XEe,areErrorsEqual:JEe,areFunctionsEqual:QEe,areMapsEqual:n?RH(FH,op):FH,areNumbersEqual:ZEe,areObjectsEqual:n?op:eDe,arePrimitiveWrappersEqual:tDe,areRegExpsEqual:rDe,areSetsEqual:n?RH(HH,op):HH,areTypedArraysEqual:n?op:nDe,areUrlsEqual:aDe,unknownTagComparators:void 0};if(r&&(s=zH({},s,r(s))),e){var i=_y(s.areArraysEqual),o=_y(s.areMapsEqual),l=_y(s.areObjectsEqual),c=_y(s.areSetsEqual);s=zH({},s,{areArraysEqual:i,areMapsEqual:o,areObjectsEqual:l,areSetsEqual:c})}return s}function vDe(t){return function(e,r,n,s,i,o,l){return t(e,r,l)}}function wDe(t){var e=t.circular,r=t.comparator,n=t.createState,s=t.equals,i=t.strict;if(n)return function(c,d){var h=n(),m=h.cache,g=m===void 0?e?new WeakMap:void 0:m,y=h.meta;return r(c,d,{cache:g,equals:s,meta:y,strict:i})};if(e)return function(c,d){return r(c,d,{cache:new WeakMap,equals:s,meta:void 0,strict:i})};var o={cache:void 0,equals:s,meta:void 0,strict:i};return function(c,d){return r(c,d,o)}}var jDe=Wc();Wc({strict:!0});Wc({circular:!0});Wc({circular:!0,strict:!0});Wc({createInternalComparator:function(){return gd}});Wc({strict:!0,createInternalComparator:function(){return gd}});Wc({circular:!0,createInternalComparator:function(){return gd}});Wc({circular:!0,createInternalComparator:function(){return gd},strict:!0});function Wc(t){t===void 0&&(t={});var e=t.circular,r=e===void 0?!1:e,n=t.createInternalComparator,s=t.createState,i=t.strict,o=i===void 0?!1:i,l=bDe(t),c=yDe(l),d=n?n(c):vDe(c);return wDe({circular:r,comparator:c,createState:s,equals:d,strict:o})}function SDe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function VH(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=-1,n=function s(i){r<0&&(r=i),i-r>e?(t(i),r=-1):SDe(s)};requestAnimationFrame(n)}function AM(t){"@babel/helpers - typeof";return AM=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},AM(t)}function NDe(t){return _De(t)||TDe(t)||CDe(t)||kDe()}function kDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CDe(t,e){if(t){if(typeof t=="string")return qH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return qH(t,e)}}function qH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function TDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function _De(t){if(Array.isArray(t))return t}function MDe(){var t={},e=function(){return null},r=!1,n=function s(i){if(!r){if(Array.isArray(i)){if(!i.length)return;var o=i,l=NDe(o),c=l[0],d=l.slice(1);if(typeof c=="number"){VH(s.bind(null,d),c);return}s(c),VH(s.bind(null,d));return}AM(i)==="object"&&(t=i,e(t)),typeof i=="function"&&i()}};return{stop:function(){r=!0},start:function(i){r=!1,n(i)},subscribe:function(i){return e=i,function(){e=function(){return null}}}}}function R0(t){"@babel/helpers - typeof";return R0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},R0(t)}function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function UH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){yJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yJ(t,e,r){return e=ADe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ADe(t){var e=ODe(t,"string");return R0(e)==="symbol"?e:String(e)}function ODe(t,e){if(R0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(R0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var EDe=function(e,r){return[Object.keys(e),Object.keys(r)].reduce(function(n,s){return n.filter(function(i){return s.includes(i)})})},DDe=function(e){return e},PDe=function(e){return e.replace(/([A-Z])/g,function(r){return"-".concat(r.toLowerCase())})},Fp=function(e,r){return Object.keys(r).reduce(function(n,s){return UH(UH({},n),{},yJ({},s,e(s,r[s])))},{})},GH=function(e,r,n){return e.map(function(s){return"".concat(PDe(s)," ").concat(r,"ms ").concat(n)}).join(",")};function RDe(t,e){return $De(t)||LDe(t,e)||bJ(t,e)||IDe()}function IDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function LDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function $De(t){if(Array.isArray(t))return t}function FDe(t){return zDe(t)||BDe(t)||bJ(t)||HDe()}function HDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bJ(t,e){if(t){if(typeof t=="string")return OM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return OM(t,e)}}function BDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function zDe(t){if(Array.isArray(t))return OM(t)}function OM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var nw=1e-4,vJ=function(e,r){return[0,3*e,3*r-6*e,3*e-3*r+1]},wJ=function(e,r){return e.map(function(n,s){return n*Math.pow(r,s)}).reduce(function(n,s){return n+s})},YH=function(e,r){return function(n){var s=vJ(e,r);return wJ(s,n)}},VDe=function(e,r){return function(n){var s=vJ(e,r),i=[].concat(FDe(s.map(function(o,l){return o*l}).slice(1)),[0]);return wJ(i,n)}},KH=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0],i=r[1],o=r[2],l=r[3];if(r.length===1)switch(r[0]){case"linear":s=0,i=0,o=1,l=1;break;case"ease":s=.25,i=.1,o=.25,l=1;break;case"ease-in":s=.42,i=0,o=1,l=1;break;case"ease-out":s=.42,i=0,o=.58,l=1;break;case"ease-in-out":s=0,i=0,o=.58,l=1;break;default:{var c=r[0].split("(");if(c[0]==="cubic-bezier"&&c[1].split(")")[0].split(",").length===4){var d=c[1].split(")")[0].split(",").map(function(v){return parseFloat(v)}),h=RDe(d,4);s=h[0],i=h[1],o=h[2],l=h[3]}}}var m=YH(s,o),g=YH(i,l),y=VDe(s,o),w=function(N){return N>1?1:N<0?0:N},j=function(N){for(var T=N>1?1:N,S=T,O=0;O<8;++O){var _=m(S)-T,A=y(S);if(Math.abs(_-T)<nw||A<nw)return g(S);S=w(S-_/A)}return g(S)};return j.isStepper=!1,j},qDe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=e.stiff,n=r===void 0?100:r,s=e.damping,i=s===void 0?8:s,o=e.dt,l=o===void 0?17:o,c=function(h,m,g){var y=-(h-m)*n,w=g*i,j=g+(y-w)*l/1e3,v=g*l/1e3+h;return Math.abs(v-m)<nw&&Math.abs(j)<nw?[m,0]:[v,j]};return c.isStepper=!0,c.dt=l,c},WDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var s=r[0];if(typeof s=="string")switch(s){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KH(s);case"spring":return qDe();default:if(s.split("(")[0]==="cubic-bezier")return KH(s)}return typeof s=="function"?s:null};function I0(t){"@babel/helpers - typeof";return I0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},I0(t)}function XH(t){return YDe(t)||GDe(t)||jJ(t)||UDe()}function UDe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GDe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function YDe(t){if(Array.isArray(t))return DM(t)}function JH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?JH(Object(r),!0).forEach(function(n){EM(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):JH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EM(t,e,r){return e=KDe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KDe(t){var e=XDe(t,"string");return I0(e)==="symbol"?e:String(e)}function XDe(t,e){if(I0(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(I0(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JDe(t,e){return ePe(t)||ZDe(t,e)||jJ(t,e)||QDe()}function QDe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function jJ(t,e){if(t){if(typeof t=="string")return DM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return DM(t,e)}}function DM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function ZDe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function ePe(t){if(Array.isArray(t))return t}var aw=function(e,r,n){return e+(r-e)*n},PM=function(e){var r=e.from,n=e.to;return r!==n},tPe=function t(e,r,n){var s=Fp(function(i,o){if(PM(o)){var l=e(o.from,o.to,o.velocity),c=JDe(l,2),d=c[0],h=c[1];return Ta(Ta({},o),{},{from:d,velocity:h})}return o},r);return n<1?Fp(function(i,o){return PM(o)?Ta(Ta({},o),{},{velocity:aw(o.velocity,s[i].velocity,n),from:aw(o.from,s[i].from,n)}):o},r):t(e,s,n-1)};const rPe=(function(t,e,r,n,s){var i=EDe(t,e),o=i.reduce(function(v,N){return Ta(Ta({},v),{},EM({},N,[t[N],e[N]]))},{}),l=i.reduce(function(v,N){return Ta(Ta({},v),{},EM({},N,{from:t[N],velocity:0,to:e[N]}))},{}),c=-1,d,h,m=function(){return null},g=function(){return Fp(function(N,T){return T.from},l)},y=function(){return!Object.values(l).filter(PM).length},w=function(N){d||(d=N);var T=N-d,S=T/r.dt;l=tPe(r,l,S),s(Ta(Ta(Ta({},t),e),g())),d=N,y()||(c=requestAnimationFrame(m))},j=function(N){h||(h=N);var T=(N-h)/n,S=Fp(function(_,A){return aw.apply(void 0,XH(A).concat([r(T)]))},o);if(s(Ta(Ta(Ta({},t),e),S)),T<1)c=requestAnimationFrame(m);else{var O=Fp(function(_,A){return aw.apply(void 0,XH(A).concat([r(1)]))},o);s(Ta(Ta(Ta({},t),e),O))}};return m=r.isStepper?w:j,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(c)}}});function dh(t){"@babel/helpers - typeof";return dh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},dh(t)}var nPe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function aPe(t,e){if(t==null)return{};var r=sPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function sPe(t,e){if(t==null)return{};var r={},n=Object.keys(t),s,i;for(i=0;i<n.length;i++)s=n[i],!(e.indexOf(s)>=0)&&(r[s]=t[s]);return r}function XT(t){return cPe(t)||lPe(t)||oPe(t)||iPe()}function iPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oPe(t,e){if(t){if(typeof t=="string")return RM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return RM(t,e)}}function lPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function cPe(t){if(Array.isArray(t))return RM(t)}function RM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function QH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QH(Object(r),!0).forEach(function(n){vp(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vp(t,e,r){return e=SJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uPe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dPe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,SJ(n.key),n)}}function fPe(t,e,r){return e&&dPe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function SJ(t){var e=hPe(t,"string");return dh(e)==="symbol"?e:String(e)}function hPe(t,e){if(dh(t)!=="object"||t===null)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(dh(n)!=="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mPe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&IM(t,e)}function IM(t,e){return IM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},IM(t,e)}function pPe(t){var e=gPe();return function(){var n=sw(t),s;if(e){var i=sw(this).constructor;s=Reflect.construct(n,arguments,i)}else s=n.apply(this,arguments);return LM(this,s)}}function LM(t,e){if(e&&(dh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $M(t)}function $M(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gPe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function sw(t){return sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},sw(t)}var ko=(function(t){mPe(r,t);var e=pPe(r);function r(n,s){var i;uPe(this,r),i=e.call(this,n,s);var o=i.props,l=o.isActive,c=o.attributeName,d=o.from,h=o.to,m=o.steps,g=o.children,y=o.duration;if(i.handleStyleChange=i.handleStyleChange.bind($M(i)),i.changeStyle=i.changeStyle.bind($M(i)),!l||y<=0)return i.state={style:{}},typeof g=="function"&&(i.state={style:h}),LM(i);if(m&&m.length)i.state={style:m[0].style};else if(d){if(typeof g=="function")return i.state={style:d},LM(i);i.state={style:c?vp({},c,d):d}}else i.state={style:{}};return i}return fPe(r,[{key:"componentDidMount",value:function(){var s=this.props,i=s.isActive,o=s.canBegin;this.mounted=!0,!(!i||!o)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(s){var i=this.props,o=i.isActive,l=i.canBegin,c=i.attributeName,d=i.shouldReAnimate,h=i.to,m=i.from,g=this.state.style;if(l){if(!o){var y={style:c?vp({},c,h):h};this.state&&g&&(c&&g[c]!==h||!c&&g!==h)&&this.setState(y);return}if(!(jDe(s.to,h)&&s.canBegin&&s.isActive)){var w=!s.canBegin||!s.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var j=w||d?m:s.to;if(this.state&&g){var v={style:c?vp({},c,j):j};(c&&g[c]!==j||!c&&g!==j)&&this.setState(v)}this.runAnimation(_i(_i({},this.props),{},{from:j,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var s=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),s&&s()}},{key:"handleStyleChange",value:function(s){this.changeStyle(s)}},{key:"changeStyle",value:function(s){this.mounted&&this.setState({style:s})}},{key:"runJSAnimation",value:function(s){var i=this,o=s.from,l=s.to,c=s.duration,d=s.easing,h=s.begin,m=s.onAnimationEnd,g=s.onAnimationStart,y=rPe(o,l,WDe(d),c,this.changeStyle),w=function(){i.stopJSAnimation=y()};this.manager.start([g,h,w,c,m])}},{key:"runStepAnimation",value:function(s){var i=this,o=s.steps,l=s.begin,c=s.onAnimationStart,d=o[0],h=d.style,m=d.duration,g=m===void 0?0:m,y=function(j,v,N){if(N===0)return j;var T=v.duration,S=v.easing,O=S===void 0?"ease":S,_=v.style,A=v.properties,E=v.onAnimationEnd,P=N>0?o[N-1]:v,$=A||Object.keys(_);if(typeof O=="function"||O==="spring")return[].concat(XT(j),[i.runJSAnimation.bind(i,{from:P.style,to:_,duration:T,easing:O}),T]);var I=GH($,T,O),L=_i(_i(_i({},P.style),_),{},{transition:I});return[].concat(XT(j),[L,T,E]).filter(DDe)};return this.manager.start([c].concat(XT(o.reduce(y,[h,Math.max(g,l)])),[s.onAnimationEnd]))}},{key:"runAnimation",value:function(s){this.manager||(this.manager=MDe());var i=s.begin,o=s.duration,l=s.attributeName,c=s.to,d=s.easing,h=s.onAnimationStart,m=s.onAnimationEnd,g=s.steps,y=s.children,w=this.manager;if(this.unSubscribe=w.subscribe(this.handleStyleChange),typeof d=="function"||typeof y=="function"||d==="spring"){this.runJSAnimation(s);return}if(g.length>1){this.runStepAnimation(s);return}var j=l?vp({},l,c):c,v=GH(Object.keys(j),o,d);w.start([h,i,_i(_i({},j),{},{transition:v}),o,m])}},{key:"render",value:function(){var s=this.props,i=s.children;s.begin;var o=s.duration;s.attributeName,s.easing;var l=s.isActive;s.steps,s.from,s.to,s.canBegin,s.onAnimationEnd,s.shouldReAnimate,s.onAnimationReStart;var c=aPe(s,nPe),d=x.Children.count(i),h=this.state.style;if(typeof i=="function")return i(h);if(!l||d===0||o<=0)return i;var m=function(y){var w=y.props,j=w.style,v=j===void 0?{}:j,N=w.className,T=x.cloneElement(y,_i(_i({},c),{},{style:_i(_i({},v),h),className:N}));return T};return d===1?m(x.Children.only(i)):X.createElement("div",null,x.Children.map(i,function(g){return m(g)}))}}]),r})(x.PureComponent);ko.displayName="Animate";ko.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};ko.propTypes={from:Br.oneOfType([Br.object,Br.string]),to:Br.oneOfType([Br.object,Br.string]),attributeName:Br.string,duration:Br.number,begin:Br.number,easing:Br.oneOfType([Br.string,Br.func]),steps:Br.arrayOf(Br.shape({duration:Br.number.isRequired,style:Br.object.isRequired,easing:Br.oneOfType([Br.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),Br.func]),properties:Br.arrayOf("string"),onAnimationEnd:Br.func})),children:Br.oneOfType([Br.node,Br.func]),isActive:Br.bool,canBegin:Br.bool,onAnimationEnd:Br.func,shouldReAnimate:Br.bool,onAnimationStart:Br.func,onAnimationReStart:Br.func};function L0(t){"@babel/helpers - typeof";return L0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},L0(t)}function iw(){return iw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iw.apply(this,arguments)}function xPe(t,e){return wPe(t)||vPe(t,e)||bPe(t,e)||yPe()}function yPe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bPe(t,e){if(t){if(typeof t=="string")return ZH(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ZH(t,e)}}function ZH(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function vPe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function wPe(t){if(Array.isArray(t))return t}function eB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function tB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eB(Object(r),!0).forEach(function(n){jPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jPe(t,e,r){return e=SPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function SPe(t){var e=NPe(t,"string");return L0(e)=="symbol"?e:e+""}function NPe(t,e){if(L0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(L0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rB=function(e,r,n,s,i){var o=Math.min(Math.abs(n)/2,Math.abs(s)/2),l=s>=0?1:-1,c=n>=0?1:-1,d=s>=0&&n>=0||s<0&&n<0?1:0,h;if(o>0&&i instanceof Array){for(var m=[0,0,0,0],g=0,y=4;g<y;g++)m[g]=i[g]>o?o:i[g];h="M".concat(e,",").concat(r+l*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(e+c*m[0],",").concat(r)),h+="L ".concat(e+n-c*m[1],",").concat(r),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(e+n,",").concat(r+l*m[1])),h+="L ".concat(e+n,",").concat(r+s-l*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(e+n-c*m[2],",").concat(r+s)),h+="L ".concat(e+c*m[3],",").concat(r+s),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(e,",").concat(r+s-l*m[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var w=Math.min(o,i);h="M ".concat(e,",").concat(r+l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+c*w,",").concat(r,`
            L `).concat(e+n-c*w,",").concat(r,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n,",").concat(r+l*w,`
            L `).concat(e+n,",").concat(r+s-l*w,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e+n-c*w,",").concat(r+s,`
            L `).concat(e+c*w,",").concat(r+s,`
            A `).concat(w,",").concat(w,",0,0,").concat(d,",").concat(e,",").concat(r+s-l*w," Z")}else h="M ".concat(e,",").concat(r," h ").concat(n," v ").concat(s," h ").concat(-n," Z");return h},kPe=function(e,r){if(!e||!r)return!1;var n=e.x,s=e.y,i=r.x,o=r.y,l=r.width,c=r.height;if(Math.abs(l)>0&&Math.abs(c)>0){var d=Math.min(i,i+l),h=Math.max(i,i+l),m=Math.min(o,o+c),g=Math.max(o,o+c);return n>=d&&n<=h&&s>=m&&s<=g}return!1},CPe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},tD=function(e){var r=tB(tB({},CPe),e),n=x.useRef(),s=x.useState(-1),i=xPe(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var O=n.current.getTotalLength();O&&l(O)}catch{}},[]);var c=r.x,d=r.y,h=r.width,m=r.height,g=r.radius,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isAnimationActive,T=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var S=Ft("recharts-rectangle",y);return T?X.createElement(ko,{canBegin:o>0,from:{width:h,height:m,x:c,y:d},to:{width:h,height:m,x:c,y:d},duration:j,animationEasing:w,isActive:T},function(O){var _=O.width,A=O.height,E=O.x,P=O.y;return X.createElement(ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,isActive:N,easing:w},X.createElement("path",iw({},Ut(r,!0),{className:S,d:rB(E,P,_,A,g),ref:n})))}):X.createElement("path",iw({},Ut(r,!0),{className:S,d:rB(c,d,h,m,g)}))},TPe=["points","className","baseLinePoints","connectNulls"];function bf(){return bf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bf.apply(this,arguments)}function _Pe(t,e){if(t==null)return{};var r=MPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function nB(t){return DPe(t)||EPe(t)||OPe(t)||APe()}function APe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function OPe(t,e){if(t){if(typeof t=="string")return FM(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return FM(t,e)}}function EPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DPe(t){if(Array.isArray(t))return FM(t)}function FM(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var aB=function(e){return e&&e.x===+e.x&&e.y===+e.y},PPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],r=[[]];return e.forEach(function(n){aB(n)?r[r.length-1].push(n):r[r.length-1].length>0&&r.push([])}),aB(e[0])&&r[r.length-1].push(e[0]),r[r.length-1].length<=0&&(r=r.slice(0,-1)),r},Hp=function(e,r){var n=PPe(e);r&&(n=[n.reduce(function(i,o){return[].concat(nB(i),nB(o))},[])]);var s=n.map(function(i){return i.reduce(function(o,l,c){return"".concat(o).concat(c===0?"M":"L").concat(l.x,",").concat(l.y)},"")}).join("");return n.length===1?"".concat(s,"Z"):s},RPe=function(e,r,n){var s=Hp(e,n);return"".concat(s.slice(-1)==="Z"?s.slice(0,-1):s,"L").concat(Hp(r.reverse(),n).slice(1))},IPe=function(e){var r=e.points,n=e.className,s=e.baseLinePoints,i=e.connectNulls,o=_Pe(e,TPe);if(!r||!r.length)return null;var l=Ft("recharts-polygon",n);if(s&&s.length){var c=o.stroke&&o.stroke!=="none",d=RPe(r,s,i);return X.createElement("g",{className:l},X.createElement("path",bf({},Ut(o,!0),{fill:d.slice(-1)==="Z"?o.fill:"none",stroke:"none",d})),c?X.createElement("path",bf({},Ut(o,!0),{fill:"none",d:Hp(r,i)})):null,c?X.createElement("path",bf({},Ut(o,!0),{fill:"none",d:Hp(s,i)})):null)}var h=Hp(r,i);return X.createElement("path",bf({},Ut(o,!0),{fill:h.slice(-1)==="Z"?o.fill:"none",className:l,d:h}))};function HM(){return HM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},HM.apply(this,arguments)}var O1=function(e){var r=e.cx,n=e.cy,s=e.r,i=e.className,o=Ft("recharts-dot",i);return r===+r&&n===+n&&s===+s?x.createElement("circle",HM({},Ut(e,!1),Mv(e),{className:o,cx:r,cy:n,r:s})):null};function $0(t){"@babel/helpers - typeof";return $0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$0(t)}var LPe=["x","y","top","left","width","height","className"];function BM(){return BM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BM.apply(this,arguments)}function sB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $Pe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sB(Object(r),!0).forEach(function(n){FPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function FPe(t,e,r){return e=HPe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function HPe(t){var e=BPe(t,"string");return $0(e)=="symbol"?e:e+""}function BPe(t,e){if($0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if($0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zPe(t,e){if(t==null)return{};var r=VPe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function VPe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var qPe=function(e,r,n,s,i,o){return"M".concat(e,",").concat(i,"v").concat(s,"M").concat(o,",").concat(r,"h").concat(n)},WPe=function(e){var r=e.x,n=r===void 0?0:r,s=e.y,i=s===void 0?0:s,o=e.top,l=o===void 0?0:o,c=e.left,d=c===void 0?0:c,h=e.width,m=h===void 0?0:h,g=e.height,y=g===void 0?0:g,w=e.className,j=zPe(e,LPe),v=$Pe({x:n,y:i,top:l,left:d,width:m,height:y},j);return!yt(n)||!yt(i)||!yt(m)||!yt(y)||!yt(l)||!yt(d)?null:X.createElement("path",BM({},Ut(v,!0),{className:Ft("recharts-cross",w),d:qPe(n,i,m,y,l,d)}))},JT,iB;function UPe(){if(iB)return JT;iB=1;var t=C1(),e=$X(),r=Ao();function n(s,i){return s&&s.length?t(s,r(i,2),e):void 0}return JT=n,JT}var GPe=UPe();const YPe=Pr(GPe);var QT,oB;function KPe(){if(oB)return QT;oB=1;var t=C1(),e=Ao(),r=FX();function n(s,i){return s&&s.length?t(s,e(i,2),r):void 0}return QT=n,QT}var XPe=KPe();const JPe=Pr(XPe);var QPe=["cx","cy","angle","ticks","axisLine"],ZPe=["ticks","tick","angle","tickFormatter","stroke"];function fh(t){"@babel/helpers - typeof";return fh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},fh(t)}function Bp(){return Bp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Bp.apply(this,arguments)}function lB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function hu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lB(Object(r),!0).forEach(function(n){E1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cB(t,e){if(t==null)return{};var r=e4e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function e4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function t4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function uB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,kJ(n.key),n)}}function r4e(t,e,r){return e&&uB(t.prototype,e),r&&uB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function n4e(t,e,r){return e=ow(e),a4e(t,NJ()?Reflect.construct(e,r||[],ow(t).constructor):e.apply(t,r))}function a4e(t,e){if(e&&(fh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return s4e(t)}function s4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function NJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(NJ=function(){return!!t})()}function ow(t){return ow=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ow(t)}function i4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&zM(t,e)}function zM(t,e){return zM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},zM(t,e)}function E1(t,e,r){return e=kJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kJ(t){var e=o4e(t,"string");return fh(e)=="symbol"?e:e+""}function o4e(t,e){if(fh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(fh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D1=(function(t){function e(){return t4e(this,e),n4e(this,e,arguments)}return i4e(e,t),r4e(e,[{key:"getTickValueCoord",value:function(n){var s=n.coordinate,i=this.props,o=i.angle,l=i.cx,c=i.cy;return un(l,c,s,o)}},{key:"getTickTextAnchor",value:function(){var n=this.props.orientation,s;switch(n){case"left":s="end";break;case"right":s="start";break;default:s="middle";break}return s}},{key:"getViewBox",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=YPe(l,function(h){return h.coordinate||0}),d=JPe(l,function(h){return h.coordinate||0});return{cx:s,cy:i,startAngle:o,endAngle:o,innerRadius:d.coordinate||0,outerRadius:c.coordinate||0}}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.angle,l=n.ticks,c=n.axisLine,d=cB(n,QPe),h=l.reduce(function(w,j){return[Math.min(w[0],j.coordinate),Math.max(w[1],j.coordinate)]},[1/0,-1/0]),m=un(s,i,h[0],o),g=un(s,i,h[1],o),y=hu(hu(hu({},Ut(d,!1)),{},{fill:"none"},Ut(c,!1)),{},{x1:m.x,y1:m.y,x2:g.x,y2:g.y});return X.createElement("line",Bp({className:"recharts-polar-radius-axis-line"},y))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.angle,c=s.tickFormatter,d=s.stroke,h=cB(s,ZPe),m=this.getTickTextAnchor(),g=Ut(h,!1),y=Ut(o,!1),w=i.map(function(j,v){var N=n.getTickValueCoord(j),T=hu(hu(hu(hu({textAnchor:m,transform:"rotate(".concat(90-l,", ").concat(N.x,", ").concat(N.y,")")},g),{},{stroke:"none",fill:d},y),{},{index:v},N),{},{payload:j});return X.createElement(Er,Bp({className:Ft("recharts-polar-radius-axis-tick",hJ(o)),key:"tick-".concat(j.coordinate)},ad(n.props,j,v)),e.renderTickItem(o,T,c?c(j.value,v):j.value))});return X.createElement(Er,{className:"recharts-polar-radius-axis-ticks"},w)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.axisLine,o=n.tick;return!s||!s.length?null:X.createElement(Er,{className:Ft("recharts-polar-radius-axis",this.props.className)},i&&this.renderAxisLine(),o&&this.renderTicks(),pa.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(n,s,i){var o;return X.isValidElement(n)?o=X.cloneElement(n,s):Qt(n)?o=n(s):o=X.createElement(sd,Bp({},s,{className:"recharts-polar-radius-axis-tick-value"}),i),o}}])})(x.PureComponent);E1(D1,"displayName","PolarRadiusAxis");E1(D1,"axisType","radiusAxis");E1(D1,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function hh(t){"@babel/helpers - typeof";return hh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hh(t)}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function dB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function mu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dB(Object(r),!0).forEach(function(n){P1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function l4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,TJ(n.key),n)}}function c4e(t,e,r){return e&&fB(t.prototype,e),r&&fB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function u4e(t,e,r){return e=lw(e),d4e(t,CJ()?Reflect.construct(e,r||[],lw(t).constructor):e.apply(t,r))}function d4e(t,e){if(e&&(hh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return f4e(t)}function f4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function CJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(CJ=function(){return!!t})()}function lw(t){return lw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},lw(t)}function h4e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&VM(t,e)}function VM(t,e){return VM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},VM(t,e)}function P1(t,e,r){return e=TJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TJ(t){var e=m4e(t,"string");return hh(e)=="symbol"?e:e+""}function m4e(t,e){if(hh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(hh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var p4e=Math.PI/180,hB=1e-5,R1=(function(t){function e(){return l4e(this,e),u4e(this,e,arguments)}return h4e(e,t),c4e(e,[{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.cx,o=s.cy,l=s.radius,c=s.orientation,d=s.tickSize,h=d||8,m=un(i,o,l,n.coordinate),g=un(i,o,l+(c==="inner"?-1:1)*h,n.coordinate);return{x1:m.x,y1:m.y,x2:g.x,y2:g.y}}},{key:"getTickTextAnchor",value:function(n){var s=this.props.orientation,i=Math.cos(-n.coordinate*p4e),o;return i>hB?o=s==="outer"?"start":"end":i<-hB?o=s==="outer"?"end":"start":o="middle",o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.cx,i=n.cy,o=n.radius,l=n.axisLine,c=n.axisLineType,d=mu(mu({},Ut(this.props,!1)),{},{fill:"none"},Ut(l,!1));if(c==="circle")return X.createElement(O1,wu({className:"recharts-polar-angle-axis-line"},d,{cx:s,cy:i,r:o}));var h=this.props.ticks,m=h.map(function(g){return un(s,i,o,g.coordinate)});return X.createElement(IPe,wu({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var n=this,s=this.props,i=s.ticks,o=s.tick,l=s.tickLine,c=s.tickFormatter,d=s.stroke,h=Ut(this.props,!1),m=Ut(o,!1),g=mu(mu({},h),{},{fill:"none"},Ut(l,!1)),y=i.map(function(w,j){var v=n.getTickLineCoord(w),N=n.getTickTextAnchor(w),T=mu(mu(mu({textAnchor:N},h),{},{stroke:"none",fill:d},m),{},{index:j,payload:w,x:v.x2,y:v.y2});return X.createElement(Er,wu({className:Ft("recharts-polar-angle-axis-tick",hJ(o)),key:"tick-".concat(w.coordinate)},ad(n.props,w,j)),l&&X.createElement("line",wu({className:"recharts-polar-angle-axis-tick-line"},g,v)),o&&e.renderTickItem(o,T,c?c(w.value,j):w.value))});return X.createElement(Er,{className:"recharts-polar-angle-axis-ticks"},y)}},{key:"render",value:function(){var n=this.props,s=n.ticks,i=n.radius,o=n.axisLine;return i<=0||!s||!s.length?null:X.createElement(Er,{className:Ft("recharts-polar-angle-axis",this.props.className)},o&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(n,s,i){var o;return X.isValidElement(n)?o=X.cloneElement(n,s):Qt(n)?o=n(s):o=X.createElement(sd,wu({},s,{className:"recharts-polar-angle-axis-tick-value"}),i),o}}])})(x.PureComponent);P1(R1,"displayName","PolarAngleAxis");P1(R1,"axisType","angleAxis");P1(R1,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var ZT,mB;function g4e(){if(mB)return ZT;mB=1;var t=LK(),e=t(Object.getPrototypeOf,Object);return ZT=e,ZT}var e5,pB;function x4e(){if(pB)return e5;pB=1;var t=Pl(),e=g4e(),r=Rl(),n="[object Object]",s=Function.prototype,i=Object.prototype,o=s.toString,l=i.hasOwnProperty,c=o.call(Object);function d(h){if(!r(h)||t(h)!=n)return!1;var m=e(h);if(m===null)return!0;var g=l.call(m,"constructor")&&m.constructor;return typeof g=="function"&&g instanceof g&&o.call(g)==c}return e5=d,e5}var y4e=x4e();const b4e=Pr(y4e);var t5,gB;function v4e(){if(gB)return t5;gB=1;var t=Pl(),e=Rl(),r="[object Boolean]";function n(s){return s===!0||s===!1||e(s)&&t(s)==r}return t5=n,t5}var w4e=v4e();const j4e=Pr(w4e);function F0(t){"@babel/helpers - typeof";return F0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},F0(t)}function cw(){return cw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cw.apply(this,arguments)}function S4e(t,e){return T4e(t)||C4e(t,e)||k4e(t,e)||N4e()}function N4e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function k4e(t,e){if(t){if(typeof t=="string")return xB(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return xB(t,e)}}function xB(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function C4e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function T4e(t){if(Array.isArray(t))return t}function yB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function bB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yB(Object(r),!0).forEach(function(n){_4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _4e(t,e,r){return e=M4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function M4e(t){var e=A4e(t,"string");return F0(e)=="symbol"?e:e+""}function A4e(t,e){if(F0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(F0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vB=function(e,r,n,s,i){var o=n-s,l;return l="M ".concat(e,",").concat(r),l+="L ".concat(e+n,",").concat(r),l+="L ".concat(e+n-o/2,",").concat(r+i),l+="L ".concat(e+n-o/2-s,",").concat(r+i),l+="L ".concat(e,",").concat(r," Z"),l},O4e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},E4e=function(e){var r=bB(bB({},O4e),e),n=x.useRef(),s=x.useState(-1),i=S4e(s,2),o=i[0],l=i[1];x.useEffect(function(){if(n.current&&n.current.getTotalLength)try{var S=n.current.getTotalLength();S&&l(S)}catch{}},[]);var c=r.x,d=r.y,h=r.upperWidth,m=r.lowerWidth,g=r.height,y=r.className,w=r.animationEasing,j=r.animationDuration,v=r.animationBegin,N=r.isUpdateAnimationActive;if(c!==+c||d!==+d||h!==+h||m!==+m||g!==+g||h===0&&m===0||g===0)return null;var T=Ft("recharts-trapezoid",y);return N?X.createElement(ko,{canBegin:o>0,from:{upperWidth:0,lowerWidth:0,height:g,x:c,y:d},to:{upperWidth:h,lowerWidth:m,height:g,x:c,y:d},duration:j,animationEasing:w,isActive:N},function(S){var O=S.upperWidth,_=S.lowerWidth,A=S.height,E=S.x,P=S.y;return X.createElement(ko,{canBegin:o>0,from:"0px ".concat(o===-1?1:o,"px"),to:"".concat(o,"px 0px"),attributeName:"strokeDasharray",begin:v,duration:j,easing:w},X.createElement("path",cw({},Ut(r,!0),{className:T,d:vB(E,P,O,_,A),ref:n})))}):X.createElement("g",null,X.createElement("path",cw({},Ut(r,!0),{className:T,d:vB(c,d,h,m,g)})))},D4e=["option","shapeType","propTransformer","activeClassName","isActive"];function H0(t){"@babel/helpers - typeof";return H0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},H0(t)}function P4e(t,e){if(t==null)return{};var r=R4e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R4e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function uw(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wB(Object(r),!0).forEach(function(n){I4e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I4e(t,e,r){return e=L4e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function L4e(t){var e=$4e(t,"string");return H0(e)=="symbol"?e:e+""}function $4e(t,e){if(H0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(H0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F4e(t,e){return uw(uw({},e),t)}function H4e(t,e){return t==="symbols"}function jB(t){var e=t.shapeType,r=t.elementProps;switch(e){case"rectangle":return X.createElement(tD,r);case"trapezoid":return X.createElement(E4e,r);case"sector":return X.createElement(gJ,r);case"symbols":if(H4e(e))return X.createElement(vE,r);break;default:return null}}function B4e(t){return x.isValidElement(t)?t.props:t}function _J(t){var e=t.option,r=t.shapeType,n=t.propTransformer,s=n===void 0?F4e:n,i=t.activeClassName,o=i===void 0?"recharts-active-shape":i,l=t.isActive,c=P4e(t,D4e),d;if(x.isValidElement(e))d=x.cloneElement(e,uw(uw({},c),B4e(e)));else if(Qt(e))d=e(c);else if(b4e(e)&&!j4e(e)){var h=s(e,c);d=X.createElement(jB,{shapeType:r,elementProps:h})}else{var m=c;d=X.createElement(jB,{shapeType:r,elementProps:m})}return l?X.createElement(Er,{className:o},d):d}function I1(t,e){return e!=null&&"trapezoids"in t.props}function L1(t,e){return e!=null&&"sectors"in t.props}function B0(t,e){return e!=null&&"points"in t.props}function z4e(t,e){var r,n,s=t.x===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.x)||t.x===e.x,i=t.y===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.y)||t.y===e.y;return s&&i}function V4e(t,e){var r=t.endAngle===e.endAngle,n=t.startAngle===e.startAngle;return r&&n}function q4e(t,e){var r=t.x===e.x,n=t.y===e.y,s=t.z===e.z;return r&&n&&s}function W4e(t,e){var r;return I1(t,e)?r=z4e:L1(t,e)?r=V4e:B0(t,e)&&(r=q4e),r}function U4e(t,e){var r;return I1(t,e)?r="trapezoids":L1(t,e)?r="sectors":B0(t,e)&&(r="points"),r}function G4e(t,e){if(I1(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}if(L1(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}return B0(t,e)?e.payload:{}}function Y4e(t){var e=t.activeTooltipItem,r=t.graphicalItem,n=t.itemData,s=U4e(r,e),i=G4e(r,e),o=n.filter(function(c,d){var h=wg(i,c),m=r.props[s].filter(function(w){var j=W4e(r,e);return j(w,e)}),g=r.props[s].indexOf(m[m.length-1]),y=d===g;return h&&y}),l=n.indexOf(o[o.length-1]);return l}var lb;function mh(t){"@babel/helpers - typeof";return mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},mh(t)}function vf(){return vf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vf.apply(this,arguments)}function SB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function on(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SB(Object(r),!0).forEach(function(n){di(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K4e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function NB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,AJ(n.key),n)}}function X4e(t,e,r){return e&&NB(t.prototype,e),r&&NB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function J4e(t,e,r){return e=dw(e),Q4e(t,MJ()?Reflect.construct(e,r||[],dw(t).constructor):e.apply(t,r))}function Q4e(t,e){if(e&&(mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Z4e(t)}function Z4e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function MJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(MJ=function(){return!!t})()}function dw(t){return dw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},dw(t)}function e3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&qM(t,e)}function qM(t,e){return qM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},qM(t,e)}function di(t,e,r){return e=AJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AJ(t){var e=t3e(t,"string");return mh(e)=="symbol"?e:e+""}function t3e(t,e){if(mh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(mh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Ui=(function(t){function e(r){var n;return K4e(this,e),n=J4e(this,e,[r]),di(n,"pieRef",null),di(n,"sectorRefs",[]),di(n,"id",Fh("recharts-pie-")),di(n,"handleAnimationEnd",function(){var s=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),Qt(s)&&s()}),di(n,"handleAnimationStart",function(){var s=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),Qt(s)&&s()}),n.state={isAnimationFinished:!r.isAnimationActive,prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,sectorToFocus:0},n}return e3e(e,t),X4e(e,[{key:"isActiveIndex",value:function(n){var s=this.props.activeIndex;return Array.isArray(s)?s.indexOf(n)!==-1:n===s}},{key:"hasActiveIndex",value:function(){var n=this.props.activeIndex;return Array.isArray(n)?n.length!==0:n||n===0}},{key:"renderLabels",value:function(n){var s=this.props.isAnimationActive;if(s&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.label,l=i.labelLine,c=i.dataKey,d=i.valueKey,h=Ut(this.props,!1),m=Ut(o,!1),g=Ut(l,!1),y=o&&o.offsetRadius||20,w=n.map(function(j,v){var N=(j.startAngle+j.endAngle)/2,T=un(j.cx,j.cy,j.outerRadius+y,N),S=on(on(on(on({},h),j),{},{stroke:"none"},m),{},{index:v,textAnchor:e.getTextAnchor(T.x,j.cx)},T),O=on(on(on(on({},h),j),{},{fill:"none",stroke:j.fill},g),{},{index:v,points:[un(j.cx,j.cy,j.outerRadius,N),T]}),_=c;return tr(c)&&tr(d)?_="value":tr(c)&&(_=d),X.createElement(Er,{key:"label-".concat(j.startAngle,"-").concat(j.endAngle,"-").concat(j.midAngle,"-").concat(v)},l&&e.renderLabelLineItem(l,O,"line"),e.renderLabelItem(o,S,oa(j,_)))});return X.createElement(Er,{className:"recharts-pie-labels"},w)}},{key:"renderSectorsStatically",value:function(n){var s=this,i=this.props,o=i.activeShape,l=i.blendStroke,c=i.inactiveShape;return n.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&n.length!==1)return null;var m=s.isActiveIndex(h),g=c&&s.hasActiveIndex()?c:null,y=m?o:g,w=on(on({},d),{},{stroke:l?d.fill:d.stroke,tabIndex:-1});return X.createElement(Er,vf({ref:function(v){v&&!s.sectorRefs.includes(v)&&s.sectorRefs.push(v)},tabIndex:-1,className:"recharts-pie-sector"},ad(s.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),X.createElement(_J,vf({option:y,isActive:m,shapeType:"sector"},w)))})}},{key:"renderSectorsWithAnimation",value:function(){var n=this,s=this.props,i=s.sectors,o=s.isAnimationActive,l=s.animationBegin,c=s.animationDuration,d=s.animationEasing,h=s.animationId,m=this.state,g=m.prevSectors,y=m.prevIsAnimationActive;return X.createElement(ko,{begin:l,duration:c,isActive:o,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(y),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(w){var j=w.t,v=[],N=i&&i[0],T=N.startAngle;return i.forEach(function(S,O){var _=g&&g[O],A=O>0?Bs(S,"paddingAngle",0):0;if(_){var E=Rs(_.endAngle-_.startAngle,S.endAngle-S.startAngle),P=on(on({},S),{},{startAngle:T+A,endAngle:T+E(j)+A});v.push(P),T=P.endAngle}else{var $=S.endAngle,I=S.startAngle,L=Rs(0,$-I),R=L(j),z=on(on({},S),{},{startAngle:T+A,endAngle:T+R+A});v.push(z),T=z.endAngle}}),X.createElement(Er,null,n.renderSectorsStatically(v))})}},{key:"attachKeyboardHandlers",value:function(n){var s=this;n.onkeydown=function(i){if(!i.altKey)switch(i.key){case"ArrowLeft":{var o=++s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[o].focus(),s.setState({sectorToFocus:o});break}case"ArrowRight":{var l=--s.state.sectorToFocus<0?s.sectorRefs.length-1:s.state.sectorToFocus%s.sectorRefs.length;s.sectorRefs[l].focus(),s.setState({sectorToFocus:l});break}case"Escape":{s.sectorRefs[s.state.sectorToFocus].blur(),s.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var n=this.props,s=n.sectors,i=n.isAnimationActive,o=this.state.prevSectors;return i&&s&&s.length&&(!o||!wg(o,s))?this.renderSectorsWithAnimation():this.renderSectorsStatically(s)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var n=this,s=this.props,i=s.hide,o=s.sectors,l=s.className,c=s.label,d=s.cx,h=s.cy,m=s.innerRadius,g=s.outerRadius,y=s.isAnimationActive,w=this.state.isAnimationFinished;if(i||!o||!o.length||!yt(d)||!yt(h)||!yt(m)||!yt(g))return null;var j=Ft("recharts-pie",l);return X.createElement(Er,{tabIndex:this.props.rootTabIndex,className:j,ref:function(N){n.pieRef=N}},this.renderSectors(),c&&this.renderLabels(o),pa.renderCallByParent(this.props,null,!1),(!y||w)&&bl.renderCallByParent(this.props,o,!1))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return s.prevIsAnimationActive!==n.isAnimationActive?{prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:[],isAnimationFinished:!0}:n.isAnimationActive&&n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curSectors:n.sectors,prevSectors:s.curSectors,isAnimationFinished:!0}:n.sectors!==s.curSectors?{curSectors:n.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(n,s){return n>s?"start":n<s?"end":"middle"}},{key:"renderLabelLineItem",value:function(n,s,i){if(X.isValidElement(n))return X.cloneElement(n,s);if(Qt(n))return n(s);var o=Ft("recharts-pie-label-line",typeof n!="boolean"?n.className:"");return X.createElement(rw,vf({},s,{key:i,type:"linear",className:o}))}},{key:"renderLabelItem",value:function(n,s,i){if(X.isValidElement(n))return X.cloneElement(n,s);var o=i;if(Qt(n)&&(o=n(s),X.isValidElement(o)))return o;var l=Ft("recharts-pie-label-text",typeof n!="boolean"&&!Qt(n)?n.className:"");return X.createElement(sd,vf({},s,{alignmentBaseline:"middle",className:l}),o)}}])})(x.PureComponent);lb=Ui;di(Ui,"displayName","Pie");di(Ui,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!hd.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});di(Ui,"parseDeltaAngle",function(t,e){var r=Za(e-t),n=Math.min(Math.abs(e-t),360);return r*n});di(Ui,"getRealPieData",function(t){var e=t.data,r=t.children,n=Ut(t,!1),s=zs(r,Bh);return e&&e.length?e.map(function(i,o){return on(on(on({payload:i},n),i),s&&s[o]&&s[o].props)}):s&&s.length?s.map(function(i){return on(on({},n),i.props)}):[]});di(Ui,"parseCoordinateOfPie",function(t,e){var r=e.top,n=e.left,s=e.width,i=e.height,o=fJ(s,i),l=n+es(t.cx,s,s/2),c=r+es(t.cy,i,i/2),d=es(t.innerRadius,o,0),h=es(t.outerRadius,o,o*.8),m=t.maxRadius||Math.sqrt(s*s+i*i)/2;return{cx:l,cy:c,innerRadius:d,outerRadius:h,maxRadius:m}});di(Ui,"getComposedData",function(t){var e=t.item,r=t.offset,n=e.type.defaultProps!==void 0?on(on({},e.type.defaultProps),e.props):e.props,s=lb.getRealPieData(n);if(!s||!s.length)return null;var i=n.cornerRadius,o=n.startAngle,l=n.endAngle,c=n.paddingAngle,d=n.dataKey,h=n.nameKey,m=n.valueKey,g=n.tooltipType,y=Math.abs(n.minAngle),w=lb.parseCoordinateOfPie(n,r),j=lb.parseDeltaAngle(o,l),v=Math.abs(j),N=d;tr(d)&&tr(m)?(Hi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N="value"):tr(d)&&(Hi(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),N=m);var T=s.filter(function(P){return oa(P,N,0)!==0}).length,S=(v>=360?T:T-1)*c,O=v-T*y-S,_=s.reduce(function(P,$){var I=oa($,N,0);return P+(yt(I)?I:0)},0),A;if(_>0){var E;A=s.map(function(P,$){var I=oa(P,N,0),L=oa(P,h,$),R=(yt(I)?I:0)/_,z;$?z=E.endAngle+Za(j)*c*(I!==0?1:0):z=o;var Y=z+Za(j)*((I!==0?y:0)+R*O),q=(z+Y)/2,H=(w.innerRadius+w.outerRadius)/2,D=[{name:L,value:I,payload:P,dataKey:N,type:g}],F=un(w.cx,w.cy,H,q);return E=on(on(on({percent:R,cornerRadius:i,name:L,tooltipPayload:D,midAngle:q,middleRadius:H,tooltipPosition:F},P),w),{},{value:oa(P,N),startAngle:z,endAngle:Y,payload:P,paddingAngle:Za(j)*c}),E})}return on(on({},w),{},{sectors:A,data:s})});var r5,kB;function r3e(){if(kB)return r5;kB=1;var t=Math.ceil,e=Math.max;function r(n,s,i,o){for(var l=-1,c=e(t((s-n)/(i||1)),0),d=Array(c);c--;)d[o?c:++l]=n,n+=i;return d}return r5=r,r5}var n5,CB;function OJ(){if(CB)return n5;CB=1;var t=ZK(),e=1/0,r=17976931348623157e292;function n(s){if(!s)return s===0?s:0;if(s=t(s),s===e||s===-e){var i=s<0?-1:1;return i*r}return s===s?s:0}return n5=n,n5}var a5,TB;function n3e(){if(TB)return a5;TB=1;var t=r3e(),e=b1(),r=OJ();function n(s){return function(i,o,l){return l&&typeof l!="number"&&e(i,o,l)&&(o=l=void 0),i=r(i),o===void 0?(o=i,i=0):o=r(o),l=l===void 0?i<o?1:-1:r(l),t(i,o,l,s)}}return a5=n,a5}var s5,_B;function a3e(){if(_B)return s5;_B=1;var t=n3e(),e=t();return s5=e,s5}var s3e=a3e();const fw=Pr(s3e);function z0(t){"@babel/helpers - typeof";return z0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},z0(t)}function MB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function AB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MB(Object(r),!0).forEach(function(n){EJ(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EJ(t,e,r){return e=i3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i3e(t){var e=o3e(t,"string");return z0(e)=="symbol"?e:e+""}function o3e(t,e){if(z0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(z0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l3e=["Webkit","Moz","O","ms"],c3e=function(e,r){var n=e.replace(/(\w)/,function(i){return i.toUpperCase()}),s=l3e.reduce(function(i,o){return AB(AB({},i),{},EJ({},o+n,r))},{});return s[e]=r,s};function ph(t){"@babel/helpers - typeof";return ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ph(t)}function hw(){return hw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},hw.apply(this,arguments)}function OB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function i5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?OB(Object(r),!0).forEach(function(n){Ds(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):OB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function EB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,PJ(n.key),n)}}function d3e(t,e,r){return e&&EB(t.prototype,e),r&&EB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function f3e(t,e,r){return e=mw(e),h3e(t,DJ()?Reflect.construct(e,r||[],mw(t).constructor):e.apply(t,r))}function h3e(t,e){if(e&&(ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return m3e(t)}function m3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function DJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(DJ=function(){return!!t})()}function mw(t){return mw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},mw(t)}function p3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&WM(t,e)}function WM(t,e){return WM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},WM(t,e)}function Ds(t,e,r){return e=PJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PJ(t){var e=g3e(t,"string");return ph(e)=="symbol"?e:e+""}function g3e(t,e){if(ph(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ph(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var x3e=function(e){var r=e.data,n=e.startIndex,s=e.endIndex,i=e.x,o=e.width,l=e.travellerWidth;if(!r||!r.length)return{};var c=r.length,d=Lp().domain(fw(0,c)).range([i,i+o-l]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(n),endX:d(s),scale:d,scaleValues:h}},DB=function(e){return e.changedTouches&&!!e.changedTouches.length},gh=(function(t){function e(r){var n;return u3e(this,e),n=f3e(this,e,[r]),Ds(n,"handleDrag",function(s){n.leaveTimer&&(clearTimeout(n.leaveTimer),n.leaveTimer=null),n.state.isTravellerMoving?n.handleTravellerMove(s):n.state.isSlideMoving&&n.handleSlideDrag(s)}),Ds(n,"handleTouchMove",function(s){s.changedTouches!=null&&s.changedTouches.length>0&&n.handleDrag(s.changedTouches[0])}),Ds(n,"handleDragEnd",function(){n.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var s=n.props,i=s.endIndex,o=s.onDragEnd,l=s.startIndex;o==null||o({endIndex:i,startIndex:l})}),n.detachDragEndListener()}),Ds(n,"handleLeaveWrapper",function(){(n.state.isTravellerMoving||n.state.isSlideMoving)&&(n.leaveTimer=window.setTimeout(n.handleDragEnd,n.props.leaveTimeOut))}),Ds(n,"handleEnterSlideOrTraveller",function(){n.setState({isTextActive:!0})}),Ds(n,"handleLeaveSlideOrTraveller",function(){n.setState({isTextActive:!1})}),Ds(n,"handleSlideDragStart",function(s){var i=DB(s)?s.changedTouches[0]:s;n.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:i.pageX}),n.attachDragEndListener()}),n.travellerDragStartHandlers={startX:n.handleTravellerDragStart.bind(n,"startX"),endX:n.handleTravellerDragStart.bind(n,"endX")},n.state={},n}return p3e(e,t),d3e(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(n){var s=n.startX,i=n.endX,o=this.state.scaleValues,l=this.props,c=l.gap,d=l.data,h=d.length-1,m=Math.min(s,i),g=Math.max(s,i),y=e.getIndexInRange(o,m),w=e.getIndexInRange(o,g);return{startIndex:y-y%c,endIndex:w===h?h:w-w%c}}},{key:"getTextOfTick",value:function(n){var s=this.props,i=s.data,o=s.tickFormatter,l=s.dataKey,c=oa(i[n],l,n);return Qt(o)?o(c,n):c}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(n){var s=this.state,i=s.slideMoveStartX,o=s.startX,l=s.endX,c=this.props,d=c.x,h=c.width,m=c.travellerWidth,g=c.startIndex,y=c.endIndex,w=c.onChange,j=n.pageX-i;j>0?j=Math.min(j,d+h-m-l,d+h-m-o):j<0&&(j=Math.max(j,d-o,d-l));var v=this.getIndex({startX:o+j,endX:l+j});(v.startIndex!==g||v.endIndex!==y)&&w&&w(v),this.setState({startX:o+j,endX:l+j,slideMoveStartX:n.pageX})}},{key:"handleTravellerDragStart",value:function(n,s){var i=DB(s)?s.changedTouches[0]:s;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:n,brushMoveStartX:i.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(n){var s=this.state,i=s.brushMoveStartX,o=s.movingTravellerId,l=s.endX,c=s.startX,d=this.state[o],h=this.props,m=h.x,g=h.width,y=h.travellerWidth,w=h.onChange,j=h.gap,v=h.data,N={startX:this.state.startX,endX:this.state.endX},T=n.pageX-i;T>0?T=Math.min(T,m+g-y-d):T<0&&(T=Math.max(T,m-d)),N[o]=d+T;var S=this.getIndex(N),O=S.startIndex,_=S.endIndex,A=function(){var P=v.length-1;return o==="startX"&&(l>c?O%j===0:_%j===0)||l<c&&_===P||o==="endX"&&(l>c?_%j===0:O%j===0)||l>c&&_===P};this.setState(Ds(Ds({},o,d+T),"brushMoveStartX",n.pageX),function(){w&&A()&&w(S)})}},{key:"handleTravellerMoveKeyboard",value:function(n,s){var i=this,o=this.state,l=o.scaleValues,c=o.startX,d=o.endX,h=this.state[s],m=l.indexOf(h);if(m!==-1){var g=m+n;if(!(g===-1||g>=l.length)){var y=l[g];s==="startX"&&y>=d||s==="endX"&&y<=c||this.setState(Ds({},s,y),function(){i.props.onChange(i.getIndex({startX:i.state.startX,endX:i.state.endX}))})}}}},{key:"renderBackground",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.fill,d=n.stroke;return X.createElement("rect",{stroke:d,fill:c,x:s,y:i,width:o,height:l})}},{key:"renderPanorama",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.data,d=n.children,h=n.padding,m=x.Children.only(d);return m?X.cloneElement(m,{x:s,y:i,width:o,height:l,margin:h,compact:!0,data:c}):null}},{key:"renderTravellerLayer",value:function(n,s){var i,o,l=this,c=this.props,d=c.y,h=c.travellerWidth,m=c.height,g=c.traveller,y=c.ariaLabel,w=c.data,j=c.startIndex,v=c.endIndex,N=Math.max(n,this.props.x),T=i5(i5({},Ut(this.props,!1)),{},{x:N,y:d,width:h,height:m}),S=y||"Min value: ".concat((i=w[j])===null||i===void 0?void 0:i.name,", Max value: ").concat((o=w[v])===null||o===void 0?void 0:o.name);return X.createElement(Er,{tabIndex:0,role:"slider","aria-label":S,"aria-valuenow":n,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[s],onTouchStart:this.travellerDragStartHandlers[s],onKeyDown:function(_){["ArrowLeft","ArrowRight"].includes(_.key)&&(_.preventDefault(),_.stopPropagation(),l.handleTravellerMoveKeyboard(_.key==="ArrowRight"?1:-1,s))},onFocus:function(){l.setState({isTravellerFocused:!0})},onBlur:function(){l.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(g,T))}},{key:"renderSlide",value:function(n,s){var i=this.props,o=i.y,l=i.height,c=i.stroke,d=i.travellerWidth,h=Math.min(n,s)+d,m=Math.max(Math.abs(s-n)-d,0);return X.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:c,fillOpacity:.2,x:h,y:o,width:m,height:l})}},{key:"renderText",value:function(){var n=this.props,s=n.startIndex,i=n.endIndex,o=n.y,l=n.height,c=n.travellerWidth,d=n.stroke,h=this.state,m=h.startX,g=h.endX,y=5,w={pointerEvents:"none",fill:d};return X.createElement(Er,{className:"recharts-brush-texts"},X.createElement(sd,hw({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,g)-y,y:o+l/2},w),this.getTextOfTick(s)),X.createElement(sd,hw({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,g)+c+y,y:o+l/2},w),this.getTextOfTick(i)))}},{key:"render",value:function(){var n=this.props,s=n.data,i=n.className,o=n.children,l=n.x,c=n.y,d=n.width,h=n.height,m=n.alwaysShowText,g=this.state,y=g.startX,w=g.endX,j=g.isTextActive,v=g.isSlideMoving,N=g.isTravellerMoving,T=g.isTravellerFocused;if(!s||!s.length||!yt(l)||!yt(c)||!yt(d)||!yt(h)||d<=0||h<=0)return null;var S=Ft("recharts-brush",i),O=X.Children.count(o)===1,_=c3e("userSelect","none");return X.createElement(Er,{className:S,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:_},this.renderBackground(),O&&this.renderPanorama(),this.renderSlide(y,w),this.renderTravellerLayer(y,"startX"),this.renderTravellerLayer(w,"endX"),(j||v||N||T||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(n){var s=n.x,i=n.y,o=n.width,l=n.height,c=n.stroke,d=Math.floor(i+l/2)-1;return X.createElement(X.Fragment,null,X.createElement("rect",{x:s,y:i,width:o,height:l,fill:c,stroke:"none"}),X.createElement("line",{x1:s+1,y1:d,x2:s+o-1,y2:d,fill:"none",stroke:"#fff"}),X.createElement("line",{x1:s+1,y1:d+2,x2:s+o-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(n,s){var i;return X.isValidElement(n)?i=X.cloneElement(n,s):Qt(n)?i=n(s):i=e.renderDefaultTraveller(s),i}},{key:"getDerivedStateFromProps",value:function(n,s){var i=n.data,o=n.width,l=n.x,c=n.travellerWidth,d=n.updateId,h=n.startIndex,m=n.endIndex;if(i!==s.prevData||d!==s.prevUpdateId)return i5({prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o},i&&i.length?x3e({data:i,width:o,x:l,travellerWidth:c,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(s.scale&&(o!==s.prevWidth||l!==s.prevX||c!==s.prevTravellerWidth)){s.scale.range([l,l+o-c]);var g=s.scale.domain().map(function(y){return s.scale(y)});return{prevData:i,prevTravellerWidth:c,prevUpdateId:d,prevX:l,prevWidth:o,startX:s.scale(n.startIndex),endX:s.scale(n.endIndex),scaleValues:g}}return null}},{key:"getIndexInRange",value:function(n,s){for(var i=n.length,o=0,l=i-1;l-o>1;){var c=Math.floor((o+l)/2);n[c]>s?l=c:o=c}return s>=n[l]?l:o}}])})(x.PureComponent);Ds(gh,"displayName","Brush");Ds(gh,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var o5,PB;function y3e(){if(PB)return o5;PB=1;var t=TE();function e(r,n){var s;return t(r,function(i,o,l){return s=n(i,o,l),!s}),!!s}return o5=e,o5}var l5,RB;function b3e(){if(RB)return l5;RB=1;var t=AK(),e=Ao(),r=y3e(),n=Ss(),s=b1();function i(o,l,c){var d=n(o)?t:r;return c&&s(o,l,c)&&(l=void 0),d(o,e(l,3))}return l5=i,l5}var v3e=b3e();const w3e=Pr(v3e);var go=function(e,r){var n=e.alwaysShow,s=e.ifOverflow;return n&&(s="extendDomain"),s===r},c5,IB;function j3e(){if(IB)return c5;IB=1;var t=YK();function e(r,n,s){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:s,writable:!0}):r[n]=s}return c5=e,c5}var u5,LB;function S3e(){if(LB)return u5;LB=1;var t=j3e(),e=UK(),r=Ao();function n(s,i){var o={};return i=r(i,3),e(s,function(l,c,d){t(o,c,i(l,c,d))}),o}return u5=n,u5}var N3e=S3e();const k3e=Pr(N3e);var d5,$B;function C3e(){if($B)return d5;$B=1;function t(e,r){for(var n=-1,s=e==null?0:e.length;++n<s;)if(!r(e[n],n,e))return!1;return!0}return d5=t,d5}var f5,FB;function T3e(){if(FB)return f5;FB=1;var t=TE();function e(r,n){var s=!0;return t(r,function(i,o,l){return s=!!n(i,o,l),s}),s}return f5=e,f5}var h5,HB;function _3e(){if(HB)return h5;HB=1;var t=C3e(),e=T3e(),r=Ao(),n=Ss(),s=b1();function i(o,l,c){var d=n(o)?t:e;return c&&s(o,l,c)&&(l=void 0),d(o,r(l,3))}return h5=i,h5}var M3e=_3e();const RJ=Pr(M3e);var A3e=["x","y"];function V0(t){"@babel/helpers - typeof";return V0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},V0(t)}function UM(){return UM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UM.apply(this,arguments)}function BB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BB(Object(r),!0).forEach(function(n){O3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O3e(t,e,r){return e=E3e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function E3e(t){var e=D3e(t,"string");return V0(e)=="symbol"?e:e+""}function D3e(t,e){if(V0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(V0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function P3e(t,e){if(t==null)return{};var r=R3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function R3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function I3e(t,e){var r=t.x,n=t.y,s=P3e(t,A3e),i="".concat(r),o=parseInt(i,10),l="".concat(n),c=parseInt(l,10),d="".concat(e.height||s.height),h=parseInt(d,10),m="".concat(e.width||s.width),g=parseInt(m,10);return lp(lp(lp(lp(lp({},e),s),o?{x:o}:{}),c?{y:c}:{}),{},{height:h,width:g,name:e.name,radius:e.radius})}function zB(t){return X.createElement(_J,UM({shapeType:"rectangle",propTransformer:I3e,activeClassName:"recharts-active-bar"},t))}var L3e=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(n,s){if(typeof e=="number")return e;var i=yt(n)||i2e(n);return i?e(n,s):(i||od(),r)}},$3e=["value","background"],IJ;function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function F3e(t,e){if(t==null)return{};var r=H3e(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function H3e(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function pw(){return pw=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pw.apply(this,arguments)}function VB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Kn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VB(Object(r),!0).forEach(function(n){jc(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function qB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,$J(n.key),n)}}function z3e(t,e,r){return e&&qB(t.prototype,e),r&&qB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function V3e(t,e,r){return e=gw(e),q3e(t,LJ()?Reflect.construct(e,r||[],gw(t).constructor):e.apply(t,r))}function q3e(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return W3e(t)}function W3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function LJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(LJ=function(){return!!t})()}function gw(t){return gw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},gw(t)}function U3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&GM(t,e)}function GM(t,e){return GM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},GM(t,e)}function jc(t,e,r){return e=$J(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $J(t){var e=G3e(t,"string");return xh(e)=="symbol"?e:e+""}function G3e(t,e){if(xh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(xh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var _l=(function(t){function e(){var r;B3e(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=V3e(this,e,[].concat(s)),jc(r,"state",{isAnimationFinished:!1}),jc(r,"id",Fh("recharts-bar-")),jc(r,"handleAnimationEnd",function(){var o=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),o&&o()}),jc(r,"handleAnimationStart",function(){var o=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),o&&o()}),r}return U3e(e,t),z3e(e,[{key:"renderRectanglesStatically",value:function(n){var s=this,i=this.props,o=i.shape,l=i.dataKey,c=i.activeIndex,d=i.activeBar,h=Ut(this.props,!1);return n&&n.map(function(m,g){var y=g===c,w=y?d:o,j=Kn(Kn(Kn({},h),m),{},{isActive:y,option:w,index:g,dataKey:l,onAnimationStart:s.handleAnimationStart,onAnimationEnd:s.handleAnimationEnd});return X.createElement(Er,pw({className:"recharts-bar-rectangle"},ad(s.props,m,g),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(g)}),X.createElement(zB,j))})}},{key:"renderRectanglesWithAnimation",value:function(){var n=this,s=this.props,i=s.data,o=s.layout,l=s.isAnimationActive,c=s.animationBegin,d=s.animationDuration,h=s.animationEasing,m=s.animationId,g=this.state.prevData;return X.createElement(ko,{begin:c,duration:d,isActive:l,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(y){var w=y.t,j=i.map(function(v,N){var T=g&&g[N];if(T){var S=Rs(T.x,v.x),O=Rs(T.y,v.y),_=Rs(T.width,v.width),A=Rs(T.height,v.height);return Kn(Kn({},v),{},{x:S(w),y:O(w),width:_(w),height:A(w)})}if(o==="horizontal"){var E=Rs(0,v.height),P=E(w);return Kn(Kn({},v),{},{y:v.y+v.height-P,height:P})}var $=Rs(0,v.width),I=$(w);return Kn(Kn({},v),{},{width:I})});return X.createElement(Er,null,n.renderRectanglesStatically(j))})}},{key:"renderRectangles",value:function(){var n=this.props,s=n.data,i=n.isAnimationActive,o=this.state.prevData;return i&&s&&s.length&&(!o||!wg(o,s))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(s)}},{key:"renderBackground",value:function(){var n=this,s=this.props,i=s.data,o=s.dataKey,l=s.activeIndex,c=Ut(this.props.background,!1);return i.map(function(d,h){d.value;var m=d.background,g=F3e(d,$3e);if(!m)return null;var y=Kn(Kn(Kn(Kn(Kn({},g),{},{fill:"#eee"},m),c),ad(n.props,d,h)),{},{onAnimationStart:n.handleAnimationStart,onAnimationEnd:n.handleAnimationEnd,dataKey:o,index:h,className:"recharts-bar-background-rectangle"});return X.createElement(zB,pw({key:"background-bar-".concat(h),option:n.props.background,isActive:h===l},y))})}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.data,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=zs(h,jg);if(!m)return null;var g=d==="vertical"?o[0].height/2:o[0].width/2,y=function(v,N){var T=Array.isArray(v.value)?v.value[1]:v.value;return{x:v.x,y:v.y,value:T,errorVal:oa(v,N)}},w={clipPath:n?"url(#clipPath-".concat(s,")"):null};return X.createElement(Er,w,m.map(function(j){return X.cloneElement(j,{key:"error-bar-".concat(s,"-").concat(j.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,offset:g,dataPointFormatter:y})}))}},{key:"render",value:function(){var n=this.props,s=n.hide,i=n.data,o=n.className,l=n.xAxis,c=n.yAxis,d=n.left,h=n.top,m=n.width,g=n.height,y=n.isAnimationActive,w=n.background,j=n.id;if(s||!i||!i.length)return null;var v=this.state.isAnimationFinished,N=Ft("recharts-bar",o),T=l&&l.allowDataOverflow,S=c&&c.allowDataOverflow,O=T||S,_=tr(j)?this.id:j;return X.createElement(Er,{className:N},T||S?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(_)},X.createElement("rect",{x:T?d:d-m/2,y:S?h:h-g/2,width:T?m:m*2,height:S?g:g*2}))):null,X.createElement(Er,{className:"recharts-bar-rectangles",clipPath:O?"url(#clipPath-".concat(_,")"):null},w?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(O,_),(!y||v)&&bl.renderCallByParent(this.props,i))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curData:n.data,prevData:s.curData}:n.data!==s.curData?{curData:n.data}:null}}])})(x.PureComponent);IJ=_l;jc(_l,"displayName","Bar");jc(_l,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!hd.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});jc(_l,"getComposedData",function(t){var e=t.props,r=t.item,n=t.barPosition,s=t.bandSize,i=t.xAxis,o=t.yAxis,l=t.xAxisTicks,c=t.yAxisTicks,d=t.stackedData,h=t.dataStartIndex,m=t.displayedData,g=t.offset,y=wOe(n,r);if(!y)return null;var w=e.layout,j=r.type.defaultProps,v=j!==void 0?Kn(Kn({},j),r.props):r.props,N=v.dataKey,T=v.children,S=v.minPointSize,O=w==="horizontal"?o:i,_=d?O.scale.domain():null,A=_Oe({numericAxis:O}),E=zs(T,Bh),P=m.map(function($,I){var L,R,z,Y,q,H;d?L=jOe(d[h+I],_):(L=oa($,N),Array.isArray(L)||(L=[A,L]));var D=L3e(S,IJ.defaultProps.minPointSize)(L[1],I);if(w==="horizontal"){var F,K=[o.scale(L[0]),o.scale(L[1])],te=K[0],W=K[1];R=pH({axis:i,ticks:l,bandSize:s,offset:y.offset,entry:$,index:I}),z=(F=W??te)!==null&&F!==void 0?F:void 0,Y=y.size;var Z=te-W;if(q=Number.isNaN(Z)?0:Z,H={x:R,y:o.y,width:Y,height:o.height},Math.abs(D)>0&&Math.abs(q)<Math.abs(D)){var oe=Za(q||D)*(Math.abs(D)-Math.abs(q));z-=oe,q+=oe}}else{var le=[i.scale(L[0]),i.scale(L[1])],ce=le[0],pe=le[1];if(R=ce,z=pH({axis:o,ticks:c,bandSize:s,offset:y.offset,entry:$,index:I}),Y=pe-ce,q=y.size,H={x:i.x,y:z,width:i.width,height:q},Math.abs(D)>0&&Math.abs(Y)<Math.abs(D)){var Ie=Za(Y||D)*(Math.abs(D)-Math.abs(Y));Y+=Ie}}return Kn(Kn(Kn({},$),{},{x:R,y:z,width:Y,height:q,value:d?L:L[1],payload:$,background:H},E&&E[I]&&E[I].props),{},{tooltipPayload:[uJ(r,$)],tooltipPosition:{x:R+Y/2,y:z+q/2}})});return Kn({data:P,layout:w},g)});function q0(t){"@babel/helpers - typeof";return q0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},q0(t)}function Y3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function WB(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,FJ(n.key),n)}}function K3e(t,e,r){return e&&WB(t.prototype,e),r&&WB(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function UB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Di(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UB(Object(r),!0).forEach(function(n){$1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $1(t,e,r){return e=FJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FJ(t){var e=X3e(t,"string");return q0(e)=="symbol"?e:e+""}function X3e(t,e){if(q0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(q0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HJ=function(e,r,n,s,i){var o=e.width,l=e.height,c=e.layout,d=e.children,h=Object.keys(r),m={left:n.left,leftMirror:n.left,right:o-n.right,rightMirror:o-n.right,top:n.top,topMirror:n.top,bottom:l-n.bottom,bottomMirror:l-n.bottom},g=!!Ps(d,_l);return h.reduce(function(y,w){var j=r[w],v=j.orientation,N=j.domain,T=j.padding,S=T===void 0?{}:T,O=j.mirror,_=j.reversed,A="".concat(v).concat(O?"Mirror":""),E,P,$,I,L;if(j.type==="number"&&(j.padding==="gap"||j.padding==="no-gap")){var R=N[1]-N[0],z=1/0,Y=j.categoricalDomain.sort(c2e);if(Y.forEach(function(le,ce){ce>0&&(z=Math.min((le||0)-(Y[ce-1]||0),z))}),Number.isFinite(z)){var q=z/R,H=j.layout==="vertical"?n.height:n.width;if(j.padding==="gap"&&(E=q*H/2),j.padding==="no-gap"){var D=es(e.barCategoryGap,q*H),F=q*H/2;E=F-D-(F-D)/H*D}}}s==="xAxis"?P=[n.left+(S.left||0)+(E||0),n.left+n.width-(S.right||0)-(E||0)]:s==="yAxis"?P=c==="horizontal"?[n.top+n.height-(S.bottom||0),n.top+(S.top||0)]:[n.top+(S.top||0)+(E||0),n.top+n.height-(S.bottom||0)-(E||0)]:P=j.range,_&&(P=[P[1],P[0]]);var K=iJ(j,i,g),te=K.scale,W=K.realScaleType;te.domain(N).range(P),oJ(te);var Z=lJ(te,Di(Di({},j),{},{realScaleType:W}));s==="xAxis"?(L=v==="top"&&!O||v==="bottom"&&O,$=n.left,I=m[A]-L*j.height):s==="yAxis"&&(L=v==="left"&&!O||v==="right"&&O,$=m[A]-L*j.width,I=n.top);var oe=Di(Di(Di({},j),Z),{},{realScaleType:W,x:$,y:I,scale:te,width:s==="xAxis"?n.width:j.width,height:s==="yAxis"?n.height:j.height});return oe.bandSize=Zv(oe,Z),!j.hide&&s==="xAxis"?m[A]+=(L?-1:1)*oe.height:j.hide||(m[A]+=(L?-1:1)*oe.width),Di(Di({},y),{},$1({},w,oe))},{})},BJ=function(e,r){var n=e.x,s=e.y,i=r.x,o=r.y;return{x:Math.min(n,i),y:Math.min(s,o),width:Math.abs(i-n),height:Math.abs(o-s)}},J3e=function(e){var r=e.x1,n=e.y1,s=e.x2,i=e.y2;return BJ({x:r,y:n},{x:s,y:i})},zJ=(function(){function t(e){Y3e(this,t),this.scale=e}return K3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=n.bandAware,i=n.position;if(r!==void 0){if(i)switch(i){case"start":return this.scale(r);case"middle":{var o=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+o}case"end":{var l=this.bandwidth?this.bandwidth():0;return this.scale(r)+l}default:return this.scale(r)}if(s){var c=this.bandwidth?this.bandwidth()/2:0;return this.scale(r)+c}return this.scale(r)}}},{key:"isInRange",value:function(r){var n=this.range(),s=n[0],i=n[n.length-1];return s<=i?r>=s&&r<=i:r>=i&&r<=s}}],[{key:"create",value:function(r){return new t(r)}}])})();$1(zJ,"EPS",1e-4);var rD=function(e){var r=Object.keys(e).reduce(function(n,s){return Di(Di({},n),{},$1({},s,zJ.create(e[s])))},{});return Di(Di({},r),{},{apply:function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=i.bandAware,l=i.position;return k3e(s,function(c,d){return r[d].apply(c,{bandAware:o,position:l})})},isInRange:function(s){return RJ(s,function(i,o){return r[o].isInRange(i)})}})};function Q3e(t){return(t%180+180)%180}var Z3e=function(e){var r=e.width,n=e.height,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=Q3e(s),o=i*Math.PI/180,l=Math.atan(n/r),c=o>l&&o<Math.PI-l?n/Math.sin(o):r/Math.cos(o);return Math.abs(c)},m5,GB;function e6e(){if(GB)return m5;GB=1;var t=Ao(),e=gg(),r=x1();function n(s){return function(i,o,l){var c=Object(i);if(!e(i)){var d=t(o,3);i=r(i),o=function(m){return d(c[m],m,c)}}var h=s(i,o,l);return h>-1?c[d?i[h]:h]:void 0}}return m5=n,m5}var p5,YB;function t6e(){if(YB)return p5;YB=1;var t=OJ();function e(r){var n=t(r),s=n%1;return n===n?s?n-s:n:0}return p5=e,p5}var g5,KB;function r6e(){if(KB)return g5;KB=1;var t=BK(),e=Ao(),r=t6e(),n=Math.max;function s(i,o,l){var c=i==null?0:i.length;if(!c)return-1;var d=l==null?0:r(l);return d<0&&(d=n(c+d,0)),t(i,e(o,3),d)}return g5=s,g5}var x5,XB;function n6e(){if(XB)return x5;XB=1;var t=e6e(),e=r6e(),r=t(e);return x5=r,x5}var a6e=n6e();const s6e=Pr(a6e);var i6e=nK();const o6e=Pr(i6e);var l6e=o6e(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),nD=x.createContext(void 0),aD=x.createContext(void 0),VJ=x.createContext(void 0),qJ=x.createContext({}),WJ=x.createContext(void 0),UJ=x.createContext(0),GJ=x.createContext(0),JB=function(e){var r=e.state,n=r.xAxisMap,s=r.yAxisMap,i=r.offset,o=e.clipPathId,l=e.children,c=e.width,d=e.height,h=l6e(i);return X.createElement(nD.Provider,{value:n},X.createElement(aD.Provider,{value:s},X.createElement(qJ.Provider,{value:i},X.createElement(VJ.Provider,{value:h},X.createElement(WJ.Provider,{value:o},X.createElement(UJ.Provider,{value:d},X.createElement(GJ.Provider,{value:c},l)))))))},c6e=function(){return x.useContext(WJ)},YJ=function(e){var r=x.useContext(nD);r==null&&od();var n=r[e];return n==null&&od(),n},u6e=function(){var e=x.useContext(nD);return yc(e)},d6e=function(){var e=x.useContext(aD),r=s6e(e,function(n){return RJ(n.domain,Number.isFinite)});return r||yc(e)},KJ=function(e){var r=x.useContext(aD);r==null&&od();var n=r[e];return n==null&&od(),n},f6e=function(){var e=x.useContext(VJ);return e},h6e=function(){return x.useContext(qJ)},sD=function(){return x.useContext(GJ)},iD=function(){return x.useContext(UJ)};function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function m6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,JJ(n.key),n)}}function g6e(t,e,r){return e&&p6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function x6e(t,e,r){return e=xw(e),y6e(t,XJ()?Reflect.construct(e,r||[],xw(t).constructor):e.apply(t,r))}function y6e(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return b6e(t)}function b6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function XJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(XJ=function(){return!!t})()}function xw(t){return xw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},xw(t)}function v6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&YM(t,e)}function YM(t,e){return YM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},YM(t,e)}function QB(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function ZB(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QB(Object(r),!0).forEach(function(n){oD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QB(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oD(t,e,r){return e=JJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JJ(t){var e=w6e(t,"string");return yh(e)=="symbol"?e:e+""}function w6e(t,e){if(yh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(yh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function j6e(t,e){return C6e(t)||k6e(t,e)||N6e(t,e)||S6e()}function S6e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N6e(t,e){if(t){if(typeof t=="string")return ez(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ez(t,e)}}function ez(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function k6e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function C6e(t){if(Array.isArray(t))return t}function KM(){return KM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},KM.apply(this,arguments)}var T6e=function(e,r){var n;return X.isValidElement(e)?n=X.cloneElement(e,r):Qt(e)?n=e(r):n=X.createElement("line",KM({},r,{className:"recharts-reference-line-line"})),n},_6e=function(e,r,n,s,i,o,l,c,d){var h=i.x,m=i.y,g=i.width,y=i.height;if(n){var w=d.y,j=e.y.apply(w,{position:o});if(go(d,"discard")&&!e.y.isInRange(j))return null;var v=[{x:h+g,y:j},{x:h,y:j}];return c==="left"?v.reverse():v}if(r){var N=d.x,T=e.x.apply(N,{position:o});if(go(d,"discard")&&!e.x.isInRange(T))return null;var S=[{x:T,y:m+y},{x:T,y:m}];return l==="top"?S.reverse():S}if(s){var O=d.segment,_=O.map(function(A){return e.apply(A,{position:o})});return go(d,"discard")&&w3e(_,function(A){return!e.isInRange(A)})?null:_}return null};function M6e(t){var e=t.x,r=t.y,n=t.segment,s=t.xAxisId,i=t.yAxisId,o=t.shape,l=t.className,c=t.alwaysShow,d=c6e(),h=YJ(s),m=KJ(i),g=f6e();if(!d||!g)return null;Hi(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var y=rD({x:h.scale,y:m.scale}),w=la(e),j=la(r),v=n&&n.length===2,N=_6e(y,w,j,v,g,t.position,h.orientation,m.orientation,t);if(!N)return null;var T=j6e(N,2),S=T[0],O=S.x,_=S.y,A=T[1],E=A.x,P=A.y,$=go(t,"hidden")?"url(#".concat(d,")"):void 0,I=ZB(ZB({clipPath:$},Ut(t,!0)),{},{x1:O,y1:_,x2:E,y2:P});return X.createElement(Er,{className:Ft("recharts-reference-line",l)},T6e(o,I),pa.renderCallByParent(t,J3e({x1:O,y1:_,x2:E,y2:P})))}var lD=(function(t){function e(){return m6e(this,e),x6e(this,e,arguments)}return v6e(e,t),g6e(e,[{key:"render",value:function(){return X.createElement(M6e,this.props)}}])})(X.Component);oD(lD,"displayName","ReferenceLine");oD(lD,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function XM(){return XM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XM.apply(this,arguments)}function bh(t){"@babel/helpers - typeof";return bh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},bh(t)}function tz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function rz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tz(Object(r),!0).forEach(function(n){F1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function A6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ZJ(n.key),n)}}function E6e(t,e,r){return e&&O6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function D6e(t,e,r){return e=yw(e),P6e(t,QJ()?Reflect.construct(e,r||[],yw(t).constructor):e.apply(t,r))}function P6e(t,e){if(e&&(bh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return R6e(t)}function R6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function QJ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(QJ=function(){return!!t})()}function yw(t){return yw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},yw(t)}function I6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&JM(t,e)}function JM(t,e){return JM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},JM(t,e)}function F1(t,e,r){return e=ZJ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZJ(t){var e=L6e(t,"string");return bh(e)=="symbol"?e:e+""}function L6e(t,e){if(bh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(bh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var $6e=function(e){var r=e.x,n=e.y,s=e.xAxis,i=e.yAxis,o=rD({x:s.scale,y:i.scale}),l=o.apply({x:r,y:n},{bandAware:!0});return go(e,"discard")&&!o.isInRange(l)?null:l},H1=(function(t){function e(){return A6e(this,e),D6e(this,e,arguments)}return I6e(e,t),E6e(e,[{key:"render",value:function(){var n=this.props,s=n.x,i=n.y,o=n.r,l=n.alwaysShow,c=n.clipPathId,d=la(s),h=la(i);if(Hi(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=$6e(this.props);if(!m)return null;var g=m.x,y=m.y,w=this.props,j=w.shape,v=w.className,N=go(this.props,"hidden")?"url(#".concat(c,")"):void 0,T=rz(rz({clipPath:N},Ut(this.props,!0)),{},{cx:g,cy:y});return X.createElement(Er,{className:Ft("recharts-reference-dot",v)},e.renderDot(j,T),pa.renderCallByParent(this.props,{x:g-o,y:y-o,width:2*o,height:2*o}))}}])})(X.Component);F1(H1,"displayName","ReferenceDot");F1(H1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});F1(H1,"renderDot",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Qt(t)?r=t(e):r=X.createElement(O1,XM({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),r});function QM(){return QM=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QM.apply(this,arguments)}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}function nz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function az(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nz(Object(r),!0).forEach(function(n){B1(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F6e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function H6e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,tQ(n.key),n)}}function B6e(t,e,r){return e&&H6e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z6e(t,e,r){return e=bw(e),V6e(t,eQ()?Reflect.construct(e,r||[],bw(t).constructor):e.apply(t,r))}function V6e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return q6e(t)}function q6e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function eQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eQ=function(){return!!t})()}function bw(t){return bw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},bw(t)}function W6e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&ZM(t,e)}function ZM(t,e){return ZM=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},ZM(t,e)}function B1(t,e,r){return e=tQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tQ(t){var e=U6e(t,"string");return vh(e)=="symbol"?e:e+""}function U6e(t,e){if(vh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(vh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var G6e=function(e,r,n,s,i){var o=i.x1,l=i.x2,c=i.y1,d=i.y2,h=i.xAxis,m=i.yAxis;if(!h||!m)return null;var g=rD({x:h.scale,y:m.scale}),y={x:e?g.x.apply(o,{position:"start"}):g.x.rangeMin,y:n?g.y.apply(c,{position:"start"}):g.y.rangeMin},w={x:r?g.x.apply(l,{position:"end"}):g.x.rangeMax,y:s?g.y.apply(d,{position:"end"}):g.y.rangeMax};return go(i,"discard")&&(!g.isInRange(y)||!g.isInRange(w))?null:BJ(y,w)},z1=(function(t){function e(){return F6e(this,e),z6e(this,e,arguments)}return W6e(e,t),B6e(e,[{key:"render",value:function(){var n=this.props,s=n.x1,i=n.x2,o=n.y1,l=n.y2,c=n.className,d=n.alwaysShow,h=n.clipPathId;Hi(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=la(s),g=la(i),y=la(o),w=la(l),j=this.props.shape;if(!m&&!g&&!y&&!w&&!j)return null;var v=G6e(m,g,y,w,this.props);if(!v&&!j)return null;var N=go(this.props,"hidden")?"url(#".concat(h,")"):void 0;return X.createElement(Er,{className:Ft("recharts-reference-area",c)},e.renderRect(j,az(az({clipPath:N},Ut(this.props,!0)),v)),pa.renderCallByParent(this.props,v))}}])})(X.Component);B1(z1,"displayName","ReferenceArea");B1(z1,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});B1(z1,"renderRect",function(t,e){var r;return X.isValidElement(t)?r=X.cloneElement(t,e):Qt(t)?r=t(e):r=X.createElement(tD,QM({},e,{className:"recharts-reference-area-rect"})),r});function rQ(t,e,r){if(e<1)return[];if(e===1&&r===void 0)return t;for(var n=[],s=0;s<t.length;s+=e)n.push(t[s]);return n}function Y6e(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return Z3e(n,r)}function K6e(t,e,r){var n=r==="width",s=t.x,i=t.y,o=t.width,l=t.height;return e===1?{start:n?s:i,end:n?s+o:i+l}:{start:n?s+o:i+l,end:n?s:i}}function vw(t,e,r,n,s){if(t*e<t*n||t*e>t*s)return!1;var i=r();return t*(e-t*i/2-n)>=0&&t*(e+t*i/2-s)<=0}function X6e(t,e){return rQ(t,e+1)}function J6e(t,e,r,n,s){for(var i=(n||[]).slice(),o=e.start,l=e.end,c=0,d=1,h=o,m=function(){var w=n==null?void 0:n[c];if(w===void 0)return{v:rQ(n,d)};var j=c,v,N=function(){return v===void 0&&(v=r(w,j)),v},T=w.coordinate,S=c===0||vw(t,T,N,h,l);S||(c=0,h=o,d+=1),S&&(h=T+t*(N()/2+s),c+=d)},g;d<=i.length;)if(g=m(),g)return g.v;return[]}function W0(t){"@babel/helpers - typeof";return W0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},W0(t)}function sz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function $a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sz(Object(r),!0).forEach(function(n){Q6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q6e(t,e,r){return e=Z6e(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Z6e(t){var e=eRe(t,"string");return W0(e)=="symbol"?e:e+""}function eRe(t,e){if(W0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(W0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tRe(t,e,r,n,s){for(var i=(n||[]).slice(),o=i.length,l=e.start,c=e.end,d=function(g){var y=i[g],w,j=function(){return w===void 0&&(w=r(y,g)),w};if(g===o-1){var v=t*(y.coordinate+t*j()/2-c);i[g]=y=$a($a({},y),{},{tickCoord:v>0?y.coordinate-v*t:y.coordinate})}else i[g]=y=$a($a({},y),{},{tickCoord:y.coordinate});var N=vw(t,y.tickCoord,j,l,c);N&&(c=y.tickCoord-t*(j()/2+s),i[g]=$a($a({},y),{},{isShow:!0}))},h=o-1;h>=0;h--)d(h);return i}function rRe(t,e,r,n,s,i){var o=(n||[]).slice(),l=o.length,c=e.start,d=e.end;if(i){var h=n[l-1],m=r(h,l-1),g=t*(h.coordinate+t*m/2-d);o[l-1]=h=$a($a({},h),{},{tickCoord:g>0?h.coordinate-g*t:h.coordinate});var y=vw(t,h.tickCoord,function(){return m},c,d);y&&(d=h.tickCoord-t*(m/2+s),o[l-1]=$a($a({},h),{},{isShow:!0}))}for(var w=i?l-1:l,j=function(T){var S=o[T],O,_=function(){return O===void 0&&(O=r(S,T)),O};if(T===0){var A=t*(S.coordinate-t*_()/2-c);o[T]=S=$a($a({},S),{},{tickCoord:A<0?S.coordinate-A*t:S.coordinate})}else o[T]=S=$a($a({},S),{},{tickCoord:S.coordinate});var E=vw(t,S.tickCoord,_,c,d);E&&(c=S.tickCoord+t*(_()/2+s),o[T]=$a($a({},S),{},{isShow:!0}))},v=0;v<w;v++)j(v);return o}function cD(t,e,r){var n=t.tick,s=t.ticks,i=t.viewBox,o=t.minTickGap,l=t.orientation,c=t.interval,d=t.tickFormatter,h=t.unit,m=t.angle;if(!s||!s.length||!n)return[];if(yt(c)||hd.isSsr)return X6e(s,typeof c=="number"&&yt(c)?c:0);var g=[],y=l==="top"||l==="bottom"?"width":"height",w=h&&y==="width"?Ip(h,{fontSize:e,letterSpacing:r}):{width:0,height:0},j=function(S,O){var _=Qt(d)?d(S.value,O):S.value;return y==="width"?Y6e(Ip(_,{fontSize:e,letterSpacing:r}),w,m):Ip(_,{fontSize:e,letterSpacing:r})[y]},v=s.length>=2?Za(s[1].coordinate-s[0].coordinate):1,N=K6e(i,v,y);return c==="equidistantPreserveStart"?J6e(v,N,j,s,o):(c==="preserveStart"||c==="preserveStartEnd"?g=rRe(v,N,j,s,o,c==="preserveStartEnd"):g=tRe(v,N,j,s,o),g.filter(function(T){return T.isShow}))}var nRe=["viewBox"],aRe=["viewBox"],sRe=["ticks"];function wh(t){"@babel/helpers - typeof";return wh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wh(t)}function wf(){return wf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wf.apply(this,arguments)}function iz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function aa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iz(Object(r),!0).forEach(function(n){uD(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function y5(t,e){if(t==null)return{};var r=iRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function iRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function oRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function oz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,aQ(n.key),n)}}function lRe(t,e,r){return e&&oz(t.prototype,e),r&&oz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function cRe(t,e,r){return e=ww(e),uRe(t,nQ()?Reflect.construct(e,r||[],ww(t).constructor):e.apply(t,r))}function uRe(t,e){if(e&&(wh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dRe(t)}function dRe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function nQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(nQ=function(){return!!t})()}function ww(t){return ww=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},ww(t)}function fRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&eA(t,e)}function eA(t,e){return eA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},eA(t,e)}function uD(t,e,r){return e=aQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aQ(t){var e=hRe(t,"string");return wh(e)=="symbol"?e:e+""}function hRe(t,e){if(wh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(wh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var Wh=(function(t){function e(r){var n;return oRe(this,e),n=cRe(this,e,[r]),n.state={fontSize:"",letterSpacing:""},n}return fRe(e,t),lRe(e,[{key:"shouldComponentUpdate",value:function(n,s){var i=n.viewBox,o=y5(n,nRe),l=this.props,c=l.viewBox,d=y5(l,aRe);return!Df(i,c)||!Df(o,d)||!Df(s,this.state)}},{key:"componentDidMount",value:function(){var n=this.layerReference;if(n){var s=n.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];s&&this.setState({fontSize:window.getComputedStyle(s).fontSize,letterSpacing:window.getComputedStyle(s).letterSpacing})}}},{key:"getTickLineCoord",value:function(n){var s=this.props,i=s.x,o=s.y,l=s.width,c=s.height,d=s.orientation,h=s.tickSize,m=s.mirror,g=s.tickMargin,y,w,j,v,N,T,S=m?-1:1,O=n.tickSize||h,_=yt(n.tickCoord)?n.tickCoord:n.coordinate;switch(d){case"top":y=w=n.coordinate,v=o+ +!m*c,j=v-S*O,T=j-S*g,N=_;break;case"left":j=v=n.coordinate,w=i+ +!m*l,y=w-S*O,N=y-S*g,T=_;break;case"right":j=v=n.coordinate,w=i+ +m*l,y=w+S*O,N=y+S*g,T=_;break;default:y=w=n.coordinate,v=o+ +m*c,j=v+S*O,T=j+S*g,N=_;break}return{line:{x1:y,y1:j,x2:w,y2:v},tick:{x:N,y:T}}}},{key:"getTickTextAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o;switch(s){case"left":o=i?"start":"end";break;case"right":o=i?"end":"start";break;default:o="middle";break}return o}},{key:"getTickVerticalAnchor",value:function(){var n=this.props,s=n.orientation,i=n.mirror,o="end";switch(s){case"left":case"right":o="middle";break;case"top":o=i?"start":"end";break;default:o=i?"end":"start";break}return o}},{key:"renderAxisLine",value:function(){var n=this.props,s=n.x,i=n.y,o=n.width,l=n.height,c=n.orientation,d=n.mirror,h=n.axisLine,m=aa(aa(aa({},Ut(this.props,!1)),Ut(h,!1)),{},{fill:"none"});if(c==="top"||c==="bottom"){var g=+(c==="top"&&!d||c==="bottom"&&d);m=aa(aa({},m),{},{x1:s,y1:i+g*l,x2:s+o,y2:i+g*l})}else{var y=+(c==="left"&&!d||c==="right"&&d);m=aa(aa({},m),{},{x1:s+y*o,y1:i,x2:s+y*o,y2:i+l})}return X.createElement("line",wf({},m,{className:Ft("recharts-cartesian-axis-line",Bs(h,"className"))}))}},{key:"renderTicks",value:function(n,s,i){var o=this,l=this.props,c=l.tickLine,d=l.stroke,h=l.tick,m=l.tickFormatter,g=l.unit,y=cD(aa(aa({},this.props),{},{ticks:n}),s,i),w=this.getTickTextAnchor(),j=this.getTickVerticalAnchor(),v=Ut(this.props,!1),N=Ut(h,!1),T=aa(aa({},v),{},{fill:"none"},Ut(c,!1)),S=y.map(function(O,_){var A=o.getTickLineCoord(O),E=A.line,P=A.tick,$=aa(aa(aa(aa({textAnchor:w,verticalAnchor:j},v),{},{stroke:"none",fill:d},N),P),{},{index:_,payload:O,visibleTicksCount:y.length,tickFormatter:m});return X.createElement(Er,wf({className:"recharts-cartesian-axis-tick",key:"tick-".concat(O.value,"-").concat(O.coordinate,"-").concat(O.tickCoord)},ad(o.props,O,_)),c&&X.createElement("line",wf({},T,E,{className:Ft("recharts-cartesian-axis-tick-line",Bs(c,"className"))})),h&&e.renderTickItem(h,$,"".concat(Qt(m)?m(O.value,_):O.value).concat(g||"")))});return X.createElement("g",{className:"recharts-cartesian-axis-ticks"},S)}},{key:"render",value:function(){var n=this,s=this.props,i=s.axisLine,o=s.width,l=s.height,c=s.ticksGenerator,d=s.className,h=s.hide;if(h)return null;var m=this.props,g=m.ticks,y=y5(m,sRe),w=g;return Qt(c)&&(w=g&&g.length>0?c(this.props):c(y)),o<=0||l<=0||!w||!w.length?null:X.createElement(Er,{className:Ft("recharts-cartesian-axis",d),ref:function(v){n.layerReference=v}},i&&this.renderAxisLine(),this.renderTicks(w,this.state.fontSize,this.state.letterSpacing),pa.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(n,s,i){var o,l=Ft(s.className,"recharts-cartesian-axis-tick-value");return X.isValidElement(n)?o=X.cloneElement(n,aa(aa({},s),{},{className:l})):Qt(n)?o=n(aa(aa({},s),{},{className:l})):o=X.createElement(sd,wf({},s,{className:"recharts-cartesian-axis-tick-value"}),i),o}}])})(x.Component);uD(Wh,"displayName","CartesianAxis");uD(Wh,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var mRe=["x1","y1","x2","y2","key"],pRe=["offset"];function ld(t){"@babel/helpers - typeof";return ld=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ld(t)}function lz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lz(Object(r),!0).forEach(function(n){gRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gRe(t,e,r){return e=xRe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xRe(t){var e=yRe(t,"string");return ld(e)=="symbol"?e:e+""}function yRe(t,e){if(ld(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Pu(){return Pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Pu.apply(this,arguments)}function cz(t,e){if(t==null)return{};var r=bRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function bRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}var vRe=function(e){var r=e.fill;if(!r||r==="none")return null;var n=e.fillOpacity,s=e.x,i=e.y,o=e.width,l=e.height,c=e.ry;return X.createElement("rect",{x:s,y:i,ry:c,width:o,height:l,stroke:"none",fill:r,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function sQ(t,e){var r;if(X.isValidElement(t))r=X.cloneElement(t,e);else if(Qt(t))r=t(e);else{var n=e.x1,s=e.y1,i=e.x2,o=e.y2,l=e.key,c=cz(e,mRe),d=Ut(c,!1);d.offset;var h=cz(d,pRe);r=X.createElement("line",Pu({},h,{x1:n,y1:s,x2:i,y2:o,fill:"none",key:l}))}return r}function wRe(t){var e=t.x,r=t.width,n=t.horizontal,s=n===void 0?!0:n,i=t.horizontalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fa(Fa({},t),{},{x1:e,y1:l,x2:e+r,y2:l,key:"line-".concat(c),index:c});return sQ(s,d)});return X.createElement("g",{className:"recharts-cartesian-grid-horizontal"},o)}function jRe(t){var e=t.y,r=t.height,n=t.vertical,s=n===void 0?!0:n,i=t.verticalPoints;if(!s||!i||!i.length)return null;var o=i.map(function(l,c){var d=Fa(Fa({},t),{},{x1:l,y1:e,x2:l,y2:e+r,key:"line-".concat(c),index:c});return sQ(s,d)});return X.createElement("g",{className:"recharts-cartesian-grid-vertical"},o)}function SRe(t){var e=t.horizontalFill,r=t.fillOpacity,n=t.x,s=t.y,i=t.width,o=t.height,l=t.horizontalPoints,c=t.horizontal,d=c===void 0?!0:c;if(!d||!e||!e.length)return null;var h=l.map(function(g){return Math.round(g+s-s)}).sort(function(g,y){return g-y});s!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var w=!h[y+1],j=w?s+o-g:h[y+1]-g;if(j<=0)return null;var v=y%e.length;return X.createElement("rect",{key:"react-".concat(y),y:g,x:n,height:j,width:i,stroke:"none",fill:e[v],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function NRe(t){var e=t.vertical,r=e===void 0?!0:e,n=t.verticalFill,s=t.fillOpacity,i=t.x,o=t.y,l=t.width,c=t.height,d=t.verticalPoints;if(!r||!n||!n.length)return null;var h=d.map(function(g){return Math.round(g+i-i)}).sort(function(g,y){return g-y});i!==h[0]&&h.unshift(0);var m=h.map(function(g,y){var w=!h[y+1],j=w?i+l-g:h[y+1]-g;if(j<=0)return null;var v=y%n.length;return X.createElement("rect",{key:"react-".concat(y),x:g,y:o,width:j,height:c,stroke:"none",fill:n[v],fillOpacity:s,className:"recharts-cartesian-grid-bg"})});return X.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var kRe=function(e,r){var n=e.xAxis,s=e.width,i=e.height,o=e.offset;return sJ(cD(Fa(Fa(Fa({},Wh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.left,o.left+o.width,r)},CRe=function(e,r){var n=e.yAxis,s=e.width,i=e.height,o=e.offset;return sJ(cD(Fa(Fa(Fa({},Wh.defaultProps),n),{},{ticks:ol(n,!0),viewBox:{x:0,y:0,width:s,height:i}})),o.top,o.top+o.height,r)},nf={horizontal:!0,vertical:!0,stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Gu(t){var e,r,n,s,i,o,l=sD(),c=iD(),d=h6e(),h=Fa(Fa({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:nf.stroke,fill:(r=t.fill)!==null&&r!==void 0?r:nf.fill,horizontal:(n=t.horizontal)!==null&&n!==void 0?n:nf.horizontal,horizontalFill:(s=t.horizontalFill)!==null&&s!==void 0?s:nf.horizontalFill,vertical:(i=t.vertical)!==null&&i!==void 0?i:nf.vertical,verticalFill:(o=t.verticalFill)!==null&&o!==void 0?o:nf.verticalFill,x:yt(t.x)?t.x:d.left,y:yt(t.y)?t.y:d.top,width:yt(t.width)?t.width:d.width,height:yt(t.height)?t.height:d.height}),m=h.x,g=h.y,y=h.width,w=h.height,j=h.syncWithTicks,v=h.horizontalValues,N=h.verticalValues,T=u6e(),S=d6e();if(!yt(y)||y<=0||!yt(w)||w<=0||!yt(m)||m!==+m||!yt(g)||g!==+g)return null;var O=h.verticalCoordinatesGenerator||kRe,_=h.horizontalCoordinatesGenerator||CRe,A=h.horizontalPoints,E=h.verticalPoints;if((!A||!A.length)&&Qt(_)){var P=v&&v.length,$=_({yAxis:S?Fa(Fa({},S),{},{ticks:P?v:S.ticks}):void 0,width:l,height:c,offset:d},P?!0:j);Hi(Array.isArray($),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(ld($),"]")),Array.isArray($)&&(A=$)}if((!E||!E.length)&&Qt(O)){var I=N&&N.length,L=O({xAxis:T?Fa(Fa({},T),{},{ticks:I?N:T.ticks}):void 0,width:l,height:c,offset:d},I?!0:j);Hi(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(ld(L),"]")),Array.isArray(L)&&(E=L)}return X.createElement("g",{className:"recharts-cartesian-grid"},X.createElement(vRe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),X.createElement(wRe,Pu({},h,{offset:d,horizontalPoints:A,xAxis:T,yAxis:S})),X.createElement(jRe,Pu({},h,{offset:d,verticalPoints:E,xAxis:T,yAxis:S})),X.createElement(SRe,Pu({},h,{horizontalPoints:A})),X.createElement(NRe,Pu({},h,{verticalPoints:E})))}Gu.displayName="CartesianGrid";var TRe=["type","layout","connectNulls","ref"],_Re=["key"];function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function uz(t,e){if(t==null)return{};var r=MRe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MRe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function zp(){return zp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zp.apply(this,arguments)}function dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Es(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(r),!0).forEach(function(n){Pi(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function af(t){return DRe(t)||ERe(t)||ORe(t)||ARe()}function ARe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ORe(t,e){if(t){if(typeof t=="string")return tA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return tA(t,e)}}function ERe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function DRe(t){if(Array.isArray(t))return tA(t)}function tA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function PRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function fz(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,oQ(n.key),n)}}function RRe(t,e,r){return e&&fz(t.prototype,e),r&&fz(t,r),Object.defineProperty(t,"prototype",{writable:!1}),t}function IRe(t,e,r){return e=jw(e),LRe(t,iQ()?Reflect.construct(e,r||[],jw(t).constructor):e.apply(t,r))}function LRe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return $Re(t)}function $Re(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function iQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(iQ=function(){return!!t})()}function jw(t){return jw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},jw(t)}function FRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rA(t,e)}function rA(t,e){return rA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},rA(t,e)}function Pi(t,e,r){return e=oQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oQ(t){var e=HRe(t,"string");return jh(e)=="symbol"?e:e+""}function HRe(t,e){if(jh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(jh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var cd=(function(t){function e(){var r;PRe(this,e);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return r=IRe(this,e,[].concat(s)),Pi(r,"state",{isAnimationFinished:!0,totalLength:0}),Pi(r,"generateSimpleStrokeDasharray",function(o,l){return"".concat(l,"px ").concat(o-l,"px")}),Pi(r,"getStrokeDasharray",function(o,l,c){var d=c.reduce(function(N,T){return N+T});if(!d)return r.generateSimpleStrokeDasharray(l,o);for(var h=Math.floor(o/d),m=o%d,g=l-o,y=[],w=0,j=0;w<c.length;j+=c[w],++w)if(j+c[w]>m){y=[].concat(af(c.slice(0,w)),[m-j]);break}var v=y.length%2===0?[0,g]:[g];return[].concat(af(e.repeat(c,h)),af(y),v).map(function(N){return"".concat(N,"px")}).join(", ")}),Pi(r,"id",Fh("recharts-line-")),Pi(r,"pathRef",function(o){r.mainCurve=o}),Pi(r,"handleAnimationEnd",function(){r.setState({isAnimationFinished:!0}),r.props.onAnimationEnd&&r.props.onAnimationEnd()}),Pi(r,"handleAnimationStart",function(){r.setState({isAnimationFinished:!1}),r.props.onAnimationStart&&r.props.onAnimationStart()}),r}return FRe(e,t),RRe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();this.setState({totalLength:n})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var n=this.getTotalLength();n!==this.state.totalLength&&this.setState({totalLength:n})}}},{key:"getTotalLength",value:function(){var n=this.mainCurve;try{return n&&n.getTotalLength&&n.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(n,s){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var i=this.props,o=i.points,l=i.xAxis,c=i.yAxis,d=i.layout,h=i.children,m=zs(h,jg);if(!m)return null;var g=function(j,v){return{x:j.x,y:j.y,value:j.value,errorVal:oa(j.payload,v)}},y={clipPath:n?"url(#clipPath-".concat(s,")"):null};return X.createElement(Er,y,m.map(function(w){return X.cloneElement(w,{key:"bar-".concat(w.props.dataKey),data:o,xAxis:l,yAxis:c,layout:d,dataPointFormatter:g})}))}},{key:"renderDots",value:function(n,s,i){var o=this.props.isAnimationActive;if(o&&!this.state.isAnimationFinished)return null;var l=this.props,c=l.dot,d=l.points,h=l.dataKey,m=Ut(this.props,!1),g=Ut(c,!0),y=d.map(function(j,v){var N=Es(Es(Es({key:"dot-".concat(v),r:3},m),g),{},{index:v,cx:j.x,cy:j.y,value:j.value,dataKey:h,payload:j.payload,points:d});return e.renderDotItem(c,N)}),w={clipPath:n?"url(#clipPath-".concat(s?"":"dots-").concat(i,")"):null};return X.createElement(Er,zp({className:"recharts-line-dots",key:"dots"},w),y)}},{key:"renderCurveStatically",value:function(n,s,i,o){var l=this.props,c=l.type,d=l.layout,h=l.connectNulls;l.ref;var m=uz(l,TRe),g=Es(Es(Es({},Ut(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:s?"url(#clipPath-".concat(i,")"):null,points:n},o),{},{type:c,layout:d,connectNulls:h});return X.createElement(rw,zp({},g,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(n,s){var i=this,o=this.props,l=o.points,c=o.strokeDasharray,d=o.isAnimationActive,h=o.animationBegin,m=o.animationDuration,g=o.animationEasing,y=o.animationId,w=o.animateNewValues,j=o.width,v=o.height,N=this.state,T=N.prevPoints,S=N.totalLength;return X.createElement(ko,{begin:h,duration:m,isActive:d,easing:g,from:{t:0},to:{t:1},key:"line-".concat(y),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(O){var _=O.t;if(T){var A=T.length/l.length,E=l.map(function(R,z){var Y=Math.floor(z*A);if(T[Y]){var q=T[Y],H=Rs(q.x,R.x),D=Rs(q.y,R.y);return Es(Es({},R),{},{x:H(_),y:D(_)})}if(w){var F=Rs(j*2,R.x),K=Rs(v/2,R.y);return Es(Es({},R),{},{x:F(_),y:K(_)})}return Es(Es({},R),{},{x:R.x,y:R.y})});return i.renderCurveStatically(E,n,s)}var P=Rs(0,S),$=P(_),I;if(c){var L="".concat(c).split(/[,\s]+/gim).map(function(R){return parseFloat(R)});I=i.getStrokeDasharray($,S,L)}else I=i.generateSimpleStrokeDasharray(S,$);return i.renderCurveStatically(l,n,s,{strokeDasharray:I})})}},{key:"renderCurve",value:function(n,s){var i=this.props,o=i.points,l=i.isAnimationActive,c=this.state,d=c.prevPoints,h=c.totalLength;return l&&o&&o.length&&(!d&&h>0||!wg(d,o))?this.renderCurveWithAnimation(n,s):this.renderCurveStatically(o,n,s)}},{key:"render",value:function(){var n,s=this.props,i=s.hide,o=s.dot,l=s.points,c=s.className,d=s.xAxis,h=s.yAxis,m=s.top,g=s.left,y=s.width,w=s.height,j=s.isAnimationActive,v=s.id;if(i||!l||!l.length)return null;var N=this.state.isAnimationFinished,T=l.length===1,S=Ft("recharts-line",c),O=d&&d.allowDataOverflow,_=h&&h.allowDataOverflow,A=O||_,E=tr(v)?this.id:v,P=(n=Ut(o,!1))!==null&&n!==void 0?n:{r:3,strokeWidth:2},$=P.r,I=$===void 0?3:$,L=P.strokeWidth,R=L===void 0?2:L,z=y2e(o)?o:{},Y=z.clipDot,q=Y===void 0?!0:Y,H=I*2+R;return X.createElement(Er,{className:S},O||_?X.createElement("defs",null,X.createElement("clipPath",{id:"clipPath-".concat(E)},X.createElement("rect",{x:O?g:g-y/2,y:_?m:m-w/2,width:O?y:y*2,height:_?w:w*2})),!q&&X.createElement("clipPath",{id:"clipPath-dots-".concat(E)},X.createElement("rect",{x:g-H/2,y:m-H/2,width:y+H,height:w+H}))):null,!T&&this.renderCurve(A,E),this.renderErrorBar(A,E),(T||o)&&this.renderDots(A,q,E),(!j||N)&&bl.renderCallByParent(this.props,l))}}],[{key:"getDerivedStateFromProps",value:function(n,s){return n.animationId!==s.prevAnimationId?{prevAnimationId:n.animationId,curPoints:n.points,prevPoints:s.curPoints}:n.points!==s.curPoints?{curPoints:n.points}:null}},{key:"repeat",value:function(n,s){for(var i=n.length%2!==0?[].concat(af(n),[0]):n,o=[],l=0;l<s;++l)o=[].concat(af(o),af(i));return o}},{key:"renderDotItem",value:function(n,s){var i;if(X.isValidElement(n))i=X.cloneElement(n,s);else if(Qt(n))i=n(s);else{var o=s.key,l=uz(s,_Re),c=Ft("recharts-line-dot",typeof n!="boolean"?n.className:"");i=X.createElement(O1,zp({key:o},l,{className:c}))}return i}}])})(x.PureComponent);Pi(cd,"displayName","Line");Pi(cd,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!hd.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Pi(cd,"getComposedData",function(t){var e=t.props,r=t.xAxis,n=t.yAxis,s=t.xAxisTicks,i=t.yAxisTicks,o=t.dataKey,l=t.bandSize,c=t.displayedData,d=t.offset,h=e.layout,m=c.map(function(g,y){var w=oa(g,o);return h==="horizontal"?{x:mH({axis:r,ticks:s,bandSize:l,entry:g,index:y}),y:tr(w)?null:n.scale(w),value:w,payload:g}:{x:tr(w)?null:r.scale(w),y:mH({axis:n,ticks:i,bandSize:l,entry:g,index:y}),value:w,payload:g}});return Es({points:m,layout:h},d)});function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function BRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function zRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,uQ(n.key),n)}}function VRe(t,e,r){return e&&zRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function qRe(t,e,r){return e=Sw(e),WRe(t,lQ()?Reflect.construct(e,r||[],Sw(t).constructor):e.apply(t,r))}function WRe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return URe(t)}function URe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function lQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(lQ=function(){return!!t})()}function Sw(t){return Sw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Sw(t)}function GRe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&nA(t,e)}function nA(t,e){return nA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},nA(t,e)}function cQ(t,e,r){return e=uQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uQ(t){var e=YRe(t,"string");return Sh(e)=="symbol"?e:e+""}function YRe(t,e){if(Sh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Sh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function aA(){return aA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aA.apply(this,arguments)}function KRe(t){var e=t.xAxisId,r=sD(),n=iD(),s=YJ(e);return s==null?null:x.createElement(Wh,aA({},s,{className:Ft("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:n},ticksGenerator:function(o){return ol(o,!0)}}))}var xo=(function(t){function e(){return BRe(this,e),qRe(this,e,arguments)}return GRe(e,t),VRe(e,[{key:"render",value:function(){return x.createElement(KRe,this.props)}}])})(x.Component);cQ(xo,"displayName","XAxis");cQ(xo,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function XRe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function JRe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,hQ(n.key),n)}}function QRe(t,e,r){return e&&JRe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ZRe(t,e,r){return e=Nw(e),eIe(t,dQ()?Reflect.construct(e,r||[],Nw(t).constructor):e.apply(t,r))}function eIe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return tIe(t)}function tIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function dQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dQ=function(){return!!t})()}function Nw(t){return Nw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Nw(t)}function rIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&sA(t,e)}function sA(t,e){return sA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},sA(t,e)}function fQ(t,e,r){return e=hQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function hQ(t){var e=nIe(t,"string");return Nh(e)=="symbol"?e:e+""}function nIe(t,e){if(Nh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(Nh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function iA(){return iA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iA.apply(this,arguments)}var aIe=function(e){var r=e.yAxisId,n=sD(),s=iD(),i=KJ(r);return i==null?null:x.createElement(Wh,iA({},i,{className:Ft("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:s},ticksGenerator:function(l){return ol(l,!0)}}))},yo=(function(t){function e(){return XRe(this,e),ZRe(this,e,arguments)}return rIe(e,t),QRe(e,[{key:"render",value:function(){return x.createElement(aIe,this.props)}}])})(x.Component);fQ(yo,"displayName","YAxis");fQ(yo,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function hz(t){return lIe(t)||oIe(t)||iIe(t)||sIe()}function sIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iIe(t,e){if(t){if(typeof t=="string")return oA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return oA(t,e)}}function oIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function lIe(t){if(Array.isArray(t))return oA(t)}function oA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}var lA=function(e,r,n,s,i){var o=zs(e,lD),l=zs(e,H1),c=[].concat(hz(o),hz(l)),d=zs(e,z1),h="".concat(s,"Id"),m=s[0],g=r;if(c.length&&(g=c.reduce(function(j,v){if(v.props[h]===n&&go(v.props,"extendDomain")&&yt(v.props[m])){var N=v.props[m];return[Math.min(j[0],N),Math.max(j[1],N)]}return j},g)),d.length){var y="".concat(m,"1"),w="".concat(m,"2");g=d.reduce(function(j,v){if(v.props[h]===n&&go(v.props,"extendDomain")&&yt(v.props[y])&&yt(v.props[w])){var N=v.props[y],T=v.props[w];return[Math.min(j[0],N,T),Math.max(j[1],N,T)]}return j},g)}return i&&i.length&&(g=i.reduce(function(j,v){return yt(v)?[Math.min(j[0],v),Math.max(j[1],v)]:j},g)),g},b5={exports:{}},mz;function cIe(){return mz||(mz=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function s(c,d,h){this.fn=c,this.context=d,this.once=h||!1}function i(c,d,h,m,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new s(h,m||c,g),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],y]:c._events[w].push(y):(c._events[w]=y,c._eventsCount++),c}function o(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)e.call(h,m)&&d.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},l.prototype.listeners=function(d){var h=r?r+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,y=m.length,w=new Array(y);g<y;g++)w[g]=m[g].fn;return w},l.prototype.listenerCount=function(d){var h=r?r+d:d,m=this._events[h];return m?m.fn?1:m.length:0},l.prototype.emit=function(d,h,m,g,y,w){var j=r?r+d:d;if(!this._events[j])return!1;var v=this._events[j],N=arguments.length,T,S;if(v.fn){switch(v.once&&this.removeListener(d,v.fn,void 0,!0),N){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,h),!0;case 3:return v.fn.call(v.context,h,m),!0;case 4:return v.fn.call(v.context,h,m,g),!0;case 5:return v.fn.call(v.context,h,m,g,y),!0;case 6:return v.fn.call(v.context,h,m,g,y,w),!0}for(S=1,T=new Array(N-1);S<N;S++)T[S-1]=arguments[S];v.fn.apply(v.context,T)}else{var O=v.length,_;for(S=0;S<O;S++)switch(v[S].once&&this.removeListener(d,v[S].fn,void 0,!0),N){case 1:v[S].fn.call(v[S].context);break;case 2:v[S].fn.call(v[S].context,h);break;case 3:v[S].fn.call(v[S].context,h,m);break;case 4:v[S].fn.call(v[S].context,h,m,g);break;default:if(!T)for(_=1,T=new Array(N-1);_<N;_++)T[_-1]=arguments[_];v[S].fn.apply(v[S].context,T)}}return!0},l.prototype.on=function(d,h,m){return i(this,d,h,m,!1)},l.prototype.once=function(d,h,m){return i(this,d,h,m,!0)},l.prototype.removeListener=function(d,h,m,g){var y=r?r+d:d;if(!this._events[y])return this;if(!h)return o(this,y),this;var w=this._events[y];if(w.fn)w.fn===h&&(!g||w.once)&&(!m||w.context===m)&&o(this,y);else{for(var j=0,v=[],N=w.length;j<N;j++)(w[j].fn!==h||g&&!w[j].once||m&&w[j].context!==m)&&v.push(w[j]);v.length?this._events[y]=v.length===1?v[0]:v:o(this,y)}return this},l.prototype.removeAllListeners=function(d){var h;return d?(h=r?r+d:d,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(b5)),b5.exports}var uIe=cIe();const dIe=Pr(uIe);var v5=new dIe,w5="recharts.syncMouseEvents";function U0(t){"@babel/helpers - typeof";return U0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},U0(t)}function fIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function hIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,mQ(n.key),n)}}function mIe(t,e,r){return e&&hIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function j5(t,e,r){return e=mQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mQ(t){var e=pIe(t,"string");return U0(e)=="symbol"?e:e+""}function pIe(t,e){if(U0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(U0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var gIe=(function(){function t(){fIe(this,t),j5(this,"activeIndex",0),j5(this,"coordinateList",[]),j5(this,"layout","horizontal")}return mIe(t,[{key:"setDetails",value:function(r){var n,s=r.coordinateList,i=s===void 0?null:s,o=r.container,l=o===void 0?null:o,c=r.layout,d=c===void 0?null:c,h=r.offset,m=h===void 0?null:h,g=r.mouseHandlerCallback,y=g===void 0?null:g;this.coordinateList=(n=i??this.coordinateList)!==null&&n!==void 0?n:[],this.container=l??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=y??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(r){if(this.coordinateList.length!==0)switch(r.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(r){this.activeIndex=r}},{key:"spoofMouse",value:function(){var r,n;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var s=this.container.getBoundingClientRect(),i=s.x,o=s.y,l=s.height,c=this.coordinateList[this.activeIndex].coordinate,d=((r=window)===null||r===void 0?void 0:r.scrollX)||0,h=((n=window)===null||n===void 0?void 0:n.scrollY)||0,m=i+c+d,g=o+this.offset.top+l/2+h;this.mouseHandlerCallback({pageX:m,pageY:g})}}}])})();function xIe(t,e,r){if(r==="number"&&e===!0&&Array.isArray(t)){var n=t==null?void 0:t[0],s=t==null?void 0:t[1];if(n&&s&&yt(n)&&yt(s))return!0}return!1}function yIe(t,e,r,n){var s=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-s:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-s,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function pQ(t){var e=t.cx,r=t.cy,n=t.radius,s=t.startAngle,i=t.endAngle,o=un(e,r,n,s),l=un(e,r,n,i);return{points:[o,l],cx:e,cy:r,radius:n,startAngle:s,endAngle:i}}function bIe(t,e,r){var n,s,i,o;if(t==="horizontal")n=e.x,i=n,s=r.top,o=r.top+r.height;else if(t==="vertical")s=e.y,o=s,n=r.left,i=r.left+r.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var l=e.cx,c=e.cy,d=e.innerRadius,h=e.outerRadius,m=e.angle,g=un(l,c,d,m),y=un(l,c,h,m);n=g.x,s=g.y,i=y.x,o=y.y}else return pQ(e);return[{x:n,y:s},{x:i,y:o}]}function G0(t){"@babel/helpers - typeof";return G0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},G0(t)}function pz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function My(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pz(Object(r),!0).forEach(function(n){vIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vIe(t,e,r){return e=wIe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function wIe(t){var e=jIe(t,"string");return G0(e)=="symbol"?e:e+""}function jIe(t,e){if(G0(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(G0(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SIe(t){var e,r,n=t.element,s=t.tooltipEventType,i=t.isActive,o=t.activeCoordinate,l=t.activePayload,c=t.offset,d=t.activeTooltipIndex,h=t.tooltipAxisBandSize,m=t.layout,g=t.chartName,y=(e=n.props.cursor)!==null&&e!==void 0?e:(r=n.type.defaultProps)===null||r===void 0?void 0:r.cursor;if(!n||!y||!i||!o||g!=="ScatterChart"&&s!=="axis")return null;var w,j=rw;if(g==="ScatterChart")w=o,j=WPe;else if(g==="BarChart")w=yIe(m,o,c,h),j=tD;else if(m==="radial"){var v=pQ(o),N=v.cx,T=v.cy,S=v.radius,O=v.startAngle,_=v.endAngle;w={cx:N,cy:T,startAngle:O,endAngle:_,innerRadius:S,outerRadius:S},j=gJ}else w={points:bIe(m,o,c)},j=rw;var A=My(My(My(My({stroke:"#ccc",pointerEvents:"none"},c),w),Ut(y,!1)),{},{payload:l,payloadIndex:d,className:Ft("recharts-tooltip-cursor",y.className)});return x.isValidElement(y)?x.cloneElement(y,A):x.createElement(j,A)}var NIe=["item"],kIe=["children","className","width","height","style","compact","title","desc"];function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function jf(){return jf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jf.apply(this,arguments)}function gz(t,e){return _Ie(t)||TIe(t,e)||xQ(t,e)||CIe()}function CIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function TIe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,s,i,o,l=[],c=!0,d=!1;try{if(i=(r=r.call(t)).next,e!==0)for(;!(c=(n=i.call(r)).done)&&(l.push(n.value),l.length!==e);c=!0);}catch(h){d=!0,s=h}finally{try{if(!c&&r.return!=null&&(o=r.return(),Object(o)!==o))return}finally{if(d)throw s}}return l}}function _Ie(t){if(Array.isArray(t))return t}function xz(t,e){if(t==null)return{};var r=MIe(t,e),n,s;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);for(s=0;s<i.length;s++)n=i[s],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function MIe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function AIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function OIe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,yQ(n.key),n)}}function EIe(t,e,r){return e&&OIe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function DIe(t,e,r){return e=kw(e),PIe(t,gQ()?Reflect.construct(e,r||[],kw(t).constructor):e.apply(t,r))}function PIe(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RIe(t)}function RIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function gQ(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(gQ=function(){return!!t})()}function kw(t){return kw=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},kw(t)}function IIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&cA(t,e)}function cA(t,e){return cA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},cA(t,e)}function Ch(t){return FIe(t)||$Ie(t)||xQ(t)||LIe()}function LIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xQ(t,e){if(t){if(typeof t=="string")return uA(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);if(r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set")return Array.from(t);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return uA(t,e)}}function $Ie(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function FIe(t){if(Array.isArray(t))return uA(t)}function uA(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function yz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),r.push.apply(r,n)}return r}function Ue(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yz(Object(r),!0).forEach(function(n){Kt(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Kt(t,e,r){return e=yQ(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yQ(t){var e=HIe(t,"string");return kh(e)=="symbol"?e:e+""}function HIe(t,e){if(kh(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(kh(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BIe={xAxis:["bottom","top"],yAxis:["left","right"]},zIe={width:"100%",height:"100%"},bQ={x:0,y:0};function Ay(t){return t}var VIe=function(e,r){return r==="horizontal"?e.x:r==="vertical"?e.y:r==="centric"?e.angle:e.radius},qIe=function(e,r,n,s){var i=r.find(function(h){return h&&h.index===n});if(i){if(e==="horizontal")return{x:i.coordinate,y:s.y};if(e==="vertical")return{x:s.x,y:i.coordinate};if(e==="centric"){var o=i.coordinate,l=s.radius;return Ue(Ue(Ue({},s),un(s.cx,s.cy,l,o)),{},{angle:o,radius:l})}var c=i.coordinate,d=s.angle;return Ue(Ue(Ue({},s),un(s.cx,s.cy,c,d)),{},{angle:d,radius:c})}return bQ},V1=function(e,r){var n=r.graphicalItems,s=r.dataStartIndex,i=r.dataEndIndex,o=(n??[]).reduce(function(l,c){var d=c.props.data;return d&&d.length?[].concat(Ch(l),Ch(d)):l},[]);return o.length>0?o:e&&e.length&&yt(s)&&yt(i)?e.slice(s,i+1):[]};function vQ(t){return t==="number"?[0,"auto"]:void 0}var dA=function(e,r,n,s){var i=e.graphicalItems,o=e.tooltipAxis,l=V1(r,e);return n<0||!i||!i.length||n>=l.length?null:i.reduce(function(c,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:r;m&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=n&&(m=m.slice(e.dataStartIndex,e.dataEndIndex+1));var g;if(o.dataKey&&!o.allowDuplicatedCategory){var y=m===void 0?l:m;g=_v(y,o.dataKey,s)}else g=m&&m[n]||l[n];return g?[].concat(Ch(c),[uJ(d,g)]):c},[])},bz=function(e,r,n,s){var i=s||{x:e.chartX,y:e.chartY},o=VIe(i,n),l=e.orderedTooltipTicks,c=e.tooltipAxis,d=e.tooltipTicks,h=pOe(o,l,d,c);if(h>=0&&d){var m=d[h]&&d[h].value,g=dA(e,r,h,m),y=qIe(n,l,h,i);return{activeTooltipIndex:h,activeLabel:m,activePayload:g,activeCoordinate:y}}return null},WIe=function(e,r){var n=r.axes,s=r.graphicalItems,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,g=e.stackOffset,y=aJ(h,i);return n.reduce(function(w,j){var v,N=j.type.defaultProps!==void 0?Ue(Ue({},j.type.defaultProps),j.props):j.props,T=N.type,S=N.dataKey,O=N.allowDataOverflow,_=N.allowDuplicatedCategory,A=N.scale,E=N.ticks,P=N.includeHidden,$=N[o];if(w[$])return w;var I=V1(e.data,{graphicalItems:s.filter(function(Z){var oe,le=o in Z.props?Z.props[o]:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe[o];return le===$}),dataStartIndex:c,dataEndIndex:d}),L=I.length,R,z,Y;xIe(N.domain,O,T)&&(R=kM(N.domain,null,O),y&&(T==="number"||A!=="auto")&&(Y=$p(I,S,"category")));var q=vQ(T);if(!R||R.length===0){var H,D=(H=N.domain)!==null&&H!==void 0?H:q;if(S){if(R=$p(I,S,T),T==="category"&&y){var F=l2e(R);_&&F?(z=R,R=fw(0,L)):_||(R=yH(D,R,j).reduce(function(Z,oe){return Z.indexOf(oe)>=0?Z:[].concat(Ch(Z),[oe])},[]))}else if(T==="category")_?R=R.filter(function(Z){return Z!==""&&!tr(Z)}):R=yH(D,R,j).reduce(function(Z,oe){return Z.indexOf(oe)>=0||oe===""||tr(oe)?Z:[].concat(Ch(Z),[oe])},[]);else if(T==="number"){var K=vOe(I,s.filter(function(Z){var oe,le,ce=o in Z.props?Z.props[o]:(oe=Z.type.defaultProps)===null||oe===void 0?void 0:oe[o],pe="hide"in Z.props?Z.props.hide:(le=Z.type.defaultProps)===null||le===void 0?void 0:le.hide;return ce===$&&(P||!pe)}),S,i,h);K&&(R=K)}y&&(T==="number"||A!=="auto")&&(Y=$p(I,S,"category"))}else y?R=fw(0,L):l&&l[$]&&l[$].hasStack&&T==="number"?R=g==="expand"?[0,1]:cJ(l[$].stackGroups,c,d):R=nJ(I,s.filter(function(Z){var oe=o in Z.props?Z.props[o]:Z.type.defaultProps[o],le="hide"in Z.props?Z.props.hide:Z.type.defaultProps.hide;return oe===$&&(P||!le)}),T,h,!0);if(T==="number")R=lA(m,R,$,i,E),D&&(R=kM(D,R,O));else if(T==="category"&&D){var te=D,W=R.every(function(Z){return te.indexOf(Z)>=0});W&&(R=te)}}return Ue(Ue({},w),{},Kt({},$,Ue(Ue({},N),{},{axisType:i,domain:R,categoricalDomain:Y,duplicateDomain:z,originalDomain:(v=N.domain)!==null&&v!==void 0?v:q,isCategorical:y,layout:h})))},{})},UIe=function(e,r){var n=r.graphicalItems,s=r.Axis,i=r.axisType,o=r.axisIdKey,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.layout,m=e.children,g=V1(e.data,{graphicalItems:n,dataStartIndex:c,dataEndIndex:d}),y=g.length,w=aJ(h,i),j=-1;return n.reduce(function(v,N){var T=N.type.defaultProps!==void 0?Ue(Ue({},N.type.defaultProps),N.props):N.props,S=T[o],O=vQ("number");if(!v[S]){j++;var _;return w?_=fw(0,y):l&&l[S]&&l[S].hasStack?(_=cJ(l[S].stackGroups,c,d),_=lA(m,_,S,i)):(_=kM(O,nJ(g,n.filter(function(A){var E,P,$=o in A.props?A.props[o]:(E=A.type.defaultProps)===null||E===void 0?void 0:E[o],I="hide"in A.props?A.props.hide:(P=A.type.defaultProps)===null||P===void 0?void 0:P.hide;return $===S&&!I}),"number",h),s.defaultProps.allowDataOverflow),_=lA(m,_,S,i)),Ue(Ue({},v),{},Kt({},S,Ue(Ue({axisType:i},s.defaultProps),{},{hide:!0,orientation:Bs(BIe,"".concat(i,".").concat(j%2),null),domain:_,originalDomain:O,isCategorical:w,layout:h})))}return v},{})},GIe=function(e,r){var n=r.axisType,s=n===void 0?"xAxis":n,i=r.AxisComp,o=r.graphicalItems,l=r.stackGroups,c=r.dataStartIndex,d=r.dataEndIndex,h=e.children,m="".concat(s,"Id"),g=zs(h,i),y={};return g&&g.length?y=WIe(e,{axes:g,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d}):o&&o.length&&(y=UIe(e,{Axis:i,graphicalItems:o,axisType:s,axisIdKey:m,stackGroups:l,dataStartIndex:c,dataEndIndex:d})),y},YIe=function(e){var r=yc(e),n=ol(r,!1,!0);return{tooltipTicks:n,orderedTooltipTicks:_E(n,function(s){return s.coordinate}),tooltipAxis:r,tooltipAxisBandSize:Zv(r,n)}},vz=function(e){var r=e.children,n=e.defaultShowTooltip,s=Ps(r,gh),i=0,o=0;return e.data&&e.data.length!==0&&(o=e.data.length-1),s&&s.props&&(s.props.startIndex>=0&&(i=s.props.startIndex),s.props.endIndex>=0&&(o=s.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:i,dataEndIndex:o,activeTooltipIndex:-1,isTooltipActive:!!n}},KIe=function(e){return!e||!e.length?!1:e.some(function(r){var n=xl(r&&r.type);return n&&n.indexOf("Bar")>=0})},wz=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},XIe=function(e,r){var n=e.props,s=e.graphicalItems,i=e.xAxisMap,o=i===void 0?{}:i,l=e.yAxisMap,c=l===void 0?{}:l,d=n.width,h=n.height,m=n.children,g=n.margin||{},y=Ps(m,gh),w=Ps(m,mo),j=Object.keys(c).reduce(function(_,A){var E=c[A],P=E.orientation;return!E.mirror&&!E.hide?Ue(Ue({},_),{},Kt({},P,_[P]+E.width)):_},{left:g.left||0,right:g.right||0}),v=Object.keys(o).reduce(function(_,A){var E=o[A],P=E.orientation;return!E.mirror&&!E.hide?Ue(Ue({},_),{},Kt({},P,Bs(_,"".concat(P))+E.height)):_},{top:g.top||0,bottom:g.bottom||0}),N=Ue(Ue({},v),j),T=N.bottom;y&&(N.bottom+=y.props.height||gh.defaultProps.height),w&&r&&(N=yOe(N,s,n,r));var S=d-N.left-N.right,O=h-N.top-N.bottom;return Ue(Ue({brushBottom:T},N),{},{width:Math.max(S,0),height:Math.max(O,0)})},JIe=function(e,r){if(r==="xAxis")return e[r].width;if(r==="yAxis")return e[r].height},dD=function(e){var r=e.chartName,n=e.GraphicalChild,s=e.defaultTooltipEventType,i=s===void 0?"axis":s,o=e.validateTooltipEventTypes,l=o===void 0?["axis"]:o,c=e.axisComponents,d=e.legendContent,h=e.formatAxisMap,m=e.defaultProps,g=function(N,T){var S=T.graphicalItems,O=T.stackGroups,_=T.offset,A=T.updateId,E=T.dataStartIndex,P=T.dataEndIndex,$=N.barSize,I=N.layout,L=N.barGap,R=N.barCategoryGap,z=N.maxBarSize,Y=wz(I),q=Y.numericAxisName,H=Y.cateAxisName,D=KIe(S),F=[];return S.forEach(function(K,te){var W=V1(N.data,{graphicalItems:[K],dataStartIndex:E,dataEndIndex:P}),Z=K.type.defaultProps!==void 0?Ue(Ue({},K.type.defaultProps),K.props):K.props,oe=Z.dataKey,le=Z.maxBarSize,ce=Z["".concat(q,"Id")],pe=Z["".concat(H,"Id")],Ie={},Ee=c.reduce(function(tt,wt){var Ct=T["".concat(wt.axisType,"Map")],ft=Z["".concat(wt.axisType,"Id")];Ct&&Ct[ft]||wt.axisType==="zAxis"||od();var Rt=Ct[ft];return Ue(Ue({},tt),{},Kt(Kt({},wt.axisType,Rt),"".concat(wt.axisType,"Ticks"),ol(Rt)))},Ie),ge=Ee[H],Oe=Ee["".concat(H,"Ticks")],ze=O&&O[ce]&&O[ce].hasStack&&MOe(K,O[ce].stackGroups),re=xl(K.type).indexOf("Bar")>=0,se=Zv(ge,Oe),ee=[],we=D&&gOe({barSize:$,stackGroups:O,totalSize:JIe(Ee,H)});if(re){var Ge,Ye,xe=tr(le)?z:le,ct=(Ge=(Ye=Zv(ge,Oe,!0))!==null&&Ye!==void 0?Ye:xe)!==null&&Ge!==void 0?Ge:0;ee=xOe({barGap:L,barCategoryGap:R,bandSize:ct!==se?ct:se,sizeList:we[pe],maxBarSize:xe}),ct!==se&&(ee=ee.map(function(tt){return Ue(Ue({},tt),{},{position:Ue(Ue({},tt.position),{},{offset:tt.position.offset-ct/2})})}))}var mt=K&&K.type&&K.type.getComposedData;mt&&F.push({props:Ue(Ue({},mt(Ue(Ue({},Ee),{},{displayedData:W,props:N,dataKey:oe,item:K,bandSize:se,barPosition:ee,offset:_,stackedData:ze,layout:I,dataStartIndex:E,dataEndIndex:P}))),{},Kt(Kt(Kt({key:K.key||"item-".concat(te)},q,Ee[q]),H,Ee[H]),"animationId",A)),childIndex:w2e(K,N.children),item:K})}),F},y=function(N,T){var S=N.props,O=N.dataStartIndex,_=N.dataEndIndex,A=N.updateId;if(!E$({props:S}))return null;var E=S.children,P=S.layout,$=S.stackOffset,I=S.data,L=S.reverseStackOrder,R=wz(P),z=R.numericAxisName,Y=R.cateAxisName,q=zs(E,n),H=TOe(I,q,"".concat(z,"Id"),"".concat(Y,"Id"),$,L),D=c.reduce(function(Z,oe){var le="".concat(oe.axisType,"Map");return Ue(Ue({},Z),{},Kt({},le,GIe(S,Ue(Ue({},oe),{},{graphicalItems:q,stackGroups:oe.axisType===z&&H,dataStartIndex:O,dataEndIndex:_}))))},{}),F=XIe(Ue(Ue({},D),{},{props:S,graphicalItems:q}),T==null?void 0:T.legendBBox);Object.keys(D).forEach(function(Z){D[Z]=h(S,D[Z],F,Z.replace("Map",""),r)});var K=D["".concat(Y,"Map")],te=YIe(K),W=g(S,Ue(Ue({},D),{},{dataStartIndex:O,dataEndIndex:_,updateId:A,graphicalItems:q,stackGroups:H,offset:F}));return Ue(Ue({formattedGraphicalItems:W,graphicalItems:q,offset:F,stackGroups:H},te),D)},w=(function(v){function N(T){var S,O,_;return AIe(this,N),_=DIe(this,N,[T]),Kt(_,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Kt(_,"accessibilityManager",new gIe),Kt(_,"handleLegendBBoxUpdate",function(A){if(A){var E=_.state,P=E.dataStartIndex,$=E.dataEndIndex,I=E.updateId;_.setState(Ue({legendBBox:A},y({props:_.props,dataStartIndex:P,dataEndIndex:$,updateId:I},Ue(Ue({},_.state),{},{legendBBox:A}))))}}),Kt(_,"handleReceiveSyncEvent",function(A,E,P){if(_.props.syncId===A){if(P===_.eventEmitterSymbol&&typeof _.props.syncMethod!="function")return;_.applySyncEvent(E)}}),Kt(_,"handleBrushChange",function(A){var E=A.startIndex,P=A.endIndex;if(E!==_.state.dataStartIndex||P!==_.state.dataEndIndex){var $=_.state.updateId;_.setState(function(){return Ue({dataStartIndex:E,dataEndIndex:P},y({props:_.props,dataStartIndex:E,dataEndIndex:P,updateId:$},_.state))}),_.triggerSyncEvent({dataStartIndex:E,dataEndIndex:P})}}),Kt(_,"handleMouseEnter",function(A){var E=_.getMouseInfo(A);if(E){var P=Ue(Ue({},E),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var $=_.props.onMouseEnter;Qt($)&&$(P,A)}}),Kt(_,"triggeredAfterMouseMove",function(A){var E=_.getMouseInfo(A),P=E?Ue(Ue({},E),{},{isTooltipActive:!0}):{isTooltipActive:!1};_.setState(P),_.triggerSyncEvent(P);var $=_.props.onMouseMove;Qt($)&&$(P,A)}),Kt(_,"handleItemMouseEnter",function(A){_.setState(function(){return{isTooltipActive:!0,activeItem:A,activePayload:A.tooltipPayload,activeCoordinate:A.tooltipPosition||{x:A.cx,y:A.cy}}})}),Kt(_,"handleItemMouseLeave",function(){_.setState(function(){return{isTooltipActive:!1}})}),Kt(_,"handleMouseMove",function(A){A.persist(),_.throttleTriggeredAfterMouseMove(A)}),Kt(_,"handleMouseLeave",function(A){_.throttleTriggeredAfterMouseMove.cancel();var E={isTooltipActive:!1};_.setState(E),_.triggerSyncEvent(E);var P=_.props.onMouseLeave;Qt(P)&&P(E,A)}),Kt(_,"handleOuterEvent",function(A){var E=v2e(A),P=Bs(_.props,"".concat(E));if(E&&Qt(P)){var $,I;/.*touch.*/i.test(E)?I=_.getMouseInfo(A.changedTouches[0]):I=_.getMouseInfo(A),P(($=I)!==null&&$!==void 0?$:{},A)}}),Kt(_,"handleClick",function(A){var E=_.getMouseInfo(A);if(E){var P=Ue(Ue({},E),{},{isTooltipActive:!0});_.setState(P),_.triggerSyncEvent(P);var $=_.props.onClick;Qt($)&&$(P,A)}}),Kt(_,"handleMouseDown",function(A){var E=_.props.onMouseDown;if(Qt(E)){var P=_.getMouseInfo(A);E(P,A)}}),Kt(_,"handleMouseUp",function(A){var E=_.props.onMouseUp;if(Qt(E)){var P=_.getMouseInfo(A);E(P,A)}}),Kt(_,"handleTouchMove",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.throttleTriggeredAfterMouseMove(A.changedTouches[0])}),Kt(_,"handleTouchStart",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseDown(A.changedTouches[0])}),Kt(_,"handleTouchEnd",function(A){A.changedTouches!=null&&A.changedTouches.length>0&&_.handleMouseUp(A.changedTouches[0])}),Kt(_,"handleDoubleClick",function(A){var E=_.props.onDoubleClick;if(Qt(E)){var P=_.getMouseInfo(A);E(P,A)}}),Kt(_,"handleContextMenu",function(A){var E=_.props.onContextMenu;if(Qt(E)){var P=_.getMouseInfo(A);E(P,A)}}),Kt(_,"triggerSyncEvent",function(A){_.props.syncId!==void 0&&v5.emit(w5,_.props.syncId,A,_.eventEmitterSymbol)}),Kt(_,"applySyncEvent",function(A){var E=_.props,P=E.layout,$=E.syncMethod,I=_.state.updateId,L=A.dataStartIndex,R=A.dataEndIndex;if(A.dataStartIndex!==void 0||A.dataEndIndex!==void 0)_.setState(Ue({dataStartIndex:L,dataEndIndex:R},y({props:_.props,dataStartIndex:L,dataEndIndex:R,updateId:I},_.state)));else if(A.activeTooltipIndex!==void 0){var z=A.chartX,Y=A.chartY,q=A.activeTooltipIndex,H=_.state,D=H.offset,F=H.tooltipTicks;if(!D)return;if(typeof $=="function")q=$(F,A);else if($==="value"){q=-1;for(var K=0;K<F.length;K++)if(F[K].value===A.activeLabel){q=K;break}}var te=Ue(Ue({},D),{},{x:D.left,y:D.top}),W=Math.min(z,te.x+te.width),Z=Math.min(Y,te.y+te.height),oe=F[q]&&F[q].value,le=dA(_.state,_.props.data,q),ce=F[q]?{x:P==="horizontal"?F[q].coordinate:W,y:P==="horizontal"?Z:F[q].coordinate}:bQ;_.setState(Ue(Ue({},A),{},{activeLabel:oe,activeCoordinate:ce,activePayload:le,activeTooltipIndex:q}))}else _.setState(A)}),Kt(_,"renderCursor",function(A){var E,P=_.state,$=P.isTooltipActive,I=P.activeCoordinate,L=P.activePayload,R=P.offset,z=P.activeTooltipIndex,Y=P.tooltipAxisBandSize,q=_.getTooltipEventType(),H=(E=A.props.active)!==null&&E!==void 0?E:$,D=_.props.layout,F=A.key||"_recharts-cursor";return X.createElement(SIe,{key:F,activeCoordinate:I,activePayload:L,activeTooltipIndex:z,chartName:r,element:A,isActive:H,layout:D,offset:R,tooltipAxisBandSize:Y,tooltipEventType:q})}),Kt(_,"renderPolarAxis",function(A,E,P){var $=Bs(A,"type.axisType"),I=Bs(_.state,"".concat($,"Map")),L=A.type.defaultProps,R=L!==void 0?Ue(Ue({},L),A.props):A.props,z=I&&I[R["".concat($,"Id")]];return x.cloneElement(A,Ue(Ue({},z),{},{className:Ft($,z.className),key:A.key||"".concat(E,"-").concat(P),ticks:ol(z,!0)}))}),Kt(_,"renderPolarGrid",function(A){var E=A.props,P=E.radialLines,$=E.polarAngles,I=E.polarRadius,L=_.state,R=L.radiusAxisMap,z=L.angleAxisMap,Y=yc(R),q=yc(z),H=q.cx,D=q.cy,F=q.innerRadius,K=q.outerRadius;return x.cloneElement(A,{polarAngles:Array.isArray($)?$:ol(q,!0).map(function(te){return te.coordinate}),polarRadius:Array.isArray(I)?I:ol(Y,!0).map(function(te){return te.coordinate}),cx:H,cy:D,innerRadius:F,outerRadius:K,key:A.key||"polar-grid",radialLines:P})}),Kt(_,"renderLegend",function(){var A=_.state.formattedGraphicalItems,E=_.props,P=E.children,$=E.width,I=E.height,L=_.props.margin||{},R=$-(L.left||0)-(L.right||0),z=tJ({children:P,formattedGraphicalItems:A,legendWidth:R,legendContent:d});if(!z)return null;var Y=z.item,q=xz(z,NIe);return x.cloneElement(Y,Ue(Ue({},q),{},{chartWidth:$,chartHeight:I,margin:L,onBBoxUpdate:_.handleLegendBBoxUpdate}))}),Kt(_,"renderTooltip",function(){var A,E=_.props,P=E.children,$=E.accessibilityLayer,I=Ps(P,ha);if(!I)return null;var L=_.state,R=L.isTooltipActive,z=L.activeCoordinate,Y=L.activePayload,q=L.activeLabel,H=L.offset,D=(A=I.props.active)!==null&&A!==void 0?A:R;return x.cloneElement(I,{viewBox:Ue(Ue({},H),{},{x:H.left,y:H.top}),active:D,label:q,payload:D?Y:[],coordinate:z,accessibilityLayer:$})}),Kt(_,"renderBrush",function(A){var E=_.props,P=E.margin,$=E.data,I=_.state,L=I.offset,R=I.dataStartIndex,z=I.dataEndIndex,Y=I.updateId;return x.cloneElement(A,{key:A.key||"_recharts-brush",onChange:ky(_.handleBrushChange,A.props.onChange),data:$,x:yt(A.props.x)?A.props.x:L.left,y:yt(A.props.y)?A.props.y:L.top+L.height+L.brushBottom-(P.bottom||0),width:yt(A.props.width)?A.props.width:L.width,startIndex:R,endIndex:z,updateId:"brush-".concat(Y)})}),Kt(_,"renderReferenceElement",function(A,E,P){if(!A)return null;var $=_,I=$.clipPathId,L=_.state,R=L.xAxisMap,z=L.yAxisMap,Y=L.offset,q=A.type.defaultProps||{},H=A.props,D=H.xAxisId,F=D===void 0?q.xAxisId:D,K=H.yAxisId,te=K===void 0?q.yAxisId:K;return x.cloneElement(A,{key:A.key||"".concat(E,"-").concat(P),xAxis:R[F],yAxis:z[te],viewBox:{x:Y.left,y:Y.top,width:Y.width,height:Y.height},clipPathId:I})}),Kt(_,"renderActivePoints",function(A){var E=A.item,P=A.activePoint,$=A.basePoint,I=A.childIndex,L=A.isRange,R=[],z=E.props.key,Y=E.item.type.defaultProps!==void 0?Ue(Ue({},E.item.type.defaultProps),E.item.props):E.item.props,q=Y.activeDot,H=Y.dataKey,D=Ue(Ue({index:I,dataKey:H,cx:P.x,cy:P.y,r:4,fill:eD(E.item),strokeWidth:2,stroke:"#fff",payload:P.payload,value:P.value},Ut(q,!1)),Mv(q));return R.push(N.renderActiveDot(q,D,"".concat(z,"-activePoint-").concat(I))),$?R.push(N.renderActiveDot(q,Ue(Ue({},D),{},{cx:$.x,cy:$.y}),"".concat(z,"-basePoint-").concat(I))):L&&R.push(null),R}),Kt(_,"renderGraphicChild",function(A,E,P){var $=_.filterFormatItem(A,E,P);if(!$)return null;var I=_.getTooltipEventType(),L=_.state,R=L.isTooltipActive,z=L.tooltipAxis,Y=L.activeTooltipIndex,q=L.activeLabel,H=_.props.children,D=Ps(H,ha),F=$.props,K=F.points,te=F.isRange,W=F.baseLine,Z=$.item.type.defaultProps!==void 0?Ue(Ue({},$.item.type.defaultProps),$.item.props):$.item.props,oe=Z.activeDot,le=Z.hide,ce=Z.activeBar,pe=Z.activeShape,Ie=!!(!le&&R&&D&&(oe||ce||pe)),Ee={};I!=="axis"&&D&&D.props.trigger==="click"?Ee={onClick:ky(_.handleItemMouseEnter,A.props.onClick)}:I!=="axis"&&(Ee={onMouseLeave:ky(_.handleItemMouseLeave,A.props.onMouseLeave),onMouseEnter:ky(_.handleItemMouseEnter,A.props.onMouseEnter)});var ge=x.cloneElement(A,Ue(Ue({},$.props),Ee));function Oe(wt){return typeof z.dataKey=="function"?z.dataKey(wt.payload):null}if(Ie)if(Y>=0){var ze,re;if(z.dataKey&&!z.allowDuplicatedCategory){var se=typeof z.dataKey=="function"?Oe:"payload.".concat(z.dataKey.toString());ze=_v(K,se,q),re=te&&W&&_v(W,se,q)}else ze=K==null?void 0:K[Y],re=te&&W&&W[Y];if(pe||ce){var ee=A.props.activeIndex!==void 0?A.props.activeIndex:Y;return[x.cloneElement(A,Ue(Ue(Ue({},$.props),Ee),{},{activeIndex:ee})),null,null]}if(!tr(ze))return[ge].concat(Ch(_.renderActivePoints({item:$,activePoint:ze,basePoint:re,childIndex:Y,isRange:te})))}else{var we,Ge=(we=_.getItemByXY(_.state.activeCoordinate))!==null&&we!==void 0?we:{graphicalItem:ge},Ye=Ge.graphicalItem,xe=Ye.item,ct=xe===void 0?A:xe,mt=Ye.childIndex,tt=Ue(Ue(Ue({},$.props),Ee),{},{activeIndex:mt});return[x.cloneElement(ct,tt),null,null]}return te?[ge,null,null]:[ge,null]}),Kt(_,"renderCustomized",function(A,E,P){return x.cloneElement(A,Ue(Ue({key:"recharts-customized-".concat(P)},_.props),_.state))}),Kt(_,"renderMap",{CartesianGrid:{handler:Ay,once:!0},ReferenceArea:{handler:_.renderReferenceElement},ReferenceLine:{handler:Ay},ReferenceDot:{handler:_.renderReferenceElement},XAxis:{handler:Ay},YAxis:{handler:Ay},Brush:{handler:_.renderBrush,once:!0},Bar:{handler:_.renderGraphicChild},Line:{handler:_.renderGraphicChild},Area:{handler:_.renderGraphicChild},Radar:{handler:_.renderGraphicChild},RadialBar:{handler:_.renderGraphicChild},Scatter:{handler:_.renderGraphicChild},Pie:{handler:_.renderGraphicChild},Funnel:{handler:_.renderGraphicChild},Tooltip:{handler:_.renderCursor,once:!0},PolarGrid:{handler:_.renderPolarGrid,once:!0},PolarAngleAxis:{handler:_.renderPolarAxis},PolarRadiusAxis:{handler:_.renderPolarAxis},Customized:{handler:_.renderCustomized}}),_.clipPathId="".concat((S=T.id)!==null&&S!==void 0?S:Fh("recharts"),"-clip"),_.throttleTriggeredAfterMouseMove=eX(_.triggeredAfterMouseMove,(O=T.throttleDelay)!==null&&O!==void 0?O:1e3/60),_.state={},_}return IIe(N,v),EIe(N,[{key:"componentDidMount",value:function(){var S,O;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(S=this.props.margin.left)!==null&&S!==void 0?S:0,top:(O=this.props.margin.top)!==null&&O!==void 0?O:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var S=this.props,O=S.children,_=S.data,A=S.height,E=S.layout,P=Ps(O,ha);if(P){var $=P.props.defaultIndex;if(!(typeof $!="number"||$<0||$>this.state.tooltipTicks.length-1)){var I=this.state.tooltipTicks[$]&&this.state.tooltipTicks[$].value,L=dA(this.state,_,$,I),R=this.state.tooltipTicks[$].coordinate,z=(this.state.offset.top+A)/2,Y=E==="horizontal",q=Y?{x:R,y:z}:{y:R,x:z},H=this.state.formattedGraphicalItems.find(function(F){var K=F.item;return K.type.name==="Scatter"});H&&(q=Ue(Ue({},q),H.props.points[$].tooltipPosition),L=H.props.points[$].tooltipPayload);var D={activeTooltipIndex:$,isTooltipActive:!0,activeLabel:I,activePayload:L,activeCoordinate:q};this.setState(D),this.renderCursor(P),this.accessibilityManager.setIndex($)}}}},{key:"getSnapshotBeforeUpdate",value:function(S,O){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==O.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==S.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==S.margin){var _,A;this.accessibilityManager.setDetails({offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(A=this.props.margin.top)!==null&&A!==void 0?A:0}})}return null}},{key:"componentDidUpdate",value:function(S){G_([Ps(S.children,ha)],[Ps(this.props.children,ha)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var S=Ps(this.props.children,ha);if(S&&typeof S.props.shared=="boolean"){var O=S.props.shared?"axis":"item";return l.indexOf(O)>=0?O:i}return i}},{key:"getMouseInfo",value:function(S){if(!this.container)return null;var O=this.container,_=O.getBoundingClientRect(),A=o5e(_),E={chartX:Math.round(S.pageX-A.left),chartY:Math.round(S.pageY-A.top)},P=_.width/O.offsetWidth||1,$=this.inRange(E.chartX,E.chartY,P);if(!$)return null;var I=this.state,L=I.xAxisMap,R=I.yAxisMap,z=this.getTooltipEventType(),Y=bz(this.state,this.props.data,this.props.layout,$);if(z!=="axis"&&L&&R){var q=yc(L).scale,H=yc(R).scale,D=q&&q.invert?q.invert(E.chartX):null,F=H&&H.invert?H.invert(E.chartY):null;return Ue(Ue({},E),{},{xValue:D,yValue:F},Y)}return Y?Ue(Ue({},E),Y):null}},{key:"inRange",value:function(S,O){var _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,A=this.props.layout,E=S/_,P=O/_;if(A==="horizontal"||A==="vertical"){var $=this.state.offset,I=E>=$.left&&E<=$.left+$.width&&P>=$.top&&P<=$.top+$.height;return I?{x:E,y:P}:null}var L=this.state,R=L.angleAxisMap,z=L.radiusAxisMap;if(R&&z){var Y=yc(R);return wH({x:E,y:P},Y)}return null}},{key:"parseEventsOfWrapper",value:function(){var S=this.props.children,O=this.getTooltipEventType(),_=Ps(S,ha),A={};_&&O==="axis"&&(_.props.trigger==="click"?A={onClick:this.handleClick}:A={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var E=Mv(this.props,this.handleOuterEvent);return Ue(Ue({},E),A)}},{key:"addListener",value:function(){v5.on(w5,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){v5.removeListener(w5,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(S,O,_){for(var A=this.state.formattedGraphicalItems,E=0,P=A.length;E<P;E++){var $=A[E];if($.item===S||$.props.key===S.key||O===xl($.item.type)&&_===$.childIndex)return $}return null}},{key:"renderClipPath",value:function(){var S=this.clipPathId,O=this.state.offset,_=O.left,A=O.top,E=O.height,P=O.width;return X.createElement("defs",null,X.createElement("clipPath",{id:S},X.createElement("rect",{x:_,y:A,height:E,width:P})))}},{key:"getXScales",value:function(){var S=this.state.xAxisMap;return S?Object.entries(S).reduce(function(O,_){var A=gz(_,2),E=A[0],P=A[1];return Ue(Ue({},O),{},Kt({},E,P.scale))},{}):null}},{key:"getYScales",value:function(){var S=this.state.yAxisMap;return S?Object.entries(S).reduce(function(O,_){var A=gz(_,2),E=A[0],P=A[1];return Ue(Ue({},O),{},Kt({},E,P.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(S){var O;return(O=this.state.xAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getYScaleByAxisId",value:function(S){var O;return(O=this.state.yAxisMap)===null||O===void 0||(O=O[S])===null||O===void 0?void 0:O.scale}},{key:"getItemByXY",value:function(S){var O=this.state,_=O.formattedGraphicalItems,A=O.activeItem;if(_&&_.length)for(var E=0,P=_.length;E<P;E++){var $=_[E],I=$.props,L=$.item,R=L.type.defaultProps!==void 0?Ue(Ue({},L.type.defaultProps),L.props):L.props,z=xl(L.type);if(z==="Bar"){var Y=(I.data||[]).find(function(F){return kPe(S,F)});if(Y)return{graphicalItem:$,payload:Y}}else if(z==="RadialBar"){var q=(I.data||[]).find(function(F){return wH(S,F)});if(q)return{graphicalItem:$,payload:q}}else if(I1($,A)||L1($,A)||B0($,A)){var H=Y4e({graphicalItem:$,activeTooltipItem:A,itemData:R.data}),D=R.activeIndex===void 0?H:R.activeIndex;return{graphicalItem:Ue(Ue({},$),{},{childIndex:D}),payload:B0($,A)?R.data[H]:$.props.data[H]}}}return null}},{key:"render",value:function(){var S=this;if(!E$(this))return null;var O=this.props,_=O.children,A=O.className,E=O.width,P=O.height,$=O.style,I=O.compact,L=O.title,R=O.desc,z=xz(O,kIe),Y=Ut(z,!1);if(I)return X.createElement(JB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement(K_,jf({},Y,{width:E,height:P,title:L,desc:R}),this.renderClipPath(),P$(_,this.renderMap)));if(this.props.accessibilityLayer){var q,H;Y.tabIndex=(q=this.props.tabIndex)!==null&&q!==void 0?q:0,Y.role=(H=this.props.role)!==null&&H!==void 0?H:"application",Y.onKeyDown=function(F){S.accessibilityManager.keyboardEvent(F)},Y.onFocus=function(){S.accessibilityManager.focus()}}var D=this.parseEventsOfWrapper();return X.createElement(JB,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},X.createElement("div",jf({className:Ft("recharts-wrapper",A),style:Ue({position:"relative",cursor:"default",width:E,height:P},$)},D,{ref:function(K){S.container=K}}),X.createElement(K_,jf({},Y,{width:E,height:P,title:L,desc:R,style:zIe}),this.renderClipPath(),P$(_,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])})(x.Component);Kt(w,"displayName",r),Kt(w,"defaultProps",Ue({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),Kt(w,"getDerivedStateFromProps",function(v,N){var T=v.dataKey,S=v.data,O=v.children,_=v.width,A=v.height,E=v.layout,P=v.stackOffset,$=v.margin,I=N.dataStartIndex,L=N.dataEndIndex;if(N.updateId===void 0){var R=vz(v);return Ue(Ue(Ue({},R),{},{updateId:0},y(Ue(Ue({props:v},R),{},{updateId:0}),N)),{},{prevDataKey:T,prevData:S,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:P,prevMargin:$,prevChildren:O})}if(T!==N.prevDataKey||S!==N.prevData||_!==N.prevWidth||A!==N.prevHeight||E!==N.prevLayout||P!==N.prevStackOffset||!Df($,N.prevMargin)){var z=vz(v),Y={chartX:N.chartX,chartY:N.chartY,isTooltipActive:N.isTooltipActive},q=Ue(Ue({},bz(N,S,E)),{},{updateId:N.updateId+1}),H=Ue(Ue(Ue({},z),Y),q);return Ue(Ue(Ue({},H),y(Ue({props:v},H),N)),{},{prevDataKey:T,prevData:S,prevWidth:_,prevHeight:A,prevLayout:E,prevStackOffset:P,prevMargin:$,prevChildren:O})}if(!G_(O,N.prevChildren)){var D,F,K,te,W=Ps(O,gh),Z=W&&(D=(F=W.props)===null||F===void 0?void 0:F.startIndex)!==null&&D!==void 0?D:I,oe=W&&(K=(te=W.props)===null||te===void 0?void 0:te.endIndex)!==null&&K!==void 0?K:L,le=Z!==I||oe!==L,ce=!tr(S),pe=ce&&!le?N.updateId:N.updateId+1;return Ue(Ue({updateId:pe},y(Ue(Ue({props:v},N),{},{updateId:pe,dataStartIndex:Z,dataEndIndex:oe}),N)),{},{prevChildren:O,dataStartIndex:Z,dataEndIndex:oe})}return null}),Kt(w,"renderActiveDot",function(v,N,T){var S;return x.isValidElement(v)?S=x.cloneElement(v,N):Qt(v)?S=v(N):S=X.createElement(O1,N),X.createElement(Er,{className:"recharts-active-dot",key:T},S)});var j=x.forwardRef(function(N,T){return X.createElement(w,jf({},N,{ref:T}))});return j.displayName=w.displayName,j},fA=dD({chartName:"LineChart",GraphicalChild:cd,axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:HJ}),hA=dD({chartName:"BarChart",GraphicalChild:_l,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:xo},{axisType:"yAxis",AxisComp:yo}],formatAxisMap:HJ}),fD=dD({chartName:"PieChart",GraphicalChild:Ui,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:R1},{axisType:"radiusAxis",AxisComp:D1}],formatAxisMap:FOe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const jz=(t,e,r,n)=>{if(t==null||e===null||e===void 0||r===null||r===void 0||n===null||n===void 0)return null;const s=t*60+e,i=r*60+n;let o=Math.abs(i-s);return o>720&&(o=1440-o),o},Oy=t=>{if(t==null||isNaN(t)||t<0)return"-";const e=Math.round(t*100)/100,r=Math.floor(e/60),n=e%60;return e===0?"0min":r===0&&n>0?`${n.toFixed(2)}min`:r>0&&n===0?`${r}h`:`${r}h ${n.toFixed(2)}min`},S5=({title:t,value:e,change:r,icon:n})=>{const s=r==null?void 0:r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),r&&a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},QIe=()=>{const[t,e]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return q?JSON.parse(q):!1}),[r,n]=x.useState(!1),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null),{user:h,getMachineHistories:m}=Nt(),g=jt(),y=ta(),[w,j]=x.useState(window.innerWidth<768),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=X.useRef(null),_=X.useRef(null),A=y.pathname==="/machinehistory",E=y.pathname==="/machinehistory/reports";x.useEffect(()=>{(async()=>{l(!0);try{const H=await m();i(H||[])}catch(H){console.error("Failed to fetch machine history for reports:",H),d("Failed to load machine history data for reports."),i([])}finally{l(!1)}})()},[m]),x.useEffect(()=>{const q=()=>{j(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",q),()=>window.removeEventListener("resize",q)},[]),x.useEffect(()=>{const q=H=>{O.current&&!O.current.contains(H.target)&&N(!1),_.current&&!_.current.contains(H.target)&&S(!1)};return document.addEventListener("mousedown",q),()=>{document.removeEventListener("mousedown",q)}},[]);const P=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(q=>!q)},$=x.useMemo(()=>s.length,[s]),I=x.useMemo(()=>{const q={};return s.forEach(H=>{H.mesin&&(q[H.mesin]=(q[H.mesin]||0)+1)}),Object.entries(q).sort(([,H],[,D])=>D-H).slice(0,3).map(([H,D])=>({name:H,count:D}))},[s]),L=x.useMemo(()=>{const q={};return s.forEach(H=>{if(H.mesin){const D=jz(H.stopJam,H.stopMenit,H.startJam,H.startMenit);D!==null&&(q[H.mesin]||(q[H.mesin]={totalMinutes:0,count:0}),q[H.mesin].totalMinutes+=D,q[H.mesin].count+=1)}}),Object.entries(q).map(([H,D])=>{const F=D.count>0?D.totalMinutes/D.count:0,K=Math.round(F*100)/100;return{name:H,averageDowntimeMinutes:K,displayDowntime:Oy(K)}})},[s]),R=x.useMemo(()=>{const q={};return s.forEach(H=>{if(H.date){const D=new Date(H.date),F=D.getFullYear(),K=(D.getMonth()+1).toString().padStart(2,"0"),te=`${F}-${K}`;q[te]=(q[te]||0)+1}}),Object.entries(q).sort(([H],[D])=>H.localeCompare(D)).map(([H,D])=>{const[F,K]=H.split("-");return{name:`${new Date(Number(F),Number(K)-1,1).toLocaleString("en-US",{month:"short"})} ${F}`,"Maintenance Events":D}})},[s]),z=x.useMemo(()=>{const q={Perbaikan:0,Perawatan:0};return s.forEach(H=>{H.perbaikanPerawatan==="Perbaikan"?q.Perbaikan+=1:H.perbaikanPerawatan==="Perawatan"&&(q.Perawatan+=1)}),[{name:"Repairs",value:q.Perbaikan},{name:"Maintenance",value:q.Perawatan}].filter(H=>H.value>0)},[s]),Y=["#8884d8","#82ca9d","#ffc658","#ff7300"];return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Machine History",mainTitleHighlight:"Machine History",description:"Manage activities and their configurations within the system.",icon:a.jsx(rg,{}),isMobile:w,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${A?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Record"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>g("/machinehistory/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${E?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Machine History ",a.jsx("span",{className:"text-blue-600",children:"Reports & Analytics"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Gain insights into machine maintenance trends, downtime, and performance."})]}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading analytics data..."})]}):s.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No machine history records available to generate reports."})]}):a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[a.jsx(S5,{title:"Total Maintenance Events",value:$.toLocaleString("id-ID"),icon:a.jsx(or,{})}),a.jsx(S5,{title:"Avg. Downtime (All Machines)",value:Oy(Math.round(s.reduce((q,H)=>q+(jz(H.stopJam,H.stopMenit,H.startJam,H.startMenit)||0),0)/s.length*100)/100),icon:a.jsx(It,{})}),a.jsx(S5,{title:"Machines Maintained",value:new Set(s.map(q=>q.mesin)).size.toLocaleString("id-ID"),icon:a.jsx(cn,{})}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1,ease:"easeOut"},className:"lg:col-span-2 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Bi,{className:"mr-2 text-blue-600"})," Most Frequently Maintained Machines"]}),a.jsx(al,{width:"100%",height:300,children:a.jsxs(hA,{data:I,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Gu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(xo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(yo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ha,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(_l,{dataKey:"count",fill:"#3B82F6",barSize:30,radius:[10,10,0,0]})]})}),I.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for most frequently maintained machines."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2,ease:"easeOut"},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-600"})," Maintenance Type Distribution"]}),z.length>0?a.jsx(al,{width:"100%",height:300,children:a.jsxs(fD,{children:[a.jsx(Ui,{data:z,cx:"50%",cy:"50%",labelLine:!1,outerRadius:100,fill:"#8884d8",dataKey:"value",nameKey:"name",children:z.map((q,H)=>a.jsx(Bh,{fill:Y[H%Y.length]},`cell-${H}`))}),a.jsx(ha,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:(q,H)=>[`${q} events`,H]}),a.jsx(mo,{layout:"vertical",align:"right",verticalAlign:"middle",wrapperStyle:{fontSize:"12px",color:"#6B7280"}})]})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance types."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-600"})," Average Downtime per Machine"]}),a.jsx(al,{width:"100%",height:350,children:a.jsxs(hA,{data:L,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Gu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(xo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(yo,{tickFormatter:q=>Oy(q),tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ha,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"},formatter:q=>Oy(q)}),a.jsx(_l,{dataKey:"averageDowntimeMinutes",fill:"#82ca9d",barSize:30,radius:[10,10,0,0]})]})}),L.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for average downtime per machine."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4,ease:"easeOut"},className:"lg:col-span-3 bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Nu,{className:"mr-2 text-blue-600"})," Maintenance Trend Over Time"]}),a.jsx(al,{width:"100%",height:350,children:a.jsxs(fA,{data:R,margin:{top:20,right:30,left:20,bottom:5},children:[a.jsx(Gu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(xo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(yo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ha,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},labelStyle:{fontWeight:"bold",color:"#374151"},itemStyle:{color:"#4B5563"}}),a.jsx(mo,{wrapperStyle:{fontSize:"12px",color:"#6B7280"}}),a.jsx(cd,{type:"monotone",dataKey:"Maintenance Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})}),R.length===0&&a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for maintenance trend over time."})]})]})]})]})]})};function ZIe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const eLe=()=>{const[t,e]=x.useState(()=>{const se=localStorage.getItem("sidebarOpen");return se?JSON.parse(se):!1}),[r,n]=x.useState(!1),[s,i]=x.useState([]),[o,l]=x.useState(!0),[c,d]=x.useState(null),[h,m]=x.useState(1),[g]=x.useState(10),{user:y,getAuditTrail:w,isAuthenticated:j}=Nt();jt();const[v,N]=x.useState(window.innerWidth<768),[T,S]=x.useState(!1),[O,_]=x.useState(!1),A=x.useRef(null),E=x.useRef(null),[P,$]=x.useState({key:"changed_at",direction:"descending"}),[I,L]=x.useState(""),R=ZIe(I,300),[z,Y]=x.useState(!1),[q,H]=x.useState(null),D=x.useCallback(async()=>{try{l(!0),d(null);const se=await w();i(se)}catch(se){console.error("Failed to fetch audit trail:",se),d("Failed to load audit trail data. Please try again."),i([])}finally{l(!1)}},[w]);x.useEffect(()=>{D()},[D]),x.useEffect(()=>{const se=()=>{N(window.innerWidth<768),window.innerWidth<768&&e(!1)};return window.addEventListener("resize",se),()=>window.removeEventListener("resize",se)},[]),x.useEffect(()=>{const se=ee=>{A.current&&!A.current.contains(ee.target)&&S(!1),E.current&&!E.current.contains(ee.target)&&_(!1)};return document.addEventListener("mousedown",se),()=>{document.removeEventListener("mousedown",se)}},[]);const F=se=>{L(se.target.value)},K=se=>{let ee="ascending";P&&P.key===se&&P.direction==="ascending"&&(ee="descending"),$({key:se,direction:ee})},te=se=>typeof se=="object"&&se!==null?se.name||se.toString():(se==null?void 0:se.toString())||"",W=x.useCallback(se=>{H(se),Y(!0)},[]),Z=se=>{switch(se){case"created":return"bg-green-500 text-white";case"updated":return"bg-blue-600 text-white";case"deleted":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},oe=se=>se?se.replace("App\\Models\\",""):"Unknown",le=X.useMemo(()=>{let se=[...s||[]];if(R.trim()){const ee=R.toLowerCase().trim();se=se.filter(we=>{var Ye,xe,ct;return[((Ye=we.changed_by)==null?void 0:Ye.toLowerCase())||"",((xe=we.action)==null?void 0:xe.toLowerCase())||"",((ct=we.recordable_type)==null?void 0:ct.toLowerCase())||"",JSON.stringify(we.old_data_snapshot||{}).toLowerCase(),JSON.stringify(we.new_data_snapshot||{}).toLowerCase()].some(mt=>mt.includes(ee))})}return P!==null?se.sort((ee,we)=>{if(P.key==="changed_at"){const xe=new Date(ee.changed_at).getTime(),ct=new Date(we.changed_at).getTime();return P.direction==="ascending"?xe-ct:ct-xe}const Ge=te(ee[P.key]),Ye=te(we[P.key]);return Ge<Ye?P.direction==="ascending"?-1:1:Ge>Ye?P.direction==="ascending"?1:-1:0}):se.sort((ee,we)=>{const Ge=new Date(ee.changed_at).getTime();return new Date(we.changed_at).getTime()-Ge}),se},[s,R,P]),ce=h*g,pe=ce-g,Ie=le.slice(pe,ce),Ee=Math.ceil(le.length/g),ge=se=>m(se),Oe=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!t)),e(se=>!se)},ze=se=>{try{return new Date(se).toLocaleString()}catch{return se}},re=({log:se,onClose:ee})=>{const we=Ze=>Ze==null?"-":typeof Ze=="object"&&Ze!==null?JSON.stringify(Ze):typeof Ze=="string"?Ze.trim()!==""?Ze.trim():"-":typeof Ze=="number"?Ze.toString():typeof Ze=="boolean"?Ze?"Yes":"No":String(Ze),Ge=Ze=>!Ze||Ze.trim()===""?"-":Ol.sanitize(Ze,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]}),Ye=Ze=>{try{return new Date(Ze).toLocaleString()}catch{return Ze}},xe=Ze=>Ze?Ze.replace("App\\Models\\",""):"Unknown",ct=({title:Ze,children:he,icon:We})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[We&&a.jsx("div",{className:"mr-3 text-blue-600",children:We}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ze})]})}),a.jsx("div",{className:"p-6",children:he})]}),mt=({label:Ze,value:he,icon:We,fullWidth:je=!1,priority:ht="medium"})=>{const gt={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${je?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${gt[ht]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[We&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:We}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ze}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:he})]})]})})})},tt=()=>{const Ze=se.old_data_snapshot?Object.keys(se.old_data_snapshot):[],he=se.new_data_snapshot?Object.keys(se.new_data_snapshot):[];return[...new Set([...Ze,...he])].filter(je=>!["id","created_at","updated_at","deleted_at"].includes(je))},wt=(Ze,he)=>{if(Ze===void 0&&he===void 0||Ze===null&&he===null)return!0;if(Ze===void 0&&he===null||Ze===null&&he===void 0)return!1;if(Ze===he)return!0;if(!isNaN(Number(Ze))&&!isNaN(Number(he)))return Number(Ze)===Number(he);if(typeof Ze=="boolean"&&typeof he=="boolean")return Ze===he;if(typeof Ze=="string"&&typeof he=="string")return Ze.trim().toLowerCase()===he.trim().toLowerCase();if(typeof Ze=="object"&&typeof he=="object"&&Ze!==null&&he!==null)try{return JSON.stringify(Ze)===JSON.stringify(he)}catch{return String(Ze)===String(he)}const We=String(Ze||"").trim(),je=String(he||"").trim();return(We===""||We==="null"||We==="undefined")&&(je===""||je==="null"||je==="undefined")?!0:We===je},Ct=()=>{const Ze=tt();if(Ze.length===0)return a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No data changes recorded"});const he=Ze.map(ht=>{const gt=se.old_data_snapshot??{},St=se.new_data_snapshot??{},ve=Object.prototype.hasOwnProperty.call(gt,ht),nt=Object.prototype.hasOwnProperty.call(St,ht),Xe=ve?gt[ht]:void 0;let ae=nt?St[ht]:void 0;se.action==="updated"&&ve&&!nt&&(ae=Xe);let ne;return!ve&&nt?ne="added":ve&&!nt?ne=se.action==="deleted"?"removed":"unchanged":wt(Xe,ae)?ne="unchanged":ne="updated",{key:ht,oldValue:Xe,newValue:ae,status:ne}}),We=he.filter(ht=>ht.status!=="unchanged").length,je=he.length-We;return a.jsxs("div",{className:"overflow-x-auto",children:[a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Field"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Old Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"New Value"}),a.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:he.map(({key:ht,oldValue:gt,newValue:St,status:ve})=>{const nt=ht.split("_").map(et=>et.charAt(0).toUpperCase()+et.slice(1)).join(" "),Xe=ht.toLowerCase().includes("complaint")||ht.toLowerCase().includes("action_taken")||ht.toLowerCase().includes("remarks"),ae=Xe?Ge(String(gt||"")):we(gt),ne=Xe?Ge(String(St||"")):we(St),Ae=ve==="updated"?"bg-yellow-50":ve==="added"?"bg-green-50":ve==="removed"?"bg-red-50":"";return a.jsxs("tr",{className:Ae,children:[a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:nt}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Xe?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${ve==="removed"?"bg-red-100 text-red-800 border border-red-200":ve==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ae}}):a.jsx("div",{className:`p-2 rounded ${ve==="removed"?"bg-red-100 text-red-800 border border-red-200":ve==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ae})}),a.jsx("td",{className:"px-4 py-3 text-sm text-gray-900",children:Xe?a.jsx("div",{className:`p-2 rounded rich-text-content prose prose-sm max-w-none ${ve==="added"?"bg-green-100 text-green-800 border border-green-200":ve==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,dangerouslySetInnerHTML:{__html:ne}}):a.jsx("div",{className:`p-2 rounded ${ve==="added"?"bg-green-100 text-green-800 border border-green-200":ve==="updated"?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-gray-100 text-gray-800 border border-gray-200"}`,children:ne})}),a.jsx("td",{className:"px-4 py-3 whitespace-nowrap text-sm",children:ve==="added"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[a.jsx(qn,{className:"w-3 h-3 mr-1"}),"Added"]}):ve==="removed"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:[a.jsx(an,{className:"w-3 h-3 mr-1"}),"Removed"]}):ve==="updated"?a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:[a.jsx(Li,{className:"w-3 h-3 mr-1"}),"Updated"]}):a.jsxs("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-700",children:[a.jsx(Lt,{className:"w-3 h-3 mr-1"}),"Unchanged"]})})]},ht)})})]}),a.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[a.jsx("span",{className:"font-medium",children:We})," field(s) changed • ",a.jsx("span",{className:"font-medium",children:je})," field(s) unchanged"]})]})},ft=(Ze,he)=>{if(!Ze||Object.keys(Ze).length===0)return a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",he," data available"]});const We=Object.entries(Ze).filter(([je])=>!["id","created_at","updated_at","deleted_at"].includes(je));return We.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500 bg-white rounded-lg border border-gray-200",children:["No ",he," data available"]}):a.jsx("div",{className:"space-y-4",children:We.map(([je,ht])=>{const gt=je.split("_").map(ve=>ve.charAt(0).toUpperCase()+ve.slice(1)).join(" "),St=je.toLowerCase().includes("complaint")||je.toLowerCase().includes("action_taken")||je.toLowerCase().includes("remarks");return a.jsxs("div",{className:"flex flex-col md:flex-row md:items-start gap-3 p-4 bg-white rounded-lg border border-gray-200 hover:bg-gray-50 transition-colors",children:[a.jsx("div",{className:"md:w-1/3 lg:w-1/4",children:a.jsx("h4",{className:"text-sm font-semibold text-gray-700 break-words",children:gt})}),a.jsx("div",{className:"md:w-2/3 lg:w-3/4",children:St?a.jsx("div",{className:`rich-text-content bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Ge(String(ht||""))}}):a.jsx("div",{className:"bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-sm break-words",children:we(ht)})})]},je)})})},Rt=(Ze,he)=>{if(!Ze||Object.keys(Ze).length===0)return a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",he.toLowerCase()," available"]});const We=Object.entries(Ze).filter(([je,ht])=>!(["id","created_at","updated_at","deleted_at"].includes(je)||ht==null||ht===""));return We.length===0?a.jsxs("div",{className:"text-center py-4 text-gray-500",children:["No ",he.toLowerCase()," available"]}):a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:We.map(([je,ht])=>{const gt=je.split("_").map(St=>St.charAt(0).toUpperCase()+St.slice(1)).join(" ");return a.jsx(mt,{label:gt,value:we(ht)},je)})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["Audit Log #",se.id]}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${se.action==="created"?"bg-green-100 text-green-800 border border-green-300":se.action==="updated"?"bg-blue-100 text-blue-800 border border-blue-300":se.action==="deleted"?"bg-red-100 text-red-800 border border-red-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),"Timestamp: ",Ye(se.changed_at)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(_r,{className:"w-4 h-4"}),"User: ",se.changed_by||"N/A"]})]})]})})}),a.jsx(ct,{title:"General Information",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(mt,{label:"Audit ID",value:we(se.id),icon:a.jsx(Bf,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Timestamp",value:Ye(se.changed_at),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"User",value:we(se.changed_by),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Action",value:we(se.action),icon:a.jsx(Li,{className:"w-4 h-4"}),priority:"high"}),a.jsx(mt,{label:"Record Type",value:xe(se.recordable_type),icon:a.jsx(Nf,{className:"w-4 h-4"})}),a.jsx(mt,{label:"Record ID",value:we(se.recordable_id),icon:a.jsx(Xp,{className:"w-4 h-4"})})]})}),se.recordable_details&&Object.keys(se.recordable_details).length>0&&a.jsx(ct,{title:"Record Details",icon:a.jsx(Nf,{className:"w-5 h-5"}),children:Rt(se.recordable_details,"Record Details")}),a.jsx(ct,{title:"Data Changes Comparison",icon:a.jsx(Li,{className:"w-5 h-5"}),children:Ct()}),a.jsx(ct,{title:"Complete Data Snapshots",icon:a.jsx(Ew,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-8",children:[se.old_data_snapshot&&Object.keys(se.old_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"Old Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:ft(se.old_data_snapshot,"old")})]}),se.new_data_snapshot&&Object.keys(se.new_data_snapshot).length>0&&a.jsxs("div",{className:"w-full",children:[a.jsx("h4",{className:"text-md font-semibold text-gray-700 mb-4 pb-2 border-b border-gray-200",children:"New Data Snapshot"}),a.jsx("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4",children:ft(se.new_data_snapshot,"new")})]})]})}),a.jsx(ct,{title:"Audit Summary",icon:a.jsx(Bi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Action Type"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Record Information"}),a.jsxs("p",{className:"text-sm text-green-600",children:[xe(se.recordable_type)," • ID: ",se.recordable_id]})]})]})}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(C.button,{type:"button",onClick:ee,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Audit Trail",mainTitleHighlight:"Trail",description:"Manage activities and their configurations within the system.",icon:a.jsx(Xp,{}),isMobile:v,toggleSidebar:Oe}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8",children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Audit ",a.jsx("span",{className:"text-blue-600",children:"Trail"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Track all user activities and system changes for enhanced security and accountability."})]}),a.jsx(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by user, action, or details...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:I,onChange:F,"aria-label":"Search audit logs"})]})})}),o?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading audit trail data..."})]}):c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(Xt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-red-700 text-base font-medium",children:c}),a.jsx("button",{onClick:D,className:"mt-5 px-5 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200 transition-colors duration-200 text-sm",children:"Retry"})]}):le.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:R?"No audit entries found matching your search.":"No audit entries available."}),R&&a.jsx("button",{onClick:()=>L(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("changed_at"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(It,{className:"mr-2 text-sm"})," Timestamp",(P==null?void 0:P.key)==="changed_at"?a.jsx("span",{className:"ml-1",children:P.direction==="ascending"?"↑":"↓"}):a.jsx("span",{className:"ml-1 text-gray-400",children:"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("changed_by"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(_r,{className:"mr-2 text-sm"})," User",(P==null?void 0:P.key)==="changed_by"&&a.jsx("span",{className:"ml-1",children:P.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("action"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Li,{className:"mr-2 text-sm"})," Action",(P==null?void 0:P.key)==="action"&&a.jsx("span",{className:"ml-1",children:P.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>K("recordable_type"),children:a.jsxs("div",{className:"flex items-center",children:[a.jsx(Nf,{className:"mr-2 text-sm"})," Record Type",(P==null?void 0:P.key)==="recordable_type"&&a.jsx("span",{className:"ml-1",children:P.direction==="ascending"?"↑":"↓"})]})}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Ie.map(se=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ze(se.changed_at)})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:se.changed_by||"N/A"})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${Z(se.action)} shadow-sm`,children:se.action.charAt(0).toUpperCase()+se.action.slice(1)})}),a.jsxs("td",{className:"px-5 py-3",children:[a.jsx("div",{className:"text-sm font-medium text-gray-900",children:oe(se.recordable_type)}),se.recordable_id&&a.jsxs("div",{className:"text-xs text-gray-500",children:["ID: ",se.recordable_id]})]}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium",children:a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(se),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:[a.jsx(rs,{className:"text-lg"}),a.jsx("span",{children:"View"})]})})]},se.id))})]})})}),le.length>g&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:pe+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ce,le.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:le.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(h-1),disabled:h===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:Ee},(se,ee)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(ee+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${h===ee+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ee+1}`,children:ee+1},ee+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge(h+1),disabled:h===Ee,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),q&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Audit Details #",q.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Y(!1),H(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(re,{log:q,onClose:()=>{Y(!1),H(null)}})})]})})})]})},tLe=()=>{const t=jt(),{user:e}=Nt(),[r,n]=x.useState(!1),[s,i]=x.useState(window.innerWidth>=768),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(!1),[h,m]=x.useState(!1),g=x.useRef(null),y=x.useRef(null);x.useEffect(()=>{const v=()=>{l(window.innerWidth<768),window.innerWidth<768?i(!1):i(!0)};return window.addEventListener("resize",v),()=>window.removeEventListener("resize",v)},[]),x.useEffect(()=>{const v=N=>{g.current&&!g.current.contains(N.target)&&d(!1),y.current&&!y.current.contains(N.target)&&m(!1)};return document.addEventListener("mousedown",v),()=>{document.removeEventListener("mousedown",v)}},[]);const w=()=>{i(v=>!v)};x.useEffect(()=>{document.documentElement.classList.toggle("dark",r)},[r]);const j=v=>{t(v)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Workflow Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(vb,{}),isMobile:o,toggleSidebar:w}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 text-center",children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Select Workflow Approval Menu"}),a.jsx("p",{className:"text-gray-600 mt-2",children:"Choose the type of workflow approval you wish to manage."})]}),a.jsx("div",{className:"flex flex-col md:flex-row justify-center items-center gap-6 max-w-5xl mx-auto py-8",children:a.jsxs(C.div,{className:"w-full md:w-1/3 bg-white rounded-2xl shadow-xl p-8 border border-green-100 cursor-pointer flex flex-col items-center text-center transition-all duration-300 hover:scale-105 hover:shadow-2xl",whileHover:{y:-5},whileTap:{scale:.98},onClick:()=>j("/workflowapproval/monitoringapproval"),children:[a.jsx(Dh,{size:64,className:"text-green-600 mb-4"}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Monitoring Approval"}),a.jsx("p",{className:"text-gray-700 mb-4",children:"Organize and manage work orders by specific company departments."}),a.jsxs("span",{className:"text-green-600 font-semibold flex items-center",children:["Go to Monitoring Approval ",a.jsx(Zr,{size:18,className:"ml-1"})]})]})})]})]})]})},Sz=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,rLe=()=>{const t=jt(),{getApprovalTemplates:e,createApprovalTemplate:r,deleteApprovalTemplate:n,setApprovalTemplateActive:s}=Nt(),[i,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const z=localStorage.getItem("sidebarOpen");return JSON.parse(z||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(z=>!z)},[h,m]=x.useState(!1),[g,y]=x.useState(""),[w,j]=x.useState([]),[v,N]=x.useState(!1),[T,S]=x.useState(""),[O,_]=x.useState(!1),[A,E]=x.useState(null),P=(z,Y,q)=>{E({type:z,templateId:Y,templateName:q}),_(!0)},$=async()=>{if(A)try{N(!0),A.type==="activate"?(await s(A.templateId),j(z=>z.map(Y=>({...Y,is_active:Y.id===A.templateId})))):A.type==="delete"&&(await n(A.templateId),await I()),_(!1),E(null),S("")}catch(z){S(`Failed to ${A.type} template`),console.error(`Error ${A.type}ing template:`,z)}finally{N(!1)}};x.useEffect(()=>{I()},[]);const I=async()=>{try{N(!0);const z=await e();j(z||[])}catch(z){S("Failed to load approval templates"),console.error("Error loading templates:",z)}finally{N(!1)}},L=async()=>{if(!g.trim()){S("Template name must be filled out.");return}try{N(!0);const z=await r({name:g,is_active:!1});j(Y=>[...Y,z]),m(!1),y(""),S("")}catch(z){S("Failed to create template"),console.error("Error creating template:",z)}finally{N(!1)}},R=z=>{t(`/workflowapproval/monitoringapproval/configureapproval/${z.id}`)};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(vb,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs("div",{className:"flex justify-between items-center mb-6",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(Vq,{className:"mr-2 text-gray-700",size:24})," Select or Create Template"]}),a.jsxs(C.button,{onClick:()=>m(!0),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center text-sm shadow-md disabled:opacity-50",disabled:v,children:[a.jsx(dle,{size:18,className:"mr-2"})," Create New Template"]})]}),T&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:T}),v?a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx(bb,{className:"animate-spin text-blue-600",size:32})}):a.jsx("div",{className:"space-y-4",children:w.length>0?w.map(z=>a.jsx(C.div,{whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(0,0,0,0.08)"},whileTap:{scale:.98},className:"p-6 bg-white rounded-lg border border-gray-200 cursor-pointer transition-all duration-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("h3",{className:"text-lg font-bold text-gray-800 flex items-center",children:[a.jsx(Nf,{size:20,className:"mr-2 text-blue-500"}),z.name]}),a.jsxs("div",{className:"mt-2 flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${z.is_active?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"}`,children:z.is_active?"Active":"Inactive"}),z.approvers&&a.jsxs("span",{className:"text-xs text-gray-500",children:[z.approvers.length," approver(s)"]})]})]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{onClick:()=>R(z),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg text-blue-600 hover:bg-blue-100 transition-colors",disabled:v,children:"Configure"}),!z.is_active&&a.jsx(C.button,{onClick:Y=>{Y.stopPropagation(),P("activate",z.id,z.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-green-500 text-white hover:bg-green-600 transition-colors",disabled:v,children:"Activate"}),a.jsx(C.button,{onClick:Y=>{Y.stopPropagation(),P("delete",z.id,z.name)},whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 text-sm font-semibold rounded-lg bg-red-500 text-white hover:bg-red-600 transition-colors",disabled:v,children:"Delete"})]})]})},z.id)):a.jsx("div",{className:"p-6 text-center text-gray-500 border border-dashed border-gray-300 rounded-lg",children:"No templates found. Create the first template to get started."})}),a.jsx(Sz,{isOpen:O,onClose:()=>{_(!1),E(null)},title:"Confirm Action",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsxs("p",{className:"text-base text-gray-700 font-medium",children:["Are you sure you want to ",A==null?void 0:A.type,' template "',A==null?void 0:A.templateName,'"?',(A==null?void 0:A.type)==="delete"&&" This action cannot be undone."]}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{_(!1),E(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:`px-5 py-2.5 text-white rounded-md hover:opacity-90 focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors duration-200 font-semibold text-sm ${(A==null?void 0:A.type)==="delete"?"bg-red-600 hover:bg-red-700 focus:ring-red-500":"bg-green-600 hover:bg-green-700 focus:ring-green-500"}`,children:(A==null?void 0:A.type)==="delete"?"Delete":"Activate"})]})]})}),a.jsx(Sz,{isOpen:h,onClose:()=>m(!1),title:"Create New Template",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"templateName",className:"block text-sm font-medium text-gray-700",children:"Template Name"}),a.jsx("input",{type:"text",id:"templateName",value:g,onChange:z=>y(z.target.value),placeholder:"e.g., Production Approval Flow",className:"mt-1 block w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150"})]}),T&&a.jsx("div",{className:"p-2 bg-red-100 border border-red-400 text-red-700 rounded text-sm",children:T}),a.jsxs("div",{className:"flex justify-end pt-2 space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{m(!1),y(""),S("")},className:"px-4 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 font-semibold text-sm",children:"Cancel"}),a.jsxs(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"px-5 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 font-semibold text-sm disabled:opacity-50 disabled:cursor-not-allowed flex items-center",disabled:v||!g.trim(),children:[v?a.jsx(bb,{className:"animate-spin mr-2",size:16}):null,"Create Template"]})]})]})})]})]})]})},Nz=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),nLe=()=>{const[t,e]=x.useState([]),[r,n]=x.useState(!0),[s,i]=x.useState(!1),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(""),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(null),O=x.useRef(!0),[_]=x.useState(window.innerWidth<768),[A,E]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),P=jt(),{getServiceGroups:$,getServiceGroup:I,hasPermission:L}=Nt(),R=()=>{const D=!A;E(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},z=x.useCallback(async()=>{try{n(!0);const F=(await $(0)).map(K=>({id:Number(K.id),name:K.group_name??"",description:K.group_description??void 0}));e(F)}catch(D){S("Failed to load service groups"),console.error("Error loading service groups:",D)}finally{O.current&&n(!1)}},[$]);x.useEffect(()=>(O.current=!0,z(),()=>{O.current=!1}),[z]);const Y=async()=>{if(!c.trim()){S("Group Name is required");return}y(!0),S(null);try{if(await new Promise(D=>setTimeout(D,500)),o)e(D=>D.map(F=>F.id===o.id?{...F,name:c.trim(),description:h.trim()||void 0}:F));else{const D={id:t.length>0?Math.max(...t.map(F=>F.id))+1:1,name:c.trim(),description:h.trim()||void 0};e(F=>[...F,D])}i(!1),l(null),d(""),m("")}catch(D){S("Failed to save service group"),console.error("Error saving service group:",D)}finally{y(!1)}},q=D=>{if(!L("manage_users")){S("You don't have permission to delete service groups");return}j(D),N(!0),S(null)},H=async()=>{if(w!==null){y(!0),S(null);try{await new Promise(D=>setTimeout(D,500)),e(D=>D.filter(F=>F.id!==w)),N(!1),j(null)}catch(D){S("Failed to delete service group"),console.error("Error deleting service group:",D)}finally{y(!1)}}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Service Groups",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(ca,{}),isMobile:_,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Groups"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Manage service groups used across the service management system."})]}),L("manage_users")&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>P("/service/servicegroups/addservicegroup"),className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Group"})]})]}),r?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service groups..."})]}):t.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"text-blue-500 text-4xl mx-auto mb-4",children:a.jsx(Bq,{})}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No service groups available."}),L("manage_users")&&a.jsx("button",{onClick:()=>P("/service/servicegroups/"),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Create first group"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Name"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:t.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:D.description||"-"})}),L("manage_users")&&a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>P(`/service/servicegroups/editservicegroup/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})}),T&&a.jsx("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:T})})]})]}),a.jsx(Nz,{isOpen:s,onClose:()=>i(!1),title:o?"Edit Service Group":"Add Service Group",className:"max-w-lg",children:a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Name"}),a.jsx("input",{value:c,onChange:D=>d(D.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Group Description"}),a.jsx("textarea",{value:h,onChange:D=>m(D.target.value),className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",rows:4})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>{i(!1),l(null),d(""),m(""),S(null)},className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:g?"Saving...":"Save"})]}),T&&a.jsx("div",{className:"p-3 bg-red-50 border border-red-200 rounded-lg",children:a.jsx("p",{className:"text-sm text-red-600 font-medium",children:T})})]})}),a.jsx(Nz,{isOpen:v,onClose:()=>N(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx("div",{className:"text-red-500 text-5xl mx-auto animate-pulse",children:a.jsx(an,{})}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,disabled:g,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:g?"Deleting...":"Delete"})]})]})})]})};function aLe(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const N5=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.18},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.98},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.98},transition:{duration:.28,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ey=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const l=s?((h,m)=>{if(m===0)return h>0?"+100%":"0%";const g=(h-m)/m*100;return`${g>=0?"+":""}${Math.round(g)}%`})(e,r):((h,m)=>{const g=h-m;return`${g>0?"+":g<0?"":"+"}${g}`})(e,r),c=e>=r,d=s?`${l} from last month`:`${l} from last month`;return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${c?"text-green-600":"text-red-600"}`,children:d})]})},sLe=()=>{const t=Nt(),[e,r]=x.useState(()=>{const J=localStorage.getItem("sidebarOpen");return JSON.parse(J||"false")}),n=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!e)),r(J=>!J)},s=jt(),[i,o]=x.useState(null),l=J=>{o(J),d(!0)},[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(!1),[w,j]=x.useState(!1),[v,N]=x.useState(""),[T,S]=x.useState(!1),[O,_]=x.useState(""),[A,E]=x.useState(""),[P,$]=x.useState(!0),[I,L]=x.useState([]),[R,z]=x.useState([]),[Y,q]=x.useState([]),[H,D]=x.useState(!1),[F,K]=x.useState(null),[te,W]=x.useState(!1),[Z,oe]=x.useState(null),[le,ce]=x.useState(null),[pe,Ie]=x.useState(!1),Ee=aLe(v,300),ge=x.useRef(null),[Oe,ze]=x.useState(1),re=10,[se,ee]=x.useState({key:"created_at",direction:"descending"}),[we,Ge]=x.useState(null),[Ye,xe]=x.useState(!1),[ct,mt]=x.useState(window.innerWidth<768),tt=x.useRef(null),wt=x.useRef(null),Ct=x.useCallback(async()=>{try{const ie=(await t.getServiceGroups(0)||[]).map(Se=>Se.group_name||Se.group_description?{id:Se.id,group_name:Se.group_name,group_description:Se.group_description,name:Se.group_name||Se.name}:{id:Se.id,name:Se.name||null});z(ie)}catch{z([])}},[t]),ft=x.useCallback(async()=>{try{const ie=(await t.getUsers()||[]).map(Se=>({id:Number(Se.id),name:Se.name}));q(ie)}catch{q([])}},[t]),Rt=x.useCallback(J=>({id:J.id??0,service_name:J.service_name??J.name??"",service_description:J.service_description??J.description??"",service_type:Number(J.service_type??J.service_type??0),priority:J.priority??"Low",service_owner:Number(J.service_owner??J.service_owner??J.owner??0),sla:Number(J.sla??J.sla??0),impact:J.impact??"",created_at:J.created_at??J.createdAt??new Date().toISOString(),updated_at:J.updated_at??J.updatedAt??new Date().toISOString()}),[]),Ze=x.useCallback(async()=>{$(!0),Ge(null);try{const ie=(await t.getServices(0)||[]).map(Rt);ie.sort((Se,Ve)=>Se.created_at<Ve.created_at?1:-1),L(ie)}catch{Ge("Failed to load service catalogue."),L([])}finally{$(!1)}},[t,Rt]);x.useEffect(()=>{let J=!0;return J&&(Ze(),Ct(),ft()),()=>{J=!1}},[Ze,Ct,ft]),x.useEffect(()=>{const J=()=>{mt(window.innerWidth<768)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),x.useEffect(()=>{const J=ie=>{tt.current&&!tt.current.contains(ie.target)&&j(!1),wt.current&&!wt.current.contains(ie.target)&&y(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const he=(J,ie)=>{ce({type:J,message:ie}),setTimeout(()=>ce(null),3e3)},We=I.length,je=x.useMemo(()=>{const J={Critical:0,High:0,Medium:0,Low:0};return I.forEach(ie=>{const Se=ie.priority||"Low";J[Se]=(J[Se]||0)+1}),J},[I]),ht=x.useMemo(()=>{if(I.length===0)return 0;const J=I.reduce((ie,Se)=>ie+(Se.sla||0),0);return Math.round(J/I.length*100)/100},[I]),gt=x.useMemo(()=>{const J=new Set;return I.forEach(ie=>J.add(ie.service_owner)),J.size},[I]),St=x.useMemo(()=>{const J=new Date;return J.setMonth(J.getMonth()-1),I.filter(ie=>new Date(ie.created_at)<J)},[I]),ve=()=>{_(""),E(""),N("")},nt=J=>{let ie="ascending";se&&se.key===J&&se.direction==="ascending"&&(ie="descending"),ee({key:J,direction:ie})},Xe=async J=>{if(J){Ie(!0);try{const Se=(await J.text()).split(`
`).map(rt=>rt.trim()).filter(Boolean),Ve=[];for(let rt=0;rt<Se.length;rt++){const He=Se[rt].split(",").map($e=>$e.trim()),Ce={service_name:He[1]||`Imported Service ${rt+1}`,service_description:He[2]||"",service_type:R[0]?Number(R[0].id):0,priority:He[4]||"Low",service_owner:Y[0]?Y[0].id:0,sla:Number(He[6])||24,impact:He[7]||""};Ve.push(Ce)}for(const rt of Ve)await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(rt)});await Ze(),he("success",`Imported ${Ve.length} services`)}catch{he("error","Import failed")}finally{Ie(!1)}}},ae=J=>{var Se;const ie=((Se=J.target.files)==null?void 0:Se[0])||null;ie&&Xe(ie),J.target.value=""},ne=J=>{oe(J),W(!0)},Ae=async()=>{if(Z){xe(!0);try{await t.fetchWithAuth(`/service-catalogues/${Z}`,{method:"DELETE"}),await Ze(),W(!1),oe(null),he("success","Service deleted")}catch{he("error","Failed to delete service")}finally{xe(!1)}}},et=x.useMemo(()=>{let J=[...I];if(Ee.trim()){const ie=Ee.toLowerCase().trim();J=J.filter(Se=>Se.service_name.toLowerCase().includes(ie)||(Se.service_description||"").toLowerCase().includes(ie))}return O&&(J=J.filter(ie=>String(ie.service_type)===String(O))),A&&(J=J.filter(ie=>ie.priority===A)),se&&J.sort((ie,Se)=>{const Ve=ie[se.key],rt=Se[se.key];return Ve<rt?se.direction==="ascending"?-1:1:Ve>rt?se.direction==="ascending"?1:-1:0}),J},[I,Ee,O,A,se]),xt=J=>{switch(J){case"Critical":return"bg-red-500 text-white";case"High":return"bg-orange-500 text-white";case"Medium":return"bg-yellow-500 text-white";case"Low":return"bg-gray-500 text-white";default:return"bg-gray-500 text-white"}},ye=Oe*re,B=ye-re,ue=et.slice(B,ye),be=Math.max(1,Math.ceil(et.length/re)),ke=()=>{const[J,ie]=x.useState((F==null?void 0:F.service_name)||""),[Se,Ve]=x.useState((F==null?void 0:F.service_description)||""),[rt,He]=x.useState((F==null?void 0:F.service_type)||""),[Ce,$e]=x.useState((F==null?void 0:F.priority)||"Low"),[it,Wt]=x.useState((F==null?void 0:F.service_owner)||(Y[0]?Y[0].id:"")),[ur,Cr]=x.useState((F==null?void 0:F.sla)||24),[ot,nr]=x.useState((F==null?void 0:F.impact)||""),[kt,dr]=x.useState({}),Me=async()=>{if(dr({}),!J.trim()){dr({service_name:"Service Name is required"});return}if(!rt){dr(Te=>({...Te,service_type:"Service Type is required"}));return}if(!Ce){dr(Te=>({...Te,priority:"Priority is required"}));return}if(isNaN(Number(ur))){dr(Te=>({...Te,sla:"SLA must be a number"}));return}xe(!0);try{const Te={service_name:J.trim(),service_description:Se.trim(),service_type:Number(rt),priority:Ce,service_owner:Number(it)||0,sla:Number(ur)||0,impact:ot.trim()};F?(await t.fetchWithAuth(`/service-catalogues/${F.id}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)}),he("success","Service updated")):(await t.fetchWithAuth("/service-catalogues",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Te)}),he("success","Service created")),await Ze(),D(!1)}catch{he("error","Save failed")}finally{xe(!1)}};return a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Name *"}),a.jsx("input",{value:J,onChange:Te=>ie(Te.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),kt.service_name&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:kt.service_name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Description"}),a.jsx("textarea",{value:Se,onChange:Te=>Ve(Te.target.value),rows:3,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Type *"}),a.jsxs("select",{value:rt,onChange:Te=>He(Te.target.value?Number(Te.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Group --"}),R.map(Te=>a.jsx("option",{value:String(Te.id),children:Te.group_name??Te.name??String(Te.id)},String(Te.id)))]}),kt.service_type&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:kt.service_type})]}),a.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Priority *"}),a.jsxs("select",{value:Ce,onChange:Te=>$e(Te.target.value),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]}),kt.priority&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:kt.priority})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"SLA (hours) *"}),a.jsx("input",{type:"number",value:ur,onChange:Te=>Cr(Number(Te.target.value)),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"}),kt.sla&&a.jsx("p",{className:"text-xs text-red-600 mt-1",children:kt.sla})]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Service Owner"}),a.jsxs("select",{value:it,onChange:Te=>Wt(Te.target.value?Number(Te.target.value):""),className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30",children:[a.jsx("option",{value:"",children:"-- Select Owner --"}),Y.map(Te=>a.jsx("option",{value:Te.id,children:Te.name},Te.id))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"text-sm font-medium text-gray-700",children:"Impact"}),a.jsx("textarea",{value:ot,onChange:Te=>nr(Te.target.value),rows:2,className:"w-full mt-2 px-4 py-2 border border-blue-200 rounded-lg bg-white text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/30"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100 mt-3",children:[a.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>D(!1),className:"px-5 py-2 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Me,disabled:Ye,className:"px-5 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:Ye?"Saving...":"Save"})]})]})},Le=({service:J,onClose:ie})=>{var Wt,ur,Cr;const Se=ot=>ot==null?"-":typeof ot=="string"?ot.trim()!==""?ot.trim():"-":typeof ot=="number"?ot.toString():String(ot),Ve=ot=>ot?new Date(ot).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",rt=({priority:ot})=>{const nr={Critical:"bg-red-100 text-red-800 border-red-300",High:"bg-orange-100 text-orange-800 border-orange-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-gray-100 text-gray-800 border-gray-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${nr[ot]||nr.Low}`,children:ot})},He=({title:ot,children:nr,icon:kt})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[kt&&a.jsx("div",{className:"mr-3 text-blue-600",children:kt}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:ot})]})}),a.jsx("div",{className:"p-6",children:nr})]}),Ce=({label:ot,value:nr,icon:kt,fullWidth:dr=!1,priority:Me="medium"})=>{const Te={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${dr?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${Te[Me]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[kt&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:kt}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:ot}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:nr})]})]})})})},$e=((Wt=Y.find(ot=>ot.id===Number(J.service_owner)))==null?void 0:Wt.name)??String(J.service_owner),it=((ur=R.find(ot=>String(ot.id)===String(J.service_type)))==null?void 0:ur.group_name)??((Cr=R.find(ot=>String(ot.id)===String(J.service_type)))==null?void 0:Cr.name)??String(J.service_type);return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:J.service_name}),a.jsx(rt,{priority:J.priority})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Created: ",Ve(J.created_at)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ie,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(He,{title:"Service Information",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ce,{label:"Service Name",value:Se(J.service_name),icon:a.jsx(tl,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ce,{label:"Service Type",value:Se(it),icon:a.jsx(Bq,{className:"w-4 h-4"}),priority:"high"}),a.jsx(Ce,{label:"Priority",value:Se(J.priority),icon:a.jsx(Xt,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(He,{title:"Service Details",icon:a.jsx(tl,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ce,{label:"Service Description",value:Se(J.service_description),icon:a.jsx(tl,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ce,{label:"Service Owner",value:Se($e),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(Ce,{label:"SLA (hours)",value:Se(J.sla),icon:a.jsx(It,{className:"w-4 h-4"})})]})]})}),a.jsx(He,{title:"Additional Information",icon:a.jsx(ia,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(Ce,{label:"Impact",value:Se(J.impact),icon:a.jsx(Xt,{className:"w-4 h-4"}),fullWidth:!0}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(Ce,{label:"Created At",value:Ve(J.created_at),icon:a.jsx(Vn,{className:"w-4 h-4"})}),a.jsx(Ce,{label:"Updated At",value:Ve(J.updated_at),icon:a.jsx(Vn,{className:"w-4 h-4"})})]})]})})]})};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Service Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(tl,{}),isMobile:ct,toggleSidebar:n}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Service ",a.jsx("span",{className:"text-blue-600",children:"Catalogue"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Browse and manage the list of available services."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>s("/services/servicecatalogues/addservicecatalogue"),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Service"})]}),a.jsxs("label",{className:"flex items-center cursor-pointer",children:[a.jsx("input",{type:"file",accept:".csv",onChange:ae,className:"hidden"}),a.jsxs(C.div,{whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:pe?"Importing...":"Import"})]})]}),a.jsxs(C.button,{onClick:()=>S(J=>!J),whileHover:{scale:1.02},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:T?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ey,{title:"Total Services",currentCount:We,lastMonthCount:St.length,icon:a.jsx(ia,{})}),a.jsx(Ey,{title:"Critical",currentCount:je.Critical,lastMonthCount:St.filter(J=>J.priority==="Critical").length,icon:a.jsx(ia,{}),usePercentage:!1}),a.jsx(Ey,{title:"Average SLA (hrs)",currentCount:ht,lastMonthCount:St.length>0?Math.round(St.reduce((J,ie)=>J+(ie.sla||0),0)/St.length*100)/100:0,icon:a.jsx(ia,{}),usePercentage:!1}),a.jsx(Ey,{title:"Total Owners",currentCount:gt,lastMonthCount:new Set(St.map(J=>J.service_owner)).size,icon:a.jsx(_r,{}),usePercentage:!1})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.05},children:[a.jsx("div",{className:"mb-4 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:ge,value:v,onChange:J=>N(J.target.value),placeholder:"Search services by name or description...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200"})]}),a.jsx(_t,{children:T&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:[a.jsxs("select",{value:O,onChange:J=>_(J.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Groups"}),R.map(J=>a.jsx("option",{value:String(J.id),children:J.group_name??J.name??String(J.id)},String(J.id)))]}),a.jsxs("select",{value:A,onChange:J=>E(J.target.value),className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},children:[a.jsx("option",{value:"",children:"All Priorities"}),a.jsx("option",{value:"Critical",children:"Critical"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"Low",children:"Low"})]})]})})]})}),P?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading service catalogue..."})]}):we?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 text-center border border-yellow-100",children:[a.jsx(ia,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:we}),a.jsx("div",{className:"mt-4",children:a.jsx("button",{onClick:Ze,className:"px-4 py-2 bg-blue-600 text-white rounded-md",children:"Retry"})})]}):et.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Ee||O||A?"No services found matching your filters.":"No services available."}),(Ee||O||A)&&a.jsx("button",{onClick:ve,className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",onClick:()=>nt("service_name"),children:"Service Name"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Group"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Owner"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"SLA (hrs)"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Impact"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ue.map((J,ie)=>{var rt,He,Ce;const Se=((rt=Y.find($e=>$e.id===Number(J.service_owner)))==null?void 0:rt.name)??String(J.service_owner),Ve=((He=R.find($e=>String($e.id)===String(J.service_type)))==null?void 0:He.group_name)??((Ce=R.find($e=>String($e.id)===String(J.service_type)))==null?void 0:Ce.name)??String(J.service_type);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:B+ie+1}),a.jsx("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:J.service_name}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Ve}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${xt(J.priority)} shadow-sm`,children:J.priority})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:Se}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:J.sla}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-700",children:J.impact||"-"}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>l(J),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(rs,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>s(`/services/servicecatalogues/editservicecatalogue/${J.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit",children:a.jsx(Dn,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ne(J.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Delete",children:a.jsx(an,{className:"text-lg"})})]})]},J.id)})})]})})}),et.length>re&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:B+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ye,et.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:et.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(J=>Math.max(1,J-1)),disabled:Oe===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:be},(J,ie)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(ie+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${Oe===ie+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:ie+1},ie+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ze(J=>Math.min(be,J+1)),disabled:Oe===be,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]})]}),a.jsx(N5,{isOpen:H,onClose:()=>D(!1),title:F?"Edit Service":"Add Service",className:"max-w-3xl",children:a.jsx(ke,{})}),a.jsx(N5,{isOpen:te,onClose:()=>W(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(ia,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this service? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>W(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ae,disabled:Ye,className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm disabled:opacity-60",children:"Delete"})]})]})}),a.jsx(N5,{isOpen:c,onClose:()=>d(!1),title:"Service Details",className:"max-w-5xl",children:i&&a.jsx(Le,{service:i,onClose:()=>d(!1)})}),le&&a.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:a.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:`px-5 py-3 rounded-lg shadow-md ${le.type==="success"?"bg-green-600 text-white":"bg-red-600 text-white"}`,children:le.message})})]})},iLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,oLe=()=>{const t=Nt(),{addServiceGroup:e}=t,[r,n]=x.useState(window.innerWidth<768),[s,i]=x.useState(()=>{const O=localStorage.getItem("sidebarOpen");return JSON.parse(O||"false")}),o=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(O=>!O)},l=jt(),[c,d]=x.useState(""),[h,m]=x.useState(""),[g,y]=x.useState(!1),[w,j]=x.useState(null),[v,N]=x.useState(!1),T=async O=>{if(O.preventDefault(),j(null),!c.trim()){j("Group Name is required");return}y(!0);try{await e({group_name:c.trim(),group_description:h.trim()||null}),N(!0)}catch(_){const A=_ instanceof Error?_.message:"Failed to save service group";j(A)}finally{y(!1)}},S=()=>{N(!1),l("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ca,{}),isMobile:r,toggleSidebar:o}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service group to categorize services."})]}),a.jsxs(C.button,{onClick:()=>l("/servicegroups"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[w&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:w})]}),a.jsxs("form",{onSubmit:T,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:c,onChange:O=>d(O.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:h,onChange:O=>m(O.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>l("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:g,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:g?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"}),"Save"]})})]})]})]})]})]}),a.jsx(iLe,{isOpen:v,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been created successfully."}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},lLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,cLe=()=>{const e=ya().id,r=jt(),n=Nt(),{getServiceGroup:s,updateServiceGroup:i}=n,[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const $=localStorage.getItem("sidebarOpen");return JSON.parse($||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d($=>!$)},[m,g]=x.useState(""),[y,w]=x.useState(""),[j,v]=x.useState(!1),[N,T]=x.useState(!0),[S,O]=x.useState(null),[_,A]=x.useState(!1);x.useEffect(()=>{let $=!0;return(async()=>{T(!0),O(null);try{if(!e){O("Missing service group id");return}const L=await s(e);if(!$)return;g(String(L.group_name??"")),w(String(L.group_description??"")||"")}catch(L){const R=L instanceof Error?L.message:"Failed to load service group";O(R)}finally{$&&T(!1)}})(),()=>{$=!1}},[s,e]);const E=async $=>{if($.preventDefault(),O(null),!m.trim()){O("Group Name is required");return}v(!0);try{const I=Number(e);await i(I,{group_name:m.trim(),group_description:y.trim()||null}),A(!0)}catch(I){const L=I instanceof Error?I.message:"Failed to update service group";O(L)}finally{v(!1)}},P=()=>{A(!1),r("/servicegroups")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Group",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(ca,{}),isMobile:o,toggleSidebar:h}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},transition:{duration:.25},className:"mb-6",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update the service group details below."})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.08},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:N?a.jsxs("div",{className:"text-center p-8",children:[a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Loading service group..."})]}):a.jsxs(a.Fragment,{children:[S&&a.jsxs("div",{className:"bg-red-100 border border-red-300 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-semibold",children:"Error: "}),a.jsx("span",{className:"ml-2",children:S})]}),a.jsxs("form",{onSubmit:E,className:"space-y-6",children:[a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{name:"group_name",value:m,onChange:$=>g($.target.value),type:"text",className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Group Description"}),a.jsx("textarea",{name:"group_description",value:y,onChange:$=>w($.target.value),rows:4,className:"mt-2 w-full px-4 py-2 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm"})]})]}),a.jsxs("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-100",children:[a.jsx(C.button,{type:"button",whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>r("/servicegroups"),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:j,className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm flex items-center",children:j?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"}),"Save Changes"]})})]})]})]})})]})]}),a.jsx(lLe,{isOpen:_,onClose:P,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Service group has been updated successfully."}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:P,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Service Groups"})]})})]})},uLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,dLe=()=>{const{id:t}=ya(),{updateServiceCatalogue:e,getServiceGroups:r,getUsers:n,fetchWithAuth:s}=Nt(),i=jt(),[o,l]=x.useState(window.innerWidth<768),[c,d]=x.useState(()=>{const q=localStorage.getItem("sidebarOpen");return JSON.parse(q||"false")}),h=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(q=>!q)},[m,g]=x.useState(!1),[y,w]=x.useState(!0),[j,v]=x.useState(null),[N,T]=x.useState(null),[S,O]=x.useState(!1),[_,A]=x.useState([]),[E,P]=x.useState([]),[$,I]=x.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),L=x.useCallback(async()=>{try{const[q,H,D]=await Promise.all([s(`/service-catalogues/${t}`),r(0),n()]),F=q.data||q;A(H),P(D),F&&I({service_name:F.service_name||"",service_description:F.service_description||"",service_type:String(F.service_type||""),priority:F.priority||"Low",service_owner:String(F.service_owner||""),sla:F.sla?parseFloat(F.sla):24,impact:F.impact||""})}catch(q){v(q.message||"Failed to load service data")}finally{w(!1)}},[t,s,r,n]);x.useEffect(()=>{t&&L()},[t,L]);const R=q=>{const{name:H,value:D}=q.target;I(F=>({...F,[H]:H==="sla"?Number(D):D}))},z=async q=>{if(q.preventDefault(),g(!0),v(null),!$.service_name||!$.service_type||!$.priority||!$.service_owner||!$.sla){v("Please fill all required fields"),g(!1);return}try{const H={service_name:$.service_name,service_description:$.service_description,service_type:Number($.service_type),priority:$.priority,service_owner:Number($.service_owner),sla:$.sla,impact:$.impact};await e(t,H),T("Service Catalogue updated successfully!"),O(!0)}catch(H){v(H.message||"Failed to update Service Catalogue")}finally{g(!1)}},Y=()=>{O(!1),i("/services/servicecatalogues")};return y?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500"})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(tl,{}),isMobile:o,toggleSidebar:h}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update service details"})]}),a.jsxs(C.button,{onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[j&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:j}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>v(null)})})]}),a.jsxs("form",{onSubmit:z,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:$.service_name,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:$.service_type,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),_.map(q=>a.jsx("option",{value:q.id,children:q.group_name||q.name},q.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:$.priority,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:$.service_owner,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),E.map(q=>a.jsx("option",{value:q.id,children:q.name},q.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:$.sla,onChange:R,min:"1",step:"0.01",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:$.impact,onChange:R,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:$.service_description,onChange:R,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>i("/services/servicecatalogues"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:m,children:m?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Update Service"]})})]})]})]})]})]}),a.jsx(uLe,{isOpen:S,onClose:Y,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:N}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Y,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},fLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,hLe=()=>{const{addServiceCatalogue:t,getServiceGroups:e,getUsers:r}=Nt(),n=jt(),[s,i]=x.useState(window.innerWidth<768),[o,l]=x.useState(()=>{const L=localStorage.getItem("sidebarOpen");return JSON.parse(L||"false")}),c=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!o)),l(L=>!L)},[d,h]=x.useState(!1),[m,g]=x.useState(null),[y,w]=x.useState(null),[j,v]=x.useState(!1),[N,T]=x.useState([]),[S,O]=x.useState([]),[_,A]=x.useState({service_name:"",service_description:"",service_type:"",priority:"Low",service_owner:"",sla:24,impact:""}),E=x.useCallback(async()=>{try{const[L,R]=await Promise.all([e(0),r()]);T(L),O(R)}catch(L){g(L.message||"Failed to load form data")}},[e,r]);x.useEffect(()=>{E()},[E]);const P=L=>{const{name:R,value:z}=L.target;A(Y=>({...Y,[R]:R==="sla"?Number(z):z}))},$=async L=>{if(L.preventDefault(),h(!0),g(null),!_.service_name||!_.service_type||!_.priority||!_.service_owner||!_.sla){g("Please fill all required fields"),h(!1);return}try{const R={service_name:_.service_name,service_description:_.service_description,service_type:Number(_.service_type),priority:_.priority,service_owner:Number(_.service_owner),sla:_.sla,impact:_.impact};await t(R),w("Service Catalogue created successfully!"),v(!0)}catch(R){g(R.message||"Failed to create Service Catalogue")}finally{h(!1)}},I=()=>{v(!1),n("/servicecatalogue")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Add Catalogue",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(tl,{}),isMobile:s,toggleSidebar:c}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Service Catalogue"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new service to the catalogue"})]}),a.jsxs(C.button,{onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[m&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:m}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>g(null)})})]}),a.jsxs("form",{onSubmit:$,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"service_name",id:"service_name",value:_.service_name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_type",id:"service_type",value:_.service_type,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Type"}),N.map(L=>a.jsx("option",{value:L.id,children:L.group_name||L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"priority",className:"block text-sm font-medium text-gray-700 mb-1",children:["Priority ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"priority",id:"priority",value:_.priority,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Low",children:"Low"}),a.jsx("option",{value:"Medium",children:"Medium"}),a.jsx("option",{value:"High",children:"High"}),a.jsx("option",{value:"Critical",children:"Critical"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_owner",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Owner ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"service_owner",id:"service_owner",value:_.service_owner,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Service Owner"}),S.map(L=>a.jsx("option",{value:L.id,children:L.name},L.id))]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"sla",className:"block text-sm font-medium text-gray-700 mb-1",children:["SLA (hours) ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"number",name:"sla",id:"sla",value:_.sla,onChange:P,min:"1",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"impact",className:"block text-sm font-medium text-gray-700 mb-1",children:"Impact"}),a.jsx("input",{type:"text",name:"impact",id:"impact",value:_.impact,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{htmlFor:"service_description",className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Description"}),a.jsx("textarea",{name:"service_description",id:"service_description",value:_.service_description,onChange:P,rows:4,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>n("/servicecatalogue"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:d,children:d?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(fLe,{isOpen:j,onClose:I,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:y}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:I,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},mLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Dy=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},pLe=()=>{const[t,e]=x.useState([]),[r,n]=x.useState([]),{getDepartment:s,getUsers:i,deleteDepartment:o}=Nt(),[l,c]=x.useState(!0),[d,h]=x.useState(null),[m,g]=x.useState(""),[y,w]=x.useState(!1),[j,v]=x.useState(null),[N,T]=x.useState(!1),[S]=x.useState(window.innerWidth<768),[O,_]=x.useState(()=>{const te=localStorage.getItem("sidebarOpen");return te?JSON.parse(te):!1}),A=jt(),E=x.useRef(null),[P,$]=x.useState(!1),I=x.useMemo(()=>[{id:"department",name:"Department"},{id:"head",name:"Head"}],[]),L=x.useCallback(async()=>{try{c(!0);const te=await s(),W=await i(),Z=[...te].sort((oe,le)=>oe.id-le.id);e(Z),n(W)}catch(te){h("Failed to load departments"),console.error("Error loading departments:",te)}finally{c(!1)}},[s,i]);x.useEffect(()=>{L()},[L]);const R=()=>{const te=!O;_(te),localStorage.setItem("sidebarOpen",JSON.stringify(te))},z=()=>{alert("Import functionality is not yet implemented.")},Y=te=>{const W=te.target.value;g(W)},q=x.useMemo(()=>{if(!m)return I;const te=m.toLowerCase();return I.filter(W=>W.name.toLowerCase().includes(te))},[m,I]),H=te=>{var W;g(`${te}: `),$(!1),(W=E.current)==null||W.focus()},D=x.useMemo(()=>{if(!m.trim())return t;const te=m.toLowerCase().trim(),W=te.split(":");let Z="all",oe=te;return W.length>1&&I.some(le=>le.name.toLowerCase()===W[0].trim())&&(Z=W[0].trim(),oe=W.slice(1).join(":").trim()),t.filter(le=>{var Ie,Ee,ge;const ce=(Ie=le.name)==null?void 0:Ie.toLowerCase().includes(oe),pe=(ge=(Ee=le.head)==null?void 0:Ee.name)==null?void 0:ge.toLowerCase().includes(oe);return Z==="department"?ce:Z==="head"?pe:ce||pe})},[t,m,I]),F=async te=>{try{await o(te),e(t.filter(W=>W.id!==te)),w(!1),v(null)}catch(W){console.error("Failed to delete department:",W),h("Failed to delete department. Please try again.")}},K=x.useCallback(te=>{v(te),w(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Departments",mainTitleHighlight:"Page",description:"Manage departments and their configurations within the system.",icon:a.jsx(Ff,{}),isMobile:S,toggleSidebar:R}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Departments ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage departments by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>A("/worklocation/department/adddepartment"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Department"})]}),a.jsxs(C.button,{onClick:z,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>T(!N),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:N?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Dy,{title:"Total Departments",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Ff,{className:"w-6 h-6"})}),a.jsx(Dy,{title:"Head Departments",value:t.filter(te=>te.head_id!==null).length.toString(),change:`+${Math.floor(t.filter(te=>te.head_id!==null).length/t.length*100)}%`,icon:a.jsx(_r,{className:"w-6 h-6"})}),a.jsx(Dy,{title:"Departments with Email",value:t.filter(te=>{var W;return(W=te.head)==null?void 0:W.email}).length.toString(),change:`+${Math.floor(t.filter(te=>{var W;return(W=te.head)==null?void 0:W.email}).length/t.length*100)}%`,icon:a.jsx(ag,{className:"w-6 h-6"})}),a.jsx(Dy,{title:"Total Employees",value:r.length.toString(),change:`+${Math.floor(r.length/50*100)}%`,icon:a.jsx(ca,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:E,type:"text",placeholder:"Search by department or head...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:m,onChange:Y,onFocus:()=>$(!0),"aria-label":"Search departments"}),a.jsx(_t,{children:P&&q.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:q.map(te=>a.jsx(C.button,{onClick:()=>H(te.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:te.name})},te.id))})})]})}),a.jsx(_t,{children:N&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),l?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading department data..."})]}):D.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:m?"No departments found matching your search.":"No departments available."}),m&&a.jsx("button",{onClick:()=>g(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email Head Department"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:D.map(te=>{var W,Z;return a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:te.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:((W=te.head)==null?void 0:W.name)||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:((Z=te.head)==null?void 0:Z.email)||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>A(`/worklocation/department/editdepartment/${te.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>K(te.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},te.id)})})]})})})]})]}),a.jsx(mLe,{isOpen:y,onClose:()=>w(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this department? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>w(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>j&&F(j),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},gLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,xLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addDepartment:o,getUsers:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",head_id:0}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,head_id:S.head_id};await o(L),y("Service Catalogue created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Service Catalogue")}finally{N(!1)}};x.useCallback(I=>{if(!I)return;const L=parseInt(I.value),R=r.find(z=>parseInt(z.id)===L);if(R){const z=s.find(Y=>Y.id===R.department_id);O(Y=>({...Y,id:L,department_id:R.department_id||0,known_by_id:(z==null?void 0:z.head_id)||null}))}},[r,s]);const $=()=>{j(!1),T("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Add Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Ff,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Department and Head information"})]}),a.jsxs(C.button,{onClick:()=>T("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:S.head_id,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),r.map(I=>a.jsx("option",{value:I.id,children:I.name||I.name},I.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(gLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},yLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,bLe=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{addDepartment:l,getUsers:c,updateDepartment:d,getDepartmentById:h}=Nt(),[m,g]=x.useState(()=>{const z=localStorage.getItem("sidebarOpen");return z?JSON.parse(z):!1}),[y,w]=x.useState(null),[j,v]=x.useState(null),[N,T]=x.useState(!1),[S,O]=x.useState(!1),_=jt(),[A,E]=x.useState({name:"",head_id:0}),P=()=>{g(z=>!z)};x.useEffect(()=>{i&&E({name:i.name||"",head_id:i.head_id||0})},[i]);const $=z=>{const{name:Y,value:q}=z.target;E(H=>({...H,[Y]:Y==="sla"?Number(q):q}))},I=x.useCallback(async()=>{try{if(t){const[z,Y]=await Promise.all([h(t),c()]);o(z),s(Y)}}catch(z){w(z.message||"Failed to load form data")}},[t,h,c]);x.useEffect(()=>{t&&I()},[t,I]);const L=async z=>{z.preventDefault(),O(!0),w(null);try{const Y={name:A.name,head_id:A.head_id};await d(t,Y),v("Service Catalogue created successfully!"),T(!0)}catch(Y){w(Y.message||"Failed to create Service Catalogue")}finally{O(!1)}},R=()=>{T(!1),_("/worklocation/department")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Department",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Ff,{}),isMobile:e,toggleSidebar:P}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Department and Head"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Department and Head information"})]}),a.jsxs(C.button,{onClick:()=>_("/worklocation/department"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Catalogue"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>w(null)})})]}),a.jsxs("form",{onSubmit:L,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Service Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:A.name,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"head_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Head Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"head_id",id:"head_id",value:A.head_id,onChange:$,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"",children:"Select Head Department"}),n.map(z=>a.jsx("option",{value:z.id,children:z.name||z.name},z.id))]})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>_("/worklocations"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:S,children:S?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(yLe,{isOpen:N,onClose:R,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:j}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:R,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Service Catalogue"})]})})]})},vLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),kz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},wLe=()=>{const[t,e]=x.useState([]),{getStopTimes:r,deleteStopTimes:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"stoptime",name:"Stop Time"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load stop times"),console.error("Error loading stop times:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="stop time"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete stop time:",F),l("Failed to delete stop time. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Stop Times",mainTitleHighlight:"Page",description:"Manage stop times and their configurations within the system.",icon:a.jsx(It,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Stop Times ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage stop times by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/stoptimes/addstoptime"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Stop Time"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(kz,{title:"Total Stop Times",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(It,{className:"w-6 h-6"})}),a.jsx(kz,{title:"Active Times",value:t.filter(D=>D.description&&D.description.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.description&&D.description.length>0).length/t.length*100)}%`,icon:a.jsx(It,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by stop time or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search stop times"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading stop time data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No stop times found matching your search.":"No stop times available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Stop Time"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/stoptimes/editstoptime/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(vLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this stop time? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},jLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,SLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addStopTimes:o,getStopTimes:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Stop Time created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Stop Time")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Stop Times information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(jLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},NLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,kLe=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getStopTimes:l,updateStopTimes:c,getStopTimesById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",description:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Stop Time update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Stop Time")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/stoptimes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Stop Times",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Stop Times"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Stop Timesinformation"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/stoptimes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Stop Times Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Stop Times Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Stop Times Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/stoptimes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(NLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Stop Times Management"})]})})]})},CLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Cz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},TLe=()=>{const[t,e]=x.useState([]),{getActivityTypes:r,deleteActivityTypes:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"activitytype",name:"Activity Type"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load activity types"),console.error("Error loading activity types:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var oe;const Z=(oe=W.name)==null?void 0:oe.toLowerCase().includes(te);return Z})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete activity type:",F),l("Failed to delete activity type. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Activity Types",mainTitleHighlight:"Page",description:"Manage activity types and their configurations within the system.",icon:a.jsx(Wy,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity Types ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activity types by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/activitytypes/addactivitytype"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Activity Type"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Cz,{title:"Total Activity Types",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Wy,{className:"w-6 h-6"})}),a.jsx(Cz,{title:"Active Types",value:t.filter(D=>D.name&&D.name.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.name&&D.name.length>0).length/t.length*100)}%`,icon:a.jsx(Wy,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by activity type...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search activity types"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity type data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activity types found matching your search.":"No activity types available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity Type"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activitytypes/editactivitytype/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(CLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity type? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},_Le=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Tz=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addActivityTypes:o,getActivityTypes:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name};await o(L),y("Activity Type created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Activity Type")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Xp,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity Type information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Activity Types Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Types Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(_Le,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},MLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,ALe=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getActivityTypes:l,updateActivityTypes:c,getActivityTypesById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name};await c(t,z),j("Activity Type update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Activity Type")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/activitytypes")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Activity Type",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Xp,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity Type"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity Type information"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/activitytypes"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Activity Type Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Type Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Name Activity Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/activitytypes"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Service"]})})]})]})]})]})]}),a.jsx(MLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Types Management"})]})})]})},Py=({title:t,currentCount:e,lastMonthCount:r,icon:n,usePercentage:s=!0})=>{const i=s?OLe(e,r):ELe(e,r),o=e>=r,l=s?`${i} from last month`:`${i} from last month`;return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsx("p",{className:`mt-3 text-xs font-semibold ${o?"text-green-600":"text-red-600"}`,children:l})]})},OLe=(t,e)=>{if(e===0)return t>0?"+100%":"0%";const r=(t-e)/e*100;return`${r>=0?"+":""}${Math.round(r)}%`},ELe=(t,e)=>{const r=t-e;return`${r>0?"+":r<0?"":"+"}${r}`},DLe=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(null),[O,_]=x.useState(1),[A]=x.useState(5),[E,P]=x.useState(window.innerWidth<768),[$,I]=x.useState(!1),[L,R]=x.useState(!1),[z,Y]=x.useState([]),[q,H]=x.useState([]),[D,F]=x.useState(!0),[K,te]=x.useState(null),[W,Z]=x.useState(null),[oe,le]=x.useState([]),[ce,pe]=x.useState(!1),[Ie,Ee]=x.useState(!1),[ge,Oe]=x.useState(null),[ze,re]=x.useState(null),{user:se,getWorkOrdersIT:ee,deleteWorkOrder:we,hasPermission:Ge,fetchWithAuth:Ye,getVendor:xe}=Nt(),ct=jt(),mt=ta(),tt=x.useRef(null),wt=x.useRef(null);mt.pathname,mt.pathname;const Ct=mt.pathname==="/workorders/it";mt.pathname;const ft=mt.pathname==="/workorders/it/assignment",Rt=mt.pathname==="/workorders/it/receiver",Ze=mt.pathname==="/workorders/it/reports",he=mt.pathname==="/workorders/it/knowledgebase";x.useEffect(()=>{const ie=()=>{P(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",ie),()=>window.removeEventListener("resize",ie)},[]),x.useEffect(()=>{const ie=Se=>{tt.current&&!tt.current.contains(Se.target)&&I(!1),wt.current&&!wt.current.contains(Se.target)&&R(!1)};return document.addEventListener("mousedown",ie),()=>{document.removeEventListener("mousedown",ie)}},[]),x.useEffect(()=>{let ie=!0;return(async()=>{try{F(!0),te(null);const Ve=await ee();if(!ie)return;const rt=Ve.filter($e=>$e.requester_id===Number(se==null?void 0:se.id));Y(rt);const He=new Date;He.setMonth(He.getMonth()-1);const Ce=rt.filter($e=>new Date($e.date)<He);le(Ce)}catch(Ve){if(!ie)return;te("Failed to load work orders. Please try again."),console.error("Error loading work orders:",Ve)}finally{ie&&F(!1)}})(),()=>{ie=!1}},[ee,se==null?void 0:se.id]),x.useEffect(()=>{_(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]);const We=ie=>{switch(ie){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-gray-500 text-white";case"Closed":return"bg-red-500 text-white";default:return"bg-gray-500 text-white"}},je=x.useCallback(ie=>{const Se=z.find(Ve=>Ve.id===ie);Se&&(y(Se),m(!0))},[z]);x.useCallback(ie=>{S(ie),N(!0)},[]);const ht=x.useCallback(async ie=>{try{F(!0),te(null),await we(ie);const Ve=(await ee()).filter(rt=>rt.requester_id===Number(se==null?void 0:se.id));Y(Ve),N(!1),S(null),Z("Work order deleted successfully."),setTimeout(()=>Z(null),2500)}catch(Se){te("Failed to delete work order."),console.error("Error deleting work order:",Se)}finally{F(!1)}},[we,ee,se==null?void 0:se.id]),gt=x.useCallback(ie=>{re(ie),Ee(!0)},[]),St=x.useCallback(ie=>{Oe(ie),pe(!0)},[]),ve=x.useCallback(async ie=>{try{F(!0),te(null),await Ye(`/ayam/${ie}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Cancel"})});const Ve=(await ee()).filter(Ce=>Ce.requester_id===Number(se==null?void 0:se.id));Y(Ve);const rt=new Date;rt.setMonth(rt.getMonth()-1);const He=Ve.filter(Ce=>new Date(Ce.date)<rt);le(He),m(!1),y(null),Ee(!1),re(null),Z("Work order cancelled successfully."),setTimeout(()=>Z(null),2500)}catch(Se){te("Failed to cancel work order."),console.error("Error cancelling work order:",Se)}finally{F(!1)}},[Ye,ee,se==null?void 0:se.id]),nt=x.useCallback(async ie=>{try{F(!0),te(null),await Ye(`/ayam/${ie}`,{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({handling_status:"Closed"})});const Ve=(await ee()).filter(Ce=>Ce.requester_id===Number(se==null?void 0:se.id));Y(Ve);const rt=new Date;rt.setMonth(rt.getMonth()-1);const He=Ve.filter(Ce=>new Date(Ce.date)<rt);le(He),m(!1),y(null),pe(!1),Oe(null),Z("Work order completed successfully."),setTimeout(()=>Z(null),2500)}catch(Se){te("Failed to complete work order."),console.error("Error completing work order:",Se)}finally{F(!1)}},[Ye,ee,se==null?void 0:se.id]),Xe=ie=>ie.filter(Se=>["Assigned","In Progress","Escalated","Vendor Handled","Resolved"].includes(Se.handling_status)),ae=ie=>ie.filter(Se=>["Closed","Cancel"].includes(Se.handling_status)),ne=ie=>ie.filter(Se=>Se.handling_status==="New"),Ae=()=>{n(ie=>!ie)},et=ie=>{var Se;return ie.vendor?`${ie.vendor.name}`:((Se=ie.assigned_to)==null?void 0:Se.name)||"Unassigned"},xt=ie=>ie.vendor?"vendor":ie.assigned_to?"user":"unassigned",ye=z.filter(ie=>{var rt,He,Ce,$e;const Se=((He=(rt=ie.requester)==null?void 0:rt.name)==null?void 0:He.toLowerCase().includes(s.toLowerCase()))||((Ce=ie.work_order_no)==null?void 0:Ce.toLowerCase().includes(s.toLowerCase()))||(($e=ie.complaint)==null?void 0:$e.toLowerCase().includes(s.toLowerCase()))||String(ie.id).includes(s),Ve=o==="all"||ie.handling_status===o;return Se&&Ve}).sort((ie,Se)=>new Date(Se.created_at).getTime()-new Date(ie.created_at).getTime()),B=O*A,ue=B-A,be=ye.slice(ue,B),ke=Math.ceil(ye.length/A),Le=ie=>_(ie),J=({order:ie,onClose:Se})=>{var Wt,ur,Cr,ot,nr;const Ve=kt=>kt==null?"-":typeof kt=="object"&&kt!==null?kt.name||kt.title||kt.id||"-":typeof kt=="string"?kt.trim()!==""?kt.trim():"-":typeof kt=="number"?kt.toString():String(kt),rt=kt=>kt?new Date(kt).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",He=({status:kt})=>{const dr={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${dr[kt]||dr.New}`,children:kt})},Ce=({title:kt,children:dr,icon:Me})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[Me&&a.jsx("div",{className:"mr-3 text-blue-600",children:Me}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:kt})]})}),a.jsx("div",{className:"p-6",children:dr})]}),$e=({label:kt,value:dr,icon:Me,fullWidth:Te=!1,priority:Be="medium"})=>{const fe={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Te?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${fe[Be]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Me&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Me}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:kt}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:dr})]})]})})})},it=({label:kt,htmlContent:dr,icon:Me,fullWidth:Te=!1})=>{if(!dr)return a.jsx($e,{label:kt,value:"-",icon:Me,fullWidth:Te,priority:"low"});const Be=Ol.sanitize(dr,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${Te?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[Me&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:Me}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:kt}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:Be}})]})]})})})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",ie.work_order_no||ie.id]}),a.jsx(He,{status:ie.handling_status})]}),a.jsxs("p",{className:"text-gray-600 flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Created: ",rt(ie.date)]})]}),a.jsx("div",{className:"flex items-center gap-2",children:a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Se,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-lg text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})})]})}),a.jsx(Ce,{title:"General Information",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx($e,{label:"Work Order No",value:Ve(ie.work_order_no),icon:a.jsx(or,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"Reception Method",value:Ve(ie.reception_method),icon:a.jsx(qa,{className:"w-4 h-4"})}),a.jsx($e,{label:"Requester",value:Ve((Wt=ie.requester)==null?void 0:Wt.name),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"Department",value:Ve((ur=ie.department)==null?void 0:ur.name),icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx($e,{label:"Known By",value:Ve((Cr=ie.known_by)==null?void 0:Cr.name),icon:a.jsx(rs,{className:"w-4 h-4"})})]})}),a.jsx(Ce,{title:"Service Details",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx($e,{label:"Service Type",value:Ve(ie.service_type.group_name),icon:a.jsx(Nn,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"Service",value:Ve(ie.service.service_name),icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"No Asset",value:Ve(ie.asset_no),icon:a.jsx(or,{className:"w-4 h-4"})})]})}),a.jsx(Ce,{title:"Device & Complaint",icon:a.jsx(Xt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx($e,{label:"Device Information",value:Ve(ie.device_info),icon:a.jsx(Nn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(it,{label:"Complaint Details",htmlContent:ie.complaint||"",icon:a.jsx(Xt,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(Ce,{title:"Handling Information",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx($e,{label:"Ticket Status",value:Ve(ie.handling_status),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"Handling Date",value:rt(ie.handling_date||"-"),icon:a.jsx(Vn,{className:"w-4 h-4"})})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 md:col-span-2",children:[a.jsx($e,{label:"Assigned To",value:Ve((ot=ie.assigned_to)==null?void 0:ot.name),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx($e,{label:"Received By",value:Ve((nr=ie.received_by)==null?void 0:nr.name),icon:a.jsx(Lt,{className:"w-4 h-4"})})]}),a.jsx(it,{label:"Action Taken",htmlContent:ie.action_taken||"",icon:a.jsx(cn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(it,{label:"Remarks",htmlContent:ie.remarks||"",icon:a.jsx(or,{className:"w-4 h-4"}),fullWidth:!0})]})}),ie.vendor&&a.jsx(Ce,{title:"Vendor Details",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx($e,{label:"Vendor Name",value:Ve(ie.vendor.name),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx($e,{label:"Contact Person",value:Ve(ie.vendor.contact_person),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx($e,{label:"Email",value:Ve(ie.vendor.email),icon:a.jsx(ag,{className:"w-4 h-4"})}),a.jsx($e,{label:"Phone",value:Ve(ie.vendor.telp),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx($e,{label:"Mobile",value:Ve(ie.vendor.HP),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx($e,{label:"Address",value:Ve(ie.vendor.address),icon:a.jsx(vo,{className:"w-4 h-4"}),fullWidth:!0})]})}),ie.attachment&&a.jsx(Ce,{title:"Attachment",icon:a.jsx(xi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(xi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Document Attachment"}),a.jsxs("a",{href:ie.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(nO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})})]})};return D?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):K?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Xt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:K}),a.jsx("button",{onClick:()=>{(async()=>{try{F(!0),te(null);const Ve=(await ee()).filter(Ce=>Ce.requester_id===Number(se==null?void 0:se.id));Y(Ve);const rt=new Date;rt.setMonth(rt.getMonth()-1);const He=Ve.filter(Ce=>new Date(Ce.date)<rt);le(He)}catch{te("Failed to load work orders. Please try again.")}finally{F(!1)}})()},className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"IT Work Orders - Request",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:E,toggleSidebar:Ae}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ct("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ct?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ct("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Rt?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ct("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ft?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ct("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Ze?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>ct("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${he?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Request"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Submit and track your IT-related maintenance and service requests"})]}),a.jsxs("div",{className:"flex flex-wrap gap-3",children:[a.jsxs(C.button,{onClick:()=>ct("/workorders/it/addworkorder"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(qn,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Create New Work Order"})]}),a.jsxs(C.button,{onClick:()=>d(!c),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Va,{className:"text-lg"}),a.jsx("span",{className:"font-semibold",children:"Filters"}),c?a.jsx(yb,{}):a.jsx(yn,{})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Py,{title:"Total IT Requests",currentCount:ye.length,lastMonthCount:oe.length,icon:a.jsx(or,{})}),a.jsx(Py,{title:"IT New WO",currentCount:ne(ye).length,lastMonthCount:ne(oe).length,icon:a.jsx(It,{}),usePercentage:!1}),a.jsx(Py,{title:"IT Progress",currentCount:Xe(ye).length,lastMonthCount:Xe(oe).length,icon:a.jsx(cn,{}),usePercentage:!1}),a.jsx(Py,{title:"IT Closed",currentCount:ae(ye).length,lastMonthCount:ae(oe).length,icon:a.jsx(Lt,{}),usePercentage:!1})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search IT requests by device, ID, or assignee...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:ie=>i(ie.target.value)})]}),a.jsx(_t,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:ie=>l(ie.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Device Information"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No Asset"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Service Type"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:be.length>0?be.map(ie=>{const Se=et(ie),Ve=xt(ie);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>je(ie.id),title:"Click to view details",children:ie.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(ie.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.device_info})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.asset_no})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:ie.service_type.group_name||"N/A"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${We(ie.handling_status)} shadow-sm`,children:ie.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Ve==="vendor"?"text-purple-600":Ve==="user"?"text-blue-600":"text-gray-500"}`,children:Se}),Ve==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>je(ie.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(rs,{className:"text-lg"})}),ie.handling_status==="New"&&a.jsxs(a.Fragment,{children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ct(`/workorders/it/editworkorder/${ie.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Work Order",children:a.jsx(Dn,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>gt(ie.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 flex items-center space-x-1",title:"Cancel Work Order",children:a.jsx(at,{className:"text-lg"})})]}),ie.handling_status==="Resolved"&&a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:rt=>{St(ie.id)},className:"text-green-600 hover:text-green-800 transition-colors duration-200 flex items-center space-x-1",title:"Mark as Closed",children:a.jsx(Lt,{className:"text-lg"})})]})]},ie.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT work order requests found matching your criteria."})})})]})})}),ye.length>A&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:ue+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(B,ye.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:ye.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(O-1),disabled:O===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:ke},(ie,Se)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(Se+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${O===Se+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:Se+1},Se+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Le(O+1),disabled:O===ke,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(J,{order:g,onClose:()=>{m(!1),y(null)}})})]})})}),a.jsx(_t,{children:v&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this record? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>N(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>T!==null&&ht(T),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})})}),W&&a.jsx(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-green-600 text-white px-4 py-2 rounded-lg shadow-lg",children:W}),a.jsx(_t,{children:ce&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Lt,{className:"text-green-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to mark this work order as completed? This action will close the ticket."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>pe(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge!==null&&nt(ge),className:"px-5 py-2.5 bg-green-600 text-white rounded-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Complete"})]})]})})})}),a.jsx(_t,{children:Ie&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:a.jsx("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md mx-auto p-6 border border-blue-100",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-orange-500 text-5xl mx-auto"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to cancel this work order? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>Ee(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"No, Keep It"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ze!==null&&ve(ze),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Yes, Cancel"})]})]})})})}),K&&a.jsxs(C.div,{initial:{opacity:0,y:50},animate:{opacity:1,y:0},exit:{opacity:0,y:50},className:"fixed bottom-6 right-6 bg-red-600 text-white px-4 py-2 rounded-lg shadow-lg",children:[K,a.jsx("button",{onClick:()=>te(null),className:"ml-2 underline",children:"Dismiss"})]})]})},PLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,RLe=()=>{var St,ve,nt,Xe,ae;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o}=Nt(),l=jt(),{id:c}=ya(),[d,h]=x.useState([]),[m,g]=x.useState([]),[y,w]=x.useState([]),[j,v]=x.useState([]),[N,T]=x.useState(window.innerWidth<768),[S,O]=x.useState(()=>{const ne=localStorage.getItem("sidebarOpen");return ne?JSON.parse(ne):!1}),[_,A]=x.useState(!1),[E,P]=x.useState(!1),[$,I]=x.useState(!1),[L,R]=x.useState(!1),[z,Y]=x.useState(!0),[q,H]=x.useState(null),[D,F]=x.useState(null),[K,te]=x.useState(!1),[W,Z]=x.useState(null),oe=x.useRef(null),le=x.useRef(null),[ce,pe]=x.useState([]),[Ie,Ee]=x.useState([]),[ge,Oe]=x.useState([]),[ze,re]=x.useState(!1),se={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((St=e==null?void 0:e.department)==null?void 0:St.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null},[ee,we]=x.useState(se),Ge=ee.reception_method==="Electronic Work Order System";x.useEffect(()=>{(async()=>{if(c)try{Y(!0);const Ae=await o(parseInt(c));console.log("Work Order Data:",Ae),we({id:Ae.id,date:Ae.date.split("T")[0],reception_method:Ae.reception_method,requester_id:Ae.requester_id,known_by_id:Ae.known_by_id,department_id:Ae.department_id,service_type_id:String(Ae.service_group_id||""),service_id:String(Ae.service_catalogue_id||""),asset_no:Ae.asset_no,device_info:Ae.device_info,complaint:Ae.complaint,attachment:Ae.attachment,received_by_id:Ae.received_by_id,handling_date:Ae.handling_date?Ae.handling_date.split("T")[0]:null,action_taken:Ae.action_taken,handling_status:Ae.handling_status,remarks:Ae.remarks})}catch(Ae){console.error("Failed to fetch work order data:",Ae),H(Ae.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{Y(!1)}})()},[c,o]),x.useEffect(()=>{e&&(async()=>{try{const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));Ee(et),Oe(et);const xt=await s();g(xt);const ye=await r();if(h(ye),e&&e.id){const ue=await n(parseInt(e.id));w(ue),console.log("Services loaded:",ue)}}catch(Ae){console.error("Failed to fetch master data:",Ae)}})()},[e,r,n,s,i]),x.useEffect(()=>{var ne;if(ee.reception_method==="Electronic Work Order System"&&e){const Ae=((ne=e.department)==null?void 0:ne.head_id)||null;we(et=>({...et,requester_id:parseInt(e.id),department_id:e.department_id||0,known_by_id:Ae}))}},[ee.reception_method,e]),x.useEffect(()=>{const ne=()=>{T(window.innerWidth<768),window.innerWidth<768&&O(!1)};return window.addEventListener("resize",ne),()=>window.removeEventListener("resize",ne)},[]),x.useEffect(()=>{const ne=Ae=>{oe.current&&!oe.current.contains(Ae.target)&&P(!1),le.current&&!le.current.contains(Ae.target)&&I(!1)};return document.addEventListener("mousedown",ne),()=>{document.removeEventListener("mousedown",ne)}},[]),x.useEffect(()=>{if(ee.service_type_id&&y.length>0){const ne=y.filter(Ae=>String(Ae.service_type)===ee.service_type_id);pe(ne)}else pe([])},[ee.service_type_id,y]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",_),localStorage.setItem("sidebarOpen",JSON.stringify(S))},[S,_]);const Ye=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!S)),O(ne=>!ne)},xe=x.useCallback((ne,Ae)=>{let et,xt;if(ne&&"target"in ne)et=ne.target.name,xt=ne.target.value;else if(ne&&typeof ne=="object"&&"value"in ne&&Ae)et=Ae,xt=ne.value;else if(ne===null&&Ae)et=Ae,xt=null;else return;we(ye=>({...ye,[et]:xt}))},[]),ct=ne=>{const Ae=(ne==null?void 0:ne.value)||"";we(et=>{var ye,B;const xt={...et,reception_method:Ae};return Ae==="Electronic Work Order System"&&e?{...xt,requester_id:parseInt(e.id),department_id:((ye=e.department)==null?void 0:ye.id)||0,known_by_id:((B=e.department)==null?void 0:B.head_id)||null}:xt})},mt=ne=>{we(Ae=>({...Ae,asset_no:ne?ne.value:""}))},tt=x.useCallback(ne=>{ne.target.files&&ne.target.files.length>0?(Z(ne.target.files[0]),we(Ae=>({...Ae,attachment:ne.target.files[0].name}))):(Z(null),we(Ae=>({...Ae,attachment:null})))},[]),wt=x.useCallback(()=>{Z(null),we(ne=>({...ne,attachment:null}))},[]),Ct=async ne=>{ne.preventDefault(),R(!0),H(null);const Ae={id:ee.id,date:ee.date,reception_method:ee.reception_method,requester_id:ee.requester_id,known_by_id:ee.known_by_id,department_id:ee.department_id,service_group_id:Number(ee.service_type_id),service_catalogue_id:Number(ee.service_id),asset_no:ee.asset_no,device_info:ee.device_info,complaint:ee.complaint,attachment:ee.attachment};try{await t(Ae),F({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${ee.id}`}}),te(!0)}catch(et){H(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{R(!1)}},ft=ne=>{we(Ae=>({...Ae,service_type_id:ne?ne.value:"",service_id:""}))},Rt=ne=>{we(Ae=>({...Ae,service_id:ne?ne.value:""}))},Ze=x.useCallback(()=>{te(!1),l("/workorders/it")},[l]),he={control:(ne,Ae)=>({...ne,minHeight:"42px",borderColor:Ae.isFocused?"#3B82F6":"#D1D5DB",boxShadow:Ae.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ne=>({...ne,padding:"0"}),singleValue:ne=>({...ne,color:"#374151"}),placeholder:ne=>({...ne,color:"#6B7280"}),dropdownIndicator:ne=>({...ne,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ne=>({...ne,display:"none"}),menu:ne=>({...ne,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ne,Ae)=>({...ne,backgroundColor:Ae.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},We=x.useCallback(ne=>{if(!ne)return;const Ae=parseInt(ne.value),et=d.find(xt=>parseInt(xt.id)===Ae);if(et){const xt=m.find(ye=>ye.id===et.department_id);we(ye=>({...ye,requester_id:Ae,department_id:et.department_id||0,known_by_id:(xt==null?void 0:xt.head_id)||null}))}},[d,m]),je=()=>{if(Ge){const Ae=m.find(et=>et.id===(e==null?void 0:e.department_id));return(Ae==null?void 0:Ae.name)||"No department assigned"}const ne=m.find(Ae=>Ae.id===ee.department_id);return(ne==null?void 0:ne.name)||"No department assigned"},ht=()=>{if(Ge){const Ae=m.find(et=>et.id===(e==null?void 0:e.department_id));if(Ae&&Ae.head_id){const et=d.find(xt=>parseInt(xt.id)===Ae.head_id);return(et==null?void 0:et.name)||"No department head assigned"}return"No department head assigned"}const ne=m.find(Ae=>Ae.id===ee.department_id);if(ne&&ne.head_id){const Ae=d.find(et=>parseInt(et.id)===ne.head_id);return(Ae==null?void 0:Ae.name)||"No department head assigned"}return"No department head assigned"},gt=()=>{if(!ee.attachment)return null;try{const Ae=new URL(ee.attachment).pathname;return Ae.substring(Ae.lastIndexOf("/")+1)}catch{return ee.attachment}};return z?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(cr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Work Order",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:N,toggleSidebar:Ye}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui detail work order yang sudah ada"})]}),a.jsxs(C.button,{onClick:()=>l("/workorders/it"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ml,{className:"text-lg"})," Back to Work Orders"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[q&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:q}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>H(null)})})]}),a.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"date",name:"date",value:ee.date,onChange:xe,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"reception_method",className:"block text-sm font-medium text-gray-700 mb-1",children:["Reception Method ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"reception_method",name:"reception_method",options:[{value:"Electronic Work Order System",label:"Electronic Work Order System"},{value:"Direct Information",label:"Direct Information"},{value:"Phone",label:"Phone"},{value:"Whatsapp",label:"Whatsapp"},{value:"Email",label:"Email"}],value:{value:ee.reception_method,label:ee.reception_method},onChange:ct,placeholder:"Select Reception Method",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"requester_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Requester ",a.jsx("span",{className:"text-red-500",children:"*"})]}),Ge?a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})}):a.jsx(Tr,{id:"requester_id",name:"requester_id",options:d.map(ne=>({value:String(ne.id),label:ne.name})),value:d.find(ne=>parseInt(ne.id)===ee.requester_id)?{value:String(ee.requester_id),label:((ve=d.find(ne=>parseInt(ne.id)===ee.requester_id))==null?void 0:ve.name)||""}:null,onChange:We,placeholder:"Select Requester",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"department_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Department ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:je()})})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"known_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:ht()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_type_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service Type ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"service_type_id",name:"service_type_id",options:ge.map(ne=>({value:String(ne.id),label:ne.name})),value:ee.service_type_id?{value:ee.service_type_id,label:((nt=ge.find(ne=>String(ne.id)===ee.service_type_id))==null?void 0:nt.name)||""}:null,onChange:ft,placeholder:"Select Service Type",styles:he,required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"service_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Service ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"service_id",name:"service_id",options:ce.map(ne=>({value:String(ne.id),label:ne.service_name})),value:ee.service_id?{value:ee.service_id,label:((Xe=ce.find(ne=>String(ne.id)===ee.service_id))==null?void 0:Xe.service_name)||""}:null,onChange:Rt,placeholder:"Select Service",styles:he}),ce.length===0&&ee.service_type_id&&a.jsx("p",{className:"text-sm text-yellow-500 mt-1",children:"No services available for selected type"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"asset_no",className:"block text-sm font-medium text-gray-700 mb-1",children:["No. Asset ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(eK,{name:"asset_no",id:"asset_no",options:j,value:ee.asset_no?{value:ee.asset_no,label:ee.asset_no}:null,onChange:mt,onCreateOption:ne=>{const Ae={value:ne,label:ne};v(et=>[...et,Ae]),mt(Ae)},placeholder:"Type or select Asset No.",styles:he,required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"device_info",className:"block text-sm font-medium text-gray-700 mb-1",children:["Device Information ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{id:"device_info",name:"device_info",value:ee.device_info,onChange:xe,required:!0,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Provide details about the device (e.g., model, serial number)."})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"complaint",className:"block text-sm font-medium text-gray-700 mb-1",children:["Complaint ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:ee.complaint,onChange:ne=>{we(Ae=>({...Ae,complaint:ne}))}})]})]})]}),a.jsxs("div",{className:"mt-6 pt-6 border-t border-gray-100",children:[a.jsx("label",{htmlFor:"attachment",className:"block text-sm font-medium text-gray-700 mb-1",children:"Attachment (Optional)"}),a.jsx("div",{className:"mt-1 flex justify-center px-6 pt-5 pb-6 border-2 border-gray-200 border-dashed rounded-lg cursor-pointer hover:border-blue-400 transition-all duration-200",children:a.jsxs("div",{className:"space-y-1 text-center",children:[a.jsx(xi,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsxs("div",{className:"flex text-sm text-gray-600",children:[a.jsxs("label",{htmlFor:"file-upload",className:"relative cursor-pointer rounded-md bg-white font-medium text-blue-600 hover:text-blue-500 focus-within:outline-none focus-within:ring-2 focus-within:ring-blue-500 focus-within:ring-offset-2",children:[a.jsx("span",{children:"Upload a file"}),a.jsx("input",{id:"file-upload",name:"file-upload",type:"file",className:"sr-only",onChange:tt})]}),a.jsx("p",{className:"pl-1",children:"or drag and drop"})]}),a.jsx("p",{className:"text-xs text-gray-500",children:"PNG, JPG, GIF, PDF up to 10MB"})]})}),W&&a.jsx("ul",{className:"mt-3 border border-gray-200 rounded-md divide-y divide-gray-200",children:a.jsxs("li",{className:"flex items-center justify-between py-2 pl-3 pr-4 text-sm",children:[a.jsxs("div",{className:"flex w-0 flex-1 items-center",children:[a.jsx(xi,{className:"h-5 w-5 flex-shrink-0 text-gray-400","aria-hidden":"true"}),a.jsx("span",{className:"ml-2 w-0 flex-1 truncate",children:W.name})]}),a.jsx("div",{className:"ml-4 flex-shrink-0",children:a.jsx(C.button,{type:"button",onClick:wt,whileHover:{scale:1.1},whileTap:{scale:.9},className:"font-medium text-red-600 hover:text-red-900 transition-colors duration-200",children:"Remove"})})]},W.name)}),ee.attachment&&!W&&a.jsx("div",{className:"mt-3",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["Current attachment: ",gt()]})})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>l("/workorders/it"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(jr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:L,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:L?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(PLe,{isOpen:K,onClose:Ze,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:D==null?void 0:D.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(ae=D==null?void 0:D.work_order)==null?void 0:ae.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:Ze,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},ILe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,LLe=()=>{var ve,nt,Xe;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=Nt(),c=jt(),{id:d}=ya(),[h,m]=x.useState([]),[g,y]=x.useState([]),[w,j]=x.useState([]),[v,N]=x.useState(window.innerWidth<768),[T,S]=x.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[O,_]=x.useState(!1),[A,E]=x.useState(!1),[P,$]=x.useState(!1),[I,L]=x.useState(!1),[R,z]=x.useState(!0),[Y,q]=x.useState(null),[H,D]=x.useState(null),[F,K]=x.useState(!1),te=x.useRef(null),W=x.useRef(null),[Z,oe]=x.useState([]),[le,ce]=x.useState([]),[pe,Ie]=x.useState(!1),[Ee,ge]=x.useState([]),[Oe,ze]=x.useState(!1),[re,se]=x.useState(null),[ee,we]=x.useState(!1),Ge=({content:ae,className:ne=""})=>{if(!ae)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,children:a.jsx("span",{children:"-"})});const Ae=Ol.sanitize(ae,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,dangerouslySetInnerHTML:{__html:Ae}})},Ye={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ve=e==null?void 0:e.department)==null?void 0:ve.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[xe,ct]=x.useState(Ye);x.useEffect(()=>{const ae=xe.handling_status==="Escalated",ne=xe.handling_status==="Vendor Handled";Ie(ae),ze(ne),!ae&&xe.assigned_to_id&&ct(Ae=>({...Ae,assigned_to_id:null})),ne||(ct(Ae=>({...Ae,vendor_id:null})),se(null),we(!1))},[xe.handling_status]),x.useEffect(()=>{const ae=async()=>{if(d)try{z(!0);const ne=await o(parseInt(d));if(ct({id:ne.id,date:ne.date.split("T")[0],reception_method:ne.reception_method,requester_id:ne.requester_id,known_by_id:ne.known_by_id,department_id:ne.department_id,service_type_id:String(ne.service_group_id||""),service_id:String(ne.service_catalogue_id||""),asset_no:ne.asset_no,device_info:ne.device_info,complaint:ne.complaint,attachment:ne.attachment,received_by_id:ne.received_by_id,handling_date:ne.handling_date?ne.handling_date.split("T")[0]:null,action_taken:ne.action_taken,handling_status:ne.handling_status,remarks:ne.remarks,vendor_id:ne.vendor_id||null}),ne.vendor_id&&Ee.length>0){const Ae=Ee.find(et=>et.id===ne.vendor_id);Ae&&se(Ae)}}catch(ne){console.error("Failed to fetch work order data:",ne),q(ne.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};Ee.length>0&&ae()},[d,o,Ee]),x.useEffect(()=>{e&&(async()=>{try{const ne=await l();ge(ne);const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));ce(et);const xt=await s();y(xt);const ye=await r();if(m(ye),e&&e.id){const B=await n(parseInt(e.id));j(B)}}catch(ne){console.error("Failed to fetch master data:",ne)}})()},[e,r,n,s,i,l]),x.useEffect(()=>{const ae=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),x.useEffect(()=>{const ae=ne=>{te.current&&!te.current.contains(ne.target)&&E(!1),W.current&&!W.current.contains(ne.target)&&$(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]),x.useEffect(()=>{if(xe.service_type_id&&w.length>0){const ae=w.filter(ne=>String(ne.service_type)===xe.service_type_id);oe(ae)}else oe([])},[xe.service_type_id,w]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",O),localStorage.setItem("sidebarOpen",JSON.stringify(T))},[T,O]);const mt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!T)),S(ae=>!ae)},tt=x.useCallback((ae,ne)=>{let Ae,et;if(ae&&"target"in ae)Ae=ae.target.name,et=ae.target.value;else if(ae&&typeof ae=="object"&&"value"in ae&&ne)Ae=ne,ne==="assigned_to_id"||ne==="requester_id"||ne==="known_by_id"?et=ae.value?parseInt(ae.value):null:et=ae.value;else if(ae===null&&ne)Ae=ne,et=null;else return;ct(xt=>({...xt,[Ae]:et}))},[]),wt=ae=>{se(ae),ct(ne=>({...ne,vendor_id:ae.id})),we(!1)},Ct=async ae=>{if(ae.preventDefault(),L(!0),q(null),xe.handling_status==="Escalated"&&!xe.assigned_to_id){q("Assigned To is required for Escalated status"),L(!1);return}if(xe.handling_status==="Vendor Handled"&&!xe.vendor_id){q("Vendor selection is required for Vendor Handled status"),L(!1);return}if(!xe.handling_status){q("Handling status is required"),L(!1);return}if(!xe.handling_date){q("Handling date is required"),L(!1);return}if(!xe.action_taken||xe.action_taken.length<5){q("Action taken must be at least 5 characters"),L(!1);return}const ne={...xe,id:xe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:xe.handling_date,action_taken:xe.action_taken,handling_status:xe.handling_status,remarks:xe.remarks,assigned_to_id:xe.assigned_to_id?parseInt(xe.assigned_to_id):null,vendor_id:xe.vendor_id};try{await t(ne),D({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${xe.id}`}}),K(!0)}catch(Ae){q(Ae.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",Ae)}finally{L(!1)}},ft=x.useCallback(()=>{K(!1),c("/workorders/it/receiver")},[c]),Rt={control:(ae,ne)=>({...ae,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ne)=>({...ae,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ze=()=>{const ae=h.find(ne=>parseInt(ne.id)===xe.requester_id);return(ae==null?void 0:ae.name)||"Unknown"},he=()=>{const ae=g.find(ne=>ne.id===xe.department_id);return(ae==null?void 0:ae.name)||"No department assigned"},We=()=>{const ae=g.find(ne=>ne.id===xe.department_id);if(ae&&ae.head_id){const ne=h.find(Ae=>parseInt(Ae.id)===ae.head_id);return(ne==null?void 0:ne.name)||"No department head assigned"}return"No department head assigned"},je=()=>{const ae=le.find(ne=>String(ne.id)===xe.service_type_id);return(ae==null?void 0:ae.name)||"Unknown"},ht=()=>{const ae=w.find(ne=>String(ne.id)===xe.service_id);return(ae==null?void 0:ae.service_name)||"Unknown"},gt=()=>{if(!xe.attachment)return null;try{const ne=new URL(xe.attachment).pathname;return ne.substring(ne.lastIndexOf("/")+1)}catch{return xe.attachment}},St=()=>{xe.attachment&&window.open(xe.attachment,"_blank")};return R?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(cr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Receiver",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:v,toggleSidebar:mt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(C.button,{onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ml,{className:"text-lg"})," Back to Receiver"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:Y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>q(null)})})]}),a.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ze()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:he()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:We()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:je()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ht()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ge,{content:xe.complaint,className:"min-h-[100px]"})]})]})]}),xe.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(xi,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:gt()}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:St,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:xe.handling_date||"",onChange:tt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:xe.handling_status?{value:xe.handling_status,label:xe.handling_status}:null,onChange:ae=>tt(ae,"handling_status"),placeholder:"Select Handling Status",styles:Rt,required:!0})]}),pe&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ae=>({value:String(ae.id),label:ae.name})),value:xe.assigned_to_id?{value:String(xe.assigned_to_id),label:((nt=h.find(ae=>parseInt(ae.id)===xe.assigned_to_id))==null?void 0:nt.name)||"Unknown"}:null,onChange:ae=>tt(ae,"assigned_to_id"),placeholder:"Select Assignee",styles:Rt,required:pe})]}),Oe&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),re?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{se(null),ct(ae=>({...ae,vendor_id:null})),we(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(!ee),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ee?"Hide Vendors":"Select Vendor"})]}),ee&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Ee.length>0?Ee.map(ae=>a.jsxs(C.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>wt(ae),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ae.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ae.contact_person," • ",ae.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ae.address})]},ae.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Xt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:xe.action_taken||"",onChange:ae=>{ct(ne=>({...ne,action_taken:ae}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:xe.remarks||"",onChange:ae=>{ct(ne=>({...ne,remarks:ae}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>c("/workorders/it/receiver"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(jr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(ILe,{isOpen:F,onClose:ft,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Xe=H==null?void 0:H.work_order)==null?void 0:Xe.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ft,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},Ry=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},$Le=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState(!1),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(1),[v]=x.useState(5),[N,T]=x.useState(window.innerWidth<768),[S,O]=x.useState(!1),[_,A]=x.useState(!1),[E,P]=x.useState([]),[$,I]=x.useState(!0),[L,R]=x.useState(null),[z,Y]=x.useState(!1),[q,H]=x.useState(null),[D,F]=x.useState(!1),[K,te]=x.useState(""),W=jt(),Z=ta(),oe=x.useRef(null),le=x.useRef(null),{user:ce,getWorkOrdersIT:pe,updateWorkOrderIT:Ie,hasPermission:Ee}=Nt(),ge=Z.pathname==="/workorders/it/assignment",Oe=Z.pathname==="/workorders/it/reports",ze=Z.pathname==="/workorders/it/knowledgebase",re=Z.pathname==="/workorders/it",se=Z.pathname==="/workorders/it/receiver";Z.pathname;const ee=({order:ve,onClose:nt})=>{var ue,be,ke,Le,J,ie,Se,Ve,rt,He;const Xe=Ce=>Ce==null?"-":typeof Ce=="object"&&Ce!==null?Ce.name||Ce.title||Ce.id||"-":typeof Ce=="string"?Ce.trim()!==""?Ce.trim():"-":typeof Ce=="number"?Ce.toString():String(Ce),ae=Ce=>Ce?new Date(Ce).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"-",ne=({status:Ce})=>{const $e={New:"bg-gray-100 text-gray-800 border-gray-300",Assigned:"bg-blue-100 text-blue-800 border-blue-300","In Progress":"bg-cyan-100 text-cyan-800 border-cyan-300",Escalated:"bg-purple-100 text-purple-800 border-purple-300","Vendor Handled":"bg-red-100 text-red-800 border-red-300",Resolved:"bg-orange-100 text-orange-800 border-orange-300",Cancel:"bg-gray-100 text-gray-800 border-gray-300",Closed:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${$e[Ce]||$e.New}`,children:Ce})},Ae=({priority:Ce})=>{const $e={Critical:"bg-purple-100 text-purple-800 border-purple-300",High:"bg-red-100 text-red-800 border-red-300",Medium:"bg-yellow-100 text-yellow-800 border-yellow-300",Low:"bg-green-100 text-green-800 border-green-300"};return a.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-semibold border ${$e[Ce]||$e.Medium}`,children:Ce||"Medium"})},et=({title:Ce,children:$e,icon:it})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[it&&a.jsx("div",{className:"mr-3 text-blue-600",children:it}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:Ce})]})}),a.jsx("div",{className:"p-6",children:$e})]}),xt=({label:Ce,value:$e,icon:it,fullWidth:Wt=!1,priority:ur="medium"})=>{const Cr={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${Wt?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${Cr[ur]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[it&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:it}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:Ce}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:$e})]})]})})})},ye=({label:Ce,htmlContent:$e,icon:it,fullWidth:Wt=!1})=>{if(!$e)return a.jsx(xt,{label:Ce,value:"-",icon:it,fullWidth:Wt,priority:"low"});const ur=Ol.sanitize($e,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${Wt?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[it&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:it}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:Ce}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:ur}})]})]})})})},B=({order:Ce})=>{const it=!["Resolved","Cancel","Closed"].includes(Ce.handling_status)&&Ce.assigned_to_id===Number(ce==null?void 0:ce.id);return a.jsxs("div",{className:"flex flex-wrap gap-3 mt-6 pt-6 border-t border-gray-200",children:[it&&a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>W(`/workorders/it/assignment/editassignment/${Ce.id}`),className:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(Dn,{className:"w-4 h-4 mr-2"}),"Update Progress"]}),a.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:nt,className:"inline-flex items-center px-4 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-gray-500 transition-colors duration-200 font-semibold text-sm",children:[a.jsx(at,{className:"w-4 h-4 mr-2"}),"Close"]})]})};return a.jsxs("div",{className:"space-y-6 max-h-[70vh] overflow-y-auto custom-scrollbar pr-2",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsxs("h2",{className:"text-2xl font-bold text-gray-900",children:["#",ve.work_order_no||ve.id]}),a.jsx(ne,{status:ve.handling_status}),a.jsx(Ae,{priority:(ue=ve.service)==null?void 0:ue.priority})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Created: ",ae(ve.date)]}),a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),ve.handling_date?`Assigned: ${ae(ve.handling_date)}`:"Not yet assigned"]})]})]})})}),a.jsx(et,{title:"My Assignment Details",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(xt,{label:"Assigned To",value:Xe(((be=ve.assigned_to)==null?void 0:be.name)||(ce==null?void 0:ce.name)),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(xt,{label:"Assignment Type",value:ve.vendor?"Vendor":"Internal Technician",icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Current Status",value:Xe(ve.handling_status),icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(xt,{label:"Priority Level",value:Xe(((ke=ve.service)==null?void 0:ke.priority)||"Medium"),icon:a.jsx(Xt,{className:"w-4 h-4"}),priority:"high"})]})}),a.jsx(et,{title:"Service & Technical Information",icon:a.jsx(cn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(xt,{label:"Service Type",value:Xe((Le=ve.service_type)==null?void 0:Le.group_name),icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Service Name",value:Xe((J=ve.service)==null?void 0:J.service_name),icon:a.jsx(or,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Service Owner",value:Xe((Se=(ie=ve.service)==null?void 0:ie.owner)==null?void 0:Se.name),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Asset Number",value:Xe(ve.asset_no),icon:a.jsx(or,{className:"w-4 h-4"})})]})}),a.jsx(et,{title:"Request Information",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(xt,{label:"Requester",value:Xe((Ve=ve.requester)==null?void 0:Ve.name),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Requester Department",value:Xe(ve.department_name||((rt=ve.department)==null?void 0:rt.name)),icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Reception Method",value:Xe(ve.reception_method),icon:a.jsx(qa,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Known By",value:Xe((He=ve.known_by)==null?void 0:He.name),icon:a.jsx(rs,{className:"w-4 h-4"})})]})}),a.jsx(et,{title:"Problem Details",icon:a.jsx(Xt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(xt,{label:"Device Information",value:Xe(ve.device_info),icon:a.jsx(Nn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(ye,{label:"Complaint Description",htmlContent:ve.complaint||"",icon:a.jsx(Xt,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(et,{title:"Progress & Actions",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[a.jsx(ye,{label:"Action Taken",htmlContent:ve.action_taken||"No actions recorded yet",icon:a.jsx(cn,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(ye,{label:"Technical Notes & Remarks",htmlContent:ve.remarks||"No remarks yet",icon:a.jsx(or,{className:"w-4 h-4"}),fullWidth:!0})]})}),ve.vendor&&a.jsx(et,{title:"Vendor Information",icon:a.jsx(_r,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(xt,{label:"Vendor Name",value:Xe(ve.vendor.name),icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(xt,{label:"Contact Person",value:Xe(ve.vendor.contact_person),icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Email",value:Xe(ve.vendor.email),icon:a.jsx(ag,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Phone",value:Xe(ve.vendor.telp),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Mobile",value:Xe(ve.vendor.HP),icon:a.jsx(Yu,{className:"w-4 h-4"})}),a.jsx(xt,{label:"Address",value:Xe(ve.vendor.address),icon:a.jsx(vo,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(et,{title:"Timeline & Status History",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex justify-between items-center p-3 bg-green-50 rounded-lg border border-green-200",children:[a.jsx("span",{className:"text-sm font-medium text-green-800",children:"Request Created"}),a.jsx("span",{className:"text-sm text-green-600",children:ae(ve.date)})]}),ve.handling_date&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-blue-50 rounded-lg border border-blue-200",children:[a.jsx("span",{className:"text-sm font-medium text-blue-800",children:"Assigned to You"}),a.jsx("span",{className:"text-sm text-blue-600",children:ae(ve.handling_date)})]}),ve.action_taken&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-purple-50 rounded-lg border border-purple-200",children:[a.jsx("span",{className:"text-sm font-medium text-purple-800",children:"Work Started"}),a.jsx("span",{className:"text-sm text-purple-600",children:"In Progress"})]}),["Resolved","Closed"].includes(ve.handling_status)&&a.jsxs("div",{className:"flex justify-between items-center p-3 bg-orange-50 rounded-lg border border-orange-200",children:[a.jsx("span",{className:"text-sm font-medium text-orange-800",children:"Work Completed"}),a.jsx("span",{className:"text-sm text-orange-600",children:ve.handling_status})]})]})}),!["Resolved","Closed","Cancel"].includes(ve.handling_status)&&a.jsx(et,{title:"Next Steps",icon:a.jsx(Lt,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"space-y-3",children:[a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-blue-25 rounded-lg border border-blue-200",children:[a.jsx(Lt,{className:"w-5 h-5 text-blue-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Update Progress"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Click 'Update Progress' to record your work and update the status"})]})]}),ve.handling_status==="Assigned"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-yellow-25 rounded-lg border border-yellow-200",children:[a.jsx(It,{className:"w-5 h-5 text-yellow-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Start Working"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'In Progress' when you begin working on this task"})]})]}),ve.handling_status==="In Progress"&&a.jsxs("div",{className:"flex items-start space-x-3 p-3 bg-green-25 rounded-lg border border-green-200",children:[a.jsx(cn,{className:"w-5 h-5 text-green-600 mt-0.5 flex-shrink-0"}),a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Complete Work"}),a.jsx("p",{className:"text-sm text-gray-600",children:"Change status to 'Resolved' when the work is completed"})]})]})]})}),ve.attachment&&a.jsx(et,{title:"Supporting Documents",icon:a.jsx(xi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx(xi,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-medium text-gray-900 mb-1",children:"Related Attachment"}),a.jsxs("a",{href:ve.attachment,target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center text-blue-600 hover:text-blue-800 font-medium text-sm transition-colors duration-200",children:[a.jsx(nO,{className:"w-4 h-4 mr-1"}),"View Attachment"]})]})]})}),a.jsx(B,{order:ve})]})},we=x.useCallback(async()=>{I(!0),R(null);try{const nt=(await pe()).filter(Xe=>Xe.assigned_to_id===Number(ce==null?void 0:ce.id));P(nt)}catch(ve){R(ve.message||"Failed to load work orders.")}finally{I(!1)}},[pe,ce==null?void 0:ce.id]),Ge=x.useCallback(async(ve,nt)=>{Y(!0),H(null),F(!1);try{const Xe=await Ie({...nt,id:ve});return P(ae=>ae.map(ne=>ne.id===ve?Xe:ne)),F(!0),setTimeout(()=>F(!1),3e3),Xe}catch(Xe){throw H(Xe.message||"Failed to update work order."),Xe}finally{Y(!1)}},[Ie]),Ye=()=>{T(window.innerWidth<768),window.innerWidth<768&&n(!1)},xe=ve=>{oe.current&&!oe.current.contains(ve.target)&&O(!1),le.current&&!le.current.contains(ve.target)&&A(!1)};x.useEffect(()=>(window.addEventListener("resize",Ye),document.addEventListener("mousedown",xe),we(),()=>{window.removeEventListener("resize",Ye),document.removeEventListener("mousedown",xe)}),[we]);const ct=ve=>{switch(ve){case"New":return"bg-gray-500 text-white";case"Assigned":return"bg-blue-600 text-white";case"In Progress":return"bg-cyan-500 text-white";case"Escalated":return"bg-purple-500 text-white";case"Vendor Handled":return"bg-red-500 text-white";case"Resolved":return"bg-orange-500 text-white";case"Cancel":return"bg-red-500 text-white";case"Closed":return"bg-gray-900 text-white";default:return"bg-gray-500 text-white"}},mt=ve=>{switch(ve==null?void 0:ve.toLowerCase()){case"high":return"bg-red-500 text-white";case"medium":return"bg-yellow-500 text-white";case"low":return"bg-green-500 text-white";case"critical":return"bg-purple-500 text-white";default:return"bg-gray-500 text-white"}},tt=ve=>{switch(ve){case"Assigned":return 1;case"In Progress":return 2;case"Escalated":return 3;case"Vendor Handled":return 4;case"Resolved":return 5;case"Cancel":return 6;case"Closed":return 7;default:return 8}},wt=ve=>{switch(ve==null?void 0:ve.toLowerCase()){case"critical":return 1;case"high":return 2;case"medium":return 3;case"low":return 4;default:return 5}},Ct=x.useCallback(ve=>{const nt=E.find(Xe=>Xe.id===ve);nt&&(y(nt),m(!0))},[E]);x.useCallback(async ve=>{if(!K.trim()){H("Vendor name is required");return}try{await Ge(ve,{assigned_to_name:K.trim(),handling_status:"Vendor Handled",handling_date:new Date().toISOString()}),te(""),F(!0)}catch(nt){console.error("Failed to assign vendor:",nt)}},[Ge,K]),x.useCallback(async(ve,nt)=>{try{await Ge(ve,{handling_status:nt,handling_date:new Date().toISOString()})}catch(Xe){console.error("Failed to update status:",Xe)}},[Ge]);const ft=ve=>{var nt;return ve.vendor?`${ve.vendor.name}`:((nt=ve.assigned_to)==null?void 0:nt.name)||"Unassigned"},Rt=ve=>ve.vendor?"vendor":ve.assigned_to?"user":"unassigned",Ze=()=>{n(ve=>!ve)},he=E.filter(ve=>{var ae,ne,Ae,et;const nt=((ne=(ae=ve.requester)==null?void 0:ae.name)==null?void 0:ne.toLowerCase().includes(s.toLowerCase()))||((Ae=ve.work_order_no)==null?void 0:Ae.toLowerCase().includes(s.toLowerCase()))||((et=ve.complaint)==null?void 0:et.toLowerCase().includes(s.toLowerCase()))||String(ve.id).includes(s),Xe=o==="all"||ve.handling_status===o;return nt&&Xe}).sort((ve,nt)=>{var et,xt;const Xe=tt(ve.handling_status),ae=tt(nt.handling_status);if(Xe!==ae)return Xe-ae;const ne=wt((et=ve.service)==null?void 0:et.priority),Ae=wt((xt=nt.service)==null?void 0:xt.priority);return ne!==Ae?ne-Ae:new Date(nt.created_at).getTime()-new Date(ve.created_at).getTime()}),We=w*v,je=We-v,ht=he.slice(je,We),gt=Math.ceil(he.length/v),St=ve=>j(ve);return x.useEffect(()=>{j(1),document.documentElement.classList.toggle("dark",t)},[s,o,t]),$?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading work orders..."})]}):L?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Xt,{className:"text-red-600 text-5xl"}),a.jsxs("div",{className:"ml-4",children:[a.jsx("p",{className:"text-lg text-red-800",children:L}),a.jsx("button",{onClick:we,className:"mt-4 px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700",children:"Try Again"})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"IT Work Orders - Assigments",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:N,toggleSidebar:Ze}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${re?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${se?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ge?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>W("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ze?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),q&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:q}),a.jsx("button",{onClick:()=>H(null),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),D&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-4 bg-green-100 border border-green-400 text-green-700 px-4 py-3 rounded relative",children:[a.jsx("span",{className:"block sm:inline",children:"Work order updated successfully!"}),a.jsx("button",{onClick:()=>F(!1),className:"absolute top-0 right-0 p-3",children:a.jsx(at,{size:16})})]}),a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"IT Assignment"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Manage assigned IT work orders as a technician/vendor"})]})}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Ry,{title:"Total Assignments",value:he.length.toString(),change:"+8%",icon:a.jsx(or,{})}),a.jsx(Ry,{title:"In Progress",value:he.filter(ve=>ve.handling_status==="In Progress").length.toString(),change:"-1",icon:a.jsx(cn,{})}),a.jsx(Ry,{title:"Resolved",value:he.filter(ve=>ve.handling_status==="Resolved").length.toString(),change:"+1",icon:a.jsx(Lt,{})}),a.jsx(Ry,{title:"Vendor Handled",value:he.filter(ve=>ve.handling_status==="Vendor Handled").length.toString(),change:"+3",icon:a.jsx(It,{})})]}),a.jsx(C.div,{layout:!0,className:"mb-6 bg-white rounded-2xl shadow-md p-4 md:p-6 border border-blue-50",children:a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search assignments...",className:"w-full pl-12 pr-4 py-3 border border-gray-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base transition-all duration-200",value:s,onChange:ve=>i(ve.target.value)})]}),a.jsx(_t,{children:c&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"flex flex-col sm:flex-row space-y-3 sm:space-y-0 sm:space-x-3 w-full md:w-auto",children:a.jsxs("select",{className:"border border-gray-200 rounded-lg px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 bg-white text-base appearance-none bg-no-repeat bg-right-12 bg-center-y transition-all duration-200",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 24 24' stroke='currentColor'%3E%3Cpath stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M19 9l-7 7-7-7'%3E%3C/svg%3E")`,backgroundSize:"1.2rem"},value:o,onChange:ve=>l(ve.target.value),children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]})})})]})}),a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-50",children:a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"No"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Requester"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Priority"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Ticket Status"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-4 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-100",children:ht.length>0?ht.map(ve=>{var ae,ne;ve.handling_status,["Resolved","Cancel","Closed"].includes(ve.handling_status),ve.handling_status;const nt=ft(ve),Xe=Rt(ve);return a.jsxs(C.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.2},whileHover:{backgroundColor:"rgba(239, 246, 255, 1)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900 cursor-pointer hover:text-blue-600 hover:underline transition-colors duration-200",onClick:()=>Ct(ve.id),title:"Click to view details",children:ve.work_order_no||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:ve.requester.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(ve.date).toLocaleDateString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:ve.handling_date?new Date(ve.handling_date).toLocaleDateString():"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${mt((ae=ve.service)==null?void 0:ae.priority)} shadow-sm`,children:((ne=ve.service)==null?void 0:ne.priority)||"Medium"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${ct(ve.handling_status)} shadow-sm`,children:ve.handling_status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsxs("div",{className:"flex items-center",children:[a.jsx("span",{className:`text-sm font-medium ${Xe==="vendor"?"text-purple-600":Xe==="user"?"text-blue-600":"text-gray-500"}`,children:nt}),Xe==="vendor"&&a.jsx("span",{className:"ml-2 px-1.5 py-0.5 text-xs bg-purple-100 text-purple-800 rounded-full",children:"Vendor"})]})}),a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium flex items-center space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Ct(ve.id),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 flex items-center space-x-1",title:"View Details",children:a.jsx(rs,{className:"text-lg"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>W(`/workorders/it/assignment/editassignment/${ve.id}`),className:"text-gray-600 hover:text-gray-800 transition-colors duration-200 flex items-center space-x-1",title:"Edit Assignment",children:a.jsx(Dn,{className:"text-lg"})})]})]},ve.id)}):a.jsx("tr",{children:a.jsx("td",{colSpan:6,className:"px-6 py-10 text-center text-gray-600 text-lg",children:"No IT assignments found matching your criteria."})})})]})})}),he.length>v&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between",children:[a.jsxs("div",{className:"text-sm text-gray-600 mb-4 sm:mb-0",children:["Showing ",a.jsx("span",{className:"font-semibold",children:je+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(We,he.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:he.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>St(w-1),disabled:w===1,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Previous"}),Array.from({length:gt},(ve,nt)=>a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>St(nt+1),className:`px-4 py-2 rounded-lg transition-colors duration-200 shadow-sm
                          ${w===nt+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-gray-200"}
                        `,children:nt+1},nt+1)),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>St(w+1),disabled:w===gt,className:"px-4 py-2 border border-gray-200 rounded-lg bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm",children:"Next"})]})]})]})]}),g&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 p-4 overflow-y-auto",children:a.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsxs("h3",{className:"text-2xl font-bold text-gray-900",children:["Work Order Details #",g.work_order_no||g.id]}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{m(!1),y(null)},className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{className:"overflow-y-auto max-h-[70vh]",children:a.jsx(ee,{order:g,onClose:()=>{m(!1),y(null)}})})]})})})]})},FLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,HLe=()=>{var ve,nt,Xe;const{updateWorkOrderIT:t,user:e,getUsers:r,getServices:n,getDepartment:s,getServiceGroups:i,getWorkOrderById:o,getVendor:l}=Nt(),c=jt(),{id:d}=ya(),[h,m]=x.useState([]),[g,y]=x.useState([]),[w,j]=x.useState([]),[v,N]=x.useState(window.innerWidth<768),[T,S]=x.useState(()=>{const ae=localStorage.getItem("sidebarOpen");return ae?JSON.parse(ae):!1}),[O,_]=x.useState(!1),[A,E]=x.useState(!1),[P,$]=x.useState(!1),[I,L]=x.useState(!1),[R,z]=x.useState(!0),[Y,q]=x.useState(null),[H,D]=x.useState(null),[F,K]=x.useState(!1),te=x.useRef(null),W=x.useRef(null),[Z,oe]=x.useState([]),[le,ce]=x.useState([]),[pe,Ie]=x.useState(!1),[Ee,ge]=x.useState([]),[Oe,ze]=x.useState(!1),[re,se]=x.useState(null),[ee,we]=x.useState(!1),Ge=({content:ae,className:ne=""})=>{if(!ae)return a.jsx("div",{className:`p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,children:a.jsx("span",{children:"-"})});const Ae=Ol.sanitize(ae,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","table","thead","tbody","tr","th","td"],ALLOWED_ATTR:["style","class","align","type","start","colspan","rowspan"]});return a.jsx("div",{className:`rich-text-content p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700 ${ne}`,dangerouslySetInnerHTML:{__html:Ae}})},Ye={date:new Date().toISOString().split("T")[0],reception_method:"Electronic Work Order System",requester_id:e!=null&&e.id?parseInt(e.id):0,known_by_id:((ve=e==null?void 0:e.department)==null?void 0:ve.head_id)||null,department_id:(e==null?void 0:e.department_id)||0,service_type_id:"",service_id:"",asset_no:"",device_info:"",complaint:"",attachment:null,received_by_id:null,handling_date:null,action_taken:null,handling_status:"New",remarks:null,assigned_to_id:null,vendor_id:null},[xe,ct]=x.useState(Ye);x.useEffect(()=>{const ae=xe.handling_status!=="New",ne=xe.handling_status==="Vendor Handled";Ie(ae),ze(ne),!ne&&xe.vendor_id&&(ct(Ae=>({...Ae,vendor_id:null})),se(null),we(!1))},[xe.handling_status]),x.useEffect(()=>{const ae=async()=>{if(d)try{z(!0);const ne=await o(parseInt(d));if(ct({id:ne.id,date:ne.date.split("T")[0],reception_method:ne.reception_method,requester_id:ne.requester_id,known_by_id:ne.known_by_id,department_id:ne.department_id,service_type_id:String(ne.service_group_id||""),service_id:String(ne.service_catalogue_id||""),asset_no:ne.asset_no,device_info:ne.device_info,complaint:ne.complaint,attachment:ne.attachment,received_by_id:ne.received_by_id,handling_date:ne.handling_date?ne.handling_date.split("T")[0]:null,action_taken:ne.action_taken,handling_status:ne.handling_status,remarks:ne.remarks,assigned_to_id:ne.assigned_to_id,vendor_id:ne.vendor_id||null}),ne.vendor_id&&Ee.length>0){const Ae=Ee.find(et=>et.id===ne.vendor_id);Ae&&se(Ae)}}catch(ne){console.error("Failed to fetch work order data:",ne),q(ne.message||"Gagal memuat data work order. Silakan coba lagi.")}finally{z(!1)}};Ee.length>0&&ae()},[d,o,Ee]),x.useEffect(()=>{e&&(async()=>{try{const ne=await l();ge(ne);const et=(await i(0)).map(B=>({id:Number(B.id),name:B.group_name??"",description:B.group_description??void 0}));ce(et);const xt=await s();y(xt);const ye=await r();if(m(ye),e&&e.id){const B=await n(parseInt(e.id));j(B)}}catch(ne){console.error("Failed to fetch master data:",ne)}})()},[e,r,n,s,i,l]),x.useEffect(()=>{const ae=()=>{N(window.innerWidth<768),window.innerWidth<768&&S(!1)};return window.addEventListener("resize",ae),()=>window.removeEventListener("resize",ae)},[]),x.useEffect(()=>{const ae=ne=>{te.current&&!te.current.contains(ne.target)&&E(!1),W.current&&!W.current.contains(ne.target)&&$(!1)};return document.addEventListener("mousedown",ae),()=>{document.removeEventListener("mousedown",ae)}},[]),x.useEffect(()=>{if(xe.service_type_id&&w.length>0){const ae=w.filter(ne=>String(ne.service_type)===xe.service_type_id);oe(ae)}else oe([])},[xe.service_type_id,w]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",O),localStorage.setItem("sidebarOpen",JSON.stringify(T))},[T,O]);const mt=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!T)),S(ae=>!ae)},tt=x.useCallback((ae,ne)=>{let Ae,et;if(ae&&"target"in ae)Ae=ae.target.name,et=ae.target.value;else if(ae&&typeof ae=="object"&&"value"in ae&&ne)Ae=ne,ne==="assigned_to_id"||ne==="requester_id"||ne==="known_by_id"?et=ae.value?parseInt(ae.value):null:et=ae.value;else if(ae===null&&ne)Ae=ne,et=null;else return;ct(xt=>({...xt,[Ae]:et}))},[]),wt=ae=>{se(ae),ct(ne=>({...ne,vendor_id:ae.id})),we(!1)},Ct=async ae=>{ae.preventDefault(),L(!0),q(null);const ne=["In Progress","Escalated","Vendor Handled","Resolved"];if(xe.handling_status&&ne.includes(xe.handling_status)&&!xe.assigned_to_id){q("Assigned To is required for this status"),L(!1);return}if(xe.handling_status==="Vendor Handled"&&!xe.vendor_id){q("Vendor selection is required for Vendor Handled status"),L(!1);return}if(!xe.handling_status){q("Handling status is required"),L(!1);return}if(!xe.handling_date){q("Handling date is required"),L(!1);return}if(!xe.action_taken||xe.action_taken.length<5){q("Action taken must be at least 5 characters"),L(!1);return}const Ae={...xe,id:xe.id,received_by_id:e!=null&&e.id?parseInt(e.id):null,handling_date:xe.handling_date,action_taken:xe.action_taken,handling_status:xe.handling_status,remarks:xe.remarks,assigned_to_id:xe.assigned_to_id?parseInt(xe.assigned_to_id):null,vendor_id:xe.vendor_id};try{await t(Ae),D({message:"Work Order berhasil diperbarui!",work_order:{work_order_no:`WO-IT-${xe.id}`}}),K(!0)}catch(et){q(et.message||"Gagal memperbarui work order. Silakan coba lagi."),console.error("Submission error:",et)}finally{L(!1)}},ft=x.useCallback(()=>{K(!1),c("/workorders/it/assignment")},[c]),Rt={control:(ae,ne)=>({...ae,minHeight:"42px",borderColor:ne.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ne.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:ae=>({...ae,padding:"0"}),singleValue:ae=>({...ae,color:"#374151"}),placeholder:ae=>({...ae,color:"#6B7280"}),dropdownIndicator:ae=>({...ae,color:"#9CA3AF","&:hover":{color:"#6B7280"}}),indicatorSeparator:ae=>({...ae,display:"none"}),menu:ae=>({...ae,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(ae,ne)=>({...ae,backgroundColor:ne.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})},Ze=()=>{const ae=h.find(ne=>parseInt(ne.id)===xe.requester_id);return(ae==null?void 0:ae.name)||"Unknown"},he=()=>{const ae=g.find(ne=>ne.id===xe.department_id);return(ae==null?void 0:ae.name)||"No department assigned"},We=()=>{const ae=g.find(ne=>ne.id===xe.department_id);if(ae&&ae.head_id){const ne=h.find(Ae=>parseInt(Ae.id)===ae.head_id);return(ne==null?void 0:ne.name)||"No department head assigned"}return"No department head assigned"},je=()=>{const ae=le.find(ne=>String(ne.id)===xe.service_type_id);return(ae==null?void 0:ae.name)||"Unknown"},ht=()=>{const ae=w.find(ne=>String(ne.id)===xe.service_id);return(ae==null?void 0:ae.service_name)||"Unknown"},gt=()=>{if(!xe.attachment)return null;try{const ne=new URL(xe.attachment).pathname;return ne.substring(ne.lastIndexOf("/")+1)}catch{return xe.attachment}},St=()=>{xe.attachment&&window.open(xe.attachment,"_blank")};return R?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex flex-col overflow-hidden",children:a.jsx("div",{className:"flex items-center justify-center h-full",children:a.jsxs("div",{className:"text-center",children:[a.jsx(cr,{className:"animate-spin h-12 w-12 text-blue-600 mx-auto mb-4"}),a.jsx("p",{className:"text-gray-600",children:"Memuat data work order..."})]})})})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Assignment",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(or,{}),isMobile:v,toggleSidebar:mt}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Update Work Order"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Perbarui status dan penanganan work order"})]}),a.jsxs(C.button,{onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(Ml,{className:"text-lg"})," Back to Assignment"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[Y&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:Y}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>q(null)})})]}),a.jsxs("form",{onSubmit:Ct,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(It,{className:"mr-2 text-blue-500"})," General Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Date"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.date})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Reception Method"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.reception_method})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Requester"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:Ze()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:he()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Known By (Head)"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:We()})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-green-500"})," Service Details"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service Type"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:je()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Service"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:ht()})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"No. Asset"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.asset_no})})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Eh,{className:"mr-2 text-purple-500"})," Device & Complaint Details"]}),a.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Device Information"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-gray-50 text-gray-700",children:a.jsx("span",{children:xe.device_info})})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Complaint"}),a.jsx(Ge,{content:xe.complaint,className:"min-h-[100px]"})]})]})]}),xe.attachment&&a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(xi,{className:"mr-2 text-gray-500"})," Attachment"]}),a.jsxs("div",{className:"flex items-center justify-between p-2.5 border border-gray-300 rounded-lg bg-gray-50",children:[a.jsx("span",{className:"text-gray-700",children:gt()}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:St,className:"ml-4 px-3 py-1 bg-blue-600 text-white text-sm rounded-md hover:bg-blue-700 transition-colors",children:"View"})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-500"})," Handling Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"received_by_id",className:"block text-sm font-medium text-gray-700 mb-1",children:"Received By"}),a.jsx("div",{className:"flex items-center p-2.5 border border-gray-300 rounded-lg bg-blue-50 text-gray-700",children:a.jsx("span",{children:(e==null?void 0:e.name)||"Current User"})})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handling Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",id:"handling_date",name:"handling_date",value:xe.handling_date||"",onChange:tt,required:!0,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"handling_status",className:"block text-sm font-medium text-gray-700 mb-1",children:["Ticket Status ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"handling_status",name:"handling_status",options:[{value:"New",label:"New"},{value:"In Progress",label:"In Progress"},{value:"Escalated",label:"Escalated"},{value:"Vendor Handled",label:"Vendor Handled"},{value:"Resolved",label:"Resolved"}],value:xe.handling_status?{value:xe.handling_status,label:xe.handling_status}:null,onChange:ae=>tt(ae,"handling_status"),placeholder:"Select Handling Status",styles:Rt,required:!0})]}),pe&&a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"assigned_to_id",className:"block text-sm font-medium text-gray-700 mb-1",children:["Assigned To ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Tr,{id:"assigned_to_id",name:"assigned_to_id",options:h.map(ae=>({value:String(ae.id),label:ae.name})),value:xe.assigned_to_id?{value:String(xe.assigned_to_id),label:((nt=h.find(ae=>parseInt(ae.id)===xe.assigned_to_id))==null?void 0:nt.name)||"Unknown"}:null,onChange:ae=>tt(ae,"assigned_to_id"),placeholder:"Select Assignee",styles:Rt,required:pe})]}),Oe&&a.jsxs("div",{className:"md:col-span-2 bg-gray-50 p-4 rounded-lg border border-gray-200",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(zi,{className:"mr-2 text-gray-600"})," Vendor Information"]}),re?a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsx("h4",{className:"font-semibold text-gray-800",children:"Selected Vendor"}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{se(null),ct(ae=>({...ae,vendor_id:null})),we(!1)},className:"px-2 py-1 bg-red-100 text-red-700 text-sm rounded-md hover:bg-red-200 transition-colors",children:"Change Vendor"})]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Vendor Name"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.name})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Person"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.contact_person})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.address||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.email})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.telp||"-"})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mobile"}),a.jsx("div",{className:"p-2.5 border border-gray-300 rounded-lg bg-white text-gray-900",children:re.HP||"-"})]})]})]}):a.jsxs("div",{className:"space-y-4",children:[a.jsxs("div",{className:"flex justify-between items-center",children:[a.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Select Vendor ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(C.button,{type:"button",whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>we(!ee),className:"px-3 py-1 bg-gray-600 text-white text-sm rounded-md hover:bg-gray-700 transition-colors",children:ee?"Hide Vendors":"Select Vendor"})]}),ee&&a.jsx("div",{className:"border border-gray-200 rounded-lg bg-white max-h-60 overflow-y-auto",children:Ee.length>0?Ee.map(ae=>a.jsxs(C.div,{whileHover:{backgroundColor:"rgba(0, 0, 0, 0.05)"},className:"p-3 border-b border-gray-100 cursor-pointer transition-colors",onClick:()=>wt(ae),children:[a.jsx("div",{className:"font-medium text-gray-900",children:ae.name}),a.jsxs("div",{className:"text-sm text-gray-600",children:[ae.contact_person," • ",ae.email]}),a.jsx("div",{className:"text-xs text-gray-500",children:ae.address})]},ae.id)):a.jsxs("div",{className:"p-4 text-center text-gray-600",children:[a.jsx(Xt,{className:"mx-auto h-6 w-6 mb-2"}),"No vendors available"]})})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"action_taken",className:"block text-sm font-medium text-gray-700 mb-1",children:["Action Taken ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:xe.action_taken||"",onChange:ae=>{ct(ne=>({...ne,action_taken:ae}))}})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"remarks",className:"block text-sm font-medium text-gray-700 mb-1",children:["Remarks ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:xe.remarks||"",onChange:ae=>{ct(ne=>({...ne,remarks:ae}))}})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:()=>c("/workorders/it/assignment"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(jr,{className:"mr-2 h-5 w-5"})," Cancel"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},disabled:I,className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:I?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Update Work Order"]})})]})]})]})]})]}),a.jsx(FLe,{isOpen:F,onClose:ft,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center mb-2",children:H==null?void 0:H.message}),a.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Work Order Number: ",(Xe=H==null?void 0:H.work_order)==null?void 0:Xe.work_order_no]}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:ft,className:"mt-6 px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Go to Work Orders"})]})})]})},BLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,zLe=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getActivity:l,updateActivity:c,getActivityById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",description:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Activity update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Activity")}finally{S(!1)}},L=()=>{N(!1),O("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Li,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Activity information"})]}),a.jsxs(C.button,{onClick:()=>O("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(BLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},VLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,qLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addActivity:o,getActivity:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Activity created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Activity")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Activity",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Li,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Activity"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Activity information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Activity Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Activity Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Activity Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/activity"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Activity"]})})]})]})]})]})]}),a.jsx(VLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Activity Management"})]})})]})},WLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),_z=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},ULe=()=>{const[t,e]=x.useState([]),{getActivity:r,deleteActivity:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"activity",name:"Activity"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load activities"),console.error("Error loading activities:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="activity"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete activity:",F),l("Failed to delete activity. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Activity",mainTitleHighlight:"Page",description:"Manage activities and their configurations within the system.",icon:a.jsx(Li,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Activity ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage activities by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/activity/addactivity"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Activity"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(_z,{title:"Total Activities",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Li,{className:"w-6 h-6"})}),a.jsx(_z,{title:"Active Activities",value:t.filter(D=>D.description&&D.description.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.description&&D.description.length>0).length/t.length*100)}%`,icon:a.jsx(Li,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by activity or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search activities"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading activity data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No activities found matching your search.":"No activities available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Activity"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/activity/editactivity/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(WLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this activity? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},GLe=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4 backdrop-blur-sm",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Mz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},YLe=()=>{const[t,e]=x.useState([]),{getTroubleItem:r,deleteTroubleItem:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"troubleitem",name:"Trouble Item"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load trouble items"),console.error("Error loading trouble items:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="trouble item"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete trouble item:",F),l("Failed to delete trouble item. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Trouble Item",mainTitleHighlight:"Page",description:"Manage trouble items and their configurations within the system.",icon:a.jsx(Xt,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Trouble Item ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage trouble items by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/maintenanceactivity/troubleitem/addtroubleitem"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Trouble Item"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Mz,{title:"Total Trouble Items",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Xt,{className:"w-6 h-6"})}),a.jsx(Mz,{title:"Active Items",value:t.filter(D=>D.description&&D.description.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.description&&D.description.length>0).length/t.length*100)}%`,icon:a.jsx(Xt,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by trouble item or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search trouble items"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading trouble item data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No trouble items found matching your search.":"No trouble items available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Trouble Item"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/maintenanceactivity/troubleitem/edittroubleitem/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(GLe,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this trouble item? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},KLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Az=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addTroubleItem:o,getTroubleItem:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Trouble Item created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Trouble Item")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/troubleitem")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Trouble Item",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Xt,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Trouble Item"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Trouble Item information"})]}),a.jsxs(C.button,{onClick:()=>T("/maintenanceactivity/troubleitem"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Trouble Item Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Trouble Item Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Trouble Item Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/maintenanceactivity/troubleitem"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Trouble Item"]})})]})]})]})]})]}),a.jsx(KLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Trouble Item Management"})]})})]})},XLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,JLe=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addWorkUnit:o,getWorkUnit:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",is_production:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,is_production:S.is_production,description:S.description};await o(L),y("Work Unit created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Unit")}finally{N(!1)}},$=()=>{j(!1),T("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cf,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Unit information"})]}),a.jsxs(C.button,{onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:S.is_production,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx(Nl,{value:S.description,onChange:I=>{O(L=>({...L,description:I}))}})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(XLe,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},QLe=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,ZLe=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getWorkUnit:l,updateWorkUnit:c,getWorkUnitById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",is_production:"",description:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",is_production:i.is_production||"",description:i.description||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,is_production:_.is_production,description:_.description};await c(t,z),j("Work Unit update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Unit")}finally{S(!1)}},L=()=>{N(!1),O("/worklocation/workunit")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Work Unit",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(Cf,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Unit"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Unit information"})]}),a.jsxs(C.button,{onClick:()=>O("/worklocation/workunit"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Unit Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Unit Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Unit Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"is_production",className:"block text-sm font-medium text-gray-700 mb-1",children:["Zone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsxs("select",{name:"is_production",id:"is_production",value:_.is_production,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0,children:[a.jsx("option",{value:"Production",children:"Production"}),a.jsx("option",{value:"Not Production",children:"Not Production"})]})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/worklocation/workunit"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Unit"]})})]})]})]})]})]}),a.jsx(QLe,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Unit Management"})]})})]})},e7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Oz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},t7e=()=>{const[t,e]=x.useState([]),{getWorkUnit:r,deleteWorkUnit:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"workunit",name:"Work Unit"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load work units"),console.error("Error loading work units:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work unit"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete work unit:",F),l("Failed to delete work unit. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Unit",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Cf,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Unit ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work units by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/worklocation/workunit/addworkunit"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Work Unit"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Oz,{title:"Total Work Units",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Cf,{className:"w-6 h-6"})}),a.jsx(Oz,{title:"Production Units",value:t.filter(D=>String(D.is_production)==="1").length.toString(),change:`+${Math.floor(t.filter(D=>String(D.is_production)==="1").length/t.length*100)}%`,icon:a.jsx(Cf,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work unit or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work units"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work unit data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work units found matching your search.":"No work units available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Unit"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Production?"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:String(D.is_production)==="1"?"Yes":"No"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workunit/editworkunit/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(e7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work unit? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},r7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Ez=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getWorkGroup:l,updateWorkGroup:c,getWorkGroupById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",description:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Work Group update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Group")}finally{S(!1)}},L=()=>{N(!1),O("/workarrangement/workgroup")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ca,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Group information"})]}),a.jsxs(C.button,{onClick:()=>O("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(r7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},n7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,Dz=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addWorkGroup:o,getWorkGroup:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Work Group created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Group")}finally{N(!1)}},$=()=>{j(!1),T("/maintenanceactivity/activity")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Work Group",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(ca,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Group"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Group information"})]}),a.jsxs(C.button,{onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Group Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Group Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Group Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/workarrangement/workgroup"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Group"]})})]})]})]})]})]}),a.jsx(n7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Group Management"})]})})]})},a7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Pz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},Rz=()=>{const[t,e]=x.useState([]),{getWorkGroup:r,deleteWorkGroup:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"workgroup",name:"Work Group"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load work groups"),console.error("Error loading work groups:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work group"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete work group:",F),l("Failed to delete work group. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Group",mainTitleHighlight:"Page",description:"Manage work groups and their configurations within the system.",icon:a.jsx(ca,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Group ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work groups by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/workarrangement/workgroup/addworkgroup"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Work Group"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Pz,{title:"Total Work Groups",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(ca,{className:"w-6 h-6"})}),a.jsx(Pz,{title:"Active Groups",value:t.filter(D=>D.description&&D.description.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.description&&D.description.length>0).length/t.length*100)}%`,icon:a.jsx(ca,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work group or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work groups"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work group data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work groups found matching your search.":"No work groups available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Group"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workgroup/editworkgroup/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(a7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work group? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},s7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,i7e=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getWorkShift:l,updateWorkShift:c,getWorkShiftById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",description:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",description:i.description||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,description:_.description};await c(t,z),j("Work Shift update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Shift")}finally{S(!1)}},L=()=>{N(!1),O("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Shift information"})]}),a.jsxs(C.button,{onClick:()=>O("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:_.description,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(s7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},o7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,l7e=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addWorkShift:o,getWorkShift:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",description:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,description:S.description};await o(L),y("Work Shift created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Work Shift")}finally{N(!1)}},$=()=>{j(!1),T("/workarrangement/workshift")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Work Shift",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Shift"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Work Shift information"})]}),a.jsxs(C.button,{onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Shift Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Shift Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Shift Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"description",id:"description",value:S.description,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/workarrangement/workshift"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Shift"]})})]})]})]})]})]}),a.jsx(o7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Shift Management"})]})})]})},c7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Iz=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},u7e=()=>{const[t,e]=x.useState([]),{getWorkShift:r,deleteWorkShift:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"workshift",name:"Work Shift"},{id:"description",name:"Description"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load work shifts"),console.error("Error loading work shifts:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{var le,ce;const Z=(le=W.name)==null?void 0:le.toLowerCase().includes(te),oe=(ce=W.description)==null?void 0:ce.toLowerCase().includes(te);return K==="work shift"?Z:K==="description"?oe:Z||oe})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete work shift:",F),l("Failed to delete work shift. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Shift",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(It,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Shift ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work shifts by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/workarrangement/workshift/addworkshift"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Work Shift"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Iz,{title:"Total Work Shifts",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(It,{className:"w-6 h-6"})}),a.jsx(Iz,{title:"Active Shifts",value:t.filter(D=>D.description&&D.description.length>0).length.toString(),change:`+${Math.floor(t.filter(D=>D.description&&D.description.length>0).length/t.length*100)}%`,icon:a.jsx(It,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work shift or description...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work shifts"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work shift data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work shifts found matching your search.":"No work shifts available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Shift"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Description"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.description||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/workarrangement/workshift/editworkshift/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx(c7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work shift? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},d7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,f7e=()=>{const t=jt(),{getAllMasterMonitoring:e,addMonitoringSchedule:r,addMonitoringActivities:n,getMesinDetail:s}=Nt(),[i,o]=x.useState(window.innerWidth<768),[l,c]=x.useState(()=>{const le=localStorage.getItem("sidebarOpen");return JSON.parse(le||"false")}),d=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!l)),c(le=>!le)},[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(null),[O,_]=x.useState(!0),[A,E]=x.useState(1),[P,$]=x.useState({startDate:null,endDate:null,units:[]}),I={control:(le,ce)=>({...le,minHeight:"42px",borderColor:ce.isFocused?"#3B82F6":"#D1D5DB",boxShadow:ce.isFocused?"0 0 0 1px #3B82F6":"none","&:hover":{borderColor:"#9CA3AF"},borderRadius:"0.5rem",backgroundColor:"#FFFFFF",padding:"0 0.5rem",transition:"all 0.15s ease-in-out"}),valueContainer:le=>({...le,padding:"0"}),singleValue:le=>({...le,color:"#374151"}),placeholder:le=>({...le,color:"#6B7280"}),dropdownIndicator:le=>({...le,color:"#9CA3AF"}),clearIndicator:le=>({...le,color:"#9CA3AF"}),menu:le=>({...le,zIndex:9999,borderRadius:"0.5rem",border:"1px solid #E5E7EB",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)"}),option:(le,ce)=>({...le,backgroundColor:ce.isFocused?"#EFF6FF":"#FFFFFF",color:"#1F2937","&:active":{backgroundColor:"#DBEAFE"},padding:"0.625rem 1rem"})};x.useEffect(()=>{(async()=>{try{_(!0);const ce=await e();S(ce)}catch{y("Gagal memuat data master")}finally{_(!1)}})()},[e]);const L=x.useCallback(()=>{$(le=>({...le,units:[...le.units,{id:0,name:"",machines:[]}]}))},[]),R=x.useCallback(le=>{$(ce=>({...ce,units:ce.units.filter((pe,Ie)=>Ie!==le)}))},[]),z=x.useCallback((le,ce)=>{var pe;if(ce){const Ie=(pe=T==null?void 0:T.unitsWithMachines)==null?void 0:pe.find(Ee=>Ee.id===ce.value);Ie&&$(Ee=>{const ge=[...Ee.units];return ge[le]={id:Ie.id,name:Ie.name,machines:[]},{...Ee,units:ge}})}else $(Ie=>{const Ee=[...Ie.units];return Ee[le]={id:0,name:"",machines:[]},{...Ie,units:Ee}})},[T]),Y=x.useCallback(le=>{$(ce=>{const pe=[...ce.units];return pe[le].machines=[...pe[le].machines,{id:0,name:"",intervalId:null,items:[]}],{...ce,units:pe}})},[]),q=x.useCallback((le,ce)=>{$(pe=>{const Ie=[...pe.units];return Ie[le].machines=Ie[le].machines.filter((Ee,ge)=>ge!==ce),{...pe,units:Ie}})},[]),H=x.useCallback(async(le,ce,pe)=>{if(pe)try{const Ie=await s(pe.value);Ie&&$(Ee=>{const ge=[...Ee.units];return ge[le].machines[ce]={id:Ie.id,name:Ie.name,intervalId:null,items:Ie.item_mesin.map(Oe=>({...Oe,hasil_monitoring:"",hasil_keterangan:"",interval_type:""}))},{...Ee,units:ge}})}catch(Ie){console.error("Error fetching machine detail:",Ie),y("Gagal memuat detail mesin")}else $(Ie=>{const Ee=[...Ie.units];return Ee[le].machines[ce]={id:0,name:"",intervalId:null,items:[]},{...Ie,units:Ee}})},[s]),D=x.useCallback((le,ce,pe)=>{var Ie,Ee,ge;if(pe&&((Ee=(Ie=P.units[le])==null?void 0:Ie.machines[ce])!=null&&Ee.id)){const Oe=(ge=T==null?void 0:T.intervals)==null?void 0:ge.find(ze=>ze.id_interval===pe.value);Oe&&$(ze=>{const re=[...ze.units],se=re[le].machines[ce],ee=se.items.filter(we=>we.interval_id===Oe.id_interval);return re[le].machines[ce]={...se,intervalId:Oe.id_interval,intervalType:Oe.type_interval,items:ee.map(we=>({...we,interval_type:Oe.type_interval}))},{...ze,units:re}})}else $(Oe=>{const ze=[...Oe.units],re=ze[le].machines[ce];return ze[le].machines[ce]={...re,intervalId:null,intervalType:void 0,items:re.items.map(se=>({...se,interval_type:""}))},{...Oe,units:ze}})},[T,P.units]);x.useCallback((le,ce,pe,Ie,Ee)=>{$(ge=>{const Oe=[...ge.units];return Oe[le].machines[ce].items[pe]={...Oe[le].machines[ce].items[pe],[Ie]:Ee},{...ge,units:Oe}})},[]);const F=["January","February","March","April","May","June","July","August","September","October","November","December"],K=async le=>{le.preventDefault(),m(!0),y(null);try{if(!P.startDate||!P.endDate)throw new Error("Tanggal mulai dan selesai harus diisi");if(P.units.length===0||P.units.some(Ee=>!Ee.id))throw new Error("Pilih setidaknya satu unit");const ce=Ee=>{const ge=Ee.getFullYear(),Oe=String(Ee.getMonth()+1).padStart(2,"0"),ze=String(Ee.getDate()).padStart(2,"0");return`${ge}-${Oe}-${ze}`},pe=[],Ie=[];for(const Ee of P.units)for(const ge of Ee.machines)if(ge.id&&ge.items.length>0){const Oe=ge.items.map(se=>se.id),ze={tahun:P.startDate.getFullYear(),bulan:F[P.startDate.getMonth()],tgl_start:ce(P.startDate),tgl_end:ce(P.endDate),unit:Ee.name,id_mesins:ge.id,id_interval:ge.intervalId||1,item_mesin_ids:Oe},re=await r(ze);pe.push(re)}if(pe.length===0)throw new Error("Tidak ada data monitoring yang valid untuk disimpan");j("Data monitoring berhasil disimpan!"),N(!0)}catch(ce){y(ce.message||"Gagal menyimpan data monitoring")}finally{m(!1)}},te=x.useCallback(()=>{N(!1),t("/monitoringmaintenance")},[t]),W=x.useMemo(()=>{switch(A){case 1:return!P.startDate||!P.endDate;case 2:return P.units.length===0||P.units.every(ce=>!ce.id);case 3:return P.units.every(ce=>ce.machines.length===0||ce.machines.every(pe=>!pe.id||!pe.intervalId||pe.items.length===0));case 4:return!P.units.some(ce=>ce.machines.some(pe=>pe.id&&pe.intervalId&&pe.items.length>0));default:return!0}},[A,P]),Z=()=>a.jsx("div",{className:"flex justify-around items-center mb-8 border-b-2 border-gray-100",children:[1,2,3,4].map(le=>a.jsxs("button",{type:"button",onClick:()=>E(le),disabled:le===2&&(!P.startDate||!P.endDate)||le===3&&(P.units.length===0||P.units.every(ce=>!ce.id))||le===4&&P.units.every(ce=>ce.machines.every(pe=>!pe.id||!pe.intervalId)),className:`px-4 py-2 font-medium ${A===le?"border-b-2 border-blue-500 text-blue-600":"text-gray-500"} ${le===2&&(!P.startDate||!P.endDate)||le===3&&(P.units.length===0||P.units.every(ce=>!ce.id))||le===4&&P.units.every(ce=>ce.machines.every(pe=>!pe.id||!pe.intervalId))?"opacity-50 cursor-not-allowed":""}`,children:[le,". ",["Date","Unit","Machine & Interval","Item"][le-1]]},le))}),oe=()=>{if(O)return a.jsx("div",{className:"flex justify-center items-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})});switch(A){case 1:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Monitoring Schedule"}),a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center gap-6 md:gap-8",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),a.jsx(Kf,{selected:P.startDate,onChange:le=>$(ce=>({...ce,startDate:le})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Mulai",isClearable:!0})]}),a.jsx("div",{className:"text-gray-400 hidden md:block mt-6",children:a.jsx(Noe,{size:24})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),a.jsx(Kf,{selected:P.endDate,onChange:le=>$(ce=>({...ce,endDate:le})),dateFormat:"dd/MM/yyyy",className:"w-full p-2.5 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500",placeholderText:"Pilih Tanggal Selesai",isClearable:!0})]})]})]},"step1");case 2:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Unit"}),a.jsxs("div",{className:"space-y-4",children:[P.units.map((le,ce)=>{var pe;return a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-200 rounded-lg bg-gray-50 flex items-center space-x-2",children:[a.jsx("div",{className:"flex-1",children:a.jsx(Tr,{options:((pe=T==null?void 0:T.unitsWithMachines)==null?void 0:pe.map(Ie=>({value:Ie.id,label:Ie.name})))||[],value:le.id?{value:le.id,label:le.name}:null,onChange:Ie=>z(ce,Ie),isClearable:!0,placeholder:"Pilih Unit",styles:I,noOptionsMessage:()=>"Tidak ada unit tersedia"})}),P.units.length>1&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>R(ce),className:"text-red-500 hover:text-red-700 p-1",type:"button",children:a.jsx(an,{size:20})})]},ce)}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",type:"button",children:[a.jsx(qn,{size:20,className:"mr-2"})," Add Unit"]})]})]},"step2");case 3:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Machine & Interval"}),a.jsx("div",{className:"space-y-6",children:P.units.map((le,ce)=>le.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsx("h3",{className:"font-semibold text-gray-700 mb-3",children:le.name}),a.jsx("div",{className:"space-y-4",children:le.machines.map((pe,Ie)=>{var Ee,ge,Oe,ze;return a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-4 border border-gray-300 rounded-lg bg-white space-y-4",children:[a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Machine"}),a.jsx(Tr,{options:((Oe=(ge=(Ee=T==null?void 0:T.unitsWithMachines)==null?void 0:Ee.find(re=>re.id===le.id))==null?void 0:ge.mesin)==null?void 0:Oe.map(re=>({value:re.id,label:re.name})))||[],value:pe.id?{value:pe.id,label:pe.name}:null,onChange:re=>H(ce,Ie,re),isClearable:!0,placeholder:"Select Machine",styles:I})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Interval"}),a.jsx(Tr,{options:((ze=T==null?void 0:T.intervals)==null?void 0:ze.map(re=>({value:re.id_interval,label:re.type_interval})))||[],value:pe.intervalId?{value:pe.intervalId,label:pe.intervalType}:null,onChange:re=>D(ce,Ie,re),isClearable:!0,placeholder:pe.id?"Select Interval":"Please Select Machine",isDisabled:!pe.id||pe.items.length===0,styles:I})]})]}),pe.id&&a.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("span",{className:"text-sm font-medium text-blue-800",children:["Total ",pe.items.length," item monitoring tersedia"]}),pe.intervalId&&a.jsxs("span",{className:"text-sm text-green-600",children:[pe.items.filter(re=>re.interval_id===pe.intervalId).length," item untuk interval ",pe.intervalType]})]}),pe.items.length===0&&a.jsx("span",{className:"text-xs text-orange-600 bg-orange-100 px-2 py-1 rounded mt-2 inline-block",children:"Mesin ini belum memiliki item monitoring"})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>q(ce,Ie),className:"text-red-500 hover:text-red-700",children:a.jsx(an,{size:20})})})]},Ie)})}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>Y(ce),className:"mt-4 flex items-center justify-center w-full px-4 py-2 border-2 border-dashed border-gray-300 rounded-lg text-gray-600 hover:bg-gray-100",children:[a.jsx(qn,{size:20,className:"mr-2"})," Add Machine"]})]},ce))})]},"step3");case 4:return a.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Item Monitoring"}),a.jsx("div",{className:"space-y-6",children:P.units.map((le,ce)=>le.id&&le.machines.map((pe,Ie)=>pe.id&&a.jsxs("div",{className:"p-4 border border-gray-200 rounded-lg bg-gray-50",children:[a.jsxs("h3",{className:"font-semibold text-gray-700 mb-3",children:[le.name," - ",pe.name]}),pe.items.length>0?a.jsx("div",{className:"space-y-4",children:pe.items.map((Ee,ge)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"p-3 border border-gray-300 rounded-lg bg-white",children:[a.jsxs("h4",{className:"font-bold text-gray-800 mb-2",children:[Ee.item_mesin," (",Ee.satuan,")"]}),Ee.interval_type&&a.jsx("span",{className:"bg-green-100 text-green-800 text-xs font-medium px-2.5 py-0.5 rounded",children:Ee.interval_type}),Ee.standard_min&&Ee.standard_max&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar: ",Ee.standard_min," - ",Ee.standard_max]}),Ee.standard_visual&&a.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Standar Visual: ",Ee.standard_visual]})]},ge))}):a.jsx("p",{className:"text-gray-500 italic mt-2",children:"Tidak ada item monitoring untuk mesin ini."})]},`${ce}-${Ie}`)))})]},"step4");default:return null}};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Monitoring Schedule",mainTitleHighlight:"Create Monitoring Schedule",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Dh,{}),isMobile:i,toggleSidebar:d}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create Monitoring Schedule"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"All create detail for monitoring schedule"})]}),a.jsxs(C.button,{onClick:()=>t("/monitoringmaintenance"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back To Monitoring Maintenance"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),Z(),a.jsx(_t,{mode:"wait",children:oe()}),a.jsxs("div",{className:"flex justify-between items-center mt-8 pt-6 border-t border-gray-100",children:[A>1&&a.jsxs(C.button,{type:"button",onClick:()=>E(le=>le-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-6 py-3 border border-gray-300 rounded-lg text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:ring-2 focus:ring-blue-500 flex items-center",children:[a.jsx(Ml,{className:"mr-2 h-5 w-5"})," Back"]}),A<4?a.jsxs(C.button,{type:"button",onClick:()=>E(le=>le+1),disabled:W,whileHover:{scale:W?1:1.03},whileTap:{scale:W?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${W?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:["Lanjut ",a.jsx(Zr,{className:"ml-2 h-5 w-5"})]}):a.jsx(C.button,{type:"button",onClick:K,disabled:W||h,whileHover:{scale:W?1:1.03},whileTap:{scale:W?1:.97},className:`ml-auto px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 focus:ring-2 focus:ring-blue-500 flex items-center ${W||h?"opacity-50 cursor-not-allowed":"hover:bg-blue-700"}`,children:h?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Monitoring"]})})]})]})]})]}),a.jsx(d7e,{isOpen:v,onClose:te,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data monitoring schedule berhasil disimpan!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:te,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Go to Monitoring Mainteannce"})]})})]})},Lz=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8","#82CA9D"],sf=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},h7e=({isOpen:t,workOrder:e,onClose:r})=>{var l,c,d,h,m,g,y;if(!t||!e)return null;const n=w=>w?new Date(w).toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"}):"-",s=({title:w,children:j,icon:v})=>a.jsxs("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm overflow-hidden",children:[a.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 px-6 py-4 border-b border-gray-200",children:a.jsxs("div",{className:"flex items-center",children:[v&&a.jsx("div",{className:"mr-3 text-blue-600",children:v}),a.jsx("h3",{className:"text-lg font-bold text-gray-900",children:w})]})}),a.jsx("div",{className:"p-6",children:j})]}),i=({label:w,value:j,icon:v,fullWidth:N=!1,priority:T="medium"})=>{const S={high:"border-l-4 border-l-blue-500 bg-blue-25",medium:"border-l-2 border-l-gray-200",low:"border-l border-l-gray-100"};return a.jsx("div",{className:`${N?"col-span-full":""}`,children:a.jsx("div",{className:`p-4 rounded-lg ${S[T]} transition-all duration-200 hover:shadow-sm`,children:a.jsxs("div",{className:"flex items-start space-x-3",children:[v&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-1",children:w}),a.jsx("p",{className:"text-sm font-medium text-gray-900 leading-relaxed",children:j})]})]})})})},o=({label:w,htmlContent:j,icon:v,fullWidth:N=!1})=>{if(!j)return a.jsx(i,{label:w,value:"-",icon:v,fullWidth:N,priority:"low"});const T=Ol.sanitize(j,{ALLOWED_TAGS:["h1","h2","h3","h4","h5","h6","p","br","span","div","ol","ul","li","strong","b","em","i","u","s","strike","code","mark","sub","sup","blockquote","pre"],ALLOWED_ATTR:["style","class","data-color","align","type","start"]});return a.jsx("div",{className:`${N?"col-span-full":""}`,children:a.jsx("div",{className:"p-4 rounded-lg border-l-2 border-l-blue-200 bg-blue-25 transition-all duration-200 hover:shadow-sm",children:a.jsxs("div",{className:"flex items-start space-x-3",children:[v&&a.jsx("div",{className:"text-gray-400 mt-0.5 flex-shrink-0",children:v}),a.jsxs("div",{className:"flex-1 min-w-0",children:[a.jsx("label",{className:"block text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:w}),a.jsx("div",{className:`rich-text-content text-sm text-gray-900 leading-relaxed prose prose-sm max-w-none\r
                          prose-headings:font-semibold prose-p:my-2 prose-ul:my-2 prose-ol:my-2\r
                          prose-li:my-1 prose-strong:font-semibold prose-em:italic`,dangerouslySetInnerHTML:{__html:T}})]})]})})})};return a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl mx-auto border border-blue-100 max-h-[90vh] overflow-hidden flex flex-col",children:[a.jsxs("div",{className:"flex justify-between items-center border-b border-gray-100 px-6 py-4 bg-blue-50",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:"Work Order Details"}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:r,className:"text-gray-500 hover:text-gray-700 text-2xl p-1 rounded-full hover:bg-blue-100 transition-colors duration-200",children:a.jsx(at,{size:24})})]}),a.jsxs("div",{className:"overflow-y-auto custom-scrollbar p-6 space-y-6 flex-grow",children:[a.jsx("div",{className:"bg-white rounded-xl border border-gray-200 shadow-sm p-6",children:a.jsx("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[a.jsx("h2",{className:"text-2xl font-bold text-gray-900",children:e.work_order_no||"No Work Order Number"}),a.jsx("span",{className:`px-3 py-1 inline-flex text-xs leading-5 font-bold rounded-full ${e.handling_status==="New"?"bg-gray-100 text-gray-800 border border-gray-300":e.handling_status==="Assigned"?"bg-blue-100 text-blue-800 border border-blue-300":e.handling_status==="In Progress"?"bg-yellow-100 text-yellow-800 border border-yellow-300":e.handling_status==="Resolved"||e.handling_status==="Closed"?"bg-green-100 text-green-800 border border-green-300":"bg-gray-100 text-gray-800 border border-gray-300"}`,children:e.handling_status||"Unknown Status"})]}),a.jsxs("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600",children:[a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(Vn,{className:"w-4 h-4"}),"Created: ",n(e.date)]}),e.handling_date&&a.jsxs("span",{className:"flex items-center gap-2",children:[a.jsx(It,{className:"w-4 h-4"}),"Handled: ",n(e.handling_date)]})]})]})})}),a.jsx(s,{title:"General Information",icon:a.jsx(or,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(i,{label:"Work Order No",value:e.work_order_no||"-",icon:a.jsx(or,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Date",value:n(e.date),icon:a.jsx(Vn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Reception Method",value:e.reception_method||"-",icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(i,{label:"Requester",value:((l=e.requester)==null?void 0:l.name)||"-",icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Known By",value:((c=e.known_by)==null?void 0:c.name)||"-",icon:a.jsx(rs,{className:"w-4 h-4"})}),a.jsx(i,{label:"Department",value:((d=e.department)==null?void 0:d.name)||"-",icon:a.jsx(ca,{className:"w-4 h-4"})})]})}),a.jsx(s,{title:"Service Details",icon:a.jsx(Nn,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Service Type",value:((h=e.service_type)==null?void 0:h.group_name)||"-",icon:a.jsx(Nn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Service",value:((m=e.service)==null?void 0:m.service_name)||"-",icon:a.jsx(cn,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Asset No",value:e.asset_no||"-",icon:a.jsx(or,{className:"w-4 h-4"})}),a.jsx(i,{label:"Device Info",value:e.device_info||"-",icon:a.jsx(Nn,{className:"w-4 h-4"})}),a.jsx(o,{label:"Complaint",htmlContent:e.complaint||"",icon:a.jsx(Xt,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Handling Information",icon:a.jsx(It,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsx(i,{label:"Status",value:e.handling_status||"-",icon:a.jsx(It,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Received By",value:((g=e.received_by)==null?void 0:g.name)||"-",icon:a.jsx(_r,{className:"w-4 h-4"})}),a.jsx(i,{label:"Assigned To",value:((y=e.assigned_to)==null?void 0:y.name)||"-",icon:a.jsx(_r,{className:"w-4 h-4"}),priority:"high"}),a.jsx(i,{label:"Handling Date",value:n(e.handling_date),icon:a.jsx(Vn,{className:"w-4 h-4"})}),a.jsx(o,{label:"Action Taken",htmlContent:e.action_taken||"",icon:a.jsx(Lt,{className:"w-4 h-4"}),fullWidth:!0}),a.jsx(o,{label:"Remarks",htmlContent:e.remarks||"",icon:a.jsx(or,{className:"w-4 h-4"}),fullWidth:!0})]})}),a.jsx(s,{title:"Report Summary",icon:a.jsx(Bi,{className:"w-5 h-5"}),children:a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[a.jsxs("div",{className:"p-4 bg-blue-25 rounded-lg border-l-4 border-l-blue-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Current Status"}),a.jsx("p",{className:"text-lg font-bold text-blue-600",children:e.handling_status||"Unknown"})]}),a.jsxs("div",{className:"p-4 bg-green-25 rounded-lg border-l-4 border-l-green-400",children:[a.jsx("h4",{className:"text-sm font-semibold text-gray-700 mb-2",children:"Timeline"}),a.jsxs("p",{className:"text-sm text-green-600",children:["Created: ",n(e.date),e.handling_date&&` • Handled: ${n(e.handling_date)}`]})]})]})})]}),a.jsx("div",{className:"flex justify-end pt-4 border-t border-gray-100 px-6 py-4 bg-gray-50",children:a.jsx(C.button,{type:"button",onClick:r,whileHover:{scale:1.03,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.97},className:"inline-flex items-center px-6 py-3 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 font-semibold",children:"Close Details"})})]})})},m7e=()=>{const[t,e]=x.useState(!1),[r,n]=x.useState(!1),[s,i]=x.useState(""),[o,l]=x.useState("all"),[c,d]=x.useState("all"),[h,m]=x.useState(!1),[g,y]=x.useState(1),[w]=x.useState(5),[j,v]=x.useState(window.innerWidth<768),[N,T]=x.useState(!1),[S,O]=x.useState(!1),[_,A]=x.useState([]),[E,P]=x.useState(!0),[$,I]=x.useState(null),[L,R]=x.useState(),[z,Y]=x.useState(!1),{user:q,getWorkOrdersIT:H,hasPermission:D}=Nt(),F=jt(),K=x.useRef(null),te=x.useRef(null),W=location.pathname==="/workorders/it",Z=location.pathname==="/workorders/it/assignment",oe=location.pathname==="/workorders/it/receiver",le=location.pathname==="/workorders/it/reports",ce=location.pathname==="/workorders/it/knowledgebase";x.useEffect(()=>{const he=()=>{v(window.innerWidth<768),window.innerWidth<768&&n(!1)};return window.addEventListener("resize",he),()=>window.removeEventListener("resize",he)},[]),x.useEffect(()=>{const he=We=>{K.current&&!K.current.contains(We.target)&&T(!1),te.current&&!te.current.contains(We.target)&&O(!1)};return document.addEventListener("mousedown",he),()=>{document.removeEventListener("mousedown",he)}},[]);const pe=x.useCallback(async()=>{try{P(!0);const he=await H();A(he)}catch(he){I("Failed to load work orders data"),console.error("Error loading work orders:",he)}finally{P(!1)}},[H]);x.useEffect(()=>{pe()},[pe]);const Ie=he=>{switch(he==null?void 0:he.toLowerCase()){case"new":return"bg-gray-500 text-white";case"assigned":return"bg-blue-500 text-white";case"in progress":return"bg-yellow-500 text-white";case"escalated":return"bg-orange-500 text-white";case"vendor handled":return"bg-purple-500 text-white";case"resolved":return"bg-green-500 text-white";case"cancel":return"bg-red-500 text-white";case"closed":return"bg-green-700 text-white";default:return"bg-gray-500 text-white"}},Ee=()=>{n(he=>!he)},ge=_.filter(he=>{var gt,St,ve,nt,Xe,ae,ne;const We=((gt=he.work_order_no)==null?void 0:gt.toLowerCase().includes(s.toLowerCase()))||((ve=(St=he.requester)==null?void 0:St.name)==null?void 0:ve.toLowerCase().includes(s.toLowerCase()))||((nt=he.complaint)==null?void 0:nt.toLowerCase().includes(s.toLowerCase()))||((ae=(Xe=he.service)==null?void 0:Xe.service_name)==null?void 0:ae.toLowerCase().includes(s.toLowerCase())),je=o==="all"||he.handling_status===o,ht=c==="all"||((ne=he.department)==null?void 0:ne.name)===c;return We&&je&&ht}),Oe=g*w,ze=Oe-w,re=ge.slice(ze,Oe),se=Math.ceil(ge.length/w),ee=he=>y(he);x.useEffect(()=>{y(1)},[s,o,c]),x.useEffect(()=>{document.documentElement.classList.toggle("dark",t)},[t]);const we=ge.length,Ge=ge.filter(he=>{var We;return["resolved","closed"].includes((We=he.handling_status)==null?void 0:We.toLowerCase())}).length,Ye=ge.filter(he=>{var We;return!["cancel"].includes((We=he.handling_status)==null?void 0:We.toLowerCase())}).length,xe=ge.filter(he=>{var We;return((We=he.handling_status)==null?void 0:We.toLowerCase())==="escalated"}).length;ge.filter(he=>he.assigned_to!==null).length;const ct=we>0?Math.round(Ge/we*100):0,mt=ge.filter(he=>{var We;return he.handling_date&&he.date&&["resolved","closed"].includes((We=he.handling_status)==null?void 0:We.toLowerCase())}).reduce((he,We)=>{const je=new Date(We.date),ht=new Date(We.handling_date),gt=Math.abs(ht.getTime()-je.getTime()),St=Math.ceil(gt/(1e3*60*60*24));return he+St},0)/(Ge||1),tt=Object.entries(ge.reduce((he,We)=>{var ht;const je=((ht=We.department)==null?void 0:ht.name)||"Unknown";return he[je]=(he[je]||0)+1,he},{})).map(([he,We])=>({name:he,value:We})),wt=Object.entries(ge.reduce((he,We)=>{const je=We.handling_status||"Unknown";return he[je]=(he[je]||0)+1,he},{})).map(([he,We])=>({name:he,value:We})),Ct=x.useCallback(()=>{if(D("export_reports")){const he=["Work Order No","Requester","Department","Date","Status","Assigned To","Handling Date"],We=ge.map(ve=>{var nt,Xe,ae;return[ve.work_order_no,((nt=ve.requester)==null?void 0:nt.name)||"",((Xe=ve.department)==null?void 0:Xe.name)||"",ve.date,ve.handling_status,((ae=ve.assigned_to)==null?void 0:ae.name)||"",ve.handling_date||""]}),je=[he.join(","),...We.map(ve=>ve.map(nt=>`"${nt}"`).join(","))].join(`
`),ht=new Blob([je],{type:"text/csv"}),gt=window.URL.createObjectURL(ht),St=document.createElement("a");St.href=gt,St.download=`it-reports-${new Date().toISOString().split("T")[0]}.csv`,St.click(),window.URL.revokeObjectURL(gt)}else alert("You do not have permission to export reports.")},[D,ge]),ft=he=>{R(he),Y(!0)},Rt=()=>{Y(!1),R(void 0)},Ze=he=>{if(!he)return"-";try{const We=new Date(he);return isNaN(We.getTime())?"-":We.toLocaleDateString("id-ID",{day:"2-digit",month:"2-digit",year:"numeric"})}catch{return"-"}};return E?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-blue-50",children:[a.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600"}),a.jsx("p",{className:"ml-4 text-lg text-gray-700",children:"Loading reports data..."})]}):$?a.jsxs("div",{className:"flex h-screen items-center justify-center bg-red-50",children:[a.jsx(Xt,{className:"text-red-600 text-5xl"}),a.jsx("p",{className:"ml-4 text-lg text-red-800",children:$}),a.jsx("button",{onClick:()=>window.location.reload(),className:"ml-4 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Retry"})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"IT Work Order - Reports",mainTitleHighlight:"Page",description:"Manage work units and their configurations within the system.",icon:a.jsx(Bi,{}),isMobile:j,toggleSidebar:Ee}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"isi style mb-6 flex space-x-6 border-b border-gray-200",children:[a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${W?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Request"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/receiver"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${oe?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Receiver"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/assignment"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${Z?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Assignment"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/reports"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${le?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Reports"}),a.jsx(C.div,{whileTap:{scale:.98},onClick:()=>F("/workorders/it/knowledgebase"),className:`cursor-pointer px-4 py-3 text-sm font-medium ${ce?"border-b-2 border-blue-600 text-blue-600":"text-gray-700 hover:text-gray-900"} transition-colors duration-200`,children:"Knowledge Base"})]}),a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl sm:text-3xl font-bold text-gray-900",children:"IT Work Order Reports"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Comprehensive overview of work orders in the IT department."})]}),D("export_reports")&&a.jsxs(C.button,{onClick:Ct,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 rounded-lg bg-blue-600 text-white shadow-md hover:bg-blue-700 transition-colors duration-200 flex items-center",children:[a.jsx(cce,{className:"mr-2"})," Export Report"]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[a.jsx(sf,{title:"Total Requests",value:we.toString(),change:"+10% ",icon:a.jsx(or,{})}),a.jsx(sf,{title:"Resolved",value:Ge.toString(),change:"+15% ",icon:a.jsx(Lt,{})}),a.jsx(sf,{title:"Cancel",value:Ye.toString(),change:"-5% ",icon:a.jsx(It,{})}),a.jsx(sf,{title:"Escalated",value:xe.toString(),change:"+8% ",icon:a.jsx(ca,{})}),a.jsx(sf,{title:"Completion Rate",value:`${ct}%`,change:ct>70?"+12% ":"-5% ",icon:a.jsx(kR,{})}),a.jsx(sf,{title:"Avg Resolution Time",value:`${Math.round(mt)} days`,change:mt<5?"-2 days ":"+3 days ",icon:a.jsx(It,{})})]}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(kR,{className:"mr-2"})," Work Orders by Department"]}),a.jsx(al,{width:"100%",height:300,children:a.jsxs(hA,{data:tt,children:[a.jsx(Gu,{strokeDasharray:"3 3"}),a.jsx(xo,{dataKey:"name"}),a.jsx(yo,{}),a.jsx(ha,{}),a.jsx(mo,{}),a.jsx(_l,{dataKey:"value",fill:"#0081ff"})]})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Hoe,{className:"mr-2"})," Work Orders by Status"]}),a.jsx(al,{width:"100%",height:300,children:a.jsxs(fD,{children:[a.jsx(Ui,{data:wt,cx:"50%",cy:"50%",labelLine:!1,label:({name:he,percent:We})=>`${he}: ${(We*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:wt.map((he,We)=>a.jsx(Bh,{fill:Lz[We%Lz.length]},`cell-${We}`))}),a.jsx(ha,{}),a.jsx(mo,{})]})})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 mb-6 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center gap-4",children:[a.jsxs("div",{className:"relative w-full md:w-1/3",children:[a.jsx(In,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400",size:20}),a.jsx("input",{type:"text",placeholder:"Search work orders...",value:s,onChange:he=>i(he.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition-all duration-200"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 w-full md:w-2/3 justify-end",children:[a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:o,onChange:he=>l(he.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Statuses"}),a.jsx("option",{value:"New",children:"New"}),a.jsx("option",{value:"Assigned",children:"Assigned"}),a.jsx("option",{value:"In Progress",children:"In Progress"}),a.jsx("option",{value:"Escalated",children:"Escalated"}),a.jsx("option",{value:"Vendor Handled",children:"Vendor Handled"}),a.jsx("option",{value:"Resolved",children:"Resolved"}),a.jsx("option",{value:"Cancel",children:"Cancel"}),a.jsx("option",{value:"Closed",children:"Closed"})]}),a.jsx(yn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs("div",{className:"relative w-full sm:w-auto",children:[a.jsxs("select",{value:c,onChange:he=>d(he.target.value),className:"w-full sm:w-48 p-2.5 border border-gray-300 rounded-lg appearance-none focus:ring-blue-500 focus:border-blue-500 pr-8 bg-white",children:[a.jsx("option",{value:"all",children:"All Departments"}),Array.from(new Set(_.map(he=>{var We;return(We=he.department)==null?void 0:We.name}).filter(Boolean))).map(he=>a.jsx("option",{value:he,children:he},he))]}),a.jsx(yn,{className:"absolute right-3 top-3.5 text-gray-400",size:18})]}),a.jsxs(C.button,{onClick:()=>m(!h),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-white border border-gray-300 rounded-lg shadow-sm text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:[a.jsx(Va,{className:"mr-2",size:20})," Advanced Filters"]})]})]}),a.jsx(_t,{children:h&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.3},className:"overflow-hidden mt-4 pt-4 border-t border-gray-200",children:a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:a.jsx("p",{className:"text-gray-500 col-span-full",children:"More filter options coming soon!"})})})})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-x-auto",children:[a.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-4",children:"Detailed Work Order List"}),re.length===0?a.jsxs("div",{className:"text-center py-10 text-gray-500",children:[a.jsx(cn,{className:"mx-auto h-12 w-12 text-gray-400"}),a.jsx("p",{className:"mt-2 text-lg",children:"No work orders found matching your criteria."}),a.jsx("p",{className:"text-sm",children:"Try adjusting your filters or search query."})]}):a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Work Order No"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Requester"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Department"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Assigned To"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Handling Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:a.jsx(_t,{children:re.map((he,We)=>{var je,ht,gt;return a.jsxs(C.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:ze+We+1}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-blue-600",children:he.work_order_no}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((je=he.requester)==null?void 0:je.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((ht=he.department)==null?void 0:ht.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Ze(he.date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full ${Ie(he.handling_status)}`,children:he.handling_status||"Unknown"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:((gt=he.assigned_to)==null?void 0:gt.name)||"-"}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:Ze(he.handling_date)}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:a.jsxs(C.button,{onClick:()=>ft(he),whileHover:{scale:1.05},whileTap:{scale:.95},className:"text-blue-600 hover:text-blue-900 transition-colors duration-200 flex items-center",children:[a.jsx(rs,{className:"mr-1",size:16})," View"]})})]},he.id)})})})]}),ge.length>w&&a.jsxs("nav",{className:"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6",children:[a.jsxs("div",{className:"flex-1 flex justify-between sm:hidden",children:[a.jsx(C.button,{onClick:()=>ee(g-1),disabled:g===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Previous"}),a.jsx(C.button,{onClick:()=>ee(g+1),disabled:g===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"ml-3 relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50",children:"Next"})]}),a.jsxs("div",{className:"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between",children:[a.jsx("div",{children:a.jsxs("p",{className:"text-sm text-gray-700",children:["Showing ",a.jsx("span",{className:"font-medium",children:ze+1})," to ",a.jsx("span",{className:"font-medium",children:Math.min(Oe,ge.length)})," of"," ",a.jsx("span",{className:"font-medium",children:ge.length})," results"]})}),a.jsx("div",{children:a.jsxs("nav",{className:"relative z-0 inline-flex rounded-md shadow-sm -space-x-px","aria-label":"Pagination",children:[a.jsxs(C.button,{onClick:()=>ee(g-1),disabled:g===1,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Previous"}),a.jsx(Ml,{className:"h-5 w-5","aria-hidden":"true"})]}),[...Array(se)].map((he,We)=>a.jsx(C.button,{onClick:()=>ee(We+1),whileHover:{scale:1.05},whileTap:{scale:.95},className:`relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium ${g===We+1?"bg-blue-600 text-white":"bg-white text-gray-700 hover:bg-gray-50"}`,children:We+1},We)),a.jsxs(C.button,{onClick:()=>ee(g+1),disabled:g===se,whileHover:{scale:1.05},whileTap:{scale:.95},className:"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50",children:[a.jsx("span",{className:"sr-only",children:"Next"}),a.jsx(Zr,{className:"h-5 w-5","aria-hidden":"true"})]})]})})]})]})]})]})]}),a.jsx(h7e,{isOpen:z,onClose:Rt,workOrder:L})]})},p7e=t=>{const e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()));e.setUTCDate(e.getUTCDate()+4-(e.getUTCDay()||7));const r=new Date(Date.UTC(e.getUTCFullYear(),0,1));return Math.ceil(((e.getTime()-r.getTime())/864e5+1)/7)},Mi=t=>t==null||t===""?"N/A":String(t),wQ=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-60 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Ai=({label:t,value:e,className:r="",valueColorClass:n="text-gray-900"})=>a.jsxs("div",{className:`p-4 bg-gray-50 backdrop-brightness-50 rounded-lg shadow-sm ${r}`,children:[a.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase",children:t}),a.jsx("p",{className:`mt-1 text-sm font-semibold ${n}`,children:e??"N/A"})]}),k5=({title:t})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:t}),g7e=({record:t,onUpdateRecord:e})=>a.jsxs("div",{className:"space-y-6",children:[a.jsx(k5,{title:"Monitoring Details"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ai,{label:"Monitoring Interval",value:Mi(t.interval)}),a.jsx(Ai,{label:"Unit",value:Mi(t.unitWilayah)}),a.jsx(Ai,{label:"Machine",value:Mi(t.mesin)}),a.jsx(Ai,{label:"Item",value:Mi(t.item)}),a.jsx(Ai,{label:"Unit of Measure",value:Mi(t.unitOfMeasure)}),a.jsx(Ai,{label:"Monitoring Result",value:Mi(t.monitoringResult),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"}),a.jsx(Ai,{label:"MS Status",value:Mi(t.msStatus),valueColorClass:t.msStatus==="MS"?"text-green-600":t.msStatus==="TMS"?"text-red-600":"text-gray-900"})]}),a.jsx(k5,{title:"Standard"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[a.jsx(Ai,{label:"Standard (Min)",value:Mi(t.standardMin)}),a.jsx(Ai,{label:"Standard (Max)",value:Mi(t.standardMax)}),a.jsx(Ai,{label:"Visual Standard",value:Mi(t.standartVisual),className:"md:col-span-2"})]}),a.jsx(k5,{title:"Description"}),a.jsx("div",{className:"grid grid-cols-1",children:a.jsx(Ai,{label:"Notes",value:Mi(t.notes)})})]}),x7e=({records:t})=>{const[e,r]=x.useState(""),[n,s]=x.useState("");console.log("Trend Analysis - Total records:",t.length),console.log("Trend Analysis - Sample records:",t.slice(0,3));const i=x.useMemo(()=>{if(!t||t.length===0)return console.log("No records available for machines"),[""];const w=[...new Set(t.filter(j=>j.mesin&&j.mesin!=="N/A"&&j.mesin.trim()!=="").map(j=>j.mesin))].sort();return console.log("Available machines:",w),["",...w]},[t]),o=x.useMemo(()=>{if(!e||e==="")return console.log("No machine selected for items"),[""];const w=t.filter(v=>v.mesin===e&&v.item&&v.item!=="N/A"&&v.item.trim()!=="").map(v=>v.item),j=[...new Set(w)].sort();return console.log(`Available items for ${e}:`,j),["",...j]},[t,e]),l=x.useMemo(()=>{if(!e||!n||e===""||n==="")return console.log("Missing selection for trend data"),[];const w=t.filter(j=>{const v=j.mesin===e,N=j.item===n,T=j.id.startsWith("activity-"),S=j.monitoringResult&&j.monitoringResult!=="N/A"&&j.monitoringResult!=="MS"&&j.monitoringResult!=="TMS"&&!isNaN(parseFloat(j.monitoringResult))&&isFinite(parseFloat(j.monitoringResult));return console.log(`Record ${j.id}:`,{machineMatch:v,itemMatch:N,hasActivity:T,monitoringResult:j.monitoringResult,isNumeric:S,parsedValue:S?parseFloat(j.monitoringResult):null}),v&&N&&T&&S}).sort((j,v)=>new Date(j.date).getTime()-new Date(v.date).getTime()).map(j=>{const v=parseFloat(j.monitoringResult);return console.log(`Trend data point: ${j.date}, ${j.monitoringResult}, numeric: ${v}`),{date:new Date(j.date),dateString:new Date(j.date).toLocaleDateString("en-US"),result:v,msStatus:j.msStatus,notes:j.notes,machine:j.mesin,item:j.item,standardMin:j.standardMin,standardMax:j.standardMax,isActivity:j.id.startsWith("activity-")}});return console.log(`Trend data for ${e} - ${n}:`,w),w},[t,e,n]),c=x.useMemo(()=>{if(l.length===0)return console.log("No trend data available for analysis"),null;try{const w=l.map(Z=>Z.result);console.log("Analysis results:",w);const j=w.reduce((Z,oe)=>Z+oe,0)/w.length,v=[...w].sort((Z,oe)=>Z-oe),N=v.length%2===0?(v[v.length/2-1]+v[v.length/2])/2:v[Math.floor(v.length/2)],T=w.reduce((Z,oe)=>Z+Math.pow(oe-j,2),0)/w.length,S=Math.sqrt(T),O=Math.min(...w),_=Math.max(...w),A=_-O,E=l.map(Z=>Z.date.getTime()),P=l.map(Z=>Z.result),$=E.length,I=E.reduce((Z,oe)=>Z+oe,0),L=P.reduce((Z,oe)=>Z+oe,0),R=E.reduce((Z,oe,le)=>Z+oe*P[le],0),z=E.reduce((Z,oe)=>Z+oe*oe,0),Y=$*z-I*I,q=Y!==0?($*R-I*L)/Y:0,H=Y!==0?(L-q*I)/$:0,D=q>.001?"increasing":q<-.001?"decreasing":"stable",F=S>0?Math.abs(q)/S:0,K=l.filter(Z=>Math.abs(Z.result-j)>2*S),te=l[0],W=te.standardMin!==null&&te.standardMax!==null?l.filter(Z=>Z.result>=(te.standardMin||0)&&Z.result<=(te.standardMax||1/0)).length/l.length*100:null;return{mean:j,median:N,stdDev:S,min:O,max:_,range:A,count:w.length,trendDirection:D,trendStrength:F*1e3,slope:q,outliers:K,withinStandard:W,coefficientOfVariation:j>0?S/j*100:0}}catch(w){return console.error("Error in statistical analysis:",w),null}},[l]),d=x.useMemo(()=>{const w=t.length,j=new Set(t.map(T=>T.mesin)).size,v=t.filter(T=>T.msStatus==="MS").length,N=w>0?v/w*100:0;return[{title:"Total Monitoring Items",value:w.toLocaleString("id-ID"),icon:a.jsx(or,{})},{title:"Machines Monitored",value:j.toLocaleString("id-ID"),icon:a.jsx(Dh,{})},{title:"Success Rate",value:`${N.toFixed(1)}%`,icon:a.jsx(Lt,{})}]},[t]),h=x.useMemo(()=>{const w={};return t.forEach(j=>{j.mesin&&(w[j.mesin]=(w[j.mesin]||0)+1)}),Object.entries(w).sort(([,j],[,v])=>v-j).slice(0,5).map(([j,v])=>({name:j,count:v}))},[t]),m=x.useMemo(()=>{const w={};return t.forEach(j=>{if(j.date){const v=new Date(j.date),N=v.getFullYear(),T=(v.getMonth()+1).toString().padStart(2,"0"),S=`${N}-${T}`;w[S]=(w[S]||0)+1}}),Object.entries(w).sort(([j],[v])=>j.localeCompare(v)).map(([j,v])=>{const[N,T]=j.split("-");return{name:`${new Date(Number(N),Number(T)-1,1).toLocaleString("en-US",{month:"short"})} ${N}`,"Monitoring Events":v}})},[t]),g=x.useMemo(()=>{const w={MS:0,TMS:0,"N/A":0};return t.forEach(j=>{const v=j.msStatus||"N/A";w[v]=(w[v]||0)+1}),[{name:"MS",value:w.MS},{name:"TMS",value:w.TMS},{name:"N/A",value:w["N/A"]}].filter(j=>j.value>0)},[t]),y=["#10B981","#EF4444","#6B7280"];return console.log("Current selection:",{selectedMachine:e,selectedItem:n}),console.log("Trend data length:",l.length),console.log("Analysis available:",c!==null),!e||!n?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:d.map((w,j)=>a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:j*.1,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:w.title}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:w.value})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:w.icon})]})},w.title))}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8",children:[a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Bi,{className:"mr-2 text-blue-600"})," Most Monitored Machines"]}),a.jsx("div",{className:"space-y-3",children:h.map((w,j)=>a.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[a.jsxs("div",{className:"flex items-center",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-lg flex items-center justify-center mr-3",children:a.jsx("span",{className:"text-blue-600 font-bold text-sm",children:j+1})}),a.jsx("span",{className:"font-medium text-gray-800",children:w.name})]}),a.jsxs("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-semibold",children:[w.count," events"]})]},w.name))})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 flex flex-col items-center justify-center",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Lt,{className:"mr-2 text-blue-600"})," Status Distribution"]}),g.length>0?a.jsx("div",{className:"w-full h-64",children:a.jsx(al,{width:"100%",height:"100%",children:a.jsxs(fD,{children:[a.jsx(Ui,{data:g,cx:"50%",cy:"50%",labelLine:!1,outerRadius:80,fill:"#8884d8",dataKey:"value",nameKey:"name",label:({name:w,percent:j})=>`${w} ${(j*100).toFixed(0)}%`,children:g.map((w,j)=>a.jsx(Bh,{fill:y[j%y.length]},`cell-${j}`))}),a.jsx(ha,{contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[`${w} events`,"Count"]})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for status distribution."})]})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Nu,{className:"mr-2 text-blue-600"})," Monitoring Trend Over Time"]}),m.length>0?a.jsx("div",{className:"h-80",children:a.jsx(al,{width:"100%",height:"100%",children:a.jsxs(fA,{data:m,children:[a.jsx(Gu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(xo,{dataKey:"name",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(yo,{allowDecimals:!1,tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ha,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"}}),a.jsx(cd,{type:"monotone",dataKey:"Monitoring Events",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})}):a.jsx("p",{className:"text-center text-gray-500 mt-4 text-sm",children:"No data for monitoring trend."})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-8 border border-blue-50",children:[a.jsxs("div",{className:"text-center",children:[a.jsx(Nu,{className:"mx-auto text-gray-300 mb-4",size:64}),a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Detailed Trend Analysis"}),a.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:t.length===0?"No monitoring data available for analysis.":"Select a machine and monitoring item to visualize trends and analyze performance patterns over time."})]}),t.length>0&&a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-2xl mx-auto",children:[a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Machine"}),a.jsxs("select",{value:e,onChange:w=>{console.log("Machine selected:",w.target.value),r(w.target.value),s("")},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900",children:[a.jsx("option",{value:"",children:"Choose machine..."}),i.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))]}),e&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[o.length-1," item(s) available for this machine"]})]}),a.jsxs("div",{className:"space-y-3",children:[a.jsx("label",{className:"block text-sm font-semibold text-gray-900",children:"Select Item"}),a.jsxs("select",{value:n,onChange:w=>{console.log("Item selected:",w.target.value),s(w.target.value)},className:"w-full px-4 py-3 rounded-xl border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 text-gray-900 disabled:opacity-50",disabled:!e,children:[a.jsx("option",{value:"",children:e?o.length>1?"Choose item...":"No items available":"Select machine first"}),o.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))]}),n&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l.length," data point(s) available for analysis"]})]})]})]})]}):l.length===0?a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(ia,{className:"mx-auto text-gray-300 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"No numeric data available for analysis"}),a.jsxs("p",{className:"text-gray-400 text-sm mb-4",children:['The selected item "',n,'" for machine "',e,`" doesn't have numeric monitoring results.`]}),a.jsx("p",{className:"text-gray-400 text-xs",children:"Monitoring results must be numeric values (numbers) for trend analysis."}),a.jsx("button",{onClick:()=>{r(""),s("")},className:"mt-4 px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors",children:"Select Different Machine/Item"})]})]}):c?a.jsxs("div",{className:"space-y-8",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-4",children:[a.jsxs("div",{children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("p",{className:"text-gray-600",children:[e," • ",n]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[a.jsx("select",{value:e,onChange:w=>{r(w.target.value),s("")},className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:i.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))}),a.jsx("select",{value:n,onChange:w=>s(w.target.value),className:"px-4 py-2 rounded-lg border border-gray-200 bg-white focus:ring-2 focus:ring-blue-500 focus:border-transparent text-sm text-gray-900",children:o.slice(1).map(w=>a.jsx("option",{value:w,children:w},w))})]})]})}),a.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.1},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Data Points"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.count})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(or,{className:"w-6 h-6"})})]})}),a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.2},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Average Value"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.mean.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-green-50 text-green-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(Nu,{className:"w-6 h-6"})})]})}),a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:"Standard Deviation"}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:c.stdDev.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsx("div",{className:"p-2 rounded-full bg-purple-50 text-purple-600 text-2xl opacity-90 transition-all duration-200",children:a.jsx(Li,{className:"w-6 h-6"})})]})})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Nu,{className:"mr-2 text-blue-600"})," Trend Visualization"]}),a.jsx("div",{className:"h-80",children:a.jsx(al,{width:"100%",height:"100%",children:a.jsxs(fA,{data:l,children:[a.jsx(Gu,{strokeDasharray:"3 3",stroke:"#e0e7ff"}),a.jsx(xo,{dataKey:"dateString",tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(yo,{tickLine:!1,axisLine:!1,style:{fontSize:"12px",fill:"#6B7280"}}),a.jsx(ha,{cursor:{fill:"rgba(239, 246, 255, 0.7)"},contentStyle:{backgroundColor:"#fff",border:"1px solid #e0e7ff",borderRadius:"8px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)",padding:"10px"},formatter:w=>[w,"Value"]}),a.jsx(cd,{type:"monotone",dataKey:"result",stroke:"#3B82F6",strokeWidth:2,dot:{r:4},activeDot:{r:6}})]})})})]}),a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50",children:[a.jsxs("h3",{className:"text-xl font-bold text-gray-900 mb-4 flex items-center",children:[a.jsx(Bi,{className:"mr-2 text-blue-600"})," Statistical Summary"]}),a.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6",children:[a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Minimum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.min.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Maximum"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.max.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Median"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.median.toLocaleString(void 0,{maximumFractionDigits:2})})]}),a.jsxs("div",{className:"text-center p-4 bg-gray-50 rounded-lg",children:[a.jsx("p",{className:"text-sm text-gray-600 mb-2",children:"Range"}),a.jsx("p",{className:"text-xl font-bold text-gray-900",children:c.range.toLocaleString(void 0,{maximumFractionDigits:2})})]})]})]}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100 overflow-hidden",children:[a.jsxs("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:["Raw Data (",l.length," records)"]}),a.jsx("div",{className:"overflow-x-auto",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Notes"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map((w,j)=>a.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:w.dateString}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:w.result.toLocaleString()}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:a.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ${w.msStatus==="MS"?"bg-green-100 text-green-800":w.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:w.msStatus||"N/A"})}),a.jsx("td",{className:"px-6 py-4 text-sm text-gray-500 max-w-xs",children:w.notes||"-"})]},j))})]})})]})]}):a.jsxs("div",{className:"space-y-6 bg-white rounded-2xl shadow-sm p-8 border border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Trend Analysis"}),a.jsxs("div",{className:"text-center py-12",children:[a.jsx(Xt,{className:"mx-auto text-yellow-500 mb-4",size:48}),a.jsx("p",{className:"text-gray-600 text-lg mb-2",children:"Unable to analyze data"}),a.jsx("p",{className:"text-gray-400 text-sm",children:"There was an error processing the data for analysis."})]})]})},y7e=x.createContext(void 0),b7e=({isOpen:t,onClose:e,schedules:r,onSelectSchedule:n,titleDate:s})=>{const i=l=>{n(l)},o=r.reduce((l,c)=>{const d=String(c.scheduleId||"unknown");return l[d]||(l[d]={scheduleId:d,machine:c.mesin,unit:c.unitWilayah,interval:c.interval,items:[]}),l[d].items.push(c),l},{});return a.jsx(wQ,{isOpen:t,onClose:e,title:`Schedules for ${new Date(s).toLocaleDateString("en-US",{weekday:"long",day:"numeric",month:"long",year:"numeric"})}`,className:"max-w-2xl",children:a.jsx("div",{className:"space-y-4",children:r.length===0?a.jsx("p",{className:"text-gray-600 text-center py-4",children:"No schedules for this date."}):Object.values(o).map(l=>a.jsxs("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:[a.jsx("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:a.jsxs("div",{className:"flex justify-between items-start",children:[a.jsxs("div",{children:[a.jsx("h4",{className:"font-semibold text-gray-800 text-lg",children:l.machine}),a.jsxs("p",{className:"text-sm text-gray-600 mt-1",children:[l.items.length," item(s) • ",l.interval," • ",l.unit]})]}),a.jsx("div",{className:"text-right",children:l.items.every(c=>c.scheduleStatus===l.items[0].scheduleStatus)&&a.jsx("span",{className:`text-xs px-2 py-1 rounded ${mA(l.items[0].scheduleStatus)}`,children:l.items[0].scheduleStatus||"New"})})]})}),a.jsx("div",{className:"divide-y divide-gray-100",children:l.items.map((c,d)=>a.jsxs(C.button,{whileHover:{scale:1.02,backgroundColor:"rgba(239, 246, 255, 0.7)"},whileTap:{scale:.98},onClick:()=>i(c),className:"w-full text-left p-4 hover:bg-blue-50 transition-colors duration-150 flex justify-between items-center",children:[a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"font-medium text-gray-800 text-base",children:c.item}),a.jsxs("div",{className:"flex flex-wrap gap-2 mt-2",children:[a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${mA(c.scheduleStatus)}`,children:["Status: ",c.scheduleStatus||"New"]}),c.monitoringResult&&c.monitoringResult!=="N/A"&&a.jsxs("span",{className:"text-xs bg-purple-100 text-purple-800 px-2 py-1 rounded",children:["Result: ",c.monitoringResult]}),c.msStatus&&c.msStatus!=="N/A"&&a.jsxs("span",{className:`text-xs px-2 py-1 rounded ${c.msStatus==="MS"?"bg-green-100 text-green-800":c.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:["MS: ",c.msStatus]})]})]}),a.jsx("div",{className:"ml-4",children:a.jsx(Zr,{className:"text-gray-400",size:16})})]},`${c.id}-${d}`))})]},l.scheduleId))})})},mA=(t="New")=>{switch(t){case"New":return"bg-blue-100 text-blue-800 border-blue-200";case"On Progress":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"Done":return"bg-green-100 text-green-800 border-green-200";case"Cancelled":return"bg-red-100 text-red-800 border-red-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},$z=()=>{const t=jt(),{getMonitoringSchedules:e,getAllMasterMonitoring:r,getMonitoringScheduleById:n}=Nt(),[s,i]=x.useState(()=>{const J=localStorage.getItem("sidebarOpen");return JSON.parse(J||"false")}),[o,l]=x.useState(!1),[c,d]=x.useState(!0),[h,m]=x.useState(null),[g,y]=x.useState(window.innerWidth<768),[w,j]=x.useState(!1),[v,N]=x.useState(!1),[T,S]=x.useState(!1),[O,_]=x.useState(!1),[A,E]=x.useState(null),[P,$]=x.useState("calendar"),[I,L]=x.useState(null),[R,z]=x.useState(null),[Y,q]=x.useState([]),[H,D]=x.useState([]),[F,K]=x.useState([]),[te,W]=x.useState(""),[Z,oe]=x.useState(!1),[le,ce]=x.useState(1),[pe,Ie]=x.useState([]),[Ee,ge]=x.useState([]),[Oe,ze]=x.useState([]),[re,se]=x.useState({startDate:null,endDate:null,selectedUnits:[]}),[ee,we]=x.useState(!1),[Ge,Ye]=x.useState([]),[xe,ct]=x.useState(""),mt=x.useRef(null),tt=x.useRef(null),wt=x.useMemo(()=>pe.map(J=>{var rt;const ie=Ee.flatMap(He=>He.mesin).find(He=>He.id===J.id_mesins),Se=(ie==null?void 0:ie.name)||`Machine ${J.id_mesins}`,Ve=((rt=J.monitoring_interval)==null?void 0:rt.type_interval)||"weekly";return{id:`schedule-${J.id_monitoring_schedule}`,mesin:Se,item:"",interval:Ve,unitWilayah:J.unit,unitOfMeasure:"N/A",standardMin:null,standardMax:null,standartVisual:"N/A"}}),[pe,Ee]),Ct=x.useCallback((J,ie,Se)=>{const Ve=[];J.forEach(He=>{var Cr;const Ce=Se.flatMap(ot=>ot.mesin).find(ot=>ot.id===He.id_mesins),$e=(Ce==null?void 0:Ce.name)||`Machine ${He.id_mesins}`,it=((Cr=He.monitoring_interval)==null?void 0:Cr.type_interval)||"weekly",Wt=it==="weekly"?"Weekly":it==="monthly"?"Monthly":it==="quarterly"?"3 Months":it==="semi-annual"?"6 Months":it==="yearly"?"1 Year":"Daily",ur=He.item_mesins&&He.item_mesins.length>0?He.item_mesins:(Ce==null?void 0:Ce.item_mesin)||[];He.monitoring_activities&&He.monitoring_activities.length>0?He.monitoring_activities.forEach(ot=>{var Te;let kt=ur.find(Be=>Be.id===ot.id_item_mesin);if(!kt)for(const Be of Se){for(const fe of Be.mesin){const Qe=(Te=fe.item_mesin)==null?void 0:Te.find(bt=>bt.id===ot.id_item_mesin);if(Qe){kt=Qe;break}}if(kt)break}kt||(console.warn(`Item mesin not found for activity ${ot.id_monitoring_activity}, item_mesin_id: ${ot.id_item_mesin}`),kt={id:ot.id_item_mesin,item_mesin:"Unknown Item",satuan:"N/A",standard_min:null,standard_max:null,standard_visual:"N/A",interval_id:1,mesin_id:He.id_mesins,created_at:"",updated_at:""});let dr="N/A";ot.hasil_ms_tms==="ms"?dr="MS":ot.hasil_ms_tms==="tms"&&(dr="TMS");let Me=ot.hasil_monitoring||"N/A";if(ot.hasil_monitoring&&ot.hasil_monitoring!=="N/A"){const Be=parseFloat(ot.hasil_monitoring);!isNaN(Be)&&isFinite(Be)&&(Me=Be.toString())}Ve.push({id:`activity-${ot.id_monitoring_activity}`,mesin:$e,date:ot.tgl_monitoring,interval:Wt,unitWilayah:He.unit,item:kt.item_mesin||"Unknown Item",unitOfMeasure:kt.satuan||"N/A",standardMin:kt.standard_min?parseFloat(kt.standard_min):null,standardMax:kt.standard_max?parseFloat(kt.standard_max):null,standartVisual:kt.standard_visual||"N/A",monitoringResult:Me,msStatus:dr,notes:ot.hasil_keterangan||"N/A",perbaikanPerawatan:"Preventive",description:`Monitoring activity for ${$e}`,pic:"System",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:He.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:He.id_monitoring_schedule,scheduleStatus:He.status||"New"})}):ur.forEach(ot=>{Ve.push({id:`schedule-${He.id_monitoring_schedule}-scheduled-${ot.id}`,mesin:$e,date:He.tgl_start,interval:Wt,unitWilayah:He.unit,item:ot.item_mesin||"Unknown Item",unitOfMeasure:ot.satuan||"N/A",standardMin:ot.standard_min?parseFloat(ot.standard_min):null,standardMax:ot.standard_max?parseFloat(ot.standard_max):null,standartVisual:ot.standard_visual||"N/A",monitoringResult:"N/A",msStatus:"N/A",notes:"Scheduled monitoring - Not yet performed",perbaikanPerawatan:"Preventive",description:`Scheduled monitoring for ${$e}`,pic:"N/A",shift:"N/A",group:"N/A",stopJam:0,stopMenit:0,startJam:0,startMenit:0,stopTime:"N/A",unit:He.unit,runningHour:0,itemTrouble:"N/A",jenisGangguan:"N/A",bentukTindakan:"N/A",rootCause:"N/A",jenisAktivitas:"Monitoring",kegiatan:"Routine inspection",kodePart:"N/A",sparePart:"N/A",idPart:"N/A",jumlah:0,unitSparePart:"N/A",scheduleId:He.id_monitoring_schedule,scheduleStatus:He.status||"New"})})}),console.log("Converted records:",Ve.length),console.log("Sample converted records:",Ve.slice(0,5));const rt=Ve.filter(He=>He.monitoringResult&&He.monitoringResult!=="N/A"&&!isNaN(parseFloat(He.monitoringResult)));return console.log("Numeric records available:",rt.length),console.log("Numeric records sample:",rt.slice(0,3)),Ve},[]),[ft,Rt]=x.useState([]),Ze=300*1e3,[he,We]=x.useState(null);x.useEffect(()=>{let J=!0;const ie=new AbortController;return(async()=>{var rt,He,Ce;if(!J)return;const Ve=Date.now();if(he&&Ve-he.timestamp<Ze){Ie(he.schedules),ge(he.masterData.unitsWithMachines||[]),ze(he.masterData.intervals||[]);const $e=Ct(he.schedules,[],he.masterData.unitsWithMachines||[]);Rt($e),d(!1);return}try{d(!0),m(null);const[$e,it]=await Promise.all([e(),r()]);if(!J)return;console.log("Schedules data:",$e),console.log("Master data:",it),console.log("Units with machines:",it.unitsWithMachines),it.unitsWithMachines&&it.unitsWithMachines.length>0&&console.log("Sample machine items:",(Ce=(He=(rt=it.unitsWithMachines[0])==null?void 0:rt.mesin)==null?void 0:He[0])==null?void 0:Ce.item_mesin),We({schedules:$e,masterData:it,timestamp:Ve}),Ie($e),ge(it.unitsWithMachines||[]),ze(it.intervals||[]);const Wt=Ct($e,[],it.unitsWithMachines||[]);Rt(Wt)}catch($e){if(!J)return;m($e instanceof Error?$e.message:"Failed to fetch data")}finally{J&&d(!1)}})(),()=>{J=!1,ie.abort()}},[e,r,Ct,he]);const je={role:"Unit Head Engineering"},ht=x.useMemo(()=>["",...new Set(ft.map(J=>J.unitWilayah))],[ft]),gt=x.useMemo(()=>["",...new Set(ft.map(J=>J.mesin))],[ft]);x.useMemo(()=>["",...new Set(ft.map(J=>J.item))],[ft]);const St=x.useMemo(()=>{if(ft.length===0)return[];let J=ft;if(te){const ie=te.toLowerCase();if(J=J.filter(Se=>Se.mesin.toLowerCase().includes(ie)||Se.item.toLowerCase().includes(ie)||Se.unitWilayah.toLowerCase().includes(ie)),J.length===0)return[]}if(I&&R){const ie=I.toISOString().split("T")[0],Se=R.toISOString().split("T")[0];if(J=J.filter(Ve=>Ve.date>=ie&&Ve.date<=Se),J.length===0)return[]}if(Y.length>0){const ie=new Set(Y);if(J=J.filter(Se=>ie.has(Se.unitWilayah)),J.length===0)return[]}if(H.length>0){const ie=new Set(H);if(J=J.filter(Se=>ie.has(Se.mesin)),J.length===0)return[]}if(F.length>0){const ie=new Set(F);J=J.filter(Se=>ie.has(Se.item))}return J},[ft,I,R,Y,H,F,te]);x.useEffect(()=>{const J=()=>{y(window.innerWidth<768),window.innerWidth<768&&i(!1)};return window.addEventListener("resize",J),()=>window.removeEventListener("resize",J)},[]),x.useEffect(()=>{const J=ie=>{mt.current&&!mt.current.contains(ie.target)&&j(!1),tt.current&&!tt.current.contains(ie.target)&&N(!1)};return document.addEventListener("mousedown",J),()=>{document.removeEventListener("mousedown",J)}},[]);const ve=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!s)),i(J=>!J)},nt=J=>{E(J),S(!0)},Xe=x.useCallback(J=>{Rt(ie=>ie.map(Se=>Se.id===J.id?J:Se))},[]),ae=(J,ie)=>new Date(J,ie+1,0).getDate(),ne=(J,ie)=>{const Se=new Date(J,ie,1).getDay();return Se===0?6:Se-1},Ae=x.useMemo(()=>new Date,[]),[et,xt]=x.useState(Ae),ye=()=>{xt(J=>new Date(J.getFullYear(),J.getMonth()-1,1))},B=()=>{xt(J=>new Date(J.getFullYear(),J.getMonth()+1,1))},ue=()=>{xt(new Date)},be=(J,ie)=>{Ye(J),ct(ie),we(!0)},ke=J=>{console.log("Navigating with record:",J);let ie;if(J.scheduleId)ie=J.scheduleId;else if(J.id.startsWith("schedule-")){const Se=J.id.split("-");Se.length>=2&&(ie=Se[1])}else if(J.id.startsWith("activity-")){const Se=J.id.split("-");if(Se.length>=2){for(let Ve of Se)if(/^\d+$/.test(Ve)){ie=Ve;break}}}if(!ie){console.error("Could not extract schedule ID from record:",J),alert("Error: Could not determine schedule ID");return}console.log("Navigating to schedule ID:",ie),t(`/monitoringmaintenance/detailmonitoringmaintenance/${ie}`),we(!1)},Le=()=>{const J=et.getFullYear(),ie=et.getMonth(),Se=ae(J,ie),Ve=ne(J,ie),rt=[];let He=1,Ce=[],$e=null;for(let it=0;it<Ve;it++)Ce.push(a.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-pre-${it}`));for(;He<=Se;){const it=new Date(J,ie,He);$e||($e=it);const Wt=`${J}-${String(ie+1).padStart(2,"0")}-${String(He).padStart(2,"0")}`,ur=St.filter(Te=>Te.date===Wt),Cr=ur.reduce((Te,Be)=>{const fe=String(Be.scheduleId||"unknown");return Te[fe]?Te[fe].items.push(Be):Te[fe]={scheduleId:fe,machine:Be.mesin,items:[Be]},Te},{}),ot=Object.values(Cr),nr=Ae.toDateString()===it.toDateString();let kt="p-3 md:p-4 text-center border border-gray-200 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white";nr&&(kt="p-3 md:p-4 text-center border-2 border-blue-500 rounded-md flex flex-col justify-between relative min-h-[80px] md:min-h-[100px] bg-white font-bold");const dr=ot.flatMap(Te=>Te.items.map(Be=>Be.scheduleStatus||"New")),Me=Array.from(new Set(dr));if(Ce.push(a.jsxs("div",{className:kt,children:[a.jsx("span",{className:`text-sm font-semibold ${nr?"text-blue-700":"text-gray-800"}`,children:He}),a.jsx("div",{className:"flex flex-col items-center justify-center mt-1 space-y-1",children:ot.length>0&&a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:"w-full text-center text-xs px-2 py-1 rounded-md overflow-hidden bg-gray-50 hover:bg-gray-100 transition-colors shadow-sm",onClick:()=>be(ur,Wt),title:`${ot.length} schedule(s) with ${ur.length} total items`,children:[a.jsxs("div",{className:"font-semibold truncate w-full text-gray-800",children:[ot[0].machine,ot.length>1&&` +${ot.length-1}`]}),a.jsxs("div",{className:"text-xs text-gray-500 mt-0.5",children:[ur.length," item(s) in ",ot.length," schedule(s)"]}),Me.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-0.5 justify-center mt-1",children:[Me.slice(0,2).map((Te,Be)=>a.jsx("span",{className:`px-1 py-0.5 rounded text-[10px] border ${mA(Te)}`,children:Te},Be)),Me.length>2&&a.jsxs("span",{className:"px-1 py-0.5 rounded text-[10px] bg-gray-100 text-gray-600 border border-gray-200",children:["+",Me.length-2]})]})]})})]},Wt)),Ce.length===7||He===Se){for(;Ce.length<7;)Ce.push(a.jsx("div",{className:"p-3 md:p-4 text-center text-gray-400 bg-gray-50 border border-gray-200 rounded-md min-h-[80px] md:min-h-[100px] flex items-center justify-center"},`empty-post-${Ce.length}`));const Te=$e?p7e($e):null;rt.push(a.jsxs(x.Fragment,{children:[a.jsx("div",{className:"p-2 text-center font-bold text-gray-700 bg-gray-100 rounded-md border border-gray-200",children:Te!==null?` ${String(Te).padStart(2,"0")}`:""}),Ce]},`week-row-${He}`)),Ce=[],$e=null}He++}return rt};return x.useMemo(()=>{const J=ft.filter(Se=>Se),ie=[];return J.forEach(Se=>{ie.push({id:`approval-${Se.id}`,icon:a.jsx(rO,{className:"text-orange-500"}),title:`Approval Needed: ${Se.mesin} - ${Se.item}`,description:`Record for ${Se.mesin} - ${Se.item} is awaiting your approval ().`,date:new Date(Se.date).toLocaleDateString("en-US")})}),ie},[ft,je.role]),re.startDate!==null&&re.endDate,re.selectedUnits.length>0,re.selectedUnits.every(J=>J.machines.length>0&&J.machines.every(ie=>ie.selectedInterval!==null)),re.selectedUnits.every(J=>J.machines.every(ie=>ie.selectedInterval===null||ie.selectedInterval!==null&&ie.selectedItems.length>0)),a.jsx(y7e.Provider,{value:{records:ft,setRecords:Rt,routineSchedules:wt},children:a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Moninoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Dh,{}),isMobile:g,toggleSidebar:ve}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Monitoring ",a.jsx("span",{className:"text-blue-600",children:"Maintenance"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Monitor and schedule preventive maintenance tasks for all machines, and track their approval progress."})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsxs(C.button,{onClick:()=>t("/monitoringmaintenance/formmonitoringmaintenance"),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:[a.jsx(qn,{className:"w-4 h-4 mr-2"})," Add Schedule"]}),a.jsxs("div",{className:"flex space-x-1 p-1 bg-white rounded-full shadow-sm border border-gray-100",children:[a.jsxs(C.button,{onClick:()=>$("calendar"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${P==="calendar"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(Vn,{className:"w-4 h-4 mr-2"})," Calendar"]}),a.jsxs(C.button,{onClick:()=>$("table"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${P==="table"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(or,{className:"w-4 h-4 mr-2"})," Table"]}),a.jsxs(C.button,{onClick:()=>$("trend"),whileTap:{scale:.95},className:`flex items-center px-4 py-2 rounded-full text-sm font-semibold transition-colors duration-200 ${P==="trend"?"bg-blue-600 text-white shadow":"text-gray-700 hover:bg-gray-100"}`,children:[a.jsx(Nu,{className:"w-4 h-4 mr-2"})," Trend"]})]})]})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading maintenance data..."})]}):ft.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:"No monitoring data available."})]}):a.jsx(_t,{mode:"wait",children:a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.3},children:[a.jsxs("div",{className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:[a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{type:"text",placeholder:"Search by Interval, unit, or machine...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:te,onChange:J=>W(J.target.value),"aria-label":"Search records"})]}),a.jsxs(C.button,{whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},onClick:()=>oe(!Z),className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filter"}),a.jsx(C.span,{animate:{rotate:Z?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]}),a.jsx(_t,{children:Z&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:[a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Vn,{className:"text-gray-500 text-base"}),a.jsx("input",{type:"date",value:I?I.toISOString().split("T")[0]:"",onChange:J=>L(J.target.value?new Date(J.target.value):null),placeholder:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx("input",{type:"date",value:R?R.toISOString().split("T")[0]:"",onChange:J=>z(J.target.value?new Date(J.target.value):null),placeholder:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400","aria-label":"End Date",min:I?I.toISOString().split("T")[0]:void 0}),(I||R)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{L(null),z(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Date","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]}),a.jsx("div",{className:"relative w-full",children:a.jsxs("select",{value:Y.length>0?Y[0]:"",onChange:J=>q(J.target.value?[J.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[a.jsx("option",{value:"",children:"All Units"}),ht.map(J=>a.jsx("option",{value:J,children:J},J))]})}),a.jsx("div",{className:"relative w-full",children:a.jsxs("select",{value:H.length>0?H[0]:"",onChange:J=>D(J.target.value?[J.target.value]:[]),className:"w-full border border-blue-200 rounded-lg px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm text-left transition-all duration-200 shadow-sm cursor-pointer",children:[a.jsx("option",{value:"",children:"All Machines"}),gt.map(J=>a.jsx("option",{value:J,children:J},J))]})})]})})]}),P==="calendar"&&a.jsxs("div",{className:"space-y-4",children:[a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-4 border border-blue-100",children:a.jsxs("div",{className:"flex flex-wrap gap-4 justify-center text-sm",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-blue-100 border border-blue-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"New / Not Started"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-yellow-100 border border-yellow-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"On Progress"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-green-100 border border-green-400 rounded"}),a.jsx("span",{className:"text-gray-700",children:"Done / Completed"})]}),a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-4 h-4 bg-gray-100 border border-gray-300 rounded"}),a.jsx("span",{className:"text-gray-700",children:"No Schedule"})]})]})}),a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ye,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Ml,{size:20})}),a.jsx("h3",{className:"text-lg font-bold text-gray-800",children:et.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:B,className:"p-2 rounded-full text-gray-600 hover:bg-blue-50 transition-colors duration-200",children:a.jsx(Zr,{size:20})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ue,className:"px-4 py-2 bg-blue-600 text-white rounded-full text-sm font-semibold shadow-md hover:bg-blue-700 transition-colors duration-200",children:"Today"})]}),a.jsxs("div",{className:"grid grid-cols-8 gap-2 text-center text-sm font-semibold text-gray-600 mb-2",children:[a.jsx("div",{className:"text-center font-bold",children:"WN"}),a.jsx("div",{children:"Mon"}),a.jsx("div",{children:"Tue"}),a.jsx("div",{children:"Wed"}),a.jsx("div",{children:"Thu"}),a.jsx("div",{children:"Fri"}),a.jsx("div",{children:"Sat"}),a.jsx("div",{children:"Sun"})]}),a.jsx("div",{className:"grid grid-cols-8 gap-2",children:Le()})]})]}),P==="table"&&a.jsx("div",{className:"bg-white rounded-2xl shadow-md p-6 border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto bg-white rounded-lg shadow-md mt-6 animate-fade-in",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Interval"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Unit"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Machine"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Item"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Monitoring Result"}),a.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"MS Status"}),a.jsx("th",{className:"relative px-6 py-3",children:a.jsx("span",{className:"sr-only",children:"Actions"})})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:St.length>0?St.map(J=>a.jsxs(C.tr,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},className:"hover:bg-gray-50",children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.date}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.interval}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.unitWilayah}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.mesin}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:J.item}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:J.monitoringResult}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm",children:a.jsx("span",{className:`px-2.5 py-0.5 rounded-full text-xs font-semibold ${J.msStatus==="MS"?"bg-green-100 text-green-800":J.msStatus==="TMS"?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"}`,children:J.msStatus})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>nt(J),className:"text-blue-600 hover:text-blue-900 transition-colors duration-200",title:"View Details",children:a.jsx(rs,{size:18})})})]},J.id)):a.jsx("tr",{children:a.jsx("td",{colSpan:8,className:"px-6 py-4 text-center text-sm text-gray-500",children:"No monitoring data found."})})})]})})}),P==="trend"&&a.jsx(x7e,{records:St})]},P)})]})]}),a.jsx(wQ,{isOpen:T,onClose:()=>S(!1),title:"Monitoring Details",children:A&&a.jsxs(a.Fragment,{children:[a.jsx(g7e,{record:A,onUpdateRecord:Xe}),a.jsx("div",{className:"mt-6 pt-4 border-t border-gray-200 flex justify-center",children:a.jsxs(C.button,{onClick:()=>ke(A),whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-5 py-2.5 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200 font-semibold text-sm flex items-center",children:[a.jsx(rs,{className:"w-4 h-4 mr-2"}),"View Full Details"]})})]})}),a.jsx(b7e,{isOpen:ee,onClose:()=>we(!1),schedules:Ge,onSelectSchedule:ke,titleDate:xe})]})})};function v7e(t,e){const[r,n]=x.useState(t);return x.useEffect(()=>{const s=setTimeout(()=>{n(t)},e);return()=>{clearTimeout(s)}},[t,e]),r}const Fz=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),Iy=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},w7e=({vendor:t,onClose:e})=>{const r=({label:s,value:i})=>a.jsxs("div",{className:"flex flex-col",children:[a.jsx("h4",{className:"text-sm font-medium text-gray-500 mb-1",children:s}),a.jsx("p",{className:"w-full bg-blue-50 border border-blue-100 rounded-lg p-3 text-gray-800 text-base font-medium min-h-[44px] flex items-center",children:i||"-"})]}),n=({title:s})=>a.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4 pb-2 border-b border-blue-200 mt-6 first:mt-0",children:s});return a.jsxs("div",{className:"space-y-6",children:[a.jsx(n,{title:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(r,{label:"Vendor ID",value:t.id.toString()}),a.jsx(r,{label:"Vendor Name",value:t.name}),a.jsx(r,{label:"Contact Person",value:t.contact_person}),a.jsx(r,{label:"Email",value:t.email}),a.jsx(r,{label:"Telephone",value:t.telp}),a.jsx(r,{label:"Mobile Phone",value:t.HP})]}),a.jsx(n,{title:"Address Information"}),a.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.jsx(r,{label:"Address",value:t.address})}),a.jsx(n,{title:"Additional Information"}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[a.jsx(r,{label:"Created At",value:t.created_at?new Date(t.created_at).toLocaleDateString():"-"}),a.jsx(r,{label:"Updated At",value:t.updated_at?new Date(t.updated_at).toLocaleDateString():"-"})]}),a.jsx("div",{className:"flex justify-end pt-6 border-t border-gray-100 mt-8",children:a.jsx(C.button,{type:"button",onClick:e,whileHover:{scale:1.02,boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.98},className:"inline-flex items-center px-6 py-2.5 border border-transparent text-base font-semibold rounded-lg shadow-sm text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200 ease-in-out",children:"Close"})})]})},j7e=()=>{ta();const[t,e]=x.useState([]),{getVendor:r,deleteVendor:n,user:s,hasPermission:i}=Nt(),[o,l]=x.useState([]),[c,d]=x.useState(!0),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(""),[v,N]=x.useState(""),[T,S]=x.useState(!1),[O,_]=x.useState(null),[A,E]=x.useState(!1),[P,$]=x.useState(null),I=x.useRef(!0),[L,R]=x.useState(null),[z,Y]=x.useState(null),q=x.useRef(null),[H,D]=x.useState(!1),[F,K]=x.useState(""),[te]=x.useState(window.innerWidth<768),[W,Z]=x.useState(()=>{const B=localStorage.getItem("sidebarOpen");return B?JSON.parse(B):!1}),[oe,le]=x.useState(!1),[ce,pe]=x.useState(null),[Ie,Ee]=x.useState(!1),[ge,Oe]=x.useState(null),ze=jt(),[re,se]=x.useState(!1),[ee,we]=x.useState(!1),[Ge,Ye]=x.useState(!1),xe=x.useRef(null),ct=x.useRef(null),[mt,tt]=x.useState(1),[wt]=x.useState(10),[Ct,ft]=x.useState({key:"name",direction:"ascending"}),Rt=v7e(F,300),Ze=x.useMemo(()=>[{id:"name",name:"Vendor Name"},{id:"contact",name:"Contact Person"},{id:"email",name:"Email"},{id:"id",name:"Vendor ID"}],[]),he=x.useCallback(async()=>{try{d(!0);const ue=[...await r()].sort((be,ke)=>be.id-ke.id);e(ue),l(ue)}catch(B){$("Failed to load vendors"),console.error("Error loading vendors:",B)}finally{I.current&&d(!1)}},[r]);x.useEffect(()=>{he()},[he]),x.useEffect(()=>{let B=[...t];if(Rt.trim()){const ue=Rt.toLowerCase().trim();B=B.filter(be=>{var He,Ce,$e;const ke=ue.split(":");let Le="all",J=ue;ke.length>1&&Ze.some(it=>it.name.toLowerCase()===ke[0].trim())&&(Le=ke[0].trim(),J=ke.slice(1).join(":").trim());const ie=(He=be.name)==null?void 0:He.toLowerCase().includes(J),Se=(Ce=be.contact_person)==null?void 0:Ce.toLowerCase().includes(J),Ve=($e=be.email)==null?void 0:$e.toLowerCase().includes(J),rt=be.id.toString().includes(J);return Le==="vendor name"?ie:Le==="contact person"?Se:Le==="email"?Ve:Le==="vendor id"?rt:ie||Se||Ve||rt})}if(L){const ue=new Date(L);ue.setHours(0,0,0,0),B=B.filter(be=>{if(!be.created_at)return!0;const ke=new Date(be.created_at);return ke.setHours(0,0,0,0),ke>=ue})}if(z){const ue=new Date(z);ue.setHours(23,59,59,999),B=B.filter(be=>{if(!be.created_at)return!0;const ke=new Date(be.created_at);return ke.setHours(0,0,0,0),ke<=ue})}Ct!==null&&B.sort((ue,be)=>{const ke=ae(ue[Ct.key]),Le=ae(be[Ct.key]);return ke<Le?Ct.direction==="ascending"?-1:1:ke>Le?Ct.direction==="ascending"?1:-1:0}),l(B)},[t,Rt,L,z,Ct,Ze]);const We=()=>{const B=!W;Z(B),localStorage.setItem("sidebarOpen",JSON.stringify(B))},je=()=>{alert("Import functionality is not yet implemented.")},ht=B=>{const ue=B.target.value;K(ue)},gt=X.useMemo(()=>{if(!F)return Ze;const B=F.toLowerCase();return Ze.filter(ue=>ue.name.toLowerCase().includes(B))},[F,Ze]),St=B=>{var ue;K(`${B}: `),D(!1),(ue=q.current)==null||ue.focus()},ve=B=>{pe(B),Ee(!0)},nt=async B=>{try{await n(B),e(t.filter(ue=>ue.id!==B)),E(!1),Oe(null)}catch(ue){console.error("Failed to delete Vendor:",ue),$("Failed to delete vendor. Please try again.")}};x.useCallback(B=>{Oe(B),E(!0)},[]);const Xe=B=>{let ue="ascending";Ct&&Ct.key===B&&Ct.direction==="ascending"&&(ue="descending"),ft({key:B,direction:ue})},ae=B=>typeof B=="object"&&B!==null?B.name||B.toString():(B==null?void 0:B.toString())||"",ne=mt*wt,Ae=ne-wt,et=o.slice(Ae,ne),xt=Math.ceil(o.length/wt),ye=B=>tt(B);return x.useEffect(()=>{const B=ue=>{xe.current&&!xe.current.contains(ue.target)&&we(!1),ct.current&&!ct.current.contains(ue.target)&&Ye(!1),q.current&&!q.current.contains(ue.target)&&!ue.target.closest(".search-suggestions")&&D(!1)};return document.addEventListener("mousedown",B),()=>{document.removeEventListener("mousedown",B)}},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Vendor",mainTitleHighlight:"Groups",description:"Manage service groups used across the service management system.",icon:a.jsx(Aoe,{}),isMobile:te,toggleSidebar:We}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Vendors ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage vendors by specific company."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[i("create_machine_history")&&a.jsxs(C.button,{onClick:()=>ze("/vendors/addvendor"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Vendor"})]}),a.jsxs(C.button,{onClick:je,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>le(!oe),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:oe?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:[a.jsx(Iy,{title:"Total Vendors",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(Ff,{className:"w-6 h-6"})}),a.jsx(Iy,{title:"Vendors with Email",value:t.filter(B=>B.email).length.toString(),change:`+${Math.floor(t.filter(B=>B.email).length/t.length*100)}%`,icon:a.jsx(ag,{className:"w-6 h-6"})}),a.jsx(Iy,{title:"Vendors with Contact",value:t.filter(B=>B.contact_person).length.toString(),change:`+${Math.floor(t.filter(B=>B.contact_person).length/t.length*100)}%`,icon:a.jsx(ca,{className:"w-6 h-6"})}),a.jsx(Iy,{title:"Vendors with Phone",value:t.filter(B=>B.telp||B.HP).length.toString(),change:`+${Math.floor(t.filter(B=>B.telp||B.HP).length/t.length*100)}%`,icon:a.jsx(Yu,{className:"w-6 h-6"})})]}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:q,type:"text",placeholder:"Search by vendor name, contact, email, or ID...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:F,onChange:ht,onFocus:()=>D(!0),"aria-label":"Search vendors"}),a.jsx(_t,{children:H&&gt.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:gt.map(B=>a.jsx(C.button,{onClick:()=>St(B.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:B.name})},B.id))})})]})}),a.jsx(_t,{children:oe&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full",children:a.jsxs("div",{className:"flex items-center space-x-2 bg-white p-2.5 rounded-lg border border-blue-200 shadow-sm",children:[a.jsx(Vn,{className:"text-gray-500 text-base"}),a.jsx(Kf,{selected:L,onChange:B=>R(B),selectsStart:!0,startDate:L,endDate:z,placeholderText:"Start Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"Start Date"}),a.jsx("span",{className:"text-gray-400",children:"-"}),a.jsx(Kf,{selected:z,onChange:B=>Y(B),selectsEnd:!0,startDate:L,endDate:z,minDate:L||void 0,placeholderText:"End Date",className:"w-24 focus:outline-none bg-transparent text-sm text-gray-800 placeholder-gray-400",dateFormat:"dd/MM/yyyy",isClearable:!0,"aria-label":"End Date"}),(L||z)&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{R(null),Y(null)},className:"p-1 rounded-full text-gray-400 hover:bg-gray-100 transition-colors",title:"Clear Dates","aria-label":"Clear date range",children:a.jsx(at,{className:"text-base"})})]})})})]}),c?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading vendor data..."})]}):o.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx(ia,{className:"text-blue-500 text-4xl mx-auto mb-4"}),a.jsx("p",{className:"text-gray-700 text-base font-medium",children:Rt||L||z?"No vendors found matching your filters.":"No vendors available."}),(Rt||L||z)&&a.jsx("button",{onClick:()=>{K(""),R(null),Y(null)},className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear All Filters"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Xe("id"),children:["ID",(Ct==null?void 0:Ct.key)==="id"&&a.jsx("span",{className:"ml-1",children:Ct.direction==="ascending"?"↑":"↓"})]}),a.jsxs("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider cursor-pointer",onClick:()=>Xe("name"),children:["Vendor Name",(Ct==null?void 0:Ct.key)==="name"&&a.jsx("span",{className:"ml-1",children:Ct.direction==="ascending"?"↑":"↓"})]}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Address"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Contact Person"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Email"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Telp"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Handphone"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:et.map(B=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:B.name})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.address||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.contact_person||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.email||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.telp||"-"})}),a.jsx("td",{className:"px-5 py-3",children:a.jsx("div",{className:"text-sm text-gray-600 truncate max-w-xs",children:B.HP||"-"})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ve(B),className:"text-blue-600 hover:text-blue-800 transition-colors duration-200 p-1 rounded-full hover:bg-blue-50",title:"View Details","aria-label":`View details for vendor ${B.name}`,children:a.jsx(rs,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>ze(`/vendors/editvendor/${B.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit","aria-label":`Edit vendor ${B.name}`,children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>{Oe(B.id),E(!0)},className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete","aria-label":`Delete vendor ${B.name}`,children:a.jsx(an,{className:"inline text-base"})})]})]},B.id))})]})})}),o.length>wt&&a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"mt-8 flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-3 sm:space-y-0",children:[a.jsxs("div",{className:"text-sm text-gray-600",children:["Showing ",a.jsx("span",{className:"font-semibold",children:Ae+1})," to ",a.jsx("span",{className:"font-semibold",children:Math.min(ne,o.length)})," of"," ",a.jsx("span",{className:"font-semibold",children:o.length})," results"]}),a.jsxs("div",{className:"flex space-x-2",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(mt-1),disabled:mt===1,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Previous page",children:"Previous"}),Array.from({length:xt},(B,ue)=>a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(ue+1),className:`px-3.5 py-2 rounded-md transition-colors duration-200 shadow-sm font-medium text-sm
                      ${mt===ue+1?"bg-blue-600 text-white shadow-md":"bg-white text-gray-700 hover:bg-blue-50 border border-blue-200"}
                    `,"aria-label":`Go to page ${ue+1}`,children:ue+1},ue+1)),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ye(mt+1),disabled:mt===xt,className:"px-4 py-2 border border-blue-200 rounded-md bg-white text-gray-700 hover:bg-blue-50 transition-colors duration-200 disabled:opacity-50 disabled:cursor-not-allowed shadow-sm font-medium text-sm","aria-label":"Next page",children:"Next"})]})]})]})]}),ce&&a.jsx(Fz,{isOpen:Ie,onClose:()=>{Ee(!1),pe(null)},title:"Vendor Details",className:"max-w-3xl",children:a.jsx(w7e,{vendor:ce,onClose:()=>Ee(!1)})}),a.jsx(Fz,{isOpen:A,onClose:()=>E(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this Vendor? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>E(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>ge&&nt(ge),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},S7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,N7e=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),[s,i]=x.useState([]),{addVendor:o,getVendor:l}=Nt(),[c,d]=x.useState(()=>{const I=localStorage.getItem("sidebarOpen");return I?JSON.parse(I):!1}),[h,m]=x.useState(null),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v,N]=x.useState(!1),T=jt(),[S,O]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),_=()=>{d(I=>!I)},A=I=>{const{name:L,value:R}=I.target;O(z=>({...z,[L]:L==="sla"?Number(R):R}))},E=x.useCallback(async()=>{try{const[I]=await Promise.all([l()]);n(I)}catch(I){m(I.message||"Failed to load form data")}},[l]);x.useEffect(()=>{E()},[E]);const P=async I=>{I.preventDefault(),N(!0),m(null);try{const L={name:S.name,address:S.address,contact_person:S.contact_person,email:S.email,telp:S.telp,HP:S.HP};await o(L),y("Vendor created successfully!"),j(!0)}catch(L){m(L.message||"Failed to create Vendor")}finally{N(!1)}},$=()=>{j(!1),T("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:t,toggleSidebar:_}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Add a new Vendor information"})]}),a.jsxs(C.button,{onClick:()=>T("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[h&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:h}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>m(null)})})]}),a.jsxs("form",{onSubmit:P,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:S.name,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:S.address,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:S.contact_person,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:S.email,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:S.telp,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:S.HP,onChange:A,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>T("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:v,children:v?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(S7e,{isOpen:w,onClose:$,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:g}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:$,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},k7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,C7e=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getVendor:l,updateVendor:c,getVendorById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({name:"",address:"",contact_person:"",email:"",telp:"",HP:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({name:i.name||"",address:i.address||"",contact_person:i.contact_person||"",email:i.email||"",telp:i.telp||"",HP:i.HP||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={name:_.name,address:_.address,contact_person:_.contact_person,email:_.email,telp:_.telp,HP:_.HP};await c(t,z),j("Vendor update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Vendor")}finally{S(!1)}},L=()=>{N(!1),O("/vendors")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Vendor",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(It,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Vendor"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Vendor Informations"})]}),a.jsxs(C.button,{onClick:()=>O("/vendors"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Vendors Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Vendor Information"}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Vendor Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:_.name,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"address",className:"block text-sm font-medium text-gray-700 mb-1",children:["Address ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"address",id:"address",value:_.address,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"contact_person",className:"block text-sm font-medium text-gray-700 mb-1",children:["Contact Person ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"contact_person",id:"contact_person",value:_.contact_person,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:["Email ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"email",id:"email",value:_.email,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"telp",className:"block text-sm font-medium text-gray-700 mb-1",children:["Telp ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"telp",id:"telp",value:_.telp,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"HP",className:"block text-sm font-medium text-gray-700 mb-1",children:["Handphone ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"HP",id:"HP",value:_.HP,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})]})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/vendors"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Vendor"]})})]})]})]})]})]}),a.jsx(k7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Vendors Management"})]})})]})},T7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,_7e=({isOpen:t,onClose:e,onConfirm:r,title:n,message:s,confirmText:i="Confirm",cancelText:o="Cancel",type:l="approve"})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsx(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:"bg-white rounded-2xl shadow-2xl overflow-hidden max-w-md w-full border border-blue-100",children:a.jsxs("div",{className:"p-6 text-center",children:[a.jsxs("div",{className:"flex justify-center mb-4",children:[l==="approve"&&a.jsx(Lt,{className:"text-green-500 text-5xl"}),l==="feedback"&&a.jsx(kf,{className:"text-blue-500 text-5xl"}),l==="reject"&&a.jsx(Xt,{className:"text-red-500 text-5xl"}),l==="edit"&&a.jsx(Dn,{className:"text-purple-500 text-5xl"})]}),a.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:n}),a.jsx("p",{className:"text-gray-600 mb-6",children:s}),a.jsxs("div",{className:"flex justify-center space-x-3",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:e,className:"px-5 py-2.5 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 font-semibold transition-colors duration-200",children:o}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:r,className:`px-5 py-2.5 text-white rounded-lg font-semibold transition-colors duration-200 ${l==="approve"?"bg-green-600 hover:bg-green-700":l==="feedback"?"bg-blue-600 hover:bg-blue-700":l==="reject"?"bg-red-600 hover:bg-red-700":"bg-purple-600 hover:bg-purple-700"}`,children:i})]})]})})})}),M7e=()=>{var xt;ta();const t=jt(),{id:e}=ya(),{user:r,getMonitoringScheduleById:n,addMonitoringActivities:s,hasPermission:i,approveSchedule:o,getApprovalTemplates:l,updateMonitoringActivity:c}=Nt(),[d,h]=x.useState(window.innerWidth<768),[m,g]=x.useState(()=>{const ye=localStorage.getItem("sidebarOpen");return JSON.parse(ye||"false")}),y=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!m)),g(ye=>!ye)},[w,j]=x.useState(null),[v,N]=x.useState(null),[T,S]=x.useState(!1),[O,_]=x.useState(!0),[A,E]=x.useState(null),[P,$]=x.useState("approval"),[I,L]=x.useState({}),[R,z]=x.useState(null),[Y,q]=x.useState(!0),[H,D]=x.useState(null),[F,K]=x.useState(!1),[te,W]=x.useState(!1),[Z,oe]=x.useState(""),[le,ce]=x.useState(""),[pe,Ie]=x.useState(!0),[Ee,ge]=x.useState(!1),[Oe,ze]=x.useState(null);x.useEffect(()=>{(async()=>{var B,ue,be,ke;if(e)try{_(!0),E(null);const Le=await n(parseInt(e));if(D(Le),!Le)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",Le),Le.approval_template&&(z(Le.approval_template),console.log("Active template set in first useEffect:",Le.approval_template));const J={id:Le.id_monitoring_schedule.toString(),name:`${((B=Le.data_mesin)==null?void 0:B.name)||"Mesin"} - ${Le.unit}`,interval:((ue=Le.monitoring_interval)==null?void 0:ue.type_interval)||"Weekly",period:`${Le.tgl_start} - ${Le.tgl_end}`,unit:Le.unit,mesin:(be=Le.data_mesin)==null?void 0:be.name,tahun:Le.tahun,bulan:Le.bulan,tgl_start:Le.tgl_start,tgl_end:Le.tgl_end,items:((ke=Le.item_mesins)==null?void 0:ke.map(Ce=>({id:Ce.id,name:Ce.item_mesin,uom:Ce.satuan,min:Ce.standard_min?parseFloat(Ce.standard_min):void 0,max:Ce.standard_max?parseFloat(Ce.standard_max):void 0,visual:Ce.standard_visual,standard_min:Ce.standard_min,standard_max:Ce.standard_max,standard_visual:Ce.standard_visual,satuan:Ce.satuan})))||[]};j(J);const ie=Le.monitoring_activities||[],Se=Le.schedule_approvals||[],Ve={};Le.approval_template&&Le.approval_template.approvers?Le.approval_template.approvers.forEach(Ce=>{const $e=`step_${Ce.step}`,it=Se.find(Wt=>Wt.approval_step===Ce.step&&Wt.approver_id===Ce.approver_user_id);if(it){let Wt="Pending";switch(it.status){case"approved":Wt="Approved";break;case"rejected":Wt="Rejected";break;case"feedback_given":Wt="FeedbackGiven";break;default:Wt="Pending"}Ve[$e]=Wt}else Ve[$e]="Pending"}):Se.forEach(Ce=>{const $e=`step_${Ce.approval_step}`;let it="Pending";switch(Ce.status){case"approved":it="Approved";break;case"rejected":it="Rejected";break;case"feedback_given":it="FeedbackGiven";break;default:it="Pending"}Ve[$e]=it});const rt=Se.map(Ce=>{var ur;let $e="approval",it="";switch(Ce.status){case"approved":$e="approval",it=`Menyetujui laporan pada step ${Ce.approval_step}`;break;case"rejected":$e="rejection",it=`Menolak laporan pada step ${Ce.approval_step}`;break;case"feedback_given":$e="feedback",it=`Memberikan feedback pada step ${Ce.approval_step}`;break;default:$e="submission",it=`Mengajukan approval pada step ${Ce.approval_step}`}const Wt=Ce.approved_at||Ce.created_at;return{type:$e,timestamp:Wt||new Date().toISOString(),actor:((ur=Ce.approver)==null?void 0:ur.name)||`Approver Step ${Ce.approval_step}`,description:it,details:Ce.comments||void 0}});if(ie.length>0){const Ce=ie[0].created_at;rt.unshift({type:"submission",timestamp:Ce||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const He={machineId:J.id,itemResults:J.items.map(Ce=>{const $e=ie.find(Wt=>Wt.id_item_mesin===Ce.id);let it="Pending";if($e!=null&&$e.hasil_ms_tms){const Wt=$e.hasil_ms_tms.toLowerCase();Wt==="ms"?it="MS":Wt==="tms"?it="TMS":it="N/A"}return{itemId:Ce.id,result:($e==null?void 0:$e.hasil_monitoring)||"",status:it,remarks:($e==null?void 0:$e.hasil_keterangan)||""}}),approvalStatus:Ve,commentsHistory:[],activityHistory:rt,isSaved:ie.length>0,submissionDate:ie.length>0?new Date().toISOString():void 0,currentApprovalStep:we(Se,Le.approval_template)};N(He)}catch(Le){E(Le instanceof Error?Le.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",Le)}finally{_(!1)}})()},[e,n]);const re=x.useMemo(()=>{var ye,B,ue,be,ke,Le;return r?r.position?{id:r.id,name:r.position,isDepartmentHead:r.position.toLowerCase().includes("head")||r.position.toLowerCase().includes("manager"),isSuperadmin:r.roleId==="3"}:r.roleId==="1"?{id:"1",name:"admin",isDepartmentHead:!0}:r.roleId==="3"?{id:"3",name:"superadmin",isSuperadmin:!0}:(B=(ye=r.department)==null?void 0:ye.name)!=null&&B.toLowerCase().includes("engineering")?(ue=r.position)!=null&&ue.toLowerCase().includes("head")?{id:"unitHeadEngineering",name:"Unit Head Engineering",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:(ke=(be=r.department)==null?void 0:be.name)!=null&&ke.toLowerCase().includes("process")?(Le=r.position)!=null&&Le.toLowerCase().includes("head")?{id:"unitHeadProcess",name:"Unit Head Process",isDepartmentHead:!0}:{id:"technician",name:"Technician"}:{id:"technician",name:"Technician"}:{id:"guest",name:"Guest"}},[r]),se=x.useCallback(ye=>{if(!R||!R.approvers||!r)return console.log(`❌ isUserApproverForStep ${ye}: Missing data`),!1;const B=R.approvers.find(be=>be.step===ye&&be.approver_user_id.toString()===r.id),ue=!!B;return console.log(`🔍 IS USER APPROVER STEP ${ye}:`,{step:ye,userID:r.id,userName:r.name,approverUserID:B==null?void 0:B.approver_user_id,approverName:B==null?void 0:B.approver.name,MATCH:ue}),ue},[R,r]),ee=x.useCallback(()=>{if(!v||!(R!=null&&R.approvers))return console.log("❌ GET CURRENT STEP: No monitoringResults or approvers"),1;const ye=[...R.approvers].sort((ue,be)=>ue.step-be.step);console.log("🔍 GET CURRENT STEP - All approvers status:",v.approvalStatus);for(let ue=0;ue<ye.length;ue++){const be=ye[ue],ke=`step_${be.step}`,Le=v.approvalStatus[ke]||"Pending";if(console.log(`🔍 Checking step ${be.step}:`,{stepKey:ke,status:Le,isPending:Le==="Pending"}),Le==="Pending")return console.log(`✅ CURRENT ACTIVE STEP FOUND: ${be.step}`),be.step}const B=ye.length+1;return console.log(`✅ ALL STEPS APPROVED, NEXT STEP: ${B}`),B},[v,R]);x.useEffect(()=>{var ye;v&&R&&r&&(console.log("=== 🎯 DEBUG ACTIONS VISIBILITY ==="),console.log("User:",{id:r.id,name:r.name}),console.log("Template:",R.name),console.log("Is Saved:",v.isSaved),(ye=R.approvers)==null||ye.forEach(B=>{const ue=`step_${B.step}`,be=v.approvalStatus[ue],ke=gt(B.step,B,be);console.log(`🎯 Step ${B.step} - ${B.approver.name}:`,{status:be,shouldShowActions:ke,isCurrentUser:B.approver_user_id.toString()===r.id,conditions:{isCurrentApprover:B.approver_user_id.toString()===r.id,needsAction:be==="Pending",isCurrentStep:ee()===B.step,isPreviousStepApproved:B.step===1?!0:v.approvalStatus[`step_${B.step-1}`]==="Approved"}})}))},[v,R,r]);const we=(ye,B)=>{if(!B||!B.approvers)return 1;const ue=[...B.approvers].sort((ke,Le)=>ke.step-Le.step);console.log("Getting current step from approvals:",{approvalsCount:ye.length,approversCount:ue.length});for(let ke=0;ke<ue.length;ke++){const Le=ue[ke],J=ye.find(ie=>ie.approval_step===Le.step&&ie.approver_id===Le.approver_user_id);if(console.log(`Step ${Le.step}:`,{hasApproval:!!J,status:J==null?void 0:J.status,isApproved:(J==null?void 0:J.status)==="approved"}),!J||J.status!=="approved")return console.log(`Current step from approvals: ${Le.step}`),Le.step}const be=ue.length+1;return console.log(`All steps approved from approvals, next step: ${be}`),be},Ge=(ye,B)=>H?(H.schedule_approvals||[]).find(be=>be.approval_step===ye&&be.approver_id===B.approver_user_id):null,Ye=x.useCallback(async()=>{var ye,B,ue,be;if(e)try{_(!0),E(null);const ke=await n(parseInt(e));if(D(ke),!ke)throw new Error("Data monitoring schedule tidak ditemukan");console.log("Schedule data dengan approvals:",ke),ke.approval_template&&(z(ke.approval_template),console.log("Active template set:",ke.approval_template));const Le={id:ke.id_monitoring_schedule.toString(),name:`${((ye=ke.data_mesin)==null?void 0:ye.name)||"Mesin"} - ${ke.unit}`,interval:((B=ke.monitoring_interval)==null?void 0:B.type_interval)||"Weekly",period:`${ke.tgl_start} - ${ke.tgl_end}`,unit:ke.unit,mesin:(ue=ke.data_mesin)==null?void 0:ue.name,tahun:ke.tahun,bulan:ke.bulan,tgl_start:ke.tgl_start,tgl_end:ke.tgl_end,items:((be=ke.item_mesins)==null?void 0:be.map(He=>({id:He.id,name:He.item_mesin,uom:He.satuan,min:He.standard_min?parseFloat(He.standard_min):void 0,max:He.standard_max?parseFloat(He.standard_max):void 0,visual:He.standard_visual,standard_min:He.standard_min,standard_max:He.standard_max,standard_visual:He.standard_visual,satuan:He.satuan})))||[]};j(Le);const J=ke.monitoring_activities||[],ie=ke.schedule_approvals||[],Se={};ke.approval_template&&ke.approval_template.approvers&&ke.approval_template.approvers.forEach(He=>{const Ce=`step_${He.step}`,$e=ie.find(it=>it.approval_step===He.step&&it.approver_id===He.approver_user_id);if($e){let it="Pending";switch($e.status){case"approved":it="Approved";break;case"rejected":it="Rejected";break;case"feedback_given":it="FeedbackGiven";break;default:it="Pending"}Se[Ce]=it}else Se[Ce]="Pending",console.log(`✅ Step ${He.step} di-set ke Pending (no approval history)`)});const Ve=ie.map(He=>{var Wt;let Ce="approval",$e="";switch(He.status){case"approved":Ce="approval",$e=`Menyetujui laporan pada step ${He.approval_step}`;break;case"rejected":Ce="rejection",$e=`Menolak laporan pada step ${He.approval_step}`;break;case"feedback_given":Ce="feedback",$e=`Memberikan feedback pada step ${He.approval_step}`;break;default:Ce="submission",$e=`Mengajukan approval pada step ${He.approval_step}`}const it=He.approved_at||He.created_at;return{type:Ce,timestamp:it||new Date().toISOString(),actor:((Wt=He.approver)==null?void 0:Wt.name)||`Approver Step ${He.approval_step}`,description:$e,details:He.comments||void 0}});if(J.length>0){const He=J[0].created_at;Ve.unshift({type:"submission",timestamp:He||new Date().toISOString(),actor:"Technician",description:"Mengisi hasil monitoring"})}const rt={machineId:Le.id,itemResults:Le.items.map(He=>{const Ce=J.find(it=>it.id_item_mesin===He.id);let $e="Pending";if(Ce!=null&&Ce.hasil_ms_tms){const it=Ce.hasil_ms_tms.toLowerCase();it==="ms"?$e="MS":it==="tms"?$e="TMS":$e="N/A"}return{itemId:He.id,result:(Ce==null?void 0:Ce.hasil_monitoring)||"",status:$e,remarks:(Ce==null?void 0:Ce.hasil_keterangan)||""}}),approvalStatus:Se,commentsHistory:[],activityHistory:Ve,isSaved:J.length>0,submissionDate:J.length>0?new Date().toISOString():void 0,currentApprovalStep:we(ie,ke.approval_template)};N(rt)}catch(ke){E(ke instanceof Error?ke.message:"Gagal memuat data monitoring"),console.error("Error loading machine detail:",ke)}finally{_(!1)}},[e,n]),xe=(ye,B,ue,be,ke)=>{N(Le=>Le?{...Le,itemResults:Le.itemResults.map(J=>J.itemId===ye?{...J,result:B,status:ue==="numeric"?mt(Number(B),be,ke):B==="MS"?"MS":B==="TMS"?"TMS":"Pending"}:J)}:null)},ct=(ye,B)=>{N(ue=>ue?{...ue,itemResults:ue.itemResults.map(be=>be.itemId===ye?{...be,remarks:B}:be)}:null)},mt=(ye,B,ue)=>isNaN(ye)||ye===null||ye===void 0?B===void 0||ue===void 0?"N/A":"Pending":B!==void 0&&ue!==void 0?ye>=B&&ye<=ue?"MS":"TMS":"N/A",tt=ye=>{switch(ye){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},wt=ye=>{switch(ye){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},Ct=ye=>{if(!R||!R.approvers)return"Unknown Role";const B=R.approvers.find(ue=>ue.approver_user_id.toString()===ye);return(B==null?void 0:B.approver.position)||"Unknown Position"};x.useCallback((ye,B,ue,be=null)=>{N(ke=>{if(!ke||ke.machineId!==ye)return ke;const Le={id:crypto.randomUUID(),role:B,comment:ue,timestamp:new Date().toLocaleString(),replies:[],parentId:be},J=(Se,Ve)=>Ve.parentId===null?[...Se,Ve]:Se.map(rt=>rt.id===Ve.parentId?{...rt,replies:rt.replies?[...rt.replies,Ve]:[Ve]}:{...rt,replies:rt.replies?J(rt.replies,Ve):rt.replies}),ie=ke.commentsHistory||[];return{...ke,commentsHistory:J(ie,Le)}})},[]);const ft=(ye,B,ue)=>{let be="",ke="",Le="approve";switch(B){case"Approved":be="Confirm Approval",ke=`Are you sure you want to approve this monitoring report for step ${ye}?`,Le="approve";break;case"FeedbackGiven":be="Confirm Feedback",ke=`Are you sure you want to send feedback for step ${ye}?`,Le="feedback";break;case"Rejected":be="Confirm Rejection",ke=`Are you sure you want to reject this monitoring report for step ${ye}?`,Le="reject";break;case"Edited":be="Confirm Edit",ke=`Are you sure you want to mark this as edited for step ${ye}?`,Le="edit";break}ze({type:Le,step:ye,title:be,message:ke,feedbackText:ue}),ge(!0)},Rt=async()=>{if(Oe)try{await Ze(Oe.step,Oe.type==="approve"?"Approved":Oe.type==="feedback"?"FeedbackGiven":Oe.type==="reject"?"Rejected":"Edited",Oe.feedbackText),ge(!1),ze(null),await Ye()}catch(ye){console.error("Error during confirmation:",ye),ge(!1),ze(null)}},Ze=async(ye,B,ue)=>{if(!(!v||!e||!r))try{let be="";(B==="FeedbackGiven"&&ue||B==="Rejected"&&ue)&&(be=ue),console.log(`Sending approval for step ${ye}, action: ${B}`);const ke=await o(parseInt(e),be);if(ke.success){N(J=>{if(!J)return null;const ie={...J.approvalStatus,[`step_${ye}`]:B},Se=[...J.activityHistory],Ve=new Date().toLocaleString();let rt="";switch(B){case"Approved":rt=`Menyetujui laporan pada step ${ye}`;break;case"FeedbackGiven":rt=`Memberikan feedback pada step ${ye}`;break;case"Rejected":rt=`Menolak laporan pada step ${ye}`;break;default:rt=`Melakukan aksi ${B} pada step ${ye}`}return Se.push({type:B==="Approved"?"approval":B==="Rejected"?"rejection":B==="FeedbackGiven"?"feedback":"edit",timestamp:Ve,actor:re.name,description:`${re.name} ${rt}`,details:be||void 0}),B!=="Edited"&&L(He=>({...He,[`step_${ye}`]:{showInput:!1,text:""}})),{...J,approvalStatus:ie,activityHistory:Se}});let Le="";switch(B){case"Approved":Le="Berhasil menyetujui laporan.";break;case"FeedbackGiven":Le="Berhasil mengirim feedback.";break;case"Rejected":Le="Berhasil menolak laporan.";break;case"Edited":Le="Berhasil menyimpan perubahan.";break}Ae("Success!",Le,!0)}else throw new Error(ke.message||"Approval failed")}catch(be){console.error("Error during approval:",be),Ae("Error!","Gagal melakukan approval. Silakan coba lagi.",!1)}},he=x.useCallback(()=>{if(!R||!R.approvers||!v)return!1;const ye=[...R.approvers].sort((ue,be)=>ue.step-be.step),B=ye.every(ue=>{const be=`step_${ue.step}`;return v.approvalStatus[be]==="Approved"});return console.log("🔍 CHECK ALL STEPS COMPLETED:",{totalSteps:ye.length,allApproved:B,approvalStatus:v.approvalStatus}),B},[R,v]),We=ye=>{L(B=>{var ue;return{...B,[`step_${ye}`]:{...B[`step_${ye}`],showInput:!((ue=B[`step_${ye}`])!=null&&ue.showInput)}}})},je=(ye,B)=>{L(ue=>({...ue,[`step_${ye}`]:{...ue[`step_${ye}`],text:B}}))},ht=async()=>{if(!(!w||!v||!e)){S(!0);try{let ye=!0;const B=[];if(v.itemResults.forEach(J=>{const ie=w.items.find(Se=>Se.id===J.itemId);ie&&(J.result===""||J.status==="Pending")&&(ye=!1,B.push({item:ie.name}))}),!ye){Ae("Validation Error",`Harap isi semua hasil monitoring yang diperlukan untuk ${w.name}. Item yang belum diisi: `+B.map(J=>J.item).join(", "),!1);return}const ue=v.itemResults.map(J=>{var Ve;const ie=(Ve=H==null?void 0:H.monitoring_activities)==null?void 0:Ve.find(rt=>rt.id_item_mesin===J.itemId),Se={id_monitoring_schedule:parseInt(e),id_item_mesin:J.itemId,tgl_monitoring:w.tgl_start||new Date().toISOString().split("T")[0],hasil_monitoring:J.result.toString(),hasil_keterangan:J.remarks,hasil_ms_tms:J.status==="MS"?"ms":J.status==="TMS"?"tms":"na"};return ie&&ie.id_monitoring_activity?{id:ie.id_monitoring_activity,data:Se}:{id:0,data:Se}});console.log("📦 Data yang akan dikirim ke backend:",ue);const be=ue.filter(J=>J.id===0),ke=ue.filter(J=>J.id>0);if(console.log("🆕 Activities to CREATE:",be.length),console.log("🔄 Activities to UPDATE:",ke.length),be.length>0){const J=be.map(ie=>ie.data);console.log("🆕 CREATE new monitoring activities:",J),await s(J)}ke.length>0&&(console.log("🔄 UPDATE existing monitoring activities:",ke),await c(ke)),N(J=>{if(!J)return null;const ie=[...J.activityHistory],Se=new Date().toLocaleString(),Ve=J.isSaved?"edit":"submission",rt=J.isSaved?`${re.name} mengedit hasil monitoring.`:`${re.name} mengisi hasil monitoring.`;return ie.push({type:Ve,timestamp:Se,actor:re.name,description:rt}),{...J,isSaved:!0,submissionDate:new Date().toISOString(),activityHistory:ie}}),await Ye();const Le=v.isSaved?`Hasil monitoring untuk ${w.name} berhasil diupdate!`:`Hasil monitoring untuk ${w.name} berhasil disimpan!`;Ae("Success!",Le,!0)}catch(ye){const B=v.isSaved?"Gagal mengupdate hasil monitoring. Silakan coba lagi.":"Gagal menyimpan hasil monitoring. Silakan coba lagi.";Ae("Error!",B,!1),console.error("Error saving monitoring results:",ye)}finally{S(!1)}}},gt=(ye,B,ue)=>{if(!r||!(v!=null&&v.isSaved))return console.log(`❌ Button step ${ye}: User atau monitoringResults tidak siap`,{user:!!r,monitoringResults:!!v,isSaved:v==null?void 0:v.isSaved}),!1;const be=B.approver_user_id.toString()===r.id,ke=ue==="Pending",Le=ee(),J=Le===ye;let ie=!0;if(ye>1){const Ve=`step_${ye-1}`;ie=v.approvalStatus[Ve]==="Approved"}const Se=be&&ke&&J&&ie;return console.log(`🎯 CALCULATE BUTTON STEP ${ye}:`,{step:ye,isCurrentApprover:be,needsAction:ke,isCurrentStep:J,isPreviousStepApproved:ie,currentStatus:ue,currentStep:Le,userID:r.id,approverID:B.approver_user_id,userPosition:r.position,approverPosition:B.approver.position,FINAL_RESULT:Se}),Se},St=async ye=>{if(!(!v||!e||ye!==1)){if(he()){Ae("Info","Tidak dapat mengedit karena semua step approval sudah selesai.",!1);return}try{await ht(),N(B=>{if(!B)return null;const ue={...B.approvalStatus,step_1:"Edited"},be=[...B.activityHistory],ke=new Date().toLocaleString();return be.push({type:"edit",timestamp:ke,actor:re.name,description:`${re.name} (Approver Step 1) mengedit hasil monitoring.`}),{...B,approvalStatus:ue,activityHistory:be}}),await Ye(),Ae("Success!","Berhasil menyimpan perubahan dan menandai sebagai edited oleh Approver Step 1.",!0)}catch(B){console.error("Error during edit by approver:",B),Ae("Error!","Gagal menyimpan perubahan. Silakan coba lagi.",!1)}}};x.useMemo(()=>{if(!(v!=null&&v.commentsHistory))return{};const ye=(ue,be=null)=>ue.filter(ke=>ke.parentId===be).sort((ke,Le)=>new Date(ke.timestamp).getTime()-new Date(Le.timestamp).getTime()).map(ke=>({...ke,replies:ye(ue,ke.id)})),B={};return R!=null&&R.approvers&&R.approvers.forEach(ue=>{const be=v.commentsHistory.filter(ke=>ke.role===Ct(ue.approver_user_id.toString()));B[`step_${ue.step}`]=ye(be)}),B},[v==null?void 0:v.commentsHistory,R]);const ve=x.useCallback(()=>{var ye;!v||!R||(console.log("=== DEBUG APPROVAL STATUS ==="),console.log("Active Template:",R.name),console.log("Approvers:",R.approvers),(ye=R.approvers)==null||ye.forEach(B=>{const ue=`step_${B.step}`,be=v.approvalStatus[ue],ke=B.approver_user_id.toString()===(r==null?void 0:r.id);console.log(`Step ${B.step}:`,{approver:B.approver.name,status:be,isCurrentUser:ke,stepKey:ue})}),console.log("Current Step:",ee()),console.log("User ID:",r==null?void 0:r.id))},[v,R,r,ee]);x.useEffect(()=>{v&&R&&ve()},[v,R,ve]);const nt=ye=>ye.satuan&&ye.satuan!=="Visual"&&ye.satuan!=="Level"&&ye.satuan!=="Kekencangan"?"numeric":"visual";x.useMemo(()=>re.name.toLowerCase().includes("technician")&&!se(1),[re,se]);const Xe=se(1),ae=x.useMemo(()=>!(v!=null&&v.isSaved)||v.approvalStatus.step_1==="Pending"?!0:se(1)&&!he(),[v==null?void 0:v.isSaved,v==null?void 0:v.approvalStatus,se,he]),ne=se(ee()),Ae=x.useCallback((ye,B,ue=!0)=>{ce(ye),oe(B),Ie(ue),ue?K(!0):W(!0)},[]),et=x.useCallback(()=>{K(!1),W(!1),Ye()},[Ye]);return O?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(jr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsx("div",{className:"flex justify-center items-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-4 border-b-4 border-blue-500"})})})]})]}):A?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(jr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[a.jsx(Xt,{className:"text-red-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-red-800 mb-2",children:"Gagal Memuat Data"}),a.jsx("p",{className:"text-red-600 mb-4",children:A}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:Ye,className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-semibold flex items-center justify-center mx-auto",children:[a.jsx(pce,{className:"mr-2 h-4 w-4"}),"Coba Lagi"]})]})})]})]}):!w||!v?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>t(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(jr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-6 text-center",children:[a.jsx(Xt,{className:"text-yellow-500 text-4xl mx-auto mb-4"}),a.jsx("h3",{className:"text-lg font-semibold text-yellow-800 mb-2",children:"Data Tidak Ditemukan"}),a.jsx("p",{className:"text-yellow-600",children:"Data monitoring schedule tidak tersedia."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Monitoring Maintenance",mainTitleHighlight:"Management",description:"Manage user roles and permissions to control access and functionality within the system.",icon:a.jsx(Dh,{}),isMobile:d,toggleSidebar:y}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:w.period})]}),a.jsxs("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:[a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:w.items.length})," Items"]}),R&&R.approvers&&R.approvers.length>0?a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold",children:R.name}),R.is_active&&a.jsx("span",{className:"ml-1 text-green-600",children:"(Aktif)"}),he()&&a.jsx("span",{className:"ml-2 bg-green-100 text-green-800 px-2 py-1 rounded-full text-xs font-semibold",children:"All Steps Completed"})]}):a.jsxs("p",{children:["Template: ",a.jsx("span",{className:"font-semibold text-yellow-600",children:"Tidak ada template"})]}),R&&Xe&&a.jsx("p",{className:`font-semibold ${he()?"text-gray-500":"text-blue-600"}`,children:he()?"(Semua step approval selesai - tidak dapat edit)":"(Anda adalah Approver Step 1 - Dapat mengedit)"}),R&&ne&&!Xe&&a.jsxs("p",{className:"text-green-600 font-semibold",children:["(Anda adalah approver untuk step ",ee(),")"]})]})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:w.items.map(ye=>{const B=v.itemResults.find(be=>be.itemId===ye.id),ue=nt(ye);return a.jsxs("tr",{children:[a.jsxs("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:[ye.name,!ae&&(v==null?void 0:v.isSaved)&&a.jsx("span",{className:"ml-2 text-xs text-gray-500",children:"(Terkunci)"})]}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:ye.standard_visual?`${ye.standard_visual} (${ye.satuan})`:`${ye.standard_min} - ${ye.standard_max} ${ye.satuan}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:ue==="visual"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md disabled:bg-gray-100 disabled:cursor-not-allowed",value:(B==null?void 0:B.result)||"",onChange:be=>xe(ye.id,be.target.value,"visual"),disabled:!ae,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:B==null?void 0:B.result,onChange:be=>xe(ye.id,be.target.value,"numeric",ye.min,ye.max),disabled:!ae,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${tt((B==null?void 0:B.status)||"Pending")}`,children:B==null?void 0:B.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:B==null?void 0:B.remarks,onChange:be=>ct(ye.id,be.target.value),disabled:!ae,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-100 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},ye.id)})})]})}),a.jsxs("div",{className:"flex justify-end mt-6 relative",children:[a.jsx(C.button,{whileHover:{scale:ae?1.05:1},whileTap:{scale:ae?.95:1},onClick:Xe?()=>St(1):ht,disabled:!ae||T||Xe&&he(),className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed relative group",children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"}),Xe?he()?"All Steps Completed":"Save & Mark as Edited":"Save Monitoring"]})}),Xe&&he()&&a.jsx("div",{className:"absolute bottom-full mb-2 hidden group-hover:block bg-gray-800 text-white text-xs rounded py-1 px-2 whitespace-nowrap",children:"Semua step approval sudah selesai. Tidak dapat melakukan edit."})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>$("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${P==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ia,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>$("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${P==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Hf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),P==="approval"?a.jsx(_t,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:!R||!R.approvers||R.approvers.length===0?a.jsxs("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(ia,{className:"mx-auto h-12 w-12 mb-4 text-gray-400"}),a.jsx("p",{children:"Tidak ada template approval yang aktif untuk schedule ini."}),a.jsx("p",{className:"text-sm mt-2",children:"Silakan hubungi administrator untuk mengatur template approval."})]}):(xt=R.approvers)==null?void 0:xt.map(ye=>{var rt,He,Ce,$e;const B=`step_${ye.step}`,ue=(v==null?void 0:v.approvalStatus[B])||"Pending",be=gt(ye.step,ye,ue),ke=Ge(ye.step,ye),Le=ee(),J=ye.approver_user_id.toString()===(r==null?void 0:r.id),ie=ye.step-1,Se=`step_${ie}`,Ve=v==null?void 0:v.approvalStatus[Se];return console.log(`Rendering Step ${ye.step}:`,{status:ue,shouldShowActionButtons:be,currentStep:Le,isCurrentUserApprover:J,previousStepStatus:Ve,userId:r==null?void 0:r.id,approverId:ye.approver_user_id}),a.jsxs("div",{className:"p-4 rounded-lg border border-gray-200 bg-white",children:[a.jsx("div",{className:"flex items-center justify-between mb-3",children:a.jsxs("div",{className:"flex-1",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsxs("div",{children:[a.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Step ",ye.step,": ",ye.approver.name," (",ye.approver.position,")"]}),a.jsx("p",{className:"text-xs text-gray-500",children:ye.approver.department}),ke&&a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[ke.approved_at&&`Disetujui: ${new Date(ke.approved_at).toLocaleString()}`,ke.status==="feedback_given"&&" | Feedback diberikan"]})]}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${wt(ue)}`,children:ue}),J&&a.jsx("span",{className:"text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full",children:"Anda"})]})]}),(ke==null?void 0:ke.comments)&&a.jsx("div",{className:"mt-2 p-2 bg-gray-50 rounded border",children:a.jsxs("p",{className:"text-xs text-gray-400",children:[a.jsx("strong",{children:"Komentar:"})," ",ke.comments]})}),Le===ye.step&&ue!=="Approved"&&!be&&a.jsx("div",{className:"mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs",children:a.jsxs("p",{className:"text-yellow-700",children:[a.jsx("strong",{children:"Menunggu:"})," Step ",ye.step," sedang menunggu approval dari ",ye.approver.name,ie>0&&Ve!=="Approved"&&a.jsxs("span",{children:[" (Step ",ie," perlu disetujui terlebih dahulu)"]})]})}),ue==="Approved"&&a.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded text-xs",children:a.jsxs("p",{className:"text-green-700",children:[a.jsx("strong",{children:"Selesai:"})," Step ",ye.step," telah disetujui"]})}),be&&a.jsxs("div",{className:"flex space-x-2 mt-3",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>ft(ye.step,"Approved"),className:"px-3 py-1.5 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(Lt,{size:16,className:"mr-1"}),"Approve"]}),a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>We(ye.step),className:"px-3 py-1.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center",children:[a.jsx(kf,{size:16,className:"mr-1"}),"Feedback"]})]})]})}),a.jsx(_t,{children:((rt=I[B])==null?void 0:rt.showInput)&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsx("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:"Berikan Feedback"}),a.jsx("textarea",{rows:3,value:((He=I[B])==null?void 0:He.text)||"",onChange:it=>je(ye.step,it.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis feedback atau alasan penolakan..."}),a.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>{var it;return ft(ye.step,"FeedbackGiven",(it=I[B])==null?void 0:it.text)},disabled:!(($e=(Ce=I[B])==null?void 0:Ce.text)!=null&&$e.trim()),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:[a.jsx(kf,{size:16,className:"mr-1"}),"Kirim Feedback"]}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>We(ye.step),className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 text-sm font-semibold transition-colors",children:"Batal"})]})]})})]},B)})},"approval-tab")}):a.jsx(_t,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:v.activityHistory.length>0?v.activityHistory.slice().sort((ye,B)=>new Date(B.timestamp).getTime()-new Date(ye.timestamp).getTime()).map((ye,B)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:B*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"mt-1 flex-shrink-0",children:[ye.type==="approval"&&a.jsx(Lt,{size:20,className:"text-green-500"}),ye.type==="rejection"&&a.jsx(Goe,{size:20,className:"text-red-500"}),ye.type==="feedback"&&a.jsx(kf,{size:20,className:"text-blue-500"}),ye.type==="submission"&&a.jsx(Hf,{size:20,className:"text-blue-500"}),ye.type==="edit"&&a.jsx(kr,{size:20,className:"text-purple-500"})]}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:ye.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",ye.actor]})," - ",new Date(ye.timestamp).toLocaleString()]}),ye.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',ye.details,'"']})]})]},B)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]}),a.jsx(_7e,{isOpen:Ee,onClose:()=>{ge(!1),ze(null)},onConfirm:Rt,title:(Oe==null?void 0:Oe.title)||"Confirm Action",message:(Oe==null?void 0:Oe.message)||"Are you sure you want to proceed?",confirmText:(Oe==null?void 0:Oe.type)==="approve"?"Approve":(Oe==null?void 0:Oe.type)==="feedback"?"Send Feedback":(Oe==null?void 0:Oe.type)==="reject"?"Reject":(Oe==null?void 0:Oe.type)==="edit"?"Save & Mark as Edited":"Confirm",type:Oe==null?void 0:Oe.type}),a.jsx(T7e,{isOpen:F,onClose:et,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Data detail hasil monitoring berhasil disimpan!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:et,className:"mt-6 px-6 py-3 border border-transparent rounded-lg text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:ring-2 focus:ring-blue-500",children:"Back To Detail Monitoring"})]})})]})},A7e={id:"MACH-A01",name:"Mesin A01 (Produksi) - Unit WY01",interval:"Weekly",period:"01 Sep 2025 - 07 Sep 2025",items:[{id:101,name:"Oil Level",uom:"Level",visual:"Normal"},{id:102,name:"Belt Tension",uom:"Kekencangan",visual:"Baik"},{id:103,name:"Temperature",uom:"°C",min:20,max:40},{id:104,name:"Pressure",uom:"Bar",min:1.5,max:3},{id:105,name:"Motor Sound",uom:"Visual",visual:"Tidak ada suara aneh"},{id:106,name:"Vibration",uom:"mm/s",min:.1,max:1},{id:107,name:"pH Level",uom:"pH",min:6,max:8},{id:108,name:"Filter Condition",uom:"Visual",visual:"Bersih"}]};let cp="technician";const C5=["unitHeadEngineering","unitHeadProcess","sectionHeadEngineering","sectionHeadProcess"],jQ=({comment:t,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s})=>{const[i,o]=x.useState(!1),[l,c]=x.useState(""),d=()=>{l.trim()&&(n(e,r,l,t.id),c(""),o(!1))},h=s*4;return a.jsxs("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg shadow-sm mb-2 ${s>0?`ml-${h} border-l-4 border-l-blue-200`:""}`,children:[a.jsx("p",{className:"text-sm font-semibold text-gray-700 mb-1 flex items-center",children:t.role.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}),a.jsx("p",{className:"text-gray-800 text-base mb-2",children:t.comment}),a.jsxs("p",{className:"text-xs text-gray-500 flex items-center",children:[a.jsx(It,{size:14,className:"mr-1"})," ",t.timestamp,a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>o(!i),className:"ml-3 text-blue-600 hover:text-blue-800 text-xs font-semibold",children:"Balas"})]}),a.jsx(_t,{children:i&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-3",children:[a.jsx("textarea",{rows:1,value:l,onChange:m=>c(m.target.value),placeholder:`Balas sebagai ${r.replace(/([A-Z])/g," $1").replace(/^./,m=>m.toUpperCase())}...`,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:d,disabled:!l.trim(),className:"mt-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:"Kirim Balasan"})]})}),t.replies&&t.replies.length>0&&a.jsx("div",{className:"mt-3 border-t border-gray-100 pt-3",children:t.replies.map(m=>a.jsx(jQ,{comment:m,machineId:e,currentUserRole:r,onAddCommentOrReply:n,depth:s+1},m.id))})]})},O7e=()=>{var $;const t=ta(),e=jt(),r=(($=t.state)==null?void 0:$.machine)||A7e,[n,s]=x.useState(null),[i,o]=x.useState(!1),[l,c]=x.useState("approval"),[d,h]=x.useState({unitHeadEngineering:{showInput:!1,text:""},unitHeadProcess:{showInput:!1,text:""},sectionHeadEngineering:{showInput:!1,text:""},sectionHeadProcess:{showInput:!1,text:""}});x.useEffect(()=>{if(r){const I={machineId:r.id,itemResults:r.items.map(L=>({itemId:L.id,result:"",status:"Pending",remarks:""})),approvalStatus:{unitHeadEngineering:"Pending",unitHeadProcess:"Pending",sectionHeadEngineering:"Pending",sectionHeadProcess:"Pending"},commentsHistory:[],activityHistory:[],isSaved:!1};s(I)}},[r]);const m=(I,L,R,z,Y)=>{s(q=>q?{...q,itemResults:q.itemResults.map(H=>H.itemId===I?{...H,result:L,status:R==="numeric"?y(Number(L),z,Y):L==="MS"?"MS":L==="TMS"?"TMS":"Pending"}:H)}:null)},g=(I,L)=>{s(R=>R?{...R,itemResults:R.itemResults.map(z=>z.itemId===I?{...z,remarks:L}:z)}:null)},y=(I,L,R)=>isNaN(I)||I===null||I===void 0?L===void 0||R===void 0?"N/A":"Pending":L!==void 0&&R!==void 0?I>=L&&I<=R?"MS":"TMS":"N/A",w=I=>{switch(I){case"MS":return"bg-green-100 text-green-800 border-green-200";case"TMS":return"bg-red-100 text-red-800 border-red-200";case"Pending":return"bg-yellow-100 text-yellow-800 border-yellow-200";case"N/A":return"bg-gray-100 text-gray-800 border-gray-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},j=I=>{switch(I){case"Pending":return"bg-yellow-100 text-yellow-800";case"Approved":return"bg-green-100 text-green-800";case"Rejected":return"bg-red-100 text-red-800";case"FeedbackGiven":return"bg-blue-100 text-blue-800";case"Edited":return"bg-purple-100 text-purple-800";default:return"bg-gray-100 text-gray-800"}},v=I=>({admin:"Admin",technician:"Teknisi",unitHeadEngineering:"Unit Head Engineering",unitHeadProcess:"Unit Head Process",sectionHeadEngineering:"Section Head Engineering",sectionHeadProcess:"Section Head Process"})[I]||I,N=x.useCallback((I,L,R,z=null)=>{s(Y=>{if(!Y||Y.machineId!==I)return Y;const q={id:crypto.randomUUID(),role:L,comment:R,timestamp:new Date().toLocaleString(),replies:[],parentId:z},H=(F,K)=>K.parentId===null?[...F,K]:F.map(te=>te.id===K.parentId?{...te,replies:te.replies?[...te.replies,K]:[K]}:{...te,replies:te.replies?H(te.replies,K):te.replies}),D=Y.commentsHistory||[];return{...Y,commentsHistory:H(D,q)}})},[]),T=(I,L,R)=>{n&&(s(z=>{if(!z)return null;let Y=z.commentsHistory||[],q=[...z.activityHistory];const H=new Date().toLocaleString();if((L==="FeedbackGiven"||L==="Rejected")&&R){const F={id:crypto.randomUUID(),role:I,comment:R,timestamp:H,replies:[],parentId:null};Y=[...Y,F];const K=L==="FeedbackGiven"?"Memberi feedback.":"Menolak laporan.";q.push({type:L==="FeedbackGiven"?"feedback":"rejection",timestamp:H,actor:I,description:`${v(I)} ${K}`,details:R})}else L==="Approved"&&(Y=Y.filter(F=>!(F.role===I&&(F.parentId===null||F.parentId===void 0)))||[],q.push({type:"approval",timestamp:H,actor:I,description:`${v(I)} menyetujui laporan.`}));return{...z,approvalStatus:{...z.approvalStatus,[I]:L},commentsHistory:Y,activityHistory:q}}),h(z=>{const Y={...z},q=I;return Y[q]&&(Y[q]={showInput:!1,text:""}),Y}))},S=I=>{h(L=>{const R={...L},z=I;return R[z]&&(R[z]={...R[z],showInput:!R[z].showInput}),R})},O=(I,L)=>{h(R=>{const z={...R},Y=I;return z[Y]&&(z[Y]={...z[Y],text:L}),z})},_=()=>{if(!r||!n)return;o(!0);let I=!0;const L=[];n.itemResults.forEach(R=>{const z=r.items.find(Y=>Y.id===R.itemId);z&&(R.result===""||R.status==="Pending")&&(I=!1,L.push({item:z.name}))}),I?(s(R=>{if(!R)return null;let z={...R.approvalStatus},Y=R.commentsHistory||[],q=[...R.activityHistory];const H=new Date().toLocaleString(),D=C5[0];return z={...z,[D]:"Pending"},q.push({type:"submission",timestamp:H,actor:cp,description:`${v(cp)} mengisi dan mengajukan laporan.`}),{...R,isSaved:!0,submissionDate:new Date().toISOString(),approvalStatus:z,commentsHistory:Y,activityHistory:q}}),alert(`Hasil monitoring untuk ${r.name} berhasil disimpan!`)):alert(`Harap isi semua hasil monitoring yang diperlukan untuk ${r.name}. Item yang belum diisi: `+L.map(R=>R.item).join(", ")),o(!1)},A=(I,L,R,z,Y,q)=>!1,E=x.useMemo(()=>{if(!(n!=null&&n.commentsHistory))return{unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};const I=(R,z=null)=>R.filter(Y=>Y.parentId===z).sort((Y,q)=>new Date(Y.timestamp).getTime()-new Date(q.timestamp).getTime()).map(Y=>({...Y,replies:I(R,Y.id)})),L={unitHeadEngineering:[],unitHeadProcess:[],sectionHeadEngineering:[],sectionHeadProcess:[]};return C5.forEach(R=>{const z=n.commentsHistory.filter(Y=>Y.role===R);L[R]=I(z)}),L},[n==null?void 0:n.commentsHistory]);if(!r||!n)return a.jsx("div",{className:"flex justify-center items-center h-screen bg-gray-100",children:a.jsx("p",{className:"text-gray-600",children:"Loading machine details..."})});const P=!n.isSaved&&cp==="technician";return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx("header",{className:"bg-white border-b border-gray-100 p-4 flex items-center justify-between shadow-sm sticky top-0 z-30",children:a.jsxs("div",{className:"flex items-center space-x-4",children:[a.jsxs(C.button,{onClick:()=>e(-1),whileHover:{scale:1.05},whileTap:{scale:.95},className:"flex items-center text-blue-600 hover:text-blue-800 transition-colors duration-200",children:[a.jsx(jr,{className:"text-xl"}),a.jsx("span",{className:"font-semibold text-sm hidden md:inline",children:"Back"})]}),a.jsx("h2",{className:"text-lg md:text-xl font-bold text-gray-900 ml-4",children:"Monitoring & Maintenance"})]})}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Detail Monitoring & Maintenance"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Machine: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.name})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Interval: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.interval})]}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Periode: ",a.jsx("span",{className:"font-semibold text-gray-800",children:r.period})]}),a.jsx("div",{className:"text-sm text-gray-500 mt-2 flex items-center space-x-4",children:a.jsxs("p",{children:[a.jsx("span",{className:"font-semibold",children:r.items.length})," Items"]})})]})}),a.jsx("div",{className:"space-y-6",children:a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1,duration:.2},className:"bg-white rounded-lg border border-gray-200 shadow-sm p-4",children:[a.jsx("div",{className:"overflow-x-auto rounded-lg border border-gray-200 shadow-sm",children:a.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[a.jsx("thead",{className:"bg-gray-50",children:a.jsxs("tr",{children:[a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Nama Item"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Standar"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hasil"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),a.jsx("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Catatan"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:r.items.map(I=>{const L=n.itemResults.find(R=>R.itemId===I.id);return a.jsxs("tr",{children:[a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:I.name}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:I.visual?`${I.visual} (${I.uom})`:`${I.min} - ${I.max} ${I.uom}`}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:I.uom==="Visual"||I.uom==="Level"||I.uom==="Kekencangan"?a.jsxs("select",{className:"mt-1 block w-full pl-3 pr-10 py-2 text-base border border-gray-300 focus:ring-2 focus:ring-blue-500 focus:border-blue-500 sm:text-sm rounded-md",value:(L==null?void 0:L.result)||"",onChange:R=>m(I.id,R.target.value,"visual"),disabled:!P,children:[a.jsx("option",{value:"",children:"Pilih"}),a.jsx("option",{value:"MS",children:"MS"}),a.jsx("option",{value:"TMS",children:"TMS"})]}):a.jsx("input",{type:"number",step:"0.01",value:L==null?void 0:L.result,onChange:R=>m(I.id,R.target.value,"numeric",I.min,I.max),disabled:!P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Input result"})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("span",{className:`text-xs font-medium px-2.5 py-1 rounded-full ${w((L==null?void 0:L.status)||"Pending")}`,children:L==null?void 0:L.status})}),a.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:a.jsx("textarea",{rows:1,value:L==null?void 0:L.remarks,onChange:R=>g(I.id,R.target.value),disabled:!P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm disabled:bg-gray-50 disabled:cursor-not-allowed",placeholder:"Tambahkan catatan..."})})]},I.id)})})]})}),a.jsx("div",{className:"flex justify-end mt-6",children:a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:_,disabled:!P||i,className:"px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-semibold flex items-center disabled:opacity-50 disabled:cursor-not-allowed",children:i?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"}),"Save Monitoring"]})})}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm mt-8",children:[a.jsxs("div",{className:"flex items-center space-x-4 mb-4 border-b border-gray-200",children:[a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>c("approval"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="approval"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(ia,{className:"h-5 w-5"}),a.jsx("span",{children:"Approval Status"})]}),a.jsxs(C.button,{whileHover:{scale:1.03},onClick:()=>c("history"),className:`pb-3 px-2 font-semibold text-gray-700 transition-colors flex items-center space-x-2 ${l==="history"?"border-b-2 border-blue-600 text-blue-600":"text-gray-500 hover:text-gray-700"}`,children:[a.jsx(Hf,{className:"h-5 w-5"}),a.jsx("span",{children:"History Activity"})]})]}),l==="approval"?a.jsx(_t,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(n.approvalStatus).map(([I,L])=>{var q,H;const R=I,z=A(cp,R,L,n.approvalStatus,C5,n.isSaved),Y=E[R]||[];return a.jsxs("div",{className:"p-3 rounded-lg border border-gray-200",children:[a.jsxs("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium text-gray-700",children:v(R)}),a.jsxs("div",{className:"flex items-center space-x-2",children:[a.jsx("span",{className:`text-xs font-medium px-3 py-1 rounded-full ${j(L)}`,children:L==="Edited"?`Edited by ${v(R)}`:L}),z&&a.jsxs("div",{className:"flex space-x-1",children:[a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(I,"Approved"),className:"p-1 rounded-full text-green-600 hover:bg-green-100 transition-colors",children:a.jsx(Lt,{size:20})}),a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>S(I),className:"p-1 rounded-full text-blue-600 hover:bg-blue-100 transition-colors",children:a.jsx(kf,{size:20})})]})]})]}),a.jsx(_t,{children:((q=d[R])==null?void 0:q.showInput)&&a.jsxs(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-4 p-4 bg-gray-100 rounded-lg border border-gray-200",children:[a.jsxs("h5",{className:"text-sm font-semibold text-gray-800 mb-2",children:["Alasan untuk Feedback (",v(R),")"]}),a.jsx("textarea",{rows:2,value:(H=d[R])==null?void 0:H.text,onChange:D=>O(R,D.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",placeholder:"Tulis alasan feedback atau penolakan..."}),a.jsx("div",{className:"flex justify-end space-x-2 mt-2",children:a.jsx(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>T(R,"FeedbackGiven",d[R].text),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 text-sm font-semibold transition-colors",children:"Kirim Feedback"})})]})}),a.jsx("div",{className:"mt-4",children:Y.length>0?Y.map(D=>a.jsx(jQ,{comment:D,machineId:r.id,currentUserRole:cp,onAddCommentOrReply:N,depth:0},D.id)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada komentar."})})]},I)})},"approval-tab")}):a.jsx(_t,{mode:"wait",children:a.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},className:"space-y-4",children:n.activityHistory.length>0?n.activityHistory.map((I,L)=>a.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:L*.05},className:"flex items-start space-x-4 p-4 bg-gray-50 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("div",{className:"mt-1 flex-shrink-0",children:a.jsx(Hf,{size:20,className:"text-blue-500"})}),a.jsxs("div",{className:"flex-1",children:[a.jsx("p",{className:"text-sm font-semibold text-gray-800",children:I.description}),a.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[a.jsxs("span",{className:"font-medium text-gray-600",children:["Oleh: ",v(I.actor)]})," - ",I.timestamp]}),I.details&&a.jsxs("p",{className:"text-sm text-gray-700 italic mt-2",children:['"',I.details,'"']})]})]},L)):a.jsx("p",{className:"text-gray-500 text-sm",children:"Belum ada aktivitas yang tercatat."})},"history-tab")})]})]})})]})]})]})},E7e=()=>{const t=jt(),{id:e}=ya(),{getUsers:r,getTemplateApprovers:n,addApproverToTemplate:s,updateApprover:i,deleteApprover:o,getApprovalTemplateById:l}=Nt(),[c,d]=x.useState(window.innerWidth<768),[h,m]=x.useState(()=>{const F=localStorage.getItem("sidebarOpen");return JSON.parse(F||"false")}),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!h)),m(F=>!F)},[y,w]=x.useState([]),[j,v]=x.useState(null),[N,T]=x.useState([]),[S,O]=x.useState(!1),[_,A]=x.useState("");x.useEffect(()=>{e&&(E(),$())},[e]);const E=async()=>{if(!e){A("Template ID is missing");return}try{O(!0);const F=await l(e);console.log("Template data loaded:",F),v(F),F.approvers&&F.approvers.length>0?await P(F.approvers):T([{order:1,role:"Select Position",assignee:""}])}catch(F){A("Failed to load template"),console.error("Error loading template:",F)}finally{O(!1)}},P=async F=>{try{const K=F.map(te=>{var W,Z;return{order:te.step,role:((W=te.approver)==null?void 0:W.position)||`Approval Step ${te.step}`,assignee:((Z=te.approver)==null?void 0:Z.name)||"",approver_user_id:te.approver_user_id}});T(K)}catch(K){console.error("Error loading template approvers from data:",K),T([{order:1,role:"Select Position",assignee:""}])}},$=async()=>{try{const K=(await r()).map(te=>{var W;return{id:parseInt(te.id),name:te.name,email:te.email,position:te.position||"No Position",department:((W=te.department)==null?void 0:W.name)||te.department_name}});w(K)}catch(F){console.error("Error loading users:",F)}},I=()=>{const F=y.map(K=>K.position).filter(K=>K!=null&&K!=="No Position");return[...new Set(F)]},L=F=>y.filter(K=>K.position===F),R=()=>{const F=N.length>0?Math.max(...N.map(K=>K.order))+1:1;T(K=>[...K,{order:F,role:"Select Position",assignee:""}])},z=F=>{T(K=>K.filter((te,W)=>W!==F).map((te,W)=>({...te,order:W+1})))},Y=(F,K)=>{T(te=>te.map((W,Z)=>Z===F?{...W,role:K,assignee:""}:W))},q=(F,K)=>{const te=y.find(W=>W.id===K);te&&T(W=>W.map((Z,oe)=>oe===F?{...Z,assignee:te.name,approver_user_id:te.id}:Z))},H=async()=>{if(!j)return;if(!N.every(K=>K.role&&K.assignee&&K.approver_user_id&&K.role!=="Select Position")){A("Please complete all roles and assignees.");return}try{O(!0),A(""),console.log("Saving approval flow with smart update/post logic..."),console.log("Template ID:",j.id),console.log("Existing approvers:",j.approvers),console.log("New approval flow:",N);const K=j.approvers||[],te=N.map(oe=>({approver_user_id:oe.approver_user_id,step:oe.order}));console.log("Existing approvers:",K),console.log("New approvers:",te);const W=[];for(const oe of N){const le={approver_user_id:oe.approver_user_id,step:oe.order},ce=K.find(pe=>pe.step===oe.order);if(ce)if(ce.approver_user_id!==oe.approver_user_id){console.log(`Updating approver for step ${oe.order} (ID: ${ce.id})`);try{await i(j.id,ce.id,le),console.log(`✓ Updated approver for step ${oe.order}`)}catch(pe){throw console.error(`✗ Failed to update approver for step ${oe.order}:`,pe),new Error(`Failed to update approver for step ${oe.order}`)}}else console.log(`✓ Approver for step ${oe.order} unchanged, skipping`);else{console.log(`Adding new approver for step ${oe.order}`);try{await s(j.id,le),console.log(`✓ Added new approver for step ${oe.order}`)}catch(pe){throw console.error(`✗ Failed to add approver for step ${oe.order}:`,pe),new Error(`Failed to add approver for step ${oe.order}`)}}W.push(oe.order)}const Z=K.filter(oe=>!W.includes(oe.step)).map(oe=>({id:oe.id,step:oe.step}));console.log("Steps to delete:",Z);for(const oe of Z)try{await o(j.id,oe.id),console.log(`✓ Deleted unused approver for step ${oe.step}`)}catch(le){console.warn(`⚠ Could not delete approver for step ${oe.step}:`,le)}alert(`✅ Approval flow for template "${j.name}" has been successfully saved!`),await E()}catch(K){console.error("❌ Error saving approval flow:",K),A(K instanceof Error?K.message:"Failed to save approval flow")}finally{O(!1)}},D=()=>{t("/workflowapproval/monitoringapproval")};return console.log("Template state:",j),console.log("Custom approval flow:",N),S&&!j?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsx(bb,{className:"animate-spin text-blue-600",size:32})})]}):j?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Monitoring Approval",mainTitleHighlight:"Page",description:"Manage work shifts and their configurations within the system.",icon:a.jsx(vb,{}),isMobile:c,toggleSidebar:g}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("div",{className:"flex justify-between items-center mb-4",children:[a.jsxs("h1",{className:"text-2xl font-bold text-gray-900 flex items-center",children:[a.jsx(vb,{className:"mr-2 text-gray-700",size:24}),"Flow Configuration: ",a.jsx("span",{className:"text-blue-600 ml-2",children:j==null?void 0:j.name})]}),a.jsxs(C.button,{onClick:D,whileHover:{scale:1.05},whileTap:{scale:.95},className:"px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors font-semibold text-sm flex items-center",disabled:S,children:[a.jsx(jr,{className:"mr-2",size:18})," Back to Template List"]})]}),a.jsx("p",{className:"text-gray-600 mb-6",children:"Configure the approval flow by selecting positions and assigning approvers."}),_&&a.jsx("div",{className:"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded",children:_}),a.jsx("div",{className:"space-y-4",children:N.map((F,K)=>{const te=I(),W=F.role&&F.role!=="Select Position"?L(F.role):[];return a.jsxs("div",{className:"flex items-center space-x-3 p-4 bg-gray-50 rounded-lg border border-gray-200",children:[a.jsxs("span",{className:"text-gray-500 font-semibold min-w-8",children:[F.order,"."]}),a.jsxs("div",{className:"flex-1 grid grid-cols-1 md:grid-cols-2 gap-3",children:[a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Position"}),a.jsxs("select",{value:F.role,onChange:Z=>Y(K,Z.target.value),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",children:[a.jsx("option",{value:"Select Position",children:"Select Position"}),te.map(Z=>a.jsx("option",{value:Z,children:Z},Z))]})]}),a.jsxs("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assignee"}),a.jsxs("select",{value:F.approver_user_id||"",onChange:Z=>q(K,parseInt(Z.target.value)),className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700 text-sm",disabled:!F.role||F.role==="Select Position"||W.length===0,children:[a.jsx("option",{value:"",children:"Select User"}),W.map(Z=>a.jsxs("option",{value:Z.id,children:[Z.name," (",Z.email,")"]},Z.id))]}),F.role&&F.role!=="Select Position"&&W.length===0&&a.jsx("p",{className:"text-xs text-red-500 mt-1",children:"No users found for this position"})]})]}),N.length>1&&a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>z(K),className:"text-red-600 hover:text-red-800 transition-colors p-2",disabled:S,children:a.jsx(an,{size:20})})]},K)})}),a.jsxs("div",{className:"flex justify-between items-center mt-6",children:[a.jsxs(C.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-semibold flex items-center text-sm disabled:opacity-50",disabled:S,children:[a.jsx(qn,{size:18,className:"mr-2"})," Add Step"]}),a.jsxs(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:H,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors font-semibold text-sm disabled:opacity-50 flex items-center",disabled:S,children:[S?a.jsx(bb,{className:"animate-spin mr-2",size:16}):a.jsx(kr,{size:18,className:"mr-2"}),"Save Flow"]})]})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsx("div",{className:"flex-1 flex items-center justify-center",children:a.jsxs("div",{className:"text-center",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-700 mb-2",children:"Template not found"}),a.jsxs("p",{className:"text-gray-500 mb-4",children:["ID: ",e]}),a.jsx("button",{onClick:D,className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors",children:"Back to Templates"})]})})]})},D7e=()=>a.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-blue-50 to-indigo-100 px-4",children:a.jsxs("div",{className:"max-w-md w-full text-center",children:[a.jsx("div",{className:"mb-8",children:a.jsxs("div",{className:"relative inline-flex",children:[a.jsx("div",{className:"w-32 h-32 bg-white rounded-full shadow-lg flex items-center justify-center",children:a.jsx(mle,{className:"w-16 h-16 text-gray-400"})}),a.jsx("div",{className:"absolute -top-2 -right-2 w-8 h-8 bg-red-500 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-white text-sm font-bold",children:"404"})})]})}),a.jsx("h1",{className:"text-4xl font-bold text-gray-800 mb-4",children:"Page Not Found"}),a.jsx("p",{className:"text-gray-600 mb-8 text-lg",children:"Oops! The page you're looking for seems to have wandered off into the digital void."}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[a.jsxs(Oc,{to:"/",className:"inline-flex items-center justify-center px-6 py-3 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium",children:[a.jsx(ng,{className:"mr-2"}),"Back to Home"]}),a.jsxs("button",{onClick:()=>window.history.back(),className:"inline-flex items-center justify-center px-6 py-3 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:[a.jsx(jr,{className:"mr-2"}),"Go Back"]})]}),a.jsx("div",{className:"mt-8 p-4 bg-white rounded-lg shadow-sm",children:a.jsxs("p",{className:"text-sm text-gray-600",children:["If you believe this is an error, please contact the"," ",a.jsx(Oc,{to:"#",className:"text-blue-600 hover:underline",children:"IT Department"})]})}),a.jsx("div",{className:"mt-12",children:a.jsx("div",{className:"relative h-1 bg-gray-200 rounded-full overflow-hidden",children:a.jsx("div",{className:"absolute top-0 left-0 h-full bg-gradient-to-r from-blue-500 to-purple-500 w-1/3 animate-ping-pong"})})})]})}),P7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,R7e=()=>{const{id:t}=ya(),[e,r]=x.useState(window.innerWidth<768),[n,s]=x.useState([]),[i,o]=x.useState(),{getWorkArea:l,updateWorkArea:c,getWorkAreaById:d}=Nt(),[h,m]=x.useState(()=>{const R=localStorage.getItem("sidebarOpen");return R?JSON.parse(R):!1}),[g,y]=x.useState(null),[w,j]=x.useState(null),[v,N]=x.useState(!1),[T,S]=x.useState(!1),O=jt(),[_,A]=x.useState({work_area:""}),E=()=>{m(R=>!R)};x.useEffect(()=>{i&&A({work_area:i.work_area||""})},[i]);const P=R=>{const{name:z,value:Y}=R.target;A(q=>({...q,[z]:z==="sla"?Number(Y):Y}))},$=x.useCallback(async()=>{try{if(t){const[R]=await Promise.all([d(t)]);o(R)}}catch(R){y(R.message||"Failed to load form data")}},[t,d]);x.useEffect(()=>{t&&$()},[t,$]);const I=async R=>{R.preventDefault(),S(!0),y(null);try{const z={work_area:_.work_area};await c(t,z),j("Work Area update successfully!"),N(!0)}catch(z){y(z.message||"Failed to update Work Area")}finally{S(!1)}},L=()=>{N(!1),O("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(vo,{}),isMobile:e,toggleSidebar:E}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Update Work Area information"})]}),a.jsxs(C.button,{onClick:()=>O("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[g&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:g}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>y(null)})})]}),a.jsxs("form",{onSubmit:I,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:_.work_area,onChange:P,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>O("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:T,children:T?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(P7e,{isOpen:v,onClose:L,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:w}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:L,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},I7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,L7e=()=>{const[t,e]=x.useState(window.innerWidth<768),[r,n]=x.useState([]),{addWorkArea:s,getWorkArea:i}=Nt(),[o,l]=x.useState(()=>{const P=localStorage.getItem("sidebarOpen");return P?JSON.parse(P):!1}),[c,d]=x.useState(null),[h,m]=x.useState(null),[g,y]=x.useState(!1),[w,j]=x.useState(!1),v=jt(),[N,T]=x.useState({work_area:""}),S=()=>{l(P=>!P)},O=P=>{const{name:$,value:I}=P.target;T(L=>({...L,[$]:$==="sla"?Number(I):I}))},_=x.useCallback(async()=>{try{const[P]=await Promise.all([i()]);n(P)}catch(P){d(P.message||"Failed to load form data")}},[i]);x.useEffect(()=>{_()},[_]);const A=async P=>{P.preventDefault(),j(!0),d(null);try{const $={work_area:N.work_area};await s($),m("Work Area created successfully!"),y(!0)}catch($){d($.message||"Failed to create Work Area")}finally{j(!1)}},E=()=>{y(!1),v("/worklocation/workarea")};return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Create Work Area",mainTitleHighlight:"Management",description:"blablablabl",icon:a.jsx(vo,{}),isMobile:t,toggleSidebar:S}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 ",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Create New Work Area"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Create a new Work Area information"})]}),a.jsxs(C.button,{onClick:()=>v("/worklocation/workarea"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Work Area Management"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Work Area Information"}),a.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"work_area",className:"block text-sm font-medium text-gray-700 mb-1",children:["Work Area ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"work_area",id:"work_area",value:N.work_area,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]})})]}),a.jsxs("div",{className:"flex justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsx(C.button,{type:"button",onClick:()=>v("/worklocation/workarea"),whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Cancel"}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:w,children:w?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Work Area"]})})]})]})]})]})]}),a.jsx(I7e,{isOpen:g,onClose:E,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:h}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:E,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Back to Work Area Management"})]})})]})},$7e=({isOpen:t,onClose:e,title:r,children:n,className:s})=>a.jsx(_t,{children:t&&a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2},className:"fixed inset-0 backdrop-brightness-50 bg-opacity-40 flex justify-center items-center z-50 p-4",children:a.jsxs(C.div,{initial:{y:50,opacity:0,scale:.95},animate:{y:0,opacity:1,scale:1},exit:{y:50,opacity:0,scale:.95},transition:{duration:.3,type:"spring",damping:25,stiffness:300},className:`bg-white rounded-2xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col ${s||"max-w-xl w-full"}`,children:[a.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 flex justify-between items-center bg-blue-50",children:[a.jsx("h2",{className:"text-xl font-bold text-gray-800",children:r}),a.jsx("button",{onClick:e,className:"p-1.5 rounded-full text-gray-500 hover:bg-blue-100 hover:text-gray-700 focus:outline-none transition-colors duration-150","aria-label":"Close modal",children:a.jsx(at,{className:"text-xl"})})]}),a.jsx("div",{className:"p-6 overflow-y-auto custom-scrollbar flex-grow",children:n})]})})}),F7e=({title:t,value:e,change:r,icon:n})=>{const s=r.startsWith("+");return a.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,ease:"easeOut"},whileHover:{y:-5,boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1)",scale:1.01},className:"bg-white rounded-2xl shadow-md p-6 border border-blue-50 cursor-pointer overflow-hidden transform transition-transform duration-200",children:[a.jsxs("div",{className:"flex items-center justify-between z-10 relative",children:[a.jsxs("div",{children:[a.jsx("p",{className:"text-sm font-medium text-gray-500 mb-1",children:t}),a.jsx("p",{className:"text-3xl font-bold text-gray-900",children:e})]}),a.jsx("div",{className:"p-2 rounded-full bg-blue-50 text-blue-600 text-2xl opacity-90 transition-all duration-200",children:n})]}),a.jsxs("p",{className:`mt-3 text-xs font-semibold ${s?"text-green-600":"text-red-600"}`,children:[r," from last month"]})]})},H7e=()=>{const[t,e]=x.useState([]),{getWorkArea:r,deleteWorkArea:n}=Nt(),[s,i]=x.useState(!0),[o,l]=x.useState(null),[c,d]=x.useState(""),[h,m]=x.useState(!1),[g,y]=x.useState(null),[w,j]=x.useState(!1),[v]=x.useState(window.innerWidth<768),[N,T]=x.useState(()=>{const D=localStorage.getItem("sidebarOpen");return D?JSON.parse(D):!1}),S=jt(),O=x.useRef(null),[_,A]=x.useState(!1),E=x.useMemo(()=>[{id:"workarea",name:"Work Area"}],[]),P=x.useCallback(async()=>{try{i(!0);const F=[...await r()].sort((K,te)=>K.id-te.id);e(F)}catch(D){l("Failed to load Work Area"),console.error("Error loading Work Area:",D)}finally{i(!1)}},[r]);x.useEffect(()=>{P()},[P]);const $=()=>{const D=!N;T(D),localStorage.setItem("sidebarOpen",JSON.stringify(D))},I=()=>{alert("Import functionality is not yet implemented.")},L=D=>{const F=D.target.value;d(F)},R=x.useMemo(()=>{if(!c)return E;const D=c.toLowerCase();return E.filter(F=>F.name.toLowerCase().includes(D))},[c,E]),z=D=>{var F;d(`${D}: `),A(!1),(F=O.current)==null||F.focus()},Y=x.useMemo(()=>{if(!c.trim())return t;const D=c.toLowerCase().trim(),F=D.split(":");let K="all",te=D;return F.length>1&&E.some(W=>W.name.toLowerCase()===F[0].trim())&&(K=F[0].trim(),te=F.slice(1).join(":").trim()),t.filter(W=>{const Z=W.work_area.toLowerCase().includes(te);return Z})},[t,c,E]),q=async D=>{try{await n(D),e(t.filter(F=>F.id!==D)),m(!1),y(null)}catch(F){console.error("Failed to delete Work Area:",F),l("Failed to delete Work Area. Please try again.")}},H=x.useCallback(D=>{y(D),m(!0)},[]);return a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Work Area",mainTitleHighlight:"Page",description:"Manage work area and their configurations within the system.",icon:a.jsx(vo,{}),isMobile:v,toggleSidebar:$}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{delay:.4},className:"mb-8 flex flex-col md:flex-row md:items-center md:justify-between space-y-5 md:space-y-0",children:[a.jsxs("div",{children:[a.jsxs("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:["Work Area ",a.jsx("span",{className:"text-blue-600",children:"Management"})]}),a.jsx("p",{className:"text-gray-600 mt-2 text-sm max-w-xl",children:"Organize and manage work area by specific company requirements."})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 items-center",children:[a.jsxs(C.button,{onClick:()=>S("/worklocation/workarea/addworkarea"),whileHover:{scale:1.02,boxShadow:"0 4px 12px rgba(37, 99, 235, 0.3)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-blue-600 hover:bg-blue-700 text-white px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md font-semibold text-sm",children:[a.jsx(qn,{className:"text-base"}),a.jsx("span",{children:"Add Work Area"})]}),a.jsxs(C.button,{onClick:I,whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(qa,{className:"text-base"}),a.jsx("span",{children:"Import"})]}),a.jsxs(C.button,{onClick:()=>j(!w),whileHover:{scale:1.02,boxShadow:"0 4px 10px rgba(0, 0, 0, 0.08)"},whileTap:{scale:.98},className:"flex items-center space-x-2 bg-white border border-blue-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-sm font-semibold text-sm hover:bg-gray-50",children:[a.jsx(Va,{className:"text-base"}),a.jsx("span",{children:"Filters"}),a.jsx(C.span,{animate:{rotate:w?180:0},transition:{duration:.2},children:a.jsx(yn,{className:"text-base"})})]})]})]}),a.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 md:gap-6 mb-8",children:a.jsx(F7e,{title:"Total Work Area",value:t.length.toString(),change:`+${Math.floor(t.length/10*100)}%`,icon:a.jsx(vo,{className:"w-6 h-6"})})}),a.jsxs(C.div,{layout:!0,className:"mb-8 bg-white rounded-2xl shadow-md p-5 border border-blue-100",children:[a.jsx("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 space-y-4 md:space-y-0 relative",children:a.jsxs("div",{className:"flex-1 relative",children:[a.jsx(In,{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 text-lg"}),a.jsx("input",{ref:O,type:"text",placeholder:"Search by work area...",className:"w-full pl-11 pr-4 py-2.5 border border-blue-200 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500/50 bg-white text-sm transition-all duration-200 shadow-sm placeholder-gray-400",value:c,onChange:L,onFocus:()=>A(!0),"aria-label":"Search work area"}),a.jsx(_t,{children:_&&R.length>0&&a.jsx(C.div,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{duration:.15},className:"search-suggestions absolute left-0 right-0 mt-2 bg-white border border-blue-200 rounded-lg shadow-lg z-10 max-h-56 overflow-y-auto custom-scrollbar",children:R.map(D=>a.jsx(C.button,{onClick:()=>z(D.name),whileHover:{backgroundColor:"rgba(239, 246, 255, 0.7)"},className:"w-full text-left p-3 text-gray-700 hover:text-blue-700 transition-colors duration-150 text-sm",role:"option",children:a.jsx("span",{className:"font-semibold",children:D.name})},D.id))})})]})}),a.jsx(_t,{children:w&&a.jsx(C.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},transition:{duration:.2},className:"mt-5 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 w-full"})})]}),s?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("div",{className:"animate-spin rounded-full h-14 w-14 border-t-4 border-b-4 border-blue-500 mx-auto mb-5"}),a.jsx("p",{className:"text-gray-600 text-base font-medium",children:"Loading work area data..."})]}):Y.length===0?a.jsxs("div",{className:"bg-white rounded-2xl shadow-md p-8 text-center border border-blue-100",children:[a.jsx("p",{className:"text-gray-700 text-base font-medium",children:c?"No work area found matching your search.":"No work area available."}),c&&a.jsx("button",{onClick:()=>d(""),className:"mt-5 px-5 py-2 bg-blue-100 text-blue-700 rounded-md hover:bg-blue-200 transition-colors duration-200 text-sm",children:"Clear Search"})]}):a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden border border-blue-100",children:a.jsx("div",{className:"overflow-x-auto custom-scrollbar",children:a.jsxs("table",{className:"min-w-full divide-y divide-blue-100",children:[a.jsx("thead",{className:"bg-blue-50",children:a.jsxs("tr",{children:[a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"ID"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Work Area"}),a.jsx("th",{className:"px-5 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),a.jsx("tbody",{className:"bg-white divide-y divide-blue-100",children:Y.map(D=>a.jsxs(C.tr,{initial:{opacity:0,y:5},animate:{opacity:1,y:0},transition:{duration:.15},whileHover:{backgroundColor:"rgba(239, 246, 255, 0.5)"},className:"transition-colors duration-150",children:[a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.id})}),a.jsx("td",{className:"px-5 py-3 whitespace-nowrap",children:a.jsx("div",{className:"text-sm font-medium text-gray-900",children:D.work_area})}),a.jsxs("td",{className:"px-5 py-3 whitespace-nowrap text-sm font-medium space-x-1.5",children:[a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>S(`/worklocation/workarea/editworkarea/${D.id}`),className:"text-yellow-600 hover:text-yellow-800 transition-colors duration-200 p-1 rounded-full hover:bg-yellow-50",title:"Edit",children:a.jsx(Dn,{className:"inline text-base"})}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>H(D.id),className:"text-red-600 hover:text-red-800 transition-colors duration-200 p-1 rounded-full hover:bg-red-50",title:"Delete",children:a.jsx(an,{className:"inline text-base"})})]})]},D.id))})]})})})]})]}),a.jsx($7e,{isOpen:h,onClose:()=>m(!1),title:"Confirm Deletion",children:a.jsxs("div",{className:"space-y-5 text-center py-3",children:[a.jsx(Xt,{className:"text-red-500 text-5xl mx-auto animate-pulse"}),a.jsx("p",{className:"text-base text-gray-700 font-medium",children:"Are you sure you want to delete this work area? This action cannot be undone."}),a.jsxs("div",{className:"flex justify-center space-x-3 mt-5",children:[a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>m(!1),className:"px-5 py-2.5 border border-gray-300 rounded-md hover:bg-gray-100 text-gray-700 transition-colors duration-200 font-semibold text-sm",children:"Cancel"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:()=>g&&q(g),className:"px-5 py-2.5 bg-red-600 text-white rounded-md hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 transition-colors duration-200 font-semibold text-sm",children:"Delete"})]})]})})]})},B7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,z7e=()=>{const{addAsset:t}=Nt(),e=jt(),[r,n]=x.useState(!1),[s,i]=x.useState(null),[o,l]=x.useState(!1),[c,d]=x.useState(()=>{const O=localStorage.getItem("sidebarOpen");return O?JSON.parse(O):!1}),[h,m]=x.useState(window.innerWidth<768),g=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!c)),d(O=>!O)},y={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[w,j]=x.useState(y),v=x.useCallback(O=>{const{name:_,value:A}=O.target;j(E=>({...E,[_]:A}))},[]),N=async O=>{O.preventDefault(),n(!0),i(null);try{const _={...w,id:0,created_at:new Date().toISOString(),update_at:new Date().toISOString()};await t(_),l(!0),T()}catch(_){i(_.message||"Failed to save asset data. Please try again."),console.error("Submission error:",_)}finally{n(!1)}},T=x.useCallback(()=>{j(y),i(null)},[y]),S=x.useCallback(()=>{l(!1),e("/assets")},[e]);return x.useEffect(()=>{const O=()=>{m(window.innerWidth<768)};return window.addEventListener("resize",O),()=>window.removeEventListener("resize",O)},[]),a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Add New Asset",mainTitleHighlight:"Asset",description:"Add new asset to the system inventory.",icon:a.jsx(jn,{}),isMobile:h,toggleSidebar:g}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Add New Asset"}),a.jsx("p",{className:"text-gray-600 mt-1",children:"Fill in the details for the new asset"})]}),a.jsxs(C.button,{onClick:()=>e("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[s&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:s}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>i(null)})})]}),a.jsxs("form",{onSubmit:N,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(jn,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:w.name,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:w.category,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:w.location,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:w.purchase_date,onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:w.description,onChange:v,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(Nn,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:w.type||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:w.make||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:w.model||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:w.status||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(cn,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:w.last_maintenance||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:w.next_maintenance||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:w.work_orders||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:w.health||"",onChange:v,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:T,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(an,{className:"mr-2 h-5 w-5"})," Clear Form"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:r,children:r?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Saving..."]}):a.jsxs(a.Fragment,{children:[a.jsx(kr,{className:"mr-2 h-5 w-5"})," Save Asset"]})})]})]})]})]})]}),a.jsx(B7e,{isOpen:o,onClose:S,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Your asset has been added successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:S,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})},V7e=({isOpen:t,onClose:e,title:r,children:n})=>t?a.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center backdrop-brightness-50 bg-opacity-50 p-4",children:a.jsxs(C.div,{initial:{scale:.95,y:20},animate:{scale:1,y:0},exit:{scale:.95,y:20},className:"bg-white rounded-2xl shadow-2xl w-full max-w-lg mx-auto p-6 border border-blue-100",children:[a.jsxs("div",{className:"flex justify-between items-center border-b pb-3 mb-4 border-gray-100",children:[a.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:r}),a.jsx(C.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:e,className:"text-gray-500 hover:text-gray-700 text-2xl",children:a.jsx(at,{size:24})})]}),a.jsx("div",{children:n})]})}):null,q7e=()=>{const{editAsset:t,getAssetsData:e}=Nt(),r=jt(),{id:n}=ya(),[s,i]=x.useState(!1),[o,l]=x.useState(!0),[c,d]=x.useState(null),[h,m]=x.useState(!1),[g,y]=x.useState(()=>{const $=localStorage.getItem("sidebarOpen");return $?JSON.parse($):!1}),[w,j]=x.useState(window.innerWidth<768),v=()=>{localStorage.setItem("sidebarOpen",JSON.stringify(!g)),y($=>!$)},N={id:0,name:"",category:"",location:"",purchase_date:new Date().toISOString().split("T")[0],description:"",type:"",make:"",model:"",status:"",last_maintenance:"",next_maintenance:"",work_orders:"",health:"",created_at:new Date().toISOString(),update_at:new Date().toISOString()},[T,S]=x.useState(N),O=x.useCallback($=>{const{name:I,value:L}=$.target;S(R=>({...R,[I]:L}))},[]),_=x.useCallback(async()=>{if(n){l(!0);try{const I=(await e()).find(L=>String(L.id)===n);I?S({id:I.id,name:I.name,category:I.category,location:I.location,purchase_date:I.purchaseDate,description:I.description,type:I.type||"",make:I.make||"",model:I.model||"",status:I.status||"",last_maintenance:I.lastMaintenance||"",next_maintenance:I.nextMaintenance||"",work_orders:I.workOrders||"",health:I.health||"",created_at:I.createdAt,update_at:I.updateAt}):d("Asset not found")}catch($){d("Failed to load asset data: "+$.message)}finally{l(!1)}}},[n,e]),A=async $=>{$.preventDefault(),i(!0),d(null);try{const I={...T,update_at:new Date().toISOString()};await t(I),m(!0)}catch(I){d(I.message||"Failed to update asset data. Please try again."),console.error("Submission error:",I)}finally{i(!1)}},E=x.useCallback(()=>{_(),d(null)},[_]),P=x.useCallback(()=>{m(!1),r("/assets")},[r]);return x.useEffect(()=>{const $=()=>{j(window.innerWidth<768)};return window.addEventListener("resize",$),()=>window.removeEventListener("resize",$)},[]),x.useEffect(()=>{_()},[_]),o?a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information.",icon:a.jsx(jn,{}),isMobile:w,toggleSidebar:v}),a.jsx("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50 flex items-center justify-center",children:a.jsxs("div",{className:"flex flex-col items-center",children:[a.jsx(cr,{className:"animate-spin text-blue-600 mb-4",size:32}),a.jsx("p",{className:"text-gray-600",children:"Loading asset data..."})]})})]})]}):a.jsxs("div",{className:"flex h-screen font-sans antialiased bg-blue-50 text-gray-900",children:[a.jsx(vt,{}),a.jsxs("div",{className:"flex-1 flex flex-col overflow-hidden",children:[a.jsx(At,{mainTitle:"Edit Asset",mainTitleHighlight:"Asset",description:"Edit asset information in the system.",icon:a.jsx(jn,{}),isMobile:w,toggleSidebar:v}),a.jsxs("main",{className:"flex-1 overflow-y-auto p-4 md:p-6 custom-scrollbar bg-gray-50",children:[a.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.3},className:"mb-6 flex flex-col md:flex-row md:items-center md:justify-between space-y-4 md:space-y-0",children:[a.jsxs("div",{children:[a.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900",children:"Edit Asset"}),a.jsxs("p",{className:"text-gray-600 mt-1",children:["Update the details for asset: ",T.name]})]}),a.jsxs(C.button,{onClick:()=>r("/assets"),whileHover:{scale:1.05,boxShadow:"0 4px 6px rgba(0, 0, 0, 0.1)"},whileTap:{scale:.95},className:"flex items-center space-x-2 bg-white border border-gray-200 text-gray-800 px-5 py-2.5 rounded-lg transition-all duration-200 ease-in-out shadow-md",children:[a.jsx(jr,{className:"text-lg"})," Back to Assets"]})]}),a.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.1},className:"bg-white rounded-2xl shadow-md overflow-hidden p-4 md:p-6 border border-blue-50",children:[c&&a.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded relative mb-6",role:"alert",children:[a.jsx("strong",{className:"font-bold",children:"Error!"}),a.jsx("span",{className:"block sm:inline ml-2",children:c}),a.jsx("span",{className:"absolute top-0 bottom-0 right-0 px-4 py-3",children:a.jsx(at,{className:"fill-current h-6 w-6 text-red-500 cursor-pointer",onClick:()=>d(null)})})]}),a.jsxs("form",{onSubmit:A,className:"space-y-6",children:[a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(jn,{className:"mr-2 text-blue-500"})," Basic Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:["Asset Name ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"name",id:"name",value:T.name,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Machine A-01",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:["Category ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"category",id:"category",value:T.category,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Manufacturing Equipment",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"location",className:"block text-sm font-medium text-gray-700 mb-1",children:["Location ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"text",name:"location",id:"location",value:T.location,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Production Floor, Building B",required:!0})]}),a.jsxs("div",{children:[a.jsxs("label",{htmlFor:"purchase_date",className:"block text-sm font-medium text-gray-700 mb-1",children:["Purchase Date ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("input",{type:"date",name:"purchase_date",id:"purchase_date",value:T.purchase_date,onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",required:!0})]}),a.jsxs("div",{className:"md:col-span-2",children:[a.jsxs("label",{htmlFor:"description",className:"block text-sm font-medium text-gray-700 mb-1",children:["Description ",a.jsx("span",{className:"text-red-500",children:"*"})]}),a.jsx("textarea",{name:"description",id:"description",value:T.description,onChange:O,rows:3,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"Detailed description of the asset...",required:!0})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(jn,{className:"mr-2 text-green-500"})," Technical Specifications"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"type",className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Type"}),a.jsxs("select",{name:"type",id:"type",value:T.type||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Type"}),a.jsx("option",{value:"mechanical",children:"Mechanical"}),a.jsx("option",{value:"electrical",children:"Electrical"}),a.jsx("option",{value:"vehicle",children:"Vehicle"}),a.jsx("option",{value:"building",children:"Building"}),a.jsx("option",{value:"equipment",children:"Equipment"}),a.jsx("option",{value:"tool",children:"Tool"})]})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"make",className:"block text-sm font-medium text-gray-700 mb-1",children:"Make/Manufacturer"}),a.jsx("input",{type:"text",name:"make",id:"make",value:T.make||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., Siemens, Caterpillar"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"model",className:"block text-sm font-medium text-gray-700 mb-1",children:"Model"}),a.jsx("input",{type:"text",name:"model",id:"model",value:T.model||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., X500, 320D"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),a.jsxs("select",{name:"status",id:"status",value:T.status||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Status"}),a.jsx("option",{value:"running",children:"Running"}),a.jsx("option",{value:"maintenance",children:"Maintenance"}),a.jsx("option",{value:"breakdown",children:"Breakdown"}),a.jsx("option",{value:"idle",children:"Idle"}),a.jsx("option",{value:"retired",children:"Retired"})]})]})]})]}),a.jsxs("div",{className:"bg-white p-6 rounded-lg border border-gray-200 shadow-sm",children:[a.jsxs("h2",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[a.jsx(jn,{className:"mr-2 text-purple-500"})," Maintenance Information"]}),a.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[a.jsxs("div",{children:[a.jsx("label",{htmlFor:"last_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Last Maintenance Date"}),a.jsx("input",{type:"date",name:"last_maintenance",id:"last_maintenance",value:T.last_maintenance||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"next_maintenance",className:"block text-sm font-medium text-gray-700 mb-1",children:"Next Maintenance Date"}),a.jsx("input",{type:"date",name:"next_maintenance",id:"next_maintenance",value:T.next_maintenance||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"work_orders",className:"block text-sm font-medium text-gray-700 mb-1",children:"Work Orders"}),a.jsx("input",{type:"text",name:"work_orders",id:"work_orders",value:T.work_orders||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",placeholder:"e.g., WO-001, WO-002"})]}),a.jsxs("div",{children:[a.jsx("label",{htmlFor:"health",className:"block text-sm font-medium text-gray-700 mb-1",children:"Health Status"}),a.jsxs("select",{name:"health",id:"health",value:T.health||"",onChange:O,className:"w-full p-2.5 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 transition duration-150 bg-white text-gray-700",children:[a.jsx("option",{value:"",children:"Select Health Status"}),a.jsx("option",{value:"excellent",children:"Excellent"}),a.jsx("option",{value:"good",children:"Good"}),a.jsx("option",{value:"fair",children:"Fair"}),a.jsx("option",{value:"poor",children:"Poor"}),a.jsx("option",{value:"critical",children:"Critical"})]})]})]})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-4 pt-6 border-t border-gray-100 mt-8",children:[a.jsxs(C.button,{type:"button",onClick:E,whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-gray-300 rounded-lg shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",children:[a.jsx(an,{className:"mr-2 h-5 w-5"})," Reset Changes"]}),a.jsx(C.button,{type:"submit",whileHover:{scale:1.03},whileTap:{scale:.97},className:"px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200 flex items-center justify-center",disabled:s,children:s?a.jsxs(a.Fragment,{children:[a.jsx(cr,{className:"animate-spin mr-2 h-5 w-5"}),"Updating..."]}):a.jsxs(a.Fragment,{children:[a.jsx(bce,{className:"mr-2 h-5 w-5"})," Update Asset"]})})]})]})]})]})]}),a.jsx(V7e,{isOpen:h,onClose:P,title:"Success!",children:a.jsxs("div",{className:"flex flex-col items-center justify-center py-4",children:[a.jsx(Lt,{className:"text-green-500 text-6xl mb-4"}),a.jsx("p",{className:"text-lg font-medium text-gray-800 text-center",children:"Asset has been updated successfully!"}),a.jsx(C.button,{whileHover:{scale:1.03},whileTap:{scale:.97},onClick:P,className:"mt-6 px-6 py-3 border border-transparent rounded-lg shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors duration-200",children:"Go to Assets"})]})})]})};function W7e(){return a.jsx(a.Fragment,{children:a.jsxs(Ote,{children:[a.jsx(ut,{path:"/login",element:a.jsx(kre,{})}),a.jsx(ut,{path:"/forgot-password",element:a.jsx(Yce,{})}),a.jsx(ut,{path:"/privacy-policy",element:a.jsx(Kce,{})}),a.jsx(ut,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(Tz,{})}),a.jsx(ut,{path:"/monitoringmaintenance/detailmonitoringmaintenanceD",element:a.jsx(O7e,{})}),a.jsxs(ut,{element:a.jsx(Ga,{}),children:[a.jsx(ut,{index:!0,element:a.jsx(MR,{})})," ",a.jsx(ut,{path:"/dashboard",element:a.jsx(MR,{})})]}),a.jsx(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:a.jsx(ut,{path:"/audittrail",element:a.jsx(eLe,{})})}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/workflowapproval",element:a.jsx(tLe,{})}),a.jsx(ut,{path:"/workflowapproval/monitoringapproval",element:a.jsx(rLe,{})}),a.jsx(ut,{path:"/workflowapproval/monitoringapproval/configureapproval/:id",element:a.jsx(E7e,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/worklocation",element:a.jsx(mNe,{})}),a.jsx(ut,{path:"/worklocation/department",element:a.jsx(pLe,{})}),a.jsx(ut,{path:"/worklocation/department/adddepartment",element:a.jsx(xLe,{})}),a.jsx(ut,{path:"/worklocation/department/editdepartment/:id",element:a.jsx(bLe,{})}),a.jsx(ut,{path:"/worklocation/workunit",element:a.jsx(t7e,{})}),a.jsx(ut,{path:"/worklocation/workunit/addworkunit",element:a.jsx(JLe,{})}),a.jsx(ut,{path:"/worklocation/workunit/editworkunit/:id",element:a.jsx(ZLe,{})}),a.jsx(ut,{path:"/worklocation/workgroup",element:a.jsx(Rz,{})}),a.jsx(ut,{path:"/worklocation/workgroup/addworkgroup",element:a.jsx(Dz,{})}),a.jsx(ut,{path:"/worklocation/workgroup/editworkgroup/:id",element:a.jsx(Ez,{})}),a.jsx(ut,{path:"/worklocation/workarea",element:a.jsx(H7e,{})}),a.jsx(ut,{path:"/worklocation/workarea/addworkarea",element:a.jsx(L7e,{})}),a.jsx(ut,{path:"/worklocation/workarea/editworkarea/:id",element:a.jsx(R7e,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/workarrangement",element:a.jsx(pNe,{})}),a.jsx(ut,{path:"/workarrangement/workshift",element:a.jsx(u7e,{})}),a.jsx(ut,{path:"/workarrangement/workshift/addworkshift",element:a.jsx(l7e,{})}),a.jsx(ut,{path:"/workarrangement/workshift/editworkshift/:id",element:a.jsx(i7e,{})}),a.jsx(ut,{path:"/workarrangement/workgroup",element:a.jsx(Rz,{})}),a.jsx(ut,{path:"/workarrangement/workgroup/addworkgroup",element:a.jsx(Dz,{})}),a.jsx(ut,{path:"/workarrangement/workgroup/editworkgroup/:id",element:a.jsx(Ez,{})})]}),a.jsx(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:a.jsx(ut,{path:"/sparepart",element:a.jsx(gNe,{})})}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/assets",element:a.jsx(xNe,{})}),a.jsx(ut,{path:"/assets/assetsdata",element:a.jsx(eue,{})}),a.jsx(ut,{path:"/assets/assetsdata/addasset",element:a.jsx(z7e,{})}),a.jsx(ut,{path:"/assets/assetsdata/editasset/:id",element:a.jsx(q7e,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/vendors",element:a.jsx(j7e,{})}),a.jsx(ut,{path:"/vendors/addvendor",element:a.jsx(N7e,{})}),a.jsx(ut,{path:"/vendors/editvendor/:id",element:a.jsx(C7e,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/services",element:a.jsx(yNe,{})}),a.jsx(ut,{path:"/services/servicegroups",element:a.jsx(nLe,{})}),a.jsx(ut,{path:"/services/servicegroups/addservicegroup",element:a.jsx(oLe,{})}),a.jsx(ut,{path:"/services/servicegroups/editservicegroup/:id",element:a.jsx(cLe,{})}),a.jsx(ut,{path:"/services/servicecatalogues",element:a.jsx(sLe,{})}),a.jsx(ut,{path:"/services/servicecatalogues/addservicecatalogue",element:a.jsx(hLe,{})}),a.jsx(ut,{path:"/services/servicecatalogues/editservicecatalogue/:id",element:a.jsx(dLe,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/maintenanceactivity",element:a.jsx(bNe,{})}),a.jsx(ut,{path:"/maintenanceactivity/stoptimes",element:a.jsx(wLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/stoptimes/addstoptime",element:a.jsx(SLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/stoptimes/editstoptime/:id",element:a.jsx(kLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/activitytypes",element:a.jsx(TLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/activitytypes/addactivitytype",element:a.jsx(Tz,{})}),a.jsx(ut,{path:"/maintenanceactivity/activitytypes/editactivitytype/:id",element:a.jsx(ALe,{})}),a.jsx(ut,{path:"/maintenanceactivity/activity",element:a.jsx(ULe,{})}),a.jsx(ut,{path:"/maintenanceactivity/activity/addactivity",element:a.jsx(qLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/activity/editactivity/:id",element:a.jsx(zLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/troubleitem",element:a.jsx(YLe,{})}),a.jsx(ut,{path:"/maintenanceactivity/troubleitem/addtroubleitem",element:a.jsx(Az,{})}),a.jsx(ut,{path:"/maintenanceactivity/troubleitem/edittroubleitem/:id",element:a.jsx(Az,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_machinehistory"]}),children:[a.jsx(ut,{path:"/machinehistory",element:a.jsx(lpe,{})}),a.jsx(ut,{path:"/machinehistory/reports",element:a.jsx(QIe,{})}),a.jsx(ut,{path:"/machinehistory/addmachinehistory",element:a.jsx(KSe,{})}),a.jsx(ut,{path:"/machinehistory/edit/:id",element:a.jsx(JSe,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_assets"]}),children:[a.jsx(ut,{path:"/monitoringmaintenance",element:a.jsx($z,{})}),a.jsx(ut,{path:"/monitoringmaintenance/detailmonitoringmaintenance/:id",element:a.jsx(M7e,{})}),a.jsx(ut,{path:"/monitoringmaintenance/formmonitoringmaintenance",element:a.jsx(f7e,{})}),a.jsx(ut,{path:"/monitoringmaintenance",element:a.jsx($z,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_workorders"]}),children:[a.jsx(ut,{path:"/workorders",element:a.jsx(hNe,{})}),a.jsx(ut,{path:"/workorders/it",element:a.jsx(DLe,{})}),a.jsx(ut,{path:"/workorders/it/addworkorder",element:a.jsx(fNe,{})}),a.jsx(ut,{path:"/workorders/it/editworkorder/:id",element:a.jsx(RLe,{})}),a.jsx(ut,{path:"/workorders/it/receiver",element:a.jsx(sNe,{})}),a.jsx(ut,{path:"/workorders/it/receiver/editreceiver/:id",element:a.jsx(LLe,{})}),a.jsx(ut,{path:"/workorders/it/assignment",element:a.jsx($Le,{})}),a.jsx(ut,{path:"/workorders/it/assignment/editassignment/:id",element:a.jsx(HLe,{})}),a.jsx(ut,{path:"/workorders/it/reports",element:a.jsx(m7e,{})}),a.jsx(ut,{path:"/workorders/it/knowledgebase",element:a.jsx(oNe,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_settings"]}),children:[a.jsx(ut,{path:"/settings",element:a.jsx(tue,{})}),a.jsx(ut,{path:"/settings/change-password",element:a.jsx(ZSe,{})})]}),a.jsxs(ut,{element:a.jsx(Ga,{requiredPermissions:["view_permissions"]}),children:[a.jsx(ut,{path:"/permissions",element:a.jsx(QSe,{})}),a.jsx(ut,{path:"/permissions/adduser",element:a.jsx(rNe,{})})]}),a.jsx(ut,{path:"/logout",element:a.jsx(Jce,{})}),a.jsx(ut,{path:"*",element:a.jsx(D7e,{})})]})})}const U7e=$ee.createRoot(document.getElementById("root"));U7e.render(a.jsx(X.StrictMode,{children:a.jsx(ere,{children:a.jsx(dre,{children:a.jsx(W7e,{})})})}));
